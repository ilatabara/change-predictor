id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron~master~Ic5e95405d4dd8ffbe8ec5b053aed257aec91b1c8,openstack/neutron,master,Ic5e95405d4dd8ffbe8ec5b053aed257aec91b1c8,Remove duplicated ICMPv6 RA rule from iptables firewall,MERGED,2017-09-13 19:02:04.000000000,2017-09-16 03:05:56.000000000,2017-09-15 20:36:32.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 7018}, {'_account_id': 7249}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 24791}]","[{'number': 1, 'created': '2017-09-13 19:02:04.000000000', 'files': ['neutron/agent/firewall.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0dcf3d20c2e5c2592e9674e7277acce4eff98341', 'message': ""Remove duplicated ICMPv6 RA rule from iptables firewall\n\nChange Ibfbf011284cbde396f74db9d982993f994082731 moves\ngeneration of ICMPv6 RA rule from being hardcoded\nin iptables_firewall to being generated on server\nside and passed to agent.\n\nUnfortunatelly it wasn't removed from iptables_firewall\nand it was still added to rules which should be applied\nby firewall driver.\nThat caused issue with warning message about duplicated rule.\ndetected\n\nThis patch removes this hardcoded rule to stop logging messages\nabout duplicated rules.\n\nChange-Id: Ic5e95405d4dd8ffbe8ec5b053aed257aec91b1c8\nCloses-Bug: #1708465\n""}]",0,503779,0dcf3d20c2e5c2592e9674e7277acce4eff98341,15,18,1,11975,,,0,"Remove duplicated ICMPv6 RA rule from iptables firewall

Change Ibfbf011284cbde396f74db9d982993f994082731 moves
generation of ICMPv6 RA rule from being hardcoded
in iptables_firewall to being generated on server
side and passed to agent.

Unfortunatelly it wasn't removed from iptables_firewall
and it was still added to rules which should be applied
by firewall driver.
That caused issue with warning message about duplicated rule.
detected

This patch removes this hardcoded rule to stop logging messages
about duplicated rules.

Change-Id: Ic5e95405d4dd8ffbe8ec5b053aed257aec91b1c8
Closes-Bug: #1708465
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/503779/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/firewall.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py']",2,0dcf3d20c2e5c2592e9674e7277acce4eff98341,bug/1708465,"-I %(bn)s-i_port1 2 -p ipv6-icmp -m icmp6 --icmpv6-type 135 -j RETURN -I %(bn)s-i_port1 3 -p ipv6-icmp -m icmp6 --icmpv6-type 136 -j RETURN -I %(bn)s-i_port1 4 -m state --state RELATED,ESTABLISHED -j RETURN -I %(bn)s-i_port1 5 -m state --state INVALID -j DROP -I %(bn)s-i_port1 6 -j %(bn)s-sg-fallback-I %(bn)s-i_%(port1)s 2 -p ipv6-icmp -m icmp6 --icmpv6-type 135 -j RETURN -I %(bn)s-i_%(port1)s 3 -p ipv6-icmp -m icmp6 --icmpv6-type 136 -j RETURN -I %(bn)s-i_%(port1)s 4 -m state --state RELATED,ESTABLISHED -j RETURN -I %(bn)s-i_%(port1)s 5 -m state --state INVALID -j DROP -I %(bn)s-i_%(port1)s 6 -j %(bn)s-sg-fallback-I %(bn)s-i_%(port2)s 2 -p ipv6-icmp -m icmp6 --icmpv6-type 135 -j RETURN -I %(bn)s-i_%(port2)s 3 -p ipv6-icmp -m icmp6 --icmpv6-type 136 -j RETURN -I %(bn)s-i_%(port2)s 4 -m state --state RELATED,ESTABLISHED -j RETURN -I %(bn)s-i_%(port2)s 5 -m state --state INVALID -j DROP -I %(bn)s-i_%(port2)s 6 -j %(bn)s-sg-fallback","-I %(bn)s-i_port1 2 -p ipv6-icmp -m icmp6 --icmpv6-type 134 -j RETURN -I %(bn)s-i_port1 3 -p ipv6-icmp -m icmp6 --icmpv6-type 135 -j RETURN -I %(bn)s-i_port1 4 -p ipv6-icmp -m icmp6 --icmpv6-type 136 -j RETURN -I %(bn)s-i_port1 5 -m state --state RELATED,ESTABLISHED -j RETURN -I %(bn)s-i_port1 6 -m state --state INVALID -j DROP -I %(bn)s-i_port1 7 -j %(bn)s-sg-fallback-I %(bn)s-i_%(port1)s 2 -p ipv6-icmp -m icmp6 --icmpv6-type 134 -j RETURN -I %(bn)s-i_%(port1)s 3 -p ipv6-icmp -m icmp6 --icmpv6-type 135 -j RETURN -I %(bn)s-i_%(port1)s 4 -p ipv6-icmp -m icmp6 --icmpv6-type 136 -j RETURN -I %(bn)s-i_%(port1)s 5 -m state --state RELATED,ESTABLISHED -j RETURN -I %(bn)s-i_%(port1)s 6 -m state --state INVALID -j DROP -I %(bn)s-i_%(port1)s 7 -j %(bn)s-sg-fallback-I %(bn)s-i_%(port2)s 2 -p ipv6-icmp -m icmp6 --icmpv6-type 134 -j RETURN -I %(bn)s-i_%(port2)s 3 -p ipv6-icmp -m icmp6 --icmpv6-type 135 -j RETURN -I %(bn)s-i_%(port2)s 4 -p ipv6-icmp -m icmp6 --icmpv6-type 136 -j RETURN -I %(bn)s-i_%(port2)s 5 -m state --state RELATED,ESTABLISHED -j RETURN -I %(bn)s-i_%(port2)s 6 -m state --state INVALID -j DROP -I %(bn)s-i_%(port2)s 7 -j %(bn)s-sg-fallback",15,19
openstack%2Fpython-novaclient~master~Id9c727b4eb47f2d61d026a4b229b670ad05a7c2c,openstack/python-novaclient,master,Id9c727b4eb47f2d61d026a4b229b670ad05a7c2c,Remove TENANT_ID from flavor-access-list which is unnecessary,ABANDONED,2017-09-15 07:30:23.000000000,2017-09-15 23:30:12.000000000,,"[{'_account_id': 3}, {'_account_id': 679}]","[{'number': 1, 'created': '2017-09-15 07:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4f37e1bd3e9124cbf78dc6f412093c5023c18039', 'message': ""Remove TENANT_ID from flavor-access-list which is unnecessary\n\ntenant_id parameter is removed from 'nova flavor-access-list'\ncommand in version 5.0.0. However, there is still tenant parameter\non 'flavor-access-list' side unnecessarily\n\nChange-Id: Id9c727b4eb47f2d61d026a4b229b670ad05a7c2c\n""}, {'number': 2, 'created': '2017-09-15 14:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a2f0bc32309c25f290888b82c2aaecd193f3420e', 'message': ""Remove TENANT_ID from flavor-access-list which is unnecessary\n\ntenant_id parameter is removed from 'nova flavor-access-list'\ncommand in version 5.0.0. However, there is still tenant parameter\non 'flavor-access-list' side unnecessarily\n\nChange-Id: Id9c727b4eb47f2d61d026a4b229b670ad05a7c2c\n""}]",0,504356,a2f0bc32309c25f290888b82c2aaecd193f3420e,6,2,2,24188,,,0,"Remove TENANT_ID from flavor-access-list which is unnecessary

tenant_id parameter is removed from 'nova flavor-access-list'
command in version 5.0.0. However, there is still tenant parameter
on 'flavor-access-list' side unnecessarily

Change-Id: Id9c727b4eb47f2d61d026a4b229b670ad05a7c2c
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/56/504356/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/v2/shell.py'],1,4f37e1bd3e9124cbf78dc6f412093c5023c18039,, columns = ['Flavor_ID']," columns = ['Flavor_ID', 'Tenant_ID']",1,1
openstack%2Fironic~master~I062934f70d84ee50d90a0ec189487a0f2ecb29bc,openstack/ironic,master,I062934f70d84ee50d90a0ec189487a0f2ecb29bc,Updated from global requirements,MERGED,2017-09-12 21:49:34.000000000,2017-09-15 23:22:23.000000000,2017-09-14 09:25:26.000000000,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-09-12 21:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54b01aedc0b33d4eb520655002dff76b456cae6b', 'message': 'Updated from global requirements\n\nChange-Id: I062934f70d84ee50d90a0ec189487a0f2ecb29bc\n'}, {'number': 2, 'created': '2017-09-13 00:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34076888d2d897a2fb5c5df7d818b0f7e2619187', 'message': 'Updated from global requirements\n\nChange-Id: I062934f70d84ee50d90a0ec189487a0f2ecb29bc\n'}, {'number': 3, 'created': '2017-09-13 12:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0c81391e7bc1af6702728e7d06b5e26f8fcb9b84', 'message': 'Updated from global requirements\n\nChange-Id: I062934f70d84ee50d90a0ec189487a0f2ecb29bc\n'}, {'number': 4, 'created': '2017-09-13 23:57:47.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/80161f1751c2a864ea9e62d3e06f93add2089aff', 'message': 'Updated from global requirements\n\nChange-Id: I062934f70d84ee50d90a0ec189487a0f2ecb29bc\n'}]",0,503274,80161f1751c2a864ea9e62d3e06f93add2089aff,37,11,4,11131,,,0,"Updated from global requirements

Change-Id: I062934f70d84ee50d90a0ec189487a0f2ecb29bc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/503274/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,54b01aedc0b33d4eb520655002dff76b456cae6b,openstack/requirements,oslo.middleware>=3.31.0 # Apache-2.0,oslo.middleware>=3.30.0 # Apache-2.0,1,1
openstack%2Fmanila~stable%2Fpike~I6000856c22dbc47a1349d061927a47405ba0d66c,openstack/manila,stable/pike,I6000856c22dbc47a1349d061927a47405ba0d66c,doc migration: update the doc link address,ABANDONED,2017-08-28 14:11:06.000000000,2017-09-15 23:21:51.000000000,,"[{'_account_id': 3}, {'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 18752}, {'_account_id': 25388}]","[{'number': 1, 'created': '2017-08-28 14:11:06.000000000', 'files': ['doc/source/admin/shared-file-systems-network-plugins.rst', 'api-ref/source/share-networks.inc', 'doc/source/admin/shared-file-systems-scheduling.rst', 'doc/source/contributor/driver_requirements.rst', 'api-ref/source/share-types.inc', 'doc/source/admin/shared-file-systems-crud-share.rst', 'doc/source/admin/shared-file-systems-share-types.rst', 'doc/source/contributor/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/a1a203d7b04e8b93a1d9a141917be0c5580ae46e', 'message': 'doc migration: update the doc link address\n\nUpdate the doc link brought by the doc migration.\n\nChange-Id: I6000856c22dbc47a1349d061927a47405ba0d66c\n'}]",0,498475,a1a203d7b04e8b93a1d9a141917be0c5580ae46e,11,8,1,25456,,,0,"doc migration: update the doc link address

Update the doc link brought by the doc migration.

Change-Id: I6000856c22dbc47a1349d061927a47405ba0d66c
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/498475/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/shared-file-systems-network-plugins.rst', 'api-ref/source/share-networks.inc', 'doc/source/admin/shared-file-systems-scheduling.rst', 'doc/source/contributor/driver_requirements.rst', 'api-ref/source/share-types.inc', 'doc/source/admin/shared-file-systems-crud-share.rst', 'doc/source/admin/shared-file-systems-share-types.rst', 'doc/source/contributor/development.environment.rst']",8,a1a203d7b04e8b93a1d9a141917be0c5580ae46e,doc-migration,.. _Setting up a development environment with devstack: https://docs.openstack.org/manila/latest/contributor/development-environment-devstack.html.. _GerritWorkflow: https://docs.openstack.org/infra/manual/developers.html#development-workflow,.. _Setting up a development environment with devstack: https://docs.openstack.org/manila/latest/devref/development-environment-devstack.html.. _GerritWorkflow: http://docs.openstack.org/infra/manual/developers.html#development-workflow,18,16
openstack%2Fpython-openstackclient~master~I860981f06e31abda3141a0cb4fd13a0d49080b50,openstack/python-openstackclient,master,I860981f06e31abda3141a0cb4fd13a0d49080b50,Updates for stestr,MERGED,2017-09-14 21:56:02.000000000,2017-09-15 23:13:49.000000000,2017-09-15 23:13:49.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-09-14 21:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/787379f62a0a76fedb4b76982797cdcd6852f802', 'message': 'Updates for stestr\n\nChange-Id: I5672934efa81e3948e2145e4b6777f929a4c882d\n\nChange-Id: I860981f06e31abda3141a0cb4fd13a0d49080b50\n'}, {'number': 2, 'created': '2017-09-15 06:33:21.000000000', 'files': ['.gitignore', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7274e8efe620b076bfeb8f69e9a94a44b064cfb0', 'message': 'Updates for stestr\n\nChange-Id: I860981f06e31abda3141a0cb4fd13a0d49080b50\n'}]",1,504255,7274e8efe620b076bfeb8f69e9a94a44b064cfb0,13,3,2,970,,,0,"Updates for stestr

Change-Id: I860981f06e31abda3141a0cb4fd13a0d49080b50
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/55/504255/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini', '.stestr.conf']",3,787379f62a0a76fedb4b76982797cdcd6852f802,update-to-stestr,[DEFAULT] test_path=${OS_TEST_PATH:-./openstackclient/tests/unit} top_dir=./ group_regex=([^\.]+\.)+ ,,8,0
openstack%2Ftempest~master~I32978d65a54f44c8d86e37422f2e0b52a383dde7,openstack/tempest,master,I32978d65a54f44c8d86e37422f2e0b52a383dde7,Add README.tempest.conf doc in etc directory,ABANDONED,2017-09-15 08:44:47.000000000,2017-09-15 23:02:41.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 10385}, {'_account_id': 25456}]","[{'number': 1, 'created': '2017-09-15 08:44:47.000000000', 'files': ['etc/README.tempest.conf', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/678d0d268d85c669bf89cb5201ae3c2ada641fd2', 'message': 'Add README.tempest.conf doc in etc directory\n\nCurrently, the tempest.conf can be generated by tox, So add the\nREADME.tempest.conf for user to generate reference conf file.\n\nChange-Id: I32978d65a54f44c8d86e37422f2e0b52a383dde7\n'}]",0,504376,678d0d268d85c669bf89cb5201ae3c2ada641fd2,6,4,1,25456,,,0,"Add README.tempest.conf doc in etc directory

Currently, the tempest.conf can be generated by tox, So add the
README.tempest.conf for user to generate reference conf file.

Change-Id: I32978d65a54f44c8d86e37422f2e0b52a383dde7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/76/504376/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/README.tempest.conf', 'tox.ini']",2,678d0d268d85c669bf89cb5201ae3c2ada641fd2,add-doc,commands = oslo-config-generator --config-file tempest/cmd/config-generator.tempest.conf \ --output-file etc/tempest.conf.sample,commands = oslo-config-generator --config-file tempest/cmd/config-generator.tempest.conf,8,1
openstack%2Fproject-config~master~I8f06b6e9f5d4ef0f0b1c7836cede34ff35b0793c,openstack/project-config,master,I8f06b6e9f5d4ef0f0b1c7836cede34ff35b0793c,Use case sensitive gerrit labels,MERGED,2017-09-15 21:30:00.000000000,2017-09-15 22:54:55.000000000,2017-09-15 22:54:55.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-09-15 21:30:00.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1f4da9accdedf98e68305a41afe3ce8f0498d3d3', 'message': 'Use case sensitive gerrit labels\n\nIn prep of the Gerrit 2.13 upgrade we need to use label names that match\nexactly the label name in Gerrit as Gerrit is now case sensitive. So go\nahead and upper case some letters.\n\nChange-Id: I8f06b6e9f5d4ef0f0b1c7836cede34ff35b0793c\n'}]",0,504529,1f4da9accdedf98e68305a41afe3ce8f0498d3d3,9,5,1,4146,,,0,"Use case sensitive gerrit labels

In prep of the Gerrit 2.13 upgrade we need to use label names that match
exactly the label name in Gerrit as Gerrit is now case sensitive. So go
ahead and upper case some letters.

Change-Id: I8f06b6e9f5d4ef0f0b1c7836cede34ff35b0793c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/504529/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,1f4da9accdedf98e68305a41afe3ce8f0498d3d3,case-sensitive-zuul," - Verified: [-1, -2] - Workflow: 1 Verified: 1 Verified: -1 - Verified: [1, 2] - Workflow: 1 - Workflow: 1 - Verified: 1 Verified: 0 Verified: 2 Verified: -2 - Verified: [1, 2] Verified: -1"," - verified: [-1, -2] - workflow: 1 verified: 1 verified: -1 - verified: [1, 2] - workflow: 1 - workflow: 1 - verified: 1 verified: 0 verified: 2 verified: -2 - verified: [1, 2] verified: -1",13,13
openstack%2Fnova~stable%2Fpike~I07db4755c69d493e591761578d1077bb44acda41,openstack/nova,stable/pike,I07db4755c69d493e591761578d1077bb44acda41,doc: fix show-hide sample in notification devref,MERGED,2017-09-01 15:21:12.000000000,2017-09-15 22:25:02.000000000,2017-09-15 22:25:02.000000000,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 12898}, {'_account_id': 14070}]","[{'number': 1, 'created': '2017-09-01 15:21:12.000000000', 'files': ['doc/ext/versioned_notifications.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c01ca5444ae8008dd2f9a58ac23a602de14d84dc', 'message': ""doc: fix show-hide sample in notification devref\n\nThe new doc template includes jquery too late and therefore showing\nand hindig notification samples and auto hiding them by default doesn't\nwork.\n\nThis patch loads the jquery lib earlier for the notification devref.\n\nCloses-Bug: #1713974\nCloses-Bug: #1714363\nChange-Id: I07db4755c69d493e591761578d1077bb44acda41\n(cherry picked from commit 0499b280514dfd8592fe5564763ce7de62e9c96f)\n""}]",1,500100,c01ca5444ae8008dd2f9a58ac23a602de14d84dc,15,7,1,6873,,,0,"doc: fix show-hide sample in notification devref

The new doc template includes jquery too late and therefore showing
and hindig notification samples and auto hiding them by default doesn't
work.

This patch loads the jquery lib earlier for the notification devref.

Closes-Bug: #1713974
Closes-Bug: #1714363
Change-Id: I07db4755c69d493e591761578d1077bb44acda41
(cherry picked from commit 0499b280514dfd8592fe5564763ce7de62e9c96f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/500100/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/versioned_notifications.py'],1,c01ca5444ae8008dd2f9a58ac23a602de14d84dc,bug/1713974,"<!-- jQuery --> <script type=""text/javascript"" src=""../_static/js/jquery-3.2.1.min.js""> </script> ",,4,0
openstack%2Fnova~stable%2Fpike~I386df03f406dd0f1847a0d091e070df7786f616e,openstack/nova,stable/pike,I386df03f406dd0f1847a0d091e070df7786f616e,Skip test_rebuild_server_in_error_state for cells v1,MERGED,2017-08-22 18:42:17.000000000,2017-09-15 22:24:40.000000000,2017-09-15 22:24:40.000000000,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14070}]","[{'number': 1, 'created': '2017-08-22 18:42:17.000000000', 'files': ['devstack/tempest-dsvm-cells-rc'], 'web_link': 'https://opendev.org/openstack/nova/commit/99ab4384887e1ae5b3e0a05caebf946e72952558', 'message': ""Skip test_rebuild_server_in_error_state for cells v1\n\nThis test randomly fails due to a timeout in cells v1\njobs and is a latent issue. Since cells v1 is deprecated\nand we aren't fixing latent bugs, let's just skip this.\n\nChange-Id: I386df03f406dd0f1847a0d091e070df7786f616e\nRelated-Bug: #1709985\n(cherry picked from commit 9e2a0163d36fd0c2152b39a714e028752d70677b)\n""}]",0,496358,99ab4384887e1ae5b3e0a05caebf946e72952558,20,6,1,6873,,,0,"Skip test_rebuild_server_in_error_state for cells v1

This test randomly fails due to a timeout in cells v1
jobs and is a latent issue. Since cells v1 is deprecated
and we aren't fixing latent bugs, let's just skip this.

Change-Id: I386df03f406dd0f1847a0d091e070df7786f616e
Related-Bug: #1709985
(cherry picked from commit 9e2a0163d36fd0c2152b39a714e028752d70677b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/496358/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tempest-dsvm-cells-rc'],1,99ab4384887e1ae5b3e0a05caebf946e72952558,bug/1709985,"# Bug 1709985: rebuild randomly times out, probably due to sync issues # tempest.api.compute.admin.test_servers.ServersAdminTestJSON.test_rebuild_server_in_error_state r=""$r|(?:.*id\-682cb127\-e5bb\-4f53\-87ce\-cb9003604442.*)""",,3,0
openstack%2Fnova~stable%2Fpike~I6b1d719db0537b0f53768dbb00a5b4d01c85ba3a,openstack/nova,stable/pike,I6b1d719db0537b0f53768dbb00a5b4d01c85ba3a,conf: Allow users to unset 'keymap' options,MERGED,2017-08-28 16:01:13.000000000,2017-09-15 22:24:20.000000000,2017-09-15 22:24:20.000000000,"[{'_account_id': 3}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14070}]","[{'number': 1, 'created': '2017-08-28 16:01:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/unsettable-keymap-settings-fa831c02e4158507.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ccfb46420d6ee186d6ec777ce6167bd138f2a285', 'message': 'conf: Allow users to unset \'keymap\' options\n\nDefining the \'keymap\' option in libvirt results in the \'-k\' option being\npassed through to QEMU [1][2]. This QEMU option has some uses, primarily\nfor users interacting with QEMU via stdin on the text console. However,\nfor users interacting with QEMU via VNC or Spice, like nova users do, it\nis strongly recommended to never add the ""-k"" option. Doing so will\nforce QEMU to do keymap conversions which are known to be lossy. This\ndisproportionately affects users with non-US keyboard layouts, who would\nbe better served by relying on the guest OS to manage this.\n\nIn the long term, we would like to deprecate these options. However, we\nmust do this in three parts. This part allows users to unset the options\nand warns users who have them set about the side effects. This change is\nintended to be backported. A future change will fully deprecate the\noptions. Finally, after the deprecation cycle has passed, we can remove\nthese options in their entirety.\n\n[1] https://github.com/libvirt/libvirt/blob/v1.2.9-maint/src/qemu/qemu_command.c#L6985-L6986\n[2] https://github.com/libvirt/libvirt/blob/v1.2.9-maint/src/qemu/qemu_command.c#L7215-L7216\n\nChange-Id: I6b1d719db0537b0f53768dbb00a5b4d01c85ba3a\nRelated-Bug: #1682020\n(cherry picked from commit d983234288728427235ef2c1f355ec135119b865)\n'}]",0,498509,ccfb46420d6ee186d6ec777ce6167bd138f2a285,17,6,1,15334,,,0,"conf: Allow users to unset 'keymap' options

Defining the 'keymap' option in libvirt results in the '-k' option being
passed through to QEMU [1][2]. This QEMU option has some uses, primarily
for users interacting with QEMU via stdin on the text console. However,
for users interacting with QEMU via VNC or Spice, like nova users do, it
is strongly recommended to never add the ""-k"" option. Doing so will
force QEMU to do keymap conversions which are known to be lossy. This
disproportionately affects users with non-US keyboard layouts, who would
be better served by relying on the guest OS to manage this.

In the long term, we would like to deprecate these options. However, we
must do this in three parts. This part allows users to unset the options
and warns users who have them set about the side effects. This change is
intended to be backported. A future change will fully deprecate the
options. Finally, after the deprecation cycle has passed, we can remove
these options in their entirety.

[1] https://github.com/libvirt/libvirt/blob/v1.2.9-maint/src/qemu/qemu_command.c#L6985-L6986
[2] https://github.com/libvirt/libvirt/blob/v1.2.9-maint/src/qemu/qemu_command.c#L7215-L7216

Change-Id: I6b1d719db0537b0f53768dbb00a5b4d01c85ba3a
Related-Bug: #1682020
(cherry picked from commit d983234288728427235ef2c1f355ec135119b865)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/498509/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/unsettable-keymap-settings-fa831c02e4158507.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,ccfb46420d6ee186d6ec777ce6167bd138f2a285,bug/1682020," self.flags(enabled=True, vncserver_listen='10.0.0.1', keymap='en-ie', group='vnc') self.assertEqual(cfg.devices[4].type, 'vnc') self.assertEqual(cfg.devices[4].keymap, 'en-ie') self.assertEqual(cfg.devices[4].listen, '10.0.0.1') server_listen='10.0.0.1', keymap='en-ie', self.assertEqual(cfg.devices[4].type, 'tablet') self.assertEqual(cfg.devices[5].type, 'spice') self.assertEqual(cfg.devices[5].keymap, 'en-ie') self.assertEqual(cfg.devices[5].listen, '10.0.0.1') def _test_get_guest_config_with_graphics(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) cfg = drvr._get_guest_config(instance_ref, [], image_meta, disk_info) return cfg.devices def test_get_guest_config_with_vnc_no_keymap(self): self.flags(virt_type='kvm', group='libvirt') self.flags(enabled=True, keymap=None, group='vnc') self.flags(enabled=False, group='spice') devices = self._test_get_guest_config_with_graphics() for device in devices: if device.root_name == 'graphics': self.assertIsInstance(device, vconfig.LibvirtConfigGuestGraphics) self.assertEqual('vnc', device.type) self.assertIsNone(device.keymap) def test_get_guest_config_with_spice_no_keymap(self): self.flags(virt_type='kvm', group='libvirt') self.flags(enabled=True, keymap=None, group='spice') self.flags(enabled=False, group='vnc') devices = self._test_get_guest_config_with_graphics() for device in devices: if device.root_name == 'graphics': self.assertIsInstance(device, vconfig.LibvirtConfigGuestGraphics) self.assertEqual('spice', device.type) self.assertIsNone(device.keymap) "," self.flags(enabled=True, group='vnc') self.assertEqual(cfg.devices[4].type, ""vnc"") self.assertEqual(cfg.devices[4].type, ""tablet"") self.assertEqual(cfg.devices[5].type, ""spice"")",65,6
openstack%2Fshade~master~I74682c6b2a287f54acef91686e7281f45cbe9684,openstack/shade,master,I74682c6b2a287f54acef91686e7281f45cbe9684,Add support for network quota details command,MERGED,2017-09-14 18:02:52.000000000,2017-09-15 22:23:15.000000000,2017-09-15 22:23:15.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-14 18:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/2a13ccf113c30a05f4574b06efd30551b5210b39', 'message': 'Add support for network quota details command\n\nNeutron recently introduced API call to get details\nabout current usage of quota by given project.\nThis patch adds support for this command in Shade.\n\nChange-Id: I74682c6b2a287f54acef91686e7281f45cbe9684\n'}, {'number': 2, 'created': '2017-09-14 19:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/11ae1f5b5cfdd6fd30f225026042b7389b694eb5', 'message': 'Add support for network quota details command\n\nNeutron recently introduced API call to get details\nabout current usage of quota by given project.\nThis patch adds support for this command in Shade.\n\nChange-Id: I74682c6b2a287f54acef91686e7281f45cbe9684\n'}, {'number': 3, 'created': '2017-09-14 19:32:38.000000000', 'files': ['shade/operatorcloud.py', 'shade/tests/unit/test_quotas.py', 'shade/tests/functional/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/482b313b10149bfcb67f5c059da17f08426f7a7a', 'message': 'Add support for network quota details command\n\nNeutron recently introduced API call to get details\nabout current usage of quota by given project.\nThis patch adds support for this command in Shade.\n\nRelated-Bug: #1716043\nChange-Id: I74682c6b2a287f54acef91686e7281f45cbe9684\n'}]",0,504155,482b313b10149bfcb67f5c059da17f08426f7a7a,12,3,3,11975,,,0,"Add support for network quota details command

Neutron recently introduced API call to get details
about current usage of quota by given project.
This patch adds support for this command in Shade.

Related-Bug: #1716043
Change-Id: I74682c6b2a287f54acef91686e7281f45cbe9684
",git fetch https://review.opendev.org/openstack/shade refs/changes/55/504155/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/operatorcloud.py', 'shade/tests/unit/test_quotas.py', 'shade/tests/functional/test_quotas.py']",3,2a13ccf113c30a05f4574b06efd30551b5210b39,network-quota-details," def test_get_quotas_details(self): expected_keys = ['limit', 'used', 'reserved'] '''Test getting details about quota usage''' quota_details = self.operator_cloud.get_network_quotas('demo') for resource, values in quota_details: for expected_key in expected_keys: self.assertTrue(expected_key in values.keys())",,70,2
openstack%2Fnova~stable%2Fpike~I1811dfa59865c0a878522007e0070f0fde8344f0,openstack/nova,stable/pike,I1811dfa59865c0a878522007e0070f0fde8344f0,Add release note for force live migration allocations,MERGED,2017-09-06 21:55:52.000000000,2017-09-15 22:21:51.000000000,2017-09-15 22:21:51.000000000,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14070}]","[{'number': 1, 'created': '2017-09-06 21:55:52.000000000', 'files': ['releasenotes/notes/bug-1712008-4ab2538211b8c3d9.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7d220b3dd7f9a52773604eab8160503b05f586b3', 'message': 'Add release note for force live migration allocations\n\nWhen forcing a destination host during live migration, conductor\nbypasses the scheduler, performs some pre-migration checks and then\ncasts to the specified destination compute host directly.\n\nWith change I40b5af5e85b1266402a7e4bdeb3705e1b0bd6f3b we are still\nbypassing the scheduler but conductor will attempt to allocate\nresources against the specified destination host, which could fail\nand result in the live migration failing even though the force flag\nwas specified in the API.\n\nThis change simply adds a release note for the new behavior which\nwas missing from the original fix.\n\nChange-Id: I1811dfa59865c0a878522007e0070f0fde8344f0\nRelated-Bug: #1712008\n(cherry picked from commit 02a82c41f90a64f261d81cdc0bc57471d15a7c8e)\n'}]",0,501477,7d220b3dd7f9a52773604eab8160503b05f586b3,13,5,1,6873,,,0,"Add release note for force live migration allocations

When forcing a destination host during live migration, conductor
bypasses the scheduler, performs some pre-migration checks and then
casts to the specified destination compute host directly.

With change I40b5af5e85b1266402a7e4bdeb3705e1b0bd6f3b we are still
bypassing the scheduler but conductor will attempt to allocate
resources against the specified destination host, which could fail
and result in the live migration failing even though the force flag
was specified in the API.

This change simply adds a release note for the new behavior which
was missing from the original fix.

Change-Id: I1811dfa59865c0a878522007e0070f0fde8344f0
Related-Bug: #1712008
(cherry picked from commit 02a82c41f90a64f261d81cdc0bc57471d15a7c8e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/501477/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1712008-4ab2538211b8c3d9.yaml'],1,7d220b3dd7f9a52773604eab8160503b05f586b3,bug/1712008,"--- upgrade: - | The ``nova-conductor`` service now needs access to the Placement service in the case of forcing a destination host during a live migration. Ensure the ``[placement]`` section of nova.conf for the ``nova-conductor`` service is filled in. fixes: - | When forcing a specified destination host during live migration, the scheduler is bypassed but resource allocations will still be made in the Placement service against the forced destination host. If the resource allocation against the destination host fails, the live migration operation will fail, regardless of the ``force`` flag being specified in the API. The guest will be unchanged on the source host. For more details, see `bug 1712008`_. .. _bug 1712008: https://bugs.launchpad.net/nova/+bug/1712008 ",,18,0
openstack%2Fneutron~master~I82cf40f5c11f8c20dcf7437f42d9fa526ccc5947,openstack/neutron,master,I82cf40f5c11f8c20dcf7437f42d9fa526ccc5947,Switch to tempest.common.utils.is_extension_enabled,MERGED,2017-09-14 03:48:29.000000000,2017-09-15 22:21:36.000000000,2017-09-15 22:21:36.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7715}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-14 03:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/814e3ce444a66d2e17401a141a5cc5ef4da4a3bb', 'message': 'Switch to tempest.common.utils.is_extension_enabled\n\nThe tempest.test.is_extension_enabled() has moved to\ntempest.common.utils.is_extension_enabled() in Pike.\n\nChange-Id: I82cf40f5c11f8c20dcf7437f42d9fa526ccc5947\n'}, {'number': 2, 'created': '2017-09-14 15:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e30e3bbe2d0c15a04d070026be7fd9be572b58d0', 'message': 'Switch to tempest.common.utils.is_extension_enabled\n\nThe tempest.test.is_extension_enabled() has moved to\ntempest.common.utils.is_extension_enabled() in Pike.\n\nChange-Id: I82cf40f5c11f8c20dcf7437f42d9fa526ccc5947\n'}, {'number': 3, 'created': '2017-09-14 18:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6a61da5052029072421f4bd7681d47a27cd8447', 'message': 'Switch to tempest.common.utils.is_extension_enabled\n\nThe tempest.test.is_extension_enabled() has moved to\ntempest.common.utils.is_extension_enabled() in Pike.\n\nChange-Id: I82cf40f5c11f8c20dcf7437f42d9fa526ccc5947\n'}, {'number': 4, 'created': '2017-09-15 03:11:59.000000000', 'files': ['neutron/tests/tempest/api/test_extensions.py', 'neutron/tests/tempest/api/test_networks.py', 'neutron/tests/tempest/api/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b01d5aeacf7dbb8f919d9c9f22fddb473301ea10', 'message': 'Switch to tempest.common.utils.is_extension_enabled\n\nThe tempest.test.is_extension_enabled() has moved to\ntempest.common.utils.is_extension_enabled() in Pike.\n\nChange-Id: I82cf40f5c11f8c20dcf7437f42d9fa526ccc5947\n'}]",2,503927,b01d5aeacf7dbb8f919d9c9f22fddb473301ea10,25,8,4,7715,,,0,"Switch to tempest.common.utils.is_extension_enabled

The tempest.test.is_extension_enabled() has moved to
tempest.common.utils.is_extension_enabled() in Pike.

Change-Id: I82cf40f5c11f8c20dcf7437f42d9fa526ccc5947
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/503927/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/test_extensions.py', 'neutron/tests/tempest/api/test_networks.py', 'neutron/tests/tempest/api/base.py']",3,814e3ce444a66d2e17401a141a5cc5ef4da4a3bb,is_extension_enabled,"from tempest.common import utils if not utils.is_extension_enabled(req_ext, 'network'): if not utils.is_extension_enabled(""sorting"", ""network""): if not utils.is_extension_enabled(""pagination"", ""network""):"," if not test.is_extension_enabled(req_ext, 'network'): if not test.is_extension_enabled(""sorting"", ""network""): if not test.is_extension_enabled(""pagination"", ""network""):",8,8
openstack%2Fnova~stable%2Fpike~I8849ae0f54605e003d5b294ca3d66dcef89d7d27,openstack/nova,stable/pike,I8849ae0f54605e003d5b294ca3d66dcef89d7d27,Call terminate_connection when shelve_offloading,MERGED,2017-09-14 22:39:01.000000000,2017-09-15 22:21:17.000000000,2017-09-15 22:21:17.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}]","[{'number': 1, 'created': '2017-09-14 22:39:01.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8365eb6cb987c834b1f35c04be13aa97db36a4a1', 'message': 'Call terminate_connection when shelve_offloading\n\nWhen nova performs a shelve offload for an instance, it needs to terminate\nall the volume connections for that instance as with the shelve offload\nit is not guaranteed that the instance will be placed on the same host once\nit gets unshelved.\nThis change adds the call to the terminate_volume_connections on the\n_shelve_offload_instance method in the compute manager.\n\nCloses-Bug: #1547142\n\nChange-Id: I8849ae0f54605e003d5b294ca3d66dcef89d7d27\n(cherry picked from commit e89e1bdc60211622440c964f8be8563da89341ac)\n'}]",0,504270,8365eb6cb987c834b1f35c04be13aa97db36a4a1,13,4,1,6873,,,0,"Call terminate_connection when shelve_offloading

When nova performs a shelve offload for an instance, it needs to terminate
all the volume connections for that instance as with the shelve offload
it is not guaranteed that the instance will be placed on the same host once
it gets unshelved.
This change adds the call to the terminate_volume_connections on the
_shelve_offload_instance method in the compute manager.

Closes-Bug: #1547142

Change-Id: I8849ae0f54605e003d5b294ca3d66dcef89d7d27
(cherry picked from commit e89e1bdc60211622440c964f8be8563da89341ac)
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/504270/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py']",2,8365eb6cb987c834b1f35c04be13aa97db36a4a1,bug/1547142," bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) instance, bdms=bdms) # the instance is going to be removed from the host so we want to # terminate all the connections with the volume server and the host self._terminate_volume_connections(context, instance, bdms) ", instance),20,3
openstack%2Fnova~stable%2Fpike~If92f4b1df061f91ffffa7900532a978649efb933,openstack/nova,stable/pike,If92f4b1df061f91ffffa7900532a978649efb933,Move hash ring initialization to init_host() for ironic,MERGED,2017-09-08 14:58:53.000000000,2017-09-15 22:20:50.000000000,2017-09-15 22:20:50.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-08 14:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38e3e5f0a389a84c8c18c8c36cb254a161dd9446', 'message': ""Move hash ring initialization to init_host() for ironic\n\nThe hash ring initialization code requires calling to conductor over\nRPC. Nova's service startup initializes the manager and the virt\ndriver, then goes into a polling loop waiting for a conductor to\nrespond to make sure it is ready. Finally, it calls init_host()\nonce things are expected to be working. That is where we should\ndo our initialization that requires conductor to be up.\n\nThis patch moves the initial refresh into the Ironic driver's\ninit_host() routine.\n\nChange-Id: If92f4b1df061f91ffffa7900532a978649efb933\nCloses-Bug: #1713095\n(cherry picked from commit 361287debf7c2cd5751517cedda8c960c5b5eb66)\n""}, {'number': 2, 'created': '2017-09-13 21:12:01.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e53115da7fc10381c6f9cedcd909461e3c13c4ea', 'message': ""Move hash ring initialization to init_host() for ironic\n\nThe hash ring initialization code requires calling to conductor over\nRPC. Nova's service startup initializes the manager and the virt\ndriver, then goes into a polling loop waiting for a conductor to\nrespond to make sure it is ready. Finally, it calls init_host()\nonce things are expected to be working. That is where we should\ndo our initialization that requires conductor to be up.\n\nThis patch moves the initial refresh into the Ironic driver's\ninit_host() routine.\n\nChange-Id: If92f4b1df061f91ffffa7900532a978649efb933\nCloses-Bug: #1713095\n(cherry picked from commit 361287debf7c2cd5751517cedda8c960c5b5eb66)\n""}]",0,502082,e53115da7fc10381c6f9cedcd909461e3c13c4ea,18,9,2,10135,,,0,"Move hash ring initialization to init_host() for ironic

The hash ring initialization code requires calling to conductor over
RPC. Nova's service startup initializes the manager and the virt
driver, then goes into a polling loop waiting for a conductor to
respond to make sure it is ready. Finally, it calls init_host()
once things are expected to be working. That is where we should
do our initialization that requires conductor to be up.

This patch moves the initial refresh into the Ironic driver's
init_host() routine.

Change-Id: If92f4b1df061f91ffffa7900532a978649efb933
Closes-Bug: #1713095
(cherry picked from commit 361287debf7c2cd5751517cedda8c960c5b5eb66)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/502082/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,38e3e5f0a389a84c8c18c8c36cb254a161dd9446,bug/1713095, d = ironic_driver.IronicDriver(None) self.assertFalse(mock_hr.called) d.init_host('foo') self.driver.init_host('foo'), ironic_driver.IronicDriver(None),5,3
openstack%2Fnova~stable%2Fpike~I865f76705f10493152af50b9842c6fedc563fea4,openstack/nova,stable/pike,I865f76705f10493152af50b9842c6fedc563fea4,Provide hints when nova-manage db sync fails to sync cell0,MERGED,2017-09-07 13:49:32.000000000,2017-09-15 22:19:42.000000000,2017-09-15 22:19:41.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 25747}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-07 13:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/224a3c29d76f5dca6cba74aa73627894547bac39', 'message': 'Provide hints when nova-manage db sync fails to sync cell0\n\nLots of people get tripped up on the error message when\nsyncing cell0 fails and the question asked is confusing and\npossibly misleading, so this change includes several questions\nfor troubleshooting and also dumps the actual error message.\n\nRelated-Bug: #1706118\n\nChange-Id: I865f76705f10493152af50b9842c6fedc563fea4\n(cherry picked from commit 05f3d9d39b7b95fac343ba431855482a5d96584a)\n'}, {'number': 2, 'created': '2017-09-09 21:43:31.000000000', 'files': ['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/423c7bbdb99e14fd49681dd58edd348060f25005', 'message': 'Provide hints when nova-manage db sync fails to sync cell0\n\nLots of people get tripped up on the error message when\nsyncing cell0 fails and the question asked is confusing and\npossibly misleading, so this change includes several questions\nfor troubleshooting and also dumps the actual error message.\n\nRelated-Bug: #1706118\n\nChange-Id: I865f76705f10493152af50b9842c6fedc563fea4\n(cherry picked from commit 05f3d9d39b7b95fac343ba431855482a5d96584a)\n'}]",0,501745,423c7bbdb99e14fd49681dd58edd348060f25005,28,16,2,6873,,,0,"Provide hints when nova-manage db sync fails to sync cell0

Lots of people get tripped up on the error message when
syncing cell0 fails and the question asked is confusing and
possibly misleading, so this change includes several questions
for troubleshooting and also dumps the actual error message.

Related-Bug: #1706118

Change-Id: I865f76705f10493152af50b9842c6fedc563fea4
(cherry picked from commit 05f3d9d39b7b95fac343ba431855482a5d96584a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/501745/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",2,224a3c29d76f5dca6cba74aa73627894547bac39,bug/1706118," except Exception as e: print(_(""""""ERROR: Could not access cell0. Has the nova_api database been created? Has the nova_cell0 database been created? Has ""nova-manage api_db sync"" been run? Has ""nova-manage cell_v2 map_cell0"" been run? Is [api_database]/connection set in nova.conf? Is the cell0 database connection URL correct? Error: %s"""""") % six.text_type(e))", except Exception: print(_('ERROR: could not access cell mapping database - has' ' api db been created?')),30,3
openstack%2Ftempest~master~I6945ed815580982ea68a76ad677a282c096295b2,openstack/tempest,master,I6945ed815580982ea68a76ad677a282c096295b2,Remove unused _add_router_interface_with_subnet_id helper,MERGED,2017-09-12 02:49:02.000000000,2017-09-15 22:19:31.000000000,2017-09-15 22:19:31.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 19262}, {'_account_id': 20190}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-09-12 02:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4213c41b975a178ff8173552600d4bdeec9af0e1', 'message': 'Remove unused _add_router_interface_with_subnet_id helper\n\n_add_router_interface_with_subnet_id is not unused in\nRoutersAdminTest, so this is to remove it.\n\nChange-Id: I6945ed815580982ea68a76ad677a282c096295b2\n'}, {'number': 2, 'created': '2017-09-13 01:38:27.000000000', 'files': ['tempest/api/network/admin/test_routers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c527df57be9d27b2023aaf468165e9efb5b6f25c', 'message': 'Remove unused _add_router_interface_with_subnet_id helper\n\n_add_router_interface_with_subnet_id is not unused in\nRoutersAdminTest, so this is to remove it.\n\nChange-Id: I6945ed815580982ea68a76ad677a282c096295b2\n'}]",2,502882,c527df57be9d27b2023aaf468165e9efb5b6f25c,15,7,2,20190,,,0,"Remove unused _add_router_interface_with_subnet_id helper

_add_router_interface_with_subnet_id is not unused in
RoutersAdminTest, so this is to remove it.

Change-Id: I6945ed815580982ea68a76ad677a282c096295b2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/502882/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/admin/test_routers.py'],1,4213c41b975a178ff8173552600d4bdeec9af0e1,remove_helper,," def _add_router_interface_with_subnet_id(self, router_id, subnet_id): interface = self.routers_client.add_router_interface( router_id, subnet_id=subnet_id) self.addCleanup(self._remove_router_interface_with_subnet_id, router_id, subnet_id) self.assertEqual(subnet_id, interface['subnet_id']) return interface ",0,8
openstack%2Fnova~stable%2Fpike~I41e5e1fa9938b5e04f7e20f78ccd77eca658885f,openstack/nova,stable/pike,I41e5e1fa9938b5e04f7e20f78ccd77eca658885f,Cleanup allocations on invalid dest node during live migration,MERGED,2017-09-05 16:03:19.000000000,2017-09-15 22:19:13.000000000,2017-09-15 22:19:12.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-09-05 16:03:19.000000000', 'files': ['nova/scheduler/client/report.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1462d2608bd0c3ee9cd8686b145bb1d84ffab3b', 'message': 'Cleanup allocations on invalid dest node during live migration\n\nStarting in Pike, the scheduler creates an allocation on a\nchosen destination node during live migration. This happens\nbefore the destination node pre-checks occur, which could\nfail and trigger a retry to the scheduler. The allocations\ncreated in Placement against the failed destination node\nwere not being cleaned up though.\n\nThis change adds some cleanup code to the live migration task\nin conductor to clean the allocations for the failed destination\nnode before retrying.\n\nThe functional recreate test for the bug is updated to show\nthat the bug is fixed now.\n\nAlso updates the docstring in the SchedulerReportClient\nremove_provider_from_instance_allocation method so that we\nno longer have to enumerate all of the places that call it.\n\nChange-Id: I41e5e1fa9938b5e04f7e20f78ccd77eca658885f\nCloses-Bug: #1712411\n(cherry picked from commit 94b904abbad1c9655b6dec1a2e58d73bc913ed47)\n'}]",0,500908,a1462d2608bd0c3ee9cd8686b145bb1d84ffab3b,14,6,1,6873,,,0,"Cleanup allocations on invalid dest node during live migration

Starting in Pike, the scheduler creates an allocation on a
chosen destination node during live migration. This happens
before the destination node pre-checks occur, which could
fail and trigger a retry to the scheduler. The allocations
created in Placement against the failed destination node
were not being cleaned up though.

This change adds some cleanup code to the live migration task
in conductor to clean the allocations for the failed destination
node before retrying.

The functional recreate test for the bug is updated to show
that the bug is fixed now.

Also updates the docstring in the SchedulerReportClient
remove_provider_from_instance_allocation method so that we
no longer have to enumerate all of the places that call it.

Change-Id: I41e5e1fa9938b5e04f7e20f78ccd77eca658885f
Closes-Bug: #1712411
(cherry picked from commit 94b904abbad1c9655b6dec1a2e58d73bc913ed47)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/500908/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/client/report.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",4,a1462d2608bd0c3ee9cd8686b145bb1d84ffab3b,bug/1712411," [{'host': 'host1', 'nodename': 'node1'}]) with mock.patch.object(self.task, '_remove_host_allocations') as remove_allocs: self.assertEqual(""host2"", self.task._find_destination()) # Should have removed allocations for the first host. remove_allocs.assert_called_once_with('host1', 'node1') [{'host': 'host1', 'nodename': 'node1'}]) with mock.patch.object(self.task, '_remove_host_allocations') as remove_allocs: self.assertEqual(""host2"", self.task._find_destination()) # Should have removed allocations for the first host. remove_allocs.assert_called_once_with('host1', 'node1') [{'host': 'host1', 'nodename': 'node1'}]) with mock.patch.object(self.task, '_remove_host_allocations') as remove_allocs: self.assertEqual(""host2"", self.task._find_destination()) # Should have removed allocations for the first host. remove_allocs.assert_called_once_with('host1', 'node1') [{'host': 'host1', 'nodename': 'node1'}]) with test.nested( mock.patch.object(self.task.migration, 'save'), mock.patch.object(self.task, '_remove_host_allocations') ) as ( save_mock, remove_allocs ): # Should have removed allocations for the first host. remove_allocs.assert_called_once_with('host1', 'node1') @mock.patch.object(objects.ComputeNode, 'get_by_host_and_nodename', side_effect=exception.ComputeHostNotFound(host='host')) def test_remove_host_allocations_compute_host_not_found(self, get_cn): """"""Tests that failing to find a ComputeNode will not blow up the _remove_host_allocations method. """""" with mock.patch.object( self.task.scheduler_client.reportclient, 'remove_provider_from_instance_allocation') as remove_provider: self.task._remove_host_allocations('host', 'node') remove_provider.assert_not_called()"," [{'host': 'host1'}]) self.assertEqual(""host2"", self.task._find_destination()) [{'host': 'host1'}]) self.assertEqual(""host2"", self.task._find_destination()) [{'host': 'host1'}]) self.assertEqual(""host2"", self.task._find_destination()) [{'host': 'host1'}]) with mock.patch.object(self.task.migration, 'save') as save_mock:",89,31
openstack%2Fnova~stable%2Fpike~Ieee45521c7e362b7dd053b20d3c39dea330ca080,openstack/nova,stable/pike,Ieee45521c7e362b7dd053b20d3c39dea330ca080,Add functional recreate test for live migration pre-check fails,MERGED,2017-09-05 16:03:19.000000000,2017-09-15 22:14:51.000000000,2017-09-15 22:14:51.000000000,"[{'_account_id': 3}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-09-05 16:03:19.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fd59e9adc62bec4502e764ff380a318d27a58b57', 'message': 'Add functional recreate test for live migration pre-check fails\n\nThis adds a functional test to recreate bug 1712411 where\nthe allocations created against the destination node are not\ncleaned up by conductor when a MigrationPreCheckError happens\nand a rechedule to another host happens (or max retries are\nexceeded which is the case here with only two computes).\n\nChange-Id: Ieee45521c7e362b7dd053b20d3c39dea330ca080\nRelatd-Bug: #1712411\n(cherry picked from commit 0b05655ef8b62bcb21345e778baeed3114c11571)\n'}]",0,500907,fd59e9adc62bec4502e764ff380a318d27a58b57,13,6,1,6873,,,0,"Add functional recreate test for live migration pre-check fails

This adds a functional test to recreate bug 1712411 where
the allocations created against the destination node are not
cleaned up by conductor when a MigrationPreCheckError happens
and a rechedule to another host happens (or max retries are
exceeded which is the case here with only two computes).

Change-Id: Ieee45521c7e362b7dd053b20d3c39dea330ca080
Relatd-Bug: #1712411
(cherry picked from commit 0b05655ef8b62bcb21345e778baeed3114c11571)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/500907/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,fd59e9adc62bec4502e764ff380a318d27a58b57,bug/1712411," def _wait_for_migration_status(self, server, expected_status): """"""Waits for a migration record with the given status to be found for the given server, else the test fails. The migration record, if found, is returned. """""" for attempt in range(10): migrations = self.api.api_get('/os-migrations').body['migrations'] for migration in migrations: if (migration['instance_uuid'] == server['id'] and migration['status'].lower() == expected_status.lower()): return migration time.sleep(0.5) self.fail('Timed out waiting for migration with status ""%s"" for ' 'instance: %s' % (expected_status, server['id'])) def test_live_migrate_pre_check_fails(self): """"""Tests the case that the LiveMigrationTask in conductor has called the scheduler which picked a host and created allocations against it in Placement, but then when the conductor task calls check_can_live_migrate_destination on the destination compute it fails. The allocations on the destination compute node should be cleaned up before the conductor task asks the scheduler for another host to try the live migration. """""" self.failed_hostname = None source_hostname = self.compute1.host dest_hostname = self.compute2.host source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations( self.flavor1, source_hostname) def fake_check_can_live_migrate_destination( context, instance, src_compute_info, dst_compute_info, block_migration=False, disk_over_commit=False): self.failed_hostname = dst_compute_info['host'] raise exception.MigrationPreCheckError( reason='test_live_migrate_pre_check_fails') with mock.patch('nova.virt.fake.FakeDriver.' 'check_can_live_migrate_destination', side_effect=fake_check_can_live_migrate_destination): post = { 'os-migrateLive': { 'host': dest_hostname, 'block_migration': True, } } self.api.post_server_action(server['id'], post) # As there are only two computes and we failed to live migrate to # the only other destination host, the LiveMigrationTask raises # MaxRetriesExceeded back to the conductor manager which handles it # generically and sets the instance back to ACTIVE status and # clears the task_state. The migration record status is set to # 'error', so that's what we need to look for to know when this # is done. migration = self._wait_for_migration_status(server, 'error') # The source_compute should be set on the migration record, but the # destination shouldn't be as we never made it to one. self.assertEqual(source_hostname, migration['source_compute']) self.assertIsNone(migration['dest_compute']) # Make sure the destination host (the only other host) is the failed # host. self.assertEqual(dest_hostname, self.failed_hostname) source_usages = self._get_provider_usages(source_rp_uuid) # Since the instance didn't move, assert the allocations are still # on the source node. self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) # FIXME(mriedem): This is bug 1712411 where the allocations, created # by the scheduler, via conductor, are not cleaned up on the migration # pre-check error. Uncomment the following code when this is fixed. self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) # # Assert the allocations, created by the scheduler, are cleaned up # # after the migration pre-check error happens. # self.assertFlavorMatchesAllocation( # {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # FIXME(mriedem): After bug 1712411 is fixed there should only be 1 # allocation for the instance, on the source node. self.assertEqual(2, len(allocations)) self.assertIn(source_rp_uuid, allocations) self.assertIn(dest_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) self._delete_and_check_allocations( server, source_rp_uuid, dest_rp_uuid) ",,95,0
openstack%2Fnova~stable%2Fpike~I4fd61a6ac09f194ad8be61e6dda092bfd402b806,openstack/nova,stable/pike,I4fd61a6ac09f194ad8be61e6dda092bfd402b806,Hyper-V: Perform proper cleanup after cold migration,MERGED,2017-09-06 13:15:36.000000000,2017-09-15 22:14:31.000000000,2017-09-15 22:14:31.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-09-06 13:15:36.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/virt/hyperv/migrationops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cd82d551a95b2fb7ae69c8234a4f9a250e015ac7', 'message': 'Hyper-V: Perform proper cleanup after cold migration\n\nAt the moment, vif ports and volume connections are not cleaned up\non the source node after a cold migration.\n\nThis change addresses this issue by passing the network and block\ndevice info objects when destroying the instance.\n\nChange-Id: I4fd61a6ac09f194ad8be61e6dda092bfd402b806\nCloses-Bug: #1705683\n(cherry picked from commit 20196b74dea4a1af4ea643a45fdb96b03f8ea96d)\n'}]",0,501254,cd82d551a95b2fb7ae69c8234a4f9a250e015ac7,13,6,1,6873,,,0,"Hyper-V: Perform proper cleanup after cold migration

At the moment, vif ports and volume connections are not cleaned up
on the source node after a cold migration.

This change addresses this issue by passing the network and block
device info objects when destroying the instance.

Change-Id: I4fd61a6ac09f194ad8be61e6dda092bfd402b806
Closes-Bug: #1705683
(cherry picked from commit 20196b74dea4a1af4ea643a45fdb96b03f8ea96d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/501254/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/virt/hyperv/migrationops.py']",2,cd82d551a95b2fb7ae69c8234a4f9a250e015ac7,bug/1705683," self._vmops.destroy(instance, network_info, block_device_info, destroy_disks=False)"," self._vmops.destroy(instance, destroy_disks=False)",5,3
openstack%2Fmanila~master~Ibbdae2ba60f3d706eba59d8af13cf7ee9acfae23,openstack/manila,master,Ibbdae2ba60f3d706eba59d8af13cf7ee9acfae23,Removes use of timeutils.set_time_override,MERGED,2017-09-15 03:30:20.000000000,2017-09-15 22:14:05.000000000,2017-09-15 17:01:34.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15831}, {'_account_id': 15942}, {'_account_id': 17565}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-09-15 03:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ac8cbdddb42b4fca6373b2f16d470f147d4a0bb6', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nChange-Id: Ibbdae2ba60f3d706eba59d8af13cf7ee9acfae23\nCloses-Bug:#126692\n""}, {'number': 2, 'created': '2017-09-15 15:32:44.000000000', 'files': ['manila/tests/message/test_api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/902a66e53d29101a23c541c8b1090a33b8d89fb0', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nChange-Id: Ibbdae2ba60f3d706eba59d8af13cf7ee9acfae23\nCloses-Bug:#1266962\n""}]",1,504320,902a66e53d29101a23c541c8b1090a33b8d89fb0,28,10,2,26617,,,0,"Removes use of timeutils.set_time_override

The set_time_override function in timeutils was written as a
helper function to mock utcnow for unittests before 'mock' was
generally used. Now that we have mock and fixture, we no longer
need to use it.

Change-Id: Ibbdae2ba60f3d706eba59d8af13cf7ee9acfae23
Closes-Bug:#1266962
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/504320/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/message/test_api.py'],1,ac8cbdddb42b4fca6373b2f16d470f147d4a0bb6,1266962," @mock.patch.object(timeutils, 'utcnow') def test_create(self, mock_utcnow): now = datetime.datetime.utcnow() mock_utcnow.return_value = now expected_expires_at = now + datetime.timedelta(", def test_create(self): timeutils.set_time_override() self.addCleanup(timeutils.clear_time_override) expected_expires_at = timeutils.utcnow() + datetime.timedelta(,5,4
openstack%2Fnova~master~I8849ae0f54605e003d5b294ca3d66dcef89d7d27,openstack/nova,master,I8849ae0f54605e003d5b294ca3d66dcef89d7d27,Call terminate_connection when shelve_offloading,MERGED,2015-12-14 10:54:04.000000000,2017-09-15 22:13:54.000000000,2017-09-14 22:33:24.000000000,"[{'_account_id': 3}, {'_account_id': 1865}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7173}, {'_account_id': 7461}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20354}]","[{'number': 1, 'created': '2015-12-14 10:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b15f9a3e4a604907e1442e6a8719ade7039783a', 'message': 'Call terminate_connection when shelve_offloading\n\nWhen nova performs a shelve offload for an instance needs to terminate\nall the volume connections for that instance as with the shelve offload\nis not guarantee that the instance will be placed on the same host once\nit gets unshelved.\nThis change add the call to the terminate_volume_connections on the\nshelve_offload_instance method in the compute manager.\n\nChange-Id: I8849ae0f54605e003d5b294ca3d66dcef89d7d27\n'}, {'number': 2, 'created': '2015-12-15 09:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a10cdc78763d34ce2b200e8b8ba5022b8cc55bfa', 'message': 'Call terminate_connection when shelve_offloading\n\nWhen nova performs a shelve offload for an instance needs to terminate\nall the volume connections for that instance as with the shelve offload\nis not guarantee that the instance will be placed on the same host once\nit gets unshelved.\nThis change add the call to the terminate_volume_connections on the\nshelve_offload_instance method in the compute manager.\n\nPartially implements blueprint: volume-ops-when-shelved\n\nChange-Id: I8849ae0f54605e003d5b294ca3d66dcef89d7d27\n'}, {'number': 3, 'created': '2016-03-04 09:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6835af49e9d6bdfafbac9a25a6c92d6fdb415ca5', 'message': 'Call terminate_connection when shelve_offloading\n\nWhen nova performs a shelve offload for an instance, it needs to terminate\nall the volume connections for that instance as with the shelve offload\nit is not guaranteed that the instance will be placed on the same host once\nit gets unshelved.\nThis change adds the call to the terminate_volume_connections on the\nshelve_offload_instance method in the compute manager.\n\nPartially implements blueprint: volume-ops-when-shelved\nCloses-bug: 1547142\n\nChange-Id: I8849ae0f54605e003d5b294ca3d66dcef89d7d27\n'}, {'number': 4, 'created': '2017-09-14 17:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cb90126df75239c00ae304db31477489f9ba4de', 'message': 'Call terminate_connection when shelve_offloading\n\nWhen nova performs a shelve offload for an instance, it needs to terminate\nall the volume connections for that instance as with the shelve offload\nit is not guaranteed that the instance will be placed on the same host once\nit gets unshelved.\nThis change adds the call to the terminate_volume_connections on the\n_shelve_offload_instance method in the compute manager.\n\nCloses-Bug: #1547142\n\nChange-Id: I8849ae0f54605e003d5b294ca3d66dcef89d7d27\n'}, {'number': 5, 'created': '2017-09-14 17:58:13.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e89e1bdc60211622440c964f8be8563da89341ac', 'message': 'Call terminate_connection when shelve_offloading\n\nWhen nova performs a shelve offload for an instance, it needs to terminate\nall the volume connections for that instance as with the shelve offload\nit is not guaranteed that the instance will be placed on the same host once\nit gets unshelved.\nThis change adds the call to the terminate_volume_connections on the\n_shelve_offload_instance method in the compute manager.\n\nCloses-Bug: #1547142\n\nChange-Id: I8849ae0f54605e003d5b294ca3d66dcef89d7d27\n'}]",12,257275,e89e1bdc60211622440c964f8be8563da89341ac,98,24,5,1865,,,0,"Call terminate_connection when shelve_offloading

When nova performs a shelve offload for an instance, it needs to terminate
all the volume connections for that instance as with the shelve offload
it is not guaranteed that the instance will be placed on the same host once
it gets unshelved.
This change adds the call to the terminate_volume_connections on the
_shelve_offload_instance method in the compute manager.

Closes-Bug: #1547142

Change-Id: I8849ae0f54605e003d5b294ca3d66dcef89d7d27
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/257275/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py']",2,6b15f9a3e4a604907e1442e6a8719ade7039783a,bug/1547142," bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) instance, bdms=bdms) # the instance is going to be removed from the host so we want to # terminate all the connections with the volume server and the host self._terminate_volume_connections(context, instance, bdms) ", instance),23,3
openstack%2Fhorizon~master~Ic8abc970e76cb67c79c2335370c63e235a23eb5a,openstack/horizon,master,Ic8abc970e76cb67c79c2335370c63e235a23eb5a,Fix link to serial console stylesheet,MERGED,2017-08-31 17:14:55.000000000,2017-09-15 22:00:03.000000000,2017-09-15 22:00:03.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 14151}, {'_account_id': 16628}]","[{'number': 1, 'created': '2017-08-31 17:14:55.000000000', 'files': ['openstack_dashboard/templates/serial_console.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7c9758dcdccc5670174b2deeb91bd20932e4d8e1', 'message': 'Fix link to serial console stylesheet\n\nThe serial_console.css stylesheet was renamed to serial_console.scss in\ncommit 09706c6e3754c218b00dcaf210629aa6970dc80a, but the link\nreferencing it in the serial console template was not updated. As a\nresult the serial console is displayed with a proportional font.\n\nThis commit updates the stylesheet link and adds a compress block to\ncompile it from SCSS to CSS.\n\nChange-Id: Ic8abc970e76cb67c79c2335370c63e235a23eb5a\nCloses-Bug: #1714311\n'}]",0,499738,7c9758dcdccc5670174b2deeb91bd20932e4d8e1,9,5,1,15197,,,0,"Fix link to serial console stylesheet

The serial_console.css stylesheet was renamed to serial_console.scss in
commit 09706c6e3754c218b00dcaf210629aa6970dc80a, but the link
referencing it in the serial console template was not updated. As a
result the serial console is displayed with a proportional font.

This commit updates the stylesheet link and adds a compress block to
compile it from SCSS to CSS.

Change-Id: Ic8abc970e76cb67c79c2335370c63e235a23eb5a
Closes-Bug: #1714311
",git fetch https://review.opendev.org/openstack/horizon refs/changes/38/499738/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/templates/serial_console.html'],1,7c9758dcdccc5670174b2deeb91bd20932e4d8e1,bug/1714311," {% load compress %} {% compress css %} <link rel=""stylesheet"" href=""{{ STATIC_URL }}dashboard/scss/serial_console.scss"" type=""text/scss"" media=""screen"" /> {% endcompress %}"," <link rel=""stylesheet"" href=""{{ STATIC_URL }}dashboard/scss/serial_console.css"" type=""text/css"" media=""screen"">",4,1
openstack%2Fswift~master~I686ad069d05c215e3ba515ca683636f61ee789b4,openstack/swift,master,I686ad069d05c215e3ba515ca683636f61ee789b4,WIP: Fix location header to be relative in 'leave_relative_location' environment,ABANDONED,2017-09-15 18:16:43.000000000,2017-09-15 21:53:15.000000000,,"[{'_account_id': 13052}, {'_account_id': 14766}]","[{'number': 1, 'created': '2017-09-15 18:16:43.000000000', 'files': ['swift/common/middleware/gatekeeper.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/91c9dca829c22ac5a36a7a6aa1b02687f9a6692a', 'message': ""WIP: Fix location header to be relative in 'leave_relative_location' environment\n\nIn authtoken middleware implementation, location header in response will be\nchanged to absolute url even if 'leave_relative_location' is true.\nThis issue happens in symlink functional gate tests, and the issue blocks\nsymlink work.\n\nThis patch fixes gatekeeper middleware to fix location header to be relative\nwhen 'leave_relative_location' is true.\n\nChange-Id: I686ad069d05c215e3ba515ca683636f61ee789b4\n""}]",0,504484,91c9dca829c22ac5a36a7a6aa1b02687f9a6692a,4,2,1,14766,,,0,"WIP: Fix location header to be relative in 'leave_relative_location' environment

In authtoken middleware implementation, location header in response will be
changed to absolute url even if 'leave_relative_location' is true.
This issue happens in symlink functional gate tests, and the issue blocks
symlink work.

This patch fixes gatekeeper middleware to fix location header to be relative
when 'leave_relative_location' is true.

Change-Id: I686ad069d05c215e3ba515ca683636f61ee789b4
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/504484/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/gatekeeper.py'],1,91c9dca829c22ac5a36a7a6aa1b02687f9a6692a,symlink_api-patch44," if 'Location' in req.headers and \ env.get('swift.leave_relative_location'): location = req.headers['Location'] location_is_relative = location.startswith('/') if not location_is_relative: # 'http://host:port/v1/a/c/o' will be split into # ['http', '', 'host:port', 'v1/a/c/o'] scheme, blank, host_port, tail = location.split('/', 3) relative_location = '/' + tail re.headers['Location'] = relative_location ",,11,0
openstack%2Fpuppet-trove~master~Ib4030f83a9201155e5168c164d257a14b9da16e0,openstack/puppet-trove,master,Ib4030f83a9201155e5168c164d257a14b9da16e0,Deprecate revocation_cache_time option,MERGED,2017-09-14 03:57:15.000000000,2017-09-15 21:46:00.000000000,2017-09-15 21:46:00.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-09-14 03:57:15.000000000', 'files': ['releasenotes/notes/deprecate_revocation_cache_time_parameter-28379ba2e4a35d0c.yaml', 'spec/classes/trove_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/2d905626da10df10b25a39b2c170c7a679f7784b', 'message': 'Deprecate revocation_cache_time option\n\nThe revocation_cache_time is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Ib4030f83a9201155e5168c164d257a14b9da16e0\nCloses-Bug: #1717144\n'}]",0,503933,2d905626da10df10b25a39b2c170c7a679f7784b,7,3,1,9414,,,0,"Deprecate revocation_cache_time option

The revocation_cache_time is deprecated for removel because of PKI
token format is no longer supported.
Update warning message and add a release note.

Change-Id: Ib4030f83a9201155e5168c164d257a14b9da16e0
Closes-Bug: #1717144
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/33/503933/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_revocation_cache_time_parameter-28379ba2e4a35d0c.yaml', 'spec/classes/trove_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,2d905626da10df10b25a39b2c170c7a679f7784b,bug/1717144,"# DEPRECATED PARAMETERS # # [*revocation_cache_time*] # (Optional) Determines the frequency at which the list of revoked tokens is # retrieved from the Identity service (in seconds). A high number of # revocation events combined with a low cache duration may significantly # reduce performance. Only valid for PKI tokens. Integer value # Defaults to undef # # DEPRECATED PARAMETERS $revocation_cache_time = undef, if $revocation_cache_time { warning('revocation_cache_time parameter is deprecated, has no effect and will be removed in the future.') } keystone::resource::authtoken { 'trove_config': username => $username, password => $password, project_name => $project_name, auth_url => $auth_url, auth_uri => $auth_uri, auth_version => $auth_version, auth_type => $auth_type, auth_section => $auth_section, user_domain_name => $user_domain_name, project_domain_name => $project_domain_name, insecure => $insecure, cache => $cache, cafile => $cafile, certfile => $certfile, check_revocations_for_cached => $check_revocations_for_cached, delay_auth_decision => $delay_auth_decision, enforce_token_bind => $enforce_token_bind, hash_algorithms => $hash_algorithms, http_connect_timeout => $http_connect_timeout, http_request_max_retries => $http_request_max_retries, include_service_catalog => $include_service_catalog, keyfile => $keyfile, memcache_pool_conn_get_timeout => $memcache_pool_conn_get_timeout, memcache_pool_dead_retry => $memcache_pool_dead_retry, memcache_pool_maxsize => $memcache_pool_maxsize, memcache_pool_socket_timeout => $memcache_pool_socket_timeout, memcache_secret_key => $memcache_secret_key, memcache_security_strategy => $memcache_security_strategy, memcache_use_advanced_pool => $memcache_use_advanced_pool, memcache_pool_unused_timeout => $memcache_pool_unused_timeout, memcached_servers => $memcached_servers, manage_memcache_package => $manage_memcache_package, region_name => $region_name, token_cache_time => $token_cache_time, }","# [*revocation_cache_time*] # (Optional) Determines the frequency at which the list of revoked tokens is # retrieved from the Identity service (in seconds). A high number of # revocation events combined with a low cache duration may significantly # reduce performance. Only valid for PKI tokens. Integer value # Defaults to $::os_service_default. # $revocation_cache_time = $::os_service_default, keystone::resource::authtoken { 'trove_config': username => $username, password => $password, project_name => $project_name, auth_url => $auth_url, auth_uri => $auth_uri, auth_version => $auth_version, auth_type => $auth_type, auth_section => $auth_section, user_domain_name => $user_domain_name, project_domain_name => $project_domain_name, insecure => $insecure, cache => $cache, cafile => $cafile, certfile => $certfile, check_revocations_for_cached => $check_revocations_for_cached, delay_auth_decision => $delay_auth_decision, enforce_token_bind => $enforce_token_bind, hash_algorithms => $hash_algorithms, http_connect_timeout => $http_connect_timeout, http_request_max_retries => $http_request_max_retries, include_service_catalog => $include_service_catalog, keyfile => $keyfile, memcache_pool_conn_get_timeout => $memcache_pool_conn_get_timeout, memcache_pool_dead_retry => $memcache_pool_dead_retry, memcache_pool_maxsize => $memcache_pool_maxsize, memcache_pool_socket_timeout => $memcache_pool_socket_timeout, memcache_secret_key => $memcache_secret_key, memcache_security_strategy => $memcache_security_strategy, memcache_use_advanced_pool => $memcache_use_advanced_pool, memcache_pool_unused_timeout => $memcache_pool_unused_timeout, memcached_servers => $memcached_servers, manage_memcache_package => $manage_memcache_package, region_name => $region_name, revocation_cache_time => $revocation_cache_time, token_cache_time => $token_cache_time, }",54,47
openstack%2Fpuppet-watcher~master~Ia9fd9b7af4b345715bbe233f9724383817f64686,openstack/puppet-watcher,master,Ia9fd9b7af4b345715bbe233f9724383817f64686,Deprecate revocation_cache_time option,MERGED,2017-09-14 04:25:02.000000000,2017-09-15 21:24:33.000000000,2017-09-15 21:24:33.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-09-14 04:25:02.000000000', 'files': ['releasenotes/notes/deprecate_revocation_cache_time_parameter-833ea914b2355a29.yaml', 'manifests/keystone/authtoken.pp', 'spec/classes/watcher_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/9c705fb84721d85d388f564e79c6cd0285373f8f', 'message': 'Deprecate revocation_cache_time option\n\nThe revocation_cache_time is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Ia9fd9b7af4b345715bbe233f9724383817f64686\nCloses-Bug: #1717144\n'}]",0,503940,9c705fb84721d85d388f564e79c6cd0285373f8f,7,3,1,9414,,,0,"Deprecate revocation_cache_time option

The revocation_cache_time is deprecated for removel because of PKI
token format is no longer supported.
Update warning message and add a release note.

Change-Id: Ia9fd9b7af4b345715bbe233f9724383817f64686
Closes-Bug: #1717144
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/40/503940/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_revocation_cache_time_parameter-833ea914b2355a29.yaml', 'manifests/keystone/authtoken.pp', 'spec/classes/watcher_keystone_authtoken_spec.rb']",3,9c705fb84721d85d388f564e79c6cd0285373f8f,bug/1717144,," is_expected.to contain_watcher_config('keystone_authtoken/revocation_cache_time').with_value('<SERVICE DEFAULT>') :revocation_cache_time => '11', is_expected.to contain_watcher_config('keystone_authtoken/revocation_cache_time').with_value(params[:revocation_cache_time])",19,12
openstack%2Fopenstack-helm~master~I39f52aab96c1063ac8f8c6efb37562c043a2eb21,openstack/openstack-helm,master,I39f52aab96c1063ac8f8c6efb37562c043a2eb21,"[RFC, DNM, PDM] gate: cleanup any stale ceph state",ABANDONED,2017-09-15 18:23:09.000000000,2017-09-15 21:20:36.000000000,,"[{'_account_id': 3}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-09-15 18:23:09.000000000', 'files': ['tools/gate/launch-osh/basic.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a36e2a886cceed4bb37f6eb2f12629d2085fbf7', 'message': '[RFC, DNM, PDM] gate: cleanup any stale ceph state\n\nIt looks like on some builders we get failures which might be the\nresult of stale ceph state.  This is an attempt to verify if that\nmight be the case.\n\nChange-Id: I39f52aab96c1063ac8f8c6efb37562c043a2eb21\n'}]",0,504485,0a36e2a886cceed4bb37f6eb2f12629d2085fbf7,5,2,1,8898,,,0,"[RFC, DNM, PDM] gate: cleanup any stale ceph state

It looks like on some builders we get failures which might be the
result of stale ceph state.  This is an attempt to verify if that
might be the case.

Change-Id: I39f52aab96c1063ac8f8c6efb37562c043a2eb21
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/504485/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/launch-osh/basic.sh'],1,0a36e2a886cceed4bb37f6eb2f12629d2085fbf7,, # it looks like (in testing) there are cases where the ceph # directories contain stale information [ -d /var/lib/openstack-helm/ceph/ ] && find /var/lib/openstack-helm/ceph/ -type f -print0 | xargs -r0 rm -v ,,4,0
openstack%2Fopenstack-ansible-tests~master~I84fee9e76db638b2561152d60b17d45bbf60b3cf,openstack/openstack-ansible-tests,master,I84fee9e76db638b2561152d60b17d45bbf60b3cf,Hide yum-config-manager output,MERGED,2017-09-15 17:50:55.000000000,2017-09-15 21:08:37.000000000,2017-09-15 21:08:37.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-15 17:50:55.000000000', 'files': ['test-ansible-functional.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/761396c17710e1162cd37289e46f76610ed66f3c', 'message': ""Hide yum-config-manager output\n\nThe yum-config-manager command has a ton of output and it's not\npossible to make it more quiet with command line arguments. This\npatch ensures that the output is removed.\n\nChange-Id: I84fee9e76db638b2561152d60b17d45bbf60b3cf\n""}]",0,504476,761396c17710e1162cd37289e46f76610ed66f3c,7,3,1,538,,,0,"Hide yum-config-manager output

The yum-config-manager command has a ton of output and it's not
possible to make it more quiet with command line arguments. This
patch ensures that the output is removed.

Change-Id: I84fee9e76db638b2561152d60b17d45bbf60b3cf
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/76/504476/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-functional.sh'],1,761396c17710e1162cd37289e46f76610ed66f3c,yum-config-mgr-output-annoying, sudo yum-config-manager --disable \* > /dev/null sudo yum-config-manager --enable base > /dev/null sudo yum-config-manager --enable epel > /dev/null sudo yum-config-manager --enable updates > /dev/null, sudo yum-config-manager --disable \* sudo yum-config-manager --enable base sudo yum-config-manager --enable epel sudo yum-config-manager --enable updates,4,4
openstack%2Fstorlets~master~I7da46c1554df2bbbff2ccff12d82d8fbe158aa22,openstack/storlets,master,I7da46c1554df2bbbff2ccff12d82d8fbe158aa22,Getting all storlet related code out of the container,MERGED,2017-02-01 08:58:48.000000000,2017-09-15 21:03:54.000000000,2017-09-15 21:03:54.000000000,"[{'_account_id': 3}, {'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 11317}]","[{'number': 1, 'created': '2017-02-01 08:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/7b80fd4229a05b3f025671c614a9e0a323b7ae7b', 'message': 'WIP: Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/bin/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 2, 'created': '2017-02-01 20:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6da891fa8e3e9cb564439971230b1fdcea31a8d4', 'message': 'WIP: Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/bin/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n\n[1] https://review.openstack.org/#/c/370332/\n\nTODOs\n1. Update docs\n2. take care of what used to be ant deploy_container_engine\n3. Do we still need to build on every functest execution?\n4. Make sure all mounts are RO\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 3, 'created': '2017-02-05 07:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ddf61daa59f1b56defd644652e986e52d15f7e7f', 'message': 'WIP: Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/bin/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n\n[1] https://review.openstack.org/#/c/370332/\n\nTODOs\n1. Update docs\n2. take care of what used to be ant deploy_container_engine\n3. Do we still need to build on every functest execution?\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 4, 'created': '2017-02-05 09:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4de3aa07c7b8fca0760dd341f0e0b0a233642389', 'message': 'WIP: Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/bin/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n\n[1] https://review.openstack.org/#/c/370332/\n\nTODOs\n1. Update docs\n2. take care of what used to be ant deploy_container_engine\n3. Do we still need to build on every functest execution?\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 5, 'created': '2017-02-05 10:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3fb520e68a844fc64468319b6a67d493df3e6ec5', 'message': 'WIP: Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /opt/storlets/bin\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nTODOs\n1. take care of what used to be ant deploy_container_engine\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 6, 'created': '2017-02-05 11:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/8de6f0fc753c6e3820b54969c8de7764b836b295', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /opt/storlets/bin\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 7, 'created': '2017-02-13 07:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0ef8954a0b4d7659a387463329b402fbb3ab8baa', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 8, 'created': '2017-02-13 12:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3135ae04af20b4e11915a13a0b74ee96ab8072d2', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 9, 'created': '2017-02-13 12:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d040da0c575281e1c8d31f169c38d95badfe2927', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 10, 'created': '2017-02-13 13:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4ff2282de21824615b9f16a7510c5f39522f3373', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n\nGetting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /opt/storlets/bin\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 11, 'created': '2017-02-13 15:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/9560179723926ccb832a9225e2db620a2bcb90fa', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 12, 'created': '2017-02-16 07:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/eeb1d9e9d6e543d06edc251f5d3604df7a6cd022', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n\nGetting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /opt/storlets/bin\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 13, 'created': '2017-02-16 14:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/dbd264475ed1a32dfad70c7602675452aee07b18', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n\nGetting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /opt/storlets/bin\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 14, 'created': '2017-03-01 09:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/47af750102eb58038f85ad872a85288d19586699', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n\nGetting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /opt/storlets/bin\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 15, 'created': '2017-09-01 08:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5b9a1e082f546d8196895eb1f0d6bcc0e9a0cc09', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n\nGetting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /opt/storlets/bin\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}, {'number': 16, 'created': '2017-09-15 16:39:03.000000000', 'files': ['tests/unit/agent/daemon_factory/test_manager.py', 'bin/init_container.sh', 'install/storlets/roles/docker_storlet_engine_image/tasks/main.yml', 'doc/source/engine_dev_installation.rst', 'install/storlets/roles/docker_storlet_engine_image/templates/ubuntu_16.04_jre8_storlets_Dockerfile', 'storlets/gateway/gateways/docker/runtime.py', 'install/storlets/templates/cluster_config', 'install_libs.sh', 'storlets/agent/daemon_factory/manager.py', 'install/storlets/roles/docker_base_jre_image/tasks/ubuntu_16.04_jre8.yml', 'doc/source/deployer_installation.rst', 'src/java/build.xml', 'scripts/restart_docker_container.c', 'setup.cfg', 'install/storlets/roles/docker_base_jre_image/templates/ubuntu_16.04_jre8_Dockerfile', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/96027448c054be4d72c43d49442c9455f2fb6298', 'message': 'Getting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /usr/local/libexec/storlets\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n\nGetting all storlet related code out of the container\n\nOne of the biggest hurdles in the storlets devops code\nis the need to update the container image each time\nthe storlet related code changes.\n\nA previous patch [1] already made sure that\nall the container necessary code is installed on the host\nmachine in:\n/usr/local/lib/storlets\n/usr/local/lib/python2.7/dist-packages/storlets\n\nThis patch completes the work by:\n1. Treat the scripts daemon, daemon-factory, init_container.sh\n   accordingly: placing them in /opt/storlets/bin\n2. Mount the above-mentioned dirs in ro mode\n3. Cleanup the ansible code that installs everything\n   in the container image\n4. Update the installation docs accordingly\n\n[1] https://review.openstack.org/#/c/370332/\n\nChange-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22\n'}]",1,427592,96027448c054be4d72c43d49442c9455f2fb6298,44,4,16,11317,,,0,"Getting all storlet related code out of the container

One of the biggest hurdles in the storlets devops code
is the need to update the container image each time
the storlet related code changes.

A previous patch [1] already made sure that
all the container necessary code is installed on the host
machine in:
/usr/local/lib/storlets
/usr/local/lib/python2.7/dist-packages/storlets

This patch completes the work by:
1. Treat the scripts daemon, daemon-factory, init_container.sh
   accordingly: placing them in /usr/local/libexec/storlets
2. Mount the above-mentioned dirs in ro mode
3. Cleanup the ansible code that installs everything
   in the container image
4. Update the installation docs accordingly

[1] https://review.openstack.org/#/c/370332/

Change-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22

Getting all storlet related code out of the container

One of the biggest hurdles in the storlets devops code
is the need to update the container image each time
the storlet related code changes.

A previous patch [1] already made sure that
all the container necessary code is installed on the host
machine in:
/usr/local/lib/storlets
/usr/local/lib/python2.7/dist-packages/storlets

This patch completes the work by:
1. Treat the scripts daemon, daemon-factory, init_container.sh
   accordingly: placing them in /opt/storlets/bin
2. Mount the above-mentioned dirs in ro mode
3. Cleanup the ansible code that installs everything
   in the container image
4. Update the installation docs accordingly

[1] https://review.openstack.org/#/c/370332/

Change-Id: I7da46c1554df2bbbff2ccff12d82d8fbe158aa22
",git fetch https://review.opendev.org/openstack/storlets refs/changes/92/427592/16 && git format-patch -1 --stdout FETCH_HEAD,"['install/storlets/roles/docker_storlet_engine_image/templates/ubuntu_14.04_jre8_storlets_Dockerfile', 'storlets/agent/daemon_factory/manager.py', 'install/storlets/roles/docker_storlet_engine_image/tasks/main.yml', 'bin/storlets/init_container.sh', 'storlets/gateway/gateways/docker/runtime.py', 'scripts/restart_docker_container.c', 'setup.cfg', 'bin/storlets/storlets-daemon', 'bin/storlets/storlets-daemon-factory']",9,7b80fd4229a05b3f025671c614a9e0a323b7ae7b,devstack_migration,,,41,71
openstack%2Fsushy~master~I486551c0149acd1d066f7a1a8bad857e7b961b92,openstack/sushy,master,I486551c0149acd1d066f7a1a8bad857e7b961b92,flake8: Enable some off-by-default checks,MERGED,2017-09-14 19:17:48.000000000,2017-09-15 20:48:50.000000000,2017-09-15 20:48:50.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-09-14 19:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/87400482a337ab344f652704fbc96499c035c2f5', 'message': 'flake8: Enable some off-by-default checks\n\nUpdate test-requirements.txt to use latest version of:\n    * hacking\n\nEnable the following off-by-default checks:\n    * [H203] Use assertIs(Not)None to check for None.\n    * [H204] Use assert(Not)Equal to check for equality.\n    * [H205] Use assert(Greater|Less)(Equal) for comparison.\n    * [H904] Delay string interpolations at logging calls.\n\nNo code changes were required.\n\nChange-Id: I486551c0149acd1d066f7a1a8bad857e7b961b92\n'}, {'number': 2, 'created': '2017-09-15 13:08:55.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy/commit/26f7523667c756caafb5a55cf0760af94ee93955', 'message': 'flake8: Enable some off-by-default checks\n\nUpdate test-requirements.txt to use latest version of:\n    * hacking\n\nEnable the following off-by-default checks:\n    * [H203] Use assertIs(Not)None to check for None.\n    * [H204] Use assert(Not)Equal to check for equality.\n    * [H205] Use assert(Greater|Less)(Equal) for comparison.\n    * [H210] Require autospec, spec, or spec_set in\n             mock.patch/mock.patch.object calls\n    * [H904] Delay string interpolations at logging calls.\n\nNo code changes were required.\n\nChange-Id: I486551c0149acd1d066f7a1a8bad857e7b961b92\n'}]",0,504174,26f7523667c756caafb5a55cf0760af94ee93955,13,3,2,14760,,,0,"flake8: Enable some off-by-default checks

Update test-requirements.txt to use latest version of:
    * hacking

Enable the following off-by-default checks:
    * [H203] Use assertIs(Not)None to check for None.
    * [H204] Use assert(Not)Equal to check for equality.
    * [H205] Use assert(Greater|Less)(Equal) for comparison.
    * [H210] Require autospec, spec, or spec_set in
             mock.patch/mock.patch.object calls
    * [H904] Delay string interpolations at logging calls.

No code changes were required.

Change-Id: I486551c0149acd1d066f7a1a8bad857e7b961b92
",git fetch https://review.opendev.org/openstack/sushy refs/changes/74/504174/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,87400482a337ab344f652704fbc96499c035c2f5,,"# [H106] Dont put vim configuration in source files. # [H203] Use assertIs(Not)None to check for None. # [H204] Use assert(Not)Equal to check for equality. # [H205] Use assert(Greater|Less)(Equal) for comparison. # [H904] Delay string interpolations at logging calls. enable-extensions=H106,H203,H204,H205,H904","# H106: Dont put vim configuration in source files # H203: Use assertIs(Not)None to check for None enable-extensions=H106,H203",7,4
openstack%2Fneutron~master~I631c6e1f02fa07eed330c99a96aa66d747784f37,openstack/neutron,master,I631c6e1f02fa07eed330c99a96aa66d747784f37,Treat lack of segment info in port object as unbound,MERGED,2017-09-07 19:47:29.000000000,2017-09-15 20:44:45.000000000,2017-09-15 02:04:02.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 12860}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-09-07 19:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5c7718568a13b29dbe592296d63f9cb90746d11', 'message': 'Treat lack of segment info in port object as unbound\n\nA push notifications change added segment information\nto the get_device_details() RPC call, but sometimes the\nsegment information is not present, resulting in an\nAttributeError.  Just treat the lack of segment info\nas if the port was unbound.\n\nChange-Id: I631c6e1f02fa07eed330c99a96aa66d747784f37\nCloses-bug: #1714068\n'}, {'number': 2, 'created': '2017-09-11 20:01:03.000000000', 'files': ['neutron/agent/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4833852abb864230daecf97bc672ad9a4a9c4267', 'message': 'Treat lack of segment info in port object as unbound\n\nA push notifications change added segment information\nto the get_device_details() RPC call, but sometimes the\nsegment information is not present, resulting in an\nAttributeError.  Just treat the lack of segment info\nas if the port was unbound, since the port is probably\nin the process of being removed.\n\nChange-Id: I631c6e1f02fa07eed330c99a96aa66d747784f37\nCloses-bug: #1714068\n'}]",0,501852,4833852abb864230daecf97bc672ad9a4a9c4267,20,10,2,1131,,,0,"Treat lack of segment info in port object as unbound

A push notifications change added segment information
to the get_device_details() RPC call, but sometimes the
segment information is not present, resulting in an
AttributeError.  Just treat the lack of segment info
as if the port was unbound, since the port is probably
in the process of being removed.

Change-Id: I631c6e1f02fa07eed330c99a96aa66d747784f37
Closes-bug: #1714068
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/501852/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/rpc.py'],1,f5c7718568a13b29dbe592296d63f9cb90746d11,bug/1714068," if not segment: LOG.warning(""Device %s is not bound to any segment."", port_obj) return {'device': device}",,3,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Focata~Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e,openstack/openstack-ansible-lxc_hosts,stable/ocata,Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e,Fix lxc_net configuration for CentOS,MERGED,2017-09-15 19:13:43.000000000,2017-09-15 20:43:28.000000000,2017-09-15 20:43:28.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-15 19:13:43.000000000', 'files': ['tasks/lxc_net.yml', 'vars/redhat-7.yml', 'templates/lxc-net-redhat-postup.cfg.j2', 'tasks/lxc_install_yum.yml', 'templates/lxc-net-redhat-postdown.cfg.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ccf7de5597374b5320376e122d7cfa24940e28e1', 'message': 'Fix lxc_net configuration for CentOS\n\nFor CentOS/Red Hat the network post-up/post-down scripts are\nconfigured after the bridge has been brought up, and the handlers have\nbeen flushed.\n\nWe need to configure the post-up and post-down scripts before the\nrestart bridge handler is flushed, so that dnsmasq is configured and\nrunning before we attempt to install packages into the container.\n\nManual cherry-pick from: eee919ad21d5f03582a6cb537bf37f18db6f8661 due to\nno SUSE support in Ocata, the SUSE bits were removed in the backport.\n\nChange-Id: Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e\n'}]",0,504494,ccf7de5597374b5320376e122d7cfa24940e28e1,7,3,1,2799,,,0,"Fix lxc_net configuration for CentOS

For CentOS/Red Hat the network post-up/post-down scripts are
configured after the bridge has been brought up, and the handlers have
been flushed.

We need to configure the post-up and post-down scripts before the
restart bridge handler is flushed, so that dnsmasq is configured and
running before we attempt to install packages into the container.

Manual cherry-pick from: eee919ad21d5f03582a6cb537bf37f18db6f8661 due to
no SUSE support in Ocata, the SUSE bits were removed in the backport.

Change-Id: Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/94/504494/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_net.yml', 'vars/redhat-7.yml', 'templates/lxc-net-redhat-postup.cfg.j2', 'tasks/lxc_install_yum.yml', 'templates/lxc-net-redhat-postdown.cfg.j2']",5,ccf7de5597374b5320376e122d7cfa24940e28e1,,"#!/usr/bin/env bash if [ ""${DEVICE}"" == ""{{ lxc_net_bridge }}"" ];then if [ ""{{ lxc_net_nat }}"" == ""True"" ];then /usr/local/bin/lxc-system-manage dnsmasq-stop /usr/local/bin/lxc-system-manage iptables-remove fi fi ",,40,78
openstack%2Fsushy~master~I81b44d0be844d539da2a5ad4a9e40dbc5d903c94,openstack/sushy,master,I81b44d0be844d539da2a5ad4a9e40dbc5d903c94,Replace HTTP numeric constants with http_client constants,MERGED,2017-07-26 17:41:12.000000000,2017-09-15 20:43:13.000000000,2017-09-15 20:43:13.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 17275}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-07-26 17:41:12.000000000', 'files': ['sushy/tests/unit/resources/test_base.py', 'sushy/exceptions.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/c622e5ba7d7dc7dea37c14ba8b68c3be0de9abef', 'message': 'Replace HTTP numeric constants with http_client constants\n\nReplace usage of HTTP numeric constants with http_client constants.\n\nFor example instead of: 400 use http_client.BAD_REQUEST\n\nChange-Id: I81b44d0be844d539da2a5ad4a9e40dbc5d903c94\n'}]",4,487535,c622e5ba7d7dc7dea37c14ba8b68c3be0de9abef,10,6,1,14760,,,0,"Replace HTTP numeric constants with http_client constants

Replace usage of HTTP numeric constants with http_client constants.

For example instead of: 400 use http_client.BAD_REQUEST

Change-Id: I81b44d0be844d539da2a5ad4a9e40dbc5d903c94
",git fetch https://review.opendev.org/openstack/sushy refs/changes/35/487535/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/test_base.py', 'sushy/exceptions.py', 'sushy/tests/unit/test_connector.py']",3,c622e5ba7d7dc7dea37c14ba8b68c3be0de9abef,,"from six.moves import http_client self.request.return_value.status_code = http_client.OK self.request.return_value.status_code = http_client.CONFLICT self.assertEqual(http_client.CONFLICT, exc.status_code) self.request.return_value.status_code = http_client.BAD_REQUEST self.assertEqual(http_client.BAD_REQUEST, exc.status_code) self.request.return_value.status_code = http_client.NOT_FOUND self.assertEqual(http_client.NOT_FOUND, exc.status_code) self.request.return_value.status_code = ( http_client.INTERNAL_SERVER_ERROR) self.assertEqual(http_client.INTERNAL_SERVER_ERROR, exc.status_code) self.request.return_value.status_code = http_client.FORBIDDEN self.assertEqual(http_client.FORBIDDEN, exc.status_code)"," self.request.return_value.status_code = 200 self.request.return_value.status_code = 409 self.assertEqual(409, exc.status_code) self.request.return_value.status_code = 400 self.assertEqual(400, exc.status_code) self.request.return_value.status_code = 404 self.assertEqual(404, exc.status_code) self.request.return_value.status_code = 500 self.assertEqual(500, exc.status_code) self.request.return_value.status_code = 403 self.assertEqual(403, exc.status_code)",23,17
openstack%2Fsushy~master~Ic3b29d2f05e3b2a05b9dd25a2d2d2f682c79a0f9,openstack/sushy,master,Ic3b29d2f05e3b2a05b9dd25a2d2d2f682c79a0f9,Update some tests to copy the dictionaries passed in,MERGED,2017-07-26 17:25:18.000000000,2017-09-15 20:43:04.000000000,2017-09-15 20:43:04.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 16635}, {'_account_id': 17275}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-07-26 17:25:18.000000000', 'files': ['sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/13d837739d1282e4071aa1d0925593ce517fdffa', 'message': 'Update some tests to copy the dictionaries passed in\n\nWhen doing a test, we should not pass a dictionary to a function and\nthen use that same dictionary to check to make sure results match.\nSince the called function can modify the dictionary and our test will\npass with a modified dictionary.\n\nChange-Id: Ic3b29d2f05e3b2a05b9dd25a2d2d2f682c79a0f9\n'}]",0,487531,13d837739d1282e4071aa1d0925593ce517fdffa,16,8,1,14760,,,0,"Update some tests to copy the dictionaries passed in

When doing a test, we should not pass a dictionary to a function and
then use that same dictionary to check to make sure results match.
Since the called function can modify the dictionary and our test will
pass with a modified dictionary.

Change-Id: Ic3b29d2f05e3b2a05b9dd25a2d2d2f682c79a0f9
",git fetch https://review.opendev.org/openstack/sushy refs/changes/31/487531/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy/tests/unit/test_connector.py'],1,13d837739d1282e4071aa1d0925593ce517fdffa,," self.conn.get(path='fake/path', data=self.data.copy(), headers=self.headers.copy()) self.conn.post(path='fake/path', data=self.data.copy(), headers=self.headers.copy()) self.conn.patch(path='fake/path', data=self.data.copy(), headers=self.headers.copy()) self.conn._op('POST', path='fake/path', data=self.data.copy(),"," self.conn.get(path='fake/path', data=self.data, headers=self.headers) self.conn.post(path='fake/path', data=self.data, headers=self.headers) self.conn.patch(path='fake/path', data=self.data, headers=self.headers) self.conn._op('POST', path='fake/path', data=self.data,",7,4
openstack%2Fsolum~master~I2aa8049399cfbb44e9cd8595ec3cff2793902abe,openstack/solum,master,I2aa8049399cfbb44e9cd8595ec3cff2793902abe,[DNM] Test Solum gate,ABANDONED,2017-09-15 18:12:27.000000000,2017-09-15 20:39:34.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-09-15 18:12:27.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/70e0e221c61de3c72b5725cf363d66c42fa9e037', 'message': '[DNM] Test Solum gate\n\nChange-Id: I2aa8049399cfbb44e9cd8595ec3cff2793902abe\n'}]",0,504483,70e0e221c61de3c72b5725cf363d66c42fa9e037,3,1,1,11536,,,0,"[DNM] Test Solum gate

Change-Id: I2aa8049399cfbb44e9cd8595ec3cff2793902abe
",git fetch https://review.opendev.org/openstack/solum refs/changes/83/504483/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,70e0e221c61de3c72b5725cf363d66c42fa9e037,,# test,,1,0
openstack%2Fopenstack-ansible-os_zaqar~master~Icf93220d1c3762c04a35ab87bf3513259d06ff24,openstack/openstack-ansible-os_zaqar,master,Icf93220d1c3762c04a35ab87bf3513259d06ff24,Test zaqar role using the zaqar tempest plugin,ABANDONED,2016-07-28 16:58:37.000000000,2017-09-15 20:32:42.000000000,,"[{'_account_id': 3}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-07-28 16:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/65d69746f760a7a5acbc6901a88d347828c39e42', 'message': 'Test zaqar role using the zaqar tempest plugin\n\nAdding tempest testing for better test coverage\nof the role.\n\nChange-Id: Icf93220d1c3762c04a35ab87bf3513259d06ff24\n'}, {'number': 2, 'created': '2016-07-28 22:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/baa72166842248e27eaf4edfa6f610c3970fd9c0', 'message': 'Test zaqar role using the zaqar tempest plugin\n\nAdding tempest testing for better test coverage\nof the role.\n\nChange-Id: Icf93220d1c3762c04a35ab87bf3513259d06ff24\n'}, {'number': 3, 'created': '2016-07-29 18:41:29.000000000', 'files': ['tasks/zaqar_post_install.yml', 'tests/test-install-tempest.yml', 'tests/test-install-mongodb.yml', 'tests/test.yml', 'defaults/main.yml', 'templates/zaqar.conf.j2', 'tests/test-vars.yml', 'tests/ansible-role-requirements.yml', 'tests/test-zaqar-functional.yml', 'tests/test-install-keystone.yml', 'templates/policy.json.j2', 'tests/test-install-zaqar.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/0b33eb20d1644ccffc0777b19f95176053f68e61', 'message': 'Test zaqar role using the zaqar tempest plugin\n\nAdding tempest testing for better test coverage\nof the role.\n\nAdding mongo installation to the testing as its\na required datastore for zaqar\n\nChange-Id: Icf93220d1c3762c04a35ab87bf3513259d06ff24\n'}]",0,348475,0b33eb20d1644ccffc0777b19f95176053f68e61,8,2,3,19814,,,0,"Test zaqar role using the zaqar tempest plugin

Adding tempest testing for better test coverage
of the role.

Adding mongo installation to the testing as its
a required datastore for zaqar

Change-Id: Icf93220d1c3762c04a35ab87bf3513259d06ff24
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/75/348475/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible-role-requirements.yml', 'tests/test-zaqar-functional.yml', 'tests/test-install-tempest.yml', 'tests/test-install-keystone.yml', 'tests/test.yml', 'tests/test-vars.yml', 'tests/test-install-zaqar.yml']",7,65d69746f760a7a5acbc6901a88d347828c39e42,tempest_testing, vars_files: - test-vars.yml," zaqar_developer_mode: true zaqar_install_apache: true zaqar_mgmt_db_connection_string: 'sqlite:////tmp/zaqar.db' external_lb_vip_address: 10.100.100.2 internal_lb_vip_address: 10.100.100.2 keystone_admin_user_name: admin keystone_admin_tenant_name: admin keystone_auth_admin_password: SuperSecretePassword keystone_service_adminuri_insecure: false keystone_service_internaluri_insecure: false keystone_service_internaluri: ""http://{{ internal_lb_vip_address }}:5000"" keystone_service_internalurl: ""{{ keystone_service_internaluri }}/v3"" keystone_service_adminuri: ""http://{{ internal_lb_vip_address }}:35357"" keystone_service_adminurl: ""{{ keystone_service_adminuri }}/v3"" keystone_service_region: RegionOne",119,33
openstack%2Fopenstack-ansible-openstack_hosts~master~I0890bd9749e58477afab34493cd8d28f76441193,openstack/openstack-ansible-openstack_hosts,master,I0890bd9749e58477afab34493cd8d28f76441193,Adding idempotency testing to the role func test,ABANDONED,2016-08-04 03:00:06.000000000,2017-09-15 20:32:36.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-08-04 03:00:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8d4c323367d943cdcfe3ca8f0be1f78db0032327', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: I0890bd9749e58477afab34493cd8d28f76441193\n'}]",0,350939,8d4c323367d943cdcfe3ca8f0be1f78db0032327,3,1,1,19814,,,0,"Adding idempotency testing to the role func test

Roles should ideally be idempotent so we should test
that they are as part of our automated tests.

Change-Id: I0890bd9749e58477afab34493cd8d28f76441193
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/39/350939/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8d4c323367d943cdcfe3ca8f0be1f78db0032327,idempotence_test," # Idempotency test bash -c 'ansible-playbook -i {toxinidir}/tests/inventory \ -e ""rolename={toxinidir}"" \ {toxinidir}/tests/test.yml \ | grep -q ""changed=0.*failed=0"" \ && (echo ""Idempotence test: pass"" && exit 0) \ || (echo ""Idempotence test: fail"" && exit 1)'",,7,0
openstack%2Fopenstack-ansible-memcached_server~master~I3797e149ca1cf3d5d94546bf71b70a0bc2f1c807,openstack/openstack-ansible-memcached_server,master,I3797e149ca1cf3d5d94546bf71b70a0bc2f1c807,Adding idempotency testing to the role func test,ABANDONED,2016-08-05 14:34:51.000000000,2017-09-15 20:32:29.000000000,,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 19814}, {'_account_id': 20038}]","[{'number': 1, 'created': '2016-08-05 14:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/e93a8b76648854deee07415eca72c7d1d69de2db', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: I3797e149ca1cf3d5d94546bf71b70a0bc2f1c807\n'}, {'number': 2, 'created': '2016-08-05 15:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/0f3ae7714e2f14113043a3ad39551b801a6925bc', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: I3797e149ca1cf3d5d94546bf71b70a0bc2f1c807\n'}, {'number': 3, 'created': '2016-08-08 15:31:01.000000000', 'files': ['tests/test-memcached-functional.yml', 'tests/test.yml', 'tests/test-install-memcached.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/19ba3216ea2e7ea34e378bf6f98ce6b38dad9d4b', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: I3797e149ca1cf3d5d94546bf71b70a0bc2f1c807\n'}]",2,351774,19ba3216ea2e7ea34e378bf6f98ce6b38dad9d4b,13,4,3,19814,,,0,"Adding idempotency testing to the role func test

Roles should ideally be idempotent so we should test
that they are as part of our automated tests.

Change-Id: I3797e149ca1cf3d5d94546bf71b70a0bc2f1c807
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/74/351774/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e93a8b76648854deee07415eca72c7d1d69de2db,idempotence_test," # Idempotency test bash -c 'ansible-playbook -i {toxinidir}/tests/inventory \ -e ""rolename={toxinidir}"" \ -e ""install_test_packages=True"" \ {toxinidir}/tests/test.yml \ | grep -q ""changed=0.*failed=0"" \ && (echo ""Idempotence test: pass"" && exit 0) \ || (echo ""Idempotence test: fail"" && exit 1)' ",,9,0
openstack%2Fopenstack-ansible-pip_install~master~Ie88a8e5d0d262c606b9ccd7248ab8e6a040f4064,openstack/openstack-ansible-pip_install,master,Ie88a8e5d0d262c606b9ccd7248ab8e6a040f4064,Adding idempotency testing to the role func test,ABANDONED,2016-08-08 17:14:56.000000000,2017-09-15 20:32:22.000000000,,"[{'_account_id': 3}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-08 17:14:56.000000000', 'files': ['tests/test-pip_install.yml', 'tests/test.yml', 'tests/test-functional.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/9989c0107ec952847b8eb00e8369cd815e2470cb', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: Ie88a8e5d0d262c606b9ccd7248ab8e6a040f4064\n'}]",0,352527,9989c0107ec952847b8eb00e8369cd815e2470cb,4,2,1,19814,,,0,"Adding idempotency testing to the role func test

Roles should ideally be idempotent so we should test
that they are as part of our automated tests.

Change-Id: Ie88a8e5d0d262c606b9ccd7248ab8e6a040f4064
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/27/352527/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-pip_install.yml', 'tests/test.yml', 'tests/test-functional.yml', 'tox.ini']",4,9989c0107ec952847b8eb00e8369cd815e2470cb,idempotence_test," # Idempotency test bash -c 'ansible-playbook -i {toxinidir}/tests/inventory \ -e ""rolename={toxinidir}"" \ -e ""install_test_packages=True"" \ -vvv \ {toxinidir}/tests/test-pip_install.yml \ > {toxinidir}/idempotence_run.log' bash -c 'echo ""$(<{toxinidir}/idempotence_run.log)""' bash -c 'grep -q ""changed=0.*failed=0"" {toxinidir}/idempotence_run.log \ && (echo ""Idempotence test: pass"" && exit 0) \ || (echo ""Idempotence test: fail"" && exit 1)'",,79,29
openstack%2Fnova~master~I74649dd63ef82a356b829ea01b2e74640dc6f11c,openstack/nova,master,I74649dd63ef82a356b829ea01b2e74640dc6f11c,"Revert ""Enable test_iscsi_volume in live migration job""",MERGED,2017-09-14 17:30:18.000000000,2017-09-15 20:32:21.000000000,2017-09-14 21:25:25.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 14595}, {'_account_id': 15751}]","[{'number': 1, 'created': '2017-09-14 17:30:18.000000000', 'files': ['nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/1328a50e2cd493fde44b7cac98393d70a432e3c0', 'message': 'Revert ""Enable test_iscsi_volume in live migration job""\n\nThis reverts commit 1032c79238e87259cef6963e43c78c39eeeb2cde.\n\nThis wasn\'t actually ready to merge, and now that it has\nwe\'re seeing a spike in failures of test_iscsi_volume.\n\nChange-Id: I74649dd63ef82a356b829ea01b2e74640dc6f11c\nRelated-Bug: #1398999\n'}]",0,504143,1328a50e2cd493fde44b7cac98393d70a432e3c0,11,4,1,6873,,,0,"Revert ""Enable test_iscsi_volume in live migration job""

This reverts commit 1032c79238e87259cef6963e43c78c39eeeb2cde.

This wasn't actually ready to merge, and now that it has
we're seeing a spike in failures of test_iscsi_volume.

Change-Id: I74649dd63ef82a356b829ea01b2e74640dc6f11c
Related-Bug: #1398999
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/504143/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,1328a50e2cd493fde44b7cac98393d70a432e3c0,bug/1398999,," # We test with libvirt 2.5.0 on xenial nodes so we can test live block # migration with an attached volume. echo 'enabling block_migration with an iscsi attached volume in tempest' $ANSIBLE primary --sudo -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=True"" $ANSIBLE primary --sudo -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migrate_cinder_iscsi value=True"" ",0,7
openstack%2Fopenstack-ansible-os_ceilometer~master~I3c06373830dbfe508e69970ac0933e48eb2b1cb3,openstack/openstack-ansible-os_ceilometer,master,I3c06373830dbfe508e69970ac0933e48eb2b1cb3,Add support for Centos 7,ABANDONED,2016-06-24 15:44:50.000000000,2017-09-15 20:32:15.000000000,,"[{'_account_id': 3}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-06-24 15:44:50.000000000', 'files': ['tasks/main.yml', 'run_tests.sh', 'tasks/install-apt.yml', 'tasks/ceilometer_install.yml', 'tasks/install_yum.yml', 'vars/redhat-7.yml', 'other-requirements.txt', 'vars/ubuntu-14.04.yml', 'vars/ubuntu-16.04.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/a579393fb28c4e74db6ed650b12b3f8a3979f911', 'message': 'Add support for Centos 7\n\nChange-Id: I3c06373830dbfe508e69970ac0933e48eb2b1cb3\nImplements: blueprint multi-platform-host\n'}]",0,333972,a579393fb28c4e74db6ed650b12b3f8a3979f911,6,2,1,19814,,,0,"Add support for Centos 7

Change-Id: I3c06373830dbfe508e69970ac0933e48eb2b1cb3
Implements: blueprint multi-platform-host
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/72/333972/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tasks/install-apt.yml', 'tasks/main.yml', 'tasks/ceilometer_install.yml', 'tasks/install_yum.yml', 'vars/redhat-7.yml', 'other-requirements.txt', 'vars/ubuntu-14.04.yml', 'vars/ubuntu-16.04.yml', 'meta/main.yml']",10,a579393fb28c4e74db6ed650b12b3f8a3979f911,bp/multi-platform-host, - name: EL versions: - 7,,72,9
openstack%2Fopenstack-ansible-galera_client~master~I562524c15c9d2af9df53c3e8aa1f97010bae7f4e,openstack/openstack-ansible-galera_client,master,I562524c15c9d2af9df53c3e8aa1f97010bae7f4e,Adding idempotency testing to the role func test,ABANDONED,2016-07-14 19:52:30.000000000,2017-09-15 20:32:00.000000000,,"[{'_account_id': 3}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-07-14 19:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/9f25513689052a1ad10c7a225a3856c81dd7966e', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: I562524c15c9d2af9df53c3e8aa1f97010bae7f4e\n'}, {'number': 2, 'created': '2016-07-14 20:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/639422dc5fb1cfdf133841beee3793b88f4abea4', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: I562524c15c9d2af9df53c3e8aa1f97010bae7f4e\n'}, {'number': 3, 'created': '2016-07-15 15:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/22d2760ceb390109dd2024d2beaaf90f94c082a6', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: I562524c15c9d2af9df53c3e8aa1f97010bae7f4e\n'}, {'number': 4, 'created': '2016-07-15 16:05:18.000000000', 'files': ['tests/test-prepare-host.yml', 'tests/test-galera-client-role.yml', 'tests/test.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/eceeb6c75df1956e3e565166ab3a990529253164', 'message': 'Adding idempotency testing to the role func test\n\nRoles should ideally be idempotent so we should test\nthat they are as part of our automated tests.\n\nChange-Id: I562524c15c9d2af9df53c3e8aa1f97010bae7f4e\n'}]",0,342383,eceeb6c75df1956e3e565166ab3a990529253164,12,2,4,19814,,,0,"Adding idempotency testing to the role func test

Roles should ideally be idempotent so we should test
that they are as part of our automated tests.

Change-Id: I562524c15c9d2af9df53c3e8aa1f97010bae7f4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/83/342383/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-prepare-host.yml', 'tests/test-galera-client-role.yml', 'tests/test.yml', 'tox.ini']",4,9f25513689052a1ad10c7a225a3856c81dd7966e,idempotence_testing," {toxinidir}/tests/test-prepare-host.yml -vvvv ansible-playbook -i {toxinidir}/tests/inventory \ -e ""rolename={toxinidir}"" \ -e ""verify_role=True"" \ -e ""galera_client_drop_config_file=False"" \ {toxinidir}/tests/test-galera-client-role.yml -vvvv ansible-playbook -i {toxinidir}/tests/inventory \ -e ""rolename={toxinidir}"" \ -e ""verify_role=True"" \ -e ""galera_client_drop_config_file=True"" \ {toxinidir}/tests/test-galera-client-role.yml -vvvv # Idempotency test bash -c 'ansible-playbook -i {toxinidir}/tests/inventory \ -e ""rolename={toxinidir}"" \ -e ""verify_role=False"" \ -e ""galera_client_drop_config_file=True"" \ {toxinidir}/tests/test-galera-client-role.yml \ | grep -q ""changed=0.*failed=0"" \ && (echo ""Idempotence test: pass"" && exit 0) \ || (echo ""Idempotence test: fail"" && exit 1)'"," -e ""rolename={toxinidir}"" \ -e ""install_test_packages=True"" \ {toxinidir}/tests/test.yml -vvvv ",93,83
openstack%2Fopenstack-ansible-os_nova~master~I5cc91ae803d30e5ad78ae8583110350ea5fb462f,openstack/openstack-ansible-os_nova,master,I5cc91ae803d30e5ad78ae8583110350ea5fb462f,[WIP] Implement Nova Xen Virt Driver,ABANDONED,2016-06-16 20:17:42.000000000,2017-09-15 20:31:45.000000000,,"[{'_account_id': 3}, {'_account_id': 290}, {'_account_id': 7353}]","[{'number': 1, 'created': '2016-06-16 20:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a01eb61e27cdc0f162267983bd4074ac1bf97def', 'message': '[WIP] Implement Nova Xen Virt Driver\n\nAdd xen playbooks to enable Xen to be used as an Openstack\ncompute node.\n\nChange-Id: I5cc91ae803d30e5ad78ae8583110350ea5fb462f\n'}, {'number': 2, 'created': '2016-06-16 21:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4dbbaddf43ad735d7c26a23a3067a57f52b85215', 'message': '[WIP] Implement Nova Xen Virt Driver\n\nAdd xen playbooks to enable Xen to be used as an Openstack\ncompute node.\n\nChange-Id: I5cc91ae803d30e5ad78ae8583110350ea5fb462f\n'}, {'number': 3, 'created': '2016-07-12 15:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5ec11f4cc8ddee3a2f40831401a37605050c786b', 'message': '[WIP] Implement Nova Xen Virt Driver\n\nAdd xen playbooks to enable Xen to be used as an Openstack\ncompute node.\n\nChange-Id: I5cc91ae803d30e5ad78ae8583110350ea5fb462f\n'}, {'number': 4, 'created': '2016-07-12 15:57:55.000000000', 'files': ['tasks/nova_compute_xen.yml', 'tasks/nova_compute.yml', 'templates/nova.conf.j2', 'releasenotes/notes/nova-xen-731d8e0fccfb1bc4.yaml', 'tasks/nova_compute_xen_install.yml', 'tasks/nova_install_apt.yml', 'vars/ubuntu-14.04.yml', 'vars/ubuntu-16.04.yml', 'tasks/nova_compute_xen_virsh_net_remove.yml', 'defaults/main.yml', 'tasks/nova_virt_detect.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1d2bf7eb7a572c8e960def40b566369cc075f154', 'message': '[WIP] Implement Nova Xen Virt Driver\n\nAdd xen playbooks to enable Xen to be used as an Openstack\ncompute node.\n\nChange-Id: I5cc91ae803d30e5ad78ae8583110350ea5fb462f\n'}]",0,330769,1d2bf7eb7a572c8e960def40b566369cc075f154,15,3,4,290,,,0,"[WIP] Implement Nova Xen Virt Driver

Add xen playbooks to enable Xen to be used as an Openstack
compute node.

Change-Id: I5cc91ae803d30e5ad78ae8583110350ea5fb462f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/69/330769/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_compute_xen.yml', 'tasks/nova_compute.yml', 'templates/nova.conf.j2', 'releasenotes/notes/nova-xen-731d8e0fccfb1bc4.yaml', 'tasks/nova_compute_xen_install.yml', 'tasks/nova_compute_xen_virsh_net_remove.yml', 'defaults/main.yml', 'tasks/nova_virt_detect.yml']",8,a01eb61e27cdc0f162267983bd4074ac1bf97def,bp/xen-virt-driver,"# Copyright 2016, Rackspace US, Inc.- name: Check if xen hypervisor is loaded shell: cat /sys/hypervisor/type register: xen_check changed_when: false failed_when: false tags: - always - name: Register a fact for the nova xen virt type set_fact: nova_virt_type: ""xen"" when: - xen_check.stdout == 'xen' tags: - nova-virt-type-set ","# Copyright 2014, Rackspace US, Inc.",328,5
openstack%2Fkolla-ansible~stable%2Fpike~I609ae20c4558370a0a8c4c316cd47cbd1d086331,openstack/kolla-ansible,stable/pike,I609ae20c4558370a0a8c4c316cd47cbd1d086331,Fix typo in ironic prechecks,MERGED,2017-09-05 14:03:08.000000000,2017-09-15 20:09:08.000000000,2017-09-15 20:09:08.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22582}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-05 14:03:08.000000000', 'files': ['ansible/roles/ironic/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95a1ae6672d9ebb36d26032bc27aed0a7cfd2529', 'message': ""Fix typo in ironic prechecks\n\nBefore this change ironic prechecks failed with the error:\n'tenant_network_types' is undefined\n\nThis problem appears to have been introduced in:\n296ddbeb035c6f582b316f066fe2ddffece07aca\n\nCloses-Bug: #1714946\n\nChange-Id: I609ae20c4558370a0a8c4c316cd47cbd1d086331\n(cherry picked from commit d9a11a3a0742ad3ee6bc520797843e8803ab50f9)\n""}]",0,500838,95a1ae6672d9ebb36d26032bc27aed0a7cfd2529,11,6,1,19316,,,0,"Fix typo in ironic prechecks

Before this change ironic prechecks failed with the error:
'tenant_network_types' is undefined

This problem appears to have been introduced in:
296ddbeb035c6f582b316f066fe2ddffece07aca

Closes-Bug: #1714946

Change-Id: I609ae20c4558370a0a8c4c316cd47cbd1d086331
(cherry picked from commit d9a11a3a0742ad3ee6bc520797843e8803ab50f9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/500838/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/tasks/precheck.yml'],1,95a1ae6672d9ebb36d26032bc27aed0a7cfd2529,bug/1714946, when: neutron_tenant_network_types.find('flat') == -1, when: tenant_network_types.find('flat') == -1,1,1
openstack%2Fdevstack-gate~master~Id30014c887c54fcfe3834f2474e8fd21eb1afb5d,openstack/devstack-gate,master,Id30014c887c54fcfe3834f2474e8fd21eb1afb5d,DNM Check the tempest folder,ABANDONED,2017-09-15 15:29:53.000000000,2017-09-15 20:06:09.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-15 15:29:53.000000000', 'files': ['roles/run-tempest/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7da970a1c63daa5285990c7fec7c98a5dfb19638', 'message': 'DNM Check the tempest folder\n\nThrough-away patch.\n\nChange-Id: Id30014c887c54fcfe3834f2474e8fd21eb1afb5d\n'}]",0,504436,7da970a1c63daa5285990c7fec7c98a5dfb19638,4,2,1,1921,,,0,"DNM Check the tempest folder

Through-away patch.

Change-Id: Id30014c887c54fcfe3834f2474e8fd21eb1afb5d
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/36/504436/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-tempest/tasks/main.yaml'],1,7da970a1c63daa5285990c7fec7c98a5dfb19638,run_tempest,"- name: Check things command: ls -al args: chdir: ""{{devstack_base_dir}}/tempest"" become: true become_user: tempest become_method: sudo become_flags: '-H' ",,9,0
openstack%2Fnova~stable%2Focata~Idd32a4026bd8033f8858e16d0facdf0bb58af350,openstack/nova,stable/ocata,Idd32a4026bd8033f8858e16d0facdf0bb58af350,Quota usage is not updated if an instance is deleted while booting,ABANDONED,2017-07-25 14:24:16.000000000,2017-09-15 19:59:14.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-25 14:24:16.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/939780c30a4e4c85974d2a2ffa086f0e5be3b675', 'message': 'Quota usage is not updated if an instance is deleted while booting\n\nThis commit fixes the bug #1706310\n\nBug: #1706310\nChange-Id: Idd32a4026bd8033f8858e16d0facdf0bb58af350\nSem-Ver: bugfix\n'}]",4,487104,939780c30a4e4c85974d2a2ffa086f0e5be3b675,13,10,1,19581,,,0,"Quota usage is not updated if an instance is deleted while booting

This commit fixes the bug #1706310

Bug: #1706310
Change-Id: Idd32a4026bd8033f8858e16d0facdf0bb58af350
Sem-Ver: bugfix
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/487104/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,939780c30a4e4c85974d2a2ffa086f0e5be3b675,bug/1706310," def _update_quota_usage(self, context, instance): try: # Conductor may have buried the instance in cell0 but # quotas must still be decremented in the main cell DB. project_id, user_id = quotas_obj.ids_from_instance(context, instance) # get the flavor flavor = self._get_flavor_for_reservation(instance) # This is confusing but actually decrements quota usage. quota = self._create_reservations(context, instance, instance.task_state, project_id, user_id, flavor=flavor) # Now commit the quota reservation to decrement usage. quota.commit() except exception.InstanceNotFound: if quota: quota.rollback() except Exception: with excutils.save_and_reraise_exception(): if quota: quota.rollback() self._update_quota_usage(context, instance) if cell and instance: with nova_context.target_cell(context, cell): with compute_utils.notify_about_instance_delete( self.notifier, context, instance): instance.destroy() self._update_quota_usage(context, instance)"," if cell and instance: # Conductor may have buried the instance in cell0 but # quotas must still be decremented in the main cell DB. project_id, user_id = quotas_obj.ids_from_instance( context, instance) # We have to get the flavor from the instance while the # context is still targeted to where the instance lives. with nova_context.target_cell(context, cell): quota_flavor = self._get_flavor_for_reservation( instance) # This is confusing but actually decrements quota usage. quotas = self._create_reservations(context, instance, instance.task_state, project_id, user_id, flavor=quota_flavor) try: with nova_context.target_cell(context, cell): with compute_utils.notify_about_instance_delete( self.notifier, context, instance): instance.destroy() # Now commit the quota reservation to decrement usage. quotas.commit() except exception.InstanceNotFound: quotas.rollback() # The instance was deleted or is already gone.",35,25
openstack%2Fnova~stable%2Fpike~I59ff47bf773c9831d0f44e1caf7877fe08c911c3,openstack/nova,stable/pike,I59ff47bf773c9831d0f44e1caf7877fe08c911c3,Remove dest node allocation if evacuate MoveClaim fails,MERGED,2017-09-12 19:59:25.000000000,2017-09-15 19:48:58.000000000,2017-09-15 19:48:58.000000000,"[{'_account_id': 3}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10135}]","[{'number': 1, 'created': '2017-09-12 19:59:25.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/instance-rebuild-error.json', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/21d7f8b11f217b7e5ece6868a06df70a7a065b6b', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nThis also fixes test_rebuild_server_exc which was faking\na rebuild failure by raising an error that would not\nactually happen during a rebuild. ComputeResourcesUnavailable\nonly happens if a claim fails, and for a rebuild, which\nis on the same host that the instance is already on, doesn't\ninvolve a claim attempt.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n(cherry picked from commit 5bc137f7ebc266f8a73d6febc7c10d8d648924e0)\n""}]",0,503165,21d7f8b11f217b7e5ece6868a06df70a7a065b6b,13,4,1,6873,,,0,"Remove dest node allocation if evacuate MoveClaim fails

If the MoveClaim during an evacuate fails we need to
remove the destination node allocation since the
ResourceTracker isn't going to do it.

This also fixes test_rebuild_server_exc which was faking
a rebuild failure by raising an error that would not
actually happen during a rebuild. ComputeResourcesUnavailable
only happens if a claim fails, and for a rebuild, which
is on the same host that the instance is already on, doesn't
involve a claim attempt.

Change-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3
Closes-Bug: #1713786
(cherry picked from commit 5bc137f7ebc266f8a73d6febc7c10d8d648924e0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/503165/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/instance-rebuild-error.json', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py']",5,21d7f8b11f217b7e5ece6868a06df70a7a065b6b,bug/1713786," def delete_allocation_for_evacuated_instance(self, instance, node, node_type='source'): self._delete_allocation_for_moved_instance( instance, node, 'evacuated', node_type) self, instance, node, move_type, node_type='source'): ""instance on the %s node %s"", move_type, node_type, cn_uuid, instance=instance)"," def delete_allocation_for_evacuated_instance(self, instance, node): self._delete_allocation_for_moved_instance(instance, node, 'evacuated') self, instance, node, move_type): ""instance on the source node %s"", move_type, cn_uuid, instance=instance)",25,27
openstack%2Fnova~stable%2Fpike~Ifad17e08aa3ddbd95f25b6133564ea1a1a1bb87c,openstack/nova,stable/pike,Ifad17e08aa3ddbd95f25b6133564ea1a1a1bb87c,De-duplicate two delete_allocation_for_* methods,MERGED,2017-09-12 19:59:25.000000000,2017-09-15 19:36:45.000000000,2017-09-15 19:36:44.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 17130}, {'_account_id': 23310}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-09-12 19:59:25.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e00584f157991df4e8533965f16d4b5210c01524', 'message': 'De-duplicate two delete_allocation_for_* methods\n\ndelete_allocation_for_migrated_instance and\ndelete_allocation_for_evacuated_instance are only different\nin their log messages, so extract their guts to a shared\nprivate method.\n\nThis same method could also be used at the end of drop_move_claim, but\nthe extent of change to the logging there made me pause. Perhaps another\ntime.\n\nChange-Id: Ifad17e08aa3ddbd95f25b6133564ea1a1a1bb87c\n(cherry picked from commit 5a0aa097374d739800d394841ad9ad4243217f11)\n'}]",0,503164,e00584f157991df4e8533965f16d4b5210c01524,22,10,1,6873,,,0,"De-duplicate two delete_allocation_for_* methods

delete_allocation_for_migrated_instance and
delete_allocation_for_evacuated_instance are only different
in their log messages, so extract their guts to a shared
private method.

This same method could also be used at the end of drop_move_claim, but
the extent of change to the logging there made me pause. Perhaps another
time.

Change-Id: Ifad17e08aa3ddbd95f25b6133564ea1a1a1bb87c
(cherry picked from commit 5a0aa097374d739800d394841ad9ad4243217f11)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/503164/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,e00584f157991df4e8533965f16d4b5210c01524,bug/1713786," self._delete_allocation_for_moved_instance(instance, node, 'evacuated') def delete_allocation_for_migrated_instance(self, instance, node): self._delete_allocation_for_moved_instance(instance, node, 'migrated') def _delete_allocation_for_moved_instance( self, instance, node, move_type): LOG.error(""Failed to clean allocation of %s "" move_type, cn_uuid, instance=instance)"," LOG.error(""Failed to clean allocation of an evacuated "" cn_uuid, instance=instance) def delete_allocation_for_migrated_instance(self, instance, node): my_resources = scheduler_utils.resources_from_flavor(instance, instance.flavor) cn = self.compute_nodes[node] res = self.reportclient.remove_provider_from_instance_allocation( instance.uuid, cn.uuid, instance.user_id, instance.project_id, my_resources) if not res: LOG.error('Failed to clean allocation of a migrated instance ' 'on the source node %s', cn.uuid, instance=instance)",9,14
openstack%2Fopenstack-ansible-pip_install~master~I5f1a8c8465fa27b01342315dac5db0046cfb2e18,openstack/openstack-ansible-pip_install,master,I5f1a8c8465fa27b01342315dac5db0046cfb2e18,Flatten the role task includes,MERGED,2017-09-12 23:00:29.000000000,2017-09-15 19:36:39.000000000,2017-09-15 19:36:39.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 14288}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-09-12 23:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/cf382d78814587679261de778f4b78c491a518a3', 'message': 'Flatten the role task includes\n\nCurrently there are several layers to work through\nwhen following what happens in the role. This is\nconfusing and somewhat frustrating.\n\nThis patch hopefully reduces the layers to a more\nsane set.\n\nChange-Id: I5f1a8c8465fa27b01342315dac5db0046cfb2e18\n'}, {'number': 2, 'created': '2017-09-13 15:09:27.000000000', 'files': ['tasks/main.yml', 'tasks/install_offline.yml', 'tasks/install_online.yml', 'tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/6d60482158e7a4ba12ec1c2000f5193daa8c512e', 'message': 'Flatten the role task includes\n\nCurrently there are several layers to work through\nwhen following what happens in the role. This is\nconfusing and somewhat frustrating.\n\nThis patch hopefully reduces the layers to a more\nsane set.\n\nChange-Id: I5f1a8c8465fa27b01342315dac5db0046cfb2e18\n'}]",0,503455,6d60482158e7a4ba12ec1c2000f5193daa8c512e,10,4,2,6816,,,0,"Flatten the role task includes

Currently there are several layers to work through
when following what happens in the role. This is
confusing and somewhat frustrating.

This patch hopefully reduces the layers to a more
sane set.

Change-Id: I5f1a8c8465fa27b01342315dac5db0046cfb2e18
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/55/503455/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/install_offline.yml', 'tasks/install_online.yml', 'tasks/install.yml']",4,cf382d78814587679261de778f4b78c491a518a3,,,"--- # Copyright 2016, Logan Vig <logan2211@gmail.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - include: pre_install.yml - include: ""install_{{ pip_offline_install | ternary('offline', 'online') }}.yml"" ",9,23
openstack%2Fos-client-config~master~I344cd6ce38d8db8fe24e1611c9c61e1ffa1b586d,openstack/os-client-config,master,I344cd6ce38d8db8fe24e1611c9c61e1ffa1b586d,Updates for stestr,MERGED,2017-09-14 22:12:53.000000000,2017-09-15 19:18:05.000000000,2017-09-15 19:18:05.000000000,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2017-09-14 22:12:53.000000000', 'files': ['.gitignore', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/6f72637fb6356d39adee82a2718118156ae4a6bf', 'message': 'Updates for stestr\n\nChange-Id: I344cd6ce38d8db8fe24e1611c9c61e1ffa1b586d\n'}]",0,504261,6f72637fb6356d39adee82a2718118156ae4a6bf,6,2,1,970,,,0,"Updates for stestr

Change-Id: I344cd6ce38d8db8fe24e1611c9c61e1ffa1b586d
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/61/504261/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini', '.stestr.conf']",3,6f72637fb6356d39adee82a2718118156ae4a6bf,,[DEFAULT] test_path=. top_dir=./ ,,7,0
openstack%2Fos-client-config~master~I6ecb4e80d2944bf592a2cbd41695643bc49f832d,openstack/os-client-config,master,I6ecb4e80d2944bf592a2cbd41695643bc49f832d,Updated from global requirements,MERGED,2017-09-11 21:46:23.000000000,2017-09-15 19:16:03.000000000,2017-09-15 19:16:03.000000000,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2017-09-11 21:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/6802943424288049edbf058e414b442f4a3148b6', 'message': 'Updated from global requirements\n\nChange-Id: I6ecb4e80d2944bf592a2cbd41695643bc49f832d\n'}, {'number': 2, 'created': '2017-09-13 13:00:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/3fb4fec1d6ab2c72f72997533792fbe5d05936de', 'message': 'Updated from global requirements\n\nChange-Id: I6ecb4e80d2944bf592a2cbd41695643bc49f832d\n'}]",0,502832,3fb4fec1d6ab2c72f72997533792fbe5d05936de,9,2,2,11131,,,0,"Updated from global requirements

Change-Id: I6ecb4e80d2944bf592a2cbd41695643bc49f832d
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/32/502832/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6802943424288049edbf058e414b442f4a3148b6,openstack/requirements,"jsonschema<3.0.0,>=2.6.0 # MIT","jsonschema!=2.5.0,<3.0.0,>=2.0.0 # MIT",1,1
openstack%2Fpython-openstackclient~master~I2cce7f4780ce418398b17a5848def9072372841e,openstack/python-openstackclient,master,I2cce7f4780ce418398b17a5848def9072372841e,Fix subunit collection in functional tests with ostestr>=1.0.0,MERGED,2017-09-14 21:31:27.000000000,2017-09-15 19:14:50.000000000,2017-09-15 19:14:50.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-09-14 21:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3048fffd0c0802e9a94f56a9fa411f4fda870582', 'message': 'Fix subunit collection in functional tests with ostestr>=1.0.0\n\nWith the release of os-testr 1.0.0 stestr is used internally and because\nof that the repository dir and commands to get subunit are different.\nThis commit updates the post-test hook to get the subunit stream if\nostestr>=1.0.0 is used.\n\nChange-Id: I2cce7f4780ce418398b17a5848def9072372841e\n'}, {'number': 2, 'created': '2017-09-15 15:36:02.000000000', 'files': ['openstackclient/tests/functional/post_test_hook.sh', 'openstackclient/tests/functional/post_test_hook_tips.sh'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/12552cee707da63a5f76adab5e16b34d738b027a', 'message': 'Fix subunit collection in functional tests with ostestr>=1.0.0\n\nWith the release of os-testr 1.0.0 stestr is used internally and because\nof that the repository dir and commands to get subunit are different.\nThis commit updates the post-test hook to get the subunit stream if\nostestr>=1.0.0 is used.\n\nChange-Id: I2cce7f4780ce418398b17a5848def9072372841e\n'}]",2,504250,12552cee707da63a5f76adab5e16b34d738b027a,13,3,2,5196,,,0,"Fix subunit collection in functional tests with ostestr>=1.0.0

With the release of os-testr 1.0.0 stestr is used internally and because
of that the repository dir and commands to get subunit are different.
This commit updates the post-test hook to get the subunit stream if
ostestr>=1.0.0 is used.

Change-Id: I2cce7f4780ce418398b17a5848def9072372841e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/50/504250/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/post_test_hook.sh'],1,3048fffd0c0802e9a94f56a9fa411f4fda870582,504250, elif [ -f .stestr/0 ]; then sudo .tox/functional/bin/stestr last --subunit > $WORKSPACE/testrepository.subunit sudo mv $WORKSPACE/testrepository.subunit $BASE/logs/testrepository.subunit sudo .tox/functional/bin/subunit2html $BASE/logs/testrepository.subunit $BASE/logs/testr_results.html sudo gzip -9 $BASE/logs/testrepository.subunit sudo gzip -9 $BASE/logs/testr_results.html sudo chown jenkins:jenkins $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz sudo chmod a+r $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz,,9,0
openstack%2Ftempest~master~Iebd607496ee6ae3d1d4a2a7b91315a1f97fe8b48,openstack/tempest,master,Iebd607496ee6ae3d1d4a2a7b91315a1f97fe8b48,Fix a typo of a missing letter,MERGED,2017-09-15 04:37:57.000000000,2017-09-15 19:10:33.000000000,2017-09-15 15:59:16.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 12033}]","[{'number': 1, 'created': '2017-09-15 04:37:57.000000000', 'files': ['tools/tempest-plugin-sanity.sh'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe879eaa2a0fa20724f5114b037970664c751644', 'message': 'Fix a typo of a missing letter\n\nFix typo of a missing letter of comment out.\n\nChange-Id: Iebd607496ee6ae3d1d4a2a7b91315a1f97fe8b48\n'}]",0,504327,fe879eaa2a0fa20724f5114b037970664c751644,10,4,1,26889,,,0,"Fix a typo of a missing letter

Fix typo of a missing letter of comment out.

Change-Id: Iebd607496ee6ae3d1d4a2a7b91315a1f97fe8b48
",git fetch https://review.opendev.org/openstack/tempest refs/changes/27/504327/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tempest-plugin-sanity.sh'],1,fe879eaa2a0fa20724f5114b037970664c751644,bug/fix-typols,# * Retrieve the project lists having tempest plugin if project name is,# * Retrive the project lists having tempest plugin if project name is,1,1
openstack%2Fswift~master~Ie6e2d116b65938edac29efa6171e2470bb3e8e12,openstack/swift,master,Ie6e2d116b65938edac29efa6171e2470bb3e8e12,Fix converging unbalance state at ring builder rebalance,ABANDONED,2017-06-30 09:21:10.000000000,2017-09-15 19:07:37.000000000,,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 4608}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-06-30 09:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7182dfe7efa5004a26b1ee5701ac658140176870', 'message': 'Fix converging unbalance state at ring builder rebalance\n\nWhen deploying some nodes into a swift cluster with unbalance\nstatement with no overload, the ring is able to be converged\ninto BOTH NOT BALANCED AND NOT DISPERSED. That can happen if all\nexpected partitions weren\'t moved at a rebalance due to a constraint\nthat ""only one replica can be moved for each partition at once"".\n\nThis unfortunate behaivor is from gather_part mechanism that could skip\nthe most overweight device even the device satisfy only a tier\n(e.g. the replica is sufficient for region-zone replica plan but not\nsufficient for rergion or region-zone-ip replica plan)\n\nThis patch make the constraint more strong as ""able to skip only ALL\nTIERS ARE SUFFICIENT FOR EACH REPLCIA PLAN"". That enables\nswift-ring-builder rebalance to converge into balanced state after\na few times rebalance calls.\n\nChange-Id: Ie6e2d116b65938edac29efa6171e2470bb3e8e12\nCloses-Bug: #1701472\n'}, {'number': 2, 'created': '2017-07-03 03:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9154a67f4ae90bdb3c1bcc1da4bac792337cb4af', 'message': 'Fix converging unbalance state at ring builder rebalance\n\nWhen deploying some nodes into a swift cluster with unbalance\nstatement with no overload, the ring is able to be converged\ninto BOTH NOT BALANCED AND NOT DISPERSED. That can happen if all\nexpected partitions weren\'t moved at a rebalance due to a constraint\nthat ""only one replica can be moved for each partition at once"".\n\nThis unfortunate behaivor is from gather_part mechanism that could skip\nthe most overweight device even the device satisfy only a tier\n(e.g. the replica is sufficient for region-zone replica plan but not\nsufficient for rergion or region-zone-ip replica plan)\n\nThis patch make the constraint more strong as ""able to skip only ALL\nTIERS ARE SUFFICIENT FOR EACH REPLCIA PLAN"". That enables\nswift-ring-builder rebalance to converge into balanced state after\na few times rebalance calls.\n\nChange-Id: Ie6e2d116b65938edac29efa6171e2470bb3e8e12\nCloses-Bug: #1701472\n'}, {'number': 3, 'created': '2017-08-09 10:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/248eecd26d97f765ad78cbda31ee3c46a9b73aa4', 'message': 'Fix converging unbalance state at ring builder rebalance\n\nWhen deploying some nodes into a swift cluster with unbalance\nstatement with no overload, the ring is able to be converged\ninto BOTH NOT BALANCED AND NOT DISPERSED. That can happen if all\nexpected partitions weren\'t moved at a rebalance due to a constraint\nthat ""only one replica can be moved for each partition at once"".\n\nThis unfortunate behaivor is from gather_part mechanism that could skip\nthe most overweight device even the device satisfy only a tier\n(e.g. the replica is sufficient for region-zone replica plan but not\nsufficient for rergion or region-zone-ip replica plan)\n\nThis patch make the constraint more strong as ""able to skip only ALL\nTIERS ARE SUFFICIENT FOR EACH REPLCIA PLAN"". That enables\nswift-ring-builder rebalance to converge into balanced state after\na few times rebalance calls.\n\nChange-Id: Ie6e2d116b65938edac29efa6171e2470bb3e8e12\nCloses-Bug: #1701472\n'}, {'number': 4, 'created': '2017-09-12 19:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d38d80a4d31b36ca5d153ebfa036f6549928bdaf', 'message': 'Fix converging unbalance state at ring builder rebalance\n\nWhen deploying some nodes into a swift cluster with unbalance\nstatement with no overload, the ring is able to be converged\ninto BOTH NOT BALANCED AND NOT DISPERSED. That can happen if all\nexpected partitions weren\'t moved at a rebalance due to a constraint\nthat ""only one replica can be moved for each partition at once"".\n\nThis unfortunate behaivor is from gather_part mechanism that could skip\nthe most overweight device even the device satisfy only a tier\n(e.g. the replica is sufficient for region-zone replica plan but not\nsufficient for rergion or region-zone-ip replica plan)\n\nThis patch make the constraint more strong as ""able to skip only ALL\nTIERS ARE SUFFICIENT FOR EACH REPLCIA PLAN"". That enables\nswift-ring-builder rebalance to converge into balanced state after\na few times rebalance calls.\n\nChange-Id: Ie6e2d116b65938edac29efa6171e2470bb3e8e12\nCloses-Bug: #1701472\n'}, {'number': 5, 'created': '2017-09-13 17:42:19.000000000', 'files': ['test/unit/common/ring/test_utils.py', 'swift/common/ring/builder.py', 'test/unit/common/ring/test_builder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c4bac310bf83ac706f30b319bfbf81f9795832a3', 'message': 'Fix converging unbalance state at ring builder rebalance\n\nWhen deploying some nodes into a swift cluster with unbalance\nstatement with no overload, the ring is able to be converged\ninto BOTH NOT BALANCED AND NOT DISPERSED. That can happen if all\nexpected partitions weren\'t moved at a rebalance due to a constraint\nthat ""only one replica can be moved for each partition at once"".\n\nThis unfortunate behaivor is from gather_part mechanism that could skip\nthe most overweight device even the device satisfy only a tier\n(e.g. the replica is sufficient for region-zone replica plan but not\nsufficient for rergion or region-zone-ip replica plan)\n\nThis patch make the constraint more strong as ""able to skip only ALL\nTIERS ARE SUFFICIENT FOR EACH REPLCIA PLAN"". That enables\nswift-ring-builder rebalance to converge into balanced state after\na few times rebalance calls.\n\nChange-Id: Ie6e2d116b65938edac29efa6171e2470bb3e8e12\nCloses-Bug: #1701472\n'}]",9,479223,c4bac310bf83ac706f30b319bfbf81f9795832a3,24,5,5,4608,,,0,"Fix converging unbalance state at ring builder rebalance

When deploying some nodes into a swift cluster with unbalance
statement with no overload, the ring is able to be converged
into BOTH NOT BALANCED AND NOT DISPERSED. That can happen if all
expected partitions weren't moved at a rebalance due to a constraint
that ""only one replica can be moved for each partition at once"".

This unfortunate behaivor is from gather_part mechanism that could skip
the most overweight device even the device satisfy only a tier
(e.g. the replica is sufficient for region-zone replica plan but not
sufficient for rergion or region-zone-ip replica plan)

This patch make the constraint more strong as ""able to skip only ALL
TIERS ARE SUFFICIENT FOR EACH REPLCIA PLAN"". That enables
swift-ring-builder rebalance to converge into balanced state after
a few times rebalance calls.

Change-Id: Ie6e2d116b65938edac29efa6171e2470bb3e8e12
Closes-Bug: #1701472
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/479223/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'test/unit/common/ring/test_builder.py']",2,7182dfe7efa5004a26b1ee5701ac658140176870,unbalanceable-rings," self.assertEqual(part_counts[0], 210) self.assertEqual(part_counts[1], 207) self.assertEqual(part_counts[2], 351) self.assertEqual(part_counts['127.0.0.1'], 230) self.assertEqual(part_counts['127.0.0.2'], 232) self.assertEqual(part_counts['127.0.0.3'], 306) def test_unbalance_ring_converge(self): rb = ring.RingBuilder(8, 6, 0) # 3 regions, 2 zone for each region, 1 server and device for each zone for _id in range(0, 6): rb.add_dev({'id': _id, 'region': _id % 3, 'zone': _id % 2, 'weight': 1000, 'ip': '127.0.0.%s' % _id, 'port': 10000, 'device': 'sda'}) rb.rebalance(seed=7) # sanity, all balanced and 0 dispersion self.assertEqual(rb.get_balance(), 0) self.assertEqual(rb.dispersion, 0) # add one device for z1 for each region for _id in range(6, 9): rb.add_dev({'id': _id, 'region': _id % 3, 'zone': 1, 'weight': 1000, 'ip': '127.0.0.%s' % _id, 'port': 10000, 'device': 'sda'}) changed_part, _, _ = rb.rebalance(seed=7) # sanity, all part but only one replica moved to new devices self.assertEqual(changed_part, 2 ** 8) # but the first time, those are still unbalance becase ring builder # can move only one replica for each part self.assertEqual(rb.get_balance(), 50.1953125) self.assertEqual(rb.dispersion, 50.390625) # do rebalance to converge to close balance 0 before = rb.get_balance() for x in range(6): rb.rebalance(seed=7) self.assertLessEqual(rb.get_balance(), before) before = rb.get_balance() # converge into around 0~1 self.assertGreaterEqual(rb.get_balance(), 0) self.assertLess(rb.get_balance(), 1) self.assertEqual(rb.get_balance(), 1554.2968749999998) 0: 121, 1: 120, 2: 120, 3: 120, 4: 85, 5: 202, 0: 1554.2968749999998, 1: 1540.6249999999998, 2: 1540.6249999999998, 3: 1540.6249999999998, 4: 1062.109375, 5: -72.3828125, self.assertEqual(rb.get_balance(), 39.6015625) 0: 138, 1: 139, 2: 138, 3: 137, 4: 214, 5: 2, 0: -9.976562499999986, 1: -9.324218749999986, 2: -9.976562499999986, 3: -10.628906249999986, 4: 39.6015625, 5: 30.46875,"," self.assertEqual(part_counts[0], 212) self.assertEqual(part_counts[1], 211) self.assertEqual(part_counts[2], 345) self.assertEqual(part_counts['127.0.0.1'], 238) self.assertEqual(part_counts['127.0.0.2'], 237) self.assertEqual(part_counts['127.0.0.3'], 293) self.assertEqual(rb.get_balance(), 1581.6406249999998) 0: 123, 1: 123, 2: 123, 3: 123, 4: 79, 5: 197, 0: 1581.6406249999998, 1: 1581.6406249999998, 2: 1581.6406249999998, 3: 1581.6406249999998, 4: 980.078125, 5: -73.06640625, self.assertEqual(rb.get_balance(), 95.703125) 0: 134, 1: 134, 2: 134, 3: 133, 4: 230, 5: 3, 0: -12.585937499999986, 1: -12.585937499999986, 2: -12.585937499999986, 3: -13.238281249999986, 4: 50.0390625, 5: 95.703125,",74,33
openstack%2Fopenstack-helm~master~I1db509bcc863068d9bcd330529f91ade3d01f03c,openstack/openstack-helm,master,I1db509bcc863068d9bcd330529f91ade3d01f03c,[DNM] fail,ABANDONED,2017-09-08 15:49:25.000000000,2017-09-15 19:00:35.000000000,,"[{'_account_id': 3}, {'_account_id': 8898}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-09-08 15:49:25.000000000', 'files': ['tools/gate/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f12276e014d35649245b4dfbce39a19d8de13baa', 'message': '[DNM] fail\n\nChange-Id: I1db509bcc863068d9bcd330529f91ade3d01f03c\n'}]",0,502107,f12276e014d35649245b4dfbce39a19d8de13baa,7,3,1,8898,,,0,"[DNM] fail

Change-Id: I1db509bcc863068d9bcd330529f91ade3d01f03c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/502107/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/setup_gate.sh'],1,f12276e014d35649245b4dfbce39a19d8de13baa,cw-failbot, # fail now... exit 7 ,,4,0
openstack%2Fneutron~master~I1c0902e3c06886812029fae0e4435bb6674f57df,openstack/neutron,master,I1c0902e3c06886812029fae0e4435bb6674f57df,Fix missing super's skip_checks(),MERGED,2017-09-14 20:47:29.000000000,2017-09-15 18:56:10.000000000,2017-09-15 01:58:05.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-09-14 20:47:29.000000000', 'files': ['neutron/tests/tempest/api/test_dhcp_ipv6.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9d0c5418dcf397fe06976aae5d1749ec99a662a', 'message': ""Fix missing super's skip_checks()\n\nThe skip_checks of NetworksTestDHCPv6 didn't call super's skip_checks().\n\nChange-Id: I1c0902e3c06886812029fae0e4435bb6674f57df\nCloses-Bug: 1717358\n""}]",0,504227,b9d0c5418dcf397fe06976aae5d1749ec99a662a,13,4,1,7715,,,0,"Fix missing super's skip_checks()

The skip_checks of NetworksTestDHCPv6 didn't call super's skip_checks().

Change-Id: I1c0902e3c06886812029fae0e4435bb6674f57df
Closes-Bug: 1717358
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/504227/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/api/test_dhcp_ipv6.py'],1,b9d0c5418dcf397fe06976aae5d1749ec99a662a,bug/1717358," super(NetworksTestDHCPv6, cls).skip_checks()",,1,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fpike~Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e,openstack/openstack-ansible-lxc_hosts,stable/pike,Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e,Fix lxc_net configuration for CentOS/SUSE,MERGED,2017-09-15 16:14:04.000000000,2017-09-15 18:53:59.000000000,2017-09-15 18:53:59.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-15 16:14:04.000000000', 'files': ['templates/lxc-net-suseredhat-postdown.cfg.j2', 'tasks/lxc_net.yml', 'templates/lxc-net-suseredhat-postup.cfg.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tasks/lxc_install_zypper.yml', 'tasks/lxc_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e52fb31f6a6b6e64045d3478e821dd0535c97b97', 'message': 'Fix lxc_net configuration for CentOS/SUSE\n\nFor CentOS/Red Hat and SUSE the network post-up/post-down scripts are\nconfigured after the bridge has been brought up, and the handlers have\nbeen flushed.\n\nWe need to configure the post-up and post-down scripts before the\nrestart bridge handler is flushed, so that dnsmasq is configured and\nrunning before we attempt to install packages into the container.\n\nChange-Id: Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e\n(cherry picked from commit eee919ad21d5f03582a6cb537bf37f18db6f8661)\n'}]",0,504445,e52fb31f6a6b6e64045d3478e821dd0535c97b97,7,3,1,2799,,,0,"Fix lxc_net configuration for CentOS/SUSE

For CentOS/Red Hat and SUSE the network post-up/post-down scripts are
configured after the bridge has been brought up, and the handlers have
been flushed.

We need to configure the post-up and post-down scripts before the
restart bridge handler is flushed, so that dnsmasq is configured and
running before we attempt to install packages into the container.

Change-Id: Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e
(cherry picked from commit eee919ad21d5f03582a6cb537bf37f18db6f8661)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/45/504445/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lxc-net-suseredhat-postdown.cfg.j2', 'tasks/lxc_net.yml', 'templates/lxc-net-suseredhat-postup.cfg.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tasks/lxc_install_zypper.yml', 'tasks/lxc_install_yum.yml']",7,e52fb31f6a6b6e64045d3478e821dd0535c97b97,,,"- name: Drop post up script copy: content: | #!/usr/bin/env bash if [ ""${DEVICE}"" == ""{{ lxc_net_bridge }}"" ];then if [ ""{{ lxc_net_nat }}"" == ""True"" ];then /usr/local/bin/lxc-system-manage iptables-create /usr/local/bin/lxc-system-manage dnsmasq-start || true fi fi dest: ""/etc/sysconfig/network-scripts/ifup-post-{{ lxc_net_bridge }}"" owner: ""root"" group: ""root"" mode: ""0755"" tags: - lxc-post-up - lxc_hosts-config - name: Drop post down script copy: content: | #!/usr/bin/env bash if [ ""${DEVICE}"" == ""{{ lxc_net_bridge }}"" ];then if [ ""{{ lxc_net_nat }}"" == ""True"" ];then /usr/local/bin/lxc-system-manage dnsmasq-stop /usr/local/bin/lxc-system-manage iptables-remove fi fi dest: ""/etc/sysconfig/network-scripts/ifdown-post-{{ lxc_net_bridge }}"" owner: ""root"" group: ""root"" mode: ""0755"" tags: - lxc-post-down - lxc_hosts-config - name: Create networking post-up data lineinfile: dest: ""{{ item.dest }}"" line: ""{{ item.line }}"" insertbefore: ""^exit\ 0$"" with_items: - dest: ""/etc/sysconfig/network-scripts/ifup-post"" line: "". /etc/sysconfig/network-scripts/ifup-post-{{ lxc_net_bridge }}"" tags: - lxc-post-up - lxc_hosts-config - name: Create networking post-down data lineinfile: dest: ""{{ item.dest }}"" line: ""{{ item.line }}"" insertbefore: ""^exit\ 0$"" with_items: - dest: ""/etc/sysconfig/network-scripts/ifdown-post"" line: "". /etc/sysconfig/network-scripts/ifdown-post-{{ lxc_net_bridge }}"" tags: - lxc-post-down - lxc_hosts-config ",50,114
openstack%2Fnova~master~I45faffaba4d329433a33cfb5e64c89ce4885df46,openstack/nova,master,I45faffaba4d329433a33cfb5e64c89ce4885df46,Target context when setting instance to ERROR when over quota,MERGED,2017-09-13 21:42:03.000000000,2017-09-15 18:53:36.000000000,2017-09-15 01:50:28.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}]","[{'number': 1, 'created': '2017-09-13 21:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7bb06422afd227e3e21e04853e9ad5733d217e6', 'message': 'WIP: Target context when setting instance to ERROR when over quota\n\nWhen conductor does the quota recheck, the instances are created\nin a cell but when we update the instance and set it to ERROR state,\nwe were not targeting the context to the cell that the instance lives\nin, which leads to an InstanceNotFound error and then the instance\nis stuck in BUILD/scheduling state.\n\nThis targets the context to the cell when updating the instance.\n\nChange-Id: I45faffaba4d329433a33cfb5e64c89ce4885df46\nCloses-Bug: #1717000\n'}, {'number': 2, 'created': '2017-09-13 21:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/887304203f8dfb33b439fd7f6e271627593e730e', 'message': 'WIP: Target context when setting instance to ERROR when over quota\n\nWhen conductor does the quota recheck, the instances are created\nin a cell but when we update the instance and set it to ERROR state,\nwe were not targeting the context to the cell that the instance lives\nin, which leads to an InstanceNotFound error and then the instance\nis stuck in BUILD/scheduling state.\n\nThis targets the context to the cell when updating the instance.\n\nChange-Id: I45faffaba4d329433a33cfb5e64c89ce4885df46\nCloses-Bug: #1717000\n'}, {'number': 3, 'created': '2017-09-13 22:45:49.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e02f02d1501925ddeb15266c05d4d95f852e21a', 'message': 'Target context when setting instance to ERROR when over quota\n\nWhen conductor does the quota recheck, the instances are created\nin a cell but when we update the instance and set it to ERROR state,\nwe were not targeting the context to the cell that the instance lives\nin, which leads to an InstanceNotFound error and then the instance\nis stuck in BUILD/scheduling state.\n\nThis targets the context to the cell when updating the instance.\n\nChange-Id: I45faffaba4d329433a33cfb5e64c89ce4885df46\nCloses-Bug: #1717000\n'}]",1,503839,7e02f02d1501925ddeb15266c05d4d95f852e21a,38,9,3,6873,,,0,"Target context when setting instance to ERROR when over quota

When conductor does the quota recheck, the instances are created
in a cell but when we update the instance and set it to ERROR state,
we were not targeting the context to the cell that the instance lives
in, which leads to an InstanceNotFound error and then the instance
is stuck in BUILD/scheduling state.

This targets the context to the cell when updating the instance.

Change-Id: I45faffaba4d329433a33cfb5e64c89ce4885df46
Closes-Bug: #1717000
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/503839/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/conductor/manager.py']",2,c7bb06422afd227e3e21e04853e9ad5733d217e6,bug/1717000," cell = cell_mapping_cache[instance.uuid] with try_target_cell(context, cell) as cctxt: self._set_vm_state_and_notify(cctxt, instance.uuid, 'build_instances', updates, exc, legacy_spec) inst_mapping.cell_mapping = cell"," self._set_vm_state_and_notify(context, instance.uuid, 'build_instances', updates, exc, legacy_spec) inst_mapping.cell_mapping = cell_mapping_cache[instance.uuid]",8,4
openstack%2Foslo.messaging~master~Iab60544d69053c8e74c28a2d5c84665be749013f,openstack/oslo.messaging,master,Iab60544d69053c8e74c28a2d5c84665be749013f,Warn when wrong transport instance is used,MERGED,2017-09-06 22:57:44.000000000,2017-09-15 18:33:29.000000000,2017-09-15 18:33:29.000000000,"[{'_account_id': 3}, {'_account_id': 8770}, {'_account_id': 9796}, {'_account_id': 14758}, {'_account_id': 20523}]","[{'number': 1, 'created': '2017-09-06 22:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/882dded957c2901f9509ac5c035db821c45262ef', 'message': 'Warn when wrong transport instance is used\n\nSince RPC and notifications can have different backends, it is\nuseful to warn users if they use a notification transport in RPC and\nvice versa.\n\nRelated-Bug: #1680192\nChange-Id: Iab60544d69053c8e74c28a2d5c84665be749013f\n'}, {'number': 2, 'created': '2017-09-07 23:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fc6f7bdbf405f3afd0e3cbf236cfd9b41e96cb8f', 'message': ""Warn when wrong transport instance is used\n\nSince RPC and notifications can have different backends, it is\nuseful to warn users if they use a notification transport in RPC\nand vice versa. This patch introduces RPCTransport and\nNotificationTransport subclasses of Transport, so it's easier to\nadd different behavior for them if need be.\n\nRelated-Bug: #1680192\nChange-Id: Iab60544d69053c8e74c28a2d5c84665be749013f\n""}, {'number': 3, 'created': '2017-09-11 14:08:02.000000000', 'files': ['oslo_messaging/tests/notify/test_notifier.py', 'oslo_messaging/tests/test_transport.py', 'oslo_messaging/tests/rpc/test_client.py', 'oslo_messaging/tests/notify/test_listener.py', 'oslo_messaging/notify/listener.py', 'oslo_messaging/tests/notify/test_logger.py', 'oslo_messaging/notify/notifier.py', 'oslo_messaging/transport.py', 'oslo_messaging/rpc/transport.py', 'oslo_messaging/tests/notify/test_log_handler.py', 'oslo_messaging/rpc/server.py', 'oslo_messaging/rpc/client.py', 'oslo_messaging/tests/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/03b6f18f80b11e7067b94759c5da6a75f839bed7', 'message': ""Warn when wrong transport instance is used\n\nSince RPC and notifications can have different backends, it is\nuseful to warn users if they use a notification transport in RPC\nand vice versa. This patch introduces RPCTransport and\nNotificationTransport subclasses of Transport, so it's easier to\nadd different behavior for them if need be.\n\nRelated-Bug: #1680192\nChange-Id: Iab60544d69053c8e74c28a2d5c84665be749013f\n""}]",18,501488,03b6f18f80b11e7067b94759c5da6a75f839bed7,21,5,3,14758,,,0,"Warn when wrong transport instance is used

Since RPC and notifications can have different backends, it is
useful to warn users if they use a notification transport in RPC
and vice versa. This patch introduces RPCTransport and
NotificationTransport subclasses of Transport, so it's easier to
add different behavior for them if need be.

Related-Bug: #1680192
Change-Id: Iab60544d69053c8e74c28a2d5c84665be749013f
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/88/501488/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/transport.py', 'oslo_messaging/tests/notify/test_notifier.py', 'oslo_messaging/tests/test_transport.py', 'oslo_messaging/tests/rpc/test_client.py', 'oslo_messaging/rpc/transport.py', 'oslo_messaging/rpc/server.py', 'oslo_messaging/rpc/client.py', 'oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/notify/notifier.py']",9,882dded957c2901f9509ac5c035db821c45262ef,bug/1680192,"import debtcollector return msg_transport._get_transport(conf, url, allowed_remote_exmods, aliases, transport_type='notification') if transport.transport_type != 'notification': debtcollector.deprecate( 'Using RPC transport for notifications. Use ' 'get_notification_transport to obtain a notification ' 'transport instance', version='pike', removal_version='rocky')"," return msg_transport._get_transport(conf, url, allowed_remote_exmods, aliases)",78,9
openstack%2Fnova~stable%2Fpike~Ib58c487e97a041b8498746e8a276efffee239c56,openstack/nova,stable/pike,Ib58c487e97a041b8498746e8a276efffee239c56,Add a test to make sure failed evacuate cleans up dest allocation,MERGED,2017-09-12 19:59:25.000000000,2017-09-15 18:30:38.000000000,2017-09-15 18:30:38.000000000,"[{'_account_id': 3}, {'_account_id': 7166}, {'_account_id': 10135}]","[{'number': 1, 'created': '2017-09-12 19:59:25.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61ad70565e4d241f0a3f01d999e3aaf7a2eef3a3', 'message': 'Add a test to make sure failed evacuate cleans up dest allocation\n\nIf we actually make the MoveClaim but the evacuation fails\nin the virt driver, the drop_move_claim via the MoveClaim.abort\nwill remove the destination node allocation. This adds a functional\ntest to show that works.\n\nChange-Id: Ib58c487e97a041b8498746e8a276efffee239c56\nRelated-Bug: #1713786\n(cherry picked from commit 30946f9a5eeea839631cdb1dba9c26d45f7a8d00)\n'}]",0,503163,61ad70565e4d241f0a3f01d999e3aaf7a2eef3a3,10,3,1,6873,,,0,"Add a test to make sure failed evacuate cleans up dest allocation

If we actually make the MoveClaim but the evacuation fails
in the virt driver, the drop_move_claim via the MoveClaim.abort
will remove the destination node allocation. This adds a functional
test to show that works.

Change-Id: Ib58c487e97a041b8498746e8a276efffee239c56
Related-Bug: #1713786
(cherry picked from commit 30946f9a5eeea839631cdb1dba9c26d45f7a8d00)
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/503163/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,61ad70565e4d241f0a3f01d999e3aaf7a2eef3a3,bug/1713786," def test_evacuate_rebuild_on_dest_fails(self): """"""Tests that the allocations on the destination node are cleaned up by the drop_move_claim in the ResourceTracker automatically when the claim is made but the actual rebuild via the driver fails. """""" source_hostname = self.compute1.host dest_hostname = self.compute2.host dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) def fake_rebuild(*args, **kwargs): # Assert the destination node allocation exists. dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) raise test.TestingException('test_evacuate_rebuild_on_dest_fails') with mock.patch.object( self.compute2.driver, 'rebuild', fake_rebuild): # evacuate the server self.api.post_server_action(server['id'], {'evacuate': {}}) # the migration will fail on the dest node and the instance will # go into error state server = self._wait_for_state_change(self.api, server, 'ERROR') # Run the periodics to show those don't modify allocations. self._run_periodics() # The allocation should still exist on the source node since it's # still down, and the allocation on the destination node should be # cleaned up. source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) # start up the source compute self.compute1.start() self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) # Run the periodics again to show they don't change anything. self._run_periodics() # The source compute shouldn't have cleaned up the allocation for # itself since the instance didn't move. source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) ",,72,0
openstack%2Fnova~stable%2Fpike~I8900ace4436c4837beb8b4eb1e1d05905efc6dce,openstack/nova,stable/pike,I8900ace4436c4837beb8b4eb1e1d05905efc6dce,Add recreate test for evacuate claim failure,MERGED,2017-09-12 19:59:25.000000000,2017-09-15 18:30:17.000000000,2017-09-15 18:30:17.000000000,"[{'_account_id': 3}, {'_account_id': 7166}, {'_account_id': 10135}]","[{'number': 1, 'created': '2017-09-12 19:59:25.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0375c2f9e5cc4dac7f8805382c09dbe6224dcd9', 'message': ""Add recreate test for evacuate claim failure\n\nThis adds a functional recreate test for when the MoveClaim\nfails on the destination node and the allocation on the\ndestination node is not cleaned up. This is because the\nMoveClaim fails in it's constructor so it never exits the\nClaim context manager to call the drop_move_claim which\nwould remove the destination node allocation.\n\nEventually we'll have to manually remove the destination\nnode allocation in the ComputeManager.rebuild_instance method.\n\nChange-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce\nRelated-Bug: #1713786\n(cherry picked from commit 6ed80ddcdd3f9e40f0ada581ac7bd524ec48135b)\n""}]",0,503162,d0375c2f9e5cc4dac7f8805382c09dbe6224dcd9,10,3,1,6873,,,0,"Add recreate test for evacuate claim failure

This adds a functional recreate test for when the MoveClaim
fails on the destination node and the allocation on the
destination node is not cleaned up. This is because the
MoveClaim fails in it's constructor so it never exits the
Claim context manager to call the drop_move_claim which
would remove the destination node allocation.

Eventually we'll have to manually remove the destination
node allocation in the ComputeManager.rebuild_instance method.

Change-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce
Related-Bug: #1713786
(cherry picked from commit 6ed80ddcdd3f9e40f0ada581ac7bd524ec48135b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/503162/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,d0375c2f9e5cc4dac7f8805382c09dbe6224dcd9,bug/1713786," def test_evacuate_claim_on_dest_fails(self): """"""Tests that the allocations on the destination node are cleaned up when the rebuild move claim fails due to insufficient resources. """""" source_hostname = self.compute1.host dest_hostname = self.compute2.host dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) # NOTE(mriedem): This isn't great, and I'd like to fake out the driver # to make the claim fail, by doing something like returning a too high # memory_mb overhead, but the limits dict passed to the claim is empty # so the claim test is considering it as unlimited and never actually # performs a claim test. Configuring the scheduler to use the RamFilter # to get the memory_mb limit at least seems like it should work but # it doesn't appear to for some reason... def fake_move_claim(*args, **kwargs): # Assert the destination node allocation exists. dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) raise exception.ComputeResourcesUnavailable( reason='test_evacuate_claim_on_dest_fails') with mock.patch('nova.compute.claims.MoveClaim', fake_move_claim): # evacuate the server self.api.post_server_action(server['id'], {'evacuate': {}}) # the migration will fail on the dest node and the instance will # go into error state server = self._wait_for_state_change(self.api, server, 'ERROR') # Run the periodics to show those don't modify allocations. self._run_periodics() # The allocation should still exist on the source node since it's # still down, and the allocation on the destination node should be # cleaned up. source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) # FIXME(mriedem): This is bug 1713786 where the claim fails and the # dest node allocation isn't cleaned up. Uncomment when fixed. # self.assertFlavorMatchesAllocation( # {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # FIXME(mriedem): Uncomment when bug 1713786 is fixed. # self.assertEqual(1, len(allocations)) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # start up the source compute self.compute1.start() self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) # Run the periodics again to show they don't change anything. self._run_periodics() # The source compute shouldn't have cleaned up the allocation for # itself since the instance didn't move. source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # FIXME(mriedem): Uncomment when bug 1713786 is fixed. # self.assertEqual(1, len(allocations)) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) ",,89,0
openstack%2Fnova~master~I49db096dd3056a4fd2ec6e6603b59e70a8d25480,openstack/nova,master,I49db096dd3056a4fd2ec6e6603b59e70a8d25480,Cleanup running of osprofiler tests,MERGED,2017-09-13 21:23:56.000000000,2017-09-15 18:16:49.000000000,2017-09-14 00:53:24.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 14595}, {'_account_id': 15751}]","[{'number': 1, 'created': '2017-09-13 21:23:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/531abe778a18356113f4e457d7931993501eb6c1', 'message': ""Cleanup running of osprofiler tests\n\nNow that we're using stestr directly we have more flexibility on how we\nrun the osprofiler tests. This patch makes it run second without test\ndiscovery and combines the subunit output with the results of the\nprevious full test run.\n\nChange-Id: I49db096dd3056a4fd2ec6e6603b59e70a8d25480\n""}]",0,503831,531abe778a18356113f4e457d7931993501eb6c1,14,6,1,5196,,,0,"Cleanup running of osprofiler tests

Now that we're using stestr directly we have more flexibility on how we
run the osprofiler tests. This patch makes it run second without test
discovery and combines the subunit output with the results of the
previous full test run.

Change-Id: I49db096dd3056a4fd2ec6e6603b59e70a8d25480
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/503831/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,531abe778a18356113f4e457d7931993501eb6c1,Ib0fbcb2e7710a6b8219c56ef2a4462c61ea498a9, env TEST_OSPROFILER=1 stestr run --combine --no-discover 'nova.tests.unit.test_profiler' env TEST_OSPROFILER=1 stestr run --combine --no-discover 'nova.tests.unit.test_profiler' , env TEST_OSPROFILER=1 stestr run 'nova.tests.unit.test_profiler' env TEST_OSPROFILER=1 stestr run 'nova.tests.unit.test_profiler',3,2
openstack%2Fnetworking-midonet~stable%2Fpike~I434a600b86767f498be40da51b1bbe480a6828ef,openstack/networking-midonet,stable/pike,I434a600b86767f498be40da51b1bbe480a6828ef,Update tox_install for stable/pike,MERGED,2017-09-14 17:16:31.000000000,2017-09-15 18:07:02.000000000,2017-09-15 18:07:02.000000000,"[{'_account_id': 3}, {'_account_id': 748}]","[{'number': 1, 'created': '2017-09-14 17:16:31.000000000', 'files': ['tools/tox_install_project.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b2a11b2296975f33a0d963c8f4bddfc1939b5360', 'message': 'Update tox_install for stable/pike\n\nCloses-Bug: #1716875\nChange-Id: I434a600b86767f498be40da51b1bbe480a6828ef\n'}]",0,504133,b2a11b2296975f33a0d963c8f4bddfc1939b5360,6,2,1,6854,,,0,"Update tox_install for stable/pike

Closes-Bug: #1716875
Change-Id: I434a600b86767f498be40da51b1bbe480a6828ef
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/33/504133/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install_project.sh'],1,b2a11b2296975f33a0d963c8f4bddfc1939b5360,bug/1716875,BRANCH_NAME=stable/pike,BRANCH_NAME=master,1,1
openstack%2Fnova~master~Ib0fbcb2e7710a6b8219c56ef2a4462c61ea498a9,openstack/nova,master,Ib0fbcb2e7710a6b8219c56ef2a4462c61ea498a9,Fix test runner config issues with os-testr 1.0.0,MERGED,2017-09-13 20:42:28.000000000,2017-09-15 18:05:57.000000000,2017-09-14 00:52:57.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-09-13 20:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ee085c427e0e168cb9bfe3de8b57a8f7eacfe23', 'message': ""Fix test runner config issues with os-testr 1.0.0\n\nThe os-testr 1.0.0 release had a couple of required config changes due\nto it's internal usage of stestr. This commit fixes those by adding a\n.stestr.conf (to remove a warning) sets the fixture env variables in\nthe tox.ini instead of being hidden in .testr.conf and removing the\nquotes around posargs to make passing args to ostestr actually work.\n\nChange-Id: Ib0fbcb2e7710a6b8219c56ef2a4462c61ea498a9\n""}, {'number': 2, 'created': '2017-09-13 21:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78c75b83322c55f1432d51b562997f9142016415', 'message': ""Fix test runner config issues with os-testr 1.0.0\n\nThe os-testr 1.0.0 release had a couple of required config changes due\nto it's internal usage of stestr. This commit fixes those by adding a\n.stestr.conf (to remove a warning) sets the fixture env variables in\nthe tox.ini instead of being hidden in .testr.conf and removing the\nquotes around posargs to make passing args to ostestr actually work.\nAlso to keep the expected dev experience stestr is used directly for\nplaces where ostestr was called directly.\n\nChange-Id: Ib0fbcb2e7710a6b8219c56ef2a4462c61ea498a9\n""}, {'number': 3, 'created': '2017-09-13 21:12:21.000000000', 'files': ['.gitignore', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/nova/commit/d083eceea39cd3c154d3afdcaef8cb40ed05a798', 'message': ""Fix test runner config issues with os-testr 1.0.0\n\nThe os-testr 1.0.0 release had a couple of required config changes due\nto it's internal usage of stestr. This commit fixes those by adding a\n.stestr.conf (to remove a warning) sets the fixture env variables in\nthe tox.ini instead of being hidden in .testr.conf and removing the\nquotes around posargs to make passing args to ostestr actually work.\nAlso to keep the expected dev experience stestr is used directly for\nplaces where ostestr was called directly.\n\nChange-Id: Ib0fbcb2e7710a6b8219c56ef2a4462c61ea498a9\n""}]",3,503811,d083eceea39cd3c154d3afdcaef8cb40ed05a798,27,10,3,5196,,,0,"Fix test runner config issues with os-testr 1.0.0

The os-testr 1.0.0 release had a couple of required config changes due
to it's internal usage of stestr. This commit fixes those by adding a
.stestr.conf (to remove a warning) sets the fixture env variables in
the tox.ini instead of being hidden in .testr.conf and removing the
quotes around posargs to make passing args to ostestr actually work.
Also to keep the expected dev experience stestr is used directly for
places where ostestr was called directly.

Change-Id: Ib0fbcb2e7710a6b8219c56ef2a4462c61ea498a9
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/503811/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini', '.stestr.conf']",3,1ee085c427e0e168cb9bfe3de8b57a8f7eacfe23,Ib0fbcb2e7710a6b8219c56ef2a4462c61ea498a9,[DEFAULT] test_path=${OS_TEST_PATH:-./nova/tests} top_dir=./ group_regex=nova\.tests\.functional\.api\.openstack\.placement\.test_placement_api(?:\.|_)([^_]+) ,,9,1
openstack%2Fnova~stable%2Fpike~Ic6f81dc1f8b3610e181914f6d977652cb6d3f6d0,openstack/nova,stable/pike,Ic6f81dc1f8b3610e181914f6d977652cb6d3f6d0,libvirt: Fix getting a wrong guest object,MERGED,2017-08-28 14:22:13.000000000,2017-09-15 18:05:26.000000000,2017-09-15 18:05:26.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 24713}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-28 14:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb8b8a423da2d4131a4633c62adeda43a00fb108', 'message': 'libvirt: Fix getting a wrong guest object\n\nIf trying to create a new VM with the same instance name on the same\ncompute host, old existing VM become destroyed. guest object is get by\ninstance name so returned object is existing active instance and it is\ndestroyed. However this destroying is not intended situation. This\ncommit makes get the correct guest object by using UUID.\n\nCo-Authored-By: Maciej Kucia <m.kucia@partner.samsung.com>\nChange-Id: Ic6f81dc1f8b3610e181914f6d977652cb6d3f6d0\nCloses-Bug: #1712460\nSigned-off-by: Wonil Choi <wonil22.choi@samsung.com>\nSigned-off-by: Maciej Kucia <m.kucia@partner.samsung.com>\n'}, {'number': 2, 'created': '2017-08-28 19:40:57.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/libvirt/test_fakelibvirt.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/98f0d8162167d1ff6e680adbc622ff7dbadc5a9a', 'message': 'libvirt: Fix getting a wrong guest object\n\nIf trying to create a new VM with the same instance name on the same\ncompute host, old existing VM become destroyed. guest object is get by\ninstance name so returned object is existing active instance and it is\ndestroyed. However this destroying is not intended situation. This\ncommit makes get the correct guest object by using UUID.\n\nCo-Authored-By: Maciej Kucia <m.kucia@partner.samsung.com>\nChange-Id: Ic6f81dc1f8b3610e181914f6d977652cb6d3f6d0\nCloses-Bug: #1712460\nSigned-off-by: Wonil Choi <wonil22.choi@samsung.com>\nSigned-off-by: Maciej Kucia <m.kucia@partner.samsung.com>\n(cherry picked from commit ac4705516ada36794c7cc6626875c74c4ef8e547)\n'}]",0,498477,98f0d8162167d1ff6e680adbc622ff7dbadc5a9a,31,10,2,2750,,,0,"libvirt: Fix getting a wrong guest object

If trying to create a new VM with the same instance name on the same
compute host, old existing VM become destroyed. guest object is get by
instance name so returned object is existing active instance and it is
destroyed. However this destroying is not intended situation. This
commit makes get the correct guest object by using UUID.

Co-Authored-By: Maciej Kucia <m.kucia@partner.samsung.com>
Change-Id: Ic6f81dc1f8b3610e181914f6d977652cb6d3f6d0
Closes-Bug: #1712460
Signed-off-by: Wonil Choi <wonil22.choi@samsung.com>
Signed-off-by: Maciej Kucia <m.kucia@partner.samsung.com>
(cherry picked from commit ac4705516ada36794c7cc6626875c74c4ef8e547)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/498477/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/libvirt/test_fakelibvirt.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,bb8b8a423da2d4131a4633c62adeda43a00fb108,bug/1712460," self.create_fake_libvirt_mock(lookupByUUIDString=self.fake_lookup) lookupByUUIDString=self.fake_lookup) libvirt_driver.LibvirtDriver._conn.lookupByUUIDString \ = self.fake_lookup libvirt_driver.LibvirtDriver._conn.lookupByUUIDString \ = self.fake_lookup def fake_lookup(_uuid): if _uuid == instance.uuid: self.create_fake_libvirt_mock(lookupByUUIDString=fake_lookup) def fake_lookup(_uuid): if _uuid == instance.uuid: self.create_fake_libvirt_mock(lookupByUUIDString=fake_lookup) def fake_lookup(_uuid): if _uuid == instance.uuid: self.create_fake_libvirt_mock(lookupByUUIDString=fake_lookup) libvirt_driver.LibvirtDriver._conn.lookupByUUIDString = fake_lookup libvirt_driver.LibvirtDriver._conn.lookupByUUIDString = fake_lookup libvirt_driver.LibvirtDriver._conn.lookupByUUIDString = fake_lookup libvirt_driver.LibvirtDriver._conn.lookupByUUIDString = fake_lookup def fake_lookup(_uuid): if _uuid == instance['uuid']: self.create_fake_libvirt_mock(lookupByUUIDString=fake_lookup) def fake_lookup(_uuid): if _uuid == instance['uuid']: self.create_fake_libvirt_mock(lookupByUUIDString=fake_lookup) def fake_lookup(_uuid): if _uuid == instance['uuid']: self.create_fake_libvirt_mock(lookupByUUIDString=fake_lookup) def fake_lookup(_uuid): if _uuid == instance['uuid']: self.create_fake_libvirt_mock(lookupByUUIDString=fake_lookup) with mock.patch.object(drvr._conn, 'lookupByUUIDString') as lookup:"," self.create_fake_libvirt_mock(lookupByName=self.fake_lookup) lookupByName=self.fake_lookup) libvirt_driver.LibvirtDriver._conn.lookupByName = self.fake_lookup libvirt_driver.LibvirtDriver._conn.lookupByName = self.fake_lookup def fake_lookup(instance_name): if instance_name == instance.name: self.create_fake_libvirt_mock(lookupByName=fake_lookup) def fake_lookup(instance_name): if instance_name == instance.name: self.create_fake_libvirt_mock(lookupByName=fake_lookup) def fake_lookup(instance_name): if instance_name == instance.name: self.create_fake_libvirt_mock(lookupByName=fake_lookup) libvirt_driver.LibvirtDriver._conn.lookupByName = fake_lookup libvirt_driver.LibvirtDriver._conn.lookupByName = fake_lookup libvirt_driver.LibvirtDriver._conn.lookupByName = fake_lookup libvirt_driver.LibvirtDriver._conn.lookupByName = fake_lookup def fake_lookup(instance_name): if instance_name == instance['name']: self.create_fake_libvirt_mock(lookupByName=fake_lookup) def fake_lookup(instance_name): if instance_name == instance['name']: self.create_fake_libvirt_mock(lookupByName=fake_lookup) def fake_lookup(instance_name): if instance_name == instance['name']: self.create_fake_libvirt_mock(lookupByName=fake_lookup) def fake_lookup(instance_name): if instance_name == instance['name']: self.create_fake_libvirt_mock(lookupByName=fake_lookup) with mock.patch.object(drvr._conn, 'lookupByName') as lookup:",83,67
openstack%2Fnova~stable%2Fpike~I7d9c64c77586564fb3bdbe92c693bd2a1bc06f24,openstack/nova,stable/pike,I7d9c64c77586564fb3bdbe92c693bd2a1bc06f24,[placement] Require at least one resource class in allocation,MERGED,2017-08-31 14:23:00.000000000,2017-09-15 18:05:06.000000000,2017-09-15 18:05:06.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-08-31 14:23:00.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/allocations-bug-1714072.yaml', 'nova/api/openstack/placement/handlers/allocation.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b82aa3a9978ecb31632fae6b400d7fe9137c01b', 'message': '[placement] Require at least one resource class in allocation\n\nIf an allocation was made with an empty resources object, a 500 response\ncode would result. This change adjusts the schema to use minProperties\nof 1 to say there must be at least one resource class and value pair in\nthe allocation. If there is not a 400 response is returned.\n\nAs this is fixing 500 response to a useful error, no microversion is\nrequired. A previous gabbi file which demonstrated the problem has been\nupdated to demonstrate that the problem has been fixed.\n\nChange-Id: I7d9c64c77586564fb3bdbe92c693bd2a1bc06f24\nCloses-Bug: #1714072\n(cherry picked from commit 10f8a9aa127cfaecab368e26c3b896e203e301bc)\n'}]",0,499616,2b82aa3a9978ecb31632fae6b400d7fe9137c01b,17,7,1,6873,,,0,"[placement] Require at least one resource class in allocation

If an allocation was made with an empty resources object, a 500 response
code would result. This change adjusts the schema to use minProperties
of 1 to say there must be at least one resource class and value pair in
the allocation. If there is not a 400 response is returned.

As this is fixing 500 response to a useful error, no microversion is
required. A previous gabbi file which demonstrated the problem has been
updated to demonstrate that the problem has been fixed.

Change-Id: I7d9c64c77586564fb3bdbe92c693bd2a1bc06f24
Closes-Bug: #1714072
(cherry picked from commit 10f8a9aa127cfaecab368e26c3b896e203e301bc)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/499616/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/gabbits/allocations-bug-1714072.yaml', 'nova/api/openstack/placement/handlers/allocation.py']",2,2b82aa3a9978ecb31632fae6b400d7fe9137c01b,bug/1714072," ""minProperties"": 1,",,5,4
openstack%2Fnova~stable%2Fpike~I5ab417e39044af63fb9acb57c48c087ecf1e6f04,openstack/nova,stable/pike,I5ab417e39044af63fb9acb57c48c087ecf1e6f04,[placement] Add test for empty resources in allocation,MERGED,2017-08-31 14:23:00.000000000,2017-09-15 18:04:45.000000000,2017-09-15 18:04:44.000000000,"[{'_account_id': 3}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-08-31 14:23:00.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/allocations-bug-1714072.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/334905a753c660c5f02ec6c03c427ebbbaf4b89a', 'message': '[placement] Add test for empty resources in allocation\n\nIf the resources object in an allocation request is an empty dict then\nthere will be a 500 deep in the belly of the AllocationList object\nhandling when it tries get a information. The patch demonstrates the bug\nwith a new gabbi test that verfies the 500. The next patch will fix it.\n\nChange-Id: I5ab417e39044af63fb9acb57c48c087ecf1e6f04\nRelated-Bug: #1714072\n(cherry picked from commit ad2d3fc0f806f46382fa3c0a95c2a5d003d40736)\n'}]",0,499615,334905a753c660c5f02ec6c03c427ebbbaf4b89a,14,6,1,6873,,,0,"[placement] Add test for empty resources in allocation

If the resources object in an allocation request is an empty dict then
there will be a 500 deep in the belly of the AllocationList object
handling when it tries get a information. The patch demonstrates the bug
with a new gabbi test that verfies the 500. The next patch will fix it.

Change-Id: I5ab417e39044af63fb9acb57c48c087ecf1e6f04
Related-Bug: #1714072
(cherry picked from commit ad2d3fc0f806f46382fa3c0a95c2a5d003d40736)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/499615/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/gabbits/allocations-bug-1714072.yaml'],1,334905a753c660c5f02ec6c03c427ebbbaf4b89a,bug/1714072,"# Bug 1714072 describes a situation where a resource provider is present in the # body of an allocation, but the resources object is empty. There should be at # least one resource class and value pair. If there is not a 400 response # should be returned. This gabbit file demonstrates the problem: a 500 on the final # test. fixtures: - APIFixture defaults: request_headers: x-auth-token: admin accept: application/json content-type: application/json OpenStack-API-Version: placement latest tests: - name: create a resource provider POST: /resource_providers data: name: an rp status: 201 - name: get resource provider GET: $LOCATION status: 200 - name: add inventory to an rp PUT: $RESPONSE['$.links[?rel = ""inventories""].href'] data: resource_provider_generation: 0 inventories: VCPU: total: 24 MEMORY_MB: total: 1024 status: 200 - name: put a successful allocation PUT: /allocations/c9f0186b-64f8-44fb-b6c9-83008d8d6940 data: allocations: - resource_provider: uuid: $HISTORY['get resource provider'].$RESPONSE['$.uuid'] resources: VCPU: 1 MEMORY_MB: 1 project_id: 42a32c07-3eeb-4401-9373-68a8cdca6784 user_id: 66cb2f29-c86d-47c3-8af5-69ae7b778c70 status: 204 - name: fail with empty resources PUT: /allocations/c9f0186b-64f8-44fb-b6c9-83008d8d6940 data: allocations: - resource_provider: uuid: $HISTORY['get resource provider'].$RESPONSE['$.uuid'] resources: {} project_id: 42a32c07-3eeb-4401-9373-68a8cdca6784 user_id: 66cb2f29-c86d-47c3-8af5-69ae7b778c70 # This should be 400 status: 500 ",,63,0
openstack%2Fnova~stable%2Fpike~I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d,openstack/nova,stable/pike,I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d,Create allocations against forced dest host during evacuate,MERGED,2017-09-12 19:59:25.000000000,2017-09-15 18:04:08.000000000,2017-09-15 18:04:07.000000000,"[{'_account_id': 3}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10135}]","[{'number': 1, 'created': '2017-09-12 19:59:25.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'releasenotes/notes/bug-1713786-0ee9e543683dafa4.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/21150948246d52060a38e93f98982c2e5c9b347d', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n(cherry picked from commit d564266a019cb009ece1a63e5d544698f2bf74d1)\n'}]",0,503161,21150948246d52060a38e93f98982c2e5c9b347d,16,4,1,6873,,,0,"Create allocations against forced dest host during evacuate

If a host is specified during an evacuate with the force=True
flag, conductor bypasses the scheduler. Since the scheduler
is what creates the ""doubled up"" allocation on the destination
node, and the scheduler is bypassed in the force case, we have
to create the allocations against the destination node in
conductor directly.

The unit tests cover the failure scenarios. The functional
test covers the happy path.

This is a short-term backportable fix. Long-term we'll likely
want to call the scheduler even in the 'force' scenario but pass
a flag to the scheduler to tell it to skip the filters but still
create the allocation on the destination node so we don't have
to duplicate that in conductor.

Change-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d
Partial-Bug: #1713786
(cherry picked from commit d564266a019cb009ece1a63e5d544698f2bf74d1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/503161/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'releasenotes/notes/bug-1713786-0ee9e543683dafa4.yaml']",4,21150948246d52060a38e93f98982c2e5c9b347d,bug/1713786,"--- fixes: - | When forcing a specified destination host during evacuate, the scheduler is bypassed but resource allocations will still be made in the Placement service against the forced destination host. If the resource allocation against the destination host fails, the evacuate operation will fail, regardless of the ``force`` flag being specified in the API. The guest will be unchanged on the source host. For more details, see `bug 1713786`_. .. _bug 1713786: https://bugs.launchpad.net/nova/+bug/1713786",,189,28
openstack%2Fnova~stable%2Fpike~Ie63a4798d420c39815e294843e02ab6473cfded2,openstack/nova,stable/pike,Ie63a4798d420c39815e294843e02ab6473cfded2,Refactor out claim_resources_on_destination into a utility,MERGED,2017-09-12 19:59:25.000000000,2017-09-15 18:03:45.000000000,2017-09-15 18:03:45.000000000,"[{'_account_id': 3}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10135}]","[{'number': 1, 'created': '2017-09-12 19:59:25.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5ea0d1231009ba1f4a9ba87ecfc05e489c4017f', 'message': ""Refactor out claim_resources_on_destination into a utility\n\nWe need this method for a similar fix in evacuate, so this\nchange pulls the method out of the LiveMigrationTask and moves\nit into scheduler utils along with unit tests.\n\nThe only functional difference is that instead of raising\nMigrationPreCheckError, it now raises NoValidHost, which for\nlive migration ends up being the same result when it's handled\nin ComputeTaskManager.\n\nChange-Id: Ie63a4798d420c39815e294843e02ab6473cfded2\nRelated-Bug: #1713786\n(cherry picked from commit 34f8a351502418d30f137ad49e948802d6b2ab3c)\n""}]",0,503160,b5ea0d1231009ba1f4a9ba87ecfc05e489c4017f,13,4,1,6873,,,0,"Refactor out claim_resources_on_destination into a utility

We need this method for a similar fix in evacuate, so this
change pulls the method out of the LiveMigrationTask and moves
it into scheduler utils along with unit tests.

The only functional difference is that instead of raising
MigrationPreCheckError, it now raises NoValidHost, which for
live migration ends up being the same result when it's handled
in ComputeTaskManager.

Change-Id: Ie63a4798d420c39815e294843e02ab6473cfded2
Related-Bug: #1713786
(cherry picked from commit 34f8a351502418d30f137ad49e948802d6b2ab3c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/503160/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",4,b5ea0d1231009ba1f4a9ba87ecfc05e489c4017f,bug/1713786," mock.patch.object(scheduler_utils, 'claim_resources_on_destination'), self.task.scheduler_client.reportclient, self.instance,"," mock.patch.object(self.task, '_claim_resources_on_destination'), def test_claim_resources_on_destination_no_source_allocations(self): """"""Tests the negative scenario where the instance does not have allocations in Placement on the source compute node so no claim is attempted on the destination compute node. """""" source_node = objects.ComputeNode(uuid=uuids.source_node) dest_node = objects.ComputeNode(uuid=uuids.dest_node) @mock.patch.object(self.task.scheduler_client.reportclient, 'get_allocations_for_instance', return_value={}) @mock.patch.object(self.task.scheduler_client.reportclient, 'claim_resources', new_callable=mock.NonCallableMock) def test(mock_claim, mock_get_allocs): self.task._claim_resources_on_destination(source_node, dest_node) mock_get_allocs.assert_called_once_with( uuids.source_node, self.instance) test() def test_claim_resources_on_destination_claim_fails(self): """"""Tests the negative scenario where the resource allocation claim on the destination compute node fails, resulting in an error. """""" source_node = objects.ComputeNode(uuid=uuids.source_node) dest_node = objects.ComputeNode(uuid=uuids.dest_node) source_res_allocs = { 'VCPU': self.instance.vcpus, 'MEMORY_MB': self.instance.memory_mb, # This would really include ephemeral and swap too but we're lazy. 'DISK_GB': self.instance.root_gb } dest_alloc_request = { 'allocations': [ { 'resource_provider': { 'uuid': uuids.dest_node }, 'resources': source_res_allocs } ] } @mock.patch.object(self.task.scheduler_client.reportclient, 'get_allocations_for_instance', return_value=source_res_allocs) @mock.patch.object(self.task.scheduler_client.reportclient, 'claim_resources', return_value=False) def test(mock_claim, mock_get_allocs): self.assertRaises(exception.MigrationPreCheckError, self.task._claim_resources_on_destination, source_node, dest_node) mock_get_allocs.assert_called_once_with( uuids.source_node, self.instance) mock_claim.assert_called_once_with( self.instance.uuid, dest_alloc_request, self.instance.project_id, self.instance.user_id) test() def test_claim_resources_on_destination(self): """"""Happy path test where everything is successful."""""" source_node = objects.ComputeNode(uuid=uuids.source_node) dest_node = objects.ComputeNode(uuid=uuids.dest_node) source_res_allocs = { 'VCPU': self.instance.vcpus, 'MEMORY_MB': self.instance.memory_mb, # This would really include ephemeral and swap too but we're lazy. 'DISK_GB': self.instance.root_gb } dest_alloc_request = { 'allocations': [ { 'resource_provider': { 'uuid': uuids.dest_node }, 'resources': source_res_allocs } ] } @mock.patch.object(self.task.scheduler_client.reportclient, 'get_allocations_for_instance', return_value=source_res_allocs) @mock.patch.object(self.task.scheduler_client.reportclient, 'claim_resources', return_value=True) def test(mock_claim, mock_get_allocs): self.task._claim_resources_on_destination(source_node, dest_node) mock_get_allocs.assert_called_once_with( uuids.source_node, self.instance) mock_claim.assert_called_once_with( self.instance.uuid, dest_alloc_request, self.instance.project_id, self.instance.user_id) test() ",204,164
openstack%2Fnova~stable%2Fpike~Ic368327aa4a81f4217aecb4af3d9358502676234,openstack/nova,stable/pike,Ic368327aa4a81f4217aecb4af3d9358502676234,[placement] Update user doc with api-ref link,MERGED,2017-08-31 17:59:48.000000000,2017-09-15 18:03:22.000000000,2017-09-15 18:03:22.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 12898}, {'_account_id': 17130}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-08-31 17:59:48.000000000', 'files': ['doc/source/user/placement.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/cdff10e94e3f1e4248537fe81b63835fbe84769b', 'message': '[placement] Update user doc with api-ref link\n\nThe Placement API user guide [1] mentions a not-yet-available REST API\nreference which has since become available [2]; update with the link.\n\n[1] https://docs.openstack.org/nova/pike/user/placement.html#api-reference\n[2] https://developer.openstack.org/api-ref/placement/\n\nCloses-Bug: #1714284\nChange-Id: Ic368327aa4a81f4217aecb4af3d9358502676234\n(cherry picked from commit 4784909352dd1cbb21ba12ec39a863f1ad5ed746)\n'}]",0,499748,cdff10e94e3f1e4248537fe81b63835fbe84769b,15,7,1,14070,,,0,"[placement] Update user doc with api-ref link

The Placement API user guide [1] mentions a not-yet-available REST API
reference which has since become available [2]; update with the link.

[1] https://docs.openstack.org/nova/pike/user/placement.html#api-reference
[2] https://developer.openstack.org/api-ref/placement/

Closes-Bug: #1714284
Change-Id: Ic368327aa4a81f4217aecb4af3d9358502676234
(cherry picked from commit 4784909352dd1cbb21ba12ec39a863f1ad5ed746)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/499748/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/placement.rst'],1,cdff10e94e3f1e4248537fe81b63835fbe84769b,placement_doc_api_link,The placement API service has its own `REST API`_ and data model. One can get a sample of the REST API via the functional test `gabbits`_. .. _`REST API`: https://developer.openstack.org/api-ref/placement/,"The placement API service has its own REST API and data model. API Reference ~~~~~~~~~~~~~ A full API reference is forthcoming, but until then one can get a sample of the REST API via the functional test `gabbits`_. ",3,7
openstack%2Fnova~stable%2Fpike~I55bf64a95f6b1b781656920380dc38bda864bd14,openstack/nova,stable/pike,I55bf64a95f6b1b781656920380dc38bda864bd14,Add recreate test for forced host evacuate not setting dest allocations,MERGED,2017-09-12 19:59:25.000000000,2017-09-15 18:02:59.000000000,2017-09-15 18:02:59.000000000,"[{'_account_id': 3}, {'_account_id': 7166}, {'_account_id': 10135}]","[{'number': 1, 'created': '2017-09-12 19:59:25.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5ee7f9d5c8bd53394ef73a52171b4ded451be45e', 'message': 'Add recreate test for forced host evacuate not setting dest allocations\n\nThis adds a functional recreate test for bug 1713786 where\nallocations are not created against the forced destination host\nduring an evacuation.\n\nThis asserts the faulty behavior so that a later patch which fixes\nthe bug can uncomment the assertions for correct behavior.\n\nChange-Id: I55bf64a95f6b1b781656920380dc38bda864bd14\nRelated-Bug: #1713786\n(cherry picked from commit f34b487db4864787ad92f5a7d6568f31812f1ddb)\n'}]",0,503159,5ee7f9d5c8bd53394ef73a52171b4ded451be45e,12,3,1,6873,,,0,"Add recreate test for forced host evacuate not setting dest allocations

This adds a functional recreate test for bug 1713786 where
allocations are not created against the forced destination host
during an evacuation.

This asserts the faulty behavior so that a later patch which fixes
the bug can uncomment the assertions for correct behavior.

Change-Id: I55bf64a95f6b1b781656920380dc38bda864bd14
Related-Bug: #1713786
(cherry picked from commit f34b487db4864787ad92f5a7d6568f31812f1ddb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/503159/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,5ee7f9d5c8bd53394ef73a52171b4ded451be45e,bug/1713786," def test_evacuate_forced_host(self): """"""Evacuating a server with a forced host bypasses the scheduler which means conductor has to create the allocations against the destination node. This test recreates the scenarios and asserts the allocations on the source and destination nodes are as expected. """""" source_hostname = self.compute1.host dest_hostname = self.compute2.host server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) # evacuate the server and force the destination host which bypasses # the scheduler post = { 'evacuate': { 'host': dest_hostname, 'force': True } } self.api.post_server_action(server['id'], post) expected_params = {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ACTIVE'} server = self._wait_for_server_parameter(self.api, server, expected_params) # Run the periodics to show those don't modify allocations. self._run_periodics() # Expect to have allocation and usages on both computes as the # source compute is still down source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) # FIXME(mriedem): Due to bug 1713786 the dest node won't have # allocations. Uncomment when fixed. # self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # FIXME(mriedem): Uncomment when bug 1713786 is fixed # self.assertEqual(2, len(allocations)) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) # dest_allocation = allocations[dest_rp_uuid]['resources'] # self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # start up the source compute self.compute1.start() self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) # Run the periodics again to show they don't change anything. self._run_periodics() # When the source node starts up, the instance has moved so the # ResourceTracker should cleanup allocations for the source node. source_usages = self._get_provider_usages(source_rp_uuid) # FIXME(mriedem): Due to bug 1713786, the source node fails to # remove the allocation because the dest allocation doesn't exist # yet and Placement won't allow an empty allocation body. Uncomment # when fixed. # self.assertEqual( # {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) # The usages/allocations should still exist on the destination node # after the source node starts back up. dest_usages = self._get_provider_usages(dest_rp_uuid) # FIXME(mriedem): Uncomment when bug 1713786 is fixed. # self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) # FIXME(mriedem): Due to bug 1713786 it's just the source for now. # Uncomment when fixed. # dest_allocation = allocations[dest_rp_uuid]['resources'] # self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) self._delete_and_check_allocations( server, source_rp_uuid, dest_rp_uuid) ",,100,0
openstack%2Fneutron~master~Ib3431760cd828edc78a1dd36829f19d72bbe1116,openstack/neutron,master,Ib3431760cd828edc78a1dd36829f19d72bbe1116,Remove run_tests.sh,MERGED,2017-09-12 19:30:28.000000000,2017-09-15 18:02:38.000000000,2017-09-15 18:02:38.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-12 19:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8588cf0fd8680b32944b78ca7e4a49badbd09e7d', 'message': 'Remove run_tests.sh\n\nIt was deprecated while ago. [1]\n\n[1] Ic68858aaf1a519085dff394e6edc8c8fe6aeee6a\n\nPartial-Bug: #1716743\nChange-Id: Ib3431760cd828edc78a1dd36829f19d72bbe1116\n'}, {'number': 2, 'created': '2017-09-13 20:06:32.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7fe6cc6f0b565382f0dbcbd1d5f7baa66f9fcee', 'message': 'Remove run_tests.sh\n\nIt was deprecated while ago. [1]\n\n[1] Ic68858aaf1a519085dff394e6edc8c8fe6aeee6a\n\nChange-Id: Ib3431760cd828edc78a1dd36829f19d72bbe1116\n'}]",0,503146,b7fe6cc6f0b565382f0dbcbd1d5f7baa66f9fcee,18,6,2,6854,,,0,"Remove run_tests.sh

It was deprecated while ago. [1]

[1] Ic68858aaf1a519085dff394e6edc8c8fe6aeee6a

Change-Id: Ib3431760cd828edc78a1dd36829f19d72bbe1116
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/503146/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,8588cf0fd8680b32944b78ca7e4a49badbd09e7d,bug/1716743,,"#!/usr/bin/env bash set -eu function usage { echo ""NOTE: This script is deprecated."" echo ""Usage: $0 [OPTION]..."" echo ""Run Neutron's test suite(s)"" echo """" echo "" -V, --virtual-env Always use virtualenv. Install automatically if not present"" echo "" -N, --no-virtual-env Don't use virtualenv. Run tests in local environment"" echo "" -s, --no-site-packages Isolate the virtualenv from the global Python environment"" echo "" -r, --recreate-db Recreate the test database (deprecated, as this is now the default)."" echo "" -n, --no-recreate-db Don't recreate the test database."" echo "" -f, --force Force a clean re-build of the virtual environment. Useful when dependencies have been added."" echo "" -u, --update Update the virtual environment with any newer package versions"" echo "" -p, --pep8 Just run PEP8 and HACKING compliance check"" echo "" -8, --pep8-only-changed [<basecommit>]"" echo "" Just run PEP8 and HACKING compliance check on files changed since HEAD~1 (or <basecommit>)"" echo "" -P, --no-pep8 Don't run static code checks"" echo "" -c, --coverage Generate coverage report"" echo "" -d, --debug Run tests with testtools instead of testr. This allows you to use the debugger."" echo "" -h, --help Print this usage message"" echo "" --virtual-env-path <path> Location of the virtualenv directory"" echo "" Default: \$(pwd)"" echo "" --virtual-env-name <name> Name of the virtualenv directory"" echo "" Default: .venv"" echo "" --tools-path <dir> Location of the tools directory"" echo "" Default: \$(pwd)"" echo """" echo ""Note: with no options specified, the script will try to run the tests in a virtual environment,"" echo "" If no virtualenv is found, the script will ask if you would like to create one. If you "" echo "" prefer to run tests NOT in a virtual environment, simply pass the -N option."" exit } function process_options { i=1 while [ $i -le $# ]; do case ""${!i}"" in -h|--help) usage;; -V|--virtual-env) always_venv=1; never_venv=0;; -N|--no-virtual-env) always_venv=0; never_venv=1;; -s|--no-site-packages) no_site_packages=1;; -r|--recreate-db) recreate_db=1;; -n|--no-recreate-db) recreate_db=0;; -f|--force) force=1;; -u|--update) update=1;; -p|--pep8) just_pep8=1;; -8|--pep8-only-changed) just_pep8_changed=1;; -P|--no-pep8) no_pep8=1;; -c|--coverage) coverage=1;; -d|--debug) debug=1;; --virtual-env-path) $(( i++ )) venv_path=${!i} ;; --virtual-env-name) $(( i++ )) venv_dir=${!i} ;; --tools-path) $(( i++ )) tools_path=${!i} ;; -*) testopts=""$testopts ${!i}"";; *) testargs=""$testargs ${!i}"" esac $(( i++ )) done } tool_path=${tools_path:-$(pwd)} venv_path=${venv_path:-$(pwd)} venv_dir=${venv_name:-.venv} with_venv=tools/with_venv.sh always_venv=0 never_venv=0 force=0 no_site_packages=0 installvenvopts= testargs= testopts= wrapper="""" just_pep8=0 just_pep8_changed=0 no_pep8=0 coverage=0 debug=0 recreate_db=1 update=0 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=C process_options $@ echo ""NOTE: this script (run_tests.sh) is deprecated and will be removed in the Pike release."" echo """" # Make our paths available to other scripts we call export venv_path export venv_dir export venv_name export tools_dir export venv=${venv_path}/${venv_dir} if [ $no_site_packages -eq 1 ]; then installvenvopts=""--no-site-packages"" fi function run_tests { # Cleanup *pyc ${wrapper} find . -type f -name ""*.pyc"" -delete if [ $debug -eq 1 ]; then if [ ""$testopts"" = """" ] && [ ""$testargs"" = """" ]; then # Default to running all tests if specific test is not # provided. testargs=""discover ./neutron/tests"" fi ${wrapper} python -m testtools.run $testopts $testargs # Short circuit because all of the testr and coverage stuff # below does not make sense when running testtools.run for # debugging purposes. return $? fi if [ $coverage -eq 1 ]; then TESTRTESTS=""$TESTRTESTS --coverage"" else TESTRTESTS=""$TESTRTESTS --slowest"" fi # Just run the test suites in current environment set +e testargs=`echo ""$testargs"" | sed -e's/^\s*\(.*\)\s*$/\1/'` TESTRTESTS=""$TESTRTESTS --testr-args='--subunit $testopts $testargs'"" OS_TEST_PATH=`echo $testargs|grep -o 'neutron\.tests[^[:space:]:]\+'|tr . /` if [ -n ""$OS_TEST_PATH"" ]; then os_test_dir=$(dirname ""$OS_TEST_PATH"") else os_test_dir='' fi if [ -d ""$OS_TEST_PATH"" ]; then wrapper=""OS_TEST_PATH=$OS_TEST_PATH $wrapper"" elif [ -d ""$os_test_dir"" ]; then wrapper=""OS_TEST_PATH=$os_test_dir $wrapper"" fi echo ""Running \`${wrapper} $TESTRTESTS\`"" bash -c ""${wrapper} $TESTRTESTS | ${wrapper} subunit2pyunit"" RESULT=$? set -e copy_subunit_log if [ $coverage -eq 1 ]; then echo ""Generating coverage report in covhtml/"" # Don't compute coverage for common code, which is tested elsewhere ${wrapper} coverage combine ${wrapper} coverage html --include='neutron/*' -d covhtml -i fi return $RESULT } function copy_subunit_log { LOGNAME=`cat .testrepository/next-stream` LOGNAME=$(($LOGNAME - 1)) LOGNAME="".testrepository/${LOGNAME}"" cp $LOGNAME subunit.log } function warn_on_flake8_without_venv { if [ $never_venv -eq 1 ]; then echo ""**WARNING**:"" echo ""Running flake8 without virtual env may miss OpenStack HACKING detection"" fi } function run_pep8 { echo ""Running flake8 ..."" warn_on_flake8_without_venv ${wrapper} flake8 } function run_pep8_changed { # NOTE(gilliard) We want use flake8 to check the entirety of every file that has # a change in it. Unfortunately the --filenames argument to flake8 only accepts # file *names* and there are no files named (eg) ""nova/compute/manager.py"". The # --diff argument behaves surprisingly as well, because although you feed it a # diff, it actually checks the file on disk anyway. local target=${testargs:-HEAD~1} files=$(git diff --name-only $target | tr '\n' ' ') echo ""Running flake8 on ${files}"" warn_on_flake8_without_venv diff -u --from-file /dev/null ${files} | ${wrapper} flake8 --diff } TESTRTESTS=""python setup.py testr"" if [ $never_venv -eq 0 ]; then # Remove the virtual environment if --force used if [ $force -eq 1 ]; then echo ""Cleaning virtualenv..."" rm -rf ${venv} fi if [ $update -eq 1 ]; then echo ""Updating virtualenv..."" python tools/install_venv.py $installvenvopts fi if [ -e ${venv} ]; then wrapper=""${with_venv}"" else if [ $always_venv -eq 1 ]; then # Automatically install the virtualenv python tools/install_venv.py $installvenvopts wrapper=""${with_venv}"" else echo -e ""No virtual environment found...create one? (Y/n) \c"" read use_ve if [ ""x$use_ve"" = ""xY"" -o ""x$use_ve"" = ""x"" -o ""x$use_ve"" = ""xy"" ]; then # Install the virtualenv and run the test suite in it python tools/install_venv.py $installvenvopts wrapper=${with_venv} fi fi fi fi # Delete old coverage data from previous runs if [ $coverage -eq 1 ]; then ${wrapper} coverage erase fi if [ $just_pep8 -eq 1 ]; then run_pep8 exit fi if [ $just_pep8_changed -eq 1 ]; then run_pep8_changed exit fi if [ $recreate_db -eq 1 ]; then rm -f tests.sqlite fi run_tests # NOTE(sirp): we only want to run pep8 when we're running the full-test suite, # not when we're running tests individually. To handle this, we need to # distinguish between options (testopts), which begin with a '-', and # arguments (testargs). if [ -z ""$testargs"" ]; then if [ $no_pep8 -eq 0 ]; then run_pep8 fi fi ",0,264
openstack%2Fosc-lib~master~Id20fb7add0ce4c4e37c7d38e6afeb00aedb93e84,openstack/osc-lib,master,Id20fb7add0ce4c4e37c7d38e6afeb00aedb93e84,Updates for stestr,MERGED,2017-09-14 21:56:08.000000000,2017-09-15 17:59:50.000000000,2017-09-15 17:59:50.000000000,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2017-09-14 21:56:08.000000000', 'files': ['.gitignore', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/b42a26e9817c9f2b27ab11a350e31ac1e5328e3a', 'message': 'Updates for stestr\n\nChange-Id: Id20fb7add0ce4c4e37c7d38e6afeb00aedb93e84\n'}]",0,504256,b42a26e9817c9f2b27ab11a350e31ac1e5328e3a,6,2,1,970,,,0,"Updates for stestr

Change-Id: Id20fb7add0ce4c4e37c7d38e6afeb00aedb93e84
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/56/504256/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini', '.stestr.conf']",3,b42a26e9817c9f2b27ab11a350e31ac1e5328e3a,update-to-stestr,[DEFAULT] test_path=${OS_TEST_PATH:-./osc_lib/tests} top_dir=./ group_regex=([^\.]+\.)+ ,,8,0
openstack%2Fneutron-lib~master~Ia95d7947e9c413eee804d904a3a7e7f7d8c929ea,openstack/neutron-lib,master,Ia95d7947e9c413eee804d904a3a7e7f7d8c929ea,hacking checks: support noqa for N529,ABANDONED,2017-09-14 20:08:00.000000000,2017-09-15 17:47:28.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-09-14 20:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/298417a55df99bb2f29feef26650aa137515b593', 'message': ""hacking checks: support for noqa\n\nSupport for flake8 '# noqa' has to be provided explicitly for each\ncheck or flake8 does not ignore this check when '# noqa' is on this line.\n\nThis change adds 'noqa' support for N529:\n\n  N529 - Method's default argument shouldn't be mutable.\n\nChange-Id: Ia95d7947e9c413eee804d904a3a7e7f7d8c929ea\n""}, {'number': 2, 'created': '2017-09-14 20:34:58.000000000', 'files': ['neutron_lib/hacking/checks.py', 'neutron_lib/tests/unit/hacking/test_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3c1a5f5c44b8735291ae13f2b420d3b7ac075b38', 'message': ""hacking checks: support noqa for N529\n\nSupport for flake8 '# noqa' has to be provided explicitly for each\ncheck or flake8 does not ignore this check when '# noqa' is on this line.\n\nThis change adds 'noqa' support for N529:\n\n  N529 - Method's default argument shouldn't be mutable.\n\nChange-Id: Ia95d7947e9c413eee804d904a3a7e7f7d8c929ea\n""}]",6,504197,3c1a5f5c44b8735291ae13f2b420d3b7ac075b38,10,4,2,12021,,,0,"hacking checks: support noqa for N529

Support for flake8 '# noqa' has to be provided explicitly for each
check or flake8 does not ignore this check when '# noqa' is on this line.

This change adds 'noqa' support for N529:

  N529 - Method's default argument shouldn't be mutable.

Change-Id: Ia95d7947e9c413eee804d904a3a7e7f7d8c929ea
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/97/504197/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/hacking/checks.py', 'neutron_lib/tests/unit/hacking/test_checks.py']",2,298417a55df99bb2f29feef26650aa137515b593,hacking_noqa," "" def fake_suds_context(calls={}):"", None)))) ""def get_info_from_bdm(virt_type, bdm, mapping=[])"", None)))) ""defined = []"", None)))) ""defined, undefined = [], {}"", None))))"," "" def fake_suds_context(calls={}):"")))) ""def get_info_from_bdm(virt_type, bdm, mapping=[])"")))) ""defined = []"")))) ""defined, undefined = [], {}""))))",8,5
openstack%2Fnova~master~Ib6391d2fab866f8723d2cba03cb493769066d2da,openstack/nova,master,Ib6391d2fab866f8723d2cba03cb493769066d2da,WIP: dac_admin.openfile context manager,ABANDONED,2017-09-13 21:10:21.000000000,2017-09-15 17:44:28.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-13 21:10:21.000000000', 'files': ['nova/privsep/dac_admin.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99e3bbc94320edccf4f8b43ad72f910f7f65df04', 'message': 'WIP: dac_admin.openfile context manager\n\nCreate a new dac_admin context manager to operate on an open file\nhandle.\n\nUsage:\n\nwith dac_admin.openfile(path, mode) as fp:\n    do_a_thing_with(fp)\n\nChange-Id: Ib6391d2fab866f8723d2cba03cb493769066d2da\n'}]",0,503823,99e3bbc94320edccf4f8b43ad72f910f7f65df04,14,12,1,14070,,,0,"WIP: dac_admin.openfile context manager

Create a new dac_admin context manager to operate on an open file
handle.

Usage:

with dac_admin.openfile(path, mode) as fp:
    do_a_thing_with(fp)

Change-Id: Ib6391d2fab866f8723d2cba03cb493769066d2da
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/503823/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/privsep/dac_admin.py'],1,99e3bbc94320edccf4f8b43ad72f910f7f65df04,dac_admin_openfile,"import contextlib@contextlib.contextmanager def openfile(path, mode): with open(path, mode) as f: yield f @nova.privsep.dac_admin_pctxt.entrypoint",,8,0
openstack%2Fironic~master~I55278d144ea2c77a44bfa75ec847240122ec1080,openstack/ironic,master,I55278d144ea2c77a44bfa75ec847240122ec1080,Implement Chassis Level Discovery Tool,ABANDONED,2015-02-24 06:32:46.000000000,2017-09-15 17:37:33.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 7711}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 10239}, {'_account_id': 10375}, {'_account_id': 12081}, {'_account_id': 12356}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-02-24 06:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bbbc31d0e17a990a7c60e9123263f403fae93981', 'message': ' Implement Chassis Level Discovery Tool\n\n    basediscovery gives a generic class that can be implemented by\n    vendor specific discovery mechanism. A sample implementation\n    with HP Moonshot is given here. The resulting driver is loaded\n    when the tool is invoked.\n    Pre requisite to load the driver is to give entry points in\n    setup.py and run install. stevedore library is used to load\n    the driver\n\n    The tool is invoked with the following commands -\n    To Discovery and Create\n    python chassis_discovery_tool.py -a create -i <hostname>\n                 -u <username> -p <password> -d <driver> -s <discovery_driver>\n\n    Sample cmd to update hostname:\n    python chassis_discovery_tool.py -a update -i <hostname> -c <chassis_uuid>\n\n    Sample cmd to delete chassis:\n    python chassis_discovery_tool.py -a delete -c <chassis_uuid>\n\n    Partially Implements: blueprint chassis-level-node-discovery\n\nChange-Id: I55278d144ea2c77a44bfa75ec847240122ec1080\n'}, {'number': 2, 'created': '2015-03-04 07:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fe937f26fbd4f00d936d845db0906bb39809326', 'message': ' Implement Chassis Level Discovery Tool\n\n    basediscovery gives a generic class that can be implemented by\n    vendor specific discovery mechanism. A sample implementation\n    with HP Moonshot is given here. The resulting driver is loaded\n    when the tool is invoked.\n    Pre requisite to load the driver is to give entry points in\n    setup.py and run install. stevedore library is used to load\n    the driver\n\n    The tool is invoked with the following commands -\n    To Discovery and Create\n    python chassis_discovery_tool.py -a create -i <hostname>\n                 -u <username> -p <password> -d <driver> -s <discovery_driver>\n\n    Sample cmd to update hostname:\n    python chassis_discovery_tool.py -a update -i <hostname> -c <chassis_uuid>\n\n    Sample cmd to delete chassis:\n    python chassis_discovery_tool.py -a delete -c <chassis_uuid>\n\n    Partially Implements: blueprint chassis-level-node-discovery\n\nChange-Id: I55278d144ea2c77a44bfa75ec847240122ec1080\n'}, {'number': 3, 'created': '2015-04-07 08:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a46db5bcec5cd272dbb29a516695f6560c81f270', 'message': ' Implement Chassis Level Discovery Tool\n\n    basediscovery gives a generic class that can be implemented by\n    vendor specific discovery mechanism. A sample implementation\n    with HP Moonshot is given here. The resulting driver is loaded\n    when the tool is invoked.\n    Pre requisite to load the driver is to give entry points in\n    setup.py and run install. stevedore library is used to load\n    the driver\n\n    The tool is invoked with the following commands -\n    To Discovery and Create\n    python chassis_discovery_tool.py -a create -i <hostname>\n                 -u <username> -p <password> -d <driver> -s <discovery_driver>\n\n    Sample cmd to update hostname:\n    python chassis_discovery_tool.py -a update -i <hostname> -c <chassis_uuid>\n\n    Sample cmd to delete chassis:\n    python chassis_discovery_tool.py -a delete -c <chassis_uuid>\n\n    Partially Implements: blueprint chassis-level-node-discovery\n\nChange-Id: I55278d144ea2c77a44bfa75ec847240122ec1080\n'}, {'number': 4, 'created': '2015-04-16 06:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cdac8a2ab097492501566d23d8bac2cd5e094189', 'message': ' Implement Chassis Level Discovery Tool\n\n    basediscovery gives a generic class that can be implemented by\n    vendor specific discovery mechanism. A sample implementation\n    with HP Moonshot is given here. The resulting driver is loaded\n    when the tool is invoked.\n    Pre requisite to load the driver is to give entry points in\n    setup.py and run install. stevedore library is used to load\n    the driver\n\n    The tool is invoked with the following commands -\n    To Discovery and Create\n    python chassis_discovery_tool.py -a create -i <hostname>\n                 -u <username> -p <password> -d <driver> -s <discovery_driver>\n\n    Sample cmd to update hostname:\n    python chassis_discovery_tool.py -a update -i <hostname> -c <chassis_uuid>\n\n    Sample cmd to delete chassis:\n    python chassis_discovery_tool.py -a delete -c <chassis_uuid>\n\n    Partially Implements: blueprint chassis-level-node-discovery\n\nChange-Id: I55278d144ea2c77a44bfa75ec847240122ec1080\n'}, {'number': 5, 'created': '2015-06-05 12:08:19.000000000', 'files': ['tools/discovery/moonshot_discovery_driver.py', 'tools/discovery/node_update_path.ini', 'tools/discovery/basediscovery.py', 'tools/discovery/setup.py', 'tools/discovery/chassis_enclosure.py', 'tools/discovery/chassis_discovery_tool.py', 'tools/discovery/chassis_discovery_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4982b90a26945e338bbbec30c6c3b5784ae9cb89', 'message': ' Implement Chassis Level Discovery Tool\n\n    basediscovery gives a generic class that can be implemented by\n    vendor specific discovery mechanism. A sample implementation\n    with HP Moonshot is given here. The resulting driver is loaded\n    when the tool is invoked.\n    Pre requisite to load the driver is to give entry points in\n    setup.py and run install. stevedore library is used to load\n    the driver\n\n    The tool is invoked with the following commands -\n    To Discovery and Create\n    python chassis_discovery_tool.py -a create -i <hostname>\n                 -u <username> -p <password> -d <driver> -s <discovery_driver>\n\n    Sample cmd to update hostname:\n    python chassis_discovery_tool.py -a update -i <hostname> -c <chassis_uuid>\n\n    Sample cmd to delete chassis:\n    python chassis_discovery_tool.py -a delete -c <chassis_uuid>\n\n    Partially Implements: blueprint chassis-level-node-discovery\n\nChange-Id: I55278d144ea2c77a44bfa75ec847240122ec1080\n'}]",40,158577,4982b90a26945e338bbbec30c6c3b5784ae9cb89,38,10,5,12411,,,0," Implement Chassis Level Discovery Tool

    basediscovery gives a generic class that can be implemented by
    vendor specific discovery mechanism. A sample implementation
    with HP Moonshot is given here. The resulting driver is loaded
    when the tool is invoked.
    Pre requisite to load the driver is to give entry points in
    setup.py and run install. stevedore library is used to load
    the driver

    The tool is invoked with the following commands -
    To Discovery and Create
    python chassis_discovery_tool.py -a create -i <hostname>
                 -u <username> -p <password> -d <driver> -s <discovery_driver>

    Sample cmd to update hostname:
    python chassis_discovery_tool.py -a update -i <hostname> -c <chassis_uuid>

    Sample cmd to delete chassis:
    python chassis_discovery_tool.py -a delete -c <chassis_uuid>

    Partially Implements: blueprint chassis-level-node-discovery

Change-Id: I55278d144ea2c77a44bfa75ec847240122ec1080
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/158577/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/discovery/moonshot_discovery_driver.py', 'tools/discovery/node_update_path.ini', 'tools/discovery/basediscovery.py', 'tools/discovery/setup.py', 'tools/discovery/chassis_discovery_tool.py', 'tools/discovery/chassis_discovery_utils.py', 'tools/discovery/chassis_enclosure.py']",7,bbbc31d0e17a990a7c60e9123263f403fae93981,bp/chassis-level-node-discovery,"import chassis_discovery_utils import ConfigParser class ChassisEnclosure: def __init__(self, host=None, username=None, password=None, ironic_driver=None, discovery_driver=None, chassis_uuid=None): self.host = host self.username = username self.password = password self.ironic_driver = ironic_driver self.discovery_driver = discovery_driver self.chassis_uuid = chassis_uuid def create_chassis(self): # TODO: Exception Handling when driver not found # Discovery driver object discovery_driver = self.discovery_driver.driver # Connect to Chassis discovery_driver.chassis_connect() # Trigger Discovery process chassis_details = discovery_driver.gather_chassis_details() # If successful, create chassis, nodes and ports in Ironic database # Create chassis new_chassis = chassis_discovery_utils.create_chassis(self.hostname, self.username, self.password, self.ironic_driver, self.discovery_driver) # For each node in chassis details, gather # node_details, switch_details and port_details for node in chassis_details: node_details = discovery_driver.get_node_details(node) switch_details = discovery_driver.get_switch_details(node) driver_details = discovery_driver.get_driver_details(node) # Create Ironic Node new_node = chassis_discovery_utils.create_node(new_chassis.uuid, node_details, switch_details, self.ironic_driver, driver_details) # Create Ironic Port port_details = discovery_driver.get_port_details(node) chassis_discovery_utils.create_port(new_node.uuid, port_details) def delete_chassis(self): chassis_discovery_utils.delete_chassis(self.chassis_uuid) def update_chassis(self): config = ConfigParser.ConfigParser() config.read('node_update_path.ini') if self.host: chassis_update_path = '/extra/host' node_update_path = config.get('node_parameters_path', 'host') chassis_discovery_utils.update_chassis(self.chassis_uuid, chassis_update_path, node_update_path, self.host) if self.username: chassis_update_path = '/extra/username' node_update_path = config.get('node_parameters_path', 'username') chassis_discovery_utils.update_chassis(self.chassis_uuid, chassis_update_path, node_update_path, self.username) if self.password: chassis_update_path = '/extra/password' node_update_path = config.get('node_parameters_path', 'password') chassis_discovery_utils.update_chassis(self.chassis_uuid, chassis_update_path, node_update_path, self.password) if self.ironic_driver: chassis_update_path = '/extra/ironic_driver' node_update_path = ""/driver"" chassis_discovery_utils.update_chassis(self.chassis_uuid, chassis_update_path, node_update_path, self.ironic_driver) if self.discovery_driver: chassis_update_path = '/extra/discovery_driver' node_update_path = None chassis_discovery_utils.update_chassis(self.chassis_uuid, chassis_update_path, node_update_path, self.discovery_driver) ",,538,0
openstack%2Fopenstack-manuals~master~Ie31a9ea996d8e42530a37ed9a9616cc44ebe65c8,openstack/openstack-manuals,master,Ie31a9ea996d8e42530a37ed9a9616cc44ebe65c8,Imported Translations from Zanata,MERGED,2017-09-15 07:16:28.000000000,2017-09-15 17:13:51.000000000,2017-09-15 17:13:51.000000000,"[{'_account_id': 3}, {'_account_id': 10607}]","[{'number': 1, 'created': '2017-09-15 07:16:28.000000000', 'files': ['doc/glossary/source/locale/de/LC_MESSAGES/glossary.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f8426378f892f250391b3d1004e27725d462481f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie31a9ea996d8e42530a37ed9a9616cc44ebe65c8\n'}]",0,504355,f8426378f892f250391b3d1004e27725d462481f,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie31a9ea996d8e42530a37ed9a9616cc44ebe65c8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/55/504355/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/source/locale/de/LC_MESSAGES/glossary.po'],1,f8426378f892f250391b3d1004e27725d462481f,zanata/translations,"# Frank Kloeker <eumel@arcor.de>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: Glossary\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2017-09-14 12:53+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-09-14 09:16+0000\n"" ""Last-Translator: Frank Kloeker <eumel@arcor.de>\n"" ""Language-Team: German\n"" ""Language: de\n"" ""X-Generator: Zanata 3.9.6\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Abstract"" msgstr ""bersicht"" msgid ""Contents"" msgstr ""Inhalt"" msgid ""OpenStack Glossary"" msgstr ""OpenStack Glossar"" msgid ""This document is a glossary of terms relevant to OpenStack."" msgstr ""Dieses Dokument ist ein Glossar mit relevanten Begriffen zu OpenStack"" ",,27,0
openstack%2Fopenstack-ansible-tests~master~I02cf622ad45708ed3ea09618b72d234fde7c6dd8,openstack/openstack-ansible-tests,master,I02cf622ad45708ed3ea09618b72d234fde7c6dd8,Remove keystone pin,MERGED,2017-09-15 14:44:38.000000000,2017-09-15 17:10:26.000000000,2017-09-15 17:10:26.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-15 14:44:38.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f358dc743cfac0e8d7191b8f8a3f205dbe2ee9de', 'message': 'Remove keystone pin\n\nKeystone was originally pinned to get around the removal of the v2\nAPIs, which made tempest tests failed. The tempest tests have been\nfixed in the tempest role and the keystone pin can be removed.\n\nPartial-Bug: 1717011\nChange-Id: I02cf622ad45708ed3ea09618b72d234fde7c6dd8\n'}]",0,504422,f358dc743cfac0e8d7191b8f8a3f205dbe2ee9de,7,3,1,538,,,0,"Remove keystone pin

Keystone was originally pinned to get around the removal of the v2
APIs, which made tempest tests failed. The tempest tests have been
fixed in the tempest role and the keystone pin can be removed.

Partial-Bug: 1717011
Change-Id: I02cf622ad45708ed3ea09618b72d234fde7c6dd8
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/22/504422/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,f358dc743cfac0e8d7191b8f8a3f205dbe2ee9de,bug/1717011,"keystone_git_install_branch: ""{{ test_branch }}"" ",# NOTE(mhayden): Pin keystone to a commit prior to the removal of v2 # API endpoints. This can be removed when bug 1717011 is fixed and # v2 tempest tests are excluded. keystone_git_install_branch: 02dce056784cbf4b54d9d66e6d8451868e939a0a,1,4
openstack%2Fnetworking-ovn~master~I8ba3097a8cd30156ee3b850387cd0ebd18583898,openstack/networking-ovn,master,I8ba3097a8cd30156ee3b850387cd0ebd18583898,remove neutron trunk object import,MERGED,2017-09-13 17:34:14.000000000,2017-09-15 17:03:00.000000000,2017-09-14 17:16:03.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5367}, {'_account_id': 7787}, {'_account_id': 10237}]","[{'number': 1, 'created': '2017-09-13 17:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/77da041e873e2dd2722ce30f82319649d94500ce', 'message': ""remove neutron trunk object import\n\nIt's not needed at all.\n\nChange-Id: I8ba3097a8cd30156ee3b850387cd0ebd18583898\n""}, {'number': 2, 'created': '2017-09-13 19:42:01.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/34e0dc0fd0282a9959004757f4b720c68177a5fd', 'message': ""remove neutron trunk object import\n\nIt's not needed at all.\n\nChange-Id: I8ba3097a8cd30156ee3b850387cd0ebd18583898\n""}]",0,503761,34e0dc0fd0282a9959004757f4b720c68177a5fd,11,5,2,748,,,0,"remove neutron trunk object import

It's not needed at all.

Change-Id: I8ba3097a8cd30156ee3b850387cd0ebd18583898
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/61/503761/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/unit/ml2/test_trunk_driver.py'],1,77da041e873e2dd2722ce30f82319649d94500ce,bp/neutron-lib-networking-ovn," self.get_trunk_object = mock.patch( ""neutron.objects.trunk.Trunk.get_object"").start()","from neutron.objects import trunk as trunk_objects self.get_trunk_object = mock.patch.object( trunk_objects.Trunk, ""get_object"").start()",2,3
openstack%2Foctavia~master~I38b370df277ccd9e049c965aeb6a4f6ab1edd495,openstack/octavia,master,I38b370df277ccd9e049c965aeb6a4f6ab1edd495,Updated from global requirements,MERGED,2017-09-08 12:11:52.000000000,2017-09-15 16:57:18.000000000,2017-09-15 16:57:18.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-09-08 12:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d11ced5ab6f1fd40d957ffc1da4789fccea4d3f3', 'message': 'Updated from global requirements\n\nChange-Id: I38b370df277ccd9e049c965aeb6a4f6ab1edd495\n'}, {'number': 2, 'created': '2017-09-09 22:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/70e1aca8b5eac3be55c9f0b9193dfe396ce5fb3b', 'message': 'Updated from global requirements\n\nChange-Id: I38b370df277ccd9e049c965aeb6a4f6ab1edd495\n'}, {'number': 3, 'created': '2017-09-11 21:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1464970e861d5fc5aef9d73351c00eace367e1bb', 'message': 'Updated from global requirements\n\nChange-Id: I38b370df277ccd9e049c965aeb6a4f6ab1edd495\n'}, {'number': 4, 'created': '2017-09-11 21:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/690359826e45bb34206693f500aa598bf9e55bb6', 'message': 'Updated from global requirements\n\nChange-Id: I38b370df277ccd9e049c965aeb6a4f6ab1edd495\n'}, {'number': 5, 'created': '2017-09-12 21:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/753d0ac2998b577f46bfae47231c4cde3de4310f', 'message': 'Updated from global requirements\n\nChange-Id: I38b370df277ccd9e049c965aeb6a4f6ab1edd495\n'}, {'number': 6, 'created': '2017-09-13 12:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e0aa3e261542238bfd63187572bb9882214c7e5', 'message': 'Updated from global requirements\n\nChange-Id: I38b370df277ccd9e049c965aeb6a4f6ab1edd495\n'}, {'number': 7, 'created': '2017-09-14 00:37:50.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/53f7fb425f0c58389a8c6b9c01f20f301db717ed', 'message': 'Updated from global requirements\n\nChange-Id: I38b370df277ccd9e049c965aeb6a4f6ab1edd495\n'}]",0,502047,53f7fb425f0c58389a8c6b9c01f20f301db717ed,25,4,7,11131,,,0,"Updated from global requirements

Change-Id: I38b370df277ccd9e049c965aeb6a4f6ab1edd495
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/502047/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d11ced5ab6f1fd40d957ffc1da4789fccea4d3f3,openstack/requirements,futures>=3.0;python_version=='2.7' or python_version=='2.6' # BSD,futures>=3.0;python_version=='2.7' or python_version=='2.6' # BSD,1,1
openstack%2Fnova~stable%2Fpike~Id663b426261150a1cce310cb4a61d9572f78c016,openstack/nova,stable/pike,Id663b426261150a1cce310cb4a61d9572f78c016,Handle keypair not found from metadata server using cells,MERGED,2017-09-05 18:32:45.000000000,2017-09-15 16:55:34.000000000,2017-09-15 16:55:34.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 23757}, {'_account_id': 25568}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-05 18:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c299628ad67bb9a80ae1f05dda7545ec04c8360', 'message': 'Handle keypair not found from metadata server using cells\n\nFixes https://bugs.launchpad.net/nova/+bug/1592167 for the\ncells case. The fix done in https://bugs.launchpad.net/nova/+bug/1592167\nonly solves the problem when cells are not used at all\n\nCloses-bug: #1592167\n\nChange-Id: Id663b426261150a1cce310cb4a61d9572f78c016\n'}, {'number': 2, 'created': '2017-09-14 21:29:38.000000000', 'files': ['nova/tests/unit/test_metadata.py', 'nova/api/metadata/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9a1ccc5fd65b59f384f075b0fb2aa35558a3e43', 'message': 'Handle keypair not found from metadata server using cells\n\nFixes https://bugs.launchpad.net/nova/+bug/1592167 for the\ncells case. The fix done in https://bugs.launchpad.net/nova/+bug/1592167\nonly solves the problem when cells are not used at all\n\nCloses-bug: #1592167\n\nChange-Id: Id663b426261150a1cce310cb4a61d9572f78c016\n(cherry picked from commit 682276be6d3f965739774643b6b8b51be9d5fa54)\n'}]",1,500953,b9a1ccc5fd65b59f384f075b0fb2aa35558a3e43,21,10,2,23757,,,0,"Handle keypair not found from metadata server using cells

Fixes https://bugs.launchpad.net/nova/+bug/1592167 for the
cells case. The fix done in https://bugs.launchpad.net/nova/+bug/1592167
only solves the problem when cells are not used at all

Closes-bug: #1592167

Change-Id: Id663b426261150a1cce310cb4a61d9572f78c016
(cherry picked from commit 682276be6d3f965739774643b6b8b51be9d5fa54)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/500953/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_metadata.py', 'nova/api/metadata/base.py']",2,2c299628ad67bb9a80ae1f05dda7545ec04c8360,bug/1592167," try: keypair = cells_api.get_keypair_at_top( context.get_admin_context(), self.instance.user_id, self.instance.key_name) except exception.KeypairNotFound: # NOTE(lpigueir): If keypair was deleted, treat # it like it never had any keypair = None"," keypair = cells_api.get_keypair_at_top( context.get_admin_context(), self.instance.user_id, self.instance.key_name)",26,3
openstack%2Foslo.vmware~stable%2Fnewton~Ibd01f848a960cc5ba82247bb45a6c88ba5a41e05,openstack/oslo.vmware,stable/newton,Ibd01f848a960cc5ba82247bb45a6c88ba5a41e05,"Revert ""Add SPBM WSDL for vSphere 6.5""",MERGED,2017-09-01 11:27:24.000000000,2017-09-15 16:44:16.000000000,2017-09-15 16:44:16.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 8119}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-09-01 11:27:24.000000000', 'files': ['oslo_vmware/wsdl/6.5/pbm-messagetypes.xsd', 'oslo_vmware/wsdl/6.5/core-types.xsd', 'oslo_vmware/wsdl/6.5/pbm-types.xsd', 'oslo_vmware/wsdl/6.5/reflect-types.xsd', 'oslo_vmware/wsdl/6.5/pbmService.wsdl', 'oslo_vmware/wsdl/6.5/vim-types.xsd', 'oslo_vmware/wsdl/6.5/pbm.wsdl', 'oslo_vmware/wsdl/6.5/query-types.xsd'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/1bd7a846631a5dab3b4e685d1c02f13746a4fd2a', 'message': 'Revert ""Add SPBM WSDL for vSphere 6.5""\n\nThis reverts commit 667edf81633270746d7b7e5a50cac5e1d4cb067c.\n\nFrom the looks of it, the patch owner wants SPBM vSphere 6.5 support in\nNewton, but we never really supported 6.5 in Newton. Other changes are\nalso missing.\n\nChange-Id: Ibd01f848a960cc5ba82247bb45a6c88ba5a41e05\n'}]",0,499974,1bd7a846631a5dab3b4e685d1c02f13746a4fd2a,7,4,1,9796,,,0,"Revert ""Add SPBM WSDL for vSphere 6.5""

This reverts commit 667edf81633270746d7b7e5a50cac5e1d4cb067c.

From the looks of it, the patch owner wants SPBM vSphere 6.5 support in
Newton, but we never really supported 6.5 in Newton. Other changes are
also missing.

Change-Id: Ibd01f848a960cc5ba82247bb45a6c88ba5a41e05
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/74/499974/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_vmware/wsdl/6.5/pbm-messagetypes.xsd', 'oslo_vmware/wsdl/6.5/core-types.xsd', 'oslo_vmware/wsdl/6.5/pbm-types.xsd', 'oslo_vmware/wsdl/6.5/reflect-types.xsd', 'oslo_vmware/wsdl/6.5/pbmService.wsdl', 'oslo_vmware/wsdl/6.5/vim-types.xsd', 'oslo_vmware/wsdl/6.5/pbm.wsdl', 'oslo_vmware/wsdl/6.5/query-types.xsd']",8,1bd7a846631a5dab3b4e685d1c02f13746a4fd2a,,,"<?xml version=""1.0"" encoding=""UTF-8"" ?> <!-- Copyright 2005-2016 VMware, Inc. All rights reserved. --> <schema targetNamespace=""urn:vim25"" xmlns=""http://www.w3.org/2001/XMLSchema"" xmlns:vim25=""urn:vim25"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" elementFormDefault=""qualified"" > <include schemaLocation=""core-types.xsd"" /> <complexType name=""InvalidCollectorVersion""> <complexContent> <extension base=""vim25:MethodFault""> <sequence> </sequence> </extension> </complexContent> </complexType> <complexType name=""InvalidProperty""> <complexContent> <extension base=""vim25:MethodFault""> <sequence> <element name=""name"" type=""xsd:string"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""PropertyFilterSpec""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""propSet"" type=""vim25:PropertySpec"" maxOccurs=""unbounded"" /> <element name=""objectSet"" type=""vim25:ObjectSpec"" maxOccurs=""unbounded"" /> <element name=""reportMissingObjectsInResults"" type=""xsd:boolean"" minOccurs=""0"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfPropertyFilterSpec""> <sequence> <element name=""PropertyFilterSpec"" type=""vim25:PropertyFilterSpec"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <complexType name=""PropertySpec""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""type"" type=""xsd:string"" /> <element name=""all"" type=""xsd:boolean"" minOccurs=""0"" /> <element name=""pathSet"" type=""xsd:string"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfPropertySpec""> <sequence> <element name=""PropertySpec"" type=""vim25:PropertySpec"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <complexType name=""ObjectSpec""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""obj"" type=""vim25:ManagedObjectReference"" /> <element name=""skip"" type=""xsd:boolean"" minOccurs=""0"" /> <element name=""selectSet"" type=""vim25:SelectionSpec"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfObjectSpec""> <sequence> <element name=""ObjectSpec"" type=""vim25:ObjectSpec"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <complexType name=""SelectionSpec""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""name"" type=""xsd:string"" minOccurs=""0"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfSelectionSpec""> <sequence> <element name=""SelectionSpec"" type=""vim25:SelectionSpec"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <complexType name=""TraversalSpec""> <complexContent> <extension base=""vim25:SelectionSpec""> <sequence> <element name=""type"" type=""xsd:string"" /> <element name=""path"" type=""xsd:string"" /> <element name=""skip"" type=""xsd:boolean"" minOccurs=""0"" /> <element name=""selectSet"" type=""vim25:SelectionSpec"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ObjectContent""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""obj"" type=""vim25:ManagedObjectReference"" /> <element name=""propSet"" type=""vim25:DynamicProperty"" minOccurs=""0"" maxOccurs=""unbounded"" /> <element name=""missingSet"" type=""vim25:MissingProperty"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfObjectContent""> <sequence> <element name=""ObjectContent"" type=""vim25:ObjectContent"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <complexType name=""UpdateSet""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""version"" type=""xsd:string"" /> <element name=""filterSet"" type=""vim25:PropertyFilterUpdate"" minOccurs=""0"" maxOccurs=""unbounded"" /> <element name=""truncated"" type=""xsd:boolean"" minOccurs=""0"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""PropertyFilterUpdate""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""filter"" type=""vim25:ManagedObjectReference"" /> <element name=""objectSet"" type=""vim25:ObjectUpdate"" minOccurs=""0"" maxOccurs=""unbounded"" /> <element name=""missingSet"" type=""vim25:MissingObject"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfPropertyFilterUpdate""> <sequence> <element name=""PropertyFilterUpdate"" type=""vim25:PropertyFilterUpdate"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <simpleType name=""ObjectUpdateKind""> <restriction base=""xsd:string""> <enumeration value=""modify"" /> <enumeration value=""enter"" /> <enumeration value=""leave"" /> </restriction> </simpleType> <complexType name=""ObjectUpdate""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""kind"" type=""vim25:ObjectUpdateKind"" /> <element name=""obj"" type=""vim25:ManagedObjectReference"" /> <element name=""changeSet"" type=""vim25:PropertyChange"" minOccurs=""0"" maxOccurs=""unbounded"" /> <element name=""missingSet"" type=""vim25:MissingProperty"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfObjectUpdate""> <sequence> <element name=""ObjectUpdate"" type=""vim25:ObjectUpdate"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <simpleType name=""PropertyChangeOp""> <restriction base=""xsd:string""> <enumeration value=""add"" /> <enumeration value=""remove"" /> <enumeration value=""assign"" /> <enumeration value=""indirectRemove"" /> </restriction> </simpleType> <complexType name=""PropertyChange""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""name"" type=""xsd:string"" /> <element name=""op"" type=""vim25:PropertyChangeOp"" /> <element name=""val"" type=""xsd:anyType"" minOccurs=""0"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfPropertyChange""> <sequence> <element name=""PropertyChange"" type=""vim25:PropertyChange"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <complexType name=""MissingProperty""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""path"" type=""xsd:string"" /> <element name=""fault"" type=""vim25:LocalizedMethodFault"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfMissingProperty""> <sequence> <element name=""MissingProperty"" type=""vim25:MissingProperty"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <complexType name=""MissingObject""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""obj"" type=""vim25:ManagedObjectReference"" /> <element name=""fault"" type=""vim25:LocalizedMethodFault"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""ArrayOfMissingObject""> <sequence> <element name=""MissingObject"" type=""vim25:MissingObject"" minOccurs=""0"" maxOccurs=""unbounded"" /> </sequence> </complexType> <complexType name=""WaitOptions""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""maxWaitSeconds"" type=""xsd:int"" minOccurs=""0"" /> <element name=""maxObjectUpdates"" type=""xsd:int"" minOccurs=""0"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""RetrieveOptions""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""maxObjects"" type=""xsd:int"" minOccurs=""0"" /> </sequence> </extension> </complexContent> </complexType> <complexType name=""RetrieveResult""> <complexContent> <extension base=""vim25:DynamicData""> <sequence> <element name=""token"" type=""xsd:string"" minOccurs=""0"" /> <element name=""objects"" type=""vim25:ObjectContent"" maxOccurs=""unbounded"" /> </sequence> </extension> </complexContent> </complexType> </schema> ",0,38396
openstack%2Fopenstack-ansible-openstack_hosts~master~I0510f8e71ee7023d0afdde14519a0a5915eef28f,openstack/openstack-ansible-openstack_hosts,master,I0510f8e71ee7023d0afdde14519a0a5915eef28f,Keep yum repo cache,MERGED,2017-09-14 22:59:14.000000000,2017-09-15 16:41:14.000000000,2017-09-15 16:41:14.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-14 22:59:14.000000000', 'files': ['tasks/openstack_host_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0714ba03dfd495a19a6e21398843b73400998eef', 'message': 'Keep yum repo cache\n\nThis patch ensures that the yum repo cache is kept and not\nredownloaded constantly.\n\nChange-Id: I0510f8e71ee7023d0afdde14519a0a5915eef28f\n'}]",0,504278,0714ba03dfd495a19a6e21398843b73400998eef,7,3,1,538,,,0,"Keep yum repo cache

This patch ensures that the yum repo cache is kept and not
redownloaded constantly.

Change-Id: I0510f8e71ee7023d0afdde14519a0a5915eef28f
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/78/504278/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_host_install_yum.yml'],1,0714ba03dfd495a19a6e21398843b73400998eef,keep-yum-cache," --setopt=""{{ item.name }}.keepcache={{ item.keepcache }}"" keepcache: 1 keepcache: 1 keepcache: 1 keepcache: 1 keepcache: 1 keepcache: 1",,7,0
openstack%2Fopenstack-ansible-pip_install~master~I30f8b941fec6909a4b9a90dfc24586ff514eb62c,openstack/openstack-ansible-pip_install,master,I30f8b941fec6909a4b9a90dfc24586ff514eb62c,Keep yum repo cache,MERGED,2017-09-14 22:57:41.000000000,2017-09-15 16:40:47.000000000,2017-09-15 16:40:47.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-14 22:57:41.000000000', 'files': ['tasks/pre_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/d9ba18ec6a9dfd1b6fb8c1745e3c0381431fa385', 'message': 'Keep yum repo cache\n\nThis patch ensures that the yum repo cache is kept and not\nredownloaded constantly.\n\nChange-Id: I30f8b941fec6909a4b9a90dfc24586ff514eb62c\n'}]",0,504277,d9ba18ec6a9dfd1b6fb8c1745e3c0381431fa385,7,3,1,538,,,0,"Keep yum repo cache

This patch ensures that the yum repo cache is kept and not
redownloaded constantly.

Change-Id: I30f8b941fec6909a4b9a90dfc24586ff514eb62c
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/77/504277/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/pre_install_yum.yml'],1,d9ba18ec6a9dfd1b6fb8c1745e3c0381431fa385,keep-yum-cache," --setopt=""{{ item.name }}.keepcache={{ item.keepcache }}"" keepcache: 1 keepcache: 1 keepcache: 1 keepcache: 1 keepcache: 1 keepcache: 1",,7,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I87d7bfcaae882e344f36ceb8b277b7b72a016a0c,openstack/openstack-ansible-lxc_hosts,master,I87d7bfcaae882e344f36ceb8b277b7b72a016a0c,Updated from OpenStack Ansible Tests,MERGED,2017-09-12 23:54:49.000000000,2017-09-15 16:38:20.000000000,2017-09-15 16:38:20.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-12 23:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0a2bec3766090ae96afa168b7d9ccafbdd967101', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I87d7bfcaae882e344f36ceb8b277b7b72a016a0c\n'}, {'number': 2, 'created': '2017-09-14 17:59:26.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/bd7a08c70447e5f51909c3bf54953e089d33a9ea', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I87d7bfcaae882e344f36ceb8b277b7b72a016a0c\n'}]",0,503465,bd7a08c70447e5f51909c3bf54953e089d33a9ea,12,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I87d7bfcaae882e344f36ceb8b277b7b72a016a0c
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/65/503465/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,0a2bec3766090ae96afa168b7d9ccafbdd967101,openstack/openstack-ansible-tests/sync-tests,,# For SSL SNI support python-pyasn1 [platform:dpkg platform:suse] python-openssl [platform:dpkg] python-ndg-httpsclient [platform:ubuntu] python2-pyasn1 [platform:redhat] pyOpenSSL [platform:redhat] python-pyOpenSSL [platform:opensuseproject-42] python2-pyOpenSSL [platform:suse !platform:opensuseproject-42] python-ndg_httpsclient [platform:redhat !platform:fedora] python2-ndg_httpsclient [platform:fedora] python-ndg-httpsclient [platform:suse] ,0,12
openstack%2Fneutron-lib~master~I6d98e83287833882515240d7db1faa4a1deb7da1,openstack/neutron-lib,master,I6d98e83287833882515240d7db1faa4a1deb7da1,rehome dvr extension api def,MERGED,2017-08-11 19:06:13.000000000,2017-09-15 16:32:40.000000000,2017-09-15 16:32:40.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 6854}]","[{'number': 1, 'created': '2017-08-11 19:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a1b9317cb5ed884e673e513f064c643ab4093ba5', 'message': ""rehome dvr extension api def\n\nThis patch rehomes the neutron dvr extension API definition into\nneutron-lib. In addition the MacAddressGenerationFailure class is\nincluded in neutron_lib.exceptions as it's duplicated in neutron and\nused in a broader context than just the API [1].\n\n[1] http://codesearch.openstack.org/?q=MacAddressGenerationFailure\n\nChange-Id: I6d98e83287833882515240d7db1faa4a1deb7da1\n""}, {'number': 2, 'created': '2017-08-29 14:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a1140fd375a5dd164eeed234df1ef53fc6df619d', 'message': ""rehome dvr extension api def\n\nThis patch rehomes the neutron dvr extension API definition into\nneutron-lib. In addition the MacAddressGenerationFailure class is\nincluded in neutron_lib.exceptions as it's duplicated in neutron and\nused in a broader context than just the API [1].\n\n[1] http://codesearch.openstack.org/?q=MacAddressGenerationFailure\n\nChange-Id: I6d98e83287833882515240d7db1faa4a1deb7da1\n""}, {'number': 3, 'created': '2017-09-05 13:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a8a61afa793e9b9aff86892534ae98a056770847', 'message': ""rehome dvr extension api def\n\nThis patch rehomes the neutron dvr extension API definition into\nneutron-lib. In addition the MacAddressGenerationFailure is defined\ntwice in neutron; once for net failures and once for host failures.\nAs both exceptions are used today [1], this patch proposes we name\nthem slightly different to reflect their usage, but keep them in\nthe generic exceptions module as it's foreseeable that MAC address\nfailures can happen outside the context of the dvr extension.\n\nUTs and release note are also included.\n\n[1] http://codesearch.openstack.org/?q=MacAddressGenerationFailure\n\nChange-Id: I6d98e83287833882515240d7db1faa4a1deb7da1\n""}, {'number': 4, 'created': '2017-09-12 22:34:32.000000000', 'files': ['neutron_lib/api/definitions/__init__.py', 'neutron_lib/exceptions/__init__.py', 'releasenotes/notes/rehome-dvr-apidef-a6aa415152457c9a.yaml', 'neutron_lib/tests/unit/api/definitions/test_dvr.py', 'neutron_lib/api/definitions/dvr.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/730262822972e6e71b744c2e42aa1fd041be033f', 'message': ""rehome dvr extension api def\n\nThis patch rehomes the neutron dvr extension API definition into\nneutron-lib. In addition the MacAddressGenerationFailure is defined\ntwice in neutron; once for net failures and once for host failures.\nAs both exceptions are used today [1], this patch proposes we name\nthem slightly different to reflect their usage, but keep them in\nthe generic exceptions module as it's foreseeable that MAC address\nfailures can happen outside the context of the dvr extension.\n\nUTs and release note are also included.\n\n[1] http://codesearch.openstack.org/?q=MacAddressGenerationFailure\n\nChange-Id: I6d98e83287833882515240d7db1faa4a1deb7da1\n""}]",2,493195,730262822972e6e71b744c2e42aa1fd041be033f,22,5,4,5367,,,0,"rehome dvr extension api def

This patch rehomes the neutron dvr extension API definition into
neutron-lib. In addition the MacAddressGenerationFailure is defined
twice in neutron; once for net failures and once for host failures.
As both exceptions are used today [1], this patch proposes we name
them slightly different to reflect their usage, but keep them in
the generic exceptions module as it's foreseeable that MAC address
failures can happen outside the context of the dvr extension.

UTs and release note are also included.

[1] http://codesearch.openstack.org/?q=MacAddressGenerationFailure

Change-Id: I6d98e83287833882515240d7db1faa4a1deb7da1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/95/493195/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/__init__.py', 'neutron_lib/exceptions/__init__.py', 'releasenotes/notes/rehome-dvr-apidef-a6aa415152457c9a.yaml', 'neutron_lib/tests/unit/api/definitions/test_dvr.py', 'neutron_lib/api/definitions/dvr.py']",5,a1b9317cb5ed884e673e513f064c643ab4093ba5,rehome-dvr-apidef,"# Copyright (c) 2014 OpenStack Foundation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import converters from neutron_lib.api.definitions import l3 from neutron_lib import constants DISTRIBUTED = 'distributed' ALIAS = constants.L3_DISTRIBUTED_EXT_ALIAS LABEL = ALIAS IS_SHIM_EXTENSION = False IS_STANDARD_ATTR_EXTENSION = False NAME = 'Distributed Virtual Router' API_PREFIX = '' DESCRIPTION = 'Enables configuration of Distributed Virtual Routers.' UPDATED_TIMESTAMP = '2014-06-1T10:00:00-00:00' RESOURCE_NAME = l3.ROUTER COLLECTION_NAME = l3.ROUTERS RESOURCE_ATTRIBUTE_MAP = { COLLECTION_NAME: { DISTRIBUTED: {'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': constants.ATTR_NOT_SPECIFIED, 'convert_to': converters.convert_to_boolean_if_not_none, 'enforce_policy': True}, } } SUB_RESOURCE_ATTRIBUTE_MAP = {} ACTION_MAP = {} REQUIRED_EXTENSIONS = [l3.ALIAS] OPTIONAL_EXTENSIONS = [] ACTION_STATUS = {} ",,81,0
openstack%2Fhorizon~master~I432f75e3417c190aea9ea47401b75c6e5a29416a,openstack/horizon,master,I432f75e3417c190aea9ea47401b75c6e5a29416a,Support the setting of items by page in angular table,ABANDONED,2016-12-06 11:29:17.000000000,2017-09-15 16:30:31.000000000,,"[{'_account_id': 3}, {'_account_id': 8478}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 11880}, {'_account_id': 14151}, {'_account_id': 17172}]","[{'number': 1, 'created': '2016-12-06 11:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3011813648b52fbbaf8f2be4aec69facc78bfcc4', 'message': ""[WIP]Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 2, 'created': '2016-12-07 08:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b080d54195c765d6a8585735731ad7f2ee881e5a', 'message': ""[WIP]Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\n- It has a issue\n  Now, the setting doesn't work in case that for the first time\n  only. If someone has any clue, please let me know.\n- It needs to fix tests.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 3, 'created': '2016-12-09 03:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fcd02bbabeff6313ae72a743f0511862bf7de938', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 4, 'created': '2016-12-18 06:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b863dd7812d09abeab8afabf5139e2f74e462ed7', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 5, 'created': '2016-12-25 00:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f764d2c20d194b229cff586ead9f57a3682e24db', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 6, 'created': '2017-01-06 10:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/621e862ba2ff6e6347376882746a3160c9952a0a', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 7, 'created': '2017-01-29 01:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/926f43e873beedf69eb0c9b090f3b4afacb09c61', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 8, 'created': '2017-02-13 02:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/11fffac9817c2bd9e4efdc21a01184d1a31212c2', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 9, 'created': '2017-03-02 08:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/47d62260d2f1b4f261dd69def7fc8e50422a4c9f', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 10, 'created': '2017-03-17 12:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/98f23e346473b632ba8807cbff213c6fe45e0623', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 11, 'created': '2017-03-28 07:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c8334f6dc04142ffb0fdb603a4278a166b8b10c4', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}, {'number': 12, 'created': '2017-04-21 13:34:41.000000000', 'files': ['horizon/static/framework/widgets/table/table.spec.js', 'openstack_dashboard/static/app/app.module.js', 'horizon/static/framework/conf/conf.js', 'horizon/static/framework/widgets/table/hz-dynamic-table.directive.spec.js', 'horizon/static/framework/widgets/table/hz-dynamic-table.spec.js', 'horizon/static/framework/widgets/table/hz-table-footer.directive.js', 'horizon/static/framework/widgets/table/hz-table-footer.controller.js', 'horizon/static/framework/widgets/table/hz-table-footer.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/67ed15ade6f8cd3f3117a0ff52d64663b157bd6d', 'message': ""Support the setting of items by page in angular table\n\nCurrently, the number of items by page is 20 and it's fixed value.\nIt should use the personal setting expressing items by page.\nThis patch adds interface to pass configs for tables and\nimplement in ngflavor as a example.\n\nChange-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a\nCloses-Bug: #1647677\n""}]",17,407466,67ed15ade6f8cd3f3117a0ff52d64663b157bd6d,50,7,12,17172,,,0,"Support the setting of items by page in angular table

Currently, the number of items by page is 20 and it's fixed value.
It should use the personal setting expressing items by page.
This patch adds interface to pass configs for tables and
implement in ngflavor as a example.

Change-Id: I432f75e3417c190aea9ea47401b75c6e5a29416a
Closes-Bug: #1647677
",git fetch https://review.opendev.org/openstack/horizon refs/changes/66/407466/12 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/table/hz-resource-table.controller.js', 'openstack_dashboard/static/app/core/flavors/flavors.module.js', 'horizon/static/framework/conf/resource-type-registry.service.js', 'horizon/static/framework/widgets/table/hz-table-footer.directive.js', 'horizon/static/framework/widgets/table/hz-dynamic-table.html', 'horizon/static/framework/widgets/table/hz-table-footer.html']",6,3011813648b52fbbaf8f2be4aec69facc78bfcc4,bug/1647677," <div st-pagination="""" st-items-by-page=""config.itemByPage"" st-displayed-pages=""20""></div>"," <div st-pagination="""" st-items-by-page=""20"" st-displayed-pages=""20""></div>",25,6
openstack%2Fopenstack-helm~master~I29a56527bfb00f9953cdc37b5fafb8e98f6334ed,openstack/openstack-helm,master,I29a56527bfb00f9953cdc37b5fafb8e98f6334ed,gate: Introduce POD_START_TIMEOUT (default 480s),MERGED,2017-09-01 17:24:12.000000000,2017-09-15 16:28:40.000000000,2017-09-14 15:43:19.000000000,"[{'_account_id': 3}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20443}, {'_account_id': 20466}, {'_account_id': 21307}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 26628}]","[{'number': 1, 'created': '2017-09-01 17:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1dd5cacf3dcd350e4015b149094327709184fe8', 'message': ""[gate] wait (even) longer for the first pods to come up\n\nWe're get builder failures where we timeout waiting for the first pods\nto come up (it looks like shortly after k8s is installed there is a\nlot of IO/activity).\n\nChange-Id: I29a56527bfb00f9953cdc37b5fafb8e98f6334ed\n""}, {'number': 2, 'created': '2017-09-01 17:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/37a54ffb04b19d25a186e44d702e8f609583c91e', 'message': 'gate: wait longer for the first pods to come up\n\nWe see builder failures because of a timeout waiting for the first\npods to come up.\n\nChange-Id: I29a56527bfb00f9953cdc37b5fafb8e98f6334ed\n'}, {'number': 3, 'created': '2017-09-01 18:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87caee96bf3ae03f68536add70654ccebcf186e3', 'message': 'gate: wait longer for the first pods to come up\n\nWe see builder failures because of a timeout waiting for the first\npods to come up.\n\nChange-Id: I29a56527bfb00f9953cdc37b5fafb8e98f6334ed\n'}, {'number': 4, 'created': '2017-09-07 21:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28e93d81ba8906d2ba6d5281b7e830f0fe7a437f', 'message': 'gate: wait longer for the first pods to come up\n\nWe see builder failures because of a timeout waiting for the first\npods to come up.\n\nChange-Id: I29a56527bfb00f9953cdc37b5fafb8e98f6334ed\n'}, {'number': 5, 'created': '2017-09-13 20:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/97bf87601d0857aadbeb1a5875c16eff8b6cd845', 'message': 'gate: wait longer for the first pods to come up\n\nWe see builder failures because of a timeout waiting for the first\npods to come up.\n\nChange-Id: I29a56527bfb00f9953cdc37b5fafb8e98f6334ed\n'}, {'number': 6, 'created': '2017-09-13 20:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/472fb32e46cb11c0c7a57ca455e91a659180523b', 'message': 'gate: Introduce POD_START_TIMEOUT (default 480s)\n\nUnless overridden this will mean we wait longer for builders to start\npods.\n\nChange-Id: I29a56527bfb00f9953cdc37b5fafb8e98f6334ed\n'}, {'number': 7, 'created': '2017-09-13 22:51:24.000000000', 'files': ['tools/gate/setup_gate_worker_nodes.sh', 'tools/gate/funcs/kube.sh', 'tools/gate/vars.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30f63c349d9efc55548e40efe12238b84f53208f', 'message': 'gate: Introduce POD_START_TIMEOUT (default 480s)\n\nChange-Id: I29a56527bfb00f9953cdc37b5fafb8e98f6334ed\n'}]",1,500135,30f63c349d9efc55548e40efe12238b84f53208f,35,9,7,8898,,,0,"gate: Introduce POD_START_TIMEOUT (default 480s)

Change-Id: I29a56527bfb00f9953cdc37b5fafb8e98f6334ed
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/35/500135/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/setup_gate_worker_nodes.sh'],1,b1dd5cacf3dcd350e4015b149094327709184fe8,cw-slow-builders-wait-for-an-eternity,# if we just brought up k8s there might be a lot of IO/activity; wait # a long time for the first pods kube_wait_for_pods kube-system 480,kube_wait_for_pods kube-system 240,3,1
openstack%2Foslosphinx~master~Ica1679316cc0607e86fb92567feb77293ed72f3e,openstack/oslosphinx,master,Ica1679316cc0607e86fb92567feb77293ed72f3e,Updated from global requirements,MERGED,2017-09-13 13:01:19.000000000,2017-09-15 16:24:10.000000000,2017-09-15 16:24:10.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-09-13 13:01:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslosphinx/commit/435f32cba2ae8029e8f45afea811e269b1a4c78f', 'message': 'Updated from global requirements\n\nChange-Id: Ica1679316cc0607e86fb92567feb77293ed72f3e\n'}]",0,503662,435f32cba2ae8029e8f45afea811e269b1a4c78f,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ica1679316cc0607e86fb92567feb77293ed72f3e
",git fetch https://review.opendev.org/openstack/oslosphinx refs/changes/62/503662/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,435f32cba2ae8029e8f45afea811e269b1a4c78f,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Ftripleo-ci~master~I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f,openstack/tripleo-ci,master,I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f,Use HCI Ceph in HA job,ABANDONED,2016-07-06 08:05:28.000000000,2017-09-15 16:15:18.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 11105}, {'_account_id': 18002}]","[{'number': 1, 'created': '2016-07-06 08:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/84681a53c40c8b40097fc8e0ee0a04d31e83692f', 'message': 'Add Ceph to the OVB job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\n'}, {'number': 2, 'created': '2016-07-06 08:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7d121b7b5e23e0c939d973c50750678d34febdb3', 'message': 'Add Ceph to the OVB job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\n'}, {'number': 3, 'created': '2016-07-06 15:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/65c03b7b628e7cc5ac1e1d0a0a6995e0b317ef8f', 'message': 'Add hyperconverged Ceph to the HA job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\n'}, {'number': 4, 'created': '2016-07-07 09:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/08ef6e868e933ae0ed53cdb2dd09fc5f859e0d7a', 'message': 'Add hyperconverged Ceph to the HA job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\n'}, {'number': 5, 'created': '2016-07-07 09:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cae5acac89a00826bcd2da21e71451de3f641fb6', 'message': 'Add hyperconverged Ceph to the OVB/HA job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\n'}, {'number': 6, 'created': '2016-07-11 10:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eb56e645d1341410d35a5c32dd749a9b4ff01da7', 'message': 'Add hyperconverged Ceph to the OVB/HA job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\nDepends-On: Id2ea099a0aaba344004870e82108da288cba2cb7\n'}, {'number': 7, 'created': '2016-07-20 13:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2975714c990f16283fd07ba419c88d778c4ac176', 'message': 'Add hyperconverged Ceph to the OVB/HA job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\nDepends-On: Id2ea099a0aaba344004870e82108da288cba2cb7\nDepends-On: I403be28732065247fb53b5cb32e398973c22ee48\n'}, {'number': 8, 'created': '2016-07-20 13:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ff6fbdd0dba197f9a15987ba75fd5cb474350486', 'message': 'Add hyperconverged Ceph to the OVB/HA job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\nDepends-On: Id2ea099a0aaba344004870e82108da288cba2cb7\nDepends-On: I403be28732065247fb53b5cb32e398973c22ee48\n'}, {'number': 9, 'created': '2016-07-20 16:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f3e54ef461c10413a3f93fa52c4fbd45851efc23', 'message': 'Add hyperconverged Ceph to the OVB/HA job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\nDepends-On: Id2ea099a0aaba344004870e82108da288cba2cb7\n'}, {'number': 10, 'created': '2016-07-20 16:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/726e8e74160b5721b7fbfc8753aadfd28a9a9c46', 'message': 'Add hyperconverged Ceph to the OVB/HA job\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\nDepends-On: Ie534d327a9418b6119f5811ee62d448795879fb0\nDepends-On: Id2ea099a0aaba344004870e82108da288cba2cb7\nDepends-On: I403be28732065247fb53b5cb32e398973c22ee48\n'}, {'number': 11, 'created': '2016-09-23 12:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f306e59bf2e199bb38a05e106ebd3e0a9030cc0f', 'message': 'Use HCI Ceph in HA job\n\nAlso fixes use of Ceph in the updates job (previously missing an\nenv file) and removes the additional cephstorage node from the\nNONHA job.\n\nDepends-On: If4d3b186d1d943ca6fad46427fb3b35699cdfc90\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\n'}, {'number': 12, 'created': '2016-09-23 12:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c57bb89174d6a6769c36c42fc26eae48345cf87', 'message': 'Use HCI Ceph in HA job\n\nAlso removes the additional cephstorage node from the\nNONHA job.\n\nDepends-On: If4d3b186d1d943ca6fad46427fb3b35699cdfc90\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\n'}, {'number': 13, 'created': '2016-11-18 12:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6d8ece6d0cf0d4ac2e21d3eebcc46ce3a2e05df4', 'message': 'Use HCI Ceph in HA job\n\nAs discussed on openstack-dev [1], this change configures the\nHA CI job to use Ceph without adding nodes by deploying ceph-osd\non the compute nodes.\n\n1. http://lists.openstack.org/pipermail/openstack-dev/2016-October/105555.html\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\n'}, {'number': 14, 'created': '2017-01-17 13:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/721da325824ce750907c628122e439e179947a3b', 'message': 'Use HCI Ceph in HA job\n\nAs discussed on openstack-dev [1], this change configures the\nHA CI job to use Ceph without adding nodes by deploying ceph-osd\non the compute nodes.\n\n1. http://lists.openstack.org/pipermail/openstack-dev/2016-October/105555.html\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\n'}, {'number': 15, 'created': '2017-01-20 12:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3af72429210f92433639fb3ece784d5fd35b131e', 'message': 'Use HCI Ceph in HA job\n\nAs discussed on openstack-dev [1], this change configures the\nHA CI job to use Ceph without adding nodes by deploying ceph-osd\non the compute nodes.\n\n1. http://lists.openstack.org/pipermail/openstack-dev/2016-October/105555.html\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\n'}, {'number': 16, 'created': '2017-02-02 14:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/897b05ce4a3762e8e66ea7855cc855b5b568d0ee', 'message': 'Use HCI Ceph in HA job\n\nAs discussed on openstack-dev [1], this change configures the\nHA CI job to use Ceph without adding nodes by deploying ceph-osd\non the compute nodes.\n\n1. http://lists.openstack.org/pipermail/openstack-dev/2016-October/105555.html\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\n'}, {'number': 17, 'created': '2017-03-02 11:21:43.000000000', 'files': ['toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/66a3544c087cfe0a1c12a5df9a5ac7bc6a9b2bd0', 'message': 'Use HCI Ceph in HA job\n\nAs discussed on openstack-dev [1], this change configures the\nHA CI job to use Ceph without adding nodes by deploying ceph-osd\non the compute nodes.\n\n1. http://lists.openstack.org/pipermail/openstack-dev/2016-October/105555.html\n\nChange-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f\n'}]",7,338088,66a3544c087cfe0a1c12a5df9a5ac7bc6a9b2bd0,97,12,17,6796,,,0,"Use HCI Ceph in HA job

As discussed on openstack-dev [1], this change configures the
HA CI job to use Ceph without adding nodes by deploying ceph-osd
on the compute nodes.

1. http://lists.openstack.org/pipermail/openstack-dev/2016-October/105555.html

Change-Id: I6c39bcaaf8001ed9a18561994fdc95aaf3a1558f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/88/338088/16 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,84681a53c40c8b40097fc8e0ee0a04d31e83692f,compute-storage-mgmt," OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS --ceph-storage-scale 1 -e /usr/share/openstack-tripleo-heat-templates/environments/storage-environment.yaml""",,1,0
openstack%2Fopenstack-ansible-lxc_hosts~master~Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e,openstack/openstack-ansible-lxc_hosts,master,Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e,Fix lxc_net configuration for CentOS/SUSE,MERGED,2017-09-12 21:18:01.000000000,2017-09-15 16:14:04.000000000,2017-09-13 16:58:11.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-12 21:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/64addf4b9626eb1016d4494a886595613ab18d82', 'message': 'Fix lxc_net configuration for CentOS/SUSE\n\nFor CentOS/Red Hat and SUSE the network post-up/post-down scripts are\nconfigured after the bridge has been brought up, and the handlers have\nbeen flushed.\n\nWe need to configure the post-up and post-down scripts before the\nrestart bridge handler is flushed, so that dnsmasq is configured and\nrunning before we attempt to install packages into the container.\n\nChange-Id: Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e\n'}, {'number': 2, 'created': '2017-09-12 21:54:57.000000000', 'files': ['templates/lxc-net-suseredhat-postdown.cfg.j2', 'tasks/lxc_net.yml', 'templates/lxc-net-suseredhat-postup.cfg.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tasks/lxc_install_zypper.yml', 'tasks/lxc_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/eee919ad21d5f03582a6cb537bf37f18db6f8661', 'message': 'Fix lxc_net configuration for CentOS/SUSE\n\nFor CentOS/Red Hat and SUSE the network post-up/post-down scripts are\nconfigured after the bridge has been brought up, and the handlers have\nbeen flushed.\n\nWe need to configure the post-up and post-down scripts before the\nrestart bridge handler is flushed, so that dnsmasq is configured and\nrunning before we attempt to install packages into the container.\n\nChange-Id: Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e\n'}]",0,503196,eee919ad21d5f03582a6cb537bf37f18db6f8661,10,3,2,2799,,,0,"Fix lxc_net configuration for CentOS/SUSE

For CentOS/Red Hat and SUSE the network post-up/post-down scripts are
configured after the bridge has been brought up, and the handlers have
been flushed.

We need to configure the post-up and post-down scripts before the
restart bridge handler is flushed, so that dnsmasq is configured and
running before we attempt to install packages into the container.

Change-Id: Ifdb52624ed792665c858b3cdd4eec4b6aa365b1e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/96/503196/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lxc-net-suse-postup.cfg.j2', 'tasks/lxc_net.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/lxc-net-suse-postdown.cfg.j2', 'templates/lxc-net-redhat-postup.cfg.j2', 'tasks/lxc_install_zypper.yml', 'tasks/lxc_install_yum.yml', 'templates/lxc-net-redhat-postdown.cfg.j2']",9,64addf4b9626eb1016d4494a886595613ab18d82,,"#!/usr/bin/env bash if [ ""${DEVICE}"" == ""{{ lxc_net_bridge }}"" ];then if [ ""{{ lxc_net_nat }}"" == ""True"" ];then /usr/local/bin/lxc-system-manage dnsmasq-stop /usr/local/bin/lxc-system-manage iptables-remove fi fi ",,60,114
openstack%2Fironic~master~Ic85c561d0998cc7c5027119236a2368acf1ed0fb,openstack/ironic,master,Ic85c561d0998cc7c5027119236a2368acf1ed0fb,Updated from global requirements,MERGED,2017-09-11 21:19:24.000000000,2017-09-15 16:04:53.000000000,2017-09-12 19:09:36.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-09-11 21:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a6b9007302f4b1c84981ed4b4a79303f213afc9', 'message': 'Updated from global requirements\n\nChange-Id: Ic85c561d0998cc7c5027119236a2368acf1ed0fb\n'}, {'number': 2, 'created': '2017-09-11 21:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f5ad6b178f3f08e973b31ef001ff7792d08ecd6', 'message': 'Updated from global requirements\n\nChange-Id: Ic85c561d0998cc7c5027119236a2368acf1ed0fb\n'}, {'number': 3, 'created': '2017-09-12 04:15:48.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a8fcdc216aaf3b11c0052e0630ac88507391948', 'message': 'Updated from global requirements\n\nChange-Id: Ic85c561d0998cc7c5027119236a2368acf1ed0fb\n'}]",0,502652,8a8fcdc216aaf3b11c0052e0630ac88507391948,25,8,3,11131,,,0,"Updated from global requirements

Change-Id: Ic85c561d0998cc7c5027119236a2368acf1ed0fb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/502652/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,8a6b9007302f4b1c84981ed4b4a79303f213afc9,openstack/requirements,os-testr>=0.8.2 # Apache-2.0os-api-ref>=1.4.0 # Apache-2.0,os-testr>=0.8.0 # Apache-2.0os-api-ref>=1.0.0 # Apache-2.0,13,13
openstack%2Fopenstack-ansible-galera_server~master~Ia01e9b2c913abfe3270266d61dbf417320cc0bcb,openstack/openstack-ansible-galera_server,master,Ia01e9b2c913abfe3270266d61dbf417320cc0bcb,Update and replace http with https for doc links,MERGED,2017-09-15 06:50:34.000000000,2017-09-15 16:04:40.000000000,2017-09-15 16:04:40.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-15 06:50:34.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/2a753e88211f1b5ffb21a9c5e581c1c3b817708a', 'message': 'Update and replace http with https for doc links\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: Ia01e9b2c913abfe3270266d61dbf417320cc0bcb\n'}]",0,504347,2a753e88211f1b5ffb21a9c5e581c1c3b817708a,7,3,1,23317,,,0,"Update and replace http with https for doc links

1) Update doc links according to OpenStack document migration
2) Use https instead of http for docs links

Change-Id: Ia01e9b2c913abfe3270266d61dbf417320cc0bcb
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/47/504347/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,2a753e88211f1b5ffb21a9c5e581c1c3b817708a,fix,.. image:: https://governance.openstack.org/tc/badges/openstack-ansible-galera_server.svg :target: https://governance.openstack.org/tc/reference/tags/index.html https://launchpad.net/openstack-ansible,.. image:: http://governance.openstack.org/badges/openstack-ansible-galera_server.svg :target: http://governance.openstack.org/reference/tags/index.html http://launchpad.net/openstack-ansible,4,4
openstack%2Fpuppet-openstack-cookiecutter~master~Ib6bcb477c51e3d2e783efec3db0be20d2302c243,openstack/puppet-openstack-cookiecutter,master,Ib6bcb477c51e3d2e783efec3db0be20d2302c243,Update reno>=2.5.0,MERGED,2017-08-21 03:22:45.000000000,2017-09-15 16:03:26.000000000,2017-09-15 16:03:26.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-21 03:22:45.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/25e94d185f733f0ae0b262ac823cd4868eb8557d', 'message': 'Update reno>=2.5.0\n\nChange-Id: Ib6bcb477c51e3d2e783efec3db0be20d2302c243\n'}]",0,495721,25e94d185f733f0ae0b262ac823cd4868eb8557d,8,3,1,9414,,,0,"Update reno>=2.5.0

Change-Id: Ib6bcb477c51e3d2e783efec3db0be20d2302c243
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/21/495721/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/test-requirements.txt'],1,25e94d185f733f0ae0b262ac823cd4868eb8557d,update_requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.0.0,!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fnova~master~I8a9bda36728896e60b13c32afda0a7130664cb7b,openstack/nova,master,I8a9bda36728896e60b13c32afda0a7130664cb7b,Fix missed chown call,MERGED,2017-09-12 17:13:00.000000000,2017-09-15 16:01:00.000000000,2017-09-13 22:10:16.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 17130}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-12 17:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e43a3d21133422f89f1200bee046be12c9f294d2', 'message': ""Fix missed chown call\n\nWhen privsep'ing chown calls, this one was missed. Fix that.\n\nI think this entire method should go away, but it will break at least\none of out tree driver. I'm talking to the powervm guys about a way\nforward there.\n\nChange-Id: I8a9bda36728896e60b13c32afda0a7130664cb7b\nCloses-Bug: #502017\n""}, {'number': 2, 'created': '2017-09-12 21:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b747d7e4e8f80e68388a4ae4772d3f9c1f08288d', 'message': ""Fix missed chown call\n\nWhen privsep'ing chown calls, this one was missed. Fix that.\n\nI think this entire method should go away, but it will break at least\none of out tree driver. I'm talking to the powervm guys about a way\nforward there.\n\nChange-Id: I8a9bda36728896e60b13c32afda0a7130664cb7b\nCloses-Bug: #1716718\n""}, {'number': 3, 'created': '2017-09-13 17:02:10.000000000', 'files': ['nova/tests/unit/test_utils.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39c2cceb75265ddf67822ca40d2d69d2e27e3a91', 'message': ""Fix missed chown call\n\nWhen privsep'ing chown calls, this one was missed. Fix that.\n\nI think this entire method should go away, but it will break at least\none of out tree driver. I'm talking to the powervm guys about a way\nforward there.\n\nChange-Id: I8a9bda36728896e60b13c32afda0a7130664cb7b\nCloses-Bug: #1716718\n""}]",6,503079,39c2cceb75265ddf67822ca40d2d69d2e27e3a91,52,17,3,2271,,,0,"Fix missed chown call

When privsep'ing chown calls, this one was missed. Fix that.

I think this entire method should go away, but it will break at least
one of out tree driver. I'm talking to the powervm guys about a way
forward there.

Change-Id: I8a9bda36728896e60b13c32afda0a7130664cb7b
Closes-Bug: #1716718
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/503079/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_utils.py', 'nova/utils.py']",2,e43a3d21133422f89f1200bee046be12c9f294d2,bug/1716718," nova.privsep.dac_admin.chown(path, uid=owner_uid) nova.privsep.dac_admin.chown(path, uid=orig_uid)"," execute('chown', owner_uid, path, run_as_root=True) execute('chown', orig_uid, path, run_as_root=True)",7,10
openstack%2Ftempest~master~I03863fbb23e914b4115f2c0aaec0ecf266ccc060,openstack/tempest,master,I03863fbb23e914b4115f2c0aaec0ecf266ccc060,Move object storage account_client to lib interface,MERGED,2017-09-13 23:33:22.000000000,2017-09-15 15:59:24.000000000,2017-09-15 15:59:24.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-13 23:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14bfa1fd5bf8f27671d2ad726bf04131612768ed', 'message': 'Move object storage account_client to lib interface\nobject storage account_client is stable now and good to be moved\nas stable library interface.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I03863fbb23e914b4115f2c0aaec0ecf266ccc060\n'}, {'number': 2, 'created': '2017-09-13 23:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c44434c38d985f28fd20926b2ca855aa66a6d61d', 'message': 'Move object storage account_client to lib interface\n\nobject storage account_client is stable now and good to be moved\nas stable library interface.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I03863fbb23e914b4115f2c0aaec0ecf266ccc060\n'}, {'number': 3, 'created': '2017-09-14 17:24:01.000000000', 'files': ['releasenotes/notes/make-account-client-as-stable-interface-d1b07c7e8f17bef6.yaml', 'tempest/services/object_storage/__init__.py', 'tempest/lib/services/object_storage/account_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b72cf49c870fa7d92ad7a66bb471935625914d67', 'message': 'Move object storage account_client to lib interface\n\nobject storage account_client is stable now and good to be moved\nas stable library interface.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I03863fbb23e914b4115f2c0aaec0ecf266ccc060\n'}]",0,503868,b72cf49c870fa7d92ad7a66bb471935625914d67,15,5,3,8556,,,0,"Move object storage account_client to lib interface

object storage account_client is stable now and good to be moved
as stable library interface.

Partially implements blueprint consistent-service-method-names

Change-Id: I03863fbb23e914b4115f2c0aaec0ecf266ccc060
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/503868/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/make-account-client-as-stable-interface-d1b07c7e8f17bef6.yaml', 'tempest/services/object_storage/__init__.py', 'tempest/lib/services/object_storage/account_client.py']",3,14bfa1fd5bf8f27671d2ad726bf04131612768ed,bp/consistent-service-method-names," """"""List all account metadata."""""" """"""List all containers for the account."," """"""HEAD on the storage URL Returns all account metadata headers """""" """"""GET on the (base) storage URL",12,6
openstack%2Fpuppet-openstack_spec_helper~master~I3747f87786409ffa0e64cfbc367f2c78c6691bbb,openstack/puppet-openstack_spec_helper,master,I3747f87786409ffa0e64cfbc367f2c78c6691bbb,Update reno>=2.5.0,MERGED,2017-08-21 03:20:23.000000000,2017-09-15 15:58:02.000000000,2017-09-15 15:58:02.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-21 03:20:23.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/2a0743eede123e93d495c2d5bce0b06b8c41d3f9', 'message': 'Update reno>=2.5.0\n\nChange-Id: I3747f87786409ffa0e64cfbc367f2c78c6691bbb\n'}]",0,495704,2a0743eede123e93d495c2d5bce0b06b8c41d3f9,8,3,1,9414,,,0,"Update reno>=2.5.0

Change-Id: I3747f87786409ffa0e64cfbc367f2c78c6691bbb
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/04/495704/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2a0743eede123e93d495c2d5bce0b06b8c41d3f9,update_requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.0.0,!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fpuppet-freezer~master~Icb8698b1551026e6d9970f66adc83ae0f3fbf6b8,openstack/puppet-freezer,master,Icb8698b1551026e6d9970f66adc83ae0f3fbf6b8,Update reno>=2.5.0,MERGED,2017-08-21 03:18:56.000000000,2017-09-15 15:57:57.000000000,2017-09-15 15:57:57.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-21 03:18:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/7396c8486117b2f135c14c55682e55d42c53f83e', 'message': 'Update reno>=2.5.0\n\nChange-Id: Icb8698b1551026e6d9970f66adc83ae0f3fbf6b8\n'}]",0,495688,7396c8486117b2f135c14c55682e55d42c53f83e,8,3,1,9414,,,0,"Update reno>=2.5.0

Change-Id: Icb8698b1551026e6d9970f66adc83ae0f3fbf6b8
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/88/495688/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7396c8486117b2f135c14c55682e55d42c53f83e,update_requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.0.0,!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fpuppet-cloudkitty~master~I8c7e9bb040b2a10219de690e384853b108aee5c9,openstack/puppet-cloudkitty,master,I8c7e9bb040b2a10219de690e384853b108aee5c9,Update reno>=2.5.0,MERGED,2017-08-21 03:18:38.000000000,2017-09-15 15:57:52.000000000,2017-09-15 15:57:52.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-21 03:18:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/9e7560c0df532b6599b7b8fd03cdc2b9580d156d', 'message': 'Update reno>=2.5.0\n\nChange-Id: I8c7e9bb040b2a10219de690e384853b108aee5c9\n'}]",0,495684,9e7560c0df532b6599b7b8fd03cdc2b9580d156d,8,3,1,9414,,,0,"Update reno>=2.5.0

Change-Id: I8c7e9bb040b2a10219de690e384853b108aee5c9
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/84/495684/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9e7560c0df532b6599b7b8fd03cdc2b9580d156d,update_requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.0.0,!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fpuppet-glare~master~If26f84db3f653783664556ab5e5316f022a06c1b,openstack/puppet-glare,master,If26f84db3f653783664556ab5e5316f022a06c1b,Update reno>=2.5.0,MERGED,2017-08-21 03:19:07.000000000,2017-09-15 15:57:34.000000000,2017-09-15 15:57:34.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-21 03:19:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/4285a73902aa8ec942c4f31cf3ea383c4b20ea7c', 'message': 'Update reno>=2.5.0\n\nChange-Id: If26f84db3f653783664556ab5e5316f022a06c1b\n'}]",0,495690,4285a73902aa8ec942c4f31cf3ea383c4b20ea7c,8,3,1,9414,,,0,"Update reno>=2.5.0

Change-Id: If26f84db3f653783664556ab5e5316f022a06c1b
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/90/495690/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4285a73902aa8ec942c4f31cf3ea383c4b20ea7c,update_requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.0.0,!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~I17b7ddb4ceaf41b1b87742a9010c91b4ffb679ff,openstack/openstack-ansible-os_nova,stable/ocata,I17b7ddb4ceaf41b1b87742a9010c91b4ffb679ff,Add libvirt-client on nova-compute,MERGED,2017-09-15 13:51:48.000000000,2017-09-15 15:56:08.000000000,2017-09-15 15:56:08.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-15 13:51:48.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ff243a2c85bb5be42c1867483bc9e79364b97567', 'message': 'Add libvirt-client on nova-compute\n\nlibvirt-client is needed to have virsh client installed on Centos.\n\nChange-Id: I17b7ddb4ceaf41b1b87742a9010c91b4ffb679ff\n(cherry picked from commit b1fdb2daf7146a85470f1bb9d52df19086848751)\n'}]",0,504414,ff243a2c85bb5be42c1867483bc9e79364b97567,7,3,1,13095,,,0,"Add libvirt-client on nova-compute

libvirt-client is needed to have virsh client installed on Centos.

Change-Id: I17b7ddb4ceaf41b1b87742a9010c91b4ffb679ff
(cherry picked from commit b1fdb2daf7146a85470f1bb9d52df19086848751)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/14/504414/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,ff243a2c85bb5be42c1867483bc9e79364b97567,centos-virsh, - libvirt-client,,1,0
openstack%2Fceilometer-powervm~master~I7c60ad99df736fa878b97177035d1565dac4beab,openstack/ceilometer-powervm,master,I7c60ad99df736fa878b97177035d1565dac4beab,Pass in new DiskStats parameters,MERGED,2017-09-14 14:40:57.000000000,2017-09-15 15:51:38.000000000,2017-09-15 15:51:38.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-09-14 14:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/e0f6438b98114a614b53fd389d0b1a3a83e7bf1a', 'message': 'Pass in new DiskStats parameters\n\nCeilometer added two new parameters to DiskStats [1], wr_total_times\nand rd_total_times. We do not currently have those metrics, so 0 will\nbe passed in for both.\n\n[1] https://github.com/openstack/ceilometer/commit/ed67c2bd3\n\nChange-Id: I7c60ad99df736fa878b97177035d1565dac4beab\n'}, {'number': 2, 'created': '2017-09-14 18:38:57.000000000', 'files': ['ceilometer_powervm/tests/compute/virt/powervm/test_inspector.py', 'ceilometer_powervm/compute/virt/powervm/inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/7542a8f126ff22cc3d5b4703dbebab9384ceae28', 'message': 'Pass in new DiskStats parameters\n\nCeilometer added two new parameters to DiskStats [1], wr_total_times\nand rd_total_times. We do not currently have those metrics, so 0 will\nbe passed in for both.\n\n[1] https://github.com/openstack/ceilometer/commit/ed67c2bd3\n\nChange-Id: I7c60ad99df736fa878b97177035d1565dac4beab\n'}]",0,504067,7542a8f126ff22cc3d5b4703dbebab9384ceae28,12,5,2,16710,,,0,"Pass in new DiskStats parameters

Ceilometer added two new parameters to DiskStats [1], wr_total_times
and rd_total_times. We do not currently have those metrics, so 0 will
be passed in for both.

[1] https://github.com/openstack/ceilometer/commit/ed67c2bd3

Change-Id: I7c60ad99df736fa878b97177035d1565dac4beab
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/67/504067/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer_powervm/compute/virt/powervm/inspector.py'],1,e0f6438b98114a614b53fd389d0b1a3a83e7bf1a,rd_wr_total_times," write_bytes=adpt.write_bytes, errors=0, wr_total_times=0, rd_total_times=0)"," write_bytes=adpt.write_bytes, errors=0)",2,1
openstack%2Ftempest~master~I7a631b5918cb01dfa1aa351cac8e53115379fbe0,openstack/tempest,master,I7a631b5918cb01dfa1aa351cac8e53115379fbe0,Updated from global requirements,MERGED,2017-09-11 21:32:38.000000000,2017-09-15 15:51:30.000000000,2017-09-15 15:51:30.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-11 21:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/35f0522361199c8d14e535eb52a2addc3fd2b558', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 2, 'created': '2017-09-11 21:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e155043c3f1f89668442ce7ad937f40d4e20f817', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 3, 'created': '2017-09-12 04:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d1cd04d091806c8571ff2bf0efe6d80e5fd58732', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 4, 'created': '2017-09-12 14:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e637f54e4b032b9f86d070892a110d79eca68ee', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 5, 'created': '2017-09-12 21:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d97c27616c5a2da1255db6fb7b748da369da2d2b', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 6, 'created': '2017-09-12 22:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ed1f067494e9759abb512b60b4b7995423876740', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 7, 'created': '2017-09-13 00:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1c10738262a1a1dad1febcf58079f286e67db77', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 8, 'created': '2017-09-13 12:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a0252c86b8418cbfb548f8e8963bb6868f7c958', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 9, 'created': '2017-09-13 13:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6ae9c74883cd47b541a27d7e4559dff48292096d', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}, {'number': 10, 'created': '2017-09-14 00:10:20.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1b9e59b4a4f586123da4bf5494e59ceca88cb191', 'message': 'Updated from global requirements\n\nChange-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0\n'}]",0,502762,1b9e59b4a4f586123da4bf5494e59ceca88cb191,28,4,10,11131,,,0,"Updated from global requirements

Change-Id: I7a631b5918cb01dfa1aa351cac8e53115379fbe0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/62/502762/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,35f0522361199c8d14e535eb52a2addc3fd2b558,openstack/requirements,"oslo.concurrency>=3.20.0 # Apache-2.0 oslo.config>=4.6.0 # Apache-2.0oslo.serialization!=2.19.1,>=2.18.0 # Apache-2.0 oslo.utils>=3.28.0 # Apache-2.0os-testr>=0.8.2 # Apache-2.0","oslo.concurrency>=3.8.0 # Apache-2.0 oslo.config!=4.3.0,!=4.4.0,>=4.0.0 # Apache-2.0oslo.serialization!=2.19.1,>=1.10.0 # Apache-2.0 oslo.utils>=3.20.0 # Apache-2.0os-testr>=0.8.0 # Apache-2.0",5,5
openstack%2Fdevstack-gate~master~If466cc3b28d33ad09313598bb2315444e617abbf,openstack/devstack-gate,master,If466cc3b28d33ad09313598bb2315444e617abbf,Make ETCD_DOWNLOAD_URL configurable,NEW,2017-09-13 19:32:28.000000000,2017-09-15 15:51:20.000000000,,"[{'_account_id': 3}, {'_account_id': 11307}]","[{'number': 1, 'created': '2017-09-13 19:32:28.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/adb4806b9ff7a6275a2a3d1159aad987eeae99df', 'message': 'Make ETCD_DOWNLOAD_URL configurable\n\nThe download url for etcd was hardcoded to tarballs.openstack.org.\nBut third party CIs might want to point to a different location.\nTherefore making the ETCD_DOWNLOAD_URL variable configureable.\n\nChange-Id: If466cc3b28d33ad09313598bb2315444e617abbf\n'}]",0,503789,adb4806b9ff7a6275a2a3d1159aad987eeae99df,3,2,1,11307,,,0,"Make ETCD_DOWNLOAD_URL configurable

The download url for etcd was hardcoded to tarballs.openstack.org.
But third party CIs might want to point to a different location.
Therefore making the ETCD_DOWNLOAD_URL variable configureable.

Change-Id: If466cc3b28d33ad09313598bb2315444e617abbf
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/89/503789/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,adb4806b9ff7a6275a2a3d1159aad987eeae99df,etcd3_variable,"ETCD_DOWNLOAD_URL=${ETCD_DOWNLOAD_URL:-http://tarballs.openstack.org/etcd/} localrc_set ""$localrc_file"" ""ETCD_DOWNLOAD_URL"" ""$ETCD_DOWNLOAD_URL"""," localrc_set ""$localrc_file"" ""ETCD_DOWNLOAD_URL"" ""http://tarballs.openstack.org/etcd/""",3,1
openstack%2Ftempest~master~I73059707cb45bb241128662fbd7a48747332ea7f,openstack/tempest,master,I73059707cb45bb241128662fbd7a48747332ea7f,Move data directory under doc/source,MERGED,2017-09-06 09:40:47.000000000,2017-09-15 15:49:24.000000000,2017-09-15 15:49:24.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 6167}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-09-06 09:40:47.000000000', 'files': ['doc/source/data/tempest-plugins-registry.header', 'tools/generate-tempest-plugins-list.sh'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d5a48cbe7aede5cb5f446af29d80ddf340f6340', 'message': 'Move data directory under doc/source\n\nThis commit moves the data directory under doc/source directory. The\ndata directory have only tempest-plugins-registry.header which is only\nused for documentation. So, this change makes it clearer for the meaning\nof the directory.\n\nChange-Id: I73059707cb45bb241128662fbd7a48747332ea7f\n'}]",0,501182,6d5a48cbe7aede5cb5f446af29d80ddf340f6340,10,4,1,5689,,,0,"Move data directory under doc/source

This commit moves the data directory under doc/source directory. The
data directory have only tempest-plugins-registry.header which is only
used for documentation. So, this change makes it clearer for the meaning
of the directory.

Change-Id: I73059707cb45bb241128662fbd7a48747332ea7f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/501182/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/data/tempest-plugins-registry.header', 'tools/generate-tempest-plugins-list.sh']",2,6d5a48cbe7aede5cb5f446af29d80ddf340f6340,mv-data-under-doc,# If a file named doc/source/data/tempest-plugins-registry.header or # doc/source/data/tempest-plugins-registry.footer is found relative to theif [[ -r doc/source/data/tempest-plugins-registry.header ]]; then cat doc/source/data/tempest-plugins-registry.headerif [[ -r doc/source/data/tempest-plugins-registry.footer ]]; then cat doc/source/data/tempest-plugins-registry.footer,# If a file named data/tempest-plugins-registry.header or # data/tempest-plugins-registry.footer is found relative to theif [[ -r data/tempest-plugins-registry.header ]]; then cat data/tempest-plugins-registry.headerif [[ -r data/tempest-plugins-registry.footer ]]; then cat data/tempest-plugins-registry.footer,6,6
openstack%2Fkolla-ansible~stable%2Fpike~I0eb8785e7cd4eadfa792ea14a27f54a891b2bf02,openstack/kolla-ansible,stable/pike,I0eb8785e7cd4eadfa792ea14a27f54a891b2bf02,Make outward_rabbit pre-checks idempotent,MERGED,2017-09-13 12:54:56.000000000,2017-09-15 15:42:56.000000000,2017-09-15 15:42:56.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-09-13 12:54:56.000000000', 'files': ['ansible/roles/rabbitmq/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3d56d5f42b674ddebf2cdbf4eabf2d541a25edc', 'message': 'Make outward_rabbit pre-checks idempotent\n\nCopy the patterns from the rabbit checks, skip some pre-checks when the\ncontainer has already been started. Without this change the pre-checks\nfail when you re-run the deploy, i.e. the port is not free because\nrabbit is already running on that port.\n\nThis bug was triggered because murano is enabled, and this change has\nbeen added to add the extra rabbitmq instance by default:\nd8fe3ea780c188b6e937ab6f08a8475d2330a9fa\n\nCloses-Bug: #1715135\n\nChange-Id: I0eb8785e7cd4eadfa792ea14a27f54a891b2bf02\n(cherry picked from commit 7e9fa0cd41b72d157f4c88f9ec533aafd60bfefe)\n'}]",0,503636,d3d56d5f42b674ddebf2cdbf4eabf2d541a25edc,9,5,1,14826,,,0,"Make outward_rabbit pre-checks idempotent

Copy the patterns from the rabbit checks, skip some pre-checks when the
container has already been started. Without this change the pre-checks
fail when you re-run the deploy, i.e. the port is not free because
rabbit is already running on that port.

This bug was triggered because murano is enabled, and this change has
been added to add the extra rabbitmq instance by default:
d8fe3ea780c188b6e937ab6f08a8475d2330a9fa

Closes-Bug: #1715135

Change-Id: I0eb8785e7cd4eadfa792ea14a27f54a891b2bf02
(cherry picked from commit 7e9fa0cd41b72d157f4c88f9ec533aafd60bfefe)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/503636/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/rabbitmq/tasks/precheck.yml'],1,d3d56d5f42b674ddebf2cdbf4eabf2d541a25edc,bug/1715135, - outward_rabbitmq - container_facts['outward_rabbitmq'] is not defined - container_facts['outward_rabbitmq'] is not defined - container_facts['outward_rabbitmq'] is not defined - container_facts['outward_rabbitmq'] is not defined,,5,0
openstack%2Fpython-pankoclient~master~If758f5c281cb61ae9426780b99796131f716ef27,openstack/python-pankoclient,master,If758f5c281cb61ae9426780b99796131f716ef27,Fix operator option when listing event with filter,ABANDONED,2017-08-21 08:27:10.000000000,2017-09-15 15:40:23.000000000,,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 25698}, {'_account_id': 26679}]","[{'number': 1, 'created': '2017-08-21 08:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-pankoclient/commit/85c81a70b27132ac95965918953e4336b1217746', 'message': 'Fix operator option when listing event with filter\n\nCloses-Bug: #1711997\n\nProblems:\n\n  Listing event using filter such as \'start_timestamp\':\n\n    $ openstack event list --filter start_timestamp=\'2017-08-15 00:00:00\'\n\n  raises exception:\n\n    Operator eq is not supported. Only `ge\' operator is available for field\n    start_timestamp (HTTP 400) (Request-ID: ...\n\nRelated code:\n\n  pankoclient/utils.py. Around line 32:\n\n    url = ""q.field=%s&q.op=eq&q.value=%s"" % (k, v)\n\n  The code sends query with operator \'eq\' no matter what the field is.\n\nFixing:\n\n  Make this part of code that when some specific filter field is given, the\n  operator in the url query would be the one that matches.\n\nTest:\n\n  The problem happens when using openstack CLI. I could not find test code\n  related to it inside the tests folder. If anyone knows how to write a\n  test, please contact me, thanks.\n\nChange-Id: If758f5c281cb61ae9426780b99796131f716ef27\n'}, {'number': 2, 'created': '2017-08-21 08:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-pankoclient/commit/b5058db828e2a3e1bda2eeb991d7a5b3c9fce1e8', 'message': 'Fix operator option when listing event with filter\n\nCloses-Bug: #1711997\n\nProblems:\n\n  Listing event using filter such as \'start_timestamp\':\n\n    $ openstack event list --filter start_timestamp=\'2017-08-15 00:00:00\'\n\n  raises exception:\n\n    Operator eq is not supported. Only `ge\' operator is available for field\n    start_timestamp (HTTP 400) (Request-ID: ...\n\nRelated code:\n\n  pankoclient/utils.py. Around line 32:\n\n    url = ""q.field=%s&q.op=eq&q.value=%s"" % (k, v)\n\n  The code sends query with operator \'eq\' no matter what the field is.\n\nFixing:\n\n  Make this part of code that when some specific filter field is given, the\n  operator in the url query would be the one that matches.\n\nTest:\n\n  The problem happens when using openstack CLI. I could not find test code\n  related to it inside the tests folder. If anyone knows how to write a\n  test, please contact me, thanks.\n\nPatch:\n\n  1. fixed newline format.\n\nChange-Id: If758f5c281cb61ae9426780b99796131f716ef27\n'}, {'number': 3, 'created': '2017-08-22 01:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-pankoclient/commit/a27ec6c07246b6209c1cda879cf69363879e95c9', 'message': 'Fix operator option when listing event with filter\n\nProblems:\n\n  Listing event using filter such as \'start_timestamp\':\n\n    $ openstack event list --filter start_timestamp=\'2017-08-15 00:00:00\'\n\n  raises exception:\n\n    Operator eq is not supported. Only `ge\' operator is available for field\n    start_timestamp (HTTP 400) (Request-ID: ...\n\nRelated code:\n\n  pankoclient/utils.py. Around line 32:\n\n    url = ""q.field=%s&q.op=eq&q.value=%s"" % (k, v)\n\n  The code sends query with operator \'eq\' no matter what the field is.\n\nFixing:\n\n  Make this part of code that when some specific filter field is given, the\n  operator in the url query would be the one that matches.\n\nTest:\n\n  The problem happens when using openstack CLI. I could not find test code\n  related to it inside the tests folder. If anyone knows how to write a\n  test, please contact me, thanks.\n\nPatch:\n\n  1. fixed newline format.\n\nCloses-Bug: #1711997\nChange-Id: If758f5c281cb61ae9426780b99796131f716ef27\n'}, {'number': 4, 'created': '2017-08-22 09:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-pankoclient/commit/01264c33786d1db45a005b79cad7ae876a333350', 'message': 'Fix operator option when listing event with filter\n\nProblems:\n\n  Listing event using filter such as \'start_timestamp\':\n\n    $ openstack event list --filter start_timestamp=\'2017-08-15 00:00:00\'\n\n  raises exception:\n\n    Operator eq is not supported. Only `ge\' operator is available for field\n    start_timestamp (HTTP 400) (Request-ID: ...\n\nRelated code:\n\n  pankoclient/utils.py. Around line 32:\n\n    url = ""q.field=%s&q.op=eq&q.value=%s"" % (k, v)\n\n  The code sends query with operator \'eq\' no matter what the field is.\n\nFixing:\n\n  Make this part of code that when some specific filter field is given, the\n  operator in the url query would be the one that matches.\n\nTest:\n\n  The problem happens when using openstack CLI. I could not find test code\n  related to it inside the tests folder. If anyone knows how to write a\n  test, please contact me, thanks.\n\nPatch:\n\n  1. fix newline format.\n  2. fix accidental indent which was wrong\n\nCloses-Bug: #1711997\nChange-Id: If758f5c281cb61ae9426780b99796131f716ef27\n'}, {'number': 5, 'created': '2017-09-13 00:14:27.000000000', 'files': ['pankoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-pankoclient/commit/18d525efba9b8ca40f1f66936ebe6ed16ae364c1', 'message': 'Fix operator option when listing event with filter\n\nProblems:\n\n  Listing event using filter such as \'start_timestamp\':\n\n    $ openstack event list --filter start_timestamp=\'2017-08-15 00:00:00\'\n\n  raises exception:\n\n    Operator eq is not supported. Only `ge\' operator is available for field\n    start_timestamp (HTTP 400) (Request-ID: ...\n\nRelated code:\n\n  pankoclient/utils.py. Around line 32:\n\n    url = ""q.field=%s&q.op=eq&q.value=%s"" % (k, v)\n\n  The code sends query with operator \'eq\' no matter what the field is.\n\nFixing:\n\n  Make this part of code that when some specific filter field is given, the\n  operator in the url query would be the one that matches.\n\nTest:\n\n  The problem happens when using openstack CLI. I could not find test code\n  related to it inside the tests folder. If anyone knows how to write a\n  test, please contact me, thanks.\n\nPatch:\n\n  1. fix newline format.\n  2. fix accidental indent which was wrong\n\nCloses-Bug: #1711997\nChange-Id: If758f5c281cb61ae9426780b99796131f716ef27\n'}]",0,495763,18d525efba9b8ca40f1f66936ebe6ed16ae364c1,29,4,5,26679,,,0,"Fix operator option when listing event with filter

Problems:

  Listing event using filter such as 'start_timestamp':

    $ openstack event list --filter start_timestamp='2017-08-15 00:00:00'

  raises exception:

    Operator eq is not supported. Only `ge' operator is available for field
    start_timestamp (HTTP 400) (Request-ID: ...

Related code:

  pankoclient/utils.py. Around line 32:

    url = ""q.field=%s&q.op=eq&q.value=%s"" % (k, v)

  The code sends query with operator 'eq' no matter what the field is.

Fixing:

  Make this part of code that when some specific filter field is given, the
  operator in the url query would be the one that matches.

Test:

  The problem happens when using openstack CLI. I could not find test code
  related to it inside the tests folder. If anyone knows how to write a
  test, please contact me, thanks.

Patch:

  1. fix newline format.
  2. fix accidental indent which was wrong

Closes-Bug: #1711997
Change-Id: If758f5c281cb61ae9426780b99796131f716ef27
",git fetch https://review.opendev.org/openstack/python-pankoclient refs/changes/63/495763/4 && git format-patch -1 --stdout FETCH_HEAD,['pankoclient/utils.py'],1,85c81a70b27132ac95965918953e4336b1217746,bug/1711997," mapping_operator = {'start_timestamp': 'ge', 'end_timestamp': 'le'} for k, v in sorted(filters.items()): op = 'eq' if k in mapping_operator: op = mapping_operator[k] url = ""q.field=%s&q.op=%s&q.value=%s"" % (k, op, v) urls.append(url)"," for k, v in sorted(filters.items()): url = ""q.field=%s&q.op=eq&q.value=%s"" % (k, v) urls.append(url)",7,3
openstack%2Ftripleo-heat-templates~master~I0eb25afbd084ce3cafa055cd42a500439ce21953,openstack/tripleo-heat-templates,master,I0eb25afbd084ce3cafa055cd42a500439ce21953,Create MidoNet services,ABANDONED,2016-11-11 16:43:40.000000000,2017-09-15 15:39:19.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6928}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 12398}, {'_account_id': 20775}, {'_account_id': 22041}, {'_account_id': 22064}]","[{'number': 1, 'created': '2016-11-11 16:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64238fe7ee81c6750507730194af10707878b132', 'message': 'WIP: Create MidoNet services\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 2, 'created': '2016-11-14 09:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edd9d7f36a4a6fa98ee9e3f710e7e8f9f3c8020c', 'message': 'WIP: Create MidoNet services\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 3, 'created': '2016-11-14 11:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba5015964b988c887cdcd5c02fb88b0c9ceba693', 'message': 'WIP: Create MidoNet services\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 4, 'created': '2016-11-14 14:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2aca9d23bddecf06be00785edb2b279084a92233', 'message': 'WIP: Create MidoNet services\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 5, 'created': '2016-11-15 08:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ee2a9ede400a6c29ff76d14deb1f972cbf45d45', 'message': 'WIP: Create MidoNet services\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 6, 'created': '2016-11-15 09:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c41e1b3eb66e083426daa3b971d563eb0c243b9', 'message': 'WIP: Create MidoNet services\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 7, 'created': '2016-12-01 14:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/418f717f6b3c33ee81c6dcbdc57b80729d30d24b', 'message': 'WIP: Create MidoNet services\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 8, 'created': '2016-12-01 16:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14c4729ae1ce125776321456d26d1f0201db0d6a', 'message': 'Create MidoNet services\n\nAs new services have been implemented already in the puppet-tripleo\nmodule, the corresponding services also needed to be created in the THT\nside, passing the correct parameters to the classes.\n\nAlso mapping for some MidoNet services has been created in\nservice_net_map.j2.yaml.\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 9, 'created': '2016-12-02 10:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23ba3892442d321149950c452c1649b3f2d1df82', 'message': 'Create MidoNet services\n\nAs new services have been implemented already in the puppet-tripleo\nmodule, the corresponding services also needed to be created in the THT\nside, passing the correct parameters to the classes.\n\nAlso mapping for some MidoNet services has been created in\nservice_net_map.j2.yaml.\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\n'}, {'number': 10, 'created': '2016-12-02 14:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c76a73f34575c59c09b41535502d8b3c512c1a15', 'message': 'Create MidoNet services\n\nAs new services have been implemented already in the puppet-tripleo\nmodule, the corresponding services also needed to be created in the THT\nside, passing the correct parameters to the classes.\n\nAlso mapping for some MidoNet services has been created in\nservice_net_map.j2.yaml.\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\nDepends-On: I045ef9736c5388ca45a484fe3701dc9d24e29566\nDepends-On: Ica6a7bc501a7234bd54d14a96aeb4324511de847\nDepends-On: Ie1146da97f5e1f85c9af0123367b488bcc1da7b4\nDepends-On: I40e1e08ab98b6a71bd95c23f31e5541e83db6e55\nDepends-On: I872de39b42b7a096d44e92c4599aeaa69fd5426e\nDepends-On: I2ac159790860973e43154bc665c4db7335fb2005\nDepends-On: I0eebd475bb66f54a955654d29486fbbc4d3ba735\n'}, {'number': 11, 'created': '2016-12-05 09:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad93dd8be4322a1cccf0957b0a249dc79ff66a5b', 'message': 'Create MidoNet services\n\nAs new services have been implemented already in the puppet-tripleo\nmodule, the corresponding services also needed to be created in the THT\nside, passing the correct parameters to the classes.\n\nAlso mapping for some MidoNet services has been created in\nservice_net_map.j2.yaml.\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\nDepends-On: I045ef9736c5388ca45a484fe3701dc9d24e29566\nDepends-On: Ica6a7bc501a7234bd54d14a96aeb4324511de847\nDepends-On: Ie1146da97f5e1f85c9af0123367b488bcc1da7b4\nDepends-On: I40e1e08ab98b6a71bd95c23f31e5541e83db6e55\nDepends-On: I872de39b42b7a096d44e92c4599aeaa69fd5426e\nDepends-On: I2ac159790860973e43154bc665c4db7335fb2005\nDepends-On: I0eebd475bb66f54a955654d29486fbbc4d3ba735\n'}, {'number': 12, 'created': '2016-12-07 08:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdc717a2478f834d8363c51d20d4a5466ab375cb', 'message': 'Create MidoNet services\n\nAs new services have been implemented already in the puppet-tripleo\nmodule, the corresponding services also needed to be created in the THT\nside, passing the correct parameters to the classes.\n\nAlso mapping for some MidoNet services has been created in\nservice_net_map.j2.yaml.\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\nDepends-On: I045ef9736c5388ca45a484fe3701dc9d24e29566\nDepends-On: Ica6a7bc501a7234bd54d14a96aeb4324511de847\nDepends-On: Ie1146da97f5e1f85c9af0123367b488bcc1da7b4\nDepends-On: I40e1e08ab98b6a71bd95c23f31e5541e83db6e55\nDepends-On: I872de39b42b7a096d44e92c4599aeaa69fd5426e\nDepends-On: I2ac159790860973e43154bc665c4db7335fb2005\nDepends-On: I0eebd475bb66f54a955654d29486fbbc4d3ba735\nCloses-Bug: #1647302\n'}, {'number': 13, 'created': '2017-01-05 19:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f69776bb402ef543691218d626c09d324403379', 'message': 'Create MidoNet services\n\nAs new services have been implemented already in the puppet-tripleo\nmodule, the corresponding services also needed to be created in the THT\nside, passing the correct parameters to the classes.\n\nAlso mapping for some MidoNet services has been created in\nservice_net_map.j2.yaml.\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\nDepends-On: I045ef9736c5388ca45a484fe3701dc9d24e29566\nDepends-On: Ica6a7bc501a7234bd54d14a96aeb4324511de847\nDepends-On: Ie1146da97f5e1f85c9af0123367b488bcc1da7b4\nDepends-On: I40e1e08ab98b6a71bd95c23f31e5541e83db6e55\nDepends-On: I872de39b42b7a096d44e92c4599aeaa69fd5426e\nDepends-On: I2ac159790860973e43154bc665c4db7335fb2005\nDepends-On: I0eebd475bb66f54a955654d29486fbbc4d3ba735\nCloses-Bug: #1647302\n'}, {'number': 14, 'created': '2017-01-18 12:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b2103cc709499bd0361932396a94c9121811d59', 'message': 'Create MidoNet services\n\nAs new services have been implemented already in the puppet-tripleo\nmodule, the corresponding services also needed to be created in the THT\nside, passing the correct parameters to the classes.\n\nAlso mapping for some MidoNet services has been created in\nservice_net_map.j2.yaml.\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\nDepends-On: I045ef9736c5388ca45a484fe3701dc9d24e29566\nDepends-On: Ica6a7bc501a7234bd54d14a96aeb4324511de847\nDepends-On: Ie1146da97f5e1f85c9af0123367b488bcc1da7b4\nDepends-On: I40e1e08ab98b6a71bd95c23f31e5541e83db6e55\nDepends-On: I872de39b42b7a096d44e92c4599aeaa69fd5426e\nDepends-On: I2ac159790860973e43154bc665c4db7335fb2005\nDepends-On: I0eebd475bb66f54a955654d29486fbbc4d3ba735\nCloses-Bug: #1647302\n'}, {'number': 15, 'created': '2017-01-29 17:43:00.000000000', 'files': ['puppet/services/neutron-midonet.yaml', 'puppet/services/neutron-compute-plugin-midonet.yaml', 'puppet/services/network/midonet-analytics.yaml', 'puppet/services/network/midonet-gateway.yaml', 'puppet/services/network/midonet-cluster.yaml', 'puppet/services/network/midonet-agent.yaml', 'puppet/services/network/midonet-mem.yaml', 'puppet/services/network/midonet-nsdb.yaml', 'network/service_net_map.j2.yaml', 'puppet/services/network/midonet-config.yaml', 'puppet/services/network/midonet-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33462f646e14978f57ecc7a93388c726333f8b28', 'message': 'Create MidoNet services\n\nAs new services have been implemented already in the puppet-tripleo\nmodule, the corresponding services also needed to be created in the THT\nside, passing the correct parameters to the classes.\n\nAlso mapping for some MidoNet services has been created in\nservice_net_map.j2.yaml.\n\nChange-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953\nDepends-On: I045ef9736c5388ca45a484fe3701dc9d24e29566\nDepends-On: Ica6a7bc501a7234bd54d14a96aeb4324511de847\nDepends-On: Ie1146da97f5e1f85c9af0123367b488bcc1da7b4\nDepends-On: I40e1e08ab98b6a71bd95c23f31e5541e83db6e55\nDepends-On: I872de39b42b7a096d44e92c4599aeaa69fd5426e\nDepends-On: I2ac159790860973e43154bc665c4db7335fb2005\nDepends-On: I0eebd475bb66f54a955654d29486fbbc4d3ba735\nCloses-Bug: #1647302\n'}]",35,396692,33462f646e14978f57ecc7a93388c726333f8b28,72,11,15,22064,,,0,"Create MidoNet services

As new services have been implemented already in the puppet-tripleo
module, the corresponding services also needed to be created in the THT
side, passing the correct parameters to the classes.

Also mapping for some MidoNet services has been created in
service_net_map.j2.yaml.

Change-Id: I0eb25afbd084ce3cafa055cd42a500439ce21953
Depends-On: I045ef9736c5388ca45a484fe3701dc9d24e29566
Depends-On: Ica6a7bc501a7234bd54d14a96aeb4324511de847
Depends-On: Ie1146da97f5e1f85c9af0123367b488bcc1da7b4
Depends-On: I40e1e08ab98b6a71bd95c23f31e5541e83db6e55
Depends-On: I872de39b42b7a096d44e92c4599aeaa69fd5426e
Depends-On: I2ac159790860973e43154bc665c4db7335fb2005
Depends-On: I0eebd475bb66f54a955654d29486fbbc4d3ba735
Closes-Bug: #1647302
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/396692/13 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/neutron-midonet-gateway.yaml', 'puppet/services/neutron-midonet.yaml', 'puppet/services/neutron-compute-plugin-midonet.yaml', 'puppet/services/neutron-midonet-cluster.yaml', 'puppet/services/neutron-midonet-agent.yaml', 'puppet/services/neutron-midonet-analytics.yaml', 'puppet/services/neutron-midonet-mem.yaml', 'puppet/services/neutron-midonet-nsdb.yaml', 'puppet/services/neutron-midonet-base.yaml']",9,64238fe7ee81c6750507730194af10707878b132,396692,"heat_template_version: 2016-04-08 description: > Configuration details for MidoNet service using composable roles parameters: MemHasInsights: default: false description: 'Set to true if using insights' type: boolean MemInsightsCalliopePort: default: ""8088"" description: 'Port on which Calliope will listen' type: string TunnelZoneType: label: Type of the Tunnel description: 'Type of the tunnels on the overlay. Choose between `gre` and `vxlan`' type: string default: 'gre' UplinkType: default: ""static"" description: 'Type of the uplink. Can be set to `static` or `bgp`' type: string MidonetVersion: default: ""oss"" description: 'Whether we use the `oss` version or the `mem` version' type: string CreateInitialNetworks: default: true description: 'If set to true an initial set of neutron resources will be created (NEEDED!)' type: boolean outputs: role_data: description: Role data for the MidoNet base service value: config_settings: midonet::cluster::is_insights: {get_param: MemHasInsights} midonet::mem::is_insights: {get_param: MemHasInsights} midonet::mem::mem_analytics_port: {get_param: MemInsightsCalliopePort} midonet::analytics::calliope_port: {get_param: MemInsightsCalliopePort} uplink_type: {get_param: UplinkType} create_initial_networks: {get_param: CreateInitialNetworks} midonet_version: {get_param: MidonetVersion} tunnelzone_type: {get_param: TunnelZoneType} ",,378,91
openstack%2Fsolum~master~I5cc54f5484f81b30d9ec6863f777adceb9eb2d6c,openstack/solum,master,I5cc54f5484f81b30d9ec6863f777adceb9eb2d6c,Removes use of timeutils.set_time_override,ABANDONED,2017-09-15 15:22:00.000000000,2017-09-15 15:28:09.000000000,,[],"[{'number': 1, 'created': '2017-09-15 15:22:00.000000000', 'files': ['solum/objects/sqlalchemy/migration/alembic_migrations/versions/40df542e345_create_app_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/450600086a09_add_user_logs_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/586c15b92842_create_parameter_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/498adc6185ae_create_initial_db_schema.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/390c6c4aa97b_create_workflow_table.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/1fb9817adb80658f6120cd20a98fac96ec7ce43d', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nChange-Id: I5cc54f5484f81b30d9ec6863f777adceb9eb2d6c\nCloses-Bug:#126692\n""}]",0,504434,1fb9817adb80658f6120cd20a98fac96ec7ce43d,2,0,1,26617,,,0,"Removes use of timeutils.set_time_override

The set_time_override function in timeutils was written as a
helper function to mock utcnow for unittests before 'mock' was
generally used. Now that we have mock and fixture, we no longer
need to use it.

Change-Id: I5cc54f5484f81b30d9ec6863f777adceb9eb2d6c
Closes-Bug:#126692
",git fetch https://review.opendev.org/openstack/solum refs/changes/34/504434/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum/objects/sqlalchemy/migration/alembic_migrations/versions/40df542e345_create_app_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/450600086a09_add_user_logs_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/586c15b92842_create_parameter_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/498adc6185ae_create_initial_db_schema.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/390c6c4aa97b_create_workflow_table.py']",5,1fb9817adb80658f6120cd20a98fac96ec7ce43d,1266962," sa.Column('created_at', sa.DateTime, default=lambda: timeutils.utcnow()), sa.Column('updated_at', sa.DateTime, onupdate=lambda: timeutils.utcnow()), sa.Column('deleted_at', sa.DateTime, onupdate=lambda: timeutils.utcnow()),"," sa.Column('created_at', sa.DateTime, default=timeutils.utcnow), sa.Column('updated_at', sa.DateTime, onupdate=timeutils.utcnow), sa.Column('deleted_at', sa.DateTime, onupdate=timeutils.utcnow),",31,31
openstack%2Fnova~master~Icebc7eaa00f0bbaa791381e023d1a7e5c019349e,openstack/nova,master,Icebc7eaa00f0bbaa791381e023d1a7e5c019349e,api-ref: Add parameters in cold migrate action,ABANDONED,2016-12-13 05:13:11.000000000,2017-09-15 15:21:54.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15293}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 17842}, {'_account_id': 19339}, {'_account_id': 20040}, {'_account_id': 21511}, {'_account_id': 21784}, {'_account_id': 23310}, {'_account_id': 23314}, {'_account_id': 23317}, {'_account_id': 23871}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-12-13 05:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f1d4cc7bf10af28795463ac6e94e6ade7cfb3cd', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameter and 'force' parameter\nin cold migrate action in microversion 2.40.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 2, 'created': '2016-12-14 05:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04eb2a872fc65e78dfc40a8ac554c633e97beede', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameter and 'force' parameter\nin cold migrate action in microversion 2.40.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 3, 'created': '2016-12-19 05:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90d831496ff1b117a3ffdfa84cae8d46f223d53d', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameter and 'force' parameter\nin cold migrate action in microversion 2.40.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 4, 'created': '2016-12-19 05:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d3dffadd2011a5e80ccd18315a1111a406d7d2a', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameter and 'force' parameter\nin cold migrate action in microversion 2.40.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 5, 'created': '2016-12-19 06:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c00743c13fb75af17f47ac2f1acea19235c73a5', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameter and 'force' parameter\nin cold migrate action in microversion 2.40.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 6, 'created': '2016-12-20 12:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdb2035f0349381cfb845ed015ec0f4aede7bec8', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameter and 'force' parameter\nin cold migrate action in microversion 2.41.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 7, 'created': '2016-12-20 12:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32d2130f2fdd3fdfda13562fb474e30ba5b4b6de', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameter and 'force' parameter\nin cold migrate action in microversion 2.41.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 8, 'created': '2016-12-21 12:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db8814c55d72b11e232cd5738f676118f69abb7c', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameter and 'force' parameter\nin cold migrate action in microversion 2.41.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 9, 'created': '2016-12-26 06:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ffe1df191e02ca35183f60a9c566297083aaf79', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.41.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 10, 'created': '2016-12-26 06:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2ba017ebfc01dc68331931c354adcaec9d91d15', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.41.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 11, 'created': '2017-01-03 23:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c2f8b29fc187d1da2eac39a520cb71e96d0c68a', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.41.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 12, 'created': '2017-01-05 03:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b35861f86ceae2d7157e2f7ad1ceffc8dc081bce', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.41.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 13, 'created': '2017-01-06 04:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f269978c1dc67ca139dadebc66c2b0d17cd24cc', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.41.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 14, 'created': '2017-01-07 16:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38bcd1ebeeb3a9f893b333a134424161c1045b1b', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 15, 'created': '2017-01-16 02:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6482d62b2679838189337311aec237e84671e9c5', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 16, 'created': '2017-01-17 13:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/129a25569641a0a151195f801af0b7aa965bbfc4', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 17, 'created': '2017-01-18 11:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85b2be0a919c2bbea898e771efe0156a8ea7a921', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 18, 'created': '2017-01-19 21:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00bc24243427efc2572f3be7bd48241a6faca634', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 19, 'created': '2017-01-23 04:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a57dd43b900ef98753643253c0851ea8880efd6', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 20, 'created': '2017-01-25 02:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/832919eab281e0e9d2a65be423f934eacfb83fe4', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 21, 'created': '2017-01-26 00:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4f1f3f5b0e00f0e26b4e59f016c67de5a7e3fce', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 22, 'created': '2017-01-26 23:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc5c5c80a1f7bd914d4a0a1fffb44c1cc9b8637b', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-ocata\n""}, {'number': 23, 'created': '2017-01-30 02:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6b7cd03586da6d7f991454b3c386be770ee880e', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 24, 'created': '2017-01-30 02:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37589f8866610bded3206bd5b818fa39792bb339', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.42.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 25, 'created': '2017-02-02 09:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f03f7b7d26dd9eb213dfdda0864161461e02d54c', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 26, 'created': '2017-02-02 09:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12a8284575dcca8deb7e814b7902012f350b9750', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 27, 'created': '2017-02-02 09:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad6f377c73885bcec838ada49d6d541e35ff8907', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 28, 'created': '2017-02-08 07:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d824fb096e5d24e48f628b2f4f7095a555683fcd', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 29, 'created': '2017-02-09 14:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/238c8f4cfc60766f3268271eeb84dc533555d25d', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 30, 'created': '2017-02-10 00:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78d2618b2270412a1bbef39239737c166d01cc2b', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 31, 'created': '2017-02-16 02:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f09cf71fd0dc514d3688408d6c8dcc21f5949a6c', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 32, 'created': '2017-03-02 23:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04d81bcb22844ed43e756a4dabcf6b4d7b8cfcda', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 33, 'created': '2017-03-07 04:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14e11582a2eec9423575ea3c7622d04c70b2ba1d', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 34, 'created': '2017-03-10 05:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcf81344c72949698aee6ace7b7cda95b7107369', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 35, 'created': '2017-03-14 04:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97ea2c259d7ebb56a957eb03ce372896fa8baef8', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 36, 'created': '2017-03-27 05:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca636b69b9df54163eccefcb3a4b1e50e42f57bd', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 37, 'created': '2017-03-31 00:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aef226c6d3821bfd0b8ab4e71cf0d6e50528f7df', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 38, 'created': '2017-04-03 02:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b259d7f7cb7c081dc8c04185c378fdb3c342e517', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 39, 'created': '2017-04-06 08:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e172947548761878f8eaaa227cfb4d691caa0d6', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 40, 'created': '2017-04-06 23:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/329652cbed4b7de93f113e46443dfbdfb1bc2833', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 41, 'created': '2017-04-10 12:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26150f5e0f2f73c3eb76e87d16a308b110af6946', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 42, 'created': '2017-04-13 08:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0044b14e3c8bb1f62a5c4a8d4efb454876c254de', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 43, 'created': '2017-04-19 04:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec92857f902a62d65abce553d90084d418cbfb6a', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 44, 'created': '2017-04-26 04:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b98dbde3b0080cc125c26c8309fee9d99377eaa', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 45, 'created': '2017-05-16 00:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b2756d4ef0a3d7123a79e10ae6eb8af7a10955a', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.43.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 46, 'created': '2017-05-16 00:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ff833b4dfc2e82cb89c5a557364d5bef6b5eb11', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.46.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 47, 'created': '2017-05-24 22:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89bd178b5e1c79341ed46aed09cd6720c65df51d', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.46.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 48, 'created': '2017-05-29 01:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7d6c2e02fed080c81f38c0d7042582f12ad337e', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.47.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 49, 'created': '2017-05-29 01:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3be322317ebc1556a79026c784be6d391487aff', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.47.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 50, 'created': '2017-06-01 07:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6e44ae1732fc31e099a2e9b2866bef5cbc52eda', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.47.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 51, 'created': '2017-06-05 00:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61bf58e2f38e8f268e749db7f002c340ebb68fc9', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.47.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 52, 'created': '2017-06-05 00:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d5959cbd113fb480f046d00e39adda237be61cb', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.47.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 53, 'created': '2017-06-06 06:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7f29a56d7a4cf8b884f3719a89b9dfa91b0a8ec', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 54, 'created': '2017-06-06 06:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9811a99d8ac0b00574676324cc4a9430eeddf0ce', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 55, 'created': '2017-06-07 00:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/530e3acd51dec1ed15ac595712c74cb13be43813', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 56, 'created': '2017-06-07 03:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f369665dc6f78abf07bdf370dfeb0ed76a2ee7b3', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 57, 'created': '2017-06-08 04:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d885b9822a5a5e3946a6c5a6168bf37ffa5a21c1', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 58, 'created': '2017-06-15 06:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44c2220837f867ad93afb53cd4ae890971b7d910', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 59, 'created': '2017-06-15 08:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eb445ddbadb83114151384185eb2989e7e91e2f', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 60, 'created': '2017-06-28 02:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb479b4c787b28318cd8b8d45f57082020820e18', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 61, 'created': '2017-06-29 15:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60f34329e1dbc9cb8e83e514177172b826055cf8', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.49.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 62, 'created': '2017-07-01 16:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/440f72b3a57dc12fe65a93932d03bcfae76a90cb', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.50.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 63, 'created': '2017-07-06 05:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/041a1b803956c132d605feba42beba34092eadf6', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.50.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 64, 'created': '2017-07-12 16:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68aef26b0816e0787c869ede38a2d751417afa7a', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.50.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 65, 'created': '2017-07-12 16:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05b2bac5f26feb381f4f794c192c53874d7293f2', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.50.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 66, 'created': '2017-07-12 16:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fb2efcb01f052e7457214053eee072ac1cc8fff', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.51.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 67, 'created': '2017-07-13 00:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c734c82964084824769d61c653abde2f686c94b', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.51.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 68, 'created': '2017-07-13 15:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7cc428ae55921c5ddc4d6c05797c34d7aff7e9c', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.52.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 69, 'created': '2017-07-13 15:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6239682ecc7ac3359004351fb6ca45ccbe587eb7', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.52.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 70, 'created': '2017-07-19 03:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12dbcbdcfbd846ed652d453ba8f5ef361808d67a', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.53.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 71, 'created': '2017-07-19 03:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a275a572f291dc99011b59bd974bac4e6cc267d', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.53.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 72, 'created': '2017-07-22 11:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2cb3829e95096d679e114c76ec1e1b1a6138392', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 73, 'created': '2017-07-24 15:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/881ed42bdc1c72997d5bcc4bd04b65b6a360ecc6', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 74, 'created': '2017-07-24 23:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a558ac8ddc649716da15d6443c2ae966644f70cd', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 75, 'created': '2017-07-25 11:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2752a150cabfca839dbcf34e343da32cde77c0f6', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 76, 'created': '2017-07-25 11:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbf1773326351f820eda508c4fe48db7fda6c564', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 77, 'created': '2017-07-26 17:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84ad55b5bb66364c717acb14eae90b6f6171b1a6', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 78, 'created': '2017-07-27 04:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91edfc1ba0e0e5f402e877c2f924484a9ebf16a0', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-pike\n""}, {'number': 79, 'created': '2017-07-31 03:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62937398ae5d25c87a242f1ff040180620669edf', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 80, 'created': '2017-07-31 03:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16ff5a06bd54d5c799d7545b52edde36fd3722f7', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 81, 'created': '2017-08-02 04:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/826cd4f18468a1aceec55f643c81b3af1c5bafc6', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 82, 'created': '2017-08-03 07:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04a1c95fa916e21cc370f5c493285b98d5080c55', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 83, 'created': '2017-08-03 21:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2db1f3efa76e2613dded5bc3d714bd4aaab35b1a', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 84, 'created': '2017-08-03 21:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d058fa2cdfe150961013e0280aef9ddd530c7b2', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 85, 'created': '2017-08-15 07:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0314fda6346788088bee0985d7899e21c341e03d', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 86, 'created': '2017-08-17 07:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16f3f00126666c417183eec398ce3f3109d20d69', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 87, 'created': '2017-08-18 01:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80aa12c80bb0a934aafcf765df9fe704999ddb74', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' and 'force' parameters\nin cold migrate action in microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 88, 'created': '2017-09-08 06:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c039764a6180bca21722d38be0db6b9a2905b16', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameters in cold migrate action\nin microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}, {'number': 89, 'created': '2017-09-12 15:06:27.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/servers-admin-action.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/d68d16aa9ef53ac7e0fe613e8df79a4e4e69842e', 'message': ""api-ref: Add parameters in cold migrate action\n\nAdd 'host' parameters in cold migrate action\nin microversion 2.54.\n\nChange-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e\nImplements: blueprint cold-migration-with-target-queens\n""}]",30,410042,d68d16aa9ef53ac7e0fe613e8df79a4e4e69842e,883,32,89,7634,,,0,"api-ref: Add parameters in cold migrate action

Add 'host' parameters in cold migrate action
in microversion 2.54.

Change-Id: Icebc7eaa00f0bbaa791381e023d1a7e5c019349e
Implements: blueprint cold-migration-with-target-queens
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/410042/85 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/servers-admin-action.inc']",2,5f1d4cc7bf10af28795463ac6e94e6ade7cfb3cd,bp/cold-migration-with-target-queens,"Starting from API version 2.40, ``host`` parameter can be specified. Use the ``host`` parameter to specify the destination host. If you omit this parameter, the scheduler chooses a host. - host: host_migration_2_40 - force: force_migrate.. literalinclude:: ../../doc/api_samples/os-migrate-server/v2.40/migrate-server.json",.. literalinclude:: ../../doc/api_samples/os-migrate-server/migrate-server.json,24,2
openstack%2Fcinder-specs~master~Ieede2cc39e7134625a0c69b85e7c33344a7761a2,openstack/cinder-specs,master,Ieede2cc39e7134625a0c69b85e7c33344a7761a2,Implement policies in code,ABANDONED,2016-08-27 04:30:01.000000000,2017-09-15 15:18:49.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6804}, {'_account_id': 10608}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 13637}, {'_account_id': 14532}, {'_account_id': 16708}, {'_account_id': 23083}]","[{'number': 1, 'created': '2016-08-27 04:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/0a1a320c88a010b891b7b9225e408dee653de60a', 'message': 'Implement polcies in code\n\nLeverage oslo.policy to register default policies in the code similar\nto how config options are handled.\n\nChange-Id: Ieede2cc39e7134625a0c69b85e7c33344a7761a2\nImplements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2016-09-26 18:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/b6f91a2a8d2c32652e1f49795d22288695025755', 'message': 'Implement policies in code\n\nLeverage oslo.policy to register default policies in the code similar\nto how config options are handled.\n\nChange-Id: Ieede2cc39e7134625a0c69b85e7c33344a7761a2\nImplements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2016-12-11 21:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/41e373cb6446e403652d35c4a9bb603fca558b75', 'message': 'Implement policies in code\n\nLeverage oslo.policy to register default policies in the code similar\nto how config options are handled.\n\nChange-Id: Ieede2cc39e7134625a0c69b85e7c33344a7761a2\nImplements: blueprint policy-in-code\n'}, {'number': 4, 'created': '2017-07-09 18:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/79e13043279cedba5d32f897501c391ca626ad30', 'message': 'Implement policies in code\n\nLeverage oslo.policy to register default policies in the code similar\nto how config options are handled.\n\nChange-Id: Ieede2cc39e7134625a0c69b85e7c33344a7761a2\nImplements: blueprint policy-in-code\n'}, {'number': 5, 'created': '2017-07-10 14:17:23.000000000', 'files': ['specs/queens/.placeholder', 'specs/newton/.placeholder', 'specs/queens/policy-in-code.rst', 'specs/pike/.placeholder', 'specs/ocata/.placeholder'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/30296b9d6619abec6354b79912b2f673ce953153', 'message': 'Implement policies in code\n\nLeverage oslo.policy to register default policies in the code similar\nto how config options are handled.\n\nChange-Id: Ieede2cc39e7134625a0c69b85e7c33344a7761a2\nImplements: blueprint policy-in-code\n'}]",17,361554,30296b9d6619abec6354b79912b2f673ce953153,35,13,5,11904,,,0,"Implement policies in code

Leverage oslo.policy to register default policies in the code similar
to how config options are handled.

Change-Id: Ieede2cc39e7134625a0c69b85e7c33344a7761a2
Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/54/361554/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/policy-in-code.rst'],1,0a1a320c88a010b891b7b9225e408dee653de60a,policy-and-docs-in-code,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============== Policy in code ============== https://blueprints.launchpad.net/cinder/+spec/policy-in-code The oslo.policy library now supports handling policies in a way similar to how oslo.config handles config options. We can switch our policy handling to keep default policy settings in the code, with the policy file only necessary for overriding the defaults. Problem description =================== There have been bugs in the past from either new features adding the wrong policy settings, or forgetting policy settings all together. For admins it can also be difficult configuring policies due to many policy settings that are never changed making locating the desired setting harder. This would simplify our policy.json file by only needing to have those entries that differ from the defaults. It would also allow us to generate a sample policy file similar to how we do for cinder.conf to show all the possible settings with the defaults commented out for easy reference. Use Cases ========= As a deployer I would like to configure only policies that differ from the default. Proposed change =============== Starting with oslo.policy 1.9.0 [0], policies can be declared in the code with provided defaults and registered with the policy engine. Any policy that should be checked in the code will be registered with the policy.Enforcer object, similar to how configuration registration is done. Any policy check within the code base will be converted to use a new policy.Enforcer.authorize method to ensure that all checks are defined. Any attempt to use a policy that is not registered will raise an exception. Registration will require two pieces of data: 1. The rule name, e.g. ""volume:get"" 2. The rule, e.g. ""rule:admin_or_owner"" or ""role:admin"" The rule name is needed for later liijups. The rule is necessary in order to set the defaults and generate a sample file. A third optional description can also be provided and should be used in most cases so it is available in any generated sample policy files. [0] https://github.com/openstack/oslo.policy/blob/1.9.0/doc/source/usage.rst#registering-policy-defaults-in-code Alternatives ------------ Stick with our manually configured policy file that has no checks or full reference for possible policy enforceable settings. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Although this touches our policy handling, this just enables preemprive policy checks and does not change the way we handle policy enforcement. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ There will be slightly more work done at service startup time as policies are registered, which should be a very small impact. Policy checking at run time may become slightly faster due to having a smaller policy file to read before each check. Other deployer impact --------------------- End user admins will no longer need to have all settings defined in the policy.json file, only those that they want different than the defaults. Developer impact ---------------- Any policies added to the code should be registered before they are used. Implementation ============== Assignee(s) ----------- Primary assignee: sean-mcginnis Other contributors: Others as needed Work Items ---------- * Define and register all policies. * Switch policy checks to use new method. * Update Devstack to not expect policy.json file. * Update deployer documentation. * Update tox genconfig target to also generate sample policy file. Dependencies ============ Current requirements are for oslo.policy >= 1.9.0, so no extra dependencies are required. Testing ======= If done correctly, no additional or different testing should be required. Existing tests should detect if there are any changes in the expected policy behavior. Documentation Impact ==================== Documentation should be updated to state that only policies which are changes to the default policy will be needed when configuring policy settings. References ========== None. ",,156,0
openstack%2Fsolum~master~I8cc9aaabb8d800accf9755a9de54808b5539017f,openstack/solum,master,I8cc9aaabb8d800accf9755a9de54808b5539017f,Removes use of timeutils.set_time_override,ABANDONED,2017-09-15 15:07:50.000000000,2017-09-15 15:12:27.000000000,,[],"[{'number': 1, 'created': '2017-09-15 15:07:50.000000000', 'files': ['solum/objects/sqlalchemy/migration/alembic_migrations/versions/40df542e345_create_app_table.py', 'solum/tests/api/test_auth.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/450600086a09_add_user_logs_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/586c15b92842_create_parameter_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/498adc6185ae_create_initial_db_schema.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/390c6c4aa97b_create_workflow_table.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/8e0218e7f31121a74cd85f6f32697686a4d2d98c', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nChange-Id: I8cc9aaabb8d800accf9755a9de54808b5539017f\nCloses-Bug:#126692\n""}]",0,504428,8e0218e7f31121a74cd85f6f32697686a4d2d98c,2,0,1,26617,,,0,"Removes use of timeutils.set_time_override

The set_time_override function in timeutils was written as a
helper function to mock utcnow for unittests before 'mock' was
generally used. Now that we have mock and fixture, we no longer
need to use it.

Change-Id: I8cc9aaabb8d800accf9755a9de54808b5539017f
Closes-Bug:#126692
",git fetch https://review.opendev.org/openstack/solum refs/changes/28/504428/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum/objects/sqlalchemy/migration/alembic_migrations/versions/40df542e345_create_app_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/450600086a09_add_user_logs_table.py', 'solum/tests/api/test_auth.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/586c15b92842_create_parameter_table.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/498adc6185ae_create_initial_db_schema.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/390c6c4aa97b_create_workflow_table.py']",6,8e0218e7f31121a74cd85f6f32697686a4d2d98c,1266962," sa.Column('created_at', sa.DateTime, default=lambda: timeutils.utcnow()), sa.Column('updated_at', sa.DateTime, onupdate=lambda: timeutils.utcnow()), sa.Column('deleted_at', sa.DateTime, onupdate=lambda: timeutils.utcnow()),"," sa.Column('created_at', sa.DateTime, default=timeutils.utcnow), sa.Column('updated_at', sa.DateTime, onupdate=timeutils.utcnow), sa.Column('deleted_at', sa.DateTime, onupdate=timeutils.utcnow),",36,33
openstack%2Foslo.db~master~Iab0566cf9f4552e91fa417e64472fa106e8bc86d,openstack/oslo.db,master,Iab0566cf9f4552e91fa417e64472fa106e8bc86d,Throw DBMigrationError instead of DbMigrationError.,MERGED,2017-09-08 03:56:15.000000000,2017-09-15 15:08:42.000000000,2017-09-15 15:08:42.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-09-08 03:56:15.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_migration_common.py', 'oslo_db/sqlalchemy/migration.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9a5a3b3395d1dfb754652fbe8deaba6c25e0ea28', 'message': 'Throw DBMigrationError instead of DbMigrationError.\n\nStop throwing the deprecated DbMigrationError exception,\nUse the new DBMigrationError exception instead,\nso that the consumers can catch the new exception.\nDbMigrationError will not be removed until no consumers\nstill use it.\n\nChange-Id: Iab0566cf9f4552e91fa417e64472fa106e8bc86d\n'}]",2,501941,9a5a3b3395d1dfb754652fbe8deaba6c25e0ea28,9,4,1,17549,,,0,"Throw DBMigrationError instead of DbMigrationError.

Stop throwing the deprecated DbMigrationError exception,
Use the new DBMigrationError exception instead,
so that the consumers can catch the new exception.
DbMigrationError will not be removed until no consumers
still use it.

Change-Id: Iab0566cf9f4552e91fa417e64472fa106e8bc86d
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/41/501941/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_migration_common.py', 'oslo_db/sqlalchemy/migration.py']",2,9a5a3b3395d1dfb754652fbe8deaba6c25e0ea28,stop-throw-DbMigrationError, raise exception.DBMigrationError(ex), raise exception.DbMigrationError(ex),4,4
openstack%2Fsenlin~master~I53a5e1d19f4adb04580627cb6306c43efe610553,openstack/senlin,master,I53a5e1d19f4adb04580627cb6306c43efe610553,2nd patch to reverse GC process,MERGED,2017-09-05 08:27:53.000000000,2017-09-15 15:00:12.000000000,2017-09-15 15:00:12.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 23401}]","[{'number': 1, 'created': '2017-09-05 08:27:53.000000000', 'files': ['senlin/tests/unit/db/test_lock_api.py', 'senlin/tests/unit/db/test_action_api.py', 'senlin/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/08e77c7c73c4cbdfedcc001f2f9bafa1d378ce38', 'message': ""2nd patch to reverse GC process\n\nWe will try to delete the dependents first and then mark the actions'\nstatus as Failed since the owner of the actions went down.\n\nAfter that, we will try to release node lock and cluster lock(cluster scope\nor node scope)\n\nOne problem is that if the dead engine hold a cluster action with a number\nof sub-actions belong to mult engines, we will mark them all as 'FAILED'.\n\nThe starting point for this design is to mark all sub-actions which status\nare 'READY' to 'FAILED' so that the scheduler will not try to acquire them and\nprocess them.\n\nChange-Id: I53a5e1d19f4adb04580627cb6306c43efe610553\n""}]",1,500727,08e77c7c73c4cbdfedcc001f2f9bafa1d378ce38,11,3,1,23401,,,0,"2nd patch to reverse GC process

We will try to delete the dependents first and then mark the actions'
status as Failed since the owner of the actions went down.

After that, we will try to release node lock and cluster lock(cluster scope
or node scope)

One problem is that if the dead engine hold a cluster action with a number
of sub-actions belong to mult engines, we will mark them all as 'FAILED'.

The starting point for this design is to mark all sub-actions which status
are 'READY' to 'FAILED' so that the scheduler will not try to acquire them and
process them.

Change-Id: I53a5e1d19f4adb04580627cb6306c43efe610553
",git fetch https://review.opendev.org/openstack/senlin refs/changes/27/500727/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/db/test_lock_api.py', 'senlin/tests/unit/db/test_action_api.py', 'senlin/db/sqlalchemy/api.py']",3,08e77c7c73c4cbdfedcc001f2f9bafa1d378ce38,gc," # TODO(anyone): this will mark all depended actions' status to 'FAILED' # even the action belong to other engines and the action is runningdef dummy_gc(engine_id): with session_for_write() as session: q_actions = session.query(models.Action).filter_by(owner=engine_id) timestamp = time.time() for action in q_actions.all(): _mark_engine_failed(session, action.id, timestamp, reason='Engine failure') # Release all node locks query = session.query(models.NodeLock).\ filter_by(action_id=action.id) query.delete(synchronize_session=False) # Release all cluster locks for clock in session.query(models.ClusterLock).all(): res = _release_cluster_lock(session, clock, action.id, -1) if not res: _release_cluster_lock(session, clock, action.id, 1)"," # process node actions if depended.count() == 0: returndef dummy_gc(context, action_ids, timestamp, reason=None): with session_for_write() as session: for action in action_ids: _mark_engine_failed(session, action, timestamp, reason)",208,8
openstack%2Fos-brick~master~I18e74d13cd94aba625c51ee05fde75642fbfd2f6,openstack/os-brick,master,I18e74d13cd94aba625c51ee05fde75642fbfd2f6,FC PPC64 device discovery issue,MERGED,2017-09-06 13:13:28.000000000,2017-09-15 14:41:29.000000000,2017-09-15 14:41:29.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12802}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 14806}, {'_account_id': 16897}, {'_account_id': 19852}, {'_account_id': 22248}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-09-06 13:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ee039a9349553fb7c5df49ea54d371b678b042f4', 'message': 'FC PPC64 device discovery issue\n\nWe found the following issues during FC pp64 device discovery\n1. When multipath is enabled get_host_devices returns duplicate\npath entries due to which remove fails.\n2. WWPN grep should be case insensitive\n\nChange-Id: I18e74d13cd94aba625c51ee05fde75642fbfd2f6\n'}, {'number': 2, 'created': '2017-09-06 18:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/df5c746239034634845deb55dc4a2a54ae26c76a', 'message': 'FC PPC64 device discovery issue\n\nChange ppc64 device discovery to remove duplicate devices\nin _get_host_devices().\n\nChange _get_hba_channel_scsi_target() to find devices\nregardless of the case of WWPNs.\n\nChange-Id: I18e74d13cd94aba625c51ee05fde75642fbfd2f6\n'}, {'number': 3, 'created': '2017-09-06 18:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e055591d5831f4b13a5fe3deba1564fe6cbd5577', 'message': 'FC PPC64 device discovery issue\n\nChange ppc64 device discovery to remove duplicate devices\nin _get_host_devices().\n\nChange _get_hba_channel_scsi_target() to find devices\nregardless of the case of WWPNs.\n\nChange-Id: I18e74d13cd94aba625c51ee05fde75642fbfd2f6\n'}, {'number': 4, 'created': '2017-09-07 07:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0b0812e1e0b2524a88ebe696e55623f0264ee261', 'message': 'FC PPC64 device discovery issue\n\nChange ppc64 device discovery to remove duplicate devices\nin _get_host_devices().\n\nChange _get_hba_channel_scsi_target() to find devices\nregardless of the case of WWPNs.\n\nChange-Id: I18e74d13cd94aba625c51ee05fde75642fbfd2f6\n'}, {'number': 5, 'created': '2017-09-07 14:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e52e84e86869400d5607b7df9b3d1e567d40e86a', 'message': 'FC PPC64 device discovery issue\n\nChange ppc64 device discovery to remove duplicate devices\nin _get_host_devices().\n\nChange _get_hba_channel_scsi_target() to find devices\nregardless of the case of WWPNs.\n\nChange-Id: I18e74d13cd94aba625c51ee05fde75642fbfd2f6\nCloses-Bug: #1715647\n'}, {'number': 6, 'created': '2017-09-07 16:27:08.000000000', 'files': ['os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_ppc64.py', 'os_brick/initiator/connectors/fibre_channel_ppc64.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/acfcca557a51317924f847f345439604dcdd1e54', 'message': 'FC PPC64 device discovery issue\n\nChange ppc64 device discovery to remove duplicate devices\nin _get_host_devices().\n\nChange _get_hba_channel_scsi_target() to find devices\nregardless of the case of WWPNs.\n\nChange-Id: I18e74d13cd94aba625c51ee05fde75642fbfd2f6\nCloses-Bug: #1715647\n'}]",9,501253,acfcca557a51317924f847f345439604dcdd1e54,54,14,6,14806,,,0,"FC PPC64 device discovery issue

Change ppc64 device discovery to remove duplicate devices
in _get_host_devices().

Change _get_hba_channel_scsi_target() to find devices
regardless of the case of WWPNs.

Change-Id: I18e74d13cd94aba625c51ee05fde75642fbfd2f6
Closes-Bug: #1715647
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/53/501253/6 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/linuxfc.py', 'os_brick/initiator/connectors/fibre_channel_ppc64.py']",2,ee039a9349553fb7c5df49ea54d371b678b042f4,fc_device_ppc64, return set(host_devices), return host_devices,3,3
openstack%2Fopenstack-ansible-tests~master~I5b9ccc200ef2264c353effd7c6d09dc565729249,openstack/openstack-ansible-tests,master,I5b9ccc200ef2264c353effd7c6d09dc565729249,[TEST] Exclude v2 identity tempest tests,ABANDONED,2017-09-13 20:22:17.000000000,2017-09-15 14:41:09.000000000,,"[{'_account_id': 3}, {'_account_id': 538}]","[{'number': 1, 'created': '2017-09-13 20:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d7c768170997853ee738887fc49519c844dccbc1', 'message': '[TEST] Exclude v2 identity tempest tests\n\nDepends-On: I6367bf93161dd779ae99859886ab813fe9788a88\nChange-Id: I5b9ccc200ef2264c353effd7c6d09dc565729249\n'}, {'number': 2, 'created': '2017-09-13 20:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fe4cda37f9244895b287dbb154aa2eb7c26979d6', 'message': '[TEST] Exclude v2 identity tempest tests\n\nRelated-Bug: 1717011\nDepends-On: I6367bf93161dd779ae99859886ab813fe9788a88\nChange-Id: I5b9ccc200ef2264c353effd7c6d09dc565729249\n'}, {'number': 3, 'created': '2017-09-14 14:46:09.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/18d1711640d3efe7058a544da6bf1c6031f77132', 'message': '[TEST] Exclude v2 identity tempest tests\n\nRelated-Bug: 1717011\nDepends-On: I6367bf93161dd779ae99859886ab813fe9788a88\nChange-Id: I5b9ccc200ef2264c353effd7c6d09dc565729249\n'}]",0,503801,18d1711640d3efe7058a544da6bf1c6031f77132,8,2,3,538,,,0,"[TEST] Exclude v2 identity tempest tests

Related-Bug: 1717011
Depends-On: I6367bf93161dd779ae99859886ab813fe9788a88
Change-Id: I5b9ccc200ef2264c353effd7c6d09dc565729249
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/01/503801/3 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,d7c768170997853ee738887fc49519c844dccbc1,bug/1717011,# TOOT TOOT ,,2,0
openstack%2Fpython-senlinclient~master~I40c4da6fc7f449397748a098aa0cb7cd786b0603,openstack/python-senlinclient,master,I40c4da6fc7f449397748a098aa0cb7cd786b0603,Add profile type ops cli,MERGED,2017-08-09 08:50:10.000000000,2017-09-15 14:34:57.000000000,2017-09-15 14:34:57.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 22998}, {'_account_id': 23401}, {'_account_id': 25395}]","[{'number': 1, 'created': '2017-08-09 08:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/e7ddb1a652ad660265b6b1c59f70281c40ae2e32', 'message': 'Add profile type ops cli\n\nChange-Id: I40c4da6fc7f449397748a098aa0cb7cd786b0603\nCloses-Bug: #1709574\n'}, {'number': 2, 'created': '2017-08-09 09:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/53c2ee84b1c2cf268505b13063d4cfcba57dda0e', 'message': 'Add profile type ops cli\n\nChange-Id: I40c4da6fc7f449397748a098aa0cb7cd786b0603\nCloses-Bug: #1709574\n'}, {'number': 3, 'created': '2017-08-16 06:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/9aad7e49cda5d0716c96e042baea22be718395d2', 'message': 'Add profile type ops cli\n\nChange-Id: I40c4da6fc7f449397748a098aa0cb7cd786b0603\nCloses-Bug: #1709574\n'}, {'number': 4, 'created': '2017-08-16 06:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/610eca2f560ea3d31a7c4bdb66747d1541a1da93', 'message': 'Add profile type ops cli\n\nChange-Id: I40c4da6fc7f449397748a098aa0cb7cd786b0603\nCloses-Bug: #1709574\n'}, {'number': 5, 'created': '2017-08-16 06:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/7ee6bdf5bcec6e0b4608a3cc25263b165e9f2fb8', 'message': 'Add profile type ops cli\n\nChange-Id: I40c4da6fc7f449397748a098aa0cb7cd786b0603\nCloses-Bug: #1709574\n'}, {'number': 6, 'created': '2017-09-08 08:03:39.000000000', 'files': ['senlinclient/v1/client.py', 'senlinclient/tests/unit/v1/test_shell.py', 'setup.cfg', 'senlinclient/v1/profile_type.py', 'senlinclient/v1/shell.py', 'senlinclient/tests/unit/v1/test_profile_type.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/9f050965321ec131707b7bb3aee99fc3ddbde03d', 'message': 'Add profile type ops cli\n\nChange-Id: I40c4da6fc7f449397748a098aa0cb7cd786b0603\nCloses-Bug: #1709574\n'}]",0,492047,9f050965321ec131707b7bb3aee99fc3ddbde03d,20,5,6,25395,,,0,"Add profile type ops cli

Change-Id: I40c4da6fc7f449397748a098aa0cb7cd786b0603
Closes-Bug: #1709574
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/47/492047/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlinclient/v1/client.py', 'senlinclient/tests/unit/v1/test_shell.py', 'setup.cfg', 'senlinclient/v1/profile_type.py', 'senlinclient/v1/shell.py']",5,e7ddb1a652ad660265b6b1c59f70281c40ae2e32,bug/1709574,"@utils.arg('type_name', metavar='<TYPE_NAME>', help=_('Profile type to retrieve.')) @utils.arg('-F', '--format', metavar='<FORMAT>', choices=utils.supported_formats.keys(), help=_(""The template output format, one of: %s."") % ', '.join(utils.supported_formats.keys())) def do_profile_type_ops(service, args): """"""Show the operations about a policy type."""""" show_deprecated('senlin profile-type-ops', 'openstack cluster profile type ops') try: ops = service.get_profile_type_ops(args.type_name) except sdk_exc.ResourceNotFound: raise exc.CommandError(_('Profile type not found: %s') % args.type_name) if args.format: print(utils.format_output(ops, format=args.format)) else: print(utils.format_output(ops)) ",,91,0
openstack%2Fmonasca-log-api~master~Ia236587796b1c63ffbe9d94d5eb01e69afc7e4eb,openstack/monasca-log-api,master,Ia236587796b1c63ffbe9d94d5eb01e69afc7e4eb,Updated from global requirements,MERGED,2017-09-11 21:21:23.000000000,2017-09-15 14:34:01.000000000,2017-09-15 14:34:01.000000000,"[{'_account_id': 3}, {'_account_id': 16222}]","[{'number': 1, 'created': '2017-09-11 21:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/a5fea69b596a0b335c1f7c21b36ef7a35ee14c5e', 'message': 'Updated from global requirements\n\nChange-Id: Ia236587796b1c63ffbe9d94d5eb01e69afc7e4eb\n'}, {'number': 2, 'created': '2017-09-11 21:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/a0027219c502a6cef8749888e008d0a345d97f02', 'message': 'Updated from global requirements\n\nChange-Id: Ia236587796b1c63ffbe9d94d5eb01e69afc7e4eb\n'}, {'number': 3, 'created': '2017-09-12 21:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/7dc4966359bf0a4f3335cb1339ed4d50dcaa95d2', 'message': 'Updated from global requirements\n\nChange-Id: Ia236587796b1c63ffbe9d94d5eb01e69afc7e4eb\n'}, {'number': 4, 'created': '2017-09-13 00:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/abc64e4edfd033eb324c2d0dd890998ad1edf3ce', 'message': 'Updated from global requirements\n\nChange-Id: Ia236587796b1c63ffbe9d94d5eb01e69afc7e4eb\n'}, {'number': 5, 'created': '2017-09-13 12:53:18.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/7f0ca25db1698e6155ff55edba52c6be32f7e8ae', 'message': 'Updated from global requirements\n\nChange-Id: Ia236587796b1c63ffbe9d94d5eb01e69afc7e4eb\n'}]",0,502674,7f0ca25db1698e6155ff55edba52c6be32f7e8ae,12,2,5,11131,,,0,"Updated from global requirements

Change-Id: Ia236587796b1c63ffbe9d94d5eb01e69afc7e4eb
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/74/502674/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,a5fea69b596a0b335c1f7c21b36ef7a35ee14c5e,openstack/requirements,os-testr>=0.8.2 # Apache-2.0os-api-ref>=1.4.0 # Apache-2.0,os-testr>=0.8.0 # Apache-2.0os-api-ref>=1.0.0 # Apache-2.0,6,6
openstack%2Frpm-packaging-tools~master~I8b4ff7af88e7341688e25952ca2bf2d5ffe04fe6,openstack/rpm-packaging-tools,master,I8b4ff7af88e7341688e25952ca2bf2d5ffe04fe6,Switch master to Queens,MERGED,2017-09-15 13:42:57.000000000,2017-09-15 14:25:42.000000000,2017-09-15 14:25:42.000000000,"[{'_account_id': 3}, {'_account_id': 13294}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-09-15 13:42:57.000000000', 'files': ['tools/rpm-packaging-status.py'], 'web_link': 'https://opendev.org/openstack/rpm-packaging-tools/commit/14b87ceb18b3a675d1c0441a7a6aa5ccf33977a1', 'message': 'Switch master to Queens\n\nChange-Id: I8b4ff7af88e7341688e25952ca2bf2d5ffe04fe6\n'}]",0,504411,14b87ceb18b3a675d1c0441a7a6aa5ccf33977a1,7,3,1,7102,,,0,"Switch master to Queens

Change-Id: I8b4ff7af88e7341688e25952ca2bf2d5ffe04fe6
",git fetch https://review.opendev.org/openstack/rpm-packaging-tools refs/changes/11/504411/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/rpm-packaging-status.py'],1,14b87ceb18b3a675d1c0441a7a6aa5ccf33977a1,,CURRENT_MASTER = 'queens',CURRENT_MASTER = 'pike',1,1
openstack%2Ftripleo-heat-templates~master~Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e,openstack/tripleo-heat-templates,master,Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e,One time delete pacemaker resources during upgrade to containers,MERGED,2017-09-07 13:40:29.000000000,2017-09-15 14:25:16.000000000,2017-09-11 21:50:31.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 17823}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 21537}]","[{'number': 1, 'created': '2017-09-07 13:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/294efca243c0c2581b4b3823d9e10a87adcc9acf', 'message': 'WIP: Delete and disable pacemaker resource only once during upgrade\n\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n'}, {'number': 2, 'created': '2017-09-07 14:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3ac408461d57adde20b8d837af423fa0c7bf43d', 'message': 'WIP: Delete and disable pacemaker resource only once during upgrade\n\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n'}, {'number': 3, 'created': '2017-09-08 08:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f35ba8abcdadbe6d083cc02b808c3274fdf7ef9d', 'message': 'WIP: Delete and disable pacemaker resource only once during upgrade\n\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n'}, {'number': 4, 'created': '2017-09-08 08:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5205044d03a862ac930cec4499949318ab096a25', 'message': 'WIP: Delete and disable pacemaker resource only once during upgrade\n\nDepends-On: I8da03f5c4a6d442617b81be5793a9724cc8842bf\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n'}, {'number': 5, 'created': '2017-09-08 10:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a9e88f7d2b094fcf2bbd043b89d817e65d837ae', 'message': 'WIP: Delete and disable pacemaker resource only once during upgrade\n\nDepends-On: I8da03f5c4a6d442617b81be5793a9724cc8842bf\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n'}, {'number': 6, 'created': '2017-09-08 13:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/caa5493f2959f2f3a007a0d02c05367379426326', 'message': 'WIP: Delete and disable pacemaker resource only once during upgrade\n\nDepends-On: I8da03f5c4a6d442617b81be5793a9724cc8842bf\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n'}, {'number': 7, 'created': '2017-09-08 18:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b31e741ed63b7d15a75c92338d2fda542111e8e4', 'message': ""One time delete pacemaker resources during upgrade to containers\n\nThis change allows running the major upgrade composable docker\nsteps multiple times by not trying to delete the pacemaker resources\nif they're not reported as started or in master state.\n\nCloses-bug: 1716031\nDepends-On: I8da03f5c4a6d442617b81be5793a9724cc8842bf\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n""}, {'number': 8, 'created': '2017-09-08 18:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb074884c6ca92cef15a3ecf18329b8bc872f312', 'message': ""One time delete pacemaker resources during upgrade to containers\n\nThis change allows running the major upgrade composable docker\nsteps multiple times by not trying to delete the pacemaker resources\nif they're not reported as started or in master state.\n\nCloses-bug: 1716031\nDepends-On: I8da03f5c4a6d442617b81be5793a9724cc8842bf\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n""}, {'number': 9, 'created': '2017-09-08 18:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a1facde1abfacb9d054c733a99af5f3c85802d1', 'message': ""One time delete pacemaker resources during upgrade to containers\n\nThis change allows running the major upgrade composable docker\nsteps multiple times by not trying to delete the pacemaker resources\nif they're not reported as started or in master state.\n\nCloses-bug: 1716031\nDepends-On: I8da03f5c4a6d442617b81be5793a9724cc8842bf\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n""}, {'number': 10, 'created': '2017-09-11 10:54:00.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64d7be1e3d4552e06cbc53f788572e530cc5c3bb', 'message': ""One time delete pacemaker resources during upgrade to containers\n\nThis change allows running the major upgrade composable docker\nsteps multiple times by not trying to delete the pacemaker resources\nif they're not reported as started or in master state.\n\nCloses-bug: 1716031\nDepends-On: I8da03f5c4a6d442617b81be5793a9724cc8842bf\nChange-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e\n""}]",7,501734,64d7be1e3d4552e06cbc53f788572e530cc5c3bb,27,9,10,18851,,,0,"One time delete pacemaker resources during upgrade to containers

This change allows running the major upgrade composable docker
steps multiple times by not trying to delete the pacemaker resources
if they're not reported as started or in master state.

Closes-bug: 1716031
Depends-On: I8da03f5c4a6d442617b81be5793a9724cc8842bf
Change-Id: Ifcf9de8c82550a90a9fb118052d43fdbcdc6ca7e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/501734/6 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/redis.yaml']",4,294efca243c0c2581b4b3823d9e10a87adcc9acf,bug/1716031," - name: Check cluster resource status pacemaker_resource: resource: {get_attr: [RedisBase, role_data, service_name]} state: master check_mode: true ignore_errors: true register: redis_res when: - is_bootstrap_node - redis_res is defined and redis_res | succeeded when: - is_bootstrap_node - redis_res is defined and redis_res | succeeded", when: is_bootstrap_node when: is_bootstrap_node,54,8
openstack%2Fmonasca-persister~master~I5d533619e4bf363fa577b465dfb740e46b75626e,openstack/monasca-persister,master,I5d533619e4bf363fa577b465dfb740e46b75626e,Updated from global requirements,MERGED,2017-09-11 21:21:28.000000000,2017-09-15 13:55:19.000000000,2017-09-15 13:55:19.000000000,"[{'_account_id': 3}, {'_account_id': 16222}, {'_account_id': 26702}, {'_account_id': 26719}, {'_account_id': 26733}]","[{'number': 1, 'created': '2017-09-11 21:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/a1430cb18cc525376f08a05cdd1ac282dafaca0c', 'message': 'Updated from global requirements\n\nChange-Id: I5d533619e4bf363fa577b465dfb740e46b75626e\n'}, {'number': 2, 'created': '2017-09-13 00:06:36.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/42d3b09f41713fec84f7cafacba71ad0c09abb15', 'message': 'Updated from global requirements\n\nChange-Id: I5d533619e4bf363fa577b465dfb740e46b75626e\n'}]",0,502675,42d3b09f41713fec84f7cafacba71ad0c09abb15,12,5,2,11131,,,0,"Updated from global requirements

Change-Id: I5d533619e4bf363fa577b465dfb740e46b75626e
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/75/502675/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,a1430cb18cc525376f08a05cdd1ac282dafaca0c,openstack/requirements,os-testr>=0.8.2 # Apache-2.0,os-testr>=0.8.0 # Apache-2.0,2,2
openstack%2Fmonasca-ui~master~I6776509a6e4c142a5e1bcd7e6c5d993f9cc38584,openstack/monasca-ui,master,I6776509a6e4c142a5e1bcd7e6c5d993f9cc38584,Updated from global requirements,MERGED,2017-09-11 21:39:45.000000000,2017-09-15 13:55:13.000000000,2017-09-15 13:55:13.000000000,"[{'_account_id': 3}, {'_account_id': 16222}]","[{'number': 1, 'created': '2017-09-11 21:39:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/4951542f11c474d34e7d81b566fad743ea425701', 'message': 'Updated from global requirements\n\nChange-Id: I6776509a6e4c142a5e1bcd7e6c5d993f9cc38584\n'}]",0,502781,4951542f11c474d34e7d81b566fad743ea425701,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I6776509a6e4c142a5e1bcd7e6c5d993f9cc38584
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/81/502781/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4951542f11c474d34e7d81b566fad743ea425701,openstack/requirements,funcsigs>=1.0.0;python_version=='2.7' or python_version=='2.6' # Apache-2.0 mox3>=0.20.0 # Apache-2.0,"funcsigs>=0.4;python_version=='2.7' or python_version=='2.6' # Apache-2.0 mox3!=0.19.0,>=0.7.0 # Apache-2.0",2,2
openstack%2Fmonasca-statsd~master~I5a6aab861a5896bbf4524bcd91810401c89f6ba4,openstack/monasca-statsd,master,I5a6aab861a5896bbf4524bcd91810401c89f6ba4,Updated from global requirements,MERGED,2017-09-11 21:21:31.000000000,2017-09-15 13:54:39.000000000,2017-09-15 13:54:39.000000000,"[{'_account_id': 3}, {'_account_id': 16222}]","[{'number': 1, 'created': '2017-09-11 21:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/d11d9eca3aeb032bbdd700d732e1795141bab950', 'message': 'Updated from global requirements\n\nChange-Id: I5a6aab861a5896bbf4524bcd91810401c89f6ba4\n'}, {'number': 2, 'created': '2017-09-13 00:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/20b694345875ecec5156d2c9449afde342412555', 'message': 'Updated from global requirements\n\nChange-Id: I5a6aab861a5896bbf4524bcd91810401c89f6ba4\n'}, {'number': 3, 'created': '2017-09-13 12:53:25.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/55e415b9274042e931968ea7619253e19f9fabc4', 'message': 'Updated from global requirements\n\nChange-Id: I5a6aab861a5896bbf4524bcd91810401c89f6ba4\n'}]",0,502676,55e415b9274042e931968ea7619253e19f9fabc4,10,2,3,11131,,,0,"Updated from global requirements

Change-Id: I5a6aab861a5896bbf4524bcd91810401c89f6ba4
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/76/502676/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d11d9eca3aeb032bbdd700d732e1795141bab950,openstack/requirements,os-testr>=0.8.2 # Apache-2.0,os-testr>=0.8.0 # Apache-2.0,1,1
openstack%2Frpm-packaging~master~Icfa6dbd9e2d5c732dd31b23524feeb5c1a689194,openstack/rpm-packaging,master,Icfa6dbd9e2d5c732dd31b23524feeb5c1a689194,Update oslo.concurrency to 3.22.0,MERGED,2017-09-06 14:45:27.000000000,2017-09-15 13:53:18.000000000,2017-09-15 13:53:18.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-06 14:45:27.000000000', 'files': ['openstack/oslo.concurrency/oslo.concurrency.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/50ae0325a0310eb6ed7536a0c85e4b7c29d6aa18', 'message': 'Update oslo.concurrency to 3.22.0\n\nChange-Id: Icfa6dbd9e2d5c732dd31b23524feeb5c1a689194\nDepends-on: Ib236a5d31b6577b27921f0e980c22eaab3054db0\n'}]",0,501293,50ae0325a0310eb6ed7536a0c85e4b7c29d6aa18,18,6,1,17130,,,0,"Update oslo.concurrency to 3.22.0

Change-Id: Icfa6dbd9e2d5c732dd31b23524feeb5c1a689194
Depends-on: Ib236a5d31b6577b27921f0e980c22eaab3054db0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/93/501293/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.concurrency/oslo.concurrency.spec.j2'],1,50ae0325a0310eb6ed7536a0c85e4b7c29d6aa18,oslo-concurrency,Version: 3.22.0,Version: 3.21.0,1,1
openstack%2Fmonasca-common~master~Iff5af8970ba8472774b95251df3801381a3f6d17,openstack/monasca-common,master,Iff5af8970ba8472774b95251df3801381a3f6d17,Updated from global requirements,MERGED,2017-09-11 21:21:20.000000000,2017-09-15 13:53:12.000000000,2017-09-15 13:53:11.000000000,"[{'_account_id': 3}, {'_account_id': 16222}]","[{'number': 1, 'created': '2017-09-11 21:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/49ed1c0a742fb762b678857e37000a5760132278', 'message': 'Updated from global requirements\n\nChange-Id: Iff5af8970ba8472774b95251df3801381a3f6d17\n'}, {'number': 2, 'created': '2017-09-11 21:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/996f59678c10e3d6b55a61cf7f3858278114a3a5', 'message': 'Updated from global requirements\n\nChange-Id: Iff5af8970ba8472774b95251df3801381a3f6d17\n'}, {'number': 3, 'created': '2017-09-13 00:06:29.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/32fb6f063a2cc020cf2fc6427600829cc02ea669', 'message': 'Updated from global requirements\n\nChange-Id: Iff5af8970ba8472774b95251df3801381a3f6d17\n'}]",0,502673,32fb6f063a2cc020cf2fc6427600829cc02ea669,9,2,3,11131,,,0,"Updated from global requirements

Change-Id: Iff5af8970ba8472774b95251df3801381a3f6d17
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/73/502673/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,49ed1c0a742fb762b678857e37000a5760132278,openstack/requirements,os-testr>=0.8.2 # Apache-2.0,os-testr>=0.8.0 # Apache-2.0,2,2
openstack%2Fdiskimage-builder~master~I72da2776674a3963657052b9a9715abcb4fab1e2,openstack/diskimage-builder,master,I72da2776674a3963657052b9a9715abcb4fab1e2,Add missing package dependency for yaml,MERGED,2017-09-11 12:33:30.000000000,2017-09-15 13:52:35.000000000,2017-09-15 13:52:35.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-09-11 12:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3065b32d455c5f8f76a7f9b80e8f10eb61f0d316', 'message': 'Add missing package dependency for yaml\n\nThis element was assuming that yaml was included as package,\nbut there are systems not including it. So properly add yaml\nas a dependency.\n\nChange-Id: I72da2776674a3963657052b9a9715abcb4fab1e2\nPartially-Fixes-Bug: #1715686\n'}, {'number': 2, 'created': '2017-09-11 13:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/feac961a9f478e7f46ff1f116fc98ec9a2b73ec5', 'message': 'Add missing package dependency for yaml\n\nThis element was assuming that yaml was included as package,\nbut there are systems not including it. So properly add yaml\nas a dependency.\n\nChange-Id: I72da2776674a3963657052b9a9715abcb4fab1e2\nPartially-Fixes-Bug: #1715686\n'}, {'number': 3, 'created': '2017-09-11 15:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bdd221b7299ada1f39120aadcd7e997a6b15a050', 'message': 'Add missing package dependency for yaml\n\nThis element was assuming that yaml was included as package,\nbut there are systems not including it. So properly add yaml\nas a dependency.\n\nChange-Id: I72da2776674a3963657052b9a9715abcb4fab1e2\nPartially-Fixes-Bug: #1715686\n'}, {'number': 4, 'created': '2017-09-11 17:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ec8905500f95656ecdd26deea2ed03a1721e147a', 'message': 'Add missing package dependency for yaml\n\nThis element was assuming that yaml was included as package,\nbut there are systems not including it. So properly add yaml\nas a dependency.\n\nChange-Id: I72da2776674a3963657052b9a9715abcb4fab1e2\nPartially-Fixes-Bug: #1715686\n'}, {'number': 5, 'created': '2017-09-12 13:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/62ad8468ea32966a638d8090464f7b82b78f1424', 'message': 'Add missing package dependency for yaml\n\nThis element was assuming that yaml was included as package,\nbut there are systems not including it. So properly add yaml\nas a dependency.\n\nChange-Id: I72da2776674a3963657052b9a9715abcb4fab1e2\nPartially-Fixes-Bug: #1715686\n'}, {'number': 6, 'created': '2017-09-13 11:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2d2458d2264286629a4fbbe6150167527d6b9c80', 'message': 'Add missing package dependency for yaml\n\nThis element was assuming that yaml was included as package,\nbut there are systems not including it. So properly add yaml\nas a dependency.\n\nChange-Id: I72da2776674a3963657052b9a9715abcb4fab1e2\nPartially-Fixes-Bug: #1715686\n'}, {'number': 7, 'created': '2017-09-13 12:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/70f761287671d4bd1d0ba387120ab4bbbb31f2ce', 'message': 'WIP: Add missing package dependency for yaml\n\nThis element was assuming that yaml was included as package,\nbut there are systems not including it. So properly add yaml\nas a dependency.\n\nChange-Id: I72da2776674a3963657052b9a9715abcb4fab1e2\nPartially-Fixes-Bug: #1715686\n'}, {'number': 8, 'created': '2017-09-13 12:16:51.000000000', 'files': ['diskimage_builder/elements/dracut-regenerate/pkg-map', 'diskimage_builder/elements/dracut-regenerate/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/da5c926fe92170446f4f0033f6494fbe2871ec82', 'message': 'Add missing package dependency for yaml\n\nThis element was assuming that yaml was included as package,\nbut there are systems not including it. So properly add yaml\nas a dependency.\n\nChange-Id: I72da2776674a3963657052b9a9715abcb4fab1e2\nPartially-Fixes-Bug: #1715686\n'}]",2,502454,da5c926fe92170446f4f0033f6494fbe2871ec82,32,5,8,6133,,,0,"Add missing package dependency for yaml

This element was assuming that yaml was included as package,
but there are systems not including it. So properly add yaml
as a dependency.

Change-Id: I72da2776674a3963657052b9a9715abcb4fab1e2
Partially-Fixes-Bug: #1715686
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/54/502454/8 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dracut-regenerate/pkg-map'],1,3065b32d455c5f8f76a7f9b80e8f10eb61f0d316,bug/1715686,"{ ""family"": { ""redhat"": { ""PyYAML"": ""PyYAML"" }, ""debian"": { ""PyYAML"": ""python-yaml"" }, ""gentoo"": { ""PyYAML"": ""dev-python/pyyaml"" }, ""suse"": { ""PyYAML"": ""python-PyYAML"" }, }, ""default"": { ""PyYAML"": ""PyYAML"", } } ",,20,0
openstack%2Fopenstack-ansible-os_nova~master~I17b7ddb4ceaf41b1b87742a9010c91b4ffb679ff,openstack/openstack-ansible-os_nova,master,I17b7ddb4ceaf41b1b87742a9010c91b4ffb679ff,Add libvirt-client on nova-compute,MERGED,2017-09-14 17:34:34.000000000,2017-09-15 13:51:48.000000000,2017-09-14 22:56:20.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-09-14 17:34:34.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b1fdb2daf7146a85470f1bb9d52df19086848751', 'message': 'Add libvirt-client on nova-compute\n\nlibvirt-client is needed to have virsh client installed on Centos.\n\nChange-Id: I17b7ddb4ceaf41b1b87742a9010c91b4ffb679ff\n'}]",0,504144,b1fdb2daf7146a85470f1bb9d52df19086848751,13,3,1,13095,,,0,"Add libvirt-client on nova-compute

libvirt-client is needed to have virsh client installed on Centos.

Change-Id: I17b7ddb4ceaf41b1b87742a9010c91b4ffb679ff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/44/504144/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,b1fdb2daf7146a85470f1bb9d52df19086848751,centos-virsh, - libvirt-client,,1,0
openstack%2Frpm-packaging~master~Iec01668042995095a50eb2f701144558303e643f,openstack/rpm-packaging,master,Iec01668042995095a50eb2f701144558303e643f,Updated python-manilaclient to 1.17.2,MERGED,2017-09-15 06:47:25.000000000,2017-09-15 13:43:16.000000000,2017-09-15 13:43:16.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-15 06:47:25.000000000', 'files': ['openstack/python-manilaclient/python-manilaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4798d9af0d19c08b02beaae3eab3812037d9ff22', 'message': 'Updated python-manilaclient to 1.17.2\n\nChange-Id: Iec01668042995095a50eb2f701144558303e643f\n'}]",0,504344,4798d9af0d19c08b02beaae3eab3812037d9ff22,9,5,1,21691,,,0,"Updated python-manilaclient to 1.17.2

Change-Id: Iec01668042995095a50eb2f701144558303e643f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/44/504344/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-manilaclient/python-manilaclient.spec.j2'],1,4798d9af0d19c08b02beaae3eab3812037d9ff22,,Version: 1.17.2,Version: 1.17.1,1,1
openstack%2Frpm-packaging~master~Ic756572fc2442d1e34f2670de198d120f0332629,openstack/rpm-packaging,master,Ic756572fc2442d1e34f2670de198d120f0332629,Updated python-ironic-inspector-client to 2.1.0,MERGED,2017-09-12 14:50:09.000000000,2017-09-15 13:43:13.000000000,2017-09-15 13:43:13.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 14:50:09.000000000', 'files': ['openstack/python-ironic-inspector-client/python-ironic-inspector-client.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cb723ebae82193f132a5abc28e6d75712b2488a5', 'message': 'Updated python-ironic-inspector-client to 2.1.0\n\nChange-Id: Ic756572fc2442d1e34f2670de198d120f0332629\n'}]",0,503022,cb723ebae82193f132a5abc28e6d75712b2488a5,13,5,1,21691,,,0,"Updated python-ironic-inspector-client to 2.1.0

Change-Id: Ic756572fc2442d1e34f2670de198d120f0332629
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/22/503022/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-ironic-inspector-client/python-ironic-inspector-client.spec.j2'],1,cb723ebae82193f132a5abc28e6d75712b2488a5,,Version: 2.1.0,Version: 2.0.0,1,1
openstack%2Frpm-packaging~master~I78d1f675f191517360ce50bb9ef7aaf1ed83c9ac,openstack/rpm-packaging,master,I78d1f675f191517360ce50bb9ef7aaf1ed83c9ac,Updated python-ironicclient to 1.17.0,MERGED,2017-09-12 10:38:26.000000000,2017-09-15 13:43:08.000000000,2017-09-15 13:43:08.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 10:38:26.000000000', 'files': ['openstack/python-ironicclient/python-ironicclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bca4055ea6b3652fba96d59ccde3768d92030a08', 'message': 'Updated python-ironicclient to 1.17.0\n\nChange-Id: I78d1f675f191517360ce50bb9ef7aaf1ed83c9ac\n'}]",0,502946,bca4055ea6b3652fba96d59ccde3768d92030a08,17,5,1,21691,,,0,"Updated python-ironicclient to 1.17.0

Change-Id: I78d1f675f191517360ce50bb9ef7aaf1ed83c9ac
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/46/502946/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-ironicclient/python-ironicclient.spec.j2'],1,bca4055ea6b3652fba96d59ccde3768d92030a08,,Version: 1.17.0,Version: 1.16.0,1,1
openstack%2Frpm-packaging~stable%2Fpike~I3b8cadb184b1d0338f178a919a2e4f9917e11ec8,openstack/rpm-packaging,stable/pike,I3b8cadb184b1d0338f178a919a2e4f9917e11ec8,monasca-api: add missing oslo_db Require,MERGED,2017-09-15 10:00:34.000000000,2017-09-15 13:34:55.000000000,2017-09-15 13:34:55.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-15 10:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4d6e5a806a89871f2606cfcc637fd2dd382d61c3', 'message': 'monasca-api: add missing oslo_db Require\n\nChange-Id: I3b8cadb184b1d0338f178a919a2e4f9917e11ec8\n(cherry picked from commit c02f38deedfb2064ea883febeb5fb05c6a001cfd)\n'}, {'number': 2, 'created': '2017-09-15 10:59:54.000000000', 'files': ['openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cfcca204cd02c62542e4db6541e4fd6f6330909b', 'message': 'monasca-api: add missing oslo_db Require\n\nChange-Id: I3b8cadb184b1d0338f178a919a2e4f9917e11ec8\n(cherry picked from commit c02f38deedfb2064ea883febeb5fb05c6a001cfd)\n'}]",0,504383,cfcca204cd02c62542e4db6541e4fd6f6330909b,14,5,2,12542,,,0,"monasca-api: add missing oslo_db Require

Change-Id: I3b8cadb184b1d0338f178a919a2e4f9917e11ec8
(cherry picked from commit c02f38deedfb2064ea883febeb5fb05c6a001cfd)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/504383/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-api/monasca-api.spec.j2'],1,4d6e5a806a89871f2606cfcc637fd2dd382d61c3,504373-pike,Requires: {{ py2pkg('oslo.db') }},,1,0
openstack%2Fpuppet-octavia~master~I30a8c6de07d2f70f398021209da5e517dd4e7fde,openstack/puppet-octavia,master,I30a8c6de07d2f70f398021209da5e517dd4e7fde,"deprecate bind_host, bind_port and auth_strategy options",MERGED,2017-09-14 07:30:50.000000000,2017-09-15 13:31:45.000000000,2017-09-15 13:31:44.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-09-14 07:30:50.000000000', 'files': ['manifests/api.pp', 'spec/classes/octavia_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/240af51915dd9877fd380eae16f0a459992af5db', 'message': 'deprecate bind_host, bind_port and auth_strategy options\n\nbind_host is deprecated for removal. Its value may be silently ignored\nin the future.\nReason:\tThis setting has moved to the [api_settings] section.[0]\n\nbind_port is deprecated for removal. Its value may be silently ignored\nin the future.\nReason:\tThis setting has moved to the [api_settings] section.[1]\n\nauth_strategy is deprecated for removal. Its value may be silently ignored\nin the future.\nReason:\tThis setting has moved to the [api_settings] section.[2]\n\n[0]https://docs.openstack.org/octavia/latest/configuration/configref.html#DEFAULT.bind_host\n[1]https://docs.openstack.org/octavia/latest/configuration/configref.html#DEFAULT.bind_port\n[2]https://docs.openstack.org/octavia/latest/configuration/configref.html#DEFAULT.auth_strategy\n\nChange-Id: I30a8c6de07d2f70f398021209da5e517dd4e7fde\nCloses-Bug: #1717192\n'}]",0,503985,240af51915dd9877fd380eae16f0a459992af5db,7,3,1,9414,,,0,"deprecate bind_host, bind_port and auth_strategy options

bind_host is deprecated for removal. Its value may be silently ignored
in the future.
Reason:	This setting has moved to the [api_settings] section.[0]

bind_port is deprecated for removal. Its value may be silently ignored
in the future.
Reason:	This setting has moved to the [api_settings] section.[1]

auth_strategy is deprecated for removal. Its value may be silently ignored
in the future.
Reason:	This setting has moved to the [api_settings] section.[2]

[0]https://docs.openstack.org/octavia/latest/configuration/configref.html#DEFAULT.bind_host
[1]https://docs.openstack.org/octavia/latest/configuration/configref.html#DEFAULT.bind_port
[2]https://docs.openstack.org/octavia/latest/configuration/configref.html#DEFAULT.auth_strategy

Change-Id: I30a8c6de07d2f70f398021209da5e517dd4e7fde
Closes-Bug: #1717192
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/85/503985/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/octavia_api_spec.rb']",2,240af51915dd9877fd380eae16f0a459992af5db,bug/1717192, is_expected.to contain_octavia_config('api_settings/bind_host').with_value( '0.0.0.0' ) is_expected.to contain_octavia_config('api_settings/bind_port').with_value( '9876' ) is_expected.to contain_octavia_config('api_settings/auth_strategy').with_value( 'keystone' ) is_expected.to contain_octavia_config('api_settings/bind_host').with_value( params[:host] ) is_expected.to contain_octavia_config('api_settings/bind_port').with_value( params[:port] ), is_expected.to contain_octavia_config('DEFAULT/bind_host').with_value( '0.0.0.0' ) is_expected.to contain_octavia_config('DEFAULT/bind_port').with_value( '9876' ) is_expected.to contain_octavia_config('DEFAULT/auth_strategy').with_value( 'keystone' ) is_expected.to contain_octavia_config('DEFAULT/bind_host').with_value( params[:host] ) is_expected.to contain_octavia_config('DEFAULT/bind_port').with_value( params[:port] ),8,8
openstack%2Fpuppet-glare~master~Icad365825b3c134267493efb3ee692cfce364399,openstack/puppet-glare,master,Icad365825b3c134267493efb3ee692cfce364399,Deprecate revocation_cache_time option,MERGED,2017-09-14 03:27:09.000000000,2017-09-15 13:23:43.000000000,2017-09-15 13:23:43.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-09-14 03:27:09.000000000', 'files': ['spec/classes/glare_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/d9d775fc51ca5eb626f1483ce48c3cf7c3cacf93', 'message': 'Deprecate revocation_cache_time option\n\nThe revocation_cache_time is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Icad365825b3c134267493efb3ee692cfce364399\nCloses-Bug: #1717144\n'}]",0,503915,d9d775fc51ca5eb626f1483ce48c3cf7c3cacf93,7,3,1,9414,,,0,"Deprecate revocation_cache_time option

The revocation_cache_time is deprecated for removel because of PKI
token format is no longer supported.
Update warning message and add a release note.

Change-Id: Icad365825b3c134267493efb3ee692cfce364399
Closes-Bug: #1717144
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/15/503915/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glare_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,d9d775fc51ca5eb626f1483ce48c3cf7c3cacf93,bug/1717144,,"# [*revocation_cache_time*] # (Optional) Determines the frequency at which the list of revoked tokens is # retrieved from the Identity service (in seconds). A high number of # revocation events combined with a low cache duration may significantly # reduce performance. Only valid for PKI tokens. Integer value # Defaults to $::os_service_default. # $revocation_cache_time = $::os_service_default, revocation_cache_time => $revocation_cache_time,",0,12
openstack%2Fopenstack-helm~master~Ia49fc2f3cf82bb82a0395a6b0d8ae2d585b15e5f,openstack/openstack-helm,master,Ia49fc2f3cf82bb82a0395a6b0d8ae2d585b15e5f,Ceph: logging through fluentd and elastic search,ABANDONED,2017-09-13 14:42:40.000000000,2017-09-15 13:16:28.000000000,,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 26509}]","[{'number': 1, 'created': '2017-09-13 14:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e2ad21cc35fad34be5a45c495ff0dd5b47bae4a7', 'message': 'WIP: Ceph: logging through fluentd and elastic search\n\nChange-Id: Ia49fc2f3cf82bb82a0395a6b0d8ae2d585b15e5f\nSigned-off-by: Huamin Chen <hchen@redhat.com>\n'}, {'number': 2, 'created': '2017-09-13 15:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8953f709eb48ea577492a42b208d22ed5c516ea7', 'message': 'WIP: Ceph: logging through fluentd and elastic search\n\nChange-Id: Ia49fc2f3cf82bb82a0395a6b0d8ae2d585b15e5f\nSigned-off-by: Huamin Chen <hchen@redhat.com>\n'}, {'number': 3, 'created': '2017-09-13 15:43:14.000000000', 'files': ['ceph/templates/daemonset-mon.yaml', 'ceph/templates/configmap-etc.yaml', 'ceph/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83cff438497dee7a08deb0319b0be904efc867eb', 'message': 'Ceph: logging through fluentd and elastic search\n\nRun fluentd container inside monitor daemonset\nand stream ceph logs to elastic search.\n\nElastic search service endpoint is expected to\nbe ""elasticsearch-logging.default:9200"". This can\nbe changed in conf.fluentd variable.\n\nChange-Id: Ia49fc2f3cf82bb82a0395a6b0d8ae2d585b15e5f\nSigned-off-by: Huamin Chen <hchen@redhat.com>\n'}]",0,503692,83cff438497dee7a08deb0319b0be904efc867eb,17,5,3,26509,,,0,"Ceph: logging through fluentd and elastic search

Run fluentd container inside monitor daemonset
and stream ceph logs to elastic search.

Elastic search service endpoint is expected to
be ""elasticsearch-logging.default:9200"". This can
be changed in conf.fluentd variable.

Change-Id: Ia49fc2f3cf82bb82a0395a6b0d8ae2d585b15e5f
Signed-off-by: Huamin Chen <hchen@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/92/503692/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/daemonset-mon.yaml', 'ceph/templates/configmap-etc.yaml', 'ceph/values.yaml']",3,e2ad21cc35fad34be5a45c495ff0dd5b47bae4a7,mon-log, fluentd: gcr.io/google_containers/fluentd-elasticsearch:1.22 fluentd: | <source> type tail format none path /var/log/ceph/*.log tag ceph.* </source> <match **> type elasticsearch log_level info include_tag_key true host elasticsearch-logging port 9200 logstash_format true buffer_chunk_limit 2M buffer_queue_limit 32 flush_interval 5s max_retry_wait 30 disable_retry_limit num_threads 8 </match> logging_mon: true,,58,0
openstack%2Fpuppet-neutron~master~Ib896decb7e9ec5d3a4d5a449a1586750af7910ef,openstack/puppet-neutron,master,Ib896decb7e9ec5d3a4d5a449a1586750af7910ef,Create Keystone resource prior to creating Neutron resources,ABANDONED,2017-09-03 17:23:15.000000000,2017-09-15 13:14:56.000000000,,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 8971}]","[{'number': 1, 'created': '2017-09-03 17:23:15.000000000', 'files': ['manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/015fbf26bca6639cdfcf1341ad16759bcb94d1e2', 'message': 'Create Keystone resource prior to creating Neutron resources\n\nWhen Keystone is running using mod_wsgi, it is possible that the\nNeutron resources try to get created before the Keystone users\ndue to the fact that they both share the same triggered anchor\nthrough service.\n\nChange-Id: Ib896decb7e9ec5d3a4d5a449a1586750af7910ef\n'}]",0,500376,015fbf26bca6639cdfcf1341ad16759bcb94d1e2,9,3,1,1004,,,0,"Create Keystone resource prior to creating Neutron resources

When Keystone is running using mod_wsgi, it is possible that the
Neutron resources try to get created before the Keystone users
due to the fact that they both share the same triggered anchor
through service.

Change-Id: Ib896decb7e9ec5d3a4d5a449a1586750af7910ef
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/76/500376/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/deps.pp'],1,015fbf26bca6639cdfcf1341ad16759bcb94d1e2,neutron-deps," # NOTE(mnaser): In the event that Neutron is deployed via WSGI, the anchor # neutron::service::end will be triggered by other WSGI services # such as Keystone, which means resources could attempt to be # created before Keystone users are created. The following # addresses the issue in the event that services are colocated, # however leaving it up to the user to handle this if the # services are not colocated. Keystone_domain<||> -> Anchor['neutron::service::end'] Keystone_endpoint<||> -> Anchor['neutron::service::end'] Keystone_role<||> -> Anchor['neutron::service::end'] Keystone_service<||> -> Anchor['neutron::service::end'] Keystone_tenant<||> -> Anchor['neutron::service::end'] Keystone_user<||> -> Anchor['neutron::service::end'] Keystone_user_role<||> -> Anchor['neutron::service::end'] ",,15,0
openstack%2Fpuppet-magnum~master~I6edd1bbad778c2a9b44be9bcfc65c978b5e35132,openstack/puppet-magnum,master,I6edd1bbad778c2a9b44be9bcfc65c978b5e35132,Deprecate revocation_cache_time option,MERGED,2017-09-14 03:38:04.000000000,2017-09-15 13:13:52.000000000,2017-09-15 13:13:52.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-09-14 03:38:04.000000000', 'files': ['spec/classes/magnum_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/deprecate_revocation_cache_time_parameter-255ee73006a4dbf4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/4fb1dec3dfd16c680bb9f23124bd3115dfe6348d', 'message': 'Deprecate revocation_cache_time option\n\nThe revocation_cache_time is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: I6edd1bbad778c2a9b44be9bcfc65c978b5e35132\nCloses-Bug: #1717144\n'}]",0,503921,4fb1dec3dfd16c680bb9f23124bd3115dfe6348d,7,3,1,9414,,,0,"Deprecate revocation_cache_time option

The revocation_cache_time is deprecated for removel because of PKI
token format is no longer supported.
Update warning message and add a release note.

Change-Id: I6edd1bbad778c2a9b44be9bcfc65c978b5e35132
Closes-Bug: #1717144
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/21/503921/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/magnum_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/deprecate_revocation_cache_time_parameter-255ee73006a4dbf4.yaml']",3,4fb1dec3dfd16c680bb9f23124bd3115dfe6348d,bug/1717144,"--- deprecations: - revocation_cache_time option is now deprecated for removal, the parameter has no effect. ",,19,12
openstack%2Fmagnum~master~Idb1347e048292cb21abf30c47bff0af3248fde3f,openstack/magnum,master,Idb1347e048292cb21abf30c47bff0af3248fde3f,Switch DNS service to Kube DNS,ABANDONED,2017-08-31 21:34:30.000000000,2017-09-15 13:13:17.000000000,,"[{'_account_id': 3}, {'_account_id': 9995}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-08-31 21:34:30.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/133259aff008f5d44ee5986c1946726ec558a360', 'message': 'Switch DNS service to Kube DNS\n\nThe current shipped DNS version is CoreDNS which currently lacks\ncertain features and does not deliver feature parity with KubeDNS.\n\nThis results in poor user experience with certain tools not working\nsuch as peer-finder when deploying certain common applications such\nas a replicated set MongoDB.\n\nThis patch replaces the CoreDNS service by the default KubeDNS. In\naddition, it includes the autoscaler which will increase the\nreliability of the service in the cluster.\n\nChange-Id: Idb1347e048292cb21abf30c47bff0af3248fde3f\nCloses-Bug: #1714342\n'}]",0,499813,133259aff008f5d44ee5986c1946726ec558a360,7,3,1,1004,,,0,"Switch DNS service to Kube DNS

The current shipped DNS version is CoreDNS which currently lacks
certain features and does not deliver feature parity with KubeDNS.

This results in poor user experience with certain tools not working
such as peer-finder when deploying certain common applications such
as a replicated set MongoDB.

This patch replaces the CoreDNS service by the default KubeDNS. In
addition, it includes the autoscaler which will increase the
reliability of the service in the cluster.

Change-Id: Idb1347e048292cb21abf30c47bff0af3248fde3f
Closes-Bug: #1714342
",git fetch https://review.opendev.org/openstack/magnum refs/changes/13/499813/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/kube-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml']",3,133259aff008f5d44ee5986c1946726ec558a360,bug/1714342, kube_dns_service: config: {get_file: ../../common/templates/kubernetes/fragments/kube-dns-service.sh} - config: {get_resource: kube_dns_service}, core_dns_service: config: {get_file: ../../common/templates/kubernetes/fragments/core-dns-service.sh} - config: {get_resource: core_dns_service},33,115
openstack%2Fpuppet-cloudkitty~master~Icc0a6e0b3e0b5330873d22e4625f7e21211f0438,openstack/puppet-cloudkitty,master,Icc0a6e0b3e0b5330873d22e4625f7e21211f0438,Deprecate revocation_cache_time option,MERGED,2017-09-14 03:04:37.000000000,2017-09-15 13:06:32.000000000,2017-09-15 13:06:32.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-09-14 03:04:37.000000000', 'files': ['spec/classes/cloudkitty_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/7ee19f7241a2eb76ff8bf46543a3eef185c63e21', 'message': 'Deprecate revocation_cache_time option\n\nThe revocation_cache_time is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Icc0a6e0b3e0b5330873d22e4625f7e21211f0438\nCloses-Bug: #1717144\n'}]",0,503905,7ee19f7241a2eb76ff8bf46543a3eef185c63e21,7,3,1,9414,,,0,"Deprecate revocation_cache_time option

The revocation_cache_time is deprecated for removel because of PKI
token format is no longer supported.
Update warning message and add a release note.

Change-Id: Icc0a6e0b3e0b5330873d22e4625f7e21211f0438
Closes-Bug: #1717144
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/05/503905/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cloudkitty_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,7ee19f7241a2eb76ff8bf46543a3eef185c63e21,bug/1717144,,"# [*revocation_cache_time*] # (Optional) Determines the frequency at which the list of revoked tokens is # retrieved from the Identity service (in seconds). A high number of # revocation events combined with a low cache duration may significantly # reduce performance. Only valid for PKI tokens. Integer value # Defaults to $::os_service_default. # $revocation_cache_time = $::os_service_default, revocation_cache_time => $revocation_cache_time,",0,12
openstack%2Fpuppet-freezer~master~Icba3a504a0ec4a9f013aeb0216ea964171cf026e,openstack/puppet-freezer,master,Icba3a504a0ec4a9f013aeb0216ea964171cf026e,Deprecate revocation_cache_time option,MERGED,2017-09-14 03:20:10.000000000,2017-09-15 13:03:22.000000000,2017-09-15 13:03:22.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-09-14 03:20:10.000000000', 'files': ['spec/classes/freezer_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/f9cf849f3e0337a3aa9a2c09dc14f794ee063d67', 'message': 'Deprecate revocation_cache_time option\n\nThe revocation_cache_time is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Icba3a504a0ec4a9f013aeb0216ea964171cf026e\nCloses-Bug: #1717144\n'}]",0,503912,f9cf849f3e0337a3aa9a2c09dc14f794ee063d67,8,4,1,9414,,,0,"Deprecate revocation_cache_time option

The revocation_cache_time is deprecated for removel because of PKI
token format is no longer supported.
Update warning message and add a release note.

Change-Id: Icba3a504a0ec4a9f013aeb0216ea964171cf026e
Closes-Bug: #1717144
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/12/503912/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/freezer_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,f9cf849f3e0337a3aa9a2c09dc14f794ee063d67,bug/1717144,,"# [*revocation_cache_time*] # (Optional) Determines the frequency at which the list of revoked tokens is # retrieved from the Identity service (in seconds). A high number of # revocation events combined with a low cache duration may significantly # reduce performance. Only valid for PKI tokens. Integer value # Defaults to $::os_service_default. # $revocation_cache_time = $::os_service_default, revocation_cache_time => $revocation_cache_time,",0,12
openstack%2Fpuppet-murano~master~I989487609a8f95b152e5b122ec75d7c59e49cf52,openstack/puppet-murano,master,I989487609a8f95b152e5b122ec75d7c59e49cf52,Add api_workers into config and change to use engine_workers,MERGED,2017-09-08 05:56:17.000000000,2017-09-15 12:54:48.000000000,2017-09-15 12:54:48.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 8971}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 26721}]","[{'number': 1, 'created': '2017-09-08 05:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/8a9efbed478d11ea603641cf043a63fe7c845021', 'message': 'Add api_workers into config\n\nChange-Id: I989487609a8f95b152e5b122ec75d7c59e49cf52\n'}, {'number': 2, 'created': '2017-09-11 05:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/416187c13626b26817e90bce3ac030a0d51b04eb', 'message': 'Add api_workers into config and change to use engine_workers\n\nChange-Id: I989487609a8f95b152e5b122ec75d7c59e49cf52\n'}, {'number': 3, 'created': '2017-09-14 01:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/549a17e3c07e0cab7b2afbfaee2728c9c3a79b75', 'message': 'Add api_workers into config and change to use engine_workers\n\nChange-Id: I989487609a8f95b152e5b122ec75d7c59e49cf52\n'}, {'number': 4, 'created': '2017-09-15 05:51:13.000000000', 'files': ['manifests/engine.pp', 'manifests/api.pp', 'spec/classes/murano_api_spec.rb', 'spec/classes/murano_engine_spec.rb', 'releasenotes/notes/add_api_workers_parameter-dbbc244aa5fe35f0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/f2870f353933c1b510bedeb47a8f1c5aad2cddab', 'message': 'Add api_workers into config and change to use engine_workers\n\nChange-Id: I989487609a8f95b152e5b122ec75d7c59e49cf52\n'}]",5,501955,f2870f353933c1b510bedeb47a8f1c5aad2cddab,27,6,4,26721,,,0,"Add api_workers into config and change to use engine_workers

Change-Id: I989487609a8f95b152e5b122ec75d7c59e49cf52
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/55/501955/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/murano_api_spec.rb']",2,8a9efbed478d11ea603641cf043a63fe7c845021,," it { is_expected.to contain_murano_config('murano/api_workers').with_value(facts[:os_workers]) } :host => 'localhost', :port => '1111', :api_workers => '4', it { is_expected.to contain_murano_config('murano/api_workers').with_value('4') }"," :host => 'localhost', :port => '1111',",11,2
openstack%2Ftripleo-ui~stable%2Fpike~Iaea5e6e5d3a8d5d576415c4a8adc961782dd5420,openstack/tripleo-ui,stable/pike,Iaea5e6e5d3a8d5d576415c4a8adc961782dd5420,Imported Translations from Zanata,MERGED,2017-09-15 09:26:34.000000000,2017-09-15 12:42:57.000000000,2017-09-15 12:42:57.000000000,"[{'_account_id': 3}, {'_account_id': 9317}]","[{'number': 1, 'created': '2017-09-15 09:26:34.000000000', 'files': ['i18n/locales/fr.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/1031ea6a1f18e21b4ecb6b5f4bc81fcd853c2221', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iaea5e6e5d3a8d5d576415c4a8adc961782dd5420\n'}]",0,504380,1031ea6a1f18e21b4ecb6b5f4bc81fcd853c2221,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iaea5e6e5d3a8d5d576415c4a8adc961782dd5420
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/80/504380/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/fr.json'],1,1031ea6a1f18e21b4ecb6b5f4bc81fcd853c2221,zanata/translations," ""DebugScreen.downloadLogs"": ""T\u00e9l\u00e9charger les logs"",",,1,0
openstack%2Fpuppet-tripleo~stable%2Fpike~I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e,openstack/puppet-tripleo,stable/pike,I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e,Added new parameter for HAProxy configuration,MERGED,2017-09-14 18:05:48.000000000,2017-09-15 12:42:51.000000000,2017-09-15 12:42:51.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-14 18:05:48.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4e484c40918f79686585aa0ad6c6d0a3b2b5482d', 'message': 'Added new parameter for HAProxy configuration\n\nThis allow to set the socket access level to admin instead of default\n""user"".\nThis ""admin"" access adds the capability to interact with HAproxy in\norder to manage its configuration, at least temporarly.\n\nThis changes keeps the default ""user"" access level, as ""admin"" might\nbreak things if misused.\n\nChange-Id: I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e\nCloses-bug: #1716692\n(cherry picked from commit 33479418eec7c1a18d57d755be47eca800b918a6)\n'}]",0,504159,4e484c40918f79686585aa0ad6c6d0a3b2b5482d,8,4,1,26828,,,0,"Added new parameter for HAProxy configuration

This allow to set the socket access level to admin instead of default
""user"".
This ""admin"" access adds the capability to interact with HAproxy in
order to manage its configuration, at least temporarly.

This changes keeps the default ""user"" access level, as ""admin"" might
break things if misused.

Change-Id: I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e
Closes-bug: #1716692
(cherry picked from commit 33479418eec7c1a18d57d755be47eca800b918a6)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/59/504159/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,4e484c40918f79686585aa0ad6c6d0a3b2b5482d,bug/1716692,"# [*haproxy_socket_access_level*] # Access level for HAProxy socket. # Can be ""user"" or ""admin"" # Defaults to ""user"" # $haproxy_socket_access_level = 'user', ""socket /var/lib/haproxy/stats mode 600 level ${haproxy_socket_access_level}"","," 'socket /var/lib/haproxy/stats mode 600 level user',",7,1
openstack%2Frpm-packaging~stable%2Fpike~Ia1e927fc362cd7a25ffccc94f61d82b97f7ad580,openstack/rpm-packaging,stable/pike,Ia1e927fc362cd7a25ffccc94f61d82b97f7ad580,horizon: track stable-pike tarball,MERGED,2017-09-15 10:08:32.000000000,2017-09-15 12:26:04.000000000,2017-09-15 12:26:04.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-15 10:08:32.000000000', 'files': ['openstack/horizon/0001-Make-nosehtmloutput-an-optional-test-requirement.patch', 'openstack/horizon/horizon.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/154472496712048fd6114e18e609fa9e30744875', 'message': 'horizon: track stable-pike tarball\n\nAlso,\n- fix Requires\n- do some cleanup\n- add 0001-Make-nosehtmloutput-an-optional-test-requirement.patch\n\nChange-Id: Ia1e927fc362cd7a25ffccc94f61d82b97f7ad580\n'}]",0,504385,154472496712048fd6114e18e609fa9e30744875,9,5,1,7102,,,0,"horizon: track stable-pike tarball

Also,
- fix Requires
- do some cleanup
- add 0001-Make-nosehtmloutput-an-optional-test-requirement.patch

Change-Id: Ia1e927fc362cd7a25ffccc94f61d82b97f7ad580
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/85/504385/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/horizon/0001-Make-nosehtmloutput-an-optional-test-requirement.patch', 'openstack/horizon/horizon.spec.j2']",2,154472496712048fd6114e18e609fa9e30744875,stable-pike,"{% set source = fetch_source('http://tarballs.openstack.org/horizon/horizon-stable-pike.tar.gz') %} {% set upstream_version = upstream_version() %}Source0: {{ source|basename }} # https://review.openstack.org/#/c/495847/ Patch1: 0001-Make-nosehtmloutput-an-optional-test-requirement.patchProvides: openstack-{{ pypi_name }} = %{version}-%{release}Requires: {{ py2pkg('futurist') }}Requires: {{ py2pkg('osprofiler') }}Requires: {{ py2pkg('semantic_version') }}%autosetup -p1 -n {{ pypi_name }}-{{upstream_version}}python manage.py test horizon --settings=horizon.test.settings --ignore-files=""(test_hacking|firefox_binary|webdriver|pull_catalog)""","{% set upstream_version = '11.0.2' %}%define component {{ pypi_name }}Source0: http://tarballs.openstack.org/%{component}/%{component}-{{upstream_version}}.tar.gzProvides: openstack-%{component} = %{version}-%{release}Requires: {{ py2pkg('python-ceilometerclient') }}%autosetup -n %{component}-{{upstream_version}}python manage.py test horizon --settings=horizon.test.settings --ignore-files=""(test_hacking|firefox_binary|webdriver)""",87,7
openstack%2Fheat~master~I237c7e3245c86f532bef0625c043f25ff23722ed,openstack/heat,master,I237c7e3245c86f532bef0625c043f25ff23722ed,Modify Parameters' Note In Create-Stack,ABANDONED,2017-09-15 09:41:26.000000000,2017-09-15 12:04:03.000000000,,"[{'_account_id': 3}, {'_account_id': 8289}, {'_account_id': 24647}]","[{'number': 1, 'created': '2017-09-15 09:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7d66ab48c7ab08b9b75d2e02f829e751ec0a15ab', 'message': ""Modify Parameters' Note In Create-Stack\n\nChange-Id: I237c7e3245c86f532bef0625c043f25ff23722ed\n""}, {'number': 2, 'created': '2017-09-15 09:45:38.000000000', 'files': ['heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cc57647bad5a293e9ef246536e91190c3d6ce1fc', 'message': ""Modify Parameters' Note In Create-Stack\n\nChange-Id: I237c7e3245c86f532bef0625c043f25ff23722ed\n""}]",2,504382,cc57647bad5a293e9ef246536e91190c3d6ce1fc,6,3,2,17842,,,0,"Modify Parameters' Note In Create-Stack

Change-Id: I237c7e3245c86f532bef0625c043f25ff23722ed
",git fetch https://review.opendev.org/openstack/heat refs/changes/82/504382/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/service.py'],1,7d66ab48c7ab08b9b75d2e02f829e751ec0a15ab,modify-some-note,, :type environment_files: list or None,0,1
openstack%2Fcinder~master~I6aee4904174d07392bf91bbfccd29ca4c0e166a2,openstack/cinder,master,I6aee4904174d07392bf91bbfccd29ca4c0e166a2,DRBD: Remove unneeded list length checks,MERGED,2017-09-14 15:27:00.000000000,2017-09-15 11:46:09.000000000,2017-09-14 22:29:20.000000000,"[{'_account_id': 3}, {'_account_id': 7173}, {'_account_id': 12924}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 23083}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-09-14 15:27:00.000000000', 'files': ['cinder/volume/drivers/drbdmanagedrv.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/def3cb7f043e1d7d6c37e7c9b916878ffcd0b93c', 'message': 'DRBD: Remove unneeded list length checks\n\nZero length lists in python are falsey, so no reason to check for both\nnot list and len(list) == 0\n\nChange-Id: I6aee4904174d07392bf91bbfccd29ca4c0e166a2\n'}]",2,504080,def3cb7f043e1d7d6c37e7c9b916878ffcd0b93c,37,8,1,25972,,,0,"DRBD: Remove unneeded list length checks

Zero length lists in python are falsey, so no reason to check for both
not list and len(list) == 0

Change-Id: I6aee4904174d07392bf91bbfccd29ca4c0e166a2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/504080/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/drbdmanagedrv.py'],1,def3cb7f043e1d7d6c37e7c9b916878ffcd0b93c,pythonify_array_checking, if not rl: if not rs: if (not rl) or (not rl[0]) or not rl[0][2]:, if (not rl) or (len(rl) == 0): if (not rs) or (len(rs) == 0): if (not rl) or (not rl[0]) or (len(rl[0][2]) == 0):,3,3
openstack%2Fswift~master~Id426c5dd45a812ef801042834c93701bb6e63a05,openstack/swift,master,Id426c5dd45a812ef801042834c93701bb6e63a05,doc migration: update the doc link address[2/3],MERGED,2017-09-05 11:20:29.000000000,2017-09-15 11:09:28.000000000,2017-09-15 11:09:28.000000000,"[{'_account_id': 3}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 25456}]","[{'number': 1, 'created': '2017-09-05 11:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b1647bf53b2dc81bf0c87405fed0ea87ec4af000', 'message': 'doc migration: update the doc link address[2/3]\n\nUpdate the doc link brought by the doc migration.\nAlthough we had some effort to fix these, it still left lots of bad\ndoc link, I separate these changes into 3 patches aim to fix all of\nthese, this is the 2st patch for doc/manpages.\n\nChange-Id: Id426c5dd45a812ef801042834c93701bb6e63a05\n'}, {'number': 2, 'created': '2017-09-06 01:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/391f76cee29cf99fbc095e5defaa20b75267608d', 'message': 'doc migration: update the doc link address[2/3]\n\nUpdate the doc link brought by the doc migration.\nAlthough we had some effort to fix these, it still left lots of bad\ndoc link, I separate these changes into 3 patches aim to fix all of\nthese, this is the 2st patch for doc/manpages.\n\nChange-Id: Id426c5dd45a812ef801042834c93701bb6e63a05\n'}, {'number': 3, 'created': '2017-09-15 06:47:41.000000000', 'files': ['doc/source/api/object_api_v1_overview.rst', 'CHANGELOG', 'CONTRIBUTING.rst', 'doc/source/api/temporary_url_middleware.rst', 'doc/source/overview_encryption.rst', 'etc/proxy-server.conf-sample', 'README.rst', 'doc/source/overview_auth.rst', 'doc/source/admin_guide.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/df00122e74c31ea6d5dec523c7d59a6ad2fedc26', 'message': 'doc migration: update the doc link address[2/3]\n\nUpdate the doc link brought by the doc migration.\nAlthough we had some effort to fix these, it still left lots of bad\ndoc link, I separate these changes into 3 patches aim to fix all of\nthese, this is the 2st patch for doc/manpages.\n\nChange-Id: Id426c5dd45a812ef801042834c93701bb6e63a05\n'}]",8,500776,df00122e74c31ea6d5dec523c7d59a6ad2fedc26,18,4,3,25456,,,0,"doc migration: update the doc link address[2/3]

Update the doc link brought by the doc migration.
Although we had some effort to fix these, it still left lots of bad
doc link, I separate these changes into 3 patches aim to fix all of
these, this is the 2st patch for doc/manpages.

Change-Id: Id426c5dd45a812ef801042834c93701bb6e63a05
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/500776/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/api/object_api_v1_overview.rst', 'CHANGELOG', 'README.rst', 'doc/source/admin_guide.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/api/temporary_url_middleware.rst', 'doc/source/overview_encryption.rst', 'etc/proxy-server.conf-sample', 'releasenotes/notes/2_10_0_release-666a76f4975657a5.yaml', 'doc/source/overview_auth.rst', 'releasenotes/notes/2_13_0_release-875e1fb1ef59f015.yaml']",12,b1647bf53b2dc81bf0c87405fed0ea87ec4af000,doc-migration, https://docs.openstack.org/swift/latest/logs.html#swift-source for, https://docs.openstack.org/developer/swift/logs.html#swift-source for,48,50
openstack%2Frally~master~I19aefb719fc33e576a314624f6a3f9782ef454c0,openstack/rally,master,I19aefb719fc33e576a314624f6a3f9782ef454c0,Remove dead code from task.types,MERGED,2017-09-15 08:04:01.000000000,2017-09-15 11:03:47.000000000,2017-09-15 11:03:47.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}]","[{'number': 1, 'created': '2017-09-15 08:04:01.000000000', 'files': ['rally/task/types.py', 'tests/unit/plugins/openstack/test_types.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/09f5899c820fcd6fc78c206901b450166a051294', 'message': ""Remove dead code from task.types\n\nIt's impossible situation to have multiple match when ID is used.\n\nRemoving this code, removes usage of MultipleMatchesFound\nwhich is removed in next patch.\n\nChange-Id: I19aefb719fc33e576a314624f6a3f9782ef454c0\n""}]",0,504366,09f5899c820fcd6fc78c206901b450166a051294,8,4,1,6172,,,0,"Remove dead code from task.types

It's impossible situation to have multiple match when ID is used.

Removing this code, removes usage of MultipleMatchesFound
which is removed in next patch.

Change-Id: I19aefb719fc33e576a314624f6a3f9782ef454c0
",git fetch https://review.opendev.org/openstack/rally refs/changes/66/504366/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/types.py', 'tests/unit/plugins/openstack/test_types.py']",2,09f5899c820fcd6fc78c206901b450166a051294,platforms,," def test_transform_by_id_multiple_match(self): resource_config = {""id"": ""3""} self.assertRaises(exceptions.MultipleMatchesFound, types.EC2Flavor.transform, self.clients, resource_config) def test_transform_by_id_match_multiple(self): resource_config = {""id"": ""102""} self.assertRaises(exceptions.MultipleMatchesFound, types.EC2Image.transform, self.clients, resource_config) ",0,17
openstack%2Fheat~master~Ia205ffebc4c9260445336127ad0bf0f38cf6508f,openstack/heat,master,Ia205ffebc4c9260445336127ad0bf0f38cf6508f,Don't override get_reference_id() for scaling policy,MERGED,2017-07-24 03:19:46.000000000,2017-09-15 10:58:38.000000000,2017-09-15 10:58:38.000000000,"[{'_account_id': 3}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-07-24 03:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0dde38199349f3b174bdd51206a96dd4a6b7f880', 'message': ""Don't override get_reference_id() for scaling policy\n\nWe override the method get_reference_id() for\nscaling policy by calling the supper method, remove it.\n\nChange-Id: Ia205ffebc4c9260445336127ad0bf0f38cf6508f\n""}, {'number': 2, 'created': '2017-07-25 02:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8358edf75c2196ddd6e9eb5893eed99b71af992e', 'message': ""Don't override get_reference_id() for scaling policy\n\nWe override the method get_reference_id() for\nscaling policy by calling the supper method, remove it.\n\nChange-Id: Ia205ffebc4c9260445336127ad0bf0f38cf6508f\n""}, {'number': 3, 'created': '2017-07-26 03:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2333448837980bb956a3b016cd76426b616fc035', 'message': ""Don't override get_reference_id() for scaling policy\n\nWe override the method get_reference_id() for\nscaling policy by calling the supper method, remove it.\n\nChange-Id: Ia205ffebc4c9260445336127ad0bf0f38cf6508f\n""}, {'number': 4, 'created': '2017-09-12 07:40:33.000000000', 'files': ['heat/engine/resources/openstack/heat/scaling_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a1c81b069e1f4ce723206523004747e8d5f38df8', 'message': ""Don't override get_reference_id() for scaling policy\n\nWe override the method get_reference_id() for\nscaling policy by calling the supper method, remove it.\n\nChange-Id: Ia205ffebc4c9260445336127ad0bf0f38cf6508f\n""}]",0,486474,a1c81b069e1f4ce723206523004747e8d5f38df8,13,5,4,8289,,,0,"Don't override get_reference_id() for scaling policy

We override the method get_reference_id() for
scaling policy by calling the supper method, remove it.

Change-Id: Ia205ffebc4c9260445336127ad0bf0f38cf6508f
",git fetch https://review.opendev.org/openstack/heat refs/changes/74/486474/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/scaling_policy.py'],1,0dde38199349f3b174bdd51206a96dd4a6b7f880,remove-get_reference_id-for-scaling-policy,, def get_reference_id(self): return resource.Resource.get_reference_id(self) ,0,3
openstack%2Fnova~master~Ia2102f1d47a764819c86972866efcfd1c2be7d0d,openstack/nova,master,Ia2102f1d47a764819c86972866efcfd1c2be7d0d,Add attachment_complete call to volume/cinder.py,MERGED,2017-08-12 18:29:06.000000000,2017-09-15 10:50:23.000000000,2017-09-14 22:21:53.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2243}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 17386}, {'_account_id': 21784}, {'_account_id': 21813}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-12 18:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fd4ea49f30226d9e741dcf74b61bc8212a267b9', 'message': 'WIP - Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 2, 'created': '2017-08-12 18:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/928526dff70610c095c2e7fcddf4c2d201bda047', 'message': 'WIP - Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 3, 'created': '2017-08-13 18:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eba58fec4dc9e85d22cda1eee59777b9e44dd61e', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 4, 'created': '2017-08-14 14:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5099be0c529e06b38b5c55d192148689d6bf18d', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 5, 'created': '2017-08-16 21:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0b3c9219caab92c8ac54989a38822f9adef625d', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 6, 'created': '2017-08-30 15:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2f9385c9b448755ee79df5ef41dc6d3631bb077', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 7, 'created': '2017-09-04 06:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3783fef4a98584651b8ccf4a1e2017cf529b599d', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\nDepends-On: I9de10bb5188ad778f06bb59e7f08f2b49089c1da\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 8, 'created': '2017-09-05 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c98441b8f32af21f18f3646b99660a7707b0881', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\nDepends-On: I9de10bb5188ad778f06bb59e7f08f2b49089c1da\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 9, 'created': '2017-09-05 16:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b5fd936ac59c776bf7ec3b80397846583636bca', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\nDepends-On: I9de10bb5188ad778f06bb59e7f08f2b49089c1da\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 10, 'created': '2017-09-07 03:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31b8202b636d94503f73d7b8fc5cb82f5b38b262', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\nDepends-On: I9de10bb5188ad778f06bb59e7f08f2b49089c1da\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 11, 'created': '2017-09-07 22:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afb34c8709a8445749cc9713bcd9402188613e90', 'message': 'Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\nDepends-On: I9de10bb5188ad778f06bb59e7f08f2b49089c1da\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n'}, {'number': 12, 'created': '2017-09-07 22:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ebe41277a34c43114a8ff81835c5b786ce452b9', 'message': ""Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nAs this call is essential to finalizing the attachments we need to\nbump the minimum required microversion to '3.44' for all the new\nattach/detach API calls so we have attachment_complete available.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\nDepends-On: I9de10bb5188ad778f06bb59e7f08f2b49089c1da\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n""}, {'number': 13, 'created': '2017-09-13 03:19:45.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/volume/cinder.py', 'nova/compute/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a3dab72f19e5792e0c0749405e81d5126eabca4d', 'message': ""Add attachment_complete call to volume/cinder.py\n\nIn order to tell Cinder that connecting a volume on the Nova side is\ncompleted we need to use a new API call which is a recent addition to the new\nattach/detach API.\n\nAs this call is essential to finalizing the attachments we need to\nbump the minimum required microversion to '3.44' for all the new\nattach/detach API calls so we have attachment_complete available.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nDepends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78\nDepends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450\nDepends-On: I9de10bb5188ad778f06bb59e7f08f2b49089c1da\n\nChange-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d\n""}]",20,493323,a3dab72f19e5792e0c0749405e81d5126eabca4d,180,27,13,9562,,,0,"Add attachment_complete call to volume/cinder.py

In order to tell Cinder that connecting a volume on the Nova side is
completed we need to use a new API call which is a recent addition to the new
attach/detach API.

As this call is essential to finalizing the attachments we need to
bump the minimum required microversion to '3.44' for all the new
attach/detach API calls so we have attachment_complete available.

Partially Implements: blueprint cinder-new-attach-apis

Depends-On: I57631d3deddb2d7cd244584e82206ee17fe2dd78
Depends-On: I3b28d2cb89a8d81c7cdec425f355c78bfdfe3450
Depends-On: I9de10bb5188ad778f06bb59e7f08f2b49089c1da

Change-Id: Ia2102f1d47a764819c86972866efcfd1c2be7d0d
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/493323/13 && git format-patch -1 --stdout FETCH_HEAD,['nova/volume/cinder.py'],1,9fd4ea49f30226d9e741dcf74b61bc8212a267b9,bp/cinder-new-attach-apis," @translate_attachment_exception def attachment_complete(self, context, attachment_id): try: cinderclient( context, '3.27', skip_version_check=True).attachments.complete( attachment_id) except cinder_exception.ClientException as ex: with excutils.save_and_reraise_exception(): LOG.error(('Complete attachment failed for attachment ' '%(id)s. Error: %(msg)s Code: %(code)s'), {'id': attachment_id, 'msg': six.text_type(ex), 'code': getattr(ex, 'code', None)})",,14,0
openstack%2Ftricircle~master~I5727569794ead1db5b7c558b4dedcad6019eda72,openstack/tricircle,master,I5727569794ead1db5b7c558b4dedcad6019eda72,[Trivialfix]Fix typos in tricircle,MERGED,2017-09-04 01:29:50.000000000,2017-09-15 10:34:58.000000000,2017-09-15 10:34:58.000000000,"[{'_account_id': 3}, {'_account_id': 11819}, {'_account_id': 12076}, {'_account_id': 21023}, {'_account_id': 23317}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-09-04 01:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/6c3e90783293acaf29d0c4ea9dfb370ea64582c3', 'message': '[Trivialfix]Fix typos in tricircle\n\nFix typos in tricircle.\n\nChange-Id: I5727569794ead1db5b7c558b4dedcad6019eda72\n'}, {'number': 2, 'created': '2017-09-11 03:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/8ba4d6b7b3baec02e4cb039a5feef3f435e6d15c', 'message': '[Trivialfix]Fix typos in tricircle\n\nFix typos in tricircle.\n\nChange-Id: I5727569794ead1db5b7c558b4dedcad6019eda72\n'}, {'number': 3, 'created': '2017-09-11 06:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/899cff1cf3c2a04fc9d44aa15b115ec72428d933', 'message': '[Trivialfix]Fix typos in tricircle\n\nFix typos in tricircle.\n\nChange-Id: I5727569794ead1db5b7c558b4dedcad6019eda72\n'}, {'number': 4, 'created': '2017-09-11 09:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/1302bdca81c8cfa8a8add5d331bc7a6849c5714c', 'message': '[Trivialfix]Fix typos in tricircle\n\nFix typos in tricircle.\n\nChange-Id: I5727569794ead1db5b7c558b4dedcad6019eda72\n'}, {'number': 5, 'created': '2017-09-12 09:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/fe98a5a049aaf8371e202598d890a470beec9732', 'message': '[Trivialfix]Fix typos in tricircle\n\nFix typos in tricircle.\n\nChange-Id: I5727569794ead1db5b7c558b4dedcad6019eda72\n'}, {'number': 6, 'created': '2017-09-13 00:29:46.000000000', 'files': ['tricircle/tests/unit/network/test_central_plugin.py', 'tricircle/tests/unit/network/test_central_trunk_plugin.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/f644782f8b3ef26e6a0a29614f24e0419072bf3a', 'message': '[Trivialfix]Fix typos in tricircle\n\nFix typos in tricircle.\n\nChange-Id: I5727569794ead1db5b7c558b4dedcad6019eda72\n'}]",9,500414,f644782f8b3ef26e6a0a29614f24e0419072bf3a,42,6,6,23317,,,0,"[Trivialfix]Fix typos in tricircle

Fix typos in tricircle.

Change-Id: I5727569794ead1db5b7c558b4dedcad6019eda72
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/14/500414/4 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle/tests/unit/network/test_central_plugin.py', 'tricircle/tests/unit/network/test_central_trunk_plugin.py']",2,6c3e90783293acaf29d0c4ea9dfb370ea64582c3,fix," # the data being transferred. in test, we just return all the fields"," # the data being transfered. in test, we just return all the fields",2,2
openstack%2Fcompute-hyperv~stable%2Fpike~I784835800a961be4ba755a4d51edbc931eccdc57,openstack/compute-hyperv,stable/pike,I784835800a961be4ba755a4d51edbc931eccdc57,Fixes cold migration path trimming issue,MERGED,2017-09-15 07:53:31.000000000,2017-09-15 10:24:35.000000000,2017-09-15 10:24:35.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-09-15 07:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/93a5d5bfc17570f7ff1b42d34c0715073a82157e', 'message': 'Fixes cold migration path trimming issue\n\nDuring cold migration, the following steps happen:\n\n1. The source node will stop the VM, copy the VM files to a _revert path,\ndestroy the VM, and return the _revert path as disk_info.\n2. The destination node will get that disk_info, and if it was configured\nnot to move the storage (multiple CSVs cluster scenario), it will just\ncopy the files to a path without the ending _revert.\n\nThe issue is that rstrip can strip more characters than desired. It will\nremove all characters contained by ""_revert"" from the given path\'s ending.\nFor example:\n\n""instance_000000be_revert"".rstrip(""_revert"") => ""instance_000000b""\n\nChange-Id: I784835800a961be4ba755a4d51edbc931eccdc57\nCloses-Bug: #1716862\n(cherry picked from commit e00240f5d7e2d8e385b8c0d6ea18ed9eddd6e5d1)\n'}, {'number': 2, 'created': '2017-09-15 08:55:55.000000000', 'files': ['compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/nova/migrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/4672aa051da6be9f4ff57457b59ff75ce344ce17', 'message': 'Fixes cold migration path trimming issue\n\nDuring cold migration, the following steps happen:\n\n1. The source node will stop the VM, copy the VM files to a _revert path,\ndestroy the VM, and return the _revert path as disk_info.\n2. The destination node will get that disk_info, and if it was configured\nnot to move the storage (multiple CSVs cluster scenario), it will just\ncopy the files to a path without the ending _revert.\n\nThe issue is that rstrip can strip more characters than desired. It will\nremove all characters contained by ""_revert"" from the given path\'s ending.\nFor example:\n\n""instance_000000be_revert"".rstrip(""_revert"") => ""instance_000000b""\n\nChange-Id: I784835800a961be4ba755a4d51edbc931eccdc57\nCloses-Bug: #1716862\n(cherry picked from commit e00240f5d7e2d8e385b8c0d6ea18ed9eddd6e5d1)\n'}]",0,504362,4672aa051da6be9f4ff57457b59ff75ce344ce17,8,2,2,8213,,,0,"Fixes cold migration path trimming issue

During cold migration, the following steps happen:

1. The source node will stop the VM, copy the VM files to a _revert path,
destroy the VM, and return the _revert path as disk_info.
2. The destination node will get that disk_info, and if it was configured
not to move the storage (multiple CSVs cluster scenario), it will just
copy the files to a path without the ending _revert.

The issue is that rstrip can strip more characters than desired. It will
remove all characters contained by ""_revert"" from the given path's ending.
For example:

""instance_000000be_revert"".rstrip(""_revert"") => ""instance_000000b""

Change-Id: I784835800a961be4ba755a4d51edbc931eccdc57
Closes-Bug: #1716862
(cherry picked from commit e00240f5d7e2d8e385b8c0d6ea18ed9eddd6e5d1)
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/62/504362/2 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/nova/migrationops.py']",2,93a5d5bfc17570f7ff1b42d34c0715073a82157e,bug/1716862," # NOTE(claudiub): get rid of the final _revert part of the path. # rstrip can remove more than _revert, which is not desired. inst_dir = source_inst_dir.rsplit('_revert', 1)[0] inst_dir = source_inst_dir.rsplit('_revert', 1)[0]", inst_dir = source_inst_dir.rstrip('_revert') inst_dir = source_inst_dir.rstrip('_revert'),8,6
openstack%2Fcompute-hyperv~stable%2Fpike~I589239c6ebcd3cf706bc188179a74c97bb831a0d,openstack/compute-hyperv,stable/pike,I589239c6ebcd3cf706bc188179a74c97bb831a0d,migration: Updates the VM before VM disk checks,MERGED,2017-09-15 07:53:25.000000000,2017-09-15 10:24:12.000000000,2017-09-15 10:24:12.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-09-15 07:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/f4b392adf315b8569432e2df2db2f58297f3c410', 'message': ""migration: Updates the VM before VM disk checks\n\nIn the case of multiple CSVs scenario, disks are not migrated on\ncold migration. Thus, pathutils relies on the VM's ConfigurationDataRoot\nwhen determining its disk file locations, but the VM's\nConfigurationDataRoot is set after checking the disks, resulting in\na DiskNotFoundException.\n\nThis commit addresses this issue.\n\nChange-Id: I589239c6ebcd3cf706bc188179a74c97bb831a0d\nCloses-Bug: #1716886\n(cherry picked from commit 0c673d5c5c980a2d9c4f7a33d475324cd6fe85dc)\n""}, {'number': 2, 'created': '2017-09-15 08:55:49.000000000', 'files': ['compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/nova/migrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/0804098383a494e02a69428f08bffbef6b550d8e', 'message': ""migration: Updates the VM before VM disk checks\n\nIn the case of multiple CSVs scenario, disks are not migrated on\ncold migration. Thus, pathutils relies on the VM's ConfigurationDataRoot\nwhen determining its disk file locations, but the VM's\nConfigurationDataRoot is set after checking the disks, resulting in\na DiskNotFoundException.\n\nThis commit addresses this issue.\n\nChange-Id: I589239c6ebcd3cf706bc188179a74c97bb831a0d\nCloses-Bug: #1716886\n(cherry picked from commit 0c673d5c5c980a2d9c4f7a33d475324cd6fe85dc)\n""}]",0,504360,0804098383a494e02a69428f08bffbef6b550d8e,8,2,2,8213,,,0,"migration: Updates the VM before VM disk checks

In the case of multiple CSVs scenario, disks are not migrated on
cold migration. Thus, pathutils relies on the VM's ConfigurationDataRoot
when determining its disk file locations, but the VM's
ConfigurationDataRoot is set after checking the disks, resulting in
a DiskNotFoundException.

This commit addresses this issue.

Change-Id: I589239c6ebcd3cf706bc188179a74c97bb831a0d
Closes-Bug: #1716886
(cherry picked from commit 0c673d5c5c980a2d9c4f7a33d475324cd6fe85dc)
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/60/504360/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/nova/migrationops.py']",2,f4b392adf315b8569432e2df2db2f58297f3c410,bug/1716886," self._vmops.update_vm_resources(instance, vm_gen, image_meta, instance_dir, resize_instance) self._volumeops.connect_volumes(block_device_info)"," self._volumeops.connect_volumes(block_device_info) self._vmops.update_vm_resources(instance, vm_gen, image_meta, instance_dir, resize_instance) ",7,8
openstack%2Fzun~master~I770fe13a004dc56ad20fe8eca545f05c4504e48e,openstack/zun,master,I770fe13a004dc56ad20fe8eca545f05c4504e48e,Mova NovaDocker driver to contrib,MERGED,2017-05-28 23:35:08.000000000,2017-09-15 10:19:06.000000000,2017-09-15 10:19:06.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 14107}, {'_account_id': 16277}, {'_account_id': 22406}, {'_account_id': 23365}]","[{'number': 1, 'created': '2017-05-28 23:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e75aaadbc23fbbd97bd4b688cfc82fb15b67b3fb', 'message': '[WIP][NOT_READY_FOR_REVIEW] Mova NovaDocker driver to contrib\n\nChange-Id: I770fe13a004dc56ad20fe8eca545f05c4504e48e\n'}, {'number': 2, 'created': '2017-07-28 20:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a12e047fe9ef2f90cd97bba274cddb5b8f00d1c6', 'message': '[WIP] Mova NovaDocker driver to contrib\n\nChange-Id: I770fe13a004dc56ad20fe8eca545f05c4504e48e\n'}, {'number': 3, 'created': '2017-07-28 21:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d99101a9490c828bb986641e8fd700e739ab5fa5', 'message': 'Mova NovaDocker driver to contrib\n\nWe decided to deprecated NovaDocker driver in the team meeting [1].\nTherefore, we moved the driver to the contrib folder. NovaDocker\nwas an experimental driver that attempts to leverage Nova to provide\nnetworking to containers. However, as kuryr integration implemented,\nthis driver is not needed anymore.\n\n[1] http://eavesdrop.openstack.org/meetings/zun/2017/\n    zun.2017-07-11-03.00.log.html\n\nChange-Id: I770fe13a004dc56ad20fe8eca545f05c4504e48e\n'}, {'number': 4, 'created': '2017-08-30 15:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/580e28fdcc5ba07e51b43bf9949fb5a9e9188afd', 'message': 'Mova NovaDocker driver to contrib\n\nWe decided to deprecated NovaDocker driver in the team meeting [1].\nTherefore, we moved the driver to the contrib folder. NovaDocker\nwas an experimental driver that attempts to leverage Nova to provide\nnetworking to containers. However, as kuryr integration implemented,\nthis driver is not needed anymore.\n\n[1] http://eavesdrop.openstack.org/meetings/zun/2017/\n    zun.2017-07-11-03.00.log.html\n\nChange-Id: I770fe13a004dc56ad20fe8eca545f05c4504e48e\n'}, {'number': 5, 'created': '2017-09-12 20:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6423b63aac23a0efdb23f7fd7ce153dd2ad963f5', 'message': 'Mova NovaDocker driver to contrib\n\nWe decided to deprecated NovaDocker driver in the team meeting [1].\nTherefore, we moved the driver to the contrib folder. NovaDocker\nwas an experimental driver that attempts to leverage Nova to provide\nnetworking to containers. However, as kuryr integration implemented,\nthis driver is not needed anymore.\n\n[1] http://eavesdrop.openstack.org/meetings/zun/2017/\n    zun.2017-07-11-03.00.log.html\n\nChange-Id: I770fe13a004dc56ad20fe8eca545f05c4504e48e\n'}, {'number': 6, 'created': '2017-09-14 16:09:58.000000000', 'files': ['contrib/nova-docker/nova/virt/zun/hostinfo.py', 'zun/tests/unit/container/docker/test_utils.py', 'contrib/nova-docker/nova/virt/zun/client.py', 'contrib/nova-docker/nova/virt/zun/driver.py', 'devstack/lib/zun', 'zun/conf/container_driver.py', 'contrib/nova-docker/nova/virt/hostutils.py', 'devstack/plugin.sh', 'contrib/nova-docker/etc/nova/rootwrap.d/docker.filters', 'zun/tests/unit/container/docker/test_docker_driver.py', 'contrib/nova-docker/nova/virt/__init__.py', 'contrib/nova-docker/nova/virt/zun/opencontrail.py', 'contrib/vagrant/config/localrc', 'contrib/nova-docker/nova/virt/zun/vifs.py', 'devstack/override-defaults', 'contrib/nova-docker/nova/virt/zun/__init__.py', 'zun/tests/contrib/gate_hook.sh', 'zun/container/docker/driver.py', 'contrib/nova-docker/devstack/lib/nova', 'contrib/nova-docker/nova/__init__.py', 'contrib/nova-docker/nova/virt/zun/network.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/6dc286616727fde6e4d22b415bd961ebd8854920', 'message': 'Mova NovaDocker driver to contrib\n\nWe decided to deprecated NovaDocker driver in the team meeting [1].\nTherefore, we moved the driver to the contrib folder. NovaDocker\nwas an experimental driver that attempts to leverage Nova to provide\nnetworking to containers. However, as kuryr integration implemented,\nthis driver is not needed anymore.\n\n[1] http://eavesdrop.openstack.org/meetings/zun/2017/\n    zun.2017-07-11-03.00.log.html\n\nChange-Id: I770fe13a004dc56ad20fe8eca545f05c4504e48e\n'}]",0,468740,6dc286616727fde6e4d22b415bd961ebd8854920,27,7,6,11536,,,0,"Mova NovaDocker driver to contrib

We decided to deprecated NovaDocker driver in the team meeting [1].
Therefore, we moved the driver to the contrib folder. NovaDocker
was an experimental driver that attempts to leverage Nova to provide
networking to containers. However, as kuryr integration implemented,
this driver is not needed anymore.

[1] http://eavesdrop.openstack.org/meetings/zun/2017/
    zun.2017-07-11-03.00.log.html

Change-Id: I770fe13a004dc56ad20fe8eca545f05c4504e48e
",git fetch https://review.opendev.org/openstack/zun refs/changes/40/468740/6 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/nova-docker/nova/virt/zun/hostinfo.py', 'contrib/nova-docker/devstack/lib/zun', 'contrib/nova-docker/nova/virt/hostutils.py', 'contrib/nova-docker/zun/tests/contrib/gate_hook.sh', 'contrib/nova-docker/nova/virt/zun/__init__.py', 'zun/compute/manager.py', 'contrib/nova-docker/nova/virt/zun/network.py', 'contrib/nova-docker/devstack/plugin.sh', 'contrib/nova-docker/nova/virt/zun/client.py', 'contrib/nova-docker/nova/virt/zun/driver.py', 'devstack/lib/zun', 'zun/conf/container_driver.py', 'devstack/plugin.sh', 'contrib/nova-docker/etc/nova/rootwrap.d/docker.filters', 'zun/tests/unit/container/docker/test_docker_driver.py', 'contrib/nova-docker/nova/virt/__init__.py', 'contrib/nova-docker/nova/virt/zun/opencontrail.py', 'contrib/vagrant/config/localrc', 'contrib/nova-docker/nova/virt/zun/vifs.py', 'devstack/override-defaults', 'zun/tests/contrib/gate_hook.sh', 'zun/container/docker/driver.py', 'contrib/nova-docker/devstack/lib/nova', 'contrib/nova-docker/nova/__init__.py']",24,e75aaadbc23fbbd97bd4b688cfc82fb15b67b3fb,,,,534,270
openstack%2Fzun~master~I144d86c8a5e0228d2dddf58d7d8a98f453353ac5,openstack/zun,master,I144d86c8a5e0228d2dddf58d7d8a98f453353ac5,TrivialFix: Use recommended date time format,MERGED,2017-09-13 08:50:21.000000000,2017-09-15 10:19:01.000000000,2017-09-15 10:19:01.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 23365}]","[{'number': 1, 'created': '2017-09-13 08:50:21.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/54eb196577a0e906bdfe3a72d64567377fcf949f', 'message': ""TrivialFix: Use recommended date time format\n\nupdate html_last_updated_fmt in api-ref/source/conf.py\nuse the recommended '%Y-%m-%d %H:%M' data time format.\n\nChange-Id: I144d86c8a5e0228d2dddf58d7d8a98f453353ac5\n""}]",0,503564,54eb196577a0e906bdfe3a72d64567377fcf949f,7,3,1,25456,,,0,"TrivialFix: Use recommended date time format

update html_last_updated_fmt in api-ref/source/conf.py
use the recommended '%Y-%m-%d %H:%M' data time format.

Change-Id: I144d86c8a5e0228d2dddf58d7d8a98f453353ac5
",git fetch https://review.opendev.org/openstack/zun refs/changes/64/503564/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,54eb196577a0e906bdfe3a72d64567377fcf949f,fix-date-time,html_last_updated_fmt = '%Y-%m-%d %H:%M',"import subprocessimport warningsgit_cmd = [""git"", ""log"", ""--pretty=format:'%ad, commit %h'"", ""--date=local"", ""-n1""] try: html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8') except Exception: warnings.warn('Cannot get last updated time from git repository. ' 'Not setting ""html_last_updated_fmt"".')",1,9
openstack%2Fnova~master~I043babceb3b1be03550c8e90c9abb9450d5f5cde,openstack/nova,master,I043babceb3b1be03550c8e90c9abb9450d5f5cde,Updated from global requirements,MERGED,2017-09-11 21:25:21.000000000,2017-09-15 10:08:09.000000000,2017-09-13 16:35:14.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-11 21:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/231fba2312e6b13f493f15e9b23805f09e0fc50c', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 2, 'created': '2017-09-11 21:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e40dc762acd7c8ac1d8d8a4d97d44f57030f98fb', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 3, 'created': '2017-09-12 04:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88b252973da9f73e768cff8b2651f7e9032401a9', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 4, 'created': '2017-09-12 14:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f3468cd3c75f4dde8c5e5de208d4761d37f4af3', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 5, 'created': '2017-09-12 17:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c10039f23d84b0b66fe4db7b3750383da266b3a', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 6, 'created': '2017-09-12 20:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f2912f42885e8a4911fb8a1c9fe647c48dbbb61', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 7, 'created': '2017-09-12 21:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30d322fdb94dce8f81d23f3806d47511152bbb71', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 8, 'created': '2017-09-12 21:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01010673269b04f3232904199cc8be7520282f53', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 9, 'created': '2017-09-13 00:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2742fe7bf12d0e76684280de7a4122cff80ad71', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}, {'number': 10, 'created': '2017-09-13 12:57:20.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/cfdec41eeec5fab220702efefdaafc45559aeb14', 'message': 'Updated from global requirements\n\nChange-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde\n'}]",0,502700,cfdec41eeec5fab220702efefdaafc45559aeb14,79,12,10,11131,,,0,"Updated from global requirements

Change-Id: I043babceb3b1be03550c8e90c9abb9450d5f5cde
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/502700/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,231fba2312e6b13f493f15e9b23805f09e0fc50c,openstack/requirements,os-api-ref>=1.4.0 # Apache-2.0os-testr>=0.8.2 # Apache-2.0,os-api-ref>=1.0.0 # Apache-2.0os-testr>=0.8.0 # Apache-2.0,15,15
openstack%2Frpm-packaging~master~I3b8cadb184b1d0338f178a919a2e4f9917e11ec8,openstack/rpm-packaging,master,I3b8cadb184b1d0338f178a919a2e4f9917e11ec8,monasca-api: add missing oslo_db Require,MERGED,2017-09-15 08:25:18.000000000,2017-09-15 09:53:50.000000000,2017-09-15 09:53:50.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-15 08:25:18.000000000', 'files': ['openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c02f38deedfb2064ea883febeb5fb05c6a001cfd', 'message': 'monasca-api: add missing oslo_db Require\n\nChange-Id: I3b8cadb184b1d0338f178a919a2e4f9917e11ec8\n'}]",0,504373,c02f38deedfb2064ea883febeb5fb05c6a001cfd,10,6,1,12542,,,0,"monasca-api: add missing oslo_db Require

Change-Id: I3b8cadb184b1d0338f178a919a2e4f9917e11ec8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/73/504373/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-api/monasca-api.spec.j2'],1,c02f38deedfb2064ea883febeb5fb05c6a001cfd,monasca-api-oslo_db,Requires: {{ py2pkg('oslo.db') }},,1,0
openstack%2Fcharm-nova-compute-proxy~master~I43c47dc1d91db5082f24ebc762590cbf2d3452ab,openstack/charm-nova-compute-proxy,master,I43c47dc1d91db5082f24ebc762590cbf2d3452ab,Allow gre through firewalld with one liner,MERGED,2017-09-14 14:59:58.000000000,2017-09-15 09:48:06.000000000,2017-09-15 09:48:06.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-09-14 14:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/1da0b81bf14b4bba7e0b7c5933f9e7c3848c6971', 'message': 'Allow gre through firewalld with one liner\n\nChange-Id: I43c47dc1d91db5082f24ebc762590cbf2d3452ab\nCloses-Bug: 1641077\n'}, {'number': 2, 'created': '2017-09-14 15:26:31.000000000', 'files': ['hooks/fabfile.py', 'hooks/nova_compute_proxy.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/8854d867fd9f05acf2527c4256f08dae6bd3db43', 'message': 'Allow gre through firewalld with one liner\n\nChange-Id: I43c47dc1d91db5082f24ebc762590cbf2d3452ab\nCloses-Bug: 1641077\n'}]",0,504070,8854d867fd9f05acf2527c4256f08dae6bd3db43,11,3,2,22799,,,0,"Allow gre through firewalld with one liner

Change-Id: I43c47dc1d91db5082f24ebc762590cbf2d3452ab
Closes-Bug: 1641077
",git fetch https://review.opendev.org/openstack/charm-nova-compute-proxy refs/changes/70/504070/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/fabfile.py', 'hooks/nova_compute_proxy.py']",2,1da0b81bf14b4bba7e0b7c5933f9e7c3848c6971,bug/1641077," allow_gre_firewalld, self._allow_gre_firewalld() def _allow_gre_firewalld(): execute(allow_gre_firewalld) ",,10,0
openstack%2Fmagnum-ui~stable%2Focata~Ibc8cba64070ca61dfbaad59db53336a927102d67,openstack/magnum-ui,stable/ocata,Ibc8cba64070ca61dfbaad59db53336a927102d67,Imported Translations from Zanata,MERGED,2017-09-07 11:15:14.000000000,2017-09-15 09:14:56.000000000,2017-09-15 09:14:56.000000000,"[{'_account_id': 3}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-09-07 11:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/1bc80d566f8dd32215065236c25673f8a76f2fc7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc8cba64070ca61dfbaad59db53336a927102d67\n'}, {'number': 2, 'created': '2017-09-15 09:03:37.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/fr/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/4caadd6eb47b4778c9166ab66018ae33dc1de242', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc8cba64070ca61dfbaad59db53336a927102d67\n'}]",0,501685,4caadd6eb47b4778c9166ab66018ae33dc1de242,8,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibc8cba64070ca61dfbaad59db53336a927102d67
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/85/501685/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",6,1bc80d566f8dd32215065236c25673f8a76f2fc7,zanata/translations,,"# vuuv <froms2008@gmail.com>, 2017. #zanata # zzxwill <zzxwill@gmail.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: Magnum UI Release Notes 2.1.1\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2017-02-10 10:05+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-02-11 06:32+0000\n"" ""Last-Translator: vuuv <froms2008@gmail.com>\n"" ""Language-Team: Chinese (China)\n"" ""Language: zh-CN\n"" ""X-Generator: Zanata 3.7.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""'bay' and 'baymodel' are changed to 'cluster' and 'cluster template'."" msgstr ""'bay''baymodel''cluster''cluster template'"" msgid ""'docker_storage_driver'"" msgstr ""'docker_storage_driver'"" msgid ""'fixed_subnet'"" msgstr ""'fixed_subnet'"" msgid ""'floating_ip_enabled'"" msgstr ""'floating_ip_enabled'"" msgid ""'master_lb_enabled'"" msgstr ""'master_lb_enabled'"" msgid ""2.1.0-106"" msgstr ""2.1.0-106"" msgid ""2.1.1"" msgstr ""2.1.1"" msgid ""Add following options to cluster template creation and views."" msgstr """" msgid """" ""Allow to create cluster template without keypair. Also, allow change or set "" ""keypair in cluster creation. Following change in Magnum, also Magnum UI "" ""allows this feature."" msgstr """" ""keypairkeypair"" "" Magnum  Magnum "" msgid ""Bug Fixes"" msgstr """" msgid """" ""Change creation actions to global actions. Cluster Template creation and "" ""Cluster creation actions are changed from batchAction to globalAction. This "" ""means these actions are callable from other panels."" msgstr """" ""      "" """" msgid """" ""Container panel is removed. According to decision of Magnum that changes "" ""service scope, container management functions are removed."" msgstr """" "" Magnum "" msgid ""Current Series Release Notes"" msgstr """" msgid ""Deprecation Notes"" msgstr """" msgid """" ""Fixes issue that there is no way to specify for insecure magnumclient as a "" ""result api throws 500 and SSL cert verify errors. 'insecure' and 'ca-cert' "" ""options are added for magnumclient."" msgstr """" ""magnumclientAPI500"" ""magnumclient'insecure''ca-cert'"" msgid ""Magnum UI Release Notes"" msgstr ""Magnum"" msgid """" ""Magnum UI keeps on following changes for Horizon's AngularJS-based "" ""framework. So we can use recent Horizon's feature. And hundreds of "" ""JavaScript tests are added. This ensures quality of Magnum UI."" msgstr """" ""Magnum UI HorizonAngularJSHorizon"" ""JavaScriptMagnum UI"" msgid """" ""Magnum changes its service scope as Container Infrastructure Management "" ""service. Also Magnum-UI change rename service 'container' to 'container-"" ""infra', and container management functions removed. Magnum uses terms "" ""'cluster' and 'cluster template' instead of 'bay' and 'baymodel', because "" ""the use of new Magnum term of 'bay' has caused confusion with users."" msgstr """" ""Magnum  Magnum-UI  "" ""'container'  'container-infra'Magnum  "" ""'cluster'  'cluster template'  'bay'  'baymodel', Magnum  "" ""'bay' "" msgid ""New Features"" msgstr """" msgid ""Newton Series Release Notes"" msgstr ""Newton"" msgid ""Other Notes"" msgstr """" msgid ""Reasonable name is set to browser title bar."" msgstr """" msgid """" ""Service is renamed from 'container' to 'container-infra'. Renaming targets "" ""are URLs, Angular module name, slugs for panel, etc."" msgstr """" "" 'container'  'container-infra'URLAngular"" ""slugs"" msgid """" ""Support 'ca-show'. The function of downloading CA from cluster is added."" msgstr "" 'ca-show'. CA"" msgid """" ""Support 'ca-sign'. The function of signing of certificates to cluster is "" ""added."" msgstr "" 'ca-sign'. "" msgid """" ""Support for Horizon's Angular registry service, generic table and detail "" ""view, action service."" msgstr "" Horizon  Angular "" msgid ""Switch to reno for managing release notes."" msgstr ""reno"" msgid ""Update actions are added for cluster template and cluster."" msgstr ""  "" msgid """" ""Update actions are added for cluster template and cluster. Also, the form "" ""maintainability is proceeded by angular-json-schema."" msgstr """" ""  angular-json-schema"" """" msgid ""Upgrade Notes"" msgstr """" msgid """" ""Use horizon's common \""views\"" module for Angular. This proceeds "" ""independence against Django framework for plugins."" msgstr """" ""HorizonAngular'views'Django"" msgid """" ""Use initAction() instead initScope(). initScope() is deprecated from Horizon "" ""in Ocata and will be removed in Queens."" msgstr """" "" initAction()  initScope(). initScope() Horizon  Ocata "" "" Queens "" msgid """" ""angular-json-schema library is used for create and update dialog, their "" ""forms are integrated into one workflow service. It proceeds maintainability "" ""for forms."" msgstr """" ""angular-json-schema"" """" ",9,879
openstack%2Fpython-watcherclient~stable%2Fpike~I7236e4ba660824d4ae8b72f0c2f79a49ae36861b,openstack/python-watcherclient,stable/pike,I7236e4ba660824d4ae8b72f0c2f79a49ae36861b,Updated from global requirements,MERGED,2017-08-11 19:06:19.000000000,2017-09-15 08:57:29.000000000,2017-09-15 08:57:29.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-08-11 19:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/8fc7a46364fa054bf7ede446f9bb42aed5b5ff85', 'message': 'Updated from global requirements\n\nChange-Id: I7236e4ba660824d4ae8b72f0c2f79a49ae36861b\n'}, {'number': 2, 'created': '2017-08-24 08:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/552491b2889f6a5ad0b11a3eb669216edd56d1a6', 'message': 'Updated from global requirements\n\nChange-Id: I7236e4ba660824d4ae8b72f0c2f79a49ae36861b\n'}, {'number': 3, 'created': '2017-08-26 11:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/f86cf93c7ab8dec48ba8b058874c834adf088cd2', 'message': 'Updated from global requirements\n\nChange-Id: I7236e4ba660824d4ae8b72f0c2f79a49ae36861b\n'}, {'number': 4, 'created': '2017-09-15 07:45:58.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/e28f0e7ee22336ac52f7c6fc9ba973d8c3502798', 'message': 'Updated from global requirements\n\nChange-Id: I7236e4ba660824d4ae8b72f0c2f79a49ae36861b\n'}]",0,493197,e28f0e7ee22336ac52f7c6fc9ba973d8c3502798,18,4,4,11131,,,0,"Updated from global requirements

Change-Id: I7236e4ba660824d4ae8b72f0c2f79a49ae36861b
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/97/493197/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,8fc7a46364fa054bf7ede446f9bb42aed5b5ff85,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,2,2
openstack%2Fcompute-hyperv~stable%2Fpike~Iea5d7cfdd08d691c3f009ad9e4eecfccc3859851,openstack/compute-hyperv,stable/pike,Iea5d7cfdd08d691c3f009ad9e4eecfccc3859851,Installs nova stable/pike as a dependency,MERGED,2017-09-15 08:22:04.000000000,2017-09-15 08:45:12.000000000,2017-09-15 08:45:12.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-09-15 08:22:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/5d559c334022cbb00f6f7f8222519f11563d0708', 'message': 'Installs nova stable/pike as a dependency\n\nChange-Id: Iea5d7cfdd08d691c3f009ad9e4eecfccc3859851\n'}]",0,504371,5d559c334022cbb00f6f7f8222519f11563d0708,7,3,1,8213,,,0,"Installs nova stable/pike as a dependency

Change-Id: Iea5d7cfdd08d691c3f009ad9e4eecfccc3859851
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/71/504371/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5d559c334022cbb00f6f7f8222519f11563d0708,, -egit+https://github.com/openstack/nova@stable/pike#egg=nova, -egit+https://github.com/openstack/nova#egg=nova,1,1
openstack%2Fhorizon~master~I02d9d610a0e5feff7da14f86d003ec21010ab26a,openstack/horizon,master,I02d9d610a0e5feff7da14f86d003ec21010ab26a,Show NotAuthorized error message on a separate page,MERGED,2017-08-07 12:44:54.000000000,2017-09-15 08:44:30.000000000,2017-09-15 08:44:29.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6763}, {'_account_id': 8648}, {'_account_id': 12826}, {'_account_id': 14151}, {'_account_id': 15209}, {'_account_id': 16628}, {'_account_id': 22405}, {'_account_id': 23317}, {'_account_id': 26247}]","[{'number': 1, 'created': '2017-08-07 12:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9dd1c2a58d6e52948ea6129eed33dd02b1708c99', 'message': ""Redirect to the '/' if NotAuthorized is raised before login\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n""}, {'number': 2, 'created': '2017-08-08 14:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3b9793cc1edb7781f1034d8dc020aa250c3845a6', 'message': ""Redirect to the '/' if NotAuthorized is raised before login\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n""}, {'number': 3, 'created': '2017-08-08 15:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5fcdb0e9cdd5484335891ceb5b0fb13e10299c18', 'message': 'Redirect to the WEBROOT if NotAuthorized is raised before login\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n'}, {'number': 4, 'created': '2017-08-10 12:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b48bc5ab97cb6ca3ac67250383ba7b4b6aae8601', 'message': 'WIP. Show NotAuthorized error message on a separate page\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n'}, {'number': 5, 'created': '2017-08-10 14:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/014d50e3e28dcbf91108cb5ca29d0a226d6d36e7', 'message': 'WIP. Show NotAuthorized error message on a separate page\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n'}, {'number': 6, 'created': '2017-08-11 21:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2ac4abf8db5095c1119a1f08debe775fc0ac76ec', 'message': 'WIP. Show NotAuthorized error message on a separate page\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n'}, {'number': 7, 'created': '2017-08-14 13:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9195565c1ffd92e967e1295c7f863ef362d94ec6', 'message': 'Show NotAuthorized error message on a separate page\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n'}, {'number': 8, 'created': '2017-08-14 15:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3c11080a675e0dc06e84e1f8fa3f5a123c443893', 'message': 'Show NotAuthorized error message on a separate page\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n'}, {'number': 9, 'created': '2017-08-29 13:37:31.000000000', 'files': ['horizon/templates/not_authorized.html', 'horizon/exceptions.py', 'horizon/test/tests/middleware.py', 'horizon/test/tests/base.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'horizon/middleware/base.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8f4e02c96d3bce9ed56ef2aec40f885951769d4e', 'message': 'Show NotAuthorized error message on a separate page\n\nChange-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a\nCloses-Bug: #1709077\n'}]",7,491479,8f4e02c96d3bce9ed56ef2aec40f885951769d4e,36,11,9,1736,,,0,"Show NotAuthorized error message on a separate page

Change-Id: I02d9d610a0e5feff7da14f86d003ec21010ab26a
Closes-Bug: #1709077
",git fetch https://review.opendev.org/openstack/horizon refs/changes/79/491479/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'horizon/middleware/base.py']",3,9dd1c2a58d6e52948ea6129eed33dd02b1708c99,bug/1709077," # NOTE(e0ne): we have to cleanup login_url if NotAuthorized # exception is rised. Otherwise, used could be redirected # to the login page again if he hasn't permission to the # current login_url. response = redirect_to_login('/', login_url=login_url, redirect_field_name=field_name)",,8,2
openstack%2Fos-win~stable%2Fpike~Ia3b47477ba6814153bf0ab74ec9737a01bb11678,openstack/os-win,stable/pike,Ia3b47477ba6814153bf0ab74ec9737a01bb11678,vmutils: Fixes setting disk QoS on Hyper-V 6.2,MERGED,2017-09-15 07:53:16.000000000,2017-09-15 08:27:03.000000000,2017-09-15 08:27:03.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-09-15 07:53:16.000000000', 'files': ['os_win/utilsfactory.py', 'os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/utils/compute/vmutils.py', 'os_win/utils/compute/vmutils10.py', 'os_win/exceptions.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/b507ec4e7cb5eead7a008e4d002bc31b85359908', 'message': ""vmutils: Fixes setting disk QoS on Hyper-V 6.2\n\nHyper-V disk QoS is supported on Windows / Hyper-V Server 2012 R2\n(OS version 6.3) or newer. It cannot be set on earlier versions.\n\nIf the set_disk_qos_specs method is called on Windows / Hyper-V Server\n2012 with non-zero values, an os_win.exceptions.UnsupportedOperation\nexception will be raised.\n\nIf the given min_iops and max_iops arguments are None or zero, the\nmethod will be no-op: QoS doesn't need to be enabled, nor disabled\n(0 means that QoS is disabled).\n\nChange-Id: Ia3b47477ba6814153bf0ab74ec9737a01bb11678\nCloses-Bug: #1716891\n(cherry picked from commit 2f76a020acece8f5a01d504fb2c27d39cf577731)\n""}]",0,504359,b507ec4e7cb5eead7a008e4d002bc31b85359908,6,2,1,8213,,,0,"vmutils: Fixes setting disk QoS on Hyper-V 6.2

Hyper-V disk QoS is supported on Windows / Hyper-V Server 2012 R2
(OS version 6.3) or newer. It cannot be set on earlier versions.

If the set_disk_qos_specs method is called on Windows / Hyper-V Server
2012 with non-zero values, an os_win.exceptions.UnsupportedOperation
exception will be raised.

If the given min_iops and max_iops arguments are None or zero, the
method will be no-op: QoS doesn't need to be enabled, nor disabled
(0 means that QoS is disabled).

Change-Id: Ia3b47477ba6814153bf0ab74ec9737a01bb11678
Closes-Bug: #1716891
(cherry picked from commit 2f76a020acece8f5a01d504fb2c27d39cf577731)
",git fetch https://review.opendev.org/openstack/os-win refs/changes/59/504359/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utilsfactory.py', 'os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/utils/compute/vmutils.py', 'os_win/utils/compute/vmutils10.py', 'os_win/exceptions.py']",5,b507ec4e7cb5eead7a008e4d002bc31b85359908,bug/1716891,"class UnsupportedOperation(Invalid): msg_fmt = _(""The operation failed due to the reason: %(reason)s"") ",,77,35
openstack%2Fos-win~stable%2Focata~Ia3b47477ba6814153bf0ab74ec9737a01bb11678,openstack/os-win,stable/ocata,Ia3b47477ba6814153bf0ab74ec9737a01bb11678,vmutils: Fixes setting disk QoS on Hyper-V 6.2,MERGED,2017-09-15 07:53:40.000000000,2017-09-15 08:25:56.000000000,2017-09-15 08:25:55.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-09-15 07:53:40.000000000', 'files': ['os_win/utilsfactory.py', 'os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/utils/compute/vmutils.py', 'os_win/utils/compute/vmutils10.py', 'os_win/exceptions.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/4e73a9c7d81b132b3b44e0d37c817274f5d6b1e9', 'message': ""vmutils: Fixes setting disk QoS on Hyper-V 6.2\n\nHyper-V disk QoS is supported on Windows / Hyper-V Server 2012 R2\n(OS version 6.3) or newer. It cannot be set on earlier versions.\n\nIf the set_disk_qos_specs method is called on Windows / Hyper-V Server\n2012 with non-zero values, an os_win.exceptions.UnsupportedOperation\nexception will be raised.\n\nIf the given min_iops and max_iops arguments are None or zero, the\nmethod will be no-op: QoS doesn't need to be enabled, nor disabled\n(0 means that QoS is disabled).\n\nChange-Id: Ia3b47477ba6814153bf0ab74ec9737a01bb11678\nCloses-Bug: #1716891\n(cherry picked from commit 2f76a020acece8f5a01d504fb2c27d39cf577731)\n""}]",0,504363,4e73a9c7d81b132b3b44e0d37c817274f5d6b1e9,6,2,1,8213,,,0,"vmutils: Fixes setting disk QoS on Hyper-V 6.2

Hyper-V disk QoS is supported on Windows / Hyper-V Server 2012 R2
(OS version 6.3) or newer. It cannot be set on earlier versions.

If the set_disk_qos_specs method is called on Windows / Hyper-V Server
2012 with non-zero values, an os_win.exceptions.UnsupportedOperation
exception will be raised.

If the given min_iops and max_iops arguments are None or zero, the
method will be no-op: QoS doesn't need to be enabled, nor disabled
(0 means that QoS is disabled).

Change-Id: Ia3b47477ba6814153bf0ab74ec9737a01bb11678
Closes-Bug: #1716891
(cherry picked from commit 2f76a020acece8f5a01d504fb2c27d39cf577731)
",git fetch https://review.opendev.org/openstack/os-win refs/changes/63/504363/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utilsfactory.py', 'os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/utils/compute/vmutils.py', 'os_win/utils/compute/vmutils10.py', 'os_win/exceptions.py']",5,4e73a9c7d81b132b3b44e0d37c817274f5d6b1e9,bug/1716891,"class UnsupportedOperation(Invalid): msg_fmt = _(""The operation failed due to the reason: %(reason)s"") ",,77,35
openstack%2Fpython-watcherclient~stable%2Fpike~I927cf966530059d9c7af1e6e60a8d75dd3e6b812,openstack/python-watcherclient,stable/pike,I927cf966530059d9c7af1e6e60a8d75dd3e6b812,Add the filed of description to shell command for action.,MERGED,2017-08-24 08:05:27.000000000,2017-09-15 08:25:08.000000000,2017-09-15 08:25:08.000000000,"[{'_account_id': 3}, {'_account_id': 12813}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19457}]","[{'number': 1, 'created': '2017-08-24 08:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/cad0ece3683d2a73f401bae6c51bae6c60e9df55', 'message': 'Add the filed of description to shell command for action.\n\nblueprint dynamic-action-description\n\nChange-Id: I927cf966530059d9c7af1e6e60a8d75dd3e6b812\n(cherry picked from commit 08fbccc6840a94f1a69e90983dc9f6ff1ec5caf8)\n'}, {'number': 2, 'created': '2017-08-24 08:45:20.000000000', 'files': ['watcherclient/v1/resource_fields.py', 'watcherclient/tests/unit/v1/test_action_shell.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/b45c813d9aeb124bb428d1a2830f1937d21e0f83', 'message': 'Add the filed of description to shell command for action.\n\nblueprint dynamic-action-description\n\nChange-Id: I927cf966530059d9c7af1e6e60a8d75dd3e6b812\n(cherry picked from commit 08fbccc6840a94f1a69e90983dc9f6ff1ec5caf8)\n'}]",0,497126,b45c813d9aeb124bb428d1a2830f1937d21e0f83,9,5,2,19055,,,0,"Add the filed of description to shell command for action.

blueprint dynamic-action-description

Change-Id: I927cf966530059d9c7af1e6e60a8d75dd3e6b812
(cherry picked from commit 08fbccc6840a94f1a69e90983dc9f6ff1ec5caf8)
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/26/497126/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcherclient/v1/resource_fields.py', 'watcherclient/tests/unit/v1/test_action_shell.py']",2,cad0ece3683d2a73f401bae6c51bae6c60e9df55,bp/dynamic-action-description," 'description': 'test', 'description': 'test', 'description': 'test',",,5,2
openstack%2Fpython-watcherclient~stable%2Fpike~Iffd70302d0b1d7a919db3e6e44bd3bbebcb1e7ce,openstack/python-watcherclient,stable/pike,Iffd70302d0b1d7a919db3e6e44bd3bbebcb1e7ce,Fix Audit Update functional test,MERGED,2017-08-24 07:49:35.000000000,2017-09-15 08:24:33.000000000,2017-09-15 08:24:33.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19457}]","[{'number': 1, 'created': '2017-08-24 07:49:35.000000000', 'files': ['watcherclient/common/utils.py', 'watcherclient/v1/audit_shell.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/4a47b7886d3a79ce21bf4c023e27dff6424d798f', 'message': 'Fix Audit Update functional test\n\nChange-Id: Iffd70302d0b1d7a919db3e6e44bd3bbebcb1e7ce\n(cherry picked from commit d6b68dc81913d9c0efb171f5a52fe65a64a1b19c)\n'}]",0,497118,4a47b7886d3a79ce21bf4c023e27dff6424d798f,7,4,1,19055,,,0,"Fix Audit Update functional test

Change-Id: Iffd70302d0b1d7a919db3e6e44bd3bbebcb1e7ce
(cherry picked from commit d6b68dc81913d9c0efb171f5a52fe65a64a1b19c)
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/18/497118/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcherclient/common/utils.py', 'watcherclient/v1/audit_shell.py']",2,4a47b7886d3a79ce21bf4c023e27dff6424d798f,update-func-test," parsed_args.op, parsed_args.attributes[0], exclude_fields=['/interval'])"," parsed_args.op, parsed_args.attributes[0])",11,8
openstack%2Fcompute-hyperv~stable%2Fpike~I53408ca96674fbe98be25a0ade68fd7416b38436,openstack/compute-hyperv,stable/pike,I53408ca96674fbe98be25a0ade68fd7416b38436,Trim the fat from InstanceInfo,ABANDONED,2017-09-15 08:19:16.000000000,2017-09-15 08:20:11.000000000,,[],"[{'number': 1, 'created': '2017-09-15 08:19:16.000000000', 'files': ['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/04201a2d4f07d4985a6653803303fde34ec2fee8', 'message': ""Trim the fat from InstanceInfo\n\nnova.virt.hardware.InstanceInfo had several fields that have never been\nused since their inception two and a half years ago [1]. This change set\nremoves them. They are (were):\n\nmax_mem_kb: (int) the maximum memory in KBytes\nallowed mem_kb: (int) the memory in KBytes used by the instance\nnum_cpu: (int) the number of virtual CPUs for the\n         instance\ncpu_time_ns: (int) the CPU time used in nanoseconds\n\nWe also rename the 'id' field to 'internal_id' for two reasons: First,\nbecause 'id' is a builtin; second, to emphasize that this is not\n(necessarily) tied to the Instance's real id/uuid.\n\n[1] https://review.openstack.org/#/c/133777\n\n(cherry-picked from commit 5db9389c01b0cb6eeacf57c22550876ffcd1a87c)\n\nChange-Id: I53408ca96674fbe98be25a0ade68fd7416b38436\n(cherry picked from commit fe5cbf455d645fa9b6870b19400812e2a22a92a7)\n""}]",0,504370,04201a2d4f07d4985a6653803303fde34ec2fee8,2,0,1,8213,,,0,"Trim the fat from InstanceInfo

nova.virt.hardware.InstanceInfo had several fields that have never been
used since their inception two and a half years ago [1]. This change set
removes them. They are (were):

max_mem_kb: (int) the maximum memory in KBytes
allowed mem_kb: (int) the memory in KBytes used by the instance
num_cpu: (int) the number of virtual CPUs for the
         instance
cpu_time_ns: (int) the CPU time used in nanoseconds

We also rename the 'id' field to 'internal_id' for two reasons: First,
because 'id' is a builtin; second, to emphasize that this is not
(necessarily) tied to the Instance's real id/uuid.

[1] https://review.openstack.org/#/c/133777

(cherry-picked from commit 5db9389c01b0cb6eeacf57c22550876ffcd1a87c)

Change-Id: I53408ca96674fbe98be25a0ade68fd7416b38436
(cherry picked from commit fe5cbf455d645fa9b6870b19400812e2a22a92a7)
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/70/504370/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vmops.py']",2,04201a2d4f07d4985a6653803303fde34ec2fee8,, expected = hardware.InstanceInfo(state=constants.HYPERV_POWER_STATE[2])," expected = hardware.InstanceInfo(state=constants.HYPERV_POWER_STATE[2], max_mem_kb=mock.sentinel.FAKE_MEM_KB, mem_kb=mock.sentinel.FAKE_MEM_KB, num_cpu=mock.sentinel.FAKE_NUM_CPU, cpu_time_ns=mock.sentinel.FAKE_CPU_NS)",2,10
openstack%2Fcompute-hyperv~master~I53408ca96674fbe98be25a0ade68fd7416b38436,openstack/compute-hyperv,master,I53408ca96674fbe98be25a0ade68fd7416b38436,Trim the fat from InstanceInfo,MERGED,2017-09-07 08:50:56.000000000,2017-09-15 08:19:16.000000000,2017-09-07 11:42:01.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-09-07 08:50:56.000000000', 'files': ['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/fe5cbf455d645fa9b6870b19400812e2a22a92a7', 'message': ""Trim the fat from InstanceInfo\n\nnova.virt.hardware.InstanceInfo had several fields that have never been\nused since their inception two and a half years ago [1]. This change set\nremoves them. They are (were):\n\nmax_mem_kb: (int) the maximum memory in KBytes\nallowed mem_kb: (int) the memory in KBytes used by the instance\nnum_cpu: (int) the number of virtual CPUs for the\n         instance\ncpu_time_ns: (int) the CPU time used in nanoseconds\n\nWe also rename the 'id' field to 'internal_id' for two reasons: First,\nbecause 'id' is a builtin; second, to emphasize that this is not\n(necessarily) tied to the Instance's real id/uuid.\n\n[1] https://review.openstack.org/#/c/133777\n\n(cherry-picked from commit 5db9389c01b0cb6eeacf57c22550876ffcd1a87c)\n\nChange-Id: I53408ca96674fbe98be25a0ade68fd7416b38436\n""}]",0,501636,fe5cbf455d645fa9b6870b19400812e2a22a92a7,8,2,1,8213,,,0,"Trim the fat from InstanceInfo

nova.virt.hardware.InstanceInfo had several fields that have never been
used since their inception two and a half years ago [1]. This change set
removes them. They are (were):

max_mem_kb: (int) the maximum memory in KBytes
allowed mem_kb: (int) the memory in KBytes used by the instance
num_cpu: (int) the number of virtual CPUs for the
         instance
cpu_time_ns: (int) the CPU time used in nanoseconds

We also rename the 'id' field to 'internal_id' for two reasons: First,
because 'id' is a builtin; second, to emphasize that this is not
(necessarily) tied to the Instance's real id/uuid.

[1] https://review.openstack.org/#/c/133777

(cherry-picked from commit 5db9389c01b0cb6eeacf57c22550876ffcd1a87c)

Change-Id: I53408ca96674fbe98be25a0ade68fd7416b38436
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/36/501636/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vmops.py']",2,fe5cbf455d645fa9b6870b19400812e2a22a92a7,, expected = hardware.InstanceInfo(state=constants.HYPERV_POWER_STATE[2])," expected = hardware.InstanceInfo(state=constants.HYPERV_POWER_STATE[2], max_mem_kb=mock.sentinel.FAKE_MEM_KB, mem_kb=mock.sentinel.FAKE_MEM_KB, num_cpu=mock.sentinel.FAKE_NUM_CPU, cpu_time_ns=mock.sentinel.FAKE_CPU_NS)",2,10
openstack%2Fnetworking-ovn~master~I9faf47b704cecc4a1a9807a9f473891e3d4d2be2,openstack/networking-ovn,master,I9faf47b704cecc4a1a9807a9f473891e3d4d2be2,Use ovsdbapp RowEvent,MERGED,2017-07-31 21:57:47.000000000,2017-09-15 08:14:54.000000000,2017-09-15 08:14:53.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 5756}, {'_account_id': 6854}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 23458}]","[{'number': 1, 'created': '2017-07-31 21:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fa0919bf0653c632aa8976206b525ad28fcc6850', 'message': 'Use ovsdbapp RowEvent\n\nChange-Id: I9faf47b704cecc4a1a9807a9f473891e3d4d2be2\n'}, {'number': 2, 'created': '2017-08-01 19:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ade7bc28423eaa49bfa9cafc34e937c4430c5351', 'message': 'Use ovsdbapp RowEvent\n\nDepends-On: I379448fd135a3bb2ac99709812b9f476c73923a7\n\nChange-Id: I9faf47b704cecc4a1a9807a9f473891e3d4d2be2\n'}, {'number': 3, 'created': '2017-08-31 18:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3e92d7f24e2e0067fdbc49e323882893e36f006c', 'message': 'Use ovsdbapp RowEvent\n\nDepends-On: I379448fd135a3bb2ac99709812b9f476c73923a7\n\nChange-Id: I9faf47b704cecc4a1a9807a9f473891e3d4d2be2\n'}, {'number': 4, 'created': '2017-09-13 18:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/857962a0bdf8a6e52bc7d0830e584c2bf362049d', 'message': 'Use ovsdbapp RowEvent\n\nDepends-On: I379448fd135a3bb2ac99709812b9f476c73923a7\n\nChange-Id: I9faf47b704cecc4a1a9807a9f473891e3d4d2be2\n'}, {'number': 5, 'created': '2017-09-13 18:57:44.000000000', 'files': ['networking_ovn/agent/metadata/agent.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/ovsdb/row_event.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e5dc79f8dbae0f90cf54f63527a6d0b5c6c3e78b', 'message': 'Use ovsdbapp RowEvent\n\nDepends-On: I379448fd135a3bb2ac99709812b9f476c73923a7\n\nChange-Id: I9faf47b704cecc4a1a9807a9f473891e3d4d2be2\n'}]",0,489415,e5dc79f8dbae0f90cf54f63527a6d0b5c6c3e78b,26,7,5,5756,,,0,"Use ovsdbapp RowEvent

Depends-On: I379448fd135a3bb2ac99709812b9f476c73923a7

Change-Id: I9faf47b704cecc4a1a9807a9f473891e3d4d2be2
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/15/489415/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py']",2,fa0919bf0653c632aa8976206b525ad28fcc6850,489415, self.watched_events = self.handler._RowEventHandler__watched_events,"@mock.patch.object(ovsdb_monitor, 'greenthread', None)@mock.patch.object(ovsdb_monitor, 'greenthread', None) self.watched_events = self.handler._OvnDbNotifyHandler__watched_events",5,77
openstack%2Fmagnum~master~I343edd99d90478a322ae09d3a71f1ee70a1a0346,openstack/magnum,master,I343edd99d90478a322ae09d3a71f1ee70a1a0346,Add DB migration tests,ABANDONED,2016-12-14 21:32:13.000000000,2017-09-15 08:07:51.000000000,,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 7230}, {'_account_id': 20498}, {'_account_id': 21469}, {'_account_id': 21660}]","[{'number': 1, 'created': '2016-12-14 21:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b886b0be3ab51b389ae9330624ce0707354df9f8', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nCurrently laden with hardcoded values where ironic fills dynamically\nduring gate tests. Still figuring out the goings-on for how ironic\nintended their script originally, but at the very least there's a\nbase for implementing migration tests here.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 2, 'created': '2016-12-15 21:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/208f376369df116a8beb264db831305d12427cca', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nCurrently laden with hardcoded values where ironic fills dynamically\nduring gate tests. Still figuring out the goings-on for how ironic\nintended their script originally, but at the very least there's a\nbase for implementing migration tests here.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 3, 'created': '2016-12-15 21:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8da52f498e282ed6d1985824b71a1edb9ca7c3f5', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nCurrently laden with hardcoded values where ironic fills dynamically\nduring gate tests. Still figuring out the goings-on for how ironic\nintended their script originally, but at the very least there's a\nbase for implementing migration tests here.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 4, 'created': '2016-12-20 17:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1bf0980d8d7884b2c0c183a98a37748b095446fb', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 5, 'created': '2016-12-27 16:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cd2db920e3e2c4c89a651fc6b8f5ac5db42174a7', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 6, 'created': '2016-12-28 17:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f3889dd5d6f2ed520799b4326d870f251369ded8', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 7, 'created': '2017-01-05 05:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fdd0711e2ab87d005860216897aff00e32cd8c2a', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 8, 'created': '2017-01-05 22:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e484b3e1d685d78ca1e4c8b62460fc2a72f8df8e', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 9, 'created': '2017-01-09 17:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/23545d03346e79adc0af5469264db9fbb64bdc9c', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 10, 'created': '2017-01-09 18:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/955c0e3fb9878de2b0de2497c4c8c3d8e1f9a57a', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 11, 'created': '2017-01-09 20:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/940c9a1b11a41f62d0f21ce0e3b30fdd7a7fddc5', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 12, 'created': '2017-01-09 22:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/73c8812623483b7626b423c544aecdf4c95f040d', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 13, 'created': '2017-01-11 16:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/752faff30193f3f6b9af9638508a0668ffb863d5', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 14, 'created': '2017-01-11 18:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8941b90c9f6e19a31f618eea7da2f4a05e724d91', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script.\nRemoves PostgreSQL tests, adds new class for SQLite.\nCurrently SQLite tests won't pass due to some issues with\nour migrations that don't play nicely with SQLite. Will\nneed to go over these issues to find a path forward.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 15, 'created': '2017-01-12 22:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b2f0c3780b28d5aa408795a8f14761b7d18080a7', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script with modifications.\nSee TODOs in test_migrations.py for SQLite testing and sync\ntests for MySQL. Requires a check-in from infra to work on gate.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 16, 'created': '2017-01-17 23:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5337f6a869e8fa22f9e76796ad69f561ae8d0cf2', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script with modifications.\nSee TODOs in test_migrations.py for SQLite testing and sync\ntests for MySQL.\n\nAdds tools/test-setup.sh for additional test setup on gate.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 17, 'created': '2017-01-18 02:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a7a48f1adb932a4f1e683627c402e32a11953a31', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script with modifications.\nSee TODOs in test_migrations.py for SQLite testing and sync\ntests for MySQL.\n\nAdds tools/test-setup.sh for additional test setup on gate.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 18, 'created': '2017-01-23 22:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b7d817709bc5ad8917da2e6774753ba1892e57f8', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script with modifications.\nSee TODOs in test_migrations.py for SQLite testing and sync\ntests for MySQL.\n\nAdds tools/test-setup.sh for additional test setup on gate.\nAdds migration testenv to separate migration tests from unit\ntests in tox runs.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 19, 'created': '2017-01-23 22:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2dcf621bd843e3266564c05886d1c8916a909261', 'message': ""[WIP] Add DB migration tests\n\nBorrows ironic's migration testing script with modifications.\nSee TODOs in test_migrations.py for SQLite testing and sync\ntests for MySQL.\n\nAdds tools/test-setup.sh for additional test setup on gate.\nAdds migration testenv to separate migration tests from unit\ntests in tox runs.\n\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 20, 'created': '2017-01-24 17:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/baab02743c8f92f75c404d322432e13fa2482146', 'message': ""Add DB migration tests\n\nBorrows ironic's migration testing script with modifications.\nSee TODOs in test_migrations.py for SQLite testing and sync\ntests for MySQL.\n\nAdds tools/test-setup.sh for additional test setup on gate.\nAdds migration testenv to separate migration tests from unit\ntests in tox runs.\n\nDepends-On: I9f66da500365a4f23f4550f5637b0bb97820f778\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 21, 'created': '2017-01-25 16:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/43d5f38fa9fb50bc666e01b99c421220136041f1', 'message': ""Add DB migration tests\n\nBorrows ironic's migration testing script with modifications.\nSee TODOs in test_migrations.py for SQLite testing and sync\ntests for MySQL.\n\nAdds tools/test-setup.sh for additional test setup on gate.\nAdds migration testenv to separate migration tests from unit\ntests in tox runs.\n\nDepends-On: I9f66da500365a4f23f4550f5637b0bb97820f778\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}, {'number': 22, 'created': '2017-02-16 21:41:55.000000000', 'files': ['magnum/db/sqlalchemy/api.py', 'test-requirements.txt', 'magnum/db/sqlalchemy/migration.py', 'magnum/db/sqlalchemy/alembic/env.py', 'magnum/tests/migration/__init__.py', 'tox.ini', 'magnum/tests/migration/test_migrations.py', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/6b1ecb0424ffcfb3195d154b4eebbd76ae68f17c', 'message': ""Add DB migration tests\n\nBorrows ironic's migration testing script with modifications.\nSee TODOs in test_migrations.py for SQLite testing and sync\ntests for MySQL.\n\nAdds tools/test-setup.sh for additional test setup on gate.\nAdds migration testenv to separate migration tests from unit\ntests in tox runs.\n\nDepends-On: I9f66da500365a4f23f4550f5637b0bb97820f778\nChange-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346\n""}]",1,410962,6b1ecb0424ffcfb3195d154b4eebbd76ae68f17c,78,6,22,21660,,,0,"Add DB migration tests

Borrows ironic's migration testing script with modifications.
See TODOs in test_migrations.py for SQLite testing and sync
tests for MySQL.

Adds tools/test-setup.sh for additional test setup on gate.
Adds migration testenv to separate migration tests from unit
tests in tox runs.

Depends-On: I9f66da500365a4f23f4550f5637b0bb97820f778
Change-Id: I343edd99d90478a322ae09d3a71f1ee70a1a0346
",git fetch https://review.opendev.org/openstack/magnum refs/changes/62/410962/7 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'magnum/db/sqlalchemy/migration.py', 'magnum/tests/unit/db/sqlalchemy/test_migrations.py']",3,b886b0be3ab51b389ae9330624ce0707354df9f8,feature/db_migration_tests_2,"# Copyright 2010-2011 OpenStack Foundation # Copyright 2012-2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Tests for database migrations. There are ""opportunistic"" tests for both mysql and postgresql in here, which allows testing against these databases in a properly configured unit test environment. For the opportunistic testing you need to set up a db named 'openstack_citest' with user 'openstack_citest' and password 'openstack_citest' on localhost. The test will then use that db and u/p combo to run the tests. For postgres on Ubuntu this can be done with the following commands: :: sudo -u postgres psql postgres=# create user openstack_citest with createdb login password 'openstack_citest'; postgres=# create database openstack_citest with owner openstack_citest; """""" import collections import contextlib import fixtures from alembic import script import mock from oslo_db import exception as db_exc from oslo_db.sqlalchemy import enginefacade from oslo_db.sqlalchemy import test_base from oslo_db.sqlalchemy import test_migrations from oslo_db.sqlalchemy import utils as db_utils from oslo_log import log as logging from oslo_utils import uuidutils import sqlalchemy import sqlalchemy.exc from magnum.db.sqlalchemy import migration from magnum.db.sqlalchemy import models from magnum.tests import base LOG = logging.getLogger(__name__) # NOTE(vdrok): This was introduced after migration tests started taking more # time in gate. Timeout value in seconds for tests performing migrations. MIGRATIONS_TIMEOUT = 300 def _get_connect_string(backend, user, passwd, database): """"""Get database connection Try to get a connection with a very specific set of values, if we get these then we'll run the tests, otherwise they are skipped """""" if backend == ""postgres"": backend = ""postgresql+psycopg2"" elif backend == ""mysql"": backend = ""mysql+mysqldb"" else: raise Exception(""Unrecognized backend: '%s'"" % backend) return (""%(backend)s://%(user)s:%(passwd)s@localhost/%(database)s"" % {'backend': backend, 'user': user, 'passwd': passwd, 'database': database}) def _is_backend_avail(backend, user, passwd, database): try: connect_uri = _get_connect_string(backend, user, passwd, database) engine = sqlalchemy.create_engine(connect_uri) connection = engine.connect() except Exception: # intentionally catch all to handle exceptions even if we don't # have any backend code loaded. return False else: connection.close() engine.dispose() return True @contextlib.contextmanager def patch_with_engine(engine): with mock.patch.object(enginefacade.get_legacy_facade(), 'get_engine') as patch_engine: patch_engine.return_value = engine yield class WalkVersionsMixin(object): def _walk_versions(self, engine=None, alembic_cfg=None): # Determine latest version script from the repo, then # upgrade from 1 through to the latest, with no data # in the databases. This just checks that the schema itself # upgrades successfully. # Place the database under version control with patch_with_engine(engine): script_directory = script.ScriptDirectory.from_config(alembic_cfg) self.assertIsNone(self.migration_api.version(alembic_cfg)) versions = [ver for ver in script_directory.walk_revisions()] for version in reversed(versions): self._migrate_up(engine, alembic_cfg, version.revision, with_data=True) def _migrate_up(self, engine, config, version, with_data=False): """"""migrate up to a new version of the db. We allow for data insertion and post checks at every migration version with special _pre_upgrade_### and _check_### functions in the main test. """""" # NOTE(sdague): try block is here because it's impossible to debug # where a failed data migration happens otherwise try: if with_data: data = None pre_upgrade = getattr( self, ""_pre_upgrade_%s"" % version, None) if pre_upgrade: data = pre_upgrade(engine) self.migration_api.upgrade(version, config=config) self.assertEqual(version, self.migration_api.version(config)) if with_data: check = getattr(self, ""_check_%s"" % version, None) if check: check(engine, data) except Exception: LOG.error(_LE(""Failed to migrate to version %(version)s on engine "" ""%(engine)s""), {'version': version, 'engine': engine}) raise class TestWalkVersions(base.TestCase, WalkVersionsMixin): def setUp(self): super(TestWalkVersions, self).setUp() self.migration_api = mock.MagicMock() self.engine = mock.MagicMock() self.config = mock.MagicMock() self.versions = [mock.Mock(revision='2b2'), mock.Mock(revision='1a1')] def test_migrate_up(self): self.migration_api.version.return_value = 'dsa123' self._migrate_up(self.engine, self.config, 'dsa123') self.migration_api.upgrade.assert_called_with('dsa123', config=self.config) self.migration_api.version.assert_called_with(self.config) def test_migrate_up_with_data(self): test_value = {""a"": 1, ""b"": 2} self.migration_api.version.return_value = '141' self._pre_upgrade_141 = mock.MagicMock() self._pre_upgrade_141.return_value = test_value self._check_141 = mock.MagicMock() self._migrate_up(self.engine, self.config, '141', True) self._pre_upgrade_141.assert_called_with(self.engine) self._check_141.assert_called_with(self.engine, test_value) @mock.patch.object(script, 'ScriptDirectory') @mock.patch.object(WalkVersionsMixin, '_migrate_up') def test_walk_versions_all_default(self, _migrate_up, script_directory): fc = script_directory.from_config() fc.walk_revisions.return_value = self.versions self.migration_api.version.return_value = None self._walk_versions(self.engine, self.config) self.migration_api.version.assert_called_with(self.config) upgraded = [mock.call(self.engine, self.config, v.revision, with_data=True) for v in reversed(self.versions)] self.assertEqual(self._migrate_up.call_args_list, upgraded) @mock.patch.object(script, 'ScriptDirectory') @mock.patch.object(WalkVersionsMixin, '_migrate_up') def test_walk_versions_all_false(self, _migrate_up, script_directory): fc = script_directory.from_config() fc.walk_revisions.return_value = self.versions self.migration_api.version.return_value = None self._walk_versions(self.engine, self.config) upgraded = [mock.call(self.engine, self.config, v.revision, with_data=True) for v in reversed(self.versions)] self.assertEqual(upgraded, self._migrate_up.call_args_list) class MigrationCheckersMixin(object): def setUp(self): super(MigrationCheckersMixin, self).setUp() # TODO(swatson): Find what ironic is doing to to populate self.FIXTURE # Determine if the above is what we should be doing as well. These # values are currently hardcoded to test in general. For other DBs # (namely PostgreSQL) this obviously won't work. Ironic seems to use # YAML scripts to fill in these values but I haven't yet pinpointed # where or how those scripts are run at gate. self.FIXTURE.DRIVER = 'mysql' self.FIXTURE.USERNAME = 'openstack_citest' self.FIXTURE.DBNAME = 'openstack_citest' self.config = migration._alembic_config() self.migration_api = migration self.useFixture(fixtures.Timeout(MIGRATIONS_TIMEOUT, gentle=True)) def test_walk_versions(self): self._walk_versions(self.engine, self.config) def test_connect_fail(self): """"""Test that we can trigger a database connection failure Test that we can fail gracefully to ensure we don't break people without specific database backend """""" if _is_backend_avail(self.FIXTURE.DRIVER, ""openstack_cifail"", self.FIXTURE.USERNAME, self.FIXTURE.DBNAME): self.fail(""Shouldn't have connected"") def test_upgrade_and_version(self): with patch_with_engine(self.engine): self.migration_api.upgrade('head') self.assertIsNotNone(self.migration_api.version()) def test_create_schema_and_version(self): with patch_with_engine(self.engine): self.migration_api.create_schema() self.assertIsNotNone(self.migration_api.version()) # TODO(swatson): Find a patch version to make the next two tests make sense # def test_upgrade_and_create_schema(self): # with patch_with_engine(self.engine): # self.migration_api.upgrade('31baaf680d2b') # self.assertRaises(db_exc.DbMigrationError, # self.migration_api.create_schema) # # def test_upgrade_twice(self): # with patch_with_engine(self.engine): # self.migration_api.upgrade('31baaf680d2b') # v1 = self.migration_api.version() # self.migration_api.upgrade('head') # v2 = self.migration_api.version() # self.assertNotEqual(v1, v2) class TestMigrationsMySQL(MigrationCheckersMixin, WalkVersionsMixin, test_base.MySQLOpportunisticTestCase): pass # TODO(swatson): Populate self.FIXTURE to re-enable PostgreSQL tests. # class TestMigrationsPostgreSQL(MigrationCheckersMixin, # WalkVersionsMixin, # test_base.PostgreSQLOpportunisticTestCase): # pass class ModelsMigrationSyncMixin(object): def setUp(self): super(ModelsMigrationSyncMixin, self).setUp() self.useFixture(fixtures.Timeout(MIGRATIONS_TIMEOUT, gentle=True)) def get_metadata(self): return models.Base.metadata def get_engine(self): return self.engine def db_sync(self, engine): with patch_with_engine(engine): migration.upgrade('head') class ModelsMigrationsSyncMysql(ModelsMigrationSyncMixin, test_migrations.ModelsMigrationsSync, test_base.MySQLOpportunisticTestCase): pass # class ModelsMigrationsSyncPostgres(ModelsMigrationSyncMixin, # test_migrations.ModelsMigrationsSync, # test_base.PostgreSQLOpportunisticTestCase): # pass ",,317,0
openstack%2Frpm-packaging~master~Ie1657a852785746b3f245203a1f25af926e95317,openstack/rpm-packaging,master,Ie1657a852785746b3f245203a1f25af926e95317,use %{sname} for Url on oslo.cache,MERGED,2017-09-14 22:37:37.000000000,2017-09-15 08:04:11.000000000,2017-09-15 08:04:11.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-14 22:37:37.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bd5e5702337c9e7e75e3d0bb8c1111ebcb3538a7', 'message': 'use %{sname} for Url on oslo.cache\n\nChange-Id: Ie1657a852785746b3f245203a1f25af926e95317\n'}]",0,504269,bd5e5702337c9e7e75e3d0bb8c1111ebcb3538a7,9,5,1,16282,,,0,"use %{sname} for Url on oslo.cache

Change-Id: Ie1657a852785746b3f245203a1f25af926e95317
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/69/504269/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.cache/oslo.cache.spec.j2'],1,bd5e5702337c9e7e75e3d0bb8c1111ebcb3538a7,,Url: http://launchpad.net/%{sname},Url: http://launchpad.net/oslo,1,1
openstack%2Frpm-packaging~master~I2b8d8d3ad0b66406ca750fbe48ce5855940bbc76,openstack/rpm-packaging,master,I2b8d8d3ad0b66406ca750fbe48ce5855940bbc76,Updated pymod2pkg to 0.10.1,MERGED,2017-09-15 06:36:48.000000000,2017-09-15 07:58:29.000000000,2017-09-15 07:58:29.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-15 06:36:48.000000000', 'files': ['openstack/pymod2pkg/pymod2pkg.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e8495c4a73235b48748f1c7ce334872eff803a8c', 'message': 'Updated pymod2pkg to 0.10.1\n\nChange-Id: I2b8d8d3ad0b66406ca750fbe48ce5855940bbc76\n'}]",0,504343,e8495c4a73235b48748f1c7ce334872eff803a8c,9,5,1,21691,,,0,"Updated pymod2pkg to 0.10.1

Change-Id: I2b8d8d3ad0b66406ca750fbe48ce5855940bbc76
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/43/504343/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pymod2pkg/pymod2pkg.spec.j2'],1,e8495c4a73235b48748f1c7ce334872eff803a8c,,Version: 0.10.1,Version: 0.10.0,1,1
openstack%2Fos-win~master~Ia3b47477ba6814153bf0ab74ec9737a01bb11678,openstack/os-win,master,Ia3b47477ba6814153bf0ab74ec9737a01bb11678,vmutils: Fixes setting disk QoS on Hyper-V 6.2,MERGED,2017-09-13 10:42:49.000000000,2017-09-15 07:53:40.000000000,2017-09-14 15:53:24.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2017-09-13 10:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/f3a799bab9e78fce20762e12e1285175cac84a21', 'message': ""vmutils: Fixes setting disk QoS on Hyper-V 6.2\n\nHyper-V disk QoS is supported on Windows / Hyper-V Server 2012 R2\n(OS version 6.3) or newer. It cannot be set on earlier versions.\n\nIf the set_disk_qos_specs method is called on Windows / Hyper-V Server\n2012 with non-zero values, an os_win.exceptions.UnsupportedOperation\nexception will be raised.\n\nIf the given min_iops and max_iops arguments are None or zero, the\nmethod will be no-op: QoS doesn't need to be enabled, nor disabled\n(0 means that QoS is disabled).\n\nChange-Id: Ia3b47477ba6814153bf0ab74ec9737a01bb11678\nCloses-Bug: #1716891\n""}, {'number': 2, 'created': '2017-09-13 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/02678d57301990aeda1ec969dbbc381275d53373', 'message': ""vmutils: Fixes setting disk QoS on Hyper-V 6.2\n\nHyper-V disk QoS is supported on Windows / Hyper-V Server 2012 R2\n(OS version 6.3) or newer. It cannot be set on earlier versions.\n\nIf the set_disk_qos_specs method is called on Windows / Hyper-V Server\n2012 with non-zero values, an os_win.exceptions.UnsupportedOperation\nexception will be raised.\n\nIf the given min_iops and max_iops arguments are None or zero, the\nmethod will be no-op: QoS doesn't need to be enabled, nor disabled\n(0 means that QoS is disabled).\n\nChange-Id: Ia3b47477ba6814153bf0ab74ec9737a01bb11678\nCloses-Bug: #1716891\n""}, {'number': 3, 'created': '2017-09-14 15:25:27.000000000', 'files': ['os_win/utilsfactory.py', 'os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/utils/compute/vmutils.py', 'os_win/utils/compute/vmutils10.py', 'os_win/exceptions.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/2f76a020acece8f5a01d504fb2c27d39cf577731', 'message': ""vmutils: Fixes setting disk QoS on Hyper-V 6.2\n\nHyper-V disk QoS is supported on Windows / Hyper-V Server 2012 R2\n(OS version 6.3) or newer. It cannot be set on earlier versions.\n\nIf the set_disk_qos_specs method is called on Windows / Hyper-V Server\n2012 with non-zero values, an os_win.exceptions.UnsupportedOperation\nexception will be raised.\n\nIf the given min_iops and max_iops arguments are None or zero, the\nmethod will be no-op: QoS doesn't need to be enabled, nor disabled\n(0 means that QoS is disabled).\n\nChange-Id: Ia3b47477ba6814153bf0ab74ec9737a01bb11678\nCloses-Bug: #1716891\n""}]",1,503593,2f76a020acece8f5a01d504fb2c27d39cf577731,14,3,3,8213,,,0,"vmutils: Fixes setting disk QoS on Hyper-V 6.2

Hyper-V disk QoS is supported on Windows / Hyper-V Server 2012 R2
(OS version 6.3) or newer. It cannot be set on earlier versions.

If the set_disk_qos_specs method is called on Windows / Hyper-V Server
2012 with non-zero values, an os_win.exceptions.UnsupportedOperation
exception will be raised.

If the given min_iops and max_iops arguments are None or zero, the
method will be no-op: QoS doesn't need to be enabled, nor disabled
(0 means that QoS is disabled).

Change-Id: Ia3b47477ba6814153bf0ab74ec9737a01bb11678
Closes-Bug: #1716891
",git fetch https://review.opendev.org/openstack/os-win refs/changes/93/503593/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utilsfactory.py', 'os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/utils/compute/vmutils.py', 'os_win/utils/compute/vmutils10.py']",4,f3a799bab9e78fce20762e12e1285175cac84a21,bug/1716891,class VMUtils10(vmutils.VMUtils6_3):,class VMUtils10(vmutils.VMUtils):,72,41
openstack%2Fcompute-hyperv~master~I784835800a961be4ba755a4d51edbc931eccdc57,openstack/compute-hyperv,master,I784835800a961be4ba755a4d51edbc931eccdc57,Fixes cold migration path trimming issue,MERGED,2017-09-13 08:36:09.000000000,2017-09-15 07:53:31.000000000,2017-09-14 08:17:45.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2017-09-13 08:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/325eaf55e226ab2088384f6feb475fce45b2dbe2', 'message': 'Fixes cold migration path trimming issue\n\nDuring cold migration, the following steps happen:\n\n1. The source node will stop the VM, copy the VM files to a _revert path,\ndestroy the VM, and return the _revert path as disk_info.\n2. The destination node will get that disk_info, and if it was configured\nnot to move the storage (multiple CSVs cluster scenario), it will just\ncopy the files to a path without the ending _revert.\n\nThe issue is that rstrip can strip more characters than desired. It will\nremove all characters contained by ""_revert"" from the given path\'s ending.\nFor example:\n\n""instance_000000be_revert"".rstrip(""_revert"") => ""instance_000000b""\n\nChange-Id: I784835800a961be4ba755a4d51edbc931eccdc57\nCloses-Bug: #1716862\n'}, {'number': 2, 'created': '2017-09-13 10:06:39.000000000', 'files': ['compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/nova/migrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e00240f5d7e2d8e385b8c0d6ea18ed9eddd6e5d1', 'message': 'Fixes cold migration path trimming issue\n\nDuring cold migration, the following steps happen:\n\n1. The source node will stop the VM, copy the VM files to a _revert path,\ndestroy the VM, and return the _revert path as disk_info.\n2. The destination node will get that disk_info, and if it was configured\nnot to move the storage (multiple CSVs cluster scenario), it will just\ncopy the files to a path without the ending _revert.\n\nThe issue is that rstrip can strip more characters than desired. It will\nremove all characters contained by ""_revert"" from the given path\'s ending.\nFor example:\n\n""instance_000000be_revert"".rstrip(""_revert"") => ""instance_000000b""\n\nChange-Id: I784835800a961be4ba755a4d51edbc931eccdc57\nCloses-Bug: #1716862\n'}]",0,503562,e00240f5d7e2d8e385b8c0d6ea18ed9eddd6e5d1,10,3,2,8213,,,0,"Fixes cold migration path trimming issue

During cold migration, the following steps happen:

1. The source node will stop the VM, copy the VM files to a _revert path,
destroy the VM, and return the _revert path as disk_info.
2. The destination node will get that disk_info, and if it was configured
not to move the storage (multiple CSVs cluster scenario), it will just
copy the files to a path without the ending _revert.

The issue is that rstrip can strip more characters than desired. It will
remove all characters contained by ""_revert"" from the given path's ending.
For example:

""instance_000000be_revert"".rstrip(""_revert"") => ""instance_000000b""

Change-Id: I784835800a961be4ba755a4d51edbc931eccdc57
Closes-Bug: #1716862
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/62/503562/2 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/nova/migrationops.py']",2,325eaf55e226ab2088384f6feb475fce45b2dbe2,bug/1716862," # NOTE(claudiub): get rid of the final _revert part of the path. # rstrip can remove more than _revert, which is not desired. inst_dir = source_inst_dir.rsplit('_revert', 1)[0]", inst_dir = source_inst_dir.rstrip('_revert'),7,5
openstack%2Fcompute-hyperv~master~I589239c6ebcd3cf706bc188179a74c97bb831a0d,openstack/compute-hyperv,master,I589239c6ebcd3cf706bc188179a74c97bb831a0d,migration: Updates the VM before VM disk checks,MERGED,2017-09-13 09:35:54.000000000,2017-09-15 07:53:25.000000000,2017-09-14 08:18:07.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2017-09-13 09:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/4be51af624f18c60034b3149cb43bf1990967456', 'message': ""migration: Updates the VM before VM disk checks\n\nIn the case of multiple CSVs scenario, disks are not migrated on\ncold migration. Thus, pathutils relies on the VM's ConfigurationDataRoot\nwhen determining its disk file locations, but the VM's\nConfigurationDataRoot is set after checking the disks, resulting in\na DiskNotFoundException.\n\nThis commit addresses this issue.\n\nChange-Id: I589239c6ebcd3cf706bc188179a74c97bb831a0d\nCloses-Bug: #1716886\n""}, {'number': 2, 'created': '2017-09-13 10:06:45.000000000', 'files': ['compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/nova/migrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/0c673d5c5c980a2d9c4f7a33d475324cd6fe85dc', 'message': ""migration: Updates the VM before VM disk checks\n\nIn the case of multiple CSVs scenario, disks are not migrated on\ncold migration. Thus, pathutils relies on the VM's ConfigurationDataRoot\nwhen determining its disk file locations, but the VM's\nConfigurationDataRoot is set after checking the disks, resulting in\na DiskNotFoundException.\n\nThis commit addresses this issue.\n\nChange-Id: I589239c6ebcd3cf706bc188179a74c97bb831a0d\nCloses-Bug: #1716886\n""}]",0,503579,0c673d5c5c980a2d9c4f7a33d475324cd6fe85dc,10,3,2,8213,,,0,"migration: Updates the VM before VM disk checks

In the case of multiple CSVs scenario, disks are not migrated on
cold migration. Thus, pathutils relies on the VM's ConfigurationDataRoot
when determining its disk file locations, but the VM's
ConfigurationDataRoot is set after checking the disks, resulting in
a DiskNotFoundException.

This commit addresses this issue.

Change-Id: I589239c6ebcd3cf706bc188179a74c97bb831a0d
Closes-Bug: #1716886
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/79/503579/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/nova/migrationops.py']",2,4be51af624f18c60034b3149cb43bf1990967456,bug/1716886," self._vmops.update_vm_resources(instance, vm_gen, image_meta, instance_dir, resize_instance) self._volumeops.connect_volumes(block_device_info)"," self._volumeops.connect_volumes(block_device_info) self._vmops.update_vm_resources(instance, vm_gen, image_meta, instance_dir, resize_instance) ",7,8
openstack%2Ftripleo-quickstart~master~I3856fc133118171fdcb9e9e4f8b2938c1f52204c,openstack/tripleo-quickstart,master,I3856fc133118171fdcb9e9e4f8b2938c1f52204c,TEST PLEASE IGNORE,ABANDONED,2017-09-14 20:44:08.000000000,2017-09-15 07:26:57.000000000,,"[{'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-09-14 20:44:08.000000000', 'files': ['TEST_PLEASE_IGNORE.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5765397990e12e3ae76df3599565d0a1069303d3', 'message': 'TEST PLEASE IGNORE\n\nChange-Id: I3856fc133118171fdcb9e9e4f8b2938c1f52204c\n'}]",0,504226,5765397990e12e3ae76df3599565d0a1069303d3,4,2,1,10112,,,0,"TEST PLEASE IGNORE

Change-Id: I3856fc133118171fdcb9e9e4f8b2938c1f52204c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/26/504226/1 && git format-patch -1 --stdout FETCH_HEAD,['TEST_PLEASE_IGNORE.txt'],1,5765397990e12e3ae76df3599565d0a1069303d3,test_please_ignore,"THIS IS A TEST, PLEASE IGNORE. ",,1,0
openstack%2Ftricircle~master~Ia4c8de9ac0dc66541c194588a8c51a489078d909,openstack/tricircle,master,Ia4c8de9ac0dc66541c194588a8c51a489078d909,[Urgent] fix error when import config,MERGED,2017-09-15 00:40:18.000000000,2017-09-15 07:23:58.000000000,2017-09-15 07:23:57.000000000,"[{'_account_id': 3}, {'_account_id': 11819}, {'_account_id': 12076}]","[{'number': 1, 'created': '2017-09-15 00:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/d0d6b898695c58edfb4d0615678be3c281e0771f', 'message': 'fix error when import config\n\nChange-Id: Ia4c8de9ac0dc66541c194588a8c51a489078d909\n'}, {'number': 2, 'created': '2017-09-15 05:30:01.000000000', 'files': ['tricircle/network/central_trunk_plugin.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/b9e46bead1674e3f35e179cb25e1c0985dde0f5d', 'message': '[Urgent] fix error when import config\n\n1. What is the problem\nThe patch that refactors neutron ml2 config opts to be in\nneutron/conf/plugins/ml2 is merged [1], making unit tests fail.\n\n2. What is the solution for the problem\nDelete the line which import neutron.plugins.ml2.config\n\n3. What features need to be implemented to the Tricircle to\nrealize the solution\nN/A\n\nChange-Id: Ia4c8de9ac0dc66541c194588a8c51a489078d909\n'}]",0,504293,b9e46bead1674e3f35e179cb25e1c0985dde0f5d,9,3,2,19960,,,0,"[Urgent] fix error when import config

1. What is the problem
The patch that refactors neutron ml2 config opts to be in
neutron/conf/plugins/ml2 is merged [1], making unit tests fail.

2. What is the solution for the problem
Delete the line which import neutron.plugins.ml2.config

3. What features need to be implemented to the Tricircle to
realize the solution
N/A

Change-Id: Ia4c8de9ac0dc66541c194588a8c51a489078d909
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/93/504293/1 && git format-patch -1 --stdout FETCH_HEAD,['tricircle/network/central_trunk_plugin.py'],1,d0d6b898695c58edfb4d0615678be3c281e0771f,fix-error-config,,from neutron.plugins.ml2 import config # noqa,0,1
openstack%2Fnova~master~I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d,openstack/nova,master,I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d,Create allocations against forced dest host during evacuate,MERGED,2017-08-31 00:45:38.000000000,2017-09-15 06:52:34.000000000,2017-09-12 21:03:08.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-31 00:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a3d57ca695109590bb46888a6911697d3b6dbbe', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n'}, {'number': 2, 'created': '2017-08-31 13:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6402c8b080ec18bd4930f1778678f0d8835053e6', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n'}, {'number': 3, 'created': '2017-08-31 15:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9f8ce7e83bf96f26f8fbe1d9556ab1ba449eb04', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n'}, {'number': 4, 'created': '2017-08-31 16:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/843578acf719172220ed3c04a245b697fbc544b0', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n'}, {'number': 5, 'created': '2017-09-01 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d736c26f8e36d0bf01b9cbf420f6063c710a305', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n'}, {'number': 6, 'created': '2017-09-06 19:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6edbc5cf37c4fc13c5a6165d19e10967b8e43e0e', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n'}, {'number': 8, 'created': '2017-09-07 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfd55c5c60d8e093a5614d2db36ab2b00e3285a2', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n'}, {'number': 9, 'created': '2017-09-12 15:17:51.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'releasenotes/notes/bug-1713786-0ee9e543683dafa4.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d564266a019cb009ece1a63e5d544698f2bf74d1', 'message': 'Create allocations against forced dest host during evacuate\n\nIf a host is specified during an evacuate with the force=True\nflag, conductor bypasses the scheduler. Since the scheduler\nis what creates the ""doubled up"" allocation on the destination\nnode, and the scheduler is bypassed in the force case, we have\nto create the allocations against the destination node in\nconductor directly.\n\nThe unit tests cover the failure scenarios. The functional\ntest covers the happy path.\n\nThis is a short-term backportable fix. Long-term we\'ll likely\nwant to call the scheduler even in the \'force\' scenario but pass\na flag to the scheduler to tell it to skip the filters but still\ncreate the allocation on the destination node so we don\'t have\nto duplicate that in conductor.\n\nChange-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\nPartial-Bug: #1713786\n'}]",30,499399,d564266a019cb009ece1a63e5d544698f2bf74d1,110,17,8,6873,,,0,"Create allocations against forced dest host during evacuate

If a host is specified during an evacuate with the force=True
flag, conductor bypasses the scheduler. Since the scheduler
is what creates the ""doubled up"" allocation on the destination
node, and the scheduler is bypassed in the force case, we have
to create the allocations against the destination node in
conductor directly.

The unit tests cover the failure scenarios. The functional
test covers the happy path.

This is a short-term backportable fix. Long-term we'll likely
want to call the scheduler even in the 'force' scenario but pass
a flag to the scheduler to tell it to skip the filters but still
create the allocation on the destination node so we don't have
to duplicate that in conductor.

Change-Id: I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d
Partial-Bug: #1713786
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/499399/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py']",3,5a3d57ca695109590bb46888a6911697d3b6dbbe,bug/1713786," def test_evacuate_forced_host(self): """"""Evacuating a server with a forced host bypasses the scheduler which means conductor has to create the allocations against the destination node. This test recreates the scenarios and asserts the allocations on the source and destination nodes are as expected. """""" source_hostname = self.compute1.host dest_hostname = self.compute2.host server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) # evacuate the server and force the destination host which bypasses # the scheduler post = { 'evacuate': { 'host': dest_hostname, 'force': True } } self.api.post_server_action(server['id'], post) expected_params = {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ACTIVE'} server = self._wait_for_server_parameter(self.api, server, expected_params) # Expect to have allocation and usages on both computes as the # source compute is still down source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # start up the source compute self.compute1.start() self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) # When the source node starts up, the instance has moved so the # ResourceTracker should cleanup allocations for the source node. source_usages = self._get_provider_usages(source_rp_uuid) self.assertEqual( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages) # The usages/allocations should still exist on the destination node # after the source node starts back up. dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) self._delete_and_check_allocations( server, source_rp_uuid, dest_rp_uuid) ",,345,1
openstack%2Fswift~master~I3362a6ebff423016bb367b4b6b322bb41ae08764,openstack/swift,master,I3362a6ebff423016bb367b4b6b322bb41ae08764,Always require device dir for containers,MERGED,2017-04-19 13:15:52.000000000,2017-09-15 06:51:40.000000000,2017-09-15 06:51:40.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 23449}]","[{'number': 1, 'created': '2017-04-19 13:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cb4f751593b132c03b82745657bdca2805cf0783', 'message': 'WIP: check_dir as an alternative to check_mount for db replication\n\nFor test purposes (e.g. saio) is check_dir useful to check\naccount/container server storage when real mount points are not used.\n\nCo-Author: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I3362a6ebff423016bb367b4b6b322bb41ae08764\nRelated-Change-Id: I344f9daaa038c6946be11e1cf8c4ef104a09e68b\n'}, {'number': 2, 'created': '2017-08-25 22:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/27d6619dfa4e0689e8d45c83bc4444d825d97bcd', 'message': ""Always require device dir for containers\n\nFor test purposes (e.g. saio probetests) even if mount_check is False,\nstill require check_dir for account/container server storage when real\nmount points are not used.\n\nThis behavior is consistent with the object-server's checks in diskfile.\n\nCo-Author: Clay Gerrard <clay.gerrard@gmail.com>\nRelated lp bug #1693005\nRelated-Change-Id: I344f9daaa038c6946be11e1cf8c4ef104a09e68b\nChange-Id: I3362a6ebff423016bb367b4b6b322bb41ae08764\n""}, {'number': 3, 'created': '2017-08-28 22:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3ad5a91bf1ba8128c1b7ccec54d9915bfdd84088', 'message': ""Always require device dir for containers\n\nFor test purposes (e.g. saio probetests) even if mount_check is False,\nstill require check_dir for account/container server storage when real\nmount points are not used.\n\nThis behavior is consistent with the object-server's checks in diskfile.\n\nCo-Author: Clay Gerrard <clay.gerrard@gmail.com>\nRelated lp bug #1693005\nRelated-Change-Id: I344f9daaa038c6946be11e1cf8c4ef104a09e68b\nDepends-On: I52c4ecb70b1ae47e613ba243da5a4d94e5adedf2\nChange-Id: I3362a6ebff423016bb367b4b6b322bb41ae08764\n""}, {'number': 4, 'created': '2017-09-01 17:33:46.000000000', 'files': ['test/unit/common/test_constraints.py', 'test/unit/account/test_server.py', 'test/unit/__init__.py', 'test/unit/obj/test_server.py', 'swift/account/server.py', 'test/unit/container/test_server.py', 'test/unit/obj/test_diskfile.py', 'test/unit/obj/test_reconstructor.py', 'test/unit/obj/test_auditor.py', 'swift/container/server.py', 'swift/common/middleware/recon.py', 'swift/common/constraints.py', 'swift/obj/diskfile.py', 'test/unit/obj/test_ssync_receiver.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/163fb4d52a85e0467c8c6b616e2cd9faa1faa41b', 'message': ""Always require device dir for containers\n\nFor test purposes (e.g. saio probetests) even if mount_check is False,\nstill require check_dir for account/container server storage when real\nmount points are not used.\n\nThis behavior is consistent with the object-server's checks in diskfile.\n\nCo-Author: Clay Gerrard <clay.gerrard@gmail.com>\nRelated lp bug #1693005\nRelated-Change-Id: I344f9daaa038c6946be11e1cf8c4ef104a09e68b\nDepends-On: I52c4ecb70b1ae47e613ba243da5a4d94e5adedf2\nChange-Id: I3362a6ebff423016bb367b4b6b322bb41ae08764\n""}]",9,458070,163fb4d52a85e0467c8c6b616e2cd9faa1faa41b,21,5,4,23449,,,0,"Always require device dir for containers

For test purposes (e.g. saio probetests) even if mount_check is False,
still require check_dir for account/container server storage when real
mount points are not used.

This behavior is consistent with the object-server's checks in diskfile.

Co-Author: Clay Gerrard <clay.gerrard@gmail.com>
Related lp bug #1693005
Related-Change-Id: I344f9daaa038c6946be11e1cf8c4ef104a09e68b
Depends-On: I52c4ecb70b1ae47e613ba243da5a4d94e5adedf2
Change-Id: I3362a6ebff423016bb367b4b6b322bb41ae08764
",git fetch https://review.opendev.org/openstack/swift refs/changes/70/458070/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'swift/account/server.py']",2,cb4f751593b132c03b82745657bdca2805cf0783,bug/1693005,"from swift.common.constraints import check_mount, valid_timestamp, \ check_utf8, check_dir def check_mount(self, drive): if self.mount_check: return check_mount(self.root, drive) else: return check_dir(self.root, drive) if not self.check_mount(drive): if not self.check_mount(drive): if not self.check_mount(drive): if not self.check_mount(drive): if not self.check_mount(drive): if not self.check_mount(drive):","from swift.common.constraints import check_mount, valid_timestamp, check_utf8 if self.mount_check and not check_mount(self.root, drive): if self.mount_check and not check_mount(self.root, drive): if self.mount_check and not check_mount(self.root, drive): if self.mount_check and not check_mount(self.root, drive): if self.mount_check and not check_mount(self.root, drive): if self.mount_check and not check_mount(self.root, drive):",28,14
openstack%2Foslo.versionedobjects~master~I537abfdb856000b78f4d5e3c3219873ecbcb3ced,openstack/oslo.versionedobjects,master,I537abfdb856000b78f4d5e3c3219873ecbcb3ced,Use newer location for iso8601 UTC,ABANDONED,2017-09-08 10:29:18.000000000,2017-09-15 06:47:08.000000000,,"[{'_account_id': 3}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-09-08 10:29:18.000000000', 'files': ['oslo_versionedobjects/tests/test_fields.py', 'oslo_versionedobjects/fields.py', 'oslo_versionedobjects/tests/test_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/aa5a0b072a11d5ebff7c81d1dd127f869e58bf1c', 'message': ' Use newer location for iso8601 UTC\n\nNewer versions have moved from iso8601.iso8601.Utc()\nto just iso8601.UTC, causing tests to fail under py35.\n\nChange-Id: I537abfdb856000b78f4d5e3c3219873ecbcb3ced\nCloses-Bug:#1715486\n'}]",0,502029,aa5a0b072a11d5ebff7c81d1dd127f869e58bf1c,5,2,1,26617,,,0," Use newer location for iso8601 UTC

Newer versions have moved from iso8601.iso8601.Utc()
to just iso8601.UTC, causing tests to fail under py35.

Change-Id: I537abfdb856000b78f4d5e3c3219873ecbcb3ced
Closes-Bug:#1715486
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/29/502029/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/tests/test_fields.py', 'oslo_versionedobjects/fields.py', 'oslo_versionedobjects/tests/test_fixture.py']",3,aa5a0b072a11d5ebff7c81d1dd127f869e58bf1c,1715486," dt = datetime.datetime(1955, 11, 5, tzinfo=iso8601.UTC)"," dt = datetime.datetime(1955, 11, 5, tzinfo=iso8601.iso8601.Utc())",4,4
openstack%2Fmagnum~master~Ibeaa01578874335ddb70ac178ff708c6b953f129,openstack/magnum,master,Ibeaa01578874335ddb70ac178ff708c6b953f129,Update CoreDNS to 011,MERGED,2017-09-14 13:58:34.000000000,2017-09-15 06:44:43.000000000,2017-09-15 06:44:43.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}]","[{'number': 1, 'created': '2017-09-14 13:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6838744804e185d5c77f19eececb55873f354ac8', 'message': 'Update CoreDNS to 011\n\nUpdate CoreDNS to version 011 which includes a fix\nfor kubernetes srv and update the Corefile appropriatelely [1].\n\n[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12\nCloses-Bug: #1717238\n\nChange-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129\n'}, {'number': 2, 'created': '2017-09-14 14:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3f009e282b78d28f005d5676c7e9001cc30cb50a', 'message': 'Update CoreDNS to 011\n\nUpdate CoreDNS to version 011 which includes a fix\nfor kubernetes srv and update the Corefile appropriately [1].\n\n[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12\nCloses-Bug: #1717238\n\nChange-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129\n'}, {'number': 3, 'created': '2017-09-14 14:09:25.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/68d7b87a0bd506ed1ed9b1e24a9eda3ec568b0ef', 'message': 'Update CoreDNS to 011\n\nUpdate CoreDNS to version 011 which includes a fix [0]\nfor kubernetes srv and update the Corefile appropriately [1].\n\n[0] https://github.com/coredns/coredns/pull/823\n[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12\nCloses-Bug: #1717238\n\nChange-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129\n'}]",0,504058,68d7b87a0bd506ed1ed9b1e24a9eda3ec568b0ef,10,3,3,20498,,,0,"Update CoreDNS to 011

Update CoreDNS to version 011 which includes a fix [0]
for kubernetes srv and update the Corefile appropriately [1].

[0] https://github.com/coredns/coredns/pull/823
[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12
Closes-Bug: #1717238

Change-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129
",git fetch https://review.opendev.org/openstack/magnum refs/changes/58/504058/3 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'],1,6838744804e185d5c77f19eececb55873f354ac8,bug/1717238, kubernetes ${DNS_CLUSTER_DOMAIN} ${PORTAL_NETWORK_CIDR} image: coredns/coredns:011, kubernetes ${DNS_CLUSTER_DOMAIN} { cidrs ${PORTAL_NETWORK_CIDR} } image: coredns/coredns:007,2,4
openstack%2Fmagnum~stable%2Fpike~Ibeaa01578874335ddb70ac178ff708c6b953f129,openstack/magnum,stable/pike,Ibeaa01578874335ddb70ac178ff708c6b953f129,Update CoreDNS to 011,MERGED,2017-09-14 14:14:27.000000000,2017-09-15 06:44:37.000000000,2017-09-15 06:44:37.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}]","[{'number': 1, 'created': '2017-09-14 14:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/251c77518220761122dc91f617809ef981415ebb', 'message': 'Update CoreDNS to 011\n\nUpdate CoreDNS to version 011 which includes a fix [0]\nfor kubernetes srv and update the Corefile appropriately [1].\n\n[0] https://github.com/coredns/coredns/pull/823\n[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12\nCloses-Bug: #1717238\n\nChange-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129\n'}, {'number': 2, 'created': '2017-09-14 14:15:13.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d14815742174c99410b1e0f6d4f9fc52d805c3cb', 'message': 'Update CoreDNS to 011\n\nUpdate CoreDNS to version 011 which includes a fix [0]\nfor kubernetes srv and update the Corefile appropriately [1].\n\n[0] https://github.com/coredns/coredns/pull/823\n[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12\nCloses-Bug: #1717238\n\n(Cherry-picked from 68d7b87a0bd506ed1ed9b1e24a9eda3ec568b0ef)\nChange-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129\n'}]",0,504062,d14815742174c99410b1e0f6d4f9fc52d805c3cb,9,3,2,20498,,,0,"Update CoreDNS to 011

Update CoreDNS to version 011 which includes a fix [0]
for kubernetes srv and update the Corefile appropriately [1].

[0] https://github.com/coredns/coredns/pull/823
[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12
Closes-Bug: #1717238

(Cherry-picked from 68d7b87a0bd506ed1ed9b1e24a9eda3ec568b0ef)
Change-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129
",git fetch https://review.opendev.org/openstack/magnum refs/changes/62/504062/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'],1,251c77518220761122dc91f617809ef981415ebb,bug/1717238, kubernetes ${DNS_CLUSTER_DOMAIN} ${PORTAL_NETWORK_CIDR} image: coredns/coredns:011, kubernetes ${DNS_CLUSTER_DOMAIN} { cidrs ${PORTAL_NETWORK_CIDR} } image: coredns/coredns:007,2,4
openstack%2Fmagnum~stable%2Focata~Ibeaa01578874335ddb70ac178ff708c6b953f129,openstack/magnum,stable/ocata,Ibeaa01578874335ddb70ac178ff708c6b953f129,Update CoreDNS to 011,MERGED,2017-09-14 14:15:21.000000000,2017-09-15 06:42:30.000000000,2017-09-15 06:42:30.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}]","[{'number': 1, 'created': '2017-09-14 14:15:21.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a6d9f8950cfd91e5856a047061ac8057b7e257f3', 'message': 'Update CoreDNS to 011\n\nUpdate CoreDNS to version 011 which includes a fix [0]\nfor kubernetes srv and update the Corefile appropriately [1].\n\n[0] https://github.com/coredns/coredns/pull/823\n[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12\nCloses-Bug: #1717238\n\n(Cherry-picked from 68d7b87a0bd506ed1ed9b1e24a9eda3ec568b0ef)\nChange-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129\n'}]",0,504063,a6d9f8950cfd91e5856a047061ac8057b7e257f3,7,3,1,20498,,,0,"Update CoreDNS to 011

Update CoreDNS to version 011 which includes a fix [0]
for kubernetes srv and update the Corefile appropriately [1].

[0] https://github.com/coredns/coredns/pull/823
[1] https://github.com/coredns/deployment/blob/master/kubernetes/coredns.yaml.sed#L12
Closes-Bug: #1717238

(Cherry-picked from 68d7b87a0bd506ed1ed9b1e24a9eda3ec568b0ef)
Change-Id: Ibeaa01578874335ddb70ac178ff708c6b953f129
",git fetch https://review.opendev.org/openstack/magnum refs/changes/63/504063/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'],1,a6d9f8950cfd91e5856a047061ac8057b7e257f3,bug/1717238, kubernetes ${DNS_CLUSTER_DOMAIN} ${PORTAL_NETWORK_CIDR} image: coredns/coredns:011, kubernetes ${DNS_CLUSTER_DOMAIN} { cidrs ${PORTAL_NETWORK_CIDR} } image: coredns/coredns:007,2,4
openstack%2Fnova~master~I8900ace4436c4837beb8b4eb1e1d05905efc6dce,openstack/nova,master,I8900ace4436c4837beb8b4eb1e1d05905efc6dce,Add recreate test for evacuate claim failure,MERGED,2017-09-01 02:49:26.000000000,2017-09-15 06:41:00.000000000,2017-09-12 21:03:35.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 23310}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-01 02:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cdec0d2c449b5fe0b48ede6001c7ad0959f6c94', 'message': ""Add recreate test for evacuate claim failure\n\nThis adds a functional recreate test for when the MoveClaim\nfails on the destination node and the allocation on the\ndestination node is not cleaned up. This is because the\nMoveClaim fails in it's constructor so it never exits the\nClaim context manager to call the drop_move_claim which\nwould remove the destination node allocation.\n\nEventually we'll have to manually remove the destination\nnode allocation in the ComputeManager.rebuild_instance method.\n\nChange-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce\nRelated-Bug: #1713786\n""}, {'number': 2, 'created': '2017-09-01 03:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5ee41a43b4c6fec931b39c8e8382dcd5b965ed2', 'message': ""Add recreate test for evacuate claim failure\n\nThis adds a functional recreate test for when the MoveClaim\nfails on the destination node and the allocation on the\ndestination node is not cleaned up. This is because the\nMoveClaim fails in it's constructor so it never exits the\nClaim context manager to call the drop_move_claim which\nwould remove the destination node allocation.\n\nEventually we'll have to manually remove the destination\nnode allocation in the ComputeManager.rebuild_instance method.\n\nChange-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce\nRelated-Bug: #1713786\n""}, {'number': 3, 'created': '2017-09-01 14:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22f49705ab48c4d54b693b05ff6869c19b0d3ceb', 'message': ""Add recreate test for evacuate claim failure\n\nThis adds a functional recreate test for when the MoveClaim\nfails on the destination node and the allocation on the\ndestination node is not cleaned up. This is because the\nMoveClaim fails in it's constructor so it never exits the\nClaim context manager to call the drop_move_claim which\nwould remove the destination node allocation.\n\nEventually we'll have to manually remove the destination\nnode allocation in the ComputeManager.rebuild_instance method.\n\nChange-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce\nRelated-Bug: #1713786\n""}, {'number': 4, 'created': '2017-09-01 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0639f56e2ee0afe52ab0c28ec12bafb397ded819', 'message': ""Add recreate test for evacuate claim failure\n\nThis adds a functional recreate test for when the MoveClaim\nfails on the destination node and the allocation on the\ndestination node is not cleaned up. This is because the\nMoveClaim fails in it's constructor so it never exits the\nClaim context manager to call the drop_move_claim which\nwould remove the destination node allocation.\n\nEventually we'll have to manually remove the destination\nnode allocation in the ComputeManager.rebuild_instance method.\n\nChange-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce\nRelated-Bug: #1713786\n""}, {'number': 5, 'created': '2017-09-06 19:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25e048c0bf4ab35b3a9538f9d275bdf1c6dbea4f', 'message': ""Add recreate test for evacuate claim failure\n\nThis adds a functional recreate test for when the MoveClaim\nfails on the destination node and the allocation on the\ndestination node is not cleaned up. This is because the\nMoveClaim fails in it's constructor so it never exits the\nClaim context manager to call the drop_move_claim which\nwould remove the destination node allocation.\n\nEventually we'll have to manually remove the destination\nnode allocation in the ComputeManager.rebuild_instance method.\n\nChange-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce\nRelated-Bug: #1713786\n""}, {'number': 7, 'created': '2017-09-07 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28e3aa4ca4617216bc948f45b28053f920b9c70f', 'message': ""Add recreate test for evacuate claim failure\n\nThis adds a functional recreate test for when the MoveClaim\nfails on the destination node and the allocation on the\ndestination node is not cleaned up. This is because the\nMoveClaim fails in it's constructor so it never exits the\nClaim context manager to call the drop_move_claim which\nwould remove the destination node allocation.\n\nEventually we'll have to manually remove the destination\nnode allocation in the ComputeManager.rebuild_instance method.\n\nChange-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce\nRelated-Bug: #1713786\n""}, {'number': 8, 'created': '2017-09-12 15:17:51.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ed80ddcdd3f9e40f0ada581ac7bd524ec48135b', 'message': ""Add recreate test for evacuate claim failure\n\nThis adds a functional recreate test for when the MoveClaim\nfails on the destination node and the allocation on the\ndestination node is not cleaned up. This is because the\nMoveClaim fails in it's constructor so it never exits the\nClaim context manager to call the drop_move_claim which\nwould remove the destination node allocation.\n\nEventually we'll have to manually remove the destination\nnode allocation in the ComputeManager.rebuild_instance method.\n\nChange-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce\nRelated-Bug: #1713786\n""}]",8,499874,6ed80ddcdd3f9e40f0ada581ac7bd524ec48135b,60,12,7,6873,,,0,"Add recreate test for evacuate claim failure

This adds a functional recreate test for when the MoveClaim
fails on the destination node and the allocation on the
destination node is not cleaned up. This is because the
MoveClaim fails in it's constructor so it never exits the
Claim context manager to call the drop_move_claim which
would remove the destination node allocation.

Eventually we'll have to manually remove the destination
node allocation in the ComputeManager.rebuild_instance method.

Change-Id: I8900ace4436c4837beb8b4eb1e1d05905efc6dce
Related-Bug: #1713786
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/499874/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,9cdec0d2c449b5fe0b48ede6001c7ad0959f6c94,bug/1713786," def test_evacuate_claim_on_dest_fails(self): """"""Tests that the allocations on the destination node are cleaned up when the rebuild move claim fails due to insufficient resources. """""" source_hostname = self.compute1.host dest_hostname = self.compute2.host dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) # NOTE(mriedem): This isn't great, and I'd like to fake out the driver # to make the claim fail, by doing something like returning a too high # memory_mb overhead, but the limits dict passed to the claim is empty # so the claim test is considering it as unlimited and never actually # performs a claim test. Configuring the scheduler to use the RamFilter # to get the memory_mb limit at least seems like it should work but # it doesn't appear to for some reason... with mock.patch( 'nova.compute.claims.MoveClaim', side_effect=exception.ComputeResourcesUnavailable( reason='test_evacuate_claim_on_dest_fails')): # evacuate the server self.api.post_server_action(server['id'], {'evacuate': {}}) # the migration will fail on the dest node and the instance will # go into error state server = self._wait_for_state_change(self.api, server, 'ERROR') # The allocation should still exist on the source node since it's # still down, and the allocation on the destination node should be # cleaned up. source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) # FIXME(mriedem): This is bug 1713786 where the claim fails and the # dest node allocation isn't cleaned up. Uncomment when fixed. # self.assertFlavorMatchesAllocation( # {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # FIXME(mriedem): Uncomment when bug 1713786 is fixed. # self.assertEqual(1, len(allocations)) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # start up the source compute self.compute1.start() self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) # The source compute shouldn't have cleaned up the allocation for # itself since the instance didn't move. source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # FIXME(mriedem): Uncomment when bug 1713786 is fixed. # self.assertEqual(1, len(allocations)) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) ",,79,0
openstack%2Fmagnum~master~Ic88b8fa8682d9baec64351d4f8745932a106e6a5,openstack/magnum,master,Ic88b8fa8682d9baec64351d4f8745932a106e6a5,Updated from global requirements,MERGED,2017-09-11 21:20:40.000000000,2017-09-15 06:36:03.000000000,2017-09-15 06:36:03.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}]","[{'number': 1, 'created': '2017-09-11 21:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/27dd3f27801141a5efe4e791afae788228d363c8', 'message': 'Updated from global requirements\n\nChange-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5\n'}, {'number': 2, 'created': '2017-09-11 21:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0c0ec9847ba182ff5667dcf788c63879a53d60be', 'message': 'Updated from global requirements\n\nChange-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5\n'}, {'number': 3, 'created': '2017-09-12 21:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/84b77fe739490d67552c75adb07ad5c6bcdcd99c', 'message': 'Updated from global requirements\n\nChange-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5\n'}, {'number': 4, 'created': '2017-09-13 00:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/10cae520f6e9305087de34a9bc477fc6cced172d', 'message': 'Updated from global requirements\n\nChange-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5\n'}, {'number': 5, 'created': '2017-09-13 12:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ad1b22e3876f0c88a54413b0bbb8226cfa62e269', 'message': 'Updated from global requirements\n\nChange-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5\n'}, {'number': 6, 'created': '2017-09-13 23:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ebfd280424f1cd75be5bdb13ac55034f4d6fbe48', 'message': 'Updated from global requirements\n\nChange-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5\n'}, {'number': 7, 'created': '2017-09-14 00:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2316f1c11739209bae850c0e584d09fa6e9fa7b8', 'message': 'Updated from global requirements\n\nChange-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5\n'}, {'number': 8, 'created': '2017-09-14 00:33:17.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ce0c03908900f7426a40c468ab39ab630829ef8c', 'message': 'Updated from global requirements\n\nChange-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5\n'}]",0,502665,ce0c03908900f7426a40c468ab39ab630829ef8c,19,3,8,11131,,,0,"Updated from global requirements

Change-Id: Ic88b8fa8682d9baec64351d4f8745932a106e6a5
",git fetch https://review.opendev.org/openstack/magnum refs/changes/65/502665/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,27dd3f27801141a5efe4e791afae788228d363c8,openstack/requirements,os-api-ref>=1.4.0 # Apache-2.0 os-testr>=0.8.2 # Apache-2.0,os-api-ref>=1.0.0 # Apache-2.0 os-testr>=0.8.0 # Apache-2.0,13,13
openstack%2Fmagnum~master~I41be5c09890bd2c9a063d4942f03305ff690ec4b,openstack/magnum,master,I41be5c09890bd2c9a063d4942f03305ff690ec4b,k8s: Fix node-exporter manifest,MERGED,2017-09-13 08:56:36.000000000,2017-09-15 06:35:57.000000000,2017-09-15 06:35:57.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}]","[{'number': 1, 'created': '2017-09-13 08:56:36.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-node-exporter.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/fe6286e76fcba5dfdab8ee9fba7c1f19778cf905', 'message': 'k8s: Fix node-exporter manifest\n\nWhen writing the node-exporter manifest, make sure that\nthe directory exists.\n\nChange-Id: I41be5c09890bd2c9a063d4942f03305ff690ec4b\nCloses-Bug: #1716697\n'}]",0,503565,fe6286e76fcba5dfdab8ee9fba7c1f19778cf905,12,3,1,20498,,,0,"k8s: Fix node-exporter manifest

When writing the node-exporter manifest, make sure that
the directory exists.

Change-Id: I41be5c09890bd2c9a063d4942f03305ff690ec4b
Closes-Bug: #1716697
",git fetch https://review.opendev.org/openstack/magnum refs/changes/65/503565/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-node-exporter.sh'],1,fe6286e76fcba5dfdab8ee9fba7c1f19778cf905,bug/1716697,"node_exporter_file=/etc/kubernetes/manifests/node-exporter.yaml [ -f ${node_exporter_file} ] || { echo ""Writing File: $node_exporter_file"" mkdir -p $(dirname ${node_exporter_file}) cat << EOF > ${node_exporter_file}}",cat > /etc/kubernetes/manifests/node-exporter.yaml << EOF,6,1
openstack%2Ftempest~master~Ia361d808ba7da46023e30a2427ef54e49d522792,openstack/tempest,master,Ia361d808ba7da46023e30a2427ef54e49d522792,Fix bad grammar,ABANDONED,2017-09-15 06:33:57.000000000,2017-09-15 06:34:32.000000000,,[],"[{'number': 1, 'created': '2017-09-15 06:33:57.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/47428a442255f6b1e16eed3332725808cb3be053', 'message': 'Fix bad grammar\n\nFix bad grammar about ""import as.""\n\nChange-Id: Ia361d808ba7da46023e30a2427ef54e49d522792\n'}]",0,504340,47428a442255f6b1e16eed3332725808cb3be053,2,0,1,26889,,,0,"Fix bad grammar

Fix bad grammar about ""import as.""

Change-Id: Ia361d808ba7da46023e30a2427ef54e49d522792
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/504340/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,47428a442255f6b1e16eed3332725808cb3be053,bug/fix-grammar, from urllib.error import HTTPError from urllib2 import HTTPError, from urllib.error import HTTPError from urllib2 import HTTPError ,2,2
openstack%2Fmagnum~stable%2Fpike~I41be5c09890bd2c9a063d4942f03305ff690ec4b,openstack/magnum,stable/pike,I41be5c09890bd2c9a063d4942f03305ff690ec4b,k8s: Fix node-exporter manifest,MERGED,2017-09-13 08:57:16.000000000,2017-09-15 06:33:31.000000000,2017-09-15 06:33:31.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}]","[{'number': 1, 'created': '2017-09-13 08:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ecc2f20aa9e0dfa611514cf22239fa61cc55798e', 'message': 'k8s: Fix node-exporter manifest\n\nWhen writing the node-exporter manifest, make sure that\nthe directory exists.\n\nChange-Id: I41be5c09890bd2c9a063d4942f03305ff690ec4b\nCloses-Bug: #1716697\n'}, {'number': 2, 'created': '2017-09-13 08:57:59.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-node-exporter.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/feffcb2b4804cd83525b49c7000f45189a9b27a9', 'message': 'k8s: Fix node-exporter manifest\n\nWhen writing the node-exporter manifest, make sure that\nthe directory exists.\n\n(Cherry-picked from fe6286e76fcba5dfdab8ee9fba7c1f19778cf905)\nChange-Id: I41be5c09890bd2c9a063d4942f03305ff690ec4b\nCloses-Bug: #1716697\n'}]",0,503566,feffcb2b4804cd83525b49c7000f45189a9b27a9,8,3,2,20498,,,0,"k8s: Fix node-exporter manifest

When writing the node-exporter manifest, make sure that
the directory exists.

(Cherry-picked from fe6286e76fcba5dfdab8ee9fba7c1f19778cf905)
Change-Id: I41be5c09890bd2c9a063d4942f03305ff690ec4b
Closes-Bug: #1716697
",git fetch https://review.opendev.org/openstack/magnum refs/changes/66/503566/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-node-exporter.sh'],1,ecc2f20aa9e0dfa611514cf22239fa61cc55798e,bug/1716697,"node_exporter_file=/etc/kubernetes/manifests/node-exporter.yaml [ -f ${node_exporter_file} ] || { echo ""Writing File: $node_exporter_file"" mkdir -p $(dirname ${node_exporter_file}) cat << EOF > ${node_exporter_file}}",cat > /etc/kubernetes/manifests/node-exporter.yaml << EOF,6,1
openstack%2Fzun~master~If7757af56acd9267071b18bd4fc2354a66df508a,openstack/zun,master,If7757af56acd9267071b18bd4fc2354a66df508a,Update the sample local.conf in quickstart,MERGED,2017-09-05 22:57:43.000000000,2017-09-15 06:33:11.000000000,2017-09-15 06:33:11.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 16277}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-09-05 22:57:43.000000000', 'files': ['doc/source/contributor/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/1e154c8434a24dac64f24a9e9669b16d4e55eaf9', 'message': 'Update the sample local.conf in quickstart\n\nNeed to enable devstack-plugin-container in the setup of the\nsecond node as well.\n\nChange-Id: If7757af56acd9267071b18bd4fc2354a66df508a\n'}]",0,501026,1e154c8434a24dac64f24a9e9669b16d4e55eaf9,8,4,1,11536,,,0,"Update the sample local.conf in quickstart

Need to enable devstack-plugin-container in the setup of the
second node as well.

Change-Id: If7757af56acd9267071b18bd4fc2354a66df508a
",git fetch https://review.opendev.org/openstack/zun refs/changes/26/501026/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/quickstart.rst'],1,1e154c8434a24dac64f24a9e9669b16d4e55eaf9,, enable_plugin devstack-plugin-container https://git.openstack.org/openstack/devstack-plugin-container,,1,0
openstack%2Fpuppet-tripleo~master~I4024177fdf97bef929d6a699662acbf56abdb0af,openstack/puppet-tripleo,master,I4024177fdf97bef929d6a699662acbf56abdb0af,added release note for new haproxy_socket_access,MERGED,2017-09-13 10:21:31.000000000,2017-09-15 06:14:39.000000000,2017-09-14 23:20:11.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}]","[{'number': 1, 'created': '2017-09-13 10:21:31.000000000', 'files': ['releasenotes/notes/haproxy_socket_access-ba72ad281ca64287.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9939df4c177040e67433ca19f55dca18067d9923', 'message': 'added release note for new haproxy_socket_access\n\nChange-Id: I4024177fdf97bef929d6a699662acbf56abdb0af\n'}]",0,503589,9939df4c177040e67433ca19f55dca18067d9923,8,3,1,26828,,,0,"added release note for new haproxy_socket_access

Change-Id: I4024177fdf97bef929d6a699662acbf56abdb0af
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/503589/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/haproxy_socket_access-ba72ad281ca64287.yaml'],1,9939df4c177040e67433ca19f55dca18067d9923,,"--- features: - | Provides a way to set HAProxy socket access level. This will allow people to manage HAProxy directly through command-line, for example in order to temporarly disable backends. ",,7,0
openstack%2Fnova~master~Ib58c487e97a041b8498746e8a276efffee239c56,openstack/nova,master,Ib58c487e97a041b8498746e8a276efffee239c56,Add a test to make sure failed evacuate cleans up dest allocation,MERGED,2017-09-01 03:02:07.000000000,2017-09-15 05:57:12.000000000,2017-09-12 21:05:04.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-01 03:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a72f0d982dae776ca5778571669ab162531f1e6', 'message': 'Add a test to make sure failed evacuate cleans up dest allocation\n\nIf we actually make the MoveClaim but the evacuation fails\nin the virt driver, the drop_move_claim via the MoveClaim.abort\nwill remove the destination node allocation. This adds a functional\ntest to show that works.\n\nChange-Id: Ib58c487e97a041b8498746e8a276efffee239c56\nRelated-Bug: #1713786\n'}, {'number': 2, 'created': '2017-09-01 14:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/476f28bcbc68aec55c5917dc6c2fcc15b201b1a1', 'message': 'Add a test to make sure failed evacuate cleans up dest allocation\n\nIf we actually make the MoveClaim but the evacuation fails\nin the virt driver, the drop_move_claim via the MoveClaim.abort\nwill remove the destination node allocation. This adds a functional\ntest to show that works.\n\nChange-Id: Ib58c487e97a041b8498746e8a276efffee239c56\nRelated-Bug: #1713786\n'}, {'number': 3, 'created': '2017-09-01 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7c54c1c4d05ae5016bf2916cd20a46190c44b33', 'message': 'Add a test to make sure failed evacuate cleans up dest allocation\n\nIf we actually make the MoveClaim but the evacuation fails\nin the virt driver, the drop_move_claim via the MoveClaim.abort\nwill remove the destination node allocation. This adds a functional\ntest to show that works.\n\nChange-Id: Ib58c487e97a041b8498746e8a276efffee239c56\nRelated-Bug: #1713786\n'}, {'number': 4, 'created': '2017-09-06 19:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/593cc04e015090c35e0ddeb2f50ecac28f3a1af0', 'message': 'Add a test to make sure failed evacuate cleans up dest allocation\n\nIf we actually make the MoveClaim but the evacuation fails\nin the virt driver, the drop_move_claim via the MoveClaim.abort\nwill remove the destination node allocation. This adds a functional\ntest to show that works.\n\nChange-Id: Ib58c487e97a041b8498746e8a276efffee239c56\nRelated-Bug: #1713786\n'}, {'number': 6, 'created': '2017-09-07 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c092f51acc5ed447bc4555d3f9ea52c8ab02ad89', 'message': 'Add a test to make sure failed evacuate cleans up dest allocation\n\nIf we actually make the MoveClaim but the evacuation fails\nin the virt driver, the drop_move_claim via the MoveClaim.abort\nwill remove the destination node allocation. This adds a functional\ntest to show that works.\n\nChange-Id: Ib58c487e97a041b8498746e8a276efffee239c56\nRelated-Bug: #1713786\n'}, {'number': 7, 'created': '2017-09-12 15:17:51.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30946f9a5eeea839631cdb1dba9c26d45f7a8d00', 'message': 'Add a test to make sure failed evacuate cleans up dest allocation\n\nIf we actually make the MoveClaim but the evacuation fails\nin the virt driver, the drop_move_claim via the MoveClaim.abort\nwill remove the destination node allocation. This adds a functional\ntest to show that works.\n\nChange-Id: Ib58c487e97a041b8498746e8a276efffee239c56\nRelated-Bug: #1713786\n'}]",5,499877,30946f9a5eeea839631cdb1dba9c26d45f7a8d00,53,12,6,6873,,,0,"Add a test to make sure failed evacuate cleans up dest allocation

If we actually make the MoveClaim but the evacuation fails
in the virt driver, the drop_move_claim via the MoveClaim.abort
will remove the destination node allocation. This adds a functional
test to show that works.

Change-Id: Ib58c487e97a041b8498746e8a276efffee239c56
Related-Bug: #1713786
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/499877/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,0a72f0d982dae776ca5778571669ab162531f1e6,bug/1713786," def test_evacuate_rebuild_on_dest_fails(self): """"""Tests that the allocations on the destination node are cleaned up by the drop_move_claim in the ResourceTracker automatically when the claim is made but the actual rebuild via the driver fails. """""" source_hostname = self.compute1.host dest_hostname = self.compute2.host dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) def fake_rebuild(*args, **kwargs): # Assert the destination node allocation exists. dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) raise test.TestingException('test_evacuate_rebuild_on_dest_fails') with mock.patch.object( self.compute2.driver, 'rebuild', fake_rebuild): # evacuate the server self.api.post_server_action(server['id'], {'evacuate': {}}) # the migration will fail on the dest node and the instance will # go into error state server = self._wait_for_state_change(self.api, server, 'ERROR') # The allocation should still exist on the source node since it's # still down, and the allocation on the destination node should be # cleaned up. source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) # start up the source compute self.compute1.start() self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) # The source compute shouldn't have cleaned up the allocation for # itself since the instance didn't move. source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) ",,66,0
openstack%2Fnova~master~I59ff47bf773c9831d0f44e1caf7877fe08c911c3,openstack/nova,master,I59ff47bf773c9831d0f44e1caf7877fe08c911c3,Remove dest node allocation if evacuate MoveClaim fails,MERGED,2017-09-01 03:21:21.000000000,2017-09-15 05:44:28.000000000,2017-09-12 21:05:36.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 23310}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-01 03:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f4abb9ceea071beaf489876641ab69ed002fd31', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n""}, {'number': 2, 'created': '2017-09-01 14:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88b92fae848b8fb07838d9bb2530ac58eb11a90b', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n""}, {'number': 3, 'created': '2017-09-01 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ee36f5d3eb6299a8723b07ae30bae8add9c10e7', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n""}, {'number': 4, 'created': '2017-09-01 18:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/896f8de848eed6b6af9faa56998667502c89d7f7', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nThis also fixes test_rebuild_server_exc which was faking\na rebuild failure by raising an error that would not\nactually happen during a rebuild. ComputeResourcesUnavailable\nonly happens if a claim fails, and for a rebuild, which\nis on the same host that the instance is already on, doesn't\ninvolve a claim attempt.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n""}, {'number': 5, 'created': '2017-09-06 19:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9611eb17f76cd1fd6f15b59589339eb59d71029', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nThis also fixes test_rebuild_server_exc which was faking\na rebuild failure by raising an error that would not\nactually happen during a rebuild. ComputeResourcesUnavailable\nonly happens if a claim fails, and for a rebuild, which\nis on the same host that the instance is already on, doesn't\ninvolve a claim attempt.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n""}, {'number': 6, 'created': '2017-09-07 15:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dfcb180bf04aae9dc6c1442b086c448da8b9a9a', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nThis also fixes test_rebuild_server_exc which was faking\na rebuild failure by raising an error that would not\nactually happen during a rebuild. ComputeResourcesUnavailable\nonly happens if a claim fails, and for a rebuild, which\nis on the same host that the instance is already on, doesn't\ninvolve a claim attempt.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n""}, {'number': 7, 'created': '2017-09-07 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c2cd1d5d8b39c3f86286f4c3cf3cb8d178b64b7', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nThis also fixes test_rebuild_server_exc which was faking\na rebuild failure by raising an error that would not\nactually happen during a rebuild. ComputeResourcesUnavailable\nonly happens if a claim fails, and for a rebuild, which\nis on the same host that the instance is already on, doesn't\ninvolve a claim attempt.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n""}, {'number': 8, 'created': '2017-09-12 15:17:51.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/instance-rebuild-error.json', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5bc137f7ebc266f8a73d6febc7c10d8d648924e0', 'message': ""Remove dest node allocation if evacuate MoveClaim fails\n\nIf the MoveClaim during an evacuate fails we need to\nremove the destination node allocation since the\nResourceTracker isn't going to do it.\n\nThis also fixes test_rebuild_server_exc which was faking\na rebuild failure by raising an error that would not\nactually happen during a rebuild. ComputeResourcesUnavailable\nonly happens if a claim fails, and for a rebuild, which\nis on the same host that the instance is already on, doesn't\ninvolve a claim attempt.\n\nChange-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3\nCloses-Bug: #1713786\n""}]",7,499878,5bc137f7ebc266f8a73d6febc7c10d8d648924e0,87,17,8,6873,,,0,"Remove dest node allocation if evacuate MoveClaim fails

If the MoveClaim during an evacuate fails we need to
remove the destination node allocation since the
ResourceTracker isn't going to do it.

This also fixes test_rebuild_server_exc which was faking
a rebuild failure by raising an error that would not
actually happen during a rebuild. ComputeResourcesUnavailable
only happens if a claim fails, and for a rebuild, which
is on the same host that the instance is already on, doesn't
involve a claim attempt.

Change-Id: I59ff47bf773c9831d0f44e1caf7877fe08c911c3
Closes-Bug: #1713786
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/499878/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py']",3,8f4abb9ceea071beaf489876641ab69ed002fd31,bug/1713786," def delete_allocation_for_evacuated_instance(self, instance, node, node_type='source'): ""instance on the %s node %s"", node_type, cn_uuid, instance=instance)"," def delete_allocation_for_evacuated_instance(self, instance, node): ""instance on the source node %s"", cn_uuid, instance=instance)",12,18
openstack%2Ftempest~master~Icc57e1f2f99895d4aa9a1f1640bcdd17ec609408,openstack/tempest,master,Icc57e1f2f99895d4aa9a1f1640bcdd17ec609408,Fix a typo of a missing letter,ABANDONED,2017-09-15 04:55:40.000000000,2017-09-15 05:14:05.000000000,,[],"[{'number': 1, 'created': '2017-09-15 04:55:40.000000000', 'files': ['tools/tempest-plugin-sanity.sh'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7189712e08a8aee83a6fa9347c33cfd1ccf8ec6b', 'message': 'Fix a typo of a missing letter\n\nFix typo of a missing letter of comment out.\n\nChange-Id: Icc57e1f2f99895d4aa9a1f1640bcdd17ec609408\n'}]",0,504330,7189712e08a8aee83a6fa9347c33cfd1ccf8ec6b,2,0,1,26889,,,0,"Fix a typo of a missing letter

Fix typo of a missing letter of comment out.

Change-Id: Icc57e1f2f99895d4aa9a1f1640bcdd17ec609408
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/504330/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tempest-plugin-sanity.sh'],1,7189712e08a8aee83a6fa9347c33cfd1ccf8ec6b,,# * Retrieve the project lists having tempest plugin if project name is,# * Retrive the project lists having tempest plugin if project name is,1,1
openstack%2Fbifrost~master~Ia5139c6f1536995d1d15ba711ea8ae4e428cb5b0,openstack/bifrost,master,Ia5139c6f1536995d1d15ba711ea8ae4e428cb5b0,Correct inspector ironic.conf params for authentication,MERGED,2017-08-29 18:45:43.000000000,2017-09-15 04:28:53.000000000,2017-09-15 04:28:53.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 22474}]","[{'number': 1, 'created': '2017-08-29 18:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/89f31b27d13416353fe7349bfce332dd7a224cca', 'message': 'Correct inspector ironic.conf params for authentication\n\nWe apparently never really tried inspection, that or\nit was tested and worked with prior keystoneauth.\n\nAnyway, we need the parameters to have ironic call\ninspector when authentication is enabled, otherwise\ninspection fails.\n\nChange-Id: Ia5139c6f1536995d1d15ba711ea8ae4e428cb5b0\n'}, {'number': 2, 'created': '2017-08-29 19:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/abc53bf97f0f16a6d587fa54e6ae11a0cc9a86aa', 'message': 'Correct inspector ironic.conf params for authentication\n\nWe apparently never really tried inspection, that or\nit was tested and worked with prior keystoneauth.\n\nAnyway, we need the parameters to have ironic call\ninspector when authentication is enabled, otherwise\ninspection fails.\n\nChange-Id: Ia5139c6f1536995d1d15ba711ea8ae4e428cb5b0\n'}, {'number': 3, 'created': '2017-08-30 16:21:02.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6dd734a330b568a791c02cddff994c794804d696', 'message': 'Correct inspector ironic.conf params for authentication\n\nWe apparently never really tried inspection, that or\nit was tested and worked with prior keystoneauth.\n\nAnyway, we need the parameters to have ironic call\ninspector when authentication is enabled, otherwise\ninspection fails.\n\nChange-Id: Ia5139c6f1536995d1d15ba711ea8ae4e428cb5b0\n'}]",0,498911,6dd734a330b568a791c02cddff994c794804d696,13,4,3,11655,,,0,"Correct inspector ironic.conf params for authentication

We apparently never really tried inspection, that or
it was tested and worked with prior keystoneauth.

Anyway, we need the parameters to have ironic call
inspector when authentication is enabled, otherwise
inspection fails.

Change-Id: Ia5139c6f1536995d1d15ba711ea8ae4e428cb5b0
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/11/498911/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'],1,89f31b27d13416353fe7349bfce332dd7a224cca,452509,{% if enable_keystone is defined and enable_keystone | bool == true %} auth_plugin = password auth_url = {{ ironic.service_catalog.auth_url }} username = {{ ironic.service_catalog.username }} password = {{ ironic.service_catalog.password }} user_domain_id = default project_name = {{ ironic.service_catalog.project_name }} project_domain_id = default {% endif %},,9,0
openstack%2Fdiskimage-builder~master~Icbbbabb4114d4d95909648d8e39a6bae6d2a7b7b,openstack/diskimage-builder,master,Icbbbabb4114d4d95909648d8e39a6bae6d2a7b7b,Create /etc/machine-id for fedora,MERGED,2017-09-15 01:57:12.000000000,2017-09-15 04:27:23.000000000,2017-09-15 04:05:51.000000000,"[{'_account_id': 3}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-09-15 01:57:12.000000000', 'files': ['diskimage_builder/elements/fedora/pre-install.d/02-set-machine-id'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/768c5e188c1b4bff01da14a49b96b51301db4c03', 'message': ""Create /etc/machine-id for fedora\n\nAs described in the comment, we need to create the /etc/machine-id for\nthe image-based build when systemd isn't updated (as is usually the\ncase for a new distro)\n\nWork on clearing this out continues, but this brings it to parity with\nfedora-minimal.\n\nChange-Id: Icbbbabb4114d4d95909648d8e39a6bae6d2a7b7b\nDepends-On: I761e425f8a658669d9b8a70ce4260cec263ea51a\n""}]",0,504300,768c5e188c1b4bff01da14a49b96b51301db4c03,8,2,1,7118,,,0,"Create /etc/machine-id for fedora

As described in the comment, we need to create the /etc/machine-id for
the image-based build when systemd isn't updated (as is usually the
case for a new distro)

Work on clearing this out continues, but this brings it to parity with
fedora-minimal.

Change-Id: Icbbbabb4114d4d95909648d8e39a6bae6d2a7b7b
Depends-On: I761e425f8a658669d9b8a70ce4260cec263ea51a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/00/504300/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/fedora/pre-install.d/02-set-machine-id'],1,768c5e188c1b4bff01da14a49b96b51301db4c03,f26-machine-id,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail # The systemd .spec file does this in %post [1] and it turns out that # (in what is possibly a bug [2]) that kernel install requires # /etc/machine-id. This affects ""fedora"" (the image-based build) if # there is no systemd update to install ... with ""fedora-minimal"" we # are always installing into the chroot so, so %post always runs and # this is always run # # [1] https://src.fedoraproject.org/rpms/systemd/blob/master/f/systemd.spec # [2] https://bugzilla.redhat.com/show_bug.cgi?id=1486124 systemd-machine-id-setup ",,19,0
openstack%2Fbifrost~master~I2af8fda9ebcdfb493cf0e697b2aaf5b086bce97b,openstack/bifrost,master,I2af8fda9ebcdfb493cf0e697b2aaf5b086bce97b,Correct keystone database location,MERGED,2017-08-29 19:52:19.000000000,2017-09-15 04:26:29.000000000,2017-09-15 04:26:29.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 22474}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-08-29 19:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8722358fff0edb589794534439bb085d3c0238d1', 'message': 'Correct keystone database location\n\nThe defaults were accidently entered with IP addresses\ninstead of the string ``localhost``. Changed to the string\nas it is what is utilized for conditionals wrapping database\nchanges.\n\nChange-Id: I2af8fda9ebcdfb493cf0e697b2aaf5b086bce97b\n'}, {'number': 2, 'created': '2017-08-29 19:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b78c93e86516ef7e4f6c3561bd0825f5d875a1f1', 'message': 'Correct keystone database location\n\nThe defaults were accidently entered with IP addresses\ninstead of the string ``localhost``. Changed to the string\nas it is what is utilized for conditionals wrapping database\nchanges.\n\nChange-Id: I2af8fda9ebcdfb493cf0e697b2aaf5b086bce97b\n'}, {'number': 3, 'created': '2017-08-30 16:21:02.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e846a5d639a0bcb2a463b3f8879a6b612809e9a2', 'message': 'Correct keystone database location\n\nThe defaults were accidently entered with IP addresses\ninstead of the string ``localhost``. Changed to the string\nas it is what is utilized for conditionals wrapping database\nchanges.\n\nChange-Id: I2af8fda9ebcdfb493cf0e697b2aaf5b086bce97b\n'}]",0,498920,e846a5d639a0bcb2a463b3f8879a6b612809e9a2,13,5,3,11655,,,0,"Correct keystone database location

The defaults were accidently entered with IP addresses
instead of the string ``localhost``. Changed to the string
as it is what is utilized for conditionals wrapping database
changes.

Change-Id: I2af8fda9ebcdfb493cf0e697b2aaf5b086bce97b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/20/498920/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/defaults/main.yml'],1,8722358fff0edb589794534439bb085d3c0238d1,452509, host: localhost host: localhost, host: 127.0.0.1 host: 127.0.0.1,2,2
openstack%2Fbifrost~master~I70fc4b54c6cd815bdb755819ad28215714c71260,openstack/bifrost,master,I70fc4b54c6cd815bdb755819ad28215714c71260,Split inspection conditionals depending on auth mode,MERGED,2017-08-29 19:52:19.000000000,2017-09-15 04:22:51.000000000,2017-09-15 04:22:51.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 22474}]","[{'number': 1, 'created': '2017-08-29 19:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/088a16456eead3b0330b6bc7c5a6e50bf0c8ff7d', 'message': ""Split inspection conditionals depending on auth mode\n\nThere is a bug in the inspection module, which needs\nto be corrected, although that is going to take potentially\na substantial amount of time given ansible's release cycle.\n\nIn the mean time, we're just going to have to work around it\nuntil we're able to get the fix landed in ansible.\n\nChange-Id: I70fc4b54c6cd815bdb755819ad28215714c71260\n""}, {'number': 2, 'created': '2017-08-29 19:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2af771b5d625a58b55889d66340f1ad5ce42b3df', 'message': ""Split inspection conditionals depending on auth mode\n\nThere is a bug in the inspection module, which needs\nto be corrected, although that is going to take potentially\na substantial amount of time given ansible's release cycle.\n\nIn the mean time, we're just going to have to work around it\nuntil we're able to get the fix landed in ansible.\n\nChange-Id: I70fc4b54c6cd815bdb755819ad28215714c71260\n""}, {'number': 3, 'created': '2017-08-30 16:21:02.000000000', 'files': ['playbooks/roles/ironic-inspect-node/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0e05496f6eaaace892ebc2d8ee05ff8cad3c5b87', 'message': ""Split inspection conditionals depending on auth mode\n\nThere is a bug in the inspection module, which needs\nto be corrected, although that is going to take potentially\na substantial amount of time given ansible's release cycle.\n\nIn the mean time, we're just going to have to work around it\nuntil we're able to get the fix landed in ansible.\n\nChange-Id: I70fc4b54c6cd815bdb755819ad28215714c71260\n""}]",2,498921,0e05496f6eaaace892ebc2d8ee05ff8cad3c5b87,13,4,3,11655,,,0,"Split inspection conditionals depending on auth mode

There is a bug in the inspection module, which needs
to be corrected, although that is going to take potentially
a substantial amount of time given ansible's release cycle.

In the mean time, we're just going to have to work around it
until we're able to get the fix landed in ansible.

Change-Id: I70fc4b54c6cd815bdb755819ad28215714c71260
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/21/498921/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/ironic-inspect-node/tasks/main.yml'],1,088a16456eead3b0330b6bc7c5a6e50bf0c8ff7d,452509,"- name: ""Execute node introspection - noauth_mode"" when: noauth_mode is not defined or noauth_mode | bool == True # NOTE(TheJulia): Some behavior appears to have changed in ansible at # some point where arguments are passed that are part of the spec for, # which raises a bug in the inspection module where auth_type must be # defined, as it is otherwise always sent as a null value. - name: ""Execute node introspection"" os_ironic_inspect: cloud: ""{{ cloud_name | default(omit) }}"" auth_type: ""{{ auth_type | default('password') }}"" auth: ""{{ auth | default(omit) }}"" ironic_url: ""{{ ironic_url | default(omit) }}"" uuid: ""{{ uuid | default('') }}"" name: ""{{ name | default('') }}"" timeout: ""{{ inspection_wait_timeout }}"" when: noauth_mode is defined and noauth_mode | bool == False","- name: ""Execute node introspection""",17,1
openstack%2Fnova~master~Iec45e4a48d2c3893a999cb0570feb6874acca3eb,openstack/nova,master,Iec45e4a48d2c3893a999cb0570feb6874acca3eb,Split out the core of the ironic flavor migration,MERGED,2017-09-05 22:56:55.000000000,2017-09-15 04:03:03.000000000,2017-09-15 04:03:03.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10239}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-05 22:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/402daf48c5d29b0bd034f6f2f52a07e4ca877e41', 'message': 'Split out the core of the ironic flavor migration\n\nThis is split out to a staticmethod so we can call it externally\nand push the migration offline.\n\nChange-Id: Iec45e4a48d2c3893a999cb0570feb6874acca3eb\n'}, {'number': 2, 'created': '2017-09-06 16:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62aaacd5cb2bc54bdddf3ff5cc7309e3f50b6799', 'message': 'Split out the core of the ironic flavor migration\n\nThis is split out to a staticmethod so we can call it externally\nand push the migration offline.\n\nChange-Id: Iec45e4a48d2c3893a999cb0570feb6874acca3eb\n'}, {'number': 3, 'created': '2017-09-11 15:53:29.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/10661dc5e2e3f2e2f37b6a86ea22f71b4b833fc9', 'message': 'Split out the core of the ironic flavor migration\n\nThis is split out to a staticmethod so we can call it externally\nand push the migration offline.\n\nChange-Id: Iec45e4a48d2c3893a999cb0570feb6874acca3eb\n'}]",2,501024,10661dc5e2e3f2e2f37b6a86ea22f71b4b833fc9,51,14,3,4393,,,0,"Split out the core of the ironic flavor migration

This is split out to a staticmethod so we can call it externally
and push the migration offline.

Change-Id: Iec45e4a48d2c3893a999cb0570feb6874acca3eb
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/501024/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,402daf48c5d29b0bd034f6f2f52a07e4ca877e41,ironic-offline-migration," @staticmethod def _pike_flavor_migration_for_node(ctx, node_rc, instance_uuid): normalized_rc = obj_fields.ResourceClass.normalize_name(node_rc) instance = objects.Instance.get_by_uuid(ctx, instance_uuid, expected_attrs=[""flavor""]) specs = instance.flavor.extra_specs resource_key = ""resources:%s"" % normalized_rc if resource_key in specs: # The compute must have been restarted, and the instance.flavor # has already been migrated return False specs[resource_key] = ""1"" instance.save() return True self._pike_flavor_migration_for_node(ctx, node_rc, node.instance_uuid) {""inst"": node.instance_uuid, ""rc"": node_rc})"," normalized_rc = obj_fields.ResourceClass.normalize_name(node_rc) instance = objects.Instance.get_by_uuid(ctx, node.instance_uuid, expected_attrs=[""flavor""]) specs = instance.flavor.extra_specs resource_key = ""resources:%s"" % normalized_rc if resource_key in specs: # The compute must have been restarted, and the instance.flavor # has already been migrated continue specs[resource_key] = ""1"" instance.save() {""inst"": instance.uuid, ""rc"": node_rc})",18,12
openstack%2Fheat~master~I3036486835b4605be3e3891fc5be971fcd834199,openstack/heat,master,I3036486835b4605be3e3891fc5be971fcd834199,Add sem-ver flag so pbr generates correct version,MERGED,2017-08-30 08:08:39.000000000,2017-09-15 04:00:31.000000000,2017-09-15 04:00:31.000000000,"[{'_account_id': 3}, {'_account_id': 7385}, {'_account_id': 8833}]","[{'number': 1, 'created': '2017-08-30 08:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d1f0be09fb781d56a3cafc9dcba06fbc88626f5f', 'message': ""Add sem-ver flag so pbr generates correct version\n\ntl;dr : without this Pike and Queens have the same version causing\npackaging issues.\n\nhttps://docs.openstack.org/developer/pbr/#version\n\nBecause projects don't push a tag before milestone 1 (queens-1\nhere), downstream packages are still building packages by using the\nversion from Pike and it causes problems to distros because they\ncan't test the upgrades from Pike to Queens.\n\nBumping the semver will allow us to test packages upgrades.\nNote: When your version is X.Y.Z, api-break will bump X, and feature\nwill bump Y. In this patch, we bump X because this is the way you\nbump tags over releases.\n\nChange-Id: I3036486835b4605be3e3891fc5be971fcd834199\nSem-Ver: api-break\n""}, {'number': 2, 'created': '2017-08-30 08:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6a1c6e6468f92ed84c9b62d9a7aeb95f401befa8', 'message': ""Add sem-ver flag so pbr generates correct version\n\ntl;dr : without this Pike and Queens have the same version causing\npackaging issues.\n\nhttps://docs.openstack.org/developer/pbr/#version\n\nBecause projects don't push a tag before milestone 1 (queens-1\nhere), downstream packages are still building packages by using the\nversion from Pike and it causes problems to distros because they\ncan't test the upgrades from Pike to Queens.\n\nBumping the semver will allow us to test packages upgrades.\nNote: When your version is X.Y.Z, api-break will bump X, and feature\nwill bump Y. In this patch, we bump X because this is the way you\nbump tags over releases.\n\nChange-Id: I3036486835b4605be3e3891fc5be971fcd834199\nSem-Ver: api-break\n""}]",0,499076,6a1c6e6468f92ed84c9b62d9a7aeb95f401befa8,9,3,2,12404,,,0,"Add sem-ver flag so pbr generates correct version

tl;dr : without this Pike and Queens have the same version causing
packaging issues.

https://docs.openstack.org/developer/pbr/#version

Because projects don't push a tag before milestone 1 (queens-1
here), downstream packages are still building packages by using the
version from Pike and it causes problems to distros because they
can't test the upgrades from Pike to Queens.

Bumping the semver will allow us to test packages upgrades.
Note: When your version is X.Y.Z, api-break will bump X, and feature
will bump Y. In this patch, we bump X because this is the way you
bump tags over releases.

Change-Id: I3036486835b4605be3e3891fc5be971fcd834199
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/heat refs/changes/76/499076/2 && git format-patch -1 --stdout FETCH_HEAD,['.placeholder'],1,d1f0be09fb781d56a3cafc9dcba06fbc88626f5f,sem-ver/queens,,,0,0
openstack%2Fnova~master~Ie4676eed0039c927b35af7573f0b57fd762adbaa,openstack/nova,master,Ie4676eed0039c927b35af7573f0b57fd762adbaa,fake_notifier: Refactor wait_for_versioned_notification,MERGED,2017-08-01 15:37:22.000000000,2017-09-15 03:40:53.000000000,2017-09-12 16:11:41.000000000,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-01 15:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/275c33a1664eaae45ac8b69d68086a0b4a404576', 'message': 'fake_notifier: allow waiting on either notification type\n\nChange-Id: Ie4676eed0039c927b35af7573f0b57fd762adbaa\n'}, {'number': 2, 'created': '2017-08-01 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ae30fdd3773de5724d90a431b602b7b9edea45c', 'message': 'fake_notifier: allow waiting on either notification type\n\nChange-Id: Ie4676eed0039c927b35af7573f0b57fd762adbaa\n'}, {'number': 3, 'created': '2017-08-02 12:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd12ad24aba4c6de1f1b8f2ae78564ff899449a8', 'message': 'fake_notifier: Refactor wait_for_versioned_notification\n\nA subsequent change will add wait_for_legacy_notifications(). This\nrefactor achieves 2 things:\n\n* Make it easier to return the notifications we were waiting for,\n  required in both current tests and subsequent legacy tests.\n* Allow code re-use between fake legacy and versioned notifications.\n\nIt incidentally fixes a minor bug in\nNotificationSampleTestBase._wait_for_notifications where we may wait for\nup to double the specified timeout. It is also thread safe without\nhaving to audit all code paths for potential eventlet context switch\npoints.\n\nChange-Id: Ie4676eed0039c927b35af7573f0b57fd762adbaa\n'}, {'number': 4, 'created': '2017-08-02 13:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69699aeadf0f1f3c24035d0cadc8ace374838317', 'message': 'fake_notifier: Refactor wait_for_versioned_notification\n\nA subsequent change will add wait_for_legacy_notifications(). This\nrefactor achieves 2 things:\n\n* Make it easier to return the notifications we were waiting for,\n  required in both current tests and subsequent legacy tests.\n* Allow code re-use between fake legacy and versioned notifications.\n\nIt incidentally fixes a minor bug in\nNotificationSampleTestBase._wait_for_notifications where we may wait for\nup to double the specified timeout. It is also thread safe without\nhaving to audit all code paths for potential eventlet context switch\npoints.\n\nChange-Id: Ie4676eed0039c927b35af7573f0b57fd762adbaa\n'}, {'number': 5, 'created': '2017-08-03 12:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2976011c66a35af720faf6bb2335a2ebaea2a77', 'message': 'fake_notifier: Refactor wait_for_versioned_notification\n\nA subsequent change will add wait_for_legacy_notifications(). This\nrefactor achieves 2 things:\n\n* Make it easier to return the notifications we were waiting for,\n  required in both current tests and subsequent legacy tests.\n* Allow code re-use between fake legacy and versioned notifications.\n\nIt incidentally fixes a minor bug in\nNotificationSampleTestBase._wait_for_notifications where we may wait for\nup to double the specified timeout. It is also thread safe without\nhaving to audit all code paths for potential eventlet context switch\npoints.\n\nChange-Id: Ie4676eed0039c927b35af7573f0b57fd762adbaa\n'}, {'number': 6, 'created': '2017-09-08 13:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3769650151d349529d3d2a0c5407c849ac83e1c4', 'message': 'fake_notifier: Refactor wait_for_versioned_notification\n\nA subsequent change will add wait_for_legacy_notifications(). This\nrefactor achieves 2 things:\n\n* Make it easier to return the notifications we were waiting for,\n  required in both current tests and subsequent legacy tests.\n* Allow code re-use between fake legacy and versioned notifications.\n\nIt incidentally fixes a minor bug in\nNotificationSampleTestBase._wait_for_notifications where we may wait for\nup to double the specified timeout. It is also thread safe without\nhaving to audit all code paths for potential eventlet context switch\npoints.\n\nChange-Id: Ie4676eed0039c927b35af7573f0b57fd762adbaa\n'}, {'number': 7, 'created': '2017-09-12 14:20:05.000000000', 'files': ['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/unit/fake_notifier.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea00db9ccad0989254d78090ea639333f66f001f', 'message': 'fake_notifier: Refactor wait_for_versioned_notification\n\nA subsequent change will add wait_for_legacy_notifications(). This\nrefactor achieves 2 things:\n\n* Make it easier to return the notifications we were waiting for,\n  required in both current tests and subsequent legacy tests.\n* Allow code re-use between fake legacy and versioned notifications.\n\nIt incidentally fixes a minor bug in\nNotificationSampleTestBase._wait_for_notifications where we may wait for\nup to double the specified timeout. It is also thread safe without\nhaving to audit all code paths for potential eventlet context switch\npoints.\n\nChange-Id: Ie4676eed0039c927b35af7573f0b57fd762adbaa\n'}]",3,489637,ea00db9ccad0989254d78090ea639333f66f001f,67,14,7,9555,,,0,"fake_notifier: Refactor wait_for_versioned_notification

A subsequent change will add wait_for_legacy_notifications(). This
refactor achieves 2 things:

* Make it easier to return the notifications we were waiting for,
  required in both current tests and subsequent legacy tests.
* Allow code re-use between fake legacy and versioned notifications.

It incidentally fixes a minor bug in
NotificationSampleTestBase._wait_for_notifications where we may wait for
up to double the specified timeout. It is also thread safe without
having to audit all code paths for potential eventlet context switch
points.

Change-Id: Ie4676eed0039c927b35af7573f0b57fd762adbaa
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/489637/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/unit/fake_notifier.py']",2,275c33a1664eaae45ac8b69d68086a0b4a404576,bug/1686703," _notify_subscribers(event_type) _notify_subscribers(event_type)def wait_for_notification(event_type, timeout=1.0):def _notify_subscribers(event_type): SUBSCRIBERS[event_type].set()"," _notify_subscribers(notification)def wait_for_versioned_notification(event_type, timeout=1.0):def _notify_subscribers(notification): SUBSCRIBERS[notification['event_type']].set()",7,7
openstack%2Fdiskimage-builder~master~I761e425f8a658669d9b8a70ce4260cec263ea51a,openstack/diskimage-builder,master,I761e425f8a658669d9b8a70ce4260cec263ea51a,Use latest Fedora .qcow URL,MERGED,2017-08-25 05:48:33.000000000,2017-09-15 03:40:04.000000000,2017-09-15 02:36:24.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-08-25 05:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8638134e4b61b0c7ce238cc1311ed54eea6410de', 'message': 'Use latest Fedora .qcow URL\n\nThe URL we are using seems to have disappeared.  Update this to\ndownload.fedoraproject.org.  We have a ""subrelease"" now, add it.\n\nChange-Id: I761e425f8a658669d9b8a70ce4260cec263ea51a\n'}, {'number': 2, 'created': '2017-08-25 07:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/67b2f911ef18acbb557857c7aaa0b4e6cd024e55', 'message': 'Use latest Fedora .qcow URL\n\nThe URL we are using seems to have disappeared.  Update this to\ndownload.fedoraproject.org.  We have a ""subrelease"" now, add it.\n\nChange-Id: I761e425f8a658669d9b8a70ce4260cec263ea51a\n'}, {'number': 3, 'created': '2017-08-25 09:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d318a860112d9c3fb7b22915de4a9c6101563c7a', 'message': 'Use latest Fedora .qcow URL\n\nThe URL we are using seems to have disappeared.  Update this to\ndownload.fedoraproject.org.  We have a ""subrelease"" now, add it.\n\nChange-Id: I761e425f8a658669d9b8a70ce4260cec263ea51a\n'}, {'number': 4, 'created': '2017-09-15 01:07:24.000000000', 'files': ['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7774260b7691fa218f0a9a1b575aa46aae77c796', 'message': 'Use latest Fedora .qcow URL\n\nThe URL we are using seems to have disappeared.  Update this to\ndownload.fedoraproject.org.  The new URL requires a ""subrelease"" now,\nadd it, along with a note on where it comes from.\n\nChange-Id: I761e425f8a658669d9b8a70ce4260cec263ea51a\n'}]",0,497734,7774260b7691fa218f0a9a1b575aa46aae77c796,29,5,4,7118,,,0,"Use latest Fedora .qcow URL

The URL we are using seems to have disappeared.  Update this to
download.fedoraproject.org.  The new URL requires a ""subrelease"" now,
add it, along with a note on where it comes from.

Change-Id: I761e425f8a658669d9b8a70ce4260cec263ea51a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/34/497734/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image']",2,8638134e4b61b0c7ce238cc1311ed54eea6410de,fedora-image, DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-https://download.fedoraproject.org} BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-Fedora-Cloud-Base-$DIB_RELEASE-$DIB_FEDORA_SUBRELEASE.$ARCH.qcow2} BASE_IMAGE_TAR=Fedora-Cloud-Base-$DIB_RELEASE-$DIB_FEDORA_SUBRELEASE.$ARCH.tgz, DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-http://cloud.fedoraproject.org} BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-fedora-$DIB_RELEASE.$ARCH.qcow2} BASE_IMAGE_TAR=$DIB_RELEASE-Cloud-$ARCH-$DIB_RELEASE.tgz,4,3
openstack%2Fnova~master~Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c,openstack/nova,master,Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c,Transform instance.resize.error notifications,MERGED,2017-01-09 13:49:18.000000000,2017-09-15 03:39:03.000000000,2017-09-12 19:12:49.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18599}, {'_account_id': 18600}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20040}, {'_account_id': 21239}, {'_account_id': 21784}, {'_account_id': 25111}, {'_account_id': 25747}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-01-09 13:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d884c7c1c9c8da0008ef2181f152b6e1774aaef', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nare transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-newton\n'}, {'number': 2, 'created': '2017-01-09 13:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ce565830c8d3350ea9b0774a6abf459abb5b7c6', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nare transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-ocata\n'}, {'number': 3, 'created': '2017-01-09 13:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ecafd6beff2e6ad81e62bd6e71096dabf906abf', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nare transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-ocata\n'}, {'number': 4, 'created': '2017-01-10 12:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/def6e4bb27f1381541b8b3ea946e8c2f98dc44c1', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-ocata\n'}, {'number': 5, 'created': '2017-03-12 15:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83a9c6660766eb2a53878c35553a53f0b13f3cd1', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-ocata\n'}, {'number': 6, 'created': '2017-03-12 15:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/305828a2e31d44d915e08df5f55d28badbdce935', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 7, 'created': '2017-03-14 14:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea602327647759ce60e5c061f1641ca465ed94a1', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 8, 'created': '2017-04-02 23:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b23cbd3188aecee47048ec5cf2a90d13b5e282dc', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 9, 'created': '2017-04-03 06:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74cf684c7b1da2195f52acc89d6288a81084f18c', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 10, 'created': '2017-04-05 10:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8af71429d46dd5e46206e73e87964d0fd200f617', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 11, 'created': '2017-04-10 07:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e803d30fdd4ddddea096aada1737406cfb5a2e76', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 12, 'created': '2017-05-09 13:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40a63b7163f2ea74dff6b62c97fd7256f73f82fc', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 13, 'created': '2017-05-10 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e13c92c3fc398c2a68e2d2a6e2c3d3889a22b93', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 14, 'created': '2017-05-17 09:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe7a309d3a596ea57455573a8164df13a4f69055', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 15, 'created': '2017-06-08 17:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f14e4124fa3b6b94570169dc813db07498ec96d8', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 16, 'created': '2017-06-09 09:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cc94d96448c990dcaae934c742446ee71e8b175', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 17, 'created': '2017-06-21 10:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a6347f5b77cc0868392e8c9195ace614bc28d43', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 18, 'created': '2017-06-22 15:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96934e9ea819042954ef95fac9e467e3ece2f515', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 19, 'created': '2017-06-26 21:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44139c899c63360eeb8b260a483bece471392c1f', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 20, 'created': '2017-07-13 15:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/492369948a2ace502e954d5a239373d93ac4c46f', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 21, 'created': '2017-07-18 10:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e8f6a96d3ceecd9c9a295122793329d03c28d86', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 22, 'created': '2017-08-21 09:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/818b78dd99726c3a45b9b9bcbc7433ce43d3131f', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 23, 'created': '2017-08-22 05:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e725bcd7cc3d246547d3d9d7d384cdc3364db5c', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 24, 'created': '2017-09-07 18:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa608155bab8032c6b56c862b8bbceabdb72ec29', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 25, 'created': '2017-09-08 13:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d23c7c70c75c0ca9fd7ce20b10601a58ce45c017', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 26, 'created': '2017-09-12 14:18:58.000000000', 'files': ['nova/notifications/objects/instance.py', 'doc/notification_samples/instance-resize-error.json', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/804dd877dcb41cfaf53918a98f2b839378312f12', 'message': 'Transform instance.resize.error notifications\n\nThe instance.resize.error notification\nis transformed to the versioned framework.\n\nChange-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c\nImplements: bp versioned-notification-transformation-queens\n'}]",34,417882,804dd877dcb41cfaf53918a98f2b839378312f12,353,32,26,21239,,,0,"Transform instance.resize.error notifications

The instance.resize.error notification
is transformed to the versioned framework.

Change-Id: Ieb4ae4605fee8fbf58de4c5efb3c00083b4bd62c
Implements: bp versioned-notification-transformation-queens
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/417882/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/objects/instance.py', 'doc/notification_samples/instance-resize-error.json', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",5,0d884c7c1c9c8da0008ef2181f152b6e1774aaef,bp/versioned-notification-transformation-queens," compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.RESIZE, phase=fields.NotificationPhase.ERROR, exception=error) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.RESIZE, phase=fields.NotificationPhase.ERROR)", rescheduled = False,120,2
openstack%2Fhorizon~master~Icf676c7267f64b3704cd16e6a1cccf9ae4d95e91,openstack/horizon,master,Icf676c7267f64b3704cd16e6a1cccf9ae4d95e91,Fix icon of status on network topology,MERGED,2017-08-30 04:33:53.000000000,2017-09-15 02:54:07.000000000,2017-09-15 02:52:07.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6484}, {'_account_id': 11885}, {'_account_id': 14151}, {'_account_id': 15209}]","[{'number': 1, 'created': '2017-08-30 04:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a70ec284e0031c1cabb4f79af30816a595750e58', 'message': 'Fix icon of status on network topology\n\nCurrently, the icon of status on network topology is wrong because\nof incorrect icon. This patch fixes it.\n\nCloses-Bug: #1713901\n\nChange-Id: Icf676c7267f64b3704cd16e6a1cccf9ae4d95e91\n'}, {'number': 2, 'created': '2017-08-30 22:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b841d9080749494d4ddaa931e90cba06c4b362c8', 'message': ""Fix icon of status on network topology\n\nCurrently, the icon of status on network topology is wrong because\nof incorrect icon. There are two issues:\n\n1. The icon of router status is in red color though it's active.\n2. The icon of interface status is missing.\n\nCloses-Bug: #1713901\n\nChange-Id: Icf676c7267f64b3704cd16e6a1cccf9ae4d95e91\n""}, {'number': 3, 'created': '2017-09-15 00:00:53.000000000', 'files': ['openstack_dashboard/static/js/horizon.networktopology.js', 'openstack_dashboard/static/js/horizon.flatnetworktopology.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b26b17caec5482f58baec9f9d05192694ffb7954', 'message': ""Fix icon of status on network topology\n\nCurrently, the icon of status on network topology is wrong because\nof incorrect icon. There are two issues:\n\n1. The icon of router status is in red color though it's active.\n2. The icon of interface status is missing.\n\nCloses-Bug: #1713901\n\nChange-Id: Icf676c7267f64b3704cd16e6a1cccf9ae4d95e91\n""}]",0,499021,b26b17caec5482f58baec9f9d05192694ffb7954,19,6,3,6484,,,0,"Fix icon of status on network topology

Currently, the icon of status on network topology is wrong because
of incorrect icon. There are two issues:

1. The icon of router status is in red color though it's active.
2. The icon of interface status is missing.

Closes-Bug: #1713901

Change-Id: Icf676c7267f64b3704cd16e6a1cccf9ae4d95e91
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/499021/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/js/horizon.flatnetworktopology.js'],1,a70ec284e0031c1cabb4f79af30816a595750e58,bug/1713901," status_class:(d.original_status === ""ACTIVE"")? 'active' : 'down',"," status_class:(d.status === ""ACTIVE"")? 'active' : 'down',",1,1
openstack%2Fzaqar-specs~master~I97ea62e22d8ae0913562fdd51226e1464416a66d,openstack/zaqar-specs,master,I97ea62e22d8ae0913562fdd51226e1464416a66d,Fix outdated links,MERGED,2017-09-14 06:00:56.000000000,2017-09-15 02:53:15.000000000,2017-09-15 02:53:15.000000000,"[{'_account_id': 3}, {'_account_id': 6484}]","[{'number': 1, 'created': '2017-09-14 06:00:56.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/9dbe2ebe9c80524210d2299f3c9a2ba45cc0a3f0', 'message': 'Fix outdated links\n\nUpdate doc links according to OpenStack document migration.\nUse https instead of http for docs links.\nCloses-Bug:#1717171\n\nChange-Id: I97ea62e22d8ae0913562fdd51226e1464416a66d\n'}]",0,503962,9dbe2ebe9c80524210d2299f3c9a2ba45cc0a3f0,6,2,1,26458,,,0,"Fix outdated links

Update doc links according to OpenStack document migration.
Use https instead of http for docs links.
Closes-Bug:#1717171

Change-Id: I97ea62e22d8ae0913562fdd51226e1464416a66d
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/62/503962/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,9dbe2ebe9c80524210d2299f3c9a2ba45cc0a3f0,bug/1717171, https://docs.openstack.org/infra/manual/developers.html https://docs.openstack.org/infra/manual/developers.html#development-workflow, http://docs.openstack.org/infra/manual/developers.html http://docs.openstack.org/infra/manual/developers.html#development-workflow,2,2
openstack%2Fadjutant~master~I9162408ab0cea03ba1cbf3326d0af80188385501,openstack/adjutant,master,I9162408ab0cea03ba1cbf3326d0af80188385501,Add Version Endpoints,MERGED,2017-08-23 23:54:16.000000000,2017-09-15 02:49:22.000000000,2017-09-15 02:49:22.000000000,"[{'_account_id': 3}, {'_account_id': 10420}]","[{'number': 1, 'created': '2017-08-23 23:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/97873f2eb132cc56ae69de27960303a1d8605a3a', 'message': ""Add Version Endpoints\n\n* At root URL will list all versions with respect to these [1]\n  guidelines.\n* /v1/ path will list it's own version information\n\n[1] https://wiki.openstack.org/wiki/VersionDiscovery\n\nChange-Id: I9162408ab0cea03ba1cbf3326d0af80188385501\n""}, {'number': 2, 'created': '2017-08-24 00:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/192afccd6c10868e87903cfe613350b57249c05d', 'message': ""Add Version Endpoints\n\n* At root URL will list all versions with respect to these [1]\n  guidelines.\n* /v1/ path will list it's own version information\n\n[1] https://wiki.openstack.org/wiki/VersionDiscovery\n\nChange-Id: I9162408ab0cea03ba1cbf3326d0af80188385501\n""}, {'number': 3, 'created': '2017-08-31 22:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/6767a2ba9dee1c1afedafa98591b141f102479f4', 'message': ""Add Version Endpoints\n\n* At root URL will list all versions with respect to these [1]\n  guidelines.\n* v1/ path will list it's own version information\n\n[1] https://wiki.openstack.org/wiki/VersionDiscovery\n\nChange-Id: I9162408ab0cea03ba1cbf3326d0af80188385501\n""}, {'number': 4, 'created': '2017-09-15 00:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/4208d6a75fac5ffad13bd56937ae4888a3a263d1', 'message': ""Add Version Endpoints\n\n* At root URL will list all versions with respect to these [1]\n  guidelines.\n* v1/ path will list it's own version information\n\n[1] https://wiki.openstack.org/wiki/VersionDiscovery\n\nChange-Id: I9162408ab0cea03ba1cbf3326d0af80188385501\n""}, {'number': 5, 'created': '2017-09-15 02:30:43.000000000', 'files': ['adjutant/api/views.py', 'adjutant/api/urls.py', 'adjutant/api/v1/views.py', 'adjutant/api/v1/app.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/ae5c1943c9ea218a6d13a0ff8dd3fdb7362f966d', 'message': ""Add Version Endpoints\n\n* At root URL will list all versions with respect to these [1]\n  guidelines.\n* v1/ path will list it's own version information\n\n[1] https://wiki.openstack.org/wiki/VersionDiscovery\n\nChange-Id: I9162408ab0cea03ba1cbf3326d0af80188385501\n""}]",1,496963,ae5c1943c9ea218a6d13a0ff8dd3fdb7362f966d,15,2,5,26263,,,0,"Add Version Endpoints

* At root URL will list all versions with respect to these [1]
  guidelines.
* v1/ path will list it's own version information

[1] https://wiki.openstack.org/wiki/VersionDiscovery

Change-Id: I9162408ab0cea03ba1cbf3326d0af80188385501
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/63/496963/5 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant/api/v1/urls.py', 'adjutant/api/views.py', 'adjutant/api/urls.py', 'adjutant/api/v1/views.py', 'adjutant/api/v1/app.py']",5,97873f2eb132cc56ae69de27960303a1d8605a3a,new/version,"from adjutant.api.views import build_version_details def ready(self): build_version_details('1.0', 'CURRENT', relative_endpoint='v1/')",,82,1
openstack%2Fheat~stable%2Focata~I6809c8cb839eba20ffe12f783854fbaa7b9267d6,openstack/heat,stable/ocata,I6809c8cb839eba20ffe12f783854fbaa7b9267d6,Add validation of block_device_mapping_v2,MERGED,2017-07-27 01:32:28.000000000,2017-09-15 02:37:12.000000000,2017-09-15 02:37:12.000000000,"[{'_account_id': 3}, {'_account_id': 8289}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-07-27 01:32:28.000000000', 'files': ['heat/engine/resources/openstack/nova/server.py', 'heat/tests/openstack/nova/test_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a37a264e58bf244a7e92b82e49b3af6cff25b3a1', 'message': ""Add validation of block_device_mapping_v2\n\nHeat assumes image/volume/snapshot in bdm_v2\nas bootable sources, if user does not specify\nthe 'boot_index' for them, heat will give the\nvalue '0' for all of them, but nova does not\nallow this.\nThis patch adds validation to avoid the error.\n\nCloses-Bug: #1658007\nChange-Id: I6809c8cb839eba20ffe12f783854fbaa7b9267d6\n(cherry picked from commit 8fb7c3b9e43934c601bf78f2f8010aa3d6e8dc9e)\n""}]",0,487646,a37a264e58bf244a7e92b82e49b3af6cff25b3a1,8,3,1,12404,,,0,"Add validation of block_device_mapping_v2

Heat assumes image/volume/snapshot in bdm_v2
as bootable sources, if user does not specify
the 'boot_index' for them, heat will give the
value '0' for all of them, but nova does not
allow this.
This patch adds validation to avoid the error.

Closes-Bug: #1658007
Change-Id: I6809c8cb839eba20ffe12f783854fbaa7b9267d6
(cherry picked from commit 8fb7c3b9e43934c601bf78f2f8010aa3d6e8dc9e)
",git fetch https://review.opendev.org/openstack/heat refs/changes/46/487646/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/nova/server.py', 'heat/tests/openstack/nova/test_server.py']",2,a37a264e58bf244a7e92b82e49b3af6cff25b3a1,bug/1658007," def _test_validate_bdm_v2(self, stack_name, bdm_v2, with_image=True, error_msg=None, raise_exc=None): tmpl, stack = self._setup_test_stack(stack_name) if not with_image: del tmpl['Resources']['WebServer']['Properties']['image'] wsp = tmpl.t['Resources']['WebServer']['Properties'] wsp['block_device_mapping_v2'] = bdm_v2 resource_defns = tmpl.resource_definitions(stack) server = servers.Server('server_create_image_err', resource_defns['WebServer'], stack) self.patchobject(nova.NovaClientPlugin, 'get_flavor', return_value=self.mock_flavor) self.patchobject(glance.GlanceClientPlugin, 'get_image', return_value=self.mock_image) self.stub_VolumeConstraint_validate() if raise_exc: ex = self.assertRaises(raise_exc, server.validate) self.assertIn(error_msg, six.text_type(ex)) else: self.assertIsNone(server.validate()) error_msg = ('Cannot define the following properties at ' 'the same time: volume_id, snapshot_id') self._test_validate_bdm_v2( stack_name, bdm_v2, raise_exc=exception.ResourcePropertyConflict, error_msg=error_msg) def test_validate_bdm_v2_with_empty_mapping(self, mock_create): self._test_validate_bdm_v2(stack_name, bdm_v2, raise_exc=exception.StackValidationFailed, error_msg=msg) stack_name = 'bdm_v2_success' bdm_v2 = [{'volume_id': '1', 'boot_index': -1}] self._test_validate_bdm_v2(stack_name, bdm_v2) stack_name = 'bdm_v2_with_unresolved_vol' self._test_validate_bdm_v2(stack_name, bdm_v2, with_image=False) @mock.patch.object(nova.NovaClientPlugin, '_create') def test_validate_bdm_v2_multiple_bootable_source(self, mock_create): stack_name = 'v2_multiple_bootable' # with two bootable sources: volume_id and image bdm_v2 = [{'volume_id': '1', 'boot_index': 0}] msg = ('Multiple bootable sources for instance') self._test_validate_bdm_v2(stack_name, bdm_v2, raise_exc=exception.StackValidationFailed, error_msg=msg) stack_name = 'bdm_v2_no_bootable' self._test_validate_bdm_v2(stack_name, bdm_v2, raise_exc=exception.StackValidationFailed, error_msg=msg, with_image=False)"," (tmpl, stack) = self._setup_test_stack(stack_name) wsp = tmpl.t['Resources']['WebServer']['Properties'] wsp['block_device_mapping_v2'] = bdm_v2 resource_defns = tmpl.resource_definitions(stack) server = servers.Server('server_create_image_err', resource_defns['WebServer'], stack) self.stub_VolumeConstraint_validate() self.assertRaises(exception.ResourcePropertyConflict, server.validate) def test_validate_without_bootable_source_in_bdm_v2(self, mock_create): (tmpl, stack) = self._setup_test_stack(stack_name) wsp = tmpl.t['Resources']['WebServer']['Properties'] wsp['block_device_mapping_v2'] = bdm_v2 resource_defns = tmpl.resource_definitions(stack) server = servers.Server('server_create_image_err', resource_defns['WebServer'], stack) exc = self.assertRaises(exception.StackValidationFailed, server.validate) self.assertEqual(msg, six.text_type(exc)) stack_name = 'v2_properties' (tmpl, stack) = self._setup_test_stack(stack_name) bdm_v2 = [{'volume_id': '1'}] wsp = tmpl.t['Resources']['WebServer']['Properties'] wsp['block_device_mapping_v2'] = bdm_v2 resource_defns = tmpl.resource_definitions(stack) server = servers.Server('server_create_image_err', resource_defns['WebServer'], stack) self.patchobject(nova.NovaClientPlugin, 'get_flavor', return_value=self.mock_flavor) self.patchobject(glance.GlanceClientPlugin, 'get_image', return_value=self.mock_image) self.stub_VolumeConstraint_validate() self.assertIsNone(server.validate()) stack_name = 'v2_properties' (tmpl, stack) = self._setup_test_stack(stack_name) del tmpl['Resources']['WebServer']['Properties']['image'] wsp = tmpl.t['Resources']['WebServer']['Properties'] wsp['block_device_mapping_v2'] = bdm_v2 resource_defns = tmpl.resource_definitions(stack) server = servers.Server('server_create_image_err', resource_defns['WebServer'], stack) self.patchobject(nova.NovaClientPlugin, 'get_flavor', return_value=self.mock_flavor) self.patchobject(glance.GlanceClientPlugin, 'get_image', return_value=self.mock_image) self.stub_VolumeConstraint_validate() self.assertIsNone(server.validate()) stack_name = 'v2_properties' (tmpl, stack) = self._setup_test_stack(stack_name) wsp = tmpl.t['Resources']['WebServer']['Properties'] wsp['block_device_mapping_v2'] = bdm_v2 wsp.pop('image') resource_defns = tmpl.resource_definitions(stack) server = servers.Server('server_create_image_err', resource_defns['WebServer'], stack) exc = self.assertRaises(exception.StackValidationFailed, server.validate) self.assertEqual(msg, six.text_type(exc))",80,80
openstack%2Fheat~master~I3a8ea903808dcd060cd8906f20d678fe101ceadb,openstack/heat,master,I3a8ea903808dcd060cd8906f20d678fe101ceadb,Updated from global requirements,MERGED,2017-09-12 21:48:41.000000000,2017-09-15 02:37:05.000000000,2017-09-15 02:37:05.000000000,"[{'_account_id': 3}, {'_account_id': 8289}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-09-12 21:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9447d365d13bee6bc519a90eff7f89bffec48704', 'message': 'Updated from global requirements\n\nChange-Id: I3a8ea903808dcd060cd8906f20d678fe101ceadb\n'}, {'number': 2, 'created': '2017-09-13 00:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bd6757920e7c68d0cdb89270cb9acb48c0280b30', 'message': 'Updated from global requirements\n\nChange-Id: I3a8ea903808dcd060cd8906f20d678fe101ceadb\n'}, {'number': 3, 'created': '2017-09-13 12:50:26.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/f3ea69a223f9340b54f3beda4fceada15f3b1166', 'message': 'Updated from global requirements\n\nChange-Id: I3a8ea903808dcd060cd8906f20d678fe101ceadb\n'}]",0,503273,f3ea69a223f9340b54f3beda4fceada15f3b1166,13,3,3,11131,,,0,"Updated from global requirements

Change-Id: I3a8ea903808dcd060cd8906f20d678fe101ceadb
",git fetch https://review.opendev.org/openstack/heat refs/changes/73/503273/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9447d365d13bee6bc519a90eff7f89bffec48704,openstack/requirements,oslo.middleware>=3.31.0 # Apache-2.0,oslo.middleware>=3.30.0 # Apache-2.0,1,1
openstack%2Fnova~master~I55edd2c6e4c752dbe675b6d51d71a047bf49597a,openstack/nova,master,I55edd2c6e4c752dbe675b6d51d71a047bf49597a,Refactor ServerMovingTests for non-move tests,MERGED,2017-08-28 20:49:28.000000000,2017-09-15 02:31:32.000000000,2017-09-12 04:09:16.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-28 20:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1c603c30dc41288fbaf17d8b295fca3efd744e1', 'message': ""Refactor ServerMovingTests for non-move tests\n\nThis came up as a review comment in change\nc19ebcbd58bc673e336bc5fa3b815c7b0a20d628.\n\nThe tests being moved aren't related to move\noperations, so they shouldn't be in the\nServerMovingTests class.\n\nThis moves them to separate classes and uses\ndistinct fake virt drivers to avoid monkey\npatching the compute manager code in a functional\ntest.\n\nChange-Id: I55edd2c6e4c752dbe675b6d51d71a047bf49597a\n""}, {'number': 2, 'created': '2017-08-30 00:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f21179dd91882c907a2fe4dcb956ee53af1733f', 'message': ""Refactor ServerMovingTests for non-move tests\n\nThis came up as a review comment in change\nc19ebcbd58bc673e336bc5fa3b815c7b0a20d628.\n\nThe tests being moved aren't related to move\noperations, so they shouldn't be in the\nServerMovingTests class.\n\nThis moves them to separate classes and uses\ndistinct fake virt drivers to avoid monkey\npatching the compute manager code in a functional\ntest.\n\nChange-Id: I55edd2c6e4c752dbe675b6d51d71a047bf49597a\n""}, {'number': 3, 'created': '2017-09-05 14:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd0627fd9645eac22c41c4f8ceab471e8914c7d', 'message': ""Refactor ServerMovingTests for non-move tests\n\nThis came up as a review comment in change\nc19ebcbd58bc673e336bc5fa3b815c7b0a20d628.\n\nThe tests being moved aren't related to move\noperations, so they shouldn't be in the\nServerMovingTests class.\n\nThis moves them to separate classes and uses\ndistinct fake virt drivers to avoid monkey\npatching the compute manager code in a functional\ntest.\n\nChange-Id: I55edd2c6e4c752dbe675b6d51d71a047bf49597a\n""}, {'number': 4, 'created': '2017-09-07 14:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7446c0a8ead9b8d5e8e4df083a1cc27e3b32fee4', 'message': ""Refactor ServerMovingTests for non-move tests\n\nThis came up as a review comment in change\nc19ebcbd58bc673e336bc5fa3b815c7b0a20d628.\n\nThe tests being moved aren't related to move\noperations, so they shouldn't be in the\nServerMovingTests class.\n\nThis moves them to separate classes and uses\ndistinct fake virt drivers to avoid monkey\npatching the compute manager code in a functional\ntest.\n\nChange-Id: I55edd2c6e4c752dbe675b6d51d71a047bf49597a\n""}, {'number': 5, 'created': '2017-09-08 16:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4631f7658a5690b598e8dbe2028043ba125c27ec', 'message': ""Refactor ServerMovingTests for non-move tests\n\nThis came up as a review comment in change\nc19ebcbd58bc673e336bc5fa3b815c7b0a20d628.\n\nThe tests being moved aren't related to move\noperations, so they shouldn't be in the\nServerMovingTests class.\n\nThis moves them to separate classes and uses\ndistinct fake virt drivers to avoid monkey\npatching the compute manager code in a functional\ntest.\n\nChange-Id: I55edd2c6e4c752dbe675b6d51d71a047bf49597a\n""}, {'number': 6, 'created': '2017-09-09 21:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6071e0a021e1136a645fa417ed31865d2e5f20b', 'message': ""Refactor ServerMovingTests for non-move tests\n\nThis came up as a review comment in change\nc19ebcbd58bc673e336bc5fa3b815c7b0a20d628.\n\nThe tests being moved aren't related to move\noperations, so they shouldn't be in the\nServerMovingTests class.\n\nThis moves them to separate classes and uses\ndistinct fake virt drivers to avoid monkey\npatching the compute manager code in a functional\ntest.\n\nChange-Id: I55edd2c6e4c752dbe675b6d51d71a047bf49597a\n""}, {'number': 7, 'created': '2017-09-11 22:05:16.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f6447120b121c955711b3cf102b5063e4315fef', 'message': ""Refactor ServerMovingTests for non-move tests\n\nThis came up as a review comment in change\nc19ebcbd58bc673e336bc5fa3b815c7b0a20d628.\n\nThe tests being moved aren't related to move\noperations, so they shouldn't be in the\nServerMovingTests class.\n\nThis moves them to separate classes and uses\ndistinct fake virt drivers to avoid monkey\npatching the compute manager code in a functional\ntest.\n\nChange-Id: I55edd2c6e4c752dbe675b6d51d71a047bf49597a\n""}]",18,498596,3f6447120b121c955711b3cf102b5063e4315fef,95,20,7,6873,,,0,"Refactor ServerMovingTests for non-move tests

This came up as a review comment in change
c19ebcbd58bc673e336bc5fa3b815c7b0a20d628.

The tests being moved aren't related to move
operations, so they shouldn't be in the
ServerMovingTests class.

This moves them to separate classes and uses
distinct fake virt drivers to avoid monkey
patching the compute manager code in a functional
test.

Change-Id: I55edd2c6e4c752dbe675b6d51d71a047bf49597a
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/498596/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/test_servers.py']",2,b1c603c30dc41288fbaf17d8b295fca3efd744e1,495159,"class ProviderUsageMixin(object): """"""Helper mixin for tests that query Placement and assert usage. Expects the implementing class to have the following attributes: * admin_api - Compute API client with admin credentials * placement_api - Placement API client with admin credentials """""" def _get_provider_uuid_by_host(self, host): # NOTE(gibi): the compute node id is the same as the compute node # provider uuid on that compute resp = self.admin_api.api_get( 'os-hypervisors?hypervisor_hostname_pattern=%s' % host).body return resp['hypervisors'][0]['id'] def _get_provider_usages(self, provider_uuid): return self.placement_api.get( '/resource_providers/%s/usages' % provider_uuid).body['usages'] def assertFlavorMatchesAllocation(self, flavor, allocation): self.assertEqual(flavor['vcpus'], allocation['VCPU']) self.assertEqual(flavor['ram'], allocation['MEMORY_MB']) self.assertEqual(flavor['disk'], allocation['DISK_GB']) class ServerMovingTests(test.TestCase, integrated_helpers.InstanceHelperMixin, ProviderUsageMixin): class ServerRescheduleTests(test.TestCase, ProviderUsageMixin, integrated_helpers.InstanceHelperMixin): """"""Tests server create scenarios which trigger a reschedule during a server build and validates that allocations in Placement are properly cleaned up. Uses a fake virt driver that fails the build on the first attempt. """""" def setUp(self): self.flags(compute_driver='fake.FakeRescheduleDriver') super(ServerRescheduleTests, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.AllServicesCurrent()) placement = self.useFixture(nova_fixtures.PlacementFixture()) self.placement_api = placement.api api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) # Use the admin API to get host details from the server. self.admin_api = api_fixture.admin_api self.admin_api.microversion = 'latest' self.api = self.admin_api # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.start_service('conductor') self.start_service('scheduler') self.addCleanup(nova.tests.unit.image.fake.FakeImageService_reset) fake.set_nodes(['host1']) self.flags(host='host1') self.compute1 = self.start_service('compute', host='host1') # NOTE(sbauza): Make sure the FakeDriver returns a different nodename # for the second compute node. fake.set_nodes(['host2']) self.addCleanup(fake.restore_nodes) self.flags(host='host2') self.compute2 = self.start_service('compute', host='host2') fake_network.set_stub_network_methods(self) flavors = self.api.get_flavors() self.flavor1 = flavors[0] def _other_hostname(self, host): other_host = {'host1': 'host2', 'host2': 'host1'} return other_host[host] def test_rescheduling_when_booting_instance(self): """"""Tests that allocations, created by the scheduler, are cleaned from the source node when the build fails on that node and is rescheduled to another node. """""" server_req = self._build_minimal_create_server_request( self.api, 'some-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks=[]) created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change( self.api, created_server, 'ACTIVE') dest_hostname = server['OS-EXT-SRV-ATTR:host'] failed_hostname = self._other_hostname(dest_hostname) LOG.info('failed on %s', failed_hostname) LOG.info('booting on %s', dest_hostname) failed_rp_uuid = self._get_provider_uuid_by_host(failed_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) failed_usages = self._get_provider_usages(failed_rp_uuid) # Expects no allocation records on the failed host. self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) # Ensure the allocation records on the destination host. dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) class ServerBuildAbortTests(test.TestCase, ProviderUsageMixin, integrated_helpers.InstanceHelperMixin): """"""Tests server create scenarios which trigger a build abort during a server build and validates that allocations in Placement are properly cleaned up. Uses a fake virt driver that aborts the build on the first attempt. """""" def setUp(self): self.flags(compute_driver='fake.FakeBuildAbortDriver') super(ServerBuildAbortTests, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.AllServicesCurrent()) placement = self.useFixture(nova_fixtures.PlacementFixture()) self.placement_api = placement.api api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) # Use the admin API to get host details from the server. self.admin_api = api_fixture.admin_api self.admin_api.microversion = 'latest' self.api = self.admin_api # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.start_service('conductor') self.start_service('scheduler') self.addCleanup(nova.tests.unit.image.fake.FakeImageService_reset) # We only need one compute service/host/node for these tests. fake.set_nodes(['host1']) self.flags(host='host1') self.compute1 = self.start_service('compute', host='host1') fake_network.set_stub_network_methods(self) flavors = self.api.get_flavors() self.flavor1 = flavors[0] def test_abort_when_booting_instance(self): """"""Tests that allocations, created by the scheduler, are cleaned from the source node when the build is aborted on that node. """""" server_req = self._build_minimal_create_server_request( self.api, 'some-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks=[]) created_server = self.api.post_server({'server': server_req}) self._wait_for_state_change(self.api, created_server, 'ERROR') failed_hostname = self.compute1.manager.host failed_rp_uuid = self._get_provider_uuid_by_host(failed_hostname) failed_usages = self._get_provider_usages(failed_rp_uuid) # Expects no allocation records on the failed host. self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages)","from nova.compute import manager as compute_managerclass ServerMovingTests(test.TestCase, integrated_helpers.InstanceHelperMixin): def _get_provider_uuid_by_host(self, host): # NOTE(gibi): the compute node id is the same as the compute node # provider uuid on that compute resp = self.admin_api.api_get( 'os-hypervisors?hypervisor_hostname_pattern=%s' % host).body return resp['hypervisors'][0]['id'] def _get_provider_usages(self, provider_uuid): return self.placement_api.get( '/resource_providers/%s/usages' % provider_uuid).body['usages'] def assertFlavorMatchesAllocation(self, flavor, allocation): self.assertEqual(flavor['vcpus'], allocation['VCPU']) self.assertEqual(flavor['ram'], allocation['MEMORY_MB']) self.assertEqual(flavor['disk'], allocation['DISK_GB']) def test_rescheduling_when_booting_instance(self): self.failed_hostname = None old_build_resources = (compute_manager.ComputeManager. _build_resources) def fake_build_resources(sl, *args, **kwargs): # We failed on the first scheduling if not self.failed_hostname: self.failed_hostname = sl.host raise Exception() return old_build_resources(sl, *args, **kwargs) self.stub_out('nova.compute.manager.ComputeManager._build_resources', fake_build_resources) server_req = self._build_minimal_create_server_request( self.api, 'some-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks=[]) created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change( self.admin_api, created_server, 'ACTIVE') dest_hostname = server['OS-EXT-SRV-ATTR:host'] LOG.info('failed on %s', self.failed_hostname) LOG.info('booting on %s', dest_hostname) failed_rp_uuid = self._get_provider_uuid_by_host(self.failed_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) failed_usages = self._get_provider_usages(failed_rp_uuid) # Expects no allocation records on the failed host. self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) # Ensure the allocation records on the destination host. dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) def test_abort_when_booting_instance(self): self.failed_hostname = None old_build_resources = (compute_manager.ComputeManager. _build_resources) def fake_build_resources(sl, *args, **kwargs): # We failed on the first scheduling if not self.failed_hostname: self.failed_hostname = sl.host raise exception.BuildAbortException(instance_uuid='fake_uuid', reason='just abort') return old_build_resources(sl, *args, **kwargs) self.stub_out('nova.compute.manager.ComputeManager._build_resources', fake_build_resources) server_req = self._build_minimal_create_server_request( self.api, 'some-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks=[]) created_server = self.api.post_server({'server': server_req}) self._wait_for_state_change(self.admin_api, created_server, 'ERROR') LOG.info('failed on %s', self.failed_hostname) failed_rp_uuid = self._get_provider_uuid_by_host(self.failed_hostname) failed_usages = self._get_provider_usages(failed_rp_uuid) # Expects no allocation records on the failed host. self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) ",211,92
openstack%2Fnova~master~I8156e4da3c218b5f0cb122f161ff7f640fce00ea,openstack/nova,master,I8156e4da3c218b5f0cb122f161ff7f640fce00ea,Tweak connection_info translation for the new Cinder attach/detach API,MERGED,2017-08-12 18:29:06.000000000,2017-09-15 02:28:26.000000000,2017-09-14 22:23:17.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 21784}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-12 18:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8d77685b20f9c5b09a4b758b8a1090d08ee47a6', 'message': 'WIP - Tweak connection_info translation for the new Cinder attach/detach API\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n'}, {'number': 2, 'created': '2017-08-12 18:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dfbe815be0bc02b0eaeda0e15e0e64907511479', 'message': 'WIP - Tweak connection_info translation for the new Cinder attach/detach API\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n'}, {'number': 3, 'created': '2017-08-13 18:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3be1011116967ff30511d9d9e0618d40734d76b8', 'message': 'Tweak connection_info translation for the new Cinder attach/detach API\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n'}, {'number': 4, 'created': '2017-08-14 14:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/913096af3f97ccfbed22332758832ff1c6319627', 'message': 'Tweak connection_info translation for the new Cinder attach/detach API\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n'}, {'number': 5, 'created': '2017-08-16 21:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf996b9cfa18c971657b420ba9fd12d07b81e882', 'message': 'Tweak connection_info translation for the new Cinder attach/detach API\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n'}, {'number': 6, 'created': '2017-08-16 21:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a1a68c6d179e5224bbbe415c129d2f3c1b030ba', 'message': 'Tweak connection_info translation for the new Cinder attach/detach API\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n'}, {'number': 7, 'created': '2017-08-30 15:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd9d3287d7ffec7322a6e3cda6fd2f912655fb40', 'message': ""Tweak connection_info translation for the new Cinder attach/detach API\n\nThis patch is fixing the translation of the attachment_ref to move the\n'connection_info' data under a 'data' key in 'connection_info' and move\n'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into\n'connection_info'.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n""}, {'number': 8, 'created': '2017-09-04 06:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ec40f07d98efff91a9df000390ce43fabb73a06', 'message': ""Tweak connection_info translation for the new Cinder attach/detach API\n\nThis patch is fixing the translation of the attachment_ref to move the\n'connection_info' data under a 'data' key in 'connection_info' and move\n'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into\n'connection_info'.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n""}, {'number': 9, 'created': '2017-09-05 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e1c1b2cde8c28e6068d5e2dc56d90d399b9dfa1', 'message': ""Tweak connection_info translation for the new Cinder attach/detach API\n\nThis patch is fixing the translation of the attachment_ref to move the\n'connection_info' data under a 'data' key in 'connection_info' and move\n'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into\n'connection_info'.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n""}, {'number': 10, 'created': '2017-09-05 16:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4810774a6617dbc47d6c3918cb52037fd288001', 'message': ""Tweak connection_info translation for the new Cinder attach/detach API\n\nThis patch is fixing the translation of the attachment_ref to move the\n'connection_info' data under a 'data' key in 'connection_info' and move\n'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into\n'connection_info'.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n""}, {'number': 11, 'created': '2017-09-07 03:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/231ed68ee3fbab82e0e5f1b2e9472124036e485f', 'message': ""Tweak connection_info translation for the new Cinder attach/detach API\n\nThis patch is fixing the translation of the attachment_ref to move the\n'connection_info' data under a 'data' key in 'connection_info' and move\n'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into\n'connection_info'.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n""}, {'number': 12, 'created': '2017-09-07 22:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5e9b49760f7eee937ad91bfd9dbc0471b54ad5d', 'message': ""Tweak connection_info translation for the new Cinder attach/detach API\n\nThis patch is fixing the translation of the attachment_ref to move the\n'connection_info' data under a 'data' key in 'connection_info' and move\n'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into\n'connection_info'.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n""}, {'number': 13, 'created': '2017-09-07 22:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb4134f92c9ffe5c573e31957a59cc67a7f8c05a', 'message': ""Tweak connection_info translation for the new Cinder attach/detach API\n\nThis patch is fixing the translation of the attachment_ref to move the\n'connection_info' data under a 'data' key in 'connection_info' and move\n'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into\n'connection_info'.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n""}, {'number': 14, 'created': '2017-09-13 03:19:45.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/951b88eec172f305e38dfdb67f7526a70169c99c', 'message': ""Tweak connection_info translation for the new Cinder attach/detach API\n\nThis patch is fixing the translation of the attachment_ref to move the\n'connection_info' data under a 'data' key in 'connection_info' and move\n'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into\n'connection_info'.\n\nThe patch modifies the translation function that got introduced in this\nreview: https://review.openstack.org/#/c/486194/ Since introducing the\noriginal function we realized that we haven't captured the original\nformat of connection_info therefore we added additional modifications here.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea\n""}]",13,493324,951b88eec172f305e38dfdb67f7526a70169c99c,161,20,14,9562,,,0,"Tweak connection_info translation for the new Cinder attach/detach API

This patch is fixing the translation of the attachment_ref to move the
'connection_info' data under a 'data' key in 'connection_info' and move
'status', 'instance', 'attach_mode', 'attached_at' and 'detached_at' into
'connection_info'.

The patch modifies the translation function that got introduced in this
review: https://review.openstack.org/#/c/486194/ Since introducing the
original function we realized that we haven't captured the original
format of connection_info therefore we added additional modifications here.

Partially Implements: blueprint cinder-new-attach-apis

Change-Id: I8156e4da3c218b5f0cb122f161ff7f640fce00ea
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/493324/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/volume/cinder.py'],1,e8d77685b20f9c5b09a4b758b8a1090d08ee47a6,bp/cinder-new-attach-apis," translated_con_info = {} translated_con_info['attachment_id'] = \ attachment_ref['connection_info'].pop('attachment_id', None) translated_con_info['driver_volume_type'] = \ attachment_ref['connection_info'].pop('driver_volume_type', None) translated_con_info['data'] = attachment_ref.pop('connection_info', None) translated_con_info['status'] = attachment_ref.pop('status', None) translated_con_info['instance'] = attachment_ref.pop('instance', None) translated_con_info['attach_mode'] = attachment_ref.pop('attach_mode', None) translated_con_info['attached_at'] = attachment_ref.pop('attached_at', None) translated_con_info['detached_at'] = attachment_ref.pop('detached_at', None) # Now the catch all... for k, v in attachment_ref.items(): if k != ""id"": translated_con_info[k] = v attachment_ref['connection_info'] = translated_con_info translated_attach_ref = _translate_attachment_ref( attachment_ref.to_dict()) translated_attach_ref['connection_info']['connector'] = connector return translated_attach_ref"," connection_info = attachment_ref.pop('connection_info', {}) if connection_info.get('driver_volume_type'): attachment_ref['connection_info']['driver_volume_type'] = \ connection_info['driver_volume_type'] attachment_ref['connection_info']['data'] = {} for k, v in connection_info.items(): if k != ""driver_volume_type"": attachment_ref['connection_info']['data'][k] = v return _translate_attachment_ref(attachment_ref.to_dict())",26,9
openstack%2Fneutron~master~Ia26b4d1995690e7291b6476dc683271e12de09ab,openstack/neutron,master,Ia26b4d1995690e7291b6476dc683271e12de09ab,fix missing l2pop config option docs,MERGED,2017-09-11 19:33:00.000000000,2017-09-15 02:04:31.000000000,2017-09-15 02:04:31.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-11 19:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/016a28da10252db5a50e1eb5a9f29ee89586dfea', 'message': ""fix missing l2pop config option docs\n\nThe l2pop ML2 mechanism driver's configuration options are no longer\nbeing generated during the docs build. This patch adds the l2pop\nconfig options back into the ml2 sample config generation and also\nfixes a link to them in the admin docs.\n\nChange-Id: Ia26b4d1995690e7291b6476dc683271e12de09ab\nCloses-Bug: #1714528\n""}, {'number': 2, 'created': '2017-09-11 19:36:47.000000000', 'files': ['neutron/opts.py', 'doc/source/admin/config-ml2.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b4559a5e498eac31d051ba5d1c5a86597588560', 'message': ""fix missing l2pop config option docs\n\nThe l2pop ML2 mechanism driver's configuration options are no longer\nbeing generated during the docs build. This patch adds the l2pop\nconfig options back into the ml2 sample config generation and also\nfixes a link to them in the admin docs.\n\nThis fix is a candidate for backport to pike.\n\nChange-Id: Ia26b4d1995690e7291b6476dc683271e12de09ab\nCloses-Bug: #1714528\n""}]",0,502547,1b4559a5e498eac31d051ba5d1c5a86597588560,13,5,2,5367,,,0,"fix missing l2pop config option docs

The l2pop ML2 mechanism driver's configuration options are no longer
being generated during the docs build. This patch adds the l2pop
config options back into the ml2 sample config generation and also
fixes a link to them in the admin docs.

This fix is a candidate for backport to pike.

Change-Id: Ia26b4d1995690e7291b6476dc683271e12de09ab
Closes-Bug: #1714528
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/502547/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'doc/source/admin/config-ml2.rst']",2,016a28da10252db5a50e1eb5a9f29ee89586dfea,bug/1714528, `Configuration Reference <../configuration/ml2-conf.html#l2pop>`__., `Configuration Reference <https://docs.openstack.org/ocata/config-reference/networking/networking_options_reference.html#modular-layer-2-ml2-l2-population-mechanism-configuration-options>`__.,5,2
openstack%2Fneutron~master~I205dde23d1e9f219736f4a5df40b4542dcd97586,openstack/neutron,master,I205dde23d1e9f219736f4a5df40b4542dcd97586,gate_hook: configure range of GRE ids,MERGED,2017-09-14 03:44:46.000000000,2017-09-15 02:04:17.000000000,2017-09-15 02:04:17.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7787}]","[{'number': 1, 'created': '2017-09-14 03:44:46.000000000', 'files': ['neutron/tests/contrib/hooks/type_drivers'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b5dc9c14cb0e3871923d971343d865aca720d3c', 'message': ""gate_hook: configure range of GRE ids\n\nlib/neutron doesn't configure for gre by default, so we need to set the\nrange of tunnel ids ourselves if we ever want to switch to the new\ndevstack library.\n\nChange-Id: I205dde23d1e9f219736f4a5df40b4542dcd97586\n""}]",0,503925,8b5dc9c14cb0e3871923d971343d865aca720d3c,9,5,1,9656,,,0,"gate_hook: configure range of GRE ids

lib/neutron doesn't configure for gre by default, so we need to set the
range of tunnel ids ourselves if we ever want to switch to the new
devstack library.

Change-Id: I205dde23d1e9f219736f4a5df40b4542dcd97586
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/503925/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/contrib/hooks/type_drivers'],1,8b5dc9c14cb0e3871923d971343d865aca720d3c,new-neutron-devstack-in-gate, [ml2_type_gre] tunnel_id_ranges = 1:1000,,3,0
openstack%2Fneutron~master~I863fde51f488b76cc2613dbbc59455801cfd4195,openstack/neutron,master,I863fde51f488b76cc2613dbbc59455801cfd4195,Fixing external hyperlink.,MERGED,2017-09-07 13:25:49.000000000,2017-09-15 01:59:53.000000000,2017-09-15 01:59:53.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7249}, {'_account_id': 9656}, {'_account_id': 15752}, {'_account_id': 23310}]","[{'number': 1, 'created': '2017-09-07 13:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93246824413ec4b0e979ee7f0e5430a0cdfcc8df', 'message': 'closes out bug 1715629\n\nChange-Id: I863fde51f488b76cc2613dbbc59455801cfd4195\n'}, {'number': 2, 'created': '2017-09-11 07:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a48f70417f733e95a6d311567b7fe43aabea4068', 'message': 'Closes-bug: #1715629\n\nChange-Id: I863fde51f488b76cc2613dbbc59455801cfd4195\n'}, {'number': 3, 'created': '2017-09-11 07:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e87a4c423622136164481fbc899684f29dcd419', 'message': 'Closes-bug: #1715629\n\nFixes a documentation hyperlink issue -:\n\n* Goto doc page - https://docs.openstack.org/neutron/latest/contributor/internals/sriov_nic_agent.html\n\n* Refer the hyperlink for text   ""SR-IOV Passthrough For Networking""\n  It is currently broken.\n\n* It should point to https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking\n  instead of the current one\n  https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking/\n\n* This fixes the hyperlink on the doc page.\n\nChange-Id: I863fde51f488b76cc2613dbbc59455801cfd4195\n'}, {'number': 4, 'created': '2017-09-11 09:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0edab5bcd52cf422ae8b24d1c276ac3c2792c825', 'message': 'Fixing external hyperlink.\n\nFixes a documentation hyperlink issue -:\n\n* Goto doc page - https://docs.openstack.org/neutron/latest/contributor/internals/sriov_nic_agent.html\n\n* Refer the hyperlink for text   ""SR-IOV Passthrough For Networking""\n  It is currently broken.\n\n* It should point to https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking\n  instead of the current one\n  https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking/\n\n* This fixes the hyperlink on the doc page.\n\nChange-Id: I863fde51f488b76cc2613dbbc59455801cfd4195\nCloses-bug: #1715629\n'}, {'number': 5, 'created': '2017-09-13 05:54:02.000000000', 'files': ['doc/source/contributor/internals/sriov_nic_agent.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/67b9402ea65677ab5e0a930a16bfbba25eac376b', 'message': 'Fixing external hyperlink.\n\nFixes a documentation hyperlink issue -:\n\n* Goto doc page - https://docs.openstack.org/neutron/latest/contributor/internals/sriov_nic_agent.html\n\n* Refer the hyperlink for text   ""SR-IOV Passthrough For Networking""\n  It is currently broken.\n\n* It should point to https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking\n  instead of the current one\n  https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking/\n\n* This fixes the hyperlink on the doc page.\n\nCloses-Bug: #1715629\nChange-Id: I863fde51f488b76cc2613dbbc59455801cfd4195\n'}]",2,501725,67b9402ea65677ab5e0a930a16bfbba25eac376b,20,7,5,26307,,,0,"Fixing external hyperlink.

Fixes a documentation hyperlink issue -:

* Goto doc page - https://docs.openstack.org/neutron/latest/contributor/internals/sriov_nic_agent.html

* Refer the hyperlink for text   ""SR-IOV Passthrough For Networking""
  It is currently broken.

* It should point to https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking
  instead of the current one
  https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking/

* This fixes the hyperlink on the doc page.

Closes-Bug: #1715629
Change-Id: I863fde51f488b76cc2613dbbc59455801cfd4195
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/501725/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/internals/sriov_nic_agent.rst'],1,93246824413ec4b0e979ee7f0e5430a0cdfcc8df,bug/1715629,* `SR-IOV Passthrough For Networking <https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking>`_,* `SR-IOV Passthrough For Networking <https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking/>`_,1,1
openstack%2Fneutron~master~I53f10286a109629d72f8d7a3e8db46568fdb72bf,openstack/neutron,master,I53f10286a109629d72f8d7a3e8db46568fdb72bf,Fixing hyperlink issue,MERGED,2017-09-07 12:39:53.000000000,2017-09-15 01:59:39.000000000,2017-09-15 01:59:39.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7249}, {'_account_id': 9656}, {'_account_id': 10068}, {'_account_id': 15752}, {'_account_id': 17645}, {'_account_id': 26307}]","[{'number': 1, 'created': '2017-09-07 12:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/add3e518ab2bdbba5abae02b55bf47de218ded68', 'message': 'closes out bug id 1712787\n\nChange-Id: I53f10286a109629d72f8d7a3e8db46568fdb72bf\n'}, {'number': 2, 'created': '2017-09-11 06:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cab5f1459dd29be2140c689ae6c458b190dfe97', 'message': 'Closes-bug: #1712787\n\nChange-Id: I53f10286a109629d72f8d7a3e8db46568fdb72bf\n'}, {'number': 3, 'created': '2017-09-11 07:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b4f300ebad1a9fb1abb1630d19438893ff4dfef', 'message': 'Closes-bug: #1712787\n\nFixes a documentation hyperlink issue -:\n\n* Refer to doc page -:  https://docs.openstack.org/neutron/latest/contributor/internals/openvswitch_agent.html\n  for string  ""Networking in too much detail""\n\n* Hyperlink for above string is broken\n  It is pointing to http://openstack.redhat.com/Networking_in_too_much_detail#Networking_in_too_much_detail\n\n* Instead it should point to  http://openstack.redhat.com/networking/networking-in-too-much-detail/\n\n* This fix would correct the hyperlink on the doc page.\n\nChange-Id: I53f10286a109629d72f8d7a3e8db46568fdb72bf\n'}, {'number': 4, 'created': '2017-09-11 08:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/537e9427c434981835a594305b826bccf54726ed', 'message': 'Fixing hyperlink issue\n\nFixes a documentation hyperlink issue -:\n\n* Refer to doc page -:  https://docs.openstack.org/neutron/latest/contributor/internals/openvswitch_agent.html\n  for string  ""Networking in too much detail""\n\n* Hyperlink for above string is broken\n  It is pointing to http://openstack.redhat.com/Networking_in_too_much_detail#Networking_in_too_much_detail\n\n* Instead it should point to  http://openstack.redhat.com/networking/networking-in-too-much-detail/\n\n* This fix would correct the hyperlink on the doc page.\n\nChange-Id: I53f10286a109629d72f8d7a3e8db46568fdb72bf\nCloses-bug: #1712787\n'}, {'number': 5, 'created': '2017-09-13 09:38:41.000000000', 'files': ['doc/source/contributor/internals/openvswitch_agent.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfb3dc5c2db7ae0bb07f651507db333c93b742ef', 'message': 'Fixing hyperlink issue\n\nFixes a documentation hyperlink issue -:\n\n* Refer to doc page -:  https://docs.openstack.org/neutron/latest/contributor/internals/openvswitch_agent.html\n  for string  ""Networking in too much detail""\n\n* Hyperlink for above string is broken\n  It is pointing to http://openstack.redhat.com/Networking_in_too_much_detail#Networking_in_too_much_detail\n\n* Instead it should point to  http://openstack.redhat.com/networking/networking-in-too-much-detail/\n\n* This fix would correct the hyperlink on the doc page.\n\nChange-Id: I53f10286a109629d72f8d7a3e8db46568fdb72bf\nCloses-Bug: #1712787\n'}]",4,501718,cfb3dc5c2db7ae0bb07f651507db333c93b742ef,26,9,5,26307,,,0,"Fixing hyperlink issue

Fixes a documentation hyperlink issue -:

* Refer to doc page -:  https://docs.openstack.org/neutron/latest/contributor/internals/openvswitch_agent.html
  for string  ""Networking in too much detail""

* Hyperlink for above string is broken
  It is pointing to http://openstack.redhat.com/Networking_in_too_much_detail#Networking_in_too_much_detail

* Instead it should point to  http://openstack.redhat.com/networking/networking-in-too-much-detail/

* This fix would correct the hyperlink on the doc page.

Change-Id: I53f10286a109629d72f8d7a3e8db46568fdb72bf
Closes-Bug: #1712787
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/501718/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/internals/openvswitch_agent.rst'],1,add3e518ab2bdbba5abae02b55bf47de218ded68,bug/1712787,detail <http://openstack.redhat.com/Networking-in-too-much-detail/>`_,detail <http://openstack.redhat.com/Networking_in_too_much_detail>`_,1,1
openstack%2Fcinder~master~I461c0f12745ce840496e0e1b5c80493a583d2de0,openstack/cinder,master,I461c0f12745ce840496e0e1b5c80493a583d2de0,Api-ref: modify v2/v3 transfer API,ABANDONED,2017-06-27 04:04:12.000000000,2017-09-15 01:53:07.000000000,,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-06-27 04:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f6178d2b0efdee6ebcae67afce391d5aab3ada3', 'message': 'Api-ref: modify v2/v3 tansfer API\n\nThere is no response example about v2/v3 transfer accept and create\naction, and delete the interfaces that are not used.\n\nChange-Id: I461c0f12745ce840496e0e1b5c80493a583d2de0\n'}, {'number': 2, 'created': '2017-06-27 05:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea5b187964c9d7d33306c08b3513e9ce89bbe284', 'message': 'Api-ref: modify v2/v3 tansfer API\n\nThere is no response example about v2/v3 transfer accept and create\naction, and delete the interfaces that are not used.\n\nChange-Id: I461c0f12745ce840496e0e1b5c80493a583d2de0\n'}, {'number': 3, 'created': '2017-06-27 05:56:31.000000000', 'files': ['api-ref/source/v3/samples/volume-transfers-list-response.json', 'api-ref/source/v3/os-vol-transfer-v3.inc', 'api-ref/source/v2/os-vol-transfer-v2.inc', 'api-ref/source/v2/samples/volume-transfers-list-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f21380c9dbfffbc6f40e252f652101abd55b49ec', 'message': 'Api-ref: modify v2/v3 transfer API\n\nThere is no response example about v2/v3 transfer accept and create\naction, and delete the interfaces that are not used.\n\nChange-Id: I461c0f12745ce840496e0e1b5c80493a583d2de0\n'}]",0,477737,f21380c9dbfffbc6f40e252f652101abd55b49ec,39,29,3,25388,,,0,"Api-ref: modify v2/v3 transfer API

There is no response example about v2/v3 transfer accept and create
action, and delete the interfaces that are not used.

Change-Id: I461c0f12745ce840496e0e1b5c80493a583d2de0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/477737/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/volume-transfers-list-response.json', 'api-ref/source/v2/os-vol-transfer-v2.inc', 'api-ref/source/v2/samples/volume-transfers-list-response.json', 'api-ref/source/v3/os-vol-transfer-v3.inc']",4,8f6178d2b0efdee6ebcae67afce391d5aab3ada3,modify_transfer,Response Example --------------- .. literalinclude:: ./samples/volume-transfer-accept-response.json :language: javascript --------------- .. literalinclude:: ./samples/volume-transfer-create-response.json, List volume transfers for a project ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. rest_method:: GET /v3/{project_id}/os-volume-transfer Lists volume transfers. Normal response codes: 200 Error response codes: Request ------- .. rest_parameters:: parameters.yaml - project_id: project_id_path Response Parameters ------------------- .. rest_parameters:: parameters.yaml - volume_id: volume_id - id: id - links: links - name: name ---------------- .. literalinclude:: ./samples/volume-transfers-list-response.json,16,136
openstack%2Fdevstack-gate~master~I0fa833a95202a7c2ed3b4aae12e4c90f8da0922d,openstack/devstack-gate,master,I0fa833a95202a7c2ed3b4aae12e4c90f8da0922d,Fix junk whitespace character typo,MERGED,2017-09-14 16:01:04.000000000,2017-09-15 01:50:21.000000000,2017-09-15 01:50:21.000000000,"[{'_account_id': 3}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-09-14 16:01:04.000000000', 'files': ['playbooks/roles/ovs_vxlan_bridge_peers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/dee9f099e79f38ae2018c214bbbf7e83083d6292', 'message': 'Fix junk whitespace character typo\n\nChange-Id: I0fa833a95202a7c2ed3b4aae12e4c90f8da0922d\n'}]",0,504096,dee9f099e79f38ae2018c214bbbf7e83083d6292,6,2,1,9061,,,0,"Fix junk whitespace character typo

Change-Id: I0fa833a95202a7c2ed3b4aae12e4c90f8da0922d
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/96/504096/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/ovs_vxlan_bridge_peers/tasks/main.yaml'],1,dee9f099e79f38ae2018c214bbbf7e83083d6292,," offset: ""{{ ovs_starting_offset | int + 1 + groups['all'].index(inventory_hostname) }}"""," offset: ""{{ ovs_starting_offset | int + 1 + groups['all'].index(inventory_hostname) }}""",1,1
openstack%2Fdevstack-gate~master~Ia6dcb13803a549390cad736849a26c92494a914c,openstack/devstack-gate,master,Ia6dcb13803a549390cad736849a26c92494a914c,Zuulv3: Ansiblise ephemeral/swap setup,MERGED,2017-09-14 17:30:10.000000000,2017-09-15 01:49:25.000000000,2017-09-15 01:49:25.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-14 17:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d01c2bb075355aafc9cc125de250adcf1c08ac91', 'message': 'Zuulv3: Ansiblise ephemeral/swap setup\n\nMove the ""fix_disk_layout"" role from a big shell script to ansible\nsteps for the native v3 devstack job.\n\nThis change is based on Icd4e6d8ab84471ad06e69c3e0f9bac92776efc78.\n\n(Requires Ansible 2.3 for the parted module)\n\nChange-Id: Ia6dcb13803a549390cad736849a26c92494a914c\nDepends-On: I2a59e22a38918ae45e0518b0af85ad6e8bc9423c\n'}, {'number': 2, 'created': '2017-09-14 17:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f170e9edb2ed811149dcda41e55a55cc79da572a', 'message': 'Zuulv3: Ansiblise ephemeral/swap setup\n\nMove the ""fix_disk_layout"" role from a big shell script to ansible\nsteps for the native v3 devstack job.\n\nThis change is based on Icd4e6d8ab84471ad06e69c3e0f9bac92776efc78.\n\n(Requires Ansible 2.3 for the parted module)\n\nChange-Id: Ia6dcb13803a549390cad736849a26c92494a914c\nDepends-On: I2a59e22a38918ae45e0518b0af85ad6e8bc9423c\n'}, {'number': 3, 'created': '2017-09-14 17:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/92e39406d8f9615a3f75e2e44f78112889246999', 'message': 'Zuulv3: Ansiblise ephemeral/swap setup\n\nMove the ""fix_disk_layout"" role from a big shell script to ansible\nsteps for the native v3 devstack job.\n\nThis change is based on Icd4e6d8ab84471ad06e69c3e0f9bac92776efc78.\n\n(Requires Ansible 2.3 for the parted module)\n\nChange-Id: Ia6dcb13803a549390cad736849a26c92494a914c\nDepends-On: I2a59e22a38918ae45e0518b0af85ad6e8bc9423c\n'}, {'number': 4, 'created': '2017-09-14 19:44:24.000000000', 'files': ['roles/configure-swap/tasks/root.yaml', 'roles/configure-swap/defaults/main.yaml', 'playbooks/pre.yaml', 'roles/configure-swap/tasks/main.yaml', 'roles/configure-swap/README.rst', 'roles/configure-swap/tasks/ephemeral.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/96978baec5feb07ed115cf8d5ea69f15d1109ce6', 'message': 'Zuulv3: Ansiblise ephemeral/swap setup\n\nMove the ""fix_disk_layout"" role from a big shell script to ansible\nsteps for the native v3 devstack job.\n\nThis change is based on Icd4e6d8ab84471ad06e69c3e0f9bac92776efc78.\n\n(Requires Ansible 2.3 for the parted module)\n\nChange-Id: Ia6dcb13803a549390cad736849a26c92494a914c\nDepends-On: I2a59e22a38918ae45e0518b0af85ad6e8bc9423c\n'}]",0,504142,96978baec5feb07ed115cf8d5ea69f15d1109ce6,15,5,4,1,,,0,"Zuulv3: Ansiblise ephemeral/swap setup

Move the ""fix_disk_layout"" role from a big shell script to ansible
steps for the native v3 devstack job.

This change is based on Icd4e6d8ab84471ad06e69c3e0f9bac92776efc78.

(Requires Ansible 2.3 for the parted module)

Change-Id: Ia6dcb13803a549390cad736849a26c92494a914c
Depends-On: I2a59e22a38918ae45e0518b0af85ad6e8bc9423c
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/42/504142/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/configure_swap/README.rst', 'roles/configure_swap/defaults/main.yaml', 'playbooks/pre.yaml', 'roles/configure_swap/tasks/ephemeral.yaml', 'roles/configure_swap/tasks/main.yaml', 'roles/configure_swap/tasks/root.yaml']",6,d01c2bb075355aafc9cc125de250adcf1c08ac91,,"# If no ephemeral devices are available, use root filesystem - name: Calculate required swap set_fact: swap_required: ""{{ configure_swap_size - ansible_memory_mb['swap']['total'] | int }}"" - block: - name: Get root filesystem shell: df --output='fstype' /root | tail -1 register: root_fs - name: Save root filesystem set_fact: root_filesystem: ""{{ root_fs.stdout }}"" - debug: var=root_filesystem # Note, we don't use a sparse device to avoid wedging when disk space # and memory are both unavailable. # Cannot fallocate on filesystems like XFS, so use slower dd - name: Create swap backing file for non-EXT fs when: '""ext"" not in root_filesystem' become: yes command: dd if=/dev/zero of=/root/swapfile bs=1M count={{ swap_required }} args: creates: /root/swapfile - name: Create sparse swap backing file for EXT fs when: '""ext"" in root_filesystem' become: yes command: fallocate -l {{ swap_required }}M /root/swapfile args: creates: /root/swapfile - name: Ensure swapfile perms become: yes file: path: /root/swapfile owner: root group: root mode: 0600 - name: Make swapfile become: yes command: mkswap /root/swapfile - name: Write swap to fstab become: yes mount: path: none src: /root/swapfile fstype: swap opts: sw passno: 0 dump: 0 state: present - name: Add all swap become: yes command: swapon -a - debug: var=swap_required ",,251,0
openstack%2Freleases~master~Ic272923120300344990daa2f965ff12bf375b25d,openstack/releases,master,Ic272923120300344990daa2f965ff12bf375b25d,Release python-moganclient 0.1.0,ABANDONED,2017-09-14 12:19:55.000000000,2017-09-15 01:46:31.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6610}]","[{'number': 1, 'created': '2017-09-14 12:19:55.000000000', 'files': ['deliverables/queens/python-moganclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7c325164407c98025f0da860e61e3697d9195599', 'message': 'Release python-moganclient 0.1.0\n\nChange-Id: Ic272923120300344990daa2f965ff12bf375b25d\n'}]",0,504041,7c325164407c98025f0da860e61e3697d9195599,6,3,1,6610,,,0,"Release python-moganclient 0.1.0

Change-Id: Ic272923120300344990daa2f965ff12bf375b25d
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/504041/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/python-moganclient.yaml'],1,7c325164407c98025f0da860e61e3697d9195599,,--- include-pypi-link: yes launchpad: python-moganclient release-model: cycle-with-intermediary team: mogan type: library releases: - version: 0.1.0 projects: - repo: openstack/python-moganclient hash: 68c463fe7a22273f892e027194c0fdd0bf335cf5 ,,11,0
openstack%2Fcyborg~master~I5d565d0d7ed56c27555666e52e34f5fd67005dcf,openstack/cyborg,master,I5d565d0d7ed56c27555666e52e34f5fd67005dcf,add api unit test,MERGED,2017-08-28 10:05:50.000000000,2017-09-15 01:25:09.000000000,2017-09-15 01:25:09.000000000,"[{'_account_id': 3}, {'_account_id': 11878}, {'_account_id': 13629}, {'_account_id': 22306}, {'_account_id': 25847}]","[{'number': 1, 'created': '2017-08-28 10:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/084b343ae6fc529eabfb4bac0e4db3ddcd126448', 'message': 'add api unit test\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n'}, {'number': 2, 'created': '2017-08-28 11:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d3757daad091c9fbfbf5873d48f5af18d417f64b', 'message': 'WIP: add api unit test\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n'}, {'number': 3, 'created': '2017-08-28 17:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e3220908c713563f14dcba766c8757129189de71', 'message': 'WIP: add api unit test\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n'}, {'number': 4, 'created': '2017-08-28 18:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/00d90dfba01e25b85716a0b6b45a946508cef8c7', 'message': 'WIP: add api unit test\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n'}, {'number': 5, 'created': '2017-08-29 03:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f87d871cb442a30a3f25ce46e8df9aa3d5b2b234', 'message': 'WIP: add api unit test\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n'}, {'number': 6, 'created': '2017-08-29 04:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f24358c2a4b715131aa114a62d275f5019bf3331', 'message': 'add api unit test\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n'}, {'number': 7, 'created': '2017-09-03 13:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cc8e0ceafd40ae816007249df643a7b94b740a27', 'message': ""add api unit test\n\nadd api unit test to validate the accelerator_post function.\n\n1. mock the return value of accelerator_create function in accelerator_post\n   function with a fake accelerator object created via sqlite backend\n2. create a fake request data\n3. post request to '/accelerators' endpoint\n4. check the response data\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n""}, {'number': 8, 'created': '2017-09-07 07:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/33de18fee9f13da9eaa2002c02b0d0785c7560b7', 'message': ""add api unit test\n\nadd api unit test to validate the accelerator_post function.\n\n1. load a test app for pecan framework test\n2. mock the return value of accelerator_create function in accelerator_post\n   function with a fake accelerator object created via sqlite backend\n3. create a fake request data\n4. post request to '/accelerators' endpoint\n5. do the check\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n""}, {'number': 9, 'created': '2017-09-07 09:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/fd124c660c801bbfdfab54c135de74a3c451a29c', 'message': ""add api unit test\n\nadd api unit test to validate the accelerator_post function.\n\n1. load a test app for pecan framework test\n2. mock the return value of accelerator_create function in accelerator_post\n   function with a fake accelerator object created via sqlite backend\n3. create a fake request data\n4. post request to '/accelerators' endpoint\n5. do the check\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n""}, {'number': 10, 'created': '2017-09-12 01:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4a59d4c261b930449081447b79bf3cb4680bce01', 'message': ""add api unit test\n\nadd api unit test to validate the accelerator_post function.\n\n1. load a test app for pecan framework test\n2. mock the return value of accelerator_create function in accelerator_post\n   function with a fake accelerator object created via sqlite backend\n3. create a fake request data\n4. post request to '/accelerators' endpoint\n5. do the check\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n""}, {'number': 11, 'created': '2017-09-14 05:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/447844e678b55f455f4560ee6e26ba59bca9dac0', 'message': ""add api unit test\n\nadd api unit test to validate the accelerator_post function.\n\n1. load a test app for pecan framework test\n2. mock out the accelerator_create function in Conductor RPCAPI\n3. post test request to '/accelerators' endpoint\n4. do the check between request and response\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n""}, {'number': 12, 'created': '2017-09-14 05:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/453a378a67ea90476aa7beca5518cf491453a155', 'message': ""add api unit test\n\nadd api unit test to validate the accelerator_post function.\n\n1. load a test app for pecan framework test\n2. mock out the accelerator_create function in Conductor RPCAPI\n3. post test request to '/accelerators' endpoint\n4. do the check between request and response\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n""}, {'number': 13, 'created': '2017-09-14 05:57:24.000000000', 'files': ['cyborg/api/controllers/v1/accelerators.py', 'cyborg/tests/unit/__init__.py', 'cyborg/tests/unit/api/base.py', 'test-requirements.txt', 'cyborg/tests/unit/api/__init__.py', 'cyborg/tests/test_cyborg.py', 'cyborg/tests/unit/db/__init__.py', 'cyborg/tests/base.py', 'cyborg/tests/unit/api/controllers/__init__.py', 'cyborg/tests/unit/db/base.py', 'cyborg/tests/unit/db/utils.py', 'cyborg/conductor/manager.py', 'cyborg/conductor/rpcapi.py', 'cyborg/tests/unit/api/controllers/v1/test_accelerators.py', 'cyborg/common/service.py', 'cyborg/tests/unit/api/controllers/v1/__init__.py', 'cyborg/tests/functional/__init__.py', 'tox.ini', 'cyborg/common/config.py', 'cyborg/tests/unit/api/controllers/v1/base.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2a71b8efe60f3324077d3c5f367eddfd3b7a14b4', 'message': ""add api unit test\n\nadd api unit test to validate the accelerator_post function.\n\n1. load a test app for pecan framework test\n2. mock out the accelerator_create function in Conductor RPCAPI\n3. post test request to '/accelerators' endpoint\n4. do the check between request and response\n\nChange-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf\n""}]",0,498410,2a71b8efe60f3324077d3c5f367eddfd3b7a14b4,38,5,13,25847,,,0,"add api unit test

add api unit test to validate the accelerator_post function.

1. load a test app for pecan framework test
2. mock out the accelerator_create function in Conductor RPCAPI
3. post test request to '/accelerators' endpoint
4. do the check between request and response

Change-Id: I5d565d0d7ed56c27555666e52e34f5fd67005dcf
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/10/498410/13 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/__init__.py', 'test-requirements.txt', 'cyborg/tests/unit/api/v1/test_accelerators.py', 'cyborg/tests/unit/api/__init__.py', 'cyborg/tests/test_cyborg.py', 'cyborg/tests/unit/api/v1/__init__.py', 'cyborg/tests/unit/db/__init__.py', 'cyborg/tests/base.py', 'tox.ini', 'cyborg/tests/unit/db/utils.py']",10,084b343ae6fc529eabfb4bac0e4db3ddcd126448,api-unit-test,"# Copyright 2017 Huawei Technologies Co.,LTD. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Cyborg test utilities."""""" from cyborg.db import api as dbapi def get_test_accelerator(**kw): return { 'name': kw.get('name', 'name'), 'description': kw.get('description', 'description'), 'device_type': kw.get('device_type', 'device_type'), 'acc_type': kw.get('acc_type', 'acc_type'), 'acc_capability': kw.get('acc_capability', 'acc_capability'), 'vendor_id': kw.get('vendor_id', 'vendor_id'), 'product_id': kw.get('product_id', 'product_id'), 'remotable': kw.get('remotable', 1), } def create_test_accelerator(context=None, **kw): """"""Create test Accelerator entry in DB and return Accelerator DB object. Function to be used to create test Accelerator objects in the database. :param context: The request context, for access checks. :param kw: kwargs with overriding values for Accelerator's attributes. :returns: Test Accelerator DB object. """""" context = context or {} accelerator = get_test_accelerator(**kw) db_api = dbapi.get_instance() return db_api.accelerator_create(context, accelerator) ",,227,56
openstack%2Fopenstack-ansible~stable%2Fpike~I5813d77dd7e5782afca7b4a58091952298e80322,openstack/openstack-ansible,stable/pike,I5813d77dd7e5782afca7b4a58091952298e80322,Set the LXC download mirror properly,MERGED,2017-09-14 16:50:20.000000000,2017-09-15 01:12:46.000000000,2017-09-15 01:12:46.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-14 16:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bc592989c4f28e51f3af7aa22fae138080dcaff7', 'message': 'Set the LXC download mirror properly\n\nThe LXC reverse proxy from nodepool was not being used by the\nlxc_hosts role and this patch fixes it.\n\nCloses-Bug: 1716958\nChange-Id: I5813d77dd7e5782afca7b4a58091952298e80322\n(cherry picked from commit 7b8d6502f346ad885eb6ca846758ae687b79ae4b)\n'}, {'number': 2, 'created': '2017-09-14 16:59:34.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/78200e1e5c2fd8e1bb7ccf6050626eb53419b087', 'message': ""Set the LXC download mirror properly\n\nThe LXC reverse proxy from nodepool was not being used by the\nlxc_hosts role and this patch fixes it.\n\nThis also includes Logan's patch from master which cleans up\nthe variable definition.\n\nCloses-Bug: 1716958\nChange-Id: I5813d77dd7e5782afca7b4a58091952298e80322\n(cherry picked from commit 7b8d6502f346ad885eb6ca846758ae687b79ae4b)\n""}]",0,504120,78200e1e5c2fd8e1bb7ccf6050626eb53419b087,11,4,2,538,,,0,"Set the LXC download mirror properly

The LXC reverse proxy from nodepool was not being used by the
lxc_hosts role and this patch fixes it.

This also includes Logan's patch from master which cleans up
the variable definition.

Closes-Bug: 1716958
Change-Id: I5813d77dd7e5782afca7b4a58091952298e80322
(cherry picked from commit 7b8d6502f346ad885eb6ca846758ae687b79ae4b)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/504120/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,bc592989c4f28e51f3af7aa22fae138080dcaff7,bug/1716958,lxc_image_cache_server_mirrors: {{ ['http://' + lxc_image_cache_server] }},lxc_image_cache_server: {{ lxc_image_cache_server }},1,1
openstack%2Fopenstack-ansible~master~I4ae5314fa6aa4ea09bbe0806717022b155c2249c,openstack/openstack-ansible,master,I4ae5314fa6aa4ea09bbe0806717022b155c2249c,Fix lxc_image_cache_server_mirrors string concat,MERGED,2017-09-14 14:39:59.000000000,2017-09-15 01:12:40.000000000,2017-09-15 01:12:40.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-14 14:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c90c187ad371b9d5e18c3e09b0dafd9ffb0fae5a', 'message': 'Fix lxc_image_cache_server_mirrors string concat\n\nChange-Id: I4ae5314fa6aa4ea09bbe0806717022b155c2249c\n'}, {'number': 2, 'created': '2017-09-14 16:56:53.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eea033f803d110abc483713b8ee968b27ce786ec', 'message': 'Fix lxc_image_cache_server_mirrors string concat\n\nChange-Id: I4ae5314fa6aa4ea09bbe0806717022b155c2249c\n'}]",0,504065,eea033f803d110abc483713b8ee968b27ce786ec,12,4,2,17799,,,0,"Fix lxc_image_cache_server_mirrors string concat

Change-Id: I4ae5314fa6aa4ea09bbe0806717022b155c2249c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/504065/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,c90c187ad371b9d5e18c3e09b0dafd9ffb0fae5a,bug/1716958,"lxc_image_cache_server_mirrors: - ""http://{{ lxc_image_cache_server }}""",lxc_image_cache_server_mirrors: {{ ['http://' + lxc_image_cache_server] }},2,1
openstack%2Fopenstack-ansible~master~Ia3e2cd4eccf19f37442978ffe90cb54806b0a14b,openstack/openstack-ansible,master,Ia3e2cd4eccf19f37442978ffe90cb54806b0a14b,Upgrade ceph release to Luminous,MERGED,2017-09-13 21:16:45.000000000,2017-09-15 01:12:34.000000000,2017-09-15 01:12:34.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17799}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-13 21:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8bf1fff975b9cdb8977d62d98e2c9d9ae3731739', 'message': 'Upgrade ceph release to Luminous\n\nThe Pike UCA repo has been bumped to include the recently released\nCeph LTS, Luminous (12.x). Since the UCA repo is installed almost\nglobally in our deployment, this creates package conflicts when we\nattempt to deploy the former Ceph LTS, Jewel (10.x) releases.\n\nWe will bump our Ceph stable release to the Luminous release for Pike\nand later to avoid the package conflicts with UCA.\n\nChange-Id: Ia3e2cd4eccf19f37442978ffe90cb54806b0a14b\n'}, {'number': 2, 'created': '2017-09-14 04:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cfb2dbdbe474b744677da800700f536a213dd28e', 'message': 'Upgrade ceph release to Luminous\n\nThe Pike UCA repo has been bumped to include the recently released\nCeph LTS, Luminous (12.x). Since the UCA repo is installed almost\nglobally in our deployment, this creates package conflicts when we\nattempt to deploy the former Ceph LTS, Jewel (10.x) releases.\n\nWe will bump our Ceph stable release to the Luminous release for Pike\nand later to avoid the package conflicts with UCA.\n\nThis also adds the ceph-mgr role execution since the ceph-mgr service\nis required in Luminous. See http://docs.ceph.com/docs/master/mgr/ for\nmore information.\n\nChange-Id: Ia3e2cd4eccf19f37442978ffe90cb54806b0a14b\n'}, {'number': 3, 'created': '2017-09-14 13:12:55.000000000', 'files': ['group_vars/all/ceph.yml', 'releasenotes/notes/ceph-luminous-d1ff5c08452a9887.yaml', 'ansible-role-requirements.yml', 'playbooks/ceph-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5b3e5a74e1395a02bd4c9bc36f5b1a5d67da5c24', 'message': 'Upgrade ceph release to Luminous\n\nThe Pike UCA repo has been bumped to include the recently released\nCeph LTS, Luminous (12.x). Since the UCA repo is installed almost\nglobally in our deployment, this creates package conflicts when we\nattempt to deploy the former Ceph LTS, Jewel (10.x) releases.\n\nWe will bump our Ceph stable release to the Luminous release for Pike\nand later to avoid the package conflicts with UCA.\n\nThis also adds the ceph-mgr role execution since the ceph-mgr service\nis required in Luminous. See http://docs.ceph.com/docs/master/mgr/ for\nmore information.\n\nChange-Id: Ia3e2cd4eccf19f37442978ffe90cb54806b0a14b\n'}]",2,503826,5b3e5a74e1395a02bd4c9bc36f5b1a5d67da5c24,16,5,3,17799,,,0,"Upgrade ceph release to Luminous

The Pike UCA repo has been bumped to include the recently released
Ceph LTS, Luminous (12.x). Since the UCA repo is installed almost
globally in our deployment, this creates package conflicts when we
attempt to deploy the former Ceph LTS, Jewel (10.x) releases.

We will bump our Ceph stable release to the Luminous release for Pike
and later to avoid the package conflicts with UCA.

This also adds the ceph-mgr role execution since the ceph-mgr service
is required in Luminous. See http://docs.ceph.com/docs/master/mgr/ for
more information.

Change-Id: Ia3e2cd4eccf19f37442978ffe90cb54806b0a14b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/503826/3 && git format-patch -1 --stdout FETCH_HEAD,"['group_vars/all/ceph.yml', 'releasenotes/notes/ceph-luminous-d1ff5c08452a9887.yaml']",2,8bf1fff975b9cdb8977d62d98e2c9d9ae3731739,ceph-luminous,--- features: - The Ceph stable release used by openstack-ansible and its ceph-ansible integration has been changed to the recent `Ceph LTS <http://ceph.com/releases/v12-2-0-luminous-released/>`_ Luminous release. upgrade: - The Ceph stable release used by openstack-ansible and its ceph-ansible integration has been changed to the recent `Ceph LTS <http://ceph.com/releases/v12-2-0-luminous-released/>`_ Luminous release. ,,10,1
openstack%2Fsolum~master~If18cfcc1e8bce720203f6df3f46a982ca20a7fc6,openstack/solum,master,If18cfcc1e8bce720203f6df3f46a982ca20a7fc6,Remove usage of parameter enforce_type,ABANDONED,2017-09-08 08:26:58.000000000,2017-09-15 01:04:33.000000000,,"[{'_account_id': 3}, {'_account_id': 14107}]","[{'number': 1, 'created': '2017-09-08 08:26:58.000000000', 'files': ['solum/tests/api/test_auth.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/0afdbce2b16eee36b660630cd114ddb6f4aae828', 'message': 'Remove usage of parameter enforce_type\n\nOslo.config deprecated parameter enforce_type and change its default\nvalue to True in Ifa552de0a994e40388cbc9f7dbaa55700ca276b0. Remove the\nusage of it to avoid DeprecationWarning: ""Using the \'enforce_type\'\nargument is deprecated in version \'4.0\' and will be removed in version\n\'5.0\': The argument enforce_type has changed its default value to True\nand then will be removed completely.""\n\nChange-Id: If18cfcc1e8bce720203f6df3f46a982ca20a7fc6\nCloses-Bug:#1712255\n'}]",0,501990,0afdbce2b16eee36b660630cd114ddb6f4aae828,4,2,1,26617,,,0,"Remove usage of parameter enforce_type

Oslo.config deprecated parameter enforce_type and change its default
value to True in Ifa552de0a994e40388cbc9f7dbaa55700ca276b0. Remove the
usage of it to avoid DeprecationWarning: ""Using the 'enforce_type'
argument is deprecated in version '4.0' and will be removed in version
'5.0': The argument enforce_type has changed its default value to True
and then will be removed completely.""

Change-Id: If18cfcc1e8bce720203f6df3f46a982ca20a7fc6
Closes-Bug:#1712255
",git fetch https://review.opendev.org/openstack/solum refs/changes/90/501990/1 && git format-patch -1 --stdout FETCH_HEAD,['solum/tests/api/test_auth.py'],1,0afdbce2b16eee36b660630cd114ddb6f4aae828,1712255, group=auth.OPT_GROUP_NAME) group=auth.OPT_GROUP_NAME)," group=auth.OPT_GROUP_NAME, enforce_type=False) group=auth.OPT_GROUP_NAME, enforce_type=False)",2,4
openstack%2Fheat~stable%2Fnewton~I4422e4cf41cb57cdc89548d01b0abc27cda914ef,openstack/heat,stable/newton,I4422e4cf41cb57cdc89548d01b0abc27cda914ef,Deal correctly with negative elapsed time,MERGED,2017-06-01 16:21:42.000000000,2017-09-15 00:58:28.000000000,2017-09-15 00:58:28.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 7385}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-06-01 16:21:42.000000000', 'files': ['heat/tests/test_stack.py', 'heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8c8e15c9ceb181a17b5c006fae2d48ad3a13e6fc', 'message': ""Deal correctly with negative elapsed time\n\nSince we're comparing local time to database time, we need to correctly\nhandle negative offsets to account for clock skew. The datetime.timedelta\nclass always reports a positive number of seconds, but with a possibly\nnegative number of *days*. Therefore, take the days into account.\n\nChange-Id: I4422e4cf41cb57cdc89548d01b0abc27cda914ef\nCloses-Bug: #1688327\n(cherry picked from commit f3f05c9a3f6109ec1e102ac9677accb82eb6cc54)\n""}]",0,469937,8c8e15c9ceb181a17b5c006fae2d48ad3a13e6fc,12,4,1,4257,,,0,"Deal correctly with negative elapsed time

Since we're comparing local time to database time, we need to correctly
handle negative offsets to account for clock skew. The datetime.timedelta
class always reports a positive number of seconds, but with a possibly
negative number of *days*. Therefore, take the days into account.

Change-Id: I4422e4cf41cb57cdc89548d01b0abc27cda914ef
Closes-Bug: #1688327
(cherry picked from commit f3f05c9a3f6109ec1e102ac9677accb82eb6cc54)
",git fetch https://review.opendev.org/openstack/heat refs/changes/37/469937/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_stack.py', 'heat/engine/stack.py']",2,8c8e15c9ceb181a17b5c006fae2d48ad3a13e6fc,bug/1688327, return int((nowish - start_time).total_seconds()), return (nowish - start_time).seconds,11,1
openstack%2Fadjutant~master~I1827e853b34c05ff3753636a6c4968d86c3f565f,openstack/adjutant,master,I1827e853b34c05ff3753636a6c4968d86c3f565f,be able to disable a given API version,MERGED,2017-09-15 00:03:20.000000000,2017-09-15 00:58:21.000000000,2017-09-15 00:58:21.000000000,"[{'_account_id': 3}, {'_account_id': 10420}]","[{'number': 1, 'created': '2017-09-15 00:03:20.000000000', 'files': ['adjutant/api/urls.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/b0ce4a11673b50018ca64e12741cad5df6aeb90e', 'message': 'be able to disable a given API version\n\nChange-Id: I1827e853b34c05ff3753636a6c4968d86c3f565f\n'}]",0,504291,b0ce4a11673b50018ca64e12741cad5df6aeb90e,6,2,1,10420,,,0,"be able to disable a given API version

Change-Id: I1827e853b34c05ff3753636a6c4968d86c3f565f
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/91/504291/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/api/urls.py'],1,b0ce4a11673b50018ca64e12741cad5df6aeb90e,new/disable_versions,"from django.apps import appsurlpatterns = [] # NOTE(adriant): This may not be the best approach, but it does work. Will # gladly accept a cleaner alternative if it presents itself. if apps.is_installed('adjutant.api.v1'): urlpatterns.append(url(r'^v1/', include('adjutant.api.v1.urls'))) ","urlpatterns = [ url(r'^v1/', include('adjutant.api.v1.urls')), ]",8,3
openstack%2Fneutron~master~Ib153d75bb10375e048a8417139873bdf9dca8769,openstack/neutron,master,Ib153d75bb10375e048a8417139873bdf9dca8769,Drop the web_framework option,MERGED,2017-07-20 21:09:39.000000000,2017-09-15 00:56:30.000000000,2017-09-14 15:13:00.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 23310}]","[{'number': 1, 'created': '2017-07-20 21:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/374998e9d71f5a3cc7cec9b5be5c81727bfda5fc', 'message': 'no web_framework option\n\nChange-Id: Ib153d75bb10375e048a8417139873bdf9dca8769\n'}, {'number': 2, 'created': '2017-08-29 01:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c321894cc9ca045359c634aa586118ed3424afcb', 'message': 'Drop the web_framework option\n\nThis option is no longer needed as we have switched to pecan\nand will be deleting the legacy API layer.\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: Ib153d75bb10375e048a8417139873bdf9dca8769\n'}, {'number': 3, 'created': '2017-08-31 03:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2574d7577203824afd21d5c229121b2918d04c8e', 'message': 'Drop the web_framework option\n\nThis option is no longer needed as we have switched to pecan\nand will be deleting the legacy API layer.\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: Ib153d75bb10375e048a8417139873bdf9dca8769\n'}, {'number': 4, 'created': '2017-09-01 00:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4d23f33db9b66de83db42f444bb35c8e69b19d2', 'message': 'Drop the web_framework option\n\nThis option is no longer needed as we have switched to pecan\nand will be deleting the legacy API layer.\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: Ib153d75bb10375e048a8417139873bdf9dca8769\n'}, {'number': 5, 'created': '2017-09-12 12:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52a98229a47fa347a6bdd6fcf3f2ff811aca992f', 'message': 'Drop the web_framework option\n\nThis option is no longer needed as we have switched to pecan\nand will be deleting the legacy API layer.\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: Ib153d75bb10375e048a8417139873bdf9dca8769\n'}, {'number': 6, 'created': '2017-09-13 22:12:39.000000000', 'files': ['releasenotes/notes/web_framework_removed-6e4c5c7ca506523a.yaml', 'neutron/tests/unit/api/test_versions.py', 'neutron/conf/common.py', 'neutron/api/versions.py', 'neutron/tests/contrib/hooks/pecan', 'neutron/tests/unit/api/v2/test_router.py', 'neutron/api/v2/router.py', 'neutron/tests/functional/pecan_wsgi/test_functional.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2ea0b4652a261b948bb2e0b4b3be5f08be98793', 'message': 'Drop the web_framework option\n\nThis option is no longer needed as we have switched to pecan\nand will be deleting the legacy API layer.\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: Ib153d75bb10375e048a8417139873bdf9dca8769\n'}]",0,485825,e2ea0b4652a261b948bb2e0b4b3be5f08be98793,64,12,6,7787,,,0,"Drop the web_framework option

This option is no longer needed as we have switched to pecan
and will be deleting the legacy API layer.

Implements: blueprint wsgi-pecan-switch
Change-Id: Ib153d75bb10375e048a8417139873bdf9dca8769
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/485825/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/test_versions.py', 'neutron/conf/common.py', 'neutron/api/versions.py', 'neutron/tests/contrib/hooks/pecan', 'neutron/api/v2/router.py', 'neutron/tests/unit/api/v2/test_router.py', 'neutron/tests/functional/pecan_wsgi/test_functional.py']",7,374998e9d71f5a3cc7cec9b5be5c81727bfda5fc,bug/1714131,," cfg.CONF.set_override('web_framework', 'pecan')",4,32
openstack%2Fcinder~master~Ibd2432f569c18c5de9221e446d38b1c826836367,openstack/cinder,master,Ibd2432f569c18c5de9221e446d38b1c826836367,Change the section name from nova_group to nova,ABANDONED,2017-09-14 01:06:23.000000000,2017-09-15 00:53:17.000000000,,"[{'_account_id': 3}, {'_account_id': 1773}, {'_account_id': 10118}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 18940}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-09-14 01:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3724b26a4e3296a4dfa25c05e79acfe2e3f702e7', 'message': 'Change the section name from nova_group to nova\n\nRunning ""tox -e genconfig"" generates a sample config with a\nsection named ""nova_group"" instead of ""nova"", as it should be named.\n\nChange-Id: Ibd2432f569c18c5de9221e446d38b1c826836367\nCloses-Bug: #1717008\n'}, {'number': 2, 'created': '2017-09-14 06:12:11.000000000', 'files': ['cinder/opts.py', 'cinder/compute/nova.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/af25adb3a81c93fea5bd275a494cb4747b878cf2', 'message': 'Change the section name from nova_group to nova\n\nRunning ""tox -e genconfig"" generates a sample config with a\nsection named ""nova_group"" instead of ""nova"", as it should be named.\n\nWe\'d better use oslo-config-generator to generate cinder.conf.sample.\n\nChange-Id: Ibd2432f569c18c5de9221e446d38b1c826836367\nCloses-Bug: #1717008\n'}]",1,503884,af25adb3a81c93fea5bd275a494cb4747b878cf2,39,22,2,24564,,,0,"Change the section name from nova_group to nova

Running ""tox -e genconfig"" generates a sample config with a
section named ""nova_group"" instead of ""nova"", as it should be named.

We'd better use oslo-config-generator to generate cinder.conf.sample.

Change-Id: Ibd2432f569c18c5de9221e446d38b1c826836367
Closes-Bug: #1717008
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/503884/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/opts.py'],1,3724b26a4e3296a4dfa25c05e79acfe2e3f702e7,bug/1717008," ('nova',"," ('nova_group',",1,1
openstack%2Ftrove~master~I12d09fd70ab028da1cd2818fe380310e99b66d2d,openstack/trove,master,I12d09fd70ab028da1cd2818fe380310e99b66d2d,Added route for Admin API to support guest upgrade,MERGED,2014-03-19 01:20:03.000000000,2017-09-15 00:52:27.000000000,2014-07-07 01:54:02.000000000,"[{'_account_id': 3}, {'_account_id': 1925}, {'_account_id': 5293}, {'_account_id': 5390}, {'_account_id': 6156}, {'_account_id': 6162}, {'_account_id': 7092}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 8871}, {'_account_id': 11316}, {'_account_id': 26159}]","[{'number': 1, 'created': '2014-03-19 01:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/230649b96aa524fe8a865bbd354bab4af897172a', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint https://blueprints.launchpad.net/trove/+spec/upgrade-guestagent\n'}, {'number': 2, 'created': '2014-03-20 18:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9346ce5d9ff1528fa474d2fb5f4fc842b0a16ffe', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 3, 'created': '2014-03-21 23:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1c7430235ae097aa58b9a3a37bf210df530fd8ed', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 4, 'created': '2014-03-22 00:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/188228e0434500925715233c325c4f6c40508651', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 5, 'created': '2014-03-24 17:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4d2d44038f1f2584fef88082c75200043d3b2ff2', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 6, 'created': '2014-03-24 19:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e2d08cd4ca57fd87ce5ca227c1a80a6902496f15', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 7, 'created': '2014-03-24 21:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e7dd11cb7f583ff96180515d765a2e8726c73995', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 8, 'created': '2014-03-26 01:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8ff487ea3d7824482b59a3ccc7ea15b27372ab98', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 9, 'created': '2014-03-27 00:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/092e5855d7b28e6692fbacf32f78670697872718', 'message': 'Added route for Admin API to support guest upgrade\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 10, 'created': '2014-03-28 22:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5f987bea69070bfd82b67e3ec352f41b8b78bf86', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 11, 'created': '2014-03-28 23:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5f5686fd5fb5ae2b942e78067d64aa621dcacac3', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 12, 'created': '2014-03-29 04:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a3c1abd3bcc83df3a03bd5c02de4d3dea98fcc9a', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\n'}, {'number': 13, 'created': '2014-04-10 14:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/641670dcd2fc30af254e6c64677653f8e8b015ba', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 14, 'created': '2014-04-10 17:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7f5504354a50b234f229c390abe1559a189d73d8', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 15, 'created': '2014-04-16 19:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/88834fa74e721dfb707970eb234fa0cea84d5d2b', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 17, 'created': '2014-04-18 17:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f7f491da70ba765e252b8310c991ef2339369eaa', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 16, 'created': '2014-04-18 17:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/95e1f2342db40308124c1b83193853aebdd526ab', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 18, 'created': '2014-04-18 20:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/76dff1fbeff6ac4c8095dad9b31698ec143973cc', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 19, 'created': '2014-04-22 20:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/368c46e127591c1cb9729f9f6e23c6684ad33a32', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 21, 'created': '2014-04-23 15:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d9acfce508971b0ff7376eb992cc5e41abe35f71', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. removed instance_id from rpc call\n6. removed strategy from api calls\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 20, 'created': '2014-04-23 15:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/992d7471f6ef2b936e5c3b67665c6a97085ea461', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. removed instance_id from rpc call\n6. removed strategy from api calls\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 22, 'created': '2014-04-23 19:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/76df30756da0405121368d24ab06f10c10f8f7c1', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. removed instance_id from rpc call\n6. removed strategy from api calls\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 23, 'created': '2014-04-25 06:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/27bd2c194423f899cd5346e8941bcd1cb8653513', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. removed instance_id from rpc call\n6. removed strategy from api calls\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 24, 'created': '2014-04-28 23:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b25032d7b5e91f5aae7102ff9a99f67fcdc4f0ea', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. removed instance_id from rpc call\n6. removed strategy from api calls\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 25, 'created': '2014-04-28 23:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6e67feee834fc7c53f63d5afb6a59944c26a3a35', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. removed instance_id from rpc call\n6. removed strategy from api calls\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 26, 'created': '2014-04-29 00:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/41deb304d8d5ed2f7cbbaabf6e6a677def05d5c0', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. removed instance_id from rpc call\n6. removed strategy from api calls\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 27, 'created': '2014-04-29 04:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7ecb421fdbc29e50d934c969022c96b859edb279', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. removed instance_id from rpc call\n6. removed strategy from api calls\n7. switched out import of guestagent api in favor for common.remote\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 28, 'created': '2014-04-29 05:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b339f5ec3072e5c98807800878c43d397c191fe3', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. Removed instance_id from rpc call\n6. Removed strategy from api calls\n7. Switched out import of guestagent api in favor of common.remote\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 29, 'created': '2014-05-02 16:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0b17cce187999198dc4f890c04987139fe252f42', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. Removed instance_id from rpc call\n6. Removed strategy from api calls\n7. Switched out import of guestagent api in favor of common.remote\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 30, 'created': '2014-05-28 18:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/19e4a647c4c51e719c839df13dea50f792631e67', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. Removed instance_id from rpc call\n6. Removed strategy from api calls\n7. Switched out import of guestagent api in favor of common.remote\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 31, 'created': '2014-06-03 05:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9e7f57fcbdfee99fc8e07f957b988d177372c763', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. Removed instance_id from rpc call\n6. Removed strategy from api calls\n7. Switched out import of guestagent api in favor of common.remote\n8. Rename UpgradeNotifier to UpgradeMessageSender\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 32, 'created': '2014-06-03 15:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b48654c4422d962905af5040a033e055f49b92cc', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. Removed instance_id from rpc call\n6. Removed strategy from api calls\n7. Switched out import of guestagent api in favor of common.remote\n8. Rename UpgradeNotifier to UpgradeMessageSender\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 33, 'created': '2014-06-11 00:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/54840b3678de01ca8ce8bbdfdfbf4e72cc5db95f', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. Removed instance_id from rpc call\n6. Removed strategy from api calls\n7. Switched out import of guestagent api in favor of common.remote\n8. Rename UpgradeNotifier to UpgradeMessageSender\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}, {'number': 34, 'created': '2014-06-23 17:52:59.000000000', 'files': ['trove/extensions/mgmt/upgrade/models.py', 'trove/extensions/mgmt/upgrade/service.py', 'trove/tests/unittests/guestagent/test_api.py', 'trove/tests/unittests/upgrade/__init__.py', 'trove/common/apischema.py', 'trove/extensions/routes/mgmt.py', 'trove/guestagent/api.py', 'trove/tests/unittests/upgrade/test_models.py', 'trove/extensions/mgmt/upgrade/__init__.py', 'trove/tests/unittests/upgrade/test_controller.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/ac45127c86e5b9d4723b0cb8a58a8b5d1570c706', 'message': 'Added route for Admin API to support guest upgrade\n\nAdded optional metadata param to API\n\n1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade\n2. Changed POST body to send properties inside an upgrade dict\n3. Removed unimplemented method from guest agent manager\n4. Swap out rpc call to use _cast\n5. Removed instance_id from rpc call\n6. Removed strategy from api calls\n7. Switched out import of guestagent api in favor of common.remote\n8. Rename UpgradeNotifier to UpgradeMessageSender\n\nChange-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d\nImplements: blueprint upgrade-guestagent\nCloses-Bug: #1211924\n'}]",61,81410,ac45127c86e5b9d4723b0cb8a58a8b5d1570c706,260,12,34,6162,,,0,"Added route for Admin API to support guest upgrade

Added optional metadata param to API

1. Changed route to {tenant_id}/mgmt/instances/{instance_id}/upgrade
2. Changed POST body to send properties inside an upgrade dict
3. Removed unimplemented method from guest agent manager
4. Swap out rpc call to use _cast
5. Removed instance_id from rpc call
6. Removed strategy from api calls
7. Switched out import of guestagent api in favor of common.remote
8. Rename UpgradeNotifier to UpgradeMessageSender

Change-Id: I12d09fd70ab028da1cd2818fe380310e99b66d2d
Implements: blueprint upgrade-guestagent
Closes-Bug: #1211924
",git fetch https://review.opendev.org/openstack/trove refs/changes/10/81410/34 && git format-patch -1 --stdout FETCH_HEAD,"['trove/extensions/mgmt/upgrade/service.py', 'trove/tests/unittests/upgrade/__init__.py', 'trove/common/apischema.py', 'trove/extensions/routes/mgmt.py', 'trove/extensions/mgmt/upgrade/__init__.py', 'trove/tests/unittests/upgrade/test_controller.py']",6,230649b96aa524fe8a865bbd354bab4af897172a,bp/upgrade-guestagent,"# Copyright 2014 Hewlett-Packard Development Company, L.P. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from mock import Mock from testtools import TestCase from trove.extensions.mgmt.upgrade.service import UpgradeController import jsonschema class TestUpgradeController(TestCase): def setUp(self): super(TestUpgradeController, self).setUp() self.controller = UpgradeController() self.req = Mock() self.req.environ = Mock() self.body = {""instance_id"": ""27e25b73-88a1-4526-b2b9-919a28b8b33f"", ""instance_version"": ""v1.0.1"", ""strategy"": ""swift"", ""location"": ""http://swift/trove-guestagent-v1.0.1.tar.gz""} def tearDown(self): super(TestUpgradeController, self).tearDown() self.body = {} def _get_validator(self, body): """""" Helper method to return a validator """""" schema = self.controller.get_schema('create', body) return jsonschema.Draft4Validator(schema) def test_validate_create(self): """""" Test for valid payload in body """""" validator = self._get_validator(self.body) self.assertTrue(validator.is_valid(self.body)) def test_validate_create_additional_params(self): """""" Test for valid payload with additional params """""" self.body[""description""] = ""upgrade"" validator = self._get_validator(self.body) self.assertTrue(validator.is_valid(self.body)) def test_validate_create_invalid_uuid(self): """""" Test for invalid UUID """""" self.body[""instance_id""] = ""1234567"" validator = self._get_validator(self.body) self.assertFalse(validator.is_valid(self.body)) def test_validate_create_missing_location(self): """""" Test for missing location in payload """""" self.body.pop(""location"") validator = self._get_validator(self.body) self.assertFalse(validator.is_valid(self.body)) def test_controller_202(self): """""" Test request and response for 202 """""" tenant_id = '77889991010' resp = self.controller.create(self.req, self.body, tenant_id) self.assertEqual(202, resp.status) ",,145,1
openstack%2Fproject-config~master~I3f228f9a0c913476f946f546cdd5a2d56864c549,openstack/project-config,master,I3f228f9a0c913476f946f546cdd5a2d56864c549,Fix hostvars logstash job submission error,MERGED,2017-09-14 23:01:42.000000000,2017-09-15 00:46:31.000000000,2017-09-15 00:46:31.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-09-14 23:01:42.000000000', 'files': ['roles/submit-log-processor-jobs/library/submit_log_processor_jobs.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/efa6e0a2bae6c478873e1ef53e20967f2eeb4aca', 'message': ""Fix hostvars logstash job submission error\n\nThe log server may have just been added to the inventory; we're\nreally interested in the node the job ran on, so make sure that\nthe node we grab is a nodepool node.\n\nChange-Id: I3f228f9a0c913476f946f546cdd5a2d56864c549\n""}]",0,504280,efa6e0a2bae6c478873e1ef53e20967f2eeb4aca,7,2,1,1,,,0,"Fix hostvars logstash job submission error

The log server may have just been added to the inventory; we're
really interested in the node the job ran on, so make sure that
the node we grab is a nodepool node.

Change-Id: I3f228f9a0c913476f946f546cdd5a2d56864c549
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/504280/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/submit-log-processor-jobs/library/submit_log_processor_jobs.py'],1,efa6e0a2bae6c478873e1ef53e20967f2eeb4aca,zuulv3, hosts = [h for h in self.hosts.values() if 'nodepool' in h] node = hosts[0], hosts = self.hosts node = list(hosts.values())[0],2,2
openstack%2Fdiskimage-builder~master~Ic3dadfd88d162063f8330a8cbe5b4942771154d5,openstack/diskimage-builder,master,Ic3dadfd88d162063f8330a8cbe5b4942771154d5,Updated from global requirements,MERGED,2017-09-13 12:49:34.000000000,2017-09-15 00:43:13.000000000,2017-09-15 00:43:13.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-09-13 12:49:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/01ac902b9331f0221a004b0525c252cef00aa301', 'message': 'Updated from global requirements\n\nChange-Id: Ic3dadfd88d162063f8330a8cbe5b4942771154d5\n'}]",0,503622,01ac902b9331f0221a004b0525c252cef00aa301,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ic3dadfd88d162063f8330a8cbe5b4942771154d5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/22/503622/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,01ac902b9331f0221a004b0525c252cef00aa301,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fopenstack-ansible~master~I0b184021cee4b5c53a86ca81d9db76ad5538bd85,openstack/openstack-ansible,master,I0b184021cee4b5c53a86ca81d9db76ad5538bd85,[Trivialfix]Fix typos,ABANDONED,2017-09-13 07:39:45.000000000,2017-09-15 00:14:29.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 18784}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-13 07:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad1b050c56206585982ba5b3256b2d1d4caa2e85', 'message': '[Trivialfix]Fix typos\n\nFix the typos in openstack-ansible.\n\nChange-Id: I0b184021cee4b5c53a86ca81d9db76ad5538bd85\n'}, {'number': 2, 'created': '2017-09-14 03:55:29.000000000', 'files': ['releasenotes/notes/gnocchi-init-config-overrides-4fc9ec27ea1bd090.yaml', 'releasenotes/notes/sahara-init-config-overrides-4c35b88618b0d0b4.yaml', 'releasenotes/notes/octavia-init-config-overrides-554491baa2e97102.yaml', 'releasenotes/notes/magnum-init-config-overrides-aec21cbbd9da8e4e.yaml', 'releasenotes/notes/cinder-init-config-overrides-9e495aee023deed6.yaml', 'releasenotes/notes/trove-init-config-overrides-a78ed428a32adef8.yaml', 'releasenotes/notes/heat-init-config-overrides-004872081661a34c.yaml', 'releasenotes/notes/aodh-init-config-overrides-f152b8fd098efb0d.yaml', 'releasenotes/notes/keystone-init-config-overrides-1857d5e5bc5a905f.yaml', 'releasenotes/notes/glance-init-config-overrides-d1c8c3dcc50c109a.yaml', 'releasenotes/notes/barbican-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/swift-init-config-overrides-822ec734e02a0dd1.yaml', 'releasenotes/notes/add-iptables-5ff8c4317e2e8498.yaml', 'releasenotes/notes/ironic-init-config-overrides-e73d9fd46a69afcf.yaml', 'releasenotes/notes/nova-init-config-overrides-7221a8f9d5be9291.yaml', 'releasenotes/notes/nova-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/neutron-init-config-overrides-9d1d2b3b908705ed.yaml', 'releasenotes/notes/ceilometer-init-config-overrides-bfce7e419061c4da.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/495d66bdf1918a61edfaf2f7cac210c8a4784054', 'message': '[Trivialfix]Fix typos\n\nFix the typos in openstack-ansible.\n\nChange-Id: I0b184021cee4b5c53a86ca81d9db76ad5538bd85\n'}]",6,503548,495d66bdf1918a61edfaf2f7cac210c8a4784054,11,5,2,23317,,,0,"[Trivialfix]Fix typos

Fix the typos in openstack-ansible.

Change-Id: I0b184021cee4b5c53a86ca81d9db76ad5538bd85
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/48/503548/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/gnocchi-init-config-overrides-4fc9ec27ea1bd090.yaml', 'releasenotes/notes/sahara-init-config-overrides-4c35b88618b0d0b4.yaml', 'releasenotes/notes/octavia-init-config-overrides-554491baa2e97102.yaml', 'releasenotes/notes/magnum-init-config-overrides-aec21cbbd9da8e4e.yaml', 'releasenotes/notes/cinder-init-config-overrides-9e495aee023deed6.yaml', 'releasenotes/notes/trove-init-config-overrides-a78ed428a32adef8.yaml', 'releasenotes/notes/heat-init-config-overrides-004872081661a34c.yaml', 'releasenotes/notes/aodh-init-config-overrides-f152b8fd098efb0d.yaml', 'releasenotes/notes/keystone-init-config-overrides-1857d5e5bc5a905f.yaml', 'releasenotes/notes/glance-init-config-overrides-d1c8c3dcc50c109a.yaml', 'releasenotes/notes/barbican-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/swift-init-config-overrides-822ec734e02a0dd1.yaml', 'releasenotes/notes/add-iptables-5ff8c4317e2e8498.yaml', 'releasenotes/notes/ironic-init-config-overrides-e73d9fd46a69afcf.yaml', 'releasenotes/notes/nova-init-config-overrides-7221a8f9d5be9291.yaml', 'releasenotes/notes/nova-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/neutron-init-config-overrides-9d1d2b3b908705ed.yaml', 'releasenotes/notes/ceilometer-init-config-overrides-bfce7e419061c4da.yaml']",18,ad1b050c56206585982ba5b3256b2d1d4caa2e85,fix, load extra options into the defaults and pollute the generic, load extra options into the defaults and polute the generic,18,18
openstack%2Fcharm-keystone~master~I6d7378d475b5d2e21b43b5f102b646a962acfa68,openstack/charm-keystone,master,I6d7378d475b5d2e21b43b5f102b646a962acfa68,change assert(Not)Equals to assert(Not)Equal,ABANDONED,2017-09-13 12:52:08.000000000,2017-09-15 00:03:29.000000000,,"[{'_account_id': 3}, {'_account_id': 17130}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-09-13 12:52:08.000000000', 'files': ['unit_tests/test_keystone_hooks.py', 'unit_tests/test_keystone_utils.py', 'unit_tests/test_keystone_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/8f644000c1f210c0c33a76e459da202a57acb999', 'message': 'change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: I6d7378d475b5d2e21b43b5f102b646a962acfa68\nCloses-Bug: #1329757\n'}]",0,503630,8f644000c1f210c0c33a76e459da202a57acb999,5,3,1,26617,,,0,"change assert(Not)Equals to assert(Not)Equal

According to http://docs.python.org/2/library/unittest.html
assert(Not)Equals is a deprecated alias of assert(Not)Equal.

Change-Id: I6d7378d475b5d2e21b43b5f102b646a962acfa68
Closes-Bug: #1329757
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/30/503630/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_hooks.py', 'unit_tests/test_keystone_utils.py', 'unit_tests/test_keystone_contexts.py']",3,8f644000c1f210c0c33a76e459da202a57acb999,1329757," self.assertEqual(ctxt(), {'endpoints': [('1.2.3.4', '1.2.3.4', 34, 12)], 'namespace': 'keystone', 'ext_ports': [34]}) self.assertEqual("," self.assertEquals(ctxt(), {'endpoints': [('1.2.3.4', '1.2.3.4', 34, 12)], 'namespace': 'keystone', 'ext_ports': [34]}) self.assertEquals(",18,18
openstack%2Fcharm-glance~master~Ibc02f25d9c0f62c77471b9deeee893e7e019e35b,openstack/charm-glance,master,Ibc02f25d9c0f62c77471b9deeee893e7e019e35b,change assert(Not)Equals to assert(Not)Equal,ABANDONED,2017-09-13 13:57:01.000000000,2017-09-15 00:03:09.000000000,,"[{'_account_id': 3}, {'_account_id': 17130}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-09-13 13:57:01.000000000', 'files': ['unit_tests/test_glance_contexts.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/e84bb578845c5ab81e1c1e8b0b193674e4546896', 'message': 'change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: Ibc02f25d9c0f62c77471b9deeee893e7e019e35b\nCloses-Bug: #1329757\n'}]",0,503684,e84bb578845c5ab81e1c1e8b0b193674e4546896,5,3,1,26617,,,0,"change assert(Not)Equals to assert(Not)Equal

According to http://docs.python.org/2/library/unittest.html
assert(Not)Equals is a deprecated alias of assert(Not)Equal.

Change-Id: Ibc02f25d9c0f62c77471b9deeee893e7e019e35b
Closes-Bug: #1329757
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/84/503684/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_glance_contexts.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py']",3,e84bb578845c5ab81e1c1e8b0b193674e4546896,1329757," self.assertEqual(ex_map, utils.restart_map()) self.assertEqual(ex_map, utils.restart_map()) self.assertEqual(set(ex), set(utils.determine_packages())) self.assertEqual(set(ex), set(utils.determine_packages())) self.assertEqual(set(ex), set(result)) self.assertEqual(mkdir.call_args_list, expected) self.assertEqual(write_file.call_args_list, expected) self.assertEqual(self.render.call_args_list, expected) self.assertEqual(self.service_restart.call_args_list, expected) self.assertEqual(self.render.call_args_list, expected)"," self.assertEquals(ex_map, utils.restart_map()) self.assertEquals(ex_map, utils.restart_map()) self.assertEquals(set(ex), set(utils.determine_packages())) self.assertEquals(set(ex), set(utils.determine_packages())) self.assertEquals(set(ex), set(result)) self.assertEquals(mkdir.call_args_list, expected) self.assertEquals(write_file.call_args_list, expected) self.assertEquals(self.render.call_args_list, expected) self.assertEquals(self.service_restart.call_args_list, expected) self.assertEquals(self.render.call_args_list, expected)",83,83
openstack%2Fstorlets~master~Iefbbf6564d18b9d636f6cee44fe86462c0fcdbf1,openstack/storlets,master,Iefbbf6564d18b9d636f6cee44fe86462c0fcdbf1,Fix a typo in deployer_installation.rst,MERGED,2017-09-02 09:32:51.000000000,2017-09-14 23:48:05.000000000,2017-09-14 23:48:05.000000000,"[{'_account_id': 3}, {'_account_id': 4608}, {'_account_id': 9218}, {'_account_id': 11317}, {'_account_id': 26498}]","[{'number': 1, 'created': '2017-09-02 09:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/9770355d976317c6bee3e34df898e52bdc3ca089', 'message': 'Fix a typo in deployer_installation.rst\n\nChange-Id: Iefbbf6564d18b9d636f6cee44fe86462c0fcdbf1\n'}, {'number': 2, 'created': '2017-09-05 09:39:18.000000000', 'files': ['doc/source/deployer_installation.rst'], 'web_link': 'https://opendev.org/openstack/storlets/commit/f866687316b59f56e15ed55e6e469182b65bf72c', 'message': 'Fix a typo in deployer_installation.rst\n\nTrivialFix\n\nChange-Id: Iefbbf6564d18b9d636f6cee44fe86462c0fcdbf1\n'}]",0,500266,f866687316b59f56e15ed55e6e469182b65bf72c,19,5,2,25740,,,0,"Fix a typo in deployer_installation.rst

TrivialFix

Change-Id: Iefbbf6564d18b9d636f6cee44fe86462c0fcdbf1
",git fetch https://review.opendev.org/openstack/storlets refs/changes/66/500266/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deployer_installation.rst'],1,9770355d976317c6bee3e34df898e52bdc3ca089,TrivialFix,Create the preparation host file,Create the preperation host file,1,1
openstack%2Fcinder~master~I95c8e4c1471762bcaa72a3b584f5373c0343a031,openstack/cinder,master,I95c8e4c1471762bcaa72a3b584f5373c0343a031,ScaleIO Driver: Adding support to wipe/zero disks,ABANDONED,2017-08-17 20:50:19.000000000,2017-09-14 23:47:26.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 5263}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-08-17 20:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa641e8013ecaf4af66b1350984e659c9acfab10', 'message': 'ScaleIO Driver: Adding support to wipe/zero disks\n\nWith thick volumes allocated from a storage pool where zero padding is\ndisabled, read requests may return whatever data is still on disk.\nIn order to prevent this, there are two configuration options being added\nthat instruct the driver to write zeroes to the start of the volume\nfor a specified number of megabytes.\n\nUnfortunately, we cannot use the cinder defined options (volume_clear and\nvolume_clear_size) as their default values would change the behavior and\nperformance of the driver.\n\nChange-Id: I95c8e4c1471762bcaa72a3b584f5373c0343a031\nCloses-Bug: #1699573\n'}, {'number': 2, 'created': '2017-08-21 13:10:06.000000000', 'files': ['cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5492e2206a7736079279f45e9c8b931ca19fb322', 'message': 'ScaleIO Driver: Adding support to wipe/zero disks\n\nWith thick volumes allocated from a storage pool where zero padding is\ndisabled, read requests may return whatever data is still on disk.\nIn order to prevent this, there are two configuration options being added\nthat instruct the driver to write zeroes to the start of the volume\nfor a specified number of megabytes.\n\nUnfortunately, we cannot use the cinder defined options (volume_clear and\nvolume_clear_size) as their default values would change the behavior and\nperformance of the driver.\n\nChange-Id: I95c8e4c1471762bcaa72a3b584f5373c0343a031\nCloses-Bug: #1699573\n'}]",6,494702,5492e2206a7736079279f45e9c8b931ca19fb322,71,35,2,25033,,,0,"ScaleIO Driver: Adding support to wipe/zero disks

With thick volumes allocated from a storage pool where zero padding is
disabled, read requests may return whatever data is still on disk.
In order to prevent this, there are two configuration options being added
that instruct the driver to write zeroes to the start of the volume
for a specified number of megabytes.

Unfortunately, we cannot use the cinder defined options (volume_clear and
volume_clear_size) as their default values would change the behavior and
performance of the driver.

Change-Id: I95c8e4c1471762bcaa72a3b584f5373c0343a031
Closes-Bug: #1699573
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/494702/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/scaleio/driver.py'],1,aa641e8013ecaf4af66b1350984e659c9acfab10,bug/1699573,"import os cfg.BoolOpt('sio_volume_clear_on_delete', default=False, help='Clear the volume by writing zeros to the device.'), cfg.IntOpt('sio_volume_clear_mb', default=50, help='Size in MiB to wipe at the start of volumes.'), if self.configuration.sio_volume_clear_on_delete: self._clear_volume(volume) def _clear_volume(self, volume): LOG.debug(""Attempting to clear volume: %s."", volume.id) # clearing a volume in SIO only makes sense if it is a thick volume try: dev_path = self._sio_attach_volume(volume) msg = (_('Volume mapped as %s.') % dev_path) LOG.debug(msg) # make sure the volume got attached if not os.path.exists(dev_path): msg = (_('Volume device file %s does not exist.') % dev_path) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) size_in_g = volume.get('size') if size_in_g is None: msg = (_(""Size for volume: %s not found, cannot clear."") % volume['id']) LOG.error(msg) raise exception.InvalidParameterValue(msg) # clear_volume expects sizes in MiB, we store integer GiB # be sure to convert before passing in vol_sz_in_meg = size_in_g * units.Ki volume_utils.clear_volume( vol_sz_in_meg, dev_path, volume_clear='zero', volume_clear_size=self.configuration.sio_volume_clear_mb) finally: self._sio_detach_volume(volume) ",,46,0
openstack%2Fdevstack~master~I4d79a41eb2d66852ab1a1aa8bd383f8e3e89cdc0,openstack/devstack,master,I4d79a41eb2d66852ab1a1aa8bd383f8e3e89cdc0,Fix devstack python detection if python3 is missing,MERGED,2017-09-14 19:01:48.000000000,2017-09-14 23:42:06.000000000,2017-09-14 23:42:06.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-09-14 19:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4bd1bed2a26b48296c2da01cbe718431930724ad', 'message': 'Fix devstack python detection if python3 is missing\n\nOn platforms without python3 installed devstack fails the python\nversion check because errexit is set. This disables it for just the\nexecution of that function.\n\nChange-Id: I4d79a41eb2d66852ab1a1aa8bd383f8e3e89cdc0\n'}, {'number': 2, 'created': '2017-09-14 19:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eac104b35c74cbf2d1b8ca88ccf88a070e2888c7', 'message': 'Fix devstack python detection if python3 is missing\n\nOn platforms without python3 installed devstack fails the python\nversion check because errexit is set. This disables it for just the\nexecution of that function.\n\nChange-Id: I4d79a41eb2d66852ab1a1aa8bd383f8e3e89cdc0\n'}, {'number': 3, 'created': '2017-09-14 19:13:41.000000000', 'files': ['functions-common', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4324f4ecd99f3cc50dea585bc8b5a680327e54bc', 'message': 'Fix devstack python detection if python3 is missing\n\nOn platforms without python3 installed devstack fails the python\nversion check. This does it more gracefully.\n\nChange-Id: I4d79a41eb2d66852ab1a1aa8bd383f8e3e89cdc0\n'}]",0,504171,4324f4ecd99f3cc50dea585bc8b5a680327e54bc,11,3,3,2750,,,0,"Fix devstack python detection if python3 is missing

On platforms without python3 installed devstack fails the python
version check. This does it more gracefully.

Change-Id: I4d79a41eb2d66852ab1a1aa8bd383f8e3e89cdc0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/71/504171/3 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'stackrc']",2,4bd1bed2a26b48296c2da01cbe718431930724ad,python_version,export PYTHON3_VERSION=${PYTHON3_VERSION:-${_DEFAULT_PYTHON3_VERSION:-3.5}}export PYTHON2_VERSION=${PYTHON2_VERSION:-${_DEFAULT_PYTHON2_VERSION:-2.7}},export PYTHON3_VERSION=${PYTHON3_VERSION:-${_DEFAULT_PYTHON3_VERSION}}export PYTHON2_VERSION=${PYTHON2_VERSION:-${_DEFAULT_PYTHON2_VERSION}},5,2
openstack%2Fproject-config~master~I911b0edb52ae663f636cc57142de9959432312a8,openstack/project-config,master,I911b0edb52ae663f636cc57142de9959432312a8,Fix project field in logstash job submission,MERGED,2017-09-14 22:52:33.000000000,2017-09-14 23:36:17.000000000,2017-09-14 23:36:17.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-09-14 22:52:33.000000000', 'files': ['roles/submit-log-processor-jobs/library/submit_log_processor_jobs.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5ef48fa65fd7ba5b5405a220cd65503b2be15772', 'message': 'Fix project field in logstash job submission\n\nWe were sending the whole project dict instead of the name.\n\nChange-Id: I911b0edb52ae663f636cc57142de9959432312a8\n'}]",0,504274,5ef48fa65fd7ba5b5405a220cd65503b2be15772,7,2,1,1,,,0,"Fix project field in logstash job submission

We were sending the whole project dict instead of the name.

Change-Id: I911b0edb52ae663f636cc57142de9959432312a8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/504274/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/submit-log-processor-jobs/library/submit_log_processor_jobs.py'],1,5ef48fa65fd7ba5b5405a220cd65503b2be15772,zuulv3," fields[""project""] = zuul['project']['name']"," fields[""project""] = zuul['project']",1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ifd8cd5a7f26c044564b5e8f64398f59636d62200,openstack/openstack-ansible-rabbitmq_server,master,Ifd8cd5a7f26c044564b5e8f64398f59636d62200,Use yum whe installing RabbitMQ,MERGED,2017-09-14 22:27:08.000000000,2017-09-14 23:35:52.000000000,2017-09-14 23:35:52.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-14 22:27:08.000000000', 'files': ['tasks/install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/a74c237cf717246d659cef241a5d09096cbbc2a0', 'message': 'Use yum whe installing RabbitMQ\n\nThe version of dnf that comes with CentOS 7 does not come with\nversionlock support. This causes the locks for RabbitMQ and erlang\nto be ignored, which breaks the gate.\n\nCloses-Bug: 1717376\nChange-Id: Ifd8cd5a7f26c044564b5e8f64398f59636d62200\n'}]",0,504266,a74c237cf717246d659cef241a5d09096cbbc2a0,7,3,1,538,,,0,"Use yum whe installing RabbitMQ

The version of dnf that comes with CentOS 7 does not come with
versionlock support. This causes the locks for RabbitMQ and erlang
to be ignored, which breaks the gate.

Closes-Bug: 1717376
Change-Id: Ifd8cd5a7f26c044564b5e8f64398f59636d62200
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/66/504266/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/install_yum.yml'],1,a74c237cf717246d659cef241a5d09096cbbc2a0,bug/1717376,"# all-in-one erlang package. Also, the version of dnf that comes with CentOS # 7 doesn't have version lock support, so we must use yum here. yum:",# all-in-one erlang package. package:,3,2
openstack%2Fopenstack-ansible-os_neutron~master~I843e950e5c668da88500d60cf87bb9d19246262d,openstack/openstack-ansible-os_neutron,master,I843e950e5c668da88500d60cf87bb9d19246262d,Fix VPNaaS variable definition for non-ubuntu,MERGED,2017-08-10 12:08:58.000000000,2017-09-14 23:34:56.000000000,2017-09-14 23:34:56.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-08-10 12:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b59c9d02f5bbf98683bea2470ffc77f3dc811dd0', 'message': ""Fix VPNaaS variable definition for non-ubuntu\n\nVPNaaS variables are defined for ubuntu, but not the other\ndistros.\n\nOne choice was to move these vars into vars/main.yml, but\nwould have prevented the easy overriding of it.\nBecause it's a driver, there are chances that someone wants\nto override it, so it should be in defaults.\n\nChange-Id: I843e950e5c668da88500d60cf87bb9d19246262d\n""}, {'number': 2, 'created': '2017-08-19 07:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b53696f430fab6d25f34f92ecaf613f99745aad2', 'message': ""Fix VPNaaS variable definition for non-ubuntu\n\nVPNaaS variables are defined for ubuntu, but not the other\ndistros.\n\nOne choice was to move these vars into vars/main.yml, but\nwould have prevented the easy overriding of it.\nBecause it's a driver, there are chances that someone wants\nto override it, so it should be in defaults.\n\nChange-Id: I843e950e5c668da88500d60cf87bb9d19246262d\n""}, {'number': 3, 'created': '2017-08-22 14:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d945a4b2fc4e3756782db7180648c82ec71b384e', 'message': ""Fix VPNaaS variable definition for non-ubuntu\n\nVPNaaS variables are defined for ubuntu, but not the other\ndistros.\n\nOne choice was to move these vars into vars/main.yml, but\nwould have prevented the easy overriding of it.\nBecause it's a driver, there are chances that someone wants\nto override it, so it should be in defaults.\n\nChange-Id: I843e950e5c668da88500d60cf87bb9d19246262d\n""}, {'number': 4, 'created': '2017-08-22 16:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/34178d2f5e28ccf2b6a133db0a2d5f28e1df86ce', 'message': ""Fix VPNaaS variable definition for non-ubuntu\n\nVPNaaS variables are defined for ubuntu, but not the other\ndistros.\n\nOne choice was to move these vars into vars/main.yml, but\nwould have prevented the easy overriding of it.\nBecause it's a driver, there are chances that someone wants\nto override it, so it should be in defaults.\n\nFixes-Bug: #1711577\n\nChange-Id: I843e950e5c668da88500d60cf87bb9d19246262d\n""}, {'number': 5, 'created': '2017-08-22 17:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/89208d4516f05c75ef0c8a55db3964198d024971', 'message': ""Fix VPNaaS variable definition for non-ubuntu\n\nVPNaaS variables are defined for ubuntu, but not the other\ndistros.\n\nOne choice was to move these vars into vars/main.yml, but\nwould have prevented the easy overriding of it.\nBecause it's a driver, there are chances that someone wants\nto override it, so it should be in defaults.\n\nCloses-Bug: #1711577\n\nChange-Id: I843e950e5c668da88500d60cf87bb9d19246262d\n""}, {'number': 6, 'created': '2017-08-24 10:26:22.000000000', 'files': ['vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/de53748373dcc500034ccbae8428e2a71fe2a589', 'message': ""Fix VPNaaS variable definition for non-ubuntu\n\nVPNaaS variables are defined for ubuntu, but not the other\ndistros.\n\nOne choice was to move these vars into vars/main.yml, but\nwould have prevented the easy overriding of it.\nBecause it's a driver, there are chances that someone wants\nto override it, so it should be in defaults.\n\nCloses-Bug: #1711577\n\nChange-Id: I843e950e5c668da88500d60cf87bb9d19246262d\n""}]",2,492495,de53748373dcc500034ccbae8428e2a71fe2a589,33,5,6,17068,,,0,"Fix VPNaaS variable definition for non-ubuntu

VPNaaS variables are defined for ubuntu, but not the other
distros.

One choice was to move these vars into vars/main.yml, but
would have prevented the easy overriding of it.
Because it's a driver, there are chances that someone wants
to override it, so it should be in defaults.

Closes-Bug: #1711577

Change-Id: I843e950e5c668da88500d60cf87bb9d19246262d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/95/492495/6 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-16.04.yml', 'defaults/main.yml']",2,b59c9d02f5bbf98683bea2470ffc77f3dc811dd0,fix_vpnaas_for_centos,### VPNaaS Configuration ### # See VPNaaS documentation for driver/service provider selection # in case you want to override it. neutron_driver_vpnaas: neutron_vpnaas.services.vpn.device_drivers.strongswan_ipsec.StrongSwanDriver neutron_vpnaas_service_provider: VPN:strongswan:neutron_vpnaas.services.vpn.service_drivers.ipsec.IPsecVPNDriver:default ###,,9,3
openstack%2Fpuppet-openstack-integration~master~Ib10ba2b8c2a8af4f8d625b4707edc9361a068720,openstack/puppet-openstack-integration,master,Ib10ba2b8c2a8af4f8d625b4707edc9361a068720,restore fwaas tests,MERGED,2017-09-13 21:36:29.000000000,2017-09-14 23:20:06.000000000,2017-09-14 23:20:06.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9414}]","[{'number': 1, 'created': '2017-09-13 21:36:29.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2a9c23fc73c4a0ddd439ea0e7a339e2dd8cfa148', 'message': 'restore fwaas tests\n\nChange-Id: Ib10ba2b8c2a8af4f8d625b4707edc9361a068720\n'}]",0,503837,2a9c23fc73c4a0ddd439ea0e7a339e2dd8cfa148,7,3,1,1004,,,0,"restore fwaas tests

Change-Id: Ib10ba2b8c2a8af4f8d625b4707edc9361a068720
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/37/503837/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,2a9c23fc73c4a0ddd439ea0e7a339e2dd8cfa148,restore-fwaas-checks," EXCLUDES=""--regex=^(?!mistral_tempest_tests.tests.api.v2.test_executions.ExecutionTestsV2.test_get_list_executions.*$)(?!ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAPITest.test_check_glance_v2_notifications.*$).*"""," # TODO(aschultz): check this after pike-m1 # 1) fwaas tests from ubuntu are still out of date LP#1667736 EXCLUDES=""--regex=^(?!neutron_fwaas.tests.tempest_plugin.tests.api.test_fwaas_extensions.*$)(?!mistral_tempest_tests.tests.api.v2.test_executions.ExecutionTestsV2.test_get_list_executions.*$)(?!ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAPITest.test_check_glance_v2_notifications.*$).*""",1,3
openstack%2Fpuppet-openstack-integration~master~If05607b8dcfa22331165779e2fa248816ffe2347,openstack/puppet-openstack-integration,master,If05607b8dcfa22331165779e2fa248816ffe2347,Add Sahara CI for Xenial,MERGED,2017-09-13 16:25:47.000000000,2017-09-14 23:20:01.000000000,2017-09-14 23:20:01.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9414}]","[{'number': 1, 'created': '2017-09-13 16:25:47.000000000', 'files': ['fixtures/scenario003.pp', 'manifests/sahara.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3df2ff38c33be74be1e06a242c170bacb9d83e3f', 'message': 'Add Sahara CI for Xenial\n\nSahara is currently not being tested in Xenial, this patch adds\nit to the list of packages to be deployed and tested.\n\nChange-Id: If05607b8dcfa22331165779e2fa248816ffe2347\n'}]",0,503735,3df2ff38c33be74be1e06a242c170bacb9d83e3f,7,3,1,1004,,,0,"Add Sahara CI for Xenial

Sahara is currently not being tested in Xenial, this patch adds
it to the list of packages to be deployed and tested.

Change-Id: If05607b8dcfa22331165779e2fa248816ffe2347
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/503735/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario003.pp', 'manifests/sahara.pp']",2,3df2ff38c33be74be1e06a242c170bacb9d83e3f,enable-sahara," # create simple sahara templates sahara_node_group_template { 'master': ensure => present, plugin => 'vanilla', plugin_version => '2.7.1', flavor => 'm1.micro', node_processes => [ 'namenode', 'resourcemanager' ], } sahara_node_group_template { 'worker': ensure => present, plugin => 'vanilla', plugin_version => '2.7.1', flavor => 'm1.micro', node_processes => [ 'datanode', 'nodemanager' ], } sahara_cluster_template { 'cluster': ensure => present, node_groups => [ 'master:1', 'worker:2' ] } Nova_flavor<||> -> Sahara_node_group_template<||> Class['::sahara::keystone::auth'] -> Sahara_node_group_template<||> Class['::openstack_extras::auth_file'] -> Sahara_node_group_template<||>"," # for ubuntu we need saharaclient >= 0.15.0 if $::osfamily == 'RedHat' { # create simple sahara templates sahara_node_group_template { 'master': ensure => present, plugin => 'vanilla', plugin_version => '2.7.1', flavor => 'm1.micro', node_processes => [ 'namenode', 'resourcemanager' ], } sahara_node_group_template { 'worker': ensure => present, plugin => 'vanilla', plugin_version => '2.7.1', flavor => 'm1.micro', node_processes => [ 'datanode', 'nodemanager' ], } sahara_cluster_template { 'cluster': ensure => present, node_groups => [ 'master:1', 'worker:2' ] } Nova_flavor<||> -> Sahara_node_group_template<||> Class['::sahara::keystone::auth'] -> Sahara_node_group_template<||> Class['::openstack_extras::auth_file'] -> Sahara_node_group_template<||> }",25,33
openstack%2Fpuppet-openstack-integration~master~I6f12ce48c18234855d907005dc04c4e4effd0187,openstack/puppet-openstack-integration,master,I6f12ce48c18234855d907005dc04c4e4effd0187,"Revert ""redhat/packages: set allow_virtual to True""",MERGED,2017-09-13 16:04:30.000000000,2017-09-14 23:13:07.000000000,2017-09-14 23:13:07.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9414}]","[{'number': 1, 'created': '2017-09-13 16:04:30.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6ec2bf9602ad0142bebca7f1df38e1127e8414b2', 'message': 'Revert ""redhat/packages: set allow_virtual to True""\n\nWe do not support Puppet 3 anymore, so this is not needed.\n\nThis reverts commit 807a60e802c2de0c7ac9778447fc02c66fdc1683.\n\nChange-Id: I6f12ce48c18234855d907005dc04c4e4effd0187\n'}]",0,503727,6ec2bf9602ad0142bebca7f1df38e1127e8414b2,6,3,1,1004,,,0,"Revert ""redhat/packages: set allow_virtual to True""

We do not support Puppet 3 anymore, so this is not needed.

This reverts commit 807a60e802c2de0c7ac9778447fc02c66fdc1683.

Change-Id: I6f12ce48c18234855d907005dc04c4e4effd0187
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/27/503727/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,6ec2bf9602ad0142bebca7f1df38e1127e8414b2,virtual,, # Some packages provided by RDO are virtual # allow_virtual is false in Puppet 3 and will be true # in Puppet 4. So let's set it to True. # We still support Puppet 3 until distros ship Puppet 4 by default. Package<| tag == 'openstack' |> { allow_virtual => true },0,5
openstack%2Fpuppet-openstack-integration~master~I1ece0f21fc2b9ed7d49c501ae481b2c5f1b075a5,openstack/puppet-openstack-integration,master,I1ece0f21fc2b9ed7d49c501ae481b2c5f1b075a5,Switch wsgi to run watcher-api,MERGED,2017-08-21 01:32:19.000000000,2017-09-14 23:13:00.000000000,2017-09-14 23:12:59.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}]","[{'number': 1, 'created': '2017-08-21 01:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/456de040ae5496ab2268c4fefe4739b3b55c3ce2', 'message': 'Switch wsgi to run watcher-api\n\nChange-Id: I1ece0f21fc2b9ed7d49c501ae481b2c5f1b075a5\nDepends-On: Ie6bbde98bee19ccc4a938bba28b66b759ccd3307\n'}, {'number': 2, 'created': '2017-09-13 15:57:14.000000000', 'files': ['manifests/watcher.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1674e70ce3e395290e84c1d70398bbe414adf98f', 'message': 'Switch wsgi to run watcher-api\n\nChange-Id: I1ece0f21fc2b9ed7d49c501ae481b2c5f1b075a5\nDepends-On: Ie6bbde98bee19ccc4a938bba28b66b759ccd3307\n'}]",0,495669,1674e70ce3e395290e84c1d70398bbe414adf98f,21,4,2,9414,,,0,"Switch wsgi to run watcher-api

Change-Id: I1ece0f21fc2b9ed7d49c501ae481b2c5f1b075a5
Depends-On: Ie6bbde98bee19ccc4a938bba28b66b759ccd3307
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/69/495669/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/watcher.pp'],1,456de040ae5496ab2268c4fefe4739b3b55c3ce2,switch-httpd," notify => Service['httpd'], Exec['update-ca-certificates'] ~> Service['httpd'] service_name => 'httpd', } include ::apache class { '::watcher::wsgi::apache': bind_host => $::openstack_integration::config::ip_for_url, ssl => $::openstack_integration::config::ssl, ssl_key => ""/etc/watcher/ssl/private/${::fqdn}.pem"", ssl_cert => $::openstack_integration::params::cert_path, workers => 2,",,11,0
openstack%2Fpatrole~master~If4399c5f67058925c800bd2ce32c19bf6657d9b5,openstack/patrole,master,If4399c5f67058925c800bd2ce32c19bf6657d9b5,[Gate fix] Change expected_error_code to 403 for some subnetpool tests,MERGED,2017-09-11 16:29:09.000000000,2017-09-14 23:09:27.000000000,2017-09-14 23:09:27.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-09-11 16:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/60d750f2dd9fca46152fe5a65e2c30ef3f61d1bb', 'message': ""Change expected_error_code to 403 for some subnetpool tests\n\nThis change corrects some expected_error_code's for subnetpool tests.\nThese endpoints actually raise a 403, not a 404 (example: [0]):\n\n  - test_update_subnetpool_is_default\n  - test_delete_subnetpool\n\n[0] http://logs.openstack.org/80/496080/9/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial/f9cde4d/console.html#_2017-09-11_14_55_54_024285\n\nChange-Id: If4399c5f67058925c800bd2ce32c19bf6657d9b5\n""}, {'number': 2, 'created': '2017-09-14 07:08:15.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_subnetpools_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_resource_types_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/b3939a8f2a6712d73dd99ab734948cf41b5e7cf0', 'message': ""[Gate fix] Change expected_error_code to 403 for some subnetpool tests\n\nThis change corrects some expected_error_code's for subnetpool tests.\nThese endpoints actually raise a 403, not a 404 (example: [0]):\n\n  - test_update_subnetpool_is_default\n  - test_delete_subnetpool\n\nThis commit also corrects resource_cleanup in\ntest_image_resource_types_rbac which wrongly calls super\nresource_setup in resource_cleanup.\n\nThese changes have been combined to unblock the gate.\n\n[0] http://logs.openstack.org/80/496080/9/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial/f9cde4d/console.html#_2017-09-11_14_55_54_024285\n\nChange-Id: If4399c5f67058925c800bd2ce32c19bf6657d9b5\n""}]",0,502497,b3939a8f2a6712d73dd99ab734948cf41b5e7cf0,25,4,2,23186,,,0,"[Gate fix] Change expected_error_code to 403 for some subnetpool tests

This change corrects some expected_error_code's for subnetpool tests.
These endpoints actually raise a 403, not a 404 (example: [0]):

  - test_update_subnetpool_is_default
  - test_delete_subnetpool

This commit also corrects resource_cleanup in
test_image_resource_types_rbac which wrongly calls super
resource_setup in resource_cleanup.

These changes have been combined to unblock the gate.

[0] http://logs.openstack.org/80/496080/9/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial/f9cde4d/console.html#_2017-09-11_14_55_54_024285

Change-Id: If4399c5f67058925c800bd2ce32c19bf6657d9b5
",git fetch https://review.opendev.org/openstack/patrole refs/changes/97/502497/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/network/test_subnetpools_rbac.py'],1,60d750f2dd9fca46152fe5a65e2c30ef3f61d1bb,subnetpool-bug," rule=""update_subnetpool:is_default"") rule=""delete_subnetpool"")"," rule=""update_subnetpool:is_default"", expected_error_code=404) rule=""delete_subnetpool"", expected_error_code=404)",2,4
openstack%2Fironic-ui~master~Ied13d1321fbcc73d33709d8c546279c819b66bcb,openstack/ironic-ui,master,Ied13d1321fbcc73d33709d8c546279c819b66bcb,Updated from global requirements,MERGED,2017-09-13 12:51:35.000000000,2017-09-14 23:07:06.000000000,2017-09-14 23:07:06.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 16628}]","[{'number': 1, 'created': '2017-09-13 12:51:35.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/e60a5b4b76d9051febdbf461b8522ef545a6cccc', 'message': 'Updated from global requirements\n\nChange-Id: Ied13d1321fbcc73d33709d8c546279c819b66bcb\n'}]",0,503628,e60a5b4b76d9051febdbf461b8522ef545a6cccc,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ied13d1321fbcc73d33709d8c546279c819b66bcb
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/28/503628/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e60a5b4b76d9051febdbf461b8522ef545a6cccc,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Freleases~master~I3c64ad3aaf10452ab6fb1b03014a5e2f571215d0,openstack/releases,master,I3c64ad3aaf10452ab6fb1b03014a5e2f571215d0,Document Queens cycle artifact signing key,MERGED,2017-09-14 20:10:23.000000000,2017-09-14 23:06:00.000000000,2017-09-14 23:06:00.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-09-14 20:10:23.000000000', 'files': ['doc/source/index.rst', 'doc/source/static/0x4c8b8b5a694f612544b3b4bac52f01a3fbdb9949.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/802ccf7c095bb8414ee310e141f35cd4afae27fe', 'message': 'Document Queens cycle artifact signing key\n\nSince the Pike cycle releases are behind us, document that the\npending key for the Queens cycle is now in place as of 2017-09-15\nand the Pike key is retired from use beyond that date.\n\nChange-Id: I3c64ad3aaf10452ab6fb1b03014a5e2f571215d0\n'}]",0,504199,802ccf7c095bb8414ee310e141f35cd4afae27fe,9,3,1,5263,,,0,"Document Queens cycle artifact signing key

Since the Pike cycle releases are behind us, document that the
pending key for the Queens cycle is now in place as of 2017-09-15
and the Pike key is retired from use beyond that date.

Change-Id: I3c64ad3aaf10452ab6fb1b03014a5e2f571215d0
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/504199/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/static/0x4c8b8b5a694f612544b3b4bac52f01a3fbdb9949.txt']",2,802ccf7c095bb8414ee310e141f35cd4afae27fe,,pub rsa2048/0xC52F01A3FBDB9949 2017-08-29 [SC] [expires: 2018-05-26] Key fingerprint = 4C8B 8B5A 694F 6125 44B3 B4BA C52F 01A3 FBDB 9949 uid [ full ] OpenStack Infra (Queens Cycle) <infra-root@openstack.org> sub rsa2048/0xA63EF2D990155EC2 2017-08-29 [E] [expires: 2018-05-26] sub rsa2048/0x421E6472811F9A81 2017-08-29 [S] -----BEGIN PGP PUBLIC KEY BLOCK----- mQENBFmlnJ0BCACw/WLz40FJZnBH7p6IFwhrCd+9aD5g5K+eyo7zvrrgkasIkQri PSy/Z9Yf8p0hUj33hHF5o8lMykVvZwbY1MVbC/9BqI/OAtS/XKHNPWiE3CE6lnKO 0BO9sJskI8lg3AdxcXBsW5DNZKIoL32zTPvC3tJKPSk38nLxRCHmeKYgEtNqlqRL 3fvccVf18os6jRIlvxubPsGBwXjiXndx91JeHVT0/4n5YFBMOdlrsG7Y0L3b44u0 i9z47wXSr2ESAQSSR5HAAH/gqVVYvWp4usRHVbOCCpq7AXN96kbnEoQIOn5XqEPw J2s9DsUeqoLzSyuugVAc8XdVRmM1FQcz0Y+NABEBAAG0OU9wZW5TdGFjayBJbmZy YSAoUXVlZW5zIEN5Y2xlKSA8aW5mcmEtcm9vdEBvcGVuc3RhY2sub3JnPokBPgQT AQIAKAUCWaWcnQIbAwUJAWP1AAYLCQgHAwIGFQgCCQoLBBYCAwECHgECF4AACgkQ xS8Bo/vbmUmyJAf/b9bP8XR76kgryHlSiXXGP1JBYYIdo4rdkXIIkYDgIATUgeYD +S2XNJZ+wBxzNNXcWiaEkpYNLhuFzucAZyzmYiUUsCqWGpHoSvi3qMU9cSMdknrB SPWd7shx7hyIdELDZZD2JC6MhFYIbIJ2FfBbI0zR6qMKZEVExjZOgLGzWipj7CSj zijre9PachTjlHjCNRWwKF7RL7eeElVbr3lK2ZP2NDub1ej3Ige3eatxRZGzfNWU A59MdPvwLObJvsIBj2wDThaDLfsSaUMfFZ4QQjOV/EFrOKadc1JliewfnYrLMQeT hg6tgB6iTK4+w1kGq12LpBhCFgRGCZe7F51CfrkBDQRZpZydAQgA0WG1UPUBRDZA BhTffCLO2tEIDvPXirneXnaQ8PT5TVvjGUBK3FnWU2DYvsk9e0k5Fd/q/G9o7Z/T lQwvb4A9P2j/zQBgGe6DU57KQl9PPYOp4sRnZuPxuudHqUN8QubDNZrGW1Fs9Lly tvfsX9vgUJ290Z8bBE1DWuKUkkwXeHdEzXsVRYd73bd4uMjCBwMLwBLtleQcQBMw GvKdky2TXmcsXWHkATJWPzBUqQIMyExjnh6KxxKaMZNW053r8kDgSg0RyKdbBHTP xws3O+S7G0JY6jP4HRvMOclpbO1fDctopy7hc/lQyJl+Lo+rUfL90QkvD6d6z+bT nBvEwZas/QARAQABiQElBBgBAgAPBQJZpZydAhsMBQkBY/UAAAoJEMUvAaP725lJ nHsH/ibY23BU5aC4mdfvIudM3ma/ANji0c1a2ZIJKR6mjjlfm6AkgK0229A0AvI0 nwiPMmCo5Jddc/iFz2CQrdqxPmA8tQV/T3x7IzehTMmx3fbBCkE41LWX2unkbo7s QBGUSHb9HXqmNgFLtog5mwWlpUzrRdHoVY8yGADX82rx7oaBktu+fta0AWhPvwpQ myFH01O9EV6PBfwF/1Nzwtr5+jF1YyAqiFI2AWSxErZQ6Tp6P5kAWEMFtT1IqJoR H1/VSWRBZuM9ffBjTxh1FUX436AujnktcE0IalLd0Ld/bAkLHGqknLDDTmK1nTrx QD1tZQN/kVJCcqmvIms3WCz6rUC5AQ0EWaWdNQEIANPb8+8VyWjQGlnRKTpvzWPP zJjD8sQE5b7Fqy/32ylxHsLNpO35TAKBSvvMpr9gZJXjixdwDMZrAd8tJwb1QGDm vqlxWIAUUg/YrZ7gpgaSRbYwWbWhBA0O9JP5IpMuje3l/GVLpyly5f8iLcXSn8FI ZI3rQf9Esz7RHHerctuovcA48yl/XpKX3uIqkbjgKlyh5Tg9Z380r+Kgq/GNNCk1 ra38awkJ/anzAAuQDaccGZkj9itTxQ4U9QAJGPxVJBIbF9EHTTik5rAqvPV2lErz 1XpFlLBfS1/3W+gClzl/Tkgz1rjdF+1w/lpyRWWBx7TEcXhwvwT7n5W+5ksu1Q0A EQEAAYkCPgQYAQIACQUCWaWdNQIbAgEpCRDFLwGj+9uZScBdIAQZAQIABgUCWaWd NQAKCRBCHmRygR+agbczB/0V/UTUTjtosC+wraHC62CatMSHKP+BmawqK23inwQ4 Wr0JXbIR1K0hjT435Fxs9PXQIV0bkM4WsuqypVF5H7hhcAp6GgM/yOJLox8fBtE3 r2+sd0OuW9GK3PXPaAwZcxfYLoW3lV5mK0sEkD/ULayyGT6xEaLTFQcofAN8x80V Wou7OaO3N/HtietXErkM1OEKZ8Sfe9cetrc0QSMk77XXDj7Dwjy7lfoVihudRubm 3/YudCCNr2aTjIwawLz8iK7wwjJ/PdTR2imiVp+Yw5rAL9kRM0LzQvnVTtU8JGDG KSFPP6KlKOtRZ6mY5/0+6kDpP8yl3xCj5rl8De/ZqK8fFqoIAIVpsDTqbDxd+9sx 1doIHsVyYaj9sEs7RWhaKBPu5pteTpREo/l+hNCZ7TfEl/N5Fo5WXu3ts72kH5fa HcCd+9/wJeiO0qS4LVJT2nuGl2U8bzJuSpNVmUczq4ukhhenvuLIV/uM1OHgMgVG 8KOXRrJi5KBaYkv7J/djun2htPdGhOQ/JNnJbYtOF5aVpgQbCHcjzTOVppW/LCfK y/m/CS51KcCVkUErH2mauad+MNp7IPxtHrZ/leNoIrhOGf6N1xJqWzvcsBylVQgP iSd+SuNJUYurYnmQXErOjWv6RRc5klJGa1hyGAcACCHJ+SaFOlyAkAj5ms919OVd WmLF7V0= =aFPc -----END PGP PUBLIC KEY BLOCK----- ,,59,1
openstack%2Fopenstack-ansible-tests~master~Ic164447b6cad0b7b1c0f51246f67308a69d3b646,openstack/openstack-ansible-tests,master,Ic164447b6cad0b7b1c0f51246f67308a69d3b646,[TEST] Ensure sysstat is running on CentOS,ABANDONED,2017-09-14 21:14:08.000000000,2017-09-14 23:05:38.000000000,,"[{'_account_id': 3}, {'_account_id': 538}]","[{'number': 1, 'created': '2017-09-14 21:14:08.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4ebf1e19c381d4f36f85c5046cb78ab0c608d408', 'message': '[TEST] Ensure sysstat is running on CentOS\n\nDepends-On: If95b0e02d7863291f88b67909128439599660ad0\nChange-Id: Ic164447b6cad0b7b1c0f51246f67308a69d3b646\n'}]",0,504237,4ebf1e19c381d4f36f85c5046cb78ab0c608d408,5,2,1,538,,,0,"[TEST] Ensure sysstat is running on CentOS

Depends-On: If95b0e02d7863291f88b67909128439599660ad0
Change-Id: Ic164447b6cad0b7b1c0f51246f67308a69d3b646
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/37/504237/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,4ebf1e19c381d4f36f85c5046cb78ab0c608d408,bug/1717361,# THE PTG TRAIN GOES WOOT WOOT ,,2,0
openstack%2Fnova~master~I82ee74f3d2629281dc8116af55f6a7b5398fc473,openstack/nova,master,I82ee74f3d2629281dc8116af55f6a7b5398fc473,Remove deprecated keymgr code,MERGED,2017-03-01 21:22:50.000000000,2017-09-14 22:51:46.000000000,2017-09-14 17:51:13.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10873}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21797}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-03-01 21:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ddbdd394428cff2eea7fba3a45f1ea5d2c35e46', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack (see dependent patch).\n\nDepends-On: I733279864ee1a4aaffc9c8eed81b5e12f8d8821b\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 2, 'created': '2017-04-25 17:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93438c7713719cd15cf5bf04f905b10f75341e38', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack (see dependent patch).\n\nDepends-On: I733279864ee1a4aaffc9c8eed81b5e12f8d8821b\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 3, 'created': '2017-05-01 17:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cfe23f2bc40ed412c129e950522e728d3c4a9fa', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 4, 'created': '2017-06-02 19:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e658d50b992be48ebc1488aa02bc95668ed1b2b1', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 5, 'created': '2017-06-02 21:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b844c356a007400e6a887bafb18001a9860a9f5e', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 6, 'created': '2017-06-20 15:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ebaaffd9a758ceb970b3fbb33595597c204dfbf', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 7, 'created': '2017-06-20 18:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03e4bbba069897f55ffb9f08429fdb264896b18f', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 8, 'created': '2017-07-03 13:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af6c1e4bb5c36f53d73cbbb8ab014ea589c3614a', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 9, 'created': '2017-07-03 13:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caaf8af31be3918dc5d23eacf8cd230c0b958f1d', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 10, 'created': '2017-07-20 14:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4844aa76398fde81817cd917a409e367ab45bc98', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}, {'number': 11, 'created': '2017-09-11 19:49:05.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/key_manager.py', 'nova/keymgr/__init__.py', 'nova/compute/api.py', 'nova/virt/libvirt/imagebackend.py', 'releasenotes/notes/remove-deprecated-keymgr-db807dc76c83263e.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f65d436c114bbfc2051c6f5b6d7a9d12daacc29d', 'message': 'Remove deprecated keymgr code\n\nNow that enough time has passed, the keymgr code that was\ndeprecated for removal can be removed.\n\nBarbican is the default option for Castellan, but Barbican is not\npart of default DevStack yet. Until Barbican is used by default in\nthe dsvm gates, ConfKeyManager (the fixed_key key manager) should\nbe set in DevStack, which was added with\nI733279864ee1a4aaffc9c8eed81b5e12f8d8821b.\n\nChange-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473\n'}]",10,439855,f65d436c114bbfc2051c6f5b6d7a9d12daacc29d,178,26,11,8623,,,0,"Remove deprecated keymgr code

Now that enough time has passed, the keymgr code that was
deprecated for removal can be removed.

Barbican is the default option for Castellan, but Barbican is not
part of default DevStack yet. Until Barbican is used by default in
the dsvm gates, ConfKeyManager (the fixed_key key manager) should
be set in DevStack, which was added with
I733279864ee1a4aaffc9c8eed81b5e12f8d8821b.

Change-Id: I82ee74f3d2629281dc8116af55f6a7b5398fc473
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/439855/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/key_manager.py', 'nova/keymgr/__init__.py', 'nova/volume/encryptors/base.py', 'nova/compute/api.py', 'nova/tests/unit/volume/encryptors/test_base.py', 'nova/virt/libvirt/imagebackend.py']",6,6ddbdd394428cff2eea7fba3a45f1ea5d2c35e46,remove-deprecated-keymgr,from castellan import key_manager self.key_manager = key_manager.API(),from nova import keymgr self.key_manager = keymgr.API(CONF),9,82
openstack%2Fcinder~master~Ibb9c28937f9e1912cf3293fcf4ca83c5d76d7f75,openstack/cinder,master,Ibb9c28937f9e1912cf3293fcf4ca83c5d76d7f75,NetApp: Remove redundant QoS cleanup task,MERGED,2017-09-06 21:56:17.000000000,2017-09-14 22:49:07.000000000,2017-09-10 22:11:51.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11611}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-09-06 21:56:17.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f73687c78100ba56f98e6b6f75ef03a1201c77e', 'message': 'NetApp: Remove redundant QoS cleanup task\n\nCurrently two repeating tasks are initialized, during driver\ninitialization, to handle deletion of unneeded QoS policies on the\nNetApp backend. This change removes one of the tasks.\n\nChange-Id: Ibb9c28937f9e1912cf3293fcf4ca83c5d76d7f75\nCloses-Bug: #1713774\n'}]",1,501478,8f73687c78100ba56f98e6b6f75ef03a1201c77e,33,6,1,16212,,,0,"NetApp: Remove redundant QoS cleanup task

Currently two repeating tasks are initialized, during driver
initialization, to handle deletion of unneeded QoS policies on the
NetApp backend. This change removes one of the tasks.

Change-Id: Ibb9c28937f9e1912cf3293fcf4ca83c5d76d7f75
Closes-Bug: #1713774
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/501478/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py']",4,8f73687c78100ba56f98e6b6f75ef03a1201c77e,bug/1713774,," # Add the task that harvests soft-deleted QoS policy groups. self.loopingcalls.add_task( self.zapi_client.remove_unused_qos_policy_groups, loopingcalls.ONE_MINUTE, loopingcalls.ONE_MINUTE) ",10,22
openstack%2Fopenstack-ansible-plugins~master~I2331d5d5c9cf3d4f8fc83639f6047092232f5887,openstack/openstack-ansible-plugins,master,I2331d5d5c9cf3d4f8fc83639f6047092232f5887,Add container-aware connection plugin tests,MERGED,2017-05-22 14:29:53.000000000,2017-09-14 22:48:51.000000000,2017-09-14 22:48:51.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-05-22 14:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a91fdca90a811117d0034caa40153bc234cec267', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 2, 'created': '2017-05-22 14:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/72ac6bbcf78da78b6268feac7c0de2adc0918c75', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 3, 'created': '2017-06-30 18:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a0388f955e95a4c48988cc7f5fde5b5785e75582', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 4, 'created': '2017-06-30 20:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d74bc35fac736bbaaf0de5331a798a1771165dd8', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 5, 'created': '2017-06-30 20:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/eed31148a13955615d8d607e3bfba34ffdce92bc', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 6, 'created': '2017-06-30 20:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5ccb96ddb96f2193865dad1562709153c66d380f', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 7, 'created': '2017-06-30 21:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/80c8ae3d4798357ea0f1dfa152a9f3b72124cbf9', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 8, 'created': '2017-06-30 21:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/eac93f52df264e36733dba518559d37a3087c701', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 9, 'created': '2017-07-05 14:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/902426b306f18734089f779387048ccc08c8eaa0', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 10, 'created': '2017-07-05 15:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/31c37b4793b68f74085d2d363f6f6844a7c2f61f', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 11, 'created': '2017-09-12 17:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/856dfe3107d5c6b10f399ab58e501a0f184736e3', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 12, 'created': '2017-09-12 17:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a7b17c31ff0dc6d32348024c63033374b499a616', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 13, 'created': '2017-09-12 18:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0a90ac69b7818e87064745424c61b4b488d4f562', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 14, 'created': '2017-09-12 18:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/41927179ba01ce0b1eddd6f02bb5fbe4c10b034e', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 15, 'created': '2017-09-12 19:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c2a1e49e38ad98258791ab66bd4dac8714d36394', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 16, 'created': '2017-09-12 19:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5b9615226b5fcfa4dad00f9f7b3e1567032c8583', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 17, 'created': '2017-09-12 21:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5f91afe578fb6b3352dde23a684ebed4a31d6e11', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 18, 'created': '2017-09-13 16:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0906442777aae4aa9c02894bf4e211b69a90e875', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 19, 'created': '2017-09-13 16:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/802b51de6b65004595c9a5c436e694bc534659d0', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 20, 'created': '2017-09-13 22:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/65f9f9239d29b2bccfa1557929b3546aabab84ec', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}, {'number': 21, 'created': '2017-09-14 04:56:59.000000000', 'files': ['tests/host_vars/localhost.yml', 'tests/inventory', 'tests/ansible-role-requirements.yml', 'tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/hosts.yml', 'tests/test-connection-plugin.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/b819a87394813747fa4ba95107aae6b4cd792329', 'message': 'Add container-aware connection plugin tests\n\n- Test the container awareness of the connection plugin (the lxc-attach\n  execution functionality when container_name is set on a host).\n\n- Test delegation to containers\n\nDepends-On: Idb186a061a396713a0e449d47ec262b30d5006ca\nChange-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887\n'}]",1,466743,b819a87394813747fa4ba95107aae6b4cd792329,54,5,21,17799,,,0,"Add container-aware connection plugin tests

- Test the container awareness of the connection plugin (the lxc-attach
  execution functionality when container_name is set on a host).

- Test delegation to containers

Depends-On: Idb186a061a396713a0e449d47ec262b30d5006ca
Change-Id: I2331d5d5c9cf3d4f8fc83639f6047092232f5887
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/43/466743/7 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/localhost.yml', 'tests/inventory', 'tests/ansible-role-requirements.yml', 'tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/test-connection-plugin.yml', 'tests/test.yml']",8,a91fdca90a811117d0034caa40153bc234cec267,delegation-tests, - include: common/test-setup-host.yml - include: test-connection-plugin.yml,,156,0
openstack%2Fswift~master~Id9e678c2460cc889f682c5566a4418160db7878f,openstack/swift,master,Id9e678c2460cc889f682c5566a4418160db7878f,Test placeholder for dispersion_report module,MERGED,2017-09-13 16:40:07.000000000,2017-09-14 22:39:53.000000000,2017-09-14 22:39:53.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-09-13 16:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a4523065ffb0a27b327370511765edc111969562', 'message': ""Test placeholder for dispersion_report module\n\nThis module was recently moved from bin/ and the execute bit stuck\naround and wasn't imported by our test suite - which throws off\naccountability in coverage reporting.\n\nRemove the execute bit and add a placeholder unittest module.\n\nRelated-Change-Id: Ie0d52a1a54fc152bb72cbb3f84dcc36a8dad972a\nChange-Id: Id9e678c2460cc889f682c5566a4418160db7878f\n""}, {'number': 2, 'created': '2017-09-13 22:49:10.000000000', 'files': ['test/unit/cli/test_dispersion_report.py', 'swift/cli/dispersion_report.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5622c1f959fac44e325768b6b3d9a1961c366dd2', 'message': ""Test placeholder for dispersion_report module\n\nThis module was recently moved from bin/ and the execute bit stuck\naround and wasn't imported by our test suite - which throws off\naccountability in coverage reporting.\n\nRemove the execute bit and add a placeholder unittest module.\n\nRelated-Change-Id: Ie0d52a1a54fc152bb72cbb3f84dcc36a8dad972a\nChange-Id: Id9e678c2460cc889f682c5566a4418160db7878f\n""}]",0,503743,5622c1f959fac44e325768b6b3d9a1961c366dd2,12,5,2,1179,,,0,"Test placeholder for dispersion_report module

This module was recently moved from bin/ and the execute bit stuck
around and wasn't imported by our test suite - which throws off
accountability in coverage reporting.

Remove the execute bit and add a placeholder unittest module.

Related-Change-Id: Ie0d52a1a54fc152bb72cbb3f84dcc36a8dad972a
Change-Id: Id9e678c2460cc889f682c5566a4418160db7878f
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/503743/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_dispersion_report.py', 'swift/cli/dispersion_report.py']",2,a4523065ffb0a27b327370511765edc111969562,importable-dispersion-report,,,20,0
openstack%2Fheat-specs~master~I62a715d8f7cb9adb0139b841d09694666929d9e7,openstack/heat-specs,master,I62a715d8f7cb9adb0139b841d09694666929d9e7,New Resource Type OS::Neutron::Quota,MERGED,2016-09-30 17:49:12.000000000,2017-09-14 22:39:03.000000000,2017-09-14 22:39:03.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12363}, {'_account_id': 12404}, {'_account_id': 13009}]","[{'number': 1, 'created': '2016-09-30 17:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/e6f1b3f0312e6b3e6dc15b06a4c2f8976993bfb2', 'message': ""New Resource Type OS::Neutron::Quota\n\nThis creates new resource type whose intended use case is for admin-only\nuseto manage the Netowrking services quota. This would be an enhancement\ntoavoid manual, post-deployment modifications of the project's neturon\nquota.\n\nChange-Id: I62a715d8f7cb9adb0139b841d09694666929d9e7\n""}, {'number': 2, 'created': '2016-09-30 17:58:46.000000000', 'files': ['specs/ocata/neutron-quota-resource.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/defd6c9b1729fd5351c8bf0104fac3a677fcc1d7', 'message': ""New Resource Type OS::Neutron::Quota\n\nThis creates new resource type whose intended use case is for admin-only\nuseto manage the Netowrking services quota. This would be an enhancement\ntoavoid manual, post-deployment modifications of the project's neturon\nquota.\n\nChange-Id: I62a715d8f7cb9adb0139b841d09694666929d9e7\n""}]",0,380462,defd6c9b1729fd5351c8bf0104fac3a677fcc1d7,10,8,2,21522,,,0,"New Resource Type OS::Neutron::Quota

This creates new resource type whose intended use case is for admin-only
useto manage the Netowrking services quota. This would be an enhancement
toavoid manual, post-deployment modifications of the project's neturon
quota.

Change-Id: I62a715d8f7cb9adb0139b841d09694666929d9e7
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/62/380462/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/neutron-quota-resource.rst'],1,e6f1b3f0312e6b3e6dc15b06a4c2f8976993bfb2,bp/neutron-quota-resource,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/heat/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =============================== New Neutron Quota Resource Type =============================== https://blueprints.launchpad.net/heat/+spec/neutron-quota-resource An administrator would like to have the ability to specify a project's neutron quota in a HOT template. This blueprint proposes to create a new heat resource type for neutron quotas. Problem description =================== Today, an administrator can create a new keystone project using heat using a template similar to this: .. code-block:: yaml resources: test_role: type: OS::Keystone::Role properties: name: test_role test_project: type: OS::Keystone::Project properties: name: test_project enabled: True test_user: type: OS::Keystone::User properties: name: test_user domain: default default_project: {get_resource: test_project} roles: - role: {get_resource: test_role} domain: default - role: {get_resource: test_role} project: {get_resource: test_project} However, to specify the neutron quota associated with the project, the administrator would need to execute post-orchestration something similar to: .. code-block:: bash $ os quota set --floating-ips 5 --networks 5 --subnets 5 <project> Use Cases --------- For an Openstack admin, it would be ideal to be able to manage projects holistically, using templates that will define the project, the users to project membership and the allocated quotas. Proposed change =============== This blueprint proposes to add a new resource type ``OS::Neutron::Quota`` to heat to address the problem described. A sample ``OS::Neutron::Quota`` template: .. code-block:: yaml resources: neutron_quota: type: OS::Neutron::Quota properties: project: {get_param: project} floating_ips: 5 health_monitors: 5 members: 5 networks: 5 pools: 5 ports: 5 rbac_policies: 5 routers: 5 security_groups: 5 security_group_rules: 5 subnetpools: 5 subnets: 5 vips: 5 outputs: neutron_quota_id: value: {get_resource: neutron_quota} **Properties**: * project: - **required**: True - **type**: String - **description**: OpenStack keystone project - **constraints**: Must be a valid keystone project * floating_ips: - **type**: Integer - **description**: Quota for the number of floating IPs - **constraints**: Range minimum is -1 * health_monitors: - **type**: Integer - **description**: Quota for the number of health monitors - **constraints**: Range minimum is -1 * members: - **type**: Integer - **description**: Quota for the number of members - **constraints**: Range minimum is -1 * networks: - **type**: Integer - **description**: Quota for the number of networks - **constraints**: Range minimum is -1 * pools: - **type**: Integer - **description**: Quota for the number of pools - **constraints**: Range minimum is -1 * ports: - **type**: Integer - **description**: Quota for the number of ports - **constraints**: Range minimum is -1 * rbac_policies: - **type**: Integer - **description**: Quota for the number of RBAC policies - **constraints**: Range minimum is -1 * routers: - **type**: Integer - **description**: Quota for the number of routers - **constraints**: Range minimum is -1 * security_groups: - **type**: Integer - **description**: Quota for the number of security groups - **constraints**: Range minimum is -1 * security_group_rules: - **type**: Integer - **description**: Quota for the number of security group rules - **constraints**: Range minimum is -1 * subnetpools: - **type**: Integer - **description**: Quota for the number of subnet pools - **constraints**: Range minimum is -1 * subnets: - **type**: Integer - **description**: Quota for the number of subnets - **constraints**: Range minimum is -1 * vips: - **type**: Integer - **description**: Quota for the number of vips - **constraints**: Range minimum is -1 A default policy rule will be added for this resource to be limited to administrators. .. code-block:: json ""resource_types:OS::Neutron::Quota"": ""rule:project_admin"" This Quota Resource will handle create, update, and delete. For handling create and update, the resource will call the Neutron client's quota-set update method, since there is no quota create call. For the handling delete, the Resource will call the Neutron client's quota delete method. This will reset the quota to the default value. Note that creating multiple resources and deleting one will reset the quota even though other resources still exist. Alternatives ------------ The administrator or the operator can change a project's default quota manually post project orchestration. The OS::Keystone::Project can contain an optional Quota property. However, the addition seems out of Keystone's scope, since Keystone has no concept of quotas. Implementation ============== Assignee(s) ----------- Primary assignee: * Yosef Hoffman - yohoffman Additional assignees: * Julian Sy - syjulian * Andy Hsiang - yh418t Milestones ---------- Target Milestone for completion: ocata-1 Work Items ---------- * Implement new resource type OS::Neutron::Quota * Implement appropriate unit and functional tests Dependencies ============ None ",,220,0
openstack%2Fheat-specs~master~I5425cccafe833139116d7561bbc70ea015048dd9,openstack/heat-specs,master,I5425cccafe833139116d7561bbc70ea015048dd9,Remove link to modindex,MERGED,2017-01-27 06:40:50.000000000,2017-09-14 22:38:32.000000000,2017-09-14 22:38:32.000000000,"[{'_account_id': 3}, {'_account_id': 7385}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-01-27 06:40:50.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/d31fe2949386b06e6aeee7346ab1f1356e3dfe29', 'message': 'Remove link to modindex\n\nThe documentation build does not generate any module index, thus\nremove the link to the page. The page\nhttps://specs.openstack.org/openstack/heat-specs/py-modindex.html\ndoes not exists\n\nChange-Id: I5425cccafe833139116d7561bbc70ea015048dd9\n'}]",0,426100,d31fe2949386b06e6aeee7346ab1f1356e3dfe29,7,3,1,19457,,,0,"Remove link to modindex

The documentation build does not generate any module index, thus
remove the link to the page. The page
https://specs.openstack.org/openstack/heat-specs/py-modindex.html
does not exists

Change-Id: I5425cccafe833139116d7561bbc70ea015048dd9
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/00/426100/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,d31fe2949386b06e6aeee7346ab1f1356e3dfe29,,,* :ref:`modindex`,0,1
openstack%2Fheat~master~I37f0d87c086f05dc03c3546c66979b85f9c78a03,openstack/heat,master,I37f0d87c086f05dc03c3546c66979b85f9c78a03,Enhance dependencies calculation for neutron port,ABANDONED,2016-10-04 15:57:31.000000000,2017-09-14 22:37:30.000000000,,"[{'_account_id': 3}, {'_account_id': 12363}, {'_account_id': 12404}]","[{'number': 1, 'created': '2016-10-04 15:57:31.000000000', 'files': ['heat/engine/resources/openstack/neutron/port.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1a164d6c86bfcde6b6f453e310ac3651e097c101', 'message': 'Enhance dependencies calculation for neutron port\n\nChange-Id: I37f0d87c086f05dc03c3546c66979b85f9c78a03\n'}]",0,381948,1a164d6c86bfcde6b6f453e310ac3651e097c101,5,3,1,12363,,,0,"Enhance dependencies calculation for neutron port

Change-Id: I37f0d87c086f05dc03c3546c66979b85f9c78a03
",git fetch https://review.opendev.org/openstack/heat refs/changes/48/381948/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/port.py'],1,1a164d6c86bfcde6b6f453e310ac3651e097c101,," @staticmethod def find_network_deps(res, deps): for dep in deps.graph()[res]: if dep.has_interface('OS::Neutron::Network'): return dep def add_subnet_deps(self, res, deps): dep_network = res.properties.get(subnet.Subnet.NETWORK) network = self.properties[self.NETWORK] if dep_network and network: if dep_network == network: deps += (self, res) else: subnet_network = self.find_network_deps(res) port_network = self.find_network_deps(self) if subnet_network is not None and subnet_network == port_network: deps += (self, res) internal_subnet = False for dep in deps.graph()[self]: if dep.has_interface('OS::Neutron::Subnet'): internal_subnet = True break # if we defined some subnets in fixed_ips property of port, # we've already built correct dependencies for this resource if not internal_subnet: for res in six.itervalues(self.stack): if res.has_interface('OS::Neutron::Subnet'): self.add_subnet_deps(res, deps) "," for res in six.itervalues(self.stack): if res.has_interface('OS::Neutron::Subnet'): dep_network = res.properties.get(subnet.Subnet.NETWORK) network = self.properties[self.NETWORK] if dep_network == network: deps += (self, res)",33,6
openstack%2Fheat~master~I5860f6e5a4fdc5fe70d62b1aad17e04cfc87f623,openstack/heat,master,I5860f6e5a4fdc5fe70d62b1aad17e04cfc87f623,[WIP] Add Glare client plugin,ABANDONED,2016-09-26 14:55:31.000000000,2017-09-14 22:36:55.000000000,,"[{'_account_id': 3}, {'_account_id': 12363}, {'_account_id': 20559}]","[{'number': 1, 'created': '2016-09-26 14:55:31.000000000', 'files': ['heat/tests/clients/test_glare_client.py', 'setup.cfg', 'heat/engine/clients/os/glare.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e87bf9d191d6005041555447265e462eeabe0c09', 'message': '[WIP] Add Glare client plugin\n\nChange-Id: I5860f6e5a4fdc5fe70d62b1aad17e04cfc87f623\n'}]",0,376559,e87bf9d191d6005041555447265e462eeabe0c09,4,3,1,20559,,,0,"[WIP] Add Glare client plugin

Change-Id: I5860f6e5a4fdc5fe70d62b1aad17e04cfc87f623
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/376559/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/clients/test_glare_client.py', 'setup.cfg', 'heat/engine/clients/os/glare.py']",3,e87bf9d191d6005041555447265e462eeabe0c09,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from glareclient import client as gc from glareclient import exc from heat.engine.clients import client_plugin CLIENT_NAME = 'glare' supported_versions = [V1] = ['1'] default_version = V1 class GlareClientPlugin(client_plugin.ClientPlugin): service_types = [ARTIFACT] = ['artifact'] def _create(self, version=None): interface = self._get_client_option(CLIENT_NAME, 'endpoint_type') args = { 'interface': interface, 'service_type': self.ARTIFACT, 'session': self.context.keystone_session } return gc.Client(version, **args) def is_not_found(self, ex): return isinstance(ex, (exc.HTTPNotFound)) def is_over_limit(self, ex): return isinstance(ex, exc.HTTPOverLimit) def is_conflict(self, ex): return isinstance(ex, (exc.Conflict)) ",,72,0
openstack%2Fheat-specs~master~I18cddda170b10ee0e9c882fa7e3a2345b4c9d380,openstack/heat-specs,master,I18cddda170b10ee0e9c882fa7e3a2345b4c9d380,"Revert ""HAProxy uses milliseconds for its timeout values.""",ABANDONED,2016-08-18 09:06:59.000000000,2017-09-14 22:36:16.000000000,,"[{'_account_id': 3}, {'_account_id': 12404}]","[{'number': 1, 'created': '2016-08-18 09:06:59.000000000', 'files': ['specs/mitaka/lbaasv2-support.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/ecc6bff87b03b35ad13db9b005f909600f3f009f', 'message': 'Revert ""HAProxy uses milliseconds for its timeout values.""\n\nThis is a backwards incompatible change, and lbaas has more than one backend driver.\n\nThis reverts commit d995c96f3b2bc73dd48f25d3cd3d6ed5629949db.\n\nChange-Id: I18cddda170b10ee0e9c882fa7e3a2345b4c9d380\n'}]",0,357034,ecc6bff87b03b35ad13db9b005f909600f3f009f,3,2,1,10980,,,0,"Revert ""HAProxy uses milliseconds for its timeout values.""

This is a backwards incompatible change, and lbaas has more than one backend driver.

This reverts commit d995c96f3b2bc73dd48f25d3cd3d6ed5629949db.

Change-Id: I18cddda170b10ee0e9c882fa7e3a2345b4c9d380
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/34/357034/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/lbaasv2-support.rst'],1,ecc6bff87b03b35ad13db9b005f909600f3f009f,bug/1600326, The minimum time in seconds between regular connections of member. Maximum number of seconds for a monitor to wait for a connection to be The minimum time in seconds between regular connections of the member. Maximum number of seconds for a monitor to wait for a connection to be, The minimum time in milliseconds between regular connections of member. Maximum number of milliseconds for a monitor to wait for a connection to be The minimum time in milliseconds between regular connections of the member. Maximum number of milliseconds for a monitor to wait for a connection to be,4,4
openstack%2Fdevstack~master~I351de28aa5d5f25187953f1a4502445bc2ce76cc,openstack/devstack,master,I351de28aa5d5f25187953f1a4502445bc2ce76cc,Update gate clone error message for Zuul v3,MERGED,2017-09-10 22:38:22.000000000,2017-09-14 22:34:15.000000000,2017-09-14 22:34:15.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7118}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-09-10 22:38:22.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/35a0c573b36236c8d73a0699cc7882170787f494', 'message': 'Update gate clone error message for Zuul v3\n\nChange-Id: I351de28aa5d5f25187953f1a4502445bc2ce76cc\n'}]",0,502361,35a0c573b36236c8d73a0699cc7882170787f494,12,4,1,1,,,0,"Update gate clone error message for Zuul v3

Change-Id: I351de28aa5d5f25187953f1a4502445bc2ce76cc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/61/502361/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,35a0c573b36236c8d73a0699cc7882170787f494,," echo ""the project to 'required-projects' in the job definition."""," echo ""the project to the \$PROJECTS variable in the job definition.""",1,1
openstack%2Fswift~feature%2Fs3api~I14f8467ff5fee33ed2475f89de0d9fba484a15fd,openstack/swift,feature/s3api,I14f8467ff5fee33ed2475f89de0d9fba484a15fd,Update .gitreview for feature/s3api,MERGED,2017-09-14 18:16:59.000000000,2017-09-14 22:33:55.000000000,2017-09-14 22:33:55.000000000,"[{'_account_id': 3}, {'_account_id': 330}]","[{'number': 1, 'created': '2017-09-14 18:16:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/swift/commit/7fdb83a5abe7add5cda4ccea61e8089ea424b70f', 'message': 'Update .gitreview for feature/s3api\n\nChange-Id: I14f8467ff5fee33ed2475f89de0d9fba484a15fd\n'}]",0,504162,7fdb83a5abe7add5cda4ccea61e8089ea424b70f,7,2,1,22816,,,0,"Update .gitreview for feature/s3api

Change-Id: I14f8467ff5fee33ed2475f89de0d9fba484a15fd
",git fetch https://review.opendev.org/openstack/swift refs/changes/62/504162/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7fdb83a5abe7add5cda4ccea61e8089ea424b70f,create-s3api,defaultbranch=feature/s3api,,1,0
openstack%2Frequirements~stable%2Fpike~I1302c635459f4973aab728cde53e1902d16a3b9a,openstack/requirements,stable/pike,I1302c635459f4973aab728cde53e1902d16a3b9a,Adding shade as a requirement for Ansible Openstack cloud module,MERGED,2017-09-06 14:18:55.000000000,2017-09-14 22:32:57.000000000,2017-09-06 21:48:17.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-09-06 14:18:55.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/382709c7b2e1d953843a22e1cffc994fba1254da', 'message': 'Adding shade as a requirement for Ansible Openstack cloud module\n\nIn order to run openstack commands from Ansible in OpenStack-Ansible,\nwe are using the shade package. The shade library is already\npinned in master, but not in Pike.\n\nWe could pin our shade version in OpenStack-Ansible, but it makes sense\nfor us to re-use the constraints, if shade is already constrained in\nother branches, like master.\n\nChange-Id: I1302c635459f4973aab728cde53e1902d16a3b9a\n'}]",0,501278,382709c7b2e1d953843a22e1cffc994fba1254da,10,4,1,17068,,,0,"Adding shade as a requirement for Ansible Openstack cloud module

In order to run openstack commands from Ansible in OpenStack-Ansible,
we are using the shade package. The shade library is already
pinned in master, but not in Pike.

We could pin our shade version in OpenStack-Ansible, but it makes sense
for us to re-use the constraints, if shade is already constrained in
other branches, like master.

Change-Id: I1302c635459f4973aab728cde53e1902d16a3b9a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/501278/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,382709c7b2e1d953843a22e1cffc994fba1254da,pin_shade,shade===1.22.2,,2,1
openstack%2Fswift~feature%2Fdeep~I44b640b5321b2825555cccea03c59f481a2dd842,openstack/swift,feature/deep,I44b640b5321b2825555cccea03c59f481a2dd842,"direct_client: items, not nodes or noshard",MERGED,2017-09-14 15:53:46.000000000,2017-09-14 22:32:28.000000000,2017-09-14 22:32:28.000000000,"[{'_account_id': 3}, {'_account_id': 7233}]","[{'number': 1, 'created': '2017-09-14 15:53:46.000000000', 'files': ['swift/common/direct_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7793e1fa9afb8c8014ea35ae069e9230602f0967', 'message': 'direct_client: items, not nodes or noshard\n\nChange-Id: I44b640b5321b2825555cccea03c59f481a2dd842\n'}]",0,504091,7793e1fa9afb8c8014ea35ae069e9230602f0967,7,2,1,15343,,,0,"direct_client: items, not nodes or noshard

Change-Id: I44b640b5321b2825555cccea03c59f481a2dd842
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/504091/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/direct_client.py'],1,7793e1fa9afb8c8014ea35ae069e9230602f0967,direct-client-params," end_marker=None, reverse=None, items=None): if items: qs += '&items=%s' % quote(items) reverse=None, items=None): :param items: omit for normal listings, 'all' to include deleted object records, 'pivot' to get pivot ranges instead of object records items=items)"," end_marker=None, reverse=None, **kargs): if 'nodes' in kargs: qs += '&nodes=%s' % quote(kargs.get('nodes', '')) if 'noshard' in kargs: qs += '&noshard=%s' % quote(kargs.get('noshard', '')) reverse=None, **kargs): **kargs)",8,7
openstack%2Fheat-specs~master~I8c53d2b3d5331ebe7d70e23d51ba124e79cab05c,openstack/heat-specs,master,I8c53d2b3d5331ebe7d70e23d51ba124e79cab05c,Add quota validation,ABANDONED,2016-09-17 09:09:56.000000000,2017-09-14 22:32:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 7385}, {'_account_id': 12363}, {'_account_id': 13009}, {'_account_id': 14864}, {'_account_id': 19049}]","[{'number': 1, 'created': '2016-09-17 09:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/6a798b66403da28a424ae9773849fb89553b6c9b', 'message': 'Add quota validation\n\nWe should determine quotas exceeding on validate step and\nraise StackValidationFailed if quota will be exceeded upon\nstack creation.\n\nThis spec suggests such validation.\n\nChange-Id: I8c53d2b3d5331ebe7d70e23d51ba124e79cab05c\n'}, {'number': 2, 'created': '2016-09-19 13:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/27bbe243e89336fe5c38a6fcd05c93d18513990c', 'message': 'Add quota validation\n\nWe should determine quotas exceeding on validate step and\nraise StackValidationFailed if quota will be exceeded upon\nstack create / update.\n\nThis spec suggests such validation.\n\nChange-Id: I8c53d2b3d5331ebe7d70e23d51ba124e79cab05c\n'}, {'number': 3, 'created': '2016-09-19 15:05:22.000000000', 'files': ['specs/ocata/pre-validate-quotas.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/e6679d478bdf17ebfc1bfc12b4b65d828e32acc0', 'message': 'Add quota validation\n\nWe should determine quotas exceeding on validate step and\nraise StackValidationFailed if quota will be exceeded upon\nstack create / update.\n\nThis spec suggests such validation.\n\nChange-Id: I8c53d2b3d5331ebe7d70e23d51ba124e79cab05c\n'}]",23,371910,e6679d478bdf17ebfc1bfc12b4b65d828e32acc0,13,7,3,20559,,,0,"Add quota validation

We should determine quotas exceeding on validate step and
raise StackValidationFailed if quota will be exceeded upon
stack create / update.

This spec suggests such validation.

Change-Id: I8c53d2b3d5331ebe7d70e23d51ba124e79cab05c
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/10/371910/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/pre-validate-quotas.rst'],1,6a798b66403da28a424ae9773849fb89553b6c9b,quota_validation,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================== Add quotas validation ===================== https://blueprints.launchpad.net/heat/+spec/add-quotas-validation We should determine quotas exceeding on validate step and raise StackValidationFailed if quota will be exceeded upon stack creation. Problem description =================== Stack resources can lead to quotas exceeding. Heat can start creating resources, create part of them and then stuck into quota limitation. We should determine this outcome on validate step and prevent such stack from creating. Proposed change =============== Overall idea: 1. In stack we create some entity that represents current quotas (I propose it being a dict). It will look like this: {'instances': 10, 'cores': 20, 'ram': 51200, 'key_pairs': 100, 'server_groups': 10, 'floatingips' 50, 'networks' 10, ... } 2. In resource we create method that returns values of properties limited by quotas. Base implementation returns empty dict and in resources that can be restricted by quotas will have overriden method. For example, nova have flavor property, in this method we get flavor and values from it. 3. Then we combine all values from all resources in stack + current resources in project that already exist and check if some value is bigger than project quota allows. Possible problems: 1. Property in resource (such as flavor) can be a link to another resource in stack. So we need to extract properties of such resource to calculate values. 2. Nested stacks. We need to get limited values from nested stacks and combine them to one combined dict. 3. We already have cinder quota resource (and in future there can be more such resources). That resource will change project quotas. So we need to take into account that changes somehow. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Milestones ---------- Target Milestone for completion: ocata-1 Work Items ---------- * handle cinder quotas * handle nova quotas * handle neutron quotas Dependencies ============ None ",,79,0
openstack%2Fswift~master~I1b0c12cd5f893f1a84d12782ddc39f6d06beb2aa,openstack/swift,master,I1b0c12cd5f893f1a84d12782ddc39f6d06beb2aa,Correct the unused doc link address,MERGED,2017-09-05 11:25:37.000000000,2017-09-14 22:32:20.000000000,2017-09-14 22:32:20.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 9625}, {'_account_id': 13052}, {'_account_id': 25235}]","[{'number': 1, 'created': '2017-09-05 11:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/78d477ab4dd9589f5c34326221e9c8149a59a0e9', 'message': 'doc migration: update the doc link address[3/3]\n\nUpdate the doc link brought by the doc migration.\nAlthough we had some effort to fix these, it still left lots of bad\ndoc link, I separate these changes into 3 patches aim to fix all of\nthese, this is the 3rd patch for doc/source/install.\n\nChange-Id: I1b0c12cd5f893f1a84d12782ddc39f6d06beb2aa\n'}, {'number': 2, 'created': '2017-09-13 08:55:00.000000000', 'files': ['doc/source/install/storage-install-rdo.rst', 'doc/source/install/storage-include2.txt', 'doc/source/install/storage-include3.txt', 'doc/source/install/get_started.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-include.txt', 'doc/source/install/initial-rings.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/install/storage-include1.txt', 'doc/source/install/storage-install-obs.rst', 'doc/source/install/storage-install-ubuntu-debian.rst', 'doc/source/install/controller-install-debian.rst', 'doc/source/install/controller-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/6305993317934de8724a81afe7e21fb06c7d44d0', 'message': 'Correct the unused doc link address\n\nUpdate the doc link brought by the doc migration.\nAlthough we had some effort to fix these, it still left lots of bad\ndoc link, I separate these changes into 3 patches aim to fix all of\nthese, this is the 3rd patch for doc/source/install.\n\nChange-Id: I1b0c12cd5f893f1a84d12782ddc39f6d06beb2aa\n'}]",0,500777,6305993317934de8724a81afe7e21fb06c7d44d0,12,5,2,25456,,,0,"Correct the unused doc link address

Update the doc link brought by the doc migration.
Although we had some effort to fix these, it still left lots of bad
doc link, I separate these changes into 3 patches aim to fix all of
these, this is the 3rd patch for doc/source/install.

Change-Id: I1b0c12cd5f893f1a84d12782ddc39f6d06beb2aa
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/500777/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/storage-install-rdo.rst', 'doc/source/install/storage-include2.txt', 'doc/source/install/storage-include3.txt', 'doc/source/install/get_started.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-include.txt', 'doc/source/install/initial-rings.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/install/storage-include1.txt', 'doc/source/install/storage-install-obs.rst', 'doc/source/install/storage-install-ubuntu-debian.rst', 'doc/source/install/controller-install-debian.rst', 'doc/source/install/controller-install-rdo.rst']",13,78d477ab4dd9589f5c34326221e9c8149a59a0e9,doc-migration,`Deployment Guide <https://docs.openstack.org/swift/latest/deployment_guide.html>`__.,`Deployment Guide <http://docs.openstack.org/developer/swift/deployment_guide.html>`__.,14,14
openstack%2Fheat-specs~master~I1d01dfeae2f2f9d4a9b6deef0289cb5c356dcfe2,openstack/heat-specs,master,I1d01dfeae2f2f9d4a9b6deef0289cb5c356dcfe2,WIP: Quota validation for whole template,NEW,2017-09-06 04:50:00.000000000,2017-09-14 22:31:46.000000000,,"[{'_account_id': 3}, {'_account_id': 7385}, {'_account_id': 25221}]","[{'number': 1, 'created': '2017-09-06 04:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/762bd13fd62f51acbe96e1b794adbc2b60688ddc', 'message': 'WIP: Quota validation for whole template\n\nCurrent Heat does not have any validation to check if the number of\nrequested resources exceeds the quota or not.\nThis might cause unexpected stack creation failures even though the\ngiven resource parameters are good.\nThis proposal is aiming to add Quota validation which works for the\nwhole template to check if the sum of requested number & existing\nnumber of each resource are not greater than the quota value.\n\nChange-Id: I1d01dfeae2f2f9d4a9b6deef0289cb5c356dcfe2\nImplements: blueprint quota-validation-whole-template\n'}, {'number': 2, 'created': '2017-09-07 09:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/00b4e22f5faa274a2966c5bce497883cef199d1d', 'message': 'WIP: Quota validation for whole template\n\nCurrent Heat does not have any validation to check if the number of\nrequested resources exceeds the quota or not.\nThis might cause unexpected stack creation failures even though the\ngiven resource parameters are good.\nThis proposal is aiming to add Quota validation which works for the\nwhole template to check if the sum of requested number & existing\nnumber of each resource are not greater than the quota value.\n\nChange-Id: I1d01dfeae2f2f9d4a9b6deef0289cb5c356dcfe2\nImplements: blueprint quota-validation-whole-template\n'}, {'number': 3, 'created': '2017-09-07 09:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/dccf6d39f4b1b645be11b9d4f648dba6d2cf506d', 'message': 'WIP: Quota validation for whole template\n\nCurrent Heat does not have any validation to check if the number of\nrequested resources exceeds the quota or not.\nThis might cause unexpected stack creation failures even though the\ngiven resource parameters are good.\nThis proposal is aiming to add Quota validation which works for the\nwhole template to check if the sum of requested number & existing\nnumber of each resource are not greater than the quota value.\n\nChange-Id: I1d01dfeae2f2f9d4a9b6deef0289cb5c356dcfe2\nImplements: blueprint quota-validation-whole-template\n'}, {'number': 4, 'created': '2017-09-11 19:05:33.000000000', 'files': ['specs/queens/quota-validation-whole-template.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/28709974ca061eb59210303b193c8ce20e145668', 'message': 'WIP: Quota validation for whole template\n\nCurrent Heat does not have any validation to check if the number of\nrequested resources exceeds the quota or not.\nThis might cause unexpected stack creation failures even though the\ngiven resource parameters are good.\nThis proposal is aiming to add Quota validation which works for the\nwhole template to check if the sum of requested number & existing\nnumber of each resource are not greater than the quota value.\n\nChange-Id: I1d01dfeae2f2f9d4a9b6deef0289cb5c356dcfe2\nImplements: blueprint quota-validation-whole-template\n'}]",0,501107,28709974ca061eb59210303b193c8ce20e145668,11,3,4,25221,,,0,"WIP: Quota validation for whole template

Current Heat does not have any validation to check if the number of
requested resources exceeds the quota or not.
This might cause unexpected stack creation failures even though the
given resource parameters are good.
This proposal is aiming to add Quota validation which works for the
whole template to check if the sum of requested number & existing
number of each resource are not greater than the quota value.

Change-Id: I1d01dfeae2f2f9d4a9b6deef0289cb5c356dcfe2
Implements: blueprint quota-validation-whole-template
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/07/501107/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/quota-validation-whole-template.rst'],1,762bd13fd62f51acbe96e1b794adbc2b60688ddc,bp/quota-validation-whole-template,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/heat/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =================================== Quota validation for whole template =================================== https://blueprints.launchpad.net/heat/+spec/quota-validation-whole-template Problem description =================== Current Heat does not have any validation to check if the number of requested resources exceeds the quota or not. This might cause unexpected stack creation failures even though the given resource parameters are good. Proposed change =============== Basic formula of this validation is here. ``requested number + existing number > quota`` * True => StackValidationFailed * False => Pass e.g. Stack creation along with a template including Nova instances * Number of requested Nova instances in a template: 9 * Number of existing Nova instances in the tenant: 2 * Allowed number of Nova instances by quota: 10 ``9 + 2 > 10`` => True, therefore Heat must raise StackValidationFailed Also more granular control should be implemented such that user can specify their own quota value per resources at heat.conf as artificial quota in Heat. heat.conf sample: .. code-block:: ini [quota_validation] os_nova_server = 10 os_nova_keypair = 100 os_neutron_net = 20 os_neutron_subnet = 20 os_neutron_port = 100 Resource type which should be in scope of this. * OS::Nova::Server * OS::Nova::KeyPair * OS::Nova::floatingip Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: kazsh Milestones ---------- Target Milestone for completion: queens-1 Work Items ---------- * Add a new module(heat/engine/quota_validation.py) * Improve the validate() method in heat.engine.stack module to run the newly added quota validation logic * Add new parameters(heat/common/common.py) * Add required unit tests Dependencies ============ None ",,104,0
openstack%2Fheat-specs~master~If4c79ae183ed4d7318abd805996a11d8e88ba81b,openstack/heat-specs,master,If4c79ae183ed4d7318abd805996a11d8e88ba81b,Add spec for storing raw templates in Heat,ABANDONED,2016-01-20 17:35:22.000000000,2017-09-14 22:30:52.000000000,,"[{'_account_id': 3}, {'_account_id': 7230}, {'_account_id': 7256}, {'_account_id': 13720}, {'_account_id': 14033}, {'_account_id': 15123}]","[{'number': 1, 'created': '2016-01-20 17:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/56fe6e33ae47a4da693f1979a21165b05411587a', 'message': 'Add spec for storing raw templates in Heat\n\nChange-Id: If4c79ae183ed4d7318abd805996a11d8e88ba81b\n'}, {'number': 2, 'created': '2016-01-20 17:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/f7c3f4784dd856c0b3506921f697d5921ecf5617', 'message': 'Add spec for storing raw templates in Heat\n\nChange-Id: If4c79ae183ed4d7318abd805996a11d8e88ba81b\n'}, {'number': 3, 'created': '2016-01-21 18:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/15a2fd6c6943548c637bbfdd598923c0f340eeb0', 'message': 'Add spec for storing raw templates in Heat\n\nChange-Id: If4c79ae183ed4d7318abd805996a11d8e88ba81b\n'}, {'number': 4, 'created': '2016-01-25 15:29:36.000000000', 'files': ['specs/mitaka/store_raw_template.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/d63a57804351f38409cbce7817319a56fc894741', 'message': 'Add spec for storing raw templates in Heat\n\nChange-Id: If4c79ae183ed4d7318abd805996a11d8e88ba81b\n'}]",23,270334,d63a57804351f38409cbce7817319a56fc894741,24,6,4,13720,,,0,"Add spec for storing raw templates in Heat

Change-Id: If4c79ae183ed4d7318abd805996a11d8e88ba81b
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/34/270334/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/store_raw_template.rst'],1,56fe6e33ae47a4da693f1979a21165b05411587a,store_raw_template,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Store Raw Template in Heat ================================= https://blueprints.launchpad.net/heat/+spec/resource-notifications Problem description =================== One of the persistent demans we have seen from teams that support Heat has been the need to retrieve the template that was used to create the stack. The only way to do this currently is a GET template request on the stack. However, there are some issues with this: 1) The original template might have had comments by the user, which would be lost. This might cause much alarm to some users, especially if they have long running stacks, a situation which is not uncommon. 2) The format of the template can be either YAML or JSON, but the user will always get back a a JSON version of the template. For users who might be accustomed to YAML templates, this is a very major inconvenience. 3) The JSON template that is returned often has sections that are out of order, making it harder to read the templates. 4) GUI's over Heat find it easier to work with the original templates. Many GUI's have some sort of template catalog, and having the raw template makes it much easier for users to edit and update the stack. Proposed change =============== We propose storing the raw template in the Heat service itself and making it available to users. Alternatives ------------ * use an external cataloging service to store the templates used to create stacks. While possible, this solution necessitates the creation and maintenance of another service for something that can be accomplished with much less effort within Heat itself. Implementation ============== The api changes will be minor: a query parameter 'format=raw' in the call to GET template would return the raw version of the template that was used to create/update the stack. Internally, the api parses the template before making rpc calls to the engine in which it passes the parsed template. We will add the raw template to this interface. Additionally, a column called 'raw_data' will be added to the 'raw_template' table. This column will store the raw_template that is passed during stack create/update. A heat-manage command may also be added to iterate through the database and populate the newly added raw_template column for every stack. Since that information is not available, it may simply use the parsed template that is available at hand. Assignee(s) ----------- Primary assignee: <pratikmallya> Milestones ---------- Target Milestone for completion: mitaka-1 Work Items ---------- - Add a new column 'raw_data' to the raw_template table in the heat db - Update api-engine-rpc calls/methods to accept both the raw and parsed version of the template - Update api with the 'format=raw' query param Dependencies ============ None ",,94,0
openstack%2Fswift~master~I1850f09bab16401479b5a0cc521f67a32ea9c9f5,openstack/swift,master,I1850f09bab16401479b5a0cc521f67a32ea9c9f5,Log remote_merges during DB replication,MERGED,2017-04-19 00:29:00.000000000,2017-09-14 22:30:35.000000000,2017-09-14 22:30:35.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 6968}]","[{'number': 1, 'created': '2017-04-19 00:29:00.000000000', 'files': ['test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8e59dfbee2a67f84a1fd1d5cc1679ec514255fdc', 'message': 'Log remote_merges during DB replication\n\nChange-Id: I1850f09bab16401479b5a0cc521f67a32ea9c9f5\n'}]",2,457827,8e59dfbee2a67f84a1fd1d5cc1679ec514255fdc,13,3,1,15343,,,0,"Log remote_merges during DB replication

Change-Id: I1850f09bab16401479b5a0cc521f67a32ea9c9f5
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/457827/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py']",2,8e59dfbee2a67f84a1fd1d5cc1679ec514255fdc,," sorted(self.stats.items()) if item[0] in 'empty', 'diff_capped', 'remote_merge')]))"," self.stats.items() if item[0] in 'empty', 'diff_capped')]))",55,6
openstack%2Fheat-specs~master~Icce77b3babe0c0c75df04398dae6ad9926a2efe3,openstack/heat-specs,master,Icce77b3babe0c0c75df04398dae6ad9926a2efe3,Format for stack event messages,ABANDONED,2015-05-28 20:12:52.000000000,2017-09-14 22:30:04.000000000,,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 12259}]","[{'number': 1, 'created': '2015-05-28 20:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/e23612b2204e151122d8be7a52f89e2c8b791906', 'message': 'Format for stack event messages\n\nAdd an event message format to the patch for the generic envelope\nformat.\n\nChange-Id: Icce77b3babe0c0c75df04398dae6ad9926a2efe3\n'}, {'number': 2, 'created': '2015-06-01 13:28:49.000000000', 'files': ['specs/liberty/event-message-format.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/5a7e19a328d28a21b6c81b31faf52f22616fb88e', 'message': 'Format for stack event messages\n\nAdd an event message format to the patch for the generic envelope\nformat.\n\nChange-Id: Icce77b3babe0c0c75df04398dae6ad9926a2efe3\n'}]",0,186555,5a7e19a328d28a21b6c81b31faf52f22616fb88e,7,3,2,12321,,,0,"Format for stack event messages

Add an event message format to the patch for the generic envelope
format.

Change-Id: Icce77b3babe0c0c75df04398dae6ad9926a2efe3
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/55/186555/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/event-message-format.rst'],1,e23612b2204e151122d8be7a52f89e2c8b791906,event-message-format,"Separately from the envelope format, heat events would be represented in the ``msg`` field.:: { ... fields omitted .. ""msg_version"": ""0.0.1"", ""msg_type"": ""os.heat.event"", ""msg"": { ""resource_name"": ""port"", ""stack_name"": ""stack-of-clouds"", ""stack_id"": ""1234-5678-9999"", ""logical_resource_id"": ""port"", ""physical_resource_id"": null, ""resource_status"": ""CREATE_IN_PROGRESS"", ""resource_status_reason"": ""state changed"", ""links"": [ { ""href"": ""http://host/v1/{tenant}/stacks/{stack_name}/..."", ""rel"": ""self"" }, ... # links to the stack & resource ] } } All the envelope fields (timestamp, hmac, etc) would also be filled in on a real message, but for the sake of example only the type and version fields were filled in here. This message format is identical to the events API format with the addition of a ``stack_name`` and ``stack_id`` since the recipient of the message will not necessarily know what stacks they are subscribers of.",,32,0
openstack%2Fheat-specs~master~I3ad66c3ba0823ae80c4e1a323d9435a33c7d23b9,openstack/heat-specs,master,I3ad66c3ba0823ae80c4e1a323d9435a33c7d23b9,Add a spec for Event Messages in Heat,ABANDONED,2015-05-28 15:44:05.000000000,2017-09-14 22:29:49.000000000,,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 4257}, {'_account_id': 4715}, {'_account_id': 7193}, {'_account_id': 10487}, {'_account_id': 10787}, {'_account_id': 11865}, {'_account_id': 12259}, {'_account_id': 12321}]","[{'number': 1, 'created': '2015-05-28 15:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/573a75a96603616afdad5f3451677d3154fa35a3', 'message': 'Add a spec for Event Messages in Heat\n\nThis is a JSON format for an envelope around event messages to\n(eventually) replace the existing events API.\n\nAPIImpact\n\nChange-Id: I3ad66c3ba0823ae80c4e1a323d9435a33c7d23b9\n'}, {'number': 2, 'created': '2015-05-28 16:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/2e593bebd9fe32dde838557d0694ea7c0532c9ee', 'message': 'Add a spec for Event Messages in Heat\n\nThis is a JSON format for an envelope around event messages to\n(eventually) replace the existing events API.\n\nAPIImpact\n\nChange-Id: I3ad66c3ba0823ae80c4e1a323d9435a33c7d23b9\n'}, {'number': 3, 'created': '2015-05-28 16:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/9dff390e96cab565f1a5cbd157f24d4daf027116', 'message': 'Add a spec for Event Messages in Heat\n\nThis is a JSON format for an envelope around event messages to\n(eventually) replace the existing events API.\n\nAPIImpact\n\nChange-Id: I3ad66c3ba0823ae80c4e1a323d9435a33c7d23b9\n'}, {'number': 4, 'created': '2015-06-01 13:28:49.000000000', 'files': ['specs/liberty/event-message-format.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/19b6a1abcd4bc55cdba159705d33923c59454578', 'message': 'Add a spec for Event Messages in Heat\n\nThis is a JSON format for an envelope around event messages to\n(eventually) replace the existing events API.\n\nAPIImpact\n\nChange-Id: I3ad66c3ba0823ae80c4e1a323d9435a33c7d23b9\n'}]",20,186436,19b6a1abcd4bc55cdba159705d33923c59454578,29,10,4,12321,,,0,"Add a spec for Event Messages in Heat

This is a JSON format for an envelope around event messages to
(eventually) replace the existing events API.

APIImpact

Change-Id: I3ad66c3ba0823ae80c4e1a323d9435a33c7d23b9
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/36/186436/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/event-message-format.rst'],1,573a75a96603616afdad5f3451677d3154fa35a3,event-message-format,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/heat/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ===================== Event Message Format ===================== Currently events in heat are stored in a table and only available by polling the heat API. Problem description =================== Heat does *not* want to have a unique message format for every notification and event. This spec standardizes an envelope schema for messages that will be used across heat for future notification use cases. Other projects are encouraged to adopt or adapt this format, and leave feedback. The envelope format has provisions for namespacing message types on project, such as ``os.heat.event`` or similar. This will avoid collisions between projects so, say, a Trove-formatted event won't be confused with a Heat event. Proposed change =============== The current use cases for events are: - Sending events to subscribers without needing them to poll heat-engine - Notify users when hooks are reached The top-level envelope for this version would have the following keys: { ""timestamp"": ""ISO8601 message creation time"", ""msg_version"": ""semver of the message schema type"" ""msg_type"": ""os.heat.event"", ""uuid"": ""a UUID for the message so clients can dedup messages"", ""msg"": { # This is defined by the message type } # optional fields ""hmac"": ""HMAC of the 'msg' content field"" } Alternatives ------------ Use `CADF<http://www.dmtf.org/sites/default/files/standards/documents/DSP2038_1.1.0.pdf>_` instead, though it seems more aimed at auditing than notifications. Implementation ============== None yet Assignee(s) ----------- Primary assignee: sb-p (ryansb) Milestones ---------- Target Milestone for completion: liberty-1 Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ - Zaqar as a transport ",,93,0
openstack%2Fheat-specs~master~I38a5c4b9a1c5cac777fe8827df24924fba928296,openstack/heat-specs,master,I38a5c4b9a1c5cac777fe8827df24924fba928296,Reference other stack outputs,ABANDONED,2015-05-22 16:05:02.000000000,2017-09-14 22:29:22.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7193}, {'_account_id': 9237}, {'_account_id': 12321}]","[{'number': 1, 'created': '2015-05-22 16:05:02.000000000', 'files': ['specs/liberty/heat-stack-reference-output.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/7085e9d1c600c66511d187890f6ba7a63572b216', 'message': 'Reference other stack outputs\n\nThis spec is to add support for one stack to look up outputs from another stack, simplifying the user experience.\n\nChange-Id: I38a5c4b9a1c5cac777fe8827df24924fba928296\n'}]",4,185058,7085e9d1c600c66511d187890f6ba7a63572b216,8,5,1,9237,,,0,"Reference other stack outputs

This spec is to add support for one stack to look up outputs from another stack, simplifying the user experience.

Change-Id: I38a5c4b9a1c5cac777fe8827df24924fba928296
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/58/185058/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/heat-stack-reference-output.rst'],1,7085e9d1c600c66511d187890f6ba7a63572b216,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/heat/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============================= The title of your blueprint ============================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/heat/+spec/example Introduction paragraph -- why are we doing anything? Problem description =================== I often launch one template, say a base cluster template that provides a shared set of resources. Load balancer, security group, antiaffinity server group, etc. The template outputs the uuid's for each of the resources. I then launch an instance template, say a ldap slave that takes parameters for those uuid's as inputs so the instance can utilize the shared resources. This requires the user to potentially handle a lot of long, funny looking strings. Proposed change =============== I would like to see a new intrinsic function added to heat to allow the template to be passed a heat stack name or id that gets passed to the intrinsic function, that allows retrieval of the referenced stacks output variables. In the above example, rather then have to pass in 3 different uuid's, the user would simply have to pass in their shared stack name and the instance temlate greatly simplifying the user experience. Alternatives ------------ * Allow the external_resource concept to accept an external_resource of a heat stack so its properties can be introspected. The external_resource must not take over ownership of the heat stack though, since it may be shared by multiple instance stacks. * Do nothing. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Can optionally can list additional ids if they intend on doing substantial implementation work on this blueprint. Milestones ---------- Target Milestone for completion: liberty-1 Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ - Include specific references to specs and/or blueprints in heat, or in other projects, that this one either depends on or is related to. - Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? ",,85,0
openstack%2Fneutron-fwaas~master~I447ac09347d91b0c2712a8026df4e45aaa72a5e1,openstack/neutron-fwaas,master,I447ac09347d91b0c2712a8026df4e45aaa72a5e1,Fix filtering parameter to get firewall_group,MERGED,2017-04-05 16:59:24.000000000,2017-09-14 22:23:44.000000000,2017-09-08 21:36:08.000000000,"[{'_account_id': 3}, {'_account_id': 6995}, {'_account_id': 7787}, {'_account_id': 10850}, {'_account_id': 15905}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-04-05 16:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/efad1aa7429f7975ea1e42f9f4bb35baca2d6f95', 'message': ""Fix filtering parameter to get firewall_group\n\nThis commit fixes filtering parameter in order to get firewall_group\nfrom firewall_policy_id as following:\n\n    'ingress_firewall_policy_id' or 'egress_firewall_policy_id'\n\nChange-Id: I447ac09347d91b0c2712a8026df4e45aaa72a5e1\nCloses-Bug: #1680161\n""}, {'number': 2, 'created': '2017-08-22 07:15:47.000000000', 'files': ['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f8a86e74f108aee8cba8a3fdde0a9267bd892d4a', 'message': ""Fix filtering parameter to get firewall_group\n\nThis commit fixes query filtering in order to get firewall_group\nfrom firewall_policy_id as following:\n\n    'ingress_firewall_policy_id' or 'egress_firewall_policy_id'\n\nChange-Id: I447ac09347d91b0c2712a8026df4e45aaa72a5e1\nCloses-Bug: #1680161\n""}]",0,453786,f8a86e74f108aee8cba8a3fdde0a9267bd892d4a,13,6,2,13702,,,0,"Fix filtering parameter to get firewall_group

This commit fixes query filtering in order to get firewall_group
from firewall_policy_id as following:

    'ingress_firewall_policy_id' or 'egress_firewall_policy_id'

Change-Id: I447ac09347d91b0c2712a8026df4e45aaa72a5e1
Closes-Bug: #1680161
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/86/453786/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/firewall/v2/firewall_db_v2.py'],1,efad1aa7429f7975ea1e42f9f4bb35baca2d6f95,bug/1680161," filters = { 'ingress_firewall_policy_id': [fwp_id], 'egress_firewall_policy_id': [fwp_id] }"," filters = {'ingress_firewall_rule_id': [fwp_id], 'ingress_firewall_rule_id': [fwp_id]}",4,2
openstack%2Fnova~master~I927630f54c8ad9564f559a8250b7deb8c237b8bc,openstack/nova,master,I927630f54c8ad9564f559a8250b7deb8c237b8bc,[placement] Correct a comment in _set_allocations,MERGED,2017-09-08 20:01:48.000000000,2017-09-14 22:21:24.000000000,2017-09-14 22:21:24.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 23310}, {'_account_id': 23312}, {'_account_id': 24711}, {'_account_id': 25747}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-08 20:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e39ccd20482466aa2bcf430f75ef8cc0ae19c56d', 'message': '[placement] Correct a comment in _set_allocations\n\nA comment describing when an exception was happening was in the wrong\nplace. This change moves it to the right place with some adjustments,\nand puts a more appropriate comment in the original location.\n\nChange-Id: I927630f54c8ad9564f559a8250b7deb8c237b8bc\n'}, {'number': 2, 'created': '2017-09-10 15:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17f8e79e5c0d0e2a7200122f128957a51f345936', 'message': '[placement] Correct a comment in _set_allocations\n\nA comment describing when an exception was happening was in the wrong\nplace. This change moves it to the right place with some adjustments,\nand puts a more appropriate comment in the original location.\n\nChange-Id: I927630f54c8ad9564f559a8250b7deb8c237b8bc\n'}, {'number': 3, 'created': '2017-09-10 17:17:44.000000000', 'files': ['nova/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0a057861012b4ace2caef4ff0c515b1d90fca46', 'message': '[placement] Correct a comment in _set_allocations\n\nA comment describing when an exception was happening was in the wrong\nplace. This change moves it to the right place with some adjustments,\nand puts a more appropriate comment in the original location.\n\nChange-Id: I927630f54c8ad9564f559a8250b7deb8c237b8bc\n'}]",3,502167,d0a057861012b4ace2caef4ff0c515b1d90fca46,73,17,3,11564,,,0,"[placement] Correct a comment in _set_allocations

A comment describing when an exception was happening was in the wrong
place. This change moves it to the right place with some adjustments,
and puts a more appropriate comment in the original location.

Change-Id: I927630f54c8ad9564f559a8250b7deb8c237b8bc
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/502167/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/resource_provider.py'],1,e39ccd20482466aa2bcf430f75ef8cc0ae19c56d,cd/fix-comment, # Make sure that all of the allocations are new. # If there are any allocations with string resource class names # that don't exist this will raise a ResourceClassNotFound # exception., # Short-circuit out if there are any allocations with string # resource class names that don't exist this will raise a # ResourceClassNotFound exception.,4,3
openstack%2Ftripleo-docs~master~I0acf92eb773dc8b35a8fe61678561f0bac89e077,openstack/tripleo-docs,master,I0acf92eb773dc8b35a8fe61678561f0bac89e077,Update Ceph backend configuration to cover OSD journal scenarios,MERGED,2017-09-11 19:56:30.000000000,2017-09-14 22:18:50.000000000,2017-09-14 22:18:50.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}]","[{'number': 1, 'created': '2017-09-11 19:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9218aa2e95373f1ec7ec177cb7abc6e08432e5ae', 'message': 'Update Ceph backend configuration to cover OSD journal scenarios\n\nChange-Id: I0acf92eb773dc8b35a8fe61678561f0bac89e077\n'}, {'number': 2, 'created': '2017-09-12 16:56:02.000000000', 'files': ['doc/source/install/advanced_deployment/ceph_config.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ace9d31da2653700f9ad9d350a9d1673f6390e89', 'message': 'Update Ceph backend configuration to cover OSD journal scenarios\n\nChange-Id: I0acf92eb773dc8b35a8fe61678561f0bac89e077\n'}]",4,502557,ace9d31da2653700f9ad9d350a9d1673f6390e89,11,4,2,18002,,,0,"Update Ceph backend configuration to cover OSD journal scenarios

Change-Id: I0acf92eb773dc8b35a8fe61678561f0bac89e077
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/57/502557/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/ceph_config.rst'],1,9218aa2e95373f1ec7ec177cb7abc6e08432e5ae,ceph-journal-scenarios, osd_scenario: non-collocatedIf the journals will reside on the same disks as the OSDs then the above should be changed to the following:: parameter_defaults: CephAnsibleDisksConfig: devices: - /dev/sdb - /dev/sdc - /dev/sdd journal_collocation: true raw_multi_journal: false osd_scenario: collocated,,13,0
openstack%2Fopenstack-ansible-os_glance~master~I257a8ebbd75bd20482383fb3c645d6b45ed59ddf,openstack/openstack-ansible-os_glance,master,I257a8ebbd75bd20482383fb3c645d6b45ed59ddf,Updated from OpenStack Ansible Tests,MERGED,2017-09-12 23:55:15.000000000,2017-09-14 22:17:24.000000000,2017-09-14 22:17:24.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-12 23:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/6f3e02efcdeda602e6ef5ea10ad9f0bacfaaf498', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I257a8ebbd75bd20482383fb3c645d6b45ed59ddf\n'}, {'number': 2, 'created': '2017-09-14 17:59:44.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/5deac655a81565f0070af24e7010c7be6cee1877', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I257a8ebbd75bd20482383fb3c645d6b45ed59ddf\n'}]",0,503474,5deac655a81565f0070af24e7010c7be6cee1877,16,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I257a8ebbd75bd20482383fb3c645d6b45ed59ddf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/74/503474/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,6f3e02efcdeda602e6ef5ea10ad9f0bacfaaf498,openstack/openstack-ansible-tests/sync-tests,,# For SSL SNI support python-pyasn1 [platform:dpkg platform:suse] python-openssl [platform:dpkg] python-ndg-httpsclient [platform:ubuntu] python2-pyasn1 [platform:redhat] pyOpenSSL [platform:redhat] python-pyOpenSSL [platform:opensuseproject-42] python2-pyOpenSSL [platform:suse !platform:opensuseproject-42] python-ndg_httpsclient [platform:redhat !platform:fedora] python2-ndg_httpsclient [platform:fedora] python-ndg-httpsclient [platform:suse] ,0,12
openstack%2Fcliff~master~I7247a2c8565e79c2c6084b5d986568a3f6990778,openstack/cliff,master,I7247a2c8565e79c2c6084b5d986568a3f6990778,Updated from global requirements,MERGED,2017-09-13 12:49:12.000000000,2017-09-14 22:17:16.000000000,2017-09-14 22:17:16.000000000,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2017-09-13 12:49:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cliff/commit/522ae63ebb9d056250f835c08b12fcef29384a49', 'message': 'Updated from global requirements\n\nChange-Id: I7247a2c8565e79c2c6084b5d986568a3f6990778\n'}]",0,503618,522ae63ebb9d056250f835c08b12fcef29384a49,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I7247a2c8565e79c2c6084b5d986568a3f6990778
",git fetch https://review.opendev.org/openstack/cliff refs/changes/18/503618/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,522ae63ebb9d056250f835c08b12fcef29384a49,openstack/requirements, openstackdocstheme>=1.17.0 # Apache-2.0, openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fpuppet-neutron~master~I265ed96ea243ada0098b55597a446cb05bee1c2a,openstack/puppet-neutron,master,I265ed96ea243ada0098b55597a446cb05bee1c2a,Update links in README,MERGED,2017-08-23 07:14:51.000000000,2017-09-14 22:15:22.000000000,2017-09-14 22:15:22.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-08-23 07:14:51.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/bb78393b93496a41cec1380bd463e756f3fafb54', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: I265ed96ea243ada0098b55597a446cb05bee1c2a\n'}]",0,496529,bb78393b93496a41cec1380bd463e756f3fafb54,9,3,1,23314,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: I265ed96ea243ada0098b55597a446cb05bee1c2a
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/29/496529/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,bb78393b93496a41cec1380bd463e756f3fafb54,,[![Team and repository tags](https://governance.openstack.org/tc/badges/puppet-neutron.svg)](https://governance.openstack.org/tc/reference/tags/index.html)To utilize the neutron module's functionality you will need to declare multiple resources. The following example displays the setting up of an Open vSwitch neutron installation. This is not an exhaustive list of all the components needed. We recommend that you consult and understand the [core openstack](https://docs.openstack.org) documentation to assist you in understanding the available deployment options.,[![Team and repository tags](http://governance.openstack.org/badges/puppet-neutron.svg)](http://governance.openstack.org/reference/tags/index.html)To utilize the neutron module's functionality you will need to declare multiple resources. The following example displays the setting up of an Open vSwitch neutron installation. This is not an exhaustive list of all the components needed. We recommend that you consult and understand the [core openstack](http://docs.openstack.org) documentation to assist you in understanding the available deployment options.,2,2
openstack%2Fpuppet-openstack_spec_helper~stable%2Fnewton~I4c4f9606209c4fef725c3d8f2240bd396a8a3138,openstack/puppet-openstack_spec_helper,stable/newton,I4c4f9606209c4fef725c3d8f2240bd396a8a3138,Drop Fedora 24 from supported operating systems,MERGED,2017-09-07 13:44:58.000000000,2017-09-14 21:54:00.000000000,2017-09-14 21:54:00.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-07 13:44:58.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/9274af35b2752fca0e2fecf865fc9252dd3beef9', 'message': 'Drop Fedora 24 from supported operating systems\n\nWe do not support Fedora 24 at the moment in our Puppet modules\ntherefore by having it in the supported operating systems, it\nwill increase the number of tests which have to run for unit tests.\n\nThis patch drops it which should reduce test cases by 25% which\nare not tested.\n\nChange-Id: I4c4f9606209c4fef725c3d8f2240bd396a8a3138\n(cherry picked from commit 7fdf320eac68c90d3e6620ab9da0e7e365e92eb1)\n'}]",0,501740,9274af35b2752fca0e2fecf865fc9252dd3beef9,7,3,1,1004,,,0,"Drop Fedora 24 from supported operating systems

We do not support Fedora 24 at the moment in our Puppet modules
therefore by having it in the supported operating systems, it
will increase the number of tests which have to run for unit tests.

This patch drops it which should reduce test cases by 25% which
are not tested.

Change-Id: I4c4f9606209c4fef725c3d8f2240bd396a8a3138
(cherry picked from commit 7fdf320eac68c90d3e6620ab9da0e7e365e92eb1)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/40/501740/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,9274af35b2752fca0e2fecf865fc9252dd3beef9,,," { 'operatingsystem' => 'Fedora', 'operatingsystemrelease' => [ '22' ] },",0,2
openstack%2Fpuppet-openstack_spec_helper~stable%2Focata~I4c4f9606209c4fef725c3d8f2240bd396a8a3138,openstack/puppet-openstack_spec_helper,stable/ocata,I4c4f9606209c4fef725c3d8f2240bd396a8a3138,Drop Fedora 24 from supported operating systems,MERGED,2017-09-07 13:41:41.000000000,2017-09-14 21:53:54.000000000,2017-09-14 21:53:54.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-07 13:41:41.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/af34216a6671009d34241bdba2d6b2a0130b61e3', 'message': 'Drop Fedora 24 from supported operating systems\n\nWe do not support Fedora 24 at the moment in our Puppet modules\ntherefore by having it in the supported operating systems, it\nwill increase the number of tests which have to run for unit tests.\n\nThis patch drops it which should reduce test cases by 25% which\nare not tested.\n\nChange-Id: I4c4f9606209c4fef725c3d8f2240bd396a8a3138\n(cherry picked from commit 7fdf320eac68c90d3e6620ab9da0e7e365e92eb1)\n'}]",0,501736,af34216a6671009d34241bdba2d6b2a0130b61e3,7,3,1,1004,,,0,"Drop Fedora 24 from supported operating systems

We do not support Fedora 24 at the moment in our Puppet modules
therefore by having it in the supported operating systems, it
will increase the number of tests which have to run for unit tests.

This patch drops it which should reduce test cases by 25% which
are not tested.

Change-Id: I4c4f9606209c4fef725c3d8f2240bd396a8a3138
(cherry picked from commit 7fdf320eac68c90d3e6620ab9da0e7e365e92eb1)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/36/501736/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,af34216a6671009d34241bdba2d6b2a0130b61e3,remove-fedora-24,," { 'operatingsystem' => 'Fedora', 'operatingsystemrelease' => [ '24' ] },",0,2
openstack%2Fopenstack-ansible~master~Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf,openstack/openstack-ansible,master,Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf,[WIP] Install pip/galera_client once per host/container,ABANDONED,2017-07-19 13:00:17.000000000,2017-09-14 21:51:49.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-07-19 13:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1546878608b36c60e3a1e3ce2b4ff397265aeda8', 'message': '[WIP] Apply pip_install after LXC cont. create\n\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 2, 'created': '2017-07-19 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d6807e6ac6f87c94fa85002fb3f1ed223e00b6a', 'message': '[WIP] Apply pip_install after LXC cont. create\n\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 3, 'created': '2017-07-19 19:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/003ad8c80f029f0299d0c22f25b4179db07fdcb7', 'message': '[WIP] Apply pip_install after LXC cont. create\n\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 4, 'created': '2017-07-19 19:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c017bddeda6f2e4b475b1f7c2e79fb818f516eb', 'message': 'Apply pip_install after container creation\n\nThis patch adds the pip_install role to occur just after container\ncreation to simplify the process. This allows us to remove the\npip_install dependency on each of the service roles and should\nspeed up deployments slightly.\n\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 5, 'created': '2017-07-19 20:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6499b167ada4694bc4e937ab2f3943129f6bb85d', 'message': 'Apply pip_install after container creation\n\nThis patch adds the pip_install role to occur just after container\ncreation to simplify the process. This allows us to remove the\npip_install dependency on each of the service roles and should\nspeed up deployments slightly.\n\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 6, 'created': '2017-08-07 20:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2302065760ee21ea47d8842b9df7d346571f7c07', 'message': 'Apply pip_install after container creation\n\nThis patch adds the pip_install role to occur just after container\ncreation to simplify the process. This allows us to remove the\npip_install dependency on each of the service roles and should\nspeed up deployments slightly.\n\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 7, 'created': '2017-08-08 08:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2332f00efd826441287371aae54d408ad31c1a92', 'message': 'Apply pip_install after container creation\n\nThis patch adds the pip_install role to occur just after container\ncreation to simplify the process. This allows us to remove the\npip_install dependency on each of the service roles and should\nspeed up deployments slightly.\n\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 8, 'created': '2017-08-08 08:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6cef546d12b83b493c6b765d5d0bb7cae09a1eff', 'message': 'Apply pip_install & galera_client after container creation\n\nThis patch adds the pip_install and galera_client role to\nexecute just after container creation to simplify the process.\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments slightly.\n\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 9, 'created': '2017-08-08 08:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6bea52901d23dfcd9c413b7cd3352628f623849', 'message': '[WIP] Apply pip_install & galera_client after container creation\n\nThis patch adds the pip_install and galera_client role to\nexecute just after container creation to simplify the process.\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments slightly.\n\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 10, 'created': '2017-08-08 09:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5b4d97c0982e5a54d49d4fb465a45055c750a2e4', 'message': '[WIP] Apply pip_install & galera_client after container creation\n\nThis patch adds the pip_install and galera_client role to\nexecute just after container creation to simplify the process.\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments slightly.\n\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 11, 'created': '2017-08-08 11:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8454ac802431fc184cbb613c8893e4c80eb34d60', 'message': '[WIP] Apply pip_install & galera_client after container creation\n\nThis patch adds the pip_install and galera_client role to\nexecute just after container creation to simplify the process.\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments slightly.\n\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 12, 'created': '2017-08-08 11:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a9c81c44547b724873a6694e4986d9c81a1e7645', 'message': '[WIP] Apply pip_install & galera_client after container creation\n\nThis patch adds the pip_install and galera_client role to\nexecute just after container creation to simplify the process.\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments slightly.\n\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 13, 'created': '2017-08-08 11:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ffaea90a083fd773d9fb7b57590c83e8b7868c44', 'message': '[WIP] Install pip/galera_client once per host/container\n\nThis patch adds the pip_install and galera_client role to\nexecute for all hostsm, and just after container creation\nto ensure that they are only installed in one place.\n\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments by reducing\nthe task repetition.\n\nDepends-On: Idc56257f9f99ea52a9c99c99bb023d71c832d695\nDepends-On: Ie8f8bae260693288f4174ab62b89c2e8bfe3693c\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 14, 'created': '2017-08-08 12:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/66b977e0c3aa318810d5179b18a9bd474e3b6749', 'message': '[WIP] Install pip/galera_client once per host/container\n\nThis patch adds the pip_install and galera_client role to\nexecute for all hostsm, and just after container creation\nto ensure that they are only installed in one place.\n\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments by reducing\nthe task repetition.\n\nDepends-On: Idc56257f9f99ea52a9c99c99bb023d71c832d695\nDepends-On: Ie8f8bae260693288f4174ab62b89c2e8bfe3693c\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 15, 'created': '2017-08-08 12:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/37f6f407af21f0fac285859785fede467c27d8e0', 'message': '[WIP] Install pip/galera_client once per host/container\n\nThis patch adds the pip_install and galera_client role to\nexecute for all hostsm, and just after container creation\nto ensure that they are only installed in one place.\n\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments by reducing\nthe task repetition.\n\nDepends-On: Idc56257f9f99ea52a9c99c99bb023d71c832d695\nDepends-On: Ie8f8bae260693288f4174ab62b89c2e8bfe3693c\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 16, 'created': '2017-08-08 13:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2c3cdb8ecd0c46f8b54f6a0fc340c7a122cb9473', 'message': '[WIP] Install pip/galera_client once per host/container\n\nThis patch adds the pip_install and galera_client role to\nexecute for all hostsm, and just after container creation\nto ensure that they are only installed in one place.\n\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments by reducing\nthe task repetition.\n\nDepends-On: Idc56257f9f99ea52a9c99c99bb023d71c832d695\nDepends-On: Ie8f8bae260693288f4174ab62b89c2e8bfe3693c\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 17, 'created': '2017-08-09 11:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/569217657e8a4e6e73e9cf9820fe7184521b9de6', 'message': '[WIP] Install pip/galera_client once per host/container\n\nThis patch adds the pip_install and galera_client role to\nexecute for all hostsm, and just after container creation\nto ensure that they are only installed in one place.\n\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments by reducing\nthe task repetition.\n\nDepends-On: Idc56257f9f99ea52a9c99c99bb023d71c832d695\nDepends-On: Ie8f8bae260693288f4174ab62b89c2e8bfe3693c\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}, {'number': 18, 'created': '2017-08-15 12:38:32.000000000', 'files': ['group_vars/all/pip.yml', 'playbooks/lxc-containers-create.yml', 'playbooks/common-tasks/set-upper-constraints.yml', 'playbooks/lxc-hosts-setup.yml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13064fd6b410159f6cc988a7d4b301958584f4f3', 'message': '[WIP] Install pip/galera_client once per host/container\n\nThis patch adds the pip_install and galera_client role to\nexecute for all hostsm, and just after container creation\nto ensure that they are only installed in one place.\n\nThis allows us to remove the meta-dependencies on each of the\nservice roles and should speed up deployments by reducing\nthe task repetition.\n\nDepends-On: Idc56257f9f99ea52a9c99c99bb023d71c832d695\nDepends-On: Ie8f8bae260693288f4174ab62b89c2e8bfe3693c\nDepends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20\nDepends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba\nDepends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc\nDepends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8\nDepends-On: Ib6acfab902621c351645191f9b96db0486401d80\nDepends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322\nDepends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183\nDepends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566\nDepends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1\nChange-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf\n'}]",7,485203,13064fd6b410159f6cc988a7d4b301958584f4f3,60,7,18,538,,,0,"[WIP] Install pip/galera_client once per host/container

This patch adds the pip_install and galera_client role to
execute for all hostsm, and just after container creation
to ensure that they are only installed in one place.

This allows us to remove the meta-dependencies on each of the
service roles and should speed up deployments by reducing
the task repetition.

Depends-On: Idc56257f9f99ea52a9c99c99bb023d71c832d695
Depends-On: Ie8f8bae260693288f4174ab62b89c2e8bfe3693c
Depends-On: Ie784b7c5fd59894d8e4c9a87a7b046b84ed5ac20
Depends-On: Ieac2f03f7f1dc43d0ac2517570b820d37e3b7dba
Depends-On: I13ab08a1ff29990f2d2699a4104c783e393f93cc
Depends-On: I2b69961725bbaf882be0e1d39e4426fa26dae5e8
Depends-On: Ib6acfab902621c351645191f9b96db0486401d80
Depends-On: Id94c7d66dfec5c88913261f21b5a2f2643395322
Depends-On: I25a6efcb4b3eedd81e66709f155df29c24d53183
Depends-On: I1ba6b102f9e15675b0a5d76963f6d7fc6bc82566
Depends-On: Ib3ab41e7229b25f108e395e07f3a165c0f8dbde1
Change-Id: Ia804bc6fd90b01590f185ed2e87ae211c7cf17bf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/485203/9 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/lxc-containers-create.yml'],1,1546878608b36c60e3a1e3ce2b4ff397265aeda8,pip-install-optimise," # Applying the pip_install role here allows for a faster deployment. - name: Apply pip_install role hosts: ""{{ container_group|default('all_containers') }}"" gather_facts: false user: root roles: - role: ""pip_install"" tags: - lxc-containers-create",,10,0
openstack%2Fopenstack-ansible-tests~stable%2Fpike~Id2dc19bf223acefba69da608067882bfbd94be22,openstack/openstack-ansible-tests,stable/pike,Id2dc19bf223acefba69da608067882bfbd94be22,Set the LXC download mirror properly,MERGED,2017-09-14 17:09:35.000000000,2017-09-14 21:44:40.000000000,2017-09-14 21:44:40.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-09-14 17:09:35.000000000', 'files': ['common-tasks/test-set-nodepool-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4fd59b6987e8358ac875cd85528a6669fe9d7ca1', 'message': 'Set the LXC download mirror properly\n\nThe LXC reverse proxy from nodepool was not being used by the\nlxc_hosts role and this patch fixes it.\n\nThis is a backport of a portion of the ""Unwedge the\nopenstack-ansible-tests gate"" that is in master:\n\n  Idf55daa853ff73602bfe6d2862080bfd874e17f4\n\nCloses-Bug: 1716958\nChange-Id: Id2dc19bf223acefba69da608067882bfbd94be22\n'}]",0,504129,4fd59b6987e8358ac875cd85528a6669fe9d7ca1,9,4,1,538,,,0,"Set the LXC download mirror properly

The LXC reverse proxy from nodepool was not being used by the
lxc_hosts role and this patch fixes it.

This is a backport of a portion of the ""Unwedge the
openstack-ansible-tests gate"" that is in master:

  Idf55daa853ff73602bfe6d2862080bfd874e17f4

Closes-Bug: 1716958
Change-Id: Id2dc19bf223acefba69da608067882bfbd94be22
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/29/504129/1 && git format-patch -1 --stdout FETCH_HEAD,['common-tasks/test-set-nodepool-vars.yml'],1,4fd59b6987e8358ac875cd85528a6669fe9d7ca1,bug/1716958," echo ""http://${NODEPOOL_MIRROR_HOST}:8080/images.linuxcontainers/"" lxc_image_cache_server_mirrors: ""{{ [lxc_reverse_proxy.stdout] }}"""," echo ""${NODEPOOL_MIRROR_HOST}:8080/images.linuxcontainers"" lxc_image_cache_server: ""{{ lxc_reverse_proxy.stdout }}""",2,2
openstack%2Fheat-specs~master~Id6e40a7e15ddf3b46f4fdc37cf507ab382b95c45,openstack/heat-specs,master,Id6e40a7e15ddf3b46f4fdc37cf507ab382b95c45,Support snapshot/restore for StackResources,ABANDONED,2015-06-02 03:58:36.000000000,2017-09-14 21:43:54.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 10487}]","[{'number': 1, 'created': '2015-06-02 03:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/dc81cffbef63c3c783ab358accaf29a77857d693', 'message': 'Support snapshot/restore for StackResources\n\nSupport snapshot and restore for StackResources\n\nChange-Id: Id6e40a7e15ddf3b46f4fdc37cf507ab382b95c45\nBlueprint: snapshot-restore-stackresource\n'}, {'number': 2, 'created': '2015-06-15 03:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/3ec3c73721706623525b3699193cb0b3bb45dda2', 'message': 'Support snapshot/restore for StackResources\n\nSupport snapshot and restore for StackResources\n\nChange-Id: Id6e40a7e15ddf3b46f4fdc37cf507ab382b95c45\nBlueprint: snapshot-restore-stackresource\n'}, {'number': 3, 'created': '2015-08-17 07:06:10.000000000', 'files': ['specs/liberty/support-snapshot-restore-for-stackresource.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/779a5912f8fe1e420da056822ec93b3e3ab5fffa', 'message': ""Support snapshot/restore for StackResources\n\nSupport snapshot and restore for StackResources,\nsuch as 'OS::Heat::AutoScalingGroup' and\n'OS::Heat::ResourceGroup'.\n\nChange-Id: Id6e40a7e15ddf3b46f4fdc37cf507ab382b95c45\nBlueprint: snapshot-restore-stackresource\n""}]",5,187447,779a5912f8fe1e420da056822ec93b3e3ab5fffa,11,5,3,8289,,,0,"Support snapshot/restore for StackResources

Support snapshot and restore for StackResources,
such as 'OS::Heat::AutoScalingGroup' and
'OS::Heat::ResourceGroup'.

Change-Id: Id6e40a7e15ddf3b46f4fdc37cf507ab382b95c45
Blueprint: snapshot-restore-stackresource
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/47/187447/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/support-snapshot-restore-for-stackresource.rst'],1,dc81cffbef63c3c783ab358accaf29a77857d693,bp/snapshot-restore-stackresource,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Support snapshot and restore for StackResource ================================================ https://blueprints.launchpad.net/heat/+spec/snapshot-restore-stackresource This Blueprint will support snapshot and restore for StackResources. Problem description =================== Heat now doesn't support snapshot and restore for StackResources, just support for nova server and cinder volume resources. Proposed change =============== The changes will support snapshot and restore for StackResources. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: huangtianhua@huawei.com Milestones ---------- Target Milestone for completion: Liberty-2 Work Items ---------- * Support snapshot and restore for StackResources, include TemplateResource, InstanceGroup, and ResourceGroup. * Add related tests for changes. Dependencies ============ None ",,60,0
openstack%2Fopenstack-ansible-repo_build~master~Ic73cd938ba27b9e0030cc158b86828d279d476e3,openstack/openstack-ansible-repo_build,master,Ic73cd938ba27b9e0030cc158b86828d279d476e3,Use git clone depth 1 for repo clones,MERGED,2017-09-14 20:02:58.000000000,2017-09-14 21:41:21.000000000,2017-09-14 21:41:21.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-14 20:02:58.000000000', 'files': ['tasks/repo_clone_git.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/3191800c07a3cfe54c34e447307b389e0793a6a2', 'message': 'Use git clone depth 1 for repo clones\n\nThe repo does not need to carry a full git tree in order to build\nthe specified SHA. We can specify a small clone depth to speed up\nthe git clone process.\n\nChange-Id: Ic73cd938ba27b9e0030cc158b86828d279d476e3\n'}]",0,504190,3191800c07a3cfe54c34e447307b389e0793a6a2,10,3,1,17799,,,0,"Use git clone depth 1 for repo clones

The repo does not need to carry a full git tree in order to build
the specified SHA. We can specify a small clone depth to speed up
the git clone process.

Change-Id: Ic73cd938ba27b9e0030cc158b86828d279d476e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/90/504190/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_clone_git.yml', 'defaults/main.yml']",2,3191800c07a3cfe54c34e447307b389e0793a6a2,git-clone-depth,# Toggle the git clone depth repo_build_git_depth: 1 ,,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Fpike~I4c4f9606209c4fef725c3d8f2240bd396a8a3138,openstack/puppet-openstack_spec_helper,stable/pike,I4c4f9606209c4fef725c3d8f2240bd396a8a3138,Drop Fedora 24 from supported operating systems,MERGED,2017-09-07 13:41:32.000000000,2017-09-14 21:40:32.000000000,2017-09-14 21:40:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-07 13:41:32.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/94de239b4b71abd9ea405e980938846943b7e35a', 'message': 'Drop Fedora 24 from supported operating systems\n\nWe do not support Fedora 24 at the moment in our Puppet modules\ntherefore by having it in the supported operating systems, it\nwill increase the number of tests which have to run for unit tests.\n\nThis patch drops it which should reduce test cases by 25% which\nare not tested.\n\nChange-Id: I4c4f9606209c4fef725c3d8f2240bd396a8a3138\n(cherry picked from commit 7fdf320eac68c90d3e6620ab9da0e7e365e92eb1)\n'}]",0,501735,94de239b4b71abd9ea405e980938846943b7e35a,7,3,1,1004,,,0,"Drop Fedora 24 from supported operating systems

We do not support Fedora 24 at the moment in our Puppet modules
therefore by having it in the supported operating systems, it
will increase the number of tests which have to run for unit tests.

This patch drops it which should reduce test cases by 25% which
are not tested.

Change-Id: I4c4f9606209c4fef725c3d8f2240bd396a8a3138
(cherry picked from commit 7fdf320eac68c90d3e6620ab9da0e7e365e92eb1)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/35/501735/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,94de239b4b71abd9ea405e980938846943b7e35a,remove-fedora-24,," { 'operatingsystem' => 'Fedora', 'operatingsystemrelease' => [ '24' ] },",0,2
openstack%2Fosc-lib~feature%2Fosc4~I537980d23e8c674ebf2f48279f2d5a898cddeda8,openstack/osc-lib,feature/osc4,I537980d23e8c674ebf2f48279f2d5a898cddeda8,Merge remote-tracking branch 'origin/master' into f4-merge-branch,MERGED,2017-09-14 16:22:20.000000000,2017-09-14 21:29:07.000000000,2017-09-14 21:29:07.000000000,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2017-09-14 16:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/9bacc2b56406466c943f2eeb0dc3840bf4eb6d82', 'message': ""Merge remote-tracking branch 'origin/master' into f4-merge-branch\n\nChange-Id: I537980d23e8c674ebf2f48279f2d5a898cddeda8\n""}]",0,504107,9bacc2b56406466c943f2eeb0dc3840bf4eb6d82,6,2,1,970,,,0,"Merge remote-tracking branch 'origin/master' into f4-merge-branch

Change-Id: I537980d23e8c674ebf2f48279f2d5a898cddeda8
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/07/504107/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,9bacc2b56406466c943f2eeb0dc3840bf4eb6d82,f4-merge-branch,,,0,0
openstack%2Fnova~master~I7f2485c01ae44f6061cba86f88ac9614a1dc3295,openstack/nova,master,I7f2485c01ae44f6061cba86f88ac9614a1dc3295,Default the service version in the notification tests,MERGED,2017-09-01 10:16:22.000000000,2017-09-14 21:28:41.000000000,2017-09-14 21:28:41.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-09-01 10:16:22.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_service_update.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0941751992c230ec30a61bb76d52e61ab4ddba11', 'message': ""Default the service version in the notification tests\n\nThe service.update notification contains the version of the service.\nThis causes that at every service version update the service.update\nnotification sample needs to be updated as well.\n\nThis patch changes the sample matching in the service notification\ntests to default the expected service version to the current service\nversion. This way the sample doesn't need to be update in the future\ndue to service version change.\n\nChange-Id: I7f2485c01ae44f6061cba86f88ac9614a1dc3295\n""}]",0,499957,0941751992c230ec30a61bb76d52e61ab4ddba11,15,5,1,9708,,,0,"Default the service version in the notification tests

The service.update notification contains the version of the service.
This causes that at every service version update the service.update
notification sample needs to be updated as well.

This patch changes the sample matching in the service notification
tests to default the expected service version to the current service
version. This way the sample doesn't need to be update in the future
due to service version change.

Change-Id: I7f2485c01ae44f6061cba86f88ac9614a1dc3295
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/499957/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_service_update.py'],1,0941751992c230ec30a61bb76d52e61ab4ddba11,,"from nova.objects import service def _verify_notification(self, sample_file_name, replacements=None, actual=None): # This just extends the generic _verify_notification to default the # service version to the current service version to avoid sample update # after every service version bump. if 'version' not in replacements: replacements['version'] = service.SERVICE_VERSION base = super(TestServiceUpdateNotificationSamplev2_52, self) base._verify_notification(sample_file_name, replacements, actual) ",,11,0
openstack%2Fnetworking-midonet~master~I6883953d37e4c63010a412314abc6328eb996bd9,openstack/networking-midonet,master,I6883953d37e4c63010a412314abc6328eb996bd9,devstack: Switch to lib/neutron,MERGED,2017-02-24 20:57:57.000000000,2017-09-14 21:24:13.000000000,2017-09-14 21:09:31.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 14824}, {'_account_id': 19307}]","[{'number': 1, 'created': '2017-02-24 20:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/23a697e7dc3a5d8175870e301765422976155261', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 2, 'created': '2017-02-24 21:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/fe460e5b0bb526a58b0754bbf8342fd47c863d1e', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 3, 'created': '2017-02-27 05:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/536f4fdc037aaf5f6153077a16eef2d95c812785', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 4, 'created': '2017-02-28 22:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5cfd07e73f531b20e24539b547f5b9d908784024', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Idbacf58a68041243df460a5a71ee8449ccd836fc\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 5, 'created': '2017-05-01 04:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/31bddeabc30ec393ff0d8ad56d72d13fdf25501e', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 6, 'created': '2017-05-01 04:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8ab4e192adf0c77e587caf20652492ce8f753bbf', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 7, 'created': '2017-05-01 06:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/58970e55723cbfc896edc41874405802bc5fa8e5', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 8, 'created': '2017-05-01 06:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e7d9d4bda75d07f71f71ad007d434b69f19b5855', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 9, 'created': '2017-05-01 07:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/174fd19404c55ec2b80436cb75cc35d686e3296d', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 10, 'created': '2017-05-01 08:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/9e0c211f64b2365601bd6bad936f98ea290b4df0', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 11, 'created': '2017-05-01 08:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7f810e874bc45f0d3931e7c5283b529755a346dd', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 12, 'created': '2017-05-01 09:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8d8d4c6c45bb68fc3c707b27ea302497f4944b34', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 13, 'created': '2017-05-01 10:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/52b4ee09b37845ed6b4c2002315793c984cd26c2', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 14, 'created': '2017-05-02 04:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/9db94898f638fe7e3e114bb827bae8ce51cd7964', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 15, 'created': '2017-05-02 04:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/04dff815132c7ca0a540d8a4a94ffb94284dda96', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 16, 'created': '2017-05-02 07:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/79c45edeb539136b04e49845d64775b7e3cd9bac', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I8fffc50fd45e43f34ca591416924bcf29626b21f\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 17, 'created': '2017-05-02 11:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/685162bf1fc2d84db9c3a0b186fad98b35467b05', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: Ic729d156d9c2561653981085e0678854cbe6c6ba\nDepends-On: I8fffc50fd45e43f34ca591416924bcf29626b21f\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 18, 'created': '2017-05-08 01:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8d2088dc08694aa1d098e4373b5b48d5788c0600', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 19, 'created': '2017-05-08 01:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/261deabcf3de3cd0786d37d57ad9f7bab1f0c4e4', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 20, 'created': '2017-05-08 02:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f3ed2a73d4640f180ea66e0f9922357ebbf94ad8', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 21, 'created': '2017-05-08 04:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5a1f61934d7bcffda1f2e59a22de0d7e6bc700e8', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 22, 'created': '2017-05-08 10:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2344f235d61be00635631c2a7dd4eca84b95e408', 'message': 'DO NOT MERGE: test lib/neutron\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 23, 'created': '2017-05-08 11:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d0f6e2ef29bc1c40bad1e5557441b54566b5de7c', 'message': 'devstack: Switch to lib/neutron\n\nI plan to use -legacy variants for neutron-legacy jobs.\n\nNote: grenade job is not changed for now.\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nCloses-Bug: #1666990\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 24, 'created': '2017-06-07 19:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d5915dbe324e57abcb69f794c1204ec9b874c5ab', 'message': 'devstack: Switch to lib/neutron\n\nI plan to use -legacy variants for neutron-legacy jobs.\n\nNote: grenade job is not changed for now.\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: Ie166c3f24da437896e34564d83075f42a9544e2e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: I9141b6b723c839e40a73939785f033c5bdfe3835\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nCloses-Bug: #1666990\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 25, 'created': '2017-06-16 06:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2eefa9c08a2f5b196b55264911cd5a87818ad579', 'message': 'devstack: Switch to lib/neutron\n\nI plan to use -legacy variants for neutron-legacy jobs.\n\nNote: grenade job is not changed for now.\n\nDepends-On: I529ad1bf8e00a4437822b7fbb6c4d5aa7539dcbc\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nCloses-Bug: #1666990\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 26, 'created': '2017-06-21 16:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/632f55ac70745493c0ee696ea7f8697f0a863f76', 'message': 'devstack: Switch to lib/neutron\n\nI plan to use -legacy variants for neutron-legacy jobs.\n\nNote: grenade job is not changed for now.\n\nDepends-On: I529ad1bf8e00a4437822b7fbb6c4d5aa7539dcbc\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nCloses-Bug: #1666990\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 27, 'created': '2017-08-10 09:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bc07486f845724b35bd72ae3edc20c44cc542ed0', 'message': 'devstack: Switch to lib/neutron\n\nI plan to use -legacy variants for neutron-legacy jobs.\n\nNote: grenade job is not changed for now.\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nCloses-Bug: #1666990\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 28, 'created': '2017-08-10 09:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e975bea92e279e89d593b00f98b4f077135f48b0', 'message': 'devstack: Switch to lib/neutron\n\nI plan to use -legacy variants for neutron-legacy jobs.\n\nNote: grenade job is not changed for now.\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nCloses-Bug: #1666990\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}, {'number': 29, 'created': '2017-08-14 22:59:05.000000000', 'files': ['devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/744cad1f093daea8262aecc7c539ec0329c29810', 'message': 'devstack: Switch to lib/neutron\n\nI plan to use -legacy variants for neutron-legacy jobs.\n\nNote: grenade job is not changed for now.\n\nDepends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e\nDepends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0\nDepends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068\nDepends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b\nDepends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60\nCloses-Bug: #1666990\nChange-Id: I6883953d37e4c63010a412314abc6328eb996bd9\n'}]",0,438075,744cad1f093daea8262aecc7c539ec0329c29810,122,6,29,6854,,,0,"devstack: Switch to lib/neutron

I plan to use -legacy variants for neutron-legacy jobs.

Note: grenade job is not changed for now.

Depends-On: I1bf8f68d7505a4f60938d04a32394b8bbe89736e
Depends-On: I80fe80edde01aefef753f3b1563e96e364bf63c0
Depends-On: Iab72c3bde4d3ff1a9323e30bb4236d2770726068
Depends-On: Idcb903002aec823aa1e546e8e90815ebac614e5b
Depends-On: Icfa2cfa662013324d38099b82ce0f58ed8377e60
Closes-Bug: #1666990
Change-Id: I6883953d37e4c63010a412314abc6328eb996bd9
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/75/438075/19 && git format-patch -1 --stdout FETCH_HEAD,['devstack/ci/gate_hook.sh'],1,23a697e7dc3a5d8175870e301765422976155261,bug/1687361,"s+="",neutron-api"" s+="",neutron-fwaas-v1"" s+="",neutron-qos"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service neutron-lbaasv2""","s+="",q-svc,quantum"" s+="",q-fwaas"" s+="",q-qos"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service q-lbaasv2""",4,4
openstack%2Fproject-config~master~I3ed6662066dba4a03a299814e910175fe83c5ec8,openstack/project-config,master,I3ed6662066dba4a03a299814e910175fe83c5ec8,Fix typo in logstash job submit config,MERGED,2017-09-14 20:37:21.000000000,2017-09-14 21:22:06.000000000,2017-09-14 21:22:06.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-09-14 20:37:21.000000000', 'files': ['roles/submit-logstash-jobs/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e780f330ece8a91b2348b645a764f98d4cce5971', 'message': 'Fix typo in logstash job submit config\n\nChange-Id: I3ed6662066dba4a03a299814e910175fe83c5ec8\n'}]",0,504223,e780f330ece8a91b2348b645a764f98d4cce5971,7,3,1,1,,,0,"Fix typo in logstash job submit config

Change-Id: I3ed6662066dba4a03a299814e910175fe83c5ec8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/504223/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/submit-logstash-jobs/defaults/main.yaml'],1,e780f330ece8a91b2348b645a764f98d4cce5971,, - name: job-output\.txt, - name: job_output\.txt,1,1
openstack%2Foctavia~master~I30c778d2958697cf03285ff44cb56c6feeb5f031,openstack/octavia,master,I30c778d2958697cf03285ff44cb56c6feeb5f031,fix _send_member_to_handler debug log Story: 2001194 task: 5696,MERGED,2017-09-14 07:58:57.000000000,2017-09-14 21:14:02.000000000,2017-09-14 21:14:02.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 6732}, {'_account_id': 10068}, {'_account_id': 10273}, {'_account_id': 10850}]","[{'number': 1, 'created': '2017-09-14 07:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/14b1b5210bd5d2654fc6affd0b5db7d68b1d9d3b', 'message': 'fix _send_member_to_handler debug log\nStory: 2001194\n\nChange-Id: I30c778d2958697cf03285ff44cb56c6feeb5f031\n'}, {'number': 2, 'created': '2017-09-14 08:07:06.000000000', 'files': ['octavia/api/v2/controllers/member.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d927ab9d5465c58b0777fc6ecd3d6d09582d243d', 'message': 'fix _send_member_to_handler debug log\nStory: 2001194\ntask: 5696\n\nChange-Id: I30c778d2958697cf03285ff44cb56c6feeb5f031\n'}]",0,503991,d927ab9d5465c58b0777fc6ecd3d6d09582d243d,13,6,2,26401,,,0,"fix _send_member_to_handler debug log
Story: 2001194
task: 5696

Change-Id: I30c778d2958697cf03285ff44cb56c6feeb5f031
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/503991/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/v2/controllers/member.py'],1,14b1b5210bd5d2654fc6affd0b5db7d68b1d9d3b,2001194," LOG.info(""Sending Creation of Member %s to handler"", db_member.id)"," LOG.info(""Sending Creation of Pool %s to handler"", db_member.id)",1,1
openstack%2Fnova-specs~master~I0fac0761aca74bcd02b20456ac6eff881dd63bcf,openstack/nova-specs,master,I0fac0761aca74bcd02b20456ac6eff881dd63bcf,Enable cold migration with target host,MERGED,2017-07-31 02:19:07.000000000,2017-09-14 21:13:37.000000000,2017-09-14 21:13:37.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}]","[{'number': 1, 'created': '2017-07-31 02:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0c01ee9e0119e31ea058d61fc76f268ce107ffa3', 'message': ""Enable cold migration with target host\n\nThe target host can be specified when cold migrating a server.\nAnd a new request body field called ``force`` (defaulted to False)\nis added in order not to call the scheduler when providing a\ndestination. Setting it to 'True' makes the cold migrate operation\nbypass the scheduler.\n\nThe spec is changed from the approved spec in terms of\nthe following items.\n\n* Add the 'forced_destination' field of the RequestSpec\n* The 'host' parameter in API is optional.\n  (Based on a comment in Iee356c4dd097c846b6ca8617ead6a061300c83f8)\n\nPreviously-approved: pike\nAPIImpact\nChange-Id: I0fac0761aca74bcd02b20456ac6eff881dd63bcf\nblueprint cold-migration-with-target-queens\n""}, {'number': 2, 'created': '2017-08-04 05:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cc343a1e164027a6c12012ebaa9f0f7706421ed1', 'message': ""Enable cold migration with target host\n\nThe target host can be specified when cold migrating a server.\nAnd a new request body field called ``force`` (defaulted to False)\nis added in order not to call the scheduler when providing a\ndestination. Setting it to 'True' makes the cold migrate operation\nbypass the scheduler.\n\nThe spec is changed from the approved spec in terms of\nthe following items.\n\n* Add the 'forced_destination' field of the RequestSpec\n* The 'host' parameter in API is optional.\n  (Based on a comment in Iee356c4dd097c846b6ca8617ead6a061300c83f8)\n\nPreviously-approved: ocata, pike\nAPIImpact\nChange-Id: I0fac0761aca74bcd02b20456ac6eff881dd63bcf\nblueprint cold-migration-with-target-queens\n""}, {'number': 3, 'created': '2017-08-11 00:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a20dfbac1e77cec5a590c8b4fe463dce47aff870', 'message': ""Enable cold migration with target host\n\nThe target host can be specified when cold migrating a server.\nAnd a new request body field called ``force`` (defaulted to False)\nis added in order not to call the scheduler when providing a\ndestination. Setting it to 'True' makes the cold migrate operation\nbypass the scheduler.\n\nThe spec is changed from the approved spec in terms of\nthe following items.\n\n* Add the 'forced_destination' field of the RequestSpec\n* The 'host' parameter in API is optional.\n  (Based on a comment in Iee356c4dd097c846b6ca8617ead6a061300c83f8)\n\nPreviously-approved: ocata, pike\nAPIImpact\nChange-Id: I0fac0761aca74bcd02b20456ac6eff881dd63bcf\nblueprint cold-migration-with-target-queens\n""}, {'number': 4, 'created': '2017-09-07 12:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d7c801dcf58056f210e0dd444671542569c2e89b', 'message': ""Enable cold migration with target host\n\nThe target host can be specified when cold migrating a server.\nThe spec is changed from the approved spec in terms of\nthe following items.\n\n* The 'host' parameter in API is optional.\n  (Based on a comment in Iee356c4dd097c846b6ca8617ead6a061300c83f8)\n* The 'force' parameter is removed.\n\nPreviously-approved: ocata, pike\nAPIImpact\nChange-Id: I0fac0761aca74bcd02b20456ac6eff881dd63bcf\nblueprint cold-migration-with-target-queens\n""}, {'number': 5, 'created': '2017-09-08 00:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/460d1c3d24059d459ee398a16a3a0c57dceacfe4', 'message': ""Enable cold migration with target host\n\nThe target host can be specified when cold migrating a server.\nThe spec is changed from the approved spec in terms of\nthe following items.\n\n* The 'host' parameter in API is optional.\n  (Based on a comment in Iee356c4dd097c846b6ca8617ead6a061300c83f8)\n* The 'force' parameter is removed.\n\nPreviously-approved: ocata, pike\nAPIImpact\nChange-Id: I0fac0761aca74bcd02b20456ac6eff881dd63bcf\nblueprint cold-migration-with-target-queens\n""}, {'number': 6, 'created': '2017-09-14 20:39:19.000000000', 'files': ['specs/queens/approved/cold-migration-with-target-queens.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/32011f24464408031194217a23ecdc35936c18e3', 'message': ""Enable cold migration with target host\n\nThe target host can be specified when cold migrating a server.\nThe spec is changed from the approved spec in terms of\nthe following items.\n\n* The 'host' parameter in API is optional.\n  (Based on a comment in Iee356c4dd097c846b6ca8617ead6a061300c83f8)\n* The 'force' parameter is removed.\n\nPreviously-approved: ocata, pike\nAPIImpact\nChange-Id: I0fac0761aca74bcd02b20456ac6eff881dd63bcf\nblueprint cold-migration-with-target-queens\n""}]",11,489031,32011f24464408031194217a23ecdc35936c18e3,29,6,6,7634,,,0,"Enable cold migration with target host

The target host can be specified when cold migrating a server.
The spec is changed from the approved spec in terms of
the following items.

* The 'host' parameter in API is optional.
  (Based on a comment in Iee356c4dd097c846b6ca8617ead6a061300c83f8)
* The 'force' parameter is removed.

Previously-approved: ocata, pike
APIImpact
Change-Id: I0fac0761aca74bcd02b20456ac6eff881dd63bcf
blueprint cold-migration-with-target-queens
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/31/489031/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/cold-migration-with-target-queens.rst'],1,0c01ee9e0119e31ea058d61fc76f268ce107ffa3,bp/cold-migration-with-target-queens,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================== Enable cold migration with target host - Queens =============================================== https://blueprints.launchpad.net/nova/+spec/cold-migration-with-target-queens The aim of this feature is to let operators cold migrate instances with target host manually. Problem description =================== A target host can be specified on the live migration operation. And there is a scheduler rule check and 'force' flag in REST API when a target host is specified on the live migration operation. But a target host cannot be specified on the cold migration operation. It is inconsistent with the live migration operation, and both of these operations have similar circumstances when the host needs to be specified. Use Cases --------- It is same as the live migration use case. Sometimes an operator or a script decides which host is the best suited to accept a cold migration and then wants to perform it. Consistency with a live migration case should be ensured. Proposed change =============== Modify the API and the current resize_instance flow to be able to specify the target host for cold migration. Add the function to check whether a destination host is in accordance with scheduler rules or not in cold migration as a default behaviour. Specifically to say, add setting 'requested_destination' of the RequestSpec object in nova/compute/api.py. The field has already been supported in the scheduler, so it just needs to be filled in. This blueprint also provides a way for operators to bypass the scheduler, we will make the API for cold migration, including a destination host, by adding an request body argument called 'force' (accepting True or False, defaulted to False) and the corresponding CLI methods will expose that force option. If the microversion asked by the client is older than the version providing the field, then it won't be passed (neither True or False, rather the key won't exist) to the conductor so the conductor won't call the scheduler. In the case that the target host is specified and the force flag is True, add setting 'forced_destination' (new field) of the RequestSpec object in nova/compute/api.py. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- * URL: POST /v2.1/servers/{server_id}/action JSON request body:: { ""migrate"": { ""host"": ""target-host"", ""force"": True } } The 'host' parameter to specify a target host is optional. If 'force' is True, do not check the destination. If 'force' is False or null or not provided, do check the destination. If 'force' is supplied in the request body and its value is true but the 'host' parameter is null or not provided, then an HTTP 400 Bad Request will be served to the user. Microversion is bumped up. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- python-novaclient will be modified to have a target host argument as optional. And add the 'force' argument as optional. nova migrate [--force] <server> [<host>] Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: natsume-takashi Work Items ---------- * Add logic to specify target host for cold migration * Add processing checking destination host in the cold migration * Add API with bumping a new microversion * Add a target host argument and 'force' argument on novaclient * Add nova functional tests * Add tempest tests Dependencies ============ None Testing ======= Add the following tests. * Unit tests * Functional tests * Tempest tests Documentation Impact ==================== * API Reference * CLI Reference * Admin User Guide on cold migration topic. References ========== * enable cold migration with target host - https://blueprints.launchpad.net/nova/+spec/cold-migration-with-target History ======= The blueprint has been approved for Ocata as 'cold-migration-with-target-ocata' and for Pike as 'cold-migration-with-target-pike'. It is renamed to 'cold-migration-with-target-queens' now. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ocata - Approved * - Pike - Reapproved * - Queens - Reproposed ",,199,0
openstack%2Fopenstack-ansible-os_nova~stable%2Fpike~I72d70d3621e5446c70008f6d680c7e315b05e150,openstack/openstack-ansible-os_nova,stable/pike,I72d70d3621e5446c70008f6d680c7e315b05e150,Fix live migration on Pike and later,MERGED,2017-09-14 18:46:38.000000000,2017-09-14 21:05:55.000000000,2017-09-14 21:05:55.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-14 18:46:38.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b04ae4fb290378ba8dc17007d10ba3c921b60369', 'message': 'Fix live migration on Pike and later\n\nThe live_migration_uri was removed in\nIfea82dc03a859356eb55b097aa5747e3fa0c40ba since it is currently a\ndeprecated config option. However, nova has not adequately implemented\nthe replacement config vars for Pike, so the deprecated option must\nbe used to configure live migration with SSH settings[1].\n\nThe deprecated option can be removed once the nova bug is resolved.\n\nThis also pulls in the change from Ia389e78994da0f5f1cd99edeafeef13009906621\nwhich is needed to perform SSH tunnelled migrations.\n\n[1] https://bugs.launchpad.net/nova/+bug/1671288\n\nChange-Id: I72d70d3621e5446c70008f6d680c7e315b05e150\n(cherry picked from commit 12e09a3402cb810c53188a94ad1c820086d8e302)\n'}]",0,504167,b04ae4fb290378ba8dc17007d10ba3c921b60369,7,3,1,17799,,,0,"Fix live migration on Pike and later

The live_migration_uri was removed in
Ifea82dc03a859356eb55b097aa5747e3fa0c40ba since it is currently a
deprecated config option. However, nova has not adequately implemented
the replacement config vars for Pike, so the deprecated option must
be used to configure live migration with SSH settings[1].

The deprecated option can be removed once the nova bug is resolved.

This also pulls in the change from Ia389e78994da0f5f1cd99edeafeef13009906621
which is needed to perform SSH tunnelled migrations.

[1] https://bugs.launchpad.net/nova/+bug/1671288

Change-Id: I72d70d3621e5446c70008f6d680c7e315b05e150
(cherry picked from commit 12e09a3402cb810c53188a94ad1c820086d8e302)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/67/504167/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,b04ae4fb290378ba8dc17007d10ba3c921b60369,live-migration-uri,"live_migration_uri = ""qemu+ssh://nova@%s/system?no_verify=1&keyfile={{ nova_system_home_folder }}/.ssh/id_rsa"" live_migration_tunnelled = True",,2,0
openstack%2Fnetworking-odl~master~I6ea5e365e83176c94403b4fbad502aebb41ff269,openstack/networking-odl,master,I6ea5e365e83176c94403b4fbad502aebb41ff269,DONT REVIEW: For Nitrogen,ABANDONED,2017-09-12 21:14:51.000000000,2017-09-14 21:03:25.000000000,,"[{'_account_id': 3}, {'_account_id': 20208}]","[{'number': 1, 'created': '2017-09-12 21:14:51.000000000', 'files': ['devstack/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c4a02d53482ddee93be6d2e3a4bf1f643ec80cc8', 'message': 'DONT REVIEW: For Nitrogen\n\nIncreasing the ODL timeout\n\nChange-Id: I6ea5e365e83176c94403b4fbad502aebb41ff269\nSigned-off-by: Ritu Sood <ritu.sood@intel.com>\n'}]",0,503194,c4a02d53482ddee93be6d2e3a4bf1f643ec80cc8,4,2,1,20208,,,0,"DONT REVIEW: For Nitrogen

Increasing the ODL timeout

Change-Id: I6ea5e365e83176c94403b4fbad502aebb41ff269
Signed-off-by: Ritu Sood <ritu.sood@intel.com>
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/94/503194/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/pre_test_hook.sh'],1,c4a02d53482ddee93be6d2e3a4bf1f643ec80cc8,,"localrc_set $localrc_file ""ODL_TIMEOUT"" ""600""","localrc_set $localrc_file ""ODL_TIMEOUT"" ""60""",1,1
openstack%2Fpython-openstackclient~feature%2Fosc4~Ie6c321e67aa9338334e4649879e60847a5d1eb56,openstack/python-openstackclient,feature/osc4,Ie6c321e67aa9338334e4649879e60847a5d1eb56,Merge remote-tracking branch 'origin/master' into f4-merge-branch,MERGED,2017-09-14 16:17:02.000000000,2017-09-14 21:02:13.000000000,2017-09-14 21:02:13.000000000,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2017-09-14 16:17:02.000000000', 'files': ['openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_subnet_pool.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'openstackclient/tests/unit/volume/v2/test_snapshot.py', 'openstackclient/tests/unit/identity/v3/fakes.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'openstackclient/tests/unit/volume/v1/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5309bf5f873aba4e994c9011a893987c40d56eda', 'message': ""Merge remote-tracking branch 'origin/master' into f4-merge-branch\n\nChange-Id: Ie6c321e67aa9338334e4649879e60847a5d1eb56\n""}]",0,504105,5309bf5f873aba4e994c9011a893987c40d56eda,6,2,1,970,,,0,"Merge remote-tracking branch 'origin/master' into f4-merge-branch

Change-Id: Ie6c321e67aa9338334e4649879e60847a5d1eb56
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/05/504105/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_subnet_pool.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'openstackclient/tests/unit/volume/v2/test_snapshot.py', 'openstackclient/tests/unit/identity/v3/fakes.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'openstackclient/tests/unit/volume/v1/test_volume.py']",12,5309bf5f873aba4e994c9011a893987c40d56eda,bug/1668223,,"<<<<<<< HEAD (5e5239 Merge ""Use cliff formattable columns in object storage comma)======= >>>>>>> BRANCH (f63bb1 Merge ""Updated from global requirements"")",6,44
openstack%2Fironic-python-agent~stable%2Fnewton~I259d9b3caa9ba1dc3d7382f375b8e086a5348d80,openstack/ironic-python-agent,stable/newton,I259d9b3caa9ba1dc3d7382f375b8e086a5348d80,Configure and use SSL-related requests options,ABANDONED,2017-06-13 04:00:28.000000000,2017-09-14 20:59:16.000000000,,"[{'_account_id': 3}, {'_account_id': 12898}]","[{'number': 1, 'created': '2017-06-13 04:00:28.000000000', 'files': ['etc/ironic_python_agent/ironic_python_agent.conf.sample', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/ironic_api_client.py', 'doc/source/index.rst', 'ironic_python_agent/config.py', 'releasenotes/notes/handle-ssl-063a91fb7bdcf9b9.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0c5315df2d1b98811347a73954556f86373c50e4', 'message': ""Configure and use SSL-related requests options\n\nThis patch adds standard SSL options to IPA config and makes use of them\nwhen making HTTP requests.\n\nFor now, a single set of certificates is used when needed.\nIn the future configuration can be expanded to allow per-service\ncertificates.\n\nBesides, the 'insecure' option (defaults to False) can be overridden\nthrough kernel command line parameter 'ipa-insecure'.\nThis will allow running IPA in CI-like environments with self-signed SSL\ncertificates.\n\nManually resolved conflicts:\n        etc/ironic_python_agent/ironic_python_agent.conf.sample\n        ironic_python_agent/config.py\n        ironic_python_agent/ironic_api_client.py\n\nChange-Id: I259d9b3caa9ba1dc3d7382f375b8e086a5348d80\nCloses-Bug: #1642515\n""}]",0,473677,0c5315df2d1b98811347a73954556f86373c50e4,4,2,1,2271,,,0,"Configure and use SSL-related requests options

This patch adds standard SSL options to IPA config and makes use of them
when making HTTP requests.

For now, a single set of certificates is used when needed.
In the future configuration can be expanded to allow per-service
certificates.

Besides, the 'insecure' option (defaults to False) can be overridden
through kernel command line parameter 'ipa-insecure'.
This will allow running IPA in CI-like environments with self-signed SSL
certificates.

Manually resolved conflicts:
        etc/ironic_python_agent/ironic_python_agent.conf.sample
        ironic_python_agent/config.py
        ironic_python_agent/ironic_api_client.py

Change-Id: I259d9b3caa9ba1dc3d7382f375b8e086a5348d80
Closes-Bug: #1642515
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/77/473677/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ironic_python_agent/ironic_python_agent.conf.sample', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/ironic_api_client.py', 'doc/source/index.rst', 'ironic_python_agent/config.py', 'releasenotes/notes/handle-ssl-063a91fb7bdcf9b9.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",12,0c5315df2d1b98811347a73954556f86373c50e4,bug/1642515," def get_ssl_client_options(conf): """"""Format SSL-related requests options. :param conf: oslo_config CONF object :returns: tuple of 'verify' and 'cert' values to pass to requests """""" if conf.insecure: verify = False else: verify = conf.cafile or True if conf.certfile and conf.keyfile: cert = (conf.certfile, conf.keyfile) else: cert = None return verify, cert",,306,8
openstack%2Fsolum-infra-guestagent~master~Ie2c9b992b60b884451d7a10fa422021eab3cf466,openstack/solum-infra-guestagent,master,Ie2c9b992b60b884451d7a10fa422021eab3cf466,Remove o/c/local.py and o/c/log.py,ABANDONED,2016-10-28 09:21:58.000000000,2017-09-14 20:58:40.000000000,,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 6482}, {'_account_id': 22255}]","[{'number': 1, 'created': '2016-10-28 09:21:58.000000000', 'files': ['solum_guestagent/tests/test_solum_guestagent.py', 'requirements.txt', 'etc/solum_guestagent/solum_guestagent.conf.sample', 'solum_guestagent/main.py', 'solum_guestagent/openstack/common/local.py', 'solum_guestagent/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/solum-infra-guestagent/commit/e286ed0d1c65031c352d0fae83a4229cc6909b2c', 'message': 'Remove o/c/local.py and o/c/log.py\n\nMove over to the contemporary oslo logging library.\n\nRemoving openstack/common from all OpenStack code in favor of the\nOslo libraries is a project wide goal for the Ocata release.\n\nChange-Id: Ie2c9b992b60b884451d7a10fa422021eab3cf466\n'}]",0,391387,e286ed0d1c65031c352d0fae83a4229cc6909b2c,10,4,1,2271,,,0,"Remove o/c/local.py and o/c/log.py

Move over to the contemporary oslo logging library.

Removing openstack/common from all OpenStack code in favor of the
Oslo libraries is a project wide goal for the Ocata release.

Change-Id: Ie2c9b992b60b884451d7a10fa422021eab3cf466
",git fetch https://review.opendev.org/openstack/solum-infra-guestagent refs/changes/87/391387/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum_guestagent/tests/test_solum_guestagent.py', 'requirements.txt', 'etc/solum_guestagent/solum_guestagent.conf.sample', 'solum_guestagent/main.py', 'solum_guestagent/openstack/common/local.py', 'solum_guestagent/openstack/common/log.py']",6,e286ed0d1c65031c352d0fae83a4229cc6909b2c,goal-remove-incubated-oslo-code,,"# Copyright 2011 OpenStack Foundation. # Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""OpenStack logging handler. This module adds to logging functionality by adding the option to specify a context object when calling the various log methods. If the context object is not specified, default formatting is used. Additionally, an instance uuid may be passed as part of the log message, which is intended to make it easier for admins to find messages related to a specific instance. It also allows setting of formatting information through conf. """""" import inspect import itertools import logging import logging.config import logging.handlers import os import sys import traceback from oslo_config import cfg import six from six import moves _PY26 = sys.version_info[0:2] == (2, 6) from solum_guestagent.openstack.common.gettextutils import _ from solum_guestagent.openstack.common import importutils from solum_guestagent.openstack.common import jsonutils from solum_guestagent.openstack.common import local # NOTE(flaper87): Pls, remove when graduating this module # from the incubator. from solum_guestagent.openstack.common.strutils import mask_password # noqa _DEFAULT_LOG_DATE_FORMAT = ""%Y-%m-%d %H:%M:%S"" common_cli_opts = [ cfg.BoolOpt('debug', short='d', default=False, help='Print debugging output (set logging level to ' 'DEBUG instead of default WARNING level).'), cfg.BoolOpt('verbose', short='v', default=False, help='Print more verbose output (set logging level to ' 'INFO instead of default WARNING level).'), ] logging_cli_opts = [ cfg.StrOpt('log-config-append', metavar='PATH', deprecated_name='log-config', help='The name of a logging configuration file. This file ' 'is appended to any existing logging configuration ' 'files. For details about logging configuration files, ' 'see the Python logging module documentation.'), cfg.StrOpt('log-format', metavar='FORMAT', help='DEPRECATED. ' 'A logging.Formatter log message format string which may ' 'use any of the available logging.LogRecord attributes. ' 'This option is deprecated. Please use ' 'logging_context_format_string and ' 'logging_default_format_string instead.'), cfg.StrOpt('log-date-format', default=_DEFAULT_LOG_DATE_FORMAT, metavar='DATE_FORMAT', help='Format string for %%(asctime)s in log records. ' 'Default: %(default)s .'), cfg.StrOpt('log-file', metavar='PATH', deprecated_name='logfile', help='(Optional) Name of log file to output to. ' 'If no default is set, logging will go to stdout.'), cfg.StrOpt('log-dir', deprecated_name='logdir', help='(Optional) The base directory used for relative ' '--log-file paths.'), cfg.BoolOpt('use-syslog', default=False, help='Use syslog for logging. ' 'Existing syslog format is DEPRECATED during I, ' 'and will change in J to honor RFC5424.'), cfg.BoolOpt('use-syslog-rfc-format', # TODO(bogdando) remove or use True after existing # syslog format deprecation in J default=False, help='(Optional) Enables or disables syslog rfc5424 format ' 'for logging. If enabled, prefixes the MSG part of the ' 'syslog message with APP-NAME (RFC5424). The ' 'format without the APP-NAME is deprecated in I, ' 'and will be removed in J.'), cfg.StrOpt('syslog-log-facility', default='LOG_USER', help='Syslog facility to receive log lines.') ] generic_log_opts = [ cfg.BoolOpt('use_stderr', default=True, help='Log output to standard error.') ] DEFAULT_LOG_LEVELS = ['amqp=WARN', 'amqplib=WARN', 'boto=WARN', 'qpid=WARN', 'sqlalchemy=WARN', 'suds=INFO', 'oslo.messaging=INFO', 'iso8601=WARN', 'requests.packages.urllib3.connectionpool=WARN', 'urllib3.connectionpool=WARN', 'websocket=WARN'] log_opts = [ cfg.StrOpt('logging_context_format_string', default='%(asctime)s.%(msecs)03d %(process)d %(levelname)s ' '%(name)s [%(request_id)s %(user_identity)s] ' '%(instance)s%(message)s', help='Format string to use for log messages with context.'), cfg.StrOpt('logging_default_format_string', default='%(asctime)s.%(msecs)03d %(process)d %(levelname)s ' '%(name)s [-] %(instance)s%(message)s', help='Format string to use for log messages without context.'), cfg.StrOpt('logging_debug_format_suffix', default='%(funcName)s %(pathname)s:%(lineno)d', help='Data to append to log format when level is DEBUG.'), cfg.StrOpt('logging_exception_prefix', default='%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s ' '%(instance)s', help='Prefix each line of exception output with this format.'), cfg.ListOpt('default_log_levels', default=DEFAULT_LOG_LEVELS, help='List of logger=LEVEL pairs.'), cfg.BoolOpt('publish_errors', default=False, help='Enables or disables publication of error events.'), cfg.BoolOpt('fatal_deprecations', default=False, help='Enables or disables fatal status of deprecations.'), # NOTE(mikal): there are two options here because sometimes we are handed # a full instance (and could include more information), and other times we # are just handed a UUID for the instance. cfg.StrOpt('instance_format', default='[instance: %(uuid)s] ', help='The format for an instance that is passed with the log ' 'message.'), cfg.StrOpt('instance_uuid_format', default='[instance: %(uuid)s] ', help='The format for an instance UUID that is passed with the ' 'log message.'), ] CONF = cfg.CONF CONF.register_cli_opts(common_cli_opts) CONF.register_cli_opts(logging_cli_opts) CONF.register_opts(generic_log_opts) CONF.register_opts(log_opts) # our new audit level # NOTE(jkoelker) Since we synthesized an audit level, make the logging # module aware of it so it acts like other levels. logging.AUDIT = logging.INFO + 1 logging.addLevelName(logging.AUDIT, 'AUDIT') try: NullHandler = logging.NullHandler except AttributeError: # NOTE(jkoelker) NullHandler added in Python 2.7 class NullHandler(logging.Handler): def handle(self, record): pass def emit(self, record): pass def createLock(self): self.lock = None def _dictify_context(context): if context is None: return None if not isinstance(context, dict) and getattr(context, 'to_dict', None): context = context.to_dict() return context def _get_binary_name(): return os.path.basename(inspect.stack()[-1][1]) def _get_log_file_path(binary=None): logfile = CONF.log_file logdir = CONF.log_dir if logfile and not logdir: return logfile if logfile and logdir: return os.path.join(logdir, logfile) if logdir: binary = binary or _get_binary_name() return '%s.log' % (os.path.join(logdir, binary),) return None class BaseLoggerAdapter(logging.LoggerAdapter): def audit(self, msg, *args, **kwargs): self.log(logging.AUDIT, msg, *args, **kwargs) def isEnabledFor(self, level): if _PY26: # This method was added in python 2.7 (and it does the exact # same logic, so we need to do the exact same logic so that # python 2.6 has this capability as well). return self.logger.isEnabledFor(level) else: return super(BaseLoggerAdapter, self).isEnabledFor(level) class LazyAdapter(BaseLoggerAdapter): def __init__(self, name='unknown', version='unknown'): self._logger = None self.extra = {} self.name = name self.version = version @property def logger(self): if not self._logger: self._logger = getLogger(self.name, self.version) if six.PY3: # In Python 3, the code fails because the 'manager' attribute # cannot be found when using a LoggerAdapter as the # underlying logger. Work around this issue. self._logger.manager = self._logger.logger.manager return self._logger class ContextAdapter(BaseLoggerAdapter): warn = logging.LoggerAdapter.warning def __init__(self, logger, project_name, version_string): self.logger = logger self.project = project_name self.version = version_string self._deprecated_messages_sent = dict() @property def handlers(self): return self.logger.handlers def deprecated(self, msg, *args, **kwargs): """"""Call this method when a deprecated feature is used. If the system is configured for fatal deprecations then the message is logged at the 'critical' level and :class:`DeprecatedConfig` will be raised. Otherwise, the message will be logged (once) at the 'warn' level. :raises: :class:`DeprecatedConfig` if the system is configured for fatal deprecations. """""" stdmsg = _(""Deprecated: %s"") % msg if CONF.fatal_deprecations: self.critical(stdmsg, *args, **kwargs) raise DeprecatedConfig(msg=stdmsg) # Using a list because a tuple with dict can't be stored in a set. sent_args = self._deprecated_messages_sent.setdefault(msg, list()) if args in sent_args: # Already logged this message, so don't log it again. return sent_args.append(args) self.warn(stdmsg, *args, **kwargs) def process(self, msg, kwargs): # NOTE(mrodden): catch any Message/other object and # coerce to unicode before they can get # to the python logging and possibly # cause string encoding trouble if not isinstance(msg, six.string_types): msg = six.text_type(msg) if 'extra' not in kwargs: kwargs['extra'] = {} extra = kwargs['extra'] context = kwargs.pop('context', None) if not context: context = getattr(local.store, 'context', None) if context: extra.update(_dictify_context(context)) instance = kwargs.pop('instance', None) instance_uuid = (extra.get('instance_uuid') or kwargs.pop('instance_uuid', None)) instance_extra = '' if instance: instance_extra = CONF.instance_format % instance elif instance_uuid: instance_extra = (CONF.instance_uuid_format % {'uuid': instance_uuid}) extra['instance'] = instance_extra extra.setdefault('user_identity', kwargs.pop('user_identity', None)) extra['project'] = self.project extra['version'] = self.version extra['extra'] = extra.copy() return msg, kwargs class JSONFormatter(logging.Formatter): def __init__(self, fmt=None, datefmt=None): # NOTE(jkoelker) we ignore the fmt argument, but its still there # since logging.config.fileConfig passes it. self.datefmt = datefmt def formatException(self, ei, strip_newlines=True): lines = traceback.format_exception(*ei) if strip_newlines: lines = [moves.filter( lambda x: x, line.rstrip().splitlines()) for line in lines] lines = list(itertools.chain(*lines)) return lines def format(self, record): message = {'message': record.getMessage(), 'asctime': self.formatTime(record, self.datefmt), 'name': record.name, 'msg': record.msg, 'args': record.args, 'levelname': record.levelname, 'levelno': record.levelno, 'pathname': record.pathname, 'filename': record.filename, 'module': record.module, 'lineno': record.lineno, 'funcname': record.funcName, 'created': record.created, 'msecs': record.msecs, 'relative_created': record.relativeCreated, 'thread': record.thread, 'thread_name': record.threadName, 'process_name': record.processName, 'process': record.process, 'traceback': None} if hasattr(record, 'extra'): message['extra'] = record.extra if record.exc_info: message['traceback'] = self.formatException(record.exc_info) return jsonutils.dumps(message) def _create_logging_excepthook(product_name): def logging_excepthook(exc_type, value, tb): extra = {'exc_info': (exc_type, value, tb)} getLogger(product_name).critical( """".join(traceback.format_exception_only(exc_type, value)), **extra) return logging_excepthook class LogConfigError(Exception): message = _('Error loading logging config %(log_config)s: %(err_msg)s') def __init__(self, log_config, err_msg): self.log_config = log_config self.err_msg = err_msg def __str__(self): return self.message % dict(log_config=self.log_config, err_msg=self.err_msg) def _load_log_config(log_config_append): try: logging.config.fileConfig(log_config_append, disable_existing_loggers=False) except (moves.configparser.Error, KeyError) as exc: raise LogConfigError(log_config_append, six.text_type(exc)) def setup(product_name, version='unknown'): """"""Setup logging."""""" if CONF.log_config_append: _load_log_config(CONF.log_config_append) else: _setup_logging_from_conf(product_name, version) sys.excepthook = _create_logging_excepthook(product_name) def set_defaults(logging_context_format_string=None, default_log_levels=None): # Just in case the caller is not setting the # default_log_level. This is insurance because # we introduced the default_log_level parameter # later in a backwards in-compatible change if default_log_levels is not None: cfg.set_defaults( log_opts, default_log_levels=default_log_levels) if logging_context_format_string is not None: cfg.set_defaults( log_opts, logging_context_format_string=logging_context_format_string) def _find_facility_from_conf(): facility_names = logging.handlers.SysLogHandler.facility_names facility = getattr(logging.handlers.SysLogHandler, CONF.syslog_log_facility, None) if facility is None and CONF.syslog_log_facility in facility_names: facility = facility_names.get(CONF.syslog_log_facility) if facility is None: valid_facilities = facility_names.keys() consts = ['LOG_AUTH', 'LOG_AUTHPRIV', 'LOG_CRON', 'LOG_DAEMON', 'LOG_FTP', 'LOG_KERN', 'LOG_LPR', 'LOG_MAIL', 'LOG_NEWS', 'LOG_AUTH', 'LOG_SYSLOG', 'LOG_USER', 'LOG_UUCP', 'LOG_LOCAL0', 'LOG_LOCAL1', 'LOG_LOCAL2', 'LOG_LOCAL3', 'LOG_LOCAL4', 'LOG_LOCAL5', 'LOG_LOCAL6', 'LOG_LOCAL7'] valid_facilities.extend(consts) raise TypeError(_('syslog facility must be one of: %s') % ', '.join(""'%s'"" % fac for fac in valid_facilities)) return facility class RFCSysLogHandler(logging.handlers.SysLogHandler): def __init__(self, *args, **kwargs): self.binary_name = _get_binary_name() # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) logging.handlers.SysLogHandler.__init__(self, *args, **kwargs) def format(self, record): # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) msg = logging.handlers.SysLogHandler.format(self, record) msg = self.binary_name + ' ' + msg return msg def _setup_logging_from_conf(project, version): log_root = getLogger(None).logger for handler in log_root.handlers: log_root.removeHandler(handler) if CONF.use_syslog: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) logpath = _get_log_file_path() if logpath: filelog = logging.handlers.WatchedFileHandler(logpath) log_root.addHandler(filelog) if CONF.use_stderr: streamlog = ColorHandler() log_root.addHandler(streamlog) elif not logpath: # pass sys.stdout as a positional argument # python2.6 calls the argument strm, in 2.7 it's stream streamlog = logging.StreamHandler(sys.stdout) log_root.addHandler(streamlog) if CONF.publish_errors: try: handler = importutils.import_object( ""solum_guestagent.openstack.common.log_handler.PublishErrorsHandler"", logging.ERROR) except ImportError: handler = importutils.import_object( ""oslo.messaging.notify.log_handler.PublishErrorsHandler"", logging.ERROR) log_root.addHandler(handler) datefmt = CONF.log_date_format for handler in log_root.handlers: # NOTE(alaski): CONF.log_format overrides everything currently. This # should be deprecated in favor of context aware formatting. if CONF.log_format: handler.setFormatter(logging.Formatter(fmt=CONF.log_format, datefmt=datefmt)) log_root.info('Deprecated: log_format is now deprecated and will ' 'be removed in the next release') else: handler.setFormatter(ContextFormatter(project=project, version=version, datefmt=datefmt)) if CONF.debug: log_root.setLevel(logging.DEBUG) elif CONF.verbose: log_root.setLevel(logging.INFO) else: log_root.setLevel(logging.WARNING) for pair in CONF.default_log_levels: mod, _sep, level_name = pair.partition('=') logger = logging.getLogger(mod) # NOTE(AAzza) in python2.6 Logger.setLevel doesn't convert string name # to integer code. if sys.version_info < (2, 7): level = logging.getLevelName(level_name) logger.setLevel(level) else: logger.setLevel(level_name) _loggers = {} def getLogger(name='unknown', version='unknown'): if name not in _loggers: _loggers[name] = ContextAdapter(logging.getLogger(name), name, version) return _loggers[name] def getLazyLogger(name='unknown', version='unknown'): """"""Returns lazy logger. Creates a pass-through logger that does not create the real logger until it is really needed and delegates all calls to the real logger once it is created. """""" return LazyAdapter(name, version) class WritableLogger(object): """"""A thin wrapper that responds to `write` and logs."""""" def __init__(self, logger, level=logging.INFO): self.logger = logger self.level = level def write(self, msg): self.logger.log(self.level, msg.rstrip()) class ContextFormatter(logging.Formatter): """"""A context.RequestContext aware formatter configured through flags. The flags used to set format strings are: logging_context_format_string and logging_default_format_string. You can also specify logging_debug_format_suffix to append extra formatting if the log level is debug. For information about what variables are available for the formatter see: http://docs.python.org/library/logging.html#formatter If available, uses the context value stored in TLS - local.store.context """""" def __init__(self, *args, **kwargs): """"""Initialize ContextFormatter instance Takes additional keyword arguments which can be used in the message format string. :keyword project: project name :type project: string :keyword version: project version :type version: string """""" self.project = kwargs.pop('project', 'unknown') self.version = kwargs.pop('version', 'unknown') logging.Formatter.__init__(self, *args, **kwargs) def format(self, record): """"""Uses contextstring if request_id is set, otherwise default."""""" # store project info record.project = self.project record.version = self.version # store request info context = getattr(local.store, 'context', None) if context: d = _dictify_context(context) for k, v in d.items(): setattr(record, k, v) # NOTE(sdague): default the fancier formatting params # to an empty string so we don't throw an exception if # they get used for key in ('instance', 'color', 'user_identity'): if key not in record.__dict__: record.__dict__[key] = '' if record.__dict__.get('request_id'): fmt = CONF.logging_context_format_string else: fmt = CONF.logging_default_format_string if (record.levelno == logging.DEBUG and CONF.logging_debug_format_suffix): fmt += "" "" + CONF.logging_debug_format_suffix if sys.version_info < (3, 2): self._fmt = fmt else: self._style = logging.PercentStyle(fmt) self._fmt = self._style._fmt # Cache this on the record, Logger will respect our formatted copy if record.exc_info: record.exc_text = self.formatException(record.exc_info, record) return logging.Formatter.format(self, record) def formatException(self, exc_info, record=None): """"""Format exception output with CONF.logging_exception_prefix."""""" if not record: return logging.Formatter.formatException(self, exc_info) stringbuffer = moves.StringIO() traceback.print_exception(exc_info[0], exc_info[1], exc_info[2], None, stringbuffer) lines = stringbuffer.getvalue().split('\n') stringbuffer.close() if CONF.logging_exception_prefix.find('%(asctime)') != -1: record.asctime = self.formatTime(record, self.datefmt) formatted_lines = [] for line in lines: pl = CONF.logging_exception_prefix % record.__dict__ fl = '%s%s' % (pl, line) formatted_lines.append(fl) return '\n'.join(formatted_lines) class ColorHandler(logging.StreamHandler): LEVEL_COLORS = { logging.DEBUG: '\033[00;32m', # GREEN logging.INFO: '\033[00;36m', # CYAN logging.AUDIT: '\033[01;36m', # BOLD CYAN logging.WARN: '\033[01;33m', # BOLD YELLOW logging.ERROR: '\033[01;31m', # BOLD RED logging.CRITICAL: '\033[01;31m', # BOLD RED } def format(self, record): record.color = self.LEVEL_COLORS[record.levelno] return logging.StreamHandler.format(self, record) class DeprecatedConfig(Exception): message = _(""Fatal call to deprecated config: %(msg)s"") def __init__(self, msg): super(Exception, self).__init__(self.message % dict(msg=msg)) ",4,845
openstack%2Fheat-specs~master~Ie52073c4873ab04254935a3e14becdf22e27066c,openstack/heat-specs,master,Ie52073c4873ab04254935a3e14becdf22e27066c,WIP Horizon Plugin for HOT Creation in Drag & Drop,ABANDONED,2017-08-22 09:28:37.000000000,2017-09-14 20:56:13.000000000,,"[{'_account_id': 3}, {'_account_id': 12404}, {'_account_id': 25221}]","[{'number': 1, 'created': '2017-08-22 09:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/3c129e2f5eebd581a375f3c9f13d1ef88c0185a3', 'message': 'A horizon plugin for HOT creation in drag & drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nblueprint horizon-plugin-hot-creation\n\n-\n\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 2, 'created': '2017-08-22 09:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/35fb662ef57f9a59bb2674ab19311e2d11d48bdc', 'message': 'A horizon plugin for HOT creation in drag & drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 3, 'created': '2017-08-22 09:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/29889a4b4c300bf6d4745a089dcd8cd9b6a1a9fe', 'message': 'WIP Horizon Plugin for HOT Creation in Drag & Drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 4, 'created': '2017-08-22 09:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/0f355a0c45425a5b1eb99ecb21fb441ec2a2f6a1', 'message': 'WIP Horizon Plugin for HOT Creation in Drag & Drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 5, 'created': '2017-08-22 09:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/236b74d806f39cc0e66637bf77d44cbe7f651ba2', 'message': 'WIP Horizon Plugin for HOT Creation in Drag & Drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 6, 'created': '2017-09-01 05:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/5003042bc8d71b814793766f289c36fa2822d8f8', 'message': 'WIP Horizon Plugin for HOT Creation in Drag & Drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 7, 'created': '2017-09-05 01:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/da92a972943f2588ec2db99b3b5063ba14905a51', 'message': 'WIP Horizon Plugin for HOT Creation in Drag & Drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 8, 'created': '2017-09-05 01:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/57e9829f3da4b8469004bdafc7be486af7cd5da9', 'message': 'WIP Horizon Plugin for HOT Creation in Drag & Drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 9, 'created': '2017-09-05 01:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/85bb627bc08308769807ec6c749681413b2e5f4a', 'message': 'WIP Horizon Plugin for HOT Creation in Drag & Drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}, {'number': 10, 'created': '2017-09-05 01:50:54.000000000', 'files': ['specs/queens/horizon-plugin-hot-creation.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/0b7fd3b778e41b27b7d962eb8c34f899b60ed1c0', 'message': 'WIP Horizon Plugin for HOT Creation in Drag & Drop\n\nSpecs of a horizon plugin for HOT creation in drag & drop manner.\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\n\nImplements: blueprint horizon-plugin-hot-creation\nChange-Id: Ie52073c4873ab04254935a3e14becdf22e27066c\n'}]",0,496174,0b7fd3b778e41b27b7d962eb8c34f899b60ed1c0,19,3,10,25221,,,0,"WIP Horizon Plugin for HOT Creation in Drag & Drop

Specs of a horizon plugin for HOT creation in drag & drop manner.
Writing the template from scratch is really hard, especially
in the large scale stack case.  User needs to clarify all of resource
dependencies and write them on the template without any mistakes.
This proposal is aiming to make it easier to create the templates along
with visualized icons, canvas and drag & drop manner on top of Horizon GUI.

Implements: blueprint horizon-plugin-hot-creation
Change-Id: Ie52073c4873ab04254935a3e14becdf22e27066c
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/74/496174/7 && git format-patch -1 --stdout FETCH_HEAD,"['specs/queens/horizon-plugin-hot-creation.rst', 'specs/templates/queens-template.rst', 'specs/queens/queens-template.rst']",3,3c129e2f5eebd581a375f3c9f13d1ef88c0185a3,bp/horizon-plugin-hot-creation,../templates/queens-template.rst,,171,0
openstack%2Fopenstack-ansible~master~Ie5cb95ba91df993d9c602c9d5167145fda3bab24,openstack/openstack-ansible,master,Ie5cb95ba91df993d9c602c9d5167145fda3bab24,Update and replace http with https for doc links,MERGED,2017-09-14 03:24:18.000000000,2017-09-14 20:53:58.000000000,2017-09-14 20:53:58.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-14 03:24:18.000000000', 'files': ['group_vars/all/all.yml', 'etc/openstack_deploy/conf.d/ceilometer.yml.example', 'etc/openstack_deploy/conf.d/swift.yml.example'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/796762345698f1eae9b5d1cb6f955a2013d6ec4d', 'message': 'Update and replace http with https for doc links\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: Ie5cb95ba91df993d9c602c9d5167145fda3bab24\n'}]",0,503913,796762345698f1eae9b5d1cb6f955a2013d6ec4d,12,3,1,23317,,,0,"Update and replace http with https for doc links

1) Update doc links according to OpenStack document migration
2) Use https instead of http for docs links

Change-Id: Ie5cb95ba91df993d9c602c9d5167145fda3bab24
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/503913/1 && git format-patch -1 --stdout FETCH_HEAD,"['group_vars/all/all.yml', 'etc/openstack_deploy/conf.d/ceilometer.yml.example', 'etc/openstack_deploy/conf.d/swift.yml.example']",3,796762345698f1eae9b5d1cb6f955a2013d6ec4d,https,# settings then first read: https://docs.openstack.org/swift/latest/admin_guide.html# settings then first read: https://docs.openstack.org/swift/latest/admin_guide.html# settings then first read: https://docs.openstack.org/swift/latest/admin_guide.html,# settings then first read: http://docs.openstack.org/developer/swift/admin_guide.html# settings then first read: http://docs.openstack.org/developer/swift/admin_guide.html# settings then first read: http://docs.openstack.org/developer/swift/admin_guide.html,5,5
openstack%2Fheat-specs~master~I9754ac63a5618d5c13cd001dd107e5c6718722d1,openstack/heat-specs,master,I9754ac63a5618d5c13cd001dd107e5c6718722d1,Heat Dashboard as Horizon Plugin,ABANDONED,2017-09-14 20:43:13.000000000,2017-09-14 20:48:58.000000000,,[],"[{'number': 1, 'created': '2017-09-14 20:43:13.000000000', 'files': ['specs/templates/queens-template.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/a035ff1acf8703fb528d849e1138f2154fa5e534', 'message': 'Heat Dashboard as Horizon Plugin\n\nSpecs of a horizon plugin named ""Heat Dashboard""\nWriting the template from scratch is really hard, especially\nin the large scale stack case.  User needs to clarify all of resource\ndependencies and write them on the template without any mistakes.\nThis proposal is aiming to make it easier to create the templates along\nwith visualized icons, canvas and drag & drop manner on top of Horizon GUI.\nAnd this plugin also split out current Heat GUI from Horizon to ease enhancement.\n\nChange-Id: I9754ac63a5618d5c13cd001dd107e5c6718722d1\nImplements: blueprint heat-dashboard\n'}]",0,504225,a035ff1acf8703fb528d849e1138f2154fa5e534,2,0,1,25936,,,0,"Heat Dashboard as Horizon Plugin

Specs of a horizon plugin named ""Heat Dashboard""
Writing the template from scratch is really hard, especially
in the large scale stack case.  User needs to clarify all of resource
dependencies and write them on the template without any mistakes.
This proposal is aiming to make it easier to create the templates along
with visualized icons, canvas and drag & drop manner on top of Horizon GUI.
And this plugin also split out current Heat GUI from Horizon to ease enhancement.

Change-Id: I9754ac63a5618d5c13cd001dd107e5c6718722d1
Implements: blueprint heat-dashboard
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/25/504225/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/templates/queens-template.rst'],1,a035ff1acf8703fb528d849e1138f2154fa5e534,bp/heat-dashboard,"================================ Heat dashboard as Horizon plugin ================================ https://blueprints.launchpad.net/heat/+spec/heat-dashboard This Blueprint proposes Horizon plugin for Heat to enhance current Orchstration part or Horizon as following. - Drag & Drop HOT Generator - This function allows users to create Heat Orchestration Template by drag & drop operation. - Split out Stack/Resource Type/Template Versions Panel - This function helps Horizon developer to replace and enhance current version GUI with new version's one. .. note:: This plugin does not create any panel group. Drag & Drop HOT Generator ========================= This section proposes to add a horizon plugin to create Heat Orchestration Template. Templates in drag & drop operation. -------------------------------------- Horizon only accepts heat orchestration templates as plain texts/files. Complaints are coming for the troubles of writing the templates. ------------------------------ This plugin uses ""_1650_project_drag_and_drop_hot_generator_panel.py"" to create Drag & Drop HOT Generator panel. And this panel support the following functions. - Add/Remove OpenStack resources to/from the canvas in drag-and-drop manner - Add/Remove the relations/dependencies among the resources - Edit and save parameters of the resources and relations - Generate Heat Orchestration Template from all of what you added to the canvas - Save/Load your created template - Select template version - Automatic output generation(especially, one-time parameter(e.g instance password)) - Create stack directly from newly created Heat Orchestration Template - (optional) Support basic validation for the input parameters Following function is still under consideration. - Direct template validation from the modal window which displays newly created HOT. Split out Stack/Resource Types/Template Versions Panel from Horizon =================================================================== This section proposes how to split out Heat relevant GUI from Horizon. ------------------- Problem description ------------------- - User can switch Heat relevant GUI from Horizon's one to Plugin's one. --------------- Proposed change --------------- Split out Heat relevant GUI from Horizon and put them into this Heat dashboard plugin. - User can add those panels into Horizon's accordion menu by using following enabled files - ""_1620_project_stacks_panel.py"" creates ""Stacks Panel"" under ""Orchestration Panel Group"" - ""_1630_project_resource_types_panel.py"" creates ""Resource Types Panel"" - ""_1640_project_resource_types_panel.py"" creates ""Template Versions"" Support following resources as a first step of this plugin. - OS::Nova::KeyPair - OS::Nova::Server - OS::Cinder::Volume - OS::Cinder::VolumeAttachment - OS::Neutron::FloatingIP - OS::Neutron::FloatingIPAssociation - OS::Neutron::Net - OS::Neutron::Port - OS::Neutron::Router - OS::Neutron::RouterInterface - OS::Neutron::SecurityGroup - OS::Neutron::Subnet - OS::Heat::ResourceGroup ------------None ==============Primary assignee: - Kaz Shinohara(kazsh) - Keiichi Hikita (kei-ichi) - Xinni Ge (xinni9e) - queens - Implement a new horizon plugin ============- None","=========================== The title of your blueprint =========================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/heat/+spec/example Introduction paragraph -- why are we doing anything? =================== A detailed description of the problem. =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Include where in the heat tree hierarchy this will reside. If your specification proposes any changes to the Heat REST API such as changing parameters which can be returned or accepted, or even the semantics of what happens when a client calls into the API, then you should add the APIImpact flag to the commit message. Specifications with the APIImpact flag can be found with the following query: https://review.openstack.org/#/q/status:open+project:openstack/heat-specs+message:apiimpact,n,z This is an optional section, where it does apply we'd just like a demonstration that some thought has been put into why the proposed approach is the best one. Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Can optionally can list additional ids if they intend on doing substantial implementation work on this blueprint. queens-1Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. - Include specific references to specs and/or blueprints in heat, or in other projects, that this one either depends on or is related to. - Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? ",90,41
openstack%2Fdevstack~master~I5c980bcc441a107a9fb0782eb53b720e1bae1db6,openstack/devstack,master,I5c980bcc441a107a9fb0782eb53b720e1bae1db6,Configure a single ml2 driver,ABANDONED,2017-09-14 19:52:56.000000000,2017-09-14 20:44:10.000000000,,"[{'_account_id': 6854}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-09-14 19:52:56.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/98f5d36d059977509039428386ad9ed85fcd8024', 'message': ""Configure a single ml2 driver\n\nWe don't deploy both agents in the same cloud.\n\nRelated-Bug: #1716782\nChange-Id: I5c980bcc441a107a9fb0782eb53b720e1bae1db6\n""}]",2,504185,98f5d36d059977509039428386ad9ed85fcd8024,4,2,1,9656,,,0,"Configure a single ml2 driver

We don't deploy both agents in the same cloud.

Related-Bug: #1716782
Change-Id: I5c980bcc441a107a9fb0782eb53b720e1bae1db6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/85/504185/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,98f5d36d059977509039428386ad9ed85fcd8024,bug/1716782, iniset $NEUTRON_CORE_PLUGIN_CONF ml2 mechanism_drivers linuxbridge iniset $NEUTRON_CORE_PLUGIN_CONF ml2 mechanism_drivers openvswitch," iniset $NEUTRON_CORE_PLUGIN_CONF ml2 mechanism_drivers openvswitch,linuxbridge",2,1
openstack%2Fopenstack-ansible-os_tempest~master~I6367bf93161dd779ae99859886ab813fe9788a88,openstack/openstack-ansible-os_tempest,master,I6367bf93161dd779ae99859886ab813fe9788a88,Only run v3 identity tempest tests,MERGED,2017-09-13 20:20:39.000000000,2017-09-14 20:39:58.000000000,2017-09-14 20:39:58.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-09-13 20:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/89f7eb437f28e5f0f951b042e98fe5a6b0f11824', 'message': 'Exclude v2 identity tempest tests\n\nThe keystone developers are removing v2 API support during the\nQueens release and this patch excludes those tests from tempest\nruns.\n\nCloses-Bug: 1717011\nChange-Id: I6367bf93161dd779ae99859886ab813fe9788a88\n'}, {'number': 2, 'created': '2017-09-13 20:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2a408cec211bed5e35438718ed0b555e973f5954', 'message': 'Exclude v2 identity tempest tests\n\nThe keystone developers are removing v2 API support during the\nQueens release and this patch excludes those tests from tempest\nruns.\n\nCloses-Bug: 1717011\nChange-Id: I6367bf93161dd779ae99859886ab813fe9788a88\n'}, {'number': 3, 'created': '2017-09-13 22:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/690e4127583ed6a5253c55fb8c9ac148f58deb93', 'message': 'Exclude v2 identity tempest tests\n\nThe keystone developers are removing v2 API support during the\nQueens release and this patch excludes those tests from tempest\nruns.\n\nCloses-Bug: 1717011\nChange-Id: I6367bf93161dd779ae99859886ab813fe9788a88\n'}, {'number': 4, 'created': '2017-09-13 22:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3b64e81896113ccbfdaa96c23f22f86830c266bb', 'message': 'Only run v3 identity tempest tests\n\nThe keystone developers are removing v2 API support during the\nQueens release and this patch ensures that we only run v3 identity\ntests.\n\nCloses-Bug: 1717011\nChange-Id: I6367bf93161dd779ae99859886ab813fe9788a88\n'}, {'number': 5, 'created': '2017-09-14 14:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/06a16ed28526edf9b1ecdd9859d003896989d3a5', 'message': 'Only run v3 identity tempest tests\n\nThe keystone developers are removing v2 API support during the\nQueens release and this patch ensures that we only run v3 identity\ntests.\n\nCloses-Bug: 1717011\nChange-Id: I6367bf93161dd779ae99859886ab813fe9788a88\n'}, {'number': 6, 'created': '2017-09-14 18:00:03.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e0e6ce0367cf8e588caaeef7e63278331c807846', 'message': 'Only run v3 identity tempest tests\n\nThe keystone developers are removing v2 API support during the\nQueens release and this patch ensures that we only run v3 identity\ntests.\n\nCloses-Bug: 1717011\nChange-Id: I6367bf93161dd779ae99859886ab813fe9788a88\n'}]",1,503800,e0e6ce0367cf8e588caaeef7e63278331c807846,18,4,6,538,,,0,"Only run v3 identity tempest tests

The keystone developers are removing v2 API support during the
Queens release and this patch ensures that we only run v3 identity
tests.

Closes-Bug: 1717011
Change-Id: I6367bf93161dd779ae99859886ab813fe9788a88
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/00/503800/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_run.yml', 'defaults/main.yml']",2,89f7eb437f28e5f0f951b042e98fe5a6b0f11824,bug/1717011,# Exclude tests from the whitelist that contain these strings or regular # expressions. # NOTE(mhayden): Keystone is removing v2 APIs in Queens but tempest still has # the tests enabled by default. tempest_test_exclude_list: - tempest.api.identity.admin.v2.* ,,11,1
openstack%2Fopenstack-ansible~stable%2Fpike~I21ab8e13f25bb7a769dcf504fa6915303bc2feec,openstack/openstack-ansible,stable/pike,I21ab8e13f25bb7a769dcf504fa6915303bc2feec,Use RDO Pike repository,MERGED,2017-09-13 15:12:50.000000000,2017-09-14 20:36:55.000000000,2017-09-14 20:36:55.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-13 15:12:50.000000000', 'files': ['deploy-guide/source/deploymenthost.rst', 'doc/source/contributor/quickstart-aio.rst', 'tests/roles/bootstrap-host/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c7e9e16efca11a88692f0006c3a044c23b885c83', 'message': 'Use RDO Pike repository\n\nUpdate docs and bootstrap vars to use the RDO Pike repository.\n\nRelated-Bug: 1715239\nChange-Id: I21ab8e13f25bb7a769dcf504fa6915303bc2feec\n(cherry picked from commit 07d1621ed9ced9d5cdcfcbbd4dc4955209d27ec4)\n'}]",0,503700,c7e9e16efca11a88692f0006c3a044c23b885c83,12,3,1,14805,,,0,"Use RDO Pike repository

Update docs and bootstrap vars to use the RDO Pike repository.

Related-Bug: 1715239
Change-Id: I21ab8e13f25bb7a769dcf504fa6915303bc2feec
(cherry picked from commit 07d1621ed9ced9d5cdcfcbbd4dc4955209d27ec4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/503700/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/contributor/quickstart-aio.rst', 'tests/roles/bootstrap-host/vars/redhat.yml']",3,c7e9e16efca11a88692f0006c3a044c23b885c83,bug/1715239,"rdo_package: ""https://rdoproject.org/repos/openstack-pike/rdo-release-pike.rpm""","rdo_package: ""https://rdoproject.org/repos/openstack-ocata/rdo-release-ocata.rpm""",3,3
openstack%2Fproject-config~master~I170b24f01bdd79e4728d509d2a0f654a479b2674,openstack/project-config,master,I170b24f01bdd79e4728d509d2a0f654a479b2674,"Revert ""Use https for logs.openstack.org""",MERGED,2017-09-14 20:05:01.000000000,2017-09-14 20:27:00.000000000,2017-09-14 20:27:00.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6133}]","[{'number': 1, 'created': '2017-09-14 20:05:01.000000000', 'files': ['playbooks/base-minimal/post-logs.yaml', 'playbooks/base/pre.yaml', 'playbooks/base-test/pre.yaml', 'jenkins/jobs/macros.yaml', 'playbooks/base/post-logs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cdc9673be1a0d8618e294669a80b87613d1b5158', 'message': 'Revert ""Use https for logs.openstack.org""\n\nThis reverts commit 1f57c9c327778c1e812bc27633dde1106bc8904c.\n\nThe logs.openstack.org site is not configured correctly to serve\nover https.  I think it\'s actually serving from docs-draft.\nWe should fix that, but in the interim, switch back to http.\n\nChange-Id: I170b24f01bdd79e4728d509d2a0f654a479b2674\n'}]",0,504192,cdc9673be1a0d8618e294669a80b87613d1b5158,7,3,1,1,,,0,"Revert ""Use https for logs.openstack.org""

This reverts commit 1f57c9c327778c1e812bc27633dde1106bc8904c.

The logs.openstack.org site is not configured correctly to serve
over https.  I think it's actually serving from docs-draft.
We should fix that, but in the interim, switch back to http.

Change-Id: I170b24f01bdd79e4728d509d2a0f654a479b2674
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/504192/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/base-minimal/post-logs.yaml', 'playbooks/base/pre.yaml', 'playbooks/base-test/pre.yaml', 'jenkins/jobs/macros.yaml', 'playbooks/base/post-logs.yaml']",5,cdc9673be1a0d8618e294669a80b87613d1b5158,," zuul_log_url: ""http://logs.openstack.org"""," zuul_log_url: ""https://logs.openstack.org""",5,5
openstack%2Fopenstack-ansible-galera_server~master~Ib17c9ae6f5e75ce2288d52f6368cd40e9586ffdb,openstack/openstack-ansible-galera_server,master,Ib17c9ae6f5e75ce2288d52f6368cd40e9586ffdb,Reimplement external LB management handler hook,MERGED,2017-09-10 01:54:52.000000000,2017-09-14 20:26:14.000000000,2017-09-14 20:26:14.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-09-10 01:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/0c358e6aa66552f9aa86bcc08e03f09c6172c3d0', 'message': 'Reimplement external LB management handler hook\n\nBased on conversation on an ansible issue[1], I implemented\na LB orchestration role[2] similar to the POC here[3].\n\nThis will allow external loadbalancer management roles to hook\ninto a universal notify listener ""Manage LB"" to perform before/\nafter endpoint management actions when the service is being\nrestarted.\n\nThis reverts commit f876cf2926d5a80bd4e8b3acd6da2e9553b98e8f.\n\nChange-Id: Ib17c9ae6f5e75ce2288d52f6368cd40e9586ffdb\n'}, {'number': 2, 'created': '2017-09-10 01:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/6a45b0ec0d2e9bea94b145efcf555553c3509400', 'message': 'Reimplement external LB management handler hook\n\nBased on conversation on an ansible issue[1], I implemented\na LB orchestration role[2] similar to the POC here[3].\n\nThis will allow external loadbalancer management roles to hook\ninto a universal notify listener ""Manage LB"" to perform before/\nafter endpoint management actions when the service is being\nrestarted.\n\n[1]: https://github.com/ansible/ansible/issues/27813\n[2]: https://github.com/Logan2211/ansible-haproxy-endpoints\n[3]: https://github.com/Logan2211/tmp-ansible-27813\n\nThis reverts commit f876cf2926d5a80bd4e8b3acd6da2e9553b98e8f.\n\nChange-Id: Ib17c9ae6f5e75ce2288d52f6368cd40e9586ffdb\n'}, {'number': 3, 'created': '2017-09-10 22:05:35.000000000', 'files': ['doc/source/index.rst', 'tasks/galera_install_yum.yml', 'tasks/galera_post_install.yml', 'handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/149076cd2c52f9bc5f3fcffcd1b04d7aa55ca84f', 'message': 'Reimplement external LB management handler hook\n\nBased on conversation on an ansible issue[1], I implemented\na LB orchestration role[2] similar to the POC here[3].\n\nThis will allow external loadbalancer management roles to hook\ninto a universal notify listener ""Manage LB"" to perform before/\nafter endpoint management actions when the service is being\nrestarted.\n\n[1]: https://github.com/ansible/ansible/issues/27813\n[2]: https://github.com/Logan2211/ansible-haproxy-endpoints\n[3]: https://github.com/Logan2211/tmp-ansible-27813\n\nThis reverts commit f876cf2926d5a80bd4e8b3acd6da2e9553b98e8f.\n\nChange-Id: Ib17c9ae6f5e75ce2288d52f6368cd40e9586ffdb\n'}]",0,502284,149076cd2c52f9bc5f3fcffcd1b04d7aa55ca84f,16,4,3,17799,,,0,"Reimplement external LB management handler hook

Based on conversation on an ansible issue[1], I implemented
a LB orchestration role[2] similar to the POC here[3].

This will allow external loadbalancer management roles to hook
into a universal notify listener ""Manage LB"" to perform before/
after endpoint management actions when the service is being
restarted.

[1]: https://github.com/ansible/ansible/issues/27813
[2]: https://github.com/Logan2211/ansible-haproxy-endpoints
[3]: https://github.com/Logan2211/tmp-ansible-27813

This reverts commit f876cf2926d5a80bd4e8b3acd6da2e9553b98e8f.

Change-Id: Ib17c9ae6f5e75ce2288d52f6368cd40e9586ffdb
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/84/502284/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_install_yum.yml', 'tasks/galera_post_install.yml', 'handlers/main.yml', 'defaults/main.yml']",4,0c358e6aa66552f9aa86bcc08e03f09c6172c3d0,galera-playbook-restarts,,# Allow the playbook to orchestrate service restart handlers galera_external_restart_handlers: no ,10,8
openstack%2Ftripleo-docs~master~I8d6cb7b73ae13842c9f9985008389f592975e821,openstack/tripleo-docs,master,I8d6cb7b73ae13842c9f9985008389f592975e821,Remove details about installing master tripleo packages,ABANDONED,2016-07-08 13:50:43.000000000,2017-09-14 20:22:12.000000000,,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 10239}]","[{'number': 1, 'created': '2016-07-08 13:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/113f8a91ffbb11fed086f57d80962fbaaf152c80', 'message': ""Remove details about install master tripleo packages\n\nThis documentation is aimed at people trying to use tripleo, they shouldn't\nneed the absolute master of the tripleo projects. Its up to the tripleo\ncommunity to make sure the current-tripleo pin doesn't fall behind.\n\nThe includepkgs trick is a developer/ci requirement to ensure development\ndoesn't stall while we wait for the pin to move.\n\nChange-Id: I8d6cb7b73ae13842c9f9985008389f592975e821\n""}, {'number': 2, 'created': '2016-07-08 13:51:13.000000000', 'files': ['doc/source/repositories.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/51d15a2fa5e0ddd9e58a8bf766d8a45e425ce75c', 'message': ""Remove details about installing master tripleo packages\n\nThis documentation is aimed at people trying to use tripleo, they shouldn't\nneed the absolute master of the tripleo projects. Its up to the tripleo\ncommunity to make sure the current-tripleo pin doesn't fall behind.\n\nThe includepkgs trick is a developer/ci requirement to ensure development\ndoesn't stall while we wait for the pin to move.\n\nChange-Id: I8d6cb7b73ae13842c9f9985008389f592975e821\n""}]",0,339561,51d15a2fa5e0ddd9e58a8bf766d8a45e425ce75c,7,3,2,1926,,,0,"Remove details about installing master tripleo packages

This documentation is aimed at people trying to use tripleo, they shouldn't
need the absolute master of the tripleo projects. Its up to the tripleo
community to make sure the current-tripleo pin doesn't fall behind.

The includepkgs trick is a developer/ci requirement to ensure development
doesn't stall while we wait for the pin to move.

Change-Id: I8d6cb7b73ae13842c9f9985008389f592975e821
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/61/339561/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/repositories.txt'],1,113f8a91ffbb11fed086f57d80962fbaaf152c80,centosorg-urls,," Enable latest RDO Trunk Delorean repository only for the |project| packages :: sudo curl -L -o /etc/yum.repos.d/delorean-current.repo http://trunk.rdoproject.org/centos7/current/delorean.repo sudo sed -i 's/\[delorean\]/\[delorean-current\]/' /etc/yum.repos.d/delorean-current.repo sudo /bin/bash -c ""cat <<EOF>>/etc/yum.repos.d/delorean-current.repo includepkgs=diskimage-builder,instack,instack-undercloud,os-apply-config,os-cloud-config,os-collect-config,os-net-config,os-refresh-config,python-tripleoclient,tripleo-common,openstack-tripleo-heat-templates,openstack-tripleo-image-elements,openstack-tripleo,openstack-tripleo-puppet-elements,openstack-puppet-modules EOF"" ",0,12
openstack%2Ftripleo-ci~master~I686acaa61aaf576180eed5614848f4d49ac5e2af,openstack/tripleo-ci,master,I686acaa61aaf576180eed5614848f4d49ac5e2af,Install tripleo-admin ssh keys on CI nodes,ABANDONED,2016-08-31 12:56:17.000000000,2017-09-14 20:21:08.000000000,,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 4162}, {'_account_id': 6928}, {'_account_id': 10969}, {'_account_id': 23181}]","[{'number': 1, 'created': '2016-08-31 12:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c8ea8199f18a837bc308143a13e1875b97a81da6', 'message': 'Install tripleo-admin ssh keys on CI nodes\n\nChange-Id: I686acaa61aaf576180eed5614848f4d49ac5e2af\n'}, {'number': 2, 'created': '2016-09-01 10:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2fc95258cf6c579670fc9c200dffb660ca674bc6', 'message': 'Install tripleo-admin ssh keys on CI nodes\n\nChange-Id: I686acaa61aaf576180eed5614848f4d49ac5e2af\n'}, {'number': 3, 'created': '2017-03-14 10:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/41a6df96d1d61861ef97b196540891422e1d20a7', 'message': 'Install tripleo-admin ssh keys on CI nodes\n\nChange-Id: I686acaa61aaf576180eed5614848f4d49ac5e2af\n'}, {'number': 4, 'created': '2017-03-14 10:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a14cb4a9dfa3e4b578b047f7ea28b519e313f550', 'message': 'Install tripleo-admin ssh keys on CI nodes\n\nChange-Id: I686acaa61aaf576180eed5614848f4d49ac5e2af\n'}, {'number': 5, 'created': '2017-07-15 09:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/59c74953a545d8773e5c4ef09a8552ee6b79ee3e', 'message': 'Install tripleo-admin ssh keys on CI nodes\n\nChange-Id: I686acaa61aaf576180eed5614848f4d49ac5e2af\n'}, {'number': 6, 'created': '2017-07-15 09:09:22.000000000', 'files': ['toci_gate_test-oooq.sh', 'toci_gate_test-orig.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d4fa523a6789adce8414e44be2002526a1fea027', 'message': 'Install tripleo-admin ssh keys on CI nodes\n\nChange-Id: I686acaa61aaf576180eed5614848f4d49ac5e2af\n'}]",1,363630,d4fa523a6789adce8414e44be2002526a1fea027,46,6,6,1926,,,0,"Install tripleo-admin ssh keys on CI nodes

Change-Id: I686acaa61aaf576180eed5614848f4d49ac5e2af
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/30/363630/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,c8ea8199f18a837bc308143a13e1875b97a81da6,363630, # Do this as early as possible once $TRIPLEO_ROOT is available # so tripleo-admins can ssh to ci nodes as early in the process as possible cat $TRIPLEO_ROOT/scripts/tripleo-cd-admins >> ~/.ssh/authorized_keys ,,5,0
openstack%2Fopenstack-ansible-os_neutron~master~I78d0876c33b42e0c6f2b2f3a96f0d5137cb72b41,openstack/openstack-ansible-os_neutron,master,I78d0876c33b42e0c6f2b2f3a96f0d5137cb72b41,Updated from OpenStack Ansible Tests,MERGED,2017-09-11 21:14:02.000000000,2017-09-14 20:20:33.000000000,2017-09-14 20:20:33.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-11 21:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a300e46c1f9661ebb2945d4993cf97a4698f5351', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I78d0876c33b42e0c6f2b2f3a96f0d5137cb72b41\n'}, {'number': 2, 'created': '2017-09-12 23:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3f8407a562a725a4e8f72c2fd30a3286e047015f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I78d0876c33b42e0c6f2b2f3a96f0d5137cb72b41\n'}, {'number': 3, 'created': '2017-09-14 18:00:01.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b9410c83af2cf9ec890e8d7413057a620a2f503a', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I78d0876c33b42e0c6f2b2f3a96f0d5137cb72b41\n'}]",0,502609,b9410c83af2cf9ec890e8d7413057a620a2f503a,12,4,3,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I78d0876c33b42e0c6f2b2f3a96f0d5137cb72b41
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/09/502609/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a300e46c1f9661ebb2945d4993cf97a4698f5351,openstack/openstack-ansible-tests/sync-tests,python-ndg-httpsclient [platform:ubuntu],python-ndg-httpsclient [platform:ubuntu !platform:ubuntu-14],1,1
openstack%2Fcharm-swift-storage~master~I20354dedfa27a6b8dec92828cabb50a20d0d8838,openstack/charm-swift-storage,master,I20354dedfa27a6b8dec92828cabb50a20d0d8838,Catch blkid error when device is not yet formatted,MERGED,2017-09-13 22:06:04.000000000,2017-09-14 20:15:18.000000000,2017-09-14 20:15:18.000000000,"[{'_account_id': 3}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-09-13 22:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/fbf3cfe04fabb6dbbf03dafa7323d71944c4869c', 'message': 'Catch blkid error when device is not yet formatted\n\nChange-Id: I20354dedfa27a6b8dec92828cabb50a20d0d8838\nCloses-Bug: 1567198\n'}, {'number': 2, 'created': '2017-09-14 15:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/5dbdeae5bcf3e5c3d3626cef6c47419cc1ed5fe2', 'message': 'Catch blkid error when device is not yet formatted\n\nWhen a new device is added to the ring we first try to\nidentify whether the device is already in the ring by\npolling for an fs uuid. If the device has never been\nused this is expected to fail so lets catch the error.\n\nChange-Id: I20354dedfa27a6b8dec92828cabb50a20d0d8838\nCloses-Bug: 1567198\n'}, {'number': 3, 'created': '2017-09-14 15:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/944750725f2b4c75872997071366b57363dbe79a', 'message': 'Catch blkid error when device is not yet formatted\n\nWhen a new device is added to the ring we first try to\nidentify whether the device is already in the ring by\npolling for an fs uuid. If the device has never been\nused this is expected to fail so lets catch the error.\n\nAlso fixes log message.\n\nChange-Id: I20354dedfa27a6b8dec92828cabb50a20d0d8838\nCloses-Bug: 1567198\n'}, {'number': 4, 'created': '2017-09-14 19:22:33.000000000', 'files': ['unit_tests/test_swift_storage_utils.py', 'lib/swift_storage_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/656e79da1854bee7db063644d0b2c0ce0e8955fd', 'message': 'Catch blkid error when device is not yet formatted\n\nWhen a new device is added to the ring we first try to\nidentify whether the device is already in the ring by\npolling for an fs uuid. If the device has never been\nused this is expected to fail so lets catch the error.\n\nAlso fixes log message.\n\nChange-Id: I20354dedfa27a6b8dec92828cabb50a20d0d8838\nCloses-Bug: 1567198\n'}]",1,503849,656e79da1854bee7db063644d0b2c0ce0e8955fd,19,4,4,6737,,,0,"Catch blkid error when device is not yet formatted

When a new device is added to the ring we first try to
identify whether the device is already in the ring by
polling for an fs uuid. If the device has never been
used this is expected to fail so lets catch the error.

Also fixes log message.

Change-Id: I20354dedfa27a6b8dec92828cabb50a20d0d8838
Closes-Bug: 1567198
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/49/503849/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/swift_storage_utils.py'],1,fbf3cfe04fabb6dbbf03dafa7323d71944c4869c,bug/1567198," """"""Try to get the fs uuid of the provided device. If this is called for a new unformatted device we expect blkid to fail hence return None to indicate the device is not in use. :param dev: block device path :returns: UUID of device if found else None """""" try: blk_uuid = subprocess.check_output(['blkid', '-s', 'UUID', dev]) except CalledProcessError: # If the device has not be used or formatted yet we expect this to # fail. return None "," blk_uuid = subprocess.check_output(['blkid', '-s', 'UUID', dev])",15,1
openstack%2Fansible-hardening~stable%2Focata~I2b586c9d96447c6747aea3be53c6f622cd494f75,openstack/ansible-hardening,stable/ocata,I2b586c9d96447c6747aea3be53c6f622cd494f75,Cast security_shadow_utils_fail_delay as int,MERGED,2017-09-11 22:15:30.000000000,2017-09-14 20:12:55.000000000,2017-09-14 20:12:55.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-09-11 22:15:30.000000000', 'files': ['tasks/rhel7stig/auth.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/6e82b647d4d8b03eb7f31526c44e15c9338f1876', 'message': 'Cast security_shadow_utils_fail_delay as int\n\nThis patch ensures that security_shadow_utils_fail_delay is an\ninteger before we perform math on it.\n\nChange-Id: I2b586c9d96447c6747aea3be53c6f622cd494f75\n(cherry picked from commit e683bce9155f5fd40ccd2e68ac55d834d98c49df)\n'}]",0,502848,6e82b647d4d8b03eb7f31526c44e15c9338f1876,7,3,1,538,,,0,"Cast security_shadow_utils_fail_delay as int

This patch ensures that security_shadow_utils_fail_delay is an
integer before we perform math on it.

Change-Id: I2b586c9d96447c6747aea3be53c6f622cd494f75
(cherry picked from commit e683bce9155f5fd40ccd2e68ac55d834d98c49df)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/48/502848/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rhel7stig/auth.yml'],1,6e82b647d4d8b03eb7f31526c44e15c9338f1876,, line: '\1 delay={{ (security_shadow_utils_fail_delay | int) * 10**6 }}', line: '\1 delay={{ security_shadow_utils_fail_delay * 10**6 }}',1,1
openstack%2Fansible-hardening~stable%2Focata~I9ff9f45c0c5bdd749c9491431e2dcb8836587e78,openstack/ansible-hardening,stable/ocata,I9ff9f45c0c5bdd749c9491431e2dcb8836587e78,Configure pam_faildelay on Ubuntu,MERGED,2017-09-05 16:55:45.000000000,2017-09-14 20:12:50.000000000,2017-09-14 20:12:50.000000000,"[{'_account_id': 3}, {'_account_id': 17068}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-05 16:55:45.000000000', 'files': ['tasks/rhel7stig/auth.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/d0ec2e8dd002ddb5cb02f8188971e8ab0e91322a', 'message': ""Configure pam_faildelay on Ubuntu\n\nAs noted in the bug, Ubuntu 16.04 doesn't use FAIL_DELAY in\n`/etc/login.defs` as CentOS 7 does. This patch ensures that\n`pam_faildelay` is properly configured on Xenial.\n\nA direct backport wasn't possible due to the\nvars/main.yml -> vars/common.yml migration done in pike.\n\nCloses-Bug: 1659120\nCloses-Bug: 1714462\nChange-Id: I9ff9f45c0c5bdd749c9491431e2dcb8836587e78\n(cherry picked from commit c15d75ecf43efc5d61bbb0199aed3aee08c685a9)\n""}]",2,500924,d0ec2e8dd002ddb5cb02f8188971e8ab0e91322a,10,3,1,538,,,0,"Configure pam_faildelay on Ubuntu

As noted in the bug, Ubuntu 16.04 doesn't use FAIL_DELAY in
`/etc/login.defs` as CentOS 7 does. This patch ensures that
`pam_faildelay` is properly configured on Xenial.

A direct backport wasn't possible due to the
vars/main.yml -> vars/common.yml migration done in pike.

Closes-Bug: 1659120
Closes-Bug: 1714462
Change-Id: I9ff9f45c0c5bdd749c9491431e2dcb8836587e78
(cherry picked from commit c15d75ecf43efc5d61bbb0199aed3aee08c685a9)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/24/500924/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rhel7stig/auth.yml', 'vars/main.yml']",2,d0ec2e8dd002ddb5cb02f8188971e8ab0e91322a,bug/1659120, ansible_os_family: all ansible_os_family: all ansible_os_family: all ansible_os_family: all ansible_os_family: all ansible_os_family: all,,24,0
openstack%2Fcharm-ceph-mon~master~I87ae9d5863f8e9489a4ebf8ceee9412c2ba68657,openstack/charm-ceph-mon,master,I87ae9d5863f8e9489a4ebf8ceee9412c2ba68657,Drop configuration for global keyring,MERGED,2017-09-14 16:38:48.000000000,2017-09-14 20:08:56.000000000,2017-09-14 20:08:56.000000000,"[{'_account_id': 3}, {'_account_id': 8992}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-09-14 16:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e3822dcd501b38b29f9cab88fc951e0f3195cde0', 'message': 'Drop configuration for global keyring\n\nDrop explicit global configuration of keyring, supporting\ninstallation of the ceph/ceph-mon/ceph-osd charms in the\nsame machine.\n\nChange-Id: I87ae9d5863f8e9489a4ebf8ceee9412c2ba68657\nCloses-Bug: 1681750\n'}, {'number': 2, 'created': '2017-09-14 19:11:00.000000000', 'files': ['tests/basic_deployment.py', 'templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/5fe6134ded15455e8f25c9b31452f26301a5877c', 'message': 'Drop configuration for global keyring\n\nDrop explicit global configuration of keyring, supporting\ninstallation of the ceph/ceph-mon/ceph-osd charms in the\nsame machine.\n\nChange-Id: I87ae9d5863f8e9489a4ebf8ceee9412c2ba68657\nCloses-Bug: 1681750\n'}]",0,504114,5fe6134ded15455e8f25c9b31452f26301a5877c,11,3,2,935,,,0,"Drop configuration for global keyring

Drop explicit global configuration of keyring, supporting
installation of the ceph/ceph-mon/ceph-osd charms in the
same machine.

Change-Id: I87ae9d5863f8e9489a4ebf8ceee9412c2ba68657
Closes-Bug: 1681750
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/14/504114/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/ceph.conf'],1,e3822dcd501b38b29f9cab88fc951e0f3195cde0,bug/1681750,,keyring = /etc/ceph/$cluster.$name.keyring,1,1
openstack%2Fpuppet-tripleo~stable%2Fnewton~I3536147a06b426ace18cf415e99361c47b4cf5d9,openstack/puppet-tripleo,stable/newton,I3536147a06b426ace18cf415e99361c47b4cf5d9,Composable services for Dell EMC PS Series,ABANDONED,2017-02-17 20:22:32.000000000,2017-09-14 20:07:39.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-02-17 20:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5af74f975f6c0c3b93d987332881ec308333ffa3', 'message': 'Rebranding of Eqlx to Dell EMC PS Series\n\nThis changes rebrands Dell Eqlx to Dell PS series\nand matches the tripleo-heat-templates.\n\nChange-Id: I3536147a06b426ace18cf415e99361c47b4cf5d9\n(cherry picked from commit 6e074bfde1e78a85b60d104eb901a716107bd6f9)\n'}, {'number': 2, 'created': '2017-02-27 19:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3f03dc8c9acfb37740a9b70296fe35071c1f318c', 'message': 'Composable services for Dell EMC PS Series\n\nThis changes adds Dell PS series as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I3536147a06b426ace18cf415e99361c47b4cf5d9\n(cherry picked from commit 6e074bfde1e78a85b60d104eb901a716107bd6f9)\n'}, {'number': 3, 'created': '2017-03-06 17:41:34.000000000', 'files': ['spec/classes/tripleo_profile_base_cinder_volume_dellps_spec.rb', 'manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/dellps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bc6d16e094400ceb1b2d905ed13365ca89cf82e9', 'message': 'Composable services for Dell EMC PS Series\n\nThis changes adds Dell PS series as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I3536147a06b426ace18cf415e99361c47b4cf5d9\n(cherry picked from commit 6e074bfde1e78a85b60d104eb901a716107bd6f9)\n'}]",10,435587,bc6d16e094400ceb1b2d905ed13365ca89cf82e9,27,5,3,10379,,,0,"Composable services for Dell EMC PS Series

This changes adds Dell PS series as composable service
and matches the tripleo-heat-templates.

Change-Id: I3536147a06b426ace18cf415e99361c47b4cf5d9
(cherry picked from commit 6e074bfde1e78a85b60d104eb901a716107bd6f9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/435587/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_cinder_volume_dellps_spec.rb', 'manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/dellps.pp']",3,5af74f975f6c0c3b93d987332881ec308333ffa3,,"# == Class: tripleo::profile::base::cinder::volume::dellps# Cinder Volume for dellps profile tripleo# Defaults to 'tripleo_dellps'class tripleo::profile::base::cinder::volume::dellps ( $backend_name = hiera('cinder::backend::eqlx::volume_backend_name', 'tripleo_dellps'),","# == Class: tripleo::profile::base::cinder::volume::eqlx# Cinder Volume eqlx profile for tripleo# Defaults to 'tripleo_eqlx'class tripleo::profile::base::cinder::volume::eqlx ( $backend_name = hiera('cinder::backend::eqlx::volume_backend_name', 'tripleo_eqlx'),",90,26
openstack%2Fcharm-specs~master~Ib7ec4465e90803e8eb981c5c9d0a9b9ec5b2ccfa,openstack/charm-specs,master,Ib7ec4465e90803e8eb981c5c9d0a9b9ec5b2ccfa,Add spec for ceph to ceph-mon/osd migration,MERGED,2017-09-14 18:03:51.000000000,2017-09-14 20:05:38.000000000,2017-09-14 20:05:38.000000000,"[{'_account_id': 3}, {'_account_id': 935}]","[{'number': 1, 'created': '2017-09-14 18:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/22716e03498b9bf040e91d8adc810b14c391ef7e', 'message': 'Add spec for ceph to ceph-mon/osd migration\n\nAdds a new spec for migrating architectures deployed utilizing the\nall-in-one ceph architecture to the split architecture module,\nwhere monitors and OSDs are place separately.\n\nChange-Id: Ib7ec4465e90803e8eb981c5c9d0a9b9ec5b2ccfa\n'}, {'number': 2, 'created': '2017-09-14 19:38:49.000000000', 'files': ['specs/queens/approved/ceph-charm-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/154241e9a1b54b2eb554f78d19c1050c9898bf85', 'message': 'Add spec for ceph to ceph-mon/osd migration\n\nAdds a new spec for migrating architectures deployed utilizing the\nall-in-one ceph architecture to the split architecture module,\nwhere monitors and OSDs are place separately.\n\nChange-Id: Ib7ec4465e90803e8eb981c5c9d0a9b9ec5b2ccfa\n'}]",4,504156,154241e9a1b54b2eb554f78d19c1050c9898bf85,9,2,2,8992,,,0,"Add spec for ceph to ceph-mon/osd migration

Adds a new spec for migrating architectures deployed utilizing the
all-in-one ceph architecture to the split architecture module,
where monitors and OSDs are place separately.

Change-Id: Ib7ec4465e90803e8eb981c5c9d0a9b9ec5b2ccfa
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/56/504156/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/ceph-charm-migration.rst'],1,22716e03498b9bf040e91d8adc810b14c391ef7e,charm-ceph-migration,".. Copyright 2017 Canonical UK Ltd This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ==================================== Migrate Ceph Deployment Architecture ==================================== The all-in-one Ceph charm has been deprecated in favor of splitting out the distinct functions of the Ceph monitor cluster and the Ceph OSDs. The Ceph charm itself is receiving limited maintenance and all new features are being added to the ceph-osd or ceph-mon charms. Unfortunately, there currently exists no way of migrating existing deployments using the legacy architecture to the preferred architecture. Problem Description =================== Deploying the all-in-one ceph charm was difficult to deploy properly and often resulted in too many monitors deployed. This (and other) problems eventually lead to splitting up the all-in-one ceph deployment into its different compositional parts - ceph-mon and ceph-osd. New deployments are encouraged to use the new architecture, but users which have deployed the previous architecture have no way to migrate to the new architecture. In order to migrate to the new architecture, users will need to: #. Deploy the ceph-mon charm into the environment without bootstrapping a new monitor cluster. #. Update the deployments using the ceph-client relation to point to the new ceph-mon application. This should include: - ceph-radosgw - nova-compute - ceph-cinder #. Deploy the ceph-osd charm alongside the current ceph charms. The ceph-osd charm will not reformat any of the currently running OSD devices. #. Remove the all-in-one ceph application. Note: the configuration values will not be validated in any part of this migration scenario. If the user deploys the ceph-osd application or the ceph-mon application with different config values than that of the all-in-one ceph charms, then there may be unexpected changes to the environment. Proposed Change =============== Most of the basic plumbing already exists to support the basic parts of this migration. There are some parts that are actually missing an need attention to detail. Config Changes to charm-ceph-mon -------------------------------- A new config option will be added to the ceph-mon charm indicating that the charm should not do an initial bootstrap of the monitor cluster. When this value is set to true, the charm will **not**: #. bootstrap a new monitor cluster #. automatically generate an fsid This new configuration option will be defined as follows: .. code-block:: yaml no-bootstrap: type: boolean default: False description: | Causes the charm to not do any of the initial bootstrapping of the Ceph monitor cluster. This is only intended to be used when migrating from the ceph all-in-one charm to a ceph-mon / ceph-osd deployment. Refer to the Charm Deployment guide at https://docs.openstack.org/charm-deployment-guide/latest/ for more information. New ceph-bootstrap Interface ---------------------------- Notably, there exists no way of adding a relation between the ceph-mon charm and the all-in-one ceph charm. To address this, a new interface will be added to the ceph and ceph-mon charms called `ceph-bootstrap`, enabling the necessary information for joining the cluster to be shared. This is essentially the same information that's shared on the peer `mon` interface for the ceph charm itself. Since the charms are not reactive, no new interface repository is required. The information exchanged will contain the following: .. code-block:: yaml ceph-bootstrap: - name: fsid type: string desc: | The fsid of the already bootstrapped monitor cluster - name: mon-host type: string desc: | The list of IP addresses that are used for the existing monitor cluster as currently is written to the ceph.conf file. - name: mon-key type: string desc: | The key used to authorize a monitor node for joining a ceph mon cluster. In order to join this relation, the ceph-mon charm will require that the ``no-bootstrap`` config option be set to True and the monitor cluster is not already bootstrapped locally. If either of these is not valid, the ceph-mon charm will fail to join the relation. Changes to charm-ceph --------------------- In addition to implementing the `ceph-bootstrap` interface, the all-in-one ceph charm needs to properly clean up when removing itself. It should not remove any OSDs or Ceph packages as this would interrupt the operational ceph cluster. However, the charm needs to remove its ceph.conf file as a registered alternative during its stop hook. Alternatives ------------ One alternative would be to **not** offer a migration to the new architecture and leave the deployments stuck. This has rather unfortunate side effect with respect to user happiness and has implications regarding the overall lifetime of the ceph charm. Implementation ============== Assignee(s) ----------- Primary assignee: james-page Additional assignee(s): billy-olsen Gerrit Topic ------------ Use Gerrit topic `charm-ceph-migration` for all patches related to this spec. .. code-block:: bash git-review -t charm-ceph-migration Work Items ---------- charm-ceph-mon ++++++++++++++ - Add new config flag - Implement new bootstrap interface - Remove additional monmap entries when removing the bootstrap relation charm-ceph-osd ++++++++++++++ - Ensure that the charm support multiple monitor relations charm-ceph ++++++++++ - Add support for new bootstrap interface - Remove registered alternative for ceph.conf in the stop hook - Update charm README charm-ceph-radosgw ++++++++++++++++++ - Ensure that the charm supports multiple monitor relations charm-helpers +++++++++++++ - Ensure that CephContext supports multiple monitor relations (consumed by charm-glance, charm-inder-ceph, charm-nova, etc) openstack-charm-testing +++++++++++++++++++++++ - Update all next.yaml and stable.yaml bundles to use split architecture - Add legacy bundle which deploys an all-in-one ceph bundle docs ++++ - Update charm deployment guide to clearly describe this process - Update release notes with implementation note and reference to the deployment guide. Repositories ------------ None Documentation ------------- This will need to be carefully documented in the following places: #. Charm Deployment Guide #. The Ceph Charm's README needs to refer to the migration process documentation and officially marked as deprecated. Security -------- No new security implications or this change. Testing ------- - Create an appropriate functional test that can be run at release gating (mojo, bundle tester, etc) - Test the impact of running clients on the migration. This is important because the monitor information is exposed via the libvirt domain XML files which are created and may have an impact on running clients. Specifically, need to verify the impact to: - nova-compute w/ rbd backed instances - nova-compute w/ rbd cinder attached volumes - glance images w/ rbd backing Dependencies ============ None ",,238,0
openstack%2Fopenstack-zuul-roles~master~Ide554d0ab0d6e8f34314747edf9258e098e26c8f,openstack/openstack-zuul-roles,master,Ide554d0ab0d6e8f34314747edf9258e098e26c8f,Remove install-distro-packages.sh dependency for run-bindep,ABANDONED,2017-05-22 21:28:41.000000000,2017-09-14 20:04:45.000000000,,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-22 21:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/4ee987dd6e477a0ca5467b1c713d62b0a864fc35', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2017-05-22 21:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/408f91de02d1e34a32a5b4f90261ecaa953a2ce6', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2017-05-22 21:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/d9e906c17f754cee3d00fd9bd6f6c986fd1412d0', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 4, 'created': '2017-05-22 21:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/3340063c934e30535246b96de9c02b6e3bfc8876', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 5, 'created': '2017-05-22 21:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/ab9581e0a13478a8c4f3dc8c8d03007eb4416222', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nDepends-On: I069f4025403e301af08137c19da1e5b35e21798d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 6, 'created': '2017-05-22 21:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/3fa33d3331ca24841d524bd763eb32d20f20df3b', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nDepends-On: I069f4025403e301af08137c19da1e5b35e21798d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 7, 'created': '2017-05-22 21:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/5b4e5078c71b6d6d452d2ac39ff93ec0ba9c2177', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nDepends-On: I069f4025403e301af08137c19da1e5b35e21798d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 8, 'created': '2017-05-22 21:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/49bed24bcc64a074fab92c3fe5e2577d6d2f4864', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nDepends-On: I069f4025403e301af08137c19da1e5b35e21798d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 9, 'created': '2017-05-22 22:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/3089d81be510ee2ec03c1f836c2cf9b9698edcc2', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nDepends-On: I069f4025403e301af08137c19da1e5b35e21798d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 10, 'created': '2017-05-22 22:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/ba311016c4d57430b91f51fe0cef37a3ae60b25a', 'message': 'WIP: Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nDepends-On: I069f4025403e301af08137c19da1e5b35e21798d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 11, 'created': '2017-05-22 22:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/c97748c1081b279c31206b1716590894b25d4e5f', 'message': 'Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nDepends-On: I069f4025403e301af08137c19da1e5b35e21798d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 12, 'created': '2017-05-22 23:12:33.000000000', 'files': ['roles/run-bindep/defaults/main.yaml', 'roles/run-bindep/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/6dac85f7bf79b424d52e6eaa5ac16a709f98749f', 'message': 'Remove install-distro-packages.sh dependency for run-bindep\n\nPort to ansible to ensure packages are installed for bindep.\n\nChange-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f\nDepends-On: I069f4025403e301af08137c19da1e5b35e21798d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",1,466913,6dac85f7bf79b424d52e6eaa5ac16a709f98749f,42,6,12,4162,,,0,"Remove install-distro-packages.sh dependency for run-bindep

Port to ansible to ensure packages are installed for bindep.

Change-Id: Ide554d0ab0d6e8f34314747edf9258e098e26c8f
Depends-On: I069f4025403e301af08137c19da1e5b35e21798d
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-roles refs/changes/13/466913/7 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-bindep/defaults/main.yaml', 'roles/run-bindep/tasks/main.yaml']",2,4ee987dd6e477a0ca5467b1c713d62b0a864fc35,,"- name: Run bindep to get list of missing packages. command: ""bindep -b -f {{ bindep_file_config }} {{ bindep_profile }}"" register: bindep - name: Ensure build dependencies are installed. package: name: ""{{ item }}"" state: installed with_items: ""{{ bindep.stdout }}""",- name: Run install-distro-packages.sh shell: /usr/local/jenkins/slave_scripts/install-distro-packages.sh,14,2
openstack%2Fqa-specs~master~Id4b8debddbdb9f2c00d1e17328194d65b929211c,openstack/qa-specs,master,Id4b8debddbdb9f2c00d1e17328194d65b929211c,RBAC testing multiple policies,MERGED,2017-04-28 19:58:27.000000000,2017-09-14 19:44:48.000000000,2017-09-14 19:44:48.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 8556}, {'_account_id': 12393}, {'_account_id': 17896}, {'_account_id': 23185}, {'_account_id': 23186}, {'_account_id': 25100}]","[{'number': 1, 'created': '2017-04-28 19:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/60484eb9b91e9675ff4fcf8dbbb0e8be5759314b', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 2, 'created': '2017-04-28 19:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/23a96726333bffe1decd2b58516797d1450fa9a9', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 3, 'created': '2017-04-28 19:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/34e753488ec54d1a263dfedf7f8970f9004254fa', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 4, 'created': '2017-04-28 20:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/0783a0b33c77b2ff45121f8b783f1c2344694e5d', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 5, 'created': '2017-05-18 16:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/808ee05f26483057f4d53f8becfd501c4884e30e', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 6, 'created': '2017-05-18 16:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/99973e44d0ed522ec6063ff1e53dd71b22bfb1b5', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 7, 'created': '2017-06-15 19:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/a940ca7b09c925d05d0d3c2416e7726061cb348b', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 8, 'created': '2017-08-26 17:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/88aaf069ddc1625475e253f6328cd2d217ad6e25', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 9, 'created': '2017-08-26 17:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/e29b536ed5aa2c33600d3cb96d4d6216c933fe52', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 10, 'created': '2017-08-28 05:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/332c7741e053c10590a50c6860c20dea39d71126', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}, {'number': 11, 'created': '2017-08-31 19:08:12.000000000', 'files': ['specs/patrole/rbac-testing-multiple-policies.rst'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/345fa8fcd9632ca13eb5391616e38a4426a95322', 'message': 'RBAC testing multiple policies\n\nThis spec describes a proposed enhancement for testing multiple\npolicy actions for API tests that call API endpoints that enforce\nmultiple policies.\n\nSpecifies blueprint rbac-testing-multiple-policies\n\nChange-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c\n'}]",14,461140,345fa8fcd9632ca13eb5391616e38a4426a95322,37,8,11,23186,,,0,"RBAC testing multiple policies

This spec describes a proposed enhancement for testing multiple
policy actions for API tests that call API endpoints that enforce
multiple policies.

Specifies blueprint rbac-testing-multiple-policies

Change-Id: Id4b8debddbdb9f2c00d1e17328194d65b929211c
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/40/461140/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/other/rbac-testing-multiple-policies.rst'],1,60484eb9b91e9675ff4fcf8dbbb0e8be5759314b,bp/rbac-testing-multiple-policies,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============== Policy in code ============== `bp rbac-testing-multiple-policies <https://blueprints.launchpad.net/patrole/+spec/rbac-testing-multiple-policies>`_ Problem Description =================== Patrole currently RBAC tests an API endpoint by checking whether a policy action is allowed, according to ``oslo-policy-checker`` and then executes the API endpoint that does policy enforcement with the role specified under ``CONF.rbac.rbac_test_role``. However, this approach does not account for API endpoints that enforce multiple policy actions, either directly (within the implementation of the API endpoint itself) or indirectly (across different helper functions and API endpoints). The current approach to RBAC testing in Patrole, therefore, does not always provide complete policy coverage. Just like multiple calls are made to ``oslo.policy`` by various endpoints, Patrole should do the same. For example, take an API that enforces 2 policy actions, A and B, where A is ``admin_api`` and B is ``admin_or_owner``. Calling the API with ``rbac_test_role`` as admin role will necessarily pass, because admin role has permissions to execute policy actions A and B and will also be able to execute the API endpoint. However, the test will fail for non-admin role, with the ``rbac_rule_validation`` decorator evaluating *just* policy action B. This is because a non-admin role (i.e. Member) role *has* permissions to perform policy action B (which is ``admin_or_owner``) but does *not* have permissions to execute the API endpoint, since the endpoint enforces an ``admin_api`` policy: this results in a ``Forbidden`` exception being raised, and the test failing. Proposed Change =============== The proposed change is to modify the ``rbac_rule_validation`` decorator to be able to take a list of policy actions, rather than just one policy action. For each policy action, a call will be made to ``oslo.policy`` to confirm whether the current role is allowed to perform the action. The result from each call will be logical-ANDed with every other policy action in the list. As such, we can deduce whether a role is allowed to call an API that enforces multiple policies. To provide a concrete example, the following test:: @rbac_rule_validation.action(service=""cinder"", rule=""volume:update_readonly_flag"") @decorators.idempotent_id('2750717a-f250-4e41-9e09-02624aad6ff8') def test_volume_readonly_update(self): volume = self.create_volume() self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.client.update_volume_readonly(volume['id'], readonly=True) will be changed to:: @rbac_rule_validation.action( service=""cinder"", actions=[""volume:get_volume"", ""volume:update_readonly_flag""]) @decorators.idempotent_id('2750717a-f250-4e41-9e09-02624aad6ff8') def test_volume_readonly_update(self): volume = self.create_volume() self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.client.update_volume_readonly(volume['id'], readonly=True) .. note:: The previous parameter ``rule`` is incorrect, because the first part of a policy is called the policy ``target`` or policy ``action``, while the second part of the policy is the ``rule`` itself. For information about this terminology, see: `policy-json-file <https://docs.openstack.org/kilo/config-reference/content/policy-json-file.html>`_ Alternatives ------------ Currently, there are no other viable alternatives. It is not feasible or desirable to repeatedly call each API endpoint against each policy action that the endpoint enforces. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Policy will continue to be evaluated and enforced like it does today. Performance Impact ------------------ The performance impact is minor. This change will result in slightly slower test run time, because multiple calls will be made to ``oslo.policy`` rather than just one, per Patrole test. Other Deployer Impact --------------------- None. Developer Impact ---------------- The proposed change requires that developers be prudent about which policy actions they include in the proposed ``actions`` parameter. Including an excessively high number of policy actions is not maintainable and is cumbersome. For example, cinder enforces ``volume_extension:volume_host_attribute`` and ``volume_extension:volume_mig_status_attribute``, along with a number of different policy actions, for many, many endpoints. Repeating these policy actions for every cinder Patrole test would be redundant and bad design. (If it could be proven that these policy actions are enforced for *every* cinder API endpoint, then the policy actions could be auto-injected by the Patrole framework and logical-ANDed with the policy actions explicitly specified in ``actions``. However, this approach goes beyond the scope of this spec). It is recommended that this enhancement be used *judiciously* by developers. Only endpoints that enforce multiple relatively *unique* policy actions should be included in the ``actions`` list. Implementation ============== Assignee(s) ----------- Primary assignee: Felipe Monteiro (felipemonteiro) Samantha Blanco (sblanco1) Other contributors: Rick Bartra (rb560u) Work Items ---------- * Enhance the ``rbac_rule_validation`` decorator with the ``actions`` parameter and remove (or deprecate) the ``rule`` parameter. * Write a helper function in ``rbac_rule_validation`` to iteratively call ``rbac_policy_parser.RbacPolicyParser.allowed`` for each policy action specified in ``actions``, logically ANDing them together, and returning the result to ``rbac_rule_validation`` decorator. * Refactoring tests to use ``actions`` instead of ``rule``. * Writing new unit tests to test the proposed enhancement. * Selectively adding multiple policy actions to some tests. * Confirming that all API tests work with the proposed enhancement. Dependencies ============ None. Documentation Impact ==================== Patrole documentation will be updated to convey the new parameter along with intended use, as described in this spec. References ========== * <https://docs.openstack.org/kilo/config-reference/content/policy-json-file.html>`_ ",,173,0
openstack%2Ftempest~master~If3fcb13c82ca9abb9988dd4ac8c4ccea24409549,openstack/tempest,master,If3fcb13c82ca9abb9988dd4ac8c4ccea24409549,DNM Ensure setUp/tearDownClass cannot be overridden,ABANDONED,2017-08-15 18:02:19.000000000,2017-09-14 19:38:10.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 10385}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-15 18:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e818ccb0311c19c1e01326397e9051d3eecab730', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 2, 'created': '2017-08-15 21:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ad0c4d1765af3e9319a1627ce17def610652d7bd', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 3, 'created': '2017-08-15 23:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6fa4137dd5ce4e553009909fa198763e8817d8b7', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 4, 'created': '2017-08-16 10:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/529ca71261bf7ee6ece1689428047863e11a56f5', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 5, 'created': '2017-08-16 12:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd3079e6c3db47deedc84380fe90d4ced0bf3b7c', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 6, 'created': '2017-08-16 15:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2990cb2c160c5526e36bae116172e6a468ded6b7', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 7, 'created': '2017-08-17 20:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c65c1b9c7945519bb86b3d54aac5e3f7a9e376e', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 8, 'created': '2017-08-18 11:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8916ada6e5d4312e50a9661fce63a0e8abe456a', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 9, 'created': '2017-08-18 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/91f7463299ae7484d85d5b78234a30b856d36b16', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 10, 'created': '2017-08-18 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/069baf98999f0e849a6196ce31231ab79d56404f', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 11, 'created': '2017-08-18 16:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c549593681e08d8c385247495fa59246b4b48c4', 'message': ""Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}, {'number': 12, 'created': '2017-08-21 21:27:48.000000000', 'files': ['tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6212eb827664397e59eb89ffa715e797d32f0eca', 'message': ""DNM Ensure setUp/tearDownClass cannot be overridden\n\nIn Tempest we have a hacking rule that prevents overriding and\nextending setUpClass and tearDownClass. Since we're going to make\ntest.py stable for plugins, we need to be able to enforce this\nwithout the help of hacking.\n\nWe use class level flags to ensure the fixture in the base class\nis invoked. We analyse the call stack to see if the call comes\nfrom the framework or from a test class fixture.\n\nFor tearDownClass we cannot really check if the base one was not\ninvoked right after the test execution. We can however log classes\nthat implemented tearDownClass without calling super for it.\n\nChange-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\n""}]",0,493968,6212eb827664397e59eb89ffa715e797d32f0eca,29,4,12,1921,,,0,"DNM Ensure setUp/tearDownClass cannot be overridden

In Tempest we have a hacking rule that prevents overriding and
extending setUpClass and tearDownClass. Since we're going to make
test.py stable for plugins, we need to be able to enforce this
without the help of hacking.

We use class level flags to ensure the fixture in the base class
is invoked. We analyse the call stack to see if the call comes
from the framework or from a test class fixture.

For tearDownClass we cannot really check if the base one was not
invoked right after the test execution. We can however log classes
that implemented tearDownClass without calling super for it.

Change-Id: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/493968/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/utils/test_utils.py', 'tempest/test.py', 'tempest/tests/test_test.py']",3,e818ccb0311c19c1e01326397e9051d3eecab730,test_module_stable,"import sysif sys.version_info >= (2, 7): import unittest else: import unittest2 as unittest class LoggingTestResult(testtools.TestResult): def __init__(self, log, *args, **kwargs): super(LoggingTestResult, self).__init__(*args, **kwargs) self.log = log def addError(self, test, err=None, details=None): self.log.append((test, err, details)) def test_setup_class_overwritten(self): class OverridesSetup(self.parent_test): @classmethod def setUpClass(cls): pass overrides_setup = OverridesSetup() suite = unittest.TestSuite((overrides_setup,)) log = [] result = LoggingTestResult(log) suite.run(result) # Record 0, test (error holder). The error generates during test run. self.assertIn('runTest', str(log[0][0])) # Record 0, traceback self.assertRegexpMatches( str(log[0][2]['traceback']).replace('\n', ' '), RuntimeError.__name__ + ': .* ' + OverridesSetup.__name__) def test_setup_class_extended(self): class ExtendsSetup(self.parent_test): @classmethod def setUpClass(cls): super(ExtendsSetup, cls).setUpClass() pass extends_setup = ExtendsSetup() suite = unittest.TestSuite((extends_setup,)) log = [] result = LoggingTestResult(log) suite.run(result) # Record 0, test (error holder). The error generates during setupClass self.assertIn('setUpClass', str(log[0][0])) # Record 0, err, exception type self.assertIs(RuntimeError, log[0][1][0]) # Record 0, err, exception message self.assertIn(ExtendsSetup.__name__, str(log[0][1][1])) def test_teardown_class_extended(self): class ExtendsTeardown(self.parent_test): @classmethod def tearDownClass(cls): super(ExtendsTeardown, cls).tearDownClass() pass extends_teardown = ExtendsTeardown() suite = unittest.TestSuite((extends_teardown,)) log = [] result = LoggingTestResult(log) suite.run(result) # Record 0, test (error holder). The error generates during tearDown self.assertIn('tearDownClass', str(log[0][0])) # Record 0, err, exception type self.assertIs(RuntimeError, log[0][1][0]) # Record 0, err, exception message self.assertIn(ExtendsTeardown.__name__, str(log[0][1][1]))",,126,19
openstack%2Fopenstack-ansible-os_cinder~master~I59ffce72a82c533eb9319ca2b7859cfdd9711327,openstack/openstack-ansible-os_cinder,master,I59ffce72a82c533eb9319ca2b7859cfdd9711327,Update document links,MERGED,2017-09-13 07:58:36.000000000,2017-09-14 19:34:07.000000000,2017-09-14 19:34:07.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-13 07:58:36.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/configure-cinder.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/9998b3bc6c20b81e656d453dfc6da4de01766c71', 'message': 'Update document links\n\nUpdate doc links according to OpenStack document migration.\nUse https instead of http for docs links.\nCloses-Bug:#1716850\n\nChange-Id: I59ffce72a82c533eb9319ca2b7859cfdd9711327\n'}]",0,503552,9998b3bc6c20b81e656d453dfc6da4de01766c71,7,3,1,26458,,,0,"Update document links

Update doc links according to OpenStack document migration.
Use https instead of http for docs links.
Closes-Bug:#1716850

Change-Id: I59ffce72a82c533eb9319ca2b7859cfdd9711327
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/52/503552/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/configure-cinder.rst']",2,9998b3bc6c20b81e656d453dfc6da4de01766c71,bug/1716850, see https://docs.openstack.org/ocata/config-reference/block-storage/drivers/dell-equallogic-driver.html, see http://docs.openstack.org/ocata/config-reference/block-storage/drivers/dell-equallogic-driver.html,2,2
openstack%2Fapi-site~master~I4ef65188ccdeebf59cc684f2de99c2198c0c3127,openstack/api-site,master,I4ef65188ccdeebf59cc684f2de99c2198c0c3127,Fix typo in tox.ini,MERGED,2017-09-14 19:25:18.000000000,2017-09-14 19:32:38.000000000,2017-09-14 19:32:38.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 17765}]","[{'number': 1, 'created': '2017-09-14 19:25:18.000000000', 'files': ['tox.ini', 'tools/mv-firstapp-trans.sh'], 'web_link': 'https://opendev.org/openstack/api-site/commit/8fa4937999220a9b493fd12dd488d9516a6e708f', 'message': 'Fix typo in tox.ini\n\nThe last change had a typo in the job invocation, fix it.\nRemove ls, the job output showed the content is available as expected.\nFix also permissions on shell script.\n\nChange-Id: I4ef65188ccdeebf59cc684f2de99c2198c0c3127\n'}]",0,504176,8fa4937999220a9b493fd12dd488d9516a6e708f,7,3,1,6547,,,0,"Fix typo in tox.ini

The last change had a typo in the job invocation, fix it.
Remove ls, the job output showed the content is available as expected.
Fix also permissions on shell script.

Change-Id: I4ef65188ccdeebf59cc684f2de99c2198c0c3127
",git fetch https://review.opendev.org/openstack/api-site refs/changes/76/504176/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tools/mv-firstapp-trans.sh']",2,8fa4937999220a9b493fd12dd488d9516a6e708f,,,,1,3
openstack%2Fshade~master~Iaa2b3742d04135a6da35f42f4a787937b9bc81eb,openstack/shade,master,Iaa2b3742d04135a6da35f42f4a787937b9bc81eb,Add pypi and doc publication templates,MERGED,2017-09-09 16:02:40.000000000,2017-09-14 19:31:10.000000000,2017-09-14 19:31:10.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-09 16:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8e167eb6ddc7659192b27bc8ec9a75e447c121aa', 'message': 'Add pypi and doc publication templates\n\nChange-Id: Iaa2b3742d04135a6da35f42f4a787937b9bc81eb\nDepends-On: I01ea35061ba92c2e466c6269c61e640461d6da99\nDepends-On: I4f1aea66fcbb623f554ded4d7ce63ff4c1168e45\n'}, {'number': 2, 'created': '2017-09-14 17:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/e937f87f94a18bd359b77387214433f3e41edc6b', 'message': 'Add pypi and doc publication templates\n\nChange-Id: Iaa2b3742d04135a6da35f42f4a787937b9bc81eb\nDepends-On: I01ea35061ba92c2e466c6269c61e640461d6da99\nDepends-On: I4f1aea66fcbb623f554ded4d7ce63ff4c1168e45\n'}, {'number': 3, 'created': '2017-09-14 17:47:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/shade/commit/f29d04dcf903fc6ac10f276badaff3edf3f09b7a', 'message': 'Add pypi and doc publication templates\n\nChange-Id: Iaa2b3742d04135a6da35f42f4a787937b9bc81eb\nDepends-On: I01ea35061ba92c2e466c6269c61e640461d6da99\nDepends-On: I4f1aea66fcbb623f554ded4d7ce63ff4c1168e45\n'}]",2,502257,f29d04dcf903fc6ac10f276badaff3edf3f09b7a,23,5,3,2,,,0,"Add pypi and doc publication templates

Change-Id: Iaa2b3742d04135a6da35f42f4a787937b9bc81eb
Depends-On: I01ea35061ba92c2e466c6269c61e640461d6da99
Depends-On: I4f1aea66fcbb623f554ded4d7ce63ff4c1168e45
",git fetch https://review.opendev.org/openstack/shade refs/changes/57/502257/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8e167eb6ddc7659192b27bc8ec9a75e447c121aa,zuulv3, template: - name: publish-to-pypi - name: publish-openstack-python-docs,,3,0
openstack%2Foctavia~master~I67c45189dfdf0fe8a62cf7fb304a9b42c425c713,openstack/octavia,master,I67c45189dfdf0fe8a62cf7fb304a9b42c425c713,Whitespace fixes and simplification of keepalived template,MERGED,2017-08-22 22:26:24.000000000,2017-09-14 19:29:35.000000000,2017-09-14 19:29:35.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-08-22 22:26:24.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/keepalived/jinja/test_jinja_cfg.py', 'octavia/amphorae/drivers/keepalived/jinja/templates/keepalived_base.template'], 'web_link': 'https://opendev.org/openstack/octavia/commit/87a9ac6685185f2a19a44931ddb9c753f4a9df8f', 'message': 'Whitespace fixes and simplification of keepalived template\n\nChange-Id: I67c45189dfdf0fe8a62cf7fb304a9b42c425c713\n'}]",0,496430,87a9ac6685185f2a19a44931ddb9c753f4a9df8f,18,4,1,10273,,,0,"Whitespace fixes and simplification of keepalived template

Change-Id: I67c45189dfdf0fe8a62cf7fb304a9b42c425c713
",git fetch https://review.opendev.org/openstack/octavia refs/changes/30/496430/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/drivers/keepalived/jinja/test_jinja_cfg.py', 'octavia/amphorae/drivers/keepalived/jinja/templates/keepalived_base.template']",2,87a9ac6685185f2a19a44931ddb9c753f4a9df8f,, state {{ amp_role }} interface {{ amp_intf }} virtual_router_id {{ amp_vrrp_id }} priority {{ amp_priority }} nopreempt garp_master_refresh {{ vrrp_garp_refresh }} garp_master_refresh_repeat {{ vrrp_garp_refresh_repeat }} advert_int {{ advert_int }} authentication { auth_type {{ vrrp_auth_type }} auth_pass {{ vrrp_auth_pass }} } unicast_src_ip {{ amp_vrrp_ip }} unicast_peer { {% for amp_vrrp_ip in peers_vrrp_ips %} {{ amp_vrrp_ip }} {% endfor %} } virtual_ipaddress { {{ vip_ip_address }} } track_script { }, {% macro unicast_peer_macro(peers_vrrp_ips) %} {% for amp_vrrp_ip in peers_vrrp_ips %} {{ amp_vrrp_ip }} {% endfor %} {% endmacro %} state {{ amp_role }} interface {{ amp_intf }} virtual_router_id {{ amp_vrrp_id }} priority {{ amp_priority }} nopreempt garp_master_refresh {{ vrrp_garp_refresh }} garp_master_refresh_repeat {{ vrrp_garp_refresh_repeat }} advert_int {{ advert_int }} authentication { auth_type {{ vrrp_auth_type }} auth_pass {{ vrrp_auth_pass }} } unicast_src_ip {{ amp_vrrp_ip }} unicast_peer { {{ unicast_peer_macro(peers_vrrp_ips) }} } virtual_ipaddress { {{ vip_ip_address }} } track_script { },45,53
openstack%2Fswift~feature%2Fs3api~I869e49bb3f40208aa02dfe0251dc899408fc7f69,openstack/swift,feature/s3api,I869e49bb3f40208aa02dfe0251dc899408fc7f69,Update UPPER_CONSTRAINTS_FILE for feature/s3api,ABANDONED,2017-09-14 18:17:00.000000000,2017-09-14 19:25:48.000000000,,[{'_account_id': 13052}],"[{'number': 1, 'created': '2017-09-14 18:17:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/a06a8e6bd7fcef062f17d5c8922cd1583a54cbbe', 'message': 'Update UPPER_CONSTRAINTS_FILE for feature/s3api\n\nChange-Id: I869e49bb3f40208aa02dfe0251dc899408fc7f69\n'}]",0,504163,a06a8e6bd7fcef062f17d5c8922cd1583a54cbbe,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for feature/s3api

Change-Id: I869e49bb3f40208aa02dfe0251dc899408fc7f69
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/504163/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a06a8e6bd7fcef062f17d5c8922cd1583a54cbbe,create-s3api,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=feature/s3api} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fneutron-lib~master~Idae1413a769371cb7c76d4689f6dab67c72b22be,openstack/neutron-lib,master,Idae1413a769371cb7c76d4689f6dab67c72b22be,Fix unit test failures due to switch to testr changes,MERGED,2017-09-14 15:17:18.000000000,2017-09-14 19:23:47.000000000,2017-09-14 19:23:47.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 7787}]","[{'number': 1, 'created': '2017-09-14 15:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dd2e977570cd20b19c2f8b94dafabcf2ea79bf6f', 'message': 'Fix unit test failures due to switch to testr changes\n\nChange-Id: Idae1413a769371cb7c76d4689f6dab67c72b22be\n'}, {'number': 2, 'created': '2017-09-14 15:17:48.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b3de3b6e6964f08fc50026e6f18368ee7294bff2', 'message': 'Fix unit test failures due to switch to testr changes\n\nChange-Id: Idae1413a769371cb7c76d4689f6dab67c72b22be\n'}]",0,504074,b3de3b6e6964f08fc50026e6f18368ee7294bff2,11,3,2,748,,,0,"Fix unit test failures due to switch to testr changes

Change-Id: Idae1413a769371cb7c76d4689f6dab67c72b22be
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/74/504074/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt']",2,dd2e977570cd20b19c2f8b94dafabcf2ea79bf6f,fixtestr,,testrepository>=0.0.18 # Apache-2.0/BSD,1,1
openstack%2Fneutron-lbaas-dashboard~stable%2Fpike~I30b5b39c9179790db1743d1ecd37e79e71524e34,openstack/neutron-lbaas-dashboard,stable/pike,I30b5b39c9179790db1743d1ecd37e79e71524e34,Imported Translations from Zanata,MERGED,2017-09-14 08:08:51.000000000,2017-09-14 19:15:47.000000000,2017-09-14 19:15:47.000000000,"[{'_account_id': 3}, {'_account_id': 10850}]","[{'number': 1, 'created': '2017-09-14 08:08:51.000000000', 'files': ['neutron_lbaas_dashboard/locale/ja/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/9a1f5515d1ee239d822d5f6dc890e98dcd3c8669', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I30b5b39c9179790db1743d1ecd37e79e71524e34\n'}]",0,503995,9a1f5515d1ee239d822d5f6dc890e98dcd3c8669,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I30b5b39c9179790db1743d1ecd37e79e71524e34
",git fetch https://review.opendev.org/openstack/neutron-lbaas-dashboard refs/changes/95/503995/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas_dashboard/locale/ja/LC_MESSAGES/djangojs.po'],1,9a1f5515d1ee239d822d5f6dc890e98dcd3c8669,zanata/translations,"# Kyohei Moriyama <flogofrein@gmail.com>, 2017. #zanata""Project-Id-Version: neutron-lbaas-dashboard 3.0.0.0rc2.dev5\n""""POT-Creation-Date: 2017-08-23 19:55+0000\n""""PO-Revision-Date: 2017-09-14 05:42+0000\n"" ""Last-Translator: Kyohei Moriyama <flogofrein@gmail.com>\n""""X-Generator: Zanata 3.9.6\n""msgid ""Back"" msgstr """" msgid ""Inactive"" msgstr """" msgid """" ""Select a floating IP address to associate with the load balancer or a "" ""floating IP pool in which to allocate a new floating IP address."" msgstr """" ""IP"" ""IPIP"" """" msgid ""Unable to retrieve load balancer status tree."" msgstr """" ","""Project-Id-Version: neutron-lbaas-dashboard 1.0.1.dev41\n""""POT-Creation-Date: 2016-11-30 19:41+0000\n""""PO-Revision-Date: 2016-12-01 02:55+0000\n"" ""Last-Translator:   <riku_kobane@adoc.co.jp>\n""""X-Generator: Zanata 3.7.3\n""",23,5
openstack%2Fproject-config~master~I5c356f1f74381252feab0353577ebf79892e7522,openstack/project-config,master,I5c356f1f74381252feab0353577ebf79892e7522,Add mapping info for pypy and py35-nv,MERGED,2017-09-14 18:05:19.000000000,2017-09-14 19:13:17.000000000,2017-09-14 19:13:16.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-14 18:05:19.000000000', 'files': ['zuul/mapping.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/59179c3b64034aae094337d36bb1dbdb8ccf6af4', 'message': 'Add mapping info for pypy and py35-nv\n\nChange-Id: I5c356f1f74381252feab0353577ebf79892e7522\n'}]",0,504157,59179c3b64034aae094337d36bb1dbdb8ccf6af4,8,4,1,2,,,0,"Add mapping info for pypy and py35-nv

Change-Id: I5c356f1f74381252feab0353577ebf79892e7522
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/504157/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/mapping.yaml'],1,59179c3b64034aae094337d36bb1dbdb8ccf6af4,zuulv3, - old: python35-jobs-nv new: openstack-python35-jobs-nonvoting - old: pypy-jobs new: openstack-pypi-jobs ,,6,0
openstack%2Fopenstack-ansible-lxc_hosts~master~Ie7f9e9460b5e33128d4cb1b517a7b5593346e74f,openstack/openstack-ansible-lxc_hosts,master,Ie7f9e9460b5e33128d4cb1b517a7b5593346e74f,Do not install recommended packages,ABANDONED,2017-09-08 20:21:28.000000000,2017-09-14 19:12:04.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-09-08 20:21:28.000000000', 'files': ['tasks/lxc_install_apt.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/124f07e5857f6195c13d013ef089b36666287471', 'message': ""Do not install recommended packages\n\nThe LXC package list pulls in various recommended packages, which\ninclude cloud image packaging tools. Some of these packaging tools\nhave dependencies on Ceph packages.\n\nCeph packages installed at this point will be sourced from UCA\n(due to pip_install having already run on the host), which can result\nin a broken package system when the OSA ceph_client role and\nceph-ansible are configured to pull from community repos. For Pike,\nOSA is using Ceph's Jewel (10.x) release by default, where UCA is\nnow shipping Luminoux (12.x). This causes ceph-ansible to fail its\npackage installation due to the 12.x UCA sourced packages installed\nby lxc_hosts.\n\nChange-Id: Ie7f9e9460b5e33128d4cb1b517a7b5593346e74f\n""}]",0,502172,124f07e5857f6195c13d013ef089b36666287471,5,3,1,17799,,,0,"Do not install recommended packages

The LXC package list pulls in various recommended packages, which
include cloud image packaging tools. Some of these packaging tools
have dependencies on Ceph packages.

Ceph packages installed at this point will be sourced from UCA
(due to pip_install having already run on the host), which can result
in a broken package system when the OSA ceph_client role and
ceph-ansible are configured to pull from community repos. For Pike,
OSA is using Ceph's Jewel (10.x) release by default, where UCA is
now shipping Luminoux (12.x). This causes ceph-ansible to fail its
package installation due to the 12.x UCA sourced packages installed
by lxc_hosts.

Change-Id: Ie7f9e9460b5e33128d4cb1b517a7b5593346e74f
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/72/502172/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_install_apt.yml', 'vars/ubuntu-16.04.yml']",2,124f07e5857f6195c13d013ef089b36666287471,bug/1715390,lxc_hosts_install_recommends: no,,2,0
openstack%2Fnova-powervm~master~I0734d17dc4d28e7daedabffce4c41c848ebc8cfb,openstack/nova-powervm,master,I0734d17dc4d28e7daedabffce4c41c848ebc8cfb,Remove host_uuid from config drive paths,MERGED,2017-08-28 22:38:11.000000000,2017-09-14 19:08:51.000000000,2017-09-14 19:08:51.000000000,"[{'_account_id': 3}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}]","[{'number': 1, 'created': '2017-08-28 22:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/658ea5ff98a1fe1ce99deeae04888acc3b93a53a', 'message': 'WIP: Remove host_uuid from config drive paths\n\nhost_uuid is no longer required to be passed to the pypowervm APIs\ndealing with config drive and VSCSI mappings.  This allows us to remove\nthat parameter from the config drive Task chains.\n\nChange-Id: I0734d17dc4d28e7daedabffce4c41c848ebc8cfb\nWIP: UT\nWIP: CI sanity check\n'}, {'number': 2, 'created': '2017-08-29 19:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/dedb398915c0027c81ec3dba8c27dd7295ad5867', 'message': 'Remove host_uuid from config drive paths\n\nhost_uuid is no longer required to be passed to the pypowervm APIs\ndealing with config drive and VSCSI mappings.  This allows us to remove\nthat parameter from the config drive Task chains.\n\nChange-Id: I0734d17dc4d28e7daedabffce4c41c848ebc8cfb\n'}, {'number': 3, 'created': '2017-09-14 16:28:42.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/virt/powervm/tasks/storage.py', 'nova_powervm/virt/powervm/media.py', 'nova_powervm/tests/virt/powervm/test_media.py', 'nova_powervm/tests/virt/powervm/tasks/test_storage.py', 'nova_powervm/virt/powervm/live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/8c2fadba7874b4752b8182d65afabad7cf7616ac', 'message': 'Remove host_uuid from config drive paths\n\nhost_uuid is no longer required to be passed to the pypowervm APIs\ndealing with config drive and VSCSI mappings.  This allows us to remove\nthat parameter from the config drive Task chains.\n\nChange-Id: I0734d17dc4d28e7daedabffce4c41c848ebc8cfb\n'}]",0,498614,8c2fadba7874b4752b8182d65afabad7cf7616ac,16,5,3,14070,,,0,"Remove host_uuid from config drive paths

host_uuid is no longer required to be passed to the pypowervm APIs
dealing with config drive and VSCSI mappings.  This allows us to remove
that parameter from the config drive Task chains.

Change-Id: I0734d17dc4d28e7daedabffce4c41c848ebc8cfb
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/14/498614/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/driver.py', 'nova_powervm/virt/powervm/tasks/storage.py', 'nova_powervm/virt/powervm/media.py', 'nova_powervm/virt/powervm/live_migration.py']",4,658ea5ff98a1fe1ce99deeae04888acc3b93a53a,nix_host_uuid," media.ConfigDrivePowerVM(self.drvr.adapter).dlt_vopt( lpar_w.uuid, stg_ftsk=stg_ftsk, remove_mappings=False)"," media.ConfigDrivePowerVM(self.drvr.adapter, self.drvr.host_uuid ).dlt_vopt(lpar_w.uuid, stg_ftsk=stg_ftsk, remove_mappings=False)",13,22
openstack%2Ftempest~master~I97c468936465e4677591a77b98aa8296e528ed3b,openstack/tempest,master,I97c468936465e4677591a77b98aa8296e528ed3b,Prepare skip_checks as stable interface,MERGED,2017-08-23 17:26:51.000000000,2017-09-14 19:07:36.000000000,2017-09-14 19:07:36.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 10385}, {'_account_id': 12024}, {'_account_id': 17130}, {'_account_id': 20190}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-23 17:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1432123add3ba8a89add8527c258e4db9a0b6b3', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 2, 'created': '2017-08-24 08:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e66b86bfea427bdaca4413258af9e276712edf28', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 3, 'created': '2017-08-25 12:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/222679b2cb5308ff9b921f5901506c6599fc7853', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 4, 'created': '2017-09-06 16:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/079570b9d4bb008284cbf2045b82927b4797af93', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 5, 'created': '2017-09-06 20:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c77b93c383862225b3aa319231fc94bef8e24da2', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 6, 'created': '2017-09-07 09:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb784d40c5c3b7e9ee0017a882e3398a997cb3c7', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 7, 'created': '2017-09-07 11:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ded06672b921c1fd4973c6e8d715ed3d20f2d3be', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 8, 'created': '2017-09-07 18:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/29071de266653588b24d9951a6cb3d1dd84c479b', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 9, 'created': '2017-09-07 20:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/810d51ddd453d748b52b23ebec6f0120a544ae03', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 10, 'created': '2017-09-08 10:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fea67b0beb89f69b7ecb06e19c178443f689359d', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 11, 'created': '2017-09-09 07:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6b285a0112e35c01a08f3779c8f9c0ed6f68d9f2', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}, {'number': 12, 'created': '2017-09-12 21:06:34.000000000', 'files': ['tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a5440c8f90a49a7ba12bd08168fa505d7f48ef57', 'message': 'Prepare skip_checks as stable interface\n\nFix docstring and add unit tests.\n\nChange-Id: I97c468936465e4677591a77b98aa8296e528ed3b\n'}]",10,496834,a5440c8f90a49a7ba12bd08168fa505d7f48ef57,45,9,12,1921,,,0,"Prepare skip_checks as stable interface

Fix docstring and add unit tests.

Change-Id: I97c468936465e4677591a77b98aa8296e528ed3b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/496834/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/test.py', 'tempest/tests/test_test.py']",2,c1432123add3ba8a89add8527c258e4db9a0b6b3,test_module_stable," self.useFixture(fake_config.ConfigFixture()) self.patchobject(config, 'TempestConfigPrivate', fake_config.FakePrivate) @mock.patch('tempest.common.credentials_factory.is_admin_available', autospec=True, return_value=True) def test_skip_checks_admin(self, mock_iaa): identity_version = 'identity_version' class NeedAdmin(self.parent_test): credentials = ['admin'] @classmethod def get_identity_version(cls): return identity_version NeedAdmin().skip_checks() mock_iaa.assert_called_once_with('identity_version') @mock.patch('tempest.common.credentials_factory.is_admin_available', autospec=True, return_value=False) def test_skip_checks_admin_not_available(self, mock_iaa): identity_version = 'identity_version' class NeedAdmin(self.parent_test): credentials = ['admin'] @classmethod def get_identity_version(cls): return identity_version with testtools.ExpectedException(testtools.testcase.TestSkipped): NeedAdmin().skip_checks() mock_iaa.assert_called_once_with('identity_version') def test_skip_checks_identity_v2_not_available(self): cfg.CONF.set_default('api_v2', False, 'identity-feature-enabled') class NeedV2(self.parent_test): identity_version = 'v2' with testtools.ExpectedException(testtools.testcase.TestSkipped): NeedV2().skip_checks() def test_skip_checks_identity_v3_not_available(self): cfg.CONF.set_default('api_v3', False, 'identity-feature-enabled') class NeedV3(self.parent_test): identity_version = 'v3' with testtools.ExpectedException(testtools.testcase.TestSkipped): NeedV3().skip_checks()",,82,6
openstack%2Ftempest~master~Ie5d994519f9d56de423d1a0bede7ee8d703b9390,openstack/tempest,master,Ie5d994519f9d56de423d1a0bede7ee8d703b9390,Make skip_checks and setup_creds safe,MERGED,2017-08-15 18:02:19.000000000,2017-09-14 19:07:28.000000000,2017-09-14 19:07:27.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 17130}, {'_account_id': 20190}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-15 18:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5d359a34d8ad978dbfceea04d7de3e86c1528615', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 2, 'created': '2017-08-15 21:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f2e18587a179016cbd4d9aba5da38fc19e2a3fc9', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 3, 'created': '2017-08-15 23:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5905fefae0e8dd7a2b8f73360c472b1b986fda33', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 4, 'created': '2017-08-16 10:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e370037b48bfb7e41bcf737fb40733dce7bebbc0', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 5, 'created': '2017-08-16 15:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/652dbcd8d0a990fbf5782f159944ac2c3abfd08c', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 6, 'created': '2017-08-17 11:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e6d8cef3b39058e52e59ca636d6746921cb8230a', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 7, 'created': '2017-08-17 20:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c52bccc1471ce4511089ccd6396326bc826b41b', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 8, 'created': '2017-08-18 11:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8ad4985ca5e2f2155d1d96fccc38284c83f0d61', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 9, 'created': '2017-08-18 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c15693aa4ef6c3b4741e2aca3968ed6975fdf8d', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 10, 'created': '2017-08-21 21:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/632b0cf5fb77aa76e0c81928d140738b4c82c22c', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 11, 'created': '2017-08-23 10:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/93614e3898fa7568e75b3eebf15ab7f46cbd49e1', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 12, 'created': '2017-08-23 17:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a7e41ba17ee948cde53f0daf167c9085aa5b8796', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 13, 'created': '2017-08-24 08:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1375075ce95df1aba0126528548172d388303c45', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 14, 'created': '2017-08-25 12:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/144aad9b6d311ea3151ea8a8c01ad326d4d99256', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 15, 'created': '2017-09-06 16:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf4d898dcf1584fbdf1b47b216465ea40ea4487f', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 16, 'created': '2017-09-06 20:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/74851602f789635b5c002d13fbacf8f102ac1d68', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 17, 'created': '2017-09-07 09:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5779ed32903d1907078cb39b2667e53530ace3f3', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 18, 'created': '2017-09-07 11:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/07d0f7bf6ded879559fd1065565aeeaf30681513', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 19, 'created': '2017-09-07 18:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/233a9ec6b175725b96aebf71d699bd9f7d84168f', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 20, 'created': '2017-09-07 20:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e4a98b0b94417d4e11084a260018733a328a930a', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 21, 'created': '2017-09-08 10:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/401ac81b23203d7ad0e8558225f525993b5d51a4', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 22, 'created': '2017-09-09 07:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/10f8e7147a01fa52962b4f087f65a6cfde5d1528', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}, {'number': 23, 'created': '2017-09-12 21:06:34.000000000', 'files': ['tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/421dc3c744278ad8a0dc06cc0a680bcd070909ca', 'message': 'Make skip_checks and setup_creds safe\n\nThe skip_checks and setup_credentials ""fixtures"" are implemented\nin the base class. The implementation can be extended by test\nclasses but it should not be overwritten.\n\nEnforcing this by checking that the base class version has been\ninvoked. Added unit tests for it as well.\n\nChange-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390\n'}]",4,493967,421dc3c744278ad8a0dc06cc0a680bcd070909ca,73,8,23,1921,,,0,"Make skip_checks and setup_creds safe

The skip_checks and setup_credentials ""fixtures"" are implemented
in the base class. The implementation can be extended by test
classes but it should not be overwritten.

Enforcing this by checking that the base class version has been
invoked. Added unit tests for it as well.

Change-Id: Ie5d994519f9d56de423d1a0bede7ee8d703b9390
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/493967/21 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/test.py', 'tempest/tests/test_test.py']",2,5d359a34d8ad978dbfceea04d7de3e86c1528615,test_module_stable," class TestTempestBaseTestClass(base.TestCase): def setUp(self): super(TestTempestBaseTestClass, self).setUp() class ParentTest(test.BaseTestCase): def runTest(self): pass self.parent_test = ParentTest def test_super_skip_checks_not_invoked(self): class BadSkipChecks(self.parent_test): @classmethod def skip_checks(cls): pass bad_class = BadSkipChecks() with testtools.ExpectedException( RuntimeError, value_re='^.* ' + BadSkipChecks.__name__): bad_class.setUpClass() def test_super_setup_credentials_not_invoked(self): class BadSetupCredentials(self.parent_test): @classmethod def skip_checks(cls): pass bad_class = BadSetupCredentials() with testtools.ExpectedException( RuntimeError, value_re='^.* ' + BadSetupCredentials.__name__): bad_class.setUpClass() def test_grandparent_skip_checks_not_invoked(self): class BadSkipChecks(self.parent_test): @classmethod def skip_checks(cls): pass class SonOfBadSkipChecks(BadSkipChecks): pass bad_class = SonOfBadSkipChecks() with testtools.ExpectedException( RuntimeError, value_re='^.* ' + SonOfBadSkipChecks.__name__): bad_class.setUpClass()",,73,1
openstack%2Ftempest~master~I4eab8f2a722b47edc20e4aab0ef453bec16842f3,openstack/tempest,master,I4eab8f2a722b47edc20e4aab0ef453bec16842f3,Prepare network_resources as a stable interface,MERGED,2017-08-14 10:58:09.000000000,2017-09-14 19:07:16.000000000,2017-09-14 19:07:16.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 20190}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-14 10:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/eabd1694cb9fd199e745d303ebaf50660d91acce', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 2, 'created': '2017-08-14 13:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/805ac06ba48abb46b88fa780d022926d2ce68b52', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 3, 'created': '2017-08-14 16:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6792220b3e3252f73cece3da6a2a64a13385bcbd', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 4, 'created': '2017-08-15 06:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7517b35e52e2b5b5702fba7adee7399a881702d9', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 5, 'created': '2017-08-15 09:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3fb60531ab27b6ee61fe171d4e0c280f264e62d8', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 6, 'created': '2017-08-15 09:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b6badc9058bed48f302f90c1c6413c715d31b4d', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 7, 'created': '2017-08-15 10:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/32704abd9ad70af5a361c01cd8889dd12432e62b', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 8, 'created': '2017-08-15 18:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/41af252d2353f23331730884146157f5f4e1c957', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 9, 'created': '2017-08-15 21:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/caf29a7fe746172faa2fdb51314356f4c3d40b84', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 10, 'created': '2017-08-15 23:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9cf862939b7a94b3d1d57d8ca6e61dde47a4f2f', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 11, 'created': '2017-08-16 10:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b002c9e75b5c4c18657e4ad4b1d18dae06b5a644', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 12, 'created': '2017-08-16 15:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f270f33cf4424f683b47ec65427dcf3336340d6', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 13, 'created': '2017-08-17 11:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e4fdf39f004d246c94ae364e011ee0593d1bff5b', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 14, 'created': '2017-08-17 20:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ae5677edc0ba48776df0a78cd62993fc9dd01ae6', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 15, 'created': '2017-08-18 11:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c128e0b39a1b947b5ae6d06c7a786ff0deeadb84', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 16, 'created': '2017-08-18 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25e685cd1571108109cd8a73dd81b28f1c06bc29', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 17, 'created': '2017-08-21 21:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/87e32c26c0a3c6359fa4184595af33842be8eca2', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 18, 'created': '2017-08-23 10:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/552187fe8d95e061354973ac542ce5cadb0fa78e', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 19, 'created': '2017-08-23 17:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8f664e4ce589a0112fcd1a9e733025f4c125e3b4', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 20, 'created': '2017-08-24 08:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aa10e8b9cdd97e165086bbacc3edc4df11730688', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 21, 'created': '2017-08-25 12:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9998a2f5d48292b6cda4ada302a3c18d61da2e10', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 22, 'created': '2017-09-06 16:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f2a3478294ee94e59ab1777454440192c16cdf9', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 23, 'created': '2017-09-06 20:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f855b8ac8cf7259d3c9217d238398bc7af4e9fb', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 24, 'created': '2017-09-07 09:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f64c3ad07ab2ab8a1fa6951cc2821d1028000344', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 25, 'created': '2017-09-07 11:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/36bba529347adb7dda63fc2aabc1e9b64277e4ab', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 26, 'created': '2017-09-07 18:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce243df7e724ea8dbcc35302ba9ab04a14a08403', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 27, 'created': '2017-09-07 20:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/56e72a9907245e35a6cffeefbff195ac61fe2c42', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 28, 'created': '2017-09-08 10:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c0d1c5fd2dce210211b02e4a86583ac4574cf4a7', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 29, 'created': '2017-09-09 07:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d98941d3e07c1489f3d382d2de1777127ab3f2c', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}, {'number': 30, 'created': '2017-09-12 21:06:34.000000000', 'files': ['tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bcbf1af1e3ac5f6eaddbfd7171e3c21bc2ee2bd2', 'message': ""Prepare network_resources as a stable interface\n\nThe network_resources attribute should not be a public interface,\nso renaming it to _network_resources. Document set_network_resources\nbetter; ensure it's only invoked before super's setup_credentials is\ninvoked to avoid the call being ignored and generate errors that\nmay be difficult to debug.\n\nChange-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n""}]",23,493509,bcbf1af1e3ac5f6eaddbfd7171e3c21bc2ee2bd2,94,8,30,1921,,,0,"Prepare network_resources as a stable interface

The network_resources attribute should not be a public interface,
so renaming it to _network_resources. Document set_network_resources
better; ensure it's only invoked before super's setup_credentials is
invoked to avoid the call being ignored and generate errors that
may be difficult to debug.

Change-Id: I4eab8f2a722b47edc20e4aab0ef453bec16842f3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/493509/11 && git format-patch -1 --stdout FETCH_HEAD,['tempest/test.py'],1,eabd1694cb9fd199e745d303ebaf50660d91acce,test_module_stable," # Network resources to be provisioned for the requested test credentials. # Only used with the dynamic credentials provider. _network_resources = {} cls._setup_credentials = 'invoked' name=cls.__name__, network_resources=cls._network_resources, The dynamic credentials provider can provision network resources for each user/project that is provisioned. By default no networking will be setup; this methods allows tests to define which specific network resources to be provisioned. Credentials are provisioned as part of the class setup fixture, during the `setup_credentials` step. For this to be effective this helper must be invoked before super's `setup_credentials` is executed. Example:: @classmethod def setup_credentials(cls): cls.set_network_resources(network=True, router=True, subnet=True, dhcp=True) super(MyTest, cls).setup_credentials() # If this is invoked after the credentials are setup, it won't take # any effect. To avoid this situation, fail the test in case this # invoked too late in the test lifecycle. if hasattr(cls, '_setup_credentials'): cls.fail(""set_network_resources invoked after setup_credentials"" "" on the super class has been already invoked. For"" "" set_network_resources to have effect please invoke it"" "" before the call to super().setup_credentials"") # Network resources should be set only once from callers # in the leaf class. if not cls._network_resources: cls._network_resources = {"," network_resources = {} name=cls.__name__, network_resources=cls.network_resources, # network resources should be set only once from callers # in the leaf class if not cls.network_resources: cls.network_resources = {",36,6
openstack%2Ftempest~master~I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad,openstack/tempest,master,I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad,Make validation_resources a stable interface,MERGED,2017-08-09 22:27:18.000000000,2017-09-14 19:07:08.000000000,2017-09-14 19:07:08.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-08-09 22:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/336b95cd05d9a1998ecbbf85ad1f85d1dc49e5e5', 'message': 'WIP Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 2, 'created': '2017-08-10 15:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4842882c956b64a1d3438fe19c9f22724da1c24', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 3, 'created': '2017-08-10 15:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/353cb9e7ac8be3425907bd848bd938814520f4f7', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 4, 'created': '2017-08-10 22:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c69f823f06e995203518779d12d0064e08f59d89', 'message': 'WIP Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nUnit test are still WIP.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 5, 'created': '2017-08-10 23:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b13e0180691c63edc23490fb4fff9f0f53d9270d', 'message': 'WIP Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nUnit test are still WIP.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 6, 'created': '2017-08-11 09:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/29f2f755a50f92780c4e183df1291a0c7fe431dc', 'message': 'WIP Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nUnit test are still WIP.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 7, 'created': '2017-08-11 16:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/601033f20f7b9a8c5b96f7b3d538d721180fa0da', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 8, 'created': '2017-08-11 20:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/caf305fa7b9753dbb6a8634f17ca9173ec76927c', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 9, 'created': '2017-08-12 09:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a36b3f0c3f1f90a55f52b423f21196c84e3ba443', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 10, 'created': '2017-08-12 12:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4b2b2433a5906b4d238c9de872c3f1d8ef9dfd7', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 11, 'created': '2017-08-12 13:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/acce4c9f45701d4ca221c0f6ca169d917afd8069', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 12, 'created': '2017-08-12 20:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f132bdd004a270a612887bcc6cca75c072649d1', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 13, 'created': '2017-08-14 09:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1919f53c8bf1b441dc782b13e542afa827c586bb', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 14, 'created': '2017-08-14 13:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e124d08d43e23133ba9dd2b4f475c74a86e39f57', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 15, 'created': '2017-08-14 16:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d511c9be1833e024bd01738ee372c6149e140792', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 16, 'created': '2017-08-15 06:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/557545d9de35057cfb96d2b15838c33f4d4f8191', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 17, 'created': '2017-08-15 09:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/743e34c54db5d3b23975be98d99c43af0c32a79e', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 18, 'created': '2017-08-15 18:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/320d88a6459cd94e88ad78d81b57938bdce22669', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 19, 'created': '2017-08-15 23:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/60da6778f4b43dc64777592ca5ff35f587dec0c0', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 20, 'created': '2017-08-16 10:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9d0fd9e0ec13b6e6e06da4f5e29aebedd05a9d0', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 21, 'created': '2017-08-16 15:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5607cdd459a410af6a26f397b44dc5ea745b2ad9', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 22, 'created': '2017-08-17 11:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/457a798761abda0be6aeb954ecd95eb4cd73cecd', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 23, 'created': '2017-08-17 20:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8e37382e363018007c513da1cb99d6aefd000e2', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 24, 'created': '2017-08-18 11:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/24f4ea482db93a8fdc2b900fba6849c20ce4db62', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 25, 'created': '2017-08-18 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/683ad2bd8ba7af9a420e707a4ef5d90115eb7fa5', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 26, 'created': '2017-08-21 21:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e59b01c511d466c9462cccfca91132e703d1e57', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 27, 'created': '2017-08-23 10:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/adeed27eb953f2d63e864bf405cb57a0fb007630', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 28, 'created': '2017-08-24 08:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f5428eb6f1bef4a48900680d2da06ce7fe77944', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 29, 'created': '2017-08-25 12:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bcb279be61a905fab93f8b03f57aa307d01b083d', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 30, 'created': '2017-09-06 16:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7bf1a421d59ed78f720f120bb9c9e257d6ace58', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 31, 'created': '2017-09-06 20:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c2ccfd127b2080457f655f3ce53d0a4123d9a5b', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 32, 'created': '2017-09-07 09:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc2126080a043769e9ea83f0e2851778b4e61906', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 33, 'created': '2017-09-07 11:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6ae0fdcf82678649bef2602613562c194a99df4d', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 34, 'created': '2017-09-07 18:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e17422e6ef8b262cfff49e603232ce178ca8434', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 35, 'created': '2017-09-07 20:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8efbd8fff0a8dfd582c035152d6b878ccfe4d980', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 36, 'created': '2017-09-08 10:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b508bc3899fb287c19f83096bb4420b183db5b68', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 37, 'created': '2017-09-09 07:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/67d6e423f50d0432a7212c6bf89133edd0f3407f', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}, {'number': 38, 'created': '2017-09-12 21:06:34.000000000', 'files': ['tempest/tests/lib/common/test_validation_resources.py', 'releasenotes/notes/add-validation-resources-to-lib-dc2600c4324ca4d7.yaml', 'doc/source/library/validation_resources.rst', 'doc/source/library.rst', 'tempest/lib/common/validation_resources.py', 'tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0477accd328220c725bdf227b25cbe8ce2862e72', 'message': 'Make validation_resources a stable interface\n\nMove the module to tempest.lib, add unit tests, release notes and\nupdate imports.\n\nChange-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad\n'}]",9,492313,0477accd328220c725bdf227b25cbe8ce2862e72,108,10,38,1921,,,0,"Make validation_resources a stable interface

Move the module to tempest.lib, add unit tests, release notes and
update imports.

Change-Id: I76b3b8e9a83bd83a6b5742b6d2ceb84642f653ad
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/492313/33 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/common/test_validation_resources.py', 'releasenotes/notes/add-validation-resources-to-lib-dc2600c4324ca4d7.yaml', 'tempest/lib/common/validation_resources.py', 'tempest/test.py']",4,336b95cd05d9a1998ecbbf85ad1f85d1dc49e5e5,test_module_stable,import tempest.lib.common.validation_resources as vresources,import tempest.common.validation_resources as vresources,35,1
openstack%2Ftempest~master~I1106e40c6d7483f66d645f3bb560c6d74a612d0f,openstack/tempest,master,I1106e40c6d7483f66d645f3bb560c6d74a612d0f,Stop implicit validation_resources provisioning,MERGED,2017-08-10 15:27:22.000000000,2017-09-14 19:04:52.000000000,2017-09-14 19:04:52.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-10 15:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d842fe99ac1e0ebeda78a7fa9bc110e291ad911d', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 2, 'created': '2017-08-10 15:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bfa484fd6cf5f7bccf34f30963248f7e115a999f', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 3, 'created': '2017-08-10 22:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6ebfe6120f2233553769cca92295c31627bc7c0b', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 4, 'created': '2017-08-10 23:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a440973950a0503b482b6abcea687ad910cf08b0', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 5, 'created': '2017-08-11 09:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/671c045c35131a7341e5044cfec9874c044205a6', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 6, 'created': '2017-08-11 13:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b15f0e47c6b1c3c46ce4dd1e9228270df1939648', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 7, 'created': '2017-08-11 20:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2773adde42aa6937b4467ca926a5f008c4f7f447', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 8, 'created': '2017-08-12 09:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/194c8cf5632c438be26f5ce94abaebe0f0ad16c8', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 9, 'created': '2017-08-12 12:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/daeb9c9975e2a054ff62fec95d9a509379f4bdfd', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 10, 'created': '2017-08-12 20:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc0c8f00d18d5327e4d7d1066909095d816dce2f', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 11, 'created': '2017-08-14 09:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/295924d0f1616d89dafd40409203f630d2ad1307', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 12, 'created': '2017-08-14 13:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f35279c580d01da98d4c4168e03008bc55ae150', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 13, 'created': '2017-08-14 16:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e2a1766ab0ce33bd948c41e41a7c1450bb25f7c', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 14, 'created': '2017-08-15 06:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/be8ec7894f62624d0e46fcc6568d1e216b3ab520', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 15, 'created': '2017-08-15 09:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0dc12346e6d32a44666717f606e28b0f0ecf4209', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 16, 'created': '2017-08-15 18:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d89342ad114f27a390a71cb9f7347e9be25c513', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 17, 'created': '2017-08-15 23:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/08e6e8404499bdc8109e7a5c8e684eb4f5c55259', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 18, 'created': '2017-08-16 10:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b04d85d14e4df9b89e33f0cbf2311714e7bd55f', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 19, 'created': '2017-08-17 09:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/88ac8c40fe21d433e81c14870caa09c80476c5f0', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 20, 'created': '2017-08-17 11:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a325002174adb5fce1c3b8bc63b33169a4af5fb5', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 21, 'created': '2017-08-17 20:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9916c9c4d09152800279bd67a805f815ec379e04', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 22, 'created': '2017-08-18 11:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/865b7c198ac8702890a500250c72af101b8c6387', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 23, 'created': '2017-08-18 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4dc6d44ea1408ab4b0b9a34b442fc7019562c7b4', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 24, 'created': '2017-08-21 21:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/63d30fce190d281cf1097bc4ba8566ce8d0f3c6b', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 25, 'created': '2017-08-24 08:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0118bcf730616abdb0ad5191b852ed28882cd39', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides an helper\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- storing provisioned resources for automatic cleanup at class\n  teardown\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 26, 'created': '2017-09-06 16:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/305e0346dfac8d5771d215bf58bbc8f55be9e045', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 27, 'created': '2017-09-06 20:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c26a4621fab64f22cf40e273257b8b10cea4fd0', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 28, 'created': '2017-09-07 09:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ec9ae2b4eb9526eaf5ce4c6c8901cd491881b1e0', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\nOther helpers are affected by this change since they cannot pull\nvalidation resource from class anymore safely, and they have\nbeen updated to accept validation resources as input.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 29, 'created': '2017-09-07 11:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ceb53cd487587b075ced1e6001d76c08a8e8c2be', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\nOther helpers are affected by this change since they cannot pull\nvalidation resource from class anymore safely, and they have\nbeen updated to accept validation resources as input.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 30, 'created': '2017-09-07 18:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c4368a68e582114613f33bd2745dbc9e55b05f90', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\nOther helpers are affected by this change since they cannot pull\nvalidation resource from class anymore safely, and they have\nbeen updated to accept validation resources as input.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 31, 'created': '2017-09-07 20:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bdc7b728fb4cc20a41797701081a156aa4d3c8e6', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\nOther helpers are affected by this change since they cannot pull\nvalidation resource from class anymore safely, and they have\nbeen updated to accept validation resources as input.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 32, 'created': '2017-09-08 10:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/789bd7cf33c714647e4de5278b32f0ca2d3ae1f5', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\nOther helpers are affected by this change since they cannot pull\nvalidation resource from class anymore safely, and they have\nbeen updated to accept validation resources as input.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 33, 'created': '2017-09-09 07:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0da876aa41110dd0680d4d6ee73b5cf44ef55e1b', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\nOther helpers are affected by this change since they cannot pull\nvalidation resource from class anymore safely, and they have\nbeen updated to accept validation resources as input.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}, {'number': 34, 'created': '2017-09-12 21:06:34.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/admin/test_create_server.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/api/compute/base.py', 'tempest/api/compute/servers/test_server_personality.py', 'tempest/common/validation_resources.py', 'tempest/common/compute.py', 'tempest/api/compute/volumes/test_attach_volume.py', 'tempest/api/compute/servers/test_device_tagging.py', 'tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f416dd25a641de016bc081aeefb0f7a701a7a43', 'message': ""Stop implicit validation_resources provisioning\n\nThe provisioning of validation resources is unreadable and hard to\nuse. Tests have to call an helper before super's resource_setup is\ninvoked and they will find resources in a dictionary in a class\nattribute.\n\nChanging to a model where the test.py base class provides helpers\nthat takes care of common tasks:\n- pulling the right parameters from configuration\n- scheduling cleanup\n\nThere are two helpers available, one to be used when validation\nresources are provisioned for a server created at class setup time;\nthe second one shall be used with servers provisioned durint tests\nor test setup.\n\nThe new helper returns the provisioned resources to the test.\nOther helpers are affected by this change since they cannot pull\nvalidation resource from class anymore safely, and they have\nbeen updated to accept validation resources as input.\n\nChange-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f\n""}]",62,492577,9f416dd25a641de016bc081aeefb0f7a701a7a43,113,10,34,1921,,,0,"Stop implicit validation_resources provisioning

The provisioning of validation resources is unreadable and hard to
use. Tests have to call an helper before super's resource_setup is
invoked and they will find resources in a dictionary in a class
attribute.

Changing to a model where the test.py base class provides helpers
that takes care of common tasks:
- pulling the right parameters from configuration
- scheduling cleanup

There are two helpers available, one to be used when validation
resources are provisioned for a server created at class setup time;
the second one shall be used with servers provisioned durint tests
or test setup.

The new helper returns the provisioned resources to the test.
Other helpers are affected by this change since they cannot pull
validation resource from class anymore safely, and they have
been updated to accept validation resources as input.

Change-Id: I1106e40c6d7483f66d645f3bb560c6d74a612d0f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/492577/20 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/admin/test_create_server.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/api/compute/servers/test_server_personality.py', 'tempest/api/compute/volumes/test_attach_volume.py', 'tempest/api/compute/servers/test_device_tagging.py', 'tempest/test.py']",7,d842fe99ac1e0ebeda78a7fa9bc110e291ad911d,test_module_stable,import tempest.lib.common.validation_resources as vr,import tempest.common.validation_resources as vr,7,9
openstack%2Fdragonflow~master~I0033bb502cae0d668dbe8d420fd7986adb72ebb4,openstack/dragonflow,master,I0033bb502cae0d668dbe8d420fd7986adb72ebb4,Gate fix: Remove import neutron.plugins.ml2.config,MERGED,2017-09-14 06:49:12.000000000,2017-09-14 18:57:32.000000000,2017-09-14 18:57:32.000000000,"[{'_account_id': 3}, {'_account_id': 20229}, {'_account_id': 23766}, {'_account_id': 26131}]","[{'number': 1, 'created': '2017-09-14 06:49:12.000000000', 'files': ['dragonflow/tests/unit/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/84647399d25d53ebab4266abde87a0ba49317621', 'message': 'Gate fix: Remove import neutron.plugins.ml2.config\n\nFix ml2 plugin config import Commit\nIbc5a9ab268578c243ef13f7e0041bacd6c0c410b moved the ml2 plugin config\nfile, which breaks unit tests\n\nDepends on same fix in networking-sfc\n\nChange-Id: I0033bb502cae0d668dbe8d420fd7986adb72ebb4\nDepends-On: Ib7541abb0bee619b87fbcc7fee5d5095255e1ec7\nCloses-Bug: #1716978\n'}]",0,503973,84647399d25d53ebab4266abde87a0ba49317621,8,4,1,20229,,,0,"Gate fix: Remove import neutron.plugins.ml2.config

Fix ml2 plugin config import Commit
Ibc5a9ab268578c243ef13f7e0041bacd6c0c410b moved the ml2 plugin config
file, which breaks unit tests

Depends on same fix in networking-sfc

Change-Id: I0033bb502cae0d668dbe8d420fd7986adb72ebb4
Depends-On: Ib7541abb0bee619b87fbcc7fee5d5095255e1ec7
Closes-Bug: #1716978
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/73/503973/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/tests/unit/test_mech_driver.py'],1,84647399d25d53ebab4266abde87a0ba49317621,bug/1716978,"from dragonflow import conf as cfg cfg.CONF.set_override('extension_drivers', self._extension_drivers, group='ml2') cfg.CONF.set_override('extension_drivers', self._extension_drivers, group='ml2')","from neutron.plugins.ml2 import config config.cfg.CONF.set_override('extension_drivers', self._extension_drivers, group='ml2') config.cfg.CONF.set_override('extension_drivers', self._extension_drivers, group='ml2')",7,7
openstack%2Fzaqar~stable%2Focata~Ie91b3c029776c6142d36d8a058fd96d2c4d75f6f,openstack/zaqar,stable/ocata,Ie91b3c029776c6142d36d8a058fd96d2c4d75f6f,Fix Py27/35 jenkins failure,ABANDONED,2017-09-08 04:13:10.000000000,2017-09-14 18:54:52.000000000,,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 15054}, {'_account_id': 21387}, {'_account_id': 22484}]","[{'number': 1, 'created': '2017-09-08 04:13:10.000000000', 'files': ['zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/fcd56dd405183672a5756b97fe803577d610dd02', 'message': 'Fix Py27/35 jenkins failure\n\nthe newest pymongo lib break our CI, because that we\ndid the circular reference for db table creation.\n\nThis patch fixd the circular reference bug.\n\nChange-Id: Ie91b3c029776c6142d36d8a058fd96d2c4d75f6f\n(cherry picked from commit 546375844a9f0d7dcb2f447896499a128b6dce6d)\n'}]",0,501943,fcd56dd405183672a5756b97fe803577d610dd02,7,5,1,6484,,,0,"Fix Py27/35 jenkins failure

the newest pymongo lib break our CI, because that we
did the circular reference for db table creation.

This patch fixd the circular reference bug.

Change-Id: Ie91b3c029776c6142d36d8a058fd96d2c4d75f6f
(cherry picked from commit 546375844a9f0d7dcb2f447896499a128b6dce6d)
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/43/501943/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py']",2,fcd56dd405183672a5756b97fe803577d610dd02,FIX_CI," new_uri = ""%s/%s"" % (uri, db_name) doc = {'weight': 100, 'uri': new_uri, 'options': options}"," uri = ""%s/%s"" % (uri, db_name) doc = {'weight': 100, 'uri': uri, 'options': options}",5,4
openstack%2Fopenstack-ansible-ceph_client~master~I76766865a03495e982fe71fc1c5f068f1d453954,openstack/openstack-ansible-ceph_client,master,I76766865a03495e982fe71fc1c5f068f1d453954,Bump the Ceph stable release to Luminous,MERGED,2017-09-13 21:17:43.000000000,2017-09-14 18:53:40.000000000,2017-09-14 17:17:51.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-13 21:17:43.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/aaad1b3af67e19ab59582977ada26f8512be92bf', 'message': 'Bump the Ceph stable release to Luminous\n\nChange-Id: I76766865a03495e982fe71fc1c5f068f1d453954\n'}]",0,503827,aaad1b3af67e19ab59582977ada26f8512be92bf,8,3,1,17799,,,0,"Bump the Ceph stable release to Luminous

Change-Id: I76766865a03495e982fe71fc1c5f068f1d453954
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/27/503827/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,aaad1b3af67e19ab59582977ada26f8512be92bf,ceph-luminous,ceph_stable_release: luminous,ceph_stable_release: jewel,1,1
openstack%2Fopenstack-ansible-os_nova~master~I72d70d3621e5446c70008f6d680c7e315b05e150,openstack/openstack-ansible-os_nova,master,I72d70d3621e5446c70008f6d680c7e315b05e150,Fix live migration on Pike and later,MERGED,2017-09-11 14:08:02.000000000,2017-09-14 18:46:38.000000000,2017-09-14 15:07:32.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-11 14:08:02.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/12e09a3402cb810c53188a94ad1c820086d8e302', 'message': 'Fix live migration on Pike and later\n\nThe live_migration_uri was removed in\nIfea82dc03a859356eb55b097aa5747e3fa0c40ba since it is currently a\ndeprecated config option. However, nova has not adequately implemented\nthe replacement config vars for Pike, so the deprecated option must\nbe used to configure live migration with SSH settings[1].\n\nThe deprecated option can be removed once the nova bug is resolved.\n\nThis also pulls in the change from Ia389e78994da0f5f1cd99edeafeef13009906621\nwhich is needed to perform SSH tunnelled migrations.\n\n[1] https://bugs.launchpad.net/nova/+bug/1671288\n\nChange-Id: I72d70d3621e5446c70008f6d680c7e315b05e150\n'}]",0,502477,12e09a3402cb810c53188a94ad1c820086d8e302,10,3,1,17799,,,0,"Fix live migration on Pike and later

The live_migration_uri was removed in
Ifea82dc03a859356eb55b097aa5747e3fa0c40ba since it is currently a
deprecated config option. However, nova has not adequately implemented
the replacement config vars for Pike, so the deprecated option must
be used to configure live migration with SSH settings[1].

The deprecated option can be removed once the nova bug is resolved.

This also pulls in the change from Ia389e78994da0f5f1cd99edeafeef13009906621
which is needed to perform SSH tunnelled migrations.

[1] https://bugs.launchpad.net/nova/+bug/1671288

Change-Id: I72d70d3621e5446c70008f6d680c7e315b05e150
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/77/502477/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,12e09a3402cb810c53188a94ad1c820086d8e302,live-migration-uri,"live_migration_uri = ""qemu+ssh://nova@%s/system?no_verify=1&keyfile={{ nova_system_home_folder }}/.ssh/id_rsa"" live_migration_tunnelled = True",,2,0
openstack%2Fproject-config~master~I613abef49d2e3234e9994953dc8075bdbb3685bf,openstack/project-config,master,I613abef49d2e3234e9994953dc8075bdbb3685bf,Use https for logs.openstack.org,MERGED,2017-09-11 04:42:49.000000000,2017-09-14 18:44:12.000000000,2017-09-14 18:44:12.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 13252}]","[{'number': 1, 'created': '2017-09-11 04:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d0f25b14ba012eb9b6792f03d811bb01894a17b', 'message': ""Use https for logs.openstack.org\n\nWe have a certificate, so let's use https.\n\nChange-Id: I613abef49d2e3234e9994953dc8075bdbb3685bf\n""}, {'number': 2, 'created': '2017-09-11 17:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e6c27c96ee936f3c2b0d59848219d82d523c8f7', 'message': ""Use https for logs.openstack.org\n\nWe have a certificate, so let's use https.\n\nChange-Id: I613abef49d2e3234e9994953dc8075bdbb3685bf\n""}, {'number': 3, 'created': '2017-09-12 14:07:44.000000000', 'files': ['playbooks/base-minimal/post-logs.yaml', 'playbooks/base/pre.yaml', 'playbooks/base-test/pre.yaml', 'jenkins/jobs/macros.yaml', 'playbooks/base/post-logs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1f57c9c327778c1e812bc27633dde1106bc8904c', 'message': ""Use https for logs.openstack.org\n\nWe have a certificate, so let's use https.\n\nChange-Id: I613abef49d2e3234e9994953dc8075bdbb3685bf\n""}]",0,502387,1f57c9c327778c1e812bc27633dde1106bc8904c,16,5,3,6547,,,0,"Use https for logs.openstack.org

We have a certificate, so let's use https.

Change-Id: I613abef49d2e3234e9994953dc8075bdbb3685bf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/502387/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/base-minimal/post-logs.yaml', 'playbooks/base/pre.yaml', 'playbooks/base-test/pre.yaml', 'jenkins/jobs/macros.yaml', 'playbooks/base/post-logs.yaml', 'playbooks/base-test/post-logs.yaml']",6,2d0f25b14ba012eb9b6792f03d811bb01894a17b,https_logs," zuul_log_url: ""https://logs.openstack.org"""," zuul_log_url: ""http://logs.openstack.org""",6,6
openstack%2Fcharm-swift-proxy~master~I79c1be12f680c446d556dc16e9dfbd60a7d9db38,openstack/charm-swift-proxy,master,I79c1be12f680c446d556dc16e9dfbd60a7d9db38,"Revert ""Ensure storage hooks observe disable-ring-rebalance""",MERGED,2017-09-12 22:09:38.000000000,2017-09-14 18:42:35.000000000,2017-09-14 18:42:35.000000000,"[{'_account_id': 3}, {'_account_id': 6737}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-09-12 22:09:38.000000000', 'files': ['hooks/swift_hooks.py', 'lib/swift_utils.py', 'unit_tests/test_swift_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/655d5be16a3e9e852af5c7a5665c532107eeef46', 'message': 'Revert ""Ensure storage hooks observe disable-ring-rebalance""\n\nThis reverts commit 1cf5ea71d0895556bdfd69ae4302ebcca441289a which\nis not required as the should_balance function already inspects\nthe configuration option that enforces ring balancing via actions.\n\nChange-Id: I79c1be12f680c446d556dc16e9dfbd60a7d9db38\n'}]",0,503365,655d5be16a3e9e852af5c7a5665c532107eeef46,7,3,1,935,,,0,"Revert ""Ensure storage hooks observe disable-ring-rebalance""

This reverts commit 1cf5ea71d0895556bdfd69ae4302ebcca441289a which
is not required as the should_balance function already inspects
the configuration option that enforces ring balancing via actions.

Change-Id: I79c1be12f680c446d556dc16e9dfbd60a7d9db38
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/65/503365/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/swift_hooks.py', 'lib/swift_utils.py', 'unit_tests/test_swift_utils.py']",3,655d5be16a3e9e852af5c7a5665c532107eeef46,revert-superfluous-stuff,," mock_balance_rings.reset_mock() swift_utils.update_rings(min_part_hours=10, rebalance=False) self.assertTrue(mock_get_min_hours.called) self.assertTrue(mock_set_min_hours.called) self.assertFalse(mock_balance_rings.called) ",4,16
openstack%2Fpython-zunclient~master~I45a5f25db777312f3285829d407822aac8d778f2,openstack/python-zunclient,master,I45a5f25db777312f3285829d407822aac8d778f2,Add attach network CLI,MERGED,2017-09-08 01:52:42.000000000,2017-09-14 18:36:01.000000000,2017-09-14 18:36:01.000000000,"[{'_account_id': 3}, {'_account_id': 8264}, {'_account_id': 11536}, {'_account_id': 16277}, {'_account_id': 23365}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-08 01:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/7db297c9eaf961b59ef20538d55e5a28d67df311', 'message': '[WIP]Add attach network CLI\n\nChange-Id: I45a5f25db777312f3285829d407822aac8d778f2\nPartially-Implements: blueprint network-rest-api\n'}, {'number': 2, 'created': '2017-09-12 01:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/d2354033506b28bd57ce11354127f2e15332e26e', 'message': '[WIP]Add attach network CLI\n\nChange-Id: I45a5f25db777312f3285829d407822aac8d778f2\nDepends-On: Ie05b6328449406769be3f5ce02448389bea11473\nPartially-Implements: blueprint network-rest-api\n'}, {'number': 3, 'created': '2017-09-12 06:29:52.000000000', 'files': ['zunclient/v1/containers_shell.py', 'zunclient/tests/unit/test_shell.py', 'setup.cfg', 'zunclient/tests/unit/v1/test_containers.py', 'zunclient/osc/v1/containers.py', 'zunclient/api_versions.py', 'zunclient/osc/plugin.py', 'zunclient/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/4da1666dbcf2500338573759275e1bff96d4995e', 'message': 'Add attach network CLI\n\nChange-Id: I45a5f25db777312f3285829d407822aac8d778f2\nDepends-On: Ie05b6328449406769be3f5ce02448389bea11473\nPartially-Implements: blueprint network-rest-api\n'}]",2,501920,4da1666dbcf2500338573759275e1bff96d4995e,18,6,3,8264,,,0,"Add attach network CLI

Change-Id: I45a5f25db777312f3285829d407822aac8d778f2
Depends-On: Ie05b6328449406769be3f5ce02448389bea11473
Partially-Implements: blueprint network-rest-api
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/20/501920/2 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/containers_shell.py', 'zunclient/tests/unit/test_shell.py', 'setup.cfg', 'zunclient/tests/unit/v1/test_containers.py', 'zunclient/osc/v1/containers.py', 'zunclient/api_versions.py', 'zunclient/osc/plugin.py', 'zunclient/v1/containers.py']",8,7db297c9eaf961b59ef20538d55e5a28d67df311,bp/network-rest-api," def network_attach(self, container, network): return self._action(container, '/network_attach', qparams={'network': network})",,83,6
openstack%2Ffreezer~master~I4a398b2ea3023250905208f35996015f5a5d5e84,openstack/freezer,master,I4a398b2ea3023250905208f35996015f5a5d5e84,Migrating documentation to the new style,MERGED,2017-09-13 21:04:32.000000000,2017-09-14 18:21:17.000000000,2017-09-14 18:21:17.000000000,"[{'_account_id': 3}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 15334}, {'_account_id': 16768}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-09-13 21:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/6d87122166f7c54a1b71e8962f4c7ece444ea3a0', 'message': 'Migrating documentation to the new style\n\nChange-Id: I4a398b2ea3023250905208f35996015f5a5d5e84\n'}, {'number': 2, 'created': '2017-09-13 22:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/051ffc5492cbe33304bd897e927b8fe0391d40aa', 'message': 'Migrating documentation to the new style\n\nChange-Id: I4a398b2ea3023250905208f35996015f5a5d5e84\n'}, {'number': 3, 'created': '2017-09-14 16:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/fee7dad36cf90ea6e3ac1e8f6aa033686339fd61', 'message': 'Migrating documentation to the new style\n\nChange-Id: I4a398b2ea3023250905208f35996015f5a5d5e84\n'}, {'number': 4, 'created': '2017-09-14 16:13:53.000000000', 'files': ['doc/source/install/index.rst', 'doc/source/install/get_started.rst', 'install-guide/source/conf.py', 'doc/source/install/client_structure.rst', 'doc/source/install/devstack_plugin.rst', 'doc/source/install/install-ubuntu.rst', 'doc/source/contributor/index.rst', 'doc/source/install/actions.rst', 'doc/source/install/metadata_structure.rst', 'doc/source/install/common_configure.rst', 'doc/source/install/next-steps.rst', 'doc/source/install/api_routes.rst', 'doc/source/install/db-install.rst', 'doc/source/install/api_documents.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/known_issues.rst', 'doc/source/install/jobs.rst', 'doc/source/conf.py', 'doc/source/_static/freezer.conf.sample', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst', 'doc/source/install/sessions.rst', 'doc/source/index.rst', 'doc/source/install/verify.rst', 'doc/source/install/install.rst', 'freezer/__init__.py', 'etc/scheduler.conf.sample', 'tox.ini', 'doc/source/install/install_agent.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/54005e50da77551085663c4f7916bc9e0bdc1043', 'message': 'Migrating documentation to the new style\n\nChange-Id: I4a398b2ea3023250905208f35996015f5a5d5e84\n'}]",19,503820,54005e50da77551085663c4f7916bc9e0bdc1043,16,6,4,13940,,,0,"Migrating documentation to the new style

Change-Id: I4a398b2ea3023250905208f35996015f5a5d5e84
",git fetch https://review.opendev.org/openstack/freezer refs/changes/20/503820/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'doc/source/user/conf.py', 'doc/source/install/get_started.rst', 'doc/source/install/client_structure.rst', 'doc/source/install/conf.py', 'doc/source/install/devstack_plugin.rst', 'doc/source/install/install-ubuntu.rst', 'doc/source/contributor/index.rst', 'doc/source/install/actions.rst', 'doc/source/install/metadata_structure.rst', 'doc/source/install/common_configure.rst', 'doc/source/install/next-steps.rst', 'doc/source/install/api_routes.rst', 'doc/source/install/db-install.rst', 'doc/source/install/api_documents.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/known_issues.rst', 'doc/source/install/jobs.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst', 'doc/source/admin/conf.py', 'doc/source/install/sessions.rst', 'doc/source/install/verify.rst', 'doc/source/install/install.rst', 'etc/scheduler.conf.sample', 'tox.ini', 'doc/source/install/install_agent.rst']",27,6d87122166f7c54a1b71e8962f4c7ece444ea3a0,doc-migration,,,644,23
openstack%2Ffreezer~master~I0c056424110882d25be0bbb9ac40d483830f4298,openstack/freezer,master,I0c056424110882d25be0bbb9ac40d483830f4298,Updated from global requirements,MERGED,2017-09-11 21:17:44.000000000,2017-09-14 18:21:08.000000000,2017-09-14 18:21:08.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-09-11 21:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/e0259191b36d421213c17b60179d4c14416e9f97', 'message': 'Updated from global requirements\n\nChange-Id: I0c056424110882d25be0bbb9ac40d483830f4298\n'}, {'number': 2, 'created': '2017-09-11 21:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/5a1454f275bc8484917b483bf256a21df98bd018', 'message': 'Updated from global requirements\n\nChange-Id: I0c056424110882d25be0bbb9ac40d483830f4298\n'}, {'number': 3, 'created': '2017-09-12 17:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/4d446d330985cca69060f3f6bf4ad5984e6089fa', 'message': 'Updated from global requirements\n\nChange-Id: I0c056424110882d25be0bbb9ac40d483830f4298\n'}, {'number': 4, 'created': '2017-09-13 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/6d9293186af741153723ea67d44dcbbf66710c76', 'message': 'Updated from global requirements\n\nChange-Id: I0c056424110882d25be0bbb9ac40d483830f4298\n'}, {'number': 5, 'created': '2017-09-13 23:56:16.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/e312a3ac04169107b1b9828ed41002621a281fbb', 'message': 'Updated from global requirements\n\nChange-Id: I0c056424110882d25be0bbb9ac40d483830f4298\n'}]",0,502642,e312a3ac04169107b1b9828ed41002621a281fbb,16,3,5,11131,,,0,"Updated from global requirements

Change-Id: I0c056424110882d25be0bbb9ac40d483830f4298
",git fetch https://review.opendev.org/openstack/freezer refs/changes/42/502642/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,e0259191b36d421213c17b60179d4c14416e9f97,openstack/requirements,python-openstackclient>=3.12.0 # Apache-2.0,"python-openstackclient!=3.10.0,>=3.3.0 # Apache-2.0",4,4
openstack%2Fproject-config~master~Ica3829ab0fef0838c6b5e1f7e72768831d0f6241,openstack/project-config,master,Ica3829ab0fef0838c6b5e1f7e72768831d0f6241,Add nodes to build-wheel-mirror job,MERGED,2017-09-14 17:05:43.000000000,2017-09-14 18:19:58.000000000,2017-09-14 18:19:58.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-09-14 17:05:43.000000000', 'files': ['zuul.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e594dc355b7f4ae6c3191d2ae53ab2ad4cae85b5', 'message': 'Add nodes to build-wheel-mirror job\n\nChange-Id: Ica3829ab0fef0838c6b5e1f7e72768831d0f6241\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,504126,e594dc355b7f4ae6c3191d2ae53ab2ad4cae85b5,6,2,1,4162,,,0,"Add nodes to build-wheel-mirror job

Change-Id: Ica3829ab0fef0838c6b5e1f7e72768831d0f6241
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/504126/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.yaml'],1,e594dc355b7f4ae6c3191d2ae53ab2ad4cae85b5,, nodes: wheel-mirror-builders, nodes: [],1,1
openstack%2Freleases~master~Iddc121c6dfd6e379a0d5038bc27f2c5e7fc3d4ac,openstack/releases,master,Iddc121c6dfd6e379a0d5038bc27f2c5e7fc3d4ac,add feature/s3api branch to swift,MERGED,2017-09-14 17:19:49.000000000,2017-09-14 18:15:38.000000000,2017-09-14 18:15:38.000000000,"[{'_account_id': 3}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-09-14 17:19:49.000000000', 'files': ['deliverables/pike/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8398f3d8f7d03095fd113757ac44dd7adf92c6d9', 'message': 'add feature/s3api branch to swift\n\nChange-Id: Iddc121c6dfd6e379a0d5038bc27f2c5e7fc3d4ac\n'}]",0,504136,8398f3d8f7d03095fd113757ac44dd7adf92c6d9,6,2,1,330,,,0,"add feature/s3api branch to swift

Change-Id: Iddc121c6dfd6e379a0d5038bc27f2c5e7fc3d4ac
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/504136/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/swift.yaml'],1,8398f3d8f7d03095fd113757ac44dd7adf92c6d9,, - name: feature/s3api location: openstack/swift: 00aa07249407a118be2b0029ec403d59aa12c000,,3,0
openstack%2Fproject-config~master~I2bb0f4feef8096b90adb02ddda2f857b2ca79a1b,openstack/project-config,master,I2bb0f4feef8096b90adb02ddda2f857b2ca79a1b,Add pike stable jobs for tempest and devstack-gate,MERGED,2017-09-13 23:09:46.000000000,2017-09-14 18:14:06.000000000,2017-09-14 18:14:06.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8556}]","[{'number': 1, 'created': '2017-09-13 23:09:46.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8e89ac445e758a8b9794b5eaad9f65e13def78bb', 'message': ""Add pike stable jobs for tempest and devstack-gate\n\nNow that we're developing Queens, we should run pike jobs against\nbranchless repos tempest and devstack-gate.\n\nSince we have not run nnet jobs during the pike cycle against\ntempest or devstack-gate, I'm not adding stable pike nnet jobs.\n\nChange-Id: I2bb0f4feef8096b90adb02ddda2f857b2ca79a1b\n""}]",0,503863,8e89ac445e758a8b9794b5eaad9f65e13def78bb,8,4,1,1921,,,0,"Add pike stable jobs for tempest and devstack-gate

Now that we're developing Queens, we should run pike jobs against
branchless repos tempest and devstack-gate.

Since we have not run nnet jobs during the pike cycle against
tempest or devstack-gate, I'm not adding stable pike nnet jobs.

Change-Id: I2bb0f4feef8096b90adb02ddda2f857b2ca79a1b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/503863/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,8e89ac445e758a8b9794b5eaad9f65e13def78bb,pike_on_branchless, - gate-tempest-dsvm-neutron-full-ubuntu-xenial-pike-nv # pike compat jobs for tempest master # NOTE(andreaf) We did not run nnet in Tempest gate during pike development - gate-tempest-dsvm-neutron-full-ubuntu-xenial-pike,,4,0
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~I3967cbad0cbcc2214db1ca1f2225f3d140fd1774,openstack/openstack-ansible-os_nova,stable/ocata,I3967cbad0cbcc2214db1ca1f2225f3d140fd1774,Scope vars references correctly when delegated,MERGED,2017-09-13 19:09:01.000000000,2017-09-14 18:13:37.000000000,2017-09-14 18:13:37.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-13 19:09:01.000000000', 'files': ['tasks/nova_db_post_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/60481d8b765b9c3d4f40202550f9b4020ff49389', 'message': 'Scope vars references correctly when delegated\n\nIn my environment, my computes have ""untagged"" venvs, so the path\nto the venv on nova_compute hosts has ""nova-untagged"" instead of\n""nova-<tag>"", meaning this tasks breaks because it is delegated from\ncomputes to a conductor host, but does not use the conductor vars to\nreference the location of nova\'s venv.\n\nChange-Id: I3967cbad0cbcc2214db1ca1f2225f3d140fd1774\n(cherry picked from commit 953f324f2bf9e91871cd77559f859773189d21d8)\n'}]",0,503782,60481d8b765b9c3d4f40202550f9b4020ff49389,7,3,1,17799,,,0,"Scope vars references correctly when delegated

In my environment, my computes have ""untagged"" venvs, so the path
to the venv on nova_compute hosts has ""nova-untagged"" instead of
""nova-<tag>"", meaning this tasks breaks because it is delegated from
computes to a conductor host, but does not use the conductor vars to
reference the location of nova's venv.

Change-Id: I3967cbad0cbcc2214db1ca1f2225f3d140fd1774
(cherry picked from commit 953f324f2bf9e91871cd77559f859773189d21d8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/82/503782/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_db_post_setup.yml'],1,60481d8b765b9c3d4f40202550f9b4020ff49389,delegated-vars-scoping,"- name: Set the delegated task facts set_fact: _db_nova_bin: ""{{ hostvars[conductor_host]['nova_bin'] | default(nova_bin) }}"" _db_nova_system_user_name: ""{{ hostvars[conductor_host]['nova_system_user_name'] | default(nova_system_user_name) }}"" _db_nova_cell1_name: ""{{ hostvars[conductor_host]['nova_cell1_name'] | default(nova_cell1_name) }}"" command: ""{{ _db_nova_bin }}/nova-manage cell_v2 discover_hosts"" become_user: ""{{ _db_nova_system_user_name }}"" shell: ""{{ _db_nova_bin }}/nova-manage cell_v2 list_cells | grep ' {{ _db_nova_cell1_name }} '"" become_user: ""{{ _db_nova_system_user_name }}"" command: ""{{ _db_nova_bin }}/nova-manage cell_v2 map_instances --cell_uuid {{ cell1_uuid['stdout'].split()[3] }}"" become_user: ""{{ _db_nova_system_user_name }}"""," command: ""{{ nova_bin }}/nova-manage cell_v2 discover_hosts"" become_user: ""{{ nova_system_user_name }}"" shell: ""{{ nova_bin }}/nova-manage cell_v2 list_cells | grep ' {{ nova_cell1_name }} '"" become_user: ""{{ nova_system_user_name }}"" command: ""{{ nova_bin }}/nova-manage cell_v2 map_instances --cell_uuid {{ cell1_uuid['stdout'].split()[3] }}"" become_user: ""{{ nova_system_user_name }}""",12,6
openstack%2Fopenstack-ansible-os_nova~stable%2Fpike~I3967cbad0cbcc2214db1ca1f2225f3d140fd1774,openstack/openstack-ansible-os_nova,stable/pike,I3967cbad0cbcc2214db1ca1f2225f3d140fd1774,Scope vars references correctly when delegated,MERGED,2017-09-13 19:08:42.000000000,2017-09-14 18:13:28.000000000,2017-09-14 18:13:28.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-13 19:08:42.000000000', 'files': ['tasks/nova_db_post_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d1143dce88de111c963edb2bae7cf57823cbde0b', 'message': 'Scope vars references correctly when delegated\n\nIn my environment, my computes have ""untagged"" venvs, so the path\nto the venv on nova_compute hosts has ""nova-untagged"" instead of\n""nova-<tag>"", meaning this tasks breaks because it is delegated from\ncomputes to a conductor host, but does not use the conductor vars to\nreference the location of nova\'s venv.\n\nChange-Id: I3967cbad0cbcc2214db1ca1f2225f3d140fd1774\n(cherry picked from commit 953f324f2bf9e91871cd77559f859773189d21d8)\n'}]",0,503781,d1143dce88de111c963edb2bae7cf57823cbde0b,7,3,1,17799,,,0,"Scope vars references correctly when delegated

In my environment, my computes have ""untagged"" venvs, so the path
to the venv on nova_compute hosts has ""nova-untagged"" instead of
""nova-<tag>"", meaning this tasks breaks because it is delegated from
computes to a conductor host, but does not use the conductor vars to
reference the location of nova's venv.

Change-Id: I3967cbad0cbcc2214db1ca1f2225f3d140fd1774
(cherry picked from commit 953f324f2bf9e91871cd77559f859773189d21d8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/81/503781/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_db_post_setup.yml'],1,d1143dce88de111c963edb2bae7cf57823cbde0b,delegated-vars-scoping,"- name: Set the delegated task facts set_fact: _db_nova_bin: ""{{ hostvars[conductor_host]['nova_bin'] | default(nova_bin) }}"" _db_nova_system_user_name: ""{{ hostvars[conductor_host]['nova_system_user_name'] | default(nova_system_user_name) }}"" _db_nova_cell1_name: ""{{ hostvars[conductor_host]['nova_cell1_name'] | default(nova_cell1_name) }}"" command: ""{{ _db_nova_bin }}/nova-manage cell_v2 discover_hosts"" become_user: ""{{ _db_nova_system_user_name }}"" shell: ""{{ _db_nova_bin }}/nova-manage cell_v2 list_cells | grep ' {{ _db_nova_cell1_name }} '"" become_user: ""{{ _db_nova_system_user_name }}"" command: ""{{ _db_nova_bin }}/nova-manage cell_v2 map_instances --cell_uuid {{ cell1_uuid['stdout'].split()[3] }}"" become_user: ""{{ _db_nova_system_user_name }}"""," command: ""{{ nova_bin }}/nova-manage cell_v2 discover_hosts"" become_user: ""{{ nova_system_user_name }}"" shell: ""{{ nova_bin }}/nova-manage cell_v2 list_cells | grep ' {{ nova_cell1_name }} '"" become_user: ""{{ nova_system_user_name }}"" command: ""{{ nova_bin }}/nova-manage cell_v2 map_instances --cell_uuid {{ cell1_uuid['stdout'].split()[3] }}"" become_user: ""{{ nova_system_user_name }}""",12,6
openstack%2Fopenstack-ansible~stable%2Fnewton~Ie0a3852a0e35a88ed78408867e92705992c74af4,openstack/openstack-ansible,stable/newton,Ie0a3852a0e35a88ed78408867e92705992c74af4,Update SHA for os_tempest,MERGED,2017-09-13 16:32:32.000000000,2017-09-14 18:06:02.000000000,2017-09-14 18:06:02.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-13 16:32:32.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9b8f3ffd285d929affae63d1788193dd4792ceed', 'message': 'Update SHA for os_tempest\n\nThis update includes changes to support running\nthe ironic tempest plugin tests in the gate\nscript.\n\nChange-Id: Ie0a3852a0e35a88ed78408867e92705992c74af4\n'}]",0,503739,9b8f3ffd285d929affae63d1788193dd4792ceed,7,3,1,7784,,,0,"Update SHA for os_tempest

This update includes changes to support running
the ironic tempest plugin tests in the gate
script.

Change-Id: Ie0a3852a0e35a88ed78408867e92705992c74af4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/503739/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,9b8f3ffd285d929affae63d1788193dd4792ceed,tempest-sha, version: 80c72fca423f4629c916efbe0e6a4f4a070b06a0, version: 653a76b56bbec8a8103c45177cf24e115b995e74,1,1
openstack%2Fpuppet-tripleo~master~I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e,openstack/puppet-tripleo,master,I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e,Added new parameter for HAProxy configuration,MERGED,2017-09-12 15:05:03.000000000,2017-09-14 18:05:48.000000000,2017-09-14 13:33:37.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 9003}, {'_account_id': 10068}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-12 15:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ca3125dc98512d61e9762975b4ce465514a3bbac', 'message': 'Added new parameter for HAProxy configuration\n\nThis allow to set the socket access level to admin instead of default\n""user"".\nThis ""admin"" access adds the capability to interact with HAproxy in\norder to manage its configuration, at least temporarly.\n\nThis changes keeps the default ""user"" access level, as ""admin"" might\nbreak things if misused.\n\nChange-Id: I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e\nCloses-bug: #1716692\n'}, {'number': 2, 'created': '2017-09-12 16:38:36.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/33479418eec7c1a18d57d755be47eca800b918a6', 'message': 'Added new parameter for HAProxy configuration\n\nThis allow to set the socket access level to admin instead of default\n""user"".\nThis ""admin"" access adds the capability to interact with HAproxy in\norder to manage its configuration, at least temporarly.\n\nThis changes keeps the default ""user"" access level, as ""admin"" might\nbreak things if misused.\n\nChange-Id: I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e\nCloses-bug: #1716692\n'}]",1,503029,33479418eec7c1a18d57d755be47eca800b918a6,25,5,2,26828,,,0,"Added new parameter for HAProxy configuration

This allow to set the socket access level to admin instead of default
""user"".
This ""admin"" access adds the capability to interact with HAproxy in
order to manage its configuration, at least temporarly.

This changes keeps the default ""user"" access level, as ""admin"" might
break things if misused.

Change-Id: I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e
Closes-bug: #1716692
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/29/503029/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,ca3125dc98512d61e9762975b4ce465514a3bbac,bug/1716692,"# [*haproxy_socket_access_level*] # Access level for HAProxy socket. # Can be ""user"" or ""admin"" # Defaults to ""user"" # haproxy_socket_access_level = 'user', ""socket /var/lib/haproxy/stats mode 600 level ${haproxy_socket_access_level}"","," 'socket /var/lib/haproxy/stats mode 600 level user',",7,1
openstack%2Fopenstack-ansible-security~master~I1137ca951de2fba3b692c2c77b2030d9b0bd10eb,openstack/openstack-ansible-security,master,I1137ca951de2fba3b692c2c77b2030d9b0bd10eb,"Revert ""Revert ""Retire openstack-ansible-security""""",MERGED,2017-09-14 17:48:45.000000000,2017-09-14 18:03:50.000000000,2017-09-14 18:03:50.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-14 17:48:45.000000000', 'files': ['doc/metadata/rhel6/V-38452.rst', 'doc/metadata/rhel6/V-38541.rst', 'doc/metadata/rhel6/V-38622.rst', 'doc/metadata/rhel6/V-38460.rst', 'doc/metadata/rhel7/V-71991.rst', 'doc/metadata/rhel6/V-38525.rst', 'doc/source/_themes/openstack/static/tweaks.css', 'doc/metadata/rhel6/V-38517.rst', 'doc/metadata/rhel6/V-38606.rst', 'doc/metadata/rhel7/V-72195.rst', 'doc/metadata/rhel6/V-38614.rst', 'doc/metadata/rhel7/V-71975.rst', 'templates/pam_faillock.j2', 'doc/metadata/rhel7/V-72101.rst', 'doc/metadata/rhel7/V-71983.rst', 'doc/metadata/rhel7/V-72187.rst', 'releasenotes/source/newton.rst', 'doc/metadata/rhel6/V-51875.rst', 'templates/dconf-gdm-banner-message.j2', 'doc/metadata/rhel6/V-38548.rst', 'doc/metadata/rhel7/V-72221.rst', 'doc/metadata/rhel7/V-72179.rst', 'doc/metadata/rhel6/V-38653.rst', 'doc/metadata/rhel6/V-38629.rst', 'doc/metadata/rhel7/V-72043.rst', 'doc/metadata/rhel6/V-38572.rst', 'doc/metadata/rhel7/V-71967.rst', 'doc/metadata/rhel6/V-38475.rst', 'doc/metadata/rhel7/V-72205.rst', 'doc/metadata/rhel6/V-38491.rst', 'doc/metadata/rhel6/V-38677.rst', 'releasenotes/notes/augenrules-restart-39fe3e1e2de3eaba.yaml', 'doc/metadata/rhel6/V-38444.rst', 'doc/metadata/rhel7/V-72027.rst', 'doc/metadata/rhel7/V-72261.rst', 'doc/metadata/rhel7/V-71919.rst', 'tasks/rhel7stig/aide.yml', 'doc/metadata/rhel7/V-71855.rst', 'doc/metadata/rhel7/V-72155.rst', 'doc/metadata/rhel6/V-38685.rst', 'doc/metadata/rhel7/V-72067.rst', 'doc/metadata/rhel6/V-38499.rst', 'doc/metadata/rhel7/V-72253.rst', 'doc/metadata/rhel7/V-73173.rst', 'doc/Makefile', 'doc/metadata/import-existing-notes.py', 'doc/metadata/rhel6/V-38693.rst', 'doc/metadata/rhel7/V-73165.rst', 'doc/metadata/rhel6/V-38676.rst', 'doc/metadata/rhel6/V-43150.rst', 'doc/metadata/rhel6/V-38587.rst', 'doc/metadata/rhel7/V-72059.rst', 'doc/metadata/rhel7/V-72317.rst', 'doc/metadata/rhel6/V-38459.rst', 'doc/metadata/rhel6/V-38595.rst', 'doc/metadata/rhel6/V-38557.rst', 'releasenotes/notes/disabling-rdisc-centos-75115b3509941bfa.yaml', 'doc/metadata/rhel6/V-38467.rst', 'doc/metadata/rhel6/V-38501.rst', 'handlers/main.yml', 'doc/metadata/rhel6/V-38484.rst', 'doc/metadata/rhel6/V-38668.rst', 'doc/metadata/rhel7/V-71951.rst', 'doc/metadata/rhel6/V-38580.rst', 'doc/metadata/rhel6/V-38661.rst', 'doc/metadata/rhel6/V-38638.rst', 'doc/metadata/rhel7/V-71921.rst', 'doc/metadata/rhel7/V-72035.rst', 'doc/metadata/rhel6/V-38533.rst', 'doc/metadata/rhel7/V-72163.rst', 'doc/metadata/rhel7/V-72133.rst', 'doc/metadata/rhel7/V-72291.rst', 'doc/metadata/template_doc.j2', 'doc/metadata/rhel6/V-38516.rst', 'doc/metadata/rhel7/V-72303.rst', 'doc/metadata/rhel6/V-38621.rst', 'doc/metadata/rhel7/V-72117.rst', 'releasenotes/notes/fix-check-mode-with-tags-bf798856a27c53eb.yaml', 'README.rst', 'doc/source/_themes/openstack/static/default.css', 'doc/metadata/rhel6/V-38443.rst', 'doc/metadata/rhel6/V-38532.rst', 'doc/metadata/rhel7/V-72283.rst', 'doc/metadata/rhel6/V-38605.rst', 'doc/metadata/rhel7/V-71913.rst', 'doc/metadata/rhel7/V-71895.rst', 'doc/metadata/rhel6/V-38437.rst', 'doc/metadata/rhel6/V-38526.rst', 'tasks/rhel6stig/file_perms.yml', 'doc/metadata/rhel6/V-38615.rst', 'doc/source/controls-rhel7.rst', 'doc/metadata/rhel6/V-38654.rst', 'LICENSE', 'doc/metadata/rhel6/V-38565.rst', 'doc/metadata/rhel7/V-72267.rst', 'doc/metadata/rhel7/V-72099.rst', 'doc/metadata/rhel7/V-72123.rst', 'doc/metadata/rhel6/V-38468.rst', 'templates/pwquality.conf.j2', 'doc/metadata/rhel7/V-72277.rst', 'releasenotes/source/index.rst', 'doc/metadata/rhel6/V-38579.rst', 'doc/metadata/rhel6/V-38670.rst', 'doc/metadata/rhel7/V-72013.rst', 'doc/metadata/rhel7/V-72229.rst', 'doc/metadata/rhel6/V-38542.rst', 'doc/metadata/rhel7/V-72141.rst', 'doc/metadata/rhel7/V-71999.rst', 'doc/metadata/rhel6/V-38492.rst', 'doc/metadata/rhel7/V-72107.rst', 'doc/metadata/rhel6/V-38474.rst', 'meta/main.yml', 'doc/metadata/rhel6/V-38686.rst', 'doc/metadata/rhel6/V-38600.rst', 'doc/metadata/rhel7/V-72139.rst', 'releasenotes/source/ocata.rst', 'doc/metadata/template_all.j2', 'doc/metadata/rhel7/V-71863.rst', 'doc/metadata/rhel6/V-38458.rst', 'doc/metadata/rhel7/V-72173.rst', 'doc/metadata/rhel6/V-38547.rst', 'doc/metadata/rhel6/V-38596.rst', 'doc/metadata/stig_to_rst.py', 'doc/metadata/rhel7/V-71935.rst', 'doc/metadata/rhel7/V-72245.rst', 'doc/metadata/rhel7/V-73157.rst', 'doc/metadata/rhel6/V-38637.rst', 'doc/metadata/rhel7/V-72051.rst', 'doc/metadata/rhel6/V-38692.rst', 'doc/metadata/rhel6/V-38675.rst', 'doc/metadata/rhel6/V-38581.rst', 'releasenotes/notes/improved-audit-rule-keys-9fa85f758386446c.yaml', 'doc/metadata/rhel6/V-38453.rst', 'doc/metadata/rhel7/V-72299.rst', 'doc/metadata/rhel6/V-38558.rst', 'doc/metadata/rhel7/V-71989.rst', 'doc/metadata/rhel7/V-72049.rst', 'templates/jail.local.j2', 'doc/metadata/rhel6/V-38660.rst', 'doc/metadata/rhel7/V-71929.rst', 'doc/metadata/rhel7/V-72083.rst', 'doc/metadata/rhel6/V-38669.rst', 'doc/metadata/rhel7/V-71903.rst', 'doc/metadata/rhel7/V-72213.rst', 'doc/metadata/rhel7/V-72223.rst', 'doc/metadata/rhel7/V-72037.rst', 'releasenotes/notes/enable-lsm-bae903e463079a3f.yaml', 'doc/metadata/rhel7/V-71965.rst', 'doc/metadata/rhel6/V-38698.rst', 'doc/metadata/rhel6/V-38620.rst', 'releasenotes/notes/disable-failed-access-audit-logging-789dc01c8bcbef17.yaml', 'doc/metadata/rhel7/V-72207.rst', 'doc/metadata/rhel6/V-38477.rst', 'doc/metadata/rhel6/V-38663.rst', 'doc/metadata/rhel7/V-72215.rst', 'doc/metadata/rhel7/V-71957.rst', 'doc/metadata/rhel6/V-38578.rst', 'doc/metadata/rhel7/V-72029.rst', 'doc/metadata/rhel6/V-38535.rst', 'doc/metadata/template_toc.j2', 'doc/source/faq.rst', 'doc/metadata/rhel7/V-71985.rst', 'doc/metadata/rhel7/V-72009.rst', 'doc/metadata/template_all_rhel7.j2', 'doc/metadata/rhel6/V-38640.rst', 'doc/metadata/rhel7/V-72251.rst', 'doc/source/_themes/openstack/theme.conf', 'doc/metadata/rhel6/V-38590.rst', 'doc/metadata/rhel6/V-38683.rst', 'doc/metadata/rhel7/V-71937.rst', 'doc/metadata/rhel7/V-73159.rst', 'doc/metadata/rhel7/V-72057.rst', 'doc/metadata/rhel6/V-38469.rst', 'doc/metadata/rhel6/V-38462.rst', 'doc/metadata/rhel7/V-71973.rst', 'doc/metadata/rhel7/V-72235.rst', 'doc/source/_themes/openstack/static/basic.css', 'tasks/rhel7stig/main.yml', 'doc/metadata/U_RedHat_6_V1R12_Manual-xccdf.xml', 'doc/metadata/rhel7/V-72185.rst', 'tasks/rhel6stig/services.yml', 'doc/metadata/rhel6/V-38511.rst', 'doc/metadata/rhel6/V-38457.rst', 'doc/metadata/rhel6/V-38482.rst', 'doc/metadata/rhel6/V-38554.rst', 'doc/metadata/rhel6/V-38490.rst', 'doc/metadata/rhel6/V-38597.rst', 'doc/metadata/rhel6/V-38627.rst', 'doc/metadata/rhel7/V-71945.rst', 'doc/metadata/rhel6/V-38512.rst', 'doc/metadata/rhel7/V-73171.rst', 'doc/source/_themes/openstack/static/header-line.gif', 'doc/metadata/rhel7/V-72041.rst', 'doc/metadata/rhel7/V-72165.rst', 'doc/metadata/rhel6/V-38679.rst', 'doc/source/special-notes.rst', 'doc/metadata/rhel7/V-72157.rst', 'doc/metadata/rhel6/V-38636.rst', 'doc/metadata/rhel7/V-71909.rst', 'files/login_banner.txt', 'tests/tests-repo-clone.sh', 'doc/metadata/rhel7/V-72263.rst', 'doc/source/_themes/openstack/static/openstack_logo.png', 'doc/metadata/rhel7/V-72285.rst', 'doc/metadata/rhel6/V-38582.rst', 'doc/metadata/rhel6/V-38497.rst', 'doc/metadata/rhel6/V-38454.rst', 'doc/metadata/rhel7/V-72065.rst', 'doc/metadata/rhel7/V-71917.rst', 'doc/metadata/rhel6/V-38527.rst', 'doc/metadata/rhel6/V-38655.rst', 'doc/metadata/rhel6/V-38612.rst', 'doc/metadata/rhel6/V-38691.rst', 'doc/metadata/rhel7/V-72417.rst', 'doc/metadata/rhel7/V-73167.rst', 'doc/metadata/rhel7/V-72129.rst', 'doc/metadata/rhel7/V-72193.rst', 'doc/metadata/rhel6/V-38563.rst', 'doc/source/getting-started.rst', 'doc/metadata/rhel6/V-38520.rst', 'doc/metadata/rhel6/V-38608.rst', 'doc/metadata/rhel6/V-51363.rst', 'doc/metadata/rhel6/V-38613.rst', 'library/get_users', 'tasks/rhel6stig/auditd.yml', 'doc/metadata/rhel7/V-71923.rst', 'doc/metadata/rhel6/V-38690.rst', 'doc/metadata/rhel7/V-71893.rst', 'doc/metadata/rhel7/V-72143.rst', 'releasenotes/notes/rhel-gpg-check-0b483a824314d1b3.yaml', 'doc/metadata/rhel6/V-38540.rst', 'defaults/main.yml', 'doc/metadata/rhel7/V-71915.rst', 'doc/metadata/rhel7/V-71859.rst', 'doc/metadata/rhel6/V-38534.rst', 'doc/metadata/rhel7/V-72259.rst', 'templates/dconf-screensaver-lock.j2', 'doc/metadata/rhel6/V-38583.rst', 'doc/metadata/rhel7/V-72293.rst', 'doc/metadata/rhel7/V-72109.rst', 'doc/metadata/rhel6/V-38476.rst', 'doc/metadata/rhel6/V-51391.rst', 'releasenotes/notes/auditing-mac-policy-changes-fb83e0260a6431ed.yaml', 'doc/metadata/rhel7/V-72301.rst', 'doc/metadata/rhel6/V-38549.rst', 'releasenotes/notes/adding-v38526-381a407caa566b14.yaml', 'README.md', 'doc/metadata/rhel7/V-71943.rst', 'doc/metadata/rhel7/V-72171.rst', 'doc/metadata/rhel6/V-38555.rst', 'doc/metadata/rhel6/V-54381.rst', 'doc/metadata/rhel7/V-72315.rst', 'doc/source/_exts/metadata-docs-rhel7.py', 'tasks/rhel6stig/apt.yml', 'templates/ZZ_aide_exclusions.j2', 'doc/metadata/rhel6/V-38598.rst', 'doc/metadata/rhel6/V-38461.rst', 'doc/metadata/rhel6/V-51337.rst', 'doc/metadata/rhel7/V-72137.rst', 'setup.cfg', 'doc/metadata/rhel7/V-72265.rst', 'releasenotes/notes/unique-variable-migration-c0639030b495438f.yaml', 'doc/metadata/rhel7/V-71901.rst', 'releasenotes/notes/add-v38438-3f7e905892be4b4f.yaml', 'doc/metadata/rhel6/V-38678.rst', 'doc/metadata/rhel6/V-38635.rst', 'doc/metadata/rhel7/V-71987.rst', 'doc/metadata/rhel7/V-72091.rst', 'doc/metadata/rhel6/V-38449.rst', 'tasks/rhel7stig/auditd.yml', 'doc/metadata/rhel7/V-72121.rst', 'doc/source/_exts/metadata-docs.py', 'doc/metadata/rhel7/V-72309.rst', 'doc/metadata/rhel7/V-72015.rst', 'releasenotes/notes/aide-exclude-run-4d3c97a2d08eb373.yaml', 'doc/metadata/rhel7/V-72237.rst', 'doc/metadata/rhel7/V-72271.rst', 'Vagrantfile', 'doc/metadata/rhel6/V-38556.rst', 'doc/metadata/rhel6/V-38641.rst', 'doc/metadata/rhel6/V-38513.rst', 'doc/metadata/rhel7/V-72085.rst', 'doc/metadata/rhel6/V-38455.rst', 'doc/metadata/rhel6/V-38628.rst', 'releasenotes/notes/reduce-auditd-logging-633677a74aee5481.yaml', 'doc/metadata/rhel6/V-38684.rst', 'doc/metadata/rhel6/V-38498.rst', 'tasks/rhel7stig/graphical.yml', 'doc/metadata/rhel6/V-38662.rst', 'doc/metadata/rhel7/V-71993.rst', 'doc/metadata/rhel6/V-38607.rst', 'doc/metadata/rhel7/V-72115.rst', 'doc/metadata/rhel7/V-72209.rst', 'doc/metadata/rhel7/V-72021.rst', 'doc/metadata/rhel6/V-38577.rst', 'doc/metadata/rhel6/V-38528.rst', 'doc/metadata/rhel7/V-72243.rst', 'tasks/rhel6stig/lsm.yml', 'doc/metadata/rhel7/V-71959.rst', 'doc/metadata/rhel7/V-72079.rst', 'doc/metadata/rhel6/V-38699.rst', 'doc/metadata/rhel6/V-38483.rst', 'doc/metadata/rhel6/V-38656.rst', 'doc/metadata/rhel6/V-38584.rst', 'doc/metadata/template_doc_rhel7.j2', 'tasks/main.yml', 'doc/metadata/rhel6/V-38487.rst', 'doc/metadata/rhel6/V-38495.rst', 'doc/metadata/rhel7/V-73177.rst', 'doc/metadata/rhel6/V-38673.rst', 'test-requirements.txt', 'doc/metadata/rhel6/V-38479.rst', 'releasenotes/source/liberty.rst', 'doc/metadata/rhel6/V-38568.rst', 'doc/metadata/rhel6/V-38592.rst', 'doc/metadata/rhel6/V-38681.rst', 'doc/metadata/rhel6/V-38657.rst', 'doc/metadata/rhel6/V-38649.rst', 'doc/metadata/rhel7/V-72063.rst', 'templates/osas-auditd-rhel7.j2', 'releasenotes/notes/customizable-login-banner-string-d8d5ae874e8e49f3.yaml', 'tasks/rhel6stig/sshd.yml', 'doc/metadata/rhel7/V-72055.rst', 'doc/metadata/rhel7/V-72241.rst', 'doc/metadata/rhel7/V-72217.rst', 'doc/metadata/rhel7/V-72039.rst', 'doc/metadata/rhel7/V-72183.rst', 'doc/metadata/rhel6/V-57569.rst', 'doc/metadata/rhel7/V-72191.rst', 'doc/metadata/rhel7/V-72233.rst', 'doc/metadata/rhel6/V-38599.rst', 'doc/metadata/rhel6/V-38610.rst', 'doc/metadata/rhel6/V-51379.rst', 'releasenotes/notes/configurable-martian-logging-370ede40b036db0b.yaml', 'doc/metadata/rhel7/V-71939.rst', 'doc/metadata/rhel6/V-38480.rst', 'doc/metadata/rhel7/V-71971.rst', 'doc/metadata/rhel6/V-38696.rst', 'run_tests.sh', 'doc/metadata/rhel7/V-72167.rst', 'doc/metadata/rhel6/V-38634.rst', 'releasenotes/source/mitaka.rst', 'doc/metadata/rhel6/V-38665.rst', 'tasks/rhel6stig/console.yml', 'doc/metadata/rhel6/V-38537.rst', 'doc/metadata/rhel7/V-71955.rst', 'doc/metadata/rhel7/V-72007.rst', 'doc/metadata/rhel7/V-72279.rst', 'doc/metadata/rhel6/V-38529.rst', 'doc/metadata/rhel7/V-71979.rst', 'templates/sshd_config_block.j2', 'doc/metadata/rhel7/V-72287.rst', 'tasks/rhel6stig/auth.yml', 'releasenotes/source/_templates/.placeholder', 'tests/vagrant.yml', 'doc/metadata/rhel6/V-38456.rst', 'doc/metadata/rhel6/V-38642.rst', 'doc/metadata/rhel7/V-72201.rst', 'doc/metadata/rhel6/V-38650.rst', 'bindep.txt', 'doc/metadata/rhel6/V-38544.rst', 'doc/metadata/rhel7/V-72105.rst', 'doc/metadata/rhel6/V-38552.rst', 'doc/metadata/rhel6/V-38561.rst', 'tasks/rhel7stig/file_perms.yml', 'releasenotes/notes/disable-rpm-perms-fix-by-default-b164e39717f0ada7.yaml', 'doc/metadata/rhel7/V-71947.rst', 'manual-test.rc', 'releasenotes/notes/package-state-present-951161faa5384abd.yaml', 'doc/metadata/rhel6/V-38514.rst', 'doc/metadata/rhel7/V-72095.rst', 'doc/metadata/rhel7/V-72225.rst', 'files/V-38682-modprobe.conf', 'doc/metadata/rhel6/V-38471.rst', 'doc/metadata/rhel6/V-38625.rst', 'doc/metadata/rhel7/V-72159.rst', 'doc/source/index.rst', 'doc/metadata/rhel7/V-72071.rst', 'doc/metadata/rhel6/V-38448.rst', 'doc/source/controls.rst', 'releasenotes/notes/search-for-unlabeled-devices-cb047c5f767e93ce.yaml', 'doc/metadata/rhel6/V-38576.rst', 'doc/metadata/rhel6/V-38559.rst', 'doc/metadata/rhel7/V-72435.rst', 'tasks/rhel7stig/auth.yml', 'doc/metadata/rhel6/V-38648.rst', 'doc/metadata/rhel7/V-71931.rst', 'doc/metadata/rhel7/V-72151.rst', 'doc/metadata/rhel7/V-72249.rst', 'doc/metadata/rhel6/V-38478.rst', 'doc/metadata/rhel6/V-38664.rst', 'doc/metadata/rhel6/V-38575.rst', 'setup.py', 'doc/metadata/rhel7/V-72257.rst', 'doc/metadata/rhel6/V-38486.rst', 'releasenotes/notes/.placeholder', 'doc/metadata/rhel6/V-38591.rst', 'tasks/rhel6stig/kernel.yml', 'doc/metadata/rhel7/V-72127.rst', 'releasenotes/notes/enable-tcp-syncookes-boolean-4a884a66a3a0e4d7.yaml', 'doc/metadata/rhel7/V-72313.rst', 'vars/redhat.yml', 'doc/metadata/rhel6/V-38658.rst', 'doc/metadata/rhel6/V-38569.rst', 'doc/metadata/rhel6/V-38522.rst', 'doc/metadata/rhel7/V-72161.rst', 'releasenotes/notes/implemented-v38524-b357edec95128307.yaml', 'doc/metadata/rhel7/V-72135.rst', 'doc/metadata/rhel6/V-38697.rst', 'doc/metadata/rhel6/V-38560.rst', 'doc/metadata/rhel7/V-71925.rst', 'doc/metadata/rhel7/V-71891.rst', 'doc/metadata/rhel6/V-38463.rst', 'doc/metadata/rhel6/V-38700.rst', 'templates/osas-auditd.j2', 'doc/metadata/rhel6/V-38633.rst', 'doc/metadata/rhel6/V-38536.rst', 'doc/metadata/rhel7/V-72093.rst', 'doc/metadata/rhel7/V-71941.rst', 'doc/metadata/rhel7/V-72087.rst', 'doc/metadata/rhel7/V-71907.rst', 'doc/metadata/rhel6/V-38585.rst', 'files/dconf-user-profile', 'doc/metadata/rhel7/V-73163.rst', 'releasenotes/notes/shosts-file-search-opt-in-887f600a79eef07e.yaml', 'doc/metadata/rhel7/V-72295.rst', 'releasenotes/notes/support-for-centos-xenial-2b89c318cc3df4b0.yaml', 'tasks/rhel7stig/apt.yml', 'doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R1_Manual-xccdf.xml', 'doc/metadata/rhel6/V-38682.rst', 'doc/metadata/rhel7/V-72001.rst', 'doc/metadata/rhel6/V-38626.rst', 'doc/metadata/rhel6/V-38609.rst', 'doc/metadata/rhel7/V-72199.rst', 'doc/metadata/rhel7/V-71995.rst', 'doc/metadata/rhel7/V-72307.rst', 'templates/dconf-session-user-config-lockout.j2', 'doc/metadata/rhel6/V-38553.rst', 'releasenotes/notes/fix-audit-log-permission-bug-81a772e2e6d0a5b3.yaml', 'releasenotes/notes/disable-graphical-interface-5db89cd1bef7e12d.yaml', 'doc/metadata/rhel6/V-38504.rst', 'doc/metadata/rhel6/V-38570.rst', 'doc/metadata/rhel6/V-38464.rst', 'doc/metadata/rhel7/V-71899.rst', 'doc/metadata/rhel7/V-72113.rst', 'files/dconf-profile-gdm', 'doc/metadata/rhel7/V-72077.rst', 'doc/metadata/rhel6/V-38481.rst', 'doc/metadata/rhel6/V-38632.rst', 'doc/metadata/rhel6/V-38611.rst', 'doc/metadata/rhel7/V-71963.rst', 'doc/source/_static/.gitkeep', 'doc/metadata/rhel7/V-72017.rst', 'tasks/rhel7stig/rpm.yml', 'doc/metadata/rhel6/V-38521.rst', 'doc/metadata/rhel7/V-72145.rst', 'doc/metadata/rhel6/V-38447.rst', 'doc/metadata/rhel7/V-72273.rst', 'doc/metadata/rhel7/V-72239.rst', 'doc/metadata/rhel7/V-72023.rst', 'doc/metadata/rhel6/V-38515.rst', 'doc/metadata/rhel6/V-38496.rst', 'tasks/rhel7stig/lsm.yml', 'doc/metadata/rhel6/V-38470.rst', 'doc/metadata/rhel6/V-38643.rst', 'releasenotes/source/conf.py', 'doc/metadata/rhel7/V-71949.rst', 'doc/metadata/rhel7/V-72177.rst', 'doc/metadata/rhel7/V-72231.rst', 'doc/metadata/rhel7/V-72045.rst', 'doc/metadata/rhel7/V-72169.rst', 'releasenotes/notes/adding-v38548-9c51b30bf9780ff3.yaml', 'doc/metadata/rhel6/V-38639.rst', 'doc/metadata/rhel6/V-38566.rst', 'doc/metadata/rhel6/V-38531.rst', 'tasks/rhel7stig/packages.yml', 'doc/metadata/rhel6/V-38671.rst', 'doc/metadata/rhel6/V-38574.rst', 'doc/metadata/rhel6/V-38446.rst', 'releasenotes/notes/dictionary-variables-removed-957c7b7b2108ba1f.yaml', 'tasks/rhel7stig/misc.yml', 'doc/source/_themes/openstack/static/nature.css', 'doc/metadata/rhel6/V-38489.rst', 'doc/metadata/rhel6/V-38500.rst', 'doc/metadata/rhel6/V-38493.rst', 'doc/metadata/rhel6/V-38543.rst', 'doc/metadata/rhel6/V-38586.rst', 'doc/metadata/rhel6/V-38438.rst', 'doc/metadata/rhel7/V-72073.rst', 'doc/metadata/rhel6/V-38450.rst', 'doc/metadata/rhel7/V-72149.rst', 'doc/metadata/rhel7/V-72203.rst', 'doc/metadata/rhel7/V-73175.rst', 'doc/metadata/rhel6/V-38616.rst', 'doc/metadata/rhel7/V-72197.rst', 'doc/metadata/rhel7/V-71969.rst', 'doc/metadata/rhel6/V-38659.rst', 'doc/metadata/rhel7/V-71861.rst', 'vars/main.yml', 'doc/metadata/rhel6/V-38523.rst', 'doc/metadata/rhel7/V-72111.rst', 'doc/metadata/rhel6/V-38701.rst', 'tasks/rhel6stig/main.yml', 'doc/metadata/rhel7/V-72061.rst', 'doc/metadata/template_toc_rhel7.j2', 'doc/metadata/rhel6/V-38519.rst', 'doc/metadata/rhel6/V-38647.rst', 'doc/metadata/rhel6/V-38604.rst', 'doc/metadata/rhel6/V-38589.rst', 'doc/metadata/rhel7/V-72219.rst', 'doc/metadata/rhel6/V-38503.rst', 'doc/metadata/rhel6/V-38546.rst', 'doc/metadata/rhel6/V-38571.rst', 'doc/source/_themes/openstack/layout.html', 'doc/metadata/rhel6/V-38465.rst', 'doc/metadata/rhel6/V-38473.rst', 'doc/metadata/rhel6/V-38538.rst', 'doc/metadata/rhel7/V-72227.rst', 'doc/metadata/rhel6/V-58901.rst', 'doc/metadata/rhel6/V-38644.rst', 'doc/metadata/rhel6/V-38601.rst', 'templates/chrony.conf.j2', 'doc/metadata/rhel7/V-72033.rst', 'doc/metadata/rhel7/V-72289.rst', 'doc/metadata/rhel7/V-71953.rst', 'doc/metadata/rhel7/V-72131.rst', 'tasks/rhel6stig/misc.yml', 'releasenotes/notes/ntp-bind-local-interfaces-only-05f03de632e81097.yaml', 'doc/metadata/rhel6/V-38619.rst', 'tasks/rhel7stig/kernel.yml', 'doc/metadata/rhel7/V-72255.rst', 'doc/metadata/rhel7/V-72319.rst', 'files/20auto-upgrades', 'tests/test.yml', 'doc/metadata/rhel6/V-38674.rst', 'doc/metadata/rhel7/V-72189.rst', 'doc/metadata/rhel6/V-38631.rst', 'doc/metadata/rhel7/V-72103.rst', 'doc/metadata/rhel6/V-38687.rst', 'releasenotes/notes/handling-sshd-match-stanzas-fa40b97689004e46.yaml', 'doc/metadata/rhel7/V-71977.rst', 'releasenotes/notes/chrony-config-variable-7a1a7862c05c9675.yaml', 'tasks/rhel6stig/nfsd.yml', 'doc/metadata/rhel6/V-38593.rst', 'doc/metadata/rhel7/V-72005.rst', 'doc/metadata/rhel7/V-71849.rst', 'doc/metadata/rhel6/V-38550.rst', 'tasks/rhel6stig/boot.yml', 'doc/metadata/rhel7/V-71981.rst', 'tasks/rhel6stig/aide.yml', 'doc/metadata/rhel6/V-38702.rst', 'doc/metadata/rhel7/V-72125.rst', 'doc/metadata/rhel7/V-72311.rst', 'doc/metadata/rhel6/V-38672.rst', 'doc/metadata/rhel7/V-72097.rst', 'doc/metadata/rhel7/V-72011.rst', 'releasenotes/notes/package-state-6684c5634bdf127a.yaml', 'tasks/rhel7stig/accounts.yml', 'doc/metadata/rhel6/V-38680.rst', 'doc/metadata/rhel6/V-38494.rst', 'doc/metadata/rhel6/V-38666.rst', 'doc/metadata/rhel7/V-72275.rst', 'doc/metadata/rhel6/V-38451.rst', 'doc/metadata/rhel7/V-72089.rst', 'doc/metadata/rhel6/V-38623.rst', 'doc/source/developer-guide.rst', 'doc/metadata/rhel7/V-71905.rst', 'doc/metadata/rhel7/V-72003.rst', 'doc/metadata/rhel7/V-73161.rst', 'doc/metadata/rhel7/V-72427.rst', 'doc/metadata/rhel7/V-72153.rst', 'doc/metadata/rhel6/V-38573.rst', 'doc/metadata/rhel6/V-38518.rst', 'doc/metadata/rhel6/V-38530.rst', 'doc/metadata/rhel7/V-72247.rst', 'doc/metadata/rhel6/V-38646.rst', 'doc/metadata/rhel6/V-38689.rst', 'vars/debian.yml', 'doc/metadata/rhel7/V-71911.rst', 'doc/metadata/rhel7/V-72119.rst', 'doc/metadata/rhel7/V-72281.rst', 'doc/metadata/rhel7/V-71997.rst', 'doc/metadata/rhel6/V-38603.rst', 'doc/metadata/rhel6/V-38445.rst', 'doc/metadata/rhel7/V-72069.rst', 'doc/metadata/rhel6/V-38488.rst', 'releasenotes/notes/rhel7-stig-default-f6c7c97498a8b2e7.yaml', 'doc/metadata/rhel7/V-72031.rst', 'releasenotes/notes/disable-netconsole-service-915bb33449b4012c.yaml', 'doc/metadata/rhel6/V-38439.rst', 'doc/metadata/rhel6/V-38695.rst', 'doc/metadata/rhel6/V-38652.rst', 'doc/metadata/rhel6/V-38567.rst', 'doc/metadata/rhel6/V-38617.rst', 'tox.ini', 'doc/metadata/rhel6/V-38524.rst', 'doc/metadata/rhel7/V-72075.rst', 'doc/metadata/rhel7/V-73155.rst', 'doc/metadata/rhel6/V-38651.rst', 'doc/metadata/rhel6/V-51369.rst', 'doc/metadata/rhel7/V-71961.rst', 'doc/metadata/rhel6/V-38588.rst', 'tasks/rhel6stig/mail.yml', 'doc/metadata/rhel6/V-38694.rst', 'doc/metadata/rhel7/V-72147.rst', 'doc/metadata/rhel6/V-38618.rst', 'doc/metadata/rhel7/V-72025.rst', 'doc/metadata/rhel7/V-72297.rst', 'doc/source/_themes/openstack/static/header_bg.jpg', 'releasenotes/source/_static/.placeholder', 'releasenotes/notes/stig-rhel7-version-1-renumbering-fiesta-aa047fea3ea35e74.yaml', 'doc/metadata/rhel6/V-38688.rst', 'doc/metadata/rhel7/V-71927.rst', 'tasks/rhel7stig/sshd.yml', 'doc/metadata/rhel6/V-38472.rst', 'doc/metadata/rhel6/V-38602.rst', 'doc/metadata/rhel6/V-38645.rst', 'doc/metadata/rhel7/V-72211.rst', 'doc/metadata/rhel7/V-72081.rst', 'doc/metadata/rhel6/V-38539.rst', 'tests/inventory', 'doc/metadata/rhel6/V-38667.rst', 'doc/metadata/rhel7/V-71933.rst', 'doc/metadata/rhel7/V-72433.rst', 'doc/metadata/rhel6/V-38624.rst', 'doc/metadata/rhel6/V-38551.rst', 'doc/metadata/rhel7/V-72047.rst', 'doc/metadata/rhel7/V-72305.rst', 'tasks/rhel6stig/rpm.yml', 'doc/metadata/rhel6/V-38594.rst', 'doc/source/conf.py', 'doc/metadata/rhel7/V-72175.rst', 'releasenotes/source/unreleased.rst', 'doc/metadata/rhel7/V-72019.rst', 'doc/metadata/rhel6/V-38466.rst', 'doc/metadata/rhel6/V-38545.rst', 'doc/metadata/rhel7/V-71897.rst', 'doc/metadata/rhel6/V-38502.rst', 'doc/metadata/rhel7/V-72181.rst', 'doc/metadata/rhel7/V-72269.rst', 'releasenotes/notes/aide-initialization-fix-16ab0223747d7719.yaml', 'doc/metadata/rhel6/V-38630.rst', 'doc/metadata/rhel7/V-72053.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/d7f838df9c923f7e5e682d1747aa5f5255b6565e', 'message': 'Revert ""Revert ""Retire openstack-ansible-security""""\n\nNow that stable/pike has been released we can re-retire the\nopenstack-ansible-security role.\nNB the .gitreview file has remained in place, so that future stable\nreleases will be successful.\n\nThis reverts commit fe39a30c98f7ea706b930b18e9a37b8e4ce8d6a9.\n\nChange-Id: I1137ca951de2fba3b692c2c77b2030d9b0bd10eb\n'}]",0,504151,d7f838df9c923f7e5e682d1747aa5f5255b6565e,7,3,1,2799,,,0,"Revert ""Revert ""Retire openstack-ansible-security""""

Now that stable/pike has been released we can re-retire the
openstack-ansible-security role.
NB the .gitreview file has remained in place, so that future stable
releases will be successful.

This reverts commit fe39a30c98f7ea706b930b18e9a37b8e4ce8d6a9.

Change-Id: I1137ca951de2fba3b692c2c77b2030d9b0bd10eb
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/51/504151/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/metadata/rhel6/V-38452.rst', 'doc/metadata/rhel6/V-38541.rst', 'doc/metadata/rhel6/V-38622.rst', 'doc/metadata/rhel6/V-38460.rst', 'doc/metadata/rhel7/V-71991.rst', 'doc/metadata/rhel6/V-38525.rst', 'doc/source/_themes/openstack/static/tweaks.css', 'doc/metadata/rhel6/V-38517.rst', 'doc/metadata/rhel6/V-38606.rst', 'doc/metadata/rhel7/V-72195.rst', 'doc/metadata/rhel6/V-38614.rst', 'doc/metadata/rhel7/V-71975.rst', 'templates/pam_faillock.j2', 'doc/metadata/rhel7/V-72101.rst', 'doc/metadata/rhel7/V-71983.rst', 'doc/metadata/rhel7/V-72187.rst', 'releasenotes/source/newton.rst', 'doc/metadata/rhel6/V-51875.rst', 'templates/dconf-gdm-banner-message.j2', 'doc/metadata/rhel6/V-38548.rst', 'doc/metadata/rhel7/V-72221.rst', 'doc/metadata/rhel7/V-72179.rst', 'doc/metadata/rhel6/V-38653.rst', 'doc/metadata/rhel6/V-38629.rst', 'doc/metadata/rhel7/V-72043.rst', 'doc/metadata/rhel6/V-38572.rst', 'doc/metadata/rhel7/V-71967.rst', 'doc/metadata/rhel6/V-38475.rst', 'doc/metadata/rhel7/V-72205.rst', 'doc/metadata/rhel6/V-38491.rst', 'doc/metadata/rhel6/V-38677.rst', 'releasenotes/notes/augenrules-restart-39fe3e1e2de3eaba.yaml', 'doc/metadata/rhel6/V-38444.rst', 'doc/metadata/rhel7/V-72027.rst', 'doc/metadata/rhel7/V-72261.rst', 'doc/metadata/rhel7/V-71919.rst', 'tasks/rhel7stig/aide.yml', 'doc/metadata/rhel7/V-71855.rst', 'doc/metadata/rhel7/V-72155.rst', 'doc/metadata/rhel6/V-38685.rst', 'doc/metadata/rhel7/V-72067.rst', 'doc/metadata/rhel6/V-38499.rst', 'doc/metadata/rhel7/V-72253.rst', 'doc/metadata/rhel7/V-73173.rst', 'doc/Makefile', 'doc/metadata/import-existing-notes.py', 'doc/metadata/rhel6/V-38693.rst', 'doc/metadata/rhel7/V-73165.rst', 'doc/metadata/rhel6/V-38676.rst', 'doc/metadata/rhel6/V-43150.rst', 'doc/metadata/rhel6/V-38587.rst', 'doc/metadata/rhel7/V-72059.rst', 'doc/metadata/rhel7/V-72317.rst', 'doc/metadata/rhel6/V-38459.rst', 'doc/metadata/rhel6/V-38595.rst', 'doc/metadata/rhel6/V-38557.rst', 'releasenotes/notes/disabling-rdisc-centos-75115b3509941bfa.yaml', 'doc/metadata/rhel6/V-38467.rst', 'doc/metadata/rhel6/V-38501.rst', 'handlers/main.yml', 'doc/metadata/rhel6/V-38484.rst', 'doc/metadata/rhel6/V-38668.rst', 'doc/metadata/rhel7/V-71951.rst', 'doc/metadata/rhel6/V-38580.rst', 'doc/metadata/rhel6/V-38661.rst', 'doc/metadata/rhel6/V-38638.rst', 'doc/metadata/rhel7/V-71921.rst', 'doc/metadata/rhel7/V-72035.rst', 'doc/metadata/rhel6/V-38533.rst', 'doc/metadata/rhel7/V-72163.rst', 'doc/metadata/rhel7/V-72133.rst', 'doc/metadata/rhel7/V-72291.rst', 'doc/metadata/template_doc.j2', 'doc/metadata/rhel6/V-38516.rst', 'doc/metadata/rhel7/V-72303.rst', 'doc/metadata/rhel6/V-38621.rst', 'doc/metadata/rhel7/V-72117.rst', 'releasenotes/notes/fix-check-mode-with-tags-bf798856a27c53eb.yaml', 'README.rst', 'doc/source/_themes/openstack/static/default.css', 'doc/metadata/rhel6/V-38443.rst', 'doc/metadata/rhel6/V-38532.rst', 'doc/metadata/rhel7/V-72283.rst', 'doc/metadata/rhel6/V-38605.rst', 'doc/metadata/rhel7/V-71913.rst', 'doc/metadata/rhel7/V-71895.rst', 'doc/metadata/rhel6/V-38437.rst', 'doc/metadata/rhel6/V-38526.rst', 'tasks/rhel6stig/file_perms.yml', 'doc/metadata/rhel6/V-38615.rst', 'doc/source/controls-rhel7.rst', 'doc/metadata/rhel6/V-38654.rst', 'LICENSE', 'doc/metadata/rhel6/V-38565.rst', 'doc/metadata/rhel7/V-72267.rst', 'doc/metadata/rhel7/V-72099.rst', 'doc/metadata/rhel7/V-72123.rst', 'doc/metadata/rhel6/V-38468.rst', 'templates/pwquality.conf.j2', 'doc/metadata/rhel7/V-72277.rst', 'releasenotes/source/index.rst', 'doc/metadata/rhel6/V-38579.rst', 'doc/metadata/rhel6/V-38670.rst', 'doc/metadata/rhel7/V-72013.rst', 'doc/metadata/rhel7/V-72229.rst', 'doc/metadata/rhel6/V-38542.rst', 'doc/metadata/rhel7/V-72141.rst', 'doc/metadata/rhel7/V-71999.rst', 'doc/metadata/rhel6/V-38492.rst', 'doc/metadata/rhel7/V-72107.rst', 'doc/metadata/rhel6/V-38474.rst', 'meta/main.yml', 'doc/metadata/rhel6/V-38686.rst', 'doc/metadata/rhel6/V-38600.rst', 'doc/metadata/rhel7/V-72139.rst', 'releasenotes/source/ocata.rst', 'doc/metadata/template_all.j2', 'doc/metadata/rhel7/V-71863.rst', 'doc/metadata/rhel6/V-38458.rst', 'doc/metadata/rhel7/V-72173.rst', 'doc/metadata/rhel6/V-38547.rst', 'doc/metadata/rhel6/V-38596.rst', 'doc/metadata/stig_to_rst.py', 'doc/metadata/rhel7/V-71935.rst', 'doc/metadata/rhel7/V-72245.rst', 'doc/metadata/rhel7/V-73157.rst', 'doc/metadata/rhel6/V-38637.rst', 'doc/metadata/rhel7/V-72051.rst', 'doc/metadata/rhel6/V-38692.rst', 'doc/metadata/rhel6/V-38675.rst', 'doc/metadata/rhel6/V-38581.rst', 'releasenotes/notes/improved-audit-rule-keys-9fa85f758386446c.yaml', 'doc/metadata/rhel6/V-38453.rst', 'doc/metadata/rhel7/V-72299.rst', 'doc/metadata/rhel6/V-38558.rst', 'doc/metadata/rhel7/V-71989.rst', 'doc/metadata/rhel7/V-72049.rst', 'templates/jail.local.j2', 'doc/metadata/rhel6/V-38660.rst', 'doc/metadata/rhel7/V-71929.rst', 'doc/metadata/rhel7/V-72083.rst', 'doc/metadata/rhel6/V-38669.rst', 'doc/metadata/rhel7/V-71903.rst', 'doc/metadata/rhel7/V-72213.rst', 'doc/metadata/rhel7/V-72223.rst', 'doc/metadata/rhel7/V-72037.rst', 'releasenotes/notes/enable-lsm-bae903e463079a3f.yaml', 'doc/metadata/rhel7/V-71965.rst', 'doc/metadata/rhel6/V-38698.rst', 'doc/metadata/rhel6/V-38620.rst', 'releasenotes/notes/disable-failed-access-audit-logging-789dc01c8bcbef17.yaml', 'doc/metadata/rhel7/V-72207.rst', 'doc/metadata/rhel6/V-38477.rst', 'doc/metadata/rhel6/V-38663.rst', 'doc/metadata/rhel7/V-72215.rst', 'doc/metadata/rhel7/V-71957.rst', 'doc/metadata/rhel6/V-38578.rst', 'doc/metadata/rhel7/V-72029.rst', 'doc/metadata/rhel6/V-38535.rst', 'doc/metadata/template_toc.j2', 'doc/source/faq.rst', 'doc/metadata/rhel7/V-71985.rst', 'doc/metadata/rhel7/V-72009.rst', 'doc/metadata/template_all_rhel7.j2', 'doc/metadata/rhel6/V-38640.rst', 'doc/metadata/rhel7/V-72251.rst', 'doc/source/_themes/openstack/theme.conf', 'doc/metadata/rhel6/V-38590.rst', 'doc/metadata/rhel6/V-38683.rst', 'doc/metadata/rhel7/V-71937.rst', 'doc/metadata/rhel7/V-73159.rst', 'doc/metadata/rhel7/V-72057.rst', 'doc/metadata/rhel6/V-38469.rst', 'doc/metadata/rhel6/V-38462.rst', 'doc/metadata/rhel7/V-71973.rst', 'doc/metadata/rhel7/V-72235.rst', 'doc/source/_themes/openstack/static/basic.css', 'tasks/rhel7stig/main.yml', 'doc/metadata/U_RedHat_6_V1R12_Manual-xccdf.xml', 'doc/metadata/rhel7/V-72185.rst', 'tasks/rhel6stig/services.yml', 'doc/metadata/rhel6/V-38511.rst', 'doc/metadata/rhel6/V-38457.rst', 'doc/metadata/rhel6/V-38482.rst', 'doc/metadata/rhel6/V-38554.rst', 'doc/metadata/rhel6/V-38490.rst', 'doc/metadata/rhel6/V-38597.rst', 'doc/metadata/rhel6/V-38627.rst', 'doc/metadata/rhel7/V-71945.rst', 'doc/metadata/rhel6/V-38512.rst', 'doc/metadata/rhel7/V-73171.rst', 'doc/source/_themes/openstack/static/header-line.gif', 'doc/metadata/rhel7/V-72041.rst', 'doc/metadata/rhel7/V-72165.rst', 'doc/metadata/rhel6/V-38679.rst', 'doc/source/special-notes.rst', 'doc/metadata/rhel7/V-72157.rst', 'doc/metadata/rhel6/V-38636.rst', 'doc/metadata/rhel7/V-71909.rst', 'files/login_banner.txt', 'tests/tests-repo-clone.sh', 'doc/metadata/rhel7/V-72263.rst', 'doc/source/_themes/openstack/static/openstack_logo.png', 'doc/metadata/rhel7/V-72285.rst', 'doc/metadata/rhel6/V-38582.rst', 'doc/metadata/rhel6/V-38497.rst', 'doc/metadata/rhel6/V-38454.rst', 'doc/metadata/rhel7/V-72065.rst', 'doc/metadata/rhel7/V-71917.rst', 'doc/metadata/rhel6/V-38527.rst', 'doc/metadata/rhel6/V-38655.rst', 'doc/metadata/rhel6/V-38612.rst', 'doc/metadata/rhel6/V-38691.rst', 'doc/metadata/rhel7/V-72417.rst', 'doc/metadata/rhel7/V-73167.rst', 'doc/metadata/rhel7/V-72129.rst', 'doc/metadata/rhel7/V-72193.rst', 'doc/metadata/rhel6/V-38563.rst', 'doc/source/getting-started.rst', 'doc/metadata/rhel6/V-38520.rst', 'doc/metadata/rhel6/V-38608.rst', 'doc/metadata/rhel6/V-51363.rst', 'doc/metadata/rhel6/V-38613.rst', 'library/get_users', 'tasks/rhel6stig/auditd.yml', 'doc/metadata/rhel7/V-71923.rst', 'doc/metadata/rhel6/V-38690.rst', 'doc/metadata/rhel7/V-71893.rst', 'doc/metadata/rhel7/V-72143.rst', 'releasenotes/notes/rhel-gpg-check-0b483a824314d1b3.yaml', 'doc/metadata/rhel6/V-38540.rst', 'defaults/main.yml', 'doc/metadata/rhel7/V-71915.rst', 'doc/metadata/rhel7/V-71859.rst', 'doc/metadata/rhel6/V-38534.rst', 'doc/metadata/rhel7/V-72259.rst', 'templates/dconf-screensaver-lock.j2', 'doc/metadata/rhel6/V-38583.rst', 'doc/metadata/rhel7/V-72293.rst', 'doc/metadata/rhel7/V-72109.rst', 'doc/metadata/rhel6/V-38476.rst', 'doc/metadata/rhel6/V-51391.rst', 'releasenotes/notes/auditing-mac-policy-changes-fb83e0260a6431ed.yaml', 'doc/metadata/rhel7/V-72301.rst', 'doc/metadata/rhel6/V-38549.rst', 'releasenotes/notes/adding-v38526-381a407caa566b14.yaml', 'README.md', 'doc/metadata/rhel7/V-71943.rst', 'doc/metadata/rhel7/V-72171.rst', 'doc/metadata/rhel6/V-38555.rst', 'doc/metadata/rhel6/V-54381.rst', 'doc/metadata/rhel7/V-72315.rst', 'doc/source/_exts/metadata-docs-rhel7.py', 'tasks/rhel6stig/apt.yml', 'templates/ZZ_aide_exclusions.j2', 'doc/metadata/rhel6/V-38598.rst', 'doc/metadata/rhel6/V-38461.rst', 'doc/metadata/rhel6/V-51337.rst', 'doc/metadata/rhel7/V-72137.rst', 'setup.cfg', 'doc/metadata/rhel7/V-72265.rst', 'releasenotes/notes/unique-variable-migration-c0639030b495438f.yaml', 'doc/metadata/rhel7/V-71901.rst', 'releasenotes/notes/add-v38438-3f7e905892be4b4f.yaml', 'doc/metadata/rhel6/V-38678.rst', 'doc/metadata/rhel6/V-38635.rst', 'doc/metadata/rhel7/V-71987.rst', 'doc/metadata/rhel7/V-72091.rst', 'doc/metadata/rhel6/V-38449.rst', 'tasks/rhel7stig/auditd.yml', 'doc/metadata/rhel7/V-72121.rst', 'doc/source/_exts/metadata-docs.py', 'doc/metadata/rhel7/V-72309.rst', 'doc/metadata/rhel7/V-72015.rst', 'releasenotes/notes/aide-exclude-run-4d3c97a2d08eb373.yaml', 'doc/metadata/rhel7/V-72237.rst', 'doc/metadata/rhel7/V-72271.rst', 'Vagrantfile', 'doc/metadata/rhel6/V-38556.rst', 'doc/metadata/rhel6/V-38641.rst', 'doc/metadata/rhel6/V-38513.rst', 'doc/metadata/rhel7/V-72085.rst', 'doc/metadata/rhel6/V-38455.rst', 'doc/metadata/rhel6/V-38628.rst', 'releasenotes/notes/reduce-auditd-logging-633677a74aee5481.yaml', 'doc/metadata/rhel6/V-38684.rst', 'doc/metadata/rhel6/V-38498.rst', 'tasks/rhel7stig/graphical.yml', 'doc/metadata/rhel6/V-38662.rst', 'doc/metadata/rhel7/V-71993.rst', 'doc/metadata/rhel6/V-38607.rst', 'doc/metadata/rhel7/V-72115.rst', 'doc/metadata/rhel7/V-72209.rst', 'doc/metadata/rhel7/V-72021.rst', 'doc/metadata/rhel6/V-38577.rst', 'doc/metadata/rhel6/V-38528.rst', 'doc/metadata/rhel7/V-72243.rst', 'tasks/rhel6stig/lsm.yml', 'doc/metadata/rhel7/V-71959.rst', 'doc/metadata/rhel7/V-72079.rst', 'doc/metadata/rhel6/V-38699.rst', 'doc/metadata/rhel6/V-38483.rst', 'doc/metadata/rhel6/V-38656.rst', 'doc/metadata/rhel6/V-38584.rst', 'doc/metadata/template_doc_rhel7.j2', 'tasks/main.yml', 'doc/metadata/rhel6/V-38487.rst', 'doc/metadata/rhel6/V-38495.rst', 'doc/metadata/rhel7/V-73177.rst', 'doc/metadata/rhel6/V-38673.rst', 'test-requirements.txt', 'doc/metadata/rhel6/V-38479.rst', 'releasenotes/source/liberty.rst', 'doc/metadata/rhel6/V-38568.rst', 'doc/metadata/rhel6/V-38592.rst', 'doc/metadata/rhel6/V-38681.rst', 'doc/metadata/rhel6/V-38657.rst', 'doc/metadata/rhel6/V-38649.rst', 'doc/metadata/rhel7/V-72063.rst', 'templates/osas-auditd-rhel7.j2', 'releasenotes/notes/customizable-login-banner-string-d8d5ae874e8e49f3.yaml', 'tasks/rhel6stig/sshd.yml', 'doc/metadata/rhel7/V-72055.rst', 'doc/metadata/rhel7/V-72241.rst', 'doc/metadata/rhel7/V-72217.rst', 'doc/metadata/rhel7/V-72039.rst', 'doc/metadata/rhel7/V-72183.rst', 'doc/metadata/rhel6/V-57569.rst', 'doc/metadata/rhel7/V-72191.rst', 'doc/metadata/rhel7/V-72233.rst', 'doc/metadata/rhel6/V-38599.rst', 'doc/metadata/rhel6/V-38610.rst', 'doc/metadata/rhel6/V-51379.rst', 'releasenotes/notes/configurable-martian-logging-370ede40b036db0b.yaml', 'doc/metadata/rhel7/V-71939.rst', 'doc/metadata/rhel6/V-38480.rst', 'doc/metadata/rhel7/V-71971.rst', 'doc/metadata/rhel6/V-38696.rst', 'run_tests.sh', 'doc/metadata/rhel7/V-72167.rst', 'doc/metadata/rhel6/V-38634.rst', 'releasenotes/source/mitaka.rst', 'doc/metadata/rhel6/V-38665.rst', 'tasks/rhel6stig/console.yml', 'doc/metadata/rhel6/V-38537.rst', 'doc/metadata/rhel7/V-71955.rst', 'doc/metadata/rhel7/V-72007.rst', 'doc/metadata/rhel7/V-72279.rst', 'doc/metadata/rhel6/V-38529.rst', 'doc/metadata/rhel7/V-71979.rst', 'templates/sshd_config_block.j2', 'doc/metadata/rhel7/V-72287.rst', 'tasks/rhel6stig/auth.yml', 'releasenotes/source/_templates/.placeholder', 'tests/vagrant.yml', 'doc/metadata/rhel6/V-38456.rst', 'doc/metadata/rhel6/V-38642.rst', 'doc/metadata/rhel7/V-72201.rst', 'doc/metadata/rhel6/V-38650.rst', 'bindep.txt', 'doc/metadata/rhel6/V-38544.rst', 'doc/metadata/rhel7/V-72105.rst', 'doc/metadata/rhel6/V-38552.rst', 'doc/metadata/rhel6/V-38561.rst', 'tasks/rhel7stig/file_perms.yml', 'releasenotes/notes/disable-rpm-perms-fix-by-default-b164e39717f0ada7.yaml', 'doc/metadata/rhel7/V-71947.rst', 'manual-test.rc', 'releasenotes/notes/package-state-present-951161faa5384abd.yaml', 'doc/metadata/rhel6/V-38514.rst', 'doc/metadata/rhel7/V-72095.rst', 'doc/metadata/rhel7/V-72225.rst', 'files/V-38682-modprobe.conf', 'doc/metadata/rhel6/V-38471.rst', 'doc/metadata/rhel6/V-38625.rst', 'doc/metadata/rhel7/V-72159.rst', 'doc/source/index.rst', 'doc/metadata/rhel7/V-72071.rst', 'doc/metadata/rhel6/V-38448.rst', 'doc/source/controls.rst', 'releasenotes/notes/search-for-unlabeled-devices-cb047c5f767e93ce.yaml', 'doc/metadata/rhel6/V-38576.rst', 'doc/metadata/rhel6/V-38559.rst', 'doc/metadata/rhel7/V-72435.rst', 'tasks/rhel7stig/auth.yml', 'doc/metadata/rhel6/V-38648.rst', 'doc/metadata/rhel7/V-71931.rst', 'doc/metadata/rhel7/V-72151.rst', 'doc/metadata/rhel7/V-72249.rst', 'doc/metadata/rhel6/V-38478.rst', 'doc/metadata/rhel6/V-38664.rst', 'doc/metadata/rhel6/V-38575.rst', 'setup.py', 'doc/metadata/rhel7/V-72257.rst', 'doc/metadata/rhel6/V-38486.rst', 'releasenotes/notes/.placeholder', 'doc/metadata/rhel6/V-38591.rst', 'tasks/rhel6stig/kernel.yml', 'doc/metadata/rhel7/V-72127.rst', 'releasenotes/notes/enable-tcp-syncookes-boolean-4a884a66a3a0e4d7.yaml', 'doc/metadata/rhel7/V-72313.rst', 'vars/redhat.yml', 'doc/metadata/rhel6/V-38658.rst', 'doc/metadata/rhel6/V-38569.rst', 'doc/metadata/rhel6/V-38522.rst', 'doc/metadata/rhel7/V-72161.rst', 'releasenotes/notes/implemented-v38524-b357edec95128307.yaml', 'doc/metadata/rhel7/V-72135.rst', 'doc/metadata/rhel6/V-38697.rst', 'doc/metadata/rhel6/V-38560.rst', 'doc/metadata/rhel7/V-71925.rst', 'doc/metadata/rhel7/V-71891.rst', 'doc/metadata/rhel6/V-38463.rst', 'doc/metadata/rhel6/V-38700.rst', 'templates/osas-auditd.j2', 'doc/metadata/rhel6/V-38633.rst', 'doc/metadata/rhel6/V-38536.rst', 'doc/metadata/rhel7/V-72093.rst', 'doc/metadata/rhel7/V-71941.rst', 'doc/metadata/rhel7/V-72087.rst', 'doc/metadata/rhel7/V-71907.rst', 'doc/metadata/rhel6/V-38585.rst', 'files/dconf-user-profile', 'doc/metadata/rhel7/V-73163.rst', 'releasenotes/notes/shosts-file-search-opt-in-887f600a79eef07e.yaml', 'doc/metadata/rhel7/V-72295.rst', 'releasenotes/notes/support-for-centos-xenial-2b89c318cc3df4b0.yaml', 'tasks/rhel7stig/apt.yml', 'doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R1_Manual-xccdf.xml', 'doc/metadata/rhel6/V-38682.rst', 'doc/metadata/rhel7/V-72001.rst', 'doc/metadata/rhel6/V-38626.rst', 'doc/metadata/rhel6/V-38609.rst', 'doc/metadata/rhel7/V-72199.rst', 'doc/metadata/rhel7/V-71995.rst', 'doc/metadata/rhel7/V-72307.rst', 'templates/dconf-session-user-config-lockout.j2', 'doc/metadata/rhel6/V-38553.rst', 'releasenotes/notes/fix-audit-log-permission-bug-81a772e2e6d0a5b3.yaml', 'releasenotes/notes/disable-graphical-interface-5db89cd1bef7e12d.yaml', 'doc/metadata/rhel6/V-38504.rst', 'doc/metadata/rhel6/V-38570.rst', 'doc/metadata/rhel6/V-38464.rst', 'doc/metadata/rhel7/V-71899.rst', 'doc/metadata/rhel7/V-72113.rst', 'files/dconf-profile-gdm', 'doc/metadata/rhel7/V-72077.rst', 'doc/metadata/rhel6/V-38481.rst', 'doc/metadata/rhel6/V-38632.rst', 'doc/metadata/rhel6/V-38611.rst', 'doc/metadata/rhel7/V-71963.rst', 'doc/source/_static/.gitkeep', 'doc/metadata/rhel7/V-72017.rst', 'tasks/rhel7stig/rpm.yml', 'doc/metadata/rhel6/V-38521.rst', 'doc/metadata/rhel7/V-72145.rst', 'doc/metadata/rhel6/V-38447.rst', 'doc/metadata/rhel7/V-72273.rst', 'doc/metadata/rhel7/V-72239.rst', 'doc/metadata/rhel7/V-72023.rst', 'doc/metadata/rhel6/V-38515.rst', 'doc/metadata/rhel6/V-38496.rst', 'tasks/rhel7stig/lsm.yml', 'doc/metadata/rhel6/V-38470.rst', 'doc/metadata/rhel6/V-38643.rst', 'releasenotes/source/conf.py', 'doc/metadata/rhel7/V-71949.rst', 'doc/metadata/rhel7/V-72177.rst', 'doc/metadata/rhel7/V-72231.rst', 'doc/metadata/rhel7/V-72045.rst', 'doc/metadata/rhel7/V-72169.rst', 'releasenotes/notes/adding-v38548-9c51b30bf9780ff3.yaml', 'doc/metadata/rhel6/V-38639.rst', 'doc/metadata/rhel6/V-38566.rst', 'doc/metadata/rhel6/V-38531.rst', 'tasks/rhel7stig/packages.yml', 'doc/metadata/rhel6/V-38671.rst', 'doc/metadata/rhel6/V-38574.rst', 'doc/metadata/rhel6/V-38446.rst', 'releasenotes/notes/dictionary-variables-removed-957c7b7b2108ba1f.yaml', 'tasks/rhel7stig/misc.yml', 'doc/source/_themes/openstack/static/nature.css', 'doc/metadata/rhel6/V-38489.rst', 'doc/metadata/rhel6/V-38500.rst', 'doc/metadata/rhel6/V-38493.rst', 'doc/metadata/rhel6/V-38543.rst', 'doc/metadata/rhel6/V-38586.rst', 'doc/metadata/rhel6/V-38438.rst', 'doc/metadata/rhel7/V-72073.rst', 'doc/metadata/rhel6/V-38450.rst', 'doc/metadata/rhel7/V-72149.rst', 'doc/metadata/rhel7/V-72203.rst', 'doc/metadata/rhel7/V-73175.rst', 'doc/metadata/rhel6/V-38616.rst', 'doc/metadata/rhel7/V-72197.rst', 'doc/metadata/rhel7/V-71969.rst', 'doc/metadata/rhel6/V-38659.rst', 'doc/metadata/rhel7/V-71861.rst', 'vars/main.yml', 'doc/metadata/rhel6/V-38523.rst', 'doc/metadata/rhel7/V-72111.rst', 'doc/metadata/rhel6/V-38701.rst', 'tasks/rhel6stig/main.yml', 'doc/metadata/rhel7/V-72061.rst', 'doc/metadata/template_toc_rhel7.j2', 'doc/metadata/rhel6/V-38519.rst', 'doc/metadata/rhel6/V-38647.rst', 'doc/metadata/rhel6/V-38604.rst', 'doc/metadata/rhel6/V-38589.rst', 'doc/metadata/rhel7/V-72219.rst', 'doc/metadata/rhel6/V-38503.rst', 'doc/metadata/rhel6/V-38546.rst', 'doc/metadata/rhel6/V-38571.rst', 'doc/source/_themes/openstack/layout.html', 'doc/metadata/rhel6/V-38465.rst', 'doc/metadata/rhel6/V-38473.rst', 'doc/metadata/rhel6/V-38538.rst', 'doc/metadata/rhel7/V-72227.rst', 'doc/metadata/rhel6/V-58901.rst', 'doc/metadata/rhel6/V-38644.rst', 'doc/metadata/rhel6/V-38601.rst', 'templates/chrony.conf.j2', 'doc/metadata/rhel7/V-72033.rst', 'doc/metadata/rhel7/V-72289.rst', 'doc/metadata/rhel7/V-71953.rst', 'doc/metadata/rhel7/V-72131.rst', 'tasks/rhel6stig/misc.yml', 'releasenotes/notes/ntp-bind-local-interfaces-only-05f03de632e81097.yaml', 'doc/metadata/rhel6/V-38619.rst', 'tasks/rhel7stig/kernel.yml', 'doc/metadata/rhel7/V-72255.rst', 'doc/metadata/rhel7/V-72319.rst', 'files/20auto-upgrades', 'tests/test.yml', 'doc/metadata/rhel6/V-38674.rst', 'doc/metadata/rhel7/V-72189.rst', 'doc/metadata/rhel6/V-38631.rst', 'doc/metadata/rhel7/V-72103.rst', 'doc/metadata/rhel6/V-38687.rst', 'releasenotes/notes/handling-sshd-match-stanzas-fa40b97689004e46.yaml', 'doc/metadata/rhel7/V-71977.rst', 'releasenotes/notes/chrony-config-variable-7a1a7862c05c9675.yaml', 'tasks/rhel6stig/nfsd.yml', 'doc/metadata/rhel6/V-38593.rst', 'doc/metadata/rhel7/V-72005.rst', 'doc/metadata/rhel7/V-71849.rst', 'doc/metadata/rhel6/V-38550.rst', 'tasks/rhel6stig/boot.yml', 'doc/metadata/rhel7/V-71981.rst', 'tasks/rhel6stig/aide.yml', 'doc/metadata/rhel6/V-38702.rst', 'doc/metadata/rhel7/V-72125.rst', 'doc/metadata/rhel7/V-72311.rst', 'doc/metadata/rhel6/V-38672.rst', 'doc/metadata/rhel7/V-72097.rst', 'doc/metadata/rhel7/V-72011.rst', 'releasenotes/notes/package-state-6684c5634bdf127a.yaml', 'tasks/rhel7stig/accounts.yml', 'doc/metadata/rhel6/V-38680.rst', 'doc/metadata/rhel6/V-38494.rst', 'doc/metadata/rhel6/V-38666.rst', 'doc/metadata/rhel7/V-72275.rst', 'doc/metadata/rhel6/V-38451.rst', 'doc/metadata/rhel7/V-72089.rst', 'doc/metadata/rhel6/V-38623.rst', 'doc/source/developer-guide.rst', 'doc/metadata/rhel7/V-71905.rst', 'doc/metadata/rhel7/V-72003.rst', 'doc/metadata/rhel7/V-73161.rst', 'doc/metadata/rhel7/V-72427.rst', 'doc/metadata/rhel7/V-72153.rst', 'doc/metadata/rhel6/V-38573.rst', 'doc/metadata/rhel6/V-38518.rst', 'doc/metadata/rhel6/V-38530.rst', 'doc/metadata/rhel7/V-72247.rst', 'doc/metadata/rhel6/V-38646.rst', 'doc/metadata/rhel6/V-38689.rst', 'vars/debian.yml', 'doc/metadata/rhel7/V-71911.rst', 'doc/metadata/rhel7/V-72119.rst', 'doc/metadata/rhel7/V-72281.rst', 'doc/metadata/rhel7/V-71997.rst', 'doc/metadata/rhel6/V-38603.rst', 'doc/metadata/rhel6/V-38445.rst', 'doc/metadata/rhel7/V-72069.rst', 'doc/metadata/rhel6/V-38488.rst', 'releasenotes/notes/rhel7-stig-default-f6c7c97498a8b2e7.yaml', 'doc/metadata/rhel7/V-72031.rst', 'releasenotes/notes/disable-netconsole-service-915bb33449b4012c.yaml', 'doc/metadata/rhel6/V-38439.rst', 'doc/metadata/rhel6/V-38695.rst', 'doc/metadata/rhel6/V-38652.rst', 'doc/metadata/rhel6/V-38567.rst', 'doc/metadata/rhel6/V-38617.rst', 'tox.ini', 'doc/metadata/rhel6/V-38524.rst', 'doc/metadata/rhel7/V-72075.rst', 'doc/metadata/rhel7/V-73155.rst', 'doc/metadata/rhel6/V-38651.rst', 'doc/metadata/rhel6/V-51369.rst', 'doc/metadata/rhel7/V-71961.rst', 'doc/metadata/rhel6/V-38588.rst', 'tasks/rhel6stig/mail.yml', 'doc/metadata/rhel6/V-38694.rst', 'doc/metadata/rhel7/V-72147.rst', 'doc/metadata/rhel6/V-38618.rst', 'doc/metadata/rhel7/V-72025.rst', 'doc/metadata/rhel7/V-72297.rst', 'doc/source/_themes/openstack/static/header_bg.jpg', 'releasenotes/source/_static/.placeholder', 'releasenotes/notes/stig-rhel7-version-1-renumbering-fiesta-aa047fea3ea35e74.yaml', 'doc/metadata/rhel6/V-38688.rst', 'doc/metadata/rhel7/V-71927.rst', 'tasks/rhel7stig/sshd.yml', 'doc/metadata/rhel6/V-38472.rst', 'doc/metadata/rhel6/V-38602.rst', 'doc/metadata/rhel6/V-38645.rst', 'doc/metadata/rhel7/V-72211.rst', 'doc/metadata/rhel7/V-72081.rst', 'doc/metadata/rhel6/V-38539.rst', 'tests/inventory', 'doc/metadata/rhel6/V-38667.rst', 'doc/metadata/rhel7/V-71933.rst', 'doc/metadata/rhel7/V-72433.rst', 'doc/metadata/rhel6/V-38624.rst', 'doc/metadata/rhel6/V-38551.rst', 'doc/metadata/rhel7/V-72047.rst', 'doc/metadata/rhel7/V-72305.rst', 'tasks/rhel6stig/rpm.yml', 'doc/metadata/rhel6/V-38594.rst', 'doc/source/conf.py', 'doc/metadata/rhel7/V-72175.rst', 'releasenotes/source/unreleased.rst', 'doc/metadata/rhel7/V-72019.rst', 'doc/metadata/rhel6/V-38466.rst', 'doc/metadata/rhel6/V-38545.rst', 'doc/metadata/rhel7/V-71897.rst', 'doc/metadata/rhel6/V-38502.rst', 'doc/metadata/rhel7/V-72181.rst', 'doc/metadata/rhel7/V-72269.rst', 'releasenotes/notes/aide-initialization-fix-16ab0223747d7719.yaml', 'doc/metadata/rhel6/V-38630.rst', 'doc/metadata/rhel7/V-72053.rst']",643,d7f838df9c923f7e5e682d1747aa5f5255b6565e,,,"--- id: V-72053 status: implemented tag: file_perms --- The tasks in the security role check for the existence of ``/etc/cron.allow`` and set both the user and group ownership to ``root``. This is the default on Ubuntu, CentOS, and Red Hat Enterprise Linux systems already. ",10,34124
openstack%2Fos-net-config~master~I70a779782ab87cd4f74f3c50b0e649f503b386e3,openstack/os-net-config,master,I70a779782ab87cd4f74f3c50b0e649f503b386e3,Allow to pass more than two DNS while putting 2 DNS,MERGED,2017-09-13 05:38:37.000000000,2017-09-14 18:01:05.000000000,2017-09-14 12:27:11.000000000,"[{'_account_id': 3}, {'_account_id': 6681}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 21908}, {'_account_id': 26828}]","[{'number': 1, 'created': '2017-09-13 05:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9abaa01c28a7beb8b599511274e25722728d2f9d', 'message': 'WIP: proof of issue with DNSServer using the unit tests\n\nFirst prove there is an issue with the script, then find out how to\nsquash it down.\n\nChange-Id: I70a779782ab87cd4f74f3c50b0e649f503b386e3\nRelated-Bug: #1716171\n'}, {'number': 2, 'created': '2017-09-13 06:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1ba59a3cad9b51dfdee394479aa2a703a4b7cf21', 'message': 'Allow to pass more than two DNS while putting 2 DNS\n\nUntil now, when we pass more than 2 DNS, only the first one is added in\nthe ifcg-* config files.\n\nThis patch-set proof the issue, and proof the correction actually works.\n\nChange-Id: I70a779782ab87cd4f74f3c50b0e649f503b386e3\nCloses-Bug: #1716171\n'}, {'number': 3, 'created': '2017-09-13 06:09:21.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8ddab87c6ee2e80025e9340d806f93921779198b', 'message': 'Allow to pass more than two DNS while putting 2 DNS\n\nUntil now, when we pass more than 2 DNS, only the first one is added in\nthe ifcg-* config files.\n\nThis patch-set proves the issue, and proves the correction actually works.\n\nChange-Id: I70a779782ab87cd4f74f3c50b0e649f503b386e3\nCloses-Bug: #1716171\n'}]",2,503532,8ddab87c6ee2e80025e9340d806f93921779198b,24,6,3,26828,,,0,"Allow to pass more than two DNS while putting 2 DNS

Until now, when we pass more than 2 DNS, only the first one is added in
the ifcg-* config files.

This patch-set proves the issue, and proves the correction actually works.

Change-Id: I70a779782ab87cd4f74f3c50b0e649f503b386e3
Closes-Bug: #1716171
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/32/503532/3 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/tests/test_impl_ifcfg.py'],1,9abaa01c28a7beb8b599511274e25722728d2f9d,bug/1716171," def test_interface_more_dns_servers(self): interface1 = objects.Interface('em1', dns_servers=['1.2.3.4', '5.6.7.8', '9.10.11.12']) self.provider.add_interface(interface1) em1_config = """"""# This file is autogenerated by os-net-config DEVICE=em1 HOTPLUG=no ONBOOT=yes NM_CONTROLLED=no BOOTPROTO=none DNS1=1.2.3.4 DNS2=5.6.7.8 """""" self.assertEqual(em1_config, self.get_interface_config('em1')) ",,16,0
openstack%2Fapi-site~master~I0bfef7e2e936a67ef2cc9efcd802a6c918305374,openstack/api-site,master,I0bfef7e2e936a67ef2cc9efcd802a6c918305374,Publish translated firstapp guides properly,MERGED,2017-09-14 17:50:05.000000000,2017-09-14 18:00:39.000000000,2017-09-14 18:00:39.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 10607}, {'_account_id': 17765}]","[{'number': 1, 'created': '2017-09-14 17:50:05.000000000', 'files': ['tox.ini', 'tools/mv-firstapp-trans.sh'], 'web_link': 'https://opendev.org/openstack/api-site/commit/a07cffc1d932d3a699a3a16ce151b1d7de6ebea0', 'message': 'Publish translated firstapp guides properly\n\nWildcards do not work in tox.ini, use a shell script instead to\nmove the content.\n\nChange-Id: I0bfef7e2e936a67ef2cc9efcd802a6c918305374\n'}]",0,504152,a07cffc1d932d3a699a3a16ce151b1d7de6ebea0,8,4,1,6547,,,0,"Publish translated firstapp guides properly

Wildcards do not work in tox.ini, use a shell script instead to
move the content.

Change-Id: I0bfef7e2e936a67ef2cc9efcd802a6c918305374
",git fetch https://review.opendev.org/openstack/api-site refs/changes/52/504152/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tools/mv-firstapp-trans.sh']",2,a07cffc1d932d3a699a3a16ce151b1d7de6ebea0,firstapp-de2,"#!/bin/bash -xe LANGDIR=$1 if [[ -z ""$LANGDIR"" ]] ; then echo ""usage $0 language"" exit 1 fi # Move all firstapp files for one language into the api-ref directory # since that directory is used for publishing. mkdir -p publish-docs/api-ref/$LANGDIR/ mv publish-docs/$LANGDIR/firstapp* publish-docs/api-ref/$LANGDIR/ ",,18,1
openstack%2Fopenstack-ansible-tests~master~Idf55daa853ff73602bfe6d2862080bfd874e17f4,openstack/openstack-ansible-tests,master,Idf55daa853ff73602bfe6d2862080bfd874e17f4,Unwedge the openstack-ansible-tests gate,MERGED,2017-09-13 15:41:12.000000000,2017-09-14 17:55:25.000000000,2017-09-14 17:55:25.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-09-13 15:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c27e8a7c44ddb9b66e7d1c0d6a11778235fcdd35', 'message': 'Set the LXC download mirror properly\n\nThe LXC reverse proxy from nodepool was not being used by the\nlxc_hosts role and this patch fixes it.\n\nCloses-Bug: 1716958\nChange-Id: Idf55daa853ff73602bfe6d2862080bfd874e17f4\n'}, {'number': 2, 'created': '2017-09-14 14:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8c544e3faf0bf474c2c5bcfb6934fede87d63f6a', 'message': 'Unwedge the openstack-ansible-tests gate\n\nThis is a combined patch that does two things:\n\n1. Set the LXC download mirror properly\n\nThe LXC reverse proxy from nodepool was not being used by the\nlxc_hosts role and this patch fixes it.\n\nCloses-Bug: 1716958\n\n2. Pin the keystone role SHA\n\nKeystone has removed various v2 APIs but tempest still wants to\ntest them. This buys us some time to get tempest fixed and\nwe can remove the pin.\n\nRelated-Bug: 1717011\nChange-Id: Idf55daa853ff73602bfe6d2862080bfd874e17f4\n'}, {'number': 3, 'created': '2017-09-14 15:59:34.000000000', 'files': ['common-tasks/test-set-nodepool-vars.yml', 'test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b068c49acabd969b78355d773390edc0094d8235', 'message': 'Unwedge the openstack-ansible-tests gate\n\nThis is a combined patch that does two things:\n\n1. Set the LXC download mirror properly\n\nThe LXC reverse proxy from nodepool was not being used by the\nlxc_hosts role and this patch fixes it.\n\nCloses-Bug: 1716958\n\n2. Pin the keystone role SHA\n\nKeystone has removed various v2 APIs but tempest still wants to\ntest them. This buys us some time to get tempest fixed and\nwe can remove the pin.\n\nRelated-Bug: 1717011\nChange-Id: Idf55daa853ff73602bfe6d2862080bfd874e17f4\n'}]",0,503716,b068c49acabd969b78355d773390edc0094d8235,16,5,3,538,,,0,"Unwedge the openstack-ansible-tests gate

This is a combined patch that does two things:

1. Set the LXC download mirror properly

The LXC reverse proxy from nodepool was not being used by the
lxc_hosts role and this patch fixes it.

Closes-Bug: 1716958

2. Pin the keystone role SHA

Keystone has removed various v2 APIs but tempest still wants to
test them. This buys us some time to get tempest fixed and
we can remove the pin.

Related-Bug: 1717011
Change-Id: Idf55daa853ff73602bfe6d2862080bfd874e17f4
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/16/503716/3 && git format-patch -1 --stdout FETCH_HEAD,['common-tasks/test-set-nodepool-vars.yml'],1,c27e8a7c44ddb9b66e7d1c0d6a11778235fcdd35,bug/1716958," echo ""http://${NODEPOOL_MIRROR_HOST}:8080/images.linuxcontainers/"" lxc_image_cache_server_mirrors: ""{{ [lxc_reverse_proxy.stdout] }}"""," echo ""${NODEPOOL_MIRROR_HOST}:8080/images.linuxcontainers"" lxc_image_cache_server: ""{{ lxc_reverse_proxy.stdout }}""",2,2
openstack%2Fproject-config~master~Icea27d0de8fce1275f5008e336f7b6711f353913,openstack/project-config,master,Icea27d0de8fce1275f5008e336f7b6711f353913,Add ansible dependencies to infra-package-needs,MERGED,2017-09-14 00:16:48.000000000,2017-09-14 17:46:49.000000000,2017-09-14 17:46:49.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 9061}]","[{'number': 1, 'created': '2017-09-14 00:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c1af5a25b703d6a509702b82dd262dd72ebe0914', 'message': 'Add ansible dependencies to infra-package-needs\n\nChange-Id: Icea27d0de8fce1275f5008e336f7b6711f353913\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2017-09-14 01:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8dd321fd3b2bdc655acf79c7b7da086c14afd2ce', 'message': 'Add ansible dependencies to infra-package-needs\n\nChange-Id: Icea27d0de8fce1275f5008e336f7b6711f353913\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2017-09-14 16:31:16.000000000', 'files': ['nodepool/elements/zuul-worker/pkg-map', 'nodepool/elements/zuul-worker/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fd3af3c91bceb251ed7733b6ab5ec8d761971e77', 'message': 'Add ansible dependencies to infra-package-needs\n\nLets use zuul-worker element to install more ansible task\ndependencies.\n\nChange-Id: Icea27d0de8fce1275f5008e336f7b6711f353913\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",2,503880,fd3af3c91bceb251ed7733b6ab5ec8d761971e77,15,5,3,4162,,,0,"Add ansible dependencies to infra-package-needs

Lets use zuul-worker element to install more ansible task
dependencies.

Change-Id: Icea27d0de8fce1275f5008e336f7b6711f353913
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/503880/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/package-installs.yaml']",2,c1af5a25b703d6a509702b82dd262dd72ebe0914,, # ansible depends apt-transport-https: python-apt:,,14,0
openstack%2Fkarbor~master~Ic2448837bea45c94741eadbeeac33620cb73e125,openstack/karbor,master,Ic2448837bea45c94741eadbeeac33620cb73e125,Fix improper type for some like UUID fileds in objects.,MERGED,2017-09-12 00:19:33.000000000,2017-09-14 17:40:15.000000000,2017-09-14 17:40:15.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}, {'_account_id': 22484}]","[{'number': 1, 'created': '2017-09-12 00:19:33.000000000', 'files': ['karbor/objects/checkpoint_record.py', 'karbor/objects/scheduled_operation.py', 'karbor/objects/trigger.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/ae495b757e9814363b83bde4722750703e1ecb9b', 'message': ""Fix improper type for some like UUID fileds in objects.\n\nLike 'operation_id' of 'CheckpointRecord', it should be UUID.\n\nChange-Id: Ic2448837bea45c94741eadbeeac33620cb73e125\nCloses-Bug: #1716224\n""}]",0,502870,ae495b757e9814363b83bde4722750703e1ecb9b,9,4,1,23950,,,0,"Fix improper type for some like UUID fileds in objects.

Like 'operation_id' of 'CheckpointRecord', it should be UUID.

Change-Id: Ic2448837bea45c94741eadbeeac33620cb73e125
Closes-Bug: #1716224
",git fetch https://review.opendev.org/openstack/karbor refs/changes/70/502870/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/objects/checkpoint_record.py', 'karbor/objects/scheduled_operation.py', 'karbor/objects/trigger.py']",3,ae495b757e9814363b83bde4722750703e1ecb9b,bug/1716224," 'project_id': fields.UUIDField(),"," 'project_id': fields.StringField(),",4,4
openstack%2Fpython-freezerclient~master~Ie0d3b274b73ec42c2e497d56d7124c1f10974184,openstack/python-freezerclient,master,Ie0d3b274b73ec42c2e497d56d7124c1f10974184,Updated from global requirements,MERGED,2017-09-13 13:01:55.000000000,2017-09-14 17:37:35.000000000,2017-09-14 17:37:35.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-09-13 13:01:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/a9e69139db2fc1d8277a945692e06b4a0a4e4ff2', 'message': 'Updated from global requirements\n\nChange-Id: Ie0d3b274b73ec42c2e497d56d7124c1f10974184\n'}]",0,503666,a9e69139db2fc1d8277a945692e06b4a0a4e4ff2,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ie0d3b274b73ec42c2e497d56d7124c1f10974184
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/66/503666/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a9e69139db2fc1d8277a945692e06b4a0a4e4ff2,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fnetworking-bgpvpn~master~I6bfaca7de99c6ef6834375d4e5b3218a50a60491,openstack/networking-bgpvpn,master,I6bfaca7de99c6ef6834375d4e5b3218a50a60491,Fix post gate hook to accommodate for new os-testr,MERGED,2017-09-13 19:33:07.000000000,2017-09-14 17:35:53.000000000,2017-09-14 17:35:53.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-09-13 19:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/2b76232030dfbebb8ac6e0e351622b5b2d674f0f', 'message': ""Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn't seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nChange-Id: I6bfaca7de99c6ef6834375d4e5b3218a50a60491\nCloses-Bug: 1716746\n""}, {'number': 2, 'created': '2017-09-13 21:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1f91e86a08a0dea07e636cf330f8416184b0b4da', 'message': ""Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn't seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nChange-Id: I6bfaca7de99c6ef6834375d4e5b3218a50a60491\nCloses-Bug: 1716746\n""}, {'number': 3, 'created': '2017-09-13 21:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/87874b1fccf36d6261ba49918235024d44baa0dd', 'message': ""Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn't seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nChange-Id: I6bfaca7de99c6ef6834375d4e5b3218a50a60491\nCloses-Bug: 1716746\n""}, {'number': 4, 'created': '2017-09-14 13:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/db650009d23eb62cfa02c5d7e939102c917c286b', 'message': ""Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn't seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\nChange-Id: I6bfaca7de99c6ef6834375d4e5b3218a50a60491\nCloses-Bug: 1716746\n""}, {'number': 5, 'created': '2017-09-14 13:28:35.000000000', 'files': ['.gitignore', 'networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py', 'devstack/post_test_hook.sh', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8f576a2ccb2aa16ff1585b93c4fbb58247d209bd', 'message': ""Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn't seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\nChange-Id: I6bfaca7de99c6ef6834375d4e5b3218a50a60491\nCloses-Bug: 1716746\n""}]",0,503790,8f576a2ccb2aa16ff1585b93c4fbb58247d209bd,15,3,5,12021,,,0,"Fix post gate hook to accommodate for new os-testr

New os-testr uses stestr under the hood, which creates .stestr but not
.testrepository directory in the current dir. Other than that, it
doesn't seem like there is any difference in the format or names of
files generated in the directory.

(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)
Co-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>

This change also wraps up another fix (simultaneous voting test job
breakage) related to a recent change in the neutron repository of
the import statements for ml2 config.

Change-Id: I6bfaca7de99c6ef6834375d4e5b3218a50a60491
Closes-Bug: 1716746
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/90/503790/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'devstack/post_test_hook.sh', '.stestr.conf']",3,2b76232030dfbebb8ac6e0e351622b5b2d674f0f,bug/1716746,[DEFAULT] test_path=${OS_TEST_PATH:-./neutron/tests/unit} top_dir=./ ,,18,6
openstack%2Fkolla-ansible~master~Ia70a5296c557ec54cdb47a28b163c9365d03506e,openstack/kolla-ansible,master,Ia70a5296c557ec54cdb47a28b163c9365d03506e,Updated from global requirements,MERGED,2017-09-13 12:52:13.000000000,2017-09-14 17:34:47.000000000,2017-09-14 17:34:47.000000000,"[{'_account_id': 3}, {'_account_id': 19316}, {'_account_id': 23717}, {'_account_id': 26556}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-13 12:52:13.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b5a01336f89bf959a38492189d19127be01d3df', 'message': 'Updated from global requirements\n\nChange-Id: Ia70a5296c557ec54cdb47a28b163c9365d03506e\n'}]",0,503631,9b5a01336f89bf959a38492189d19127be01d3df,11,5,1,11131,,,0,"Updated from global requirements

Change-Id: Ia70a5296c557ec54cdb47a28b163c9365d03506e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/503631/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9b5a01336f89bf959a38492189d19127be01d3df,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fnova~master~I7d7a708b231070468616ae852d81d2f8b01ba568,openstack/nova,master,I7d7a708b231070468616ae852d81d2f8b01ba568,Enable test_iscsi_volume in live migration job,MERGED,2017-04-24 13:57:20.000000000,2017-09-14 17:30:18.000000000,2017-09-13 17:55:30.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 17386}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-24 13:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7953262da11489ccabb6f6d945e74ad9fb63e10d', 'message': ""Enable test_iscsi_volume in live migration job\n\nThe block_migrate_cinder_iscsi config option in Tempest says\nthe libvirt driver doesn't support live migration with an attached\nvolume because of bug 1398999 where volumes live on a network share\nlike RBD. However, I8fcc3ef3cb5d9fd3a95067929c496fdb5976fd41 in\nnova says that this is possible with libvirt >= 1.2.17. Since we are\nusing libvirt 2.5.0 from the Ubuntu Cloud Archive on Xenial nodes\nnow, we should be able to enable this test.\n\nChange-Id: I7d7a708b231070468616ae852d81d2f8b01ba568\nRelated-Bug: #1398999\n""}, {'number': 2, 'created': '2017-04-24 14:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90b40cf90789aa25f4d1dd2c5c20615178181b26', 'message': ""Enable test_iscsi_volume in live migration job\n\nThe block_migrate_cinder_iscsi config option in Tempest says\nthe libvirt driver doesn't support live migration with an attached\nvolume because of bug 1398999 where volumes live on a network share\nlike RBD. However, I8fcc3ef3cb5d9fd3a95067929c496fdb5976fd41 in\nnova says that this is possible with libvirt >= 1.2.17. Since we are\nusing libvirt 2.5.0 from the Ubuntu Cloud Archive on Xenial nodes\nnow, we should be able to enable this test.\n\nChange-Id: I7d7a708b231070468616ae852d81d2f8b01ba568\nRelated-Bug: #1398999\n""}, {'number': 3, 'created': '2017-09-07 16:17:14.000000000', 'files': ['nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/1032c79238e87259cef6963e43c78c39eeeb2cde', 'message': ""Enable test_iscsi_volume in live migration job\n\nThe block_migrate_cinder_iscsi config option in Tempest says\nthe libvirt driver doesn't support live migration with an attached\nvolume because of bug 1398999 where volumes live on a network share\nlike RBD. However, I8fcc3ef3cb5d9fd3a95067929c496fdb5976fd41 in\nnova says that this is possible with libvirt >= 1.2.17. Since we are\nusing libvirt 2.5.0 from the Ubuntu Cloud Archive on Xenial nodes\nnow, we should be able to enable this test.\n\nChange-Id: I7d7a708b231070468616ae852d81d2f8b01ba568\nRelated-Bug: #1398999\n""}]",0,459316,1032c79238e87259cef6963e43c78c39eeeb2cde,50,18,3,6873,,,0,"Enable test_iscsi_volume in live migration job

The block_migrate_cinder_iscsi config option in Tempest says
the libvirt driver doesn't support live migration with an attached
volume because of bug 1398999 where volumes live on a network share
like RBD. However, I8fcc3ef3cb5d9fd3a95067929c496fdb5976fd41 in
nova says that this is possible with libvirt >= 1.2.17. Since we are
using libvirt 2.5.0 from the Ubuntu Cloud Archive on Xenial nodes
now, we should be able to enable this test.

Change-Id: I7d7a708b231070468616ae852d81d2f8b01ba568
Related-Bug: #1398999
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/459316/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,7953262da11489ccabb6f6d945e74ad9fb63e10d,bug/1398999," # We test with libvirt 2.5.0 on xenial nodes so we can test live block # migration with an attached volume. echo 'enabling block_migration with an iscsi attached volume in tempest' $ANSIBLE primary --sudo -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=True"" $ANSIBLE primary --sudo -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migrate_cinder_iscsi value=True"" ",,7,0
openstack%2Fkarbor~master~Ic54b02587c564e003328b76c8495cd687337d3bf,openstack/karbor,master,Ic54b02587c564e003328b76c8495cd687337d3bf,Updated from global requirements,MERGED,2017-09-11 21:19:44.000000000,2017-09-14 17:29:38.000000000,2017-09-14 17:29:38.000000000,"[{'_account_id': 3}, {'_account_id': 17151}]","[{'number': 1, 'created': '2017-09-11 21:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3b31f6a64fade5493568a583a24cc7b34949e644', 'message': 'Updated from global requirements\n\nChange-Id: Ic54b02587c564e003328b76c8495cd687337d3bf\n'}, {'number': 2, 'created': '2017-09-11 21:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/044a6d023457d89c9d277411503234d5dbb2b226', 'message': 'Updated from global requirements\n\nChange-Id: Ic54b02587c564e003328b76c8495cd687337d3bf\n'}, {'number': 3, 'created': '2017-09-12 14:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/dc2bcbc86cd86a77bf13b4340b3596aa3d88204a', 'message': 'Updated from global requirements\n\nChange-Id: Ic54b02587c564e003328b76c8495cd687337d3bf\n'}, {'number': 4, 'created': '2017-09-12 21:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ffe2daf136582ea58d0a88d98a033a286afaedc9', 'message': 'Updated from global requirements\n\nChange-Id: Ic54b02587c564e003328b76c8495cd687337d3bf\n'}, {'number': 5, 'created': '2017-09-13 12:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/0d541ebb3f6de784496b9fac7e7e98860c5353df', 'message': 'Updated from global requirements\n\nChange-Id: Ic54b02587c564e003328b76c8495cd687337d3bf\n'}, {'number': 6, 'created': '2017-09-13 12:51:38.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/karbor/commit/2dbc1afab39efc67b5498e79c860b2a9db381f2c', 'message': 'Updated from global requirements\n\nChange-Id: Ic54b02587c564e003328b76c8495cd687337d3bf\n'}]",0,502658,2dbc1afab39efc67b5498e79c860b2a9db381f2c,14,2,6,11131,,,0,"Updated from global requirements

Change-Id: Ic54b02587c564e003328b76c8495cd687337d3bf
",git fetch https://review.opendev.org/openstack/karbor refs/changes/58/502658/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,3b31f6a64fade5493568a583a24cc7b34949e644,openstack/requirements,os-api-ref>=1.4.0 # Apache-2.0,os-api-ref>=1.0.0 # Apache-2.0,10,10
openstack%2Fopenstack-ansible-lxc_hosts~master~Idb186a061a396713a0e449d47ec262b30d5006ca,openstack/openstack-ansible-lxc_hosts,master,Idb186a061a396713a0e449d47ec262b30d5006ca,Move lxc_cache_distro_packages to defaults,MERGED,2017-09-12 17:24:19.000000000,2017-09-14 17:25:45.000000000,2017-09-14 17:25:45.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17799}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-12 17:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7cc102d8ad8046eb7db1f01e7e04cf151261f3b5', 'message': 'Move lxc_cache_distro_packages to defaults\n\nMove the package list from vars/ to defaults/ to allow for overriding\nin inventory group/host vars.\n\nChange-Id: Idb186a061a396713a0e449d47ec262b30d5006ca\n'}, {'number': 2, 'created': '2017-09-13 05:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1403b763d973ef57cc0313105dbec301f11e1c49', 'message': 'Move lxc_cache_distro_packages to defaults\n\nMove the package list from vars/ to defaults/ to allow for overriding\nin inventory group/host vars.\n\nChange-Id: Idb186a061a396713a0e449d47ec262b30d5006ca\n'}, {'number': 3, 'created': '2017-09-13 15:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/75c29660254c1ca22ea45e5f2a3c7df0d7678486', 'message': 'Move lxc_cache_distro_packages to defaults\n\nMove the package list from vars/ to defaults/ to allow for overriding\nin inventory group/host vars.\n\nChange-Id: Idb186a061a396713a0e449d47ec262b30d5006ca\n'}, {'number': 4, 'created': '2017-09-13 20:52:41.000000000', 'files': ['releasenotes/notes/cache-packages-override-e89847687abddf34.yaml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/697ddb8fb4022152de60cd2c76c1f0d504d5b2e1', 'message': 'Move lxc_cache_distro_packages to defaults\n\nMove the package list from vars/ to defaults/ to allow for overriding\nin inventory group/host vars.\n\nChange-Id: Idb186a061a396713a0e449d47ec262b30d5006ca\n'}]",2,503082,697ddb8fb4022152de60cd2c76c1f0d504d5b2e1,20,5,4,17799,,,0,"Move lxc_cache_distro_packages to defaults

Move the package list from vars/ to defaults/ to allow for overriding
in inventory group/host vars.

Change-Id: Idb186a061a396713a0e449d47ec262b30d5006ca
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/82/503082/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml']",4,7cc102d8ad8046eb7db1f01e7e04cf151261f3b5,override-cache-packages,"# List of packages to be installed into the base container cache lxc_cache_distro_packages: ""{{ _lxc_cache_distro_packages }}"" ",,6,3
openstack%2Fapi-site~master~I0bba0ce06beb7896d32db5cee92caa4c579f84c2,openstack/api-site,master,I0bba0ce06beb7896d32db5cee92caa4c579f84c2,Fix firstapp de publishing,MERGED,2017-09-14 15:08:26.000000000,2017-09-14 17:24:34.000000000,2017-09-14 16:46:46.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 17765}, {'_account_id': 20156}]","[{'number': 1, 'created': '2017-09-14 15:08:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/api-site/commit/466da88bfb1a276b5cc81d32fcc50291f7f7ef44', 'message': 'Fix firstapp de publishing\n\nPush the translated de files to the right location for publishing.\n\nChange-Id: I0bba0ce06beb7896d32db5cee92caa4c579f84c2\n'}]",1,504071,466da88bfb1a276b5cc81d32fcc50291f7f7ef44,8,4,1,6547,,,0,"Fix firstapp de publishing

Push the translated de files to the right location for publishing.

Change-Id: I0bba0ce06beb7896d32db5cee92caa4c579f84c2
",git fetch https://review.opendev.org/openstack/api-site refs/changes/71/504071/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,466da88bfb1a276b5cc81d32fcc50291f7f7ef44,fix-de, mv publish-docs/de/firstapp* publish-docs/api-ref/de,,1,0
openstack%2Foslo.concurrency~stable%2Fpike~Ic25fd1b61b5498f16e6049cbbe0877492f8aab4d,openstack/oslo.concurrency,stable/pike,Ic25fd1b61b5498f16e6049cbbe0877492f8aab4d,Windows: ensure exec calls don't block other greenthreads,MERGED,2017-08-18 11:33:12.000000000,2017-09-14 17:22:22.000000000,2017-09-14 17:22:22.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-08-18 11:33:12.000000000', 'files': ['oslo_concurrency/processutils.py', 'oslo_concurrency/tests/unit/test_processutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/8adf9b1f0d69dca7372b967ef4f894487f1a9d64', 'message': ""Windows: ensure exec calls don't block other greenthreads\n\neventlet.green.subprocess is not actually greenthread friendly on\nWindows. It just uses the native subprocess.Popen in this case.\n\nFor this reason, exec calls do not yield on Windows, blocking other\ngreenthreads.\n\nThis change avoids this issue by wrapping the 'communicate' call\nusing eventlet.tpool.\n\nWe're also ensuring that subprocess.Popen uses *native* threads\ninternally in order to avoid deadlocks when passing data through\nstdin.\n\nChange-Id: Ic25fd1b61b5498f16e6049cbbe0877492f8aab4d\nCloses-Bug: #1709586\n(cherry picked from commit 3ac3c169ada2e1402ef9e71f0653af696a3d28af)\n""}]",0,495192,8adf9b1f0d69dca7372b967ef4f894487f1a9d64,7,3,1,8543,,,0,"Windows: ensure exec calls don't block other greenthreads

eventlet.green.subprocess is not actually greenthread friendly on
Windows. It just uses the native subprocess.Popen in this case.

For this reason, exec calls do not yield on Windows, blocking other
greenthreads.

This change avoids this issue by wrapping the 'communicate' call
using eventlet.tpool.

We're also ensuring that subprocess.Popen uses *native* threads
internally in order to avoid deadlocks when passing data through
stdin.

Change-Id: Ic25fd1b61b5498f16e6049cbbe0877492f8aab4d
Closes-Bug: #1709586
(cherry picked from commit 3ac3c169ada2e1402ef9e71f0653af696a3d28af)
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/92/495192/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_concurrency/processutils.py', 'oslo_concurrency/tests/unit/test_processutils.py']",2,8adf9b1f0d69dca7372b967ef4f894487f1a9d64,bug/1709586," @mock.patch.object(os, 'name', 'nt') @mock.patch.object(processutils.subprocess, ""Popen"") @mock.patch.object(processutils, 'tpool', create=True) def _test_windows_execute(self, mock_tpool, mock_popen, use_eventlet=False): # We want to ensure that if eventlet is used on Windows, # 'communicate' calls are wrapped with eventlet.tpool.execute. mock_comm = mock_popen.return_value.communicate mock_comm.return_value = None mock_tpool.execute.return_value = mock_comm.return_value fake_pinput = 'fake pinput'.encode('utf-8') with mock.patch.object(processutils, 'eventlet_patched', use_eventlet): processutils.execute( TRUE_UTILITY, process_input=fake_pinput, check_exit_code=False) mock_popen.assert_called_once_with( [TRUE_UTILITY], stdin=mock.ANY, stdout=mock.ANY, stderr=mock.ANY, close_fds=mock.ANY, preexec_fn=mock.ANY, shell=mock.ANY, cwd=mock.ANY, env=mock.ANY) if use_eventlet: mock_tpool.execute.assert_called_once_with( mock_comm, fake_pinput) else: mock_comm.assert_called_once_with(fake_pinput) def test_windows_execute_without_eventlet(self): self._test_windows_execute() def test_windows_execute_using_eventlet(self): self._test_windows_execute(use_eventlet=True) ",,61,3
openstack%2Frpm-packaging~master~Idc1dba2a2e76a3cb722170861d06d1025d762ebf,openstack/rpm-packaging,master,Idc1dba2a2e76a3cb722170861d06d1025d762ebf,renderspec: Update to 1.7.0,MERGED,2017-09-14 15:21:34.000000000,2017-09-14 17:19:04.000000000,2017-09-14 15:39:32.000000000,"[{'_account_id': 3}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-14 15:21:34.000000000', 'files': ['openstack/renderspec/renderspec.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a5060543de48b2e3cd48f700fa39b431409e097d', 'message': 'renderspec: Update to 1.7.0\n\nChange-Id: Idc1dba2a2e76a3cb722170861d06d1025d762ebf\n'}]",0,504077,a5060543de48b2e3cd48f700fa39b431409e097d,9,5,1,7102,,,0,"renderspec: Update to 1.7.0

Change-Id: Idc1dba2a2e76a3cb722170861d06d1025d762ebf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/504077/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/renderspec/renderspec.spec.j2'],1,a5060543de48b2e3cd48f700fa39b431409e097d,,Version: 1.7.0,Version: 1.6.2,1,1
openstack%2Fneutron~master~I124514d021ff8539ac3a628907cb49611ef66d08,openstack/neutron,master,I124514d021ff8539ac3a628907cb49611ef66d08,Remove csnat port when DVR migrated to non-DVR,MERGED,2017-09-07 12:37:32.000000000,2017-09-14 17:18:57.000000000,2017-09-14 06:09:52.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10267}, {'_account_id': 10385}, {'_account_id': 12860}, {'_account_id': 15752}, {'_account_id': 18051}, {'_account_id': 25747}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-07 12:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15b43420d268b71422b0fcc421b1469ed34327c8', 'message': 'Remove csnat port when DVR migrated to non-DVR\n\nWhen a router is migrated from DVR to HA or DVR to centralized router,\nrouter_centralized_snat port still exists in DB. When the router is no\nmore a DVR router, this port is useless and has to be removed from DB.\n\nThis patch removes router_centralized_snat port when a router is\nmigrated from DVR to other modes.\n\nCloses-Bug: 1714251\nChange-Id: I124514d021ff8539ac3a628907cb49611ef66d08\n'}, {'number': 2, 'created': '2017-09-12 21:48:36.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/777fb2af455eea31f9c6ea1f0e260ee8d4d0dbd7', 'message': 'Remove csnat port when DVR migrated to non-DVR\n\nWhen a router is migrated from DVR to HA or DVR to centralized router,\nrouter_centralized_snat port still exists in DB. When the router is no\nmore a DVR router, this port is useless and has to be removed from DB.\n\nThis patch removes router_centralized_snat port when a router is\nmigrated from DVR to other modes.\n\nCloses-Bug: 1714251\nChange-Id: I124514d021ff8539ac3a628907cb49611ef66d08\n'}]",1,501717,777fb2af455eea31f9c6ea1f0e260ee8d4d0dbd7,41,17,2,10267,,,0,"Remove csnat port when DVR migrated to non-DVR

When a router is migrated from DVR to HA or DVR to centralized router,
router_centralized_snat port still exists in DB. When the router is no
more a DVR router, this port is useless and has to be removed from DB.

This patch removes router_centralized_snat port when a router is
migrated from DVR to other modes.

Closes-Bug: 1714251
Change-Id: I124514d021ff8539ac3a628907cb49611ef66d08
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/501717/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py']",2,15b43420d268b71422b0fcc421b1469ed34327c8,bug/1714251," @registry.receives(resources.ROUTER, [events.AFTER_UPDATE]) def _delete_snat_interfaces_after_change(self, resource, event, trigger, context, router_id, router, request_attrs, router_db, **kwargs): if router.get(l3.EXTERNAL_GW_INFO) and not router['distributed']: old_router = kwargs['old_router'] if old_router and old_router['distributed']: self.delete_csnat_router_interface_ports( context.elevated(), router_db) filters = {'device_owner': [const.DEVICE_OWNER_ROUTER_SNAT], 'device_id': [router.id]} filters=filters", ports = [ rp.port.id for rp in router.attached_ports.filter_by( port_type=const.DEVICE_OWNER_ROUTER_SNAT) if rp.port ] filters={'id': ports},48,8
openstack%2Fopenstack-ansible-specs~master~Icb58c483627a15239bb45d2dbc64909b8e045768,openstack/openstack-ansible-specs,master,Icb58c483627a15239bb45d2dbc64909b8e045768,Role reusability spec,MERGED,2017-09-10 21:54:10.000000000,2017-09-14 17:17:44.000000000,2017-09-14 17:17:44.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-10 21:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/637d225c1286be113e3563f863007b410557f3b4', 'message': 'Role reusability spec\n\nSpec proposing more abstraction for greater reusability of the OSA\ninfrastructure roles.\n\nChange-Id: Icb58c483627a15239bb45d2dbc64909b8e045768\n'}, {'number': 2, 'created': '2017-09-11 13:45:14.000000000', 'files': ['doc/source/index.rst', 'specs/queens/ansible-roles-reuse.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/98b3d9fe1841c2c601b8795764180c41b673f1fe', 'message': 'Role reusability spec\n\nSpec proposing more abstraction for greater reusability of the OSA\ninfrastructure roles.\n\nChange-Id: Icb58c483627a15239bb45d2dbc64909b8e045768\n'}]",0,502354,98b3d9fe1841c2c601b8795764180c41b673f1fe,10,3,2,17799,,,0,"Role reusability spec

Spec proposing more abstraction for greater reusability of the OSA
infrastructure roles.

Change-Id: Icb58c483627a15239bb45d2dbc64909b8e045768
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/54/502354/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/ansible-roles-reuse.rst'],1,637d225c1286be113e3563f863007b410557f3b4,bp/ansible-roles-reuse,"Generalize Infrastructure Roles ############################### :date: 2017-09-10 14:00 :tags: ansible, roles, mariadb, rabbitmq Provide a synopsis as to why you are creating this spec/blueprint. Include the URL of your launchpad blueprint: * https://blueprints.launchpad.net/openstack-ansible/+spec/ansible-roles-reuse Currently openstack-ansible is maintaining infrastructure roles that are used to deploy general infrastructure services such as MariaDB and RabbitMQ, which are applicable in non-OpenStack ansible environments also. With little to no refactoring these roles can be used to deploy the services in other Ansible managed environments also. By maintaining robust, generalized service roles, they are more likely to be consumed, improved, and maintained by other operators in the greater Ansible community. This will benefit us by training us to keep a modular mindset when building the roles, which leads to better maintainability and wider testing for OSA consumers also. In some cases we may wish to deprecate our openstack-ansible roles and consume more generalized upstream alternatives. Problem description =================== In some of the roles (such as haproxy), we implement a very OSA specific deployment with very little reusability or configurability for a typical HAProxy deployer. Other roles, such as Galera server, are fairly generalized and robust, but carry the openstack-ansible-service_name naming scheme, making it less likely for anyone NOT using openstack-ansible to use the role in their deployments. pip_install is an example of a role that will require some minor refactoring to generalize it. The role performs some very out of scope tasks, such as repo management, which have nothing to do with installing pip. These features should be moved to appropriately modularized roles (a general repo management role?), so that pip_install is only doing the work it is meant to do. Proposed change =============== Examine the following roles to identify and refactor out of scope tasks and orchestrate openstack-ansible specific configurations at the integrated repo level. If the role is built properly it should offer the necessary service configuration to be injected from the inventory and playbooks. Roles to examine initially: * openstack-ansible-pip_install * openstack-ansible-lxc_hosts * openstack-ansible-lxc_container_create * openstack-ansible-haproxy_server * openstack-ansible-memcached_server * openstack-ansible-galera_server * openstack-ansible-rabbitmq_server * openstack-ansible-ceph_client Once the work outlined above has progressed sufficiently, we should consider renaming some of the roles to a more appropriate naming, ie. openstack-ansible-galera_server becomes ansible-mariadb-cluster, etc. Alternatives ------------ N/A Playbook/Role impact -------------------- The playbooks and especially inventory should eventually contain all of our openstack-ansible specific configurations. The infrastructure roles themselves should be generalized without an assumption or skew toward being consumed only by openstack-ansible. In some cases this is already implemented, but in other cases the role will undergo significant changes or wholesale replacement to accomplish this. Upgrade impact -------------- Consumers of the roles will need to adjust to any major refactorings that take place, including possible renaming of the git sources and role names. Security impact --------------- N/A Performance impact ------------------ N/A End user impact --------------- N/A Deployer impact --------------- Deployers who work frequently with openstack-ansible will benefit from the ability to use the same roles to deploy applicable services for other projects they work on besides OSA. Developer impact ---------------- It is possible that this could draw more developers to assist in maintaining some of the roles. Cosmetic changes such as renaming may also help veteran OSA developers take a more abstract approach when crafting changes to these roles, which should make them more maintainable in the long run. Dependencies ------------ N/A Implementation ============== Assignee(s) ----------- Primary assignee: Logan Vig (LP: loganv; IRC: logan-) Work items ---------- * Examine the infrastructure roles for out of scope tasks or reusability concerns. Address the issues by refactoring or replacing the role. * Improve the role documentation if necessary with example playbooks demonstrating ad-hoc usage of the role. * Rename the role and repo to a globally namespaced ansible role such as ansible-service-name. Testing ======= N/A Documentation impact ==================== Improving and expanding the role documentation will be beneficial for reusability also. References ========== * openstack-ansible 5/18 community meeting: http://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2017/openstack_ansible_meeting.2017-05-18-16.01.log.html#l-136 ",,170,0
openstack%2Freleases~master~I9c0bccda766664ee520e6c95622ccf451d414883,openstack/releases,master,I9c0bccda766664ee520e6c95622ccf451d414883,pike final releases for cycle-trailing projects,MERGED,2017-09-14 05:01:49.000000000,2017-09-14 17:17:12.000000000,2017-09-14 17:17:12.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2799}, {'_account_id': 3153}, {'_account_id': 5638}, {'_account_id': 10787}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-09-14 05:01:49.000000000', 'files': ['deliverables/pike/kolla.yaml', 'deliverables/pike/tripleo-heat-templates.yaml', 'deliverables/pike/tripleo-image-elements.yaml', 'deliverables/pike/tripleo-puppet-elements.yaml', 'deliverables/pike/kolla-ansible.yaml', 'deliverables/pike/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0d8e87e583bf31dbb40981cddd63da215c47448b', 'message': 'pike final releases for cycle-trailing projects\n\nChange-Id: I9c0bccda766664ee520e6c95622ccf451d414883\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,503949,0d8e87e583bf31dbb40981cddd63da215c47448b,15,9,1,2472,,,0,"pike final releases for cycle-trailing projects

Change-Id: I9c0bccda766664ee520e6c95622ccf451d414883
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/503949/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/kolla.yaml', 'deliverables/pike/tripleo-heat-templates.yaml', 'deliverables/pike/tripleo-image-elements.yaml', 'deliverables/pike/tripleo-puppet-elements.yaml', 'deliverables/pike/kolla-ansible.yaml', 'deliverables/pike/openstack-ansible.yaml']",6,0d8e87e583bf31dbb40981cddd63da215c47448b,pike-final-trailing, - version: 16.0.0.0b3 - version: 16.0.0.0rc1 - version: 16.0.0.0rc2 - diff-start: 15.0.0.0rc1 projects: - repo: openstack/ansible-hardening hash: ebf333132e7a9bbecc7d233849b66ce5bff181a2 - repo: openstack/openstack-ansible hash: 81ec2b19f58617b4e495c8a658cc4cf465f341c8 - repo: openstack/openstack-ansible-apt_package_pinning hash: e5034411a1e4502e633a000cd1bfe02566bf8712 - repo: openstack/openstack-ansible-pip_install hash: 07bfea9d7641d2cabe4ec5b0f15639ab362adbc3 - repo: openstack/openstack-ansible-galera_client hash: e4701c9a8a7054b4443d57d627aade974f6ea759 - repo: openstack/openstack-ansible-galera_server hash: 860028f3b05512d4b7b6b6faeb4832e35e341a15 - repo: openstack/openstack-ansible-ceph_client hash: 10cc0e3c7e707d85b946095770516ff52435297c - repo: openstack/openstack-ansible-haproxy_server hash: 6ff6aa69891ff510ab08920343bff863ec8e2886 - repo: openstack/openstack-ansible-lxc_container_create hash: 90eb235119d4d9253f70741dc1463477a8837bb4 - repo: openstack/openstack-ansible-lxc_hosts hash: 3714c5b734840d7e8214ba32dc5fafd70a4a6ec0 - repo: openstack/openstack-ansible-memcached_server hash: 72d548135f6c438c7fbb7b28e229cccf3c8488fe - repo: openstack/openstack-ansible-openstack_hosts hash: 82797fecff51011f7fab7abd4e59ccb1372ae371 - repo: openstack/openstack-ansible-os_keystone hash: e8bdbd9699e7c26de7f5504e622d6fce424b5806 - repo: openstack/openstack-ansible-openstack_openrc hash: 52ad978a58a06b98a116c9f5e38b5da0af775886 - repo: openstack/openstack-ansible-os_aodh hash: 4cd19b102c9d86cbf11e7a513ad2a7a0e0c427b7 - repo: openstack/openstack-ansible-os_barbican hash: d16e85f3355addf2c77df12a323815c96f25ae97 - repo: openstack/openstack-ansible-os_ceilometer hash: 4d3c565d5cb7e047363b77e10b4ce65e82238473 - repo: openstack/openstack-ansible-os_cinder hash: b3f53ea50e35e7c8821329ca926ae5413621eb3f - repo: openstack/openstack-ansible-os_glance hash: 61019976f351e5a63f840f93955e309496581ccc - repo: openstack/openstack-ansible-os_gnocchi hash: b6647a15740d7ca105b8907fef6d4d5eca042f75 - repo: openstack/openstack-ansible-os_heat hash: e6b22983433870b7dbad681a3ed052dba3e978b0 - repo: openstack/openstack-ansible-os_horizon hash: 2ff8d91aecba626cca843e43ec97f0d644ebed64 - repo: openstack/openstack-ansible-os_ironic hash: b1b50a05d808705d5a42a163fd7d195ee19c7b2e - repo: openstack/openstack-ansible-os_magnum hash: 57d2552d564754eeae792be6cdf45ff345c6d0b1 - repo: openstack/openstack-ansible-os_trove hash: a34541fca18fb7b48e2a67dfaa8ea8c067e3b1b7 - repo: openstack/openstack-ansible-os_neutron hash: dd658f95a5ee23721d908d2ae13757d20b5882ea - repo: openstack/openstack-ansible-os_nova hash: 1c125daf381659f4d1dba05ff833a5a52fd033ca - repo: openstack/openstack-ansible-os_rally hash: e57e9c23f0376a6034e642ba1d97cc301f4da644 - repo: openstack/openstack-ansible-os_sahara hash: 5904bdbc00164123b3c7707a4653bb68b64450f9 - repo: openstack/openstack-ansible-os_swift hash: d4ae912b5a07178a74964a25a070bbe374088612 - repo: openstack/openstack-ansible-os_tempest hash: 81e4153aa527f7145acb3bce496ead049a528933 - repo: openstack/openstack-ansible-plugins hash: bc8fa680b60b208b98c8be37eaa2a4a1f9c5a829 - repo: openstack/openstack-ansible-rabbitmq_server hash: e148ca4fe34504c4d298ba5fe354ff96248caf0d - repo: openstack/openstack-ansible-repo_build hash: 373d710935466e0d73a5e34119d587169cd00f91 - repo: openstack/openstack-ansible-repo_server hash: f4731abfb090b7e730bd728a3f7751c791ae9f86 - repo: openstack/openstack-ansible-rsyslog_client hash: 3cc26c1de3364f36415595d491fca9a58a3636c8 - repo: openstack/openstack-ansible-rsyslog_server hash: 0645a9071a2081bc23b9cbe73904385c8b0a09d3 - repo: openstack/openstack-ansible-os_designate hash: 56cf5e273fe6241482e840fc75c9d5e9adc228ee - repo: openstack/openstack-ansible-os_octavia hash: deae241495122d6c9b8602c7a201b604ef604086 - repo: openstack/openstack-ansible-os_molteniron hash: 9c9612a71e0166eef56105e8da34fa3564c7891e version: 16.0.0, - version: '16.0.0.0b3' - version: '16.0.0.0rc1' - version: '16.0.0.0rc2',111,4
openstack%2Fnetworking-midonet~master~I434a600b86767f498be40da51b1bbe480a6828ef,openstack/networking-midonet,master,I434a600b86767f498be40da51b1bbe480a6828ef,Update tox_install and upper-constraints for stable/pike,ABANDONED,2017-09-14 17:14:12.000000000,2017-09-14 17:14:38.000000000,,[],"[{'number': 1, 'created': '2017-09-14 17:14:12.000000000', 'files': ['tools/tox_install_project.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/695e4dfde37bd3074463d3180cd03875797e8512', 'message': 'Update tox_install and upper-constraints for stable/pike\n\nCloses-Bug: #1716875\nChange-Id: I434a600b86767f498be40da51b1bbe480a6828ef\n'}]",0,504132,695e4dfde37bd3074463d3180cd03875797e8512,2,0,1,6854,,,0,"Update tox_install and upper-constraints for stable/pike

Closes-Bug: #1716875
Change-Id: I434a600b86767f498be40da51b1bbe480a6828ef
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/32/504132/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install_project.sh', 'tox.ini']",2,695e4dfde37bd3074463d3180cd03875797e8512,bug/1716875,install_command = {toxinidir}/tools/tox_install.sh -c {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh -c {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,2
openstack%2Fproject-config~master~I3b1e6af07806cad57b392bd5145ad2782cf6feb4,openstack/project-config,master,I3b1e6af07806cad57b392bd5145ad2782cf6feb4,Replace console.html with job_output.txt in zuulv3,MERGED,2017-09-13 23:45:31.000000000,2017-09-14 17:13:43.000000000,2017-09-14 17:13:43.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-09-13 23:45:31.000000000', 'files': ['roles/submit-logstash-jobs/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/252132d11a15d3696fafbb003c02cddeee3f99f4', 'message': 'Replace console.html with job_output.txt in zuulv3\n\nBecause zuulv3 will never produce a console.html we can update the\nzuulv3 logstash job submission rules to use job_output.txt in place of\nconsole.html. We tag job_output.txt with console and console.html so\nthat old queries that possibly using the implicit console.html tag will\ncontinue to work against the new file name.\n\nChange-Id: I3b1e6af07806cad57b392bd5145ad2782cf6feb4\n'}]",0,503871,252132d11a15d3696fafbb003c02cddeee3f99f4,11,3,1,4146,,,0,"Replace console.html with job_output.txt in zuulv3

Because zuulv3 will never produce a console.html we can update the
zuulv3 logstash job submission rules to use job_output.txt in place of
console.html. We tag job_output.txt with console and console.html so
that old queries that possibly using the implicit console.html tag will
continue to work against the new file name.

Change-Id: I3b1e6af07806cad57b392bd5145ad2782cf6feb4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/503871/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/submit-logstash-jobs/defaults/main.yaml'],1,252132d11a15d3696fafbb003c02cddeee3f99f4,zuulv3-console-logs, - name: job_output\.txt - console.html, - name: console\.html,2,1
openstack%2Fopenstack-ansible-os_sahara~master~I4fea3bf8b717165a45ebd878e726de8fcc1b2fe5,openstack/openstack-ansible-os_sahara,master,I4fea3bf8b717165a45ebd878e726de8fcc1b2fe5,Updated from global requirements,MERGED,2017-09-11 21:45:25.000000000,2017-09-14 17:07:21.000000000,2017-09-14 17:07:21.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-11 21:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/c3ace6d91c784bf14736b972bff18f7a738a4538', 'message': 'Updated from global requirements\n\nChange-Id: I4fea3bf8b717165a45ebd878e726de8fcc1b2fe5\n'}, {'number': 2, 'created': '2017-09-12 21:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/1f1ba2b60b52b44a34ac02a9271c8fb21fe07fe4', 'message': 'Updated from global requirements\n\nChange-Id: I4fea3bf8b717165a45ebd878e726de8fcc1b2fe5\n'}, {'number': 3, 'created': '2017-09-13 12:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/b7874693543114115cbd7c097ebabdcedba82c93', 'message': 'Updated from global requirements\n\nChange-Id: I4fea3bf8b717165a45ebd878e726de8fcc1b2fe5\n'}, {'number': 4, 'created': '2017-09-14 00:04:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/90945e11603776dad3fcafd65566d9f38a578e0b', 'message': 'Updated from global requirements\n\nChange-Id: I4fea3bf8b717165a45ebd878e726de8fcc1b2fe5\n'}]",0,502819,90945e11603776dad3fcafd65566d9f38a578e0b,14,3,4,11131,,,0,"Updated from global requirements

Change-Id: I4fea3bf8b717165a45ebd878e726de8fcc1b2fe5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/19/502819/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c3ace6d91c784bf14736b972bff18f7a738a4538,openstack/requirements,bashate>=0.5.1 # Apache-2.0pyOpenSSL>=16.2.0 # Apache-2.0,bashate>=0.2 # Apache-2.0pyOpenSSL>=0.14 # Apache-2.0,2,2
openstack%2Fnova-powervm~master~I684e4457d9baee25aa569b20f20e73474cf88578,openstack/nova-powervm,master,I684e4457d9baee25aa569b20f20e73474cf88578,Update the documentation link for doc migration,MERGED,2017-07-21 06:33:25.000000000,2017-09-14 17:07:16.000000000,2017-09-14 17:07:16.000000000,"[{'_account_id': 3}, {'_account_id': 14070}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-07-21 06:33:25.000000000', 'files': ['doc/source/index.rst', 'devstack/README.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/dac4bcdd9696c4adc845f034ec75c44a17151b2c', 'message': 'Update the documentation link for doc migration\n\nBTW, update one URL of networking-powervm as well.\n\nChange-Id: I684e4457d9baee25aa569b20f20e73474cf88578\n'}]",0,485989,dac4bcdd9696c4adc845f034ec75c44a17151b2c,19,3,1,25944,,,0,"Update the documentation link for doc migration

BTW, update one URL of networking-powervm as well.

Change-Id: I684e4457d9baee25aa569b20f20e73474cf88578
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/89/485989/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'devstack/README.rst', 'HACKING.rst']",3,dac4bcdd9696c4adc845f034ec75c44a17151b2c,doc-migration, https://docs.openstack.org/hacking/latest/, http://docs.openstack.org/developer/hacking/,5,5
openstack%2Fneutron~stable%2Focata~I4337a0087cf22724fcae248135547960484e7216,openstack/neutron,stable/ocata,I4337a0087cf22724fcae248135547960484e7216,"Always sort/paginate, even if not native",ABANDONED,2017-09-14 16:53:08.000000000,2017-09-14 17:06:52.000000000,,[{'_account_id': 9656}],"[{'number': 1, 'created': '2017-09-14 16:53:08.000000000', 'files': ['neutron/api/v2/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e35f1f1f594b19358232fbc44a9ae744d33146b5', 'message': 'Always sort/paginate, even if not native\n\nChange-Id: I4337a0087cf22724fcae248135547960484e7216\n'}]",0,504121,e35f1f1f594b19358232fbc44a9ae744d33146b5,3,1,1,9656,,,0,"Always sort/paginate, even if not native

Change-Id: I4337a0087cf22724fcae248135547960484e7216
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/504121/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/v2/base.py'],1,e35f1f1f594b19358232fbc44a9ae744d33146b5,," allow_pagination=True, allow_sorting=True): # ignore consumers, always do pagination/sorting, even if not native self._allow_pagination = True self._allow_sorting = True"," allow_pagination=False, allow_sorting=False): self._allow_pagination = allow_pagination self._allow_sorting = allow_sorting",4,3
openstack%2Fproject-config~master~Ie84f4a594c4d53e7b976c619ec0b17b992f9a905,openstack/project-config,master,Ie84f4a594c4d53e7b976c619ec0b17b992f9a905,Add setup.cfg as a trigger for check-requirements,MERGED,2017-09-12 16:06:39.000000000,2017-09-14 17:05:22.000000000,2017-09-14 17:05:22.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-09-12 16:06:39.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e1b64e8e56590b771a2932daaff9ce52e1571048', 'message': ""Add setup.cfg as a trigger for check-requirements\n\nCurrently check-requirements runs only when projects update\n{test-,}requirements.txt.  This means that if a project add a\nrequirement to setup.cfg we don't validate those changes against\nglobal-requirements.  Eventually this will cause problems for the\nproject.\n\nInclude setup.cfg the the list of files that trigger the\ncheck-requirements job\n\nChange-Id: Ie84f4a594c4d53e7b976c619ec0b17b992f9a905\n""}]",0,503058,e1b64e8e56590b771a2932daaff9ce52e1571048,8,4,1,12898,,,0,"Add setup.cfg as a trigger for check-requirements

Currently check-requirements runs only when projects update
{test-,}requirements.txt.  This means that if a project add a
requirement to setup.cfg we don't validate those changes against
global-requirements.  Eventually this will cause problems for the
project.

Include setup.cfg the the list of files that trigger the
check-requirements job

Change-Id: Ie84f4a594c4d53e7b976c619ec0b17b992f9a905
",git fetch https://review.opendev.org/openstack/project-config refs/changes/58/503058/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,e1b64e8e56590b771a2932daaff9ce52e1571048,feature/fix-check-requirements, - ^setup.cfg$,,1,0
openstack%2Fproject-config~master~Id993ca339c68b4cf400886d8db24928ff785cdef,openstack/project-config,master,Id993ca339c68b4cf400886d8db24928ff785cdef,Remove openstack-ansible-security from infra,MERGED,2017-09-12 14:10:31.000000000,2017-09-14 17:05:10.000000000,2017-09-14 17:05:10.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-12 14:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/68480b4951379143a5f24a3434551074e2ff6828', 'message': 'Remove openstack-ansible-security from infra\n\nThis patch is step 3 of 4 for retiring openstack-ansible-security.\n\nDepends-On: I219d0d9d7a3463fb63ee3eef28bfb9e753c37b91\nChange-Id: Id993ca339c68b4cf400886d8db24928ff785cdef\n'}, {'number': 2, 'created': '2017-09-12 15:44:53.000000000', 'files': ['gerrit/acls/openstack/openstack-ansible-security.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6f040d0e695099d68c7c284d3c7ecb486a4b16e8', 'message': 'Remove openstack-ansible-security from infra\n\nThis patch is step 3 of 4 for retiring openstack-ansible-security.\n\nDepends-On: I219d0d9d7a3463fb63ee3eef28bfb9e753c37b91\nChange-Id: Id993ca339c68b4cf400886d8db24928ff785cdef\n'}]",0,503009,6f040d0e695099d68c7c284d3c7ecb486a4b16e8,10,4,2,538,,,0,"Remove openstack-ansible-security from infra

This patch is step 3 of 4 for retiring openstack-ansible-security.

Depends-On: I219d0d9d7a3463fb63ee3eef28bfb9e753c37b91
Change-Id: Id993ca339c68b4cf400886d8db24928ff785cdef
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/503009/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/openstack-ansible-security.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,68480b4951379143a5f24a3434551074e2ff6828,bug/1716504,, - name: openstack/openstack-ansible-security template: - name: merge-check - name: noop-jobs ,1,24
openstack%2Fproject-config~master~I29bdef7c477959a0dfb12fafeb74f977817b2623,openstack/project-config,master,I29bdef7c477959a0dfb12fafeb74f977817b2623,Run the requirements check-uc job also for Python 3.5.x,MERGED,2017-09-12 15:58:10.000000000,2017-09-14 17:05:03.000000000,2017-09-14 17:05:03.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-09-12 15:58:10.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9499aee263ba66e29c0fcb1256b22cadbb0467bf', 'message': 'Run the requirements check-uc job also for Python 3.5.x\n\nThis is in line with the normal way of enabling Python 3.x\nin the gate.\n\nChange-Id: I29bdef7c477959a0dfb12fafeb74f977817b2623\n'}]",0,503055,9499aee263ba66e29c0fcb1256b22cadbb0467bf,11,5,1,6593,,,0,"Run the requirements check-uc job also for Python 3.5.x

This is in line with the normal way of enabling Python 3.x
in the gate.

Change-Id: I29bdef7c477959a0dfb12fafeb74f977817b2623
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/503055/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,9499aee263ba66e29c0fcb1256b22cadbb0467bf,, # Run this only for Queens+ - name: ^gate-requirements-tox-py35-check-uc-ubuntu-xenial$ files: ^upper-constraints.txt$ branch: ^(?!stable/(newton|ocata|pike)).*$ - gate-requirements-tox-py35-check-uc-ubuntu-xenial - gate-requirements-tox-py35-check-uc-ubuntu-xenial,,8,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~I8da03f5c4a6d442617b81be5793a9724cc8842bf,openstack/tripleo-heat-templates,stable/pike,I8da03f5c4a6d442617b81be5793a9724cc8842bf,Retry if the pacemaker_resource commands failed,MERGED,2017-09-14 12:27:57.000000000,2017-09-14 17:03:24.000000000,2017-09-14 17:03:24.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-09-14 12:27:57.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ada42c10949dfb668581d9690011a16383f23d5', 'message': ""Retry if the pacemaker_resource commands failed\n\nAdd a retry when the pacemaker_resource command\nwasn't apply correctly, more info here:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1482116\n\nThis is the same approach puppet-pacemaker uses\nand provides eventual consistency when multiple\nnodes change the cluster CIB concurrently.\n\nThis change depends-on :\nhttps://review.gerrithub.io/375982\n\nThe return code is not available in the current\nansible-pacemaker package.\n\nChange-Id: I8da03f5c4a6d442617b81be5793a9724cc8842bf\n(cherry picked from commit e92430d8d03fc2ce2d0ce192b96209f2c5c04169)\n""}]",0,504044,2ada42c10949dfb668581d9690011a16383f23d5,9,5,1,18851,,,0,"Retry if the pacemaker_resource commands failed

Add a retry when the pacemaker_resource command
wasn't apply correctly, more info here:
https://bugzilla.redhat.com/show_bug.cgi?id=1482116

This is the same approach puppet-pacemaker uses
and provides eventual consistency when multiple
nodes change the cluster CIB concurrently.

This change depends-on :
https://review.gerrithub.io/375982

The return code is not available in the current
ansible-pacemaker package.

Change-Id: I8da03f5c4a6d442617b81be5793a9724cc8842bf
(cherry picked from commit e92430d8d03fc2ce2d0ce192b96209f2c5c04169)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/504044/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml']",6,2ada42c10949dfb668581d9690011a16383f23d5,rabbitmq-retries, register: output retries: 5 until: output.rc == 0 register: output retries: 5 until: output.rc == 0,,36,0
openstack%2Fnetworking-midonet~master~I52125c47f56e3199f00ca02df605e3b75462df05,openstack/networking-midonet,master,I52125c47f56e3199f00ca02df605e3b75462df05,rally: Add explicit sla sections,MERGED,2017-09-05 11:39:38.000000000,2017-09-14 17:03:24.000000000,2017-09-14 16:53:00.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 19307}]","[{'number': 1, 'created': '2017-09-05 11:39:38.000000000', 'files': ['rally-jobs/networking-midonet.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0a764158f228e8000ceadf386ccec75f176939bd', 'message': 'rally: Add explicit sla sections\n\nOur rally task definition has some tasks without sla section,\nmeaning ""no sla"".  However, after the recent change, [1]\nrally changed the behaviour to use the default sla (failure_rate max 0)\nfor such tasks.  It made our rally jobs fail occasionally.\n\nTo restore the original (intended) behaviour, we can add\nsla failure_rate max 100.  But looking at recent logs, it seems\nmax 20 is enough.\n\n[1] I96528fb2169f97f01810432e7f2d1c42bd7a8d89\n\nCloses-Bug: #1715129\nChange-Id: I52125c47f56e3199f00ca02df605e3b75462df05\n'}]",5,500778,0a764158f228e8000ceadf386ccec75f176939bd,12,4,1,6854,,,0,"rally: Add explicit sla sections

Our rally task definition has some tasks without sla section,
meaning ""no sla"".  However, after the recent change, [1]
rally changed the behaviour to use the default sla (failure_rate max 0)
for such tasks.  It made our rally jobs fail occasionally.

To restore the original (intended) behaviour, we can add
sla failure_rate max 100.  But looking at recent logs, it seems
max 20 is enough.

[1] I96528fb2169f97f01810432e7f2d1c42bd7a8d89

Closes-Bug: #1715129
Change-Id: I52125c47f56e3199f00ca02df605e3b75462df05
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/78/500778/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/networking-midonet.yaml'],1,0a764158f228e8000ceadf386ccec75f176939bd,bug/1715129, sla: failure_rate: max: 20 sla: failure_rate: max: 20 sla: failure_rate: max: 20 sla: failure_rate: max: 20,,12,0
openstack%2Fpuppet-ec2api~master~I97098bad5a505a913fafab84ab008a985e3bb221,openstack/puppet-ec2api,master,I97098bad5a505a913fafab84ab008a985e3bb221,Fix outdated links and a spelling mistakes,MERGED,2017-09-14 07:30:44.000000000,2017-09-14 17:03:19.000000000,2017-09-14 17:03:19.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-14 07:30:44.000000000', 'files': ['bindep.txt', 'setup.cfg', 'tests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/e0e5e4f99d93ad831ce814c9396c07adb5edf01e', 'message': 'Fix outdated links and a spelling mistakes\n\nFix typos and update outdated links:\n1)http://docs.openstack.org/infra/bindep/\n  --> https://docs.openstack.org/infra/bindep/\n2)http://docs.puppetlabs.com/guides/tests_smoke.html\n  --> https://docs.puppet.com/puppet/latest/tests_smoke.html\nCloses-Bug:#1717188\n\nChange-Id: I97098bad5a505a913fafab84ab008a985e3bb221\n'}]",0,503984,e0e5e4f99d93ad831ce814c9396c07adb5edf01e,7,4,1,26458,,,0,"Fix outdated links and a spelling mistakes

Fix typos and update outdated links:
1)http://docs.openstack.org/infra/bindep/
  --> https://docs.openstack.org/infra/bindep/
2)http://docs.puppetlabs.com/guides/tests_smoke.html
  --> https://docs.puppet.com/puppet/latest/tests_smoke.html
Closes-Bug:#1717188

Change-Id: I97098bad5a505a913fafab84ab008a985e3bb221
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/84/503984/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'setup.cfg', 'tests/init.pp']",3,e0e5e4f99d93ad831ce814c9396c07adb5edf01e,bug/1717188,# https://docs.puppet.com/puppet/latest/tests_smoke.html,# http://docs.puppetlabs.com/guides/tests_smoke.html,3,3
openstack%2Ftripleo-heat-templates~master~Ia39f181415bee0071409dabddfa0c5c312915e1f,openstack/tripleo-heat-templates,master,Ia39f181415bee0071409dabddfa0c5c312915e1f,Rename service_workflow_tasks into workflow_tasks,MERGED,2017-09-07 07:33:48.000000000,2017-09-14 17:01:44.000000000,2017-09-14 17:01:44.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22255}]","[{'number': 1, 'created': '2017-09-07 07:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4663bd08199571873d30b655262a2a103f1f5e3b', 'message': 'Rename service_workflow_tasks into mistral_tasks\n\nIt seems more appropriate to name the section describing the Mistral\ntasks to be executed mistral_tasks.\n\nChange-Id: Ia39f181415bee0071409dabddfa0c5c312915e1f\n'}, {'number': 2, 'created': '2017-09-11 14:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44516ba3357e63ff26111beab304a4f891e9035b', 'message': 'Rename service_workflow_tasks into mistral_tasks\n\nIt seems more appropriate to name the section describing the Mistral\ntasks to be executed mistral_tasks.\n\nChange-Id: Ia39f181415bee0071409dabddfa0c5c312915e1f\n'}, {'number': 3, 'created': '2017-09-12 20:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/063fd210031bfcf95fd3766321d69dba8bf13d04', 'message': 'Rename service_workflow_tasks into workflow_tasks\n\nUsing the service_ prefix seems incoherent with its use in\nservice_config_settings (vs config_settings).\n\nChange-Id: Ia39f181415bee0071409dabddfa0c5c312915e1f\n'}, {'number': 4, 'created': '2017-09-12 20:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96e9115a4a319e20f8e0107d81877f1726577e92', 'message': 'Rename service_workflow_tasks into workflow_tasks\n\nUsing the service_ prefix seems incoherent with its use in\nservice_config_settings (vs config_settings).\n\nChange-Id: Ia39f181415bee0071409dabddfa0c5c312915e1f\n'}, {'number': 5, 'created': '2017-09-13 15:15:33.000000000', 'files': ['docker/services/ceph-ansible/ceph-rgw.yaml', 'common/deploy-steps.j2', 'docker/services/ceph-ansible/ceph-mds.yaml', 'docker/services/ceph-ansible/ceph-client.yaml', 'docker/services/ceph-ansible/ceph-external.yaml', 'common/services.yaml', 'docker/services/ceph-ansible/ceph-osd.yaml', 'puppet/services/README.rst', 'tools/yaml-validate.py', 'docker/services/ceph-ansible/ceph-base.yaml', 'docker/services/ceph-ansible/ceph-mon.yaml', 'releasenotes/notes/workflow_tasks-4da5830821b7154b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09137304b98a02ed024c0288da907cfe35ca5fe1', 'message': 'Rename service_workflow_tasks into workflow_tasks\n\nUsing the service_ prefix seems incoherent with its use in\nservice_config_settings (vs config_settings).\n\nChange-Id: Ia39f181415bee0071409dabddfa0c5c312915e1f\n'}]",1,501605,09137304b98a02ed024c0288da907cfe35ca5fe1,38,8,5,6796,,,0,"Rename service_workflow_tasks into workflow_tasks

Using the service_ prefix seems incoherent with its use in
service_config_settings (vs config_settings).

Change-Id: Ia39f181415bee0071409dabddfa0c5c312915e1f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/501605/4 && git format-patch -1 --stdout FETCH_HEAD,"['common/services.yaml', 'docker/services/ceph-ansible/ceph-osd.yaml', 'puppet/services/README.rst', 'common/deploy-steps.j2', 'docker/services/ceph-ansible/ceph-mds.yaml', 'releasenotes/notes/mistral_tasks-4da5830821b7154b.yaml', 'docker/services/ceph-ansible/ceph-client.yaml', 'tools/yaml-validate.py', 'docker/services/ceph-ansible/ceph-base.yaml', 'docker/services/ceph-ansible/ceph-mon.yaml']",10,4663bd08199571873d30b655262a2a103f1f5e3b,workflow_tasks," mistral_tasks: {get_attr: [CephBase, role_data, mistral_tasks]}"," service_workflow_tasks: {get_attr: [CephBase, role_data, service_workflow_tasks]}",26,26
openstack%2Fproject-config~master~If43495c0ae67ef1c884d6fa128be35358b0f0870,openstack/project-config,master,If43495c0ae67ef1c884d6fa128be35358b0f0870,Move OSA Keystone Upgrade job to non-voting,MERGED,2017-09-13 15:51:31.000000000,2017-09-14 17:01:38.000000000,2017-09-14 17:01:38.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-09-13 15:51:31.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/60923f50660f2f4b2e0a2c88585fb4c7a29dcf6b', 'message': ""Move OSA Keystone Upgrade job to non-voting\n\nThe Keystone commits are being gated against the OpenStack-Ansible\nkeystone role's upgrade test. Now that this is setup and working\nproperly, we should move it from experimental to non-voting.\n\nChange-Id: If43495c0ae67ef1c884d6fa128be35358b0f0870\n""}]",0,503721,60923f50660f2f4b2e0a2c88585fb4c7a29dcf6b,7,3,1,2799,,,0,"Move OSA Keystone Upgrade job to non-voting

The Keystone commits are being gated against the OpenStack-Ansible
keystone role's upgrade test. Now that this is setup and working
properly, we should move it from experimental to non-voting.

Change-Id: If43495c0ae67ef1c884d6fa128be35358b0f0870
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/503721/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,60923f50660f2f4b2e0a2c88585fb4c7a29dcf6b,, - gate-openstack-ansible-os_keystone-ansible-upgrade-ubuntu-xenial-nv, - gate-openstack-ansible-os_keystone-ansible-upgrade-ubuntu-xenial-nv,1,1
openstack%2Fproject-config~master~I5c868e8cd568c646a5cfe31ed5f4315d0620b63e,openstack/project-config,master,I5c868e8cd568c646a5cfe31ed5f4315d0620b63e,Add OpenStack-Ansible periodics for opensuse-423,MERGED,2017-09-13 16:02:03.000000000,2017-09-14 17:01:24.000000000,2017-09-14 17:01:24.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-13 16:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4910660465bc05974524e71443e19d1455c3997e', 'message': 'Add OpenStack-Ansible periodics for opensuse-423\n\nNow that opensuse support has been successfully added into OSA we\nshould add a periodic job so that we can confirm the working state of\nthese builds on a daily basis.\n\nChange-Id: I5c868e8cd568c646a5cfe31ed5f4315d0620b63e\n'}, {'number': 2, 'created': '2017-09-13 18:02:51.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a54a0f9ba596517bf7c382b652c8cac6548376e7', 'message': 'Add OpenStack-Ansible periodics for opensuse-423\n\nNow that opensuse support has been successfully added into OSA we\nshould add a periodic job so that we can confirm the working state of\nthese builds on a daily basis.\n\nChange-Id: I5c868e8cd568c646a5cfe31ed5f4315d0620b63e\n'}]",0,503726,a54a0f9ba596517bf7c382b652c8cac6548376e7,10,4,2,2799,,,0,"Add OpenStack-Ansible periodics for opensuse-423

Now that opensuse support has been successfully added into OSA we
should add a periodic job so that we can confirm the working state of
these builds on a daily basis.

Change-Id: I5c868e8cd568c646a5cfe31ed5f4315d0620b63e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/503726/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,4910660465bc05974524e71443e19d1455c3997e,, - periodic-openstack-ansilbe-deploy-aio-master-opensuse-423 - periodic-openstack-ansible-deploy-aio-pike-opensuse-423,,3,0
openstack%2Fproject-config~master~Ie57914776c7bf58559bb20988425940475749a81,openstack/project-config,master,Ie57914776c7bf58559bb20988425940475749a81,Fix kuryr-kubernetes Octavia job,MERGED,2017-09-14 12:25:44.000000000,2017-09-14 17:01:18.000000000,2017-09-14 17:01:18.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-09-14 12:25:44.000000000', 'files': ['jenkins/jobs/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4bbcf644332ae3357800ad60707d8c8cf41ce2db', 'message': 'Fix kuryr-kubernetes Octavia job\n\ngate-tempest-dsvm-octavia-kuryr-kubernetes-ubuntu-xenial-nv is\nconstantly failing with ""Cloning not allowed in this configuration"" when\ntrying to clone openstack/python-octaviaclient. This commit should solve\nthat by adding openstack/python-octaviaclient to $PROJECTS.\n\nChange-Id: Ie57914776c7bf58559bb20988425940475749a81\n'}]",0,504042,4bbcf644332ae3357800ad60707d8c8cf41ce2db,7,3,1,11600,,,0,"Fix kuryr-kubernetes Octavia job

gate-tempest-dsvm-octavia-kuryr-kubernetes-ubuntu-xenial-nv is
constantly failing with ""Cloning not allowed in this configuration"" when
trying to clone openstack/python-octaviaclient. This commit should solve
that by adding openstack/python-octaviaclient to $PROJECTS.

Change-Id: Ie57914776c7bf58559bb20988425940475749a81
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/504042/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/kuryr.yaml'],1,4bbcf644332ae3357800ad60707d8c8cf41ce2db,fix-kuryr-kubernetes-octavia," export PROJECTS=""openstack/python-octaviaclient $PROJECTS""",,1,0
openstack%2Fswift~feature%2Fdeep~I446050d17286a0067b2f535774c3c3a569b36811,openstack/swift,feature/deep,I446050d17286a0067b2f535774c3c3a569b36811,sharding: fix and tests for container GET all items,MERGED,2017-09-14 04:30:43.000000000,2017-09-14 17:01:09.000000000,2017-09-14 17:01:09.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-09-14 04:30:43.000000000', 'files': ['test/unit/container/test_server.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f3eb975ce87530c9780f2de2e2702c2c9b568441', 'message': 'sharding: fix and tests for container GET all items\n\nFix container GET with an items=all query string parameter to return\nall items even when there are no other params specified. Previously it\nonly had effect when another param such as marker or prefix was\nincluded, but there appears to be a case in the container controller\nwhere those params may not be present.\n\nAdd unit tests for GETs with items=all.\n\nChange-Id: I446050d17286a0067b2f535774c3c3a569b36811\n'}]",2,503943,f3eb975ce87530c9780f2de2e2702c2c9b568441,7,3,1,15343,,,0,"sharding: fix and tests for container GET all items

Fix container GET with an items=all query string parameter to return
all items even when there are no other params specified. Previously it
only had effect when another param such as marker or prefix was
included, but there appears to be a case in the container controller
where those params may not be present.

Add unit tests for GETs with items=all.

Change-Id: I446050d17286a0067b2f535774c3c3a569b36811
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/503943/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_server.py', 'swift/container/backend.py']",2,f3eb975ce87530c9780f2de2e2702c2c9b568441,p-sharding-get-put-pivots," query += 'FROM object ' query_conditions = [] query_conditions.append('name <= ?') else: query_conditions.append('name < ?') query_conditions.append('name < ?') query_conditions.append('name >= ?') query_conditions.append('name > ?') query_conditions.append('name >= ?') if not include_deleted: if self.get_db_version(conn) < 1: query_conditions.append('+deleted = 0') else: query_conditions.append('deleted = 0') # storage policy filter query_conditions.append('storage_policy_index = ?') query_args.append(storage_policy_index) full_query = query if query_conditions: full_query += 'WHERE ' + ' AND '.join(query_conditions) tail_query = ''' tail_args = [limit - len(results)] try: curs = conn.execute(full_query + tail_query, query_conditions = query_conditions[:-1] query_args = query_args[:-1] full_query = query if query_conditions: full_query += 'WHERE ' + ' AND '.join(query_conditions) curs = conn.execute(full_query + tail_query,"," query += 'FROM object WHERE' query += ' name <= ? AND' else: query += ' name < ? AND' query += ' name < ? AND' query += ' name >= ? AND' query += ' name > ? AND' query += ' name >= ? AND' if include_deleted and query.endswith(' AND'): query = query[:-4] else: if self.get_db_version(conn) < 1: query += ' +deleted = 0' else: query += ' deleted = 0' orig_tail_query = ''' orig_tail_args = [limit - len(results)] # storage policy filter policy_tail_query = ''' AND storage_policy_index = ? ''' + orig_tail_query policy_tail_args = [storage_policy_index] + orig_tail_args tail_query, tail_args = \ policy_tail_query, policy_tail_args try: curs = conn.execute(query + tail_query, tail_query, tail_args = \ orig_tail_query, orig_tail_args curs = conn.execute(query + tail_query,",87,26
openstack%2Fswift~feature%2Fdeep~Id23e880c17b1943ae90c968c7f8ce6659ea57a99,openstack/swift,feature/deep,Id23e880c17b1943ae90c968c7f8ce6659ea57a99,sharding: fix PivotRange.__iter__ and add tests for pivot PUT/GET,MERGED,2017-09-14 04:30:43.000000000,2017-09-14 17:00:54.000000000,2017-09-14 17:00:54.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-09-14 04:30:43.000000000', 'files': ['swift/container/server.py', 'swift/common/utils.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5d63e8d6d3bbd6b3f54626e09ce2255e80bb289d', 'message': 'sharding: fix PivotRange.__iter__ and add tests for pivot PUT/GET\n\n- make PivotRange.__iter__ convert timestamps to strings\n\nChange-Id: Id23e880c17b1943ae90c968c7f8ce6659ea57a99\n'}]",2,503942,5d63e8d6d3bbd6b3f54626e09ce2255e80bb289d,7,3,1,15343,,,0,"sharding: fix PivotRange.__iter__ and add tests for pivot PUT/GET

- make PivotRange.__iter__ convert timestamps to strings

Change-Id: Id23e880c17b1943ae90c968c7f8ce6659ea57a99
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/503942/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'swift/common/utils.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py', 'swift/container/backend.py']",5,5d63e8d6d3bbd6b3f54626e09ce2255e80bb289d,p-sharding-get-put-pivots," # TODO: split this to separate helper method for each given type? obj = dict(item, deleted=0)"," obj = { 'name': item.name, 'created_at': item.timestamp, 'lower': item.lower, 'upper': item.upper, 'object_count': item.object_count, 'bytes_used': item.bytes_used, 'meta_timestamp': item.meta_timestamp, 'deleted': 0}",147,18
openstack%2Fswift~feature%2Fdeep~Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839,openstack/swift,feature/deep,Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839,Container sharding docs,MERGED,2017-09-14 02:59:22.000000000,2017-09-14 17:00:46.000000000,2017-09-14 17:00:46.000000000,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-09-14 02:59:22.000000000', 'files': ['doc/source/images/sharding_lock2.png', 'doc/source/images/sharding_db_states.png', 'doc/source/images/sharding_lock_sharding_GET.png', 'doc/source/images/sharding_snip4.png', 'doc/source/overview_container_sharding.rst', 'doc/source/images/sharding_snip2.png', 'doc/source/images/sharding_lock3.png', 'doc/source/images/sharding_lock5.png', 'doc/source/images/sharding_snip3.png', 'doc/source/index.rst', 'doc/source/images/sharding_lock1.png', 'doc/source/images/sharding_lock_sharded_GET.png', 'doc/source/images/sharding_snip1.png', 'doc/source/images/sharding_snip5.png', 'doc/source/images/sharding_lock4.png'], 'web_link': 'https://opendev.org/openstack/swift/commit/1b4f02f739f0d75a3d5d9228565cc6da178e44f3', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}]",0,503902,1b4f02f739f0d75a3d5d9228565cc6da178e44f3,7,3,1,15343,,,0,"Container sharding docs

Change-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/503902/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/images/sharding_lock2.png', 'doc/source/images/sharding_db_states.png', 'doc/source/images/sharding_lock_sharding_GET.png', 'doc/source/images/sharding_snip4.png', 'doc/source/overview_container_sharding.rst', 'doc/source/images/sharding_snip2.png', 'doc/source/images/sharding_lock3.png', 'doc/source/images/sharding_lock5.png', 'doc/source/images/sharding_snip3.png', 'doc/source/index.rst', 'doc/source/images/sharding_lock1.png', 'doc/source/images/sharding_lock_sharded_GET.png', 'doc/source/images/sharding_snip1.png', 'doc/source/images/sharding_snip5.png', 'doc/source/images/sharding_lock4.png']",15,1b4f02f739f0d75a3d5d9228565cc6da178e44f3,,,,1180,0
openstack%2Fswift~feature%2Fdeep~Ice703dc6d98108ad251c43f824426d026e1f1d97,openstack/swift,feature/deep,Ice703dc6d98108ad251c43f824426d026e1f1d97,Add container sharding to Swift containers,MERGED,2017-09-14 02:59:22.000000000,2017-09-14 16:58:54.000000000,2017-09-14 16:58:54.000000000,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-09-14 02:59:22.000000000', 'files': ['swift/obj/server.py', 'test/unit/container/test_sharder.py', 'test/unit/account/test_replicator.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/proxy/controllers/obj.py', 'swift/common/exceptions.py', 'bin/swift-container-sharder', 'swift/common/db.py', 'swift/container/server.py', 'swift/common/direct_client.py', 'swift/common/manager.py', 'test/unit/common/test_utils.py', 'test/unit/account/test_server.py', 'test/unit/container/test_replicator.py', 'etc/container-server.conf-sample', 'test/unit/common/test_db_replicator.py', 'test/unit/obj/test_server.py', 'swift/container/replicator.py', 'swift/obj/updater.py', 'swift/common/utils.py', 'swift/common/db_replicator.py', 'swift/container/sharder.py', 'setup.cfg', 'swift/common/request_helpers.py', 'swift/container/backend.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/834deb5f7417d6fd293e2a2fbc5335019785eac1', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}]",0,503901,834deb5f7417d6fd293e2a2fbc5335019785eac1,9,4,1,15343,,,0,"Add container sharding to Swift containers

NOTE: This is a rebase and push of the current code, 5 POCs worth of
potential cruft, things commented out, not quite tuned settings and knobs.
Really exactly what is in the HEAD of the POC. So alot of polishing is
required. I am currently working on the documentation, which I hope get
get up in the next few days.. at least the first version to help with
reviews and get y'all ready to fix my dodgy code!

This patch adds container sharding functionality to Swift's
containers. You can turn on sharding on a container by setting:

  X-Container-Sharding: on

A container-sharder daemon is added, which does all the heavy
lifting. This is to be run on all the container servers. It
scans the sharding marked containers and on each container it:

  - Audit's the container (This still needs to be reworked as things
    have changed since the last POC).
  - Deal with any misplaced objects.
  - Depending on the size of the container it will either:
    - Do nothing
    - Shard the container down into peices, or
    - attempt to merge the container into it's neighbour (again this
      needs to be double checked and debugged from last POC).

These have been quite a few changes to other areas of swift to make it
shard aware, the biggest are:

  - Introduction of Pivot_ranges table to the container database to
    track pivots.
  - PivotRanges class in utils.
  - Container backend can now hadle 2 databases when sharding, which
    introduces 3 states of container databases:
    - UNSHARDED
    - SHARDING
    - SHARDED

It is the SHARDING state in which the backend must deal with 2
containers. The old one will never we written to again.

This change is still a WIP. See the trello board to see what is left to
be done (https://trello.com/b/z6oKKI4Q/container-sharding) but in
general we need:

  - Tests
  - Shrink testing
  - Auditing
  - Documentation
  - General reviews, debugging and corrections.

Change-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/503901/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/unit/container/test_sharder.py', 'test/unit/account/test_replicator.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/proxy/controllers/obj.py', 'swift/common/exceptions.py', 'bin/swift-container-sharder', 'swift/common/db.py', 'swift/container/server.py', 'swift/common/direct_client.py', 'swift/common/manager.py', 'test/unit/common/test_utils.py', 'test/unit/account/test_server.py', 'test/unit/container/test_replicator.py', 'etc/container-server.conf-sample', 'test/unit/common/test_db_replicator.py', 'test/unit/obj/test_server.py', 'swift/container/replicator.py', 'swift/obj/updater.py', 'swift/common/utils.py', 'swift/common/db_replicator.py', 'swift/container/sharder.py', 'setup.cfg', 'swift/common/request_helpers.py', 'swift/container/backend.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py']",28,834deb5f7417d6fd293e2a2fbc5335019785eac1,,"from six.moves.urllib.parse import quote, urlencodeimport json document_iters_to_http_response_body, PivotRangefrom swift.container.backend import DB_STATE_UNSHARDED 'sharding_state': int(headers.get('x-backend-sharding-state', DB_STATE_UNSHARDED)) def _get_pivot_ranges(self, req, account, container, obj=None): ranges = [] part, nodes = self.app.container_ring.get_nodes(account, container) path = ""/%s/%s"" % (account, container) if obj: path = ""%s/%s"" % (path, obj) params = req.params.copy() params.update({ 'items': 'pivot', 'format': 'json'}) headers = [self.generate_request_headers(req, transfer=True) for _junk in range(len(nodes))] piv_resp = self.make_requests(req, self.app.container_ring, part, ""GET"", path, headers, urlencode(params)) if not is_success(piv_resp.status_int): return ranges try: for pivot in json.loads(piv_resp.body): lower = pivot.get('lower') or None upper = pivot.get('upper') or None created_at = pivot.get('created_at') or None object_count = pivot.get('object_count') or 0 bytes_used = pivot.get('bytes_used') or 0 meta_timestamp = pivot.get('meta_timestamp') or None ranges.append(PivotRange(pivot['name'], created_at, lower, upper, object_count, bytes_used, meta_timestamp)) except ValueError: # Failed to decode the json response pass return ranges",from six.moves.urllib.parse import quote document_iters_to_http_response_body,5028,410
openstack%2Fproject-config~master~I07115cb23d50d10f1d62aeccd8b2376524a1c110,openstack/project-config,master,I07115cb23d50d10f1d62aeccd8b2376524a1c110,Add publish-to-pypi-quietly and more mapping entries,MERGED,2017-09-13 23:29:03.000000000,2017-09-14 16:55:53.000000000,2017-09-14 16:55:52.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-13 23:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/67598c652f6ca674512807b18d9e223f3a28fbcb', 'message': ""Add publish-to-pypi-quietly and more mapping entries\n\nCreate a template in v2 config to make migration easier (the structure\nof tarball publishing is just different and supporting it broadly just\nisn't needed)\n\nChange-Id: I07115cb23d50d10f1d62aeccd8b2376524a1c110\n""}, {'number': 2, 'created': '2017-09-14 16:30:45.000000000', 'files': ['zuul/mapping.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/54e705cce90afe92c0da6739a029cd8029eb0074', 'message': ""Add publish-to-pypi-quietly and more mapping entries\n\nCreate a template in v2 config to make migration easier (the structure\nof tarball publishing is just different and supporting it broadly just\nisn't needed)\n\nChange-Id: I07115cb23d50d10f1d62aeccd8b2376524a1c110\n""}]",0,503867,54e705cce90afe92c0da6739a029cd8029eb0074,13,4,2,2,,,0,"Add publish-to-pypi-quietly and more mapping entries

Create a template in v2 config to make migration easier (the structure
of tarball publishing is just different and supporting it broadly just
isn't needed)

Change-Id: I07115cb23d50d10f1d62aeccd8b2376524a1c110
",git fetch https://review.opendev.org/openstack/project-config refs/changes/67/503867/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul/mapping.yaml', 'zuul/layout.yaml']",2,67598c652f6ca674512807b18d9e223f3a28fbcb,zuulv3, # Publish wheels and sdists to pypi.python.org but don't update constraints # or announce things. - name: publish-to-pypi-quietly pre-release: - '{name}-tarball': - '{name}-tarball-signing' - '{name}-pypi-both-upload': release: - '{name}-tarball': - '{name}-tarball-signing' - '{name}-pypi-both-upload': - name: publish-to-pypi-quietly - name: publish-to-pypi-quietly - name: publish-to-pypi-quietly - name: publish-to-pypi-quietly, pre-release: - ara-tarball: - ara-tarball-signing - ara-pypi-both-upload release: - ara-tarball: - ara-tarball-signing - ara-pypi-both-upload pre-release: - oaktree-tarball: - oaktree-tarball-signing - oaktree-pypi-both-upload release: - oaktree-tarball: - oaktree-tarball-signing - oaktree-pypi-both-upload pre-release: - oaktreemodel-tarball: - oaktreemodel-tarball-signing - oaktreemodel-pypi-both-upload release: - oaktreemodel-tarball: - oaktreemodel-tarball-signing - oaktreemodel-pypi-both-upload pre-release: - stackalytics-tarball release: - stackalytics-tarball: - stackalytics-pypi-both-upload,25,29
openstack%2Fcinder~master~Ib6dc549f8bc8da5dfd64d0e390cd70b27cd63177,openstack/cinder,master,Ib6dc549f8bc8da5dfd64d0e390cd70b27cd63177,Add missing snapshot action in index.rst,MERGED,2017-09-12 09:01:33.000000000,2017-09-14 16:54:05.000000000,2017-09-13 22:09:46.000000000,"[{'_account_id': 3}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 23083}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-12 09:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5ac0647e7b0e4214036d72535c20736d059ba69', 'message': 'Add missing snapshot action in index.rst\n\nIn the file api-ref/source/v3/index.rst, we missed include\nvolumes-v3-snapshots-actions.inc, This change is to add it.\n\nChange-Id: Ib6dc549f8bc8da5dfd64d0e390cd70b27cd63177\n'}, {'number': 2, 'created': '2017-09-12 09:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c34c6d880887132e2fc022b4507bc9aa867248d', 'message': 'Add missing snapshot action in index.rst\n\nIn the file api-ref/source/v3/index.rst, it missed include\nvolumes-v3-snapshots-actions.inc, This change is to add it\nand fix doc format error.\n\nChange-Id: Ib6dc549f8bc8da5dfd64d0e390cd70b27cd63177\n'}, {'number': 3, 'created': '2017-09-13 02:38:07.000000000', 'files': ['api-ref/source/v3/index.rst', 'api-ref/source/v3/volumes-v3-snapshots-actions.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5c4be704fcc170fed79a8142c1e804df8c45a6e', 'message': 'Add missing snapshot action in index.rst\n\nIn the file api-ref/source/v3/index.rst, it missed include\nvolumes-v3-snapshots-actions.inc, This change is to add it\nand fix doc format error.\n\nChange-Id: Ib6dc549f8bc8da5dfd64d0e390cd70b27cd63177\n'}]",2,502921,c5c4be704fcc170fed79a8142c1e804df8c45a6e,57,26,3,25456,,,0,"Add missing snapshot action in index.rst

In the file api-ref/source/v3/index.rst, it missed include
volumes-v3-snapshots-actions.inc, This change is to add it
and fix doc format error.

Change-Id: Ib6dc549f8bc8da5dfd64d0e390cd70b27cd63177
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/502921/3 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/index.rst'],1,b5ac0647e7b0e4214036d72535c20736d059ba69,include-file,.. include:: volumes-v3-snapshots-actions.inc,,1,0
openstack%2Fsecurity-doc~master~I6944210e35822d1463739aefdf323b892cfbc715,openstack/security-doc,master,I6944210e35822d1463739aefdf323b892cfbc715,Adding OSSN-0081,MERGED,2017-08-30 14:45:33.000000000,2017-09-14 16:51:55.000000000,2017-09-14 16:51:55.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5263}, {'_account_id': 6804}, {'_account_id': 7063}, {'_account_id': 9311}, {'_account_id': 10607}, {'_account_id': 17893}, {'_account_id': 20156}]","[{'number': 1, 'created': '2017-08-30 14:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/1e06a9ee2a09a0308d3437f9cca37b4256a4b0b3', 'message': 'Adding OSSN-0081\n\nAdding OSSN-0081 for sha512_crypt is insufficient.\n\nChange-Id: I6944210e35822d1463739aefdf323b892cfbc715\n'}, {'number': 2, 'created': '2017-08-30 14:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/bab600a21e913d2734a4e325f4fcf1bf79623e40', 'message': 'Adding OSSN-0081\n\nAdding OSSN-0081 for sha512_crypt is insufficient.\n\nChange-Id: I6944210e35822d1463739aefdf323b892cfbc715\n'}, {'number': 3, 'created': '2017-08-30 15:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/731298efcae3a704926032679bbba20d0436b3ef', 'message': 'Adding OSSN-0081\n\nAdding OSSN-0081 for sha512_crypt is insufficient.\n\nChange-Id: I6944210e35822d1463739aefdf323b892cfbc715\n'}, {'number': 4, 'created': '2017-08-31 09:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/1c8dacb404d2a450a9fad593973c1991ed7349b6', 'message': 'Adding OSSN-0081\n\nAdding OSSN-0081 for sha512_crypt is insufficient.\n\nChange-Id: I6944210e35822d1463739aefdf323b892cfbc715\n'}, {'number': 5, 'created': '2017-09-04 10:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/17f19e0d8025f2720783916b3058a01d980aa803', 'message': 'Adding OSSN-0081\n\nAdding OSSN-0081 for sha512_crypt is insufficient.\n\nChange-Id: I6944210e35822d1463739aefdf323b892cfbc715\n'}, {'number': 6, 'created': '2017-09-07 12:37:41.000000000', 'files': ['security-notes/OSSN-0081'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/148134990055d72f184bddaa5603838891fc1380', 'message': 'Adding OSSN-0081\n\nAdding OSSN-0081 for sha512_crypt is insufficient.\n\nChange-Id: I6944210e35822d1463739aefdf323b892cfbc715\n'}]",5,499176,148134990055d72f184bddaa5603838891fc1380,21,9,6,17893,,,0,"Adding OSSN-0081

Adding OSSN-0081 for sha512_crypt is insufficient.

Change-Id: I6944210e35822d1463739aefdf323b892cfbc715
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/76/499176/4 && git format-patch -1 --stdout FETCH_HEAD,['security-notes/OSSN-0081'],1,1e06a9ee2a09a0308d3437f9cca37b4256a4b0b3,bug/1668503,"sha512_crypt is insufficient for password hashing ------------------------------------------------- ### Summary ### Keystones use of sha512_crypt for password hashing, is insufficient and provides limited protection against brute-forcing of password hashes. ### Affected Services / Software ### OpenStack Identity Service (Keystone). OpenStack Releases Ocata, Newton. ### Discussion ### Keystone uses sha512_crypt for password hashing. This is insufficient and provides limited protection (even with 10,000 rounds) against brute-forcing of the password hashes (especially with FPGAs and/or GPU processing). The correct mechanism is to use the more secure hashing algorhythms of bcrypt, scrypt, or pbkdf2_sha512 instead of sha512_crypt. ### Recommended Actions ### It is recommended that operators upgrade to the Pike release where all future passwords would be bcrypt hashed. Operators should also force password changes on all users [1], which will result in the users newly generated passwords being bcrypt hashed. ### Contacts / References ### Author: Luke Hinds <lhinds@redhat.com> [1]: https://docs.openstack.org/keystone/latest/admin/identity-security-compliance.html#force-users-to-change-password-upon-first-use This OSSN : https://wiki.openstack.org/wiki/OSSN/OSSN-0081 Original LaunchPad Bug : https://bugs.launchpad.net/ossn/+bug/1668503 Mailing List : [Security] tag on openstack-dev@lists.openstack.org OpenStack Security Project : https://launchpad.net/~openstack-ossg ",,36,0
openstack%2Fopenstack-ansible~master~I5813d77dd7e5782afca7b4a58091952298e80322,openstack/openstack-ansible,master,I5813d77dd7e5782afca7b4a58091952298e80322,Set the LXC download mirror properly,MERGED,2017-09-13 16:26:27.000000000,2017-09-14 16:50:20.000000000,2017-09-14 16:42:54.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-13 16:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca2d5d9f888d848f0e3c07e762d2d2688b623b15', 'message': 'Set the LXC download mirror properly\n\nThe LXC reverse proxy from nodepool was not being used by the\nlxc_hosts role and this patch fixes it.\n\nCloses-Bug: 1716958\nChange-Id: I5813d77dd7e5782afca7b4a58091952298e80322\n'}, {'number': 2, 'created': '2017-09-13 20:41:20.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7b8d6502f346ad885eb6ca846758ae687b79ae4b', 'message': 'Set the LXC download mirror properly\n\nThe LXC reverse proxy from nodepool was not being used by the\nlxc_hosts role and this patch fixes it.\n\nCloses-Bug: 1716958\nChange-Id: I5813d77dd7e5782afca7b4a58091952298e80322\n'}]",2,503736,7b8d6502f346ad885eb6ca846758ae687b79ae4b,14,5,2,538,,,0,"Set the LXC download mirror properly

The LXC reverse proxy from nodepool was not being used by the
lxc_hosts role and this patch fixes it.

Closes-Bug: 1716958
Change-Id: I5813d77dd7e5782afca7b4a58091952298e80322
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/503736/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,ca2d5d9f888d848f0e3c07e762d2d2688b623b15,bug/1716958,lxc_image_cache_server_mirrors: {{ [lxc_image_cache_server] }},lxc_image_cache_server: {{ lxc_image_cache_server }},1,1
openstack%2Fnetworking-bagpipe~master~I78c19cce671c61c19a07050bc328bf966449dc29,openstack/networking-bagpipe,master,I78c19cce671c61c19a07050bc328bf966449dc29,dnm: test oslo.config advanced=True,ABANDONED,2017-09-11 09:18:07.000000000,2017-09-14 16:41:37.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-09-11 09:18:07.000000000', 'files': ['networking_bagpipe/agent/bagpipe_bgp_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0318f136764607497199027695b6ed0a829dcea9', 'message': 'dnm: test oslo.config advanced=True\n\nChange-Id: I78c19cce671c61c19a07050bc328bf966449dc29\n'}]",0,502429,0318f136764607497199027695b6ed0a829dcea9,3,1,1,12021,,,0,"dnm: test oslo.config advanced=True

Change-Id: I78c19cce671c61c19a07050bc328bf966449dc29
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/29/502429/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/agent/bagpipe_bgp_agent.py'],1,0318f136764607497199027695b6ed0a829dcea9,advanced_test," cfg.StrOpt('bagpipe_bgp_ip', default='127.0.0.1', advanced=True,"," cfg.StrOpt('bagpipe_bgp_ip', default='127.0.0.1',",1,1
openstack%2Fopenstack-ansible-ops~master~Ia3f9436a460e48006cce27a17a00c5265c62b913,openstack/openstack-ansible-ops,master,Ia3f9436a460e48006cce27a17a00c5265c62b913,Create inventory directory,MERGED,2017-09-14 16:06:33.000000000,2017-09-14 16:37:28.000000000,2017-09-14 16:37:28.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-14 16:06:33.000000000', 'files': ['multi-node-aio/playbooks/inventory/hosts'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a3cde38df0169115bc7fbfe7a1da32bfb46a074b', 'message': 'Create inventory directory\n\nThis commit moves playbooks/inventory into a file\ncalled playbooks/inventory/hosts.  This is being done so that users can\ndrop in additional inventory without having to necessarily modify the\nexisting static inventory.\n\nChange-Id: Ia3f9436a460e48006cce27a17a00c5265c62b913\n'}]",0,504100,a3cde38df0169115bc7fbfe7a1da32bfb46a074b,7,3,1,7307,,,0,"Create inventory directory

This commit moves playbooks/inventory into a file
called playbooks/inventory/hosts.  This is being done so that users can
drop in additional inventory without having to necessarily modify the
existing static inventory.

Change-Id: Ia3f9436a460e48006cce27a17a00c5265c62b913
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/00/504100/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/inventory/hosts'],1,a3cde38df0169115bc7fbfe7a1da32bfb46a074b,move_inventory_file,,,0,0
openstack%2Fneutron-dynamic-routing~master~Id98d3d61f3c1bad65db52a482828714398c03f82,openstack/neutron-dynamic-routing,master,Id98d3d61f3c1bad65db52a482828714398c03f82,Refactor the code to support agentless BGP driver,ABANDONED,2016-08-02 10:18:28.000000000,2017-09-14 16:30:58.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4187}, {'_account_id': 6854}, {'_account_id': 6981}, {'_account_id': 7448}, {'_account_id': 14605}, {'_account_id': 17734}]","[{'number': 1, 'created': '2016-08-02 10:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/3ee56ced6fe7ee23c5077df84a8c0a89ed1e72a4', 'message': '(WIP)Refactor the code to support agentless BGP driver\n\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 2, 'created': '2016-08-03 10:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/fae1a66c73ba3683cee03d8d16bc8a7bfbccb814', 'message': '(WIP)Refactor the code to support agentless BGP driver\n\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 3, 'created': '2016-08-10 06:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/894710e3a4ab2762630835b6403d8c2677b74c3b', 'message': '(WIP)Refactor the code to support agentless BGP driver\n\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 4, 'created': '2016-08-11 03:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/3cdb4d6a798f73844fb2ffe4758f09cc02c4daa2', 'message': '(WIP)Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_bgp.BgpRpcPluginDriver:default\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 5, 'created': '2016-08-11 03:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f50a037ac1e1a0aa00837a6add4765fed98be0fe', 'message': '(WIP)Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_bgp.BgpRpcPluginDriver:default\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 6, 'created': '2016-08-11 03:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a65f27978da56c680b35ccda8de83214a10c1d21', 'message': '(WIP)Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_bgp.BgpRpcPluginDriver:default\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 7, 'created': '2016-08-16 08:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/834949b21cdf2c9fb7a24b05ea7449319bb0589b', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_bgp.BgpRpcPluginDriver:default\n\nFor more detail information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 8, 'created': '2016-09-20 06:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9cee847472c99979c76bd9a8428b3cb7aad1cf39', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_bgp.BgpRpcPluginDriver:default\n\nFor more detail information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 9, 'created': '2016-09-21 07:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5c5df60a56d36ffaa84eb5b294b8217b82195fab', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_bgp.BgpRpcPluginDriver:default\n\nFor more detail information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 10, 'created': '2016-11-02 08:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/7472f8a9125792eb784d18315c35bc36eab02975', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_bgp.BgpRpcPluginDriver:default\n\nFor more detail information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 11, 'created': '2016-12-07 07:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/49b1053c954df13201e8aff5e78a52faefaad716', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_bgp.BgpRpcPluginDriver:default\n\nFor more detail information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 12, 'created': '2016-12-07 07:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d0a17dbac74b673f3231cd040d52fe605346b385', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detail information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 13, 'created': '2016-12-12 06:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1915fa2b4adbbe3c378954e7c1f8fbc862a0d8df', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detail information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 14, 'created': '2016-12-12 08:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/39489d34adada79e4efcdd3bcef52b5cdfca2711', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detail information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 15, 'created': '2016-12-13 06:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2a866d6381838f63a33306548608e32446c7d23f', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 16, 'created': '2017-01-05 05:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ccdedf05287d84893c3f3b96958a88368293ae04', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 17, 'created': '2017-01-11 09:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/db37e5c9f92eff47f40de18d100530c737102f1a', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 18, 'created': '2017-01-13 10:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/73e9ee034c5f93f922948528b3857edfc500806d', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 19, 'created': '2017-01-16 09:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/984f560baab7c4da791b360fd01874c1cff73f6c', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 20, 'created': '2017-01-16 10:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/aca1170ce5273a3eba1922b69e06dc12609edc14', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 21, 'created': '2017-01-17 03:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d2b6d1503020b9f301ccca43e4b11649f432a652', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 22, 'created': '2017-01-17 05:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/4ea8d9546fa80081d51aea335395cc914016ab07', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}, {'number': 23, 'created': '2017-01-18 08:18:59.000000000', 'files': ['neutron_dynamic_routing/services/bgp/service_drivers/__init__.py', 'neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/services/bgp/common/constants.py', 'devstack/lib/dr', 'neutron_dynamic_routing/services/bgp/service_drivers/rpc_driver.py', 'neutron_dynamic_routing/services/bgp/common/opts.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_dragentscheduler_db.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py', 'setup.cfg', 'etc/oslo-config-generator/neutron_dynamic_routing.conf', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/56ce36420cf558cc998a12aa37594e5aa8d47eaa', 'message': 'Refactor the code to support agentless BGP driver\n\nAdding new configuration file neutron_dynamic_routing.conf to save\nservice_providers info.\nservice_provider for default agent driver should be:\nDYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default\n\nFor more detailed information, please check the bug.\n\nCloses-Bug: #1611632\nChange-Id: Id98d3d61f3c1bad65db52a482828714398c03f82\n'}]",63,349921,56ce36420cf558cc998a12aa37594e5aa8d47eaa,107,8,23,6981,,,0,"Refactor the code to support agentless BGP driver

Adding new configuration file neutron_dynamic_routing.conf to save
service_providers info.
service_provider for default agent driver should be:
DYNAMIC_ROUTING:RPCDriver:neutron_dynamic_routing.services.bgp.service_drivers.rpc_driver.BgpRpcPluginDriver:default

For more detailed information, please check the bug.

Closes-Bug: #1611632
Change-Id: Id98d3d61f3c1bad65db52a482828714398c03f82
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/21/349921/17 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/services/bgp/service_drivers/__init__.py', 'neutron_dynamic_routing/services/bgp/common/constants.py', 'neutron_dynamic_routing/services/bgp/service_drivers/rpc_bgp.py']",4,3ee56ced6fe7ee23c5077df84a8c0a89ed1e72a4,add_callback,"# Copyright 2016 Hewlett Packard Enterprise Development Company LP # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from netaddr import IPAddress from neutron_lib import constants as n_const from oslo_config import cfg from oslo_log import log as logging from oslo_utils import importutils from neutron.callbacks import events from neutron.callbacks import registry from neutron.callbacks import resources from neutron.common import rpc as n_rpc from neutron import context from neutron_dynamic_routing._i18n import _LI from neutron_dynamic_routing.api.rpc.agentnotifiers import bgp_dr_rpc_agent_api # noqa from neutron_dynamic_routing.api.rpc.handlers import bgp_speaker_rpc as bs_rpc from neutron_dynamic_routing.db import bgp_db from neutron_dynamic_routing.db import bgp_dragentscheduler_db from neutron_dynamic_routing.services.bgp.common import constants as bgp_consts class BgpRpcPluginDriver(object): def __init__(self, service_plugin, validator=None): self.service_plugin = service_plugin self.bgp_drscheduler = importutils.import_object( cfg.CONF.bgp_drscheduler_driver) self.bgp_db = bgp_db.BgpDbMixin() self.bgp_drs_db = bgp_dragentscheduler_db.BgpDrAgentSchedulerDbMixin() self._setup_rpc() self._register_callbacks() @property def service_type(self): bgp_consts.DYNAMIC_ROUTING def _setup_rpc(self): self.topic = bgp_consts.BGP_PLUGIN self.conn = n_rpc.create_connection() self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] = ( bgp_dr_rpc_agent_api.BgpDrAgentNotifyApi() ) self._bgp_rpc = self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] self.endpoints = [bs_rpc.BgpSpeakerRpcCallback()] self.conn.create_consumer(self.topic, self.endpoints, fanout=False) self.conn.consume_in_threads() def _register_callbacks(self): registry.subscribe(self.floatingip_update_callback, resources.FLOATING_IP, events.AFTER_UPDATE) registry.subscribe(self.router_interface_callback, resources.ROUTER_INTERFACE, events.AFTER_CREATE) registry.subscribe(self.router_interface_callback, resources.ROUTER_INTERFACE, events.BEFORE_CREATE) registry.subscribe(self.router_interface_callback, resources.ROUTER_INTERFACE, events.AFTER_DELETE) registry.subscribe(self.router_gateway_callback, resources.ROUTER_GATEWAY, events.AFTER_CREATE) registry.subscribe(self.router_gateway_callback, resources.ROUTER_GATEWAY, events.AFTER_DELETE) def create_bgp_speaker(self, context, bgp_speaker): bgp_speaker = self.bgp_db.create_bgp_speaker(context, bgp_speaker) return bgp_speaker def update_bgp_speaker(self, context, bgp_speaker_id, bgp_speaker): self.bgp_db.update_bgp_speaker(context, bgp_speaker_id, bgp_speaker) def delete_bgp_speaker(self, context, bgp_speaker_id): hosted_bgp_dragents = self.get_dragents_hosting_bgp_speakers( context, [bgp_speaker_id]) self.bgp_db.delete_bgp_speaker(context, bgp_speaker_id) for agent in hosted_bgp_dragents: self._bgp_rpc.bgp_speaker_removed(context, bgp_speaker_id, agent.host) def create_bgp_peer(self, context, bgp_peer): self.bgp_db.create_bgp_peer(context, bgp_peer) def update_bgp_peer(self, context, bgp_peer_id, bgp_peer): self.bgp_db.update_bgp_peer(context, bgp_peer_id, bgp_peer) def delete_bgp_peer(self, context, bgp_peer_id): self.bgp_db.delete_bgp_peer(context, bgp_peer_id) def add_bgp_peer(self, context, bgp_speaker_id, bgp_peer_info): ret_value = self.bgp_db.add_bgp_peer(context, bgp_speaker_id, bgp_peer_info) hosted_bgp_dragents = self.get_dragents_hosting_bgp_speakers( context, [bgp_speaker_id]) for agent in hosted_bgp_dragents: self._bgp_rpc.bgp_peer_associated(context, bgp_speaker_id, ret_value['bgp_peer_id'], agent.host) return ret_value def remove_bgp_peer(self, context, bgp_speaker_id, bgp_peer_info): hosted_bgp_dragents = self.get_dragents_hosting_bgp_speakers( context, [bgp_speaker_id]) ret_value = self.bgp_db.remove_bgp_peer(context, bgp_speaker_id, bgp_peer_info) for agent in hosted_bgp_dragents: self._bgp_rpc.bgp_peer_disassociated(context, bgp_speaker_id, ret_value['bgp_peer_id'], agent.host) def add_bgp_speaker_to_dragent(self, context, agent_id, speaker_id): self.bgp_drs_db.add_bgp_speaker_to_dragent(context, agent_id, speaker_id) def remove_bgp_speaker_from_dragent(self, context, agent_id, speaker_id): self.bgp_drs_db.remove_bgp_speaker_from_dragent(context, agent_id, speaker_id) def list_bgp_speaker_on_dragent(self, context, agent_id): self.bgp_drs_db.list_bgp_speaker_on_dragent(context, agent_id) def list_dragent_hosting_bgp_speaker(self, context, speaker_id): self.bgp_drs_db.list_dragent_hosting_bgp_speaker(context, speaker_id) def add_gateway_network(self, context, bgp_speaker_id, network_info): self.bgp_drs_db.add_gateway_network(context, bgp_speaker_id, network_info) def remove_gateway_network(self, context, bgp_speaker_id, network_info): self.bgp_drs_db.remove_gateway_network(context, bgp_speaker_id, network_info) def floatingip_update_callback(self, resource, event, trigger, **kwargs): if event != events.AFTER_UPDATE: return ctx = context.get_admin_context() new_router_id = kwargs['router_id'] last_router_id = kwargs['last_known_router_id'] next_hop = kwargs['next_hop'] dest = kwargs['floating_ip_address'] + '/32' bgp_speakers = self._bgp_speakers_for_gw_network_by_family( ctx, kwargs['floating_network_id'], n_const.IP_VERSION_4) if last_router_id and new_router_id != last_router_id: for bgp_speaker in bgp_speakers: self.stop_route_advertisements(ctx, self._bgp_rpc, bgp_speaker.id, [dest]) if next_hop and new_router_id != last_router_id: new_host_route = {'destination': dest, 'next_hop': next_hop} for bgp_speaker in bgp_speakers: self.start_route_advertisements(ctx, self._bgp_rpc, bgp_speaker.id, [new_host_route]) def router_interface_callback(self, resource, event, trigger, **kwargs): if event == events.AFTER_CREATE: self._handle_router_interface_after_create(**kwargs) if event == events.AFTER_DELETE: gw_network = kwargs['network_id'] next_hops = self._next_hops_from_gateway_ips( kwargs['gateway_ips']) ctx = context.get_admin_context() speakers = self._bgp_speakers_for_gateway_network(ctx, gw_network) for speaker in speakers: routes = self._route_list_from_prefixes_and_next_hop( kwargs['cidrs'], next_hops[speaker.ip_version]) self._handle_router_interface_after_delete(gw_network, routes) def _handle_router_interface_after_create(self, **kwargs): gw_network = kwargs['network_id'] if not gw_network: return ctx = context.get_admin_context() with ctx.session.begin(subtransactions=True): speakers = self._bgp_speakers_for_gateway_network(ctx, gw_network) next_hops = self._next_hops_from_gateway_ips( kwargs['gateway_ips']) for speaker in speakers: prefixes = self._tenant_prefixes_by_router( ctx, kwargs['router_id'], speaker.id) next_hop = next_hops.get(speaker.ip_version) if next_hop: rl = self._route_list_from_prefixes_and_next_hop(prefixes, next_hop) self.start_route_advertisements(ctx, self._bgp_rpc, speaker.id, rl) def router_gateway_callback(self, resource, event, trigger, **kwargs): if event == events.AFTER_CREATE: self._handle_router_gateway_after_create(**kwargs) if event == events.AFTER_DELETE: gw_network = kwargs['network_id'] router_id = kwargs['router_id'] next_hops = self._next_hops_from_gateway_ips( kwargs['gateway_ips']) ctx = context.get_admin_context() speakers = self._bgp_speakers_for_gateway_network(ctx, gw_network) for speaker in speakers: if speaker.ip_version in next_hops: next_hop = next_hops[speaker.ip_version] prefixes = self._tenant_prefixes_by_router(ctx, router_id, speaker.id) routes = self._route_list_from_prefixes_and_next_hop( prefixes, next_hop) self._handle_router_interface_after_delete(gw_network, routes) def _handle_router_gateway_after_create(self, **kwargs): ctx = context.get_admin_context() gw_network = kwargs['network_id'] router_id = kwargs['router_id'] with ctx.session.begin(subtransactions=True): speakers = self._bgp_speakers_for_gateway_network(ctx, gw_network) next_hops = self._next_hops_from_gateway_ips(kwargs['gw_ips']) for speaker in speakers: if speaker.ip_version in next_hops: next_hop = next_hops[speaker.ip_version] prefixes = self._tenant_prefixes_by_router(ctx, router_id, speaker.id) routes = self._route_list_from_prefixes_and_next_hop( prefixes, next_hop) self.start_route_advertisements(ctx, self._bgp_rpc, speaker.id, routes) def _handle_router_interface_after_delete(self, gw_network, routes): if gw_network and routes: ctx = context.get_admin_context() speakers = self._bgp_speakers_for_gateway_network(ctx, gw_network) for speaker in speakers: self.stop_route_advertisements(ctx, self._bgp_rpc, speaker.id, routes) def _next_hops_from_gateway_ips(self, gw_ips): if gw_ips: return {IPAddress(ip).version: ip for ip in gw_ips} return {} def start_route_advertisements(self, ctx, bgp_rpc, bgp_speaker_id, routes): agents = self.list_dragent_hosting_bgp_speaker(ctx, bgp_speaker_id) for agent in agents['agents']: bgp_rpc.bgp_routes_advertisement(ctx, bgp_speaker_id, routes, agent['host']) msg = ""Starting route advertisements for %s on BgpSpeaker %s"" self._debug_log_for_routes(msg, routes, bgp_speaker_id) def stop_route_advertisements(self, ctx, bgp_rpc, bgp_speaker_id, routes): agents = self.list_dragent_hosting_bgp_speaker(ctx, bgp_speaker_id) for agent in agents['agents']: bgp_rpc.bgp_routes_withdrawal(ctx, bgp_speaker_id, routes, agent['host']) msg = ""Stopping route advertisements for %s on BgpSpeaker %s"" self._debug_log_for_routes(msg, routes, bgp_speaker_id) def _debug_log_for_routes(self, msg, routes, bgp_speaker_id): # Could have a large number of routes passed, check log level first if LOG.isEnabledFor(logging.DEBUG): for route in routes: LOG.debug(msg, route, bgp_speaker_id) ",,353,250
openstack%2Fpython-cinderclient~master~I3bafc2645791afde4774fddd68dbfbc05a68d4b0,openstack/python-cinderclient,master,I3bafc2645791afde4774fddd68dbfbc05a68d4b0,Remove run_tests.sh,MERGED,2017-09-08 16:31:51.000000000,2017-09-14 16:30:05.000000000,2017-09-14 16:30:05.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 23602}]","[{'number': 1, 'created': '2017-09-08 16:31:51.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/720cb437164cb2d8da3a000926cf9973a7691bfb', 'message': 'Remove run_tests.sh\n\nQuite a while back we decided to remove run_tests.sh from the cinder\nproject to make things consistent and to have just one way (tox) of\nrunning things. We should also be consistent across cinder projects\nand remove it from here.\n\nChange-Id: I3bafc2645791afde4774fddd68dbfbc05a68d4b0\n'}]",2,502120,720cb437164cb2d8da3a000926cf9973a7691bfb,10,4,1,11904,,,0,"Remove run_tests.sh

Quite a while back we decided to remove run_tests.sh from the cinder
project to make things consistent and to have just one way (tox) of
running things. We should also be consistent across cinder projects
and remove it from here.

Change-Id: I3bafc2645791afde4774fddd68dbfbc05a68d4b0
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/20/502120/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,720cb437164cb2d8da3a000926cf9973a7691bfb,remove_run_tests,,"#!/bin/bash set -eu function usage { echo ""Usage: $0 [OPTION]..."" echo ""Run cinderclient's test suite(s)"" echo """" echo "" -V, --virtual-env Always use virtualenv. Install automatically if not present"" echo "" -N, --no-virtual-env Don't use virtualenv. Run tests in local environment"" echo "" -s, --no-site-packages Isolate the virtualenv from the global Python environment"" echo "" -r, --recreate-db Recreate the test database (deprecated, as this is now the default)."" echo "" -n, --no-recreate-db Don't recreate the test database."" echo "" -f, --force Force a clean re-build of the virtual environment. Useful when dependencies have been added."" echo "" -u, --update Update the virtual environment with any newer package versions"" echo "" -p, --pep8 Just run PEP8 and HACKING compliance check"" echo "" -P, --no-pep8 Don't run static code checks"" echo "" -c, --coverage Generate coverage report"" echo "" -d, --debug Run tests with testtools instead of testr. This allows you to use the debugger."" echo "" -h, --help Print this usage message"" echo "" --hide-elapsed Don't print the elapsed time for each test along with slow test list"" echo "" --virtual-env-path <path> Location of the virtualenv directory"" echo "" Default: \$(pwd)"" echo "" --virtual-env-name <name> Name of the virtualenv directory"" echo "" Default: .venv"" echo "" --tools-path <dir> Location of the tools directory"" echo "" Default: \$(pwd)"" echo """" echo ""Note: with no options specified, the script will try to run the tests in a virtual environment,"" echo "" If no virtualenv is found, the script will ask if you would like to create one. If you "" echo "" prefer to run tests NOT in a virtual environment, simply pass the -N option."" exit } function process_options { i=1 while [ $i -le $# ]; do case ""${!i}"" in -h|--help) usage;; -V|--virtual-env) always_venv=1; never_venv=0;; -N|--no-virtual-env) always_venv=0; never_venv=1;; -s|--no-site-packages) no_site_packages=1;; -r|--recreate-db) recreate_db=1;; -n|--no-recreate-db) recreate_db=0;; -f|--force) force=1;; -u|--update) update=1;; -p|--pep8) just_pep8=1;; -P|--no-pep8) no_pep8=1;; -c|--coverage) coverage=1;; -d|--debug) debug=1;; --virtual-env-path) (( i++ )) venv_path=${!i} ;; --virtual-env-name) (( i++ )) venv_dir=${!i} ;; --tools-path) (( i++ )) tools_path=${!i} ;; -*) testropts=""$testropts ${!i}"";; *) testrargs=""$testrargs ${!i}"" esac (( i++ )) done } tool_path=${tools_path:-$(pwd)} venv_path=${venv_path:-$(pwd)} venv_dir=${venv_name:-.venv} with_venv=tools/with_venv.sh always_venv=0 never_venv=0 force=0 no_site_packages=0 installvenvopts= testrargs= testropts= wrapper="""" just_pep8=0 no_pep8=0 coverage=0 debug=0 recreate_db=1 update=0 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=C process_options $@ # Make our paths available to other scripts we call export venv_path export venv_dir export venv_name export tools_dir export venv=${venv_path}/${venv_dir} if [ $no_site_packages -eq 1 ]; then installvenvopts=""--no-site-packages"" fi function run_tests { # Cleanup *pyc ${wrapper} find . -type f -name ""*.pyc"" -delete if [ $debug -eq 1 ]; then if [ ""$testropts"" = """" ] && [ ""$testrargs"" = """" ]; then # Default to running all tests if specific test is not # provided. testrargs=""discover ./cinderclient/tests"" fi ${wrapper} python -m testtools.run $testropts $testrargs # Short circuit because all of the testr and coverage stuff # below does not make sense when running testtools.run for # debugging purposes. return $? fi if [ $coverage -eq 1 ]; then TESTRTESTS=""$TESTRTESTS --coverage"" else TESTRTESTS=""$TESTRTESTS"" fi # Just run the test suites in current environment set +e testrargs=`echo ""$testrargs"" | sed -e's/^\s*\(.*\)\s*$/\1/'` TESTRTESTS=""$TESTRTESTS --testr-args='--subunit $testropts $testrargs'"" if [ setup.cfg -nt cinderclient.egg-info/entry_points.txt ] then ${wrapper} python setup.py egg_info fi echo ""Running \`${wrapper} $TESTRTESTS\`"" if ${wrapper} which subunit-2to1 2>&1 > /dev/null then # subunit-2to1 is present, testr subunit stream should be in version 2 # format. Convert to version one before colorizing. bash -c ""${wrapper} $TESTRTESTS | ${wrapper} subunit-2to1 | ${wrapper} tools/colorizer.py"" else bash -c ""${wrapper} $TESTRTESTS | ${wrapper} tools/colorizer.py"" fi RESULT=$? set -e copy_subunit_log if [ $coverage -eq 1 ]; then echo ""Generating coverage report in covhtml/"" # Don't compute coverage for common code, which is tested elsewhere ${wrapper} coverage combine ${wrapper} coverage html --include='cinderclient/*' --omit='cinderclient/openstack/common/*' -d covhtml -i fi return $RESULT } function copy_subunit_log { LOGNAME=`cat .testrepository/next-stream` LOGNAME=$(($LOGNAME - 1)) LOGNAME="".testrepository/${LOGNAME}"" cp $LOGNAME subunit.log } function run_pep8 { echo ""Running flake8 ..."" bash -c ""${wrapper} flake8"" } TESTRTESTS=""python setup.py testr"" if [ $never_venv -eq 0 ] then # Remove the virtual environment if --force used if [ $force -eq 1 ]; then echo ""Cleaning virtualenv..."" rm -rf ${venv} fi if [ $update -eq 1 ]; then echo ""Updating virtualenv..."" python tools/install_venv.py $installvenvopts fi if [ -e ${venv} ]; then wrapper=""${with_venv}"" else if [ $always_venv -eq 1 ]; then # Automatically install the virtualenv python tools/install_venv.py $installvenvopts wrapper=""${with_venv}"" else echo -e ""No virtual environment found...create one? (Y/n) \c"" read use_ve if [ ""x$use_ve"" = ""xY"" -o ""x$use_ve"" = ""x"" -o ""x$use_ve"" = ""xy"" ]; then # Install the virtualenv and run the test suite in it python tools/install_venv.py $installvenvopts wrapper=${with_venv} fi fi fi fi # Delete old coverage data from previous runs if [ $coverage -eq 1 ]; then ${wrapper} coverage erase fi if [ $just_pep8 -eq 1 ]; then run_pep8 exit fi if [ $recreate_db -eq 1 ]; then rm -f tests.sqlite fi run_tests # NOTE(sirp): we only want to run pep8 when we're running the full-test suite, # not when we're running tests individually. To handle this, we need to # distinguish between options (testropts), which begin with a '-', and # arguments (testrargs). if [ -z ""$testrargs"" ]; then if [ $no_pep8 -eq 0 ]; then run_pep8 fi fi ",0,231
openstack%2Fmanila~master~I485e2c4a17e0c9aac72b2f0638da1a8380ca390d,openstack/manila,master,I485e2c4a17e0c9aac72b2f0638da1a8380ca390d,Updated from global requirements,MERGED,2017-09-11 21:20:48.000000000,2017-09-14 16:29:31.000000000,2017-09-13 17:14:31.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 22248}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-09-11 21:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cfa82df0557727d378b6d7d8c6dd557085d55117', 'message': 'Updated from global requirements\n\nChange-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d\n'}, {'number': 2, 'created': '2017-09-11 21:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7e6988256e18887f2d5f48118a98f395fddd4e78', 'message': 'Updated from global requirements\n\nChange-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d\n'}, {'number': 3, 'created': '2017-09-12 14:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/19f7492e6abb946cbfd889f4b5e39c912df28acf', 'message': 'Updated from global requirements\n\nChange-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d\n'}, {'number': 4, 'created': '2017-09-12 17:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8c78e7e9ded16a2debf1e66b2ccc3a399d08f2ee', 'message': 'Updated from global requirements\n\nChange-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d\n'}, {'number': 5, 'created': '2017-09-12 20:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/393b39875252306e468f262165555fde1c2ee09b', 'message': 'Updated from global requirements\n\nChange-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d\n'}, {'number': 6, 'created': '2017-09-12 21:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/77efc85511cbdd6ec2c9f1e4aec2c3d271d7fb32', 'message': 'Updated from global requirements\n\nChange-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d\n'}, {'number': 7, 'created': '2017-09-13 00:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/38d7eddaf796134154433bf07b3935d066e21ce2', 'message': 'Updated from global requirements\n\nChange-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d\n'}, {'number': 8, 'created': '2017-09-13 12:52:46.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/3e49465e8017d94e6e2f0734c86a60a07d9de4e3', 'message': 'Updated from global requirements\n\nChange-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d\n'}]",0,502666,3e49465e8017d94e6e2f0734c86a60a07d9de4e3,51,10,8,11131,,,0,"Updated from global requirements

Change-Id: I485e2c4a17e0c9aac72b2f0638da1a8380ca390d
",git fetch https://review.opendev.org/openstack/manila refs/changes/66/502666/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,cfa82df0557727d378b6d7d8c6dd557085d55117,openstack/requirements,os-api-ref>=1.4.0 # Apache-2.0 os-testr>=0.8.2 # Apache-2.0,os-api-ref>=1.0.0 # Apache-2.0 os-testr>=0.8.0 # Apache-2.0,12,12
openstack%2Fneutron~master~I0701dfe13024132cf5b9696560b0d027712e7739,openstack/neutron,master,I0701dfe13024132cf5b9696560b0d027712e7739,Delete dead API v2 router code,MERGED,2017-07-20 21:09:39.000000000,2017-09-14 16:29:04.000000000,2017-09-14 16:29:04.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-07-20 21:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1af6bf014a65b457aee8a293d75cc6e6fab9161', 'message': 'begin house cleaning\n\nChange-Id: I0701dfe13024132cf5b9696560b0d027712e7739\n'}, {'number': 2, 'created': '2017-08-29 01:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38c355ba1e5ac02d68ce19cafd6dae0c42732ce9', 'message': 'begin house cleaning\n\nChange-Id: I0701dfe13024132cf5b9696560b0d027712e7739\n'}, {'number': 3, 'created': '2017-09-12 12:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d2dcfb45cba67a6583b132da31c61966b4219d1', 'message': 'begin house cleaning\n\nChange-Id: I0701dfe13024132cf5b9696560b0d027712e7739\n'}, {'number': 4, 'created': '2017-09-12 20:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0105d7eb92aafbae10027cb9e5be69d10e9812b', 'message': 'Delete dead API v2 router code\n\nChange-Id: I0701dfe13024132cf5b9696560b0d027712e7739\n'}, {'number': 5, 'created': '2017-09-13 03:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5118453db7cf11da3ad31e30662cb461ce51750b', 'message': 'Delete dead API v2 router code\n\nThis code is no longer used now that we have switched to\nPecan and have no option to switch to the legacy API\nframework.\n\nChange-Id: I0701dfe13024132cf5b9696560b0d027712e7739\n'}, {'number': 6, 'created': '2017-09-13 22:12:39.000000000', 'files': ['neutron/tests/unit/api/v2/test_base.py', 'neutron/api/v2/router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3dff9769b909be92bfdec5d86e98b3c82fddfa7', 'message': 'Delete dead API v2 router code\n\nThis code is no longer used now that we have switched to\nPecan and have no option to switch to the legacy API\nframework.\n\nChange-Id: I0701dfe13024132cf5b9696560b0d027712e7739\n'}]",0,485826,a3dff9769b909be92bfdec5d86e98b3c82fddfa7,43,11,6,7787,,,0,"Delete dead API v2 router code

This code is no longer used now that we have switched to
Pecan and have no option to switch to the legacy API
framework.

Change-Id: I0701dfe13024132cf5b9696560b0d027712e7739
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/485826/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/v2/base.py'],1,a1af6bf014a65b457aee8a293d75cc6e6fab9161,,,"import collections import copy from neutron_lib.callbacks import events from neutron_lib.callbacks import registryfrom neutron.common import constants as n_const from neutron.common import exceptions as n_excfrom neutron import quota def create(self, request, body=None, **kwargs): self._notifier.info(request.context, self._resource + '.create.start', body) return self._create(request, body, **kwargs) @db_api.retry_db_errors def _create(self, request, body, **kwargs): """"""Creates a new instance of the requested entity."""""" parent_id = kwargs.get(self._parent_id_name) body = Controller.prepare_request_body(request.context, body, True, self._resource, self._attr_info, allow_bulk=self._allow_bulk) action = self._plugin_handlers[self.CREATE] # Check authz if self._collection in body: # Have to account for bulk create items = body[self._collection] else: items = [body] # Ensure policy engine is initialized policy.init() # Store requested resource amounts grouping them by tenant # This won't work with multiple resources. However because of the # current structure of this controller there will hardly be more than # one resource for which reservations are being made request_deltas = collections.defaultdict(int) for item in items: self._validate_network_tenant_ownership(request, item[self._resource]) policy.enforce(request.context, action, item[self._resource], pluralized=self._collection) if 'tenant_id' not in item[self._resource]: # no tenant_id - no quota check continue tenant_id = item[self._resource]['tenant_id'] request_deltas[tenant_id] += 1 # Quota enforcement reservations = [] try: for (tenant, delta) in request_deltas.items(): reservation = quota.QUOTAS.make_reservation( request.context, tenant, {self._resource: delta}, self._plugin) reservations.append(reservation) except n_exc.QuotaResourceUnknown as e: # We don't want to quota this resource LOG.debug(e) def notify(create_result): # Ensure usage trackers for all resources affected by this API # operation are marked as dirty with db_api.context_manager.writer.using(request.context): # Commit the reservation(s) for reservation in reservations: quota.QUOTAS.commit_reservation( request.context, reservation.reservation_id) resource_registry.set_resources_dirty(request.context) notifier_method = self._resource + '.create.end' self._notifier.info(request.context, notifier_method, create_result) registry.notify(self._resource, events.BEFORE_RESPONSE, self, context=request.context, data=create_result, method_name=notifier_method, collection=self._collection, action=action, original={}) return create_result def do_create(body, bulk=False, emulated=False): kwargs = {self._parent_id_name: parent_id} if parent_id else {} if bulk and not emulated: obj_creator = getattr(self._plugin, ""%s_bulk"" % action) else: obj_creator = getattr(self._plugin, action) try: if emulated: return self._emulate_bulk_create(obj_creator, request, body, parent_id) else: if self._collection in body: # This is weird but fixing it requires changes to the # plugin interface kwargs.update({self._collection: body}) else: kwargs.update({self._resource: body}) return obj_creator(request.context, **kwargs) except Exception: # In case of failure the plugin will always raise an # exception. Cancel the reservation with excutils.save_and_reraise_exception(): for reservation in reservations: quota.QUOTAS.cancel_reservation( request.context, reservation.reservation_id) if self._collection in body and self._native_bulk: # plugin does atomic bulk create operations objs = do_create(body, bulk=True) # Use first element of list to discriminate attributes which # should be removed because of authZ policies fields_to_strip = self._exclude_attributes_by_policy( request.context, objs[0]) return notify({self._collection: [self._filter_attributes( obj, fields_to_strip=fields_to_strip) for obj in objs]}) else: if self._collection in body: # Emulate atomic bulk behavior objs = do_create(body, bulk=True, emulated=True) return notify({self._collection: objs}) else: obj = do_create(body) return notify({self._resource: self._view(request.context, obj)}) def delete(self, request, id, **kwargs): """"""Deletes the specified entity."""""" if request.body: msg = _('Request body is not supported in DELETE.') raise webob.exc.HTTPBadRequest(msg) self._notifier.info(request.context, self._resource + '.delete.start', {self._resource + '_id': id}) return self._delete(request, id, **kwargs) @db_api.retry_db_errors def _delete(self, request, id, **kwargs): action = self._plugin_handlers[self.DELETE] # Check authz policy.init() parent_id = kwargs.get(self._parent_id_name) obj = self._item(request, id, parent_id=parent_id) try: policy.enforce(request.context, action, obj, pluralized=self._collection) except oslo_policy.PolicyNotAuthorized: # To avoid giving away information, pretend that it # doesn't exist if policy does not authorize SHOW with excutils.save_and_reraise_exception() as ctxt: if not policy.check(request.context, self._plugin_handlers[self.SHOW], obj, pluralized=self._collection): ctxt.reraise = False msg = _('The resource could not be found.') raise webob.exc.HTTPNotFound(msg) obj_deleter = getattr(self._plugin, action) obj_deleter(request.context, id, **kwargs) # A delete operation usually alters resource usage, so mark affected # usage trackers as dirty resource_registry.set_resources_dirty(request.context) notifier_method = self._resource + '.delete.end' result = {self._resource: self._view(request.context, obj)} notifier_payload = {self._resource + '_id': id} notifier_payload.update(result) self._notifier.info(request.context, notifier_method, notifier_payload) registry.notify(self._resource, events.BEFORE_RESPONSE, self, context=request.context, data=result, method_name=notifier_method, action=action, original={}) def update(self, request, id, body=None, **kwargs): """"""Updates the specified entity's attributes."""""" try: payload = body.copy() except AttributeError: msg = _(""Invalid format: %s"") % request.body raise exceptions.BadRequest(resource='body', msg=msg) payload['id'] = id self._notifier.info(request.context, self._resource + '.update.start', payload) return self._update(request, id, body, **kwargs) @db_api.retry_db_errors def _update(self, request, id, body, **kwargs): body = Controller.prepare_request_body(request.context, body, False, self._resource, self._attr_info, allow_bulk=self._allow_bulk) action = self._plugin_handlers[self.UPDATE] # Load object to check authz # but pass only attributes in the original body and required # by the policy engine to the policy 'brain' field_list = [name for (name, value) in self._attr_info.items() if (value.get('required_by_policy') or value.get('primary_key') or 'default' not in value)] # Ensure policy engine is initialized policy.init() parent_id = kwargs.get(self._parent_id_name) orig_obj = self._item(request, id, field_list=field_list, parent_id=parent_id) orig_object_copy = copy.copy(orig_obj) orig_obj.update(body[self._resource]) # Make a list of attributes to be updated to inform the policy engine # which attributes are set explicitly so that it can distinguish them # from the ones that are set to their default values. orig_obj[n_const.ATTRIBUTES_TO_UPDATE] = body[self._resource].keys() try: policy.enforce(request.context, action, orig_obj, pluralized=self._collection) except oslo_policy.PolicyNotAuthorized: # To avoid giving away information, pretend that it # doesn't exist if policy does not authorize SHOW with excutils.save_and_reraise_exception() as ctxt: if not policy.check(request.context, self._plugin_handlers[self.SHOW], orig_obj, pluralized=self._collection): ctxt.reraise = False msg = _('The resource could not be found.') raise webob.exc.HTTPNotFound(msg) obj_updater = getattr(self._plugin, action) kwargs = {self._resource: body} if parent_id: kwargs[self._parent_id_name] = parent_id obj = obj_updater(request.context, id, **kwargs) # Usually an update operation does not alter resource usage, but as # there might be side effects it might be worth checking for changes # in resource usage here as well (e.g: a tenant port is created when a # router interface is added) resource_registry.set_resources_dirty(request.context) result = {self._resource: self._view(request.context, obj)} notifier_method = self._resource + '.update.end' self._notifier.info(request.context, notifier_method, result) registry.notify(self._resource, events.BEFORE_RESPONSE, self, context=request.context, data=result, method_name=notifier_method, action=action, original=orig_object_copy) return result ",0,256
openstack%2Fcinder-specs~master~I8ad47654743f9bcde041c4d51ce6f6b87dea8fa3,openstack/cinder-specs,master,I8ad47654743f9bcde041c4d51ce6f6b87dea8fa3,Move generic-backup-implementation spec to Queens directory,MERGED,2017-09-14 16:05:11.000000000,2017-09-14 16:28:39.000000000,2017-09-14 16:28:39.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 23083}]","[{'number': 1, 'created': '2017-09-14 16:05:11.000000000', 'files': ['specs/queens/.placeholder', 'specs/queens/generic-backup-implementation.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/a2ffedc9c9a767e8400be63a23688055928daf8c', 'message': ""Move generic-backup-implementation spec to Queens directory\n\nIt'w not implemented in Pike and feature development is going to be\nfinished in Queens only.\n\nChange-Id: I8ad47654743f9bcde041c4d51ce6f6b87dea8fa3\n""}]",0,504099,a2ffedc9c9a767e8400be63a23688055928daf8c,7,3,1,1736,,,0,"Move generic-backup-implementation spec to Queens directory

It'w not implemented in Pike and feature development is going to be
finished in Queens only.

Change-Id: I8ad47654743f9bcde041c4d51ce6f6b87dea8fa3
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/99/504099/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/queens/.placeholder', 'specs/queens/generic-backup-implementation.rst']",2,a2ffedc9c9a767e8400be63a23688055928daf8c,generic-backups-in-queens,,,0,0
openstack%2Fcastellan~master~I1e413831163bffaed3a2580f039e242da7d303f8,openstack/castellan,master,I1e413831163bffaed3a2580f039e242da7d303f8,Makes list method not abstract,MERGED,2017-09-11 20:58:05.000000000,2017-09-14 16:10:42.000000000,2017-09-14 16:10:42.000000000,"[{'_account_id': 3}, {'_account_id': 1091}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-09-11 20:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/c9eaa98b07b4fe5f2ed9cb058fea4ab959455924', 'message': 'Makes list method not abstract\n\nAny implementations of key_manager that don\'t have ""list""\ndefined (i.e. ConfKeyManager in Nova and Cinder) will not be\ninstantiable if they try to use a version of Castellan\nthat was released after ""list"" was added. Adds a default\nimplementation of ""list"" that returns nothing for backwards\ncompatibility.\n\nChange-Id: I1e413831163bffaed3a2580f039e242da7d303f8\n'}, {'number': 2, 'created': '2017-09-12 19:05:25.000000000', 'files': ['castellan/key_manager/key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/ffd9f484df8d4c6c7de36313beb3a76f0daa8296', 'message': 'Makes list method not abstract\n\nAny implementations of key_manager that don\'t have ""list""\ndefined (i.e. ConfKeyManager in Nova and Cinder) will not be\ninstantiable if they try to use a version of Castellan\nthat was released after ""list"" was added. Adds a default\nimplementation of ""list"" that returns nothing for backwards\ncompatibility.\n\nCloses-Bug: #1715451\nChange-Id: I1e413831163bffaed3a2580f039e242da7d303f8\n'}]",1,502580,ffd9f484df8d4c6c7de36313beb3a76f0daa8296,10,10,2,8623,,,0,"Makes list method not abstract

Any implementations of key_manager that don't have ""list""
defined (i.e. ConfKeyManager in Nova and Cinder) will not be
instantiable if they try to use a version of Castellan
that was released after ""list"" was added. Adds a default
implementation of ""list"" that returns nothing for backwards
compatibility.

Closes-Bug: #1715451
Change-Id: I1e413831163bffaed3a2580f039e242da7d303f8
",git fetch https://review.opendev.org/openstack/castellan refs/changes/80/502580/1 && git format-patch -1 --stdout FETCH_HEAD,['castellan/key_manager/key_manager.py'],1,c9eaa98b07b4fe5f2ed9cb058fea4ab959455924,list-not-abstract, return [], @abc.abstractmethod pass,1,2
openstack%2Fsahara~master~Ie5b3c59519d985565a7cb96c02102266873a8203,openstack/sahara,master,Ie5b3c59519d985565a7cb96c02102266873a8203,"Re-add .testr.conf, required by the cover test",MERGED,2017-09-14 04:41:56.000000000,2017-09-14 16:08:18.000000000,2017-09-14 16:08:18.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8932}, {'_account_id': 25847}]","[{'number': 1, 'created': '2017-09-14 04:41:56.000000000', 'files': ['.testr.conf'], 'web_link': 'https://opendev.org/openstack/sahara/commit/e836a94cba973bee829b6bad27ac03da23c4e3c2', 'message': ""Re-add .testr.conf, required by the cover test\n\nThe 'cover' tox target uses testr directly, so re-add .testr.conf\nfor it.\n\nChange-Id: Ie5b3c59519d985565a7cb96c02102266873a8203\n""}]",0,503946,e836a94cba973bee829b6bad27ac03da23c4e3c2,8,4,1,10459,,,0,"Re-add .testr.conf, required by the cover test

The 'cover' tox target uses testr directly, so re-add .testr.conf
for it.

Change-Id: Ie5b3c59519d985565a7cb96c02102266873a8203
",git fetch https://review.opendev.org/openstack/sahara refs/changes/46/503946/1 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,e836a94cba973bee829b6bad27ac03da23c4e3c2,fix-cover,[DEFAULT] test_command=OS_STDOUT_CAPTURE=${OS_STDOUT_CAPTURE:-1} \ OS_STDERR_CAPTURE=${OS_STDERR_CAPTURE:-1} \ OS_TEST_TIMEOUT=${OS_TEST_TIMEOUT:-60} \ ${PYTHON:-python} -m subunit.run discover $DISCOVER_DIRECTORY $LISTOPT $IDOPTION test_id_option=--load-list $IDFILE test_list_option=--list group_regex=([^\.]+\.)+ ,,8,0
openstack%2Fcharm-cinder~master~I242db7583487d735faba46ac76798cc06967adb6,openstack/charm-cinder,master,I242db7583487d735faba46ac76798cc06967adb6,Change assert(Not)Equals to assert(Not)Equal,MERGED,2017-09-13 08:25:50.000000000,2017-09-14 16:04:18.000000000,2017-09-14 16:04:18.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-09-13 08:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/a18eab6c1ac9411327a7d5524baae87db07e7a9c', 'message': 'Change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: I242db7583487d735faba46ac76798cc06967adb6\nCloses-Bug: #1329757\n'}, {'number': 2, 'created': '2017-09-13 08:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/c26b59d13f78e0279045178ca20d5008fc77cda8', 'message': 'Change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: I242db7583487d735faba46ac76798cc06967adb6\nCloses-Bug: #1329757\n'}, {'number': 3, 'created': '2017-09-13 08:54:30.000000000', 'files': ['unit_tests/test_cinder_utils.py', 'unit_tests/test_cinder_contexts.py', 'unit_tests/test_cluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/44ea2653ae2336dbdc561d11916b1ad0e3f55d8f', 'message': 'Change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: I242db7583487d735faba46ac76798cc06967adb6\nCloses-Bug: #1329757\n'}]",0,503557,44ea2653ae2336dbdc561d11916b1ad0e3f55d8f,13,3,3,17130,,,0,"Change assert(Not)Equals to assert(Not)Equal

According to http://docs.python.org/2/library/unittest.html
assert(Not)Equals is a deprecated alias of assert(Not)Equal.

Change-Id: I242db7583487d735faba46ac76798cc06967adb6
Closes-Bug: #1329757
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/57/503557/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_cinder_utils.py', 'unit_tests/test_cinder_contexts.py', 'unit_tests/test_cluster_hooks.py']",3,a18eab6c1ac9411327a7d5524baae87db07e7a9c,bug/1329757," self.assertEqual(ex, service.call_args_list)"," self.assertEquals(ex, service.call_args_list)",32,32
openstack%2Frpm-packaging~master~I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b,openstack/rpm-packaging,master,I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b,Add monasca-transform,MERGED,2017-07-11 00:23:34.000000000,2017-09-14 16:04:16.000000000,2017-09-14 12:07:10.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 7613}, {'_account_id': 10289}, {'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 12542}, {'_account_id': 19648}, {'_account_id': 22595}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-07-11 00:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a9006de3c297004c480b59d55953cbaf987f83ec', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be packaged.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3, which has to be provided\nseparately.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nWIP - Spark - need to create a separate package for 1.6.3\nWIP - attempt at including /etc/monasca-transform.conf, but\n      what is up with python-monasca-tranform?\nWIP - attempted to make it like monasca-notification,\n      but now get an error 'package python-monasca-transform\n      already exists' when osc build\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 2, 'created': '2017-07-20 00:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f0925ca43685c2ff1319c077afd908082838b171', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be packaged.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nWIP - Spark - determine how to get spark .rpm in to testing\n      pipeline\nWIP - need to try moving /etc/monasca-transform.conf\nWIP - attempted to make it like monasca-notification,\n      but now get an error 'package python-monasca-transform\n      already exists' when osc build\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 3, 'created': '2017-08-01 00:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/758895acbe56e206d2bad25498c848819f0e8965', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be packaged.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nWIP - Spark - determine how to get spark .rpm in to testing\n      pipeline\nWIP - need to try moving /etc/monasca-transform.conf\nWIP - attempted to make it like monasca-notification,\n      but now get an error 'package python-monasca-transform\n      already exists' when osc build\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 4, 'created': '2017-08-02 14:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2868b8b50acb4bb3988ef7e234c5c6f34c48f80d', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be packaged.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a livecycle manager reconfigure in a full setup.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 5, 'created': '2017-08-02 17:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/68974e06630e8e7aedc6ccb43bfbc5b04206851f', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be packaged.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a livecycle manager reconfigure in a full setup.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 6, 'created': '2017-08-02 20:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/968aad19ad440535bf401afb271e7d141bcc3ef2', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be packaged.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a livecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging, so\nthe Requires: is not in place.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 7, 'created': '2017-08-02 21:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d3e01ffe5502bacbdf0931083a9c9bee66e35df2', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be packaged.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging, so\nthe Requires: is not in place.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 8, 'created': '2017-08-10 04:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/01b3d55affedf4473b81992fdc202d30668add12', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be packaged.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging, so\nthe Requires: is not in place.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nWIP - rework how monasca-transform service is started, as the\n      devstack approach is dependent on a venv\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 9, 'created': '2017-08-10 14:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c17fb6f954af98ee89507e8f08ae896ec9ad6ee0', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging, so\nthe Requires: is not in place.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 10, 'created': '2017-08-11 23:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/18048835ef9ac4086f7658db2c093c40772efafd', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging, so\nthe Requires: is not in place.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nWIP - need drizzle or mysql .jar\nWIP - need kafka .jars\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 11, 'created': '2017-08-14 22:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/14776beb98297502bf4523643f6897af869e7d0c', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging project,\nso the Requires: is not in place.\nAlso note that the spark .rpm will be providing the\ndrizzle-jdbc-1.3.jar needed by spark.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nWIP - all the files in correct location?\nWIP - install and config scripts (reference devstack/plugin.sh)\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 12, 'created': '2017-08-16 00:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5e505e9e7e985fb0ed4618de677a4ea001225098', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging project,\nso the Requires: is not in place.\nAlso note that the spark .rpm will be providing the\ndrizzle-jdbc-1.3.jar needed by spark when running Monasca Transform\njobs.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 13, 'created': '2017-08-16 03:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2c8fbb0208094854537395fc1876663de05d2c42', 'message': ""WIP Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging project,\nso the Requires: is not in place.\nAlso note that the spark .rpm will be providing the\ndrizzle-jdbc-1.3.jar needed by spark when running Monasca Transform\njobs.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nNote there is a hack for the generic_mysql_jar variable.  Rpmlint\nfalsely identifies this as needing to be replaced with %{_datadir},\nwhen this is really a match string that needs to match the default\nvalue in monasca-transform.conf.  Hack to get around this is to\nconcatenate two strings.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 14, 'created': '2017-08-16 05:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8b3098d3448b465edc2273a9f836e422c3200f93', 'message': ""Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging project,\nso the Requires: is not in place.\nAlso note that the spark .rpm will be providing the\ndrizzle-jdbc-1.3.jar needed by spark when running Monasca Transform\njobs.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but there\nis currently no package widely available in the community for\ninstalling that version, so the Requires: is left out to allow an\nadministrator to manually install from the .tgz or find a suitable\npackage.\nTo function properly, Monasca Transform requires a number of Spark\nlibraries (in .jar format) on the local system.  This .spec file will\nset paths to these files in /etc/monasca-tranform.conf, so an\nadministrator should reference that .conf file for names and versions.\nNote that among those .jar files needed is a JDBC driver for connecting\nto a MySQL-compatible database instance.  Drizzle-jdbc 1.3 is expected\nand configured in monasca-transform.conf.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nNote there is a hack for the generic_mysql_jar variable.  Rpmlint\nfalsely identifies this as needing to be replaced with %{_datadir},\nwhen this is really a match string that needs to match the default\nvalue in monasca-transform.conf.  Hack to get around this is to\nconcatenate two strings.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 15, 'created': '2017-08-22 12:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3979c836e006accb3e8f5dc25fe254bf1cd1c36e', 'message': ""Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging project,\nso the Requires: is not in place.\nAlso note that the spark .rpm will be providing the\ndrizzle-jdbc-1.3.jar needed by spark when running Monasca Transform\njobs.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but there\nis currently no package widely available in the community for\ninstalling that version, so the Requires: is left out to allow an\nadministrator to manually install from the .tgz or find a suitable\npackage.\nTo function properly, Monasca Transform requires a number of Spark\nlibraries (in .jar format) on the local system.  This .spec file will\nset paths to these files in /etc/monasca-tranform.conf, so an\nadministrator should reference that .conf file for names and versions.\nNote that among those .jar files needed is a JDBC driver for connecting\nto a MySQL-compatible database instance.  Drizzle-jdbc 1.3 is expected\nand configured in monasca-transform.conf.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nNote there is a hack for the generic_mysql_jar variable.  Rpmlint\nfalsely identifies this as needing to be replaced with %{_datadir},\nwhen this is really a match string that needs to match the default\nvalue in monasca-transform.conf.  Hack to get around this is to\nconcatenate two strings.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 16, 'created': '2017-08-22 13:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d359e8cee2d1a4c60d9a352f75d6fefcb1892d74', 'message': ""Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging project,\nso the Requires: is not in place.\nAlso note that the spark .rpm will be providing the\ndrizzle-jdbc-1.3.jar needed by spark when running Monasca Transform\njobs.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but there\nis currently no package widely available in the community for\ninstalling that version, so the Requires: is left out to allow an\nadministrator to manually install from the .tgz or find a suitable\npackage.\nTo function properly, Monasca Transform requires a number of Spark\nlibraries (in .jar format) on the local system.  This .spec file will\nset paths to these files in /etc/monasca-tranform.conf, so an\nadministrator should reference that .conf file for names and versions.\nNote that among those .jar files needed is a JDBC driver for connecting\nto a MySQL-compatible database instance.  Drizzle-jdbc 1.3 is expected\nand configured in monasca-transform.conf.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nNote there is a hack for the generic_mysql_jar variable.  Rpmlint\nfalsely identifies this as needing to be replaced with %{_datadir},\nwhen this is really a match string that needs to match the default\nvalue in monasca-transform.conf.  Hack to get around this is to\nconcatenate two strings.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 17, 'created': '2017-08-23 07:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1b10e833e41d956ed3505443873c1be45496b5c8', 'message': ""Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but\nthe spark services could be running on another system so\nmaking that requirement in the RPM isn't practical and need\nto be addressed in lifecycle management tools.\nUPDATE - may need to install spark .rpm locally after all.\nspark .rpm provides some libraries needed my mon-trans, though\nthe services are not required to be running on the local node.\nBut by default, will configure to expect spark services on local\nsystem and let a lifecycle manager reconfigure in a full setup.\nHowever, the spark .rpm is not created from rpm-packaging project,\nso the Requires: is not in place.\nAlso note that the spark .rpm will be providing the\ndrizzle-jdbc-1.3.jar needed by spark when running Monasca Transform\njobs.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but there\nis currently no package widely available in the community for\ninstalling that version, so the Requires: is left out to allow an\nadministrator to manually install from the .tgz or find a suitable\npackage.\nTo function properly, Monasca Transform requires a number of Spark\nlibraries (in .jar format) on the local system.  This .spec file will\nset paths to these files in /etc/monasca-tranform.conf, so an\nadministrator should reference that .conf file for names and versions.\nNote that among those .jar files needed is a JDBC driver for connecting\nto a MySQL-compatible database instance.  Drizzle-jdbc 1.3 is expected\nand configured in monasca-transform.conf.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -.\n\nNote there is a hack for the generic_mysql_jar variable.  Rpmlint\nfalsely identifies this as needing to be replaced with %{_datadir},\nwhen this is really a match string that needs to match the default\nvalue in monasca-transform.conf.  Hack to get around this is to\nconcatenate two strings.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 18, 'created': '2017-09-07 21:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/132594e57c468a78a2bd92dd5f5c22cacc28747b', 'message': ""Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but there\nis currently no package widely available in the community for\ninstalling that version, so the Requires: is left out to allow an\nadministrator to manually install from the .tgz or find a suitable\npackage.\nTo function properly, Monasca Transform requires a number of Spark\nlibraries (in .jar format) on the local system.  This .spec file will\nset paths to these files in /etc/monasca-tranform.conf, so an\nadministrator should reference that .conf file for names and versions.\nNote that among those .jar files needed is a JDBC driver for connecting\nto a MySQL-compatible database instance.  Drizzle-jdbc 1.3 is expected\nand configured in monasca-transform.conf.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -. So instead a variable pypi_tar_name is used.\n\nNote there is a hack for the generic_mysql_jar variable.  Rpmlint\nfalsely identifies this as needing to be replaced with %{_datadir},\nwhen this is really a match string that needs to match the default\nvalue in monasca-transform.conf.  Hack to get around this is to\nconcatenate two strings.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 19, 'created': '2017-09-07 22:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/343d5f6b1908c16dcdded4ac4a09f3354ec60366', 'message': ""Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but there\nis currently no package widely available in the community for\ninstalling that version, so the Requires: is left out to allow an\nadministrator to manually install from the .tgz or find a suitable\npackage.\nTo function properly, Monasca Transform requires a number of Spark\nlibraries (in .jar format) on the local system.  This .spec file will\nset paths to these files in /etc/monasca-tranform.conf, so an\nadministrator should reference that .conf file for names and versions.\nNote that among those .jar files needed is a JDBC driver for connecting\nto a MySQL-compatible database instance.  Drizzle-jdbc 1.3 is expected\nand configured in monasca-transform.conf.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -. So instead a variable pypi_tar_name is used.\n\nNote there is a hack for the generic_mysql_jar variable.  Rpmlint\nfalsely identifies this as needing to be replaced with %{_datadir},\nwhen this is really a match string that needs to match the default\nvalue in monasca-transform.conf.  Hack to get around this is to\nconcatenate two strings.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}, {'number': 20, 'created': '2017-09-11 19:00:46.000000000', 'files': ['openstack/monasca-transform/monasca-transform.README.config', 'openstack/monasca-transform/monasca-transform.spec.j2', 'openstack/monasca-transform/openstack-monasca-transform.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9bd39e5e0be75383100e7b569cdff8e5f18be1ee', 'message': ""Add monasca-transform\n\nInclude monasca-transform, the aggregation engine for Monasca.\nAlso requires Apache Spark to be installed separately.\n\nSpecifying a Requires: spark == 1.6.3 seems desirable, but there\nis currently no package widely available in the community for\ninstalling that version, so the Requires: is left out to allow an\nadministrator to manually install from the .tgz or find a suitable\npackage.\nTo function properly, Monasca Transform requires a number of Spark\nlibraries (in .jar format) on the local system.  This install will\nnot change the versions of these .jar files listed in\n/etc/monasca-tranform.conf, so an administrator should reference\nthe .conf file for names and versions to update.\nNote that among those .jar files needed is a JDBC driver for connecting\nto a MySQL-compatible database instance.  Drizzle-jdbc 1.3 is expected\nand configured in monasca-transform.conf.\n\nDifferent from other deployments, this .spec inserts an\nentry_point into the setup.cfg to allow pbr to create a script,\nthen installs a .service file that points to the resulting\n/usr/bin/monasca-transform script.\n\nNote that the name of the monasca_transform directory in the\n.tgz includes an _ and thus doesn't match the sname which\nhas a -. So instead a variable pypi_tar_name is used.\n\nNote there is a hack for the generic_mysql_jar variable.  Rpmlint\nfalsely identifies this as needing to be replaced with %{_datadir},\nwhen this is really a match string that needs to match the default\nvalue in monasca-transform.conf.  Hack to get around this is to\nconcatenate two strings.\n\nFuture - need to try moving /etc/monasca-transform.conf\n\nChange-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b\n""}]",30,482361,9bd39e5e0be75383100e7b569cdff8e5f18be1ee,119,11,20,10311,,,0,"Add monasca-transform

Include monasca-transform, the aggregation engine for Monasca.
Also requires Apache Spark to be installed separately.

Specifying a Requires: spark == 1.6.3 seems desirable, but there
is currently no package widely available in the community for
installing that version, so the Requires: is left out to allow an
administrator to manually install from the .tgz or find a suitable
package.
To function properly, Monasca Transform requires a number of Spark
libraries (in .jar format) on the local system.  This install will
not change the versions of these .jar files listed in
/etc/monasca-tranform.conf, so an administrator should reference
the .conf file for names and versions to update.
Note that among those .jar files needed is a JDBC driver for connecting
to a MySQL-compatible database instance.  Drizzle-jdbc 1.3 is expected
and configured in monasca-transform.conf.

Different from other deployments, this .spec inserts an
entry_point into the setup.cfg to allow pbr to create a script,
then installs a .service file that points to the resulting
/usr/bin/monasca-transform script.

Note that the name of the monasca_transform directory in the
.tgz includes an _ and thus doesn't match the sname which
has a -. So instead a variable pypi_tar_name is used.

Note there is a hack for the generic_mysql_jar variable.  Rpmlint
falsely identifies this as needing to be replaced with %{_datadir},
when this is really a match string that needs to match the default
value in monasca-transform.conf.  Hack to get around this is to
concatenate two strings.

Future - need to try moving /etc/monasca-transform.conf

Change-Id: I7a1dd98b66a3c74f6ec1ad71394351e328f7bc7b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/61/482361/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-transform/monasca-transform.spec.j2'],1,a9006de3c297004c480b59d55953cbaf987f83ec,add-monasca-transform,"{% set pypi_name = 'monasca-transform' %} {% set pypi_tar_name = 'monasca_transform' %} {% set upstream_version = upstream_version('0.10.0') %} {% set rpm_release = '1' %} %global sname {{ pypi_name }} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: A transformation and aggregation engine for Monasca License: {{ license('Apache-2.0') }} Group: Development/Languages/Python Url: https://wiki.openstack.org/wiki/Monasca/Transform Source0: https://pypi.io/packages/source/m/%{pypi_tar_name}/%{pypi_tar_name}-%{version}.tar.gz BuildRequires: openstack-macros BuildRequires: {{ py2pkg('PyMySQL') }} BuildRequires: {{ py2pkg('SQLAlchemy') }} BuildRequires: {{ py2pkg('kazoo') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('monasca-common') }} BuildRequires: {{ py2pkg('nose') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.service') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('six') }} #BuildRequires: spark == 1.6.3 BuildRequires: {{ py2pkg('stevedore') }} BuildRequires: {{ py2pkg('tooz') }} Requires: python-%{sname} = %{version}-%{release} BuildArch: noarch %if 0%{?suse_version} BuildRequires: systemd-rpm-macros Requires(pre): pwdutils %else BuildRequires: systemd Requires(post): systemd Requires(postun): systemd Requires(preun): systemd %endif %description A transformation and aggregation engine for Monasca. Collects, groups and aggregates existing individual Monasca metrics according to business requirements and publishes new transformed (derived) metrics to the Monasca Kafka queue. Requires an installation of Apache Spark. %package -n python-%{sname} Summary: Python core module for monasca-notification Group: Development/Languages/Python Requires: {{ py2pkg('PyMySQL') }} Requires: {{ py2pkg('SQLAlchemy') }} Requires: {{ py2pkg('kazoo') }} Requires: {{ py2pkg('monasca-common') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} #Requires: spark == 1.6.3 Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }} Requires: {{ py2pkg('tooz') }} %description -n python-%{sname} A transformation and aggregation engine for Monasca. Collects, groups and aggregates existing individual Monasca metrics according to business requirements and publishes new transformed (derived) metrics to the Monasca Kafka queue. Requires an installation of Apache Spark. %prep # Unfortunately, .tgz has _ in directory name so can't use sname %autosetup -n {{ pypi_tar_name }}-{{ upstream_version }} %py_req_cleanup %build %{py2_build} %install %{py2_install} install -d -m 755 %{buildroot}%{_sysconfdir}/monasca install -D -m 640 etc/monasca-transform.conf %{buildroot}%{_sysconfdir}/monasca-transform.conf %check # nosetests monasca_transform --verbose export OS_TEST_PATH=./tests find . -type f -name *.pyc -delete PYTHONPATH=. %{__python2} setup.py testr %files %license LICENSE %doc README.md ChangeLog %dir %attr(-, root, monasca) %{_sysconfdir}/monasca %config(noreplace) %attr(0640, root, monasca) %{_sysconfdir}/monasca-transform.conf %files -n python-{{ pypi_name }} %license LICENSE %{python2_sitelib}/monasca_transform %{python2_sitelib}/*.egg-info %changelog ",,106,0
openstack%2Fsushy~master~Id3eef1af2e5fb13af9c4d6e23dbcbdcd218af02b,openstack/sushy,master,Id3eef1af2e5fb13af9c4d6e23dbcbdcd218af02b,Updated from global requirements,MERGED,2017-08-18 11:43:32.000000000,2017-09-14 16:04:03.000000000,2017-09-14 16:04:03.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 14760}]","[{'number': 1, 'created': '2017-08-18 11:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6f746c5cd5927d47bbffa2348f53e7fbdafb449d', 'message': 'Updated from global requirements\n\nChange-Id: Id3eef1af2e5fb13af9c4d6e23dbcbdcd218af02b\n'}, {'number': 2, 'created': '2017-09-02 22:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f24d82c2eb9ec9564668ffc83bb0d2e18899d713', 'message': 'Updated from global requirements\n\nChange-Id: Id3eef1af2e5fb13af9c4d6e23dbcbdcd218af02b\n'}, {'number': 3, 'created': '2017-09-13 13:04:27.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sushy/commit/16b0d64baca6e8e3cf934917aa234b2a1539e0e9', 'message': 'Updated from global requirements\n\nChange-Id: Id3eef1af2e5fb13af9c4d6e23dbcbdcd218af02b\n'}]",0,495277,16b0d64baca6e8e3cf934917aa234b2a1539e0e9,12,3,3,11131,,,0,"Updated from global requirements

Change-Id: Id3eef1af2e5fb13af9c4d6e23dbcbdcd218af02b
",git fetch https://review.opendev.org/openstack/sushy refs/changes/77/495277/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6f746c5cd5927d47bbffa2348f53e7fbdafb449d,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fcharm-guide~master~Ia0c73edcc8f51d4100ecb91537eaba9c164219e0,openstack/charm-guide,master,Ia0c73edcc8f51d4100ecb91537eaba9c164219e0,Fixes typo in 17.08 release note,MERGED,2017-09-13 09:01:22.000000000,2017-09-14 16:02:56.000000000,2017-09-14 16:02:56.000000000,"[{'_account_id': 3}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-09-13 09:01:22.000000000', 'files': ['doc/source/1708.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/09ea4c387819c506b5e1e0d6f706689c4c6c265f', 'message': 'Fixes typo in 17.08 release note\n\nFixes a typo where it says upgrading from Ocata to Newton.\n\nChange-Id: Ia0c73edcc8f51d4100ecb91537eaba9c164219e0\n'}]",0,503567,09ea4c387819c506b5e1e0d6f706689c4c6c265f,6,2,1,23416,,,0,"Fixes typo in 17.08 release note

Fixes a typo where it says upgrading from Ocata to Newton.

Change-Id: Ia0c73edcc8f51d4100ecb91537eaba9c164219e0
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/67/503567/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/1708.rst'],1,09ea4c387819c506b5e1e0d6f706689c4c6c265f,typo/17.08-release-note,To upgrade an existing Ocata based deployment on Ubuntu 16.04 to the Pike,To upgrade an existing Ocata based deployment on Ubuntu 16.04 to the Newton,1,1
openstack%2Fsahara~master~I012291b7a261d3ba48443c0d0c87cf667af8cac3,openstack/sahara,master,I012291b7a261d3ba48443c0d0c87cf667af8cac3,Updated from global requirements,MERGED,2017-09-11 21:31:27.000000000,2017-09-14 16:00:54.000000000,2017-09-14 16:00:54.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8932}, {'_account_id': 10459}]","[{'number': 1, 'created': '2017-09-11 21:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/85010b6c13c84e97d0e5f8e2128bbe9faea42369', 'message': 'Updated from global requirements\n\nChange-Id: I012291b7a261d3ba48443c0d0c87cf667af8cac3\n'}, {'number': 2, 'created': '2017-09-11 21:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/bc6aa183861247b8a0801593ae6c8144dc9f0134', 'message': 'Updated from global requirements\n\nChange-Id: I012291b7a261d3ba48443c0d0c87cf667af8cac3\n'}, {'number': 3, 'created': '2017-09-12 22:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/0f96e6efe6c459baeb3d7f700db0848198ad918e', 'message': 'Updated from global requirements\n\nChange-Id: I012291b7a261d3ba48443c0d0c87cf667af8cac3\n'}, {'number': 4, 'created': '2017-09-13 00:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/dadbd33cb7226ba9e09f41fd60fa0b385e550484', 'message': 'Updated from global requirements\n\nChange-Id: I012291b7a261d3ba48443c0d0c87cf667af8cac3\n'}, {'number': 5, 'created': '2017-09-13 13:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f436386bac000c0177234d1f572e9f3766281974', 'message': 'Updated from global requirements\n\nChange-Id: I012291b7a261d3ba48443c0d0c87cf667af8cac3\n'}, {'number': 6, 'created': '2017-09-14 00:43:25.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/d5e5f9a359ceece4a8d6ed7482dc8b2e494794a7', 'message': 'Updated from global requirements\n\nChange-Id: I012291b7a261d3ba48443c0d0c87cf667af8cac3\n'}]",0,502755,d5e5f9a359ceece4a8d6ed7482dc8b2e494794a7,17,4,6,11131,,,0,"Updated from global requirements

Change-Id: I012291b7a261d3ba48443c0d0c87cf667af8cac3
",git fetch https://review.opendev.org/openstack/sahara refs/changes/55/502755/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,85010b6c13c84e97d0e5f8e2128bbe9faea42369,openstack/requirements,os-api-ref>=1.4.0 # Apache-2.0 os-testr>=0.8.2 # Apache-2.0python-saharaclient>=1.2.0 # Apache-2.0,os-api-ref>=1.0.0 # Apache-2.0 os-testr>=0.8.0 # Apache-2.0python-saharaclient>=1.1.0 # Apache-2.0,14,14
openstack%2Fcharm-keystone~master~I90c835b3c7cdae6dceb5da061e5ed42bcfd77f4b,openstack/charm-keystone,master,I90c835b3c7cdae6dceb5da061e5ed42bcfd77f4b,Change assert(Not)Equals to assert(Not)Equal,MERGED,2017-09-13 09:42:44.000000000,2017-09-14 16:00:39.000000000,2017-09-14 16:00:39.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-09-13 09:42:44.000000000', 'files': ['unit_tests/test_keystone_hooks.py', 'unit_tests/test_keystone_utils.py', 'unit_tests/test_keystone_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/db71637869766e45b3234f2cebcd3fae0ad2eff8', 'message': 'Change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: I90c835b3c7cdae6dceb5da061e5ed42bcfd77f4b\nCloses-Bug: #1329757\n'}]",0,503582,db71637869766e45b3234f2cebcd3fae0ad2eff8,7,3,1,17130,,,0,"Change assert(Not)Equals to assert(Not)Equal

According to http://docs.python.org/2/library/unittest.html
assert(Not)Equals is a deprecated alias of assert(Not)Equal.

Change-Id: I90c835b3c7cdae6dceb5da061e5ed42bcfd77f4b
Closes-Bug: #1329757
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/82/503582/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_hooks.py', 'unit_tests/test_keystone_utils.py', 'unit_tests/test_keystone_contexts.py']",3,db71637869766e45b3234f2cebcd3fae0ad2eff8,bug/1329757," self.assertEqual(ctxt(), {'endpoints': [('1.2.3.4', '1.2.3.4', 34, 12)], 'namespace': 'keystone', 'ext_ports': [34]}) self.assertEqual("," self.assertEquals(ctxt(), {'endpoints': [('1.2.3.4', '1.2.3.4', 34, 12)], 'namespace': 'keystone', 'ext_ports': [34]}) self.assertEquals(",18,18
openstack%2Fcharm-glance~master~Iba105cec858d7df40619901b2ede4acd7fcfa0c5,openstack/charm-glance,master,Iba105cec858d7df40619901b2ede4acd7fcfa0c5,Change assert(Not)Equals to assert(Not)Equal,MERGED,2017-09-13 10:00:02.000000000,2017-09-14 16:00:33.000000000,2017-09-14 16:00:33.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-09-13 10:00:02.000000000', 'files': ['unit_tests/test_glance_contexts.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/603c5d7c2b8b1ecebe883dcf9165017d2a48170e', 'message': 'Change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: Iba105cec858d7df40619901b2ede4acd7fcfa0c5\nCloses-Bug: #1329757\n'}]",0,503583,603c5d7c2b8b1ecebe883dcf9165017d2a48170e,7,3,1,17130,,,0,"Change assert(Not)Equals to assert(Not)Equal

According to http://docs.python.org/2/library/unittest.html
assert(Not)Equals is a deprecated alias of assert(Not)Equal.

Change-Id: Iba105cec858d7df40619901b2ede4acd7fcfa0c5
Closes-Bug: #1329757
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/83/503583/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_glance_contexts.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py']",3,603c5d7c2b8b1ecebe883dcf9165017d2a48170e,bug/1329757," self.assertEqual(ex_map, utils.restart_map()) self.assertEqual(ex_map, utils.restart_map()) self.assertEqual(set(ex), set(utils.determine_packages())) self.assertEqual(set(ex), set(utils.determine_packages())) self.assertEqual(set(ex), set(result)) self.assertEqual(mkdir.call_args_list, expected) self.assertEqual(write_file.call_args_list, expected) self.assertEqual(self.render.call_args_list, expected) self.assertEqual(self.service_restart.call_args_list, expected) self.assertEqual(self.render.call_args_list, expected)"," self.assertEquals(ex_map, utils.restart_map()) self.assertEquals(ex_map, utils.restart_map()) self.assertEquals(set(ex), set(utils.determine_packages())) self.assertEquals(set(ex), set(utils.determine_packages())) self.assertEquals(set(ex), set(result)) self.assertEquals(mkdir.call_args_list, expected) self.assertEquals(write_file.call_args_list, expected) self.assertEquals(self.render.call_args_list, expected) self.assertEquals(self.service_restart.call_args_list, expected) self.assertEquals(self.render.call_args_list, expected)",83,83
openstack%2Fopenstack-ansible-os_horizon~master~Icea90b59d020e5cf16d0ad91cffda59db739035d,openstack/openstack-ansible-os_horizon,master,Icea90b59d020e5cf16d0ad91cffda59db739035d,Update links in README,MERGED,2017-09-14 03:16:31.000000000,2017-09-14 15:55:50.000000000,2017-09-14 15:55:50.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-14 03:16:31.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/208fb0405939161ca528ba0d1b8a597fca672f4f', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: Icea90b59d020e5cf16d0ad91cffda59db739035d\n'}]",0,503910,208fb0405939161ca528ba0d1b8a597fca672f4f,7,3,1,23314,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Icea90b59d020e5cf16d0ad91cffda59db739035d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/10/503910/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,208fb0405939161ca528ba0d1b8a597fca672f4f,,.. image:: https://governance.openstack.org/tc/badges/openstack-ansible-os_horizon.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/openstack-ansible-os_horizon.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fmanila~master~I60de5f9e598e32f853804cd3d7807aaacdde273b,openstack/manila,master,I60de5f9e598e32f853804cd3d7807aaacdde273b,Implementation of Manila driver for Veritas Access,MERGED,2017-06-08 10:01:55.000000000,2017-09-14 15:55:17.000000000,2017-09-14 05:05:49.000000000,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15831}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 18128}, {'_account_id': 18752}, {'_account_id': 20442}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 23317}, {'_account_id': 24304}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25838}]","[{'number': 1, 'created': '2017-06-08 10:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/52c8b5457c9c22d92b29f0d4b458155d7755807d', 'message': 'Veritas Access driver for manila\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 2, 'created': '2017-06-09 13:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e8a68f18b72cb0b0e7e9af4de166143ba2597c4a', 'message': 'Implementation of Manila driver Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 3, 'created': '2017-06-18 08:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ae96424cb09dee63e1934e65d887f57dcd8ada4d', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 4, 'created': '2017-06-19 07:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b47b7ff1243752233b5aaf05dccc8a8234d693f1', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 5, 'created': '2017-06-19 09:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7c41ccc377a13da9675ed74763f10adababfaecb', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 6, 'created': '2017-06-19 13:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c3a9d1da6fde9b5716acab95664c55674626c47b', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 7, 'created': '2017-06-19 17:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/340501d945cf41378bbe2e8cfff4c1afd2904845', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 8, 'created': '2017-06-20 04:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/95d0dd40b72029446bcfdc909ca655c37c53221d', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 9, 'created': '2017-07-08 08:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2bb35735113ee858ab5017d1ecc1e43f1ee38afc', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 10, 'created': '2017-07-10 05:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/59d0a43f7bbebf967b9838e94fe1163cb7dd589f', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 11, 'created': '2017-07-10 06:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/06e45325de3fea3701ecfdf722999c803ad16979', 'message': 'Implementation of Manila driver for Veritas Access\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\n'}, {'number': 12, 'created': '2017-07-11 10:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8c2093c6c191608ae617275c49537e5c7f9be379', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 13, 'created': '2017-07-13 05:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/75a59e2457617a2cd2f33ca20a430c9ee14ab3ac', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 14, 'created': '2017-07-13 08:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8f8b06db1c4d1608a0a1e82cd2689c03b9659549', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 15, 'created': '2017-07-13 12:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/773b624ca7dd3272a1a6b278ab96025f0f6d9f0a', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 16, 'created': '2017-07-13 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/38e392dfb5646d6e34df995273db31a166ad9a53', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 17, 'created': '2017-07-13 15:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/49bd7e98fe756e3230a471bce9830d0681355eb6', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 18, 'created': '2017-07-14 06:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bc39e9653dcbce9aec7aa7170abcb24d34303c32', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 19, 'created': '2017-07-14 09:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/78f1e026758afc7b74b8d48d18f493f565cfeba8', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 20, 'created': '2017-07-17 12:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/991d582d84e8eea54ed894f33fe3a28e1a92caff', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 21, 'created': '2017-07-17 14:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4ba5c054a1cbb9569f879d312fb05663fc1e19e2', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 22, 'created': '2017-07-18 09:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c2f5fd86f080c808969eeb3d30fa48812c833250', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 23, 'created': '2017-07-20 13:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3909cb52798c336c36b73fb5d088f186f120b764', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 24, 'created': '2017-07-21 05:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6f276ed9e66aa81d002b1bd03d9aff7ded377857', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 25, 'created': '2017-07-21 10:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c1f6fbc82ccf5a5c2a101955e30ed0ee0b39cab4', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 26, 'created': '2017-08-01 14:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e909a35b22f2f0c4e038db429c15168501ffc727', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 27, 'created': '2017-08-05 17:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/815787f23effa0d2398f911d9f3a7fb44bb71d45', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 28, 'created': '2017-08-06 16:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fe6a60d584e967756a5e971089725b2b956d024e', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 29, 'created': '2017-08-31 05:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/69221fbeddb719d961e146b033c5ef2a6f77c55f', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 30, 'created': '2017-08-31 07:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6dad01d23b92376f51ec4abcbbec695a78ee37d1', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 31, 'created': '2017-09-02 17:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f7c47fe297a9e755699a7467655ab556620b98a5', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 32, 'created': '2017-09-05 09:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d743a7ada8644265400df5e50b22e460d7e0c2b9', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nDocImpact\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 33, 'created': '2017-09-07 10:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dd615b71e182b03505caffe7fffd33d22e2e9057', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}, {'number': 34, 'created': '2017-09-13 12:21:13.000000000', 'files': ['manila/share/drivers/veritas/__init__.py', 'manila/tests/share/drivers/veritas/test_veritas_isa.py', 'releasenotes/notes/veritas-access-manila-driver-d75558c01ce6d428.yaml', 'manila/tests/share/drivers/veritas/__init__.py', 'manila/share/drivers/veritas/veritas_isa.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/6824207a0e807891f120ab6a31b713512fb335f6', 'message': 'Implementation of Manila driver for Veritas Access\n\nThis driver implements all the minimum required features for manila.\n\nChange-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b\nImplement: blueprint veritas-manila-driver\n'}]",169,472190,6824207a0e807891f120ab6a31b713512fb335f6,293,22,34,25838,,,0,"Implementation of Manila driver for Veritas Access

This driver implements all the minimum required features for manila.

Change-Id: I60de5f9e598e32f853804cd3d7807aaacdde273b
Implement: blueprint veritas-manila-driver
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/472190/34 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/veritas_isa.py'],1,52c8b5457c9c22d92b29f0d4b458155d7755807d,bp/veritas-manila-driver,"# Copyright 2016 Veritas Technologies LLC. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" InfoScale Access Driver for Manila shares. Config Requirements: Limitation: 1) single tenant 2) only NFS exports 3) IP based access-control """""" import binascii import copy import math import os import pipes import json import re import requests from requests.auth import HTTPBasicAuth from requests.auth import AuthBase from six.moves import http_client, configparser, urllib from manila import exception from manila import utils from manila.i18n import _, _LE, _LI from manila.share import driver from manila.common import constants as const from oslo_config import cfg from oslo_concurrency import processutils from oslo_serialization import jsonutils from oslo_utils import excutils #from oslo_utils import importutils from oslo_utils import units from oslo_log import log as logging from random import shuffle import six LOG = logging.getLogger(__name__) # matches multiple comma separated avpairs on a line. values with an embedded # comma must be wrapped in quotation marks AVPATTERN = re.compile(r'\s*(?P<attr>\w+)\s*=\s*(?P<val>' '([""][a-zA-Z0-9_, ]+[""])|(\w+))\s*[,]?') isa_share_opts = [ cfg.StrOpt('isa_server_ip', default=None, help='Console IP of InfoScale Access server'), cfg.IntOpt('isa_port', default=22, help='InfoScale Access server REST port.'), cfg.StrOpt('isa_user', default=None, help='InfoScale Access server REST manila login name.'), cfg.StrOpt('isa_pwd', default=None, secret=True, help='InfoScale Access server manila password.'), cfg.StrOpt('isa_pool', default=None, help='InfoScale Access storage pool from which shares are served '), cfg.StrOpt('isa_fstype', default=None, help='Type of file system to be created'), cfg.BoolOpt('isa_ssl', default=None, help='SSL') ] CONF = cfg.CONF CONF.register_opts(isa_share_opts) class NoAuth(requests.auth.AuthBase): '''This ""authentication"" handler exists for use with custom authentication systems, such as the one for the Access API. It simply passes the Authorization header as-is. The default authentication handler for requests will clobber the Authorization header.''' def __call__(self, r): return r class ACCESSShareDriver(driver.ExecuteMixin, driver.ShareDriver): """"""ACCESS Share Driver. Executes commands relating to Manila Shares. Supports creation of shares on ACCESS. API version history: 1.0 - Initial version. """""" def __init__(self, *args, **kwargs): """"""Do initialization."""""" super(ACCESSShareDriver, self).__init__(False, *args, **kwargs) self.configuration.append_config_values(isa_share_opts) self.backend_name = self.configuration.safe_get( 'share_backend_name') or ""VeritasACCESS"" self._isa_ip = None self._isa_url = None self._pool = None self._ssl = None self._fstype = None self._port = None self._user = None self._pwd = None self._cred = None self._connect_resp = None self._verify_ssl_cert = None self._fs_create_str = '/fs/create' self._fs_delete_str = '/fs/destroy' self._snap_create_str = '/snapshot/createSnapshot' self._snap_delete_str = '/snapshot/deleteSnapShot' self._nfs_add_str = '/share/create_nfs_share' self._nfs_delete_str = '/share/remove_nfs_client' self._ip_addr_show_str = '/common/get_all_ips' self._pool_free_str = '/storage/pool' self.session = None self.host = None LOG.debug(""VeritasNFSDriver called"") def do_setup(self, context): """"""Any initialization the share driver does while starting."""""" super(ACCESSShareDriver, self).do_setup(context) self._isa_ip = self.configuration.isa_server_ip self._pool = self.configuration.isa_pool self._user = self.configuration.isa_user self._pwd = self.configuration.isa_pwd self._port = self.configuration.isa_port self._ssl = self.configuration.isa_ssl self._fstype = self.configuration.isa_fstype self.session = self._authenticate_access(self._isa_ip, self._user, self._pwd) def _get_isa_share_name(self, name): length = len(name) name1 = name[:length / 2] name2 = name[length / 2:] crc1 = '%08X' % (binascii.crc32(name1) & 0xffffffff) crc2 = '%08X' % (binascii.crc32(name2) & 0xffffffff) return crc1 + '-' + crc2 + '_manila' def _get_isa_snap_name(self, name): return self._get_isa_share_name(name) def _get_isa_share_path(self, name): return '/vx/' + name def create_share(self, ctx, share, share_server=None): """"""Create an ACCESS file system that will be represented as share."""""" sharename = share['name'] sizestr = '%sg' % share['size'] LOG.debug(""VeritasNFSDriver create_share sharename %r sizestr %r"", sharename, sizestr) isa_sharename = self._get_isa_share_name(sharename) isa_sharepath = self._get_isa_share_path(isa_sharename) isa_pool = self._pool path = self._fs_create_str provider = '%s:%s' % (self.host, self._port) data1 = {""layout"":""simple"", ""largefs"": ""no"",""blkSize"":""blksize=1024"",""pdirEnable"":""pdir_enable=yes"",""manila"":""yes""} data1[""fs_name""] = isa_sharename data1[""fs_size""] = sizestr data1[""pool_disks""] = isa_pool result = self._access_api(self.session, provider, path, json.dumps(data1), 'POST') if not result: message = ( _('VeritasNFSDriver delete share failed %s'),sharename) LOG.error(message) raise exception.ShareBackendException(message=message) vip = self._get_vip() location = vip + ':' + isa_sharepath LOG.debug(""VeritasNFSDriver create_share location %s"", location) return location def _get_vip(self): """"""get a virtual IP from ACCESS"""""" ip_list = self._get_access_ips(self.session, self.host) for ips in ip_list: if ips['type'] == 'Virtual' and ips['status'] == 'ONLINE': return str(ips['ip']) # def ensure_share(self, context, share, share_server=None): # """"""Might not be needed?"""""" # pass # def delete_share(self, context, share, share_server=None): """"""Delete a share from ACCESS"""""" sharename = share['name'] isa_sharename = self._get_isa_share_name(sharename) LOG.debug(""VeritasNFSDriver delete_share %s called location %s "", sharename, share['export_location']) if share['snapshot_id']: LOG.debug(""VeritasNFSDriver delete_share early return"") return path = self._fs_delete_str provider = '%s:%s' % (self.host, self._port) data = dict() data[""fs_name""] = isa_sharename result = self._access_api(self.session, provider, path, json.dumps(data), 'POST') if not result: message = ( _('VeritasNFSDriver delete share failed %s'),sharename) LOG.error(message) raise exception.ShareBackendException(message=message) def allow_access(self, context, share, access, share_server=None): """"""Give access of a share to an IP"""""" access_type = access['access_type'] server = access['access_to'] if access_type != 'ip': raise exception.InvalidShareAccess('Only ip access type ' 'supported.') access_level = access['access_level'] if access_level not in (const.ACCESS_LEVEL_RW, const.ACCESS_LEVEL_RO): raise exception.InvalidShareAccessLevel(level=access_level) sharename = share['name'] isa_sharename = self._get_isa_share_name(sharename) isa_sharepath = self._get_isa_share_path(isa_sharename) path = self._nfs_add_str provider = '%s:%s' % (self.host, self._port) data = dict() data[""path""] = isa_sharepath data[""share_details""] = [{""export_options"":access_level,""client"":server}] result = self._access_api(self.session, provider, path, json.dumps(data), 'POST') if not result: message = ( _('VeritasNFSDriver access failed sharepath %s server %s'), isa_sharepath, server) LOG.error(message) raise exception.ShareBackendException(message=message) LOG.debug(""VeritasNFSDriver allow_access sharepath %s server %s"", isa_sharepath, server) def deny_access(self, context, share, access, share_server=None): """"""Deny access to the share."""""" server = access['access_to'] sharename = share['name'] isa_sharename = self._get_isa_share_name(sharename) isa_sharepath = self._get_isa_share_path(isa_sharename) LOG.debug(""VeritasNFSDriver deny_access sharepath %s server %s"", isa_sharepath, server) path = self._nfs_delete_str provider = '%s:%s' % (self.host, self._port) data = dict() data[""path""] = isa_sharepath data[""share_details""] = [{""client"":server}] result = self._access_api(self.session, provider, path, json.dumps(data), 'POST') if not result: message = ( _('VeritasNFSDriver deny failed sharepath %s server %s'), isa_sharename, server) LOG.error(message) raise exception.ShareBackendException(message=message) LOG.debug(""VeritasNFSDriver deny_access sharepath %s server %s"", isa_sharepath, server) def create_snapshot(self, context, snapshot, share_server=None): """"""create snapshot of a share"""""" LOG.debug(""VeritasNFSDriver create_snapshot called"") LOG.debug(snapshot) sharename = snapshot['share_name'] isa_sharename = self._get_isa_share_name(sharename) snapname = snapshot['name'] isa_snapname = self._get_isa_snap_name(snapname) path = self._snap_create_str provider = '%s:%s' % (self.host, self._port) data = dict() data[""snapShotname""] = isa_snapname data[""fileSystem""] = isa_sharename data[""removable""] = 'yes' result = self._access_api(self.session, provider, path, json.dumps(data), 'PUT') if not result: message = ( _('VeritasNFSDriver create snapshot failed snapname %s' ' sharename %s'), snapname, isa_sharename) LOG.error(message) raise exception.ShareBackendException(message=message) def delete_snapshot(self, context, snapshot, share_server=None): """"""Deletes a snapshot."""""" sharename = snapshot['share_name'] isa_sharename = self._get_isa_share_name(sharename) snapname = snapshot['name'] isa_snapname = self._get_isa_snap_name(snapname) path = self._snap_delete_str provider = '%s:%s' % (self.host, self._port) data = dict() data[""name""] = isa_snapname data[""fsName""] = isa_sharename data_to_send = {""snapShotDetails"":{""snapshot"":[data]}} result = self._access_api(self.session, provider, path, json.dumps(data_to_send), 'DELETE') if not result: message = ( _('VeritasNFSDriver delete snapshot failed snapname %s' ' sharename %s'), snapname, isa_sharename) LOG.error(message) raise exception.ShareBackendException(message=message) # # def get_network_allocations_number(self): # return 0 # # def create_share_from_snapshot(self, ctx, share, snapshot, # share_server=None): # """"""create share from a snapshot."""""" # sharename = snapshot['share_name'] # isa_sharename = self._get_isa_share_name(sharename) # snapname = snapshot['name'] # isa_snapname = self._get_isa_snap_name(snapname) # isa_sharepath = self._get_isa_share_path(isa_sharename) # LOG.debug( # _('VeritasNFSDriver create_share_from_snapshot snapname %s' # ' sharename %s'), # isa_snapname, # isa_sharename) # vip = self._get_vip() # location = vip + ':' + isa_sharepath + ':' + isa_snapname # LOG.debug(""VeritasNFSDriver create_share location %s"", location) # return location def _get_api(self, provider, tail): api_root = 'https://%s/api' % (provider,) return api_root + tail def _access_api(self, session, provider, path, input_data, method): """"""Returns False if failure occures"""""" kwargs = { 'data': input_data } if not isinstance(input_data, dict): kwargs['headers'] = {'Content-Type': 'application/json'} full_url = self._get_api(provider, path) response = session.request(method, full_url, **kwargs) if response.status_code != http_client.OK: LOG.debug('Access API operation on %s failed with') return False result = response.json() return result def _get_access_ips(self, session, host): path = self._ip_addr_show_str provider = '%s:%s' % (host, self._port) data = dict() ip_list = self._access_api(session, provider, path, json.dumps(data), 'GET') return ip_list def _authenticate_access(self, address, username, password): session = requests.session() session.verify = False session.auth = NoAuth() response = session.post('https://%s:%s/api/rest/authenticate' % (address, self._port), data={'username': username, 'password': password}) if response.status_code != http_client.OK: LOG.debug('failed to authenticate to remote cluster at %s as %s' % (address, username)) raise exception.NotAuthorized('Authentication Failes') result = response.json() session.headers.update({'Authorization': 'Bearer {}'.format(result['token'])}) session.headers.update({'Content-Type': 'application/json'}) return session def _get_access_pool_details(self): """"""get access pool details"""""" path = self._pool_free_str provider = '%s:%s' % (self.host, self._port) data = dict() pool_details = self._access_api(self.session, provider, path, json.dumps(data), 'GET') LOG.debug(pool_details) for pool in pool_details: if pool['device_group_name'] == str(self._pool): total_capacity = (int(pool['capacity']) / 1073741824) used_size = (int(pool['used_size']) / 1073741824) return (total_capacity,(total_capacity - used_size)) raise Exception('Fetching pool details operation failed') def _update_share_stats(self): """"""Retrieve status info from share volume group."""""" LOG.debug(""VRTSISA Updating share status"") self.host = str(self._isa_ip) self.session = self._authenticate_access(self._isa_ip, self._user, self._pwd) total_capacity,free_capacity = self._get_access_pool_details() data = {} data[""share_backend_name""] = self.backend_name data[""vendor_name""] = 'Veritas' data[""driver_version""] = '1.0' data[""storage_protocol""] = 'NFS' data['total_capacity_gb'] = total_capacity data['free_capacity_gb'] = free_capacity data['reserved_percentage'] = 0 data['QoS_support'] = False data['snapshot_support'] = True super(ACCESSShareDriver, self)._update_share_stats(data) ",,445,0
openstack%2Fsenlin~master~I727b3a0d74ff69d8cd797b8a5af8d6f40a8f5fb9,openstack/senlin,master,I727b3a0d74ff69d8cd797b8a5af8d6f40a8f5fb9,fix the bug that policy validate cannot work when creatting a policy,MERGED,2017-09-13 02:18:55.000000000,2017-09-14 15:55:12.000000000,2017-09-14 15:55:12.000000000,"[{'_account_id': 3}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 22998}, {'_account_id': 23401}, {'_account_id': 26650}, {'_account_id': 26651}]","[{'number': 1, 'created': '2017-09-13 02:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9a3ef928f591bb71532220dbc426f3dc646d6317', 'message': 'fix the bug that policy validate cannot work when creatting a policy\n\nIt can be created successfully when I create a policy with an\ninvalid subnet. And I find the code cannot check deepply in\npolicy_create().\n\nTo fix the bug, I change the ""policy = self._validate_policy(ctx,\nreq.spec, name=name)"" to ""policy = self._validate_policy(ctx, req.spec,\nname=name, validate_props=True)"" in the code of policy_create().\n\nChange-Id: I727b3a0d74ff69d8cd797b8a5af8d6f40a8f5fb9\nCloses-Bug: 1716812\n'}, {'number': 2, 'created': '2017-09-13 03:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5bc2551f1ef747d7a5c0b123c7477bafa7c4bd07', 'message': 'fix the bug that policy validate cannot work when creatting a policy\n\nIt can be created successfully when I create a policy with an\ninvalid subnet. And I find the default value is False of the parameter\nvalidate_props,so that the policy validate() cannot validate deeply.\n\nTo fix the bug, I change the validate_props from False to True in the\ncode of policy_create().\n\nChange-Id: I727b3a0d74ff69d8cd797b8a5af8d6f40a8f5fb9\nCloses-Bug: 1716812\n'}, {'number': 3, 'created': '2017-09-13 04:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/95f2d39aa48e3db13d7fdc9867921b0dfee9c9a1', 'message': 'fix the bug that policy validate cannot work when creatting a policy\n\nIt can be created successfully when I create a policy with an\ninvalid subnet. And I find the default value is False of the parameter\nvalidate_props,so that the policy validate() cannot validate deeply.\n\nTo fix the bug, I change the validate_props from False to True in the\ncode of policy_create().\n\nChange-Id: I727b3a0d74ff69d8cd797b8a5af8d6f40a8f5fb9\nCloses-Bug: 1716812\n'}, {'number': 4, 'created': '2017-09-13 05:47:18.000000000', 'files': ['senlin/tests/unit/engine/service/test_policies.py', 'senlin/engine/service.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/914a46eff07aa44c7d802fe70b1a58a38bc514c6', 'message': 'fix the bug that policy validate cannot work when creatting a policy\n\nIt can be created successfully when I create a policy with an\ninvalid subnet. And I find the default value is False of the parameter\nvalidate_props,so that the policy validate() cannot validate deeply.\n\nTo fix the bug, I change the validate_props from False to True in the\ncode of policy_create().\n\nChange-Id: I727b3a0d74ff69d8cd797b8a5af8d6f40a8f5fb9\nCloses-Bug: 1716812\n'}]",2,503502,914a46eff07aa44c7d802fe70b1a58a38bc514c6,15,7,4,26650,,,0,"fix the bug that policy validate cannot work when creatting a policy

It can be created successfully when I create a policy with an
invalid subnet. And I find the default value is False of the parameter
validate_props,so that the policy validate() cannot validate deeply.

To fix the bug, I change the validate_props from False to True in the
code of policy_create().

Change-Id: I727b3a0d74ff69d8cd797b8a5af8d6f40a8f5fb9
Closes-Bug: 1716812
",git fetch https://review.opendev.org/openstack/senlin refs/changes/02/503502/4 && git format-patch -1 --stdout FETCH_HEAD,['senlin/engine/service.py'],1,9a3ef928f591bb71532220dbc426f3dc646d6317,bug/1716812," policy = self._validate_policy(ctx, req.spec, name=name, validate_props=True)"," policy = self._validate_policy(ctx, req.spec, name=name)",1,1
openstack%2Fcastellan~master~I10aad7a537f8a9bc091d36dbe8e730a2b3d317e9,openstack/castellan,master,I10aad7a537f8a9bc091d36dbe8e730a2b3d317e9,Updated from global requirements,MERGED,2017-09-13 12:48:44.000000000,2017-09-14 15:50:41.000000000,2017-09-14 15:50:41.000000000,"[{'_account_id': 3}, {'_account_id': 11561}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-09-13 12:48:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/1c58e5749a51ef893a669c42cc6fd0d3482b0081', 'message': 'Updated from global requirements\n\nChange-Id: I10aad7a537f8a9bc091d36dbe8e730a2b3d317e9\n'}]",0,503616,1c58e5749a51ef893a669c42cc6fd0d3482b0081,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I10aad7a537f8a9bc091d36dbe8e730a2b3d317e9
",git fetch https://review.opendev.org/openstack/castellan refs/changes/16/503616/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1c58e5749a51ef893a669c42cc6fd0d3482b0081,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fnova~master~Ia53f4d2add9474dc95a930309cb28c29de3f8915,openstack/nova,master,Ia53f4d2add9474dc95a930309cb28c29de3f8915,DNM: Run test_iscsi_volume with new style volume attachments,ABANDONED,2017-09-07 16:45:17.000000000,2017-09-14 15:47:07.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 17386}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-07 16:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d5645c8aacc6e29311762a64655ed0ffca4b47e', 'message': 'DNM: Run test_iscsi_volume with new style volume attachments\n\nThe change below this depends on the new volume attachment\nAPI flow along with changes to live migration with new style\nvolume attachments.\n\nThis change depends on an update to test_iscsi_volume in Tempest\nfor additional volume attachment validation.\n\nDepends-On: I72ccf82debe36607b58fa75e52af535494999959\n\nAlso depends on a nova change to configure Tempest to run\ntest_iscsi_volume.\n\nDepends-On: I7d7a708b231070468616ae852d81d2f8b01ba568\n\nChange-Id: Ia53f4d2add9474dc95a930309cb28c29de3f8915\n'}, {'number': 2, 'created': '2017-09-07 16:58:54.000000000', 'files': ['nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e938d29613279e03191c15eb1c6dfc0e224bad4', 'message': 'DNM: Run test_iscsi_volume with new style volume attachments\n\nThe change below this depends on the new volume attachment\nAPI flow along with changes to live migration with new style\nvolume attachments.\n\nThis change depends on an update to test_iscsi_volume in Tempest\nfor additional volume attachment validation.\n\nDepends-On: I72ccf82debe36607b58fa75e52af535494999959\n\nChange-Id: Ia53f4d2add9474dc95a930309cb28c29de3f8915\n'}]",0,501805,5e938d29613279e03191c15eb1c6dfc0e224bad4,13,8,2,6873,,,0,"DNM: Run test_iscsi_volume with new style volume attachments

The change below this depends on the new volume attachment
API flow along with changes to live migration with new style
volume attachments.

This change depends on an update to test_iscsi_volume in Tempest
for additional volume attachment validation.

Depends-On: I72ccf82debe36607b58fa75e52af535494999959

Change-Id: Ia53f4d2add9474dc95a930309cb28c29de3f8915
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/501805/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,7d5645c8aacc6e29311762a64655ed0ffca4b47e,bp/cinder-new-attach-apis,# test_iscsi_volume ,,2,0
openstack%2Fswift~master~I9462932064e49ed6f141d3efea5510040202f9af,openstack/swift,master,I9462932064e49ed6f141d3efea5510040202f9af,sharding - Change the find a scanner algorithm,ABANDONED,2017-09-13 05:16:55.000000000,2017-09-14 15:42:29.000000000,,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-09-13 05:16:55.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5ea6c5d0027f74d77b662b89621268f9a483b376', 'message': 'sharding - Change the find a scanner algorithm\n\nOn tie choose the lowest node_id, to lessen the chance of multiple\nscanners\n\nAlso some find_scanner_node tests\n\nChange-Id: I9462932064e49ed6f141d3efea5510040202f9af\n'}]",2,503529,5ea6c5d0027f74d77b662b89621268f9a483b376,6,4,1,7233,,,0,"sharding - Change the find a scanner algorithm

On tie choose the lowest node_id, to lessen the chance of multiple
scanners

Also some find_scanner_node tests

Change-Id: I9462932064e49ed6f141d3efea5510040202f9af
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/503529/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,5ea6c5d0027f74d77b662b89621268f9a483b376,node-election-update," obj_counts = { self._get_node_index(): broker.get_info()['object_count']} if found_scan_id: found_scan_id = int(found_scan_id) obj_counts[node_idx] = found_obj_count def get_max_count(items): max_count = max(items.items(), key=lambda x: x[1]) return filter(lambda x: x[1] == max_count[1], items.items()) scanner_id = min(get_max_count(obj_counts))[0] max_ids = get_max_count(scanner_ids) scanner_id = max_ids[0][0] else: scanner_id = scanner_ids.keys()[0] headers = {'X-Container-Sysmeta-Shard-Scanner': scanner_id} 'X-Container-Sysmeta-Shard-Scanner': (scanner_id, timestamp)}) broker.account, broker.container, scanner_id) return scanner_id"," obj_count = [broker.get_info()['object_count']] scanner_id = [self._get_node_index()] if found_obj_count > obj_count[0]: obj_count[0] = found_obj_count scanner_id[0] = node_idx # find the most occurring or if a tie wait for replication to # choose the best max_id = max(scanner_ids.items(), key=lambda x: x[1]) max_ids = filter(lambda x: x == max_id[1], scanner_ids) scanner_id[0] = max_id[0] else: scanner_id[0] = scanner_ids.keys()[0] headers = {'X-Container-Sysmeta-Shard-Scanner': scanner_id[0]} 'X-Container-Sysmeta-Shard-Scanner': (scanner_id[0], timestamp)}) broker.account, broker.container, scanner_id[0]) # return scanner_id[0] return self.get_metadata_item(broker, 'X-Container-Sysmeta-Shard-Scanner')",90,19
openstack%2Fkarbor~master~I619b06ff33fb4339a5851098867a46298a9aeb51,openstack/karbor,master,I619b06ff33fb4339a5851098867a46298a9aeb51,Add freezer protection plugin for karbor,MERGED,2017-08-31 15:32:56.000000000,2017-09-14 15:42:04.000000000,2017-09-14 15:42:04.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}, {'_account_id': 21224}]","[{'number': 1, 'created': '2017-08-31 15:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/73a953c159af786fce726f2079080f14a16586e8', 'message': '[WIP]Add freezer protection plugin for karbor\n\nChange-Id: I619b06ff33fb4339a5851098867a46298a9aeb51\nblueprint: freezer-protection-plugin\n'}, {'number': 2, 'created': '2017-09-01 10:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b970f40a4577288ab0efbf9846b0e7c78b8e2ee1', 'message': 'Add freezer protection plugin for karbor\n\nChange-Id: I619b06ff33fb4339a5851098867a46298a9aeb51\nblueprint: freezer-protection-plugin\n'}, {'number': 3, 'created': '2017-09-06 14:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a90f338d9ae527d07098815e6dbd1ac7d0040e60', 'message': 'Add freezer protection plugin for karbor\n\nChange-Id: I619b06ff33fb4339a5851098867a46298a9aeb51\nblueprint: freezer-protection-plugin\n'}, {'number': 4, 'created': '2017-09-07 00:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9cf9d994f2a6f9be637cffd29788cba3b8378110', 'message': 'Add freezer protection plugin for karbor\n\nChange-Id: I619b06ff33fb4339a5851098867a46298a9aeb51\nblueprint: freezer-protection-plugin\n'}, {'number': 5, 'created': '2017-09-08 02:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/bd94903211870b6b5b673090ea77667c7edb964b', 'message': 'Add freezer protection plugin for karbor\n\nChange-Id: I619b06ff33fb4339a5851098867a46298a9aeb51\nblueprint: freezer-protection-plugin\n'}, {'number': 6, 'created': '2017-09-10 09:16:44.000000000', 'files': ['requirements.txt', 'karbor/services/protection/protection_plugins/volume/volume_freezer_plugin_schemas.py', 'test-requirements.txt', 'karbor/tests/unit/protection/test_cinder_freezer_protection_plugin.py', 'karbor/services/protection/clients/freezer.py', 'setup.cfg', 'karbor/services/protection/protection_plugins/volume/volume_freezer_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/bf752c4a842e3fd692067ff13b5be3b4e93352ac', 'message': 'Add freezer protection plugin for karbor\n\nChange-Id: I619b06ff33fb4339a5851098867a46298a9aeb51\nblueprint: freezer-protection-plugin\n'}]",8,499685,bf752c4a842e3fd692067ff13b5be3b4e93352ac,26,4,6,21224,,,0,"Add freezer protection plugin for karbor

Change-Id: I619b06ff33fb4339a5851098867a46298a9aeb51
blueprint: freezer-protection-plugin
",git fetch https://review.opendev.org/openstack/karbor refs/changes/85/499685/5 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/protectable_registry.py', 'karbor/services/protection/protection_plugins/freezer/__init__.py', 'karbor/services/protection/protection_plugins/freezer/freezer_protection_plugin.py', 'requirements.txt', 'karbor/services/protection/protection_plugins/freezer/freezer_api.py', 'karbor/services/protection/clients/freezer.py', 'karbor/services/protection/protection_plugins/freezer/freezer_plugin_schemas.py', 'setup.cfg']",8,73a953c159af786fce726f2079080f14a16586e8,bp/freezer-protection-plugin, karbor-freezer-protection-plugin = karbor.services.protection.protection_plugins.freezer.freezer_protection_plugin:FreezerProtectionPlugin,,688,1
openstack%2Fswift~master~Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839,openstack/swift,master,Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839,Container sharding docs,ABANDONED,2017-02-27 03:34:13.000000000,2017-09-14 15:42:00.000000000,,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-02-27 03:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d55df786d37ae389d26553224a61a45a8cb01f0f', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}, {'number': 2, 'created': '2017-02-28 23:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e37e216992527ca7d27b4eec5d8754519cc8af86', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}, {'number': 3, 'created': '2017-03-22 03:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c1aab97c1664ede33aef4d0ef4b38c9ae492e49', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}, {'number': 4, 'created': '2017-04-03 06:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/68f687c4a175bbfd56e31b2a91d06975a7a02514', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}, {'number': 5, 'created': '2017-08-08 20:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d3bdcbfd04731e885a0a3640f76b79bd463f0be0', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}, {'number': 6, 'created': '2017-08-28 02:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0afe2e68834fe5e0fec4dbd4dd4c090c3cd03033', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}, {'number': 7, 'created': '2017-08-28 06:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c236ac4d61276cdaa1a63ab0db55519bb2e2c4d5', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}, {'number': 8, 'created': '2017-09-13 22:14:56.000000000', 'files': ['doc/source/images/sharding_lock2.png', 'doc/source/images/sharding_db_states.png', 'doc/source/images/sharding_lock_sharding_GET.png', 'doc/source/images/sharding_snip4.png', 'doc/source/overview_container_sharding.rst', 'doc/source/images/sharding_snip2.png', 'doc/source/images/sharding_lock3.png', 'doc/source/images/sharding_lock5.png', 'doc/source/images/sharding_snip3.png', 'doc/source/index.rst', 'doc/source/images/sharding_lock1.png', 'doc/source/images/sharding_lock_sharded_GET.png', 'doc/source/images/sharding_snip1.png', 'doc/source/images/sharding_snip5.png', 'doc/source/images/sharding_lock4.png'], 'web_link': 'https://opendev.org/openstack/swift/commit/0aaaaf5967526a6cc28b77933f08e5b960d7e73c', 'message': 'Container sharding docs\n\nChange-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839\n'}]",6,438322,0aaaaf5967526a6cc28b77933f08e5b960d7e73c,29,4,8,7847,,,0,"Container sharding docs

Change-Id: Ie2e3a6ba07f647c0c278ba7c7a8d0d9201857839
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/438322/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/images/sharding_lock2.png', 'doc/source/images/sharding_db_states.png', 'doc/source/images/sharding_lock_sharding_GET.png', 'doc/source/images/sharding_snip4.png', 'doc/source/overview_container_sharding.rst', 'doc/source/images/sharding_snip2.png', 'doc/source/images/sharding_lock3.png', 'doc/source/images/sharding_lock5.png', 'doc/source/images/sharding_snip3.png', 'doc/source/index.rst', 'doc/source/images/sharding_lock1.png', 'doc/source/images/sharding_lock_sharded_GET.png', 'doc/source/images/sharding_snip1.png', 'doc/source/images/sharding_snip5.png', 'doc/source/images/sharding_lock4.png']",15,d55df786d37ae389d26553224a61a45a8cb01f0f,feature/deep,,,1189,0
openstack%2Fswift~master~I1976f43837650d3f13a5ee953c3a611d4dcb6624,openstack/swift,master,I1976f43837650d3f13a5ee953c3a611d4dcb6624,sharding: test container listing merging old db and pivot db,ABANDONED,2017-09-07 00:14:01.000000000,2017-09-14 15:41:46.000000000,,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-09-07 00:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/574546d4878f54843db424a621ee8a56e255a9b8', 'message': 'sharding: test container listing merging old db and pivot db\n\ncontainer.server._check_local_brokers is broken. This patch makes\nsome improvements but further work is needed for the new unit test\nto pass.\n\nThe test is decorated as expectedFailure so that we have it as a record\nof work needing to be done.\n\nChange-Id: I1976f43837650d3f13a5ee953c3a611d4dcb6624\n'}, {'number': 2, 'created': '2017-09-07 01:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cbf42f9860f5e123cd3f4631e380a1418ebaeccb', 'message': 'sharding: test container listing merging old db and pivot db\n\ncontainer.server._check_local_brokers is broken. This patch makes\nsome improvements but further work is needed for the new unit test\nto pass.\n\nThe test is decorated as expectedFailure so that we have it as a record\nof work needing to be done.\n\nChange-Id: I1976f43837650d3f13a5ee953c3a611d4dcb6624\n'}, {'number': 3, 'created': '2017-09-07 13:18:36.000000000', 'files': ['swift/container/server.py', 'test/unit/container/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0642dc981d2ce5a7866761fd4807415c5a90499a', 'message': 'sharding: test container listing merging old db and pivot db\n\ncontainer.server._check_local_brokers is broken. This patch makes\nsome improvements but further work is needed for the new unit test\nto pass.\n\nThe test is decorated as expectedFailure so that we have it as a record\nof work needing to be done.\n\nChange-Id: I1976f43837650d3f13a5ee953c3a611d4dcb6624\n'}]",2,501497,0642dc981d2ce5a7866761fd4807415c5a90499a,10,3,3,7847,,,0,"sharding: test container listing merging old db and pivot db

container.server._check_local_brokers is broken. This patch makes
some improvements but further work is needed for the new unit test
to pass.

The test is decorated as expectedFailure so that we have it as a record
of work needing to be done.

Change-Id: I1976f43837650d3f13a5ee953c3a611d4dcb6624
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/501497/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'test/unit/container/test_server.py']",2,574546d4878f54843db424a621ee8a56e255a9b8,p-sharding-get-put-pivots," # TODO: fix implementation so that this test passes @unittest.expectedFailure def test_GET_while_in_sharding_state_no_pivot_ranges(self): # verify that GET merges items from the old and new db's ts_iter = make_timestamp_iter() headers = {'X-Timestamp': next(ts_iter).normal} req = Request.blank('/sda1/p/a/c', method='PUT', headers=headers) self.assertEqual(201, req.get_response(self.controller).status_int) objects = [{'name': 'obj_%d' % i, 'x-timestamp': next(ts_iter).normal, 'x-content-type': 'text/plain', 'x-etag': 'etag_%d' % i, 'x-size': 1024 * i } for i in range(10)] for obj in objects[:5]: req = Request.blank('/sda1/p/a/c/%s' % obj['name'], method='PUT', headers=obj) self._update_object_put_headers(req) resp = req.get_response(self.controller) self.assertEqual(201, resp.status_int) # set broker to sharding state broker = self.controller._get_container_broker('sda1', 'p', 'a', 'c') broker.set_sharding_state() # these PUTS will land in the pivot db (no pivot ranges yet) for obj in objects[5:]: req = Request.blank('/sda1/p/a/c/%s' % obj['name'], method='PUT', headers=obj) self._update_object_put_headers(req) resp = req.get_response(self.controller) self.assertEqual(201, resp.status_int) def check_object_GET(path, expected_objs): req = Request.blank(path, method='GET') resp = req.get_response(self.controller) self.assertEqual(resp.status_int, 200) self.assertEqual(resp.content_type, 'application/json') self.assertEqual(expected_objs, json.loads(resp.body)) expected = [ dict(hash=obj['x-etag'], bytes=obj['x-size'], content_type=obj['x-content-type'], last_modified=Timestamp(obj['x-timestamp']).isoformat, name=obj['name']) for obj in objects] check_object_GET('/sda1/p/a/c?format=json', expected) # these DELETES will land in the pivot db (no pivot ranges yet) for obj in objects[2:4]: obj['x-timestamp'] = next(ts_iter).normal req = Request.blank('/sda1/p/a/c/%s' % obj['name'], method='DELETE', headers=obj) self._update_object_put_headers(req) resp = req.get_response(self.controller) self.assertEqual(204, resp.status_int) check_object_GET('/sda1/p/a/c?format=json', expected[:2] + expected[4:]) check_object_GET('/sda1/p/a/c?format=json&limit=6', expected[:2] + expected[4:8]) check_object_GET('/sda1/p/a/c?format=json&limit=100', expected[:2] + expected[4:]) check_object_GET('/sda1/p/a/c?format=json&limit=2', expected[:2]) check_object_GET('/sda1/p/a/c?format=json&prefix=obj_2', []) check_object_GET('/sda1/p/a/c?format=json&marker=obj_2', expected[4:]) check_object_GET('/sda1/p/a/c?format=json&reverse=true', list(reversed(expected[:2] + expected[4:]))) check_object_GET('/sda1/p/a/c?format=json&reverse=true&marker=obj_4', list(reversed(expected[:2]))) # TODO: next assertion fails because the limit is applied to old_items, # which has 5 items but only 4 are listed due to limit=4. Then two of # those are removed due to deletes in the pivot db, and replaced with # items in the pivot db. The fifth old item is not listed but should # be. check_object_GET('/sda1/p/a/c?format=json&limit=4', expected[:2] + expected[4:6]) with mock.patch('swift.common.constraints.CONTAINER_LISTING_LIMIT', 2): # mock listing limit to check that repeated calls are made to the # pivot db to replace old items that are found to be deleted check_object_GET('/sda1/p/a/c?format=json&marker=obj_1&limit=2', [expected[1], expected[4]]) ",,103,15
openstack%2Fswift~master~I446050d17286a0067b2f535774c3c3a569b36811,openstack/swift,master,I446050d17286a0067b2f535774c3c3a569b36811,sharding: fix and tests for container GET all items,ABANDONED,2017-09-06 15:01:48.000000000,2017-09-14 15:41:33.000000000,,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-09-06 15:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/06a82fb6f772fad64b4caf59bf0e024e79111c78', 'message': 'sharding: fix and tests for container GET all items\n\nFix container GET with an items=all query string parameter to return\nall items even when there are no other params specified. Previously it\nonly had effect when another param such as marker or prefix was\nincluded, but there appears to be a case in the container controller\nwhere those params may not be present.\n\nAdd unit tests for GETs with items=all.\n\nChange-Id: I446050d17286a0067b2f535774c3c3a569b36811\n'}, {'number': 2, 'created': '2017-09-07 01:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/55567e0d3638c5c02b9343a7b0f324b1998d733f', 'message': 'sharding: fix and tests for container GET all items\n\nFix container GET with an items=all query string parameter to return\nall items even when there are no other params specified. Previously it\nonly had effect when another param such as marker or prefix was\nincluded, but there appears to be a case in the container controller\nwhere those params may not be present.\n\nAdd unit tests for GETs with items=all.\n\nChange-Id: I446050d17286a0067b2f535774c3c3a569b36811\n'}, {'number': 3, 'created': '2017-09-07 13:18:36.000000000', 'files': ['test/unit/container/test_server.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fc62f83c587fca36fba2adfd54bd369066d0a6be', 'message': 'sharding: fix and tests for container GET all items\n\nFix container GET with an items=all query string parameter to return\nall items even when there are no other params specified. Previously it\nonly had effect when another param such as marker or prefix was\nincluded, but there appears to be a case in the container controller\nwhere those params may not be present.\n\nAdd unit tests for GETs with items=all.\n\nChange-Id: I446050d17286a0067b2f535774c3c3a569b36811\n'}]",0,501303,fc62f83c587fca36fba2adfd54bd369066d0a6be,11,3,3,7847,,,0,"sharding: fix and tests for container GET all items

Fix container GET with an items=all query string parameter to return
all items even when there are no other params specified. Previously it
only had effect when another param such as marker or prefix was
included, but there appears to be a case in the container controller
where those params may not be present.

Add unit tests for GETs with items=all.

Change-Id: I446050d17286a0067b2f535774c3c3a569b36811
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/501303/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_server.py', 'swift/container/backend.py']",2,06a82fb6f772fad64b4caf59bf0e024e79111c78,p-sharding-get-put-pivots," query += 'FROM object ' query_conditions = [] query_conditions.append('name <= ?') else: query_conditions.append('name < ?') query_conditions.append('name < ?') query_conditions.append('name >= ?') query_conditions.append('name > ?') query_conditions.append('name >= ?') if not include_deleted: if self.get_db_version(conn) < 1: query_conditions.append('+deleted = 0') else: query_conditions.append('deleted = 0') # storage policy filter query_conditions.append('storage_policy_index = ?') query_args.append(storage_policy_index) full_query = query if query_conditions: full_query += 'WHERE ' + ' AND '.join(query_conditions) tail_query = ''' tail_args = [limit - len(results)] try: curs = conn.execute(full_query + tail_query, query_conditions = query_conditions[:-1] query_args = query_args[:-1] full_query = query if query_conditions: full_query += 'WHERE ' + ' AND '.join(query_conditions) curs = conn.execute(full_query + tail_query,"," query += 'FROM object WHERE' query += ' name <= ? AND' else: query += ' name < ? AND' query += ' name < ? AND' query += ' name >= ? AND' query += ' name > ? AND' query += ' name >= ? AND' if include_deleted and query.endswith(' AND'): query = query[:-4] else: if self.get_db_version(conn) < 1: query += ' +deleted = 0' else: query += ' deleted = 0' orig_tail_query = ''' orig_tail_args = [limit - len(results)] # storage policy filter policy_tail_query = ''' AND storage_policy_index = ? ''' + orig_tail_query policy_tail_args = [storage_policy_index] + orig_tail_args tail_query, tail_args = \ policy_tail_query, policy_tail_args try: curs = conn.execute(query + tail_query, tail_query, tail_args = \ orig_tail_query, orig_tail_args curs = conn.execute(query + tail_query,",87,26
openstack%2Fswift~master~I985d780eb180b307b4c14825abd741454dea5bfc,openstack/swift,master,I985d780eb180b307b4c14825abd741454dea5bfc,sharding: unit test for base.py get_pivot_ranges,ABANDONED,2017-09-07 13:18:04.000000000,2017-09-14 15:41:16.000000000,,"[{'_account_id': 3}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-09-07 13:18:04.000000000', 'files': ['test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ac3defeac35d820d33cd4eed723d0fee7d8d6876', 'message': 'sharding: unit test for base.py get_pivot_ranges\n\nplus some cleanup of the method\n\nChange-Id: I985d780eb180b307b4c14825abd741454dea5bfc\n'}]",0,501723,ac3defeac35d820d33cd4eed723d0fee7d8d6876,4,2,1,7847,,,0,"sharding: unit test for base.py get_pivot_ranges

plus some cleanup of the method

Change-Id: I985d780eb180b307b4c14825abd741454dea5bfc
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/501723/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py']",2,ac3defeac35d820d33cd4eed723d0fee7d8d6876,p-sharding-get-pivot-ranges, pivot_range_list = [] if is_success(piv_resp.status_int): try: pivot_range_list = json.loads(piv_resp.body) except ValueError as err: # Failed to decode the json response self.app.logger.exception(err) # TODO: ideally the dict form of pivot_range would correspond to the # init args so that this transform is unnecessary for pivot_range in pivot_range_list: pivot_range['timestamp'] = pivot_range['created_at'] del pivot_range['created_at'] return [PivotRange(**pivot_range) for pivot_range in pivot_range_list]," ranges = [] if not is_success(piv_resp.status_int): return ranges try: for pivot in json.loads(piv_resp.body): lower = pivot.get('lower') or None upper = pivot.get('upper') or None created_at = pivot.get('created_at') or None object_count = pivot.get('object_count') or 0 bytes_used = pivot.get('bytes_used') or 0 meta_timestamp = pivot.get('meta_timestamp') or None ranges.append(PivotRange(pivot['name'], created_at, lower, upper, object_count, bytes_used, meta_timestamp)) except ValueError: # Failed to decode the json response pass return ranges",69,21
openstack%2Fkarbor~master~I72c0e63a57c200a6800556fb6a2843ad6088ac9a,openstack/karbor,master,I72c0e63a57c200a6800556fb6a2843ad6088ac9a,Spec: Support kubernetes pod with persistent volumes protection plugin,MERGED,2017-08-16 09:49:38.000000000,2017-09-14 15:40:53.000000000,2017-09-14 15:40:53.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}]","[{'number': 1, 'created': '2017-08-16 09:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/317299dad0e8589d04f4f8889ef5a7ad03d5e771', 'message': 'Spec:Support kubernetes pod with persistent volumes protection plugin\n\nChange-Id: I72c0e63a57c200a6800556fb6a2843ad6088ac9a\nImplements: blueprint kubernetes-pods-protection-plugin\n'}, {'number': 2, 'created': '2017-08-23 09:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/55699f632803a7defbd8bc6703d258e0ac853483', 'message': 'Spec:Support kubernetes pod with persistent volumes protection plugin\n\nChange-Id: I72c0e63a57c200a6800556fb6a2843ad6088ac9a\nImplements: blueprint kubernetes-pods-protection-plugin\n'}, {'number': 3, 'created': '2017-09-08 03:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b827ac3e5aa1611299a799ef256e84f0dfc67542', 'message': 'Spec:Support kubernetes pod with persistent volumes protection plugin\n\nChange-Id: I72c0e63a57c200a6800556fb6a2843ad6088ac9a\nImplements: blueprint kubernetes-pods-protection-plugin\n'}, {'number': 4, 'created': '2017-09-08 03:45:16.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/kubernetes-pods-protection-plugin.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/dfd09a3b2fbefed454f1b51421fac5268753fe0f', 'message': 'Spec: Support kubernetes pod with persistent volumes protection plugin\n\nChange-Id: I72c0e63a57c200a6800556fb6a2843ad6088ac9a\nImplements: blueprint kubernetes-pods-protection-plugin\n'}]",0,494150,dfd09a3b2fbefed454f1b51421fac5268753fe0f,14,3,4,17151,,,0,"Spec: Support kubernetes pod with persistent volumes protection plugin

Change-Id: I72c0e63a57c200a6800556fb6a2843ad6088ac9a
Implements: blueprint kubernetes-pods-protection-plugin
",git fetch https://review.opendev.org/openstack/karbor refs/changes/50/494150/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'doc/source/specs/kubernetes-pods-protection-plugin.rst']",2,317299dad0e8589d04f4f8889ef5a7ad03d5e771,bp/kubernetes-pods-protection-plugin,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================================= The kubernetes pod with persistent volumes protectable and protection plugins ============================================================================= https://blueprints.launchpad.net/karbor/+spec/kubernetes-pods-protection-plugin Problem description =================== With the rapid development of cloud computing, there is a trend of explosive growth in cloud data over recent years. Cloud data backup and recovery has become an urgent topic which the customers concern. Running Kubernetes on OpenStack becames more and more popular. The data protection of the application on Kubernetes also need be considered. In this spec we would like to introduce a plugin in Karbor to protect your application deployed in Kubernetes which runs on top of OpenStack. The application data protected by Karbor include the configurations and metadata in etcd service, and the persistent volume provided by Cinder. Use Cases ========= The kubernetes cluster can run on openstack instances using Openstack cloud provider, the pods can be created with persistent volumes provided by Cinder. This bp adds kubernetes pods with persistent volumes protection plugin in Karbor. Proposed change =============== The kubernetes pod protectable plugin: -------------------------------------- A new protectable plugin about The kubernetes pod need be implemented. The type of resource the kubernetes pod is ""OS::Kubernetes::Pod"". It will be added to the constant RESOURCE_TYPES in Karbor. 1. The parent resource types: PROJECT_RESOURCE_TYPE 2. list the resources: This interface of plugin will call the 'list_pod_for_all_namespaces' API method in the kubernetes python client[1]. 3. show the resource: This interface of plugin will call the 'read_namespaced_pod' method API method in the kubernetes python client. The parameter is a pod id. 4. get dependent resources: The parameter parent_resource is a project, this interface of plugin will return the kubernetes pod in this project. The volume protectable plugin: ------------------------------ 1. Add a new parent resource types: ""OS::Kubernetes::Pod"" 2. get dependent resources: The parameter parent_resource is a kubernetes pod, this interface of plugin will return the persistent volumes list provided by Cinder in the this parent resource pod. The kubernetes pod protection plugin ------------------------------------ A new protection plugin about the kubernetes pod need be implemented. 1. Protect Operation: The configurations and metadata in etcd service about the pod will be saved to the bank of Karbor. 2. Restore Operation: The persistent volumes of the pod will be restored by Cinder Volume plugins. Get the the configurations and metadata in etcd service about the pod from bank, and create a new pod with restored persistent volumes from cinder in the kubernetes cluster. 3. Delete Operation: The configurations and metadata about the pod will be deleted from the bank. The backup data of persistent volumes will be deleted from Cinder. The kubernetes pod protection plugin schema: -------------------------------------------- :: OPTIONS_SCHEMA = { ""title"": ""The kubernetes pod Protection Options"", ""type"": ""object"", ""properties"": { ""backup_name"": { ""type"": ""string"", ""title"": ""Backup Name"", ""description"": ""The name of the kubernetes pod backup."" }, ""description"": { ""type"": ""string"", ""title"": ""Description"", ""description"": ""The description of the kubernetes pod backup."" } }, ""required"": [""backup_name"", ""description""] } RESTORE_SCHEMA = { ""title"": ""The kubernetes pod Protection Restore"", ""type"": ""object"", ""properties"": { ""restore_name"": { ""type"": ""string"", ""title"": ""Restore Name"", ""description"": ""The name of the restored kubernetes pod."", ""default"": None }, ""restore_description"": { ""type"": ""string"", ""title"": ""Restore Description"", ""description"": ""The description of the restored kubernetes pod."", ""default"": None } } } Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Add the kubernetes pod protection plugin endpoint to setup.cfg. Add the kubernetes pod protection plugin configuration to provider file. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Work Items ---------- * Write kubernetes pod backup protectable plugin * Write kubernetes pod backup protection plugin * Write tests * Add a usage example about kubernetes pod protection Dependencies ============ None Testing ======= Unit tests in Karbor. Documentation Impact ==================== Add a usage example about kubernetes pod protection. References ========== [1] https://github.com/kubernetes-incubator/client-python ",,217,0
openstack%2Fswift~master~Id23e880c17b1943ae90c968c7f8ce6659ea57a99,openstack/swift,master,Id23e880c17b1943ae90c968c7f8ce6659ea57a99,sharding: fix PivotRange.__iter__ and add tests for pivot PUT/GET,ABANDONED,2017-09-06 02:37:00.000000000,2017-09-14 15:40:37.000000000,,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-09-06 02:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7004d88a5604edc357105f233b35207b67444d66', 'message': 'sharding: fix PivotRange.__iter__ and add tests for pivot PUT/GET\n\n- make PivotRange.__iter__ convert timestamps to strings\n\nChange-Id: Id23e880c17b1943ae90c968c7f8ce6659ea57a99\n'}, {'number': 2, 'created': '2017-09-07 01:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/70fcaa57f4283588fae1c73e88b3a363411bab8e', 'message': 'sharding: fix PivotRange.__iter__ and add tests for pivot PUT/GET\n\n- make PivotRange.__iter__ convert timestamps to strings\n\nChange-Id: Id23e880c17b1943ae90c968c7f8ce6659ea57a99\n'}, {'number': 3, 'created': '2017-09-07 13:18:04.000000000', 'files': ['swift/container/server.py', 'swift/common/utils.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9be2b1da27e2ac42b4e35a1ff96fefc22fb6593d', 'message': 'sharding: fix PivotRange.__iter__ and add tests for pivot PUT/GET\n\n- make PivotRange.__iter__ convert timestamps to strings\n\nChange-Id: Id23e880c17b1943ae90c968c7f8ce6659ea57a99\n'}]",4,501074,9be2b1da27e2ac42b4e35a1ff96fefc22fb6593d,11,3,3,7847,,,0,"sharding: fix PivotRange.__iter__ and add tests for pivot PUT/GET

- make PivotRange.__iter__ convert timestamps to strings

Change-Id: Id23e880c17b1943ae90c968c7f8ce6659ea57a99
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/501074/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'swift/common/utils.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py', 'swift/container/backend.py']",5,7004d88a5604edc357105f233b35207b67444d66,p-sharding-get-pivot-ranges," # TODO: split this to separate helper method for each given type? obj = dict(item, deleted=0)"," obj = { 'name': item.name, 'created_at': item.timestamp, 'lower': item.lower, 'upper': item.upper, 'object_count': item.object_count, 'bytes_used': item.bytes_used, 'meta_timestamp': item.meta_timestamp, 'deleted': 0}",128,18
openstack%2Fswift~master~Ice703dc6d98108ad251c43f824426d026e1f1d97,openstack/swift,master,Ice703dc6d98108ad251c43f824426d026e1f1d97,Add container sharding to Swift containers,ABANDONED,2017-01-23 05:09:36.000000000,2017-09-14 15:40:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-01-23 05:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e7f5932e086ea82d64c68d526ac753628d2122ac', 'message': ""Add container sharding to Swift containers\n\nNOTE: I have just rebased with master, but have yet to actually test the\nrebased version.\n\nNOTE2: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/8p2iJ9RR/swift-container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 2, 'created': '2017-02-15 02:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e20a13eee3fdcf6740d7ae6f9a324a00bd2aada0', 'message': ""Add container sharding to Swift containers\n\nNOTE: I have just rebased with master, but have yet to actually test the\nrebased version.\n\nNOTE2: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/8p2iJ9RR/swift-container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 3, 'created': '2017-02-15 06:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b0f29b2d309d3a33fb54ec37915e15717c56aa38', 'message': ""Add container sharding to Swift containers\n\nNOTE: I have just rebased with master, but have yet to actually test the\nrebased version.\n\nNOTE2: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/8p2iJ9RR/swift-container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 4, 'created': '2017-02-27 03:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6dfc50a404667ca3f4a43075c308e901f32f9c9', 'message': ""Add container sharding to Swift containers\n\nNOTE: I have just rebased with master, but have yet to actually test the\nrebased version.\n\nNOTE2: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/8p2iJ9RR/swift-container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 5, 'created': '2017-03-02 06:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/59ae24f3819543a3afb50c732be829b10d7336cf', 'message': ""Add container sharding to Swift containers\n\nNOTE: I have just rebased with master, but have yet to actually test the\nrebased version.\n\nNOTE2: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/8p2iJ9RR/swift-container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 6, 'created': '2017-03-16 05:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/44b6e2b3630b52e350387944668719fe6ffeea67', 'message': ""Add container sharding to Swift containers\n\nNOTE: I have just rebased with master, but have yet to actually test the\nrebased version.\n\nNOTE2: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/8p2iJ9RR/swift-container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 7, 'created': '2017-03-22 01:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/11678e2f751fb77f10db2357ed886c846e3f87b3', 'message': ""Add container sharding to Swift containers\n\nNOTE: I have just rebased with master, but have yet to actually test the\nrebased version.\n\nNOTE2: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/8p2iJ9RR/swift-container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 8, 'created': '2017-04-03 06:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b331bd36ffb4dc333d3abecadff34cf09350a19', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 9, 'created': '2017-05-11 18:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e487d7aff5f7b55e60a483a0fcbb059057f8b003', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 10, 'created': '2017-05-11 20:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8d79bbae3764eebd4676e13db1530fadf4867fc2', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 11, 'created': '2017-06-03 02:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/519c522263891485dcf0ceab58603d5aaad483c7', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 12, 'created': '2017-08-08 20:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77a70b0ab78f4faed2931203ed4939b65fd48754', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 13, 'created': '2017-08-28 06:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/48790727148729ac983f9962a35d6dc07436ff97', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 14, 'created': '2017-08-31 16:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aff784b921ebe7a43f69d654870e158490bde6fe', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 15, 'created': '2017-09-07 13:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ddd4465614e6310c500f840533621a6fab00c25d', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}, {'number': 16, 'created': '2017-09-13 22:14:56.000000000', 'files': ['swift/obj/server.py', 'test/unit/container/test_sharder.py', 'test/unit/account/test_replicator.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/proxy/controllers/obj.py', 'swift/common/exceptions.py', 'bin/swift-container-sharder', 'swift/common/db.py', 'swift/container/server.py', 'swift/common/direct_client.py', 'swift/common/manager.py', 'test/unit/common/test_utils.py', 'test/unit/account/test_server.py', 'test/unit/container/test_replicator.py', 'etc/container-server.conf-sample', 'test/unit/common/test_db_replicator.py', 'test/unit/obj/test_server.py', 'swift/container/replicator.py', 'swift/obj/updater.py', 'swift/common/utils.py', 'swift/common/db_replicator.py', 'swift/container/sharder.py', 'setup.cfg', 'swift/common/request_helpers.py', 'swift/container/backend.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/52eba51f874bc13308b4b95452b866ec385b51e9', 'message': ""Add container sharding to Swift containers\n\nNOTE: This is a rebase and push of the current code, 5 POCs worth of\npotential cruft, things commented out, not quite tuned settings and knobs.\nReally exactly what is in the HEAD of the POC. So alot of polishing is\nrequired. I am currently working on the documentation, which I hope get\nget up in the next few days.. at least the first version to help with\nreviews and get y'all ready to fix my dodgy code!\n\nThis patch adds container sharding functionality to Swift's\ncontainers. You can turn on sharding on a container by setting:\n\n  X-Container-Sharding: on\n\nA container-sharder daemon is added, which does all the heavy\nlifting. This is to be run on all the container servers. It\nscans the sharding marked containers and on each container it:\n\n  - Audit's the container (This still needs to be reworked as things\n    have changed since the last POC).\n  - Deal with any misplaced objects.\n  - Depending on the size of the container it will either:\n    - Do nothing\n    - Shard the container down into peices, or\n    - attempt to merge the container into it's neighbour (again this\n      needs to be double checked and debugged from last POC).\n\nThese have been quite a few changes to other areas of swift to make it\nshard aware, the biggest are:\n\n  - Introduction of Pivot_ranges table to the container database to\n    track pivots.\n  - PivotRanges class in utils.\n  - Container backend can now hadle 2 databases when sharding, which\n    introduces 3 states of container databases:\n    - UNSHARDED\n    - SHARDING\n    - SHARDED\n\nIt is the SHARDING state in which the backend must deal with 2\ncontainers. The old one will never we written to again.\n\nThis change is still a WIP. See the trello board to see what is left to\nbe done (https://trello.com/b/z6oKKI4Q/container-sharding) but in\ngeneral we need:\n\n  - Tests\n  - Shrink testing\n  - Auditing\n  - Documentation\n  - General reviews, debugging and corrections.\n\nChange-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97\n""}]",386,423906,52eba51f874bc13308b4b95452b866ec385b51e9,87,6,16,7233,,,0,"Add container sharding to Swift containers

NOTE: This is a rebase and push of the current code, 5 POCs worth of
potential cruft, things commented out, not quite tuned settings and knobs.
Really exactly what is in the HEAD of the POC. So alot of polishing is
required. I am currently working on the documentation, which I hope get
get up in the next few days.. at least the first version to help with
reviews and get y'all ready to fix my dodgy code!

This patch adds container sharding functionality to Swift's
containers. You can turn on sharding on a container by setting:

  X-Container-Sharding: on

A container-sharder daemon is added, which does all the heavy
lifting. This is to be run on all the container servers. It
scans the sharding marked containers and on each container it:

  - Audit's the container (This still needs to be reworked as things
    have changed since the last POC).
  - Deal with any misplaced objects.
  - Depending on the size of the container it will either:
    - Do nothing
    - Shard the container down into peices, or
    - attempt to merge the container into it's neighbour (again this
      needs to be double checked and debugged from last POC).

These have been quite a few changes to other areas of swift to make it
shard aware, the biggest are:

  - Introduction of Pivot_ranges table to the container database to
    track pivots.
  - PivotRanges class in utils.
  - Container backend can now hadle 2 databases when sharding, which
    introduces 3 states of container databases:
    - UNSHARDED
    - SHARDING
    - SHARDED

It is the SHARDING state in which the backend must deal with 2
containers. The old one will never we written to again.

This change is still a WIP. See the trello board to see what is left to
be done (https://trello.com/b/z6oKKI4Q/container-sharding) but in
general we need:

  - Tests
  - Shrink testing
  - Auditing
  - Documentation
  - General reviews, debugging and corrections.

Change-Id: Ice703dc6d98108ad251c43f824426d026e1f1d97
",git fetch https://review.opendev.org/openstack/swift refs/changes/06/423906/16 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/unit/container/test_backend.py', 'swift/proxy/controllers/obj.py', 'bin/swift-container-sharder', 'swift/common/db.py', 'swift/container/server.py', 'swift/common/direct_client.py', 'swift/common/manager.py', 'etc/swift.conf-sample', 'swift/common/constraints.py', 'test/unit/common/test_utils.py', 'etc/container-server.conf-sample', 'test/unit/proxy/test_server.py', 'test/unit/obj/test_server.py', 'swift/container/replicator.py', 'swift/obj/updater.py', 'swift/common/utils.py', 'swift/common/db_replicator.py', 'swift/container/sharder.py', 'setup.cfg', 'swift/common/request_helpers.py', 'swift/container/backend.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py']",24,e7f5932e086ea82d64c68d526ac753628d2122ac,feature/deep,"from six.moves.urllib.parse import quote, urlencodeimport json document_iters_to_http_response_body, PivotRangefrom swift.container.backend import DB_STATE_UNSHARDED 'sharding_state': int(headers.get('x-backend-sharding-state', DB_STATE_UNSHARDED)) def _get_pivot_ranges(self, req, account, container, object=None): ranges = [] part, nodes = self.app.container_ring.get_nodes(account, container) path = ""/%s/%s"" % (account, container) if object: path = ""%s/%s"" % (path, object) params = req.params.copy() params.update({ 'items': 'pivot', 'format': 'json'}) headers = [self.generate_request_headers(req, transfer=True) for _junk in range(len(nodes))] piv_resp = self.make_requests(req, self.app.container_ring, part, ""GET"", path, headers, urlencode(params)) if not is_success(piv_resp.status_int): return ranges try: for pivot in json.loads(piv_resp.body): lower = pivot.get('lower') or None upper = pivot.get('upper') or None created_at = pivot.get('created_at') or None object_count = pivot.get('object_count') or 0 bytes_used = pivot.get('bytes_used') or 0 meta_timestamp = pivot.get('meta_timestamp') or None ranges.append(PivotRange(pivot['name'], created_at, lower, upper, object_count, bytes_used, meta_timestamp)) except ValueError: # Failed to decode the json response pass return ranges",from six.moves.urllib.parse import quote document_iters_to_http_response_body,3763,296
openstack%2Ftripleo-heat-templates~master~I6fc7c2e9063b779c62e9ed1cb3035ac369f4fedc,openstack/tripleo-heat-templates,master,I6fc7c2e9063b779c62e9ed1cb3035ac369f4fedc,Move RadosGW config settings into ceph-rgw,ABANDONED,2017-09-05 12:12:45.000000000,2017-09-14 15:37:37.000000000,,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 6984}, {'_account_id': 18002}]","[{'number': 1, 'created': '2017-09-05 12:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcd7f37062a6183adb4b0189a2be8d516190908e', 'message': 'Move RadosGW config settings into ceph-rgw\n\nWith support for radosgw_keystone_config in ceph-ansible we can\nmove the RadosGW config settings into the ceph-rgw.yaml template.\n\nChange-Id: I6fc7c2e9063b779c62e9ed1cb3035ac369f4fedc\nCloses-Bug: #1715137\n'}, {'number': 2, 'created': '2017-09-05 13:40:32.000000000', 'files': ['docker/services/ceph-ansible/ceph-rgw.yaml', 'docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04fd8552032be0020b7f98a73294f8f21d3353b0', 'message': 'Move RadosGW config settings into ceph-rgw\n\nWith support for radosgw_keystone_config in ceph-ansible we can\nmove the RadosGW config settings into the ceph-rgw.yaml template.\n\nChange-Id: I6fc7c2e9063b779c62e9ed1cb3035ac369f4fedc\nCloses-Bug: #1715137\n'}]",2,500785,04fd8552032be0020b7f98a73294f8f21d3353b0,9,4,2,6796,,,0,"Move RadosGW config settings into ceph-rgw

With support for radosgw_keystone_config in ceph-ansible we can
move the RadosGW config settings into the ceph-rgw.yaml template.

Change-Id: I6fc7c2e9063b779c62e9ed1cb3035ac369f4fedc
Closes-Bug: #1715137
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/500785/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/ceph-ansible/ceph-rgw.yaml', 'docker/services/ceph-ansible/ceph-base.yaml']",2,bcd7f37062a6183adb4b0189a2be8d516190908e,bug/1715137,," rgw_keystone_api_version: 3 rgw_keystone_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} rgw_keystone_accepted_roles: 'Member, _member_, admin' rgw_keystone_admin_domain: default rgw_keystone_admin_project: service rgw_keystone_admin_user: swift rgw_keystone_admin_password: {get_param: SwiftPassword} rgw_s3_auth_use_keystone: 'true'",14,8
openstack%2Fovsdbapp~master~Ie47e8eff54cf6fe6f83f5da00857267325b104b0,openstack/ovsdbapp,master,Ie47e8eff54cf6fe6f83f5da00857267325b104b0,Allow use of installed OVS if OVS_SRCDIR not set,MERGED,2017-09-13 22:46:13.000000000,2017-09-14 15:34:02.000000000,2017-09-14 15:34:02.000000000,"[{'_account_id': 3}, {'_account_id': 8655}, {'_account_id': 20229}]","[{'number': 1, 'created': '2017-09-13 22:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/448beb9c6660c9b47318ca5edb268a798af2df15', 'message': ""Allow use of installed OVS if OVS_SRCDIR not set\n\nif OVS_SRCDIR isn't set, don't set PATH and try searching for the\nschema files in /usr/share/openvswitch and\n/usr/local/share/openvswitch.\n\nChange-Id: Ie47e8eff54cf6fe6f83f5da00857267325b104b0\n""}, {'number': 2, 'created': '2017-09-14 06:18:21.000000000', 'files': ['ovsdbapp/venv.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e6aee4f31e677c118d23d3a5cf2b5913d948bfe8', 'message': ""Allow use of installed OVS if OVS_SRCDIR not set\n\nif OVS_SRCDIR isn't set, don't set PATH and try searching for the\nschema files in /usr/share/openvswitch and\n/usr/local/share/openvswitch.\n\nChange-Id: Ie47e8eff54cf6fe6f83f5da00857267325b104b0\n""}]",1,503858,e6aee4f31e677c118d23d3a5cf2b5913d948bfe8,9,3,2,5756,,,0,"Allow use of installed OVS if OVS_SRCDIR not set

if OVS_SRCDIR isn't set, don't set PATH and try searching for the
schema files in /usr/share/openvswitch and
/usr/local/share/openvswitch.

Change-Id: Ie47e8eff54cf6fe6f83f5da00857267325b104b0
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/58/503858/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/venv.py'],1,448beb9c6660c9b47318ca5edb268a798af2df15,allow_installed_ovs," self.env = {'OVS_RUNDIR': self.venv, 'OVS_LOGDIR': self.venv, 'OVS_DBDIR': self.venv, 'OVS_SYSCONFDIR': self.venv} if ovsdir: self.ovsdir = ovsdir self.env['PATH'] = (self.PATH_VAR_TEMPLATE.format(self.ovsdir) + "":%s"" % os.getenv('PATH')) else: self.ovsdir = os.path.join('usr', 'local', 'share', 'openvswitch') if not os.path.isdir(self.ovsdir): self.ovsdir = os.path.join('usr', 'share', 'openvswitch') if not os.path.isdir(self.ovsdir): raise Exception(""%s is not a directory"" % ovsdir)"," if not os.path.isdir(ovsdir): raise Exception(""%s is not a directory"" % ovsdir) self.ovsdir = ovsdir self.env = {'OVS_RUNDIR': self.venv, 'OVS_LOGDIR': self.venv, 'OVS_DBDIR': self.venv, 'OVS_SYSCONFDIR': self.venv, 'PATH': self.PATH_VAR_TEMPLATE.format( self.ovsdir) + "":%s"" % os.getenv('PATH')}",12,7
openstack%2Fopenstack-ansible-os_designate~master~I75a36d723e2f9dec40319b649c6d97bcefc4cfdf,openstack/openstack-ansible-os_designate,master,I75a36d723e2f9dec40319b649c6d97bcefc4cfdf,Updated from global requirements,MERGED,2017-09-11 21:44:40.000000000,2017-09-14 15:33:13.000000000,2017-09-14 15:33:13.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-09-11 21:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/c3ddc8202fefeae5e9573ac6142f0caa62160143', 'message': 'Updated from global requirements\n\nChange-Id: I75a36d723e2f9dec40319b649c6d97bcefc4cfdf\n'}, {'number': 2, 'created': '2017-09-12 20:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/73d8139a2262bc5d9cb29e323eaad10c571a3d53', 'message': 'Updated from global requirements\n\nChange-Id: I75a36d723e2f9dec40319b649c6d97bcefc4cfdf\n'}, {'number': 3, 'created': '2017-09-13 12:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/07b7666b9c1d741fad9a1c314de27f918b008f1f', 'message': 'Updated from global requirements\n\nChange-Id: I75a36d723e2f9dec40319b649c6d97bcefc4cfdf\n'}, {'number': 4, 'created': '2017-09-14 00:04:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/290715a0f01fb210f2a4d0017fb74ef56bcf0672', 'message': 'Updated from global requirements\n\nChange-Id: I75a36d723e2f9dec40319b649c6d97bcefc4cfdf\n'}]",0,502803,290715a0f01fb210f2a4d0017fb74ef56bcf0672,16,3,4,11131,,,0,"Updated from global requirements

Change-Id: I75a36d723e2f9dec40319b649c6d97bcefc4cfdf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/03/502803/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c3ddc8202fefeae5e9573ac6142f0caa62160143,openstack/requirements,bashate>=0.5.1 # Apache-2.0pyOpenSSL>=16.2.0 # Apache-2.0,bashate>=0.2 # Apache-2.0pyOpenSSL>=0.14 # Apache-2.0,2,2
openstack%2Fnova-powervm~master~I98d2030d20ca91a2b06b7d524432e66bdcd8c24f,openstack/nova-powervm,master,I98d2030d20ca91a2b06b7d524432e66bdcd8c24f,WIP: Convert image snapshot to use dac_admin.openfile,ABANDONED,2017-09-13 21:13:18.000000000,2017-09-14 15:30:32.000000000,,"[{'_account_id': 3}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-09-13 21:13:18.000000000', 'files': ['nova_powervm/virt/powervm/image.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/26c9cfb93fd3446365c637888a864aa3045d19a7', 'message': 'WIP: Convert image snapshot to use dac_admin.openfile\n\nExperimental\n\nChange-Id: I98d2030d20ca91a2b06b7d524432e66bdcd8c24f\nDepends-On: Ib6391d2fab866f8723d2cba03cb493769066d2da\n'}]",0,503824,26c9cfb93fd3446365c637888a864aa3045d19a7,4,2,1,14070,,,0,"WIP: Convert image snapshot to use dac_admin.openfile

Experimental

Change-Id: I98d2030d20ca91a2b06b7d524432e66bdcd8c24f
Depends-On: Ib6391d2fab866f8723d2cba03cb493769066d2da
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/24/503824/1 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/image.py'],1,26c9cfb93fd3446365c637888a864aa3045d19a7,snapshot_uses_dac_admin_openfile,"from nova.privsep import dac_admin with dac_admin.openfile(devpath, 'rb') as stream:","from nova import utils # Make the device file owned by the current user for the duration of the # operation. with utils.temporary_chown(devpath), open(devpath, 'rb') as stream:",2,4
openstack%2Fnova-powervm~master~I1b655c013ecb1e41c82ab678a4e625f71931aa1d,openstack/nova-powervm,master,I1b655c013ecb1e41c82ab678a4e625f71931aa1d,WIP: Use dac_admin for temporary chown in snapshot,ABANDONED,2017-09-13 17:18:57.000000000,2017-09-14 15:29:51.000000000,,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-09-13 17:18:57.000000000', 'files': ['nova_powervm/virt/powervm/image.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/9c7e341ad5057e15c0de6f7af3e0f67f98d60b02', 'message': ""WIP: Use dac_admin for temporary chown in snapshot\n\nchown has been removed from rootwrap, and added to privsep.dac_admin.\n\nThere's currently no privsep.dac_admin method that gives us an open()\ncontext manager.\n\nThere's a desire to get rid of nova.utils.temporary_chown.\n\nSo this change set brings the logic of temporary_chown into the\nnova_powervm.virt.powervm.image.stream_blockdev_to_glance method,\ninvoking the chowns via dac_admin.\n\nChange-Id: I1b655c013ecb1e41c82ab678a4e625f71931aa1d\n""}]",0,503756,9c7e341ad5057e15c0de6f7af3e0f67f98d60b02,5,3,1,14070,,,0,"WIP: Use dac_admin for temporary chown in snapshot

chown has been removed from rootwrap, and added to privsep.dac_admin.

There's currently no privsep.dac_admin method that gives us an open()
context manager.

There's a desire to get rid of nova.utils.temporary_chown.

So this change set brings the logic of temporary_chown into the
nova_powervm.virt.powervm.image.stream_blockdev_to_glance method,
invoking the chowns via dac_admin.

Change-Id: I1b655c013ecb1e41c82ab678a4e625f71931aa1d
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/56/503756/1 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/image.py'],1,9c7e341ad5057e15c0de6f7af3e0f67f98d60b02,dac_admin_for_snapshot_2,"import os from nova.privsep import dac_admin owner_uid = os.getuid() orig_uid = os.stat(devpath).st_uid if orig_uid != owner_uid: dac_admin.chown(devpath, uid=owner_uid) try: with open(devpath, 'rb') as stream: # Stream it. This is synchronous. image_api.update(context, image_id, metadata, stream) finally: if orig_uid != owner_uid: dac_admin.chown(devpath, uid=orig_uid)","from nova import utils with utils.temporary_chown(devpath), open(devpath, 'rb') as stream: # Stream it. This is synchronous. image_api.update(context, image_id, metadata, stream)",14,4
openstack%2Fcharm-specs~master~I13ed2940d4c117c83bc9cfc4f8f605d0340c8f26,openstack/charm-specs,master,I13ed2940d4c117c83bc9cfc4f8f605d0340c8f26,Initial approved specifications for Queens,MERGED,2017-09-14 15:16:40.000000000,2017-09-14 15:25:13.000000000,2017-09-14 15:25:13.000000000,"[{'_account_id': 3}, {'_account_id': 8992}]","[{'number': 1, 'created': '2017-09-14 15:16:40.000000000', 'files': ['specs/queens/approved/service-discovery.rst', 'specs/queens/approved/openstack-load-balancer.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/c47b67b11c7aa4aef45ebf5142eac26840054d05', 'message': 'Initial approved specifications for Queens\n\nChange-Id: I13ed2940d4c117c83bc9cfc4f8f605d0340c8f26\n'}]",0,504073,c47b67b11c7aa4aef45ebf5142eac26840054d05,6,2,1,935,,,0,"Initial approved specifications for Queens

Change-Id: I13ed2940d4c117c83bc9cfc4f8f605d0340c8f26
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/73/504073/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/queens/approved/service-discovery.rst', 'specs/queens/approved/openstack-load-balancer.rst']",2,c47b67b11c7aa4aef45ebf5142eac26840054d05,queens-approved,,,0,0
openstack%2Fnova-powervm~master~Icd1b1ca4dbcf32074bd8db88073a0c6d16f108fe,openstack/nova-powervm,master,Icd1b1ca4dbcf32074bd8db88073a0c6d16f108fe,WIP: dac_admin_pctxt to stream block device to glance,ABANDONED,2017-09-12 17:10:17.000000000,2017-09-14 15:24:03.000000000,,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-09-12 17:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/cd761ed8bfc8955cc1b67481a7a6eb6f6713100a', 'message': 'WIP: dac_admin_pctxt to stream block device to glance\n\nUse privsep instead of rootwrap to handle elevating permissions for the\npurposes of streaming the block device to glance during a snapshot\noperation.\n\nChange-Id: Icd1b1ca4dbcf32074bd8db88073a0c6d16f108fe\nWIP: UT, live test\n'}, {'number': 2, 'created': '2017-09-12 19:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/99763db8ada90c800ea1f6f396537562ba0253dc', 'message': 'WIP: dac_admin_pctxt to stream block device to glance\n\nUse privsep instead of rootwrap to handle elevating permissions for the\npurposes of streaming the block device to glance during a snapshot\noperation.\n\nChange-Id: Icd1b1ca4dbcf32074bd8db88073a0c6d16f108fe\nWIP: UT, live test\n'}, {'number': 3, 'created': '2017-09-12 21:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3bc0b4d0b6c20ab71baaf9b50a5220777d7685d3', 'message': 'WIP: dac_admin_pctxt to stream block device to glance\n\nUse privsep instead of rootwrap to handle elevating permissions for the\npurposes of streaming the block device to glance during a snapshot\noperation.\n\nChange-Id: Icd1b1ca4dbcf32074bd8db88073a0c6d16f108fe\nWIP: UT, live test\n'}, {'number': 4, 'created': '2017-09-12 22:42:30.000000000', 'files': ['nova_powervm/virt/powervm/tasks/image.py', 'nova/privsep/__init__.py', 'nova_powervm/virt/powervm/image.py', 'nova/privsep/powervm/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5a7c4a19dcc7b70f25ae4503c932042e9aed2ef8', 'message': 'WIP: dac_admin_pctxt to stream block device to glance\n\nUse privsep instead of rootwrap to handle elevating permissions for the\npurposes of streaming the block device to glance during a snapshot\noperation.\n\nChange-Id: Icd1b1ca4dbcf32074bd8db88073a0c6d16f108fe\nWIP: UT, live test\n'}]",1,503078,5a7c4a19dcc7b70f25ae4503c932042e9aed2ef8,16,5,4,14070,,,0,"WIP: dac_admin_pctxt to stream block device to glance

Use privsep instead of rootwrap to handle elevating permissions for the
purposes of streaming the block device to glance during a snapshot
operation.

Change-Id: Icd1b1ca4dbcf32074bd8db88073a0c6d16f108fe
WIP: UT, live test
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/78/503078/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/privsep/__init__.py', 'nova_powervm/virt/powervm/image.py', 'nova/privsep/powervm.py']",3,cd761ed8bfc8955cc1b67481a7a6eb6f6713100a,dac_admin_for_snapshot,"# Copyright 2017 IBM Corp. # # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" PowerVM-specific routines using dac_admin_pctxt to bypass file system checks. """""" import nova.privsep @nova.privsep.dac_admin_pctxt.entrypoint def stream_blockdev_to_glance(context, image_api, image_id, metadata, devpath): """"""Stream the entire contents of a block device to a glance image. :param context: Nova security context :param image_api: Handle to the glance image API. :param image_id: UUID of the prepared glance image. :param metadata: Dictionary of metadata for the image. :param devpath: String path to device file of block device to be uploaded, e.g. ""/dev/sde"". """""" # Make the device file owned by the current user for the duration of the # operation. with open(devpath, 'rb') as stream: # Stream it. This is synchronous. image_api.update(context, image_id, metadata, stream) ",,56,19
openstack%2Fpython-ironicclient~master~I8a3184bf8e9389267ba8f58c56c77ec4feb58496,openstack/python-ironicclient,master,I8a3184bf8e9389267ba8f58c56c77ec4feb58496,Updated from global requirements,MERGED,2017-09-11 21:29:35.000000000,2017-09-14 15:21:30.000000000,2017-09-14 15:21:30.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-09-11 21:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/38273aa46b381efbfe216e9be504ba8177b50d96', 'message': 'Updated from global requirements\n\nChange-Id: I8a3184bf8e9389267ba8f58c56c77ec4feb58496\n'}, {'number': 2, 'created': '2017-09-11 21:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c19bfa3cccc47da9992efac46029f752a71dae7d', 'message': 'Updated from global requirements\n\nChange-Id: I8a3184bf8e9389267ba8f58c56c77ec4feb58496\n'}, {'number': 3, 'created': '2017-09-13 00:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0534e8a7b2652cd15f04966f074bcfb4b1b72324', 'message': 'Updated from global requirements\n\nChange-Id: I8a3184bf8e9389267ba8f58c56c77ec4feb58496\n'}, {'number': 4, 'created': '2017-09-13 13:02:10.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/23b2bf9451443d9c3b4e57d77cbd16e0a615d83a', 'message': 'Updated from global requirements\n\nChange-Id: I8a3184bf8e9389267ba8f58c56c77ec4feb58496\n'}]",0,502737,23b2bf9451443d9c3b4e57d77cbd16e0a615d83a,15,3,4,11131,,,0,"Updated from global requirements

Change-Id: I8a3184bf8e9389267ba8f58c56c77ec4feb58496
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/37/502737/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,38273aa46b381efbfe216e9be504ba8177b50d96,openstack/requirements,os-testr>=0.8.2 # Apache-2.0,os-testr>=0.8.0 # Apache-2.0,5,5
openstack%2Fpython-barbicanclient~stable%2Focata~I6c938f369784725b6f9194d72271dde74828fccc,openstack/python-barbicanclient,stable/ocata,I6c938f369784725b6f9194d72271dde74828fccc,Updated from global requirements,ABANDONED,2017-03-09 18:22:26.000000000,2017-09-14 15:21:08.000000000,,"[{'_account_id': 3}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 11561}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-03-09 18:22:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/d09f98732f8f071f27907663824e3f413acfb203', 'message': 'Updated from global requirements\n\nChange-Id: I6c938f369784725b6f9194d72271dde74828fccc\n'}]",0,443870,d09f98732f8f071f27907663824e3f413acfb203,16,5,1,11131,,,0,"Updated from global requirements

Change-Id: I6c938f369784725b6f9194d72271dde74828fccc
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/70/443870/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d09f98732f8f071f27907663824e3f413acfb203,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Fpython-cinderclient~master~I70527b940adb01c74f158253a7ba065a4f143809,openstack/python-cinderclient,master,I70527b940adb01c74f158253a7ba065a4f143809,Remove --omit argument in run_tests.sh,ABANDONED,2017-07-04 06:36:56.000000000,2017-09-14 15:17:51.000000000,,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22255}]","[{'number': 1, 'created': '2017-07-04 06:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/963d6b177686f48bb54e8267d87721cb90e06f7a', 'message': 'Remove --omit argument in run_tests.sh\n\nThe manila/openstack/common directory had been removed. So in\nrun_tests.sh, there is no need to use argument\n""--omit=\'manila/openstack/common\'"".\n\nChange-Id: I70527b940adb01c74f158253a7ba065a4f143809\n'}, {'number': 2, 'created': '2017-09-12 09:38:50.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/843c1dbacd631e49ae02aace85ce036cfcbebe41', 'message': 'Remove --omit argument in run_tests.sh\n\nThe cinder/openstack/common directory had been removed. So in\nrun_tests.sh, there is no need to use argument\n""--omit=\'cinderclient/openstack/common/\'"".\n\nChange-Id: I70527b940adb01c74f158253a7ba065a4f143809\n'}]",1,480033,843c1dbacd631e49ae02aace85ce036cfcbebe41,10,4,2,22255,,,0,"Remove --omit argument in run_tests.sh

The cinder/openstack/common directory had been removed. So in
run_tests.sh, there is no need to use argument
""--omit='cinderclient/openstack/common/'"".

Change-Id: I70527b940adb01c74f158253a7ba065a4f143809
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/33/480033/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,963d6b177686f48bb54e8267d87721cb90e06f7a,remove_omit, ${wrapper} coverage html --include='cinderclient/*' -d covhtml -i, ${wrapper} coverage html --include='cinderclient/*' --omit='cinderclient/openstack/common/*' -d covhtml -i,1,1
openstack%2Freleases~master~If2cc02f8c1080b531b939d0a0b7b0aa0832e93bd,openstack/releases,master,If2cc02f8c1080b531b939d0a0b7b0aa0832e93bd,Release pymod2pkg 0.10.1,MERGED,2017-09-14 10:36:48.000000000,2017-09-14 15:15:39.000000000,2017-09-14 15:15:39.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7102}]","[{'number': 1, 'created': '2017-09-14 10:36:48.000000000', 'files': ['deliverables/_independent/pymod2pkg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ecaa962427306d5baa3a1524e2f60d4526aae8f4', 'message': 'Release pymod2pkg 0.10.1\n\nThis release contains mapping fixes for Fedora/RDO.\n\nChange-Id: If2cc02f8c1080b531b939d0a0b7b0aa0832e93bd\n'}]",0,504024,ecaa962427306d5baa3a1524e2f60d4526aae8f4,7,3,1,7102,,,0,"Release pymod2pkg 0.10.1

This release contains mapping fixes for Fedora/RDO.

Change-Id: If2cc02f8c1080b531b939d0a0b7b0aa0832e93bd
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/504024/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pymod2pkg.yaml'],1,ecaa962427306d5baa3a1524e2f60d4526aae8f4,, - version: 0.10.1 projects: - repo: openstack/pymod2pkg hash: a5858acd900ac765c31d2f060c41afca9df5111e,,4,0
openstack%2Freleases~master~I37b753030e82221621b64328ee16f5c89d7f6533,openstack/releases,master,I37b753030e82221621b64328ee16f5c89d7f6533,Release renderspec 1.7.0,MERGED,2017-09-14 08:16:27.000000000,2017-09-14 15:15:07.000000000,2017-09-14 15:15:07.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7102}]","[{'number': 1, 'created': '2017-09-14 08:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a07c06f37edcc63f6df6e6f9e45168512c9ebd78', 'message': 'Release renderspec 1.6.3\n\nThe release contains functionality to add support for python3 packages.\n\nChange-Id: I37b753030e82221621b64328ee16f5c89d7f6533\n'}, {'number': 2, 'created': '2017-09-14 14:52:37.000000000', 'files': ['deliverables/_independent/renderspec.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/60b8b52c2c0c0494655bf088b58160fbb2f713b7', 'message': 'Release renderspec 1.7.0\n\nThe release contains functionality to add support for python3 packages.\n\nChange-Id: I37b753030e82221621b64328ee16f5c89d7f6533\n'}]",0,503996,60b8b52c2c0c0494655bf088b58160fbb2f713b7,10,3,2,7102,,,0,"Release renderspec 1.7.0

The release contains functionality to add support for python3 packages.

Change-Id: I37b753030e82221621b64328ee16f5c89d7f6533
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/503996/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/renderspec.yaml'],1,a07c06f37edcc63f6df6e6f9e45168512c9ebd78,503996, - version: 1.6.3 projects: - repo: openstack/renderspec hash: 2a0409abd6072aa9fb19869422d43652f4811f2b,,4,0
openstack%2Fneutron~master~I76dc23fb7b96d82b0da50285bd0aac76142e81e5,openstack/neutron,master,I76dc23fb7b96d82b0da50285bd0aac76142e81e5,Switch to Pecan for unit tests,MERGED,2017-08-29 01:19:12.000000000,2017-09-14 15:14:44.000000000,2017-09-14 15:14:44.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 23310}, {'_account_id': 23317}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-08-29 01:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eebefff233c54ad445fc316bc6adf62bd72acff3', 'message': 'dump APIRouter\n\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 2, 'created': '2017-08-29 23:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fea48fdd1ac77424ea7dbb6bebb9d12742e7cc9c', 'message': 'dump APIRouter\n\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 3, 'created': '2017-08-30 21:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9a760ddfcca5b0ab7bc1ab6019f171bc7d11e79', 'message': 'dump APIRouter\n\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 4, 'created': '2017-08-30 23:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83f6b6b6b603b10f1ab3cb56a0afe6ed2bd5abfa', 'message': 'dump APIRouter\n\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 5, 'created': '2017-08-31 02:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5862828e8c7de6679fc8db9bef6935ab05e2417c', 'message': 'dump APIRouter\n\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 6, 'created': '2017-08-31 03:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cde50f87190c9b9bdd44fffa914ee67e4743c2d2', 'message': 'dump APIRouter\n\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 7, 'created': '2017-09-01 00:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29dc89177a8ee4837de576faabe9ace7d9048347', 'message': 'Switch to Pecan for unit tests\n\nThis will drop Pecan in place of the old APIRouter for all\nunit tests now. This will significantly increase the UT coverage\nof pecan. All of the depends-on patches were bugs uncovered as\npart of this work.\n\nDepends-On: I05f4582fb1e8809740d473e24fa54483e040a6c8\nDepends-On: I1568285c28d227bacf038b3667466a20d3947ca9\nDepends-On: I4ff02b9c5c007847edd18ec4ad6794257dd79576\nDepends-On: I3652fbc50ce0c9a7cd1cc193e0933cf0373ecb54\nDepends-On: I6443832357c91fe791853a374cdec11dd1f968ea\nDepends-On: I1afc24b146a8fcc6c8ebae708f32dd7c1795292e\nDepends-On: I5b2f87e7b1eccceedb821506bb2de43b764fde8d\nDepends-On: I9e0d288a42bc63c2927bebe9c581b83e6fbe010b\nDepends-On: I1fb6b471e0e7cbf9b10dd14233931be94af38a41\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 8, 'created': '2017-09-01 00:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0695d76ffca56f77db41952ba4a1b7e7e992083e', 'message': 'Switch to Pecan for unit tests\n\nThis will drop Pecan in place of the old APIRouter for all\nunit tests now. This will significantly increase the UT coverage\nof pecan. All of the depends-on patches were bugs uncovered as\npart of this work.\n\nThe rest of the inline test changes are due to slight plugin loading\ndifferences.\n\nDepends-On: I05f4582fb1e8809740d473e24fa54483e040a6c8\nDepends-On: I1568285c28d227bacf038b3667466a20d3947ca9\nDepends-On: I4ff02b9c5c007847edd18ec4ad6794257dd79576\nDepends-On: I3652fbc50ce0c9a7cd1cc193e0933cf0373ecb54\nDepends-On: I6443832357c91fe791853a374cdec11dd1f968ea\nDepends-On: I1afc24b146a8fcc6c8ebae708f32dd7c1795292e\nDepends-On: I5b2f87e7b1eccceedb821506bb2de43b764fde8d\nDepends-On: I9e0d288a42bc63c2927bebe9c581b83e6fbe010b\nDepends-On: I1fb6b471e0e7cbf9b10dd14233931be94af38a41\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 9, 'created': '2017-09-12 12:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4ae5a83fb2932cae2cc58f40ed1aa746ea8a07d', 'message': 'Switch to Pecan for unit tests\n\nThis will drop Pecan in place of the old APIRouter for all\nunit tests. This will significantly increase the UT coverage\nof pecan and will allow us to drop the old API routing logic\ncompletely.\n\nThe rest of the inline test changes are due to slight plugin loading\ndifferences.\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}, {'number': 10, 'created': '2017-09-13 22:12:39.000000000', 'files': ['neutron/tests/unit/api/v2/test_base.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/plugins/ml2/test_tracked_resources.py', 'neutron/api/v2/router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db1058a499353149a9e57d8c1d7e8e64b30772f9', 'message': 'Switch to Pecan for unit tests\n\nThis will drop Pecan in place of the old APIRouter for all\nunit tests. This will significantly increase the UT coverage\nof pecan and will allow us to drop the old API routing logic\ncompletely.\n\nThe rest of the inline test changes are due to slight plugin loading\ndifferences.\n\nImplements: blueprint wsgi-pecan-switch\nChange-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5\n'}]",1,498642,db1058a499353149a9e57d8c1d7e8e64b30772f9,74,14,10,7787,,,0,"Switch to Pecan for unit tests

This will drop Pecan in place of the old APIRouter for all
unit tests. This will significantly increase the UT coverage
of pecan and will allow us to drop the old API routing logic
completely.

The rest of the inline test changes are due to slight plugin loading
differences.

Implements: blueprint wsgi-pecan-switch
Change-Id: I76dc23fb7b96d82b0da50285bd0aac76142e81e5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/498642/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/v2/router.py'],1,eebefff233c54ad445fc316bc6adf62bd72acff3,bp/wsgi-pecan-switch,"def APIRouter(**local_config): return pecan_app.v2_factory(None, **local_config) APIRouter.factory = lambda g, **l: pecan_app.v2_factory(g, **l) class _APIRouter(base_wsgi.Router):",class APIRouter(base_wsgi.Router):,8,1
openstack%2Fproject-config~master~Ifdeee3250216c74f920e3f0e26a19ce47f7715cc,openstack/project-config,master,Ifdeee3250216c74f920e3f0e26a19ce47f7715cc,Add a list of suffixes to strip from jobs,MERGED,2017-09-13 18:05:09.000000000,2017-09-14 15:11:36.000000000,2017-09-14 15:11:36.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-13 18:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bad14f3700a4714b4e211c861724fe455377cc13', 'message': 'Add a list of suffixes to strip from jobs\n\nChange-Id: Ifdeee3250216c74f920e3f0e26a19ce47f7715cc\n'}, {'number': 2, 'created': '2017-09-13 18:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e5a38bec9fac83c481c07dbcaf1695cfa313d1c6', 'message': 'Add a list of suffixes to strip from jobs\n\nChange-Id: Ifdeee3250216c74f920e3f0e26a19ce47f7715cc\n'}, {'number': 3, 'created': '2017-09-13 23:29:03.000000000', 'files': ['zuul/mapping.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ddc4855ae3c1b3d457b6fe4389846ad81a318dd9', 'message': 'Add a list of suffixes to strip from jobs\n\nChange-Id: Ifdeee3250216c74f920e3f0e26a19ce47f7715cc\n'}]",0,503767,ddc4855ae3c1b3d457b6fe4389846ad81a318dd9,23,4,3,2,,,0,"Add a list of suffixes to strip from jobs

Change-Id: Ifdeee3250216c74f920e3f0e26a19ce47f7715cc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/67/503767/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/mapping.yaml'],1,bad14f3700a4714b4e211c861724fe455377cc13,zuulv3, # Suffixes to strip from the final new name from the old ones strip_suffixes: - nv,,4,0
openstack%2Fos-vif~master~Idb206576570f04a6403b933b83eebf9b0f06a91a,openstack/os-vif,master,Idb206576570f04a6403b933b83eebf9b0f06a91a,Add ``HostPortProfileInfo`` class,MERGED,2017-03-04 10:15:58.000000000,2017-09-14 15:08:33.000000000,2017-09-14 15:08:33.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 3217}, {'_account_id': 7730}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 15334}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-03-04 10:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/30c5ebe4f137cf36cccdbaa6cda538d2dc5900d3', 'message': 'add host port profile info class\n\n- This change introduces a new HostPortProfileInfo\n  class to model the support port profile of each\n  os-vif vif object.\n- This change splits oslo version object version\n  tests into a common test moodule.\n\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 2, 'created': '2017-07-10 15:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/735fdc91edbae37f9262e401f3509d8243bd0bba', 'message': 'add host port profile info class\n\n- This change introduces a new HostPortProfileInfo\n  class to model the supported port profiles of each\n  os-vif vif object.\n- This change splits oslo version object version\n  tests into a common test moodule.\n\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 3, 'created': '2017-08-01 17:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a91ae5c12a4b6dd40bb2114ef814a60c2dcacbee', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 4, 'created': '2017-08-11 16:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/0c2857eacae1e19d8f4a9a60327c011b541e3963', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 5, 'created': '2017-08-16 12:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e5119a45a88bf4af7c345f89b06a3335c9365bea', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 6, 'created': '2017-08-18 08:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/693d274a6bb6310bbe1e166239ac6dc0bdaf7750', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 7, 'created': '2017-08-18 09:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b7b46d09d90544d44e5f84bd44d2d11448ab1aaa', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 8, 'created': '2017-09-05 09:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c36d496d6dded2dcf140cd52e3868bf0b2f4fb67', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nNova will retrieve the host plugin information in ``HostInfo``\nand will populate to Neutron when binding a new port. Neutron, with\nthe list of supported VIF types along with the port info per plugin,\nwill bind the port and return to Nova the corresponding os-vif VIF\nobject.\n\nblueprint vif-port-profile\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 9, 'created': '2017-09-06 10:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a83635f0837e961c97dc365b51be7a57d29db6f8', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nNova will retrieve the host plugin information in ``HostInfo``\nand will populate to Neutron when binding a new port. Neutron, with\nthe list of supported VIF types along with the port info per plugin,\nwill bind the port and return to Nova the corresponding os-vif VIF\nobject.\n\nblueprint vif-port-profile\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 10, 'created': '2017-09-13 14:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/38a63801e2f66a13df3415f3fd26e188b9ea77f8', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nNova will retrieve the host plugin information in ``HostInfo``\nand will populate to Neutron when binding a new port. Neutron, with\nthe list of supported VIF types along with the port info per plugin,\nwill bind the port and return to Nova the corresponding os-vif VIF\nobject.\n\nblueprint vif-port-profile\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}, {'number': 11, 'created': '2017-09-13 16:02:26.000000000', 'files': ['os_vif/exception.py', 'os_vif/objects/host_info.py', 'os_vif/tests/unit/test_vif.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e797ffd187f57a10076f17e519109adabf751908', 'message': 'Add ``HostPortProfileInfo`` class\n\nThis change introduces a new ``HostPortProfileInfo``\nclass to model the supported port profiles of each os-vif\nVIF object.\n\nNova will retrieve the host plugin information in ``HostInfo``\nand will populate to Neutron when binding a new port. Neutron, with\nthe list of supported VIF types along with the port info per plugin,\nwill bind the port and return to Nova the corresponding os-vif VIF\nobject.\n\nblueprint vif-port-profile\nChange-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a\n'}]",29,441590,e797ffd187f57a10076f17e519109adabf751908,66,9,11,11604,,,0,"Add ``HostPortProfileInfo`` class

This change introduces a new ``HostPortProfileInfo``
class to model the supported port profiles of each os-vif
VIF object.

Nova will retrieve the host plugin information in ``HostInfo``
and will populate to Neutron when binding a new port. Neutron, with
the list of supported VIF types along with the port info per plugin,
will bind the port and return to Nova the corresponding os-vif VIF
object.

blueprint vif-port-profile
Change-Id: Idb206576570f04a6403b933b83eebf9b0f06a91a
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/90/441590/6 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/exception.py', 'os_vif/tests/test_vif.py', 'os_vif/objects/host_info.py', 'os_vif/tests/test_object_versions.py']",4,30c5ebe4f137cf36cccdbaa6cda538d2dc5900d3,bp/vif-port-profile,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_versionedobjects import base as ovo_base from oslo_versionedobjects import fixture import os_vif from os_vif import objects from os_vif.tests import base object_data = { 'HostInfo': '1.0-4dba5ce236ea2dc559de8764995dd247', 'HostPluginInfo': '1.1-5204e579864981c9891ecb5d1c9329f2', 'HostVIFInfo': '1.1-f2d66ca23f5c8e21e71732e198c5dbc6', 'HostPortProfileInfo': '1.0-006b67c0a55d29053ca8e1a6ae376679', 'FixedIP': '1.0-d1a0ec7e7b6ce021a784c54d44cce009', 'FixedIPList': '1.0-15ecf022a68ddbb8c2a6739cfc9f8f5e', 'InstanceInfo': '1.0-84104d3435046b1a282ac8265ec2a976', 'Network': '1.1-27a8a3e236d1d239121668a590130154', 'Route': '1.0-5ca049cb82c4d4ec5edb1b839c1429c7', 'RouteList': '1.0-15ecf022a68ddbb8c2a6739cfc9f8f5e', 'Subnet': '1.0-6a8c192ef7492120d1a5e0fd08e44272', 'SubnetList': '1.0-15ecf022a68ddbb8c2a6739cfc9f8f5e', 'VIFBase': '1.0-4a5a8881dc999752cb050dd443458b6a', 'VIFBridge': '1.0-e78d355f3505361fafbf0797ffad484a', 'VIFDirect': '1.0-05c939280f4025fd1f7efb921a835c57', 'VIFGeneric': '1.0-c72e637ed620f0135ea50a9409a3f389', 'VIFHostDevice': '1.0-b3516f5af46ecb9432650e4938ac2643', 'VIFOpenVSwitch': '1.0-e78d355f3505361fafbf0797ffad484a', 'VIFPortProfile8021Qbg': '1.0-167f305f6e982b9368cc38763815d429', 'VIFPortProfile8021Qbh': '1.0-4b945f07d2666ab00a48d1dc225669b1', 'VIFPortProfileBase': '1.0-77509ea1ea0dd750d5864b9bd87d3f9d', 'VIFPortProfileOpenVSwitch': '1.0-533126c2a16b1a40ddf38c33e7b1f1c5', 'VIFPortProfileFPOpenVSwitch': '1.0-9fc1799cb0adcd469481653b0420dc5e', 'VIFPortProfileFPBridge': '1.0-d50872b3cddd245ffebef6053dfbe27a', 'VIFPortProfileFPTap': '1.0-11670d8dbabd772ff0da26961adadc5a', 'VIFVHostUser': '1.1-1f95b43be1f884f090ca1f4d79adfd35', } class TestObjectVersions(base.TestCase): def setUp(self): super(TestObjectVersions, self).setUp() os_vif.objects.register_all() def test_versions(self): checker = fixture.ObjectVersionChecker( ovo_base.VersionedObjectRegistry.obj_classes()) expected, actual = checker.test_hashes(object_data) self.assertEqual(expected, actual, 'Some objects have changed; please make sure the ' 'versions have been bumped, and then update their ' 'hashes here.') def test_vif_vhost_user_obj_make_compatible(self): vif = objects.vif.VIFVHostUser( path=""/some/socket.path"", mode=objects.fields.VIFVHostUserMode.CLIENT, vif_name=""vhu123"") primitive = vif.obj_to_primitive()['versioned_object.data'] self.assertIn('vif_name', primitive) vif.obj_make_compatible(primitive, '1.0') self.assertNotIn('vif_name', primitive) def test_host_port_profile_info_obj_make_compatible(self): vif_info = objects.host_info.HostVIFInfo( vif_object_name=""VIFOpenVSwitch"", min_version=""1.0"", max_version=""2.0"", port_profile_info=[objects.host_info.HostPortProfileInfo( port_profile_name=""test_profile"", min_version=""1.0"", max_version=""2.0"")]) primitive = vif_info.obj_to_primitive()['versioned_object.data'] self.assertIn('port_profile_info', primitive) vif_info.obj_make_compatible(primitive, '1.0') self.assertNotIn('port_profile_info', primitive) ",,171,60
openstack%2Fcinder~master~If15023b4ff9254fa6a7efa37dd132d883570faa0,openstack/cinder,master,If15023b4ff9254fa6a7efa37dd132d883570faa0,docs: link to the api-ref for 3.27/3.44 for the version history,MERGED,2017-09-12 17:02:49.000000000,2017-09-14 15:05:59.000000000,2017-09-13 23:57:34.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9562}, {'_account_id': 11904}, {'_account_id': 17565}, {'_account_id': 23083}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-09-12 17:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/219d401fe8a199c48cf6f59b32760295ef46a7b6', 'message': ""docs: link to the api-ref for 3.27/3.44 for the version history\n\nThe REST API version history should ideally have some detailed\nexplanation of the changes introduced in that microversion. Barring\nthat, at least link to the API reference (if it exists) so client\nside users have a breadcrumb trail to figure out what that microversion\nintroduces. That's what I'm doing here.\n\nChange-Id: If15023b4ff9254fa6a7efa37dd132d883570faa0\nCloses-Bug: #1716705\n""}, {'number': 2, 'created': '2017-09-12 17:46:26.000000000', 'files': ['cinder/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8ba8af6e22698addfa8ab039563ac5077a865f8', 'message': ""docs: link to the api-ref for 3.27/3.44 for the version history\n\nThe REST API version history should ideally have some detailed\nexplanation of the changes introduced in that microversion. Barring\nthat, at least link to the API reference (if it exists) so client\nside users have a breadcrumb trail to figure out what that microversion\nintroduces. That's what I'm doing here.\n\nChange-Id: If15023b4ff9254fa6a7efa37dd132d883570faa0\nCloses-Bug: #1716705\n""}]",2,503075,d8ba8af6e22698addfa8ab039563ac5077a865f8,34,7,2,6873,,,0,"docs: link to the api-ref for 3.27/3.44 for the version history

The REST API version history should ideally have some detailed
explanation of the changes introduced in that microversion. Barring
that, at least link to the API reference (if it exists) so client
side users have a breadcrumb trail to figure out what that microversion
introduces. That's what I'm doing here.

Change-Id: If15023b4ff9254fa6a7efa37dd132d883570faa0
Closes-Bug: #1716705
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/503075/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/openstack/rest_api_version_history.rst'],1,219d401fe8a199c48cf6f59b32760295ef46a7b6,bug/1716705, Added new attachment APIs. See the `API reference <https://developer.openstack.org/api-ref/block-storage/v3/index.html#attachments>`_ for details. Support attachment completion. See the `API reference <https://developer.openstack.org/api-ref/block-storage/v3/index.html#complete-attachment>`_ for details., Added new attachment APIs Support attachment completion.,6,2
openstack%2Fcharm-openstack-dashboard~master~I6358e2bffd46a43b8cd7dbf72a803a18237fca6c,openstack/charm-openstack-dashboard,master,I6358e2bffd46a43b8cd7dbf72a803a18237fca6c,change assert(Not)Equals to assert(Not)Equal,MERGED,2017-09-13 11:57:57.000000000,2017-09-14 15:02:04.000000000,2017-09-14 15:02:04.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-09-13 11:57:57.000000000', 'files': ['unit_tests/test_horizon_contexts.py', 'unit_tests/test_horizon_utils.py', 'unit_tests/test_horizon_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f2ba9c30f314b201bc52f948c2d28051a989236a', 'message': 'change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: I6358e2bffd46a43b8cd7dbf72a803a18237fca6c\nCloses-Bug: #1329757\n'}]",0,503605,f2ba9c30f314b201bc52f948c2d28051a989236a,7,3,1,26617,,,0,"change assert(Not)Equals to assert(Not)Equal

According to http://docs.python.org/2/library/unittest.html
assert(Not)Equals is a deprecated alias of assert(Not)Equal.

Change-Id: I6358e2bffd46a43b8cd7dbf72a803a18237fca6c
Closes-Bug: #1329757
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/05/503605/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_horizon_contexts.py', 'unit_tests/test_horizon_utils.py', 'unit_tests/test_horizon_hooks.py']",3,f2ba9c30f314b201bc52f948c2d28051a989236a,1329757," self.assertEqual(ex, _service.call_args_list)"," self.assertEquals(ex, _service.call_args_list)",227,227
openstack%2Fopenstack-ansible-os_keystone~master~Ieae7d4ffd16dfd201c7baed92759267bb433dee5,openstack/openstack-ansible-os_keystone,master,Ieae7d4ffd16dfd201c7baed92759267bb433dee5,Pin keystone prior to v2 API removal,ABANDONED,2017-09-13 20:33:12.000000000,2017-09-14 14:46:29.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-09-13 20:33:12.000000000', 'files': ['tests/os_keystone-overrides.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9a40f252921ec84e15a6df9c64388a7bdedcc2f3', 'message': 'Pin keystone prior to v2 API removal\n\nThis patch pins keystone to a SHA prior to the removal of the v2\nidentity API endpoints. This pin should be removed when v2 tempest\ntests are no longer running.\n\nRelated-Bug: 1717011\nChange-Id: Ieae7d4ffd16dfd201c7baed92759267bb433dee5\n'}]",0,503805,9a40f252921ec84e15a6df9c64388a7bdedcc2f3,3,1,1,538,,,0,"Pin keystone prior to v2 API removal

This patch pins keystone to a SHA prior to the removal of the v2
identity API endpoints. This pin should be removed when v2 tempest
tests are no longer running.

Related-Bug: 1717011
Change-Id: Ieae7d4ffd16dfd201c7baed92759267bb433dee5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/05/503805/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/os_keystone-overrides.yml'],1,9a40f252921ec84e15a6df9c64388a7bdedcc2f3,bug/1717011,# NOTE(mhayden): Pin keystone to a commit prior to the removal of v2 # API endpoints. This can be removed when bug 1717011 is fixed and # v2 tempest tests are excluded. keystone_git_install_branch: 02dce056784cbf4b54d9d66e6d8451868e939a0a ,,5,0
openstack%2Fmanila~master~Ife2d2b366f3f8b2bff8f9dda0f972858e1505a21,openstack/manila,master,Ife2d2b366f3f8b2bff8f9dda0f972858e1505a21,[install-guide] remove install-guide doc,MERGED,2017-09-13 06:49:39.000000000,2017-09-14 14:46:18.000000000,2017-09-14 05:07:10.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-09-13 06:49:39.000000000', 'files': ['install-guide/source/common/dhss-true-mode-intro.rst', 'install-guide/source/install-controller-rdo.rst', 'install-guide/source/common/controller-node-common-configuration.rst', 'install-guide/source/conf.py', 'install-guide/source/install-share-ubuntu.rst', 'install-guide/source/install-share-node.rst', 'install-guide/source/install-share-debian.rst', 'install-guide/source/common/share-node-common-configuration.rst', 'install-guide/source/common/dhss-false-mode-intro.rst', 'install-guide/source/post-install.rst', 'install-guide/source/install-controller-node.rst', 'install-guide/source/next-steps.rst', 'install-guide/source/verify.rst', 'install-guide/source/common/dhss-true-mode-using-shared-file-systems.rst', 'install-guide/source/install-share-obs.rst', 'install-guide/source/common/dhss-true-mode-configuration.rst', 'install-guide/source/get-started-with-shared-file-systems.rst', 'install-guide/source/common/dhss-false-mode-configuration.rst', 'install-guide/source/install-controller-ubuntu.rst', 'install-guide/source/figures/hwreqs.svg', 'install-guide/source/common/share-node-share-server-modes.rst', 'install-guide/source/figures/hwreqs.graffle', 'install-guide/source/index.rst', 'install-guide/source/common/dhss-false-mode-using-shared-file-systems.rst', 'install-guide/source/install-controller-debian.rst', 'install-guide/source/common/controller-node-prerequisites.rst', 'install-guide/source/figures/hwreqs.png', 'install-guide/source/install-controller-obs.rst', 'tox.ini', 'install-guide/source/install-share-rdo.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/e631ccfa81a4a68261cc386e2b7f7aed439e92dd', 'message': '[install-guide] remove install-guide doc\n\n1. manila/install-guide is completely the same doc as the one in\n   the directory of manila/doc/source/install, this change is to\n   remove manila/install-guide because I think this is unnecessary\n   and also let us maintenance a copy of install-guide doc.\n2. remove install-guide in tox.ini file, cause build doc will generate\n   install-guide doc.\n\nChange-Id: Ife2d2b366f3f8b2bff8f9dda0f972858e1505a21\n'}]",0,503541,e631ccfa81a4a68261cc386e2b7f7aed439e92dd,14,6,1,25456,,,0,"[install-guide] remove install-guide doc

1. manila/install-guide is completely the same doc as the one in
   the directory of manila/doc/source/install, this change is to
   remove manila/install-guide because I think this is unnecessary
   and also let us maintenance a copy of install-guide doc.
2. remove install-guide in tox.ini file, cause build doc will generate
   install-guide doc.

Change-Id: Ife2d2b366f3f8b2bff8f9dda0f972858e1505a21
",git fetch https://review.opendev.org/openstack/manila refs/changes/41/503541/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-guide/source/common/dhss-true-mode-intro.rst', 'install-guide/source/install-controller-rdo.rst', 'install-guide/source/common/controller-node-common-configuration.rst', 'install-guide/source/conf.py', 'install-guide/source/install-share-ubuntu.rst', 'install-guide/source/install-share-node.rst', 'install-guide/source/install-share-debian.rst', 'install-guide/source/common/share-node-common-configuration.rst', 'install-guide/source/common/dhss-false-mode-intro.rst', 'install-guide/source/post-install.rst', 'install-guide/source/install-controller-node.rst', 'install-guide/source/next-steps.rst', 'install-guide/source/verify.rst', 'install-guide/source/common/dhss-true-mode-using-shared-file-systems.rst', 'install-guide/source/install-share-obs.rst', 'install-guide/source/common/dhss-true-mode-configuration.rst', 'install-guide/source/get-started-with-shared-file-systems.rst', 'install-guide/source/common/dhss-false-mode-configuration.rst', 'install-guide/source/install-controller-ubuntu.rst', 'install-guide/source/figures/hwreqs.svg', 'install-guide/source/common/share-node-share-server-modes.rst', 'install-guide/source/figures/hwreqs.graffle', 'install-guide/source/index.rst', 'install-guide/source/common/dhss-false-mode-using-shared-file-systems.rst', 'install-guide/source/install-controller-debian.rst', 'install-guide/source/common/controller-node-prerequisites.rst', 'install-guide/source/figures/hwreqs.png', 'install-guide/source/install-controller-obs.rst', 'tox.ini', 'install-guide/source/install-share-rdo.rst']",30,e631ccfa81a4a68261cc386e2b7f7aed439e92dd,remove-install-doc,,".. _share-node-install-rdo: Install and configure a share node running Red Hat Enterprise Linux and CentOS ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This section describes how to install and configure a share node for the Shared File Systems service. For simplicity, this configuration references one storage node with the generic driver managing the share servers. The generic backend manages share servers using compute, networking and block services for provisioning shares. Note that installation and configuration vary by distribution. This section describes the instructions for a share node running Red Hat Enterprise Linux or CentOS. Install and configure components -------------------------------- #. Install the packages: .. code-block:: console # yum install openstack-manila-share python2-PyMySQL #. Edit the ``/etc/manila/manila.conf`` file and complete the following actions: * In the ``[database]`` section, configure database access: .. code-block:: ini [database] ... connection = mysql://manila:MANILA_DBPASS@controller/manila Replace ``MANILA_DBPASS`` with the password you chose for the Shared File Systems database. .. include:: common/share-node-common-configuration.rst Two driver modes ---------------- .. include:: common/share-node-share-server-modes.rst Choose one of the following options to configure the share driver: .. include:: common/dhss-false-mode-intro.rst Prerequisites ------------- .. note:: Perform these steps on the storage node. #. Install the supporting utility packages: * Install LVM and NFS server packages: .. code-block:: console # yum install lvm2 nfs-utils nfs4-acl-tools portmap * Start the LVM metadata service and configure it to start when the system boots: .. code-block:: console # systemctl enable lvm2-lvmetad.service # systemctl start lvm2-lvmetad.service .. include:: common/dhss-false-mode-configuration.rst .. include:: common/dhss-true-mode-intro.rst Prerequisites ------------- Before you proceed, verify operation of the Compute, Networking, and Block Storage services. This options requires implementation of Networking option 2 and requires installation of some Networking service components on the storage node. * Install the Networking service components: .. code-block:: console # yum install openstack-neutron openstack-neutron-linuxbridge ebtables .. include:: common/dhss-true-mode-configuration.rst Finalize installation --------------------- #. Prepare manila-share as start/stop service. Start the Shared File Systems service including its dependencies and configure them to start when the system boots: .. code-block:: console # systemctl enable openstack-manila-share.service target.service # systemctl start openstack-manila-share.service target.service ",0,2245
openstack%2Fpython-barbicanclient~master~Ief99ece48a60995aed63d96779cb7376ae11b676,openstack/python-barbicanclient,master,Ief99ece48a60995aed63d96779cb7376ae11b676,Updated from global requirements,MERGED,2017-09-13 13:01:34.000000000,2017-09-14 14:38:24.000000000,2017-09-14 14:38:24.000000000,"[{'_account_id': 3}, {'_account_id': 11561}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-09-13 13:01:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/2255ac8948b52713ef81cb1fab72b55d96a0f976', 'message': 'Updated from global requirements\n\nChange-Id: Ief99ece48a60995aed63d96779cb7376ae11b676\n'}]",0,503664,2255ac8948b52713ef81cb1fab72b55d96a0f976,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ief99ece48a60995aed63d96779cb7376ae11b676
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/64/503664/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2255ac8948b52713ef81cb1fab72b55d96a0f976,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fpython-openstackclient~master~Ia53548e08aec0afa8750cbacce353514fa2fe4ed,openstack/python-openstackclient,master,Ia53548e08aec0afa8750cbacce353514fa2fe4ed,Fixes osc port set allowed-address for ports without previous set allowed address,ABANDONED,2017-05-01 11:32:30.000000000,2017-09-14 14:29:05.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8276}, {'_account_id': 17664}, {'_account_id': 17748}, {'_account_id': 25640}]","[{'number': 1, 'created': '2017-05-01 11:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dff00a1814bbd952896849d6c4780ab45ea1fbbb', 'message': 'Fixes osc port set allowed-address for ports without previous set allowed address\n\nCurrent implementation does not work for ports that do not have an allowed address at creation time.\nThis fix makes sure you can add a port to allowed address when it is not set yet.\n\nChange-Id: Ia53548e08aec0afa8750cbacce353514fa2fe4ed\n'}, {'number': 2, 'created': '2017-05-01 16:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c98751cf1507b3d95e98973d2f17fbf800a4cb12', 'message': 'Fixes osc port set allowed-address for ports without previous set allowed address\n\nCurrent implementation does not work for ports that do not have an allowed address at creation time.\nThis fix makes sure you can add a port to allowed address when it is not set yet.\nAlso fixes the unit test so it does not create the empty dict\n\nCloses-Bug: 1687377\n\nChange-Id: Ia53548e08aec0afa8750cbacce353514fa2fe4ed\n'}, {'number': 3, 'created': '2017-05-02 05:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb24a0c054a98ba1f8465679a38274bc498cad24', 'message': 'Fixes osc port set allowed-address for ports without previous set allowed address\n\nCurrent implementation does not work for ports that do not have an allowed address at creation time.\nThis fix makes sure you can add a port to allowed address when it is not set yet.\n\nCloses-Bug: 1687377\n\nChange-Id: Ia53548e08aec0afa8750cbacce353514fa2fe4ed\n'}, {'number': 4, 'created': '2017-05-04 08:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8080677e229b168266d3de9d2e4a4472aec7ffa5', 'message': 'Fixes osc port set allowed-address for ports without previous set allowed address\n\nCurrent implementation does not work for ports that do not have an allowed address at creation time.\nThis fix makes sure you can add a port to allowed address when it is not set yet.\n\nCloses-Bug: 1687377\n\nChange-Id: Ia53548e08aec0afa8750cbacce353514fa2fe4ed\n'}, {'number': 5, 'created': '2017-05-11 18:16:28.000000000', 'files': ['releasenotes/notes/bug-1687377-bc2ca269bd9cb1ef.yaml', 'openstackclient/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3d7db21a870d0c59770b6b1017723281ac4fe11e', 'message': 'Fixes osc port set allowed-address for ports without previous set allowed address\n\nCurrent implementation does not work for ports that do not have an allowed address at creation time.\nThis fix makes sure you can add a port to allowed address when it is not set yet.\n\nCloses-Bug: 1687377\n\nChange-Id: Ia53548e08aec0afa8750cbacce353514fa2fe4ed\n'}]",3,461364,3d7db21a870d0c59770b6b1017723281ac4fe11e,36,8,5,17664,,,0,"Fixes osc port set allowed-address for ports without previous set allowed address

Current implementation does not work for ports that do not have an allowed address at creation time.
This fix makes sure you can add a port to allowed address when it is not set yet.

Closes-Bug: 1687377

Change-Id: Ia53548e08aec0afa8750cbacce353514fa2fe4ed
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/64/461364/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/port.py'],1,dff00a1814bbd952896849d6c4780ab45ea1fbbb,bug/1687377, if (obj.allowed_address_pairs and not parsed_args.no_allowed_address_pair): else: attrs['allowed_address_pairs'] = [], if 'allowed_address_pairs' not in attrs:,4,1
openstack%2Fopenstack-ansible-os_zaqar~master~I80a2699e2bd0e9e3d5db93e7697de50b6b4dbc53,openstack/openstack-ansible-os_zaqar,master,I80a2699e2bd0e9e3d5db93e7697de50b6b4dbc53,Updated from global requirements,MERGED,2017-09-13 12:59:25.000000000,2017-09-14 14:25:38.000000000,2017-09-14 14:25:38.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-13 12:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/d2e22ab0c43d0f6ecbe66e64d678577e514b85e6', 'message': 'Updated from global requirements\n\nChange-Id: I80a2699e2bd0e9e3d5db93e7697de50b6b4dbc53\n'}, {'number': 2, 'created': '2017-09-14 00:05:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/a127ff5fdcd7e2525880a366bad8513de2e5da48', 'message': 'Updated from global requirements\n\nChange-Id: I80a2699e2bd0e9e3d5db93e7697de50b6b4dbc53\n'}]",0,503641,a127ff5fdcd7e2525880a366bad8513de2e5da48,12,4,2,11131,,,0,"Updated from global requirements

Change-Id: I80a2699e2bd0e9e3d5db93e7697de50b6b4dbc53
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/41/503641/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d2e22ab0c43d0f6ecbe66e64d678577e514b85e6,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fneutron-fwaas-dashboard~master~I3cd0fd9bd3fe9dde27db215565b334e3b33ffb2a,openstack/neutron-fwaas-dashboard,master,I3cd0fd9bd3fe9dde27db215565b334e3b33ffb2a,FWaaS v1 dashboard: Clean up admin_state logic,MERGED,2017-09-05 12:42:13.000000000,2017-09-14 14:19:18.000000000,2017-09-14 14:19:18.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 13702}, {'_account_id': 20686}]","[{'number': 1, 'created': '2017-09-05 12:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/5469c9a73771fcddf2fa6ab2003446eb0c41c102', 'message': ""FWaaS v1 dashboard: Clean up admin_state logic\n\nNeutronAPIDictWrapper has a logic to regiter 'admin_state' attribute\nif a corresponding resource contains 'admin_state_up' attribute [1].\nThere is no need for a special logic in FWaaS dashboard.\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L69-L73\n\nChange-Id: I3cd0fd9bd3fe9dde27db215565b334e3b33ffb2a\n""}, {'number': 2, 'created': '2017-09-05 12:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/30bfefdd2c4b68d1ece6c8dc22482be19f7cb317', 'message': ""FWaaS v1 dashboard: Clean up admin_state logic\n\nNeutronAPIDictWrapper has a logic to regiter 'admin_state' attribute\nif a corresponding resource contains 'admin_state_up' attribute [1].\nThere is no need for a special logic in FWaaS dashboard.\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L69-L73\n\nChange-Id: I3cd0fd9bd3fe9dde27db215565b334e3b33ffb2a\n""}, {'number': 3, 'created': '2017-09-05 12:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/01e26990450e0f04489e6d222f9e43212f928d32', 'message': ""FWaaS v1 dashboard: Clean up admin_state logic\n\nNeutronAPIDictWrapper has a logic to regiter 'admin_state' attribute\nif a corresponding resource contains 'admin_state_up' attribute [1].\nThere is no need for a special logic in FWaaS dashboard.\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L69-L73\n\nChange-Id: I3cd0fd9bd3fe9dde27db215565b334e3b33ffb2a\n""}, {'number': 4, 'created': '2017-09-14 14:07:25.000000000', 'files': ['neutron_fwaas_dashboard/api/fwaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/68981380085fe0e57da06d139281704960e45d57', 'message': ""FWaaS v1 dashboard: Clean up admin_state logic\n\nNeutronAPIDictWrapper has a logic to regiter 'admin_state' attribute\nif a corresponding resource contains 'admin_state_up' attribute [1].\nThere is no need for a special logic in FWaaS dashboard.\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L69-L73\n\nChange-Id: I3cd0fd9bd3fe9dde27db215565b334e3b33ffb2a\n""}]",0,500805,68981380085fe0e57da06d139281704960e45d57,14,4,4,841,,,0,"FWaaS v1 dashboard: Clean up admin_state logic

NeutronAPIDictWrapper has a logic to regiter 'admin_state' attribute
if a corresponding resource contains 'admin_state_up' attribute [1].
There is no need for a special logic in FWaaS dashboard.

[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L69-L73

Change-Id: I3cd0fd9bd3fe9dde27db215565b334e3b33ffb2a
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/05/500805/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/api/fwaas.py'],1,5469c9a73771fcddf2fa6ab2003446eb0c41c102,fwaas-v1-cleanup,," def __init__(self, apiresource): apiresource['admin_state'] = \ 'UP' if apiresource['admin_state_up'] else 'DOWN' super(Firewall, self).__init__(apiresource) ",0,5
openstack%2Fcharm-heat~master~Ib311e5de005f8601e534da15b5a51af024ba8d60,openstack/charm-heat,master,Ib311e5de005f8601e534da15b5a51af024ba8d60,change assert(Not)Equals to assert(Not)Equal,MERGED,2017-09-13 13:42:38.000000000,2017-09-14 14:04:55.000000000,2017-09-14 14:04:55.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-09-13 13:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/84c9e030993b90782f846cf9c9fd7bdeadb7d21d', 'message': 'change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: Ib311e5de005f8601e534da15b5a51af024ba8d60\nCloses-Bug: #1329757\n'}, {'number': 2, 'created': '2017-09-13 13:46:33.000000000', 'files': ['unit_tests/test_heat_utils.py', 'unit_tests/test_heat_context.py', 'unit_tests/test_heat_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/6cb0ede0862e355166607920361346be9d16f8d9', 'message': 'change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: Ib311e5de005f8601e534da15b5a51af024ba8d60\nCloses-Bug: #1329757\n'}]",0,503683,6cb0ede0862e355166607920361346be9d16f8d9,8,3,2,26617,,,0,"change assert(Not)Equals to assert(Not)Equal

According to http://docs.python.org/2/library/unittest.html
assert(Not)Equals is a deprecated alias of assert(Not)Equal.

Change-Id: Ib311e5de005f8601e534da15b5a51af024ba8d60
Closes-Bug: #1329757
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/83/503683/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_heat_context.py', 'unit_tests/test_heat_relations.py']",2,84c9e030993b90782f846cf9c9fd7bdeadb7d21d,1329757," self.assertEqual([call('/etc/heat/heat.conf')], configs.write.call_args_list) self.assertEqual([call('/etc/heat/heat.conf')], configs.write.call_args_list)"," self.assertEquals([call('/etc/heat/heat.conf')], configs.write.call_args_list) self.assertEquals([call('/etc/heat/heat.conf')], configs.write.call_args_list)",7,7
openstack%2Frpm-packaging~master~I99639c80ee73728c4ebd5b9a94c862ec26fcd5bc,openstack/rpm-packaging,master,I99639c80ee73728c4ebd5b9a94c862ec26fcd5bc,Updated python-dracclient to 1.3.0,MERGED,2017-09-12 14:53:03.000000000,2017-09-14 14:02:37.000000000,2017-09-14 14:02:37.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 14:53:03.000000000', 'files': ['openstack/python-dracclient/python-dracclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/34b98862d09e02c6061dd1e873f4dbe0bf0e22d7', 'message': 'Updated python-dracclient to 1.3.0\n\nChange-Id: I99639c80ee73728c4ebd5b9a94c862ec26fcd5bc\n'}]",0,503025,34b98862d09e02c6061dd1e873f4dbe0bf0e22d7,9,5,1,21691,,,0,"Updated python-dracclient to 1.3.0

Change-Id: I99639c80ee73728c4ebd5b9a94c862ec26fcd5bc
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/503025/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-dracclient/python-dracclient.spec.j2'],1,34b98862d09e02c6061dd1e873f4dbe0bf0e22d7,,Version: 1.3.0,Version: 1.2.0,1,1
openstack%2Frpm-packaging~master~I62c6d56b08061f135de9d2d06f06887309d2e874,openstack/rpm-packaging,master,I62c6d56b08061f135de9d2d06f06887309d2e874,Updated python-mistralclient to 3.1.3,MERGED,2017-09-12 14:52:11.000000000,2017-09-14 14:02:21.000000000,2017-09-14 14:02:21.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 14:52:11.000000000', 'files': ['openstack/python-mistralclient/python-mistralclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7cac318b1451acc3e15cfa827df6858b8d94d7ed', 'message': 'Updated python-mistralclient to 3.1.3\n\nChange-Id: I62c6d56b08061f135de9d2d06f06887309d2e874\n'}]",0,503024,7cac318b1451acc3e15cfa827df6858b8d94d7ed,9,5,1,21691,,,0,"Updated python-mistralclient to 3.1.3

Change-Id: I62c6d56b08061f135de9d2d06f06887309d2e874
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/24/503024/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-mistralclient/python-mistralclient.spec.j2'],1,7cac318b1451acc3e15cfa827df6858b8d94d7ed,,Version: 3.1.3,Version: 3.1.2,1,1
openstack%2Frpm-packaging~master~Ib4f97ee75c033443bdca1519ea6936036b771054,openstack/rpm-packaging,master,Ib4f97ee75c033443bdca1519ea6936036b771054,Updated os-apply-config to 7.2.0,MERGED,2017-09-12 15:33:21.000000000,2017-09-14 14:01:19.000000000,2017-09-14 14:01:19.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 15:33:21.000000000', 'files': ['openstack/os-apply-config/os-apply-config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/563715c924056459de38e4859035221d8fd4a1f8', 'message': 'Updated os-apply-config to 7.2.0\n\nChange-Id: Ib4f97ee75c033443bdca1519ea6936036b771054\n'}]",0,503040,563715c924056459de38e4859035221d8fd4a1f8,9,5,1,21691,,,0,"Updated os-apply-config to 7.2.0

Change-Id: Ib4f97ee75c033443bdca1519ea6936036b771054
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/40/503040/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-apply-config/os-apply-config.spec.j2'],1,563715c924056459de38e4859035221d8fd4a1f8,,Version: 7.2.0,Version: 7.0.0,1,1
openstack%2Frpm-packaging~master~I3763cd0d9b26b72991ff80e3bd84909c9543160d,openstack/rpm-packaging,master,I3763cd0d9b26b72991ff80e3bd84909c9543160d,Updated python-distilclient to 0.3.2,MERGED,2017-09-12 15:37:31.000000000,2017-09-14 14:01:12.000000000,2017-09-14 14:01:12.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 15:37:31.000000000', 'files': ['openstack/python-distilclient/python-distilclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/45abb7ae85a0f67d1ca10cff119778a630d05d63', 'message': 'Updated python-distilclient to 0.3.2\n\nChange-Id: I3763cd0d9b26b72991ff80e3bd84909c9543160d\n'}]",0,503043,45abb7ae85a0f67d1ca10cff119778a630d05d63,9,5,1,21691,,,0,"Updated python-distilclient to 0.3.2

Change-Id: I3763cd0d9b26b72991ff80e3bd84909c9543160d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/43/503043/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-distilclient/python-distilclient.spec.j2'],1,45abb7ae85a0f67d1ca10cff119778a630d05d63,,Version: 0.3.2,Version: 0.3.0,1,1
openstack%2Frpm-packaging~master~Ia2131fd83ad08beafe89938dcc1446deb22db517,openstack/rpm-packaging,master,Ia2131fd83ad08beafe89938dcc1446deb22db517,Updated python-oneviewclient to 2.6.6,ABANDONED,2017-09-12 15:38:08.000000000,2017-09-14 13:56:23.000000000,,"[{'_account_id': 3}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 15:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a90b2dc1ef3fc332352e8d62a9fb2537e67dd1df', 'message': 'Updated python-oneviewclient to 2.6.6\n\nChange-Id: Ia2131fd83ad08beafe89938dcc1446deb22db517\n'}, {'number': 2, 'created': '2017-09-14 13:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6065ef62c093d47ab77a4b93d0ec0133127f7a6e', 'message': 'Updated python-oneviewclient to 2.6.6\n\nChange-Id: Ia2131fd83ad08beafe89938dcc1446deb22db517\n'}]",0,503044,6065ef62c093d47ab77a4b93d0ec0133127f7a6e,6,3,2,21691,,,0,"Updated python-oneviewclient to 2.6.6

Change-Id: Ia2131fd83ad08beafe89938dcc1446deb22db517
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/44/503044/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-oneviewclient/python-oneviewclient.spec.j2'],1,a90b2dc1ef3fc332352e8d62a9fb2537e67dd1df,,Version: 2.6.6,Version: 2.6.4,1,1
openstack%2Frally~master~I44d20b0e90738c389b7982ac81e3356949722864,openstack/rally,master,I44d20b0e90738c389b7982ac81e3356949722864,Fix formatting of RPS runner logging,MERGED,2017-09-14 11:23:50.000000000,2017-09-14 13:55:28.000000000,2017-09-14 13:55:28.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-09-14 11:23:50.000000000', 'files': ['rally/plugins/common/runners/rps.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3df90cbdb31dda2f8a755274b2551668e5ae0e35', 'message': 'Fix formatting of RPS runner logging\n\nChange-Id: I44d20b0e90738c389b7982ac81e3356949722864\n'}]",0,504036,3df90cbdb31dda2f8a755274b2551668e5ae0e35,7,3,1,9545,,,0,"Fix formatting of RPS runner logging

Change-Id: I44d20b0e90738c389b7982ac81e3356949722864
",git fetch https://review.opendev.org/openstack/rally refs/changes/36/504036/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/common/runners/rps.py'],1,3df90cbdb31dda2f8a755274b2551668e5ae0e35,logging," i, real_rps, runs_per_second(rps_cfg, start, processes_to_start))"," (i, real_rps, runs_per_second( rps_cfg, start, processes_to_start)))",2,2
openstack%2Fcharm-ceilometer~master~Ib96a90d6e4c4e8c72ddd62820ca794d29f8dbfae,openstack/charm-ceilometer,master,Ib96a90d6e4c4e8c72ddd62820ca794d29f8dbfae,change assert(Not)Equals to assert(Not)Equal,MERGED,2017-09-14 01:14:46.000000000,2017-09-14 13:46:19.000000000,2017-09-14 13:46:19.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-09-14 01:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9d9d0e3200b9b0aa4daf22a84713d1446f18aaed', 'message': 'change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: Ib96a90d6e4c4e8c72ddd62820ca794d29f8dbfae\nCloses-Bug: #1329757\n'}, {'number': 2, 'created': '2017-09-14 01:19:39.000000000', 'files': ['unit_tests/test_ceilometer_contexts.py', 'unit_tests/test_ceilometer_hooks.py', 'unit_tests/test_ceilometer_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/124c91e1b388529bdd80bc704588ebf1f52dba6f', 'message': 'change assert(Not)Equals to assert(Not)Equal\n\nAccording to http://docs.python.org/2/library/unittest.html\nassert(Not)Equals is a deprecated alias of assert(Not)Equal.\n\nChange-Id: Ib96a90d6e4c4e8c72ddd62820ca794d29f8dbfae\nCloses-Bug: #1329757\n'}]",0,503885,124c91e1b388529bdd80bc704588ebf1f52dba6f,10,3,2,26617,,,0,"change assert(Not)Equals to assert(Not)Equal

According to http://docs.python.org/2/library/unittest.html
assert(Not)Equals is a deprecated alias of assert(Not)Equal.

Change-Id: Ib96a90d6e4c4e8c72ddd62820ca794d29f8dbfae
Closes-Bug: #1329757
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/85/503885/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceilometer_contexts.py', 'unit_tests/test_ceilometer_hooks.py', 'unit_tests/test_ceilometer_utils.py']",3,9d9d0e3200b9b0aa4daf22a84713d1446f18aaed,1329757, self.assertEqual( self.assertEqual(, self.assertEquals( self.assertEquals(,33,33
openstack%2Frpm-packaging~master~I3048af7e68ec3c5cec116ef42023a1bfc994a8d7,openstack/rpm-packaging,master,I3048af7e68ec3c5cec116ef42023a1bfc994a8d7,Updated python-oneviewclient to 2.6.6,MERGED,2017-09-12 13:56:39.000000000,2017-09-14 13:41:23.000000000,2017-09-14 13:41:23.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 13:56:39.000000000', 'files': ['openstack/python-oneviewclient/python-oneviewclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b3367283e41cba15050a86f85c44f24d8ec8fca5', 'message': 'Updated python-oneviewclient to 2.6.6\n\nChange-Id: I3048af7e68ec3c5cec116ef42023a1bfc994a8d7\n'}]",0,503004,b3367283e41cba15050a86f85c44f24d8ec8fca5,13,5,1,21691,,,0,"Updated python-oneviewclient to 2.6.6

Change-Id: I3048af7e68ec3c5cec116ef42023a1bfc994a8d7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/503004/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-oneviewclient/python-oneviewclient.spec.j2'],1,b3367283e41cba15050a86f85c44f24d8ec8fca5,,Version: 2.6.6,Version: 2.6.4,1,1
openstack%2Frpm-packaging~master~Icc1d36280c532674df71a772dcb7c00d1ddc8c38,openstack/rpm-packaging,master,Icc1d36280c532674df71a772dcb7c00d1ddc8c38,Update stevedore to 1.26.0,MERGED,2017-09-06 14:39:53.000000000,2017-09-14 13:39:07.000000000,2017-09-14 13:39:07.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-09-06 14:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bd5e552a97ea2942728d09b765d833e7acc0d165', 'message': 'Update stevedore to 1.26.0\n\nChange-Id: Icc1d36280c532674df71a772dcb7c00d1ddc8c38\nDepends-on: I6194b769698039ad7ef3ab1223bc78ca5b509c34\n'}, {'number': 2, 'created': '2017-09-12 01:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/889d2634d44b64be27a04169d841b3b125459a15', 'message': 'Update stevedore to 1.26.0\n\nChange-Id: Icc1d36280c532674df71a772dcb7c00d1ddc8c38\nDepends-on: I6194b769698039ad7ef3ab1223bc78ca5b509c34\n'}, {'number': 3, 'created': '2017-09-14 07:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/14ade453e37b19e92a3a76676ea69ea4a916e508', 'message': 'Update stevedore to 1.26.0\n\nChange-Id: Icc1d36280c532674df71a772dcb7c00d1ddc8c38\nDepends-on: I6194b769698039ad7ef3ab1223bc78ca5b509c34\n'}, {'number': 4, 'created': '2017-09-14 12:32:43.000000000', 'files': ['openstack/stevedore/stevedore.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4e6f27bfa0deab754c2d4efbeefb3da817a7cb95', 'message': 'Update stevedore to 1.26.0\n\nChange-Id: Icc1d36280c532674df71a772dcb7c00d1ddc8c38\nDepends-on: I6194b769698039ad7ef3ab1223bc78ca5b509c34\n'}]",2,501289,4e6f27bfa0deab754c2d4efbeefb3da817a7cb95,30,7,4,17130,,,0,"Update stevedore to 1.26.0

Change-Id: Icc1d36280c532674df71a772dcb7c00d1ddc8c38
Depends-on: I6194b769698039ad7ef3ab1223bc78ca5b509c34
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/501289/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/stevedore/stevedore.spec.j2'],1,bd5e552a97ea2942728d09b765d833e7acc0d165,update-stevedore,Version: 1.26.0,Version: 1.25.0,1,1
openstack%2Fironic-inspector~master~I3aa3d3a94394575fdc75370e26f33181504023c8,openstack/ironic-inspector,master,I3aa3d3a94394575fdc75370e26f33181504023c8,Updated from global requirements,MERGED,2017-09-12 21:49:37.000000000,2017-09-14 13:38:10.000000000,2017-09-14 13:38:10.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 18653}]","[{'number': 1, 'created': '2017-09-12 21:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/615092d388eb1c3ce991674130b848f8500f1e3d', 'message': 'Updated from global requirements\n\nChange-Id: I3aa3d3a94394575fdc75370e26f33181504023c8\n'}, {'number': 2, 'created': '2017-09-13 12:51:22.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/360b194fcfa9c438dbeeb54a0e1707fc30ca9875', 'message': 'Updated from global requirements\n\nChange-Id: I3aa3d3a94394575fdc75370e26f33181504023c8\n'}]",0,503275,360b194fcfa9c438dbeeb54a0e1707fc30ca9875,10,4,2,11131,,,0,"Updated from global requirements

Change-Id: I3aa3d3a94394575fdc75370e26f33181504023c8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/75/503275/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,615092d388eb1c3ce991674130b848f8500f1e3d,openstack/requirements,oslo.middleware>=3.31.0 # Apache-2.0,oslo.middleware>=3.30.0 # Apache-2.0,1,1
openstack%2Frpm-packaging~master~I78178b6a38a82cdd671df069a398d207841fd766,openstack/rpm-packaging,master,I78178b6a38a82cdd671df069a398d207841fd766,novaclient: Remove extra Requires,MERGED,2017-09-13 04:44:47.000000000,2017-09-14 13:30:12.000000000,2017-09-14 12:33:21.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 16282}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-13 04:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3711733062c72e2df474f22e642305fbe05a9c7e', 'message': 'novaclient: Remove extra Requires\n\n- setuptools only used in setup not a Runtime Requirement\n- requests dropped as part of https://review.openstack.org/#/c/458868/\n\nChange-Id: I78178b6a38a82cdd671df069a398d207841fd766\n'}, {'number': 2, 'created': '2017-09-14 06:50:46.000000000', 'files': ['openstack/python-novaclient/python-novaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0788ceca920808343b1b69d48c20bc025cbbcfa1', 'message': 'novaclient: Remove extra Requires\n\n- setuptools only used in setup not a Runtime Requirement\n- requests dropped as part of https://review.openstack.org/#/c/458868/\n\nChange-Id: I78178b6a38a82cdd671df069a398d207841fd766\n'}]",0,503525,0788ceca920808343b1b69d48c20bc025cbbcfa1,22,6,2,16282,,,0,"novaclient: Remove extra Requires

- setuptools only used in setup not a Runtime Requirement
- requests dropped as part of https://review.openstack.org/#/c/458868/

Change-Id: I78178b6a38a82cdd671df069a398d207841fd766
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/503525/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-novaclient/python-novaclient.spec.j2'],1,3711733062c72e2df474f22e642305fbe05a9c7e,,,Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('setuptools') }},0,2
openstack%2Fcinder~master~Ia22ddbcd86ecd12d74f365ec3c72d0635ff3566c,openstack/cinder,master,Ia22ddbcd86ecd12d74f365ec3c72d0635ff3566c,api-ref: document microversions for the attachments API,MERGED,2017-09-12 16:53:17.000000000,2017-09-14 13:23:57.000000000,2017-09-12 21:51:35.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 17565}, {'_account_id': 19933}, {'_account_id': 23083}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-09-12 16:53:17.000000000', 'files': ['api-ref/source/v3/attachments.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/77e42e2f3939131ae616457e9913c7f44bde0283', 'message': ""api-ref: document microversions for the attachments API\n\nThe attachments API is completely new in the 3.27 API so\nthat should be pointed out in the API reference. The only\nwrinkle is the 'complete attachment' API which is new in 3.44.\n\nChange-Id: Ia22ddbcd86ecd12d74f365ec3c72d0635ff3566c\nPartial-Bug: #1716705\n""}]",0,503071,77e42e2f3939131ae616457e9913c7f44bde0283,28,7,1,6873,,,0,"api-ref: document microversions for the attachments API

The attachments API is completely new in the 3.27 API so
that should be pointed out in the API reference. The only
wrinkle is the 'complete attachment' API which is new in 3.44.

Change-Id: Ia22ddbcd86ecd12d74f365ec3c72d0635ff3566c
Partial-Bug: #1716705
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/503071/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/attachments.inc'],1,77e42e2f3939131ae616457e9913c7f44bde0283,bug/1716705,.. note:: Everything except for `Complete attachment` is new as of the 3.27 microversion. `Complete attachment` is new as of the 3.44 microversion. Available starting in the 3.27 microversion. Available starting in the 3.27 microversion.Available starting in the 3.27 microversion. Available starting in the 3.27 microversion.Available starting in the 3.27 microversion. Available starting in the 3.27 microversion. Available starting in the 3.44 microversion. ,,16,0
openstack%2Fnetworking-powervm~master~Ibe5e327d128e5d9bb93f0cd75e4d63a3be955459,openstack/networking-powervm,master,Ibe5e327d128e5d9bb93f0cd75e4d63a3be955459,Updated from global requirements,MERGED,2017-09-11 21:22:38.000000000,2017-09-14 13:22:59.000000000,2017-09-14 13:22:59.000000000,"[{'_account_id': 3}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}]","[{'number': 1, 'created': '2017-09-11 21:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/36864c11319e128aadd73b9f31de36acc14f72b0', 'message': 'Updated from global requirements\n\nChange-Id: Ibe5e327d128e5d9bb93f0cd75e4d63a3be955459\n'}, {'number': 2, 'created': '2017-09-11 21:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/c9f82cda45cba250c5dd78fc2e85dd3bd1c2b698', 'message': 'Updated from global requirements\n\nChange-Id: Ibe5e327d128e5d9bb93f0cd75e4d63a3be955459\n'}, {'number': 3, 'created': '2017-09-12 14:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/ef0365a32a66085974f15c7e59bb0ff8669499f2', 'message': 'Updated from global requirements\n\nChange-Id: Ibe5e327d128e5d9bb93f0cd75e4d63a3be955459\n'}, {'number': 4, 'created': '2017-09-13 00:07:44.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/39c233f64f20daf1f37a796876e1e30c30de014c', 'message': 'Updated from global requirements\n\nChange-Id: Ibe5e327d128e5d9bb93f0cd75e4d63a3be955459\n'}]",0,502693,39c233f64f20daf1f37a796876e1e30c30de014c,19,4,4,11131,,,0,"Updated from global requirements

Change-Id: Ibe5e327d128e5d9bb93f0cd75e4d63a3be955459
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/93/502693/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,36864c11319e128aadd73b9f31de36acc14f72b0,openstack/requirements,os-testr>=0.8.2 # Apache-2.0,os-testr>=0.8.0 # Apache-2.0,5,5
openstack%2Fnetworking-bgpvpn~master~Iffb4bbec0d10f2e5f63b117f86a51148cc106167,openstack/networking-bgpvpn,master,Iffb4bbec0d10f2e5f63b117f86a51148cc106167,Update import for ml2 config,ABANDONED,2017-09-14 13:06:12.000000000,2017-09-14 13:20:43.000000000,,[],"[{'number': 1, 'created': '2017-09-14 13:06:12.000000000', 'files': ['networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/fc4a801ecc50405bce4926437ea37dfbe02dc8ff', 'message': 'Update import for ml2 config\n\nA recent change in the neutron repository changed the import statements\nfor ml2_config, fixing fallout.\n\nChange-Id: Iffb4bbec0d10f2e5f63b117f86a51148cc106167\n'}]",0,504052,fc4a801ecc50405bce4926437ea37dfbe02dc8ff,2,0,1,12021,,,0,"Update import for ml2 config

A recent change in the neutron repository changed the import statements
for ml2_config, fixing fallout.

Change-Id: Iffb4bbec0d10f2e5f63b117f86a51148cc106167
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/52/504052/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py'],1,fc4a801ecc50405bce4926437ea37dfbe02dc8ff,ml2_import_fix,"from oslo_config import cfg cfg.CONF.set_override('mechanism_drivers', ['logger', 'fake_agent'], 'ml2')","from neutron.plugins.ml2 import config as ml2_config ml2_config.cfg.CONF.set_override('mechanism_drivers', ['logger', 'fake_agent'], 'ml2')",5,4
openstack%2Fopenstack-helm~master~I02e47b411ed3702c70da1fd42deef5d25ad2add2,openstack/openstack-helm,master,I02e47b411ed3702c70da1fd42deef5d25ad2add2,"Pedant: prefer ""--set "" over ""--set=""",MERGED,2017-09-13 22:03:58.000000000,2017-09-14 13:16:46.000000000,2017-09-14 13:16:46.000000000,"[{'_account_id': 3}, {'_account_id': 7769}, {'_account_id': 17589}]","[{'number': 1, 'created': '2017-09-13 22:03:58.000000000', 'files': ['tools/gate/launch-osh/basic.sh', 'doc/source/install/developer/all-in-one.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca9a78765a82c4739fe78630b8380c95c7bf7a5b', 'message': 'Pedant: prefer ""--set "" over ""--set=""\n\nChange-Id: I02e47b411ed3702c70da1fd42deef5d25ad2add2\n'}]",0,503847,ca9a78765a82c4739fe78630b8380c95c7bf7a5b,9,3,1,8898,,,0,"Pedant: prefer ""--set "" over ""--set=""

Change-Id: I02e47b411ed3702c70da1fd42deef5d25ad2add2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/47/503847/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/launch-osh/basic.sh', 'doc/source/install/developer/all-in-one.rst']",2,ca9a78765a82c4739fe78630b8380c95c7bf7a5b,cw-pedantic-set, --set conf.nova.libvirt.nova.conf.virt_type=qemu --set network.enable_node_port=true, --set=conf.nova.libvirt.nova.conf.virt_type=qemu --set=network.enable_node_port=true,8,8
openstack%2Frpm-packaging~master~I1d2205b80b7c7f7eb2e2c5723c976b8faed1cd7a,openstack/rpm-packaging,master,I1d2205b80b7c7f7eb2e2c5723c976b8faed1cd7a,Updated tripleo-common to 7.6.0,MERGED,2017-09-12 15:39:17.000000000,2017-09-14 13:04:49.000000000,2017-09-14 12:33:40.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 15:39:17.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/77566a78e5791697a16f03bf30fd4938fea8c905', 'message': 'Updated tripleo-common to 7.6.0\n\nChange-Id: I1d2205b80b7c7f7eb2e2c5723c976b8faed1cd7a\n'}]",0,503045,77566a78e5791697a16f03bf30fd4938fea8c905,13,5,1,21691,,,0,"Updated tripleo-common to 7.6.0

Change-Id: I1d2205b80b7c7f7eb2e2c5723c976b8faed1cd7a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/45/503045/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,77566a78e5791697a16f03bf30fd4938fea8c905,,%global sversion 7.6.0Version: 7.6.0,%global sversion 7.4.0Version: 7.4.0,2,2
openstack%2Fmanila~master~Ia0cc534e0bfb2ca5e495e575e27e9911c746690b,openstack/manila,master,Ia0cc534e0bfb2ca5e495e575e27e9911c746690b,[doc] Add API document for snapshot instances,MERGED,2017-08-07 09:03:37.000000000,2017-09-14 13:02:07.000000000,2017-09-12 17:21:58.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 15831}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-08-07 09:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3cd4542ef3937ba50991f2243befc68e6d4f145a', 'message': 'Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nDocImpact\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 2, 'created': '2017-08-07 11:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/52bc7e698e149741897b4c8615b2a3f28c4852a1', 'message': 'Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nDocImpact\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 3, 'created': '2017-08-10 07:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0dd9b7a56d6039874de9b8f63bdfa256b2244732', 'message': 'Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 4, 'created': '2017-08-15 02:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/276c434b2d1d3a4d4a1ac992ecafdd2137edf333', 'message': '[doc] Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 5, 'created': '2017-08-15 02:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d0add8ca211be788ac96914f9f6a6b7862bc2a69', 'message': '[doc] Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 6, 'created': '2017-08-15 03:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/53d73d12a35a57b2b07667e0b9f7106593c96153', 'message': '[doc] Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 7, 'created': '2017-08-15 03:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7b1c04240b23960b27a17a834a8de0e0e0296ae2', 'message': '[doc] Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 8, 'created': '2017-09-12 00:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3f105bbf8c3a02a0298c0fd0ea27eb489212f0ef', 'message': '[doc] Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 9, 'created': '2017-09-12 02:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d8ba051ab9207e931e2798a26846d6b5c34bd47a', 'message': '[doc] Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}, {'number': 10, 'created': '2017-09-12 05:15:10.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/snapshot-instance-show-response.json', 'api-ref/source/samples/snapshot-instances-list-with-detail-response.json', 'api-ref/source/snapshot-instances.inc', 'api-ref/source/index.rst', 'api-ref/source/samples/snapshot-instance-actions-reset-state-request.json', 'api-ref/source/samples/snapshot-instances-list-response.json'], 'web_link': 'https://opendev.org/openstack/manila/commit/c60f1fca88bf8226ceadf22102ea8119b360ce9f', 'message': '[doc] Add API document for snapshot instances\n\nThis patch adds a new API document for snapshot instances.\n\nChange-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b\n'}]",12,491405,c60f1fca88bf8226ceadf22102ea8119b360ce9f,77,15,10,15100,,,0,"[doc] Add API document for snapshot instances

This patch adds a new API document for snapshot instances.

Change-Id: Ia0cc534e0bfb2ca5e495e575e27e9911c746690b
",git fetch https://review.opendev.org/openstack/manila refs/changes/05/491405/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/snapshot-instance-show-response.json', 'api-ref/source/snapshot-instances.inc', 'api-ref/source/index.rst', 'api-ref/source/samples/snapshot-instance-actions-reset-state-request.json', 'api-ref/source/samples/snapshot-instances-list-response.json']",6,3cd4542ef3937ba50991f2243befc68e6d4f145a,api-ref,"{ ""snapshot_instances"": [ { ""status"": ""available"", ""share_id"": ""618599ab-09a1-432d-973a-c102564c7fec"", ""share_instance_id"": ""8edff0cb-e5ce-4bab-aa99-afe02ed6a76a"", ""snapshot_id"": ""d447de19-a6d3-40b3-ae9f-895c86798924"", ""progress"": ""100%"", ""created_at"": ""2017-08-04T00:44:52.000000"", ""id"": ""275516e8-c998-4e78-a41e-7dd3a03e71cd"", ""provider_location"": ""/path/to/fake/snapshot/snapshot_d447de19_a6d3_40b3_ae9f_895c86798924_275516e8_c998_4e78_a41e_7dd3a03e71cd"", ""updated_at"": ""2017-08-04T00:44:54.000000"" } ] } ",,196,10
openstack%2Frpm-packaging~master~I649e39cd8ba961c398b1bebed754d7a1fea8eeeb,openstack/rpm-packaging,master,I649e39cd8ba961c398b1bebed754d7a1fea8eeeb,fixup Url for python-novaclient,MERGED,2017-09-13 04:41:09.000000000,2017-09-14 13:00:32.000000000,2017-09-14 12:08:27.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-13 04:41:09.000000000', 'files': ['openstack/python-novaclient/python-novaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2a40c742674f0f7fc74bf487fba7e7173d01bf5e', 'message': 'fixup Url for python-novaclient\n\n- use https\n- shorten to // instead of ////\n\nChange-Id: I649e39cd8ba961c398b1bebed754d7a1fea8eeeb\n'}]",0,503523,2a40c742674f0f7fc74bf487fba7e7173d01bf5e,15,5,1,16282,,,0,"fixup Url for python-novaclient

- use https
- shorten to // instead of ////

Change-Id: I649e39cd8ba961c398b1bebed754d7a1fea8eeeb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/503523/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-novaclient/python-novaclient.spec.j2'],1,2a40c742674f0f7fc74bf487fba7e7173d01bf5e,,Url: https://launchpad.net/{name},Url: http:///launchpad.net/{name},1,1
openstack%2Ftripleo-ci~master~If19231a7598e73fd41a997b3aea58857f3a74d5f,openstack/tripleo-ci,master,If19231a7598e73fd41a997b3aea58857f3a74d5f,toci_quickstart: Report exit value of deployment to dlrn api,MERGED,2017-09-13 10:14:13.000000000,2017-09-14 12:59:09.000000000,2017-09-14 12:59:09.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-09-13 10:14:13.000000000', 'files': ['toci_quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e5e75f06826f966486509e0f76e19a665ec625f', 'message': 'toci_quickstart: Report exit value of deployment to dlrn api\n\nThe script does not stop if deployment fails. With current\nimplementation, the script was always success to dlrn.\nFixing to change success value based on the deployment exit_value\n\nChange-Id: If19231a7598e73fd41a997b3aea58857f3a74d5f\n'}]",0,503585,2e5e75f06826f966486509e0f76e19a665ec625f,9,3,1,10022,,,0,"toci_quickstart: Report exit value of deployment to dlrn api

The script does not stop if deployment fails. With current
implementation, the script was always success to dlrn.
Fixing to change success value based on the deployment exit_value

Change-Id: If19231a7598e73fd41a997b3aea58857f3a74d5f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/503585/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_quickstart.sh'],1,2e5e75f06826f966486509e0f76e19a665ec625f,fix-dlrn-report," if [[ ""$exit_value"" == 0 ]]; then echo ""REPORTING SUCCESS TO DLRN API"" SUCCESS=""true"" else echo ""REPORTING FAILURE TO DLRN API"" SUCCESS=""false"" fi --success $SUCCESS"," echo ""REPORTING SUCCESS TO DLRN API"" --success ""true""",9,2
openstack%2Fsenlin~master~I0b0d18ee75676681c38a630a3e01a7b8fc788d56,openstack/senlin,master,I0b0d18ee75676681c38a630a3e01a7b8fc788d56,revise doc to use openstack commandline,MERGED,2017-09-14 05:51:18.000000000,2017-09-14 12:56:57.000000000,2017-09-14 12:56:57.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 25395}]","[{'number': 1, 'created': '2017-09-14 05:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/bc982886561340937de30158da57f6b6ff14029c', 'message': 'revise doc to use openstack commandline\n\nthis patch revises the doc to use openstack command line instead\nof senlin client command line.\n\nChange-Id: I0b0d18ee75676681c38a630a3e01a7b8fc788d56\n'}, {'number': 2, 'created': '2017-09-14 07:28:21.000000000', 'files': ['doc/source/user/clusters.rst', 'doc/source/user/nodes.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/fd99c79580329a6ad657db36d836158c1ab78376', 'message': 'revise doc to use openstack commandline\n\nthis patch revises the doc to use openstack command line instead\nof senlin client command line.\n\nChange-Id: I0b0d18ee75676681c38a630a3e01a7b8fc788d56\n'}]",2,503960,fd99c79580329a6ad657db36d836158c1ab78376,11,3,2,23401,,,0,"revise doc to use openstack commandline

this patch revises the doc to use openstack command line instead
of senlin client command line.

Change-Id: I0b0d18ee75676681c38a630a3e01a7b8fc788d56
",git fetch https://review.opendev.org/openstack/senlin refs/changes/60/503960/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/clusters.rst', 'doc/source/user/nodes.rst']",2,bc982886561340937de30158da57f6b6ff14029c,revise-doc, $ senlin cluster node create --profile pstack test_node | created_at | None | | details | None | | location | None | | physical_id | None | | role | | | status | INIT | | status_reason | Initializing | | updated_at | None | $ openstack cluster node create --profile pstack --cluster c1 test_node $ openstack cluster node create --profile pstack --cluster c1 \ $ openstack cluster node create --profile pstack \ $ openstack cluster node update --profile fedora21_server fedora20_server, $ senlin node-create --profile pstack test_node | created_at | - | | details | - | | location | - | | physical_id | - | | role | | | status | CREATING | | status_reason | Creation in progress | | updated_at | - | $ senlin node-create --profile pstack --cluster c1 test_node $ senlin node-create --profile pstack --cluster c1 \ $ senlin node-create --profile pstack \ $ senlin node-update --profile fedora21_server fedora20_server,17,18
openstack%2Frpm-packaging~master~Ic0c19734c3fbc7adf89f2b4fd5412ca2c0098872,openstack/rpm-packaging,master,Ic0c19734c3fbc7adf89f2b4fd5412ca2c0098872,Updated ironic-lib to 2.10.0,MERGED,2017-09-12 15:34:04.000000000,2017-09-14 12:34:33.000000000,2017-09-14 12:34:33.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-12 15:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/32cb88b189aaea189357d69dff9d4f8af74d9351', 'message': 'Updated ironic-lib to 2.10.0\n\nChange-Id: Ic0c19734c3fbc7adf89f2b4fd5412ca2c0098872\n'}, {'number': 2, 'created': '2017-09-14 06:16:09.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0f17ed52d820013fab525f5321eb6d27bc19ed35', 'message': 'Updated ironic-lib to 2.10.0\n\nChange-Id: Ic0c19734c3fbc7adf89f2b4fd5412ca2c0098872\n'}]",0,503041,0f17ed52d820013fab525f5321eb6d27bc19ed35,22,6,2,21691,,,0,"Updated ironic-lib to 2.10.0

Change-Id: Ic0c19734c3fbc7adf89f2b4fd5412ca2c0098872
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/41/503041/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ironic-lib/ironic-lib.spec.j2'],1,32cb88b189aaea189357d69dff9d4f8af74d9351,,Version: 2.10.0,Version: 2.9.0,1,1
openstack%2Fmanila~master~Ibf13e08f0b0b57718d453ee3240d30124940b521,openstack/manila,master,Ibf13e08f0b0b57718d453ee3240d30124940b521,Remove auto generated files and unnecessary .gitignore file,MERGED,2017-09-12 04:29:36.000000000,2017-09-14 12:28:50.000000000,2017-09-12 18:53:04.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 22248}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-09-12 04:29:36.000000000', 'files': ['.gitignore', 'doc/source/_static/manila.conf.sample', 'doc/.gitignore'], 'web_link': 'https://opendev.org/openstack/manila/commit/042f7173f9f40fa5f60263281e8f0a401627fc73', 'message': 'Remove auto generated files and unnecessary .gitignore file\n\n1. doc/source/_static will be auto generated when build docs and usually\n   cause difference with the original one after doc building.\n2. manila/doc/.gitignore file is unnecessary because manila/.gitignore\n   already ignore the doc/build directory.\n3. add git ignore of doc/source/_static in manila/.gitignore\n\nChange-Id: Ibf13e08f0b0b57718d453ee3240d30124940b521\n'}]",0,502887,042f7173f9f40fa5f60263281e8f0a401627fc73,23,7,1,25456,,,0,"Remove auto generated files and unnecessary .gitignore file

1. doc/source/_static will be auto generated when build docs and usually
   cause difference with the original one after doc building.
2. manila/doc/.gitignore file is unnecessary because manila/.gitignore
   already ignore the doc/build directory.
3. add git ignore of doc/source/_static in manila/.gitignore

Change-Id: Ibf13e08f0b0b57718d453ee3240d30124940b521
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/502887/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'doc/source/_static/manila.conf.sample', 'doc/.gitignore']",3,042f7173f9f40fa5f60263281e8f0a401627fc73,,,_build/* ,1,3217
openstack%2Ftripleo-heat-templates~master~I8da03f5c4a6d442617b81be5793a9724cc8842bf,openstack/tripleo-heat-templates,master,I8da03f5c4a6d442617b81be5793a9724cc8842bf,Retry if the pacemaker_resource commands failed,MERGED,2017-08-28 15:26:46.000000000,2017-09-14 12:27:57.000000000,2017-09-09 08:36:58.000000000,"[{'_account_id': 3}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 20778}]","[{'number': 1, 'created': '2017-08-28 15:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c253200891a76a3d85b45a184536bcd71171d22', 'message': ""Retry if the pacemaker_resource commands failed\n\nAdd a retry when the pacemaker_resource commands\nwasn't apply correctly, more info here:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1482116\n\nThis change depends-on :\nhttps://review.gerrithub.io/375982\n\nThe retour code is not available in the current\nansible-pacemaker package.\n\nChange-Id: I8da03f5c4a6d442617b81be5793a9724cc8842bf\n""}, {'number': 2, 'created': '2017-08-30 19:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ebd5da48a6b4bac424366d8732843a7127eae35', 'message': ""Retry if the pacemaker_resource commands failed\n\nAdd a retry when the pacemaker_resource command\nwasn't apply correctly, more info here:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1482116\n\nThis is the same approach puppet-pacemaker uses\nand provides eventual consistency when multiple\nnodes change the cluster CIB concurrently.\n\nThis change depends-on :\nhttps://review.gerrithub.io/375982\n\nThe return code is not available in the current\nansible-pacemaker package.\n\nChange-Id: I8da03f5c4a6d442617b81be5793a9724cc8842bf\n""}, {'number': 3, 'created': '2017-09-08 08:30:53.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e92430d8d03fc2ce2d0ce192b96209f2c5c04169', 'message': ""Retry if the pacemaker_resource commands failed\n\nAdd a retry when the pacemaker_resource command\nwasn't apply correctly, more info here:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1482116\n\nThis is the same approach puppet-pacemaker uses\nand provides eventual consistency when multiple\nnodes change the cluster CIB concurrently.\n\nThis change depends-on :\nhttps://review.gerrithub.io/375982\n\nThe return code is not available in the current\nansible-pacemaker package.\n\nChange-Id: I8da03f5c4a6d442617b81be5793a9724cc8842bf\n""}]",3,498499,e92430d8d03fc2ce2d0ce192b96209f2c5c04169,25,7,3,16515,,,0,"Retry if the pacemaker_resource commands failed

Add a retry when the pacemaker_resource command
wasn't apply correctly, more info here:
https://bugzilla.redhat.com/show_bug.cgi?id=1482116

This is the same approach puppet-pacemaker uses
and provides eventual consistency when multiple
nodes change the cluster CIB concurrently.

This change depends-on :
https://review.gerrithub.io/375982

The return code is not available in the current
ansible-pacemaker package.

Change-Id: I8da03f5c4a6d442617b81be5793a9724cc8842bf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/498499/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/rabbitmq.yaml'],1,3c253200891a76a3d85b45a184536bcd71171d22,rabbitmq-retries, register: output retries: 3 until: output.rc == 0 register: output retries: 3 until: output.rc == 0,,6,0
openstack%2Fcinder~master~I008a6cdbfa27926518ff0f0ee97c6d6dac2fc8c8,openstack/cinder,master,I008a6cdbfa27926518ff0f0ee97c6d6dac2fc8c8,[wip] Adds backup_use_temp_snapshot to Quobyte Driver,ABANDONED,2017-09-13 14:00:25.000000000,2017-09-14 12:23:17.000000000,,"[{'_account_id': 3}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-13 14:00:25.000000000', 'files': ['cinder/volume/drivers/quobyte.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9960e294129d103fee3fa9f17261647d41b537d', 'message': ""[wip] Adds backup_use_temp_snapshot to Quobyte Driver\n\nThe method is added and statically reports 'False' as this is currently\nnot supported by the Quobyte driver.\nPartially-Bug: #1703405\n\nChange-Id: I008a6cdbfa27926518ff0f0ee97c6d6dac2fc8c8\n""}]",0,503686,f9960e294129d103fee3fa9f17261647d41b537d,26,24,1,13915,,,0,"[wip] Adds backup_use_temp_snapshot to Quobyte Driver

The method is added and statically reports 'False' as this is currently
not supported by the Quobyte driver.
Partially-Bug: #1703405

Change-Id: I008a6cdbfa27926518ff0f0ee97c6d6dac2fc8c8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/503686/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/quobyte.py'],1,f9960e294129d103fee3fa9f17261647d41b537d,bug/1703405,"VERSION = '1.1.6' 1.1.6 - Adds temp snapshot backup capability feedback (false) def backup_use_temp_snapshot(self): """"""Currently the Quobyte driver does not support snapshot backups"""""" return False ",VERSION = '1.1.5',6,1
openstack%2Frpm-packaging~master~I924631c7a7c3af3fae44806cb3b402a3697871ab,openstack/rpm-packaging,master,I924631c7a7c3af3fae44806cb3b402a3697871ab,Update oslo.middleware to 3.31.0,MERGED,2017-09-06 14:57:47.000000000,2017-09-14 12:22:22.000000000,2017-09-14 12:22:22.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-09-06 14:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/971797da56b8926d02b302f246d3861553a2fe8f', 'message': 'Update oslo.middleware to 3.31.0\n\nChange-Id: I924631c7a7c3af3fae44806cb3b402a3697871ab\nDepends-on: I895c2f9ae0882f63e591e98c6af4110f79ae453c\n'}, {'number': 2, 'created': '2017-09-12 01:50:36.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b5a60322b5e421a3a286608d524dd7f1a951ad67', 'message': 'Update oslo.middleware to 3.31.0\n\nChange-Id: I924631c7a7c3af3fae44806cb3b402a3697871ab\nDepends-on: I895c2f9ae0882f63e591e98c6af4110f79ae453c\n'}]",0,501300,b5a60322b5e421a3a286608d524dd7f1a951ad67,18,6,2,17130,,,0,"Update oslo.middleware to 3.31.0

Change-Id: I924631c7a7c3af3fae44806cb3b402a3697871ab
Depends-on: I895c2f9ae0882f63e591e98c6af4110f79ae453c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/00/501300/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.middleware/oslo.middleware.spec.j2'],1,971797da56b8926d02b302f246d3861553a2fe8f,oslo-middleware,Version: 3.31.0,Version: 3.30.0,1,1
openstack%2Fpuppet-heat~master~I0536b5efd0e1389b05ffdd29acf75f1fa748babb,openstack/puppet-heat,master,I0536b5efd0e1389b05ffdd29acf75f1fa748babb,Add support for default_user_data_format,MERGED,2017-09-12 13:27:38.000000000,2017-09-14 12:05:14.000000000,2017-09-14 12:05:14.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 8971}, {'_account_id': 9414}, {'_account_id': 26343}]","[{'number': 1, 'created': '2017-09-12 13:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/4abaf13979579ad3c2694ace9c3e80868e8688c6', 'message': 'Add support for default_user_data_format\n\nAllows specify the value of default_user_data_format\nparameter in configuration\n\nChange-Id: I0536b5efd0e1389b05ffdd29acf75f1fa748babb\n'}, {'number': 2, 'created': '2017-09-13 08:24:48.000000000', 'files': ['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'releasenotes/notes/add_default_user_data_format-712df91a3f826e51.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/ece5e90fddab233b97072ce9912753a702ce064a', 'message': 'Add support for default_user_data_format\n\nAllows specify the value of default_user_data_format\nparameter in configuration\n\nChange-Id: I0536b5efd0e1389b05ffdd29acf75f1fa748babb\n'}]",0,502994,ece5e90fddab233b97072ce9912753a702ce064a,25,7,2,26343,,,0,"Add support for default_user_data_format

Allows specify the value of default_user_data_format
parameter in configuration

Change-Id: I0536b5efd0e1389b05ffdd29acf75f1fa748babb
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/94/502994/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/engine.pp'],1,4abaf13979579ad3c2694ace9c3e80868e8688c6,,"# # [*default_user_data_format*] # (optional) Template default for how the user_data should be # formatted for the server. For HEAT_CFNTOOLS, the # user_data is bundled as part of the heat-cfntools # cloud-init boot configuration data. For RAW the # user_data is passed to Nova unmodified. For # SOFTWARE_CONFIG user_data is bundled as part of the # software config data, and metadata is derived from any # associated SoftwareDeployment resources. # Allowed values: HEAT_CFNTOOLS, RAW, SOFTWARE_CONFIG # Defaults to $::os_service_default. $default_user_data_format = $::os_service_default, 'DEFAULT/default_user_data_format': value => $default_user_data_format;",,14,0
openstack%2Ftripleo-common~master~I6df3795954b4d17cdc1d82558bbb171a7910c2e2,openstack/tripleo-common,master,I6df3795954b4d17cdc1d82558bbb171a7910c2e2,Change the type in messages sent by the internal introspect workflow,ABANDONED,2017-09-13 11:34:48.000000000,2017-09-14 12:00:31.000000000,,"[{'_account_id': 3}, {'_account_id': 7509}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 20970}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-13 11:34:48.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e7880a294f65fffdc2a9f23bc790db06ae23d77', 'message': ""Change the type in messages sent by the internal introspect workflow\n\nAs explained in the comment, we shouldn't expose the internal workflow\nname to users. They should always consider messages it sends to be from\nthe main introspect workflow.\n\nPartial-Bug: #1716671\nChange-Id: I6df3795954b4d17cdc1d82558bbb171a7910c2e2\n""}]",1,503600,4e7880a294f65fffdc2a9f23bc790db06ae23d77,11,6,1,9712,,,0,"Change the type in messages sent by the internal introspect workflow

As explained in the comment, we shouldn't expose the internal workflow
name to users. They should always consider messages it sends to be from
the main introspect workflow.

Partial-Bug: #1716671
Change-Id: I6df3795954b4d17cdc1d82558bbb171a7910c2e2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/503600/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,4e7880a294f65fffdc2a9f23bc790db06ae23d77,bug/1716671," # As this is an internal workflow that is used and managed by the # introspect workflow, we should use the same type here rather # than following the convention of type name==workflow name. By # sending out this type we were exposing the name of an internal # workflow to users. type: tripleo.baremetal.v1.introspect", type: tripleo.baremetal.v1._introspect,6,1
openstack%2Frpm-packaging~master~I04ddc33e0aba696515ed558802b79eb58e13f125,openstack/rpm-packaging,master,I04ddc33e0aba696515ed558802b79eb58e13f125,pymod2pkg: Update to 0.10.0,MERGED,2017-09-13 13:12:40.000000000,2017-09-14 11:55:43.000000000,2017-09-14 11:55:43.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-13 13:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b3accf0db8c39ba87ad6726fbe6f70c1e7ce67fb', 'message': 'pymod2pkg: Update to 0.10.0\n\nChange-Id: I04ddc33e0aba696515ed558802b79eb58e13f125\n'}, {'number': 2, 'created': '2017-09-14 06:14:36.000000000', 'files': ['openstack/pymod2pkg/pymod2pkg.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3315f3ca4be4eb4dfe4ff7b8a0d927a6de37b1c9', 'message': 'pymod2pkg: Update to 0.10.0\n\nChange-Id: I04ddc33e0aba696515ed558802b79eb58e13f125\n'}]",0,503681,3315f3ca4be4eb4dfe4ff7b8a0d927a6de37b1c9,24,7,2,7102,,,0,"pymod2pkg: Update to 0.10.0

Change-Id: I04ddc33e0aba696515ed558802b79eb58e13f125
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/503681/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pymod2pkg/pymod2pkg.spec.j2'],1,b3accf0db8c39ba87ad6726fbe6f70c1e7ce67fb,,Version: 0.10.0,Version: 0.9.0,1,1
openstack%2Frpm-packaging~master~I75d3070bda3c939ecbffcb0a24bd46036ff019db,openstack/rpm-packaging,master,I75d3070bda3c939ecbffcb0a24bd46036ff019db,Update gnocchiclient to 3.3.1,MERGED,2017-07-06 02:30:02.000000000,2017-09-14 11:55:37.000000000,2017-09-14 11:55:37.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}, {'_account_id': 26157}]","[{'number': 1, 'created': '2017-07-06 02:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/150d12590b16e4b70b5f722df2994df4c0ec7e77', 'message': 'Update gnocchiclient to 3.3.1\n\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}, {'number': 2, 'created': '2017-07-06 06:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f717c63fe9a5c9424958db13ec8d55c04d76c1ab', 'message': 'Update gnocchiclient to 3.3.1\n\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}, {'number': 3, 'created': '2017-07-19 19:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ad2a22f67a390b0da8946b1bd5ecbd8be8ee8e35', 'message': 'Update gnocchiclient to 3.3.1\n\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}, {'number': 4, 'created': '2017-07-27 12:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c27e18ce811eb5841aeaf075a52c19b3b1dda99e', 'message': 'Update gnocchiclient to 3.3.1\n\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}, {'number': 5, 'created': '2017-07-31 14:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e3d079ff6a9d2aea558556a1de42abba20e3ce07', 'message': 'Update gnocchiclient to 3.3.1\n\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}, {'number': 6, 'created': '2017-08-10 11:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a6ee14cccd348de3bde8fe4e8d9ecd9004f00a3e', 'message': 'Update gnocchiclient to 3.3.1\n\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}, {'number': 7, 'created': '2017-09-13 09:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7eff67ffc70f6656d5771bf6e00308ac1e61660c', 'message': 'Update gnocchiclient to 3.3.1\n\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}, {'number': 8, 'created': '2017-09-13 14:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/84acd1d71d280ba485577b8889c86f90ec623583', 'message': 'Update gnocchiclient to 3.3.1\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}, {'number': 9, 'created': '2017-09-14 06:15:06.000000000', 'files': ['openstack/gnocchiclient/gnocchiclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/610d56eaac9b3d30aafee9e3ccd0482fea6c4511', 'message': 'Update gnocchiclient to 3.3.1\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nChange-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db\nDepends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c\n'}]",0,480807,610d56eaac9b3d30aafee9e3ccd0482fea6c4511,67,8,9,26157,,,0,"Update gnocchiclient to 3.3.1

Co-Authored-By: Thomas Bechtold <tbechtold@suse.com>
Change-Id: I75d3070bda3c939ecbffcb0a24bd46036ff019db
Depends-on: I0fe9777efebd3a63dc3e21885f3eac233ad6fd6c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/07/480807/9 && git format-patch -1 --stdout FETCH_HEAD,['openstack/gnocchiclient/gnocchiclient.spec.j2'],1,150d12590b16e4b70b5f722df2994df4c0ec7e77,update-gnocchiclient,Version: 3.3.1,Version: 3.1.1,1,1
openstack%2Frpm-packaging~master~I31ea523dca1b9e71240b543b1e372ec5d0608c09,openstack/rpm-packaging,master,I31ea523dca1b9e71240b543b1e372ec5d0608c09,spec-cleaner lint check adjustments for pymod2pkg 0.10.0,MERGED,2017-09-14 06:09:38.000000000,2017-09-14 11:55:23.000000000,2017-09-14 11:55:22.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-14 06:09:38.000000000', 'files': ['openstack/nova/nova.spec.j2', 'openstack/masakari-monitors/masakari-monitors.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2be672c627da6f3c39be51f140eb7dd7c2830034', 'message': 'spec-cleaner lint check adjustments for pymod2pkg 0.10.0\n\nChange-Id: I31ea523dca1b9e71240b543b1e372ec5d0608c09\n'}]",0,503966,2be672c627da6f3c39be51f140eb7dd7c2830034,9,5,1,6593,,,0,"spec-cleaner lint check adjustments for pymod2pkg 0.10.0

Change-Id: I31ea523dca1b9e71240b543b1e372ec5d0608c09
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/66/503966/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/nova/nova.spec.j2', 'openstack/masakari-monitors/masakari-monitors.spec.j2']",2,2be672c627da6f3c39be51f140eb7dd7c2830034,,BuildRequires: {{ py2pkg('libvirt-python') }},BuildRequires: {{ py2pkg('libvirt-python') }},2,2
openstack%2Fheat~stable%2Focata~I8cd580c15289a674888f194e8244041ed64bb172,openstack/heat,stable/ocata,I8cd580c15289a674888f194e8244041ed64bb172,Add CACHE_NONE for FloatingIP attributes,MERGED,2017-07-27 01:29:15.000000000,2017-09-14 11:32:30.000000000,2017-09-14 11:32:30.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 8289}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-07-27 01:29:15.000000000', 'files': ['heat/engine/resources/openstack/neutron/floatingip.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1ac09ea1b1b172934d7b8c8395f2d6669ae0dcf3', 'message': ""Add CACHE_NONE for FloatingIP attributes\n\n'port_id' and 'fixed_ip_address' attributes for FloatingIP would change\nwhen FloatingIPAssociation is created/updated. Therefore we should not\ncache/store them in db.\n\nChange-Id: I8cd580c15289a674888f194e8244041ed64bb172\nRalated-Bug: #1703605\n(cherry picked from commit b0b2161ca98d6d177de12cc46a6be24c5b3b39d6)\n""}]",0,487641,1ac09ea1b1b172934d7b8c8395f2d6669ae0dcf3,8,4,1,12404,,,0,"Add CACHE_NONE for FloatingIP attributes

'port_id' and 'fixed_ip_address' attributes for FloatingIP would change
when FloatingIPAssociation is created/updated. Therefore we should not
cache/store them in db.

Change-Id: I8cd580c15289a674888f194e8244041ed64bb172
Ralated-Bug: #1703605
(cherry picked from commit b0b2161ca98d6d177de12cc46a6be24c5b3b39d6)
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/487641/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/floatingip.py'],1,1ac09ea1b1b172934d7b8c8395f2d6669ae0dcf3,bug/1703605," type=attributes.Schema.STRING, cache_mode=attributes.Schema.CACHE_NONE type=attributes.Schema.STRING, cache_mode=attributes.Schema.CACHE_NONE", type=attributes.Schema.STRING type=attributes.Schema.STRING,4,2
openstack%2Fpython-ironic-inspector-client~master~Idb41fcf3e8742ccbf5fd6d0cd6b5196a6a31bdf8,openstack/python-ironic-inspector-client,master,Idb41fcf3e8742ccbf5fd6d0cd6b5196a6a31bdf8,Updated from global requirements,MERGED,2017-09-13 13:02:07.000000000,2017-09-14 10:50:01.000000000,2017-09-14 10:50:01.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 18653}]","[{'number': 1, 'created': '2017-09-13 13:02:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/0d56f42d35800d56393bf9072c968cdc6d8a2078', 'message': 'Updated from global requirements\n\nChange-Id: Idb41fcf3e8742ccbf5fd6d0cd6b5196a6a31bdf8\n'}]",0,503667,0d56f42d35800d56393bf9072c968cdc6d8a2078,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Idb41fcf3e8742ccbf5fd6d0cd6b5196a6a31bdf8
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/67/503667/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0d56f42d35800d56393bf9072c968cdc6d8a2078,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I9f7e9b5cf0d8031447936e081adf3f2dff15279a,openstack/cinder,master,I9f7e9b5cf0d8031447936e081adf3f2dff15279a,Updated from global requirements,MERGED,2017-09-11 21:17:05.000000000,2017-09-14 10:39:52.000000000,2017-09-12 17:37:59.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-11 21:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df85043cf6e3bca3a58b980a16b45e43b70c5a5c', 'message': 'Updated from global requirements\n\nChange-Id: I9f7e9b5cf0d8031447936e081adf3f2dff15279a\n'}, {'number': 2, 'created': '2017-09-11 21:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9714c237f13b8f2e2fc587678eaaf8310937db3a', 'message': 'Updated from global requirements\n\nChange-Id: I9f7e9b5cf0d8031447936e081adf3f2dff15279a\n'}, {'number': 3, 'created': '2017-09-12 04:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/575b3818f3a19072a6e89afd537cd3ae38633d46', 'message': 'Updated from global requirements\n\nChange-Id: I9f7e9b5cf0d8031447936e081adf3f2dff15279a\n'}, {'number': 4, 'created': '2017-09-12 13:59:37.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/28d08ab62535bc877a96f7bbe3cce07273ccf603', 'message': 'Updated from global requirements\n\nChange-Id: I9f7e9b5cf0d8031447936e081adf3f2dff15279a\n'}]",0,502635,28d08ab62535bc877a96f7bbe3cce07273ccf603,84,31,4,11131,,,0,"Updated from global requirements

Change-Id: I9f7e9b5cf0d8031447936e081adf3f2dff15279a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/502635/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,df85043cf6e3bca3a58b980a16b45e43b70c5a5c,openstack/requirements,os-api-ref>=1.4.0 # Apache-2.0oslo.versionedobjects[fixtures]>=1.25.0 # Apache-2.0 os-testr>=0.8.2 # Apache-2.0,os-api-ref>=1.0.0 # Apache-2.0oslo.versionedobjects[fixtures]>=1.17.0 # Apache-2.0 os-testr>=0.8.0 # Apache-2.0,15,15
openstack%2Ftraining-labs~master~Ic48e728195f59694941c1b98e210fbf6b2a87eac,openstack/training-labs,master,Ic48e728195f59694941c1b98e210fbf6b2a87eac,Update README.rst,MERGED,2017-09-11 09:57:59.000000000,2017-09-14 10:26:31.000000000,2017-09-14 10:26:31.000000000,"[{'_account_id': 3}, {'_account_id': 11109}, {'_account_id': 20770}]","[{'number': 1, 'created': '2017-09-11 09:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-labs/commit/a40956bd3d5e87d739f3a03f1c7727b842ac0af5', 'message': 'Update README.rst\n\nChange-Id: Ic48e728195f59694941c1b98e210fbf6b2a87eac\n'}, {'number': 2, 'created': '2017-09-14 06:27:03.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/b66aa8f566aec8f145b08649935769632e6fd32b', 'message': 'Update README.rst\n\nChange-Id: Ic48e728195f59694941c1b98e210fbf6b2a87eac\n'}]",6,502439,b66aa8f566aec8f145b08649935769632e6fd32b,11,3,2,11109,,,0,"Update README.rst

Change-Id: Ic48e728195f59694941c1b98e210fbf6b2a87eac
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/39/502439/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a40956bd3d5e87d739f3a03f1c7727b842ac0af5,update_readme,"Training-labs provides an automated way to deploy Vanilla OpenStack. closely following the `OpenStack Install Guide <http://docs.openstack.org/install-guide>`_. Training-labs offers an easy way to set up an OpenStack cluster which is a good starting point for beginners to learn OpenStack, and for advanced users to test out new features, and check out different capabilities of OpenStack. On top of that training-labs is also a good way to test the installation instructions on a regular basis.see the `OpenStack wiki <https://wiki.openstack.org/wiki/Documentation/training-labs>`_.VirtualBox is the default hypervisor used by training-labs. Alternatively, you can use KVM (just set ``PROVIDER=kvm`` in ``labs/config/localrc``). Getting the Code for an OpenStack Release ----------------------------------------- The current release is master which usually deploys the current stable OpenStack release. Unless you have a reason to go with an older release, we recommend using master. For non-development purposes (training, etc.), the easiest way to get the code is through downloading the desired archive from `OpenStack Training Labs <https://docs.openstack.org/training_labs/>_`. Unpack the archive and you are good to go. Now you have a multi-node deployment of OpenStack running with the following services installed.* Nova * Neutron* HorizonYou may have to `subscribe to the OpenStack Documentation Mailing List <http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-docs>`_ to have your mail accepted by the mailing list software.Feel free to ping Roger or Pranav via email or on the IRC channel ``#openstack-doc`` regarding any queries about training-labs.Training-labs uses the Doc Team Meeting: https://wiki.openstack.org/wiki/Meetings/DocTeamMeetinghttps://wiki.openstack.org/wiki/Documentation/training-labs","Provide an automated way to deploy Vanilla OpenStack and closely follow `OpenStack Install Guide <http://docs.openstack.org/#install-guides>`_. We strove to give easy way to setup OpenStack cluster which should be a good starting point for beginners to learn OpenStack, and for advanced users to test out new features, check out different capabilities of OpenStack. On top of that training-labs will also be a good way to test the install guides on a regular basis.see the `OpenStack wiki <https://wiki.openstack.org/wiki/Documentation/training-labs>`_.* Documentation: http://docs.openstack.org/developer/training-labsOpenStack Release ----------------- The current release is master which usually means that we are developing for the next OpenStack release. The current one is ``OpenStack Newton``. For non-development purposes (training etc.) please checkout the stable branches. Assuming that ``$remote`` is your remote branch (usually origin) and ``$release`` is the release version. $ git checkout $remote/stable/$release Clone the training-labs repository:: $ git clone git://git.openstack.org/openstack/training-labs.git Now you have a multi-node deployment of OpenStack running with the below services installed. OpenStack services installed on Controller node:* Horizon* Nova * nova-api * nova-scheduler * nova-consoleauth * nova-cert * nova-novncproxy * python-novaclient * Neutron * neutron-server * neutron-plugin-openvswitch-agent * neutron-l3-agent * neutron-dhcp-agent * neutron-metadata-agent Openstack Services installed on Compute node: * Nova * nova-compute * Neutron * neutron-plugin-openvswitch-agent # Network node $ ssh osbash@10.0.0.21 You might consider `registering on the OpenStack Documentation Mailing List <http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-docs>`_ if you want to post your e-mail instantly. It may take some time for unregistered users, as it requires an administrator's approval.Feel free to ping Roger or Pranav on the IRC channel ``#openstack-doc`` regarding any queries about the Labs section.Team meeting for training-labs is on alternating Thursdays on Google Hangouts. https://wiki.openstack.org/wiki/Documentation/training-labs#Meeting_Informationhttps://wiki.openstack.org/wiki/Documentation/training-labs#Meeting_Information",37,66
openstack%2Fbarbican~master~I244559863daf77b8e69a6d6db4bf837e060aa7af,openstack/barbican,master,I244559863daf77b8e69a6d6db4bf837e060aa7af,Updated from global requirements,MERGED,2017-09-13 12:48:33.000000000,2017-09-14 10:23:18.000000000,2017-09-14 10:23:18.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-09-13 12:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3659a13a6d779ce6fde49056fddd33d29f9082ef', 'message': 'Updated from global requirements\n\nChange-Id: I244559863daf77b8e69a6d6db4bf837e060aa7af\n'}, {'number': 2, 'created': '2017-09-14 00:29:27.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/73dc46cf307458f47c1c0e312a4c89350f5cde12', 'message': 'Updated from global requirements\n\nChange-Id: I244559863daf77b8e69a6d6db4bf837e060aa7af\n'}]",0,503615,73dc46cf307458f47c1c0e312a4c89350f5cde12,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: I244559863daf77b8e69a6d6db4bf837e060aa7af
",git fetch https://review.opendev.org/openstack/barbican refs/changes/15/503615/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3659a13a6d779ce6fde49056fddd33d29f9082ef,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Fheat~stable%2Focata~I910fe5237605405791eb6daa81c422bf7fd9eaa1,openstack/heat,stable/ocata,I910fe5237605405791eb6daa81c422bf7fd9eaa1,Keep existing stack tags for patch update,MERGED,2017-07-27 01:29:29.000000000,2017-09-14 10:15:13.000000000,2017-09-14 10:15:13.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 8289}, {'_account_id': 12404}, {'_account_id': 16707}]","[{'number': 1, 'created': '2017-07-27 01:29:29.000000000', 'files': ['heat/tests/engine/service/test_stack_update.py', 'heat/tests/utils.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/4a089058c54ff4ee887d8504b886ef760f57d1d2', 'message': 'Keep existing stack tags for patch update\n\nWhen updating a stack, we overwrite the existing tags.\nSo if no tags are specified during update, all existing\ntags are removed. It would atleast be good to keep the\nexisting tags when doing a patch update (with `--existing`).\n\nChange-Id: I910fe5237605405791eb6daa81c422bf7fd9eaa1\nCloses-Bug: #1701098\n(cherry picked from commit ed0beb6871b9a64c7a51ea85fd824e7c406343b3)\n'}]",0,487642,4a089058c54ff4ee887d8504b886ef760f57d1d2,18,5,1,12404,,,0,"Keep existing stack tags for patch update

When updating a stack, we overwrite the existing tags.
So if no tags are specified during update, all existing
tags are removed. It would atleast be good to keep the
existing tags when doing a patch update (with `--existing`).

Change-Id: I910fe5237605405791eb6daa81c422bf7fd9eaa1
Closes-Bug: #1701098
(cherry picked from commit ed0beb6871b9a64c7a51ea85fd824e7c406343b3)
",git fetch https://review.opendev.org/openstack/heat refs/changes/42/487642/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/service/test_stack_update.py', 'heat/tests/utils.py', 'heat/engine/service.py']",3,4a089058c54ff4ee887d8504b886ef760f57d1d2,bug/1701098," if args.get(rpc_api.PARAM_EXISTING): common_params.setdefault(rpc_api.STACK_TAGS, current_stack.tags)",,42,2
openstack%2Fceilometer~master~If4174431c9a09e237fb79c9643a54748afe797b0,openstack/ceilometer,master,If4174431c9a09e237fb79c9643a54748afe797b0,Remove class HttpDispatcher,MERGED,2017-09-12 09:12:57.000000000,2017-09-14 10:05:16.000000000,2017-09-14 10:05:16.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 15843}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-09-12 09:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2b131853dfa92817fcaf82dabdb7a9c2d40672e8', 'message': ""DON'T REVIEW , TEST\n\nChange-Id: If4174431c9a09e237fb79c9643a54748afe797b0\n""}, {'number': 2, 'created': '2017-09-12 12:05:28.000000000', 'files': ['ceilometer/tests/unit/dispatcher/test_http.py', 'ceilometer/opts.py', 'ceilometer/publisher/direct.py', 'ceilometer/dispatcher/http.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/481e6151affbce38056603c1cb5463974ac35d33', 'message': 'Remove class HttpDispatcher\n\nRemove class HttpDispatcher and use http publisher instead\n\nChange-Id: If4174431c9a09e237fb79c9643a54748afe797b0\n'}]",0,502926,481e6151affbce38056603c1cb5463974ac35d33,12,5,2,26548,,,0,"Remove class HttpDispatcher

Remove class HttpDispatcher and use http publisher instead

Change-Id: If4174431c9a09e237fb79c9643a54748afe797b0
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/26/502926/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/dispatcher/test_http.py', 'ceilometer/opts.py', 'ceilometer/publisher/direct.py', 'ceilometer/dispatcher/http.py', 'setup.cfg']",5,2b131853dfa92817fcaf82dabdb7a9c2d40672e8,local,, http = ceilometer.dispatcher.http:HttpDispatcher http = ceilometer.dispatcher.http:HttpDispatcher,1,409
openstack%2Fopenstack-manuals~master~I3c79d5bfa9bdbaf359ce9e92afe2a6928c045f23,openstack/openstack-manuals,master,I3c79d5bfa9bdbaf359ce9e92afe2a6928c045f23,Imported Translations from Zanata,MERGED,2017-09-14 07:14:41.000000000,2017-09-14 09:58:30.000000000,2017-09-14 09:58:30.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-09-14 07:14:41.000000000', 'files': ['doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0c7853dfd9753296ad78cc791a1332fc08ca60f4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3c79d5bfa9bdbaf359ce9e92afe2a6928c045f23\n'}]",0,503981,0c7853dfd9753296ad78cc791a1332fc08ca60f4,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3c79d5bfa9bdbaf359ce9e92afe2a6928c045f23
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/81/503981/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po'],1,0c7853dfd9753296ad78cc791a1332fc08ca60f4,zanata/translations,"# Frank Kloeker <eumel@arcor.de>, 2017. #zanata""POT-Creation-Date: 2017-09-13 20:11+0000\n""""PO-Revision-Date: 2017-09-13 05:37+0000\n"" ""Last-Translator: Frank Kloeker <eumel@arcor.de>\n""msgid ""Firewalls and default ports"" msgstr ""Firewalls und Standardports"" msgid ""For RHEL or CentOS:"" msgstr ""Fr RHEL oder CentOS:"" msgid ""For RHEL, CentOS, or SUSE:"" msgstr ""Fr RHEL, CentOS, oder SUSE:"" msgid ""For Ubuntu:"" msgstr ""Fr Ubuntu:"" msgid ""Memcached for RHEL and CentOS"" msgstr ""Memcached fr RHEL und CentOS"" msgid ""Memcached for SUSE"" msgstr ""Memcached fr SUSE"" msgid ""Memcached for Ubuntu"" msgstr ""Memcached fr Ubuntu"" msgid ""Message queue for RHEL and CentOS"" msgstr ""Message queue fr RHEL und CentOS"" msgid ""Message queue for SUSE"" msgstr ""Message queue fr SUSE"" msgid ""Message queue for Ubuntu"" msgstr ""Message queue fr Ubuntu"" msgid ""OpenStack packages for SUSE"" msgstr ""OpenStack Pakete fr SUSE"" msgid ""SQL database for RHEL and CentOS"" msgstr ""SQL Datenbank fr RHEL und CentOS"" msgid ""SQL database for SUSE"" msgstr ""SQL Datenbank fr SUSE"" msgid ""SQL database for Ubuntu"" msgstr ""SQL Datenbank fr Ubuntu"" ","""POT-Creation-Date: 2017-09-08 23:49+0000\n""""PO-Revision-Date: 2017-07-04 01:18+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""",46,3
openstack%2Fneutron~master~Iafbb11cf24e07593b55d7c35e075d68980f0e247,openstack/neutron,master,Iafbb11cf24e07593b55d7c35e075d68980f0e247,gate_hook: Switched to $NEUTRON_CORE_PLUGIN_CONF,MERGED,2017-09-13 19:57:05.000000000,2017-09-14 09:55:56.000000000,2017-09-14 09:55:56.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9732}]","[{'number': 1, 'created': '2017-09-13 19:57:05.000000000', 'files': ['neutron/tests/contrib/hooks/vlan_provider'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bd60faf2e0e0d57efd1893d1a659bc0a3205907', 'message': 'gate_hook: Switched to $NEUTRON_CORE_PLUGIN_CONF\n\nThe Q_* variable is not defined when lib/neutron is used.\n\nChange-Id: Iafbb11cf24e07593b55d7c35e075d68980f0e247\n'}]",0,503794,1bd60faf2e0e0d57efd1893d1a659bc0a3205907,12,7,1,9656,,,0,"gate_hook: Switched to $NEUTRON_CORE_PLUGIN_CONF

The Q_* variable is not defined when lib/neutron is used.

Change-Id: Iafbb11cf24e07593b55d7c35e075d68980f0e247
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/503794/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/contrib/hooks/vlan_provider'],1,1bd60faf2e0e0d57efd1893d1a659bc0a3205907,new-neutron-devstack-in-gate,[[post-config|/$NEUTRON_CORE_PLUGIN_CONF]],[[post-config|/$Q_PLUGIN_CONF_FILE]],1,1
openstack%2Fpython-barbicanclient~master~I92226c9407ff77839a96cc9476f01eb7acf5c379,openstack/python-barbicanclient,master,I92226c9407ff77839a96cc9476f01eb7acf5c379,Correct docs usage of keystoneauth1 session,MERGED,2017-09-12 21:07:50.000000000,2017-09-14 09:50:39.000000000,2017-09-14 09:50:39.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-09-12 21:07:50.000000000', 'files': ['barbicanclient/client.py', 'README.rst', 'barbicanclient/v1/client.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/036416d64ab5d81f7843d386263186cdb68ef179', 'message': ""Correct docs usage of keystoneauth1 session\n\nkeystoneclient.session has been long deprecated in favor of\nkeystoneauth1.session. This change corrects entries in the\ndocumentation to use the correct library's session.\n\nChange-Id: I92226c9407ff77839a96cc9476f01eb7acf5c379\n""}]",0,503189,036416d64ab5d81f7843d386263186cdb68ef179,9,3,1,21420,,,0,"Correct docs usage of keystoneauth1 session

keystoneclient.session has been long deprecated in favor of
keystoneauth1.session. This change corrects entries in the
documentation to use the correct library's session.

Change-Id: I92226c9407ff77839a96cc9476f01eb7acf5c379
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/89/503189/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbicanclient/client.py', 'README.rst', 'barbicanclient/v1/client.py']",3,036416d64ab5d81f7843d386263186cdb68ef179,session-deprecated, :param session: An instance of keystoneauth1.session.Session that, :param session: An instance of keystoneclient.session.Session that,3,3
openstack%2Ftripleo-quickstart-extras~master~Idaf36281366a3fc5b690884ea5d6376612e779a8,openstack/tripleo-quickstart-extras,master,Idaf36281366a3fc5b690884ea5d6376612e779a8,Enable some off-by-default checks,ABANDONED,2017-07-13 08:15:26.000000000,2017-09-14 09:27:47.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 18846}, {'_account_id': 19930}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 25079}, {'_account_id': 25254}, {'_account_id': 25587}, {'_account_id': 25720}]","[{'number': 1, 'created': '2017-07-13 08:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/50b911688de48b937c003aac26b33eb7576e9e27', 'message': 'Enable some off-by-default checks\n\nSome of the available checks are disabled by default, like:\n[H106] Dont put vim configuration in source files\n[H203] Use assertIs(Not)None to check for None\n\nChange-Id: Idaf36281366a3fc5b690884ea5d6376612e779a8\n'}, {'number': 2, 'created': '2017-07-25 07:28:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/912269ff4ddc6ac8214220deea272bbf52f2bbe5', 'message': 'Enable some off-by-default checks\n\nSome of the available checks are disabled by default, like:\n[H106] Dont put vim configuration in source files\n[H203] Use assertIs(Not)None to check for None\n\nChange-Id: Idaf36281366a3fc5b690884ea5d6376612e779a8\n'}]",1,483257,912269ff4ddc6ac8214220deea272bbf52f2bbe5,19,10,2,25079,,,0,"Enable some off-by-default checks

Some of the available checks are disabled by default, like:
[H106] Dont put vim configuration in source files
[H203] Use assertIs(Not)None to check for None

Change-Id: Idaf36281366a3fc5b690884ea5d6376612e779a8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/57/483257/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,50b911688de48b937c003aac26b33eb7576e9e27,enable_checks,"# H106 Dont put vim configuration in source files # H203 Use assertIs(Not)None to check for Noneenable-extensions=H106,H203",,3,0
openstack%2Fadjutant~master~I143d69dee6b987e9b719a2a07f23a37da576bc27,openstack/adjutant,master,I143d69dee6b987e9b719a2a07f23a37da576bc27,Moving clients to common module,MERGED,2017-07-11 23:06:33.000000000,2017-09-14 09:26:16.000000000,2017-09-14 09:26:16.000000000,"[{'_account_id': 3}, {'_account_id': 10420}]","[{'number': 1, 'created': '2017-07-11 23:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/07a0dc1f9f5888b0350d17123f698b93a4433dd5', 'message': 'Moving clients to common module\n\n* Moves tests clients to adjutant/common/tests.py\n* QuotaManager to common/quota.py\n* openstack_clients and user_store moved to common\n\nChange-Id: I143d69dee6b987e9b719a2a07f23a37da576bc27\n'}, {'number': 2, 'created': '2017-08-16 23:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/ed4c2fdf2ed8b617dcdede4b987270148fd54d84', 'message': 'Moving clients to common module\n\n* Moves tests clients to adjutant/common/tests.py\n* QuotaManager to common/quota.py\n* openstack_clients and user_store moved to common\n\nChange-Id: I143d69dee6b987e9b719a2a07f23a37da576bc27\n'}, {'number': 3, 'created': '2017-09-04 22:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/9ea1ab7c2401a3ef422858c77cc4d3983b92351a', 'message': 'Moving clients to common module\n\n* Moves tests clients to adjutant/common/tests.py\n* QuotaManager to common/quota.py\n* openstack_clients and user_store moved to common\n\nChange-Id: I143d69dee6b987e9b719a2a07f23a37da576bc27\n'}, {'number': 4, 'created': '2017-09-14 08:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/b5088c40afa78c8ee54308f7cfdbbb4b4ac02850', 'message': 'Moving clients to common module\n\n* Moves tests clients to adjutant/common/tests.py\n* QuotaManager to common/quota.py\n* openstack_clients and user_store moved to common\n\nChange-Id: I143d69dee6b987e9b719a2a07f23a37da576bc27\n'}, {'number': 5, 'created': '2017-09-14 08:53:28.000000000', 'files': ['adjutant/common/tests/utils.py', 'adjutant/actions/v1/tests/test_project_actions.py', 'adjutant/common/tests/fake_clients.py', 'adjutant/actions/v1/users.py', 'adjutant/actions/v1/resources.py', 'adjutant/api/v1/openstack.py', 'adjutant/common/tests/__init__.py', 'adjutant/common/quota.py', 'adjutant/api/v1/tests/test_api_openstack.py', 'adjutant/api/v1/tests/test_api_taskview.py', 'adjutant/common/openstack_clients.py', 'adjutant/actions/v1/projects.py', 'adjutant/api/v1/tests/__init__.py', 'adjutant/common/tests/test_utils.py', 'adjutant/actions/v1/tests/test_user_actions.py', 'adjutant/actions/v1/tests/test_misc_actions.py', 'adjutant/actions/v1/tests/__init__.py', 'adjutant/actions/v1/base.py', 'adjutant/api/v1/tasks.py', 'adjutant/actions/v1/misc.py', 'adjutant/api/v1/tests/test_api_admin.py', 'adjutant/actions/v1/serializers.py', 'adjutant/actions/v1/tests/test_resource_actions.py', 'adjutant/common/user_store.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/3973fcb446d1d3a06ee51111f44ad46770ac49e5', 'message': 'Moving clients to common module\n\n* Moves tests clients to adjutant/common/tests.py\n* QuotaManager to common/quota.py\n* openstack_clients and user_store moved to common\n\nChange-Id: I143d69dee6b987e9b719a2a07f23a37da576bc27\n'}]",0,482736,3973fcb446d1d3a06ee51111f44ad46770ac49e5,17,2,5,26263,,,0,"Moving clients to common module

* Moves tests clients to adjutant/common/tests.py
* QuotaManager to common/quota.py
* openstack_clients and user_store moved to common

Change-Id: I143d69dee6b987e9b719a2a07f23a37da576bc27
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/36/482736/4 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant/actions/v1/tests/test_user_actions.py', 'adjutant/common/tests/utils.py', 'adjutant/actions/v1/tests/__init__.py', 'adjutant/actions/v1/tests/test_project_actions.py', 'adjutant/actions/v1/base.py', 'adjutant/api/v1/tasks.py', 'adjutant/actions/v1/misc.py', 'adjutant/api/v1/tests/test_api_admin.py', 'adjutant/common/tests/fake_clients.py', 'adjutant/actions/v1/serializers.py', 'adjutant/actions/v1/users.py', 'adjutant/actions/v1/resources.py', 'adjutant/api/v1/openstack.py', 'adjutant/common/tests/__init__.py', 'adjutant/common/quota.py', 'adjutant/actions/v1/tests/test_resource_actions.py', 'adjutant/api/v1/tests/test_api_openstack.py', 'adjutant/api/v1/tests/test_api_taskview.py', 'adjutant/common/openstack_clients.py', 'adjutant/actions/v1/projects.py', 'adjutant/common/user_store.py', 'adjutant/api/v1/tests/__init__.py', 'adjutant/common/tests/test_utils.py']",23,07a0dc1f9f5888b0350d17123f698b93a4433dd5,new/update_quota,"from adjutant.common.tests.fake_clients import FakeManager, setup_temp_cache from adjutant.common.tests.utils import (AdjutantAPITestCase, modify_dict_settings) @mock.patch('adjutant.common.user_store.IdentityManager',","from adjutant.api.v1.tests import (FakeManager, setup_temp_cache, AdjutantAPITestCase, modify_dict_settings)@mock.patch('adjutant.actions.user_store.IdentityManager',",903,887
openstack%2Ftempest~master~I01f939ab58851c8def880a953b62cba0eff0e44b,openstack/tempest,master,I01f939ab58851c8def880a953b62cba0eff0e44b,Use glance client to delete an image,MERGED,2017-09-12 14:07:14.000000000,2017-09-14 09:06:40.000000000,2017-09-14 09:06:40.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-12 14:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50ad15cf437bba6ded679473f059b51bdb9e3432', 'message': 'Use glance client to delete an image\n\nIn compute/image tests the test image is created with the glance\nclient. We should delete it with the glance client as well.\n\nChange-Id: I01f939ab58851c8def880a953b62cba0eff0e44b\n'}, {'number': 2, 'created': '2017-09-14 04:56:01.000000000', 'files': ['tempest/api/compute/images/test_image_metadata.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f78565d4de63f5dd16f47275c63edbd227214bd6', 'message': 'Use glance client to delete an image\n\nIn compute/image tests the test image is created with the glance\nclient. We should delete it with the glance client as well.\n\nChange-Id: I01f939ab58851c8def880a953b62cba0eff0e44b\n'}]",0,503007,f78565d4de63f5dd16f47275c63edbd227214bd6,12,5,2,1921,,,0,"Use glance client to delete an image

In compute/image tests the test image is created with the glance
client. We should delete it with the glance client as well.

Change-Id: I01f939ab58851c8def880a953b62cba0eff0e44b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/07/503007/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/images/test_image_metadata.py'],1,50ad15cf437bba6ded679473f059b51bdb9e3432,class_resource_cleanup," cls.glance_client.delete_image,"," cls.compute_images_client.delete_image,",1,1
openstack%2Frequirements~stable%2Fpike~I17e17c4b258a80e91c2a332b8275250c0cd9a575,openstack/requirements,stable/pike,I17e17c4b258a80e91c2a332b8275250c0cd9a575,update constraint for python-manilaclient to new release 1.17.2,MERGED,2017-09-13 15:38:38.000000000,2017-09-14 09:06:34.000000000,2017-09-14 09:06:34.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-09-13 15:38:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/787e7824a528b2ab1b093d06a69b43be1f5f0655', 'message': 'update constraint for python-manilaclient to new release 1.17.2\n\nChange-Id: I17e17c4b258a80e91c2a332b8275250c0cd9a575\nmeta:version: 1.17.2\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Tom Barron <tpb@dyncloud.net>\nmeta:release:Commit: Tom Barron <tpb@dyncloud.net>\nmeta:release:Change-Id: Iee135f34e899ce4f62345842816484893be0adc6\nmeta:release:Code-Review+1: Arne Wiebalck <Arne.Wiebalck@cern.ch>\nmeta:release:Code-Review+1: Ben Swartzlander <ben@swartzlander.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,503715,787e7824a528b2ab1b093d06a69b43be1f5f0655,11,4,1,11131,,,0,"update constraint for python-manilaclient to new release 1.17.2

Change-Id: I17e17c4b258a80e91c2a332b8275250c0cd9a575
meta:version: 1.17.2
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Tom Barron <tpb@dyncloud.net>
meta:release:Commit: Tom Barron <tpb@dyncloud.net>
meta:release:Change-Id: Iee135f34e899ce4f62345842816484893be0adc6
meta:release:Code-Review+1: Arne Wiebalck <Arne.Wiebalck@cern.ch>
meta:release:Code-Review+1: Ben Swartzlander <ben@swartzlander.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/503715/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,787e7824a528b2ab1b093d06a69b43be1f5f0655,new-release,python-manilaclient===1.17.2,python-manilaclient===1.17.1,1,1
openstack%2Fkolla-ansible~master~Ibcf16fd165f7023823ffd8fc7d3c68ae5f43726c,openstack/kolla-ansible,master,Ibcf16fd165f7023823ffd8fc7d3c68ae5f43726c,Made requested changes to the commit message.,ABANDONED,2017-09-14 04:00:13.000000000,2017-09-14 09:06:03.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 26444}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-14 04:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8cdb3b2d2c6d6a72244283fad30158590499285f', 'message': 'Made requested changes to the commit message.\n\nChange-Id: Ibcf16fd165f7023823ffd8fc7d3c68ae5f43726c\n'}]",0,503934,8cdb3b2d2c6d6a72244283fad30158590499285f,6,4,1,26444,,,0,"Made requested changes to the commit message.

Change-Id: Ibcf16fd165f7023823ffd8fc7d3c68ae5f43726c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/503934/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8cdb3b2d2c6d6a72244283fad30158590499285f,,,,0,0
openstack%2Fpymod2pkg~master~I424df8dbf38a8275c96713e1a8bcf38f37869e8e,openstack/pymod2pkg,master,I424df8dbf38a8275c96713e1a8bcf38f37869e8e,Add tripleo-common for RDO openstack- packages,MERGED,2017-09-12 10:59:56.000000000,2017-09-14 08:56:10.000000000,2017-09-14 08:56:10.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 16282}]","[{'number': 1, 'created': '2017-09-12 10:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/25c49efe0e07318e7926999ac44a6480ee134aeb', 'message': 'Add tripleo-common for RDO openstack- packages\n\nmapping for tripleo-common was missing\n\nChange-Id: I424df8dbf38a8275c96713e1a8bcf38f37869e8e\n'}, {'number': 2, 'created': '2017-09-13 16:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/ef8404aefb53841d0e2cf1b9e83337babc366aaa', 'message': 'Add tripleo-common for RDO openstack- packages\n\nmapping for tripleo-common was missing\n\nChange-Id: I424df8dbf38a8275c96713e1a8bcf38f37869e8e\n'}, {'number': 3, 'created': '2017-09-13 16:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/5f105ab267ae33692347cf842d36b0396adb4d40', 'message': 'Add tripleo-common for RDO openstack- packages\n\nmapping for tripleo-common was missing\n\nChange-Id: I424df8dbf38a8275c96713e1a8bcf38f37869e8e\n'}, {'number': 4, 'created': '2017-09-14 04:00:03.000000000', 'files': ['pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/2a14645788d5e539a12fa2513de85458f6c9659c', 'message': 'Add tripleo-common for RDO openstack- packages\n\nmapping for tripleo-common was missing\nre-wrap package list\n\nChange-Id: I424df8dbf38a8275c96713e1a8bcf38f37869e8e\n'}]",0,502949,2a14645788d5e539a12fa2513de85458f6c9659c,19,6,4,16282,,,0,"Add tripleo-common for RDO openstack- packages

mapping for tripleo-common was missing
re-wrap package list

Change-Id: I424df8dbf38a8275c96713e1a8bcf38f37869e8e
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/49/502949/1 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,25c49efe0e07318e7926999ac44a6480ee134aeb,rdo_tripleo_common," 'Tempest', 'tripleo-common', 'trove', 'tuskar', 'vitrage', 'zaqar'],"," 'Tempest', 'trove', 'tuskar', 'vitrage', 'zaqar'],",3,1
openstack%2Fpymod2pkg~master~I8a6bbdb70f70e65e08d9dd42ff1de4ef47aec879,openstack/pymod2pkg,master,I8a6bbdb70f70e65e08d9dd42ff1de4ef47aec879,Fix mappings for os-brick and mock,MERGED,2017-09-14 08:04:06.000000000,2017-09-14 08:54:50.000000000,2017-09-14 08:54:50.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-09-14 08:04:06.000000000', 'files': ['pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/4460124dad261916fbec93a4b3cacb499fd8cf6c', 'message': 'Fix mappings for os-brick and mock\n\nThese mappings were changed by mistake in https://review.openstack.org/502953,\ntheir names should be python-os-brick and python-mock (not to be\nconfused with the mock program).\n\nChange-Id: I8a6bbdb70f70e65e08d9dd42ff1de4ef47aec879\n'}]",0,503994,4460124dad261916fbec93a4b3cacb499fd8cf6c,7,3,1,13294,,,0,"Fix mappings for os-brick and mock

These mappings were changed by mistake in https://review.openstack.org/502953,
their names should be python-os-brick and python-mock (not to be
confused with the mock program).

Change-Id: I8a6bbdb70f70e65e08d9dd42ff1de4ef47aec879
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/94/503994/1 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,4460124dad261916fbec93a4b3cacb499fd8cf6c,498420,," 'mock', 'os-brick',",0,2
openstack%2Fpython-tripleoclient~master~I0a7fa4538702c61169a6760b10dbc4f5137bd9ec,openstack/python-tripleoclient,master,I0a7fa4538702c61169a6760b10dbc4f5137bd9ec,Add -n/--networks-data option,MERGED,2017-08-15 16:00:25.000000000,2017-09-14 08:47:56.000000000,2017-08-22 21:08:44.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 14985}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-08-15 16:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff7872f931b4b78398abfe06c7e30a3091c813c9', 'message': 'Add -n/--networks-data option\n\nThis allows overriding the default network_data.yaml, similar to the\nexisting interface for roles_data.yaml.\n\nChange-Id: I0a7fa4538702c61169a6760b10dbc4f5137bd9ec\nPartially-Implements: blueprint composable-networks\n'}, {'number': 2, 'created': '2017-08-17 10:02:26.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/workflows/plan_management.py', 'releasenotes/notes/networks_data_option-6c613c0d118ccfc8.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/112dbb1075d8fba54fa64b8d39b6bd0daa87c845', 'message': 'Add -n/--networks-data option\n\nThis allows overriding the default network_data.yaml, similar to the\nexisting interface for roles_data.yaml.\n\nChange-Id: I0a7fa4538702c61169a6760b10dbc4f5137bd9ec\nPartially-Implements: blueprint composable-networks\n'}]",0,493933,112dbb1075d8fba54fa64b8d39b6bd0daa87c845,38,5,2,4328,,,0,"Add -n/--networks-data option

This allows overriding the default network_data.yaml, similar to the
existing interface for roles_data.yaml.

Change-Id: I0a7fa4538702c61169a6760b10dbc4f5137bd9ec
Partially-Implements: blueprint composable-networks
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/493933/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/v1/overcloud_deploy.py']",3,ff7872f931b4b78398abfe06c7e30a3091c813c9,bp/composable-networks," parsed_args.plan_environment_file, parsed_args.networks_file) parsed_args.plan_environment_file, parsed_args.networks_file) '--networks-file', '-n', dest='networks_file', help=_('Networks file, overrides the default %s in the ' '--templates directory') % constants.OVERCLOUD_NETWORKS_FILE ) parser.add_argument(", parsed_args.plan_environment_file) parsed_args.plan_environment_file),27,7
openstack%2Ffuel-qa~stable%2Fmitaka~Ie26b913d3a5a5eba2c8ae0ae6e9143de28fadb5b,openstack/fuel-qa,stable/mitaka,Ie26b913d3a5a5eba2c8ae0ae6e9143de28fadb5b,Update procedure was changed (9.x),MERGED,2017-07-10 10:06:59.000000000,2017-09-14 08:37:25.000000000,2017-09-14 08:37:25.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 21485}, {'_account_id': 25989}]","[{'number': 1, 'created': '2017-07-10 10:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/84477174b35fe371800e72a574fd4b630d3978bb', 'message': 'Update procedure was changed (9.x)\n\nChange-Id: Ie26b913d3a5a5eba2c8ae0ae6e9143de28fadb5b\nRelated-bug: #1661260\n'}, {'number': 2, 'created': '2017-07-10 11:43:45.000000000', 'files': ['fuelweb_test/tests/tests_upgrade/tests_install_mu/test_install_mu_base.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/463b97563e2e5e28b1500eb3c80ec4d0477dfea7', 'message': ""Update procedure was changed (9.x)\n\nSequence of update procedure was changed. Step with update ceph was\nmoved before step 'update cluster'.\nChange-Id: Ie26b913d3a5a5eba2c8ae0ae6e9143de28fadb5b\nRelated-bug: #1661260\n""}]",0,482084,463b97563e2e5e28b1500eb3c80ec4d0477dfea7,20,5,2,15921,,,0,"Update procedure was changed (9.x)

Sequence of update procedure was changed. Step with update ceph was
moved before step 'update cluster'.
Change-Id: Ie26b913d3a5a5eba2c8ae0ae6e9143de28fadb5b
Related-bug: #1661260
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/84/482084/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_upgrade/tests_install_mu/test_install_mu_base.py'],1,84477174b35fe371800e72a574fd4b630d3978bb,bug/1661260," if settings.USE_MOS_MU_FOR_UPGRADE: mos_mu_path = 'cd {} &&'.format(settings.MOS_MU_PATH) nodes = self.fuel_web.client.list_cluster_nodes(cluster_id) cmd_ceph_ver = ""ceph version | egrep -o '[0-9]*\.[0-9]*\.[0-9]*'"" cmd_kernel_ver = ""uname -r"" kernel_before = {} ceph_before = {} ceph_detected = False for node in nodes: logger.info(""Get current version of kernel and ceph on node {}"" """".format(node['hostname'])) with self.fuel_web.get_ssh_for_nailgun_node(node) as remote: out = remote.execute(cmd_kernel_ver).stdout[0] logger.info(""Kernel version: {}"".format(out)) kernel_before[node['hostname']] = out if 'ceph-osd' in node['roles']: ceph_detected = True out = remote.execute(cmd_ceph_ver).stdout[0] ceph_before[node['hostname']] = out logger.info(""Ceph version: {}"".format(out)) if ceph_detected: logger.info('Update ceph') command = \ '{0} ansible-playbook playbooks/update_ceph.yml -e \'' \ '{{""env_id"":{1}, ""add_ceph_repo"":true}}\'' \ ''.format(mos_mu_path, cluster_id) self.ssh_manager.check_call( ip=self.ssh_manager.admin_ip, command=command) "," mos_mu_path = 'cd {} &&'.format(settings.MOS_MU_PATH) nodes = self.fuel_web.client.list_cluster_nodes(cluster_id) cmd_ceph_ver = ""ceph version | egrep -o '[0-9]*\.[0-9]*\.[0-9]*'"" cmd_kernel_ver = ""uname -r"" kernel_before = {} ceph_before = {} ceph_detected = False for node in nodes: logger.info(""Get current version of kernel and ceph on node {}"" """".format(node['hostname'])) with self.fuel_web.get_ssh_for_nailgun_node(node) as remote: out = remote.execute(cmd_kernel_ver).stdout[0] logger.info(""Kernel version: {}"".format(out)) kernel_before[node['hostname']] = out if 'ceph-osd' in node['roles']: ceph_detected = True out = remote.execute(cmd_ceph_ver).stdout[0] ceph_before[node['hostname']] = out logger.info(""Ceph version: {}"".format(out)) if ceph_detected: logger.info('Update ceph') command = \ '{0} ansible-playbook playbooks/update_ceph.yml -e \'' \ '{{""env_id"":{1}, ""restart_ceph"":false}}\'' \ ''.format(mos_mu_path, cluster_id) self.ssh_manager.check_call( ip=self.ssh_manager.admin_ip, command=command) ",32,31
openstack%2Fkolla-ansible~master~I904db362515597099f756d26a4c2b26b105e1f12,openstack/kolla-ansible,master,I904db362515597099f756d26a4c2b26b105e1f12,No Vagrant doc available for master,ABANDONED,2017-09-12 10:51:05.000000000,2017-09-14 08:35:57.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 19316}, {'_account_id': 23717}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-12 10:51:05.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5d711752c6bd633b4db8edee67142358154ebfb', 'message': 'No Vagrant doc available for master\n\nChange-Id: I904db362515597099f756d26a4c2b26b105e1f12\n'}]",2,502948,d5d711752c6bd633b4db8edee67142358154ebfb,6,5,1,23717,,,0,"No Vagrant doc available for master

Change-Id: I904db362515597099f756d26a4c2b26b105e1f12
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/502948/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,d5d711752c6bd633b4db8edee67142358154ebfb,,"to Vagrant, use the Vagrant or VirtualBox environment.","to Vagrant, use the Vagrant virtual environment documented in :doc:`/contributor/vagrant-dev-env`.",1,2
openstack%2Fbarbican~master~I75a8e85e9d3102b88fd34da7355749fce2c74352,openstack/barbican,master,I75a8e85e9d3102b88fd34da7355749fce2c74352,Use PortOpt for port options,MERGED,2017-08-14 06:48:58.000000000,2017-09-14 08:04:59.000000000,2017-09-14 08:04:59.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 21797}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-08-14 06:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/282445cf4d5bd7976c0c4392949d4165cbb08aac', 'message': 'Use PortOpt for port options\n\noslo.config provides PortOpt to validate the range of port [1].\n\n[1] https://github.com/openstack/oslo.config/blob/2.6.0/oslo_config/cfg.py#L1114\n\nChange-Id: I75a8e85e9d3102b88fd34da7355749fce2c74352\n'}, {'number': 2, 'created': '2017-09-12 07:45:03.000000000', 'files': ['barbican/plugin/dogtag_config_opts.py', 'barbican/tests/plugin/test_dogtag.py', 'barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/de7478d2e838e549d883f60032697de379954f64', 'message': 'Use PortOpt for port options\n\noslo.config provides PortOpt to validate the range of port [1].\n\n[1] https://github.com/openstack/oslo.config/blob/2.6.0/oslo_config/cfg.py#L1114\n\nChange-Id: I75a8e85e9d3102b88fd34da7355749fce2c74352\n'}]",0,493452,de7478d2e838e549d883f60032697de379954f64,24,7,2,22056,,,0,"Use PortOpt for port options

oslo.config provides PortOpt to validate the range of port [1].

[1] https://github.com/openstack/oslo.config/blob/2.6.0/oslo_config/cfg.py#L1114

Change-Id: I75a8e85e9d3102b88fd34da7355749fce2c74352
",git fetch https://review.opendev.org/openstack/barbican refs/changes/52/493452/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/dogtag_config_opts.py', 'barbican/tests/plugin/test_dogtag.py']",2,282445cf4d5bd7976c0c4392949d4165cbb08aac,config, CONF.dogtag_plugin.dogtag_port = 8443," CONF.dogtag_plugin.dogtag_port = ""8443""",4,4
openstack%2Fbarbican~master~I1c72ce468f588df70fecfb704c97fa25627447fa,openstack/barbican,master,I1c72ce468f588df70fecfb704c97fa25627447fa,Use PortOpt for KMIP port,MERGED,2017-09-11 20:25:37.000000000,2017-09-14 08:01:37.000000000,2017-09-14 08:01:37.000000000,"[{'_account_id': 3}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-09-11 20:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9f2e1f7235f2002a30c914ceb18de50eba06f4e1', 'message': 'Use PortOpt for KMIP port\n\noslo.config provides PortOpt to validate the range of port [1].\n\n[1] https://github.com/openstack/oslo.config/blob/2.6.0/oslo_config/cfg.py#L1114\n\nChange-Id: I1c72ce468f588df70fecfb704c97fa25627447fa\n'}, {'number': 2, 'created': '2017-09-12 08:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3c9f69cdd9ed0cdc357cc335e141130fd9ab9b21', 'message': 'Use PortOpt for KMIP port\n\noslo.config provides PortOpt to validate the range of port [1].\n\n[1] https://github.com/openstack/oslo.config/blob/2.6.0/oslo_config/cfg.py#L1114\n\nChange-Id: I1c72ce468f588df70fecfb704c97fa25627447fa\n'}, {'number': 3, 'created': '2017-09-12 17:51:54.000000000', 'files': ['barbican/plugin/kmip_secret_store.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/5745f4a1c3f4f8f83b06b9e33656ef8c4f394fd3', 'message': 'Use PortOpt for KMIP port\n\noslo.config provides PortOpt to validate the range of port [1].\n\n[1] https://github.com/openstack/oslo.config/blob/2.6.0/oslo_config/cfg.py#L1114\n\nChange-Id: I1c72ce468f588df70fecfb704c97fa25627447fa\n'}]",0,502576,5745f4a1c3f4f8f83b06b9e33656ef8c4f394fd3,14,4,3,8623,,,0,"Use PortOpt for KMIP port

oslo.config provides PortOpt to validate the range of port [1].

[1] https://github.com/openstack/oslo.config/blob/2.6.0/oslo_config/cfg.py#L1114

Change-Id: I1c72ce468f588df70fecfb704c97fa25627447fa
",git fetch https://review.opendev.org/openstack/barbican refs/changes/76/502576/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/kmip_secret_store.py'],1,9f2e1f7235f2002a30c914ceb18de50eba06f4e1,kmip-portopt," cfg.PortOpt('port',"," cfg.IntOpt('port',",1,1
openstack%2Frenderspec~master~Ie32d9a592f29d73b417c6baeb126677cc6a48190,openstack/renderspec,master,Ie32d9a592f29d73b417c6baeb126677cc6a48190,Support different py versions in py2name() and py2pkg(),MERGED,2017-09-13 18:35:56.000000000,2017-09-14 07:54:51.000000000,2017-09-14 07:54:51.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-09-13 18:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/518ce7a294313ea8d19a9750f903bc0555ed844d', 'message': 'Support different py versions in py2name() and py2pkg()\n\npymod2pkg got recently a feature to support the name translation for different\npython version. This is needed for supporting python2 and python3 package\nnames in .spec.j2 templates.\nAdd support for this feature in the py2name() and py2pkg() context functions.\n\nChange-Id: Ie32d9a592f29d73b417c6baeb126677cc6a48190\n'}, {'number': 2, 'created': '2017-09-14 06:04:59.000000000', 'files': ['tests.py', 'renderspec/contextfuncs.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/2a0409abd6072aa9fb19869422d43652f4811f2b', 'message': 'Support different py versions in py2name() and py2pkg()\n\npymod2pkg got recently a feature to support the name translation for different\npython versions. This is needed for supporting python2 and python3 package\nnames in .spec.j2 templates.\nAdd support for this feature in the py2name() and py2pkg() context functions.\n\nChange-Id: Ie32d9a592f29d73b417c6baeb126677cc6a48190\n'}]",0,503775,2a0409abd6072aa9fb19869422d43652f4811f2b,12,4,2,7102,,,0,"Support different py versions in py2name() and py2pkg()

pymod2pkg got recently a feature to support the name translation for different
python versions. This is needed for supporting python2 and python3 package
names in .spec.j2 templates.
Add support for this feature in the py2name() and py2pkg() context functions.

Change-Id: Ie32d9a592f29d73b417c6baeb126677cc6a48190
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/75/503775/2 && git format-patch -1 --stdout FETCH_HEAD,"['renderspec/contextfuncs.py', 'tests.py', 'doc/source/usage.rst']",3,518ce7a294313ea8d19a9750f903bc0555ed844d,503775,"Since `pymod2pkg 0.10.0`, there is the possibility to get a name for a specific python version. Currently there are 3 values * `py`: this is the unversioned name * `py2`: this is the python2 name * `py3`: this is the python3 name This can also be used with `py2name()`:: Name: {{ py2name('oslo.config', py_version='py3') }} Rendering this template :program:`renderspec` with the `suse` style would result in:: Name: python3-oslo.config The translation for a specific python version can be done with the `py_version` parameter similar to `py2name()```:: BuildRequires: {{ py2pkg('oslo.config', ('>=', '3.4.0'), py_version='py3') }} renders to:: BuildRequires: python3-oslo-config >= 2:3.4.0 ",,71,20
openstack%2Fpymod2pkg~master~I8477aad261675034c732bca4a4d72c2fdc1a023d,openstack/pymod2pkg,master,I8477aad261675034c732bca4a4d72c2fdc1a023d,Fix libvirt-python mapping for SUSE,ABANDONED,2017-09-12 13:47:51.000000000,2017-09-14 07:47:28.000000000,,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-09-12 13:47:51.000000000', 'files': ['pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/21efba9b767c5ad1deea072c29b13244b0d24514', 'message': 'Fix libvirt-python mapping for SUSE\n\nSUSE has python2-libvirt-python and python3-libvirt-python. So no\nextra rule is needed.\n\nChange-Id: I8477aad261675034c732bca4a4d72c2fdc1a023d\n'}]",0,502999,21efba9b767c5ad1deea072c29b13244b0d24514,10,4,1,7102,,,0,"Fix libvirt-python mapping for SUSE

SUSE has python2-libvirt-python and python3-libvirt-python. So no
extra rule is needed.

Change-Id: I8477aad261675034c732bca4a4d72c2fdc1a023d
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/99/502999/1 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,21efba9b767c5ad1deea072c29b13244b0d24514,,," 'libvirt-python',",0,1
openstack%2Fwatcher~master~I1aca257fbe8b08c3478c5da9639835033b19144a,openstack/watcher,master,I1aca257fbe8b08c3478c5da9639835033b19144a,Utils: fix usage of strtime,MERGED,2017-09-07 03:48:11.000000000,2017-09-14 07:28:24.000000000,2017-09-14 07:28:24.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 23874}]","[{'number': 1, 'created': '2017-09-07 03:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/a97ec1178ed1841520e64964dd83fa0069cff716', 'message': ""Utils: fix usage of strtime\n\nAs oslo_utils.timeutils.strtime() is deprecated in\nversion '1.6', and will be removed in a future version.\nBut The formats of the strings generated by isoformat\ncan not be user-defined, so argument 'fmt' should be added\nfor users to defined their own formats.\n\nSo the workaround is to copy the current implementation from\noslo_utils.timeutils.strtime() to utils.py\n\nFor more informations:\nhttps://docs.openstack.org/oslo.utils/latest/reference/timeutils.html\n\nChange-Id: I1aca257fbe8b08c3478c5da9639835033b19144a\nPartial-Bug: #1715325\n""}, {'number': 2, 'created': '2017-09-07 08:56:51.000000000', 'files': ['watcher/common/context.py', 'watcher/tests/api/v1/test_audits.py', 'watcher/common/utils.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/3a7fc7a8e502f9ac0db28aefcd1e9f2742a15e44', 'message': ""Utils: fix usage of strtime\n\nAs oslo_utils.timeutils.strtime() is deprecated in\nversion '1.6', and will be removed in a future version.\n\nFor more informations:\nhttps://docs.openstack.org/oslo.utils/latest/reference/timeutils.html\n\nChange-Id: I1aca257fbe8b08c3478c5da9639835033b19144a\nPartial-Bug: #1715325\n""}]",0,501556,3a7fc7a8e502f9ac0db28aefcd1e9f2742a15e44,12,7,2,23874,,,0,"Utils: fix usage of strtime

As oslo_utils.timeutils.strtime() is deprecated in
version '1.6', and will be removed in a future version.

For more informations:
https://docs.openstack.org/oslo.utils/latest/reference/timeutils.html

Change-Id: I1aca257fbe8b08c3478c5da9639835033b19144a
Partial-Bug: #1715325
",git fetch https://review.opendev.org/openstack/watcher refs/changes/56/501556/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/api/v1/test_audits.py', 'watcher/common/utils.py']",2,a97ec1178ed1841520e64964dd83fa0069cff716,oslo-debt-cleanup,"# ISO 8601 extended time format _ISO8601_TIME_FORMAT_SUBSECOND = '%Y-%m-%dT%H:%M:%S.%f' PERFECT_TIME_FORMAT = _ISO8601_TIME_FORMAT_SUBSECOND def strtime(at=None, fmt=PERFECT_TIME_FORMAT): """"""Returns formatted utcnow"""""" # Python provides a similar instance method for datetime.datetime object # called isoformat(). The format of the strings generated by isoformat() # have a couple of problems: # 1) The strings generated by strtime are used in tokens and other public # APIs that we can't change without a deprecation period. # 2) The formats of the strings generated by isoformat can not be # user-defined, so argument 'fmt' should be added for users to # defined their own formats. if not at: at = timeutils.utcnow() return at.strftime(fmt)",strtime = timeutils.strtime,23,3
openstack%2Ffuel-qa~stable-mu%2F8.0~Iaecf797a1155f0cbfba77f7eea930b766c57d26b,openstack/fuel-qa,stable-mu/8.0,Iaecf797a1155f0cbfba77f7eea930b766c57d26b,Wait a bit more time for usb boot,MERGED,2017-09-14 07:09:02.000000000,2017-09-14 07:23:39.000000000,2017-09-14 07:23:39.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}]","[{'number': 1, 'created': '2017-09-14 07:09:02.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/2ec880fee19b1daa9ba21eca8c37627aa7dbe67c', 'message': 'Wait a bit more time for usb boot\n\nAfter devops bump we faced strange stuck of usb booting process;\n1 additional second fixes this issue.\n\nChange-Id: Iaecf797a1155f0cbfba77f7eea930b766c57d26b\n(cherry picked from commit d91fbdaaff26caa38b652f9f65598c2c18677ea0)\n'}]",0,503980,2ec880fee19b1daa9ba21eca8c37627aa7dbe67c,10,3,1,15984,,,0,"Wait a bit more time for usb boot

After devops bump we faced strange stuck of usb booting process;
1 additional second fixes this issue.

Change-Id: Iaecf797a1155f0cbfba77f7eea930b766c57d26b
(cherry picked from commit d91fbdaaff26caa38b652f9f65598c2c18677ea0)
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/80/503980/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,2ec880fee19b1daa9ba21eca8c37627aa7dbe67c,," ""<Wait>\n""",,1,0
openstack%2Fpatrole~master~I1a65c4a210e0821eced605c35618cd2af4c06cd1,openstack/patrole,master,I1a65c4a210e0821eced605c35618cd2af4c06cd1,[TrivialFix] Fix resource_cleanup calling wrong super method,ABANDONED,2017-09-13 21:29:55.000000000,2017-09-14 07:09:15.000000000,,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-09-13 21:29:55.000000000', 'files': ['patrole_tempest_plugin/tests/api/image/test_image_resource_types_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/d53c2f79e6146eabfc99443a8579ab485495e50d', 'message': '[TrivialFix] Fix resource_cleanup calling wrong super method\n\nThis fix corrects resource_cleanup in test_image_resource_types_rbac\nwhich wrongly calls super version esource_setup in resource_cleanup.\n\nChange-Id: I1a65c4a210e0821eced605c35618cd2af4c06cd1\n'}]",2,503833,d53c2f79e6146eabfc99443a8579ab485495e50d,7,4,1,23186,,,0,"[TrivialFix] Fix resource_cleanup calling wrong super method

This fix corrects resource_cleanup in test_image_resource_types_rbac
which wrongly calls super version esource_setup in resource_cleanup.

Change-Id: I1a65c4a210e0821eced605c35618cd2af4c06cd1
",git fetch https://review.opendev.org/openstack/patrole refs/changes/33/503833/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/image/test_image_resource_types_rbac.py'],1,d53c2f79e6146eabfc99443a8579ab485495e50d,fix-resource-cleanup," super(ImageResourceTypesRbacTest, cls).resource_cleanup()"," super(ImageResourceTypesRbacTest, cls).resource_setup()",1,1
openstack%2Ffuel-qa~stable-mu%2F7.0~Iaecf797a1155f0cbfba77f7eea930b766c57d26b,openstack/fuel-qa,stable-mu/7.0,Iaecf797a1155f0cbfba77f7eea930b766c57d26b,Wait a bit more time for usb boot,MERGED,2017-09-05 08:32:20.000000000,2017-09-14 07:09:02.000000000,2017-09-05 08:51:34.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}]","[{'number': 1, 'created': '2017-09-05 08:32:20.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/d91fbdaaff26caa38b652f9f65598c2c18677ea0', 'message': 'Wait a bit more time for usb boot\n\nAfter devops bump we faced strange stuck of usb booting process;\n1 additional second fixes this issue.\n\nChange-Id: Iaecf797a1155f0cbfba77f7eea930b766c57d26b\n'}]",0,500729,d91fbdaaff26caa38b652f9f65598c2c18677ea0,11,3,1,15984,,,0,"Wait a bit more time for usb boot

After devops bump we faced strange stuck of usb booting process;
1 additional second fixes this issue.

Change-Id: Iaecf797a1155f0cbfba77f7eea930b766c57d26b
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/29/500729/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,d91fbdaaff26caa38b652f9f65598c2c18677ea0,," ""<Wait>\n""",,1,0
openstack%2Fnova-powervm~master~Ia55772ff6514839060b0a4a6ceb37efe83370bfd,openstack/nova-powervm,master,Ia55772ff6514839060b0a4a6ceb37efe83370bfd,Updated from global requirements,MERGED,2017-09-11 21:25:31.000000000,2017-09-14 07:06:49.000000000,2017-09-14 07:06:48.000000000,"[{'_account_id': 3}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}]","[{'number': 1, 'created': '2017-09-11 21:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3d401fd212a24da8ab688f6969230136976108fb', 'message': 'Updated from global requirements\n\nChange-Id: Ia55772ff6514839060b0a4a6ceb37efe83370bfd\n'}, {'number': 2, 'created': '2017-09-11 21:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f1d4218f0cbaff1cb591a9f169fef66bd204575c', 'message': 'Updated from global requirements\n\nChange-Id: Ia55772ff6514839060b0a4a6ceb37efe83370bfd\n'}, {'number': 3, 'created': '2017-09-12 14:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/401343e7ba0baa15f888182d1907eec097e01d55', 'message': 'Updated from global requirements\n\nChange-Id: Ia55772ff6514839060b0a4a6ceb37efe83370bfd\n'}, {'number': 4, 'created': '2017-09-12 21:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ddf9ca953f7d4970cdddde06cad8b48589813943', 'message': 'Updated from global requirements\n\nChange-Id: Ia55772ff6514839060b0a4a6ceb37efe83370bfd\n'}, {'number': 5, 'created': '2017-09-13 00:10:33.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f0db3502430c5118bd4ff221b80d16c9c50bda27', 'message': 'Updated from global requirements\n\nChange-Id: Ia55772ff6514839060b0a4a6ceb37efe83370bfd\n'}]",0,502702,f0db3502430c5118bd4ff221b80d16c9c50bda27,23,5,5,11131,,,0,"Updated from global requirements

Change-Id: Ia55772ff6514839060b0a4a6ceb37efe83370bfd
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/02/502702/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,3d401fd212a24da8ab688f6969230136976108fb,openstack/requirements,os-testr>=0.8.2 # Apache-2.0,os-testr>=0.8.0 # Apache-2.0,4,4
openstack%2Fneutron~master~I79a9c3033fb38780808e02f34966280aa9591bc8,openstack/neutron,master,I79a9c3033fb38780808e02f34966280aa9591bc8,Switch to tempest.common.utils.requires_ext,MERGED,2017-09-13 04:41:01.000000000,2017-09-14 07:04:40.000000000,2017-09-14 07:04:40.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7715}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-13 04:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/119d2fdd202ef929964b7fb355b73079a025246c', 'message': 'Switch to tempest.common.utils.requires_ext\n\nThe old (tempest.test.requires_ext) location is deprecated in Pike.\n\nChange-Id: I79a9c3033fb38780808e02f34966280aa9591bc8\n'}, {'number': 2, 'created': '2017-09-13 22:32:23.000000000', 'files': ['neutron/tests/tempest/api/test_ports.py', 'neutron/tests/tempest/api/test_trunk.py', 'neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/admin/test_networks.py', 'neutron/tests/tempest/scenario/test_trunk.py', 'neutron/tests/tempest/scenario/test_migration.py', 'neutron/tests/tempest/api/test_subnetpools_negative.py', 'neutron/tests/tempest/scenario/test_floatingip.py', 'neutron/tests/tempest/api/test_routers.py', 'neutron/tests/tempest/api/test_network_ip_availability.py', 'neutron/tests/tempest/api/test_extension_driver_port_security.py', 'neutron/tests/tempest/api/test_floating_ips.py', 'neutron/tests/tempest/api/admin/test_quotas_negative.py', 'neutron/tests/tempest/scenario/test_qos.py', 'neutron/tests/tempest/api/admin/test_shared_network_extension.py', 'neutron/tests/tempest/scenario/test_dvr.py', 'neutron/tests/tempest/api/test_subnetpools.py', 'neutron/tests/tempest/api/test_address_scopes.py', 'neutron/tests/tempest/api/test_qos.py', 'neutron/tests/tempest/api/test_tag.py', 'neutron/tests/tempest/api/test_networks.py', 'neutron/tests/tempest/api/test_revisions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/62c5afbd95c04de069e318f24f8ac844406d7707', 'message': 'Switch to tempest.common.utils.requires_ext\n\nThe old (tempest.test.requires_ext) location is deprecated in Pike.\n\nChange-Id: I79a9c3033fb38780808e02f34966280aa9591bc8\n'}]",0,503522,62c5afbd95c04de069e318f24f8ac844406d7707,15,6,2,9656,,,0,"Switch to tempest.common.utils.requires_ext

The old (tempest.test.requires_ext) location is deprecated in Pike.

Change-Id: I79a9c3033fb38780808e02f34966280aa9591bc8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/503522/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/test_ports.py', 'neutron/tests/tempest/api/test_trunk.py', 'neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/admin/test_networks.py', 'neutron/tests/tempest/scenario/test_trunk.py', 'neutron/tests/tempest/scenario/test_migration.py', 'neutron/tests/tempest/api/test_subnetpools_negative.py', 'neutron/tests/tempest/scenario/test_floatingip.py', 'neutron/tests/tempest/api/test_routers.py', 'neutron/tests/tempest/api/test_network_ip_availability.py', 'neutron/tests/tempest/api/test_extension_driver_port_security.py', 'neutron/tests/tempest/api/test_floating_ips.py', 'neutron/tests/tempest/api/admin/test_quotas_negative.py', 'neutron/tests/tempest/scenario/test_qos.py', 'neutron/tests/tempest/api/admin/test_shared_network_extension.py', 'neutron/tests/tempest/scenario/test_dvr.py', 'neutron/tests/tempest/api/test_subnetpools.py', 'neutron/tests/tempest/api/test_address_scopes.py', 'neutron/tests/tempest/api/test_qos.py', 'neutron/tests/tempest/api/test_tag.py', 'neutron/tests/tempest/api/test_networks.py', 'neutron/tests/tempest/api/test_revisions.py']",22,119d2fdd202ef929964b7fb355b73079a025246c,503522,"from tempest.common import utils @utils.requires_ext(extension=""security-group"", service=""network"") @utils.requires_ext(extension=""security-group"", service=""network"") @utils.requires_ext(extension=""security-group"", service=""network"") @utils.requires_ext(extension=""allowed-address-pairs"", service=""network"") @utils.requires_ext(extension=""extra_dhcp_opt"", service=""network"") @utils.requires_ext(extension=""dns-integration"", service=""network"") @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""extraroute"", service=""network"") @utils.requires_ext(extension=""subnet-service-types"", service=""network"") @utils.requires_ext(extension=""port-security"", service=""network"") @utils.requires_ext(extension=""binding"", service=""network"") @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""standard-attr-description"", @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""l3-ha"", service=""network"") @utils.requires_ext(extension=""external-net"", service=""network"") @utils.requires_ext(extension=""auto-allocated-topology"", service=""network"") @utils.requires_ext(extension=""subnet_allocation"", service=""network"") @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""qos"", service=""network"") @utils.requires_ext(extension=""qos"", service=""network"")","from tempest import test @test.requires_ext(extension=""security-group"", service=""network"") @test.requires_ext(extension=""security-group"", service=""network"") @test.requires_ext(extension=""security-group"", service=""network"") @test.requires_ext(extension=""allowed-address-pairs"", service=""network"") @test.requires_ext(extension=""extra_dhcp_opt"", service=""network"") @test.requires_ext(extension=""dns-integration"", service=""network"") @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""extraroute"", service=""network"") @test.requires_ext(extension=""subnet-service-types"", service=""network"") @test.requires_ext(extension=""port-security"", service=""network"") @test.requires_ext(extension=""binding"", service=""network"") @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""standard-attr-description"", @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""l3-ha"", service=""network"") @test.requires_ext(extension=""external-net"", service=""network"") @test.requires_ext(extension=""auto-allocated-topology"", service=""network"") @test.requires_ext(extension=""subnet_allocation"", service=""network"") @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""qos"", service=""network"") @test.requires_ext(extension=""qos"", service=""network"")",121,120
openstack%2Fec2-api~master~I1894b69a9e459de874b95ee6ba1fb9d060cd426b,openstack/ec2-api,master,I1894b69a9e459de874b95ee6ba1fb9d060cd426b,Add rm to whitelist_externals in tox.ini,MERGED,2017-09-13 21:06:08.000000000,2017-09-14 07:02:37.000000000,2017-09-14 07:02:37.000000000,"[{'_account_id': 3}, {'_account_id': 10234}]","[{'number': 1, 'created': '2017-09-13 21:06:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/17f137a8ec2f3ef73bf1ececbbafe1c1f83b1717', 'message': 'Add rm to whitelist_externals in tox.ini\n\nWhen running tox tests, a warning pops up saying:\n\nWARNING:test command found but not installed in testenv\n  cmd: /usr/bin/rm\n  env: /path/to/directory/ec2-api/.tox/py27\nMaybe you forgot to specify a dependency? See also the\nwhitelist_externals envconfig setting.\n\nAdding rm to the whitelist_externals causes this warning\nto no longer appear.\n\nChange-Id: I1894b69a9e459de874b95ee6ba1fb9d060cd426b\n'}]",0,503821,17f137a8ec2f3ef73bf1ececbbafe1c1f83b1717,8,2,1,21420,,,0,"Add rm to whitelist_externals in tox.ini

When running tox tests, a warning pops up saying:

WARNING:test command found but not installed in testenv
  cmd: /usr/bin/rm
  env: /path/to/directory/ec2-api/.tox/py27
Maybe you forgot to specify a dependency? See also the
whitelist_externals envconfig setting.

Adding rm to the whitelist_externals causes this warning
to no longer appear.

Change-Id: I1894b69a9e459de874b95ee6ba1fb9d060cd426b
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/21/503821/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,17f137a8ec2f3ef73bf1ececbbafe1c1f83b1717,test-fix,whitelist_externals = rm , ,3,1
openstack%2Fapi-site~master~Iba0f0b5e7f4d4dd8a5653374c4579ceaf3bd835d,openstack/api-site,master,Iba0f0b5e7f4d4dd8a5653374c4579ceaf3bd835d,Update API reference links,MERGED,2017-09-12 22:51:12.000000000,2017-09-14 06:47:44.000000000,2017-09-14 06:47:44.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-09-12 22:51:12.000000000', 'files': ['api-quick-start/source/index.rst', 'www/static/sitemap.xml'], 'web_link': 'https://opendev.org/openstack/api-site/commit/d75ce963afbcd83e07fcbf197dd3717ff1e66b17', 'message': 'Update API reference links\n\nChange-Id: Iba0f0b5e7f4d4dd8a5653374c4579ceaf3bd835d\n'}]",1,503451,d75ce963afbcd83e07fcbf197dd3717ff1e66b17,9,3,1,841,,,0,"Update API reference links

Change-Id: Iba0f0b5e7f4d4dd8a5653374c4579ceaf3bd835d
",git fetch https://review.opendev.org/openstack/api-site refs/changes/51/503451/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-quick-start/source/index.rst', 'www/static/sitemap.xml']",2,d75ce963afbcd83e07fcbf197dd3717ff1e66b17,api-ref-redirect, <loc>https://developer.openstack.org/api-ref/object-store/</loc> <loc>https://developer.openstack.org/api-ref/message/</loc> <loc>https://developer.openstack.org/api-ref/network/index.html</loc> <loc>https://developer.openstack.org/api-ref/network/v2/</loc> <loc>https://developer.openstack.org/api-ref/object-store/index.html</loc> <loc>https://developer.openstack.org/api-ref/message/index.html</loc> <loc>https://developer.openstack.org/api-ref/network/v2/index.html</loc>, <loc>https://developer.openstack.org/api-ref/object-storage/</loc> <loc>https://developer.openstack.org/api-ref/messaging/</loc> <loc>https://developer.openstack.org/api-ref/networking/index.html</loc> <loc>https://developer.openstack.org/api-ref/networking/v2/</loc> <loc>https://developer.openstack.org/api-ref/object-storage/index.html</loc> <loc>https://developer.openstack.org/api-ref/messaging/index.html</loc> <loc>https://developer.openstack.org/api-ref/networking/v2/index.html</loc>,10,10
openstack%2Fapi-site~master~I8114b28adba7c5fa65566632b3b347ace433251b,openstack/api-site,master,I8114b28adba7c5fa65566632b3b347ace433251b,Add redirect for API reference,MERGED,2017-09-12 22:51:12.000000000,2017-09-14 06:47:31.000000000,2017-09-14 06:47:31.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-09-12 22:51:12.000000000', 'files': ['www/static/.htaccess'], 'web_link': 'https://opendev.org/openstack/api-site/commit/94f9d872d91c1fae6b4e24f211231ba848d0d620', 'message': 'Add redirect for API reference\n\nThe URLs of some API references was changed in favor of using\nthe official service types (project-config commit 252673743a).\nThis commit adds redirect for them.\n\nRedirects for shared-file-system and cluster do not need to use\nRedirectMatch. Redirect directive is enough.\n\nAlso reorganizes redirect entries.\n\nChange-Id: I8114b28adba7c5fa65566632b3b347ace433251b\n'}]",2,503450,94f9d872d91c1fae6b4e24f211231ba848d0d620,13,3,1,841,,,0,"Add redirect for API reference

The URLs of some API references was changed in favor of using
the official service types (project-config commit 252673743a).
This commit adds redirect for them.

Redirects for shared-file-system and cluster do not need to use
RedirectMatch. Redirect directive is enough.

Also reorganizes redirect entries.

Change-Id: I8114b28adba7c5fa65566632b3b347ace433251b
",git fetch https://review.opendev.org/openstack/api-site refs/changes/50/503450/1 && git format-patch -1 --stdout FETCH_HEAD,['www/static/.htaccess'],1,94f9d872d91c1fae6b4e24f211231ba848d0d620,api-ref-redirect,# Redirect the old API reference URLs to the new location with official service types redirect 301 /api-ref/networking/ /api-ref/network/ redirect 301 /api-ref/object-storage/ /api-ref/object-store/ redirect 301 /api-ref/messaging/ /api-ref/message/ redirect 301 /api-ref/shared-file-systems/ /api-ref/shared-file-system/ redirect 301 /api-ref/resource-cluster/ /api-ref/clustering/ # -------------------------------------------- # Redirect related to API ref per project team # -------------------------------------------- # Redirect Block Storage API v1 to v2 and v3 landing redirect 301 /api-ref/block-storage/v1/index.html /api-ref/block-storage/index.html # Redirect Networking extensions to landing redirect 301 /api-ref/networking/v2-ext/ /api-ref/network/index.html # ------------------------------------------------------------- # Redirect from centralized API ref to API ref per project team # -------------------------------------------------------------redirect 301 /api-ref-networking-v2.html /api-ref/network/v2/index.html redirect 301 /api-ref-networking-v2-ext.html /api-ref/network/v2/index.htmlredirect 301 /api-ref-objectstorage-v1.html /api-ref/object-store/index.html,"# Redirect Block Storage API v1 to v2 and v3 landing redirect 301 /api-ref/block-storage/v1/index.html /api-ref/block-storage/index.htmlredirect 301 /api-ref-networking-v2.html /api-ref/networking/v2/index.html redirect 301 /api-ref-networking-v2-ext.html /api-ref/networking/v2/index.html # Redirect Networking extensions to landing redirect 301 /api-ref/networking/v2-ext/ /api-ref/networking/index.htmlredirect 301 /api-ref-objectstorage-v1.html /api-ref/object-storage/index.html# Redirect ""shared-file-systems"" (plural) links to official ""shared-file-system"" (singular) redirectmatch 301 /api-ref/shared-file-systems/(.*) /api-ref/shared-file-system/$1# Redirect senlin old service-type resource-cluster to clustering redirectmatch 301 /api-ref/resource-cluster/(.*) /api-ref/clustering/$1",21,11
openstack%2Fnetworking-odl~master~Ia81d894eb553df0b7077710cc2ed18d6a3710004,openstack/networking-odl,master,Ia81d894eb553df0b7077710cc2ed18d6a3710004,tests: fix ml2 plugin config path,MERGED,2017-09-13 15:42:32.000000000,2017-09-14 06:39:51.000000000,2017-09-13 19:54:15.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 26507}]","[{'number': 1, 'created': '2017-09-13 15:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/43c0b34e88136cfde9d05eaf628774c7506d2029', 'message': 'tests_mech_odl: fix ml2 plugin config path\n\nThe changeset of d00a50aad11465d904663dea14b3814017bcff75,\nchange id of Ibc5a9ab268578c243ef13f7e0041bacd6c0c410b\nmoved ml2 plugin config from neutron.plugins.ml2.config\nto neutorn.config.plugins.ml2.config.\nThis patch catches it up.\n\nChange-Id: Ia81d894eb553df0b7077710cc2ed18d6a3710004\n'}, {'number': 2, 'created': '2017-09-13 16:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2f28a6402f7b3798a0f2e2e176e938ea7e29b493', 'message': 'tests_mech_odl: fix ml2 plugin config path\n\nThe changeset of d00a50aad11465d904663dea14b3814017bcff75,\nchange id of Ibc5a9ab268578c243ef13f7e0041bacd6c0c410b\nmoved ml2 plugin config from neutron.plugins.ml2.config\nto neutorn.conf.plugins.ml2.config.\nThis patch catches it up.\n\nChange-Id: Ia81d894eb553df0b7077710cc2ed18d6a3710004\n'}, {'number': 3, 'created': '2017-09-13 16:44:19.000000000', 'files': ['networking_odl/tests/unit/ml2/test_mechanism_odl.py', 'networking_odl/tests/functional/test_odl_dhcp_driver.py', 'networking_odl/tests/functional/base.py', 'networking_odl/tests/fullstack/base.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8dd762fb39bde3008740f6eb7f921bc8a5451e11', 'message': 'tests: fix ml2 plugin config path\n\nThe changeset of d00a50aad11465d904663dea14b3814017bcff75,\nchange id of Ibc5a9ab268578c243ef13f7e0041bacd6c0c410b\nmoved ml2 plugin config from neutron.plugins.ml2.config\nto neutorn.conf.plugins.ml2.config.\nThis patch catches it up.\n\nChange-Id: Ia81d894eb553df0b7077710cc2ed18d6a3710004\n'}]",1,503717,8dd762fb39bde3008740f6eb7f921bc8a5451e11,11,3,3,333,,,0,"tests: fix ml2 plugin config path

The changeset of d00a50aad11465d904663dea14b3814017bcff75,
change id of Ibc5a9ab268578c243ef13f7e0041bacd6c0c410b
moved ml2 plugin config from neutron.plugins.ml2.config
to neutorn.conf.plugins.ml2.config.
This patch catches it up.

Change-Id: Ia81d894eb553df0b7077710cc2ed18d6a3710004
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/17/503717/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/unit/ml2/test_mechanism_odl.py'],1,43c0b34e88136cfde9d05eaf628774c7506d2029,version-update," cfg.CONF.set_override('mechanism_drivers', ['logger', 'opendaylight'], 'ml2') cfg.CONF.set_override('port_binding_controller', 'legacy-port-binding', 'ml2_odl') cfg.CONF.set_override('url', url, 'ml2_odl') cfg.CONF.set_override('username', username, 'ml2_odl') cfg.CONF.set_override('password', password, 'ml2_odl') self.assertRaisesRegex(cfg.RequiredOptError, cfg.CONF.set_override('mechanism_drivers', ['logger', 'opendaylight'], 'ml2') timeout=cfg.CONF.ml2_odl.timeout, *args, **kwargs) url = '%s/%ss' % (cfg.CONF.ml2_odl.url, object_type) url = '%s/%ss/%s' % (cfg.CONF.ml2_odl.url, object_type, url = '%s/%ss/%s' % (cfg.CONF.ml2_odl.url, object_type, cfg.CONF.set_override('mechanism_drivers', ['logger', 'opendaylight'], 'ml2')","from neutron.plugins.ml2 import config config.cfg.CONF.set_override('mechanism_drivers', ['logger', 'opendaylight'], 'ml2') config.cfg.CONF.set_override('port_binding_controller', 'legacy-port-binding', 'ml2_odl') config.cfg.CONF.set_override('url', url, 'ml2_odl') config.cfg.CONF.set_override('username', username, 'ml2_odl') config.cfg.CONF.set_override('password', password, 'ml2_odl') self.assertRaisesRegex(config.cfg.RequiredOptError, config.cfg.CONF.set_override('mechanism_drivers', ['logger', 'opendaylight'], 'ml2') timeout=config.cfg.CONF.ml2_odl.timeout, *args, **kwargs) url = '%s/%ss' % (config.cfg.CONF.ml2_odl.url, object_type) url = '%s/%ss/%s' % (config.cfg.CONF.ml2_odl.url, object_type, url = '%s/%ss/%s' % (config.cfg.CONF.ml2_odl.url, object_type, config.cfg.CONF.set_override('mechanism_drivers', ['logger', 'opendaylight'], 'ml2')",16,18
