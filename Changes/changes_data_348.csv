id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-ci~master~I32c7741435e195f06d31d3ac4087c9243f2f39e0,openstack/tripleo-ci,master,I32c7741435e195f06d31d3ac4087c9243f2f39e0,Run build containers on rocky branch,MERGED,2019-09-16 10:33:01.000000000,2019-09-20 10:53:34.000000000,2019-09-20 10:53:34.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 10:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/20593016c5c093a6615ad10466b84a9a22bc8ac5', 'message': 'Run build containers on rocky branch\n\nChange-Id: I32c7741435e195f06d31d3ac4087c9243f2f39e0\n'}, {'number': 2, 'created': '2019-09-19 15:53:18.000000000', 'files': ['zuul.d/build-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/954a8d27345fbea6a1a9dcbb9654db825a738521', 'message': 'Run build containers on rocky branch\n\nChange-Id: I32c7741435e195f06d31d3ac4087c9243f2f39e0\n'}]",2,682335,954a8d27345fbea6a1a9dcbb9654db825a738521,36,6,2,10969,,,0,"Run build containers on rocky branch

Change-Id: I32c7741435e195f06d31d3ac4087c9243f2f39e0
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/35/682335/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-containers.yaml'],1,20593016c5c093a6615ad10466b84a9a22bc8ac5,rocky1, branches: ^(?!stable/(pike|queens)).*$, branches: ^(?!stable/(pike|queens|rocky)).*$,1,1
openstack%2Foctavia~stable%2Frocky~I41038b1d8d882efa19d991c07dca47f06dcbb5ca,openstack/octavia,stable/rocky,I41038b1d8d882efa19d991c07dca47f06dcbb5ca,Fix member API handling of None/null updates,MERGED,2019-09-19 09:56:05.000000000,2019-09-20 10:51:34.000000000,2019-09-20 10:49:45.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 09:56:05.000000000', 'files': ['octavia/common/constants.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/types/member.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0dc557cb07292039c349990ee15148fdc96f4b18', 'message': 'Fix member API handling of None/null updates\n\nThe current member API does not properly handle clearing/reseting\nvalues on update. Some integer only fields, such as weight,\nwill accept null, but will store the value as ""None"". These will\nwill cause failures updating the amphora configuration.\n\nThis patch corrects this to appropriately handle None/null updates\nto the member parameters.\n\nChange-Id: I41038b1d8d882efa19d991c07dca47f06dcbb5ca\nStory: 2005374\nTask: 33523\n(cherry picked from commit fc9163fce9c4e9deca67a6444db8f913bec15ec3)\n'}]",0,683093,0dc557cb07292039c349990ee15148fdc96f4b18,10,4,1,6469,,,0,"Fix member API handling of None/null updates

The current member API does not properly handle clearing/reseting
values on update. Some integer only fields, such as weight,
will accept null, but will store the value as ""None"". These will
will cause failures updating the amphora configuration.

This patch corrects this to appropriately handle None/null updates
to the member parameters.

Change-Id: I41038b1d8d882efa19d991c07dca47f06dcbb5ca
Story: 2005374
Task: 33523
(cherry picked from commit fc9163fce9c4e9deca67a6444db8f913bec15ec3)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/683093/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/types/member.py']",4,0dc557cb07292039c349990ee15148fdc96f4b18,," minimum=constants.MIN_WEIGHT, maximum=constants.MAX_WEIGHT), default=constants.DEFAULT_WEIGHT) minimum=constants.MIN_WEIGHT, maximum=constants.MAX_WEIGHT), default=constants.DEFAULT_WEIGHT)"," minimum=constants.MIN_WEIGHT, maximum=constants.MAX_WEIGHT), default=1) minimum=constants.MIN_WEIGHT, maximum=constants.MAX_WEIGHT), default=1)",43,2
openstack%2Fkolla~master~I6ec9d58bf54db1ac69b879785f38fb492bc2dfc2,openstack/kolla,master,I6ec9d58bf54db1ac69b879785f38fb492bc2dfc2,sensu-client: install older whois gem,MERGED,2019-09-19 11:51:21.000000000,2019-09-20 10:49:39.000000000,2019-09-19 17:40:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-19 11:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b680fe6619b424e3ea4520850d489032d85099f1', 'message': 'sensu-client: install older whois gem\n\nWhois 5.0.0 requires Ruby 2.4 while CentOS has only 2.0 version.\n\nChange-Id: I6ec9d58bf54db1ac69b879785f38fb492bc2dfc2\n'}, {'number': 2, 'created': '2019-09-19 11:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa255444a99e5b1e2fd964d5c8cd2c1b2d234a69', 'message': 'sensu-client: install older whois gem\n\nWhois 5.0.0 requires Ruby 2.4 while CentOS has only 2.0 version.\n\nChange-Id: I6ec9d58bf54db1ac69b879785f38fb492bc2dfc2\n'}, {'number': 3, 'created': '2019-09-19 13:45:39.000000000', 'files': ['docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/41408527ae88ac42de11ca2818ff405320795a8b', 'message': 'sensu-client: install older whois gem\n\nWhois 5.0.0 requires Ruby 2.4 while CentOS has only 2.0 version.\n\nChange-Id: I6ec9d58bf54db1ac69b879785f38fb492bc2dfc2\n'}]",1,683117,41408527ae88ac42de11ca2818ff405320795a8b,14,4,3,24072,,,0,"sensu-client: install older whois gem

Whois 5.0.0 requires Ruby 2.4 while CentOS has only 2.0 version.

Change-Id: I6ec9d58bf54db1ac69b879785f38fb492bc2dfc2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/683117/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/sensu/sensu-client/Dockerfile.j2'],1,b680fe6619b424e3ea4520850d489032d85099f1,683117,"# NOTE(hrw): whois 5.0.0 requires Ruby 2.4+ while CentOS has 2.0 RUN gem install whois:""<5""; sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }}","RUN sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }}",2,1
openstack%2Fpuppet-tripleo~master~I5dc9be5a9c6fff46b22064aa1f684be8e48ffa66,openstack/puppet-tripleo,master,I5dc9be5a9c6fff46b22064aa1f684be8e48ffa66,Use memcached for token caching in barbican authtoken,MERGED,2019-09-11 03:50:06.000000000,2019-09-20 10:27:50.000000000,2019-09-20 10:27:50.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-11 03:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e03ce09e43ddc579160decad30bb3e152152fcc8', 'message': 'Use memcached for token caching in barbican authtoken\n\nUse memcached to cache token in barbican authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I5dc9be5a9c6fff46b22064aa1f684be8e48ffa66\n'}, {'number': 2, 'created': '2019-09-11 03:51:32.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'spec/classes/tripleo_profile_base_barbican_api_spec.rb', 'spec/classes/tripleo_profile_base_barbican_authtoken_spec.rb', 'manifests/profile/base/barbican/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/652a7801481fbbc5859bf81f2ac98f934c08b354', 'message': 'Use memcached for token caching in barbican authtoken\n\nUse memcached to cache token in barbican authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I5dc9be5a9c6fff46b22064aa1f684be8e48ffa66\n'}]",0,681371,652a7801481fbbc5859bf81f2ac98f934c08b354,28,8,2,9816,,,0,"Use memcached for token caching in barbican authtoken

Use memcached to cache token in barbican authtoken, as in-process
cache, which we currently use, was already deprecated[1].

[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a

Change-Id: I5dc9be5a9c6fff46b22064aa1f684be8e48ffa66
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/71/681371/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'spec/classes/tripleo_profile_base_nova_api_spec.rb', 'spec/classes/tripleo_profile_base_barbican_authtoken_spec.rb', 'manifests/profile/base/barbican/api.pp']",4,e03ce09e43ddc579160decad30bb3e152152fcc8,authtoken-memcache-barbican, include ::tripleo::profile::base::barbican::authtoken,,119,0
openstack%2Fkeystone~master~I7f8051e008ffea1ebaa4b6176f3d1a9f8208eaee,openstack/keystone,master,I7f8051e008ffea1ebaa4b6176f3d1a9f8208eaee,Use raw formatting for mapping_engine help text,MERGED,2019-08-29 13:32:47.000000000,2019-09-20 10:24:19.000000000,2019-09-20 10:21:08.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-08-29 13:32:47.000000000', 'files': ['keystone/cmd/cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c453bf16b0b2ac494139b4feb44b5467b8efed28', 'message': ""Use raw formatting for mapping_engine help text\n\nThe ``keystone-manage mapping_engine`` help text wasn't formatting\nan example assertion properly. The example uses newlines but the\ndefault formatter drops them when formatting and printing help text.\n\nInstead, we can set a raw formatter for the ``mapping_engine``\nparser so that it includes newlines. This means all help text needs to\nbe properly formatted in code even though we only need it for a single\noption. This commit introduces a raw formatter and adds new lines to\nall help text so that it renders the same way as when we were using\nthe default formatter.\n\nChange-Id: I7f8051e008ffea1ebaa4b6176f3d1a9f8208eaee\n""}]",0,679250,c453bf16b0b2ac494139b4feb44b5467b8efed28,9,4,1,5046,,,0,"Use raw formatting for mapping_engine help text

The ``keystone-manage mapping_engine`` help text wasn't formatting
an example assertion properly. The example uses newlines but the
default formatter drops them when formatting and printing help text.

Instead, we can set a raw formatter for the ``mapping_engine``
parser so that it includes newlines. This means all help text needs to
be properly formatted in code even though we only need it for a single
option. This commit introduces a raw formatter and adds new lines to
all help text so that it renders the same way as when we were using
the default formatter.

Change-Id: I7f8051e008ffea1ebaa4b6176f3d1a9f8208eaee
",git fetch https://review.opendev.org/openstack/keystone refs/changes/50/679250/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/cmd/cli.py'],1,c453bf16b0b2ac494139b4feb44b5467b8efed28,,"import argparse parser.formatter_class = argparse.RawTextHelpFormatter ""Content must be\na proper JSON structure, "" ""with a top-level key 'rules' and\n"" ""The content\nconsists of ':' separated "" ""parameter names and their values.\nThere "" ""is only one key-value pair per line. "" ""A ';' in the\nvalue is a separator and "" ""then a value is treated as a list.\n"" ""Example:\n"" ""\tEMAIL: me@example.com\n"" ""\tLOGIN: me\n"" ""\tGROUPS: group1;group2;group3"")) ""variable in the\nassertion. For example, "" ""all environment variables may have\nthe """," ""Content must be a proper JSON structure, "" ""with a top-level key 'rules' and "" ""The content consists of ':' separated "" ""parameter names and their values. "" ""There is only one key-value pair per line. "" ""A ';' in the value is a separator and then "" ""a value is treated as a list. Example:\n "" ""EMAIL: me@example.com\n"" ""LOGIN: me\n"" ""GROUPS: group1;group2;group3"")) ""variable in the assertion. For example, "" ""all environment variables may have the """,15,12
openstack%2Fkolla-ansible~stable%2Fstein~If41b9d8de17985d960104c8daf27ea7d706c27c0,openstack/kolla-ansible,stable/stein,If41b9d8de17985d960104c8daf27ea7d706c27c0,Fix Octavia to use keystone_admin_project variable,MERGED,2019-09-20 05:21:40.000000000,2019-09-20 10:23:25.000000000,2019-09-20 10:21:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-20 05:21:40.000000000', 'files': ['ansible/roles/octavia/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05ef60833a2c685590336f638fbbc0275ef7c02e', 'message': ""Fix Octavia to use keystone_admin_project variable\n\nProject name shouldn't be static as user may override it with\nkeystone_admin_project\n\nChange-Id: If41b9d8de17985d960104c8daf27ea7d706c27c0\n(cherry picked from commit a4be4c0dcfadf043e841b41276b7ea7ed6e8145f)\n""}]",0,683287,05ef60833a2c685590336f638fbbc0275ef7c02e,8,3,1,30523,,,0,"Fix Octavia to use keystone_admin_project variable

Project name shouldn't be static as user may override it with
keystone_admin_project

Change-Id: If41b9d8de17985d960104c8daf27ea7d706c27c0
(cherry picked from commit a4be4c0dcfadf043e841b41276b7ea7ed6e8145f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/683287/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/tasks/register.yml'],1,05ef60833a2c685590336f638fbbc0275ef7c02e,," project: ""{{ keystone_admin_project }}""", project: admin,1,1
openstack%2Fkolla-ansible~stable%2Frocky~If41b9d8de17985d960104c8daf27ea7d706c27c0,openstack/kolla-ansible,stable/rocky,If41b9d8de17985d960104c8daf27ea7d706c27c0,Fix Octavia to use keystone_admin_project variable,MERGED,2019-09-20 05:24:36.000000000,2019-09-20 10:23:14.000000000,2019-09-20 10:21:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-20 05:24:36.000000000', 'files': ['ansible/roles/octavia/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e24026ed258633cb6545539f1a727be70508fd7d', 'message': ""Fix Octavia to use keystone_admin_project variable\n\nProject name shouldn't be static as user may override it with\nkeystone_admin_project\n\nChange-Id: If41b9d8de17985d960104c8daf27ea7d706c27c0\n(cherry picked from commit a4be4c0dcfadf043e841b41276b7ea7ed6e8145f)\n""}]",0,683288,e24026ed258633cb6545539f1a727be70508fd7d,8,3,1,30523,,,0,"Fix Octavia to use keystone_admin_project variable

Project name shouldn't be static as user may override it with
keystone_admin_project

Change-Id: If41b9d8de17985d960104c8daf27ea7d706c27c0
(cherry picked from commit a4be4c0dcfadf043e841b41276b7ea7ed6e8145f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/683288/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/tasks/register.yml'],1,e24026ed258633cb6545539f1a727be70508fd7d,," project: ""{{ keystone_admin_project }}""", project: admin,1,1
openstack%2Fkeystone~master~I07643fbe3e1e712b7eac716a7f671a2d513e920b,openstack/keystone,master,I07643fbe3e1e712b7eac716a7f671a2d513e920b,Federation mapping debug should show direct_maps values,MERGED,2019-08-26 23:37:39.000000000,2019-09-20 10:22:51.000000000,2019-09-20 10:21:03.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8116}, {'_account_id': 8482}, {'_account_id': 9098}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-08-26 23:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/46d4a656d0552e07b9f5140b4a7d0d3ade58a0a9', 'message': ""Federation mapping debug should show direct_maps values\n\nIf you use keystone-manage mapping_engine --engine-debug to test your\nrules (or when debug logging is on during run time) the diagnostic\noutput fails to emit a piece of crucial information, the contents\ndirect map array. What you'll get instead is this:\n\ndirect_maps: <keystone.federation.utils.DirectMaps object at 0x7f7121887b00>\n\nThat's because the DirectMaps class does not have a __str__() method\nand Python resorts to __ref__() in the absence of __str__() and all\n__ref__() does is print the class name and it's memory location, not\nvery useful.\n\nThis patch adds a __str__() method to the DirectMaps class so the\ndebug output now includes the actual direct map data like this:\n\ndirect_maps: [['jdoe@example.com'], ['Group1', 'Group3']]\n\nChange-Id: I07643fbe3e1e712b7eac716a7f671a2d513e920b\nCloses-Bug: 1841486\nSigned-off-by: John Dennis <jdennis@redhat.com>\n""}, {'number': 2, 'created': '2019-08-27 01:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ebe21255c3f8b3f15e2f612a4ad01c6c0097a932', 'message': ""Federation mapping debug should show direct_maps values\n\nIf you use keystone-manage mapping_engine --engine-debug to test your\nrules (or when debug logging is on during run time) the diagnostic\noutput fails to emit a piece of crucial information, the contents\ndirect map array. What you'll get instead is this:\n\ndirect_maps: <keystone.federation.utils.DirectMaps object at 0x7f7121887b00>\n\nThat's because the DirectMaps class does not have a __str__() method\nand Python resorts to __ref__() in the absence of __str__() and all\n__ref__() does is print the class name and it's memory location, not\nvery useful.\n\nThis patch adds a __str__() method to the DirectMaps class so the\ndebug output now includes the actual direct map data like this:\n\ndirect_maps: [['jdoe@example.com'], ['Group1', 'Group3']]\n\nChange-Id: I07643fbe3e1e712b7eac716a7f671a2d513e920b\nCloses-Bug: 1841486\nSigned-off-by: John Dennis <jdennis@redhat.com>\n""}, {'number': 3, 'created': '2019-08-27 02:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b81c9a667978038cb9ca74b381239f58d115a162', 'message': ""Federation mapping debug should show direct_maps values\n\nIf you use keystone-manage mapping_engine --engine-debug to test your\nrules (or when debug logging is on during run time) the diagnostic\noutput fails to emit a piece of crucial information, the contents\ndirect map array. What you'll get instead is this:\n\ndirect_maps: <keystone.federation.utils.DirectMaps object at 0x7f7121887b00>\n\nThat's because the DirectMaps class does not have a __str__() method\nand Python resorts to __ref__() in the absence of __str__() and all\n__ref__() does is print the class name and it's memory location, not\nvery useful.\n\nThis patch adds a __str__() method to the DirectMaps class so the\ndebug output now includes the actual direct map data like this:\n\ndirect_maps: [['jdoe@example.com'], ['Group1', 'Group3']]\n\nChange-Id: I07643fbe3e1e712b7eac716a7f671a2d513e920b\nCloses-Bug: 1841486\nSigned-off-by: John Dennis <jdennis@redhat.com>\n""}, {'number': 4, 'created': '2019-09-03 16:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5bdb60a4a7da047d9ea2d9d4a1d8614eb81a1ed9', 'message': ""Federation mapping debug should show direct_maps values\n\nIf you use keystone-manage mapping_engine --engine-debug to test your\nrules (or when debug logging is on during run time) the diagnostic\noutput fails to emit a piece of crucial information, the contents\ndirect map array. What you'll get instead is this:\n\ndirect_maps: <keystone.federation.utils.DirectMaps object at 0x7f7121887b00>\n\nThat's because the DirectMaps class does not have a __str__() method\nand Python resorts to __ref__() in the absence of __str__() and all\n__ref__() does is print the class name and it's memory location, not\nvery useful.\n\nThis patch adds a __str__() method to the DirectMaps class so the\ndebug output now includes the actual direct map data like this:\n\ndirect_maps: [['jdoe@example.com'], ['Group1', 'Group3']]\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\nChange-Id: I07643fbe3e1e712b7eac716a7f671a2d513e920b\nCloses-Bug: 1841486\nSigned-off-by: John Dennis <jdennis@redhat.com>\n""}, {'number': 5, 'created': '2019-09-19 18:28:20.000000000', 'files': ['keystone/federation/utils.py', 'releasenotes/notes/bug-1841486-425f367925f5e03f.yaml', 'keystone/tests/unit/test_cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b33abb4b070d72c16af914e4292adb205bdee5fa', 'message': ""Federation mapping debug should show direct_maps values\n\nIf you use keystone-manage mapping_engine --engine-debug to test your\nrules (or when debug logging is on during run time) the diagnostic\noutput fails to emit a piece of crucial information, the contents\ndirect map array. What you'll get instead is this:\n\ndirect_maps: <keystone.federation.utils.DirectMaps object at 0x7f7121887b00>\n\nThat's because the DirectMaps class does not have a __str__() method\nand Python resorts to __ref__() in the absence of __str__() and all\n__ref__() does is print the class name and it's memory location, not\nvery useful.\n\nThis patch adds a __str__() method to the DirectMaps class so the\ndebug output now includes the actual direct map data like this:\n\ndirect_maps: [['jdoe@example.com'], ['Group1', 'Group3']]\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\nChange-Id: I07643fbe3e1e712b7eac716a7f671a2d513e920b\nCloses-Bug: 1841486\nSigned-off-by: John Dennis <jdennis@redhat.com>\n""}]",0,678700,b33abb4b070d72c16af914e4292adb205bdee5fa,24,8,5,8116,,,0,"Federation mapping debug should show direct_maps values

If you use keystone-manage mapping_engine --engine-debug to test your
rules (or when debug logging is on during run time) the diagnostic
output fails to emit a piece of crucial information, the contents
direct map array. What you'll get instead is this:

direct_maps: <keystone.federation.utils.DirectMaps object at 0x7f7121887b00>

That's because the DirectMaps class does not have a __str__() method
and Python resorts to __ref__() in the absence of __str__() and all
__ref__() does is print the class name and it's memory location, not
very useful.

This patch adds a __str__() method to the DirectMaps class so the
debug output now includes the actual direct map data like this:

direct_maps: [['jdoe@example.com'], ['Group1', 'Group3']]

Co-Authored-By: Lance Bragstad <lbragstad@gmail.com>
Change-Id: I07643fbe3e1e712b7eac716a7f671a2d513e920b
Closes-Bug: 1841486
Signed-off-by: John Dennis <jdennis@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/00/678700/5 && git format-patch -1 --stdout FETCH_HEAD,['keystone/federation/utils.py'],1,46d4a656d0552e07b9f5140b4a7d0d3ade58a0a9,bug/1841486, def __str__(self): return '%s' % self._matches ,,3,0
openstack%2Fkeystone~master~Id18036325b2f5b8836076408ecdd64523b19cbba,openstack/keystone,master,Id18036325b2f5b8836076408ecdd64523b19cbba,Implement scope type checking for Project Endpoints,MERGED,2019-09-19 13:20:25.000000000,2019-09-20 10:21:06.000000000,2019-09-20 10:21:05.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 13:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/17e260b582408755e9d645d8e54939f629520d58', 'message': 'Implement scope type checking for Project Endpoints\n\nThis change updates the Project Endpoints policies to understand\nthe scope types for Project Endpoints. This adds the test cases\ntoo.\n\nChange-Id: Id18036325b2f5b8836076408ecdd64523b19cbba\nCloses-Bug: #1844664\n'}, {'number': 2, 'created': '2019-09-19 13:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bdc8b9a78215831af42dcef982e16b414c41c654', 'message': 'Implement scope type checking for Project Endpoints\n\nThis change updates the Project Endpoints policies to understand\nthe scope types for Project Endpoints. This adds the test cases\ntoo.\n\nChange-Id: Id18036325b2f5b8836076408ecdd64523b19cbba\nCloses-Bug: #1844664\n'}, {'number': 3, 'created': '2019-09-19 22:39:30.000000000', 'files': ['releasenotes/notes/bug-1844664-905cf6cad2e032a7.yaml', 'keystone/tests/protection/v3/test_project_endpoint.py', 'keystone/common/policies/project_endpoint.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c9148db371dfa449830d2fbe7c1345135ebddf3f', 'message': 'Implement scope type checking for Project Endpoints\n\nThis change updates the Project Endpoints policies to understand\nthe scope types for Project Endpoints. This adds the test cases\ntoo.\n\nChange-Id: Id18036325b2f5b8836076408ecdd64523b19cbba\nCloses-Bug: #1844664\n'}]",6,683153,c9148db371dfa449830d2fbe7c1345135ebddf3f,13,3,3,27621,,,0,"Implement scope type checking for Project Endpoints

This change updates the Project Endpoints policies to understand
the scope types for Project Endpoints. This adds the test cases
too.

Change-Id: Id18036325b2f5b8836076408ecdd64523b19cbba
Closes-Bug: #1844664
",git fetch https://review.opendev.org/openstack/keystone refs/changes/53/683153/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1844664-905cf6cad2e032a7.yaml', 'keystone/tests/protection/v3/test_project_endpoint.py', 'keystone/common/policies/project_endpoint.py']",3,17e260b582408755e9d645d8e54939f629520d58,train-rc1-policy-fixes,"from oslo_log import versionutilsdeprecated_list_projects_for_endpoint = policy.DeprecatedRule( name=base.IDENTITY % 'list_projects_for_endpoint', check_str=base.RULE_ADMIN_REQUIRED, ) deprecated_add_endpoint_to_project = policy.DeprecatedRule( name=base.IDENTITY % 'add_endpoint_to_project', check_str=base.RULE_ADMIN_REQUIRED, ) deprecated_check_endpoint_in_project = policy.DeprecatedRule( name=base.IDENTITY % 'check_endpoint_in_project', check_str=base.RULE_ADMIN_REQUIRED, ) deprecated_list_endpoints_for_project = policy.DeprecatedRule( name=base.IDENTITY % 'list_endpoints_for_project', check_str=base.RULE_ADMIN_REQUIRED, ) deprecated_remove_endpoint_from_project = policy.DeprecatedRule( name=base.IDENTITY % 'remove_endpoint_from_project', check_str=base.RULE_ADMIN_REQUIRED, ) DEPRECATED_REASON = """""" As of the Train release, the project endpoint API now understands default roles and system-scoped tokens, making the API more granular by default without compromising security. The new policy defaults account for these changes automatically. Be sure to take these new defaults into consideration if you are relying on overrides in your deployment for the project endpoint API. """""" check_str=base.SYSTEM_READER, 'method': 'GET'}], deprecated_rule=deprecated_list_projects_for_endpoint, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=base.SYSTEM_ADMIN, 'method': 'PUT'}], deprecated_rule=deprecated_add_endpoint_to_project, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=base.SYSTEM_READER, 'method': 'HEAD'}], deprecated_rule=deprecated_check_endpoint_in_project, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=base.SYSTEM_READER, 'method': 'GET'}], deprecated_rule=deprecated_list_endpoints_for_project, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=base.SYSTEM_ADMIN, 'method': 'DELETE'}], deprecated_rule=deprecated_remove_endpoint_from_project, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN),"," check_str=base.RULE_ADMIN_REQUIRED, 'method': 'GET'}]), check_str=base.RULE_ADMIN_REQUIRED, 'method': 'PUT'}]), check_str=base.RULE_ADMIN_REQUIRED, 'method': 'HEAD'}]), check_str=base.RULE_ADMIN_REQUIRED, 'method': 'GET'}]), check_str=base.RULE_ADMIN_REQUIRED, 'method': 'DELETE'}])",533,10
openstack%2Ftripleo-ansible~master~If978a21c6fe3b0d2fc5db83f8cfc21c208c79110,openstack/tripleo-ansible,master,If978a21c6fe3b0d2fc5db83f8cfc21c208c79110,Let ReaR uses different backup strategy,MERGED,2019-09-17 08:39:10.000000000,2019-09-20 10:10:35.000000000,2019-09-20 10:10:35.000000000,"[{'_account_id': 7353}, {'_account_id': 8932}, {'_account_id': 9592}, {'_account_id': 11085}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 08:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e8371f731365a2aabaf2930d356fe36bf462748d', 'message': 'Let ReaR uses different backup strategy\n\nBy default ReaR uses NETFS as a backup/restore strategy.\nThis patch let operators to use other backup/restore strategy.\n\nChange-Id: If978a21c6fe3b0d2fc5db83f8cfc21c208c79110\n'}, {'number': 2, 'created': '2019-09-17 11:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f7f1b37491e65f344e4c7408e51632708ab47305', 'message': 'Let ReaR uses different backup strategy\n\nBy default ReaR uses NETFS as a backup/restore strategy.\nThis patch let operators to use other backup/restore strategy.\n\nChange-Id: If978a21c6fe3b0d2fc5db83f8cfc21c208c79110\n'}, {'number': 3, 'created': '2019-09-18 06:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ca8ced0b84ddd692da7ba6b1f582a2e9448c35d', 'message': 'Let ReaR uses different backup strategy\n\nBy default ReaR uses NETFS as a backup/restore strategy.\nThis patch let operators to use other backup/restore strategy.\n\nChange-Id: If978a21c6fe3b0d2fc5db83f8cfc21c208c79110\n'}, {'number': 4, 'created': '2019-09-18 06:43:23.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/templates/local.conf.j2', 'tripleo_ansible/roles/backup-and-restore/templates/rescue.conf.j2', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7961c831f262b5b91a44547dda0563e1175b018a', 'message': 'Let ReaR uses different backup strategy\n\nBy default ReaR uses NETFS as a backup/restore strategy.\nThis patch let operators to use other backup/restore strategy.\n\nChange-Id: If978a21c6fe3b0d2fc5db83f8cfc21c208c79110\n'}]",5,682583,7961c831f262b5b91a44547dda0563e1175b018a,17,7,4,22954,,,0,"Let ReaR uses different backup strategy

By default ReaR uses NETFS as a backup/restore strategy.
This patch let operators to use other backup/restore strategy.

Change-Id: If978a21c6fe3b0d2fc5db83f8cfc21c208c79110
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/682583/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup-and-restore/templates/local.conf.j2', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml']",3,e8371f731365a2aabaf2930d356fe36bf462748d,682583,"- name: Add extra ReaR config variables into the local.conf become: true lineinfile: path: /etc/rear/local.conf line: ""{{ item.key }}={{ item.value }}"" insertafter: EOF loop: ""{{ lookup('dict', tripleo_backup_and_restore_extra_local_config) }}"" tags: - bar_setup_rear - name: Add extra ReaR config variables into the rescue.conf become: true lineinfile: path: /etc/rear/rescue.conf line: ""{{ item.key }}={{ item.value }}"" insertafter: EOF loop: ""{{ lookup('dict', tripleo_backup_and_restore_extra_local_config) }}"" tags: - bar_setup_rear",,28,7
openstack%2Foperations-guide~master~Id89e1713f8d45da056463acc5c419b7f118a7226,openstack/operations-guide,master,Id89e1713f8d45da056463acc5c419b7f118a7226,Imported Translations from Zanata,MERGED,2019-09-20 09:10:29.000000000,2019-09-20 10:04:59.000000000,2019-09-20 10:03:35.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 09:10:29.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/de/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/f2b9d5b6a56c11283fc2414ce481cf65daae784a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id89e1713f8d45da056463acc5c419b7f118a7226\n'}]",0,683329,f2b9d5b6a56c11283fc2414ce481cf65daae784a,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id89e1713f8d45da056463acc5c419b7f118a7226
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/29/683329/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/de/LC_MESSAGES/doc.po']",2,f2b9d5b6a56c11283fc2414ce481cf65daae784a,zanata/translations,"""POT-Creation-Date: 2019-08-26 11:19+0000\n""""PO-Revision-Date: 2019-09-19 01:43+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgid """" ""When your middleware is done, we encourage you to open source it and let the "" ""community know on the OpenStack mailing list. Perhaps others need the same "" ""functionality. They can use your code, provide feedback, and possibly "" ""contribute. If enough support exists for it, perhaps you can propose that it "" ""be added to the official swift `middleware <https://opendev.org/openstack/"" ""swift/src/branch/master/swift/common/middleware>`_."" msgstr """" ""Wenn Ihre Middleware fertig ist, empfehlen wir Ihnen, sie Open Source zu "" ""verwenden und die Community auf der OpenStack-Mailingliste darüber zu "" ""informieren. Vielleicht benötigen andere die gleiche Funktionalität. Sie "" ""können Ihren Code verwenden, Feedback geben und möglicherweise einen Beitrag "" ""leisten. Wenn es genügend Unterstützung dafür gibt, können Sie vielleicht "" ""vorschlagen, dass sie dem offiziellen Swift `Middleware <https://opendev."" ""org/openstack/swift/src/branch/master/swift/common/middleware>`_ hinzugefügt "" ""wird."" msgid """" ""When your scheduler is done, we encourage you to open source it and let the "" ""community know on the OpenStack mailing list. Perhaps others need the same "" ""functionality. They can use your code, provide feedback, and possibly "" ""contribute. If enough support exists for it, perhaps you can propose that it "" ""be added to the official Compute `schedulers <https://opendev.org/openstack/"" ""nova/src/branch/master/nova/scheduler>`_."" msgstr """" ""Wenn Ihr Scheduler fertig ist, empfehlen wir Ihnen, ihn Open Source zu "" ""verwenden und die Community auf der OpenStack-Mailingliste darüber zu "" ""informieren. Vielleicht benötigen andere die gleiche Funktionalität. Sie "" ""können Ihren Code verwenden, Feedback geben und möglicherweise einen Beitrag "" ""leisten. Wenn es genügend Unterstützung dafür gibt, können Sie vielleicht "" ""vorschlagen, dass sie dem offiziellen Compute `schedulers <https://opendev."" ""org/openstack/nova/src/branch/master/nova/scheduler>`_ hinzugefügt wird."" ","""POT-Creation-Date: 2019-08-23 12:35+0000\n""""PO-Revision-Date: 2019-01-26 12:14+0000\n"" ""Last-Translator: Andreas Jaeger <jaegerandi@gmail.com>\n""",107,6
openstack%2Fsecurity-doc~master~I2a625fa79040611322dda45663f319fe667d6af7,openstack/security-doc,master,I2a625fa79040611322dda45663f319fe667d6af7,Imported Translations from Zanata,MERGED,2019-09-20 09:07:53.000000000,2019-09-20 10:04:05.000000000,2019-09-20 10:02:38.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 09:07:53.000000000', 'files': ['security-guide/source/locale/de/LC_MESSAGES/security-guide.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/c4c41e9ce5527d4a0abdc696b533631aea6868f2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2a625fa79040611322dda45663f319fe667d6af7\n'}]",0,683328,c4c41e9ce5527d4a0abdc696b533631aea6868f2,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2a625fa79040611322dda45663f319fe667d6af7
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/28/683328/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/locale/de/LC_MESSAGES/security-guide.po'],1,c4c41e9ce5527d4a0abdc696b533631aea6868f2,zanata/translations,"""POT-Creation-Date: 2019-09-04 12:23+0000\n""""PO-Revision-Date: 2019-09-19 01:44+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgid ""After Ocata:"" msgstr ""Nach Ocata:"" msgid ""Before Ocata:"" msgstr ""Bevor Ocata:"" ","""POT-Creation-Date: 2019-09-03 10:03+0000\n""""PO-Revision-Date: 2019-02-11 07:55+0000\n"" ""Last-Translator: Andreas Jaeger <jaegerandi@gmail.com>\n""",9,3
openstack%2Fpuppet-tripleo~master~I69f48b174381f3959b2819aec714bbba8bf9cda8,openstack/puppet-tripleo,master,I69f48b174381f3959b2819aec714bbba8bf9cda8,Correct wrong name in certmonger_certificate for ovn_controller,MERGED,2019-09-17 08:48:37.000000000,2019-09-20 10:01:15.000000000,2019-09-20 10:01:15.000000000,"[{'_account_id': 6926}, {'_account_id': 8866}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 08:48:37.000000000', 'files': ['manifests/certmonger/ovn_controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/44f423240ad6d68820e77601ea029dc62abfa827', 'message': 'Correct wrong name in certmonger_certificate for ovn_controller\n\nChange-Id: I69f48b174381f3959b2819aec714bbba8bf9cda8\n'}]",0,682586,44f423240ad6d68820e77601ea029dc62abfa827,22,6,1,11082,,,0,"Correct wrong name in certmonger_certificate for ovn_controller

Change-Id: I69f48b174381f3959b2819aec714bbba8bf9cda8
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/682586/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/ovn_controller.pp'],1,44f423240ad6d68820e77601ea029dc62abfa827,fix/miss, certmonger_certificate { 'ovn_controller' :, certmonger_certificate { 'ovn_clients' :,1,1
openstack%2Fcinder~master~I2d0342adace69314bd159d3d6415a87ff29db562,openstack/cinder,master,I2d0342adace69314bd159d3d6415a87ff29db562,3PAR: Add Peer Persistence support,MERGED,2019-08-22 10:01:08.000000000,2019-09-20 09:45:22.000000000,2019-09-19 13:37:50.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29122}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-22 10:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7cf1f3df651f0cc4ee99bd5216c8c126ba86f16', 'message': '3PAR: Add Peer Persistence support\n\nBackground:\nGiven 3PAR backend configured with replication setup, currently only\nActive/Passive replication is supported by 3PAR in OpenStack. When\nfailover happens, nova does not support volume force-detach (from\ndead primary backend) / re-attach to secondary backend. Storage\nengineer\'s manual intervention is required.\n\nProposed Solution:\nWhen a volume is created, vlun would be created automatically in\nsecondary backend, in addition to primary backend. So that when a\nfailover happens, it is seamless.\n\nThis solution would apply under following conditions:\n1] multipath is enabled\n2] replication mode is set as ""sync""\n3] quorum witness is configured\n\nChange-Id: I2d0342adace69314bd159d3d6415a87ff29db562\n'}, {'number': 2, 'created': '2019-08-22 10:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ef1111590caf5728055674ba4bf84238b3d4d2b', 'message': '3PAR: Add Peer Persistence support\n\nBackground:\nGiven 3PAR backend configured with replication setup, currently only\nActive/Passive replication is supported by 3PAR in OpenStack. When\nfailover happens, nova does not support volume force-detach (from\ndead primary backend) / re-attach to secondary backend. Storage\nengineer\'s manual intervention is required.\n\nProposed Solution:\nWhen a volume is created, vlun would be created automatically in\nsecondary backend, in addition to primary backend. So that when a\nfailover happens, it is seamless.\n\nThis solution would apply under following conditions:\n1] multipath is enabled\n2] replication mode is set as ""sync""\n3] quorum witness is configured\n\nCloses bug: #1839140\n\nChange-Id: I2d0342adace69314bd159d3d6415a87ff29db562\n'}, {'number': 3, 'created': '2019-08-28 07:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4036e9d831fce2f099463ad0f33e77302be4d62', 'message': '3PAR: Add Peer Persistence support\n\nBackground:\nGiven 3PAR backend configured with replication setup, currently only\nActive/Passive replication is supported by 3PAR in OpenStack. When\nfailover happens, nova does not support volume force-detach (from\ndead primary backend) / re-attach to secondary backend. Storage\nengineer\'s manual intervention is required.\n\nProposed Solution:\nWhen a volume is created, vlun would be created automatically in\nsecondary backend, in addition to primary backend. So that when a\nfailover happens, it is seamless.\n\nThis solution would apply under following conditions:\n1] multipath is enabled\n2] replication mode is set as ""sync""\n3] quorum witness is configured\n\nCloses bug: #1839140\n\nChange-Id: I2d0342adace69314bd159d3d6415a87ff29db562\n'}, {'number': 4, 'created': '2019-09-06 06:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3df022492066adeb5361e06efbbd40b2c75c6009', 'message': '3PAR: Add Peer Persistence support\n\nBackground:\nGiven 3PAR backend configured with replication setup, currently only\nActive/Passive replication is supported by 3PAR in OpenStack. When\nfailover happens, nova does not support volume force-detach (from\ndead primary backend) / re-attach to secondary backend. Storage\nengineer\'s manual intervention is required.\n\nProposed Solution:\nWhen a volume is created, vlun would be created automatically in\nsecondary backend, in addition to primary backend. So that when a\nfailover happens, it is seamless.\n\nThis solution would apply under following conditions:\n1] multipath is enabled\n2] replication mode is set as ""sync""\n3] quorum witness is configured\n\nCloses bug: #1839140\n\nChange-Id: I2d0342adace69314bd159d3d6415a87ff29db562\n'}, {'number': 5, 'created': '2019-09-09 11:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a1673a14c5a233afb1fe208f352a22151b5608f', 'message': '3PAR: Add Peer Persistence support\n\nBackground:\nGiven 3PAR backend configured with replication setup, currently only\nActive/Passive replication is supported by 3PAR in OpenStack. When\nfailover happens, nova does not support volume force-detach (from\ndead primary backend) / re-attach to secondary backend. Storage\nengineer\'s manual intervention is required.\n\nProposed Solution:\nGiven a system with Peer Persistence configured and replicated volume\nis created. When this volume is attached to an instance, vlun would be\ncreated automatically in secondary backend, in addition to primary\nbackend. So that when a failover happens, it is seamless.\n\nThis solution would apply under following conditions:\n1] multipath is enabled\n2] replication mode is set as ""sync""\n3] quorum witness is configured\n\nCloses bug: #1839140\n\nChange-Id: I2d0342adace69314bd159d3d6415a87ff29db562\n'}, {'number': 6, 'created': '2019-09-09 11:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/318fc1761c92f116a8be3e28637f6cc61ff3767e', 'message': '3PAR: Add Peer Persistence support\n\nBackground:\nGiven 3PAR backend configured with replication setup, currently only\nActive/Passive replication is supported by 3PAR in OpenStack. When\nfailover happens, nova does not support volume force-detach (from\ndead primary backend) / re-attach to secondary backend. Storage\nengineer\'s manual intervention is required.\n\nProposed Solution:\nGiven a system with Peer Persistence configured and replicated volume\nis created. When this volume is attached to an instance, vlun would be\ncreated automatically in secondary backend, in addition to primary\nbackend. So that when a failover happens, it is seamless.\n\nThis solution would apply under following conditions:\n1] multipath is enabled\n2] replication mode is set as ""sync""\n3] quorum witness is configured\n\nCloses bug: #1839140\n\nChange-Id: I2d0342adace69314bd159d3d6415a87ff29db562\n'}, {'number': 7, 'created': '2019-09-12 09:19:16.000000000', 'files': ['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'doc/source/reference/support-matrix.ini', 'releasenotes/notes/hpe-3par-peer-persistence.yaml-91cc84bf89dbb462.yaml', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/46a16f1d61744fbadba7666633ae64ff958d7c51', 'message': '3PAR: Add Peer Persistence support\n\nBackground:\nGiven 3PAR backend configured with replication setup, currently only\nActive/Passive replication is supported by 3PAR in OpenStack. When\nfailover happens, nova does not support volume force-detach (from\ndead primary backend) / re-attach to secondary backend. Storage\nengineer\'s manual intervention is required.\n\nProposed Solution:\nGiven a system with Peer Persistence configured and replicated volume\nis created. When this volume is attached to an instance, vlun would be\ncreated automatically in secondary backend, in addition to primary\nbackend. So that when a failover happens, it is seamless.\n\nThis solution would apply under following conditions:\n1] multipath is enabled\n2] replication mode is set as ""sync""\n3] quorum witness is configured\n\nCloses bug: #1839140\n\nChange-Id: I2d0342adace69314bd159d3d6415a87ff29db562\n'}]",10,677945,46a16f1d61744fbadba7666633ae64ff958d7c51,267,46,7,29122,,,0,"3PAR: Add Peer Persistence support

Background:
Given 3PAR backend configured with replication setup, currently only
Active/Passive replication is supported by 3PAR in OpenStack. When
failover happens, nova does not support volume force-detach (from
dead primary backend) / re-attach to secondary backend. Storage
engineer's manual intervention is required.

Proposed Solution:
Given a system with Peer Persistence configured and replicated volume
is created. When this volume is attached to an instance, vlun would be
created automatically in secondary backend, in addition to primary
backend. So that when a failover happens, it is seamless.

This solution would apply under following conditions:
1] multipath is enabled
2] replication mode is set as ""sync""
3] quorum witness is configured

Closes bug: #1839140

Change-Id: I2d0342adace69314bd159d3d6415a87ff29db562
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/677945/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",5,b7cf1f3df651f0cc4ee99bd5216c8c126ba86f16,bug/1839140," 4.0.14 - Added Peer Persistence feature VERSION = ""4.0.14"" def _delete_3par_host(self, hostname, client_obj): client_obj.deleteHost(hostname) def _create_3par_vlun(self, volume, hostname, nsp, lun_id=None, cl=None): if cl: client_obj = cl else: client_obj = self.client if nsp is None: location = client_obj.createVLUN(volume, hostname=hostname, auto=auto, lun=lun_id) location = client_obj.createVLUN(volume, hostname=hostname, auto=auto, portPos=port, lun=lun_id) def _get_vlun(self, volume_name, hostname, lun_id=None, nsp=None, cl=None): if cl: vluns = cl.getHostVLUNs(hostname) else: vluns = self.client.getHostVLUNs(hostname) def create_vlun(self, volume, host, nsp=None, lun_id=None, cl=None): lun_id=lun_id, cl=cl) nsp, cl) def _delete_vlun(self, client_obj, volume, hostname, wwn=None, iqn=None): vluns = client_obj.getHostVLUNs(hostname) vluns = client_obj.getVLUNs()['members'] client_obj.deleteVLUN(volume_name, vlun['lun'], hostname=hostname, port=vlun['portPos']) else: client_obj.deleteVLUN(volume_name, vlun['lun'], hostname=hostname) vluns = client_obj.getHostVLUNs(hostname) self._delete_3par_host(hostname, client_obj) mod_request = {'pathOperation': client_obj.HOST_EDIT_REMOVE, mod_request = {'pathOperation': client_obj.HOST_EDIT_REMOVE, client_obj.modifyHost(hostname, mod_request) def delete_vlun(self, volume, hostname, wwn=None, iqn=None, cl=None): self._delete_vlun(self.client, volume, hostname, wwn, iqn) if cl: self._delete_vlun(cl, volume, hostname, wwn, iqn) def terminate_connection(self, volume, hostname, wwn=None, iqn=None, cl=None): self.delete_vlun(volume, hostname, wwn=wwn, iqn=iqn, cl=cl) self.delete_vlun(volume, hostname, wwn=wwn, iqn=iqn, cl=cl) def find_existing_vlun(self, volume, host, cl=None): if cl: host_vluns = cl.getHostVLUNs(host['name']) else: host_vluns = self.client.getHostVLUNs(host['name']) def find_existing_vluns(self, volume, host, cl=None): if cl: host_vluns = cl.getHostVLUNs(host['name']) else: host_vluns = self.client.getHostVLUNs(host['name'])"," VERSION = ""4.0.13"" def _delete_3par_host(self, hostname): self.client.deleteHost(hostname) def _create_3par_vlun(self, volume, hostname, nsp, lun_id=None): if nsp is None: location = self.client.createVLUN(volume, hostname=hostname, auto=auto, lun=lun_id) location = self.client.createVLUN(volume, hostname=hostname, auto=auto, portPos=port, lun=lun_id) def _get_vlun(self, volume_name, hostname, lun_id=None, nsp=None): vluns = self.client.getHostVLUNs(hostname) def create_vlun(self, volume, host, nsp=None, lun_id=None): lun_id=lun_id) nsp) def delete_vlun(self, volume, hostname, wwn=None, iqn=None): vluns = self.client.getHostVLUNs(hostname) vluns = self.client.getVLUNs()['members'] self.client.deleteVLUN(volume_name, vlun['lun'], hostname=hostname, port=vlun['portPos']) else: self.client.deleteVLUN(volume_name, vlun['lun'], hostname=hostname) vluns = self.client.getHostVLUNs(hostname) self._delete_3par_host(hostname) mod_request = {'pathOperation': self.client.HOST_EDIT_REMOVE, mod_request = {'pathOperation': self.client.HOST_EDIT_REMOVE, self.client.modifyHost(hostname, mod_request) def terminate_connection(self, volume, hostname, wwn=None, iqn=None): self.delete_vlun(volume, hostname, wwn=wwn, iqn=iqn) self.delete_vlun(volume, hostname, wwn=wwn, iqn=iqn) def find_existing_vlun(self, volume, host): host_vluns = self.client.getHostVLUNs(host['name']) def find_existing_vluns(self, volume, host): host_vluns = self.client.getHostVLUNs(host['name'])",980,195
openstack%2Fkeystone~master~Ie36df5677a08d7d95f056f3ea00eda05e1315ea5,openstack/keystone,master,Ie36df5677a08d7d95f056f3ea00eda05e1315ea5,Add default roles and scope checking to project tags,MERGED,2019-09-16 22:12:12.000000000,2019-09-20 09:37:10.000000000,2019-09-20 09:35:01.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-16 22:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e589871df47ec14f8fd2dc8ef9633b6d05386349', 'message': 'Add default roles and scope checking to project tags\n\nThis commit makes it so that project tags adhere to system-scope and\nalso incorporates default roles into the policy checks by default.\n\nChange-Id: Ie36df5677a08d7d95f056f3ea00eda05e1315ea5\nCloses-Bug: 1844194\nCloses-Bug: 1804463\n'}, {'number': 2, 'created': '2019-09-17 00:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e0226a02e21b53d3fbae9dfc8cb14e8c450ecb20', 'message': 'Add default roles and scope checking to project tags\n\nThis commit makes it so that project tags adhere to system-scope and\nalso incorporates default roles into the policy checks by default.\n\nChange-Id: Ie36df5677a08d7d95f056f3ea00eda05e1315ea5\nCloses-Bug: 1844194\nCloses-Bug: 1804463\n'}, {'number': 3, 'created': '2019-09-17 14:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/39cf40b428599dbc832565fc832a3a8896e669ab', 'message': 'Add default roles and scope checking to project tags\n\nThis commit makes it so that project tags adhere to system-scope and\nalso incorporates default roles into the policy checks by default.\n\nChange-Id: Ie36df5677a08d7d95f056f3ea00eda05e1315ea5\nCloses-Bug: 1844194\nCloses-Bug: 1804463\nRelated-Bug: 1806762\n'}, {'number': 4, 'created': '2019-09-18 14:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cd7441ec35e85f1d3f518af217e395db7e66810c', 'message': 'Add default roles and scope checking to project tags\n\nThis commit makes it so that project tags adhere to system-scope and\nalso incorporates default roles into the policy checks by default.\n\nChange-Id: Ie36df5677a08d7d95f056f3ea00eda05e1315ea5\nCloses-Bug: 1844194\nCloses-Bug: 1804463\nRelated-Bug: 1806762\n'}, {'number': 5, 'created': '2019-09-18 14:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8784777b5011ae52db72825e971aeab7eee8bbcd', 'message': 'Add default roles and scope checking to project tags\n\nThis commit makes it so that project tags adhere to system-scope and\nalso incorporates default roles into the policy checks by default.\n\nChange-Id: Ie36df5677a08d7d95f056f3ea00eda05e1315ea5\nCloses-Bug: 1844194\nCloses-Bug: 1844193\nRelated-Bug: 1806762\n'}, {'number': 6, 'created': '2019-09-19 02:50:02.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'keystone/common/policies/project.py', 'releasenotes/notes/bug-1844194-48ae60db49f91bd4.yaml', 'api-ref/source/v3/project-tags.inc', 'etc/policy.v3cloudsample.json', 'keystone/tests/protection/v3/test_project_tags.py', 'keystone/api/projects.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8e67249d5bfb07b0a236189f62b3f338532f0df0', 'message': 'Add default roles and scope checking to project tags\n\nThis commit makes it so that project tags adhere to system-scope and\nalso incorporates default roles into the policy checks by default.\n\nChange-Id: Ie36df5677a08d7d95f056f3ea00eda05e1315ea5\nCloses-Bug: 1844194\nCloses-Bug: 1844193\nRelated-Bug: 1806762\n'}]",3,682503,8e67249d5bfb07b0a236189f62b3f338532f0df0,26,6,6,5046,,,0,"Add default roles and scope checking to project tags

This commit makes it so that project tags adhere to system-scope and
also incorporates default roles into the policy checks by default.

Change-Id: Ie36df5677a08d7d95f056f3ea00eda05e1315ea5
Closes-Bug: 1844194
Closes-Bug: 1844193
Related-Bug: 1806762
",git fetch https://review.opendev.org/openstack/keystone refs/changes/03/682503/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/protection/v3/test_projects_tags.py', 'keystone/common/policies/project.py']",2,e589871df47ec14f8fd2dc8ef9633b6d05386349,train-rc1-policy-fixes,"deprecated_list_project_tags = policy.DeprecatedRule( name=base.IDENTITY % 'list_project_tags', check_str=base.RULE_ADMIN_OR_TARGET_PROJECT ) deprecated_get_project_tag = policy.DeprecatedRule( name=base.IDENTITY % 'get_project_tag', check_str=base.RULE_ADMIN_OR_TARGET_PROJECT ) deprecated_update_project_tag = policy.DeprecatedRule( name=base.IDENTITY % 'update_project_tags', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_create_project_tag = policy.DeprecatedRule( name=base.IDENTITY % 'create_project_tag', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_delete_project_tag = policy.DeprecatedRule( name=base.IDENTITY % 'delete_project_tag', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_delete_project_tags = policy.DeprecatedRule( name=base.IDENTITY % 'delete_project_tags', check_str=base.RULE_ADMIN_REQUIRED ) TAGS_DEPRECATED_REASON = """""" As of the Train release, the project tags API understands how to handle system-scoped tokens in addition to project and domain tokens, making the API more accessible to users without compromising security or manageability for administrators. The new default policies for this API account for these changes automatically. """""" scope_types=['system', 'domain', 'project'], scope_types=['system', 'domain', 'project'], check_str=base.SYSTEM_ADMIN, 'method': 'PUT'}], deprecated_rule=deprecated_update_project_tag, deprecated_reason=TAGS_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=base.SYSTEM_ADMIN, 'method': 'PUT'}], deprecated_rule=deprecated_create_project_tag, deprecated_reason=TAGS_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=base.SYSTEM_ADMIN, 'method': 'DELETE'}], deprecated_rule=deprecated_delete_project_tags, deprecated_reason=TAGS_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=base.SYSTEM_ADMIN, 'method': 'DELETE'}], deprecated_rule=deprecated_delete_project_tag, deprecated_reason=TAGS_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN)"," # scope_types=['system', 'project'], # FIXME(lbragstad): See the above comments as to why this is commented # out. # scope_types=['system', 'project'], check_str=base.RULE_ADMIN_REQUIRED, # FIXME(lbragstad): See the above comment for create_project as to why # this is limited to only system-scope. 'method': 'PUT'}]), check_str=base.RULE_ADMIN_REQUIRED, # FIXME(lbragstad): See the above comment for create_project as to why # this is limited to only system-scope. 'method': 'PUT'}]), check_str=base.RULE_ADMIN_REQUIRED, # FIXME(lbragstad): See the above comment for create_project as to why # this is limited to only system-scope. 'method': 'DELETE'}]), check_str=base.RULE_ADMIN_REQUIRED, # FIXME(lbragstad): See the above comment for create_project as to why # this is limited to only system-scope. 'method': 'DELETE'}])",472,20
openstack%2Fsecurity-doc~master~I147c70c5dda3eb33336ddc01de0128c889c3d2d3,openstack/security-doc,master,I147c70c5dda3eb33336ddc01de0128c889c3d2d3,Added a section on Secure Encrypted Virtualization.,MERGED,2019-09-11 01:26:45.000000000,2019-09-20 09:36:55.000000000,2019-09-20 09:35:43.000000000,"[{'_account_id': 2394}, {'_account_id': 2697}, {'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 11604}, {'_account_id': 13478}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 24938}, {'_account_id': 30138}]","[{'number': 1, 'created': '2019-09-11 01:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/4f4ed736cf1903999d7a0f9d6bf815290f78dff5', 'message': 'Added a section on Secure Encrypted Virtualization.\n\nAdded a section explaining security capabilities and limitations of SEV\n(Secure Encryptd Virtualization) which is nearly complete, see:\nhttps://review.opendev.org/#/c/666616/\n\nChange-Id: I147c70c5dda3eb33336ddc01de0128c889c3d2d3\n'}, {'number': 2, 'created': '2019-09-11 02:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d4a484731220c56bfaa981de7f4769911f46216a', 'message': 'Added a section on Secure Encrypted Virtualization.\n\nAdded a section explaining security capabilities and limitations of SEV\n(Secure Encrypted Virtualization). The nova changes for SEV are nearly\ncomplete, see: https://review.opendev.org/#/c/666616/\n\nAlso added a sentence in the introduction paragraph to mention the\nnew section on SEV.\n\nChange-Id: I147c70c5dda3eb33336ddc01de0128c889c3d2d3\n'}, {'number': 3, 'created': '2019-09-12 03:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/6acb3386c396221370ca631602fce905654fa557', 'message': 'Added a section on Secure Encrypted Virtualization.\n\nAdded a section explaining security capabilities and limitations of SEV\n(Secure Encrypted Virtualization). The nova changes for SEV are now\ncomplete, see: https://review.opendev.org/#/c/666616/\n\nAlso added a sentence in the introduction paragraph to mention the\nnew section on SEV.\n\nChange-Id: I147c70c5dda3eb33336ddc01de0128c889c3d2d3\n'}, {'number': 4, 'created': '2019-09-12 12:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/af6ef1f6e941d81578767a6dad660bf4b47d4fcc', 'message': 'Added a section on Secure Encrypted Virtualization.\n\nAdded a section explaining security capabilities and limitations of SEV\n(Secure Encrypted Virtualization). The nova changes for SEV are now\ncomplete, see: https://review.opendev.org/#/c/666616/\n\nAlso added a sentence in the introduction paragraph to mention the\nnew section on SEV.\n\nChange-Id: I147c70c5dda3eb33336ddc01de0128c889c3d2d3\n'}, {'number': 5, 'created': '2019-09-12 12:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/2e3a89511c5eb1a8f188ca9c69c6ff0eefc43b80', 'message': 'Added a section on Secure Encrypted Virtualization.\n\nAdded a section explaining security capabilities and limitations of SEV\n(Secure Encrypted Virtualization). The nova changes for SEV are now\ncomplete, see: https://review.opendev.org/#/c/666616/\n\nAlso added a sentence in the introduction paragraph to mention the\nnew section on SEV.\n\nChange-Id: I147c70c5dda3eb33336ddc01de0128c889c3d2d3\n'}, {'number': 6, 'created': '2019-09-12 14:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/1f40c46e43f064dae38851948bb1ad045b1e5135', 'message': 'Added a section on Secure Encrypted Virtualization.\n\nAdded a section explaining security capabilities and limitations of SEV\n(Secure Encrypted Virtualization). The nova changes for SEV are now\ncomplete, see: https://review.opendev.org/#/c/666616/\n\nAlso added a sentence in the introduction paragraph to mention the\nnew section on SEV.\n\nChange-Id: I147c70c5dda3eb33336ddc01de0128c889c3d2d3\n'}, {'number': 7, 'created': '2019-09-12 18:25:44.000000000', 'files': ['security-guide/source/compute/hardening-the-virtualization-layers.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f70e63f4aeb40a7e2329bd90cb0e7497c3663c36', 'message': 'Added a section on Secure Encrypted Virtualization.\n\nAdded a section explaining security capabilities and limitations of SEV\n(Secure Encrypted Virtualization). The nova changes for SEV are now\ncomplete, see: https://review.opendev.org/#/c/666616/\n\nAlso added a sentence in the introduction paragraph to mention the\nnew section on SEV.\n\nChange-Id: I147c70c5dda3eb33336ddc01de0128c889c3d2d3\n'}]",42,681359,f70e63f4aeb40a7e2329bd90cb0e7497c3663c36,42,11,7,24938,,,0,"Added a section on Secure Encrypted Virtualization.

Added a section explaining security capabilities and limitations of SEV
(Secure Encrypted Virtualization). The nova changes for SEV are now
complete, see: https://review.opendev.org/#/c/666616/

Also added a sentence in the introduction paragraph to mention the
new section on SEV.

Change-Id: I147c70c5dda3eb33336ddc01de0128c889c3d2d3
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/59/681359/5 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/compute/hardening-the-virtualization-layers.rst'],1,4f4ed736cf1903999d7a0f9d6bf815290f78dff5,bp/amd-sev-libvirt-support,"recommendations for mitigating those risks. Then we discuss how the Secure Encrypted Virtualizaion tehcnology can be used to encrypt the memory of VMs on AMD-based machines which support the technology. We conclude the chapter with aSecure Encrypted Virtualization ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Secure Encrypted Virtualization (SEV) <https://developer.amd.com/sev/>`_ is a technology from AMD which enables the the memory for a VM to be encrypted with a key unique to the VM. SEV is available with KVM guests on certain AMD-based machines. The first phase of SEV integration with OpenStack does not provide the LAUNCH_MEASURE or LAUNCH_SECRET capabilities which are available with the firmware. This means that data used by an SEV-protected VM may be subject to attacks from a motivated adversary who has control of the hypervisor. For example, a rogue administrator on the hypervisor machine could provide a VM image for tenants with a backdoor and spyware capable of stealing secrets, or replace the VNC server process to snoop data sent to or from the VM console including passwords which unlock full disk encryption solutions. SEV provides protection for data in the memory used by the running VM. To reduce the chance for other avenues of attack to expose data several security practices should accompany the use of SEV. These include the following. - A full disk encryption solution should be used by the VM. - The VM should be well maintained, including regular security scanning and patching to ensure a continuously strong security posture for the VM. Additional security tools and processes should be considered and used for the VM appropriate to the level of sensivity of the data. - Connections to the VM should use encrypted and authenticated protocols such as HTTPS and SSH. - A bootloader password should be used on the VM. To use SEV there are several requirements: - The compute node machine and KVM Hypervisor need to be configured for SEV usage. The `KVM Hypervisor section of the Nova Configuration Guide <https://docs.openstack.org/nova/latest/admin/configuration/hypervisor-kvm.html>`_ contains information needed to configure the machine and hypervisor, and lists several limitations of SEV. - Either the cloud operator will need to define one or more flavors that enable SEV or users will need to define SEV-enabled images. - The VM must be the modern ``Q35`` machine type and must use UEFI firmware. ``SATA`` and ``virtio-scsi`` disks are supported. ``virtio-blk`` and IDE disks are not supported at this time. - All ``virtio`` devices need to be configured with the ``iommu='on'`` attribute in their ``<driver>`` configuration. All memory regions used by the VM must be locked for Direct Memory Access (DMA) to prevent swapping. - The ``iommu`` attribute must be ``on`` for all virtio devices. Despite the name, this does not require the guest or host to have an IOMMU device, but merely enables the virtio flag which indicates that virtualized DMA should be used. - All the memory regions allocated by QEMU are pinned, so that they cannot be swapped to disk. ",recommendations for mitigating those risks. We conclude the chapter with a,60,1
openstack%2Fkuryr-kubernetes~master~I9def6e185a3128bda3fc89f59572a0fab065a6b6,openstack/kuryr-kubernetes,master,I9def6e185a3128bda3fc89f59572a0fab065a6b6,Add region_name to Octavia API connections,MERGED,2019-09-10 12:57:42.000000000,2019-09-20 09:36:37.000000000,2019-09-20 09:35:06.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-09-10 12:57:42.000000000', 'files': ['kuryr_kubernetes/clients.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/467d5fc1520b8067afc06b3ca754467ba8a2fc8c', 'message': 'Add region_name to Octavia API connections\n\nChange-Id: I9def6e185a3128bda3fc89f59572a0fab065a6b6\nCloses-Bug: 1843429\n'}]",0,681247,467d5fc1520b8067afc06b3ca754467ba8a2fc8c,10,5,1,11600,,,0,"Add region_name to Octavia API connections

Change-Id: I9def6e185a3128bda3fc89f59572a0fab065a6b6
Closes-Bug: 1843429
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/47/681247/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/clients.py'],1,467d5fc1520b8067afc06b3ca754467ba8a2fc8c,bug/1843429," conn = connection.Connection( session=session, region_name=getattr(config.CONF.neutron, 'region_name', None))", conn = connection.Connection(session=session),3,1
openstack%2Fneutron~stable%2Fstein~Ic768deb84d544db832367f9a4b84a92729eee620,openstack/neutron,stable/stein,Ic768deb84d544db832367f9a4b84a92729eee620,Fix creation of vlan network with segmentation_id set to 0,MERGED,2019-09-17 07:00:18.000000000,2019-09-20 09:36:35.000000000,2019-09-20 09:34:58.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-17 07:00:18.000000000', 'files': ['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7156ebfc2853ceeeeb94b7a4f9046eeb256051c1', 'message': 'Fix creation of vlan network with segmentation_id set to 0\n\nIn case when vlan network was created with segmentation_id=0 and without\nphysical_network given, it was passing validation of provider segment\nand first available segmentation_id was choosen for network.\nProblem was that in such case all available segmentation ids where\nallocated and no other vlan network could be created later.\n\nThis patch fixes validation of segmentation_id when it is set to value 0.\n\nChange-Id: Ic768deb84d544db832367f9a4b84a92729eee620\nCloses-bug: #1840895\n(cherry picked from commit f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b)\n'}]",0,682557,7156ebfc2853ceeeeb94b7a4f9046eeb256051c1,16,5,1,11975,,,0,"Fix creation of vlan network with segmentation_id set to 0

In case when vlan network was created with segmentation_id=0 and without
physical_network given, it was passing validation of provider segment
and first available segmentation_id was choosen for network.
Problem was that in such case all available segmentation ids where
allocated and no other vlan network could be created later.

This patch fixes validation of segmentation_id when it is set to value 0.

Change-Id: Ic768deb84d544db832367f9a4b84a92729eee620
Closes-bug: #1840895
(cherry picked from commit f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/682557/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py']",2,7156ebfc2853ceeeeb94b7a4f9046eeb256051c1,bug/1840895-stable/stein," def test_validate_provider_segment_no_phys_network_seg_id_0(self): segment = {api.NETWORK_TYPE: p_const.TYPE_VLAN, api.SEGMENTATION_ID: 0} self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment) api.PHYSICAL_NETWORK: PROVIDER_NET} segmentation_ids = [ p_const.MIN_VLAN_TAG - 1, p_const.MAX_VLAN_TAG + 1] for segmentation_id in segmentation_ids: segment[api.SEGMENTATION_ID] = segmentation_id self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment)"," api.PHYSICAL_NETWORK: PROVIDER_NET, api.SEGMENTATION_ID: 5000} self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment)",18,7
openstack%2Fdiskimage-builder~master~Ifd8c2c3b247917f6c1beb33fd23e67e1a565130b,openstack/diskimage-builder,master,Ifd8c2c3b247917f6c1beb33fd23e67e1a565130b,Fix invalid element-dep in vm,ABANDONED,2019-09-19 19:51:40.000000000,2019-09-20 09:34:42.000000000,,"[{'_account_id': 7118}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 19:51:40.000000000', 'files': ['diskimage_builder/elements/vm/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a7055232263c3bdb907ca22edbc10cb8f4431f61', 'message': ""Fix invalid element-dep in vm\n\nNo 'block-device' element exists. This makes this element unusable.\n\nChange-Id: Ifd8c2c3b247917f6c1beb33fd23e67e1a565130b\n""}]",0,683221,a7055232263c3bdb907ca22edbc10cb8f4431f61,7,5,1,9555,,,0,"Fix invalid element-dep in vm

No 'block-device' element exists. This makes this element unusable.

Change-Id: Ifd8c2c3b247917f6c1beb33fd23e67e1a565130b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/21/683221/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/vm/element-deps'],1,a7055232263c3bdb907ca22edbc10cb8f4431f61,vm-block-device,block-device-mbr,block-device,1,1
openstack%2Fcharm-openstack-dashboard~master~Ic8694cd8604aff8be392a31feeccb7fea55d0e41,openstack/charm-openstack-dashboard,master,Ic8694cd8604aff8be392a31feeccb7fea55d0e41,Remove neutron-lbaas-dashboard for train and above,MERGED,2019-09-12 20:42:29.000000000,2019-09-20 09:10:03.000000000,2019-09-20 09:10:03.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-12 20:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/42b7b16a1b100d4f4be73e8971d69190be55cae4', 'message': 'Install octavia-dashboard for train and above\n\nThe python3-neutron-lbaas-dashboard no longer exists as of\nTrain. Replace it with the python3-octavia-dashboard.\n\nChange-Id: Ic8694cd8604aff8be392a31feeccb7fea55d0e41\n'}, {'number': 2, 'created': '2019-09-12 21:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/a444a665f19abd588358c9c4152290a52aa8e0b0', 'message': 'Install octavia-dashboard for train and above\n\nThe python3-neutron-lbaas-dashboard no longer exists as of\nTrain. Replace it with the python3-octavia-dashboard.\n\nThis patch also keeps python-cinderclient at a version\nthat includes v1.client for testing.\n\nChange-Id: Ic8694cd8604aff8be392a31feeccb7fea55d0e41\n'}, {'number': 3, 'created': '2019-09-17 15:04:55.000000000', 'files': ['test-requirements.txt', 'hooks/horizon_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/fec0eeb2b79e9de3552704fb016143be1dcf067e', 'message': 'Remove neutron-lbaas-dashboard for train and above\n\nThe python3-neutron-lbaas-dashboard no longer exists as of\nTrain. Remove it in favor of the octavia-dashboard subordinate\ncharm.\n\nThis patch also keeps python-cinderclient at a version\nthat includes v1.client for testing.\n\nChange-Id: Ic8694cd8604aff8be392a31feeccb7fea55d0e41\n'}]",0,681927,fec0eeb2b79e9de3552704fb016143be1dcf067e,21,5,3,11805,,,0,"Remove neutron-lbaas-dashboard for train and above

The python3-neutron-lbaas-dashboard no longer exists as of
Train. Remove it in favor of the octavia-dashboard subordinate
charm.

This patch also keeps python-cinderclient at a version
that includes v1.client for testing.

Change-Id: Ic8694cd8604aff8be392a31feeccb7fea55d0e41
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/27/681927/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/horizon_utils.py'],1,42b7b16a1b100d4f4be73e8971d69190be55cae4,charms-train, if release >= 'train': packages.remove('python3-neutron-lbaas-dashboard') packages.append('python3-octavia-dashboard'),,3,0
openstack%2Frpm-packaging~master~Ifc02e30b8921a753dbbc6fe1d570fb1e5dbe3e93,openstack/rpm-packaging,master,Ifc02e30b8921a753dbbc6fe1d570fb1e5dbe3e93,Update monasca-ceilometer spec,MERGED,2019-09-16 21:35:30.000000000,2019-09-20 09:01:05.000000000,2019-09-20 09:01:05.000000000,"[{'_account_id': 1916}, {'_account_id': 2062}, {'_account_id': 10311}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28777}]","[{'number': 1, 'created': '2019-09-16 21:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8076e01ca039f489c6faec5f7bc5c1b07e8114de', 'message': 'Update monasca-ceilometer spec\n\nThis change updates the monasca-ceilometer spec to use python3 packages, adds a defaultconf file, and makes use of the tmpfiles mechanism\n\nChange-Id: Ifc02e30b8921a753dbbc6fe1d570fb1e5dbe3e93\n'}, {'number': 2, 'created': '2019-09-17 14:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0c57a4763b0bce59c9fce888d0103f1e80706b63', 'message': 'Update monasca-ceilometer spec\n\nThis change updates the monasca-ceilometer spec to use python3 packages, adds a defaultconf file, and makes use of the tmpfiles mechanism\n\nChange-Id: Ifc02e30b8921a753dbbc6fe1d570fb1e5dbe3e93\n'}, {'number': 3, 'created': '2019-09-18 15:55:07.000000000', 'files': ['openstack/monasca-ceilometer/openstack-ceilometer-agent-compute.service', 'openstack/monasca-ceilometer/openstack-ceilometer-agent-central.service', 'openstack/monasca-ceilometer/openstack-ceilometer-agent-notification.service', 'openstack/monasca-ceilometer/monasca-ceilometer.spec.j2', 'openstack/monasca-ceilometer/openstack-ceilometer-agent-ipmi.service', 'openstack/monasca-ceilometer/openstack-ceilometer.tmpfiles', 'openstack/monasca-ceilometer/openstack-ceilometer-polling.service', 'openstack/monasca-ceilometer/openstack-ceilometer.defaultconf'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/055998851253b3eb0a61cec1ff7faeb7ff4eb7b0', 'message': 'Update monasca-ceilometer spec\n\nThis change updates the monasca-ceilometer spec to use python3\npackages, adds a defaultconf file, and makes use of the tmpfiles\nmechanism.\n\nChange-Id: Ifc02e30b8921a753dbbc6fe1d570fb1e5dbe3e93\n'}]",5,682496,055998851253b3eb0a61cec1ff7faeb7ff4eb7b0,31,7,3,28777,,,0,"Update monasca-ceilometer spec

This change updates the monasca-ceilometer spec to use python3
packages, adds a defaultconf file, and makes use of the tmpfiles
mechanism.

Change-Id: Ifc02e30b8921a753dbbc6fe1d570fb1e5dbe3e93
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/96/682496/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/monasca-ceilometer/openstack-ceilometer-agent-compute.service', 'openstack/monasca-ceilometer/openstack-ceilometer-agent-central.service', 'openstack/monasca-ceilometer/openstack-ceilometer-agent-notification.service', 'openstack/monasca-ceilometer/monasca-ceilometer.spec.j2', 'openstack/monasca-ceilometer/openstack-ceilometer-agent-ipmi.service', 'openstack/monasca-ceilometer/openstack-ceilometer.tmpfiles', 'openstack/monasca-ceilometer/openstack-ceilometer-polling.service', 'openstack/monasca-ceilometer/openstack-ceilometer.defaultconf']",8,8076e01ca039f489c6faec5f7bc5c1b07e8114de,,[DEFAULT] log_dir = /var/log/ceilometer [oslo_concurrency] lock_path = /run/ceilometer [notification] workload_partitioning = False disable_non_metric_meters = False ,,158,151
openstack%2Frpm-packaging~master~Ib1f537294dabd8dcc5757b35f69c9f6c14e2a501,openstack/rpm-packaging,master,Ib1f537294dabd8dcc5757b35f69c9f6c14e2a501,Adding airship folder for packaging airship components,MERGED,2019-09-12 18:36:01.000000000,2019-09-20 09:00:57.000000000,2019-09-20 09:00:57.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24580}, {'_account_id': 25630}]","[{'number': 1, 'created': '2019-09-12 18:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d2817ad1df45939863385b00a9b9969ec987fb50', 'message': 'Adding airship folder for packaging airship components\n\nChange-Id: Ib1f537294dabd8dcc5757b35f69c9f6c14e2a501\n'}, {'number': 2, 'created': '2019-09-13 19:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d9605834fb14b956c67e6ccce3cac28253c45a26', 'message': 'Adding airship folder for packaging airship components\n\nChange-Id: Ib1f537294dabd8dcc5757b35f69c9f6c14e2a501\n'}, {'number': 3, 'created': '2019-09-18 18:46:56.000000000', 'files': ['airship/README.rst', 'tools/run_renderspec.sh'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/61ca7d7834e8b987bd118fe23aa8f4c6aabd14f1', 'message': 'Adding airship folder for packaging airship components\n\nChange-Id: Ib1f537294dabd8dcc5757b35f69c9f6c14e2a501\n'}]",1,681872,61ca7d7834e8b987bd118fe23aa8f4c6aabd14f1,25,9,3,25630,,,0,"Adding airship folder for packaging airship components

Change-Id: Ib1f537294dabd8dcc5757b35f69c9f6c14e2a501
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/72/681872/1 && git format-patch -1 --stdout FETCH_HEAD,['airship/README.rst'],1,d2817ad1df45939863385b00a9b9969ec987fb50,,RPM Packaging for Airship Components ,,1,0
openstack%2Fcyborg~master~I9e254a0aedd2c5fbab570e341239fd636b781794,openstack/cyborg,master,I9e254a0aedd2c5fbab570e341239fd636b781794,fix cannot load 'stub' error for gpu discover,MERGED,2019-08-07 08:44:07.000000000,2019-09-20 08:39:28.000000000,2019-09-20 08:38:26.000000000,"[{'_account_id': 14131}, {'_account_id': 17130}, {'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 25738}, {'_account_id': 27458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-08-07 08:44:07.000000000', 'files': ['cyborg/accelerator/drivers/gpu/utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/618967e209fe473bc91530e57348cdaffcb80137', 'message': ""fix cannot load 'stub' error for gpu discover\n\nwe recently imported 'stub' concept in https://review.opendev.org/#/c/669172/\nThis patch fixes the following error for GPU discovery and report:\nNotImplementedError: Cannot load 'stub' in the base class\n\nChange-Id: I9e254a0aedd2c5fbab570e341239fd636b781794\n""}]",0,675059,618967e209fe473bc91530e57348cdaffcb80137,10,10,1,24872,,,0,"fix cannot load 'stub' error for gpu discover

we recently imported 'stub' concept in https://review.opendev.org/#/c/669172/
This patch fixes the following error for GPU discovery and report:
NotImplementedError: Cannot load 'stub' in the base class

Change-Id: I9e254a0aedd2c5fbab570e341239fd636b781794
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/59/675059/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/drivers/gpu/utils.py'],1,618967e209fe473bc91530e57348cdaffcb80137,," driver_device_obj.stub = gpu.get('stub', False)",,1,0
openstack%2Fopenstack-ansible-os_octavia~master~Ib9015383d36fe47272e0a27408db89df83a4b38c,openstack/openstack-ansible-os_octavia,master,Ib9015383d36fe47272e0a27408db89df83a4b38c,Add cinder volume support,MERGED,2019-09-12 06:38:43.000000000,2019-09-20 08:39:04.000000000,2019-09-20 08:37:54.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 25023}, {'_account_id': 27488}, {'_account_id': 28619}, {'_account_id': 30568}]","[{'number': 1, 'created': '2019-09-12 06:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/dea818cee2a76d064eee52ec92404135b649b978', 'message': ""Add cinder volume support\n\nSince I8181ed696b9ab556e7741c08839d79167aff8350 were merged we need to add\nsupport for the Cinder Volume here. By default this functionality is\ndisabled. To enable it change the option 'octavia_cinder_enabled' to True.\n\nChange-Id: Ib9015383d36fe47272e0a27408db89df83a4b38c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2019-09-12 06:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/104dbf4b6bad1c57f1f3fa8cec2b9c3d93082085', 'message': ""Add cinder volume support\n\nSince I8181ed696b9ab556e7741c08839d79167aff8350 were merged we need to add\nsupport for the Cinder Volume here. By default this functionality is\ndisabled. To enable it change the option 'octavia_cinder_enabled' to True.\n\nChange-Id: Ib9015383d36fe47272e0a27408db89df83a4b38c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2019-09-12 19:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9075d5dd5d6804e037c9e6ba11f5ee700fee3c4c', 'message': ""Add cinder volume support\n\nSince I8181ed696b9ab556e7741c08839d79167aff8350 were merged we need to add\nsupport for the Cinder Volume here. By default this functionality is\ndisabled. To enable it change the option 'octavia_cinder_enabled' to True.\nTo override default settings use 'octavia_octavia_conf_overrides'.\n\nChange-Id: Ib9015383d36fe47272e0a27408db89df83a4b38c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2019-09-14 15:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/494821d102aa74b1deeda978d3c00be459d5700b', 'message': ""Add cinder volume support\n\nSince I8181ed696b9ab556e7741c08839d79167aff8350 were merged we need to add\nsupport for the Cinder Volume here. By default this functionality is\ndisabled. To enable it change the option 'octavia_cinder_enabled' to True.\nTo override default settings use 'octavia_octavia_conf_overrides'.\n\nChange-Id: Ib9015383d36fe47272e0a27408db89df83a4b38c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2019-09-14 15:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b3bcc6960dc8ad91e1a50bc4a6f614546d9cdef4', 'message': ""Add cinder volume support\n\nSince I8181ed696b9ab556e7741c08839d79167aff8350 were merged we need to add\nsupport for the Cinder Volume here. By default this functionality is\ndisabled. To enable it change the option 'octavia_cinder_enabled' to True.\nTo override default settings use 'octavia_octavia_conf_overrides'.\n\nChange-Id: Ib9015383d36fe47272e0a27408db89df83a4b38c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 6, 'created': '2019-09-15 07:18:06.000000000', 'files': ['releasenotes/notes/volume-based-10a2c22c7f180cc2.yaml', 'templates/octavia.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/aa45cb8310e939e9fb56649499584bf8053de45c', 'message': ""Add cinder volume support\n\nSince I8181ed696b9ab556e7741c08839d79167aff8350 were merged we need to add\nsupport for the Cinder Volume here. By default this functionality is\ndisabled. To enable it change the option 'octavia_cinder_enabled' to True.\nTo override default settings use 'octavia_octavia_conf_overrides'.\n\nChange-Id: Ib9015383d36fe47272e0a27408db89df83a4b38c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",2,681649,aa45cb8310e939e9fb56649499584bf8053de45c,66,10,6,14200,,,0,"Add cinder volume support

Since I8181ed696b9ab556e7741c08839d79167aff8350 were merged we need to add
support for the Cinder Volume here. By default this functionality is
disabled. To enable it change the option 'octavia_cinder_enabled' to True.
To override default settings use 'octavia_octavia_conf_overrides'.

Change-Id: Ib9015383d36fe47272e0a27408db89df83a4b38c
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/49/681649/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/octavia.conf.j2', 'defaults/main.yml']",2,dea818cee2a76d064eee52ec92404135b649b978,volume-based,"## Cinder Volume defaults octavia_cinder_enabled: False octavia_cinder_volume_size: 8 octavia_cinder_volume_type: ""lvm"" ",,26,0
openstack%2Fnetworking-odl~master~I02e25f0c089782a37fdab78a3a058edf42ddbfb7,openstack/networking-odl,master,I02e25f0c089782a37fdab78a3a058edf42ddbfb7,Remove unneeded Zuul branch matcher,MERGED,2019-09-13 07:33:37.000000000,2019-09-20 08:25:55.000000000,2019-09-20 08:21:44.000000000,"[{'_account_id': 107}, {'_account_id': 333}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 7921}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11240}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-09-13 07:33:37.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/42223f73b2a5325c86a44362f0ae3eec39c30741', 'message': ""Remove unneeded Zuul branch matcher\n\nWe have implicit branch matchers, so there's no need to add a check\nfor not-ocata etc, a job is only run for the branch it's on - like\nmaster now.\n\nRemove it to not confuse Zuul when multiple branches matches and the job\ndefinition is different.\n\nChange-Id: I02e25f0c089782a37fdab78a3a058edf42ddbfb7\n""}]",0,681979,42223f73b2a5325c86a44362f0ae3eec39c30741,9,19,1,6547,,,0,"Remove unneeded Zuul branch matcher

We have implicit branch matchers, so there's no need to add a check
for not-ocata etc, a job is only run for the branch it's on - like
master now.

Remove it to not confuse Zuul when multiple branches matches and the job
definition is different.

Change-Id: I02e25f0c089782a37fdab78a3a058edf42ddbfb7
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/79/681979/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,42223f73b2a5325c86a44362f0ae3eec39c30741,no-branches,, branches: ^(?!(driverfixes|stable/(mitaka|newton))).*$ branches: ^(?!stable/(ocata|pike|queens)).*$ branches: ^(?!stable/(ocata|pike|queens|rocky)).*$,0,3
openstack%2Fheat~master~I3bb257d7e0c3926aed5df75455f2f2d231dea328,openstack/heat,master,I3bb257d7e0c3926aed5df75455f2f2d231dea328,Add release notes,MERGED,2019-09-18 17:16:33.000000000,2019-09-20 08:23:47.000000000,2019-09-20 08:21:24.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 17:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/66313f3d128bc860c96ebaffbfea07dcb4975e77', 'message': 'Add release notes\n\nAdd release notes for:\n- Change default designate client version from V1 to V2.\n- Hidden multiattach property in OS::Cinder::Volume\n\nDepends-On: https://review.opendev.org/#/c/682792\nChange-Id: I3bb257d7e0c3926aed5df75455f2f2d231dea328\n'}, {'number': 2, 'created': '2019-09-20 07:13:30.000000000', 'files': ['releasenotes/notes/change-default-designate-client-version-107de4784f8da2a6.yaml', 'releasenotes/notes/hidden-multiattach-c761af6165c9571f.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/92ca51ec8144e4d0b64cc82077080affff746411', 'message': 'Add release notes\n\nAdd release notes for:\n- Change default designate client version from V1 to V2.\n- Hidden multiattach property in OS::Cinder::Volume\n\nDepends-On: https://review.opendev.org/#/c/682792\nChange-Id: I3bb257d7e0c3926aed5df75455f2f2d231dea328\n'}]",2,682948,92ca51ec8144e4d0b64cc82077080affff746411,10,2,2,12404,,,0,"Add release notes

Add release notes for:
- Change default designate client version from V1 to V2.
- Hidden multiattach property in OS::Cinder::Volume

Depends-On: https://review.opendev.org/#/c/682792
Change-Id: I3bb257d7e0c3926aed5df75455f2f2d231dea328
",git fetch https://review.opendev.org/openstack/heat refs/changes/48/682948/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/change-default-designate-client-version-107de4784f8da2a6.yaml', 'releasenotes/notes/hidden-multiattach-c761af6165c9571f.yaml']",2,66313f3d128bc860c96ebaffbfea07dcb4975e77,add-release-note,--- upgrade: - | ``multiattach``` property in ``OS::Cinder::Volume`` is now hidden. Please use ``multiattach`` in ``extra_specs`` property of volume type instead. ,,12,0
openstack%2Ffreezer-tempest-plugin~master~I211039189a935e006dc77d3245486d72b7c104a9,openstack/freezer-tempest-plugin,master,I211039189a935e006dc77d3245486d72b7c104a9,Sync Sphinx requirement,MERGED,2019-06-18 16:04:38.000000000,2019-09-20 08:04:34.000000000,2019-09-20 08:04:34.000000000,"[{'_account_id': 18955}, {'_account_id': 21069}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-06-18 16:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/2fde4fb4402eaa8162e0fa7bb22ad3f79660bf8f', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I211039189a935e006dc77d3245486d72b7c104a9\n'}, {'number': 2, 'created': '2019-06-18 16:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/f81d5f29c288e06ef4d4980f5c8ff6e45fd4783d', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n3. Remove unncessary ""==""\n\nChange-Id: I211039189a935e006dc77d3245486d72b7c104a9\n'}, {'number': 3, 'created': '2019-09-13 01:50:25.000000000', 'files': ['CONTRIBUTING.rst', 'test-requirements.txt', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/7c1db8fe06600bf4030332b8863228cafac146db', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n3. Remove unncessary ""==""\n\nChange-Id: I211039189a935e006dc77d3245486d72b7c104a9\n'}]",1,666036,7c1db8fe06600bf4030332b8863228cafac146db,17,7,3,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest
3. Remove unncessary ""==""

Change-Id: I211039189a935e006dc77d3245486d72b7c104a9
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/36/666036/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'test-requirements.txt']",2,2fde4fb4402eaa8162e0fa7bb22ad3f79660bf8f,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",5,4
openstack%2Fplacement~master~Ia4100f56aa2ba6ea4f49778214ffad3d580dab5e,openstack/placement,master,Ia4100f56aa2ba6ea4f49778214ffad3d580dab5e,Uncap jsonschema,ABANDONED,2019-09-20 04:29:14.000000000,2019-09-20 07:52:30.000000000,,"[{'_account_id': 9708}, {'_account_id': 21692}]","[{'number': 1, 'created': '2019-09-20 04:29:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/d144784830528a8199c06d2df52d49ad563e95cf', 'message': 'Uncap jsonschema\n\njsonschema version has been updated[1]\nand other projects have fixed[2]\n\n[1]:https://review.opendev.org/#/c/649789/\n[2]:https://review.opendev.org/#/q/topic:jsonschema+status:merged\n\nChange-Id: Ia4100f56aa2ba6ea4f49778214ffad3d580dab5e\n'}]",0,683283,d144784830528a8199c06d2df52d49ad563e95cf,4,2,1,21692,,,0,"Uncap jsonschema

jsonschema version has been updated[1]
and other projects have fixed[2]

[1]:https://review.opendev.org/#/c/649789/
[2]:https://review.opendev.org/#/q/topic:jsonschema+status:merged

Change-Id: Ia4100f56aa2ba6ea4f49778214ffad3d580dab5e
",git fetch https://review.opendev.org/openstack/placement refs/changes/83/683283/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d144784830528a8199c06d2df52d49ad563e95cf,jsonschema,jsonschema>=2.6.0 # MIT,"jsonschema<3.0.0,>=2.6.0 # MIT",1,1
openstack%2Fpython-freezerclient~master~I3004cf4d723a4c7680ba7d907c57a34130b7e348,openstack/python-freezerclient,master,I3004cf4d723a4c7680ba7d907c57a34130b7e348,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-25 08:26:35.000000000,2019-09-20 07:43:23.000000000,2019-09-20 07:38:28.000000000,"[{'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 30112}]","[{'number': 1, 'created': '2019-06-25 08:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/d766382ce78f4fda0788172c1eaaf98bbd8bb921', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I3004cf4d723a4c7680ba7d907c57a34130b7e348\n'}, {'number': 2, 'created': '2019-07-02 01:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/c6187158fbb3ebac909574c16697c87fff99b4b1', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I3004cf4d723a4c7680ba7d907c57a34130b7e348\n'}, {'number': 3, 'created': '2019-07-30 08:51:24.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/5bbe962f39f6258e4319dd4a3792e9592825d706', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I3004cf4d723a4c7680ba7d907c57a34130b7e348\n'}]",1,667286,5bbe962f39f6258e4319dd4a3792e9592825d706,15,5,3,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I3004cf4d723a4c7680ba7d907c57a34130b7e348
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/86/667286/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,d766382ce78f4fda0788172c1eaaf98bbd8bb921,Bug#2,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Ffreezer-api~master~I9a9da22aef5ff16f9a1ea462e7e1543d5099399b,openstack/freezer-api,master,I9a9da22aef5ff16f9a1ea462e7e1543d5099399b,Sync Sphinx requirement,MERGED,2019-08-02 06:23:34.000000000,2019-09-20 07:42:24.000000000,2019-09-20 07:40:24.000000000,"[{'_account_id': 21069}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28935}, {'_account_id': 29313}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-08-02 06:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/ccb47a21443023d39741f88ea10f78834db2d74c', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I9a9da22aef5ff16f9a1ea462e7e1543d5099399b\n'}, {'number': 2, 'created': '2019-08-02 07:26:39.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/984defe96620a5f27e626adb6ba29081130b3255', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I9a9da22aef5ff16f9a1ea462e7e1543d5099399b\n'}]",0,674191,984defe96620a5f27e626adb6ba29081130b3255,13,6,2,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I9a9da22aef5ff16f9a1ea462e7e1543d5099399b
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/91/674191/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ccb47a21443023d39741f88ea10f78834db2d74c,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fpython-freezerclient~master~I10ae220c4e5c62308433466635a8055a53a8e706,openstack/python-freezerclient,master,I10ae220c4e5c62308433466635a8055a53a8e706,Add Python 3 Train unit tests,MERGED,2019-06-24 13:27:08.000000000,2019-09-20 07:42:14.000000000,2019-09-20 07:38:24.000000000,"[{'_account_id': 18955}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-24 13:27:08.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/6ef7fde206b79b483643e58008c8faa9ed71268a', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I10ae220c4e5c62308433466635a8055a53a8e706\nStory: #2005924\nTask: #34207\n'}]",0,667097,6ef7fde206b79b483643e58008c8faa9ed71268a,9,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I10ae220c4e5c62308433466635a8055a53a8e706
Story: #2005924
Task: #34207
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/97/667097/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,6ef7fde206b79b483643e58008c8faa9ed71268a,python3-train,"envlist = py27,py37,pep8,pylint,docs","envlist = py27,py36,py37,pep8,pylint,docs",3,4
openstack%2Ffreezer~master~I5084068694f867b725e684ceb4e3933974aaa9fa,openstack/freezer,master,I5084068694f867b725e684ceb4e3933974aaa9fa,Bump the openstackdocstheme extension to 1.20,MERGED,2019-08-02 06:51:45.000000000,2019-09-20 07:42:10.000000000,2019-09-20 07:40:13.000000000,"[{'_account_id': 18955}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 26285}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-08-02 06:51:45.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/65a985e8c38290303f963f9e5494fa2ee796d4c7', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I5084068694f867b725e684ceb4e3933974aaa9fa\n'}]",0,674203,65a985e8c38290303f963f9e5494fa2ee796d4c7,11,6,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I5084068694f867b725e684ceb4e3933974aaa9fa
",git fetch https://review.opendev.org/openstack/freezer refs/changes/03/674203/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,65a985e8c38290303f963f9e5494fa2ee796d4c7,openstackdocstheme,,"# Must set this variable to include year, month, day, hours, and minutes. html_last_updated_fmt = '%Y-%m-%d %H:%M' project = u'Freezer Client Release Notes'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). #'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). #'pointsize': '10pt', # Additional stuff for the LaTeX preamble. #'preamble': '', } ",2,22
openstack%2Fkeystone~master~I7874a70e6109219baee80309c3a27f8af9905a6d,openstack/keystone,master,I7874a70e6109219baee80309c3a27f8af9905a6d,Honor group_members_are_ids for user_enabled_emulation,MERGED,2019-08-06 11:35:46.000000000,2019-09-20 07:18:57.000000000,2019-09-20 01:50:21.000000000,"[{'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 8866}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-06 11:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1567501f5a46401f8c9cadb89946c7a6a20dc836', 'message': 'Honor group_members_are_ids for user_enabled_emulation\n\nApplied when group config is to be honored\n(i.e. set user_enabled_emulation_use_group_config).\nConditionals follow usage of group_members_are_ids.\n\nAdditionally some TODOs are added for observed potential issues.\n\nChange-Id: I7874a70e6109219baee80309c3a27f8af9905a6d\nCloses-Bug: #1839133\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-08-12 14:43:03.000000000', 'files': ['keystone/identity/backends/ldap/common.py', 'releasenotes/notes/bug-1839133-24570c9fbacb530d.yaml', 'keystone/tests/unit/test_backend_ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c7fae97d873f72068ca65538ec5b5919c0ac7d5a', 'message': 'Honor group_members_are_ids for user_enabled_emulation\n\nApplied when group config is to be honored\n(i.e. set user_enabled_emulation_use_group_config).\nConditionals follow usage of group_members_are_ids.\n\nAdded new test for the case with ids.\nIt fails without fix.\nThe original test expanded to ensure the change did not\nbreak its internals either.\nIt passes without fix as well.\n\nAdditionally some TODOs are added for observed potential issues.\n\nChange-Id: I7874a70e6109219baee80309c3a27f8af9905a6d\nCloses-Bug: #1839133\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",12,674782,c7fae97d873f72068ca65538ec5b5919c0ac7d5a,23,5,2,30491,,,0,"Honor group_members_are_ids for user_enabled_emulation

Applied when group config is to be honored
(i.e. set user_enabled_emulation_use_group_config).
Conditionals follow usage of group_members_are_ids.

Added new test for the case with ids.
It fails without fix.
The original test expanded to ensure the change did not
break its internals either.
It passes without fix as well.

Additionally some TODOs are added for observed potential issues.

Change-Id: I7874a70e6109219baee80309c3a27f8af9905a6d
Closes-Bug: #1839133
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/82/674782/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/ldap/common.py', 'releasenotes/notes/bug-1839133-24570c9fbacb530d.yaml']",2,1567501f5a46401f8c9cadb89946c7a6a20dc836,bug/1839133,--- fixes: - | [`bug 1839133 <https://bugs.launchpad.net/keystone/+bug/1839133>`_] Makes user_enabled_emulation_use_group_config honor group_members_are_ids. ,,26,4
openstack%2Foctavia~stable%2Fstein~I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44,openstack/octavia,stable/stein,I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44,Fix cleanup of expired load balancer entries,MERGED,2019-09-18 15:13:51.000000000,2019-09-20 07:07:13.000000000,2019-09-20 07:05:20.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-09-18 15:13:51.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'releasenotes/notes/fix-loadbalancer-db-cleanup-61ee81a4fd597067.yaml', 'octavia/db/repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8cb64148d599e03e1b236a089070f66e1ad1a0f3', 'message': 'Fix cleanup of expired load balancer entries\n\nFix a bad query filter, deleted load balancers have a DELETED\nprovisioning_status (instead of operating_status).\n\nAdd a functional test that checks that deleted and expired load\nbalancers are correctly selected by get_all_deleted_expiring function.\n\nFix a similar test for amphorae that was buggy and not enabled (because\nof missing test_ prefix).\n\nChange-Id: I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44\nStory: 2006496\nTask: 36458\n(cherry picked from commit a4da3ef22001e1229541a3bdfe232f6967987cb9)\n'}]",0,682930,8cb64148d599e03e1b236a089070f66e1ad1a0f3,17,4,1,6469,,,0,"Fix cleanup of expired load balancer entries

Fix a bad query filter, deleted load balancers have a DELETED
provisioning_status (instead of operating_status).

Add a functional test that checks that deleted and expired load
balancers are correctly selected by get_all_deleted_expiring function.

Fix a similar test for amphorae that was buggy and not enabled (because
of missing test_ prefix).

Change-Id: I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44
Story: 2006496
Task: 36458
(cherry picked from commit a4da3ef22001e1229541a3bdfe232f6967987cb9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/30/682930/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'releasenotes/notes/fix-loadbalancer-db-cleanup-61ee81a4fd597067.yaml', 'octavia/db/repositories.py']",3,8cb64148d599e03e1b236a089070f66e1ad1a0f3,, query = query.filter_by(provisioning_status=consts.DELETED), query = query.filter_by(operating_status=consts.DELETED),33,11
openstack%2Foctavia~master~I076335d08d5411fd629c3e8860f14980b0dbcb5a,openstack/octavia,master,I076335d08d5411fd629c3e8860f14980b0dbcb5a,Generate PDF documentation,MERGED,2019-06-24 23:46:35.000000000,2019-09-20 07:07:09.000000000,2019-09-20 07:05:15.000000000,"[{'_account_id': 6469}, {'_account_id': 6547}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28743}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-06-24 23:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/23f13abfbe96e69d8bb6d853e6494ad8011ae8e8', 'message': 'WIP: Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 2, 'created': '2019-08-23 21:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6075e567c1a9fb5633d94c9b8360347b882ed9fe', 'message': 'WIP: Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nDepends-On: https://review.opendev.org/#/c/664555/\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 3, 'created': '2019-08-23 23:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce2377be0d8ba5b142baa8ca5f5a31b81e97a474', 'message': 'WIP: Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nDepends-On: https://review.opendev.org/#/c/664555/\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 4, 'created': '2019-08-25 05:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/50efe7941bfe5424b2fd4bc23321f0e9f32831e8', 'message': 'WIP: Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nDepends-On: https://review.opendev.org/#/c/664555/\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 5, 'created': '2019-09-04 05:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8e24ab4a5434f7f6222277499358c772f160d212', 'message': 'WIP: Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nDepends-On: https://review.opendev.org/#/c/664555/\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 6, 'created': '2019-09-04 08:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a79844d4d5556f497be4e4e71fa54990507bd03', 'message': 'WIP: Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nDepends-On: https://review.opendev.org/#/c/664555/\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 7, 'created': '2019-09-11 04:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2aadedb9366b2ab595e16f7300dec828cad737f1', 'message': 'Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 8, 'created': '2019-09-12 21:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8fc82d313818a5862db2e70c3fe4134c0af12df0', 'message': 'Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 9, 'created': '2019-09-12 22:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ecd45660e11078dd16a484012515d21dd76eb2ed', 'message': 'Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nStory: 2006101\nTask: 35146\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 10, 'created': '2019-09-12 23:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01d06913ba3c1ae4f2a8549f02e407cf6d054939', 'message': 'Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nStory: 2006101\nTask: 35146\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 11, 'created': '2019-09-12 23:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bdece421dc1b126d328417c22afdb1b78d2cfb31', 'message': 'Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nStory: 2006101\nTask: 35146\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}, {'number': 12, 'created': '2019-09-19 20:12:43.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/source/contributor/devref/erd.rst', 'tools/create_flow_docs.py', 'doc/source/index.rst', 'bindep.txt', 'doc/source/contributor/index.rst', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/97058e925b2f301b68f2b4df1e181a43c268bf1b', 'message': 'Generate PDF documentation\n\nThis patch sets up PDF document generation for Octavia.\n\nStory: 2006101\nTask: 35146\nChange-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a\n'}]",9,667249,97058e925b2f301b68f2b4df1e181a43c268bf1b,47,7,12,11628,,,0,"Generate PDF documentation

This patch sets up PDF document generation for Octavia.

Story: 2006101
Task: 35146
Change-Id: I076335d08d5411fd629c3e8860f14980b0dbcb5a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/667249/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,23f13abfbe96e69d8bb6d853e6494ad8011ae8e8,build-pdf-docs,whitelist_externals = rm make sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf,whitelist_externals = rm,36,2
openstack%2Foctavia~stable%2Fqueens~I932ad625595333e97b0ead074ce64a7341af338d,openstack/octavia,stable/queens,I932ad625595333e97b0ead074ce64a7341af338d,Work around strptime threading issue,MERGED,2019-09-18 17:16:51.000000000,2019-09-20 07:06:56.000000000,2019-09-20 07:05:19.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 17:16:51.000000000', 'files': ['octavia/common/base_taskflow.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6c1f8ec846c6065573d36f5db261eee0483dc4b', 'message': 'Work around strptime threading issue\n\nThere is an open bug[1] in python strptime when used in multi-threaded\napplications. We have seen this occur in the Octavia test jobs[2].\nThis patch works around the bug by loading strptime early.\n\n[1] https://bugs.python.org/issue7980\n[2] https://logs.opendev.org/37/673337/12/check/ \\\n    octavia-v2-act-stdby-iptables-dsvm-py2-scenario/440c965/controller/logs \\\n    /screen-o-cw.txt.gz?level=ERROR#_Aug_09_23_54_29_426364\n\nChange-Id: I932ad625595333e97b0ead074ce64a7341af338d\n(cherry picked from commit 0720397d5c47e2af33dbe9fdf8f25b95ce620106)\n'}]",0,682951,d6c1f8ec846c6065573d36f5db261eee0483dc4b,16,4,1,6469,,,0,"Work around strptime threading issue

There is an open bug[1] in python strptime when used in multi-threaded
applications. We have seen this occur in the Octavia test jobs[2].
This patch works around the bug by loading strptime early.

[1] https://bugs.python.org/issue7980
[2] https://logs.opendev.org/37/673337/12/check/ \
    octavia-v2-act-stdby-iptables-dsvm-py2-scenario/440c965/controller/logs \
    /screen-o-cw.txt.gz?level=ERROR#_Aug_09_23_54_29_426364

Change-Id: I932ad625595333e97b0ead074ce64a7341af338d
(cherry picked from commit 0720397d5c47e2af33dbe9fdf8f25b95ce620106)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/682951/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/base_taskflow.py'],1,d6c1f8ec846c6065573d36f5db261eee0483dc4b,,"import datetime # work around for https://bugs.python.org/issue7980 datetime.datetime.strptime('2014-06-19 22:47:16', '%Y-%m-%d %H:%M:%S')",,3,0
openstack%2Faodh~master~I4752934c78b19b9d87483eac07fd9042dbddecf1,openstack/aodh,master,I4752934c78b19b9d87483eac07fd9042dbddecf1,Fix misspell word,ABANDONED,2019-09-06 08:29:53.000000000,2019-09-20 07:03:00.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 08:29:53.000000000', 'files': ['aodh/tests/functional/gabbi/fixtures.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/4f6b3be763f85b658100117b114ae2f390e86d37', 'message': 'Fix misspell word\n\nChange-Id: I4752934c78b19b9d87483eac07fd9042dbddecf1\n'}]",0,680617,4f6b3be763f85b658100117b114ae2f390e86d37,4,2,1,30408,,,0,"Fix misspell word

Change-Id: I4752934c78b19b9d87483eac07fd9042dbddecf1
",git fetch https://review.opendev.org/openstack/aodh refs/changes/17/680617/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/tests/functional/gabbi/fixtures.py'],1,4f6b3be763f85b658100117b114ae2f390e86d37,,# pass to the WSGI app used per test suite. LOAD_APP_KWARGS are the oslo,# pass to the WSGI app used per test suite. LOAD_APP_KWARGS are the olso,1,1
openstack%2Fhorizon~master~I66869713daa1ea0c3e1e2692e6cf0d5989214e70,openstack/horizon,master,I66869713daa1ea0c3e1e2692e6cf0d5989214e70,Fix display problem caused by empty image name,NEW,2019-06-13 03:05:12.000000000,2019-09-20 06:56:56.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 27399}, {'_account_id': 27822}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 30676}]","[{'number': 1, 'created': '2019-06-13 03:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd5bbc287406c5c76533aba415474bbd54da34c1', 'message': 'Fix display problem caused by empty image name\n\nCloses-Bug: #1832447\n\nChange-Id: I66869713daa1ea0c3e1e2692e6cf0d5989214e70\n'}, {'number': 2, 'created': '2019-06-13 06:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7c294e58cbce1e628619b97dc8ab14ad973151f1', 'message': 'Fix display problem caused by empty image name\n\nCloses-Bug: #1832447\n\nChange-Id: I66869713daa1ea0c3e1e2692e6cf0d5989214e70\n'}, {'number': 3, 'created': '2019-06-19 01:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/baa0c1919a647573a28a1b9c7e1df12e6ef03dc8', 'message': 'Fix display problem caused by empty image name\n\nCloses-Bug: #1832447\n\nChange-Id: I66869713daa1ea0c3e1e2692e6cf0d5989214e70\n'}, {'number': 4, 'created': '2019-07-04 01:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ee0f5555beba974113a4a2310af66c5ce8342f99', 'message': 'Fix display problem caused by empty image name\n\nCloses-Bug: #1832447\n\nChange-Id: I66869713daa1ea0c3e1e2692e6cf0d5989214e70\n'}, {'number': 5, 'created': '2019-07-04 06:12:09.000000000', 'files': ['openstack_dashboard/test/unit/api/test_glance.py', 'openstack_dashboard/api/glance.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c30f813a08b4b519fcea7c04177e36a2b62293c7', 'message': 'Fix display problem caused by empty image name\n\nCloses-Bug: #1832447\n\nChange-Id: I66869713daa1ea0c3e1e2692e6cf0d5989214e70\n'}]",4,665048,c30f813a08b4b519fcea7c04177e36a2b62293c7,21,9,5,27822,,,0,"Fix display problem caused by empty image name

Closes-Bug: #1832447

Change-Id: I66869713daa1ea0c3e1e2692e6cf0d5989214e70
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/665048/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/glance.py'],1,cd5bbc287406c5c76533aba415474bbd54da34c1,bug/1832447," return (getattr(self._apiresource, 'name', None) or getattr(self._apiresource, 'id', None))"," return getattr(self._apiresource, 'name', None)",2,1
openstack%2Foctavia~master~Iad3b55e5add4283256f7836c3d4a501aa57ffc2f,openstack/octavia,master,Iad3b55e5add4283256f7836c3d4a501aa57ffc2f,Fix building configs for multiple listeners,MERGED,2019-09-10 09:47:01.000000000,2019-09-20 06:50:50.000000000,2019-09-19 19:51:21.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-10 09:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/351d1255535645a3e78b1c33e778c9b786e4fe70', 'message': 'Fix building configs for multiple listeners\n\nCurrently jinja_combo.build_config method expect to use single\ntls cert, though with multiple listeners there could be multiple\ncerts. Also in case of HTTP and TERMINATED_HTTPS listeners on the\nsame loadbalancer - creation of the second listener will fail.\n\nChange-Id: Iad3b55e5add4283256f7836c3d4a501aa57ffc2f\nStory: 2006513\nTask: 36510\n'}, {'number': 2, 'created': '2019-09-10 22:22:56.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/42df031e89629cc8394e577949e3b2b4c465d756', 'message': 'Fix building configs for multiple listeners\n\nCurrently jinja_combo.build_config method expect to use single\ntls cert, though with multiple listeners there could be multiple\ncerts. Also in case of HTTP and TERMINATED_HTTPS listeners on the\nsame loadbalancer - creation of the second listener will fail.\n\nChange-Id: Iad3b55e5add4283256f7836c3d4a501aa57ffc2f\nStory: 2006513\nTask: 36510\n'}]",0,681195,42df031e89629cc8394e577949e3b2b4c465d756,11,3,2,7249,,,0,"Fix building configs for multiple listeners

Currently jinja_combo.build_config method expect to use single
tls cert, though with multiple listeners there could be multiple
certs. Also in case of HTTP and TERMINATED_HTTPS listeners on the
same loadbalancer - creation of the second listener will fail.

Change-Id: Iad3b55e5add4283256f7836c3d4a501aa57ffc2f
Story: 2006513
Task: 36510
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/681195/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py']",5,351d1255535645a3e78b1c33e778c9b786e4fe70,," certs = {} certs.update({ listener.tls_certificate_id: self._process_tls_certificates( listener, amphora, obj_id)['tls_cert']}) tls_cert=certs[listener.tls_certificate_id], tls_certs=certs,"," certs = self._process_tls_certificates( listener, amphora, obj_id) tls_cert=certs['tls_cert'], tls_cert=certs['tls_cert'],",48,40
openstack%2Fglance~master~Iaf338d29673e68a15d37fdda81add552e4175634,openstack/glance,master,Iaf338d29673e68a15d37fdda81add552e4175634,"Revert ""Add reserved stores to the sample config file""",MERGED,2019-09-19 11:41:02.000000000,2019-09-20 06:42:44.000000000,2019-09-20 06:40:11.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 11:41:02.000000000', 'files': ['glance/opts.py', 'glance/common/config.py', 'setup.cfg', 'etc/oslo-config-generator/glance-scrubber.conf', 'etc/oslo-config-generator/glance-api.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/da29e129fa90862ef810b957a5bb0ef5095274d6', 'message': 'Revert ""Add reserved stores to the sample config file""\n\nThis patch introduced double registering of the same\nconfig option groups which fails glance-api start\nif reserved stores are actually defined.\n\nThe code utilizing these config options has not been\nmerged which prevented testing to catch this.\n\nCloses-Bug: #1844108\n\nThis reverts commit 4265e61bc84ce9bd085a95d8734647f4875af740.\n\nChange-Id: Iaf338d29673e68a15d37fdda81add552e4175634\n'}]",0,683115,da29e129fa90862ef810b957a5bb0ef5095274d6,9,4,1,5202,,,0,"Revert ""Add reserved stores to the sample config file""

This patch introduced double registering of the same
config option groups which fails glance-api start
if reserved stores are actually defined.

The code utilizing these config options has not been
merged which prevented testing to catch this.

Closes-Bug: #1844108

This reverts commit 4265e61bc84ce9bd085a95d8734647f4875af740.

Change-Id: Iaf338d29673e68a15d37fdda81add552e4175634
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/683115/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/opts.py', 'glance/common/config.py', 'setup.cfg', 'etc/oslo-config-generator/glance-scrubber.conf', 'etc/oslo-config-generator/glance-api.conf']",5,da29e129fa90862ef810b957a5bb0ef5095274d6,train_reverts,,namespace = glance.reserved_stores,1,177
openstack%2Fglance~master~I3c1b86e73a25935f2a2ffd43731e2db36fbffa97,openstack/glance,master,I3c1b86e73a25935f2a2ffd43731e2db36fbffa97,"Revert ""Correct the deprecation messages of local dir config""",MERGED,2019-09-19 11:41:02.000000000,2019-09-20 06:41:36.000000000,2019-09-20 06:40:09.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 11:41:02.000000000', 'files': ['glance/common/config.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4ae92bdd30d356ac84b24e4321138b2ebee7d7f5', 'message': 'Revert ""Correct the deprecation messages of local dir config""\n\nthis is not needed as 4265e61bc84ce9bd085a95d8734647f4875af740\nis being reverted also.\n\nThis reverts commit b639ed080d5b74fcc3081a09bd64dd4703dea5a4.\n\nChange-Id: I3c1b86e73a25935f2a2ffd43731e2db36fbffa97\n'}]",0,683114,4ae92bdd30d356ac84b24e4321138b2ebee7d7f5,9,4,1,5202,,,0,"Revert ""Correct the deprecation messages of local dir config""

this is not needed as 4265e61bc84ce9bd085a95d8734647f4875af740
is being reverted also.

This reverts commit b639ed080d5b74fcc3081a09bd64dd4703dea5a4.

Change-Id: I3c1b86e73a25935f2a2ffd43731e2db36fbffa97
",git fetch https://review.opendev.org/openstack/glance refs/changes/14/683114/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/config.py'],1,4ae92bdd30d356ac84b24e4321138b2ebee7d7f5,train_reverts,"With the introduction of the Glance multistore feature, it is no longer necessary to reserve a local directory for the tasks workspace. Instead, a more flexible filesystem store can be used.With the introduction of the Glance multistore feature, it is no longer necessary to reserve a local directory for the temporary image staging area. Instead, a more flexible filesystem store can be used.","With the introduction of the Glance multistore feature, the way of configuring this option has changed. Please refer to [os_glance_tasks_store]/filesystem_store_datadir for multistore configuration. * [os_glance_tasks_store]/filesystem_store_datadirWith the introduction of the Glance multistore feature, the way of configuring this option has changed. Please refer to [os_glance_staging_store]/filesystem_store_datadir for multistore configuration. * [os_glance_staging_store]/filesystem_store_datadir",7,10
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If34973817bd60a33283fc5866f6127eac87d3a55,openstack/tripleo-heat-templates,stable/queens,If34973817bd60a33283fc5866f6127eac87d3a55,"Revert ""Move nova cell v2 discovery to deploy_steps_tasks""",MERGED,2019-09-17 13:18:57.000000000,2019-09-20 06:33:25.000000000,2019-09-20 06:32:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-09-17 13:18:57.000000000', 'files': ['releasenotes/notes/nova_move_host_discovery_to_external_post_deploy_tasks-e978560ee59b8b56.yaml', 'docker/services/nova-ironic.yaml', 'docker_config_scripts/nova_cell_v2_discover_hosts.py', 'docker/services/nova-compute-common.yaml', 'tools/yaml-validate.py', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb0e9fc3b45525115eaed161f2b41339d0e7f068', 'message': 'Revert ""Move nova cell v2 discovery to deploy_steps_tasks""\n\nWe don\'t have a resource which runs deploy_steps_task when\nnot using config-download. Therefore host discovery does\nnot work when config-download is not used, which is the\ndefault in queens.\n\nThis reverts commit fe26cb764bdc64a5439abe66c2ce4f5cca4165ba.\n\nChange-Id: If34973817bd60a33283fc5866f6127eac87d3a55\n'}]",0,682644,fb0e9fc3b45525115eaed161f2b41339d0e7f068,15,10,1,17216,,,0,"Revert ""Move nova cell v2 discovery to deploy_steps_tasks""

We don't have a resource which runs deploy_steps_task when
not using config-download. Therefore host discovery does
not work when config-download is not used, which is the
default in queens.

This reverts commit fe26cb764bdc64a5439abe66c2ce4f5cca4165ba.

Change-Id: If34973817bd60a33283fc5866f6127eac87d3a55
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/682644/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_move_host_discovery_to_external_post_deploy_tasks-e978560ee59b8b56.yaml', 'docker/services/nova-ironic.yaml', 'docker_config_scripts/nova_cell_v2_discover_hosts.py', 'docker/services/nova-compute-common.yaml', 'tools/yaml-validate.py', 'docker/services/nova-compute.yaml']",6,fb0e9fc3b45525115eaed161f2b41339d0e7f068,bug/1831711," step_5: nova_cell_v2_discover_hosts: start_order: 0 image: *nova_compute_image net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/nova_libvirt/etc/my.cnf.d/:/etc/my.cnf.d/:ro - /var/lib/config-data/nova_libvirt/etc/nova/:/etc/nova/:ro - /var/log/containers/nova:/var/log/nova - /var/lib/docker-config-scripts/:/docker-config-scripts/ user: root command: ""/usr/bin/bootstrap_host_exec nova_compute su nova -s /bin/bash -c '/docker-config-scripts/nova_cell_v2_discover_hosts.py'"" environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) - list_join: - '' - - 'TRIPLEO_DEPLOY_IDENTIFIER=' - {get_param: DeployIdentifier}"," deploy_steps_tasks: {get_attr: [NovaComputeCommon, nova_compute_common_deploy_steps_tasks]}",97,39
openstack%2Fpython-tripleoclient~master~I40e7df90fb75916dc78934850620f46faa414e74,openstack/python-tripleoclient,master,I40e7df90fb75916dc78934850620f46faa414e74,Add ovn_dbs_vip to export_data,MERGED,2019-09-16 08:20:18.000000000,2019-09-20 06:33:25.000000000,2019-09-20 06:32:03.000000000,"[{'_account_id': 3153}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 08:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/deebdadd265a35def8372cd2b9eade96206ef793', 'message': 'Add ovn_dbs_vip to export_data\n\nVia I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8 we are creating a separate\nOVN VIP (i.e. one independent from haproxy internal_api VIP) so like\nredis_vip we want to add ovn_dbs_vip to the data exported for cell\nsupport.\n\nDepends-On: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8\n\nChange-Id: I40e7df90fb75916dc78934850620f46faa414e74\nRelated-Bug: #1841811\n'}, {'number': 2, 'created': '2019-09-19 06:30:50.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c0e05aed6aa94750beba712ecf75617a7774ca6', 'message': 'Add ovn_dbs_vip to export_data\n\nVia I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8 we are creating a separate\nOVN VIP (i.e. one independent from haproxy internal_api VIP) so like\nredis_vip we want to add ovn_dbs_vip to the data exported for cell\nsupport.\n\nDepends-On: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8\n\nChange-Id: I40e7df90fb75916dc78934850620f46faa414e74\nRelated-Bug: #1841811\n'}]",0,682294,5c0e05aed6aa94750beba712ecf75617a7774ca6,25,6,2,20172,,,0,"Add ovn_dbs_vip to export_data

Via I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8 we are creating a separate
OVN VIP (i.e. one independent from haproxy internal_api VIP) so like
redis_vip we want to add ovn_dbs_vip to the data exported for cell
support.

Depends-On: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8

Change-Id: I40e7df90fb75916dc78934850620f46faa414e74
Related-Bug: #1841811
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/682294/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,deebdadd265a35def8372cd2b9eade96206ef793,ovn_vip," ""ovn_dbs_vip"",",,1,0
openstack%2Fwatcher-specs~master~I501545c4c3c3caa9329e62da6cab99db4464fa44,openstack/watcher-specs,master,I501545c4c3c3caa9329e62da6cab99db4464fa44,Fix the page display,MERGED,2019-09-20 02:46:37.000000000,2019-09-20 06:25:18.000000000,2019-09-20 06:24:09.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 02:46:37.000000000', 'files': ['specs/pike/implemented/energy-saving-strategy.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/9de0fa56ae080bc07a9f65a17e02ab2abe643a7e', 'message': 'Fix the page display\n\nChange-Id: I501545c4c3c3caa9329e62da6cab99db4464fa44\n'}]",0,683268,9de0fa56ae080bc07a9f65a17e02ab2abe643a7e,7,2,1,21692,,,0,"Fix the page display

Change-Id: I501545c4c3c3caa9329e62da6cab99db4464fa44
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/68/683268/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/implemented/energy-saving-strategy.rst'],1,9de0fa56ae080bc07a9f65a17e02ab2abe643a7e,,,,1,0
openstack%2Fpaunch~master~I9a55698b04dc2c5f01d776c6bdc2f26d47baf803,openstack/paunch,master,I9a55698b04dc2c5f01d776c6bdc2f26d47baf803,Improve volume validation,MERGED,2019-09-13 19:13:56.000000000,2019-09-20 06:13:14.000000000,2019-09-20 06:11:52.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 19:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/607d6a5d41c31007f87026c27b8a23b4d9432423', 'message': 'Improve volume validation\n\nWe need to support both a source filesystem location and container\nvolume for the volume mounts. This change adds the ability to validate\nthat the provided source container is a container volume. Additionally\naligns the validation between the docker/podman methods so they operate\nin the same fashion.\n\nChange-Id: I9a55698b04dc2c5f01d776c6bdc2f26d47baf803\nCloses-Bug: #1843734\n'}, {'number': 2, 'created': '2019-09-13 21:32:47.000000000', 'files': ['paunch/builder/podman.py', 'paunch/tests/test_runner.py', 'paunch/tests/test_builder_compose1.py', 'paunch/runner.py', 'paunch/builder/compose1.py', 'paunch/tests/test_builder_base.py', 'paunch/tests/test_builder_podman.py', 'paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/3ce8c1ad988872234225fb3d316375c0e8ebcb36', 'message': 'Improve volume validation\n\nWe need to support both a source filesystem location and container\nvolume for the volume mounts. This change adds the ability to validate\nthat the provided source container is a container volume. Additionally\naligns the validation between the docker/podman methods so they operate\nin the same fashion.\n\nChange-Id: I9a55698b04dc2c5f01d776c6bdc2f26d47baf803\nCloses-Bug: #1843734\n'}]",0,682141,3ce8c1ad988872234225fb3d316375c0e8ebcb36,12,4,2,14985,,,0,"Improve volume validation

We need to support both a source filesystem location and container
volume for the volume mounts. This change adds the ability to validate
that the provided source container is a container volume. Additionally
aligns the validation between the docker/podman methods so they operate
in the same fashion.

Change-Id: I9a55698b04dc2c5f01d776c6bdc2f26d47baf803
Closes-Bug: #1843734
",git fetch https://review.opendev.org/openstack/paunch refs/changes/41/682141/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/tests/test_builder_compose1.py', 'paunch/runner.py', 'paunch/builder/compose1.py', 'paunch/builder/base.py', 'paunch/tests/test_builder_base.py', 'paunch/tests/test_builder_podman.py']",7,607d6a5d41c31007f87026c27b8a23b4d9432423,bug/1843734,"import mock @mock.patch('paunch.runner.PodmanRunner', autospec=True) def test_cont_run_args_validation_true(self, runner): config = { 'one': { 'image': 'foo', 'volumes': ['/foo:/foo:rw', '/bar:/bar:ro'], } } runner.validate_volume_source.return_value = True builder = podman.PodmanBuilder('foo', config, runner) cmd = ['podman'] self.assertTrue(builder.container_run_args(cmd, 'one')) self.assertEqual( ['podman', '--conmon-pidfile=/var/run/one.pid', '--detach=true', '--volume=/foo:/foo:rw', '--volume=/bar:/bar:ro', 'foo'], cmd ) @mock.patch('paunch.runner.PodmanRunner', autospec=True) def test_cont_run_args_validation_false(self, runner): config = { 'one': { 'image': 'foo', 'volumes': ['/foo:/foo:rw', '/bar:/bar:ro'], } } runner.validate_volume_source.return_value = False builder = podman.PodmanBuilder('foo', config, runner) cmd = ['podman'] self.assertFalse(builder.container_run_args(cmd, 'one')) self.assertEqual( ['podman', '--conmon-pidfile=/var/run/one.pid', '--detach=true', '--volume=/foo:/foo:rw', '--volume=/bar:/bar:ro', 'foo'], cmd )",,99,34
openstack%2Fansible-role-collect-logs~master~Ie3236607e431276f300d75fb8570f2e5ebfd18d0,openstack/ansible-role-collect-logs,master,Ie3236607e431276f300d75fb8570f2e5ebfd18d0,Don't gzip ARA when generating HTML,MERGED,2019-09-19 07:27:31.000000000,2019-09-20 06:07:33.000000000,2019-09-20 06:07:33.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 07:27:31.000000000', 'files': ['tasks/publish.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/da4946347bf1f552c6e911bd1d1a9d02950a00ef', 'message': ""Don't gzip ARA when generating HTML\n\nChange-Id: Ie3236607e431276f300d75fb8570f2e5ebfd18d0\n""}]",0,683039,da4946347bf1f552c6e911bd1d1a9d02950a00ef,8,3,1,10969,,,0,"Don't gzip ARA when generating HTML

Change-Id: Ie3236607e431276f300d75fb8570f2e5ebfd18d0
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/39/683039/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/publish.yml'],1,da4946347bf1f552c6e911bd1d1a9d02950a00ef,,, {% if artcl_gzip_only|bool %}gzip --best --recursive {{ artcl_collect_dir }}/ara_oooq;{% endif %} {% if artcl_gzip_only|bool %}gzip --best --recursive {{ artcl_collect_dir }}/ara_oooq_root;{% endif %} {% if artcl_gzip_only|bool %}gzip --best --recursive {{ artcl_collect_dir }}/ara_oooq_oc;{% endif %},0,3
openstack%2Fmagnum~master~Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81,openstack/magnum,master,Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81,Fix k8s deployment when cluster_user_trust=False,MERGED,2019-09-12 20:30:11.000000000,2019-09-20 05:57:12.000000000,2019-09-20 05:55:47.000000000,"[{'_account_id': 6484}, {'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 17499}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 30927}]","[{'number': 1, 'created': '2019-09-12 20:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7e13b6c59325f2b86d817c0934035a2a8e3ac1de', 'message': 'Fix cluster deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis patch fixes this by not existing the script when TRUST_ID is not\ndefined which is a side-effect of this.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}, {'number': 2, 'created': '2019-09-12 20:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5e6305b8b319bd06b10046e6befebaacd1f76c5d', 'message': 'Fix cluster deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis patch fixes this by not existing the script when TRUST_ID is not\ndefined which is a side-effect of this.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}, {'number': 3, 'created': '2019-09-12 20:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1895bdebf92e3ff5899834faf837a86609aa98d9', 'message': 'Fix cluster deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis patch fixes this by not exiting the script when TRUST_ID is not\ndefined which is a side-effect of this.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}, {'number': 4, 'created': '2019-09-13 11:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/00e66e6b0b0c875bd9542d298381a008c092c950', 'message': 'Fix k8s deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis patch fixes this by not exiting the script when TRUST_ID is not\ndefined which is a side-effect of this.\n\nAlso do not set --cloud-provider=external when TRUST_ID is not defined\nin minion kubelet.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}, {'number': 5, 'created': '2019-09-13 14:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/44fa43898b53c48d2a24bc1f76189402f038c88f', 'message': 'Fix k8s deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis is because the entire SoftwareDeployment exits rather than a single\nscript fragment. This patch fixes this by scoping the remainder of the\nscript conditional on whether TRUST_ID is defined.\n\nAdditionally, do not set --cloud-provider=external when TRUST_ID is not\nundefined in minion kubelet.\n\nFinally, default `cloud_provider_enabled` to false when\n`cluster_user_trust` is false. Raise an error when\n`cloud_provider_enabled` is overridden to true when `cluster_user_trust`\nis false.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}, {'number': 6, 'created': '2019-09-13 14:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0cf8950107cfd91d6e5d8cf7f782d7ab48bf73b3', 'message': 'Fix k8s deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis is because the entire SoftwareDeployment exits rather than a single\nscript fragment. This patch fixes this by scoping the remainder of the\nscript conditional on whether TRUST_ID is defined.\n\nAdditionally, do not set --cloud-provider=external when TRUST_ID is not\nundefined in minion kubelet.\n\nFinally, default `cloud_provider_enabled` to false when\n`cluster_user_trust` is false. Raise an error when\n`cloud_provider_enabled` is overridden to true when `cluster_user_trust`\nis false.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}, {'number': 7, 'created': '2019-09-13 14:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e881b86e123880a6668f6999be2beff113cb6d1f', 'message': 'Fix k8s deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis is because the entire SoftwareDeployment exits rather than a single\nscript fragment. This patch fixes this by scoping the remainder of the\nscript conditional on whether TRUST_ID is defined.\n\nFinally, default `cloud_provider_enabled` to false when\n`cluster_user_trust` is false. Raise an error when\n`cloud_provider_enabled` is overridden to true when `cluster_user_trust`\nis false. This ensures that the minion kubelet is correctly configured.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}, {'number': 8, 'created': '2019-09-20 02:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cea50b5280a7cab6a59f07830a8e5f7d56c636dd', 'message': 'Fix k8s deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis is because the entire SoftwareDeployment exits rather than a single\nscript fragment. This patch fixes this by scoping the remainder of the\nscript conditional on whether TRUST_ID is defined.\n\nFinally, default `cloud_provider_enabled` to false when\n`cluster_user_trust` is false. Raise an error when\n`cloud_provider_enabled` is overridden to true when `cluster_user_trust`\nis false. This ensures that the minion kubelet is correctly configured.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}, {'number': 9, 'created': '2019-09-20 03:49:03.000000000', 'files': ['magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/eebcc9b7a1b5cd11271d31482301e451e1fbce95', 'message': 'Fix k8s deployment when cluster_user_trust=False\n\nAt the moment, cluster deployment fails when cluster_user_trust=False.\nThis is because the entire SoftwareDeployment exits rather than a single\nscript fragment. This patch fixes this by scoping the remainder of the\nscript conditional on whether TRUST_ID is defined.\n\nFinally, default `cloud_provider_enabled` to false when\n`cluster_user_trust` is false. Raise an error when\n`cloud_provider_enabled` is overridden to true when `cluster_user_trust`\nis false. This ensures that the minion kubelet is correctly configured.\n\nChange-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81\nStory: 2006531\nTask: 36587\n'}]",10,681922,eebcc9b7a1b5cd11271d31482301e451e1fbce95,50,10,9,28022,,,0,"Fix k8s deployment when cluster_user_trust=False

At the moment, cluster deployment fails when cluster_user_trust=False.
This is because the entire SoftwareDeployment exits rather than a single
script fragment. This patch fixes this by scoping the remainder of the
script conditional on whether TRUST_ID is defined.

Finally, default `cloud_provider_enabled` to false when
`cluster_user_trust` is false. Raise an error when
`cloud_provider_enabled` is overridden to true when `cluster_user_trust`
is false. This ensures that the minion kubelet is correctly configured.

Change-Id: Ibd9270c87bfa5d2f490e2e226e33ca56696d9e81
Story: 2006531
Task: 36587
",git fetch https://review.opendev.org/openstack/magnum refs/changes/22/681922/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh'],1,7e13b6c59325f2b86d817c0934035a2a8e3ac1de,cluster-user-trust,"if [ -n ""${TRUST_ID}"" ]; then KUBE_OS_CLOUD_CONFIG=/etc/kubernetes/cloud-config $ssh_cmd cp /etc/pki/tls/certs/ca-bundle.crt /etc/kubernetes/ca-bundle.crt # Generate a the configuration for Kubernetes services # to talk to OpenStack Neutron and Cinder cat > ${KUBE_OS_CLOUD_CONFIG} <<EOF # Provide optional region parameter if it's set. if [ -n ""${REGION_NAME}"" ]; then sed -i '/ca-file/a region='${REGION_NAME}'' $KUBE_OS_CLOUD_CONFIG fi # backwards compatibility, some apps may expect this file from previous magnum versions. $ssh_cmd cp ${KUBE_OS_CLOUD_CONFIG} /etc/kubernetes/kube_openstack_config $ssh_cmd cp ${KUBE_OS_CLOUD_CONFIG} ${KUBE_OS_CLOUD_CONFIG}-occm # Append additional networking config to config file provided to openstack # cloud controller manager (not supported by in-tree Cinder). cat >> ${KUBE_OS_CLOUD_CONFIG}-occm <<EOFfi","if [ -z ""${TRUST_ID}"" ]; then exit 0 fi KUBE_OS_CLOUD_CONFIG=/etc/kubernetes/cloud-config $ssh_cmd cp /etc/pki/tls/certs/ca-bundle.crt /etc/kubernetes/ca-bundle.crt # Generate a the configuration for Kubernetes services # to talk to OpenStack Neutron and Cinder CLOUD_CONFIG=$(cat <<EOF) cat > ${KUBE_OS_CLOUD_CONFIG} <<EOF $CLOUD_CONFIG EOF # Provide optional region parameter if it's set. if [ -n ""${REGION_NAME}"" ]; then sed -i '/ca-file/a region='${REGION_NAME}'' $KUBE_OS_CLOUD_CONFIG fi # backwards compatibility, some apps may expect this file from previous magnum versions. $ssh_cmd cp ${KUBE_OS_CLOUD_CONFIG} /etc/kubernetes/kube_openstack_config # Append additional networking config to config file provided to openstack # cloud controller manager (not supported by in-tree Cinder). cat > ${KUBE_OS_CLOUD_CONFIG}-occm <<EOF $CLOUD_CONFIG",17,24
openstack%2Fproject-config~master~I9d1a9680ce00f9233ce73f9bfc7cb64cf3a5fc54,openstack/project-config,master,I9d1a9680ce00f9233ce73f9bfc7cb64cf3a5fc54,Remove obsolete docs publish jobs,MERGED,2019-09-18 19:34:39.000000000,2019-09-20 05:39:35.000000000,2019-09-20 05:39:35.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 19:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/067c1d81ce39be4aacb5b8728ef056a1651fb308', 'message': 'Remove obsolete docs publish jobs\n\nThese jobs are not used anymore, their usage has been replaced by\npromote jobs. Remove them.\n\nDepends-On: https://review.opendev.org/682971\nDepends-On: https://review.opendev.org/677245\nChange-Id: I9d1a9680ce00f9233ce73f9bfc7cb64cf3a5fc54\n'}, {'number': 2, 'created': '2019-09-18 19:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/88a761a4fe15a8e7e90f3a219c4018101617f97b', 'message': 'Remove obsolete docs publish jobs\n\nThese jobs are not used anymore, their usage has been replaced by\npromote jobs. Remove them.\n\nDepends-On: https://review.opendev.org/682971\nDepends-On: https://review.opendev.org/677245\nDepends-On: https://review.opendev.org/682973\nDepends-On: https://review.opendev.org/682974\nDepends-On: https://review.opendev.org/682975\nDepends-On: https://review.opendev.org/682976\nDepends-On: https://review.opendev.org/682978\n\nChange-Id: I9d1a9680ce00f9233ce73f9bfc7cb64cf3a5fc54\n'}, {'number': 3, 'created': '2019-09-18 19:46:10.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ee9e45fc1e23ea45ac842bc8e9f759f1c9973769', 'message': 'Remove obsolete docs publish jobs\n\nThese jobs are not used anymore, their usage has been replaced by\npromote jobs. Remove them.\n\nDepends-On: https://review.opendev.org/682971\nDepends-On: https://review.opendev.org/677245\nDepends-On: https://review.opendev.org/682973\nDepends-On: https://review.opendev.org/682974\nDepends-On: https://review.opendev.org/682975\nDepends-On: https://review.opendev.org/682976\nDepends-On: https://review.opendev.org/682978\nDepends-On: https://review.opendev.org/682982\nChange-Id: I9d1a9680ce00f9233ce73f9bfc7cb64cf3a5fc54\n'}]",0,682972,ee9e45fc1e23ea45ac842bc8e9f759f1c9973769,11,3,3,6547,,,0,"Remove obsolete docs publish jobs

These jobs are not used anymore, their usage has been replaced by
promote jobs. Remove them.

Depends-On: https://review.opendev.org/682971
Depends-On: https://review.opendev.org/677245
Depends-On: https://review.opendev.org/682973
Depends-On: https://review.opendev.org/682974
Depends-On: https://review.opendev.org/682975
Depends-On: https://review.opendev.org/682976
Depends-On: https://review.opendev.org/682978
Depends-On: https://review.opendev.org/682982
Change-Id: I9d1a9680ce00f9233ce73f9bfc7cb64cf3a5fc54
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/682972/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,067c1d81ce39be4aacb5b8728ef056a1651fb308,rm-publish-openstack-tox-docs, use ``promote-openstack-docs`` instead.," use ``publish-openstack-docs`` instead. name: publish-openstack-tox-docs-base description: | Base job for publishing docs tox job. Publish the results of the docs tox job to /afs/.openstack.org/docs/{{ zuul.project.short_name }}. branches: ^(?!stable/(ocata|pike|queens|rocky)).*$ abstract: true protected: true pre-run: playbooks/project-config/pre-tox.yaml run: playbooks/project-config/run-tox.yaml post-run: - playbooks/project-config/post-tox.yaml - playbooks/publish/openstack-afs.yaml required-projects: - name: openstack/requirements roles: - zuul: zuul/zuul-jobs - zuul: openstack/openstack-zuul-jobs vars: tox_envlist: docs bindep_profile: compile doc tox_constraints_file: '{{ ansible_user_dir }}/src/opendev.org/openstack/requirements/upper-constraints.txt' secrets: - secret: afsdocs_secret name: afs - job: name: publish-openstack-tox-docs-base nodeset: ubuntu-xenial description: | Base job for publishing docs tox job. Publish the results of the docs tox job to /afs/.openstack.org/docs/{{ zuul.project.short_name }}. This job runs on Xenial for stable/ocata, pike, queens and rocky. This job is prepared to make sure all stable branches before stable/stein will keep running on xenial. branches: - stable/ocata - stable/pike - stable/queens - stable/rocky abstract: true protected: true pre-run: playbooks/project-config/pre-tox.yaml run: playbooks/project-config/run-tox.yaml post-run: - playbooks/project-config/post-tox.yaml - playbooks/publish/openstack-afs.yaml required-projects: - name: openstack/requirements roles: - zuul: zuul/zuul-jobs - zuul: openstack/openstack-zuul-jobs vars: tox_envlist: docs bindep_profile: compile doc tox_constraints_file: '{{ ansible_user_dir }}/src/opendev.org/openstack/requirements/upper-constraints.txt' secrets: - secret: afsdocs_secret name: afs - job: name: publish-openstack-tox-docs parent: publish-openstack-tox-docs-base description: | Publication job for projects that run tox using the docs environment following OpenStack PTI. Publish the results of the docs tox job to /afs/.openstack.org/docs/{{ zuul.project.short_name }}. Publishes depending on branch to latest/ (for master), or the basename of the branch like pike (for stable/pike). This is the publication job for ``openstack-tox-docs``. This is deprecated, use ``promote-openstack-tox-docs`` instead. final: true post-run: - playbooks/sphinx/post.yaml required-projects: - name: openstack/requirements vars: tox_constraints_file: '{{ ansible_user_dir }}/src/opendev.org/openstack/requirements/upper-constraints.txt' - job: name: publish-tox-docs-infra-bionic parent: publish-openstack-tox-docs-base description: | Publish the results of the tox docs job to /afs/.openstack.org/infra/{{ zuul.project.short_name }} using an ubuntu-bionic nodeset (openstackid will use this to get around the final: true in publish-tox-docs-infra until the default nodeset is updated in the base job) final: true post-run: - playbooks/sphinx/post-infra.yaml vars: afs_subpath: ""/infra/{{ zuul.project.short_name }}"" bindep_profile: compile doc nodeset: ubuntu-bionic - job:",1,109
openstack%2Fkolla-ansible~master~If41b9d8de17985d960104c8daf27ea7d706c27c0,openstack/kolla-ansible,master,If41b9d8de17985d960104c8daf27ea7d706c27c0,Fix Octavia to use keystone_admin_project variable,MERGED,2019-09-19 13:31:47.000000000,2019-09-20 05:24:36.000000000,2019-09-19 21:43:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-19 13:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be0a0e3322a94179a6ac494c54d934f918561fc8', 'message': ""Fixes Octavia\n\nProject name shouldn't be static as user may override it with\nkeystone_admin_project\n\nChange-Id: If41b9d8de17985d960104c8daf27ea7d706c27c0\n""}, {'number': 2, 'created': '2019-09-19 15:58:16.000000000', 'files': ['ansible/roles/octavia/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4be4c0dcfadf043e841b41276b7ea7ed6e8145f', 'message': ""Fix Octavia to use keystone_admin_project variable\n\nProject name shouldn't be static as user may override it with\nkeystone_admin_project\n\nChange-Id: If41b9d8de17985d960104c8daf27ea7d706c27c0\n""}]",0,683159,a4be4c0dcfadf043e841b41276b7ea7ed6e8145f,13,3,2,30523,,,0,"Fix Octavia to use keystone_admin_project variable

Project name shouldn't be static as user may override it with
keystone_admin_project

Change-Id: If41b9d8de17985d960104c8daf27ea7d706c27c0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/683159/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/tasks/register.yml'],1,be0a0e3322a94179a6ac494c54d934f918561fc8,," project: ""{{ keystone_admin_project }}""", project: admin,1,1
openstack%2Fneutron~stable%2Fqueens~I97a1d170926bb8a69dc6f7bb78a785bdea80936a,openstack/neutron,stable/queens,I97a1d170926bb8a69dc6f7bb78a785bdea80936a,Increase timeouts for OVSDB in functional tests,MERGED,2019-09-13 10:57:41.000000000,2019-09-20 05:23:45.000000000,2019-09-20 05:23:45.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-13 10:57:41.000000000', 'files': ['neutron/tests/unit/tests/functional/test_base.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a28fc26aaa924e0c6a97a724d41a492c2cca3249', 'message': 'Increase timeouts for OVSDB in functional tests\n\nIncreased timeouts for OVSDB connection:\n  - ovsdb_timeout = 30\n\nThis patch will mitigate the intermittent timeouts the CI is\nexperiencing while running the functional tests.\n\nChange-Id: I97a1d170926bb8a69dc6f7bb78a785bdea80936a\nCloses-Bug: #1815142\n(cherry picked from commit 30e901242f71f783fe06f775b20afa01da41d72f)\n'}]",0,682023,a28fc26aaa924e0c6a97a724d41a492c2cca3249,9,5,1,11975,,,0,"Increase timeouts for OVSDB in functional tests

Increased timeouts for OVSDB connection:
  - ovsdb_timeout = 30

This patch will mitigate the intermittent timeouts the CI is
experiencing while running the functional tests.

Change-Id: I97a1d170926bb8a69dc6f7bb78a785bdea80936a
Closes-Bug: #1815142
(cherry picked from commit 30e901242f71f783fe06f775b20afa01da41d72f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/682023/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/tests/functional/test_base.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/tests/functional/__init__.py']",3,a28fc26aaa924e0c6a97a724d41a492c2cca3249,bug/1815142-stable/stein-stable/rocky-stable/queens,,,80,0
openstack%2Fneutron~stable%2Frocky~I97a1d170926bb8a69dc6f7bb78a785bdea80936a,openstack/neutron,stable/rocky,I97a1d170926bb8a69dc6f7bb78a785bdea80936a,Increase timeouts for OVSDB in functional tests,MERGED,2019-09-13 10:57:24.000000000,2019-09-20 05:23:43.000000000,2019-09-20 05:23:43.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-13 10:57:24.000000000', 'files': ['neutron/tests/unit/tests/functional/test_base.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/42d9106ee5ba10b0cc6c5f970255688a9484ad78', 'message': 'Increase timeouts for OVSDB in functional tests\n\nIncreased timeouts for OVSDB connection:\n  - ovsdb_timeout = 30\n\nThis patch will mitigate the intermittent timeouts the CI is\nexperiencing while running the functional tests.\n\nChange-Id: I97a1d170926bb8a69dc6f7bb78a785bdea80936a\nCloses-Bug: #1815142\n(cherry picked from commit 30e901242f71f783fe06f775b20afa01da41d72f)\n'}]",0,682022,42d9106ee5ba10b0cc6c5f970255688a9484ad78,13,6,1,11975,,,0,"Increase timeouts for OVSDB in functional tests

Increased timeouts for OVSDB connection:
  - ovsdb_timeout = 30

This patch will mitigate the intermittent timeouts the CI is
experiencing while running the functional tests.

Change-Id: I97a1d170926bb8a69dc6f7bb78a785bdea80936a
Closes-Bug: #1815142
(cherry picked from commit 30e901242f71f783fe06f775b20afa01da41d72f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/682022/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/tests/functional/test_base.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/tests/functional/__init__.py']",3,42d9106ee5ba10b0cc6c5f970255688a9484ad78,bug/1815142-stable/stein-stable/rocky,,,80,0
openstack%2Fpuppet-keystone~master~Id0bc07f352d0b545e60aabd4523536dfc7fc59a8,openstack/puppet-keystone,master,Id0bc07f352d0b545e60aabd4523536dfc7fc59a8,Replace url with endpoint in credentials provider,MERGED,2019-09-13 16:43:49.000000000,2019-09-20 04:34:34.000000000,2019-09-20 04:34:33.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 16:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/86b3e246ad2bffdc180fd4efbc11055c556d0e3d', 'message': '[WIP] Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[2] is a more solid long-term solution, but this can work as a stop-gap.\n\n[1] - https://review.opendev.org/677795\n[2] - https://review.opendev.org/630714\n\nDepends-On: https://review.opendev.org/682108\nChange-Id: Id0bc07f352d0b545e60aabd4523536dfc7fc59a8\n'}, {'number': 2, 'created': '2019-09-16 13:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/17af507a20860fa9d2ac19475983f70fa737a9ed', 'message': '[WIP] Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[2] is a more solid long-term solution, but this can work as a stop-gap.\n\n[1] - https://review.opendev.org/677795\n[2] - https://review.opendev.org/630714\n\nDepends-On: https://review.opendev.org/682108\nChange-Id: Id0bc07f352d0b545e60aabd4523536dfc7fc59a8\n'}, {'number': 3, 'created': '2019-09-16 16:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d935d7f961e1d2b2283c4e13709f8e6dfb94122e', 'message': '[WIP] Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[2] is a more solid long-term solution, but this can work as a stop-gap.\n\n[1] - https://review.opendev.org/677795\n[2] - https://review.opendev.org/630714\n\nDepends-On: https://review.opendev.org/682108\nChange-Id: Id0bc07f352d0b545e60aabd4523536dfc7fc59a8\n'}, {'number': 4, 'created': '2019-09-16 16:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a5d616cdae47f3850ecdde73b90105cce76d0d14', 'message': '[WIP] Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[2] is a more solid long-term solution, but this can work as a stop-gap.\n\n[1] - https://review.opendev.org/677795\n[2] - https://review.opendev.org/630714\n\nDepends-On: https://review.opendev.org/682108\nDepends-On: https://review.opendev.org/682415\nChange-Id: Id0bc07f352d0b545e60aabd4523536dfc7fc59a8\n'}, {'number': 5, 'created': '2019-09-17 11:16:02.000000000', 'files': ['lib/puppet/provider/keystone.rb', 'spec/unit/provider/keystone_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9922e4196f6fc2ec584b8d3f3ea652044bb32da9', 'message': 'Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[2] is a more solid long-term solution, but this can work as a stop-gap.\n\n[1] - https://review.opendev.org/677795\n[2] - https://review.opendev.org/630714\n\nDepends-On: https://review.opendev.org/682108\nDepends-On: https://review.opendev.org/682415\nChange-Id: Id0bc07f352d0b545e60aabd4523536dfc7fc59a8\n'}]",0,682110,9922e4196f6fc2ec584b8d3f3ea652044bb32da9,28,7,5,13294,,,0,"Replace url with endpoint in credentials provider

python-openstackclient has removed the --os-url option in [1]. This
commit is part of the upcoming 4.0.0 release.

The openstack provider relies on that for Keystone initial configuration,
so we need to fix this or puppet-keystone will be broken.

[2] is a more solid long-term solution, but this can work as a stop-gap.

[1] - https://review.opendev.org/677795
[2] - https://review.opendev.org/630714

Depends-On: https://review.opendev.org/682108
Depends-On: https://review.opendev.org/682415
Change-Id: Id0bc07f352d0b545e60aabd4523536dfc7fc59a8
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/10/682110/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/keystone.rb', 'spec/unit/provider/keystone_spec.rb']",2,86b3e246ad2bffdc180fd4efbc11055c556d0e3d,osc_train, it 'should return nothing when OS_ENDPOINT is not defined in environment' do it 'should return the OS_ENDPOINT from the environment' do ENV['OS_ENDPOINT'] = 'http://127.0.0.1:5001/v3', it 'should return nothing when OS_URL is not defined in environment' do it 'should return the OS_URL from the environment' do ENV['OS_URL'] = 'http://127.0.0.1:5001/v3',7,7
openstack%2Faodh~master~I98f6a8dcfd434fbbd519dd0ab76ebf5d89fee4b8,openstack/aodh,master,I98f6a8dcfd434fbbd519dd0ab76ebf5d89fee4b8,PDF documentation build,MERGED,2019-09-19 08:56:13.000000000,2019-09-20 04:09:54.000000000,2019-09-20 04:08:26.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-09-19 08:56:13.000000000', 'files': ['.gitignore', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/aodh/commit/28f7d804e8749dd7e5847d3c9e72a759582b8b84', 'message': 'PDF documentation build\n\nChange-Id: I98f6a8dcfd434fbbd519dd0ab76ebf5d89fee4b8\n'}]",0,683065,28f7d804e8749dd7e5847d3c9e72a759582b8b84,13,4,1,14107,,,0,"PDF documentation build

Change-Id: I98f6a8dcfd434fbbd519dd0ab76ebf5d89fee4b8
",git fetch https://review.opendev.org/openstack/aodh refs/changes/65/683065/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'doc/source/conf.py', 'tox.ini']",3,28f7d804e8749dd7e5847d3c9e72a759582b8b84,build-pdf-docs,[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,26,1
openstack%2Ftempest~master~I6a7dc7fc6a535fe583e9db5878fc496232a69247,openstack/tempest,master,I6a7dc7fc6a535fe583e9db5878fc496232a69247,Added instructions about general IDE's in gitignore,MERGED,2019-09-19 08:23:36.000000000,2019-09-20 03:54:52.000000000,2019-09-20 03:52:54.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 30742}]","[{'number': 1, 'created': '2019-09-19 08:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d57c961ba391d953743aa01b42ddae7a1436bb46', 'message': ""Added instructions about general IDE's in gitignore\n\n.gitignore file was missing a very general and easy\nto forget instruction about general IDE's\ncontributors(new) use for developing code.\n\nThis instruction would be clear idea to add there\nrespective IDE's generated files to local git\nconfiguration file so that they could be locally\nignored.\n\nChange-Id: I6a7dc7fc6a535fe583e9db5878fc496232a69247\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\n""}, {'number': 2, 'created': '2019-09-19 08:31:45.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e6568297123c8681da4c5ca5d7096a25a27ae230', 'message': ""Added instructions about general IDE's in gitignore\n\n.gitignore file was missing a very general and easy\nto forget instruction about general IDE's\ncontributors(new) use for developing code.\n\nThis instruction would be clear idea to add there\nrespective IDE's generated files to local git\nconfiguration file so that they could be locally\nignored.\n\nChange-Id: I6a7dc7fc6a535fe583e9db5878fc496232a69247\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\n""}]",0,683053,e6568297123c8681da4c5ca5d7096a25a27ae230,12,4,2,30742,,,0,"Added instructions about general IDE's in gitignore

.gitignore file was missing a very general and easy
to forget instruction about general IDE's
contributors(new) use for developing code.

This instruction would be clear idea to add there
respective IDE's generated files to local git
configuration file so that they could be locally
ignored.

Change-Id: I6a7dc7fc6a535fe583e9db5878fc496232a69247
Signed-off-by: Soniya Vyas <svyas@redhat.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/53/683053/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,d57c961ba391d953743aa01b42ddae7a1436bb46,gitignore_update,"# Don't add patterns to exclude files created by preferred personal tools # (editors, IDEs, your operating system itself even). These should instead be # maintained outside the repository, for example in a ~/.gitignore file added # with: # # git config --global core.excludesfile '~/.gitignore'",,6,0
openstack%2Fmasakari~master~I543a28f369f7dce4deb70f8f9891f06051516a9d,openstack/masakari,master,I543a28f369f7dce4deb70f8f9891f06051516a9d,Blacklist requests-mock 1.7.0,NEW,2019-09-20 02:50:20.000000000,2019-09-20 03:48:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-20 02:50:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/masakari/commit/4f5a9b5384750d427607b6e226d62e138c8f1357', 'message': 'Blacklist requests-mock 1.7.0\n\nVersion 1.7.0 includes a fix that is breaking some keystoneauth tests:\n\n  https://github.com/jamielennox/requests-mock/pull/93\n\nChange-Id: I543a28f369f7dce4deb70f8f9891f06051516a9d\n'}]",0,683269,4f5a9b5384750d427607b6e226d62e138c8f1357,2,1,1,27822,,,0,"Blacklist requests-mock 1.7.0

Version 1.7.0 includes a fix that is breaking some keystoneauth tests:

  https://github.com/jamielennox/requests-mock/pull/93

Change-Id: I543a28f369f7dce4deb70f8f9891f06051516a9d
",git fetch https://review.opendev.org/openstack/masakari refs/changes/69/683269/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4f5a9b5384750d427607b6e226d62e138c8f1357,requests-mock,"requests-mock!=1.7.0,>=1.2.0 # Apache-2.0",requests-mock>=1.2.0 # Apache-2.0,1,1
openstack%2Freleases~master~I89dfeed3417d18b2ae0ee9c4d6ce54b1c5ef0dc9,openstack/releases,master,I89dfeed3417d18b2ae0ee9c4d6ce54b1c5ef0dc9,Cut stable branch for Telemetry team cycle-with-intermediary,ABANDONED,2019-09-20 03:46:20.000000000,2019-09-20 03:47:10.000000000,,[],"[{'number': 1, 'created': '2019-09-20 03:46:20.000000000', 'files': ['deliverables/train/python-pankoclient.yaml', 'deliverables/train/python-aodhclient.yaml', 'deliverables/train/ceilometermiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/77f31dfcbaf700793b2d4803a7314b6cfb9d87ef', 'message': 'Cut stable branch for Telemetry team cycle-with-intermediary\n\nChange-Id: I89dfeed3417d18b2ae0ee9c4d6ce54b1c5ef0dc9\n'}]",0,683278,77f31dfcbaf700793b2d4803a7314b6cfb9d87ef,2,0,1,14107,,,0,"Cut stable branch for Telemetry team cycle-with-intermediary

Change-Id: I89dfeed3417d18b2ae0ee9c4d6ce54b1c5ef0dc9
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/683278/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-pankoclient.yaml', 'deliverables/train/python-aodhclient.yaml', 'deliverables/train/ceilometermiddleware.yaml']",3,77f31dfcbaf700793b2d4803a7314b6cfb9d87ef,,branches: - location: 1.5.0 name: stable/train,,9,0
openstack%2Fmagnum~master~I9b1dbc541c9fd6c0e3a894dd3a5dd9f2011f1e2a,openstack/magnum,master,I9b1dbc541c9fd6c0e3a894dd3a5dd9f2011f1e2a,Remove --os-url usage,MERGED,2019-09-20 01:16:51.000000000,2019-09-20 03:42:47.000000000,2019-09-20 03:41:27.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-09-20 01:16:51.000000000', 'files': ['devstack/lib/magnum'], 'web_link': 'https://opendev.org/openstack/magnum/commit/41768e0ae18473f8112be623b326d84d0dd78bf9', 'message': ""Remove --os-url usage\n\nThe token end-point --os-url argument was removed in openstackclient\nwith I1b9fbb96e447889a41b705324725a2ffc8ecfd9f.\n\nThe plugin should be running as admin, I think we can remove all the\nauthentication arguments and just let it do it's thing.\n\nChange-Id: I9b1dbc541c9fd6c0e3a894dd3a5dd9f2011f1e2a\n""}]",0,683260,41768e0ae18473f8112be623b326d84d0dd78bf9,8,4,1,7118,,,0,"Remove --os-url usage

The token end-point --os-url argument was removed in openstackclient
with I1b9fbb96e447889a41b705324725a2ffc8ecfd9f.

The plugin should be running as admin, I think we can remove all the
authentication arguments and just let it do it's thing.

Change-Id: I9b1dbc541c9fd6c0e3a894dd3a5dd9f2011f1e2a
",git fetch https://review.opendev.org/openstack/magnum refs/changes/60/683260/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/magnum'],1,41768e0ae18473f8112be623b326d84d0dd78bf9,os-url, openstack image set $image_name $magnum_image_property local FLAVOR_LIST=$(openstack flavor list -c Name -f value) openstack flavor set $flavor $magnum_flavor_property, openstack --os-url $GLANCE_SERVICE_PROTOCOL://$GLANCE_HOSTPORT --os-image-api-version 2 image set $image_name $magnum_image_property local FLAVOR_LIST=$(openstack --os-url $NOVA_SERVICE_PROTOCOL://$NOVA_HOSTPORT --os-compute-api-version 2.1 flavor list -c Name -f value) openstack --os-url $NOVA_SERVICE_PROTOCOL://$NOVA_HOSTPORT --os-compute-api-version 2.1 flavor set $flavor $magnum_flavor_property,3,3
openstack%2Fceilometer~master~Idaf07c69221cb1ad5c3813ce687e658256f30b23,openstack/ceilometer,master,Idaf07c69221cb1ad5c3813ce687e658256f30b23,Set proper trait type,MERGED,2019-09-17 01:54:28.000000000,2019-09-20 03:37:20.000000000,2019-09-20 03:36:06.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 20100}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-09-17 01:54:28.000000000', 'files': ['ceilometer/pipeline/data/event_definitions.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9d94f0ade244eeacd9555bfe26d3961406ffb4ec', 'message': 'Set proper trait type\n\nSet proper trait type for event defination, such as datetime and int.\n\nChange-Id: Idaf07c69221cb1ad5c3813ce687e658256f30b23\n'}]",0,682522,9d94f0ade244eeacd9555bfe26d3961406ffb4ec,12,5,1,20100,,,0,"Set proper trait type

Set proper trait type for event defination, such as datetime and int.

Change-Id: Idaf07c69221cb1ad5c3813ce687e658256f30b23
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/22/682522/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/pipeline/data/event_definitions.yaml'],1,9d94f0ade244eeacd9555bfe26d3961406ffb4ec,, type: datetime type: int type: datetime type: int type: datetime type: datetime type: int type: datetime type: datetime type: datetime type: datetime type: datetime type: datetime type: datetime,,14,0
openstack%2Fpuppet-tripleo~master~I47e67ee418daeae792e189a3400ebb05d0278579,openstack/puppet-tripleo,master,I47e67ee418daeae792e189a3400ebb05d0278579,"WIP, Add glance multiple backend support",ABANDONED,2019-09-20 03:32:11.000000000,2019-09-20 03:32:42.000000000,,[],"[{'number': 1, 'created': '2019-09-20 03:32:11.000000000', 'files': ['manifests/profile/base/glance/api/s3.pp', 'manifests/profile/base/glance/api/vsphere.pp', 'manifests/profile/base/glance/api/swift.pp', 'manifests/profile/base/glance/api/rbd.pp', 'manifests/profile/base/glance/api/file.pp', 'manifests/profile/base/glance/api.pp', 'manifests/profile/base/glance/api/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1995699b88a58c61c8f3e968ceb29ce68b943662', 'message': 'WIP, Add glance multiple backend support\n\nChange-Id: I47e67ee418daeae792e189a3400ebb05d0278579\n'}]",0,683275,1995699b88a58c61c8f3e968ceb29ce68b943662,2,0,1,19138,,,0,"WIP, Add glance multiple backend support

Change-Id: I47e67ee418daeae792e189a3400ebb05d0278579
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/683275/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/glance/api/s3.pp', 'manifests/profile/base/glance/api/vsphere.pp', 'manifests/profile/base/glance/api/rbd.pp', 'manifests/profile/base/glance/api/swift.pp', 'manifests/profile/base/glance/api/file.pp', 'manifests/profile/base/glance/api.pp', 'manifests/profile/base/glance/api/cinder.pp']",7,1995699b88a58c61c8f3e968ceb29ce68b943662,multibackend,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::glance::api::cinder # # Glance Cinder backend profile for tripleo # # === Parameters # # [*backend_name*] # (Optional) Name given to the Glance backend stanza # Defaults to 'cinder1' # ## [*cinder_catalog_info*] # (optional) Info to match when looking for cinder in the service catalog. # Format is : separated values of the form: # <service_type>:<service_name>:<endpoint_type> (string value) # Defaults to $::os_service_default. # # [*cinder_endpoint_template*] # (optional) Override service catalog lookup with template for cinder endpoint. # Should be a valid URL. Example: 'http://localhost:8776/v1/%(project_id)s' # Defaults to $::os_service_default. # # [*os_region_name*] # (optional) The os_region_name parameter is deprecated and has no effect. # Use glance::api::os_region_name instead. # Defaults to 'undef' # # [*cinder_ca_certificates_file*] # (optional) Location of ca certicate file to use for cinder client requests. # Should be a valid ca certicate file # Defaults to $::os_service_default. # # [*cinder_http_retries*] # (optional) Number of cinderclient retries on failed http calls. # Should be a valid integer # Defaults to $::os_service_default. # # [*cinder_api_insecure*] # (optional) Allow to perform insecure SSL requests to cinder. # Should be a valid boolean value # Defaults to $::os_service_default. # # [*cinder_store_auth_address*] # (optional) A valid authentication service address. # Defaults to $::os_service_default. # # [*cinder_store_project_name*] # (optional) Project name where the image volume is stored in cinder. # Defaults to $::os_service_default. # # [*cinder_store_user_name*] # (optional) User name to authenticate against cinder. # Defaults to $::os_service_default. # # [*cinder_store_password*] # (optional) A valid password for the user specified by `cinder_store_user_name' # Defaults to $::os_service_default. # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::glance::api::cinder ( $backend_name = hiera('glance::backend::cinder::glance_backend_name', 'cinder1'), $step = Integer(hiera('step')), ) { include ::tripleo::profile::base::glance::api if $step >= 4 { glance::backend::swift { $backend_name : cinder_api_insecure => hiera('glance::backend::cinder::cinder_api_insecure', undef), cinder_catalog_info => hiera('glance::backend::cinder::cinder_catalog_info', undef), cinder_http_retries => hiera('glance::backend::cinder::cinder_http_retries', undef), cinder_endpoint_template => hiera('glance::backend::cinder::cinder_endpoint_template', undef), cinder_ca_certificates_file => hiera('glance::backend::cinder::cinder_ca_certificates_file', undef), cinder_store_auth_address => hiera('glance::backend::cinder::cinder_store_auth_address', undef), cinder_store_project_name => hiera('glance::backend::cinder::cinder_store_project_name', undef), cinder_store_user_name => hiera('glance::backend::cinder::cinder_store_user_name', undef), cinder_store_password => hiera('glance::backend::cinder::cinder_store_password', undef), } } } ",,639,22
openstack%2Fmasakari~master~I8b3936949dda2029901e5f761d7b1a1e0e4fc9a4,openstack/masakari,master,I8b3936949dda2029901e5f761d7b1a1e0e4fc9a4,Add Python 3 Train unit tests,ABANDONED,2019-07-14 06:48:47.000000000,2019-09-20 03:29:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2019-07-14 06:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3fc337db62fb934f5d87dae84f82358247a07d39', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I8b3936949dda2029901e5f761d7b1a1e0e4fc9a4\n'}, {'number': 2, 'created': '2019-07-14 10:24:16.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/a709e302f194b0ff29960177f769d80fc0919b35', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I8b3936949dda2029901e5f761d7b1a1e0e4fc9a4\n'}]",0,670710,a709e302f194b0ff29960177f769d80fc0919b35,7,2,2,30395,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I8b3936949dda2029901e5f761d7b1a1e0e4fc9a4
",git fetch https://review.opendev.org/openstack/masakari refs/changes/10/670710/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,3fc337db62fb934f5d87dae84f82358247a07d39,,"envlist = pep8,py{27,36,37}","envlist = pep8,py27,py35,py36",4,4
openstack%2Fpuppet-glance~master~I2b43281fe6c084617996d188e1c4b2124269d511,openstack/puppet-glance,master,I2b43281fe6c084617996d188e1c4b2124269d511,"WIP, PoC for glance multiple backend support",ABANDONED,2019-09-20 03:28:06.000000000,2019-09-20 03:28:49.000000000,,[],"[{'number': 1, 'created': '2019-09-20 03:28:06.000000000', 'files': ['manifests/backend/cinder.pp', 'manifests/backend/file.pp', 'manifests/backend/swift.pp', 'manifests/backend/rbd.pp', 'manifests/backend/s3.pp', 'manifests/backend/vsphere.pp', 'manifests/backends.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/ab38679b10b465cc3c331c1dd9cf89a547d67529', 'message': 'WIP, PoC for glance multiple backend support\n\nChange-Id: I2b43281fe6c084617996d188e1c4b2124269d511\n'}]",0,683274,ab38679b10b465cc3c331c1dd9cf89a547d67529,2,0,1,19138,,,0,"WIP, PoC for glance multiple backend support

Change-Id: I2b43281fe6c084617996d188e1c4b2124269d511
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/74/683274/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/cinder.pp', 'manifests/backend/file.pp', 'manifests/backend/swift.pp', 'manifests/backend/rbd.pp', 'manifests/backend/s3.pp', 'manifests/backend/vsphere.pp', 'manifests/backends.pp']",7,ab38679b10b465cc3c331c1dd9cf89a547d67529,multibackend,"# == Class: glance::backend # # Class to set the enabled_backends list # # === Parameters # # [*enabled_backends_names*] # (Required) a list of ini sections to enable. # This should contain names used in glance::backend::* resources. # Example: [file1:file, cinder1:cinder, cinder2:cinder, file2:file] # Defaults to undef # # [*enabled_backends_types*] # (Required) a list of ini sections to enable. # This should contain names used in glance::backend::* resources. # Example: [file1:file, cinder1:cinder, cinder2:cinder, file2:file] # Defaults to undef # # [*default_backend*] # (Required) The default backend store, should be given as a string. Value # must be provided if more than one store is listed in 'stores'. # Defaults to undef # class glance::backend ( $enabled_backends_names = undef, $enabled_backends_type = undef, $default_backend = undef, ) { include ::glance::deps if $enabled_backends == undef { warning(""Configurations that are setting backend config in ``[DEFAULT]`` \ section are now not supported. You should use ``enabled_backends``option to \ set up backends. No volume service(s) started successfully otherwise."") } else { # Maybe this could be extented to dynamicly find the enabled names $enabled_backends = inline_template('<%= @enabled_backends_names.each_with_index.map {|v,i| ""#{v}:#{@enabled_backends_type[i]}"" } %>') glance_api_config { ""DEFAULT/enabled_backends"": value => $enabled_backends; ""glance_store/default_backend"": value => $default_backend; } } } ",,119,59
openstack%2Fpython-designateclient~master~I9716014d65a3f649c23eb78faca2cb6dbf5eb5db,openstack/python-designateclient,master,I9716014d65a3f649c23eb78faca2cb6dbf5eb5db,"Fix ""recordset list --all-projects"" in interactive OSC",MERGED,2019-09-18 11:46:49.000000000,2019-09-20 03:23:24.000000000,2019-09-20 03:21:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-18 11:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/a0e436b82ea7fcce2807b8a08a26c3ebec7929e3', 'message': 'Fix ""zone list --all-projects"" in interactive OSC\n\nClass variables get re-used when multiple commands are executed in a row\nwithin a single OSC interactive session. So we need to take a copy\nbefore modifying in order to avoid unwanted side-effects.\n\nChange-Id: I9716014d65a3f649c23eb78faca2cb6dbf5eb5db\nRelated-Bug: 1844028\n'}, {'number': 2, 'created': '2019-09-18 11:47:30.000000000', 'files': ['designateclient/v2/cli/recordsets.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/6be5c7b49e32864ebc60b255774d8f9b2a6ef9fc', 'message': 'Fix ""recordset list --all-projects"" in interactive OSC\n\nClass variables get re-used when multiple commands are executed in a row\nwithin a single OSC interactive session. So we need to take a copy\nbefore modifying in order to avoid unwanted side-effects.\n\nChange-Id: I9716014d65a3f649c23eb78faca2cb6dbf5eb5db\nRelated-Bug: 1844028\n'}]",1,682868,6be5c7b49e32864ebc60b255774d8f9b2a6ef9fc,15,2,2,13252,,,0,"Fix ""recordset list --all-projects"" in interactive OSC

Class variables get re-used when multiple commands are executed in a row
within a single OSC interactive session. So we need to take a copy
before modifying in order to avoid unwanted side-effects.

Change-Id: I9716014d65a3f649c23eb78faca2cb6dbf5eb5db
Related-Bug: 1844028
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/68/682868/2 && git format-patch -1 --stdout FETCH_HEAD,['designateclient/v2/cli/recordsets.py'],1,a0e436b82ea7fcce2807b8a08a26c3ebec7929e3,bug/1844028, cols = list(self.columns), cols = self.columns,1,1
openstack%2Fpython-designateclient~master~I178185e9add3d542277255d692e18a8e46ba85d6,openstack/python-designateclient,master,I178185e9add3d542277255d692e18a8e46ba85d6,More cleanup,MERGED,2019-09-17 09:38:33.000000000,2019-09-20 03:22:30.000000000,2019-09-20 03:19:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-17 09:38:33.000000000', 'files': ['doc/source/index.rst', '.gitignore', 'doc/source/user/shell-v2.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/3401ce05deb1dcaff7ac698626baab689ee9d05b', 'message': 'More cleanup\n\n- Add .testrepository dir to .gitignore\n- Add releasenote jobs\n- Remove further v1 references from docs\n\nChange-Id: I178185e9add3d542277255d692e18a8e46ba85d6\n'}]",0,682593,3401ce05deb1dcaff7ac698626baab689ee9d05b,10,3,1,13252,,,0,"More cleanup

- Add .testrepository dir to .gitignore
- Add releasenote jobs
- Remove further v1 references from docs

Change-Id: I178185e9add3d542277255d692e18a8e46ba85d6
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/93/682593/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', '.gitignore', 'doc/source/user/shell-v2.rst', '.zuul.yaml']",4,3401ce05deb1dcaff7ac698626baab689ee9d05b,654749, - release-notes-jobs-python3,,10,6
openstack%2Fironic~master~Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e,openstack/ironic,master,Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e,CI: move libvirt images to /opt for standalone and multinode jobs,MERGED,2019-09-11 11:19:01.000000000,2019-09-20 03:10:12.000000000,2019-09-20 03:06:29.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-11 11:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01e5b24acdb9abba47c22288578e25cda5fb9a0d', 'message': 'CI: reduce the disk size for the standalone job even further\n\nOur devstack plugin uses root device hints to cope with such small\ndisks, so it should be okay to set it to 3 GiB.\n\nChange-Id: Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e\n'}, {'number': 2, 'created': '2019-09-11 12:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77cd75b2a9211b843868b3f4046af278333080c3', 'message': 'CI: further improvements to the disk consumptions of the standalone job\n\nOur devstack plugin uses root device hints to cope with such small\ndisks, so it should be okay to set it to 3 GiB. Also move the volume\npool from / to /opt for the standalone and multinode jobs, since on\nsmaller nodes /opt is mounted from a larger ephemeral disk.\n\nChange-Id: Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e\n'}, {'number': 3, 'created': '2019-09-11 13:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/91785431e10aae90c87d0c84b9856db005ec56b0', 'message': 'CI: further improvements to the disk consumptions of the standalone job\n\nOur devstack plugin uses root device hints to cope with such small\ndisks, so it should be okay to set it to 3 GiB. Also move the volume\npool from / to /opt for the standalone and multinode jobs, since on\nsmaller nodes /opt is mounted from a larger ephemeral disk.\n\nChange-Id: Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e\n'}, {'number': 4, 'created': '2019-09-11 14:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/248d9a852bc933a0893225b60840dc712d83e197', 'message': 'CI: further improvements to the disk consumptions of the standalone job\n\nOur devstack plugin uses root device hints to cope with such small\ndisks, so it should be okay to set it to 3 GiB. Also move the volume\npool from / to /opt for the standalone and multinode jobs, since on\nsmaller nodes /opt is mounted from a larger ephemeral disk.\n\nChange-Id: Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e\n'}, {'number': 5, 'created': '2019-09-12 10:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/900089196bb528dd5707534db83187e20b980f53', 'message': 'CI: further improvements to the disk consumptions of the standalone job\n\nOur devstack plugin uses root device hints to cope with such small\ndisks, so it should be okay to set it to 3 GiB. Also move the volume\npool from / to /opt for the standalone and multinode jobs, since on\nsmaller nodes /opt is mounted from a larger ephemeral disk.\n\nChange-Id: Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e\n'}, {'number': 6, 'created': '2019-09-12 11:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5aea971a5f53a2d5eb6564b065d5054b4c9ddfce', 'message': 'CI: further improvements to the disk consumptions of the standalone job\n\nOur devstack plugin uses root device hints to cope with such small\ndisks, so it should be okay to set it to 3 GiB. Also move the volume\npool from / to /opt for the standalone and multinode jobs, since on\nsmaller nodes /opt is mounted from a larger ephemeral disk.\n\nChange-Id: Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e\n'}, {'number': 7, 'created': '2019-09-16 16:57:41.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/tools/ironic/scripts/create-node.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/625c71d48d61ccd2e68b4355826d29db21086343', 'message': 'CI: move libvirt images to /opt for standalone and multinode jobs\n\nMoves the volume pool from / to /opt for the standalone and multinode\njobs, since on smaller nodes /opt is mounted from a larger ephemeral disk.\n\nChange-Id: Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e\n'}]",2,681446,625c71d48d61ccd2e68b4355826d29db21086343,59,7,7,10239,,,0,"CI: move libvirt images to /opt for standalone and multinode jobs

Moves the volume pool from / to /opt for the standalone and multinode
jobs, since on smaller nodes /opt is mounted from a larger ephemeral disk.

Change-Id: Idb4e235fd40ecd9829c3ad8a9dd1224f1c29a12e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/681446/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,01e5b24acdb9abba47c22288578e25cda5fb9a0d,standalone-gate, IRONIC_VM_SPECS_DISK: 3,,1,0
openstack%2Ftrove~master~I583945addb6cb0aa442db1c9d9c6ce3cb57793f7,openstack/trove,master,I583945addb6cb0aa442db1c9d9c6ce3cb57793f7,Some clean up,MERGED,2019-09-18 09:19:03.000000000,2019-09-20 03:01:52.000000000,2019-09-20 02:02:39.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 09:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/351de39ac763c9fc1c3a9a0aa7802ac1c05c2611', 'message': 'Remove the unused variables in trovestack.rc\n\nChange-Id: I583945addb6cb0aa442db1c9d9c6ce3cb57793f7\n'}, {'number': 2, 'created': '2019-09-18 09:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/83721e272f1ae83e9a0861b0b6f716de9efc46b6', 'message': 'Some clean up\n\n- Remove the unused variables in trovestack.rc which leads to\n  trove-tempest-plugin failure.\n- Remove non-voting gate job\n\nChange-Id: I583945addb6cb0aa442db1c9d9c6ce3cb57793f7\n'}, {'number': 3, 'created': '2019-09-19 20:52:06.000000000', 'files': ['playbooks/image-build/run.yaml', '.zuul.yaml', 'integration/scripts/trovestack.rc'], 'web_link': 'https://opendev.org/openstack/trove/commit/757a8739635b14878ff996407708edb215628543', 'message': 'Some clean up\n\n- Remove the unused variables in trovestack.rc which leads to\n  module not found error.\n- Remove non-voting gate job\n\nChange-Id: I583945addb6cb0aa442db1c9d9c6ce3cb57793f7\n'}]",0,682845,757a8739635b14878ff996407708edb215628543,14,2,3,6732,,,0,"Some clean up

- Remove the unused variables in trovestack.rc which leads to
  module not found error.
- Remove non-voting gate job

Change-Id: I583945addb6cb0aa442db1c9d9c6ce3cb57793f7
",git fetch https://review.opendev.org/openstack/trove refs/changes/45/682845/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/trovestack.rc'],1,351de39ac763c9fc1c3a9a0aa7802ac1c05c2611,clean-up,,"PATH_DISKIMAGEBUILDER_ELEMENTS=$(python -c 'import os, diskimage_builder, pkg_resources;print(os.path.abspath(pkg_resources.resource_filename(diskimage_builder.__name__, ""elements"")))') PATH_TRIPLEO_ELEMENTS=$DEST/tripleo-image-elements",0,3
openstack%2Ftripleo-heat-templates~master~Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8,openstack/tripleo-heat-templates,master,Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8,[WIP] Convert the container-puppet to ansible,ABANDONED,2019-05-29 03:24:31.000000000,2019-09-20 02:52:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 03:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/759dbc2ff9c2db4aa56627d9d3b29a7f44b2ddcb', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-05-29 14:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85d439afdcf6586915172df5333e1be60f1620b6', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-05-29 17:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a289b00b25595e13bbdd3165e34e55e610e71b6c', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-05-29 19:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d95c2fc9172f0d7810eac62087d71487cd51c122', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-05-29 20:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b168a1269783179be85dbffe1971b221b93117c3', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-05-30 00:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9f7b52900b3620800fda0222cff560485f9314e', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-09-17 17:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f7741445ff9fe8f1ccc0c1f58cbb53bcc0e4e10', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-09-18 20:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96d9257c100c6e4d69fd097fb8f5ee6841578296', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-09-18 21:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea677848726214056c551886e8b9977fbd6d2748', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-09-19 03:21:32.000000000', 'files': ['common/container-puppet.py', 'common/deploy-steps.j2', 'common/container-shell.sh', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25ea14fc6819ae40cb5c3166c4503ba04996fe76', 'message': '[WIP] Convert the container-puppet to ansible\n\nThis change converts the container functions within `container-puppet.py` to\nusing pure ansible. While the script `container-puppet.py` still remains it\nonly function now is to create required hashed files.\n\n> In a future PR the `container-puppet.py` script will be fully removed\n\nAll of the functionality has been ported from the python script into ansible\ntasks. This change creates a system which is far simpler and more easily\nunderstood, however simplicity comes at the cost of container creation\nand image pull performance; the multiprocessing python script was faster\non a per-host basis. Eventhough there is a performance impcat with this change,\nit should be noted that this will greatly assist us in further decoupling\nthe stack from puppet.\n\nChange-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,661883,25ea14fc6819ae40cb5c3166c4503ba04996fe76,26,2,10,7353,,,0,"[WIP] Convert the container-puppet to ansible

This change converts the container functions within `container-puppet.py` to
using pure ansible. While the script `container-puppet.py` still remains it
only function now is to create required hashed files.

> In a future PR the `container-puppet.py` script will be fully removed

All of the functionality has been ported from the python script into ansible
tasks. This change creates a system which is far simpler and more easily
understood, however simplicity comes at the cost of container creation
and image pull performance; the multiprocessing python script was faster
on a per-host basis. Eventhough there is a performance impcat with this change,
it should be noted that this will greatly assist us in further decoupling
the stack from puppet.

Change-Id: Ic9bd0e46ba7dcebfcd61efe6425ac7d6f9fa40f8
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/661883/10 && git format-patch -1 --stdout FETCH_HEAD,"['common/container-puppet.py', 'common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml']",3,759dbc2ff9c2db4aa56627d9d3b29a7f44b2ddcb,container-py," - name: Container tasks when: - host_container_puppet_tasks is defined block: - name: Create container_puppet.sh script content: |- #!/bin/bash set -ex mkdir -p /etc/puppet cp -dR /tmp/puppet-etc/* /etc/puppet rm -Rf /etc/puppet/ssl # not in use and causes permission errors echo ""{\\""step\\"": $STEP}"" > /etc/puppet/hieradata/docker_puppet.json TAGS="""" if [ -n ""$PUPPET_TAGS"" ]; then TAGS=""--tags \""$PUPPET_TAGS\"""" fi CHECK_MODE="""" if [ -d ""/tmp/puppet-check-mode"" ]; then mkdir -p /etc/puppet/check-mode cp -a /tmp/puppet-check-mode/* /etc/puppet/check-mode CHECK_MODE=""--hiera_config /etc/puppet/check-mode/hiera.yaml"" fi # Create a reference timestamp to easily find all files touched by # puppet. The sync ensures we get all the files we want due to # different timestamp. origin_of_time=/var/lib/config-data/${NAME}.origin_of_time touch $origin_of_time sync export NET_HOST=""${NET_HOST:-false}"" set +e if [ ""$NET_HOST"" == ""false"" ]; then export FACTER_hostname=$HOSTNAME fi # $::deployment_type in puppet-tripleo export FACTER_deployment_type=containers export FACTER_uuid=$(cat /sys/class/dmi/id/product_uuid | tr '[:upper:]' '[:lower:]') /usr/bin/puppet apply --summarize \ --detailed-exitcodes \ --color=false \ --logdest syslog \ --logdest console \ --modulepath=/etc/puppet/modules:/usr/share/openstack-puppet/modules \ $TAGS \ $CHECK_MODE \ /etc/config.pp rc=$? set -e if [ $rc -ne 2 -a $rc -ne 0 ]; then exit $rc fi # Disables archiving if [ -z ""$NO_ARCHIVE"" ]; then archivedirs=(""/etc"" ""/root"" ""/opt"" ""/var/lib/ironic/tftpboot"" ""/var/lib/ironic/httpboot"" ""/var/www"" ""/var/spool/cron"" ""/var/lib/nova/.ssh"") rsync_srcs="""" for d in ""${archivedirs[@]}""; do if [ -d ""$d"" ]; then rsync_srcs+="" $d"" fi done # On stack update, if a password was changed in a config file, # some services (e.g. mysql) must change their internal state # (e.g. password in mysql DB) when paunch restarts them; and # they need the old password to achieve that. # For those services, we update the config hash to notify # paunch that a restart is needed, but we do not update the # password file in container-puppet if the file already existed # before and let the service regenerate it instead. password_files=""/root/.my.cnf"" exclude_files="""" for p in $password_files; do if [ -f ""$p"" -a -f ""/var/lib/config-data/${NAME}$p"" ]; then exclude_files+="" --exclude=$p"" fi done rsync -a -R --delay-updates --delete-after $exclude_files $rsync_srcs /var/lib/config-data/${NAME} # Also make a copy of files modified during puppet run # This is useful for debugging echo ""Gathering files modified after $(stat -c '%y' $origin_of_time)"" mkdir -p /var/lib/config-data/puppet-generated/${NAME} rsync -a -R -0 --delay-updates --delete-after $exclude_files \ --files-from=<(find $rsync_srcs -newer $origin_of_time -not -path '/etc/puppet*' -print0) \ / /var/lib/config-data/puppet-generated/${NAME} # Write a checksum of the config-data dir, this is used as a # salt to trigger container restart when the config changes # note: while being excluded from the output, password files # are still included in checksum computation additional_checksum_files="""" excluded_original_passwords="""" for p in $password_files; do if [ -f ""$p"" ]; then additional_checksum_files+="" $p"" excluded_original_passwords+="" --exclude=/var/lib/config-data/*${p}"" fi done # We need to exclude the swift ring backups as those change over time and # containers do not need to restart if they change EXCLUDE=--exclude='*/etc/swift/backups/*'\ --exclude='*/etc/libvirt/passwd.db'\ ${excluded_original_passwords} # We need to repipe the tar command through 'tar xO' to force text # output because otherwise the sed command cannot work. The sed is # needed because puppet puts timestamps as comments in cron and # parsedfile resources, hence triggering a change at every redeploy tar -c --mtime='1970-01-01' $EXCLUDE -f - /var/lib/config-data/${NAME} $additional_checksum_files | tar xO | \ sed '/^#.*HEADER.*/d' | md5sum | awk '{print $1}' > /var/lib/config-data/${NAME}.md5sum tar -c --mtime='1970-01-01' $EXCLUDE -f - /var/lib/config-data/puppet-generated/${NAME} $additional_checksum_files --mtime='1970-01-01' | tar xO \ | sed '/^#.*HEADER.*/d' | md5sum | awk '{print $1}' > /var/lib/config-data/puppet-generated/${NAME}.md5sum fi dest: /var/lib/container-puppet/container-puppet.sh mode: ""0755"" - name: Create config directory file: path: /var/lib/config-data state: directory - name: Write container-puppet-tasks json file for {{ ansible_hostname }} step {{ step }} no_log: True copy: content: ""{{ host_container_puppet_tasks | to_nice_json }}"" dest: ""/var/lib/container-puppet/container-puppet-tasks{{ step }}.json"" force: yes mode: '0600' tags: - container_config_tasks - name: container json block block: - name: Slurp container json slurp: src: ""/var/lib/container-puppet/{{ (ansible_check_mode | bool) | ternary('check-mode/', '') }}container-puppet-tasks{{ step | default('') }}.json"" register: container_json_content rescue: - name: Slurp container json slurp: src: ""/var/lib/container-puppet/{{ (ansible_check_mode | bool) | ternary('check-mode/', '') }}container-puppet-tasks.json"" register: container_json_content - name: Form container data set_fact: _container_data: |- {% set data = [] %} {% for item in (container_json_content['content'] | b64decode) %} {% set terms = {} %} {% set uname = 'container-puppet-' ~ item['config_volume'] %} {% set _ = terms.__setitem__('uname', uname ~'-'~ (uname | to_uuid | replace('-', ''))[:8]) %} {% set _ = terms.__setitem__('image', item['config_image']) %} {% set _ = terms.__setitem__('puppet_tags', item['puppet_tags']) %} {% set _ = terms.__setitem__('step_config', item['step_config']) %} {% if 'volumes' in item %} {% set _ = terms.__setitem__('volumes', item['volumes']) %} {% endif %} {% set _ = data.append(terms) %} {% endfor %} - name: Pull an image podman_image: name: ""{{ item['image'] }}"" with_items: ""{{ _container_data }}"" - name: Ensure no existing container is running podman_container: name: ""{{ item['uname'] }}"" state: absent with_items: ""{{ _container_data }}"" - name: create temporary file tempfile: state: directory suffix: temp register: temp_man - name: Create temp manifest copy: content: |- include ::tripleo::packages {{ item['step_config'] }} dest: ""{{ temp_man.path }}/{{ item['config_volume'] }}"" - name: Create block block: - name: Create podman container command: /usr/bin/podman run --user root --name {{ item['uname'] }} --env PUPPET_TAGS={{ item['puppet_tags'] }} --env NAME={{ item['config_volume'] }} --env HOSTNAME={{ ansible_hostname }} --env NO_ARCHIVE=true --env STEP={{ step }} --env NET_HOST=true --log-driver json-file --log-opt path=/var/log/containers/stdouts.log --net host --privileged --entrypoint /var/lib/container-puppet/container-puppet.sh --security-opt label=disable --volume /usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro --volume /etc/hosts:/etc/hosts:ro --volume /etc/localtime:/etc/localtime:ro --volume {{ temp_man.path }}/{{ item['config_volume'] }}:/etc/config.pp:ro --volume /etc/puppet/:/tmp/puppet-etc/:ro --volume /etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume /etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume /etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume /etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume /var/lib/config-data{{ ansible_check_mode | bool | ternary(""/check-mode"", """") }}:/var/lib/config-data/:rw --volume /dev/log:/dev/log:rw {% if ansible_check_mode | bool %} --volume /etc/puppet/check-mode:/tmp/puppet-check-mode:ro {% endif %} {%- for volume in item['volumes'] %} --volume {{ volume }} {% endfor -%} --volume /var/lib/container-puppet/container-puppet.sh:/var/lib/container-puppet/container-puppet.sh:ro with_items: ""{{ _container_data }}"" - name: Container start podman_container: name: ""{{ item['uname'] }}"" state: started with_items: ""{{ _container_data }}"" always: - name: Cleanup tmp file file: path: ""{{ temp_man.path }}"" state: absent"," NET_HOST: 'true' PROCESS_COUNT: '{{ docker_puppet_process_count }}' CONTAINER_CLI: ""{{ container_cli }}"" CONFIG: '/var/lib/container-puppet/{{ ansible_check_mode | bool | ternary(""check-mode/"", """") }}container-puppet.json' CONFIG_VOLUME_PREFIX: '/var/lib/config-data{{ ansible_check_mode | bool | ternary(""/check-mode"", """") }}' CHECK_MODE: '{{ ansible_check_mode | bool | ternary(1, 0) }}' MOUNT_HOST_PUPPET: '{{docker_puppet_mount_host_puppet | default(true)}}' CONTAINER_LOG_STDOUT_PATH: ""{{ container_log_stdout_path }}"" CONTAINER_HEALTHCHECK_DISABLED: ""{{ container_healthcheck_disabled }}"" - name: Diff container-puppet.py puppet-generated changes for check mode shell: | diff -ruN --no-dereference -q /var/lib/config-data/puppet-generated /var/lib/config-data/check-mode/puppet-generated diff -ruN --no-dereference /var/lib/config-data/puppet-generated /var/lib/config-data/check-mode/puppet-generated register: diff_results tags: - container_config check_mode: no when: - step == ""1"" - ansible_check_mode|bool - ansible_diff_mode failed_when: false changed_when: diff_results.rc == 1 - name: Diff container-puppet.py puppet-generated changes for check mode debug: var: diff_results.stdout_lines changed_when: diff_results.rc == 1 when: - step == ""1"" - ansible_check_mode|bool - ansible_diff_mode tags: - container_config - name: Write container-puppet-tasks json file for {{ansible_hostname}} step {{step}} no_log: True copy: content: ""{{host_container_puppet_tasks|to_nice_json}}"" dest: ""/var/lib/container-puppet/container-puppet-tasks{{step}}.json"" force: yes mode: '0600' tags: - container_config_tasks when: host_container_puppet_tasks is defined - name: Run container-puppet tasks (bootstrap tasks) for step {{ step }} shell: ""{{ python_cmd }} /var/lib/container-puppet/container-puppet.py"" environment: CONFIG: /var/lib/container-puppet/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}container-puppet-tasks{{ step }}.json CONFIG_VOLUME_PREFIX: '/var/lib/config-data{{ ansible_check_mode | bool | ternary(""/check-mode"", """") }}' NET_HOST: ""true"" NO_ARCHIVE: ""true"" STEP: ""{{ step }}"" CONTAINER_CLI: ""{{ container_cli }}"" DEBUG: ""{{ docker_puppet_debug }}"" MOUNT_HOST_PUPPET: '{{docker_puppet_mount_host_puppet}}' when: host_container_puppet_tasks is defined changed_when: false register: outputs failed_when: false no_log: true tags: - container_config_tasks - name: ""Debug output for task: Run container-puppet tasks (bootstrap tasks) for step {{ step }}"" debug: var: outputs.stdout_lines | default([]) | union(outputs.stderr_lines | default([])) when: outputs.rc is defined failed_when: outputs.rc != 0 tags: - container_config_tasks",299,628
openstack%2Frequirements~stable%2Fstein~I4498605bb85be2cde8c1cc83937ed41d5a1d69b9,openstack/requirements,stable/stein,I4498605bb85be2cde8c1cc83937ed41d5a1d69b9,update constraint for os-win to new release 4.2.1,MERGED,2019-09-19 10:44:55.000000000,2019-09-20 02:39:21.000000000,2019-09-20 02:39:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 10:44:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eb865f8601cbefe214d0aeece736b67c2446829c', 'message': 'update constraint for os-win to new release 4.2.1\n\nChange-Id: I4498605bb85be2cde8c1cc83937ed41d5a1d69b9\nmeta:version: 4.2.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>\nmeta:release:Commit: Lucian Petrut <lpetrut@cloudbasesolutions.com>\nmeta:release:Change-Id: I7fc8c89b3bb684ffdb434587125ab48fc68dd21d\nmeta:release:Code-Review+1: Claudiu Belu <cbelu@cloudbasesolutions.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,683108,eb865f8601cbefe214d0aeece736b67c2446829c,6,2,1,11131,,,0,"update constraint for os-win to new release 4.2.1

Change-Id: I4498605bb85be2cde8c1cc83937ed41d5a1d69b9
meta:version: 4.2.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>
meta:release:Commit: Lucian Petrut <lpetrut@cloudbasesolutions.com>
meta:release:Change-Id: I7fc8c89b3bb684ffdb434587125ab48fc68dd21d
meta:release:Code-Review+1: Claudiu Belu <cbelu@cloudbasesolutions.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/683108/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eb865f8601cbefe214d0aeece736b67c2446829c,new-release,os-win===4.2.1,os-win===4.2.0,1,1
openstack%2Fmanila~master~Ic6b45260ae39da9ec2c29d05c76d85be1e20635d,openstack/manila,master,Ic6b45260ae39da9ec2c29d05c76d85be1e20635d,Fix _list_view function for count,MERGED,2019-07-31 20:58:20.000000000,2019-09-20 02:26:08.000000000,2019-09-20 02:24:36.000000000,"[{'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 7102}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 29958}]","[{'number': 1, 'created': '2019-07-31 20:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fa1971fc02b728c42ed9b32ac51eacc2f4860c65', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 2, 'created': '2019-08-02 14:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/45f93e7c988b6f9e1d958876945c0e0e82d246f6', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 3, 'created': '2019-08-05 18:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/055c5dd695394443405b528eaae3b0a997e44bcf', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 4, 'created': '2019-08-05 23:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3c429d8abc3410a7e345c3301cb2966daee02ed5', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 5, 'created': '2019-08-14 16:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/293e3e8ee6147cc2e2bb5ea200eec498ddb31500', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 6, 'created': '2019-08-14 22:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0e5c77e2d7ce55d6fc98582a88611e4ec952ba20', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 7, 'created': '2019-08-22 14:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ed5e85d73212c90d1538779d8260af714b75024e', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 8, 'created': '2019-09-03 14:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/09a025c6a45ac7bd68375d12874fd67a029ed6ba', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 9, 'created': '2019-09-03 14:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/52dc718d1a242427da6937d146bddc9bb9e783f4', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}, {'number': 10, 'created': '2019-09-04 11:50:44.000000000', 'files': ['manila/tests/api/v2/test_shares.py', 'manila/api/views/shares.py', 'releasenotes/notes/bug-667744-fix-c64071e6e5a098f7.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/60254a4fd2bcb619ccf394e143583c6c226a21b9', 'message': 'Fix _list_view function for count\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because _list_view do not handle count\nproperly for 0 shares. This patch-set adds a fix for this case.\n\nChange-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d\nCloses-bug: #1822815\n'}]",13,673913,60254a4fd2bcb619ccf394e143583c6c226a21b9,86,19,10,29958,,,0,"Fix _list_view function for count

When doing `manila list --count True` without shares, the user gets
an error. This happens because _list_view do not handle count
properly for 0 shares. This patch-set adds a fix for this case.

Change-Id: Ic6b45260ae39da9ec2c29d05c76d85be1e20635d
Closes-bug: #1822815
",git fetch https://review.opendev.org/openstack/manila refs/changes/13/673913/8 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/views/shares.py', 'releasenotes/notes/bug-667744-fix-c64071e6e5a098f7.yaml']",2,fa1971fc02b728c42ed9b32ac51eacc2f4860c65,bug/1822815,fixes: - Launchpad bug 1822815 <https://bugs.launchpad.net/python-manilaclient/+bug/1822815> has been fixed. The user no longer gets an error if the list command has no rows when executing `manila list --count True`. ,,7,2
openstack%2Fpaunch~master~Ie464a32c0b233401683d75c7e570096f583b46da,openstack/paunch,master,Ie464a32c0b233401683d75c7e570096f583b46da,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-31 08:48:18.000000000,2019-09-20 02:17:12.000000000,2019-09-20 02:14:54.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 08:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/00fc0f3504b089b39ac0566b6487f811b6e4367e', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ie464a32c0b233401683d75c7e570096f583b46da\n'}, {'number': 2, 'created': '2019-08-19 01:29:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/paunch/commit/ef7f5cbf947e1467ed81d3ecfaf23e0174ac143a', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ie464a32c0b233401683d75c7e570096f583b46da\n'}]",0,673762,ef7f5cbf947e1467ed81d3ecfaf23e0174ac143a,11,4,2,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ie464a32c0b233401683d75c7e570096f583b46da
",git fetch https://review.opendev.org/openstack/paunch refs/changes/62/673762/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,00fc0f3504b089b39ac0566b6487f811b6e4367e,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fpaunch~master~I7025cb7fee5362adcba7d8539916a705a0ed2f87,openstack/paunch,master,I7025cb7fee5362adcba7d8539916a705a0ed2f87,Cleanup useless warnings for podman,MERGED,2019-09-17 13:46:53.000000000,2019-09-20 02:15:54.000000000,2019-09-20 02:14:50.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 13:46:53.000000000', 'files': ['paunch/__init__.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/31b050120be4f78ca145e5c0cd710e51009c1b5b', 'message': 'Cleanup useless warnings for podman\n\nBoth ""cleanup"" and ""delete"" commands are supported when podman is the\ncontainer cli. The warnings were probably added when podman didn\'t\nsupport them but now we have the code in Paunch which can rename\ncontainers, needed by these functions.\n\nChange-Id: I7025cb7fee5362adcba7d8539916a705a0ed2f87\n'}]",0,682651,31b050120be4f78ca145e5c0cd710e51009c1b5b,13,5,1,3153,,,0,"Cleanup useless warnings for podman

Both ""cleanup"" and ""delete"" commands are supported when podman is the
container cli. The warnings were probably added when podman didn't
support them but now we have the code in Paunch which can rename
containers, needed by these functions.

Change-Id: I7025cb7fee5362adcba7d8539916a705a0ed2f87
",git fetch https://review.opendev.org/openstack/paunch refs/changes/51/682651/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/__init__.py'],1,31b050120be4f78ca145e5c0cd710e51009c1b5b,cleanup/cli,," log.warning(""paunch cleanup is partially supported with podman"") log.warning(""paunch cleanup is partially supported with podman"")",0,2
openstack%2Fpaunch~master~I22c45438c1f94199826ca314f2148f3fac2678f4,openstack/paunch,master,I22c45438c1f94199826ca314f2148f3fac2678f4,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-31 08:51:08.000000000,2019-09-20 02:14:53.000000000,2019-09-20 02:14:53.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 08:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/1c3f5d98b53a089070c74b692d9ff0f43985d5a8', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I22c45438c1f94199826ca314f2148f3fac2678f4\n'}, {'number': 2, 'created': '2019-08-01 02:42:18.000000000', 'files': ['doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/bfa88de60876f0df7d02a3a59347d16b131d18c5', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I22c45438c1f94199826ca314f2148f3fac2678f4\n'}]",0,673763,bfa88de60876f0df7d02a3a59347d16b131d18c5,10,4,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I22c45438c1f94199826ca314f2148f3fac2678f4
",git fetch https://review.opendev.org/openstack/paunch refs/changes/63/673763/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'releasenotes/source/conf.py']",2,1c3f5d98b53a089070c74b692d9ff0f43985d5a8,openstackdocstheme,,"project = u'paunch Release Notes'# The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,23
openstack%2Ftripleo-upgrade~master~I9a6e8d74452a6990ec2d2e18ae543cd9a355400d,openstack/tripleo-upgrade,master,I9a6e8d74452a6990ec2d2e18ae543cd9a355400d,Use Python3 client for OSP15,MERGED,2019-09-09 10:56:02.000000000,2019-09-20 02:14:52.000000000,2019-09-20 02:14:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10068}, {'_account_id': 14287}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 29551}, {'_account_id': 30486}]","[{'number': 1, 'created': '2019-09-09 10:56:02.000000000', 'files': ['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4e2dd49cbb700dbc5d9b98a41a244f1d2fae28ca', 'message': 'Use Python3 client for OSP15\n\nRHOSINFRA-2743\n\nChange-Id: I9a6e8d74452a6990ec2d2e18ae543cd9a355400d\n'}]",0,680970,4e2dd49cbb700dbc5d9b98a41a244f1d2fae28ca,11,8,1,30957,,,0,"Use Python3 client for OSP15

RHOSINFRA-2743

Change-Id: I9a6e8d74452a6990ec2d2e18ae543cd9a355400d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/70/680970/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2'],1,4e2dd49cbb700dbc5d9b98a41a244f1d2fae28ca,python3_for_osp15,"sudo yum -y update {{ (current_release < 15) | ternary('python-tripleoclient', 'python3-tripleoclient') }}",sudo yum -y update python-tripleoclient,1,1
openstack%2Fpuppet-tripleo~master~I9e6ce53ea06aededbf3b96a986f2b27283484867,openstack/puppet-tripleo,master,I9e6ce53ea06aededbf3b96a986f2b27283484867,Add basic unit tests for tripleo::profile::base::keystone,MERGED,2019-09-17 01:15:17.000000000,2019-09-20 02:14:51.000000000,2019-09-20 02:14:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 01:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3ae21b02d4a5eecc0f5ab8ad35cbf51f3c60dd3d', 'message': 'Add basic unit tests for tripleo::profile::base::keystone\n\nChange-Id: I9e6ce53ea06aededbf3b96a986f2b27283484867\n'}, {'number': 2, 'created': '2019-09-17 01:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e5310adc74534b72386add8ed89f429f743a4880', 'message': 'Add basic unit tests for tripleo::profile::base::keystone\n\nChange-Id: I9e6ce53ea06aededbf3b96a986f2b27283484867\n'}, {'number': 3, 'created': '2019-09-17 02:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4ddf482029e75b76334416bf40cd3373b6febc86', 'message': 'Add basic unit tests for tripleo::profile::base::keystone\n\nChange-Id: I9e6ce53ea06aededbf3b96a986f2b27283484867\n'}, {'number': 4, 'created': '2019-09-17 03:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/68ac3bc91c50bac5c6718fdeb979130e5749c19e', 'message': 'Add basic unit tests for tripleo::profile::base::keystone\n\nChange-Id: I9e6ce53ea06aededbf3b96a986f2b27283484867\n'}, {'number': 5, 'created': '2019-09-17 04:15:00.000000000', 'files': ['spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_keystone_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6080f9291984a59b27034ba9d7349637b2678bdb', 'message': 'Add basic unit tests for tripleo::profile::base::keystone\n\nChange-Id: I9e6ce53ea06aededbf3b96a986f2b27283484867\n'}]",0,682519,6080f9291984a59b27034ba9d7349637b2678bdb,15,3,5,9816,,,0,"Add basic unit tests for tripleo::profile::base::keystone

Change-Id: I9e6ce53ea06aededbf3b96a986f2b27283484867
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/19/682519/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tripleo_profile_base_keystone_spec.rb'],1,3ae21b02d4a5eecc0f5ab8ad35cbf51f3c60dd3d,keystone-ut,"# # Copyright (C) 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::keystone' do let :params do { :step => 5, :bootstrap_node => 'node.example.com', :oslomsg_rpc_hosts => [ '192.168.0.1' ], :oslomsg_rpc_username => 'keystone1', :oslomsg_rpc_password => 'foo', :oslomsg_rpc_port => '1234', :oslomsg_notify_hosts => [ '192.168.0.2' ], :oslomsg_notify_username => 'keystone2', :oslomsg_notify_password => 'baa', :oslomsg_notify_port => '5678', :nova_api_enabled => true } end shared_examples_for 'tripleo::profile::base::keystone' do context 'with step less than 3' do before do params.merge!({ :step => 1 }) end it 'should do nothing' do is_expected.to contain_class('tripleo::profile::base::keystone') is_expected.to_not contain_class('keystone') is_expected.to_not contain_class('keystone::config') is_expected.to_not contain_class('keystone::logging') is_expected.to_not contain_class('tripleo::profile::base::apache') is_expected.to_not contain_class('keystone::keystone::wsgi::apache') is_expected.to_not contain_class('keystone::cors') is_expected.to_not contain_class('keystone::security_compliance') is_expected.to_not contain_class('keystone::ldap_backend') is_expected.to_not contain_class('keystone::federation::openidc') is_expected.to_not contain_class('keystone::cron::token_flush') is_expected.to_not contain_class('nova::keystone::auth') end end context 'with step 3 on bootstrap node' do before do params.merge!({ :step => 3 }) end it 'should trigger complete configuration' do is_expected.to contain_class('keystone').with( :default_transport_url => 'rabbit://keystone1:foo@192.168.0.1:1234/?ssl=0' :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0' ) is_expected.to contain_class('keystone::config') is_expected.to contain_class('keystone::logging') is_expected.to contain_class('tripleo::profile::base::apache') is_expected.to contain_class('keystone::keystone::wsgi::apache') is_expected.to contain_class('keystone::cors') is_expected.to contain_class('keystone::security_compliance') is_expected.to_not contain_class('keystone::ldap_backend') is_expected.to_not contain_class('keystone::federation::openidc') is_expected.to_not contain_class('keystone::cron::token_flush') is_expected.to contain_class('nova::keystone::auth') end end context 'with step 3 not on bootstrap node' do before do params.merge!( { :step => 3, :bootstrap_node => 'other.example.com' } ) end it 'should not trigger any configuration' do is_expected.to contain_class('tripleo::profile::base::keystone') is_expected.to_not contain_class('keystone') is_expected.to_not contain_class('keystone::config') is_expected.to_not contain_class('keystone::logging') is_expected.to_not contain_class('tripleo::profile::base::apache') is_expected.to_not contain_class('keystone::keystone::wsgi::apache') is_expected.to_not contain_class('keystone::cors') is_expected.to_not contain_class('keystone::security_compliance') is_expected.to_not contain_class('keystone::ldap_backend') is_expected.to_not contain_class('keystone::federation::openidc') is_expected.to_not contain_class('keystone::cron::token_flush') is_expected.to_not contain_class('nova::keystone::auth') end end context 'with step 4 on bootstrap node' do before do params.merge!({ :step => 4 }) end it 'should trigger keystone configuration' do is_expected.to contain_class('keystone').with( :default_transport_url => 'rabbit://keystone1:foo@192.168.0.1:1234/?ssl=0' :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0' ) is_expected.to contain_class('keystone::config') is_expected.to contain_class('keystone::logging') is_expected.to contain_class('tripleo::profile::base::apache') is_expected.to contain_class('keystone::keystone::wsgi::apache') is_expected.to contain_class('keystone::cors') is_expected.to contain_class('keystone::security_compliance') is_expected.to_not contain_class('keystone::ldap_backend') is_expected.to_not contain_class('keystone::federation::openidc') is_expected.to contain_class('keystone::cron::token_flush') is_expected.to_not contain_class('nova::keystone::auth') end end context 'with step 4 on other node' do before do params.merge!( { :step => 4, :bootstrap_node => 'other.example.com' } ) end it 'should trigger keystone configuration' do is_expected.to contain_class('keystone').with( :default_transport_url => 'rabbit://keystone1:foo@192.168.0.1:1234/?ssl=0' :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0' ) is_expected.to contain_class('keystone::config') is_expected.to contain_class('keystone::logging') is_expected.to contain_class('tripleo::profile::base::apache') is_expected.to contain_class('keystone::keystone::wsgi::apache') is_expected.to contain_class('keystone::cors') is_expected.to contain_class('keystone::security_compliance') is_expected.to_not contain_class('keystone::ldap_backend') is_expected.to_not contain_class('keystone::federation::openidc') is_expected.to contain_class('keystone::cron::token_flush') is_expected.to_not contain_class('nova::keystone::auth') end end context 'with step 4 and db_purge disabled' do before do params.merge!( { :step => 4, :bootstrap_node => 'other.example.com', :manage_db_purge => false } ) end it 'should not trigger token_flush configuration' do is_expected.to_not contain_class('keystone::cron::token_flush') end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({ :hostname => 'node.example.com' }) end it_behaves_like 'tripleo::profile::base::keystone' end end end ",,182,0
openstack%2Fansible-role-tripleo-modify-image~master~If9942c75ea786304ffe3aa6e28939708f8597ef3,openstack/ansible-role-tripleo-modify-image,master,If9942c75ea786304ffe3aa6e28939708f8597ef3,Update README examples on yum update/install,MERGED,2019-09-16 14:10:37.000000000,2019-09-20 01:58:16.000000000,2019-09-20 01:58:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-09-16 14:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/c47f6fcf7fbcac7a1fc870f5b3b3a1beeb33649f', 'message': 'Drop compare_host_packages from examples\n\nThis was dropped some time ago in\nc9d085729f62dfcfeeaecccf36c3c0161414afb7\n\nChange-Id: If9942c75ea786304ffe3aa6e28939708f8597ef3\n'}, {'number': 2, 'created': '2019-09-16 14:33:08.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/8c202730982e8f627f4bfedd59160b0e4f352f6a', 'message': 'Update README examples on yum update/install\n\nDrop compare_host_packages parameter and description from examples\nThis was dropped some time ago in\nc9d085729f62dfcfeeaecccf36c3c0161414afb7\n\nAlso highlight that only file repositories will be used in yum update\ntask\n\nChange-Id: If9942c75ea786304ffe3aa6e28939708f8597ef3\n'}]",0,682370,8c202730982e8f627f4bfedd59160b0e4f352f6a,10,4,2,21798,,,0,"Update README examples on yum update/install

Drop compare_host_packages parameter and description from examples
This was dropped some time ago in
c9d085729f62dfcfeeaecccf36c3c0161414afb7

Also highlight that only file repositories will be used in yum update
task

Change-Id: If9942c75ea786304ffe3aa6e28939708f8597ef3
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/70/682370/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c47f6fcf7fbcac7a1fc870f5b3b3a1beeb33649f,doc_cleanup,, compare_host_packages: true compare_host_packages: true,0,2
openstack%2Fmurano~master~I82a00f5f200fddcda2664eab87befbbe7496bf17,openstack/murano,master,I82a00f5f200fddcda2664eab87befbbe7496bf17,PDF documentation build,MERGED,2019-09-17 06:48:54.000000000,2019-09-20 01:54:04.000000000,2019-09-20 01:52:11.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 06:48:54.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/conf.py', 'doc/source/configuration/sample_config.rst', 'tox.ini', 'doc/source/configuration/config-options.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/80f794d92c74ef4bb8225b7454dece1f4abe9155', 'message': 'PDF documentation build\n\nChange-Id: I82a00f5f200fddcda2664eab87befbbe7496bf17\n'}]",0,682554,80f794d92c74ef4bb8225b7454dece1f4abe9155,10,2,1,14107,,,0,"PDF documentation build

Change-Id: I82a00f5f200fddcda2664eab87befbbe7496bf17
",git fetch https://review.opendev.org/openstack/murano refs/changes/54/682554/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/conf.py', 'doc/source/configuration/sample_config.rst', 'tox.ini', 'doc/source/configuration/config-options.rst']",5,80f794d92c74ef4bb8225b7454dece1f4abe9155,build-pdf-docs, .. only:: html A :doc:`sample configuration file <sample_config>` is also available.,A :doc:`sample configuration file <sample_config>` is also available.,47,7
openstack%2Fqinling-dashboard~master~I0d3f3925e2bc4440debfb08551b440b16d16503a,openstack/qinling-dashboard,master,I0d3f3925e2bc4440debfb08551b440b16d16503a,Sync Sphinx requirement,ABANDONED,2019-07-19 07:54:33.000000000,2019-09-20 01:53:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-19 07:54:33.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/e31ac96aba5645c1d92b45b21acadc69d7ff6b4d', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I0d3f3925e2bc4440debfb08551b440b16d16503a\n'}]",0,671670,e31ac96aba5645c1d92b45b21acadc69d7ff6b4d,5,3,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I0d3f3925e2bc4440debfb08551b440b16d16503a
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/70/671670/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,e31ac96aba5645c1d92b45b21acadc69d7ff6b4d,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Ftripleo-common~master~Ie57ab22b72b172985a3fff02bb4d8915c9df4152,openstack/tripleo-common,master,Ie57ab22b72b172985a3fff02bb4d8915c9df4152,mistral-executor image install novajoin package,MERGED,2019-09-17 03:23:36.000000000,2019-09-20 01:53:15.000000000,2019-09-20 01:52:08.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 03:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2d1f6af7cb18639331ea83d60b6e11e5053a315b', 'message': 'mistral-executor image install novajoin package\n\nThis is required in a nova-less scenario where the provision workflow\nneeds to include the novajoin cloud-init script in the config_drive\ndata so that the provisioned node can be registered with FreeIPA.\n\nChange-Id: Ie57ab22b72b172985a3fff02bb4d8915c9df4152\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2019-09-17 03:41:14.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/453bad6c77fd4d6c93262b1030fc104270e2f2b1', 'message': 'mistral-executor image install novajoin package\n\nThis is required in a nova-less scenario where the provision workflow\nneeds to include the novajoin cloud-init script in the config_drive\ndata so that the provisioned node can be registered with FreeIPA.\n\nChange-Id: Ie57ab22b72b172985a3fff02bb4d8915c9df4152\nBlueprint: nova-less-deploy\n'}]",0,682527,453bad6c77fd4d6c93262b1030fc104270e2f2b1,16,4,2,4571,,,0,"mistral-executor image install novajoin package

This is required in a nova-less scenario where the provision workflow
needs to include the novajoin cloud-init script in the config_drive
data so that the provisioned node can be registered with FreeIPA.

Change-Id: Ie57ab22b72b172985a3fff02bb4d8915c9df4152
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/27/682527/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,2d1f6af7cb18639331ea83d60b6e11e5053a315b,bp/nova-less-deploy,"# This installs the novajoin package in the nova/mistral container images; This # is required for TLS everywhere, as config_drive will contain the cloud-init # script provided by the novajoin package in order to enroll the nodes to the # CA{% set mistral_executor_packages_append = ['python3-novajoin'] %}{% set mistral_executor_packages_append = ['python-novajoin'] %}","# This installs the novajoin package in the nova container images; This is # required for TLS everywhere, as nova-api will use the cloud-init script # provided by the novajoin package in order to enroll the nodes to the CA",6,3
openstack%2Fswift~master~I7c251a758dfc1fedb3fb61e351de305b431afa79,openstack/swift,master,I7c251a758dfc1fedb3fb61e351de305b431afa79,We don't have to keep the retrieved token anymore,MERGED,2018-10-09 23:51:44.000000000,2019-09-20 01:53:11.000000000,2019-09-20 01:50:23.000000000,"[{'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-09 23:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a6b04cfcafa06da11da89eb3616b2416f2f1ca04', 'message': ""We don't have to keep the retrieved token anymore\n\nSince the change in s3_token_middleware to retrieve the auth info\nfrom keystone directly, now, we don't need to have any tokens provided\nby keystone in the request header as X-Auth-Token.\n\nNote that this makes the pipeline ordering change documented in the\nrelated changes mandatory, even when working with a v2 Keystone server.\n\nChange-Id: I7c251a758dfc1fedb3fb61e351de305b431afa79\nRelated-Change: I21e38884a2aefbb94b76c76deccd815f01db7362\nRelated-Change: Ic9af387b9192f285f0f486e7171eefb23968007e\n""}, {'number': 2, 'created': '2018-10-10 00:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/59ae982d507e8d9ffa560c8fe3dc7ab7bb6ee22b', 'message': ""We don't have to keep the retrieved token anymore\n\nSince the change in s3_token_middleware to retrieve the auth info\nfrom keystone directly, now, we don't need to have any tokens provided\nby keystone in the request header as X-Auth-Token.\n\nNote that this makes the pipeline ordering change documented in the\nrelated changes mandatory, even when working with a v2 Keystone server.\n\nChange-Id: I7c251a758dfc1fedb3fb61e351de305b431afa79\nRelated-Change: I21e38884a2aefbb94b76c76deccd815f01db7362\nRelated-Change: Ic9af387b9192f285f0f486e7171eefb23968007e\n""}, {'number': 3, 'created': '2018-12-12 00:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af2e058476253d10369a76f6063bdddbdb63ae2a', 'message': ""We don't have to keep the retrieved token anymore\n\nSince the change in s3_token_middleware to retrieve the auth info\nfrom keystone directly, now, we don't need to have any tokens provided\nby keystone in the request header as X-Auth-Token.\n\nNote that this makes the pipeline ordering change documented in the\nrelated changes mandatory, even when working with a v2 Keystone server.\n\nChange-Id: I7c251a758dfc1fedb3fb61e351de305b431afa79\nRelated-Change: I21e38884a2aefbb94b76c76deccd815f01db7362\nRelated-Change: Ic9af387b9192f285f0f486e7171eefb23968007e\n""}, {'number': 4, 'created': '2019-03-26 21:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92b3d93118199e82b64b2a9b7700c21eb6c89ad6', 'message': ""We don't have to keep the retrieved token anymore\n\nSince the change in s3_token_middleware to retrieve the auth info\nfrom keystone directly, now, we don't need to have any tokens provided\nby keystone in the request header as X-Auth-Token.\n\nNote that this makes the pipeline ordering change documented in the\nrelated changes mandatory, even when working with a v2 Keystone server.\n\nChange-Id: I7c251a758dfc1fedb3fb61e351de305b431afa79\nRelated-Change: I21e38884a2aefbb94b76c76deccd815f01db7362\nRelated-Change: Ic9af387b9192f285f0f486e7171eefb23968007e\n""}, {'number': 5, 'created': '2019-05-03 23:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/13ba43e8f8532b9cbc26d8b68aeee1cf4dda39d4', 'message': ""We don't have to keep the retrieved token anymore\n\nSince the change in s3_token_middleware to retrieve the auth info\nfrom keystone directly, now, we don't need to have any tokens provided\nby keystone in the request header as X-Auth-Token.\n\nNote that this makes the pipeline ordering change documented in the\nrelated changes mandatory, even when working with a v2 Keystone server.\n\nChange-Id: I7c251a758dfc1fedb3fb61e351de305b431afa79\nRelated-Change: I21e38884a2aefbb94b76c76deccd815f01db7362\nRelated-Change: Ic9af387b9192f285f0f486e7171eefb23968007e\n""}, {'number': 6, 'created': '2019-05-07 18:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0d0b9e873cffe9a9e0f54abb8f6dbcc1a8b0a0af', 'message': ""We don't have to keep the retrieved token anymore\n\nSince the change in s3_token_middleware to retrieve the auth info\nfrom keystone directly, now, we don't need to have any tokens provided\nby keystone in the request header as X-Auth-Token.\n\nNote that this makes the pipeline ordering change documented in the\nrelated changes mandatory, even when working with a v2 Keystone server.\n\nChange-Id: I7c251a758dfc1fedb3fb61e351de305b431afa79\nRelated-Change: I21e38884a2aefbb94b76c76deccd815f01db7362\nRelated-Change: Ic9af387b9192f285f0f486e7171eefb23968007e\n""}, {'number': 7, 'created': '2019-05-09 18:21:08.000000000', 'files': ['test/unit/common/middleware/s3api/test_s3token.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/subresource.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'swift/common/wsgi.py', 'test/unit/common/middleware/s3api/test_s3request.py', 'swift/common/middleware/s3api/s3token.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4aa71aa25caed34f36fafe2de025425aa1d1e0b2', 'message': ""We don't have to keep the retrieved token anymore\n\nSince the change in s3_token_middleware to retrieve the auth info\nfrom keystone directly, now, we don't need to have any tokens provided\nby keystone in the request header as X-Auth-Token.\n\nNote that this makes the pipeline ordering change documented in the\nrelated changes mandatory, even when working with a v2 Keystone server.\n\nChange-Id: I7c251a758dfc1fedb3fb61e351de305b431afa79\nRelated-Change: I21e38884a2aefbb94b76c76deccd815f01db7362\nRelated-Change: Ic9af387b9192f285f0f486e7171eefb23968007e\n""}]",13,609168,4aa71aa25caed34f36fafe2de025425aa1d1e0b2,29,3,7,15343,,,0,"We don't have to keep the retrieved token anymore

Since the change in s3_token_middleware to retrieve the auth info
from keystone directly, now, we don't need to have any tokens provided
by keystone in the request header as X-Auth-Token.

Note that this makes the pipeline ordering change documented in the
related changes mandatory, even when working with a v2 Keystone server.

Change-Id: I7c251a758dfc1fedb3fb61e351de305b431afa79
Related-Change: I21e38884a2aefbb94b76c76deccd815f01db7362
Related-Change: Ic9af387b9192f285f0f486e7171eefb23968007e
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/609168/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_s3token.py', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/middleware/s3api/test_s3request.py', 'swift/common/middleware/s3api/s3token.py']",5,a6b04cfcafa06da11da89eb3616b2416f2f1ca04,591862," return headers, access_info['token']['tenant'] return headers, token['project'] headers, tenant = parse_v2_response(token) elif 'token' in token: headers, tenant = parse_v3_response(token)"," return ( headers, access_info['token'].get('id'), access_info['token']['tenant']) return headers, None, token['project'] headers, token_id, tenant = parse_v2_response(token) elif 'token' in token: headers, token_id, tenant = parse_v3_response(token) req.headers['X-Auth-Token'] = token_id",45,65
openstack%2Fkeystone~master~I87425b54f471e66a9ab3974ab46c4b7f3838b962,openstack/keystone,master,I87425b54f471e66a9ab3974ab46c4b7f3838b962,Fix PostgreSQL specifc issue with credentials encoding,MERGED,2019-09-12 12:52:48.000000000,2019-09-20 01:52:28.000000000,2019-09-20 01:50:15.000000000,"[{'_account_id': 1916}, {'_account_id': 2062}, {'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 12:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ad6c8329842a625051b9fb246d0ca51bca4fad9', 'message': 'Fix PostgreSQL specifc issue credentials encoding\n\nDecoded the encrypted credential value to a string value before handing\nit over the database, when running under Python 3.x. Otherwise the\nunderlying database driver (e.g. psycopg2) might treat it as binary\ndata.\n\nChange-Id: I87425b54f471e66a9ab3974ab46c4b7f3838b962\nCloses-Bug: #1833739\n'}, {'number': 2, 'created': '2019-09-12 12:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ec3c750dfae0eef7f48af2fb25170add075d13da', 'message': 'Fix PostgreSQL specifc issue with credentials encoding\n\nDecode the encrypted credential value to a string value before handing\nit over the database, when running under Python 3.x. Otherwise the\nunderlying database driver (e.g. psycopg2) might treat it as binary\ndata.\n\nChange-Id: I87425b54f471e66a9ab3974ab46c4b7f3838b962\nCloses-Bug: #1833739\n'}, {'number': 3, 'created': '2019-09-13 07:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/259ccc8fdadfdc22e36466113fa25a2c21b7e2d1', 'message': 'Fix PostgreSQL specifc issue with credentials encoding\n\nDecode the encrypted credential value to a string value before handing\nit over the database, when running under Python 3.x. Otherwise the\nunderlying database driver (e.g. psycopg2) might treat it as binary\ndata.\n\nChange-Id: I87425b54f471e66a9ab3974ab46c4b7f3838b962\nCloses-Bug: #1833739\n'}, {'number': 4, 'created': '2019-09-17 15:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b4c50415c181b8263f80833784b2b6185c937439', 'message': 'Fix PostgreSQL specifc issue with credentials encoding\n\nDecode the encrypted credential value to a string value before handing\nit over the database, when running under Python 3.x. Otherwise the\nunderlying database driver (e.g. psycopg2) might treat it as binary\ndata.\n\nChange-Id: I87425b54f471e66a9ab3974ab46c4b7f3838b962\nCloses-Bug: #1833739\n'}, {'number': 5, 'created': '2019-09-18 09:46:53.000000000', 'files': ['keystone/tests/unit/credential/test_backend_sql.py', 'keystone/credential/backends/sql.py', 'releasenotes/notes/bug-1833739-f962e8caf3e22068.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a4be0cb9e842e4eca2023189b19113be76f3b4d0', 'message': 'Fix PostgreSQL specifc issue with credentials encoding\n\nDecode the encrypted credential value to a string value before handing\nit over the database, when running under Python 3.x. Otherwise the\nunderlying database driver (e.g. psycopg2) might treat it as binary\ndata.\n\nChange-Id: I87425b54f471e66a9ab3974ab46c4b7f3838b962\nCloses-Bug: #1833739\n'}]",0,681736,a4be0cb9e842e4eca2023189b19113be76f3b4d0,25,5,5,2062,,,0,"Fix PostgreSQL specifc issue with credentials encoding

Decode the encrypted credential value to a string value before handing
it over the database, when running under Python 3.x. Otherwise the
underlying database driver (e.g. psycopg2) might treat it as binary
data.

Change-Id: I87425b54f471e66a9ab3974ab46c4b7f3838b962
Closes-Bug: #1833739
",git fetch https://review.opendev.org/openstack/keystone refs/changes/36/681736/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/credential/backends/sql.py'],1,9ad6c8329842a625051b9fb246d0ca51bca4fad9,,"import sixfrom sqlalchemy.ext.hybrid import hybrid_property _encrypted_blob = sql.Column('encrypted_blob', sql.Text(), nullable=True) @hybrid_property def encrypted_blob(self): return self._encrypted_blob @encrypted_blob.setter def encrypted_blob(self, encrypted_blob): # Make sure to hand over the encrypted credential as a string value # to the backend driver to avoid the sql drivers (esp. psycopg2) # treating this as binary data and e.g. hex-escape it. if six.PY3 and isinstance(encrypted_blob, six.binary_type): encrypted_blob = encrypted_blob.decode('utf-8') self._encrypted_blob = encrypted_blob "," encrypted_blob = sql.Column(sql.Text(), nullable=True)",16,1
openstack%2Fswift~master~I95114c4aa670c07491d5a15db2341f65cb0d1344,openstack/swift,master,I95114c4aa670c07491d5a15db2341f65cb0d1344,Update the constraints url,MERGED,2019-07-03 07:09:00.000000000,2019-09-20 01:52:00.000000000,2019-09-20 01:50:17.000000000,"[{'_account_id': 15343}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 07:09:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/03512e001d95adadfea147e8a4051fce0aa9dfca', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I95114c4aa670c07491d5a15db2341f65cb0d1344\n'}]",0,668802,03512e001d95adadfea147e8a4051fce0aa9dfca,8,3,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I95114c4aa670c07491d5a15db2341f65cb0d1344
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/668802/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,03512e001d95adadfea147e8a4051fce0aa9dfca,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fswift~master~I7a2f19862817abf15e51463bd124293730451602,openstack/swift,master,I7a2f19862817abf15e51463bd124293730451602,Find .d pid files with swift-orphans,MERGED,2019-08-30 18:56:18.000000000,2019-09-20 01:50:19.000000000,2019-09-20 01:50:19.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-30 18:56:18.000000000', 'files': ['bin/swift-orphans'], 'web_link': 'https://opendev.org/openstack/swift/commit/e6e31410e093b426bfa5b9a2094be56c8406b6a2', 'message': 'Find .d pid files with swift-orphans\n\nChange-Id: I7a2f19862817abf15e51463bd124293730451602\n'}]",0,679497,e6e31410e093b426bfa5b9a2094be56c8406b6a2,8,2,1,15343,,,0,"Find .d pid files with swift-orphans

Change-Id: I7a2f19862817abf15e51463bd124293730451602
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/679497/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-orphans'],1,e6e31410e093b426bfa5b9a2094be56c8406b6a2,," if name.endswith(('.pid', '.pid.d')):", if name.endswith('.pid'):,1,1
openstack%2Fdevstack~master~Ib00b2313a4ab89198be98f1cbedc13d7a5d95220,openstack/devstack,master,Ib00b2313a4ab89198be98f1cbedc13d7a5d95220,"[DO NOT MERGE] Revert ""oscwrap: make a little quieter""",ABANDONED,2019-09-19 22:45:00.000000000,2019-09-20 01:44:31.000000000,,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-09-19 22:45:00.000000000', 'files': ['functions-common', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dfd3840567566e36412879a518e06c832d1b17fd', 'message': '[DO NOT MERGE] Revert ""oscwrap: make a little quieter""\n\nThis reverts commit 474f535a14598133728fedda884b437b1ce6e5e2.\n\nChange-Id: Ib00b2313a4ab89198be98f1cbedc13d7a5d95220\n'}]",0,683252,dfd3840567566e36412879a518e06c832d1b17fd,2,4,1,6484,,,0,"[DO NOT MERGE] Revert ""oscwrap: make a little quieter""

This reverts commit 474f535a14598133728fedda884b437b1ce6e5e2.

Change-Id: Ib00b2313a4ab89198be98f1cbedc13d7a5d95220
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/683252/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'stack.sh']",2,dfd3840567566e36412879a518e06c832d1b17fd,oscwrap,openstack complete | sudo tee /etc/bash_completion.d/osc.bash_completion > /dev/null,"# Note we use ""command"" to avoid the timing wrapper # which isn't relevant here and floods logs command openstack complete \ | sudo tee /etc/bash_completion.d/osc.bash_completion > /dev/null",1,9
openstack%2Fmagnum~master~I3771f196e0a84995d09547ea782f1e4bed2fc4b9,openstack/magnum,master,I3771f196e0a84995d09547ea782f1e4bed2fc4b9,Test gate,ABANDONED,2019-09-19 22:53:06.000000000,2019-09-20 01:44:23.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 22:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2917a785edf80cd37b2fc7dd238ef12cf7293e4f', 'message': 'Test gate\n\nDepends-On: Ib00b2313a4ab89198be98f1cbedc13d7a5d95220\n\nChange-Id: I3771f196e0a84995d09547ea782f1e4bed2fc4b9\n'}, {'number': 2, 'created': '2019-09-19 23:40:05.000000000', 'files': ['magnum/drivers/heat/template_def.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e0bc9a4b702e8137182980fbf96da788261de417', 'message': 'Test gate\n\nDepends-On: Ib00b2313a4ab89198be98f1cbedc13d7a5d95220\n\nChange-Id: I3771f196e0a84995d09547ea782f1e4bed2fc4b9\n'}]",0,683253,e0bc9a4b702e8137182980fbf96da788261de417,5,2,2,6484,,,0,"Test gate

Depends-On: Ib00b2313a4ab89198be98f1cbedc13d7a5d95220

Change-Id: I3771f196e0a84995d09547ea782f1e4bed2fc4b9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/53/683253/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/template_def.py'],1,2917a785edf80cd37b2fc7dd238ef12cf7293e4f,test-gate-1,A=1,,1,0
openstack%2Ftripleo-upgrade~stable%2Fstein~I2830211fe635434e14ba03900aad435bede1399d,openstack/tripleo-upgrade,stable/stein,I2830211fe635434e14ba03900aad435bede1399d,Explicitly make a list,MERGED,2019-09-17 15:15:17.000000000,2019-09-20 01:40:40.000000000,2019-09-20 01:40:40.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-17 15:15:17.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cbe62194280b5a14f320aa5dc0235c35ed900b21', 'message': 'Explicitly make a list\n\nIn python2 .keys() returns a list when in python3 it returns\n\\""{\'Compute\': dict_keys([\'compute-0\'])}\\""""}\nThis patch adds ""list"" filter to explicitly convert to list. The change\nis python2 and python3 compatible.\n\nChange-Id: I2830211fe635434e14ba03900aad435bede1399d\n(cherry picked from commit da75c68ec71f15ae928f6bf4cde1b261861ccb02)\n'}]",0,682674,cbe62194280b5a14f320aa5dc0235c35ed900b21,10,6,1,11090,,,0,"Explicitly make a list

In python2 .keys() returns a list when in python3 it returns
\""{'Compute': dict_keys(['compute-0'])}\""""}
This patch adds ""list"" filter to explicitly convert to list. The change
is python2 and python3 compatible.

Change-Id: I2830211fe635434e14ba03900aad435bede1399d
(cherry picked from commit da75c68ec71f15ae928f6bf4cde1b261861ccb02)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/74/682674/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/load_roles_from_inventory.yaml'],1,cbe62194280b5a14f320aa5dc0235c35ed900b21,fix_list-stable/stein," oc_roles_hosts: ""{{ oc_roles_hosts | combine({ item.key : inventory_yaml[item.key]['hosts'].keys()|list }) }}"""," oc_roles_hosts: ""{{ oc_roles_hosts | combine({ item.key : inventory_yaml[item.key]['hosts'].keys() }) }}""",1,1
openstack%2Ftripleo-puppet-elements~stable%2Fstein~Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d,openstack/tripleo-puppet-elements,stable/stein,Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d,Add proper permissions on script,MERGED,2019-09-17 04:32:49.000000000,2019-09-20 01:40:37.000000000,2019-09-20 01:40:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 04:32:49.000000000', 'files': ['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/fe41136a698544bf03526426f8ee38842976aec7', 'message': 'Add proper permissions on script\n\nChange Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added\nscript to stop and disable libvirtd on controller nodes.\nThis change adds proper permisions (755) on script to make\nit executable.\n\nChange-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d\n(cherry picked from commit 32c74e4a66831ea622b081e3e41c74299441e822)\n'}]",0,682534,fe41136a698544bf03526426f8ee38842976aec7,16,7,1,20733,,,0,"Add proper permissions on script

Change Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added
script to stop and disable libvirtd on controller nodes.
This change adds proper permisions (755) on script to make
it executable.

Change-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d
(cherry picked from commit 32c74e4a66831ea622b081e3e41c74299441e822)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/34/682534/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'],1,fe41136a698544bf03526426f8ee38842976aec7,disable_libvirt,,,0,0
openstack%2Ftripleo-puppet-elements~stable%2Frocky~Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d,openstack/tripleo-puppet-elements,stable/rocky,Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d,Add proper permissions on script,MERGED,2019-09-17 04:34:03.000000000,2019-09-20 01:29:40.000000000,2019-09-20 01:29:40.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 04:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/49a2fbe6c91c19dce193b4e06babd4076c8378cc', 'message': 'Add proper permissions on script\n\nChange Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added\nscript to stop and disable libvirtd on controller nodes.\nThis change adds proper permisions (755) on script to make\nit executable.\n\nChange-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d\n(cherry picked from commit 32c74e4a66831ea622b081e3e41c74299441e822)\n(cheery picked from commit fe41136a698544bf03526426f8ee38842976aec7)\n'}, {'number': 2, 'created': '2019-09-17 04:34:52.000000000', 'files': ['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a6884626752b7d6d7ee37fda6fa9ea7a9d2f3010', 'message': 'Add proper permissions on script\n\nChange Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added\nscript to stop and disable libvirtd on controller nodes.\nThis change adds proper permisions (755) on script to make\nit executable.\n\nChange-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d\n(cherry picked from commit 32c74e4a66831ea622b081e3e41c74299441e822)\n(cherry picked from commit fe41136a698544bf03526426f8ee38842976aec7)\n'}]",0,682535,a6884626752b7d6d7ee37fda6fa9ea7a9d2f3010,16,6,2,20733,,,0,"Add proper permissions on script

Change Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added
script to stop and disable libvirtd on controller nodes.
This change adds proper permisions (755) on script to make
it executable.

Change-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d
(cherry picked from commit 32c74e4a66831ea622b081e3e41c74299441e822)
(cherry picked from commit fe41136a698544bf03526426f8ee38842976aec7)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/35/682535/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'],1,49a2fbe6c91c19dce193b4e06babd4076c8378cc,disable_libvirt,,,0,0
openstack%2Fpatrole~master~Id0579ce285f24c24a57c6674f93798215848441d,openstack/patrole,master,Id0579ce285f24c24a57c6674f93798215848441d,Remove the Pike stable branch jobs from master gate,MERGED,2019-08-01 13:03:52.000000000,2019-09-20 01:21:37.000000000,2019-09-20 01:18:41.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-08-01 13:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7dd68f12832982b8cdf033e86cbf1af15dc9e475', 'message': 'Remove the Pike stable branch jobs from master gate\n\nPatrole 0.6.0 is released now, which marks the end of support\nfor Pike release - https://review.opendev.org/#/c/672485/\n\nWe do not need to run the Pike stable job om master gate now.\n\nChange-Id: Id0579ce285f24c24a57c6674f93798215848441d\n'}, {'number': 2, 'created': '2019-09-19 17:46:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/6d62df53bc57b99791f80c160e18140d8c9b1f2c', 'message': 'Remove the Pike stable branch jobs from master gate\n\nPatrole 0.6.0 is released now, which marks the end of support\nfor Pike release - https://review.opendev.org/#/c/672485/\n\nWe do not need to run the Pike stable job om master gate now.\n\nChange-Id: Id0579ce285f24c24a57c6674f93798215848441d\n'}]",0,674024,6d62df53bc57b99791f80c160e18140d8c9b1f2c,12,3,2,8556,,,0,"Remove the Pike stable branch jobs from master gate

Patrole 0.6.0 is released now, which marks the end of support
for Pike release - https://review.opendev.org/#/c/672485/

We do not need to run the Pike stable job om master gate now.

Change-Id: Id0579ce285f24c24a57c6674f93798215848441d
",git fetch https://review.opendev.org/openstack/patrole refs/changes/24/674024/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7dd68f12832982b8cdf033e86cbf1af15dc9e475,,, name: patrole-member-pike nodeset: openstack-single-node-xenial parent: patrole-member override-checkout: stable/pike vars: devstack_localrc: TEMPEST_PLUGINS: /opt/stack/patrole - job: - patrole-member-pike - patrole-member-pike,0,11
openstack%2Fcyborg~master~I3d9955c10063f0b3a9034be1ad090b8ecb01d6e7,openstack/cyborg,master,I3d9955c10063f0b3a9034be1ad090b8ecb01d6e7,Fix arq api errors in delete and unbind,ABANDONED,2019-09-18 14:39:22.000000000,2019-09-20 01:14:54.000000000,,"[{'_account_id': 14107}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-09-18 14:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/31a5eff77b2606183bd29a9c1b70e6a78cc3d39a', 'message': 'Fix arq api errors in delete and unbind\n\n1.change constants.ARQ_STATE_INITIAL to constants.ARQ_INITIAL\n2.reset attach_handle_id to None when unbind\n\nChange-Id: I3d9955c10063f0b3a9034be1ad090b8ecb01d6e7\n'}, {'number': 2, 'created': '2019-09-18 14:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cb371ab0b237789a1b795ca772524fd6bc11903b', 'message': 'Fix arq api errors in delete and unbind\n\n1.change constants.ARQ_STATE_INITIAL to constants.ARQ_INITIAL\n2.reset attach_handle_id to None when unbind\n\nChange-Id: I3d9955c10063f0b3a9034be1ad090b8ecb01d6e7\n'}, {'number': 3, 'created': '2019-09-19 04:12:40.000000000', 'files': ['cyborg/objects/ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5d778fe779bdbffb8e9180e067afa7374389d821', 'message': 'Fix arq api errors in delete and unbind\n\n1.change constants.ARQ_STATE_INITIAL to constants.ARQ_INITIAL\n2.reset attach_handle_id to None when unbind\n\nChange-Id: I3d9955c10063f0b3a9034be1ad090b8ecb01d6e7\n'}]",1,682913,5d778fe779bdbffb8e9180e067afa7374389d821,18,5,3,30159,,,0,"Fix arq api errors in delete and unbind

1.change constants.ARQ_STATE_INITIAL to constants.ARQ_INITIAL
2.reset attach_handle_id to None when unbind

Change-Id: I3d9955c10063f0b3a9034be1ad090b8ecb01d6e7
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/13/682913/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/ext_arq.py'],1,31a5eff77b2606183bd29a9c1b70e6a78cc3d39a,api_test, if obj_extarq.arq.state != constants.ARQ_INITIAL: self.attach_handle_id='', if obj_extarq.arq.state != constants.ARQ_STATE_INITIAL:,2,1
openstack%2Fswift~master~I7afa7e367103bb9caaf74788a49cd055eca53cf6,openstack/swift,master,I7afa7e367103bb9caaf74788a49cd055eca53cf6,Allow non-default domain to be used in func tests,MERGED,2019-08-05 21:49:29.000000000,2019-09-20 01:03:10.000000000,2019-09-20 01:00:02.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 21:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bef2bce4f833fa750ed4145ca953339dba1ee865', 'message': 'Allow non-default domain to be used in func tests\n\nChange-Id: I7afa7e367103bb9caaf74788a49cd055eca53cf6\n'}, {'number': 2, 'created': '2019-08-05 22:39:03.000000000', 'files': ['test/functional/__init__.py', 'test/functional/swift_test_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a48dd1950d2999cb7fdc2856a827da4780715b1e', 'message': 'Allow non-default domain to be used in func tests\n\nChange-Id: I7afa7e367103bb9caaf74788a49cd055eca53cf6\n'}]",0,674704,a48dd1950d2999cb7fdc2856a827da4780715b1e,9,2,2,15343,,,0,"Allow non-default domain to be used in func tests

Change-Id: I7afa7e367103bb9caaf74788a49cd055eca53cf6
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/674704/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/__init__.py', 'test/functional/swift_test_client.py']",2,bef2bce4f833fa750ed4145ca953339dba1ee865,674704," self.domain = config['domain'] if self.domain: os_opts = {'project_domain_name': self.domain, 'user_domain_name': self.domain} else: os_opts = {} auth_version=self.auth_version, os_options=os_opts,"," auth_version=self.auth_version, os_options={},",17,1
openstack%2Fswift~master~I5e9365f9147776d7d90c6ba889acbde3c0e6c19d,openstack/swift,master,I5e9365f9147776d7d90c6ba889acbde3c0e6c19d,Update the bandit.yaml available tests list,MERGED,2019-07-30 03:49:41.000000000,2019-09-20 01:01:47.000000000,2019-09-20 00:59:58.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 03:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5fb369ba2e339a6ab45e8d840cf54310ad843368', 'message': 'Update the bandit.yaml available tests list\n\nAccording to the bandit current version document,\nthe B109 and B111 plugin has been removed.\nAnd Add the following tests:\nComplete Test Plugin Listing: B507, B610, B611\nBlacklist Plugins Listing: B322, B323, B325, B413, B414\nReference URL: https://bandit.readthedocs.io/en/latest/plugins/index.html\n\nChange-Id: I5e9365f9147776d7d90c6ba889acbde3c0e6c19d\nCloses-Bug: #1838361\n'}, {'number': 2, 'created': '2019-07-30 03:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df69c5b1b95fc99fc48031c5b657f39d6c13df6c', 'message': 'Update the bandit.yaml available tests list\n\nAccording to the bandit current version document,\nthe B109 and B111 plugin has been removed.\nAnd Add the following tests:\nComplete Test Plugin Listing: B507, B610, B611, B703\nBlacklist Plugins Listing: B322, B323, B325, B413, B414\nReference URL: https://bandit.readthedocs.io/en/latest/plugins/index.html\n\nChange-Id: I5e9365f9147776d7d90c6ba889acbde3c0e6c19d\nCloses-Bug: #1838361\n'}, {'number': 3, 'created': '2019-07-30 05:46:31.000000000', 'files': ['bandit.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/c0035ed82e52756c9c04097fabba561a86da200a', 'message': 'Update the bandit.yaml available tests list\n\nAccording to the bandit current version document,\nthe B109 and B111 plugin has been removed.\nAnd Add the following tests:\nComplete Test Plugin Listing: B507, B610, B611, B703\nBlacklist Plugins Listing: B322, B323, B325, B413, B414\nReference URL: https://bandit.readthedocs.io/en/latest/plugins/index.html\n\nChange-Id: I5e9365f9147776d7d90c6ba889acbde3c0e6c19d\nCloses-Bug: #1838361\n'}]",0,673396,c0035ed82e52756c9c04097fabba561a86da200a,10,2,3,29062,,,0,"Update the bandit.yaml available tests list

According to the bandit current version document,
the B109 and B111 plugin has been removed.
And Add the following tests:
Complete Test Plugin Listing: B507, B610, B611, B703
Blacklist Plugins Listing: B322, B323, B325, B413, B414
Reference URL: https://bandit.readthedocs.io/en/latest/plugins/index.html

Change-Id: I5e9365f9147776d7d90c6ba889acbde3c0e6c19d
Closes-Bug: #1838361
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/673396/2 && git format-patch -1 --stdout FETCH_HEAD,['bandit.yaml'],1,5fb369ba2e339a6ab45e8d840cf54310ad843368,bug/1838361,# B322 : input # B323 : unverified_context # B325 : tempnam# B413 : import_pycrypto # B414 : import_pycryptodome# B507 : ssh_no_host_key_verification# B610 : django_extra_used # B611 : django_rawsql_used# B703 : django_mark_safe,# B109 : password_config_option_not_marked_secret# B111 : execute_with_run_as_root_equals_true,9,2
openstack%2Fswift~master~Ide5af2ae68fae0e5d6eb5c233a24388bb9942144,openstack/swift,master,Ide5af2ae68fae0e5d6eb5c233a24388bb9942144,Fix invalid assert states,MERGED,2019-07-03 08:49:06.000000000,2019-09-20 01:00:00.000000000,2019-09-20 00:59:59.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 08:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/35e108261576d00c9a3fcb42d6dfbfd1126554dd', 'message': ""Fix invalid assert states\n\nThis is to fix invalid assert states like:\n    self.assertTrue('sync_point2: 5', lines.pop().strip())\n    self.assertTrue('sync_point1: 5', lines.pop().strip())\n    self.assertTrue('bytes: 1100', lines.pop().strip())\n    self.assertTrue('deletes: 2', lines.pop().strip())\n    self.assertTrue('puts: 3', lines.pop().strip())\n    self.assertTrue('1', jobs_to_delete[0]['partition'])\nin which assertEqual should be used.\n\nChange-Id: Ide5af2ae68fae0e5d6eb5c233a24388bb9942144\n""}, {'number': 2, 'created': '2019-07-04 01:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6af522eb243f0a6b544c90a71e3d7ad6b0cf5744', 'message': ""(wip)Fix invalid assert states\n\nThis is to fix invalid assert states like:\n    self.assertTrue('sync_point2: 5', lines.pop().strip())\n    self.assertTrue('sync_point1: 5', lines.pop().strip())\n    self.assertTrue('bytes: 1100', lines.pop().strip())\n    self.assertTrue('deletes: 2', lines.pop().strip())\n    self.assertTrue('puts: 3', lines.pop().strip())\n    self.assertTrue('1', jobs_to_delete[0]['partition'])\nin which assertEqual should be used.\n\nChange-Id: Ide5af2ae68fae0e5d6eb5c233a24388bb9942144\n""}, {'number': 3, 'created': '2019-07-04 05:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9d80629f7cd33ae8467405b0f01dec6b6c278e18', 'message': ""(wip)Fix invalid assert states\n\nThis is to fix invalid assert states like:\n    self.assertTrue('sync_point2: 5', lines.pop().strip())\n    self.assertTrue('sync_point1: 5', lines.pop().strip())\n    self.assertTrue('bytes: 1100', lines.pop().strip())\n    self.assertTrue('deletes: 2', lines.pop().strip())\n    self.assertTrue('puts: 3', lines.pop().strip())\n    self.assertTrue('1', jobs_to_delete[0]['partition'])\nin which assertEqual should be used.\n\nChange-Id: Ide5af2ae68fae0e5d6eb5c233a24388bb9942144\n""}, {'number': 4, 'created': '2019-07-04 06:41:53.000000000', 'files': ['test/unit/container/test_sync.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0fec28ab155276d099d1d4c9fd377f3da539077b', 'message': ""Fix invalid assert states\n\nThis is to fix invalid assert states like:\n    self.assertTrue('sync_point2: 5', lines.pop().strip())\n    self.assertTrue('sync_point1: 5', lines.pop().strip())\n    self.assertTrue('bytes: 1100', lines.pop().strip())\n    self.assertTrue('deletes: 2', lines.pop().strip())\n    self.assertTrue('puts: 3', lines.pop().strip())\n    self.assertTrue('1', jobs_to_delete[0]['partition'])\nin which assertEqual should be used.\n\nChange-Id: Ide5af2ae68fae0e5d6eb5c233a24388bb9942144\n""}]",0,668829,0fec28ab155276d099d1d4c9fd377f3da539077b,12,2,4,20190,,,0,"Fix invalid assert states

This is to fix invalid assert states like:
    self.assertTrue('sync_point2: 5', lines.pop().strip())
    self.assertTrue('sync_point1: 5', lines.pop().strip())
    self.assertTrue('bytes: 1100', lines.pop().strip())
    self.assertTrue('deletes: 2', lines.pop().strip())
    self.assertTrue('puts: 3', lines.pop().strip())
    self.assertTrue('1', jobs_to_delete[0]['partition'])
in which assertEqual should be used.

Change-Id: Ide5af2ae68fae0e5d6eb5c233a24388bb9942144
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/668829/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sync.py', 'test/unit/obj/test_replicator.py']",2,35e108261576d00c9a3fcb42d6dfbfd1126554dd,assertTrue," self.assertEqual('1', jobs_to_delete[0]['partition'])"," self.assertTrue('1', jobs_to_delete[0]['partition'])",6,6
openstack%2Fkeystone~master~I958869ddd2f02cc11d83050bccb068827547595f,openstack/keystone,master,I958869ddd2f02cc11d83050bccb068827547595f,"""Unauthorized"" error message needs more hints",ABANDONED,2019-09-20 00:35:47.000000000,2019-09-20 00:45:31.000000000,,[],"[{'number': 1, 'created': '2019-09-20 00:35:47.000000000', 'files': ['releasenotes/notes/bug-1835303-25b7e55773b322be.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ca78ec29d283a1159bfa5ada8ba7915f3cc49757', 'message': '""Unauthorized"" error message needs more hints\n\nAdded a better text for Unauthorized error msg,\nwhen authorization fails or user/project/domain\nis disabled.\n\nChange-Id: I958869ddd2f02cc11d83050bccb068827547595f\nCloses-Bug: #1835303\n'}]",0,683259,ca78ec29d283a1159bfa5ada8ba7915f3cc49757,2,0,1,18044,,,0,"""Unauthorized"" error message needs more hints

Added a better text for Unauthorized error msg,
when authorization fails or user/project/domain
is disabled.

Change-Id: I958869ddd2f02cc11d83050bccb068827547595f
Closes-Bug: #1835303
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/683259/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1835303-25b7e55773b322be.yaml'],1,ca78ec29d283a1159bfa5ada8ba7915f3cc49757,bug/1835303,"--- fixes: - | [`bug 1835303 <https://bugs.launchpad.net/keystone/+bug/1835303>`_] In case of authentication failure or if authentication details are correct but user/project/domain is disabled, etc cases exception returned will be ""Failed to authenticate"". ",,7,0
openstack%2Foctavia-tempest-plugin~master~I6fd3c95aa6e80c35e4edb66eb80f2d90eaf6c747,openstack/octavia-tempest-plugin,master,I6fd3c95aa6e80c35e4edb66eb80f2d90eaf6c747,Fix spare_pool_enabled option type,MERGED,2019-09-19 14:23:10.000000000,2019-09-20 00:21:30.000000000,2019-09-20 00:20:25.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 14:23:10.000000000', 'files': ['octavia_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e037eb82f3f76664ad6cdcffa23a8ede07b5a3e4', 'message': 'Fix spare_pool_enabled option type\n\nspare_pool_enable option should be a boolean value, as used in\nSparePoolTest.skip_checks method.\n\nChange-Id: I6fd3c95aa6e80c35e4edb66eb80f2d90eaf6c747\n'}]",0,683168,e037eb82f3f76664ad6cdcffa23a8ede07b5a3e4,10,3,1,29244,,,0,"Fix spare_pool_enabled option type

spare_pool_enable option should be a boolean value, as used in
SparePoolTest.skip_checks method.

Change-Id: I6fd3c95aa6e80c35e4edb66eb80f2d90eaf6c747
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/68/683168/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/config.py'],1,e037eb82f3f76664ad6cdcffa23a8ede07b5a3e4,," cfg.BoolOpt('spare_pool_enabled', default=False, help=""Wether spare pool is available with amphora provider "" ""driver or not.""),"," cfg.StrOpt('spare_pool_enabled', default=False, help=""Wether spare pool is available with amphora provider "" ""driver or not.""),",4,4
openstack%2Fopenstack-ansible~master~I1eedde987ede3fb513ebefe19f6a2f92bd0c4c5e,openstack/openstack-ansible,master,I1eedde987ede3fb513ebefe19f6a2f92bd0c4c5e,Update ansible to 2.8.5,MERGED,2019-09-11 21:05:51.000000000,2019-09-20 00:10:34.000000000,2019-09-20 00:08:49.000000000,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-11 21:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af9a6e163b876586bff5fa6ea3e878edbc525eb1', 'message': 'Update ansible to 2.8.4\n\nChange-Id: I1eedde987ede3fb513ebefe19f6a2f92bd0c4c5e\n'}, {'number': 2, 'created': '2019-09-15 16:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/109cf143a6c225b9bc7f01a7fb901dec5e59792d', 'message': 'Update ansible to 2.8.4\n\nChange-Id: I1eedde987ede3fb513ebefe19f6a2f92bd0c4c5e\n'}, {'number': 3, 'created': '2019-09-15 16:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c7554a7439920d523cef18032fae675c717955d5', 'message': 'Update ansible to 2.8.5\n\nChange-Id: I1eedde987ede3fb513ebefe19f6a2f92bd0c4c5e\n'}, {'number': 4, 'created': '2019-09-18 19:24:06.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d6bc06e49a9446eee9430dcdbae3e3def835381', 'message': 'Update ansible to 2.8.5\n\nChange-Id: I1eedde987ede3fb513ebefe19f6a2f92bd0c4c5e\n'}]",0,681610,0d6bc06e49a9446eee9430dcdbae3e3def835381,15,5,4,25023,,,0,"Update ansible to 2.8.5

Change-Id: I1eedde987ede3fb513ebefe19f6a2f92bd0c4c5e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/681610/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,af9a6e163b876586bff5fa6ea3e878edbc525eb1,osa-update-ansible,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.8.4""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.8.3""}",1,1
openstack%2Ftrove~master~I7cf16820091a0f977b41e3222abb866a9ae66166,openstack/trove,master,I7cf16820091a0f977b41e3222abb866a9ae66166,Fix issue with pip2 command and update pip3 for mongodb,MERGED,2019-09-02 15:31:46.000000000,2019-09-19 23:56:00.000000000,2019-09-19 23:49:04.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-09-02 15:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/79c288a360c2846c596ee5d5a27463007e29cd2f', 'message': 'Fix issue with pip2 command and update pip3 for mongodb\n\nThis patch will fix following issue logs:\n\n   2019-09-02 15:11:13.121 | dib-run-parts Running /tmp/in_target.d/install.d/25-trove-mongo-dep\n   2019-09-02 15:11:13.124 | + pip2 install pymongo\n   2019-09-02 15:11:13.125 | /tmp/in_target.d/install.d/25-trove-mongo-dep: line 9: pip2: command not found\n\nAnd move on pip3.\n\nChange-Id: I7cf16820091a0f977b41e3222abb866a9ae66166\n'}, {'number': 2, 'created': '2019-09-12 10:11:30.000000000', 'files': ['integration/scripts/files/elements/ubuntu-xenial-mongodb/install.d/25-trove-mongo-dep', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/25-trove-mongo-dep', 'integration/scripts/files/elements/ubuntu-mongodb/pre-install.d/10-mongodb-apt-key'], 'web_link': 'https://opendev.org/openstack/trove/commit/38efc9725190e5d991f6f2630285f46bce9525e1', 'message': 'Fix issue with pip2 command and update pip3 for mongodb\n\nThis patch will fix following issue logs:\n\n   2019-09-02 15:11:13.121 | dib-run-parts Running /tmp/in_target.d/install.d/25-trove-mongo-dep\n   2019-09-02 15:11:13.124 | + pip2 install pymongo\n   2019-09-02 15:11:13.125 | /tmp/in_target.d/install.d/25-trove-mongo-dep: line 9: pip2: command not found\n\nAnd move on pip3.\n\nChange-Id: I7cf16820091a0f977b41e3222abb866a9ae66166\n'}]",0,679666,38efc9725190e5d991f6f2630285f46bce9525e1,17,3,2,25254,,,0,"Fix issue with pip2 command and update pip3 for mongodb

This patch will fix following issue logs:

   2019-09-02 15:11:13.121 | dib-run-parts Running /tmp/in_target.d/install.d/25-trove-mongo-dep
   2019-09-02 15:11:13.124 | + pip2 install pymongo
   2019-09-02 15:11:13.125 | /tmp/in_target.d/install.d/25-trove-mongo-dep: line 9: pip2: command not found

And move on pip3.

Change-Id: I7cf16820091a0f977b41e3222abb866a9ae66166
",git fetch https://review.opendev.org/openstack/trove refs/changes/66/679666/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-xenial-mongodb/install.d/25-trove-mongo-dep', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/25-trove-mongo-dep', 'integration/scripts/files/elements/ubuntu-mongodb/pre-install.d/10-mongodb-apt-key']",3,79c288a360c2846c596ee5d5a27463007e29cd2f,fix/pip_install_mongodb,apt-get --allow-unauthenticated -y install software-properties-common python3-pip,apt-get --allow-unauthenticated -y install software-properties-common,3,3
openstack%2Fnetworking-ovn~stable%2Frocky~I63d12861e1ff5d444d116188a2a122eca5c45af0,openstack/networking-ovn,stable/rocky,I63d12861e1ff5d444d116188a2a122eca5c45af0,Switch stable/rocky jobs to OVS 2.11 branch and remove master jobs,MERGED,2019-09-13 10:37:11.000000000,2019-09-19 23:16:08.000000000,2019-09-19 23:16:08.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-13 10:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f44cb13152cf5f1a0951350d7e7221cf0902894c', 'message': 'Switch stable/rocky jobs to OVS 2.11 branch\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n'}, {'number': 2, 'created': '2019-09-16 07:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58cf6279fb8282d6121d4a6cb66147f5c5fb2008', 'message': ""Switch stable/rocky jobs to OVS 2.11 branch and remove master jobs\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nWe don't want to test stable release against master OVS/OVN, so lets\nremove those jobs.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n""}, {'number': 3, 'created': '2019-09-18 06:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/04b3c286313e823cc62342bbe7c0304ee5a5a6c0', 'message': ""Switch stable/rocky jobs to OVS 2.11 branch and remove master jobs\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nWe don't want to test stable release against master OVS/OVN, so lets\nremove those jobs.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n""}, {'number': 4, 'created': '2019-09-18 12:32:05.000000000', 'files': ['devstack/devstackgaterc', 'zuul.d/networkin-ovn-rally-task.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional/run.yaml', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/run.yaml', 'devstack/lib/networking-ovn', 'zuul.d/project.yaml', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3ef2c9b4a9ed27c4b16ec0d7a6cbefd3f0cb1530', 'message': ""Switch stable/rocky jobs to OVS 2.11 branch and remove master jobs\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nWe don't want to test stable release against master OVS/OVN, so lets\nremove those jobs.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n""}]",8,682017,3ef2c9b4a9ed27c4b16ec0d7a6cbefd3f0cb1530,35,6,4,24791,,,0,"Switch stable/rocky jobs to OVS 2.11 branch and remove master jobs

While the master branch should change to build from the
new OVN repo, stable branches should build from a stable
version of it.

We don't want to test stable release against master OVS/OVN, so lets
remove those jobs.

Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>

Change-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0
(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/17/682017/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'zuul.d/networkin-ovn-rally-task.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional/run.yaml', 'devstack/lib/networking-ovn', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/run.yaml', 'devstack/upgrade/settings']",6,f44cb13152cf5f1a0951350d7e7221cf0902894c,,"devstack_localrc target OVN_BRANCH=""branch-2.11""","devstack_localrc target OVN_BRANCH=""master""",8,4
openstack%2Fopenstack-ansible-os_nova~master~I5eaa3cb6b3bcae96ff8ebebb368eb4a6fdfd1bae,openstack/openstack-ansible-os_nova,master,I5eaa3cb6b3bcae96ff8ebebb368eb4a6fdfd1bae,[redhat] Update variables to be version agnostic,MERGED,2019-05-10 04:31:08.000000000,2019-09-19 22:51:17.000000000,2019-09-19 22:49:46.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-10 04:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1e9dfd2a045fab257dbbda56ea8c321b5b708f65', 'message': ""[redhat] Update variables to be version agnostic\n\nThe RedHat-based operating systems such as CentOS have a pretty\nstable list of packages, therefore, we don't need to pin it by\nversion and we can instead move to a much more generic redhat.yml\nwhich will support a bigger range of systems.\n\nChange-Id: I5eaa3cb6b3bcae96ff8ebebb368eb4a6fdfd1bae\n""}, {'number': 2, 'created': '2019-05-10 04:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1f106fcd0d5bda065c42ef7123d0dbf75a17b515', 'message': ""[redhat] Update variables to be version agnostic\n\nThe RedHat-based operating systems such as CentOS have a pretty\nstable list of packages, therefore, we don't need to pin it by\nversion and we can instead move to a much more generic redhat.yml\nwhich will support a bigger range of systems.\n\nChange-Id: I5eaa3cb6b3bcae96ff8ebebb368eb4a6fdfd1bae\n""}, {'number': 3, 'created': '2019-05-10 04:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0b851fe992cce547145dae19f076edee290f8e32', 'message': ""[redhat] Update variables to be version agnostic\n\nThe RedHat-based operating systems such as CentOS have a pretty\nstable list of packages, therefore, we don't need to pin it by\nversion and we can instead move to a much more generic redhat.yml\nwhich will support a bigger range of systems.\n\nChange-Id: I5eaa3cb6b3bcae96ff8ebebb368eb4a6fdfd1bae\n""}, {'number': 4, 'created': '2019-09-19 16:37:22.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/83ddd84d90bd1ce512476fe4fb37ecf3553befc0', 'message': ""[redhat] Update variables to be version agnostic\n\nThe RedHat-based operating systems such as CentOS have a pretty\nstable list of packages, therefore, we don't need to pin it by\nversion and we can instead move to a much more generic redhat.yml\nwhich will support a bigger range of systems.\n\nChange-Id: I5eaa3cb6b3bcae96ff8ebebb368eb4a6fdfd1bae\n""}]",0,658259,83ddd84d90bd1ce512476fe4fb37ecf3553befc0,15,4,4,1004,,,0,"[redhat] Update variables to be version agnostic

The RedHat-based operating systems such as CentOS have a pretty
stable list of packages, therefore, we don't need to pin it by
version and we can instead move to a much more generic redhat.yml
which will support a bigger range of systems.

Change-Id: I5eaa3cb6b3bcae96ff8ebebb368eb4a6fdfd1bae
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/59/658259/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,1e9dfd2a045fab257dbbda56ea8c321b5b708f65,osa/el8-support," - ""qemu-kvm{% if ansible_distribution_major_version|int <= 7 %}-ev{% endif %}"" - ""qemu-img{% if ansible_distribution_major_version|int <= 7 %}-ev{% endif %}""", - qemu-kvm-ev - qemu-img-ev,2,2
openstack%2Fopenstack-ansible-os_masakari~master~I3056d383dc5248acc6c8bd3195b00b47e2ce95f3,openstack/openstack-ansible-os_masakari,master,I3056d383dc5248acc6c8bd3195b00b47e2ce95f3,Add uwsgi role to role requirements,MERGED,2019-09-12 11:37:36.000000000,2019-09-19 22:50:02.000000000,2019-09-19 22:48:51.000000000,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-12 11:37:36.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/786692dda1494945c6c4d893387b96d9337e2b7e', 'message': 'Add uwsgi role to role requirements\n\nIn order to satisfy linters we need to add uwsgi role into\ntests/ansible-role-requrements.yml\n\nChange-Id: I3056d383dc5248acc6c8bd3195b00b47e2ce95f3\n'}]",0,681724,786692dda1494945c6c4d893387b96d9337e2b7e,9,4,1,25023,,,0,"Add uwsgi role to role requirements

In order to satisfy linters we need to add uwsgi role into
tests/ansible-role-requrements.yml

Change-Id: I3056d383dc5248acc6c8bd3195b00b47e2ce95f3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/24/681724/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,786692dda1494945c6c4d893387b96d9337e2b7e,,- name: uwsgi src: https://opendev.org/openstack/ansible-role-uwsgi scm: git version: master,,4,0
openstack%2Fopenstack-ansible-os_nova~master~I27577ea263d38555e73ead078526cff1c3114b5a,openstack/openstack-ansible-os_nova,master,I27577ea263d38555e73ead078526cff1c3114b5a,Only clone console repos on source based installs,MERGED,2019-06-19 23:32:52.000000000,2019-09-19 22:47:13.000000000,2019-09-19 22:46:03.000000000,"[{'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-19 23:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/6797753809d5d790d0810dd1564b112989faa313', 'message': 'Only clone console repos on source based installs\n\nFor distro package based deployments, install the packaged nova console\nproxies and console clients packages instead of git repos.\n\nFor debian/ubuntu installs, use the console client packages directly so\nthat the service configs of console proxy services are managed by OSA.\n\nChange-Id: I27577ea263d38555e73ead078526cff1c3114b5a\n'}, {'number': 2, 'created': '2019-09-19 16:25:18.000000000', 'files': ['tasks/consoles/nova_console_spice_install.yml', 'tasks/consoles/nova_console_novnc_install.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f777a2de3612ecdd4aeb2b15e8363917e0b3f1a7', 'message': 'Only clone console repos on source based installs\n\nFor distro package based deployments, install the packaged nova console\nproxies and console clients packages instead of git repos.\n\nFor debian/ubuntu installs, use the console client packages directly so\nthat the service configs of console proxy services are managed by OSA.\n\nChange-Id: I27577ea263d38555e73ead078526cff1c3114b5a\n'}]",0,666463,f777a2de3612ecdd4aeb2b15e8363917e0b3f1a7,12,4,2,14805,,,0,"Only clone console repos on source based installs

For distro package based deployments, install the packaged nova console
proxies and console clients packages instead of git repos.

For debian/ubuntu installs, use the console client packages directly so
that the service configs of console proxy services are managed by OSA.

Change-Id: I27577ea263d38555e73ead078526cff1c3114b5a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/63/666463/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/consoles/nova_console_spice_install.yml', 'tasks/consoles/nova_console_novnc_install.yml', 'vars/debian.yml']",3,6797753809d5d790d0810dd1564b112989faa313,nova_console, - novnc - spice-html5, - nova-novncproxy - nova-spiceproxy,6,2
openstack%2Fdevstack~master~I1cb5399fe7ee6f0e547a9cfff70396aa2007632e,openstack/devstack,master,I1cb5399fe7ee6f0e547a9cfff70396aa2007632e,oscwrap: make a little quieter,MERGED,2019-08-07 23:17:11.000000000,2019-09-19 22:45:00.000000000,2019-09-13 10:00:44.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-08-07 23:17:11.000000000', 'files': ['functions-common', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/474f535a14598133728fedda884b437b1ce6e5e2', 'message': 'oscwrap: make a little quieter\n\nA huge part of the logs is irrelevant bash aliases captured by the\nopenstack client timing wrapper from the run of ""openstack complete"",\nwhich is only helpful on interactive systems where you\'ll interact\nwith the command line.  Call it directly to avoid capturing the logs.\n\nWhile we\'re here, turn off tracing inside the oscwrap function, which\nis called frequently.  It\'s not useful for debugging.\n\nChange-Id: I1cb5399fe7ee6f0e547a9cfff70396aa2007632e\n'}]",1,675226,474f535a14598133728fedda884b437b1ce6e5e2,11,4,1,7118,,,0,"oscwrap: make a little quieter

A huge part of the logs is irrelevant bash aliases captured by the
openstack client timing wrapper from the run of ""openstack complete"",
which is only helpful on interactive systems where you'll interact
with the command line.  Call it directly to avoid capturing the logs.

While we're here, turn off tracing inside the oscwrap function, which
is called frequently.  It's not useful for debugging.

Change-Id: I1cb5399fe7ee6f0e547a9cfff70396aa2007632e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/675226/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'stack.sh']",2,474f535a14598133728fedda884b437b1ce6e5e2,oscwrap,"# Note we use ""command"" to avoid the timing wrapper # which isn't relevant here and floods logs command openstack complete \ | sudo tee /etc/bash_completion.d/osc.bash_completion > /dev/null",openstack complete | sudo tee /etc/bash_completion.d/osc.bash_completion > /dev/null,9,1
openstack%2Fopenstack-ansible-os_neutron~master~I9fde3b7f615bb3c9f9f62722c659838ddc988a0b,openstack/openstack-ansible-os_neutron,master,I9fde3b7f615bb3c9f9f62722c659838ddc988a0b,Mark calico jobs as non voting due to python3 bug,MERGED,2019-09-18 08:19:40.000000000,2019-09-19 22:43:11.000000000,2019-09-19 22:39:41.000000000,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-18 08:19:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/47827304835054bb17bfde0ad0fa2678ffa517e5', 'message': 'Mark calico jobs as non voting due to python3 bug\n\nSee https://review.opendev.org/#/c/682338/\n\nChange-Id: I9fde3b7f615bb3c9f9f62722c659838ddc988a0b\n'}]",0,682830,47827304835054bb17bfde0ad0fa2678ffa517e5,11,5,1,25023,,,0,"Mark calico jobs as non voting due to python3 bug

See https://review.opendev.org/#/c/682338/

Change-Id: I9fde3b7f615bb3c9f9f62722c659838ddc988a0b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/30/682830/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,47827304835054bb17bfde0ad0fa2678ffa517e5,, - openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic: voting: false - openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic: voting: false, - openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic - openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic,4,2
openstack%2Fswift~master~I78be2ee5a7f1e5d3188ece98d7d8324f1c9bd0e3,openstack/swift,master,I78be2ee5a7f1e5d3188ece98d7d8324f1c9bd0e3,[train][goal] Run 'tempest-ipv6-only' job in gate,MERGED,2019-09-17 04:49:05.000000000,2019-09-19 22:33:36.000000000,2019-09-19 22:29:41.000000000,"[{'_account_id': 8556}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 04:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3905192e32d0478ffcac2f3192e51e46862a9871', 'message': ""[train][goal] Run 'tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the new job 'tempest-ipv6-only'(adding\nin Depends-On patch) which will deploy services on IPv6 and run smoke\ntests and IPv6 related tests present in Tempest.\n\nThis job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift\ngate.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.\n\nThis commit adds the new job 'tempest-ipv6-only' run on gate.\n\nStory: #2005477\nTask: #35932\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I78be2ee5a7f1e5d3188ece98d7d8324f1c9bd0e3\n""}, {'number': 2, 'created': '2019-09-17 12:48:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/75c9c636f2c637b0f36c705957f2204de6e405d0', 'message': ""[train][goal] Run 'tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the new job 'tempest-ipv6-only'(adding\nin Depends-On patch) which will deploy services on IPv6 and run smoke\ntests and IPv6 related tests present in Tempest.\n\nThis job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift\ngate.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.\n\nThis commit adds the new job 'tempest-ipv6-only' run on gate.\n\nStory: #2005477\nTask: #35932\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I78be2ee5a7f1e5d3188ece98d7d8324f1c9bd0e3\n""}]",0,682539,75c9c636f2c637b0f36c705957f2204de6e405d0,12,3,2,8556,,,0,"[train][goal] Run 'tempest-ipv6-only' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the new job 'tempest-ipv6-only'(adding
in Depends-On patch) which will deploy services on IPv6 and run smoke
tests and IPv6 related tests present in Tempest.

This job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift
gate.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.

This commit adds the new job 'tempest-ipv6-only' run on gate.

Story: #2005477
Task: #35932

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I78be2ee5a7f1e5d3188ece98d7d8324f1c9bd0e3
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/682539/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3905192e32d0478ffcac2f3192e51e46862a9871,ipv6-only-deployment-and-testing, - tempest-ipv6-only: irrelevant-files: - ^(api-ref|doc|releasenotes)/.*$ - ^test/.*$ - ^(.gitreview|.mailmap|AUTHORS|CHANGELOG)$ - grenade-py3: - tempest-ipv6-only: irrelevant-files: - ^(api-ref|doc|releasenotes)/.*$ - ^test/.*$ - ^(.gitreview|.mailmap|AUTHORS|CHANGELOG)$, - grenade-py3:,11,1
openstack%2Fpuppet-nova~master~Ibdd57bf303fc1b1e5e6572c107e8995674f84da2,openstack/puppet-nova,master,Ibdd57bf303fc1b1e5e6572c107e8995674f84da2,Register novajoin endpoint by default,ABANDONED,2019-09-18 05:19:08.000000000,2019-09-19 22:33:27.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 05:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/61aa53ef80f6d69a524f82e7fd4b4141de0edd34', 'message': 'Register novajoin endpoint by default\n\nThe novajoin docs for configure_endpoint say the default is true, but\nthe implementation is set to false. This change makes them consistent\nby making both true.\n\nThis has not been an issue because nova is configured in nova.conf for\nthe location of the novajoin endpoint. However for a nova-less\nundercloud it should be possible to discover the novajoin endpoint\nfrom the catalog so that other services (such as mistral during a\nworkflow) can discover the endpoint.\n\nChange-Id: Ibdd57bf303fc1b1e5e6572c107e8995674f84da2\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2019-09-18 20:48:33.000000000', 'files': ['spec/classes/nova_metadata_novajoin_auth_spec.rb', 'manifests/metadata/novajoin/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ff987d89461837fb837e04f4c7edaece51e60ac2', 'message': 'Register novajoin endpoint by default\n\nThe novajoin docs for configure_endpoint say the default is true, but\nthe implementation is set to false. This change makes them consistent\nby making both true.\n\nThis has not been an issue because nova is configured in nova.conf for\nthe location of the novajoin endpoint. However for a nova-less\nundercloud it should be possible to discover the novajoin endpoint\nfrom the catalog so that other services (such as mistral during a\nworkflow) can discover the endpoint.\n\nChange-Id: Ibdd57bf303fc1b1e5e6572c107e8995674f84da2\nBlueprint: nova-less-deploy\n'}]",0,682790,ff987d89461837fb837e04f4c7edaece51e60ac2,9,6,2,4571,,,0,"Register novajoin endpoint by default

The novajoin docs for configure_endpoint say the default is true, but
the implementation is set to false. This change makes them consistent
by making both true.

This has not been an issue because nova is configured in nova.conf for
the location of the novajoin endpoint. However for a nova-less
undercloud it should be possible to discover the novajoin endpoint
from the catalog so that other services (such as mistral during a
workflow) can discover the endpoint.

Change-Id: Ibdd57bf303fc1b1e5e6572c107e8995674f84da2
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/90/682790/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/metadata/novajoin/auth.pp'],1,61aa53ef80f6d69a524f82e7fd4b4141de0edd34,bp/nova-less-deploy," $configure_endpoint = true,"," $configure_endpoint = false,",1,1
openstack%2Fdevstack~master~I485ff57458e177ec1690045aca3d00732fb49e09,openstack/devstack,master,I485ff57458e177ec1690045aca3d00732fb49e09,Fix dnf being exercised when not present (CentOS),ABANDONED,2019-09-19 21:43:30.000000000,2019-09-19 22:20:27.000000000,,[],"[{'number': 1, 'created': '2019-09-19 21:43:30.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/672c52c75ebf598becd78b4de7920256ed42017e', 'message': 'Fix dnf being exercised when not present (CentOS)\n\nAs alternative (temp.) fix for the issue reported\nin patchset I5b15f2621666c5541af7c943b440a27cded23000\n\nChange-Id: I485ff57458e177ec1690045aca3d00732fb49e09\n'}]",0,683239,672c52c75ebf598becd78b4de7920256ed42017e,2,0,1,16385,,,0,"Fix dnf being exercised when not present (CentOS)

As alternative (temp.) fix for the issue reported
in patchset I5b15f2621666c5541af7c943b440a27cded23000

Change-Id: I485ff57458e177ec1690045aca3d00732fb49e09
",git fetch https://review.opendev.org/openstack/devstack refs/changes/39/683239/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,672c52c75ebf598becd78b4de7920256ed42017e,, type -P dnf &>/dev/null && sudo dnf copr enable -y iwienand/iscsi-initiator-utils type -P dnf &>/dev/null && sudo dnf update -y, sudo dnf copr enable -y iwienand/iscsi-initiator-utils sudo dnf update -y,2,2
openstack%2Fdevstack~master~I5b15f2621666c5541af7c943b440a27cded23000,openstack/devstack,master,I5b15f2621666c5541af7c943b440a27cded23000,"Revert ""Update for f29""",ABANDONED,2019-09-19 17:17:52.000000000,2019-09-19 22:14:08.000000000,,"[{'_account_id': 4146}, {'_account_id': 5803}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26106}, {'_account_id': 26297}, {'_account_id': 27900}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-19 17:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e995c0f2b554c33f657cff85a52e31f3b82b5dc9', 'message': 'Revert ""Update for f29""\n\nThis reverts commit ba50347526ea76b501dacf774ea6f0997361358c.\n\nChange-Id: I5b15f2621666c5541af7c943b440a27cded23000\n'}, {'number': 2, 'created': '2019-09-19 18:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/be6137fa47a98504e7d89d6c10b5077e6eb37dbc', 'message': 'Revert ""Update for f29""\n\nThis reverts commit ba50347526ea76b501dacf774ea6f0997361358c.\n\nDnf is not supported on RedHat and CentOs based OS.\nThe is_fedora function of devstack also applies\nto RedHat and CentOs based OS.\n\nChange-Id: I5b15f2621666c5541af7c943b440a27cded23000\n'}, {'number': 3, 'created': '2019-09-19 18:16:18.000000000', 'files': ['files/rpms/dstat', 'lib/nova', 'files/rpms/general', 'files/rpms/nova', 'files/rpms/swift', 'files/rpms/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/49635b7613e36f3032ad10e9b6e7b97da08750ea', 'message': 'Revert ""Update for f29""\n\nThis reverts commit ba50347526ea76b501dacf774ea6f0997361358c.\n\nDnf is not enabled by default on RedHat and CentOs based OS.\nThe is_fedora function of devstack also applies\nto RedHat and CentOs based OS, resulting in a failure\nwhen trying to execute dnf.\n\nChange-Id: I5b15f2621666c5541af7c943b440a27cded23000\n'}]",0,683208,49635b7613e36f3032ad10e9b6e7b97da08750ea,7,14,3,26106,,,0,"Revert ""Update for f29""

This reverts commit ba50347526ea76b501dacf774ea6f0997361358c.

Dnf is not enabled by default on RedHat and CentOs based OS.
The is_fedora function of devstack also applies
to RedHat and CentOs based OS, resulting in a failure
when trying to execute dnf.

Change-Id: I5b15f2621666c5541af7c943b440a27cded23000
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/683208/2 && git format-patch -1 --stdout FETCH_HEAD,"['files/rpms/dstat', 'lib/nova', 'files/rpms/general', 'files/rpms/nova', 'files/rpms/swift', 'files/rpms/cinder']",6,e995c0f2b554c33f657cff85a52e31f3b82b5dc9,fedora-latest,"scsi-target-utils # not:rhel7,f25,f26,f27,f28 NOPRIME targetcli # dist:rhel7,f25,f26,f27,f28 NOPRIME","scsi-target-utils # not:rhel7,f25,f26,f27,f28,f29 NOPRIME targetcli # dist:rhel7,f25,f26,f27,f28,f29 NOPRIME",7,18
openstack%2Fkolla~master~Ib094ae8fcc8468949b3cd162a1cedba3fdfd3a47,openstack/kolla,master,Ib094ae8fcc8468949b3cd162a1cedba3fdfd3a47,Add volume-related packages to zun-compute image,MERGED,2019-09-16 17:37:41.000000000,2019-09-19 22:11:18.000000000,2019-09-19 22:09:52.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-16 17:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f038f37c20f33cd7d4a81d2e028781509df6ae88', 'message': 'Add ceph-common package to zun-compute image\n\nThis lets Zun containers use Cinder volumes backed by Ceph.\n\nChange-Id: Ib094ae8fcc8468949b3cd162a1cedba3fdfd3a47\nRelated-bug: #1797448\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-09-18 13:34:51.000000000', 'files': ['docker/zun/zun-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ed29cb61b808187288479a050053ca8604b9a123', 'message': 'Add volume-related packages to zun-compute image\n\nThis lets Zun containers use Cinder volumes.\n\nZun-compute formats attached block devices.\next* and xfs are the most common filesystems and have tools\nincluded in other relevant images.\n\nIn case of Ceph ceph-common is required for rbd attachment.\n\niSCSI is supported via packages installed in base.\n\nChange-Id: Ib094ae8fcc8468949b3cd162a1cedba3fdfd3a47\nRelated-bug: #1797448\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,682437,ed29cb61b808187288479a050053ca8604b9a123,38,7,2,30491,,,0,"Add volume-related packages to zun-compute image

This lets Zun containers use Cinder volumes.

Zun-compute formats attached block devices.
ext* and xfs are the most common filesystems and have tools
included in other relevant images.

In case of Ceph ceph-common is required for rbd attachment.

iSCSI is supported via packages installed in base.

Change-Id: Ib094ae8fcc8468949b3cd162a1cedba3fdfd3a47
Related-bug: #1797448
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/37/682437/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/zun/zun-compute/Dockerfile.j2'],1,f038f37c20f33cd7d4a81d2e028781509df6ae88,zun-cinder," 'ceph-common',",,1,0
openstack%2Foctavia~stable%2Fstein~I334364d4654491bc0d289472ca9ab5fe462d5139,openstack/octavia,stable/stein,I334364d4654491bc0d289472ca9ab5fe462d5139,Validate server_certs_key_passphrase is 32 chars,MERGED,2019-09-19 09:15:08.000000000,2019-09-19 22:06:11.000000000,2019-09-19 22:04:25.000000000,"[{'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 09:15:08.000000000', 'files': ['octavia/tests/unit/common/test_config.py', 'releasenotes/notes/input-validation-server_certs_key_passphrase-6a9dfc190c9deba8.yaml', 'octavia/certificates/common/local.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b9881dc3adb65f59e0bcbda17d5876331de759f', 'message': 'Validate server_certs_key_passphrase is 32 chars\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n(cherry picked from commit a77667339d735ec0757d1e46d80f0010b1bb3d4f)\n'}]",0,683070,1b9881dc3adb65f59e0bcbda17d5876331de759f,9,4,1,6469,,,0,"Validate server_certs_key_passphrase is 32 chars

Fernet checks[1] for 32 characters long key, so Octavia should validate
the value provided for server_certs_key_passphrase, to reject an invalid
passphrase as early as possible.

This[2] Red Hat Bug showed a case in which an invalid passphrase got
configured, and as a result, Octavia was unable to create any
load balancers.

Related-bug: #1833942

[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051

Change-Id: I334364d4654491bc0d289472ca9ab5fe462d5139
(cherry picked from commit a77667339d735ec0757d1e46d80f0010b1bb3d4f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/683070/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/test_config.py', 'releasenotes/notes/input-validation-server_certs_key_passphrase-6a9dfc190c9deba8.yaml', 'octavia/certificates/common/local.py']",3,1b9881dc3adb65f59e0bcbda17d5876331de759f,OctaviaServerCertsKeyPassphrase-32chars-stable/stein," 'Private Keys. Must be 32, base64(url) compatible, ' 'characters long. Defaults to env[TLS_PASS_AMPS_DEFAULT] ' 'or insecure-key-do-not-use-this-key', regex=r'^[A-Za-z0-9\-_=]{32}$',"," 'Private Keys. Defaults to env[TLS_PASS_AMPS_DEFAULT] or ' 'insecure-key-do-not-use-this-key',",33,2
openstack%2Foctavia~stable%2Frocky~I334364d4654491bc0d289472ca9ab5fe462d5139,openstack/octavia,stable/rocky,I334364d4654491bc0d289472ca9ab5fe462d5139,Validate server_certs_key_passphrase is 32 chars,MERGED,2019-09-19 09:15:13.000000000,2019-09-19 22:06:09.000000000,2019-09-19 22:04:23.000000000,"[{'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 09:15:13.000000000', 'files': ['octavia/tests/unit/common/test_config.py', 'releasenotes/notes/input-validation-server_certs_key_passphrase-6a9dfc190c9deba8.yaml', 'octavia/certificates/common/local.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1756b19e4bc6e05598b1566af288a63a2bb95d19', 'message': 'Validate server_certs_key_passphrase is 32 chars\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n(cherry picked from commit a77667339d735ec0757d1e46d80f0010b1bb3d4f)\n'}]",0,683071,1756b19e4bc6e05598b1566af288a63a2bb95d19,9,4,1,6469,,,0,"Validate server_certs_key_passphrase is 32 chars

Fernet checks[1] for 32 characters long key, so Octavia should validate
the value provided for server_certs_key_passphrase, to reject an invalid
passphrase as early as possible.

This[2] Red Hat Bug showed a case in which an invalid passphrase got
configured, and as a result, Octavia was unable to create any
load balancers.

Related-bug: #1833942

[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051

Change-Id: I334364d4654491bc0d289472ca9ab5fe462d5139
(cherry picked from commit a77667339d735ec0757d1e46d80f0010b1bb3d4f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/683071/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/test_config.py', 'releasenotes/notes/input-validation-server_certs_key_passphrase-6a9dfc190c9deba8.yaml', 'octavia/certificates/common/local.py']",3,1756b19e4bc6e05598b1566af288a63a2bb95d19,OctaviaServerCertsKeyPassphrase-32chars-stable/stein-stable/rocky," 'Private Keys. Must be 32, base64(url) compatible, ' 'characters long. Defaults to env[TLS_PASS_AMPS_DEFAULT] ' 'or insecure-key-do-not-use-this-key', regex=r'^[A-Za-z0-9\-_=]{32}$',"," 'Private Keys. Defaults to env[TLS_PASS_AMPS_DEFAULT] or ' 'insecure-key-do-not-use-this-key',",33,2
openstack%2Foctavia~stable%2Fqueens~I334364d4654491bc0d289472ca9ab5fe462d5139,openstack/octavia,stable/queens,I334364d4654491bc0d289472ca9ab5fe462d5139,Validate server_certs_key_passphrase is 32 chars,MERGED,2019-09-19 09:15:19.000000000,2019-09-19 22:06:06.000000000,2019-09-19 22:04:24.000000000,"[{'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 09:15:19.000000000', 'files': ['octavia/tests/unit/common/test_config.py', 'releasenotes/notes/input-validation-server_certs_key_passphrase-6a9dfc190c9deba8.yaml', 'octavia/certificates/common/local.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1769de3549e81a965ed93bca3cbbd9daa9a5b87a', 'message': 'Validate server_certs_key_passphrase is 32 chars\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n(cherry picked from commit a77667339d735ec0757d1e46d80f0010b1bb3d4f)\n'}]",0,683072,1769de3549e81a965ed93bca3cbbd9daa9a5b87a,8,4,1,6469,,,0,"Validate server_certs_key_passphrase is 32 chars

Fernet checks[1] for 32 characters long key, so Octavia should validate
the value provided for server_certs_key_passphrase, to reject an invalid
passphrase as early as possible.

This[2] Red Hat Bug showed a case in which an invalid passphrase got
configured, and as a result, Octavia was unable to create any
load balancers.

Related-bug: #1833942

[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051

Change-Id: I334364d4654491bc0d289472ca9ab5fe462d5139
(cherry picked from commit a77667339d735ec0757d1e46d80f0010b1bb3d4f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/683072/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/test_config.py', 'releasenotes/notes/input-validation-server_certs_key_passphrase-6a9dfc190c9deba8.yaml', 'octavia/certificates/common/local.py']",3,1769de3549e81a965ed93bca3cbbd9daa9a5b87a,OctaviaServerCertsKeyPassphrase-32chars-stable/stein-stable/rocky-stable/queens," 'Private Keys. Must be 32, base64(url) compatible, ' 'characters long. Defaults to env[TLS_PASS_AMPS_DEFAULT] ' 'or insecure-key-do-not-use-this-key', regex=r'^[A-Za-z0-9\-_=]{32}$',"," 'Private Keys. Defaults to env[TLS_PASS_AMPS_DEFAULT] or ' 'insecure-key-do-not-use-this-key',",33,2
openstack%2Frequirements~master~I5ca5757925004e51e0b741c0fdc906663493986d,openstack/requirements,master,I5ca5757925004e51e0b741c0fdc906663493986d,update constraint for kuryr-lib to new release 1.1.1,MERGED,2019-09-16 16:52:12.000000000,2019-09-19 22:01:47.000000000,2019-09-19 22:00:43.000000000,"[{'_account_id': 11600}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:52:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7413ac4d5b93c942770e53c16b4f29b74025c721', 'message': 'update constraint for kuryr-lib to new release 1.1.1\n\nChange-Id: I5ca5757925004e51e0b741c0fdc906663493986d\nmeta:version: 1.1.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Michał Dulko <mdulko@redhat.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I0d3aef8518037db025e85daa6280935067d329ec\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682413,7413ac4d5b93c942770e53c16b4f29b74025c721,33,3,1,11131,,,0,"update constraint for kuryr-lib to new release 1.1.1

Change-Id: I5ca5757925004e51e0b741c0fdc906663493986d
meta:version: 1.1.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Michał Dulko <mdulko@redhat.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I0d3aef8518037db025e85daa6280935067d329ec
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/682413/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7413ac4d5b93c942770e53c16b4f29b74025c721,new-release,kuryr-lib===1.1.1,kuryr-lib===1.1.0,1,1
openstack%2Fkolla~master~Ie2195248443e37dc22b713ecd1eb6de2876446d3,openstack/kolla,master,Ie2195248443e37dc22b713ecd1eb6de2876446d3,Add package systemd-sysv to bifrost-deploy image,MERGED,2019-09-04 08:51:13.000000000,2019-09-19 21:23:37.000000000,2019-09-19 21:21:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30356}, {'_account_id': 30491}, {'_account_id': 30911}]","[{'number': 1, 'created': '2019-09-04 08:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a1287a8de20cb5ddb6929223da6dc439f63dbc83', 'message': 'Add package systemd-sysv to bifrost-deploy image\n\nCMD of image bifrost-deploy is set to ""/sbin/init"" which is part\nof package ""systemd-sysv"" on debian based distros:\n\ndpkg -S /sbin/init\nsystemd-sysv: /sbin/init\n\nTherefore systemd-sysv is added to bifrost-base for\nbase_package_type deb\n\nChange-Id: Ie2195248443e37dc22b713ecd1eb6de2876446d3\nCloses-Bug: 1840949\n'}, {'number': 2, 'created': '2019-09-04 11:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2341d81ef4cffaf6604e2f6c6f8b19588ae1ff79', 'message': 'Add package systemd-sysv to bifrost-deploy image\n\nCMD of image bifrost-deploy is set to ""/sbin/init"" which is part\nof package ""systemd-sysv"" on debian based distros:\n\ndpkg -S /sbin/init\nsystemd-sysv: /sbin/init\n\nTherefore systemd-sysv is added to bifrost-base for\nbase_package_type deb\n\nChange-Id: Ie2195248443e37dc22b713ecd1eb6de2876446d3\nCloses-Bug: 1840949\n'}, {'number': 3, 'created': '2019-09-05 07:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/842f05af7ec09256a43e374ba5d942a7242002d6', 'message': 'Add packages systemd-sysv/iptables to bifrost-deploy image\n\nCMD of image bifrost-deploy is set to ""/sbin/init"" which is part\nof package ""systemd-sysv"" on debian based distros:\n\ndpkg -S /sbin/init\nsystemd-sysv: /sbin/init\n\nTherefore systemd-sysv is added to bifrost-base for\nbase_package_type deb\n\nAdditionally bifrost wants to set firewall rules via iptables,\nwhich is missing in ubuntu bionic as well\n\nChange-Id: Ie2195248443e37dc22b713ecd1eb6de2876446d3\nCloses-Bug: 1840949\n'}, {'number': 4, 'created': '2019-09-05 12:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0c3ade862b290417bb78504ba48d95420e669b76', 'message': 'Add packages systemd-sysv/iptables to bifrost-deploy image\n\nCMD of image bifrost-deploy is set to ""/sbin/init"" which is part\nof package ""systemd-sysv"" on debian based distros:\n\ndpkg -S /sbin/init\nsystemd-sysv: /sbin/init\n\nTherefore systemd-sysv is added to bifrost-base for\nbase_package_type deb\n\nAdditionally bifrost wants to set firewall rules via iptables,\nwhich is missing in ubuntu bionic as well\n\nChange-Id: Ie2195248443e37dc22b713ecd1eb6de2876446d3\nCloses-Bug: 1840949\n'}, {'number': 5, 'created': '2019-09-05 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9e1b73f3475da7591b3edab899e56f31e70a2cb', 'message': 'Add packages systemd-sysv/iptables to bifrost-deploy image\n\nCMD of image bifrost-deploy is set to ""/sbin/init"" which is part\nof package ""systemd-sysv"" on debian based distros:\n\ndpkg -S /sbin/init\nsystemd-sysv: /sbin/init\n\nTherefore systemd-sysv is added to bifrost-base for\nbase_package_type deb\n\nAdditionally bifrost wants to set firewall rules via iptables,\nwhich is missing in ubuntu bionic as well\n\nChange-Id: Ie2195248443e37dc22b713ecd1eb6de2876446d3\nCloses-Bug: 1840949\n'}, {'number': 6, 'created': '2019-09-11 14:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e08d5d3f6d75b4c02e44b63e59b10c08f52a388d', 'message': 'Add package systemd-sysv to bifrost-deploy image\n\nCMD of image bifrost-deploy is set to ""/sbin/init"" which is part\nof package ""systemd-sysv"" on debian/centos distros.\n\nChange-Id: Ie2195248443e37dc22b713ecd1eb6de2876446d3\nCloses-Bug: 1840949\n'}, {'number': 7, 'created': '2019-09-16 12:05:38.000000000', 'files': ['docker/bifrost/bifrost-deploy/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b69af1ceca13c3a718503e89ca70cc23b1c3e3ce', 'message': 'Add package systemd-sysv to bifrost-deploy image\n\nCMD of image bifrost-deploy is set to ""/sbin/init"" which is part\nof package ""systemd-sysv"" on common systemd-based distros.\n\nChange-Id: Ie2195248443e37dc22b713ecd1eb6de2876446d3\nCloses-Bug: 1840949\n'}]",9,679936,b69af1ceca13c3a718503e89ca70cc23b1c3e3ce,72,8,7,30911,,,0,"Add package systemd-sysv to bifrost-deploy image

CMD of image bifrost-deploy is set to ""/sbin/init"" which is part
of package ""systemd-sysv"" on common systemd-based distros.

Change-Id: Ie2195248443e37dc22b713ecd1eb6de2876446d3
Closes-Bug: 1840949
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/679936/7 && git format-patch -1 --stdout FETCH_HEAD,['docker/bifrost/bifrost-base/Dockerfile.j2'],1,a1287a8de20cb5ddb6929223da6dc439f63dbc83,bug/1840949,RUN apt-get update && apt-get install -y systemd-sysv && \,RUN apt-get update && \,1,1
openstack%2Fkolla-ansible~master~I5610cc7729e9311709147ba5532199a033dfd156,openstack/kolla-ansible,master,I5610cc7729e9311709147ba5532199a033dfd156,"Update ""openstack_release"" variable to static brach name",MERGED,2019-09-12 02:06:42.000000000,2019-09-19 21:23:29.000000000,2019-09-19 21:21:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26970}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-12 02:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ce7bac73b112fb04acdd3b68f4d92ba72ce5f38', 'message': 'Update ""openstack_release"" variable to static brach name\n\nSince we use the release name as the default tag to publish images\nto Dockerhub, We should deprecate this ""detect-release.yml"".\n\nChange-Id: I5610cc7729e9311709147ba5532199a033dfd156\nCloses-Bug: #1843518\n'}, {'number': 2, 'created': '2019-09-16 09:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1335bae534225d8b5eb51e9956d013c0b1528b1b', 'message': 'Update ""openstack_release"" variable to static brach name\n\nSince we use the release name as the default tag to publish images\nto Dockerhub, We should deprecate this ""detect-release.yml"".\n\nChange-Id: I5610cc7729e9311709147ba5532199a033dfd156\nCloses-Bug: #1843518\n'}, {'number': 3, 'created': '2019-09-16 12:42:47.000000000', 'files': ['ansible/bifrost.yml', 'ansible/detect-release.yml', 'ansible/mariadb_recovery.yml', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'ansible/mariadb_backup.yml', 'releasenotes/notes/deprecated-auto-detect-openstack_release-d96b5ae2fc27f5ac.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4eceb48d2dd2496a9becd878cd55e3bdf67415b2', 'message': 'Update ""openstack_release"" variable to static brach name\n\nSince we use the release name as the default tag to publish images\nto Dockerhub, we should use this by default.\n\nThis change also removes support for the magic value ""auto"".\n\nChange-Id: I5610cc7729e9311709147ba5532199a033dfd156\nCloses-Bug: #1843518\n'}]",1,681633,4eceb48d2dd2496a9becd878cd55e3bdf67415b2,24,6,3,19779,,,0,"Update ""openstack_release"" variable to static brach name

Since we use the release name as the default tag to publish images
to Dockerhub, we should use this by default.

This change also removes support for the magic value ""auto"".

Change-Id: I5610cc7729e9311709147ba5532199a033dfd156
Closes-Bug: #1843518
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/681633/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/bifrost.yml', 'ansible/detect-release.yml', 'ansible/mariadb_recovery.yml', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'ansible/mariadb_backup.yml']",6,0ce7bac73b112fb04acdd3b68f4d92ba72ce5f38,bug/1843518,,- import_playbook: detect-release.yml vars: detect_release_hosts: mariadb ,1,33
openstack%2Fpuppet-openstacklib~master~I50830450efe7a13be801a31f4ef0333684c7837b,openstack/puppet-openstacklib,master,I50830450efe7a13be801a31f4ef0333684c7837b,Replace url with endpoint in credentials provider,MERGED,2019-09-13 16:37:39.000000000,2019-09-19 21:21:34.000000000,2019-09-19 21:21:34.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 16:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/dae8d0b25ccd9407151938539637048071dbee6a', 'message': '[WIP] Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[1] - https://review.opendev.org/677795\n\nChange-Id: I50830450efe7a13be801a31f4ef0333684c7837b\n'}, {'number': 2, 'created': '2019-09-13 18:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/5fbec0de54f366a26b191414d139628ba1a155c8', 'message': 'Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[1] - https://review.opendev.org/677795\n\nChange-Id: I50830450efe7a13be801a31f4ef0333684c7837b\n'}, {'number': 3, 'created': '2019-09-16 13:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0793baa7b56d7d278d4c5bab75213bd2d8469fdd', 'message': 'Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[1] - https://review.opendev.org/677795\n\nChange-Id: I50830450efe7a13be801a31f4ef0333684c7837b\n'}, {'number': 4, 'created': '2019-09-16 16:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/924c98ab00bca52008604545cc150582702d1237', 'message': 'Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[1] - https://review.opendev.org/677795\n\nChange-Id: I50830450efe7a13be801a31f4ef0333684c7837b\n'}, {'number': 5, 'created': '2019-09-17 11:15:59.000000000', 'files': ['spec/unit/provider/openstack/credentials_spec.rb', 'spec/unit/provider/openstack/auth_spec.rb', 'lib/puppet/provider/openstack/credentials.rb', 'lib/puppet/provider/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/03170a9383fd99ccca80bdee21f091258b314c8d', 'message': 'Replace url with endpoint in credentials provider\n\npython-openstackclient has removed the --os-url option in [1]. This\ncommit is part of the upcoming 4.0.0 release.\n\nThe openstack provider relies on that for Keystone initial configuration,\nso we need to fix this or puppet-keystone will be broken.\n\n[1] - https://review.opendev.org/677795\n\nChange-Id: I50830450efe7a13be801a31f4ef0333684c7837b\n'}]",0,682108,03170a9383fd99ccca80bdee21f091258b314c8d,22,5,5,13294,,,0,"Replace url with endpoint in credentials provider

python-openstackclient has removed the --os-url option in [1]. This
commit is part of the upcoming 4.0.0 release.

The openstack provider relies on that for Keystone initial configuration,
so we need to fix this or puppet-keystone will be broken.

[1] - https://review.opendev.org/677795

Change-Id: I50830450efe7a13be801a31f4ef0333684c7837b
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/08/682108/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/openstack/credentials_spec.rb', 'lib/puppet/provider/openstack/credentials.rb']",2,dae8d0b25ccd9407151938539637048071dbee6a,osc_train," :token, :endpoint, return true if @token && @endpoint"," :token, :url, return true if @token && @url",3,3
openstack%2Fopenstack-ansible-os_nova~stable%2Fstein~Ic5548f08d200402538a0334f801834ee7ef8a39b,openstack/openstack-ansible-os_nova,stable/stein,Ic5548f08d200402538a0334f801834ee7ef8a39b,tasks: add conditionals for ironic,MERGED,2019-07-31 17:12:28.000000000,2019-09-19 21:21:15.000000000,2019-09-19 21:19:42.000000000,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-31 17:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ec412310afa74b5da444d5ca35d2533d69a3ad39', 'message': ""tasks: add conditionals for ironic\n\nThis patch avoids running the nova_compute.yml playbook\nentirely because we already skip the setup portion and we\ndon't need to setup SSH keys (as there's no live migration)\nnor setting up NFS.\n\nIt also gets rid of the set_fact inside nova_virt_detect.yml\nbecause it was non-functional in the first place.  This is\nbecause the nova_virt_type was set to 'ironic' in the\ngroup_vars which meant that the autodetect code was\nskipped and therefore that portion never ran.\n\nChange-Id: Ic5548f08d200402538a0334f801834ee7ef8a39b\n(cherry picked from commit efe094aa674c1444473e55a178dfc98ea80e59ad)\n""}, {'number': 2, 'created': '2019-09-18 19:50:54.000000000', 'files': ['tasks/main.yml', 'tasks/nova_compute.yml', 'tasks/nova_install.yml', 'tasks/nova_virt_detect.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d4882729e78be372334a95b9f45675b78002f750', 'message': ""tasks: add conditionals for ironic\n\nThis patch avoids running the nova_compute.yml playbook\nentirely because we already skip the setup portion and we\ndon't need to setup SSH keys (as there's no live migration)\nnor setting up NFS.\n\nIt also gets rid of the set_fact inside nova_virt_detect.yml\nbecause it was non-functional in the first place.  This is\nbecause the nova_virt_type was set to 'ironic' in the\ngroup_vars which meant that the autodetect code was\nskipped and therefore that portion never ran.\n\nChange-Id: Ic5548f08d200402538a0334f801834ee7ef8a39b\n(cherry picked from commit efe094aa674c1444473e55a178dfc98ea80e59ad)\n""}]",0,673879,d4882729e78be372334a95b9f45675b78002f750,13,4,2,1004,,,0,"tasks: add conditionals for ironic

This patch avoids running the nova_compute.yml playbook
entirely because we already skip the setup portion and we
don't need to setup SSH keys (as there's no live migration)
nor setting up NFS.

It also gets rid of the set_fact inside nova_virt_detect.yml
because it was non-functional in the first place.  This is
because the nova_virt_type was set to 'ironic' in the
group_vars which meant that the autodetect code was
skipped and therefore that portion never ran.

Change-Id: Ic5548f08d200402538a0334f801834ee7ef8a39b
(cherry picked from commit efe094aa674c1444473e55a178dfc98ea80e59ad)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/79/673879/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/nova_compute.yml', 'tasks/nova_install.yml', 'tasks/nova_virt_detect.yml']",4,ec412310afa74b5da444d5ca35d2533d69a3ad39,fix-ironic-stable/stein, - nova_virt_type is not defined, - nova_virt_type is not defined - name: Remove lib linking for kvm with ironic set_fact: nova_compute_kvm_packages_to_symlink: [] when: - nova_virt_type == 'ironic' ,4,10
openstack%2Fkolla~master~I2555c640125f3fede1dd1715d70c0c36620f3d4c,openstack/kolla,master,I2555c640125f3fede1dd1715d70c0c36620f3d4c,Add kayobe to deliverables.yaml,MERGED,2019-08-04 18:15:21.000000000,2019-09-19 21:18:28.000000000,2019-09-19 21:16:44.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-04 18:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ccef25a3d9f079977033c88d2e3e32664053069f', 'message': 'Add kayobe to deliverables.yaml\n\nChange-Id: I2555c640125f3fede1dd1715d70c0c36620f3d4c\nDepends-On: https://review.opendev.org/669298\n'}, {'number': 2, 'created': '2019-09-16 16:36:55.000000000', 'files': ['deliverables.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/28f8d46dc938e5a9bfe3d08c75c7e35d5874c44a', 'message': 'Add kayobe to deliverables.yaml\n\nChange-Id: I2555c640125f3fede1dd1715d70c0c36620f3d4c\nDepends-On: https://review.opendev.org/669298\n'}]",0,674510,28f8d46dc938e5a9bfe3d08c75c7e35d5874c44a,21,5,2,14826,,,0,"Add kayobe to deliverables.yaml

Change-Id: I2555c640125f3fede1dd1715d70c0c36620f3d4c
Depends-On: https://review.opendev.org/669298
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/674510/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables.yaml'],1,ccef25a3d9f079977033c88d2e3e32664053069f,,- name: kayobe repository: https://opendev.org/openstack/kayobe,,2,0
openstack%2Fpuppet-cinder~master~I6a68505d15473b140c85a199a09d2fee45864800,openstack/puppet-cinder,master,I6a68505d15473b140c85a199a09d2fee45864800,Fix properties in cinder_type provider for osc >= 4.0.0,MERGED,2019-09-18 15:51:33.000000000,2019-09-19 21:09:19.000000000,2019-09-19 21:09:19.000000000,"[{'_account_id': 3153}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 15:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a7b57e06ccf97c02260943398dbe4c0790a4a5a6', 'message': '[WIP] Fix properties in cinder_type provider for osc >= 4.0.0\n\nOpenstackclient 4.0.0 changed the way some properties are displayed\non screen.\n\nOld:\n...,""Properties""\n...,""volume_backend_name=\'BACKEND_1\'""\n\nNew:\n...,""Properties""\n...,""{u\'volume_backend_name\': u\'BACKEND_1\'}""\n\nThis is breaking idempotency on the cinder_type provider, since it\ndoes not detect them correctly. This patch aims at fixing this, by\ntrying to detect the new format, and using JSON parsing in that case.\n\nChange-Id: I6a68505d15473b140c85a199a09d2fee45864800\n'}, {'number': 2, 'created': '2019-09-19 12:33:45.000000000', 'files': ['lib/puppet/provider/cinder_type/openstack.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5821ade2cfd44ab254bbf80ebb3048d69c26fdb2', 'message': 'Fix properties in cinder_type provider for osc >= 4.0.0\n\nOpenstackclient 4.0.0 changed the way some properties are displayed\non screen.\n\nOld:\n...,""Properties""\n...,""volume_backend_name=\'BACKEND_1\'""\n\nNew:\n...,""Properties""\n...,""{u\'volume_backend_name\': u\'BACKEND_1\'}""\nor\n...,""{\'volume_backend_name\': \'BACKEND_1\'}""\n\nThis is breaking idempotency on the cinder_type provider, since it\ndoes not detect them correctly. This patch aims at fixing this, by\ntrying to detect the new format, and using JSON parsing in that case.\n\nChange-Id: I6a68505d15473b140c85a199a09d2fee45864800\n'}]",3,682936,5821ade2cfd44ab254bbf80ebb3048d69c26fdb2,17,7,2,13294,,,0,"Fix properties in cinder_type provider for osc >= 4.0.0

Openstackclient 4.0.0 changed the way some properties are displayed
on screen.

Old:
...,""Properties""
...,""volume_backend_name='BACKEND_1'""

New:
...,""Properties""
...,""{u'volume_backend_name': u'BACKEND_1'}""
or
...,""{'volume_backend_name': 'BACKEND_1'}""

This is breaking idempotency on the cinder_type provider, since it
does not detect them correctly. This patch aims at fixing this, by
trying to detect the new format, and using JSON parsing in that case.

Change-Id: I6a68505d15473b140c85a199a09d2fee45864800
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/36/682936/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/cinder_type/openstack.rb'],1,a7b57e06ccf97c02260943398dbe4c0790a4a5a6,osc_train," type[:access_project_ids] = parsestring(type_details[:access_project_ids]) :properties => parsestring(type[:properties]), def self.pythondicttoarray(input) json_input = JSON.parse(input.gsub(/u'(\w*)'/, '""\1""')) output = [] json_input.each do | k, v | output = output + [""#{k}=#{v}""] end return output end def self.parsestring(input) if input[0] == '{' # 4.0.0+ output, python dict return self.pythondicttoarray(input) else # Pre-4.0.0 output, key=value return self.string2array(input) end end"," type[:access_project_ids] = string2array(type_details[:access_project_ids]) :properties => string2array(type[:properties]),",21,2
openstack%2Ftripleo-puppet-elements~stable%2Fqueens~Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d,openstack/tripleo-puppet-elements,stable/queens,Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d,Add proper permissions on script,MERGED,2019-09-17 04:35:42.000000000,2019-09-19 21:08:34.000000000,2019-09-19 21:08:34.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 04:35:42.000000000', 'files': ['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/2a58e3c1eb3433275b915d3bcf689f0cd24b3bc0', 'message': 'Add proper permissions on script\n\nChange Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added\nscript to stop and disable libvirtd on controller nodes.\nThis change adds proper permisions (755) on script to make\nit executable.\n\nChange-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d\n(cherry picked from commit 32c74e4a66831ea622b081e3e41c74299441e822)\n(cherry picked from commit fe41136a698544bf03526426f8ee38842976aec7)\n(cherry picked from commit a6884626752b7d6d7ee37fda6fa9ea7a9d2f3010)\n'}]",0,682537,2a58e3c1eb3433275b915d3bcf689f0cd24b3bc0,16,7,1,20733,,,0,"Add proper permissions on script

Change Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added
script to stop and disable libvirtd on controller nodes.
This change adds proper permisions (755) on script to make
it executable.

Change-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d
(cherry picked from commit 32c74e4a66831ea622b081e3e41c74299441e822)
(cherry picked from commit fe41136a698544bf03526426f8ee38842976aec7)
(cherry picked from commit a6884626752b7d6d7ee37fda6fa9ea7a9d2f3010)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/37/682537/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'],1,2a58e3c1eb3433275b915d3bcf689f0cd24b3bc0,disable_libvirt,,,0,0
openstack%2Fkolla~master~I6b8f52a1f2227ecb74e3ae59ef1e67d5b5ce1886,openstack/kolla,master,I6b8f52a1f2227ecb74e3ae59ef1e67d5b5ce1886,ppc64le: add UNBUILDABLE_IMAGES entries,MERGED,2019-09-13 14:34:19.000000000,2019-09-19 21:06:46.000000000,2019-09-19 21:04:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-13 14:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a71bc0149e5a4d039c0400025321d846f0c17fe3', 'message': 'ppc64le: add UNBUILDABLE_IMAGES entries\n\nChange-Id: I6b8f52a1f2227ecb74e3ae59ef1e67d5b5ce1886\n'}, {'number': 2, 'created': '2019-09-14 16:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1dd7e80a5ab0b41aba149e7053313af37b8b47d1', 'message': 'ppc64le: add UNBUILDABLE_IMAGES entries\n\nChange-Id: I6b8f52a1f2227ecb74e3ae59ef1e67d5b5ce1886\n'}, {'number': 3, 'created': '2019-09-19 07:22:39.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf3d051c733bfbe8e83331eb7076d13fffefed8d', 'message': 'ppc64le: add UNBUILDABLE_IMAGES entries\n\nChange-Id: I6b8f52a1f2227ecb74e3ae59ef1e67d5b5ce1886\n'}]",8,682068,bf3d051c733bfbe8e83331eb7076d13fffefed8d,29,5,3,24072,,,0,"ppc64le: add UNBUILDABLE_IMAGES entries

Change-Id: I6b8f52a1f2227ecb74e3ae59ef1e67d5b5ce1886
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/682068/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,a71bc0149e5a4d039c0400025321d846f0c17fe3,," 'ppc64le': { ""cyborg-base"", # no binary package ""grafana"", ""kibana"", # no binary package ""helm-repository"", # no binary ""monasca-grafana"", # no phantomJS ""opendaylight"", # no binary package ""prometheus-base"", # no ppc64le binaries ""telegraf"", # no binary package ""xtrabackup"", # no binary package }, ""tempest"", # ditto }, 'source+ppc64le': { ""monasca-base"", # pypi 'confluent-kafka' requires newer libfdkafka-dev # than distributions have ""tempest"", # ditto 'debian+ppc64le': { ""skydive-base"", # no binary package }, 'ubuntu+ppc64le': { ""sensu-base"", # no binary package ""skydive-base"", # no binary package }, 'centos+ppc64le': { ""elasticsearch"", # no binary package ""hacluster-pcs"", # no binary package ""influxdb"", # no binary package ""mongodb"", # no binary package }, "," ""tempest"", # no binary package",34,1
openstack%2Fneutron~master~I3e89aca8bedfd2912effe2490718223f7d03133e,openstack/neutron,master,I3e89aca8bedfd2912effe2490718223f7d03133e,Fix race condition when getting cmdline,MERGED,2019-09-18 08:57:23.000000000,2019-09-19 20:40:15.000000000,2019-09-19 14:02:30.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-18 08:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5747bc1c33292834697820bfd6c8b9dee2cd9f7d', 'message': 'Fix race condition when getting cmdline\n\nEven though we check for the existence of the process before, it may\nstill terminate before we get to read its command line, so catch the\nerror that can occur here.\n\nChange-Id: I3e89aca8bedfd2912effe2490718223f7d03133e\nCloses-Bug: 1844500\n'}, {'number': 2, 'created': '2019-09-18 14:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ecc674847fa3ab67698808053a0e1bbd151273aa', 'message': 'Fix race condition when getting cmdline\n\nEven though we check for the existence of the process before, it may\nstill terminate before we get to read its command line, so catch the\nerror that can occur here.\n\nChange-Id: I3e89aca8bedfd2912effe2490718223f7d03133e\nCloses-Bug: 1844500\n'}, {'number': 3, 'created': '2019-09-19 01:32:45.000000000', 'files': ['neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3330bc01cbdecb12be9c30d78f648710f374d23e', 'message': 'Fix race condition when getting cmdline\n\nEven though we check for the existence of the process before, it may\nstill terminate before we get to read its command line, so catch the\nerror that can occur here.\n\nChange-Id: I3e89aca8bedfd2912effe2490718223f7d03133e\nCloses-Bug: 1844500\n'}]",5,682840,3330bc01cbdecb12be9c30d78f648710f374d23e,28,8,3,13252,,,0,"Fix race condition when getting cmdline

Even though we check for the existence of the process before, it may
still terminate before we get to read its command line, so catch the
error that can occur here.

Change-Id: I3e89aca8bedfd2912effe2490718223f7d03133e
Closes-Bug: 1844500
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/682840/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/utils.py'],1,5747bc1c33292834697820bfd6c8b9dee2cd9f7d,bug/1844500," # NOTE(jh): Even after the above check, the process may terminate # before the open below happens try: with open('/proc/%s/cmdline' % pid, 'r') as f: cmdline = f.readline().split('\0')[:-1] except IOError: return [] # NOTE(slaweq): sometimes it may happen that values in # /proc/{pid}/cmdline are separated by space instead of NUL char, # in such case we would have everything in one element of cmdline_args # list and it would not match to expected cmd so we need to try to # split it by spaces if len(cmdline) == 1: cmdline = cmdline[0].split(' ') LOG.debug(""Found cmdline %s for process with PID %s."", cmdline, pid) return cmdline"," with open('/proc/%s/cmdline' % pid, 'r') as f: cmdline = f.readline().split('\0')[:-1] # NOTE(slaweq): sometimes it may happen that values in # /proc/{pid}/cmdline are separated by space instead of NUL char, # in such case we would have everything in one element of cmdline_args # list and it would not match to expected cmd so we need to try to # split it by spaces if len(cmdline) == 1: cmdline = cmdline[0].split(' ') LOG.debug(""Found cmdline %s for process with PID %s."", cmdline, pid) return cmdline",16,11
openstack%2Fopenstack-helm-addons~master~I638cba69632d8088cc63830a7471d08bae6ed6ef,openstack/openstack-helm-addons,master,I638cba69632d8088cc63830a7471d08bae6ed6ef,Change Ranger-agent helm test to invoke internal service address,MERGED,2019-09-19 16:13:16.000000000,2019-09-19 20:28:23.000000000,2019-09-19 20:28:23.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 21111}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22786}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-09-19 16:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b0605e2f4957403b3f2a8dbf0195a09836cd3ee5', 'message': 'Ranger-agent helm test to use internal service address\n\nChange-Id: I638cba69632d8088cc63830a7471d08bae6ed6ef\n'}, {'number': 2, 'created': '2019-09-19 16:21:50.000000000', 'files': ['ranger-agent/templates/pod-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/8564e335b9957fc90e79fbf3c8b8875f32a1a132', 'message': 'Change Ranger-agent helm test to invoke internal service address\n\nChange-Id: I638cba69632d8088cc63830a7471d08bae6ed6ef\n'}]",0,683199,8564e335b9957fc90e79fbf3c8b8875f32a1a132,10,8,2,24999,,,0,"Change Ranger-agent helm test to invoke internal service address

Change-Id: I638cba69632d8088cc63830a7471d08bae6ed6ef
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/99/683199/1 && git format-patch -1 --stdout FETCH_HEAD,['ranger-agent/templates/pod-test.yaml'],1,b0605e2f4957403b3f2a8dbf0195a09836cd3ee5,," value: {{ tuple ""ranger_agent"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" }}"," value: {{ tuple ""ranger_agent"" ""public"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" }}",1,1
openstack%2Fnova~master~I492803eaacc34c69af073689f9159449557919db,openstack/nova,master,I492803eaacc34c69af073689f9159449557919db,hardware: Differentiate between shared and dedicated CPUs,MERGED,2019-07-19 18:17:15.000000000,2019-09-19 20:20:47.000000000,2019-09-19 20:15:32.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2019-07-19 18:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fea0d1baf698f990663d3fe1593c4104cc6f14b2', 'message': ""WIP: hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently.\n\nOn a somewhat unrelated aside, this whole hardware file really needs to\nbe rewritten. It's horrible.\n\nTODO: The entire upgrade flow is broken with this as-is. We need to\nhandle (a) compute nodes that return legacy versions of the NUMACell\nobject and (b) NUMACell objects with legacy fields set.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-07-21 13:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec6614d128cae5e95b0b6809c8e1d1e5ae184dce', 'message': ""WIP: hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently.\n\nOn a somewhat unrelated aside, this whole hardware file really needs to\nbe rewritten. It's horrible.\n\nTODO: The entire upgrade flow is broken with this as-is. We need to\nhandle (a) compute nodes that return legacy versions of the NUMACell\nobject and (b) NUMACell objects with legacy fields set.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-07-22 16:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/073909153e5386935cd62dc0a49af575ee67d5d1', 'message': ""WIP: hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently.\n\nOn a somewhat unrelated aside, this whole hardware file really needs to\nbe rewritten. It's horrible.\n\nTODO: The entire upgrade flow is broken with this as-is. We need to\nhandle (a) compute nodes that return legacy versions of the NUMACell\nobject and (b) NUMACell objects with legacy fields set.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-07-23 17:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/872b32d092a3fc53159c760463df12d3aaa04321', 'message': ""WIP: hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently.\n\nOn a somewhat unrelated aside, this whole hardware file really needs to\nbe rewritten. It's horrible.\n\nTODO: The entire upgrade flow is broken with this as-is. We need to\nhandle (a) compute nodes that return legacy versions of the NUMACell\nobject and (b) NUMACell objects with legacy fields set.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-07-24 15:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd9f7af1d02745c13bf8f1ab7e698ac7992ac311', 'message': ""WIP: hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently.\n\nOn a somewhat unrelated aside, this whole hardware file really needs to\nbe rewritten. It's horrible.\n\nTODO: The entire upgrade flow is broken with this as-is. We need to\nhandle (a) compute nodes that return legacy versions of the NUMACell\nobject and (b) NUMACell objects with legacy fields set.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-07-24 17:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac4fbc3760237d7aa7cc7ecd550515847762bdfe', 'message': ""WIP: hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently.\n\nOn a somewhat unrelated aside, this whole hardware file really needs to\nbe rewritten. It's horrible.\n\nTODO: The entire upgrade flow is broken with this as-is. We need to\nhandle (a) compute nodes that return legacy versions of the NUMACell\nobject and (b) NUMACell objects with legacy fields set.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-07-24 17:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/911f406e5e76ae544da4234a50022e2d374cb85c', 'message': ""WIP: hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently.\n\nOn a somewhat unrelated aside, this whole hardware file really needs to\nbe rewritten. It's horrible.\n\nTODO: The entire upgrade flow is broken with this as-is. We need to\nhandle (a) compute nodes that return legacy versions of the NUMACell\nobject and (b) NUMACell objects with legacy fields set.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-07-25 11:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69cbd340a271adf287e9a3c39bd534ab189e4fd0', 'message': ""WIP: hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently.\n\nOn a somewhat unrelated aside, this whole hardware file really needs to\nbe rewritten. It's horrible.\n\nTODO: The entire upgrade flow is broken with this as-is. We need to\nhandle (a) compute nodes that return legacy versions of the NUMACell\nobject and (b) NUMACell objects with legacy fields set.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-08-01 18:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a7dd93a46df6e3f2c6221e1ae4964a56b21d6f3', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) instead of overriding\n  'nova.virt.hardware.get_vcpu_pin_set'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-08-02 18:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9e5acde0eb150121ae2241610717a6b64bf0c6e', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-08-04 20:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/732161e7d0d0d295610312d6e5b3ab5000d04f17', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2019-08-06 09:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38996ed9ac7c9607213481aadd08ba8bc3abd1a5', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 13, 'created': '2019-08-06 11:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c20118fe94ef4668e3e1e8c8f96cd07d8fcd048', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 14, 'created': '2019-08-20 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bb5d90fef2edb5403b854436cb3886c2015153e', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 15, 'created': '2019-08-20 17:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e20c50a13de5ac6d84985ef84adc035cbc7939c', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 16, 'created': '2019-08-20 20:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/695172d3524b0dbd5b156bb917220a3a0f998128', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 17, 'created': '2019-08-22 15:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a9663a4da236e61d5a73139a95c110ecffa3cee', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 18, 'created': '2019-08-22 18:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e972c31e0ee0b40e5e39a89de9bfaa0a9555d50', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nA future change will rename most of the fields on the 'NUMATopology'\nobject to use more sensible names, but that's a separate change that\nshouldn't be done here.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 19, 'created': '2019-08-23 16:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfc812d97284fc4e0f0ef860970cce28f181cd33', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this (hint: if we were\n  testing something to do with a instance NUMA topology with pinning,\n  we need to migrate the host NUMA topology to 'pcpuset')\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 20, 'created': '2019-08-23 16:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8eb6b703230d9fb720738777ef4ac0914638baa', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this (hint: if we were\n  testing something to do with a instance NUMA topology with pinning,\n  we need to migrate the host NUMA topology to 'pcpuset')\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 21, 'created': '2019-08-26 03:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/292bb012bc22e58cd0cac28852ba0a6da348de97', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this (hint: if we were\n  testing something to do with a instance NUMA topology with pinning,\n  we need to migrate the host NUMA topology to 'pcpuset')\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 22, 'created': '2019-08-27 16:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb7a11085f6afdd5c432ac18873d27597772c000', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this (hint: if we were\n  testing something to do with a instance NUMA topology with pinning,\n  we need to migrate the host NUMA topology to 'pcpuset')\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 23, 'created': '2019-09-02 10:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81c2e08972ee140486f962b9d23f251f73116cb6', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this (hint: if we were\n  testing something to do with a instance NUMA topology with pinning,\n  we need to migrate the host NUMA topology to 'pcpuset')\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 24, 'created': '2019-09-03 10:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47f26592f8ae285e305d5c5688d9a7b3e4105887', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this (hint: if we were\n  testing something to do with a instance NUMA topology with pinning,\n  we need to migrate the host NUMA topology to 'pcpuset')\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 25, 'created': '2019-09-03 14:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a27ac41ca3a4124b55d1245e3760b1470ea1774', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Defining 'pcpuset' for any 'NUMACell' definitions and, where\n  necessary, migrating the 'cpuset' value to this (hint: if we were\n  testing something to do with a instance NUMA topology with pinning,\n  we need to migrate the host NUMA topology to 'pcpuset')\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 26, 'created': '2019-09-04 17:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0110738d3823ce7f6a17ed31095630de129fdd63', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 27, 'created': '2019-09-04 21:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb0cb6a8e5deeaaea655e69bd8287990f866e991', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 28, 'created': '2019-09-05 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b897f93312d8a2d9e06ea35663e0a3bbd0444f9b', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 29, 'created': '2019-09-09 11:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/771bf327726370fcb5cc6d31a731c5667b5c3834', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 30, 'created': '2019-09-09 15:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42b081a7b0eaf72f487c9e45a725dd07ad130f93', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 31, 'created': '2019-09-10 12:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d67c8cf60799dbdd33101d901c9cbe3c7d8532d6', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 32, 'created': '2019-09-10 12:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ae028b2cd9215c3486a8eaab6ee81bd44a0d1a0', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 33, 'created': '2019-09-10 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/668181cfa571d0ac7f79f920ea8f3a5e128c993c', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 34, 'created': '2019-09-11 23:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d8267be2fa24da633dbcf9234e5339debc5ed20', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 35, 'created': '2019-09-12 22:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0c92c239e565cdc55b99fbf03ce228ee1c1bb64', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 36, 'created': '2019-09-13 08:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e533403bf78f5e1aa60849cb5fcc7bd634e8629', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 37, 'created': '2019-09-17 23:23:12.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/objects/numa.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/objects/test_numa.py', 'nova/tests/unit/scheduler/fakes.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8da70ef95ee5b52c1cd77137b4cf5381dd380425', 'message': ""hardware: Differentiate between shared and dedicated CPUs\n\nStart making use of the new fields added to the 'NUMACell' object and\nstore things differently. There are a lot of mechanical changes required\nto fix these. The bulk of these fall into one of three categories:\n\n- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where\n  necessary (hint: if we were testing something to do with a instance\n  NUMA topology with pinning, we need to migrate the field)\n- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config\n  options (from the '[compute]' group) and changing calls to\n  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'\n  and/or '_get_pcpu_available'. This is necessary because the\n  '_get_guest_numa_config' function has changed to call the latter\n  instead of the former.\n- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this\n  no longer counts usage of pinned CPUs (that's handled by the\n  'pinned_cpus' field on the same object)\n\nThe only serious deviation from this is the\n'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,\nwhich has to have configuration added to ensure the guest looks like it\nhas CPU pinning configured. This test was pretty much broken before.\n\nIt's useful to understand the lifecycle of the 'NUMATopology' object in\norder to understand the upgrade impacts of this change, in so far as it\nrelates to the libvirt virt driver. We generate a 'NUMATopology' object\non the compute node in the 'LibvirtDriver._get_host_numa_topology'\nmethod and report that as part of the 'ComputeNode' object provided to\nthe resource tracker from the 'LibvirtDriver.get_available_resource'\nmethod. The 'NUMATopology' object generated by the driver *does not*\ninclude any usage information, meaning the fields 'cpu_usage',\n'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these\nare calculated by calling the 'hardware.numa_usage_from_instance_numa'\nfunction. This happens in two places, in the resource tracker as part of\nthe 'ResourceTracker._update_usage' method, which is called by the\n'ResourceTracker.update_usage' periodic task as well as by other\ninternal operations each time a instance is created, moved or destroyed,\nand in the 'HostState._update_from_compute_node' method, which is called\nby the 'HostState.update' method on the scheduler at startup.\n\nAs a result of the above, there isn't a significant upgrade impact for\nthis and it remains possible to run older Stein-based compute nodes\nalongside newer Train-based compute nodes. There are two things that\nmake this possible. Firstly, at no point in this entire process does a\n'NUMATopology' object make its way back to the compute node once it\nleaves, by way of a 'ComputeNode' object. That's true for objects in\ngeneral and means we don't need to worry about the compute node seeing\nthese new object fields and not being able to understand them. Secondly,\nwe have checks in that crucial 'hardware.numa_usage_from_instance_numa'\nfunction, which will check if 'pcpuset' is not set (meaning it's a\npre-Train compute node) and set this locally. Because the virt driver\ndoesn't set the usage-related fields, this is the only field we need to\ncare about.\n\nPart of blueprint cpu-resources\n\nChange-Id: I492803eaacc34c69af073689f9159449557919db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",65,671800,8da70ef95ee5b52c1cd77137b4cf5381dd380425,400,22,37,15334,,,0,"hardware: Differentiate between shared and dedicated CPUs

Start making use of the new fields added to the 'NUMACell' object and
store things differently. There are a lot of mechanical changes required
to fix these. The bulk of these fall into one of three categories:

- Migrating 'NUMACell.cpuset' values to 'NUMACell.pcpuset' where
  necessary (hint: if we were testing something to do with a instance
  NUMA topology with pinning, we need to migrate the field)
- Configuring the 'cpu_shared_set' and 'cpu_dedicated_set' config
  options (from the '[compute]' group) and changing calls to
  'nova.virt.hardware.get_vcpu_pin_set' to '_get_vcpu_available'
  and/or '_get_pcpu_available'. This is necessary because the
  '_get_guest_numa_config' function has changed to call the latter
  instead of the former.
- Removing checks for 'NUMACell.cpu_usage' for pinned tests, since this
  no longer counts usage of pinned CPUs (that's handled by the
  'pinned_cpus' field on the same object)

The only serious deviation from this is the
'test_get_guest_config_numa_host_instance_cpu_pinning_realtime' test,
which has to have configuration added to ensure the guest looks like it
has CPU pinning configured. This test was pretty much broken before.

It's useful to understand the lifecycle of the 'NUMATopology' object in
order to understand the upgrade impacts of this change, in so far as it
relates to the libvirt virt driver. We generate a 'NUMATopology' object
on the compute node in the 'LibvirtDriver._get_host_numa_topology'
method and report that as part of the 'ComputeNode' object provided to
the resource tracker from the 'LibvirtDriver.get_available_resource'
method. The 'NUMATopology' object generated by the driver *does not*
include any usage information, meaning the fields 'cpu_usage',
'pinned_cpus' and 'memory_usage' are set to empty values. Instead, these
are calculated by calling the 'hardware.numa_usage_from_instance_numa'
function. This happens in two places, in the resource tracker as part of
the 'ResourceTracker._update_usage' method, which is called by the
'ResourceTracker.update_usage' periodic task as well as by other
internal operations each time a instance is created, moved or destroyed,
and in the 'HostState._update_from_compute_node' method, which is called
by the 'HostState.update' method on the scheduler at startup.

As a result of the above, there isn't a significant upgrade impact for
this and it remains possible to run older Stein-based compute nodes
alongside newer Train-based compute nodes. There are two things that
make this possible. Firstly, at no point in this entire process does a
'NUMATopology' object make its way back to the compute node once it
leaves, by way of a 'ComputeNode' object. That's true for objects in
general and means we don't need to worry about the compute node seeing
these new object fields and not being able to understand them. Secondly,
we have checks in that crucial 'hardware.numa_usage_from_instance_numa'
function, which will check if 'pcpuset' is not set (meaning it's a
pre-Train compute node) and set this locally. Because the virt driver
doesn't set the usage-related fields, this is the only field we need to
care about.

Part of blueprint cpu-resources

Change-Id: I492803eaacc34c69af073689f9159449557919db
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/671800/37 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/objects/numa.py', 'nova/virt/hardware.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,fea0d1baf698f990663d3fe1593c4104cc6f14b2,bp/cpu-resources," def test_get_pcpu_available(self, get_cpu_count): vcpus = drvr._get_pcpu_available() self.assertEqual(set([0, 1, 2, 3]), vcpus) def test_get_pcpu_available__with_cpu_dedicated_set(self, get_online_cpus): pcpus = drvr._get_pcpu_available() self.assertEqual(set([4, 5]), pcpus) def test_get_pcpu_available__with_vcpu_pin_set(self, get_online_cpus): pcpus = drvr._get_pcpu_available() self.assertEqual(set([4, 5]), pcpus) def test_get_pcpu_available__cpu_dedicated_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_pcpu_available) def test_get_pcpu_available__vcpu_pin_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_pcpu_available) def test_get_vcpu_available(self, get_cpu_count): vcpus = drvr._get_vcpu_available() self.assertEqual(set([0, 1, 2, 3]), vcpus) def test_get_vcpu_available__with_cpu_shared_set(self, get_online_cpus): vcpus = drvr._get_vcpu_available() self.assertEqual(set([4, 5]), vcpus) def test_get_vcpu_available__with_vcpu_pin_set(self, get_online_cpus): vcpus = drvr._get_vcpu_available() self.assertEqual(set([4, 5]), vcpus) def test_get_vcpu_available__cpu_shared_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_vcpu_available) def test_get_vcpu_available__vcpu_pin_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_vcpu_available) def _get_pcpu_available(self): def _get_vcpu_available(self): @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available',"," def test_get_pcpu_total(self, get_cpu_count): vcpus = drvr._get_pcpu_total() self.assertEqual(4, vcpus) def test_get_pcpu_total__with_cpu_dedicated_set(self, get_online_cpus): pcpus = drvr._get_pcpu_total() self.assertEqual(2, pcpus) def test_get_pcpu_total__with_vcpu_pin_set(self, get_online_cpus): pcpus = drvr._get_pcpu_total() self.assertEqual(2, pcpus) def test_get_pcpu_total__cpu_dedicated_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_pcpu_total) def test_get_pcpu_total__vcpu_pin_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_pcpu_total) def test_get_vcpu_total(self, get_cpu_count): vcpus = drvr._get_vcpu_total() self.assertEqual(4, vcpus) def test_get_vcpu_total__with_cpu_shared_set(self, get_online_cpus): vcpus = drvr._get_vcpu_total() self.assertEqual(2, vcpus) def test_get_vcpu_total__with_vcpu_pin_set(self, get_online_cpus): vcpus = drvr._get_vcpu_total() self.assertEqual(2, vcpus) def test_get_vcpu_total__cpu_shared_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_vcpu_total) def test_get_vcpu_total__vcpu_pin_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_vcpu_total) def _get_pcpu_total(self): def _get_vcpu_total(self): @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total',",188,134
openstack%2Fnova~master~Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2,openstack/nova,master,Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2,Validate CPU config options against running instances,MERGED,2019-09-04 17:46:39.000000000,2019-09-19 20:18:43.000000000,2019-09-19 20:15:15.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-04 17:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4eb6aecaeb9f2065884fe8e10788c4cae1bd9ec6', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-09-04 21:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a189f0df889c19bcb1dd1d1f17ca291c52e8534', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-09-05 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0220df92d44ecc0386997ad9622ddf013a1bd03a', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-09-09 11:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25d6a43e528f333a386893fc3412c7a5c958921c', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-09-09 15:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcc280625430b296bc42f673a90288ac107f0673', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-09-10 12:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1360abb19e99f1b9a72422a27a4aa8a4864d32d7', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-09-10 12:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14116c6378c134376926acb22300c9ad594c00fd', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-09-10 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/613cdb736bf5ee760732c51dfe16bafcb83a89f4', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-09-11 23:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45a007b2a0fb3af005e27afdff2bc5086b792c1c', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-09-12 22:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fb07127b94414f890991b3f65f5959c39ebd728', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-09-13 08:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63a2835ce4ae74a8a1fe992610b9d699a844a9e8', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2019-09-17 23:23:12.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/zvm/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f329ee5a3b63d8643dcf7f2b4f5d5dce273474d8', 'message': ""Validate CPU config options against running instances\n\nWe want to make sure people who have both pinned and unpinned instances\non a host (yes, it's dumb, but it happens) won't do a straightforward\n'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]\ncpu_shared_set' transition, breaking their ability to restart or rebuild\ninstances. We add a new 'supports_pcpus' driver capability to avoid\nneeding to do this on drivers that don't support PCPUs and CPU pinning\nin general.\n\nChange-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",44,680107,f329ee5a3b63d8643dcf7f2b4f5d5dce273474d8,245,20,12,15334,,,0,"Validate CPU config options against running instances

We want to make sure people who have both pinned and unpinned instances
on a host (yes, it's dumb, but it happens) won't do a straightforward
'vcpu_pin_set' -> '[compute] cpu_dedicated_set' or '[compute]
cpu_shared_set' transition, breaking their ability to restart or rebuild
instances. We add a new 'supports_pcpus' driver capability to avoid
needing to do this on drivers that don't support PCPUs and CPU pinning
in general.

Change-Id: Ia1b3ab0b66fdaf569f6c7a09510f208ee28725b2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/680107/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/zvm/driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/virt/powervm/driver.py']",10,4eb6aecaeb9f2065884fe8e10788c4cae1bd9ec6,bp/cpu-resources," 'supports_pcpus': False,",,168,19
openstack%2Fnova~master~I7407a8e662d7b4a710d5a133ef22d2b25e26ad89,openstack/nova,master,I7407a8e662d7b4a710d5a133ef22d2b25e26ad89,objects: Add 'NUMACell.pcpuset' field,MERGED,2019-09-04 17:46:39.000000000,2019-09-19 20:15:23.000000000,2019-09-19 20:15:23.000000000,"[{'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-04 17:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9d37652352cbdb3eede85e122667d0f1886d28e', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-09-04 21:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2c27449e9404cf4fa05d02dc6a4e2be1d500a91', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-09-05 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/736c0200ca07bbbc369a6390d8ac0b74569d31dd', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-09-09 11:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98f5e4feb426b86ea2bca5a595526a823f4fe70c', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-09-09 15:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61df09eaec593da9b6cc46354a4ded2aea29226f', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-09-10 12:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4bfcdb6e6d1010becb65451d07eef1a77d93c02', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-09-10 12:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd62cdba2e3ae13842e2740269573b559102680', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-09-10 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70957e09f30a981111d40d68f8c92d7eb6d5fd7a', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-09-11 23:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf536545b26c6704670d884e8f9392b8445de87f', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-09-12 22:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfc9b78a0c9a159087fa72edad728f671dc7f9a4', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-09-13 08:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b52d064a21b7116e6929ae932b9f79b51dd6f636', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2019-09-17 23:23:12.000000000', 'files': ['nova/objects/numa.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/objects/test_numa.py', 'nova/tests/unit/scheduler/fakes.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ecb141da1e1c3d70980d79f99aa102003860ace', 'message': ""objects: Add 'NUMACell.pcpuset' field\n\nWe will use this to track host CPUs intended for dedicated workloads in\na future change. For now, we simply add the field and set it in all\ninstances of 'NUMACell'. This change has the benefit of allowing us to\navoid overloading the meaning of some fields, as described below. This\ndoesn't happen here but rather with change\nI492803eaacc34c69af073689f9159449557919db.\n\nBefore:\n\n  pinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by pinned instances in total\n      integer format\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nAfter:\n\n  pinned instances ->\n\n    NUMACell.pcpuset\n      Tracks the host cores that can be used by pinned instances\n    NUMACell.pinned_cpus\n      Tracks the usage of host cores by pinned instances in mapping\n      format\n\n  unpinned instances ->\n\n    NUMACell.cpuset\n      Tracks the host cores that can be used by unpinned instances\n    NUMACell.cpu_usage\n      Tracks the usage of host cores by unpinned instances in total\n      integer format\n\nIn summary, we go from overloading the 'cpuset' and 'cpu_usage' fields\nto having dedicated fields for pinned and unpinned CPUs. As an aside, it\nwould be nice if the field names were a little more uniform, but that\ncan be addressed in the future.\n\nChange-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,680108,1ecb141da1e1c3d70980d79f99aa102003860ace,212,19,12,15334,,,0,"objects: Add 'NUMACell.pcpuset' field

We will use this to track host CPUs intended for dedicated workloads in
a future change. For now, we simply add the field and set it in all
instances of 'NUMACell'. This change has the benefit of allowing us to
avoid overloading the meaning of some fields, as described below. This
doesn't happen here but rather with change
I492803eaacc34c69af073689f9159449557919db.

Before:

  pinned instances ->

    NUMACell.cpuset
      Tracks the host cores that can be used by pinned instances
    NUMACell.cpu_usage
      Tracks the usage of host cores by pinned instances in total
      integer format
    NUMACell.pinned_cpus
      Tracks the usage of host cores by pinned instances in mapping
      format

  unpinned instances ->

    NUMACell.cpuset
      Tracks the host cores that can be used by unpinned instances
    NUMACell.cpu_usage
      Tracks the usage of host cores by unpinned instances in total
      integer format

After:

  pinned instances ->

    NUMACell.pcpuset
      Tracks the host cores that can be used by pinned instances
    NUMACell.pinned_cpus
      Tracks the usage of host cores by pinned instances in mapping
      format

  unpinned instances ->

    NUMACell.cpuset
      Tracks the host cores that can be used by unpinned instances
    NUMACell.cpu_usage
      Tracks the usage of host cores by unpinned instances in total
      integer format

In summary, we go from overloading the 'cpuset' and 'cpu_usage' fields
to having dedicated fields for pinned and unpinned CPUs. As an aside, it
would be nice if the field names were a little more uniform, but that
can be addressed in the future.

Change-Id: I7407a8e662d7b4a710d5a133ef22d2b25e26ad89
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/680108/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/numa.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/objects/test_numa.py', 'nova/tests/unit/scheduler/fakes.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py']",13,e9d37652352cbdb3eede85e122667d0f1886d28e,bp/cpu-resources," pcpuset=set(), pcpuset=set(),", cpu_thread_policy = fields.CPUThreadAllocationPolicy.PREFER,156,21
openstack%2Fopenstack-ansible-os_octavia~master~Ief7f60972c62388cee1f579e8988c4ba57c8fb65,openstack/openstack-ansible-os_octavia,master,Ief7f60972c62388cee1f579e8988c4ba57c8fb65,Create mgmt subnet with gateway if provided,MERGED,2019-09-12 05:50:42.000000000,2019-09-19 19:52:17.000000000,2019-09-19 19:50:38.000000000,"[{'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 30568}]","[{'number': 1, 'created': '2019-09-12 05:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ed76188ae4c0515b9c8b40dd556b55e32bc4f085', 'message': 'Create mgmt subnet with gateway if provided\n\nThis change adds the ability to create the mgmt subnet with default\ngateway when the specified variable provided.\n\nChange-Id: Ief7f60972c62388cee1f579e8988c4ba57c8fb65\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2019-09-12 06:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/0e86e3876a426e01f4d7af4600a67c1863bf1b97', 'message': 'Create mgmt subnet with gateway if provided\n\nThis change adds the ability to create the mgmt subnet with default\ngateway when the specified variable provided.\n\nChange-Id: Ief7f60972c62388cee1f579e8988c4ba57c8fb65\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2019-09-14 15:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/af960503ee3c2d29a3beceb86c514e5b45644c90', 'message': 'Create mgmt subnet with gateway if provided\n\nThis change adds the ability to create the mgmt subnet with default\ngateway when the specified variable provided.\n\nChange-Id: Ief7f60972c62388cee1f579e8988c4ba57c8fb65\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2019-09-15 09:02:54.000000000', 'files': ['tasks/octavia_mgmt_network.yml', 'releasenotes/notes/mgmt-default-gateway-3c87f21e0b331a2c.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d1380ea1676fdbbc55b85ff3992afac8e85da05e', 'message': 'Create mgmt subnet with gateway if provided\n\nThis change adds the ability to create the mgmt subnet with default\ngateway when the specified variable provided.\n\nChange-Id: Ief7f60972c62388cee1f579e8988c4ba57c8fb65\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,681642,d1380ea1676fdbbc55b85ff3992afac8e85da05e,42,7,4,14200,,,0,"Create mgmt subnet with gateway if provided

This change adds the ability to create the mgmt subnet with default
gateway when the specified variable provided.

Change-Id: Ief7f60972c62388cee1f579e8988c4ba57c8fb65
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/42/681642/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_mgmt_network.yml'],1,ed76188ae4c0515b9c8b40dd556b55e32bc4f085,mgmt-subnet-gateway," gateway_ip: ""{{ octavia_management_net_subnet_gateway | default(omit) }}""",,1,0
openstack%2Fproject-config~master~I8fc1b62643c9b9b766015bcf2e57d420f2157b7f,openstack/project-config,master,I8fc1b62643c9b9b766015bcf2e57d420f2157b7f,Remove unused stx docs publish job,MERGED,2019-09-19 13:21:58.000000000,2019-09-19 19:48:08.000000000,2019-09-19 19:48:07.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 13:21:58.000000000', 'files': ['zuul.d/starlingx-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e42728162bcb685f5201b1bf3eea5c3d7f40fb0d', 'message': 'Remove unused stx docs publish job\n\nThis job is now unused, remove it.\n\nChange-Id: I8fc1b62643c9b9b766015bcf2e57d420f2157b7f\n'}]",0,683154,e42728162bcb685f5201b1bf3eea5c3d7f40fb0d,7,3,1,6547,,,0,"Remove unused stx docs publish job

This job is now unused, remove it.

Change-Id: I8fc1b62643c9b9b766015bcf2e57d420f2157b7f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/683154/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/starlingx-jobs.yaml'],1,e42728162bcb685f5201b1bf3eea5c3d7f40fb0d,fix-starlingx-docs,," name: publish-stx-docs parent: publish-stx-tox-base description: | Publish the results of a sphinx build to /afs/.openstack.org/project/starlingx.io/www Builds the docs using ``tox -e docs``. # Set final to avoid override of afs_subpath variable. final: true allowed-projects: - starlingx/docs vars: # Define empty so we publish to the webroot afs_subpath: """" - job:",0,16
openstack%2Fkolla~master~If3a0cba7e24fe7a91e35b301b027188a0c44b1a9,openstack/kolla,master,If3a0cba7e24fe7a91e35b301b027188a0c44b1a9,WIP: Add a relative loader for jinja,ABANDONED,2019-09-17 17:45:48.000000000,2019-09-19 19:42:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 17:45:48.000000000', 'files': ['kolla/image/build.py', 'kolla/template/environment.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a3610c9205860184a28d0dbea7dfaa15ba403f5', 'message': 'WIP: Add a relative loader for jinja\n\nChange-Id: If3a0cba7e24fe7a91e35b301b027188a0c44b1a9\n'}]",0,682706,4a3610c9205860184a28d0dbea7dfaa15ba403f5,6,2,1,14985,,,0,"WIP: Add a relative loader for jinja

Change-Id: If3a0cba7e24fe7a91e35b301b027188a0c44b1a9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/682706/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/template/environment.py']",2,4a3610c9205860184a28d0dbea7dfaa15ba403f5,relative-jinja,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from jinja2 import Environment import os class RelativeEnvironment(Environment): def join_path(self, template, parent): return os.path.join(os.path.dirname(parent), template) ",,24,2
openstack%2Fpython-tripleoclient~master~Ib4403d5040d2965575a87adbc2e2ca59aa286467,openstack/python-tripleoclient,master,Ib4403d5040d2965575a87adbc2e2ca59aa286467,Deprecate overcloud image prepare,MERGED,2019-09-16 16:25:12.000000000,2019-09-19 19:12:34.000000000,2019-09-19 19:09:36.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 16:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c40ff5cbc89f905d585c3e6173ad6466b41aaf0', 'message': 'Deprecate overcloud image prepare\n\nWe have replaced this function with the `openstack tripleo container\nimage prepare` command which is more flexible.\n\nChange-Id: Ib4403d5040d2965575a87adbc2e2ca59aa286467\n'}, {'number': 2, 'created': '2019-09-16 20:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4d06d30d017d0d4270121d203d839e8173bbe4e', 'message': 'Deprecate overcloud image prepare\n\nWe have replaced this function with the `openstack tripleo container\nimage prepare` command which is more flexible.\n\nChange-Id: Ib4403d5040d2965575a87adbc2e2ca59aa286467\n'}, {'number': 3, 'created': '2019-09-17 01:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/582a31d7a139737b4bb0358764de4b7797b5c3b4', 'message': 'Deprecate overcloud image prepare\n\nWe have replaced this function with the `openstack tripleo container\nimage prepare` command which is more flexible.\n\nChange-Id: Ib4403d5040d2965575a87adbc2e2ca59aa286467\n'}, {'number': 4, 'created': '2019-09-17 01:57:25.000000000', 'files': ['tripleoclient/v1/container_image.py', 'releasenotes/notes/deprecate-overcloud-container-prepare-45b61e76072b2736.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/33130b75a8ca5e520bf5ccd714364cf37e9e9dc3', 'message': 'Deprecate overcloud image prepare\n\nWe have replaced this function with the `openstack tripleo container\nimage prepare` command which is more flexible.\n\nChange-Id: Ib4403d5040d2965575a87adbc2e2ca59aa286467\n'}]",2,682404,33130b75a8ca5e520bf5ccd714364cf37e9e9dc3,22,5,4,14985,,,0,"Deprecate overcloud image prepare

We have replaced this function with the `openstack tripleo container
image prepare` command which is more flexible.

Change-Id: Ib4403d5040d2965575a87adbc2e2ca59aa286467
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/682404/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'releasenotes/notes/deprecate-overcloud-container-prepare-45b61e76072b2736.yaml']",2,1c40ff5cbc89f905d585c3e6173ad6466b41aaf0,deprecate-overcloud-container,--- deprecations: - | `openstack overcloud container image prepare` has been deprecated and replaced by `openstack tripleo container image prepare` ,,8,0
openstack%2Fkolla-ansible~stable%2Fstein~Ia0447674b9ec377a814f37b70b4863a2bd1348ce,openstack/kolla-ansible,stable/stein,Ia0447674b9ec377a814f37b70b4863a2bd1348ce,Fix prometheus-alertmanager cluster bug,MERGED,2019-09-18 12:50:21.000000000,2019-09-19 19:11:13.000000000,2019-09-19 19:08:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30975}]","[{'number': 1, 'created': '2019-09-18 12:50:21.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9a7be6820225e849af90bb0cbe648e5e82337cb', 'message': 'Fix prometheus-alertmanager cluster bug\n\nEdited the\nansible/roles/prometheus/templates/prometheus-alertmanager.json.j2 file\nto change the mesh.peer and mesh.listen-address to cluter.peer and\ncluster.listen-address.  This stopped alertmanager from crashing with\nerror ""--mesh.peer is an invalid flag""\n\nChange-Id: Ia0447674b9ec377a814f37b70b4863a2bd1348ce\nSigned-off-by: Mark Flynn <markandrewflynn@gmail.com>\n(cherry picked from commit 01eb7a63a5121a2580615c2c7fa85490ee916c7a)\n'}]",0,682888,e9a7be6820225e849af90bb0cbe648e5e82337cb,8,4,1,14826,,,0,"Fix prometheus-alertmanager cluster bug

Edited the
ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2 file
to change the mesh.peer and mesh.listen-address to cluter.peer and
cluster.listen-address.  This stopped alertmanager from crashing with
error ""--mesh.peer is an invalid flag""

Change-Id: Ia0447674b9ec377a814f37b70b4863a2bd1348ce
Signed-off-by: Mark Flynn <markandrewflynn@gmail.com>
(cherry picked from commit 01eb7a63a5121a2580615c2c7fa85490ee916c7a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/682888/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'],1,e9a7be6820225e849af90bb0cbe648e5e82337cb,maflynn-prometheus-alertmanager-bugfix-stable/stein," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --cluster.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"","," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --mesh.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --mesh.peer={{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"",",1,1
openstack%2Ftripleo-quickstart~master~I5de0fc46c6b89592b42e230b73bc9a4048530b69,openstack/tripleo-quickstart,master,I5de0fc46c6b89592b42e230b73bc9a4048530b69,Fail when $VIRTHOST is localhost,MERGED,2019-07-22 15:40:56.000000000,2019-09-19 19:10:54.000000000,2019-09-19 19:09:34.000000000,"[{'_account_id': 7973}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-22 15:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2161adf5f10dd9d14fe7fb4f8f57577c0ed92009', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}, {'number': 2, 'created': '2019-07-30 14:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e2adf210fcb23a74cfb35ede3229387737aec54a', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}, {'number': 3, 'created': '2019-08-05 12:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3371b7d7dd846987e2303a57a0a4c8d28172b001', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}, {'number': 4, 'created': '2019-08-07 15:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9533aeacd6514ec0b15e9141db3dcdabd05ed462', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}, {'number': 5, 'created': '2019-08-12 15:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2eb9ae46224b7665fc57b182934b11bcfd36bf3f', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}, {'number': 6, 'created': '2019-08-16 15:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ebf68c342df60277ef127b4531bd5e189c7b1400', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}, {'number': 7, 'created': '2019-08-26 13:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c6c33715f7f529a8e3f843e0acacde9039c8ac8a', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}, {'number': 8, 'created': '2019-09-04 14:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/66baf177119eb14fb6eafe69fc5369f247cb9908', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}, {'number': 9, 'created': '2019-09-16 12:55:18.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7467149907c6ad523e139a77680901247d1a3baf', 'message': 'Fail when $VIRTHOST is localhost\n\nThere are known issues when using tripleo-quickstart\nwith localhost or 127.0.0.1 as the target host. See [1].\n\nThis patch adds a check to make sure that neither one of\nthose addresses are being used as $VIRTHOST and fails with\na message to use 127.0.0.2 instead.\n\n[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost\n\nChange-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69\n'}]",1,672075,7467149907c6ad523e139a77680901247d1a3baf,52,9,9,7973,,,0,"Fail when $VIRTHOST is localhost

There are known issues when using tripleo-quickstart
with localhost or 127.0.0.1 as the target host. See [1].

This patch adds a check to make sure that neither one of
those addresses are being used as $VIRTHOST and fails with
a message to use 127.0.0.2 instead.

[1] https://docs.openstack.org/tripleo-quickstart/2.1.0/readme.html#deploying-on-localhost

Change-Id: I5de0fc46c6b89592b42e230b73bc9a4048530b69
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/75/672075/8 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,2161adf5f10dd9d14fe7fb4f8f57577c0ed92009,,"if [ $VIRTHOST == ""127.0.0.1"" ] || [ $VIRTHOST == ""localhost"" ]; then echo ""ERROR: Please use 127.0.0.2 to deploy to localhost"" >&2 exit 2 fi ",,5,0
openstack%2Fpython-tripleoclient~master~Ifa0ca97abaff191cabef3bc55dd9c05a9291c5ad,openstack/python-tripleoclient,master,Ifa0ca97abaff191cabef3bc55dd9c05a9291c5ad,Remove old releasenote script,MERGED,2019-09-16 21:31:38.000000000,2019-09-19 19:10:47.000000000,2019-09-19 19:09:31.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 21:31:38.000000000', 'files': ['tools/releasenotes_tox.sh'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a25f0525f79a7c3afa52e9009c81e6065529cefa', 'message': 'Remove old releasenote script\n\nThis script is no longer used as you can tox -e releasenotes now which\nuses sphinx directly.\n\nChange-Id: Ifa0ca97abaff191cabef3bc55dd9c05a9291c5ad\n'}]",0,682493,a25f0525f79a7c3afa52e9009c81e6065529cefa,13,3,1,14985,,,0,"Remove old releasenote script

This script is no longer used as you can tox -e releasenotes now which
uses sphinx directly.

Change-Id: Ifa0ca97abaff191cabef3bc55dd9c05a9291c5ad
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/682493/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/releasenotes_tox.sh'],1,a25f0525f79a7c3afa52e9009c81e6065529cefa,cleanup,,"#!/usr/bin/env bash rm -rf releasenotes/build sphinx-build -a -E -W \ -d releasenotes/build/doctrees \ -b html \ releasenotes/source releasenotes/build/html BUILD_RESULT=$? UNCOMMITTED_NOTES=$(git status --porcelain | \ awk '$1 == ""M"" && $2 ~ /releasenotes\/notes/ {print $2}') if [ ""${UNCOMMITTED_NOTES}"" ] then cat <<EOF REMINDER: The following changes to release notes have not been committed: ${UNCOMMITTED_NOTES} While that may be intentional, keep in mind that release notes are built from committed changes, not the working directory. EOF fi exit ${BUILD_RESULT} ",0,28
openstack%2Fkolla-ansible~stable%2Fstein~I7f2b3a6f1eacd4cabcaa31de543b7489bc5e654b,openstack/kolla-ansible,stable/stein,I7f2b3a6f1eacd4cabcaa31de543b7489bc5e654b,Fix for haproxy precheck failing on CentOS running non-root,MERGED,2019-09-18 18:14:38.000000000,2019-09-19 19:10:07.000000000,2019-09-19 19:08:15.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-18 18:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7a7c80c590bf9d5269edfe195a6b8954428207e', 'message': 'Fix for haproxy precheck failing on CentOS running non-root\n\nChange-Id: I7f2b3a6f1eacd4cabcaa31de543b7489bc5e654b\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-09-19 06:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7314bab481ba4ca583ac32a1e9c1dbba88152374', 'message': 'Fix for haproxy precheck failing on CentOS running non-root\n\nChange-Id: I7f2b3a6f1eacd4cabcaa31de543b7489bc5e654b\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-09-19 09:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee6f6b1908e59640156bad8930ab594e0f8d6596', 'message': 'Fix for haproxy precheck failing on CentOS running non-root\n\nChange-Id: I7f2b3a6f1eacd4cabcaa31de543b7489bc5e654b\nCloses-bug: #1844636\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2019-09-19 09:04:35.000000000', 'files': ['ansible/roles/haproxy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3d40bf7e46555e18f115715844395827d07e862', 'message': 'Fix for haproxy precheck failing on CentOS running non-root\n\nChange-Id: I7f2b3a6f1eacd4cabcaa31de543b7489bc5e654b\nCloses-bug: #1844636\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 70b4bf6cbf0c8582409bf10f1d67ba3ae75f01b4)\n'}]",0,682957,f3d40bf7e46555e18f115715844395827d07e862,17,6,4,30491,,,0,"Fix for haproxy precheck failing on CentOS running non-root

Change-Id: I7f2b3a6f1eacd4cabcaa31de543b7489bc5e654b
Closes-bug: #1844636
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 70b4bf6cbf0c8582409bf10f1d67ba3ae75f01b4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/682957/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/tasks/precheck.yml'],1,a7a7c80c590bf9d5269edfe195a6b8954428207e,fix-haproxy-precheck, become: true, '169.254.' not in kolla_internal_vip_address and,1,1
openstack%2Ftripleo-heat-templates~master~I01d0f20f6f78d235f99f51f75bcefe675dc0dee5,openstack/tripleo-heat-templates,master,I01d0f20f6f78d235f99f51f75bcefe675dc0dee5,Add IPv6 condition to set to the local_address,MERGED,2019-09-13 14:00:03.000000000,2019-09-19 19:09:37.000000000,2019-09-19 19:09:37.000000000,"[{'_account_id': 3153}, {'_account_id': 8866}, {'_account_id': 9098}, {'_account_id': 10644}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 14:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f759524922969075d8802a5d74fbc4f49f506ddb', 'message': 'Add IPv6 condition to set to the local_address\n\nThis change re-adds the local_address IPv6 condition to the kerenl template.\nThis will ensure that the local address is always set using our expected\nconditions.\n\nDepends-On: I20e69315bacdded4bc2d5b47e18609f130f8abc5\nChange-Id: I01d0f20f6f78d235f99f51f75bcefe675dc0dee5\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2019-09-16 12:42:21.000000000', 'files': ['deployment/kernel/kernel-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba0ad3a65c88589c566e27fe0ce72ed9c294123e', 'message': 'Add IPv6 condition to set to the local_address\n\nThis change re-adds the local_address IPv6 condition to the kernel\ntemplate. This will ensure that the local address is always set using\nour expected conditions.\n\nDepends-On: I20e69315bacdded4bc2d5b47e18609f130f8abc5\nChange-Id: I01d0f20f6f78d235f99f51f75bcefe675dc0dee5\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",1,682057,ba0ad3a65c88589c566e27fe0ce72ed9c294123e,20,8,2,7353,,,0,"Add IPv6 condition to set to the local_address

This change re-adds the local_address IPv6 condition to the kernel
template. This will ensure that the local address is always set using
our expected conditions.

Depends-On: I20e69315bacdded4bc2d5b47e18609f130f8abc5
Change-Id: I01d0f20f6f78d235f99f51f75bcefe675dc0dee5
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/682057/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-baremetal-ansible.yaml'],1,f759524922969075d8802a5d74fbc4f49f506ddb,bug/1843422,"conditions: ipv6_disabled: {equals: [{get_param: KernelDisableIPv6}, 1]} hieradata_localhost_address: if: - ipv6_disabled - '127.0.0.1' - 'localhost'",,8,0
openstack%2Ftripleo-heat-templates~master~Ia5285e530417c50bded380593877b5614c5784ef,openstack/tripleo-heat-templates,master,Ia5285e530417c50bded380593877b5614c5784ef,Don't use docker override in scenario012 standalone ironic,MERGED,2019-09-14 09:39:05.000000000,2019-09-19 19:09:32.000000000,2019-09-19 19:09:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-14 09:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a416c48226aa7bc473b0397cb4c6e002a9b66d3b', 'message': ""Don't use docker in scenario012 standalone ironic\n\nChange-Id: Ia5285e530417c50bded380593877b5614c5784ef\n""}, {'number': 2, 'created': '2019-09-16 10:58:41.000000000', 'files': ['ci/environments/scenario012-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32e9595c5095b8a0535768a6e7da6c170ea9e7a7', 'message': ""Don't use docker override in scenario012 standalone ironic\n\nIt's set in job definition:\nhttps://github.com/openstack/tripleo-ci/blob/master/zuul.d/standalone-jobs.yaml#L585\n\nChange-Id: Ia5285e530417c50bded380593877b5614c5784ef\n""}]",0,682206,32e9595c5095b8a0535768a6e7da6c170ea9e7a7,19,9,2,10969,,,0,"Don't use docker override in scenario012 standalone ironic

It's set in job definition:
https://github.com/openstack/tripleo-ci/blob/master/zuul.d/standalone-jobs.yaml#L585

Change-Id: Ia5285e530417c50bded380593877b5614c5784ef
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/682206/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario012-standalone.yaml'],1,a416c48226aa7bc473b0397cb4c6e002a9b66d3b,,, # Remove ContainerCli once this scenario is tested on CentOS8. ContainerCli: docker,0,2
openstack%2Fnetworking-ovn~master~I6d4a4b396eaa0d4be2a2c7afeccdb336020a40b3,openstack/networking-ovn,master,I6d4a4b396eaa0d4be2a2c7afeccdb336020a40b3,Add _find_ovn_lb_by_id() in OvnProviderHelper,MERGED,2019-09-11 17:18:28.000000000,2019-09-19 19:09:25.000000000,2019-09-19 19:07:51.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-11 17:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/80359a88d8fd34a845bcee7372fd5f7d27b39c8b', 'message': 'Add _find_ovn_lb_by_id() in OvnProviderHelper\n\nThere were four code paths doing the same thing, created\na helper to lookup a loadbalancer given a pool id.\n\nChange-Id: I6d4a4b396eaa0d4be2a2c7afeccdb336020a40b3\n'}, {'number': 2, 'created': '2019-09-12 21:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b02ed70ecf77c4d11d04af9b1a50087ad8700d11', 'message': 'Add _find_ovn_lb_by_id() in OvnProviderHelper\n\nThere were four code paths doing the same thing, created\na helper to lookup a loadbalancer given a pool id.\n\nChange-Id: I6d4a4b396eaa0d4be2a2c7afeccdb336020a40b3\n'}, {'number': 3, 'created': '2019-09-13 19:36:01.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4440019146ab85d50943cfe1e5bc53d7b5232864', 'message': 'Add _find_ovn_lb_by_id() in OvnProviderHelper\n\nThere were four code paths doing the same thing, created\na helper to lookup a loadbalancer given a pool id.\n\nChange-Id: I6d4a4b396eaa0d4be2a2c7afeccdb336020a40b3\n'}]",1,681551,4440019146ab85d50943cfe1e5bc53d7b5232864,19,6,3,1131,,,0,"Add _find_ovn_lb_by_id() in OvnProviderHelper

There were four code paths doing the same thing, created
a helper to lookup a loadbalancer given a pool id.

Change-Id: I6d4a4b396eaa0d4be2a2c7afeccdb336020a40b3
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/51/681551/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,80359a88d8fd34a845bcee7372fd5f7d27b39c8b,_find_ovn_lb_by_id," def _find_ovn_lb_by_id(self, pool_id): pool_key = self._get_pool_key(pool_id) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) if not ovn_lb: pool_key = self._get_pool_key(pool_id, is_enabled=False) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) return pool_key, ovn_lb pool_key, ovn_lb = self._find_ovn_lb_by_id( member['pool_id']) pool_key, ovn_lb = self._find_ovn_lb_by_id( member['pool_id']) pool_key, ovn_lb = self._find_ovn_lb_by_id( member['pool_id']) pool_key, ovn_lb = self._ovn_helper._find_ovn_lb_by_id(pool_id) if not ovn_lb: msg = _(""Loadbalancer with pool %s does not exist"") % pool_key raise driver_exceptions.DriverError(msg) _, ovn_lb = self._ovn_helper._find_ovn_lb_by_id(member.pool_id)"," pool_key = self._get_pool_key(member['pool_id']) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) if not ovn_lb: pool_key = self._get_pool_key(member['pool_id'], is_enabled=False) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) pool_key = self._get_pool_key(member['pool_id']) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) if not ovn_lb: pool_key = self._get_pool_key(member['pool_id'], is_enabled=False) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) pool_key = self._get_pool_key(member['pool_id']) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) if not ovn_lb: pool_key = self._get_pool_key(member['pool_id'], is_enabled=False) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) pool_key = self._get_pool_key(pool_id) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) if not ovn_lb: pool_key = self._get_pool_key(pool_id, is_enabled=False) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) if not ovn_lb: msg = _(""Loadbalancer with pool %s does not exist"") % pool_key raise driver_exceptions.DriverError(msg) pool_key = self._ovn_helper._get_pool_key(member.pool_id) ovn_lb = self._ovn_helper._find_ovn_lb_with_pool_key(pool_key) if not ovn_lb: pool_key = self._ovn_helper._get_pool_key(member.pool_id, is_enabled=False) ovn_lb = self._ovn_helper._find_ovn_lb_with_pool_key(pool_key)",18,32
openstack%2Fheat~master~Ice37340f084ea65bd4b46562145e82ede6bc0df5,openstack/heat,master,Ice37340f084ea65bd4b46562145e82ede6bc0df5,Correct availability_zone to be non-mandatory in heat,MERGED,2019-09-18 18:59:40.000000000,2019-09-19 19:06:08.000000000,2019-09-19 08:34:16.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 18:59:40.000000000', 'files': ['heat/engine/resources/openstack/nova/host_aggregate.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2799a5fcd76639a202092ea1b6fc242a8886dc56', 'message': 'Correct availability_zone to be non-mandatory in heat\n\nAs per CLI and GUI, availability_zone is not mandatory.  In templates,\nit is.  This is incorrect.\n\nThis patch corrects behaviour to match CLI and GUI.\n\nChange-Id: Ice37340f084ea65bd4b46562145e82ede6bc0df5\nCloses-Bug: 1749767\n'}]",1,682965,2799a5fcd76639a202092ea1b6fc242a8886dc56,12,3,1,27427,,,0,"Correct availability_zone to be non-mandatory in heat

As per CLI and GUI, availability_zone is not mandatory.  In templates,
it is.  This is incorrect.

This patch corrects behaviour to match CLI and GUI.

Change-Id: Ice37340f084ea65bd4b46562145e82ede6bc0df5
Closes-Bug: 1749767
",git fetch https://review.opendev.org/openstack/heat refs/changes/65/682965/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/nova/host_aggregate.py'],1,2799a5fcd76639a202092ea1b6fc242a8886dc56,bug/1749767,," required=True,",0,1
openstack%2Ftripleo-ci~master~I6eb259bbfb1591eb6ab858a2350306a586601b41,openstack/tripleo-ci,master,I6eb259bbfb1591eb6ab858a2350306a586601b41,Add no_log to skip long list of files,MERGED,2019-09-16 06:21:51.000000000,2019-09-19 19:04:24.000000000,2019-09-19 19:04:24.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 06:21:51.000000000', 'files': ['roles/build-containers/tasks/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/013ad7720a7dcca241afcea189a881aa6ffb208c', 'message': 'Add no_log to skip long list of files\n\nChange-Id: I6eb259bbfb1591eb6ab858a2350306a586601b41\n'}]",0,682276,013ad7720a7dcca241afcea189a881aa6ffb208c,21,5,1,10969,,,0,"Add no_log to skip long list of files

Change-Id: I6eb259bbfb1591eb6ab858a2350306a586601b41
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/76/682276/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/post.yaml'],1,013ad7720a7dcca241afcea189a881aa6ffb208c,, no_log: true, #no_log: true,1,1
openstack%2Fpuppet-tripleo~master~I09a73ae54e7b4b04396c3b31063833eca8bf5352,openstack/puppet-tripleo,master,I09a73ae54e7b4b04396c3b31063833eca8bf5352,Use memcached for token caching in octavia authtoken,MERGED,2019-09-09 01:42:52.000000000,2019-09-19 19:04:23.000000000,2019-09-19 19:04:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-09 01:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f98592609b3b54d835a79d9a5eaaa35899434680', 'message': 'Use memcached for token caching in octavia authtoken\n\nUse memcached to cache token in octavia authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I09a73ae54e7b4b04396c3b31063833eca8bf5352\n'}, {'number': 2, 'created': '2019-09-09 02:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bd3ab58c5ad428fe716213bf7d71f26fdce8c553', 'message': 'Use memcached for token caching in octavia authtoken\n\nUse memcached to cache token in octavia authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I09a73ae54e7b4b04396c3b31063833eca8bf5352\n'}, {'number': 3, 'created': '2019-09-10 05:30:36.000000000', 'files': ['spec/classes/tripleo_profile_base_octavia_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_octavia_api_spec.rb', 'manifests/profile/base/octavia/api.pp', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/octavia/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1b1de7c9dd6f8c35692e746eeadd9abcfc9d31bf', 'message': 'Use memcached for token caching in octavia authtoken\n\nUse memcached to cache token in octavia authtoken, as in-process\ncache, which we currently use, was already deprecated[1].\n\n[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a\n\nChange-Id: I09a73ae54e7b4b04396c3b31063833eca8bf5352\n'}]",0,680898,1b1de7c9dd6f8c35692e746eeadd9abcfc9d31bf,24,6,3,9816,,,0,"Use memcached for token caching in octavia authtoken

Use memcached to cache token in octavia authtoken, as in-process
cache, which we currently use, was already deprecated[1].

[1] Ied2b88c8cefe5655a88d0c2f334de04e588fa75a

Change-Id: I09a73ae54e7b4b04396c3b31063833eca8bf5352
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/98/680898/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_octavia_authtoken_spec.rb', 'manifests/profile/base/octavia/api.pp', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/octavia/authtoken.pp']",4,f98592609b3b54d835a79d9a5eaaa35899434680,authtoken-memcache-octavia,"# Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::octavia::authtoken # # Octavia authtoken profile for TripleO # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # # [*memcached_ips*] # (Optional) Array of ipv4 or ipv6 addresses for memcache. # Defaults to hiera('memcached_node_ips') # class tripleo::profile::base::octavia::authtoken ( $step = Integer(hiera('step')), $memcached_ips = hiera('memcached_node_ips'), ) { if $step >= 3 { if is_ipv6_address($memcached_ips[0]) { $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211'), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211') } class { '::octavia::keystone::authtoken': memcached_servers => $memcache_servers } } } ",,116,0
openstack%2Foctavia~stable%2Frocky~Ieab13c1152fed64da7390891b315b5e67513ce3e,openstack/octavia,stable/rocky,Ieab13c1152fed64da7390891b315b5e67513ce3e,Fix base (VRRP) port abandoned on revert,MERGED,2019-09-18 08:45:33.000000000,2019-09-19 19:04:19.000000000,2019-09-19 19:02:37.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 08:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bd47d3554012fab6dae4dd34c2008458c93fce26', 'message': 'Fix base (VRRP) port abandoned on revert\n\nIf the base (VRRP) port fails to attach to the amphora instance, the\nport would not be deleted as part of the revert cleanup.\nThis patch splits the two plug VIP phases and attempts to clean up the\nbase (VRRP) port, that was created in the first phase, should the port\nattach fail.\n\nChange-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e\nStory: 2006468\nTask: 36399\n(cherry picked from commit f20dc158441faad8422f7836dc7d0af50dcbcb0a)\n'}, {'number': 2, 'created': '2019-09-18 12:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/28bd4a5cefed31c2c57e66961b4ed10098105b50', 'message': 'Fix base (VRRP) port abandoned on revert\n\nIf the base (VRRP) port fails to attach to the amphora instance, the\nport would not be deleted as part of the revert cleanup.\nThis patch splits the two plug VIP phases and attempts to clean up the\nbase (VRRP) port, that was created in the first phase, should the port\nattach fail.\n\nChange-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e\nStory: 2006468\nTask: 36399\n(cherry picked from commit f20dc158441faad8422f7836dc7d0af50dcbcb0a)\n'}, {'number': 3, 'created': '2019-09-18 16:17:18.000000000', 'files': ['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/Fix-plug-vip-revert-abandoned-vrrp-port-efff14edce62ad75.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0aace5715c9f1fd98dc02776fa1920163c998e33', 'message': 'Fix base (VRRP) port abandoned on revert\n\nIf the base (VRRP) port fails to attach to the amphora instance, the\nport would not be deleted as part of the revert cleanup.\nThis patch splits the two plug VIP phases and attempts to clean up the\nbase (VRRP) port, that was created in the first phase, should the port\nattach fail.\n\nChange-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e\nStory: 2006468\nTask: 36399\n(cherry picked from commit f20dc158441faad8422f7836dc7d0af50dcbcb0a)\n'}]",0,682836,0aace5715c9f1fd98dc02776fa1920163c998e33,17,5,3,7249,,,0,"Fix base (VRRP) port abandoned on revert

If the base (VRRP) port fails to attach to the amphora instance, the
port would not be deleted as part of the revert cleanup.
This patch splits the two plug VIP phases and attempts to clean up the
base (VRRP) port, that was created in the first phase, should the port
attach fail.

Change-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e
Story: 2006468
Task: 36399
(cherry picked from commit f20dc158441faad8422f7836dc7d0af50dcbcb0a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/36/682836/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/Fix-plug-vip-revert-abandoned-vrrp-port-efff14edce62ad75.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",3,bd47d3554012fab6dae4dd34c2008458c93fce26,," except Exception: message = _('Error creating the base (VRRP) port for the VIP with ' 'port details: {}').format(port) LOG.exception(message) raise base.PlugVIPException(message) try: try: if new_port: self.neutron_client.delete_port(new_port.id) LOG.debug('Deleted base (VRRP) port %s due to plug_port ' 'failure.', new_port.id) except Exception: LOG.exception('Failed to delete base (VRRP) port %s after ' 'plug_port failed. This resource is being ' 'abandoned and should be manually deleted when ' 'neutron is functional.', new_port.id)",,59,0
openstack%2Fopenstack-helm-images~master~I88318674e11e61740d56ab24c58d460cbe438f32,openstack/openstack-helm-images,master,I88318674e11e61740d56ab24c58d460cbe438f32,Makefile and Docker file for ospurge containers,MERGED,2019-09-17 08:30:56.000000000,2019-09-19 18:51:09.000000000,2019-09-19 18:47:23.000000000,"[{'_account_id': 8898}, {'_account_id': 14029}, {'_account_id': 16881}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 27499}, {'_account_id': 28025}, {'_account_id': 28719}, {'_account_id': 29220}]","[{'number': 1, 'created': '2019-09-17 08:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/37551139e64f0a03a1240cdf56f2a390bcf7e6ac', 'message': 'Makefile and Docker file for ospurge containers\n\nChange-Id: I88318674e11e61740d56ab24c58d460cbe438f32\n'}, {'number': 2, 'created': '2019-09-17 08:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e928978288e6fbc7973de25dabe2d610c92355a6', 'message': 'Makefile and Docker file for ospurge containers\n\nChange-Id: I88318674e11e61740d56ab24c58d460cbe438f32\n'}, {'number': 3, 'created': '2019-09-17 14:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4df5346c427bde65208c4c5bff4d2edd903d5d70', 'message': 'Makefile and Docker file for ospurge containers\n\nChange-Id: I88318674e11e61740d56ab24c58d460cbe438f32\n'}, {'number': 4, 'created': '2019-09-19 10:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/234f24354608abdbb4238c5a26f3213e51185b75', 'message': 'Makefile and Docker file for ospurge containers\n\nChange-Id: I88318674e11e61740d56ab24c58d460cbe438f32\n'}, {'number': 5, 'created': '2019-09-19 10:29:53.000000000', 'files': ['ospurge/build.sh', 'zuul.d/ospurge.yaml', 'Makefile', 'README_MAKEFILE', 'doc/source/ospurge.rst', 'ospurge/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8a0e8ee04b7d854ab342bae68fdbee4a2a2efe2c', 'message': 'Makefile and Docker file for ospurge containers\n\nChange-Id: I88318674e11e61740d56ab24c58d460cbe438f32\n'}]",3,682582,8a0e8ee04b7d854ab342bae68fdbee4a2a2efe2c,29,14,5,24817,,,0,"Makefile and Docker file for ospurge containers

Change-Id: I88318674e11e61740d56ab24c58d460cbe438f32
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/82/682582/4 && git format-patch -1 --stdout FETCH_HEAD,"['ospurge/build.sh', 'zuul.d/ospurge.yaml', 'Makefile', 'README_MAKEFILE', 'ospurge/Dockerfile.python', 'doc/source/ospurge.rst']",6,37551139e64f0a03a1240cdf56f2a390bcf7e6ac,ospurge_image,"=============================== ospurge container image ================================= This container builds a small image with ospurge service and python-openstackclient utilities for use by the operator. Manual build ============ Here are the instructions for building the image: .. literalinclude:: ../../ospurge/build.sh :language: shell Alternatively, this step can be performed by running the script directly: .. code-block:: shell ./ospurge/build.sh ",,122,0
openstack%2Fnova~master~Ib72f15eb62fd50ea7117df577478f555a8478724,openstack/nova,master,Ib72f15eb62fd50ea7117df577478f555a8478724,Trigger real BuildAbortException during migrate with bandwidth,MERGED,2019-09-18 11:53:37.000000000,2019-09-19 18:37:20.000000000,2019-09-19 18:35:23.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-18 11:53:37.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6648e344a9bfb538bac68e6f2cb5b12f9cb4a828', 'message': 'Trigger real BuildAbortException during migrate with bandwidth\n\nThe functional test\ntest_migrate_server_with_qos_port_pci_update_fail_not_reschedule used\nfault injection to simulate that the\n_update_pci_request_spec_with_allocated_interface_name call raises\nBuildAbortException during migrating a instance with an SRIOV port\nhaving resource request.\n\nWe can do a bit better. This patch simulates that neutron names the PF\ndevice RP in placement in an unexpected way. Therefore the test does not\nneed to mock anything in nova to simulate the same failure.\n\nChange-Id: Ib72f15eb62fd50ea7117df577478f555a8478724\nblueprint: support-move-ops-with-qos-ports\n'}]",5,682876,6648e344a9bfb538bac68e6f2cb5b12f9cb4a828,29,11,1,9708,,,0,"Trigger real BuildAbortException during migrate with bandwidth

The functional test
test_migrate_server_with_qos_port_pci_update_fail_not_reschedule used
fault injection to simulate that the
_update_pci_request_spec_with_allocated_interface_name call raises
BuildAbortException during migrating a instance with an SRIOV port
having resource request.

We can do a bit better. This patch simulates that neutron names the PF
device RP in placement in an unexpected way. Therefore the test does not
need to mock anything in nova to simulate the same failure.

Change-Id: Ib72f15eb62fd50ea7117df577478f555a8478724
blueprint: support-move-ops-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/682876/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,6648e344a9bfb538bac68e6f2cb5b12f9cb4a828,bp/support-move-ops-with-qos-ports," # Update the name of the network device RP of PF2 on host2 to something # unexpected. This will cause # _update_pci_request_spec_with_allocated_interface_name() to raise # when the instance is migrated to the host2. rsp = self.placement_api.put( '/resource_providers/%s' % self.sriov_dev_rp_per_host[self.compute2_rp_uuid][self.PF2], {""name"": ""invalid-device-rp-name""}) self.assertEqual(200, rsp.status) # The compute manager on host2 will raise from self.api.post_server_action(server['id'], {'migrate': None}) server = self._wait_for_server_parameter( self.api, server, {'OS-EXT-SRV-ATTR:host': 'host1', # Note that we have to wait for the task_state to be reverted # to None since that happens after the fault is recorded. 'OS-EXT-STS:task_state': None, 'status': 'ERROR'}) self._wait_for_migration_status(server, ['error'])"," # The patched compute manager on host2 will raise from with mock.patch.object( self.computes['host2'].manager, '_update_pci_request_spec_with_allocated_interface_name', side_effect=exception.BuildAbortException( instance_uuid=server['id'], reason='Testing')): self.api.post_server_action(server['id'], {'migrate': None}) server = self._wait_for_server_parameter( self.api, server, {'OS-EXT-SRV-ATTR:host': 'host1', # Note that we have to wait for the task_state to be reverted # to None since that happens after the fault is recorded. 'OS-EXT-STS:task_state': None, 'status': 'ERROR'}) self._wait_for_migration_status(server, ['error'])",20,15
openstack%2Fcinder~master~I325e32b834d41e0ed53a11b143e4617b12cdd769,openstack/cinder,master,I325e32b834d41e0ed53a11b143e4617b12cdd769,NEC Driver: allow more than 4 iSCSI portals,MERGED,2019-06-28 05:33:11.000000000,2019-09-19 18:37:03.000000000,2019-09-19 18:35:13.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13111}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28403}, {'_account_id': 28743}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-06-28 05:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/713543e8507692a86d1e315451bea3975b1daf6a', 'message': 'NEC Driver: allow more than 4 iSCSI portals\n\nNEC driver currently does not allow more than 4 iSCSI portals for\na node.\nThe driver passes portal IQNs from create_export() and\ncreate_export_snapshot() to initialize_connection() using\nprovider_location.\nThe length of provider_location is defined as varchar 256 in DB scheme.\nIt may be insufficient to store more than 4 portal IQN strings.\n\nIf more than 4 portals are available for a node, the driver selects\n2 or 4 of them in multipath.\nThe number of portals selected is configurable with\nnec_iscsi_portals_per_cont parameter.\n\nThis patch removes the limit by avoiding using provider_location.\nIt moves entire process in create_export() and create_export_snapshot()\nto initialize_connection() so that the driver can have IQNs of all\navailable portals in initialize_connection() without passing them.\n\nThis patch also deletes nec_iscsi_portals_per_cont config option.\nThe option is used to limit number of portals and is no longer needed\nfor the driver.\nUsers still can limit number of portals for a node (initiator) with\nNEC Storage Manager.\n\nChange-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769\n'}, {'number': 2, 'created': '2019-07-03 06:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3b17505ed2f1c2dab4da2027c0f7babe2f8cb28', 'message': 'NEC Driver: allow more than 4 iSCSI portals\n\nNEC driver currently does not allow more than 4 iSCSI portals for\na node.\nThe driver passes portal IQNs from create_export() and\ncreate_export_snapshot() to initialize_connection() using\nprovider_location.\nThe length of provider_location is defined as varchar 256 in DB scheme.\nIt may be insufficient to store more than 4 portal IQN strings.\n\nIf more than 4 portals are available for a node, the driver selects\n2 or 4 of them in multipath.\nThe number of portals selected is configurable with\nnec_iscsi_portals_per_cont parameter.\n\nThis patch removes the limit by avoiding using provider_location.\nIt moves entire process in create_export() and create_export_snapshot()\nto initialize_connection() so that the driver can have IQNs of all\navailable portals in initialize_connection() without passing them.\n\nThis patch also deletes nec_iscsi_portals_per_cont config option.\nThe option is used to limit number of portals and is no longer needed\nfor the driver.\nUsers still can limit number of portals for a node (initiator) with\nNEC Storage Manager.\n\nChange-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769\n'}, {'number': 3, 'created': '2019-07-29 08:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b6f5a2d642cec65a3c784fbc5208488c22cfd5a', 'message': 'NEC Driver: allow more than 4 iSCSI portals\n\nNEC driver currently does not allow more than 4 iSCSI portals for\na node.\nThe driver passes portal IQNs from create_export() and\ncreate_export_snapshot() to initialize_connection() using\nprovider_location.\nThe length of provider_location is defined as varchar 256 in DB scheme.\nIt may be insufficient to store more than 4 portal IQN strings.\n\nIf more than 4 portals are available for a node, the driver selects\n2 or 4 of them in multipath.\nThe number of portals selected is configurable with\nnec_iscsi_portals_per_cont parameter.\n\nThis patch removes the limit by avoiding using provider_location.\nIt moves entire process in create_export() and create_export_snapshot()\nto initialize_connection() so that the driver can have IQNs of all\navailable portals in initialize_connection() without passing them.\n\nThis patch also deprecated nec_iscsi_portals_per_cont config option.\nThe option is used to limit number of portals and is no longer needed.\n\nChange-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769\n'}, {'number': 4, 'created': '2019-07-29 08:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10bf8329d1e9b9a9a2703263d6a25942d8305c83', 'message': 'NEC Driver: allow more than 4 iSCSI portals\n\nNEC driver currently does not allow more than 4 iSCSI portals for\na node.\nThe driver passes portal IQNs from create_export() and\ncreate_export_snapshot() to initialize_connection() using\nprovider_location.\nThe length of provider_location is defined as varchar 256 in DB scheme.\nIt may be insufficient to store more than 4 portal IQN strings.\n\nIf more than 4 portals are available for a node, the driver selects\n2 or 4 of them in multipath.\nThe number of portals selected is configurable with\nnec_iscsi_portals_per_cont parameter.\n\nThis patch removes the limit by avoiding using provider_location.\nIt moves entire process in create_export() and create_export_snapshot()\nto initialize_connection() so that the driver can have IQNs of all\navailable portals in initialize_connection() without passing them.\n\nThis patch also deprecated nec_iscsi_portals_per_cont config option.\nThe option is used to limit number of portals and is no longer needed.\n\nChange-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769\n'}, {'number': 5, 'created': '2019-07-29 12:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c122e2a3e8f12a33503290692de75f4723820f1', 'message': 'NEC Driver: allow more than 4 iSCSI portals\n\nNEC driver currently does not allow more than 4 iSCSI portals for\na node.\nThe driver passes portal IQNs from create_export() and\ncreate_export_snapshot() to initialize_connection() using\nprovider_location.\nThe length of provider_location is defined as varchar 256 in DB scheme.\nIt may be insufficient to store more than 4 portal IQN strings.\n\nIf more than 4 portals are available for a node, the driver selects\n2 or 4 of them in multipath.\nThe number of portals selected is configurable with\nnec_iscsi_portals_per_cont parameter.\n\nThis patch removes the limit by avoiding using provider_location.\nIt moves entire process in create_export() and create_export_snapshot()\nto initialize_connection() so that the driver can have IQNs of all\navailable portals in initialize_connection() without passing them.\n\nThis patch also deprecated nec_iscsi_portals_per_cont config option.\nThe option is used to limit number of portals and is no longer needed.\n\nChange-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769\n'}, {'number': 6, 'created': '2019-08-02 07:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/266a3369d9665791ce06f08ea3a22847a60c865a', 'message': 'NEC Driver: allow more than 4 iSCSI portals\n\nNEC driver currently does not allow more than 4 iSCSI portals for\na node.\nThe driver passes portal IQNs from create_export() and\ncreate_export_snapshot() to initialize_connection() using\nprovider_location.\nThe length of provider_location is defined as varchar 256 in DB scheme.\nIt may be insufficient to store more than 4 portal IQN strings.\n\nIf more than 4 portals are available for a node, the driver selects\n2 or 4 of them in multipath.\nThe number of portals selected is configurable with\nnec_iscsi_portals_per_cont parameter.\n\nThis patch removes the limit by avoiding using provider_location.\nIt moves entire process in create_export() and create_export_snapshot()\nto initialize_connection() so that the driver can have IQNs of all\navailable portals in initialize_connection() without passing them.\n\nThis patch also deprecated nec_iscsi_portals_per_cont config option.\nThe option is used to limit number of portals and is no longer needed.\n\nChange-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769\n'}, {'number': 7, 'created': '2019-09-02 10:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03ca62f4e3957031339522af8f1f2e7f974c0acd', 'message': 'NEC Driver: allow more than 4 iSCSI portals\n\nNEC driver currently does not allow more than 4 iSCSI portals for\na node.\nThe driver passes portal IQNs from create_export() and\ncreate_export_snapshot() to initialize_connection() using\nprovider_location.\nThe length of provider_location is defined as varchar 256 in DB scheme.\nIt may be insufficient to store more than 4 portal IQN strings.\n\nIf more than 4 portals are available for a node, the driver selects\n2 or 4 of them in multipath.\nThe number of portals selected is configurable with\nnec_iscsi_portals_per_cont parameter.\n\nThis patch removes the limit by avoiding using provider_location.\nIt moves entire process in create_export() and create_export_snapshot()\nto initialize_connection() so that the driver can have IQNs of all\navailable portals in initialize_connection() without passing them.\n\nThis patch also deprecated nec_iscsi_portals_per_cont config option.\nThe option is used to limit number of portals and is no longer needed.\n\nChange-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769\n'}, {'number': 8, 'created': '2019-09-11 11:56:52.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume.py', 'releasenotes/notes/nec-allow-more-than-4iSCSI-portals-8342defe64491f81.yaml', 'cinder/volume/drivers/nec/volume_helper.py', 'doc/source/configuration/block-storage/drivers/nec-storage-m-series-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2fcc678e94dd8efec7b498554a56aff1aa50cd0c', 'message': 'NEC Driver: allow more than 4 iSCSI portals\n\nNEC driver currently does not allow more than 4 iSCSI portals for\na node.\nThe driver passes portal IQNs from create_export() and\ncreate_export_snapshot() to initialize_connection() using\nprovider_location.\nThe length of provider_location is defined as varchar 256 in DB scheme.\nIt may be insufficient to store more than 4 portal IQN strings.\n\nIf more than 4 portals are available for a node, the driver selects\n2 or 4 of them in multipath.\nThe number of portals selected is configurable with\nnec_iscsi_portals_per_cont parameter.\n\nThis patch removes the limit by avoiding using provider_location.\nIt moves entire process in create_export() and create_export_snapshot()\nto initialize_connection() so that the driver can have IQNs of all\navailable portals in initialize_connection() without passing them.\n\nThis patch also deprecated nec_iscsi_portals_per_cont config option.\nThe option is used to limit number of portals and is no longer needed.\n\nChange-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769\n'}]",18,668088,2fcc678e94dd8efec7b498554a56aff1aa50cd0c,303,44,8,28403,,,0,"NEC Driver: allow more than 4 iSCSI portals

NEC driver currently does not allow more than 4 iSCSI portals for
a node.
The driver passes portal IQNs from create_export() and
create_export_snapshot() to initialize_connection() using
provider_location.
The length of provider_location is defined as varchar 256 in DB scheme.
It may be insufficient to store more than 4 portal IQN strings.

If more than 4 portals are available for a node, the driver selects
2 or 4 of them in multipath.
The number of portals selected is configurable with
nec_iscsi_portals_per_cont parameter.

This patch removes the limit by avoiding using provider_location.
It moves entire process in create_export() and create_export_snapshot()
to initialize_connection() so that the driver can have IQNs of all
available portals in initialize_connection() without passing them.

This patch also deprecated nec_iscsi_portals_per_cont config option.
The option is used to limit number of portals and is no longer needed.

Change-Id: I325e32b834d41e0ed53a11b143e4617b12cdd769
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/668088/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/volume.py', 'releasenotes/notes/nec-allow-more-than-4iSCSI-portals-8342defe64491f81.yaml', 'cinder/volume/drivers/nec/volume_helper.py', 'doc/source/configuration/block-storage/drivers/nec-storage-m-series-driver.rst']",6,713543e8507692a86d1e315451bea3975b1daf6a,nec-allow-more-than-4iSCSI-portals,, #. Delete some iSCSI portal settings of each LD Sets to set to ``nec_iscsi_portals_per_cont`` parameter. (iSMcfg delldsetportal),161,303
openstack%2Fnetworking-ovn~master~Id193385866cfb5f2490e3e322fc79a1fae81fd72,openstack/networking-ovn,master,Id193385866cfb5f2490e3e322fc79a1fae81fd72,Don't allow mixing IPv4/IPv6 configuration,MERGED,2019-08-02 10:09:49.000000000,2019-09-19 18:33:06.000000000,2019-09-19 18:31:53.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-08-02 10:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5a32ae2525380d9e257923b2fa5f5ecc891caba8', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 2, 'created': '2019-08-02 10:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e05c8a663f3f9ac2926b23cdb8aa29b0362cf782', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 3, 'created': '2019-08-09 12:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/137c229a242f85806ddc18ad76e3841dc1535938', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 4, 'created': '2019-08-22 07:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9062adbc84e1d5c1d28161ab52d0b0837972ab70', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 5, 'created': '2019-08-22 10:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/84ef9e15f797a4ef0f64765d788145f2a9e95b18', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 6, 'created': '2019-09-03 10:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4d04a7ad60a8909c708c161b886caee801dc1e21', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 7, 'created': '2019-09-03 12:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ec9bcb40fb4f46c72da77288562662f705174240', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 8, 'created': '2019-09-04 21:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4e966564ae5417a078553688c9a55cd477ecc248', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 9, 'created': '2019-09-06 05:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/23a1557c9627c314a4b4450ab179d5d4e0993c43', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 10, 'created': '2019-09-11 07:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7718086f57f43ea46907e098e7f8462ae3ac2cb3', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\n""}, {'number': 11, 'created': '2019-09-11 08:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ae543c4f93d939f4673d32e0ad3d1797925852c7', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\nCloses-Bug: #1843553\n""}, {'number': 12, 'created': '2019-09-11 18:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a0a99dac576b249451903d15f09b0913dae239e4', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\nCloses-Bug: #1843553\n""}, {'number': 13, 'created': '2019-09-12 07:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0230fd2b20d0352324499b22a2642eb3c09af0fb', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\nCloses-Bug: #1843553\n""}, {'number': 14, 'created': '2019-09-12 21:13:20.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/76395f04a00f8a6da504d91c83d21ba927473533', 'message': ""Don't allow mixing IPv4/IPv6 configuration\n\nOVN doesn't support members with different IP version\nthat loadalancer VIP. We should block such operations.\n\nChange-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72\nCloses-Bug: #1843553\n""}]",12,674255,76395f04a00f8a6da504d91c83d21ba927473533,69,10,14,24791,,,0,"Don't allow mixing IPv4/IPv6 configuration

OVN doesn't support members with different IP version
that loadalancer VIP. We should block such operations.

Change-Id: Id193385866cfb5f2490e3e322fc79a1fae81fd72
Closes-Bug: #1843553
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/55/674255/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,5a32ae2525380d9e257923b2fa5f5ecc891caba8,," self.ovn_lb.external_ids = { ovn_driver.LB_EXT_IDS_VIP_KEY: '10.22.33.4'} def test_member_create_different_ip_version(self): self.ref_member.address = 'fc00::1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) def test_member_update_different_ip_version(self): self.ref_member.address = 'fc00::1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_update, self.ref_member, self.fail_member) ",,41,1
openstack%2Fkolla~stable%2Fpike~I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,openstack/kolla,stable/pike,I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,base: fix OracleLinux build,MERGED,2019-09-19 08:55:55.000000000,2019-09-19 18:29:43.000000000,2019-09-19 18:29:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-19 08:55:55.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/18507dbc1f2ea3ae31108ba00ae5a3267028c2fb', 'message': 'base: fix OracleLinux build\n\nChange-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64\nCloses-Bug: #1844484\n(cherry picked from commit 187d6c52f1bbb1176d7129a2b24b0cf48ba29d79)\n(cherry picked from commit ea34f0e19f17fefd3897deb9332a7a4596de5f6b)\n'}]",0,683064,18507dbc1f2ea3ae31108ba00ae5a3267028c2fb,11,4,1,30491,,,0,"base: fix OracleLinux build

Change-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64
Closes-Bug: #1844484
(cherry picked from commit 187d6c52f1bbb1176d7129a2b24b0cf48ba29d79)
(cherry picked from commit ea34f0e19f17fefd3897deb9332a7a4596de5f6b)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/683064/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,18507dbc1f2ea3ae31108ba00ae5a3267028c2fb,, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-4.el7.centos.noarch.rpm \, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-3.el7.centos.noarch.rpm \,1,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fstein~I65d342b83649c626295c28096b3bb7c19e837fa9,openstack/openstack-ansible-os_nova,stable/stein,I65d342b83649c626295c28096b3bb7c19e837fa9,Restore nova-key tag,MERGED,2019-09-10 13:24:07.000000000,2019-09-19 18:04:14.000000000,2019-09-19 18:03:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-10 13:24:07.000000000', 'files': ['tasks/nova_compute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/94fb3a7226825a71caa03b977bf8cbe17f4eb504', 'message': 'Restore nova-key tag\n\nThe nova-key tag is used to create and update SSH keys and\nauthorized keys among nova compute hosts. The execution\nof this task isolated is a standard administrative task\nto isolate and contain change to the minimum necessary activites.\n\nChange-Id: I65d342b83649c626295c28096b3bb7c19e837fa9\n(cherry picked from commit 71fdf84eb3fccea6ce08b6875107980e64613313)\n'}]",0,681253,94fb3a7226825a71caa03b977bf8cbe17f4eb504,8,3,1,14552,,,0,"Restore nova-key tag

The nova-key tag is used to create and update SSH keys and
authorized keys among nova compute hosts. The execution
of this task isolated is a standard administrative task
to isolate and contain change to the minimum necessary activites.

Change-Id: I65d342b83649c626295c28096b3bb7c19e837fa9
(cherry picked from commit 71fdf84eb3fccea6ce08b6875107980e64613313)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/53/681253/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_compute.yml'],1,94fb3a7226825a71caa03b977bf8cbe17f4eb504,master, - nova-key - nova-key,,2,0
openstack%2Fgrenade~stable%2Fpike~I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,openstack/grenade,stable/pike,I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,Use docs-pti template,MERGED,2019-09-18 19:40:55.000000000,2019-09-19 18:01:10.000000000,2019-09-19 17:54:58.000000000,"[{'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 19:40:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/7e4c8ab0f03aa11f3f37e93549a63f6790558ce4', 'message': 'Use docs-pti template\n\nInstead of using individual jobs, use the docs-pti template for Zuul\njob configuration so that we can change docs publishing in a single\nplace.\n\nChange-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470\n(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)\n'}]",0,682976,7e4c8ab0f03aa11f3f37e93549a63f6790558ce4,8,3,1,6547,,,0,"Use docs-pti template

Instead of using individual jobs, use the docs-pti template for Zuul
job configuration so that we can change docs publishing in a single
place.

Change-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470
(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/76/682976/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7e4c8ab0f03aa11f3f37e93549a63f6790558ce4,pike/backport/677245, templates: - publish-openstack-docs-pti, - tox-docs - tox-docs post: jobs: - publish-openstack-tox-docs,2,5
openstack%2Fgrenade~stable%2Fstein~I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,openstack/grenade,stable/stein,I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,Use docs-pti template,MERGED,2019-09-18 19:37:24.000000000,2019-09-19 18:01:08.000000000,2019-09-19 17:54:59.000000000,"[{'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 19:37:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/71c62c0f07f4df006f44c470611ce65f38258066', 'message': 'Use docs-pti template\n\nInstead of using individual jobs, use the docs-pti template for Zuul\njob configuration so that we can change docs publishing in a single\nplace.\n\nChange-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470\n(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)\n'}]",0,682973,71c62c0f07f4df006f44c470611ce65f38258066,8,3,1,6547,,,0,"Use docs-pti template

Instead of using individual jobs, use the docs-pti template for Zuul
job configuration so that we can change docs publishing in a single
place.

Change-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470
(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/73/682973/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,71c62c0f07f4df006f44c470611ce65f38258066,stein/backport/677245, templates: - publish-openstack-docs-pti, - tox-docs - tox-docs post: jobs: - publish-openstack-tox-docs,2,5
openstack%2Fgrenade~stable%2Frocky~I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,openstack/grenade,stable/rocky,I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,Use docs-pti template,MERGED,2019-09-18 19:39:00.000000000,2019-09-19 18:01:01.000000000,2019-09-19 17:54:58.000000000,"[{'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 19:39:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/920e26b991401b33c0c47bb709cc815da3a3ddc3', 'message': 'Use docs-pti template\n\nInstead of using individual jobs, use the docs-pti template for Zuul\njob configuration so that we can change docs publishing in a single\nplace.\n\nChange-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470\n(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)\n'}]",0,682974,920e26b991401b33c0c47bb709cc815da3a3ddc3,8,3,1,6547,,,0,"Use docs-pti template

Instead of using individual jobs, use the docs-pti template for Zuul
job configuration so that we can change docs publishing in a single
place.

Change-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470
(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/74/682974/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,920e26b991401b33c0c47bb709cc815da3a3ddc3,rocky/backport/677245, templates: - publish-openstack-docs-pti, - tox-docs - tox-docs post: jobs: - publish-openstack-tox-docs,2,5
openstack%2Fgrenade~stable%2Focata~I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,openstack/grenade,stable/ocata,I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,Use docs-pti template,MERGED,2019-09-18 19:41:43.000000000,2019-09-19 18:00:56.000000000,2019-09-19 17:55:00.000000000,"[{'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 19:41:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/634bc385a15cf32caae47f87904e7232ac3fd337', 'message': 'Use docs-pti template\n\nInstead of using individual jobs, use the docs-pti template for Zuul\njob configuration so that we can change docs publishing in a single\nplace.\n\nChange-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470\n(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)\n'}]",0,682978,634bc385a15cf32caae47f87904e7232ac3fd337,8,3,1,6547,,,0,"Use docs-pti template

Instead of using individual jobs, use the docs-pti template for Zuul
job configuration so that we can change docs publishing in a single
place.

Change-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470
(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/78/682978/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,634bc385a15cf32caae47f87904e7232ac3fd337,ocata/backport/677245, templates: - publish-openstack-docs-pti, - tox-docs - tox-docs post: jobs: - publish-openstack-tox-docs,2,5
openstack%2Fpatrole~master~I3ed450ab312af81c057659f47f1ba0241d6aad23,openstack/patrole,master,I3ed450ab312af81c057659f47f1ba0241d6aad23,Make patrole-member-stein non-voting,ABANDONED,2019-07-19 22:53:57.000000000,2019-09-19 17:53:46.000000000,,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-19 22:53:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/1ec04b8361a7ddc610a8adcc18e836cde0c86f05', 'message': 'Make patrole-member-stein non-voting\n\nThe patrole-member-stein job is failing intermittently, so this patchset\nmakes it non-voting until it can be removed or fixed.\n\nChange-Id: I3ed450ab312af81c057659f47f1ba0241d6aad23\n'}]",0,671872,1ec04b8361a7ddc610a8adcc18e836cde0c86f05,5,4,1,23140,,,0,"Make patrole-member-stein non-voting

The patrole-member-stein job is failing intermittently, so this patchset
makes it non-voting until it can be removed or fixed.

Change-Id: I3ed450ab312af81c057659f47f1ba0241d6aad23
",git fetch https://review.opendev.org/openstack/patrole refs/changes/72/671872/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1ec04b8361a7ddc610a8adcc18e836cde0c86f05,, voting: false,,1,0
openstack%2Fgrenade~stable%2Fqueens~I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,openstack/grenade,stable/queens,I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,Use docs-pti template,MERGED,2019-09-18 19:40:07.000000000,2019-09-19 17:40:57.000000000,2019-09-19 17:37:14.000000000,"[{'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 19:40:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/6c48e1c0ad93a235cbbf4d5fd48106c3b9a41b8d', 'message': 'Use docs-pti template\n\nInstead of using individual jobs, use the docs-pti template for Zuul\njob configuration so that we can change docs publishing in a single\nplace.\n\nChange-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470\n(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)\n'}]",0,682975,6c48e1c0ad93a235cbbf4d5fd48106c3b9a41b8d,8,3,1,6547,,,0,"Use docs-pti template

Instead of using individual jobs, use the docs-pti template for Zuul
job configuration so that we can change docs publishing in a single
place.

Change-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470
(cherry picked from commit 969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/75/682975/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6c48e1c0ad93a235cbbf4d5fd48106c3b9a41b8d,queens/backport/677245, templates: - publish-openstack-docs-pti, - tox-docs - tox-docs post: jobs: - publish-openstack-tox-docs,2,5
openstack%2Ftripleo-quickstart-extras~master~I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89,openstack/tripleo-quickstart-extras,master,I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89,Support direct provisioning of bare metal,MERGED,2019-06-10 22:40:38.000000000,2019-09-19 17:34:33.000000000,2019-09-19 17:34:33.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-10 22:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/07f038b4718fa0c58ec8493b69c68f54c833b7c9', 'message': 'Define variable baremetal_provision\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2019-06-11 04:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/157e989100ed767388f201ad508ff6b3c611a7b5', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 3, 'created': '2019-06-11 04:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/704811d6c99b7134fb5f1b6f5ff9d2550fc292e1', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 4, 'created': '2019-06-11 04:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/457113e135793f7701e9495eeea7a0b27b8a5439', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 5, 'created': '2019-06-16 21:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5d0c3953f18e53d9b6c7f748f8fafc6899c07973', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 6, 'created': '2019-08-15 02:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6b05a0add77e7ade9e10f4cfc4d00f4d851a3d2a', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 7, 'created': '2019-08-18 21:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b4e628e2c83a6ce1af1ec407340dd3a5f03b2314', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 8, 'created': '2019-08-21 22:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f687fe25d1af5022a5e2e417f30c90b87c4145a', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 9, 'created': '2019-08-22 22:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/add7420ebbf9505f939a9ce2d97ceb741e0592cc', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 10, 'created': '2019-08-27 03:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d58823d52754bca9b96d959b8630ee597d6fbff9', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 11, 'created': '2019-09-06 01:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5a33db15f1eecf2273ec87e4b5e434c754efc226', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 12, 'created': '2019-09-06 04:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1428c7e387a493d95401a59becd36981cc3a6d3d', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 13, 'created': '2019-09-12 02:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/386c243e41c7d4b50f00f2337d3b513a732965ce', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 14, 'created': '2019-09-13 02:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b8f83ee564c3ee64d0f35f9475a675d758f35469', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 15, 'created': '2019-09-13 04:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/645490d5c3d023c04a873f8d9097db2b47d30557', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}, {'number': 16, 'created': '2019-09-15 13:58:24.000000000', 'files': ['roles/overcloud-deploy/tasks/create-scripts.yml', 'roles/overcloud-deploy/templates/overcloud_baremetal_deploy.yaml.j2', 'roles/extras-common/README.md', 'roles/undercloud-deploy/README.md', 'roles/extras-common/defaults/main.yml', 'roles/validate-undercloud/templates/undercloud-sanity-check.sh.j2', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2', 'roles/undercloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a9676908fa9e6ec814f8cbe12f86162864ec436', 'message': 'Support direct provisioning of bare metal\n\nIf `baremetal_provision` is `true`, deploy baremetal with ""openstack\novercloud node provision"" and deployed-server, instead of with\nheat/nova.\n\nChange-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89\nBlueprint: nova-less-deploy\n'}]",6,664456,7a9676908fa9e6ec814f8cbe12f86162864ec436,71,10,16,4571,,,0,"Support direct provisioning of bare metal

If `baremetal_provision` is `true`, deploy baremetal with ""openstack
overcloud node provision"" and deployed-server, instead of with
heat/nova.

Change-Id: I57893a64f4c3224ffe8bd12330f12bd9d3cbbf89
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/56/664456/16 && git format-patch -1 --stdout FETCH_HEAD,"['roles/extras-common/README.md', 'roles/extras-common/defaults/main.yml']",2,07f038b4718fa0c58ec8493b69c68f54c833b7c9,bp/nova-less-deploy," # If `baremetal_provision` is `true`, deploy baremetal with ""openstack overcloud node provision"" and deployed-server, instead of with heat/nova baremetal_provision: false ",,5,0
openstack%2Fneutron~stable%2Fstein~I9506f855af118bbbd45b55a711504d6ad0f863cc,openstack/neutron,stable/stein,I9506f855af118bbbd45b55a711504d6ad0f863cc,Add info log about ready DHCP config for ports,MERGED,2019-09-17 05:42:59.000000000,2019-09-19 17:12:54.000000000,2019-09-19 17:11:14.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-17 05:42:59.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4396ef305060a90b1c32d62d4edccb8a2ca8c90b', 'message': 'Add info log about ready DHCP config for ports\n\nDHCP agent sends to neutron-server information about\nports for which DHCP configration is finished.\nThere was no logged any information about ports which\nhas got finished this DHCP ports configuration.\n\nThis patch adds such log with INFO level. It is the same as\nit is currently done in e.g. neutron-ovs-agent.\n\nChange-Id: I9506f855af118bbbd45b55a711504d6ad0f863cc\n(cherry picked from commit 63671411553fe5db474ebc8549bb96f34d32e805)\n'}]",0,682545,4396ef305060a90b1c32d62d4edccb8a2ca8c90b,12,6,1,11975,,,0,"Add info log about ready DHCP config for ports

DHCP agent sends to neutron-server information about
ports for which DHCP configration is finished.
There was no logged any information about ports which
has got finished this DHCP ports configuration.

This patch adds such log with INFO level. It is the same as
it is currently done in e.g. neutron-ovs-agent.

Change-Id: I9506f855af118bbbd45b55a711504d6ad0f863cc
(cherry picked from commit 63671411553fe5db474ebc8549bb96f34d32e805)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/682545/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,4396ef305060a90b1c32d62d4edccb8a2ca8c90b,improve-dhcp-agent-logs-stable/stein," LOG.info(""DHCP configuration for ports %s is completed"", ports_to_send)",,2,0
openstack%2Fneutron~stable%2Frocky~I9506f855af118bbbd45b55a711504d6ad0f863cc,openstack/neutron,stable/rocky,I9506f855af118bbbd45b55a711504d6ad0f863cc,Add info log about ready DHCP config for ports,MERGED,2019-09-17 05:43:07.000000000,2019-09-19 17:11:18.000000000,2019-09-19 17:11:18.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-17 05:43:07.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/255ef897933f43d4bef33655b4244870501e648c', 'message': 'Add info log about ready DHCP config for ports\n\nDHCP agent sends to neutron-server information about\nports for which DHCP configration is finished.\nThere was no logged any information about ports which\nhas got finished this DHCP ports configuration.\n\nThis patch adds such log with INFO level. It is the same as\nit is currently done in e.g. neutron-ovs-agent.\n\nChange-Id: I9506f855af118bbbd45b55a711504d6ad0f863cc\n(cherry picked from commit 63671411553fe5db474ebc8549bb96f34d32e805)\n'}]",0,682546,255ef897933f43d4bef33655b4244870501e648c,11,6,1,11975,,,0,"Add info log about ready DHCP config for ports

DHCP agent sends to neutron-server information about
ports for which DHCP configration is finished.
There was no logged any information about ports which
has got finished this DHCP ports configuration.

This patch adds such log with INFO level. It is the same as
it is currently done in e.g. neutron-ovs-agent.

Change-Id: I9506f855af118bbbd45b55a711504d6ad0f863cc
(cherry picked from commit 63671411553fe5db474ebc8549bb96f34d32e805)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/682546/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,255ef897933f43d4bef33655b4244870501e648c,improve-dhcp-agent-logs-stable/stein-stable/rocky," LOG.info(""DHCP configuration for ports %s is completed"", ports_to_send)",,2,0
openstack%2Fmanila-ui~master~I8903812d4dbf31ab9d1fcd22721862df8e215593,openstack/manila-ui,master,I8903812d4dbf31ab9d1fcd22721862df8e215593,Update the constraints url,MERGED,2019-09-19 15:24:12.000000000,2019-09-19 17:01:52.000000000,2019-09-19 17:00:24.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 15:24:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/7c0ca11d7f97cf6e008cc4d58326b5e19c5b6bc0', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I8903812d4dbf31ab9d1fcd22721862df8e215593\n'}]",0,683182,7c0ca11d7f97cf6e008cc4d58326b5e19c5b6bc0,9,3,1,29313,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I8903812d4dbf31ab9d1fcd22721862df8e215593
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/82/683182/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7c0ca11d7f97cf6e008cc4d58326b5e19c5b6bc0,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fkolla-ansible~master~I0bf3b47cc4d46cfa274b338dcda0bed65e5f869a,openstack/kolla-ansible,master,I0bf3b47cc4d46cfa274b338dcda0bed65e5f869a,restart cinder and nova container if ceph changed,ABANDONED,2018-01-15 08:16:03.000000000,2019-09-19 16:56:32.000000000,,"[{'_account_id': 7488}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 25632}]","[{'number': 1, 'created': '2018-01-15 08:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/abeae124ec0b3a7430daae6b4d00f88b31c41e3b', 'message': ""restart cinder and nova container if ceph changed\n\nrestart cinder or nova container if ceph's configuration changed when\nusing koalla-ansible with -t options.\n\nChange-Id: I0bf3b47cc4d46cfa274b338dcda0bed65e5f869a\nCloses-Bug: #1743285\n""}, {'number': 2, 'created': '2018-01-16 01:02:20.000000000', 'files': ['ansible/roles/cinder/tasks/ceph.yml', 'ansible/roles/nova/tasks/ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2e3ed46398274ca8b82b3b3174f4ae68412c05f', 'message': ""restart cinder and nova container if ceph changed\n\nRestart cinder container if ceph's configuration changed when\nusing kolla-ansible -i multinode -t cinder reconfigure.\nNova ditto.\n\nChange-Id: I0bf3b47cc4d46cfa274b338dcda0bed65e5f869a\nCloses-Bug: #1743285\n""}]",7,533553,b2e3ed46398274ca8b82b3b3174f4ae68412c05f,13,5,2,25632,,,0,"restart cinder and nova container if ceph changed

Restart cinder container if ceph's configuration changed when
using kolla-ansible -i multinode -t cinder reconfigure.
Nova ditto.

Change-Id: I0bf3b47cc4d46cfa274b338dcda0bed65e5f869a
Closes-Bug: #1743285
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/533553/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/tasks/ceph.yml', 'ansible/roles/nova/tasks/ceph.yml']",2,abeae124ec0b3a7430daae6b4d00f88b31c41e3b,bug/1743285," notify: - ""Restart {{ item.key }} container"" notify: - ""Restart nova-libvirt container"" notify: - ""Restart nova-libvirt container""",,11,0
openstack%2Fkolla~master~I427339f24dc51d79cbb78a0ef7b014fa746815ee,openstack/kolla,master,I427339f24dc51d79cbb78a0ef7b014fa746815ee,add unit tests for build script,ABANDONED,2016-03-09 11:38:34.000000000,2019-09-19 16:54:51.000000000,,"[{'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 11105}, {'_account_id': 13642}, {'_account_id': 13747}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-03-09 11:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e3d4c01cd38302c2a2f44cec18855d45e18c193e', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 2, 'created': '2016-03-16 02:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7059b203d404079778d346b6d0fcf122f322b4d1', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 3, 'created': '2016-03-16 05:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56a79270b9c03c1bcb253a89fa97e15433e3d800', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 4, 'created': '2016-03-22 08:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1ce25cca7f56bd6004bf2f1b388d8e2a4b6b8f28', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 5, 'created': '2016-03-22 12:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/773c468cf9869ed1b1c53a07a234f9ef97e84db7', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 6, 'created': '2016-03-23 06:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d489246035cdcc2db871be4d4dbc765cb5fe280', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 7, 'created': '2016-03-26 08:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a12cd110daea7329db08dcdb148e4ebf3f557595', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 8, 'created': '2016-03-27 07:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad59c76db5288f93472d20f2bad9955a5e3887ce', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 9, 'created': '2016-03-27 08:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4eb81fb42cfa95c616b75717ddcd934aad728ae', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 10, 'created': '2016-03-27 12:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/399ed01a509dd5ff2036ec8532d47de796a06a37', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 11, 'created': '2016-04-07 06:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6773b73d2b74b4012956fb21baadf8ca4aa4c059', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 12, 'created': '2016-04-08 02:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/95566e135b72900bcfb48e23b3d5462c71f6b4d1', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 13, 'created': '2016-04-10 05:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c891ef3cf07e5b7ed73b936ab6b722d58141751f', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 14, 'created': '2016-04-14 02:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/60c00bd48537a91d338856e4546f3bc18ff59277', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 15, 'created': '2016-04-14 03:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0a42d0bf030c29411bd50333b269c01c97bf45f5', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}, {'number': 16, 'created': '2016-05-27 06:47:05.000000000', 'files': ['kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7a227f24882faa5fbbea17ad23abf5daa4e15815', 'message': 'add unit tests for build script\n\nadd unit tests for build script\nCloses-Bug: #1487390\n\nChange-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee\n'}]",19,290423,7a227f24882faa5fbbea17ad23abf5daa4e15815,78,7,16,13747,,,0,"add unit tests for build script

add unit tests for build script
Closes-Bug: #1487390

Change-Id: I427339f24dc51d79cbb78a0ef7b014fa746815ee
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/290423/16 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_build.py', 'tox.ini']",2,e3d4c01cd38302c2a2f44cec18855d45e18c193e,bug/1487390,[testenv:py27] commands = python -m testtools.run tests.unit.test_build ,,595,0
openstack%2Fkolla~master~I150b1afc8235ec0427a9c6c7a4d12450a9048f5e,openstack/kolla,master,I150b1afc8235ec0427a9c6c7a4d12450a9048f5e,Create openvswitch-vswichd/db-server for individual fake nova compute,ABANDONED,2016-06-08 00:50:15.000000000,2019-09-19 16:54:44.000000000,,"[{'_account_id': 7488}, {'_account_id': 14103}, {'_account_id': 16993}]","[{'number': 1, 'created': '2016-06-08 00:50:15.000000000', 'files': ['ansible/roles/neutron/tasks/deploy.yml', 'ansible/roles/neutron/tasks/start.yml', 'doc/nova-fake-driver.rst', 'ansible/roles/neutron/tasks/config-neutron-fake.yml', 'ansible/roles/neutron/tasks/start-neutron-fake.yml', 'ansible/roles/neutron/templates/openvswitch-vswitchd.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/15fd4fb3b358109e5cad7ee4fcba6a33a7bb62b7', 'message': 'Create openvswitch-vswichd/db-server for individual fake nova compute\n\nIn emulation setup, each emulated nova-compute container should have\nits own neutron agent and openvswitch containers.\n\nChange-Id: I150b1afc8235ec0427a9c6c7a4d12450a9048f5e\ncloses-Bug: #1569031\n'}]",8,326773,15fd4fb3b358109e5cad7ee4fcba6a33a7bb62b7,9,3,1,16993,,,0,"Create openvswitch-vswichd/db-server for individual fake nova compute

In emulation setup, each emulated nova-compute container should have
its own neutron agent and openvswitch containers.

Change-Id: I150b1afc8235ec0427a9c6c7a4d12450a9048f5e
closes-Bug: #1569031
",git fetch https://review.opendev.org/openstack/kolla refs/changes/73/326773/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/tasks/deploy.yml', 'ansible/roles/neutron/tasks/start.yml', 'doc/nova-fake-driver.rst', 'ansible/roles/neutron/tasks/config-neutron-fake.yml', 'ansible/roles/neutron/tasks/start-neutron-fake.yml', 'ansible/roles/neutron/templates/openvswitch-vswitchd.json.j2']",6,15fd4fb3b358109e5cad7ee4fcba6a33a7bb62b7,fake-openvswitch-containers," ""command"": ""/usr/sbin/ovs-vswitchd unix:/run/openvswitch/db.sock -vconsole:emer -vsyslog:err -vfile:info --mlockall --log-file=/var/log/openvswitch/ovs-vswitchd.log {% if enable_nova_fake | bool %} --enable-dummy=override {% endif %}"","," ""command"": ""/usr/sbin/ovs-vswitchd unix:/run/openvswitch/db.sock -vconsole:emer -vsyslog:err -vfile:info --mlockall --log-file=/var/log/openvswitch/ovs-vswitchd.log"",",165,55
openstack%2Fkolla~master~I0e0b4bf00c6186cad5e74edf9ef6c5e0fae07341,openstack/kolla,master,I0e0b4bf00c6186cad5e74edf9ef6c5e0fae07341,Restart heka container after config change,ABANDONED,2016-05-06 11:30:04.000000000,2019-09-19 16:54:40.000000000,,"[{'_account_id': 1390}, {'_account_id': 8300}]","[{'number': 1, 'created': '2016-05-06 11:30:04.000000000', 'files': ['ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/92139ac9a27190107c4a6d6c58e4a25050ceb102', 'message': 'Restart heka container after config change\n\nAfter enabling central_logging in already deployed system,\nheka container is not getting restarted. Because of this\nlogs are not getting indexed to elasticsearch.\n\nRestarting heka container only when heka config has changed\nand heka container is in running state.\n\nChange-Id: I0e0b4bf00c6186cad5e74edf9ef6c5e0fae07341\nCloses-Bug: #1571434\n'}]",2,313512,92139ac9a27190107c4a6d6c58e4a25050ceb102,15,2,1,8300,,,0,"Restart heka container after config change

After enabling central_logging in already deployed system,
heka container is not getting restarted. Because of this
logs are not getting indexed to elasticsearch.

Restarting heka container only when heka config has changed
and heka container is in running state.

Change-Id: I0e0b4bf00c6186cad5e74edf9ef6c5e0fae07341
Closes-Bug: #1571434
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/313512/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/config.yml'],1,92139ac9a27190107c4a6d6c58e4a25050ceb102,bug/1571434," register: heka_conf - name: Ensuring the heka container is up kolla_docker: name: ""heka"" action: ""get_container_state"" register: container_state ignore_errors: yes - name: Restarting the heka container after changing config kolla_docker: name: ""heka"" action: ""restart_container"" when: - heka_conf|changed - container_state|success - container_state.Running == true",,17,0
openstack%2Fkolla~master~I166ef5d4fa75ca93d3e60c8ab002546cf141d4c1,openstack/kolla,master,I166ef5d4fa75ca93d3e60c8ab002546cf141d4c1,"Keystone ""user"" role added by default.",ABANDONED,2016-07-22 12:41:58.000000000,2019-09-19 16:54:30.000000000,,"[{'_account_id': 7488}, {'_account_id': 14103}, {'_account_id': 17938}, {'_account_id': 22874}]","[{'number': 1, 'created': '2016-07-22 12:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4d2384fe64d2c387c4155e4c015e92683309d39', 'message': 'Keystone ""user"" role added by default.\nThe role ""user"" will be added during keystone bootstrap\nand it is configured as the default role in Horizon.\n\nChange-Id: I166ef5d4fa75ca93d3e60c8ab002546cf141d4c1\nCloses-Bug: 1604710\n'}, {'number': 2, 'created': '2016-07-22 12:51:02.000000000', 'files': ['ansible/roles/horizon/templates/local_settings.j2', 'docker/keystone/keystone_bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e94c4ae47c0386c630bf76d09cfbb453282b109', 'message': 'Keystone ""user"" role added by default.\n\nThe role ""user"" is added during keystone bootstrap\nand it is configured as the default role in Horizon.\n\nChange-Id: I166ef5d4fa75ca93d3e60c8ab002546cf141d4c1\nCloses-Bug: #1604710\n'}]",0,346008,8e94c4ae47c0386c630bf76d09cfbb453282b109,18,4,2,22874,,,0,"Keystone ""user"" role added by default.

The role ""user"" is added during keystone bootstrap
and it is configured as the default role in Horizon.

Change-Id: I166ef5d4fa75ca93d3e60c8ab002546cf141d4c1
Closes-Bug: #1604710
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/346008/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/templates/local_settings.j2', 'docker/keystone/keystone_bootstrap.sh']",2,f4d2384fe64d2c387c4155e4c015e92683309d39,bug/1604710,"role_user_create=$(openstack --os-username ""${USERNAME}"" --os-password ""${PASSWORD}"" --os-tenant-name ""${PROJECT}"" --os-auth-url ""${ADMIN_URL}"" --os-identity-api-version 3 role create user 2>&1) changed=$(echo ""${keystone_bootstrap}"" ""${role_user_create}"" | awk ' /Skipping public endpoint as already created/ || /Conflict occurred attempting to store role - Duplicate Entry/ {count++} END { if (count == 10) changed=""false""; else changed=""true""","changed=$(echo ""${keystone_bootstrap}"" | awk ' /Skipping public endpoint as already created/ {count++} END { if (count == 9) changed=""false""; else changed=""true""",7,4
openstack%2Fkolla~master~I7715a2a40df673999284698ccf6f9272ffeb29de,openstack/kolla,master,I7715a2a40df673999284698ccf6f9272ffeb29de,[WIP] Drop root for ceph containers,ABANDONED,2016-03-08 07:41:52.000000000,2019-09-19 16:54:16.000000000,,[{'_account_id': 11105}],"[{'number': 1, 'created': '2016-03-08 07:41:52.000000000', 'files': ['docker/ceph/ceph-base/Dockerfile.j2', 'docker/ceph/ceph-osd/Dockerfile.j2', 'docker/ceph/ceph-rgw/Dockerfile.j2', 'docker/ceph/ceph-mon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fe3e84eb96ea33e743d0186c7ce22316dbd47781', 'message': ""[WIP] Drop root for ceph containers\n\nUpdates to ensure commands run in the ceph containers\nare done as the 'ceph' user rather than root.\n\nChange-Id: I7715a2a40df673999284698ccf6f9272ffeb29de\nCloses-Bug:#1553515\n""}]",0,289763,fe3e84eb96ea33e743d0186c7ce22316dbd47781,11,1,1,11105,,,0,"[WIP] Drop root for ceph containers

Updates to ensure commands run in the ceph containers
are done as the 'ceph' user rather than root.

Change-Id: I7715a2a40df673999284698ccf6f9272ffeb29de
Closes-Bug:#1553515
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/289763/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ceph/ceph-base/Dockerfile.j2', 'docker/ceph/ceph-osd/Dockerfile.j2', 'docker/ceph/ceph-rgw/Dockerfile.j2', 'docker/ceph/ceph-mon/Dockerfile.j2']",4,fe3e84eb96ea33e743d0186c7ce22316dbd47781,bug/1553515, USER ceph,,8,0
openstack%2Fkolla~master~I516c0df385d082607238589f68e2929434d961a3,openstack/kolla,master,I516c0df385d082607238589f68e2929434d961a3,Fixing kolla's problem with ansible var precedence,ABANDONED,2016-07-22 10:39:14.000000000,2019-09-19 16:54:09.000000000,,[{'_account_id': 7488}],"[{'number': 1, 'created': '2016-07-22 10:39:14.000000000', 'files': ['ansible/inventory/multinode', 'doc/quickstart.rst', 'ansible/group_vars/all.yml', 'tools/deploy_aio.sh', 'doc/advanced-configuration.rst', 'dev/vagrant/bootstrap.sh', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b4b3a728ffe6024f83b780a11062e8e85ea164b4', 'message': ""Fixing kolla's problem with ansible var precedence\n\ndefault_*_interface options were introduced in order to fix problem\nwith *_interface vars specification made in inventory file.\n\nChange-Id: I516c0df385d082607238589f68e2929434d961a3\nCloses-Bug: #1604129\nCloses-Bug: #1586524\n""}]",0,345972,b4b3a728ffe6024f83b780a11062e8e85ea164b4,6,1,1,22835,,,0,"Fixing kolla's problem with ansible var precedence

default_*_interface options were introduced in order to fix problem
with *_interface vars specification made in inventory file.

Change-Id: I516c0df385d082607238589f68e2929434d961a3
Closes-Bug: #1604129
Closes-Bug: #1586524
",git fetch https://review.opendev.org/openstack/kolla refs/changes/72/345972/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'doc/quickstart.rst', 'ansible/group_vars/all.yml', 'tools/deploy_aio.sh', 'doc/advanced-configuration.rst', 'dev/vagrant/bootstrap.sh', 'etc/kolla/globals.yml']",7,b4b3a728ffe6024f83b780a11062e8e85ea164b4,bug/1604129,"# 'default_network_interface' as set in the Networking section below.default_network_interface: ""eth0""# the 'default_network_interface'. These interfaces must contain an IPv4 address. #default_kolla_external_vip_interface: ""{{ default_network_interface }}"" #default_api_interface: ""{{ default_network_interface }}"" #default_storage_interface: ""{{ default_network_interface }}"" #default_cluster_interface: ""{{ default_network_interface }}"" #default_tunnel_interface: ""{{ default_network_interface }}""default_neutron_external_interface: ""eth1"" #Any of the 'default_*_interface' variables can be customized even more in the #inventory file. If any host have different configuration of the interfaces then #its definition in the inventory should specify them without the 'default_' #prefix. Check inventory file for the example usage. # To provide encryption and authentication on the # default_kolla_external_vip_interface, TLS can be enabled. When TLS is # enabled, certificates must be provided to allow clients to perform # authentication.","# 'network_interface' as set in the Networking section below.network_interface: ""eth0""# the 'network_interface'. These interfaces must contain an IPv4 address. #kolla_external_vip_interface: ""{{ network_interface }}"" #api_interface: ""{{ network_interface }}"" #storage_interface: ""{{ network_interface }}"" #cluster_interface: ""{{ network_interface }}"" #tunnel_interface: ""{{ network_interface }}""neutron_external_interface: ""eth1""# To provide encryption and authentication on the kolla_external_vip_interface, # TLS can be enabled. When TLS is enabled, certificates must be provided to # allow clients to perform authentication.",47,38
openstack%2Fkolla~master~Ia54f1c3f1d1a03c380b1525e33d3a2d461902231,openstack/kolla,master,Ia54f1c3f1d1a03c380b1525e33d3a2d461902231,Added code to assign labels to newly created kolla volumes.,ABANDONED,2016-11-01 07:09:33.000000000,2019-09-19 16:53:51.000000000,,"[{'_account_id': 7488}, {'_account_id': 22165}]","[{'number': 1, 'created': '2016-11-01 07:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bb402ba04cb2507da57d5f00347b7d161635532b', 'message': 'Added code to assign labels to newly created kolla volumes.\n\nCloses-Bug: #1630545\n\nChange-Id: Ia54f1c3f1d1a03c380b1525e33d3a2d461902231\n'}, {'number': 2, 'created': '2016-11-01 08:51:03.000000000', 'files': ['ansible/library/kolla_docker.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1033e361cbd1ad21adacb35da6d2868a7b407c76', 'message': 'Added code to assign labels to newly created kolla volumes.\n\nCloses-Bug: #1630545\n\nChange-Id: Ia54f1c3f1d1a03c380b1525e33d3a2d461902231\n'}]",1,392049,1033e361cbd1ad21adacb35da6d2868a7b407c76,9,2,2,16244,,,0,"Added code to assign labels to newly created kolla volumes.

Closes-Bug: #1630545

Change-Id: Ia54f1c3f1d1a03c380b1525e33d3a2d461902231
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/392049/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/library/kolla_docker.py'],1,bb402ba04cb2507da57d5f00347b7d161635532b,fix_bug_1630545," from kolla.version import version_info as kolla_version version = kolla_version.canonical_version_string() dc_api_version = self.dc.version()['ApiVersion'] if utils.compare_version('1.23', dc_api_version) >= 0: self.dc.create_volume(name=self.params.get('name'), driver='local', labels={'kolla_version': version}) else: self.dc.create_volume(name=self.params.get('name'), driver='local')"," self.dc.create_volume(name=self.params.get('name'), driver='local')",10,1
openstack%2Fkolla~master~Id64ed714b36104804071d7962af119e97f14cf6c,openstack/kolla,master,Id64ed714b36104804071d7962af119e97f14cf6c,[WIP] Proxy settings for containers that need internet access,ABANDONED,2016-09-28 18:21:26.000000000,2019-09-19 16:53:45.000000000,,"[{'_account_id': 167}, {'_account_id': 10787}, {'_account_id': 16233}, {'_account_id': 21061}]","[{'number': 1, 'created': '2016-09-28 18:21:26.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/magnum/tasks/start.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a5ebe4f1f59f60db9b40c05966b2ce2ddf8f0c95', 'message': '[WIP] Proxy settings for containers that need internet access\n\nChange-Id: Id64ed714b36104804071d7962af119e97f14cf6c\nCloses-Bug: #1628335\n'}]",0,378949,a5ebe4f1f59f60db9b40c05966b2ce2ddf8f0c95,10,4,1,21061,,,0,"[WIP] Proxy settings for containers that need internet access

Change-Id: Id64ed714b36104804071d7962af119e97f14cf6c
Closes-Bug: #1628335
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/378949/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/magnum/tasks/start.yml', 'etc/kolla/globals.yml']",3,a5ebe4f1f59f60db9b40c05966b2ce2ddf8f0c95,bug/1628335,"# Proxy setting for openstack services that need internet access. #container_proxy: # http_proxy: ""http://proxy-server.organization.com:8080"" # https_proxy: ""http://proxy-server.organization.com:8081"" # no_proxy: ""localhost,127.0.0.1,{{ kolla_internal_vip_address }},{{ api_interface_address }}"" ",,8,0
openstack%2Fkolla~master~Ib0d6214fa87f271e8e5be597d6adfe76aa40d5a0,openstack/kolla,master,Ib0d6214fa87f271e8e5be597d6adfe76aa40d5a0,Missing customization of tenant network,ABANDONED,2016-11-08 14:29:23.000000000,2019-09-19 16:53:34.000000000,,"[{'_account_id': 11105}, {'_account_id': 11869}, {'_account_id': 16704}]","[{'number': 1, 'created': '2016-11-08 14:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/35a84f622108eb821f0c5fa19fa200fd46667663', 'message': 'Missing customization of tenant network\n\nThis patch:\n . allows to specify a type of a tenant network\n . adds VLAN tenant type support\n\nChanges:\nansible/group_vars/all.yml: add new variables for tenant type and VLAN\n . neutron_tenant_type -- sets tenant type\n . neutron_vlan_physnet -- sets name of VLAN network\n . neutron_vlan_range -- sets range for VLAN IDs\n . neutron_vlan_bridge -- sets bridge name for VLAN network\n . neutron_vlan_interface -- sets link name that will be added to VLAN bridge\n\nansible/roles/neutron/tasks/start.yml: add a task for creating a VLAN bridge\n\nansible/roles/neutron/templates/ml2_conf.ini.j2: fix template to support VLAN\n\nTo deploy OpenStack with VLAN as a tenant mechanism the following variables\nhave to be set:\nneutron_tenant_type: ""vlan""\nneutron_vlan_physnet: ""any_name_other_than_physnet1""\nneutron_vlan_interface: ""link_name_of_data_network""\n\nChange-Id: Ib0d6214fa87f271e8e5be597d6adfe76aa40d5a0\nCloses-Bug: #1640183\n'}, {'number': 2, 'created': '2016-11-09 15:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0fe79a7e7a9114d8748edca1401e95c6b544f7ef', 'message': 'Missing customization of tenant network\n\nThis patch:\n . allows to specify a type of a tenant network\n . adds VLAN tenant type support\n\nChanges:\nansible/group_vars/all.yml: add new variables for tenant type and VLAN\n . neutron_tenant_type -- sets tenant type\n . neutron_vlan_physnet -- sets name of VLAN network\n . neutron_vlan_range -- sets range for VLAN IDs\n . neutron_vlan_bridge -- sets bridge name for VLAN network\n . neutron_vlan_interface -- sets link name that will be added to VLAN bridge\n\nansible/roles/neutron/tasks/start.yml: add a task for creating a VLAN bridge\n\nansible/roles/neutron/templates/ml2_conf.ini.j2: fix template to support VLAN\n\nTo deploy OpenStack with VLAN as a tenant mechanism the following variables\nhave to be set:\nneutron_tenant_type: ""vlan""\nneutron_vlan_physnet: ""any_name_other_than_physnet1""\nneutron_vlan_interface: ""link_name_of_data_network""\n\nChange-Id: Ib0d6214fa87f271e8e5be597d6adfe76aa40d5a0\nCloses-Bug: #1640183\n'}, {'number': 3, 'created': '2016-11-10 10:41:54.000000000', 'files': ['ansible/roles/neutron/tasks/start.yml', 'ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3fafdbfb68436ed9bd69b85491bb3d5376352dad', 'message': 'Missing customization of tenant network\n\nThis patch:\n . allows to specify a type of a tenant network\n . adds VLAN tenant type support\n\nChanges:\nansible/group_vars/all.yml: add new variables for tenant type and VLAN\n . neutron_tenant_type -- sets tenant type\n . neutron_vlan_physnet -- sets name of VLAN network\n . neutron_vlan_range -- sets range for VLAN IDs\n . neutron_vlan_bridge -- sets bridge name for VLAN network\n . neutron_vlan_interface -- sets link name that will be added to VLAN bridge\n\nansible/roles/neutron/tasks/start.yml: add a task for creating a VLAN bridge\n\nansible/roles/neutron/templates/ml2_conf.ini.j2: fix template to support VLAN\n\nTo deploy OpenStack with VLAN as a tenant mechanism the following variables\nhave to be set:\nneutron_tenant_type: ""vlan""\nneutron_vlan_physnet: ""any_name_other_than_physnet1""\nneutron_vlan_interface: ""link_name_of_data_network""\n\nChange-Id: Ib0d6214fa87f271e8e5be597d6adfe76aa40d5a0\nCloses-Bug: #1640183\n'}]",0,394988,3fafdbfb68436ed9bd69b85491bb3d5376352dad,13,3,3,16704,,,0,"Missing customization of tenant network

This patch:
 . allows to specify a type of a tenant network
 . adds VLAN tenant type support

Changes:
ansible/group_vars/all.yml: add new variables for tenant type and VLAN
 . neutron_tenant_type -- sets tenant type
 . neutron_vlan_physnet -- sets name of VLAN network
 . neutron_vlan_range -- sets range for VLAN IDs
 . neutron_vlan_bridge -- sets bridge name for VLAN network
 . neutron_vlan_interface -- sets link name that will be added to VLAN bridge

ansible/roles/neutron/tasks/start.yml: add a task for creating a VLAN bridge

ansible/roles/neutron/templates/ml2_conf.ini.j2: fix template to support VLAN

To deploy OpenStack with VLAN as a tenant mechanism the following variables
have to be set:
neutron_tenant_type: ""vlan""
neutron_vlan_physnet: ""any_name_other_than_physnet1""
neutron_vlan_interface: ""link_name_of_data_network""

Change-Id: Ib0d6214fa87f271e8e5be597d6adfe76aa40d5a0
Closes-Bug: #1640183
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/394988/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/tasks/start.yml', 'ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/group_vars/all.yml']",3,35a84f622108eb821f0c5fa19fa200fd46667663,394988,"# Valid options are [ vlan, gre, vxlan] neutron_tenant_type: ""vxlan"" # VLAN settings neutron_vlan_physnet: ""physnet1"" neutron_vlan_range: ""1:1000"" neutron_vlan_bridge: ""br-vlan"" neutron_vlan_interface: ""-"" ",,54,7
openstack%2Fkolla~master~I830114564ef546b521ee408be146c862af58c4da,openstack/kolla,master,I830114564ef546b521ee408be146c862af58c4da,Test: make enforce_type=True in CONF.set_override,ABANDONED,2016-09-07 15:22:37.000000000,2019-09-19 16:53:29.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 18009}]","[{'number': 1, 'created': '2016-09-07 15:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d4d57da057bccdacd36afe7e481b4f9aac0e5b2', 'message': ""Test: make enforce_type=True in CONF.set_override\n\nEach config option has limitation for type and value.\nIn production code, oslo.conf can ensure user's input is valid, but in\nunit testtest methods can pass if we use method CONF.set_override without\nparameter enforce_type=True even we pass wrong type or wrong value to config option.\n\nThis commit makes sure calling method CONF.set_override with enforce_type=True\n\nChange-Id: I830114564ef546b521ee408be146c862af58c4da\nCloses-Bug: #1517839\n""}, {'number': 2, 'created': '2016-09-08 09:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d06fcbf768717c4c11a0b3a72b8117826ae2396d', 'message': ""Test: make enforce_type=True in CONF.set_override\n\nEach config option has limitation for type and value.\nIn production code, oslo.conf can ensure user's input is valid, but in\nunit testtest methods can pass if we use method CONF.set_override without\nparameter enforce_type=True even we pass wrong type or wrong value to config option.\n\nThis commit makes sure calling method CONF.set_override with enforce_type=True\n\nChange-Id: I830114564ef546b521ee408be146c862af58c4da\nCloses-Bug: #1517839\n""}, {'number': 3, 'created': '2016-09-08 09:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1cccd9d437e008bcce0890e70533bae8d1326f56', 'message': ""Test: make enforce_type=True in CONF.set_override\n\nEach config option has limitation for type and value.\nIn production code, oslo.conf can ensure user's input is valid, but in\nunit testtest methods can pass if we use method CONF.set_override\nwithout parameter enforce_type=True even we pass wrong type or wrong\nvalue to config option.\n\nThis commit makes sure calling method CONF.set_override\nwith enforce_type=True\n\nChange-Id: I830114564ef546b521ee408be146c862af58c4da\nCloses-Bug: #1517839\n""}, {'number': 4, 'created': '2016-09-20 11:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b334fd071fec7293c6557fb5d6c68ac03590d561', 'message': ""Test: make enforce_type=True in CONF.set_override\n\nEach config option has limitation for type and value.\nIn production code, oslo.conf can ensure user's input is valid, but in\nunit testtest methods can pass if we use method CONF.set_override\nwithout parameter enforce_type=True even we pass wrong type or wrong\nvalue to config option.\n\nThis commit makes sure calling method CONF.set_override\nwith enforce_type=True\n\nChange-Id: I830114564ef546b521ee408be146c862af58c4da\nCloses-Bug: #1517839\n""}, {'number': 5, 'created': '2016-09-22 11:42:34.000000000', 'files': ['kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ffafc8061a1782ea0c523550eaec5eb15556ff00', 'message': ""Test: make enforce_type=True in CONF.set_override\n\nEach config option has limitation for type and value.\nIn production code, oslo.conf can ensure user's input is valid, but in\nunit testtest methods can pass if we use method CONF.set_override\nwithout parameter enforce_type=True even we pass wrong type or wrong\nvalue to config option.\n\nThis commit makes sure calling method CONF.set_override\nwith enforce_type=True\n\nChange-Id: I830114564ef546b521ee408be146c862af58c4da\nCloses-Bug: #1517839\n""}]",4,366818,ffafc8061a1782ea0c523550eaec5eb15556ff00,20,4,5,18009,,,0,"Test: make enforce_type=True in CONF.set_override

Each config option has limitation for type and value.
In production code, oslo.conf can ensure user's input is valid, but in
unit testtest methods can pass if we use method CONF.set_override
without parameter enforce_type=True even we pass wrong type or wrong
value to config option.

This commit makes sure calling method CONF.set_override
with enforce_type=True

Change-Id: I830114564ef546b521ee408be146c862af58c4da
Closes-Bug: #1517839
",git fetch https://review.opendev.org/openstack/kolla refs/changes/18/366818/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/tests/test_build.py'],1,3d4d57da057bccdacd36afe7e481b4f9aac0e5b2,bug/1590639," self.conf.set_override('build_args', build_args, enforce_type=True) self.conf.set_override('build_args', build_args, enforce_type=True) self.conf.set_override('base', base_distro, enforce_type=True) self.conf.set_override('install_type', install_type, enforce_type=True) self.conf.set_override('base', base_distro, enforce_type=True) self.conf.set_override('install_type', install_type, enforce_type=True) self.conf.set_override('install_type', 'source', enforce_type=True) self.conf.set_override('profile', ['default'], enforce_type=True) self.conf.set_override('profile', ['infra'], enforce_type=True) self.conf.set_override('profile', ['not_exist'], enforce_type=True)"," self.conf.set_override('build_args', build_args) self.conf.set_override('build_args', build_args) self.conf.set_override('base', base_distro) self.conf.set_override('install_type', install_type) self.conf.set_override('base', base_distro) self.conf.set_override('install_type', install_type) self.conf.set_override('install_type', 'source') self.conf.set_override('profile', ['default']) self.conf.set_override('profile', ['infra']) self.conf.set_override('profile', ['not_exist'])",12,10
openstack%2Fkolla~master~If1b63b7553e66523d14ce242e0afcd525b30c0b9,openstack/kolla,master,If1b63b7553e66523d14ce242e0afcd525b30c0b9,Make ceph monitor nodes deploy separately,ABANDONED,2016-10-11 08:41:27.000000000,2019-09-19 16:53:17.000000000,,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 21413}]","[{'number': 1, 'created': '2016-10-11 08:41:27.000000000', 'files': ['ansible/roles/nova/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/glance/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a52ba4dd40c62d5540f3cf3e0456b42970587fa', 'message': ""Make ceph monitor nodes deploy separately\n\nWhen deploy cinder, glance, nova with ceph, if one monitor node doesn't\non groups['glance-api'] or groups['nova-api'] or groups['cinder-api'],\nit will deploy fail, because the relative task skipping, and the task\nis set to run only once, it leads to this task can't be executed for ever.\n\nChange-Id: If1b63b7553e66523d14ce242e0afcd525b30c0b9\nCloses-Bug: #1631861\n""}]",2,384878,4a52ba4dd40c62d5540f3cf3e0456b42970587fa,17,4,1,21413,,,0,"Make ceph monitor nodes deploy separately

When deploy cinder, glance, nova with ceph, if one monitor node doesn't
on groups['glance-api'] or groups['nova-api'] or groups['cinder-api'],
it will deploy fail, because the relative task skipping, and the task
is set to run only once, it leads to this task can't be executed for ever.

Change-Id: If1b63b7553e66523d14ce242e0afcd525b30c0b9
Closes-Bug: #1631861
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/384878/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/glance/tasks/deploy.yml']",3,4a52ba4dd40c62d5540f3cf3e0456b42970587fa,bug/1631861, when: inventory_hostname in groups['glance-api'] or (enable_ceph | bool and inventory_hostname in groups['ceph-mon']) when: inventory_hostname in groups['glance-api'] or (enable_ceph | bool and inventory_hostname in groups['ceph-mon']) inventory_hostname in groups['glance-registry'] or (enable_ceph | bool and inventory_hostname in groups['ceph-mon']), when: inventory_hostname in groups['glance-api'] when: inventory_hostname in groups['glance-api'] inventory_hostname in groups['glance-registry'],16,8
openstack%2Fkolla~master~I5d7193e1bad60396b03758b342f99f7eaedde052,openstack/kolla,master,I5d7193e1bad60396b03758b342f99f7eaedde052,Update the cleanup-host script for swift cleanup.,ABANDONED,2016-11-03 17:25:22.000000000,2019-09-19 16:52:42.000000000,,"[{'_account_id': 7488}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-11-03 17:25:22.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/destroy/tasks/copy_tools.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/408b5578f57aac0fc23fe0e17729f4caefaa0b03', 'message': 'Update the cleanup-host script for swift cleanup.\n\nWhen the destroy role is run against nodes, logic is included to\ndo cleanup for swift (similar to ceph). However, as the\nswift_devices_mount_point may vary, the copy task takes care of\nappending to the cleanup-host script as needed.\n\nChange-Id: I5d7193e1bad60396b03758b342f99f7eaedde052\nCloses-Bug: #1638989\n'}]",1,393421,408b5578f57aac0fc23fe0e17729f4caefaa0b03,7,2,1,16704,,,0,"Update the cleanup-host script for swift cleanup.

When the destroy role is run against nodes, logic is included to
do cleanup for swift (similar to ceph). However, as the
swift_devices_mount_point may vary, the copy task takes care of
appending to the cleanup-host script as needed.

Change-Id: I5d7193e1bad60396b03758b342f99f7eaedde052
Closes-Bug: #1638989
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/393421/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/destroy/tasks/copy_tools.yml']",3,408b5578f57aac0fc23fe0e17729f4caefaa0b03,,"- name: Updating cleanup-host file blockinfile: dest: /tmp/kolla-cleanup/tools/cleanup-host marker: ""# {mark} ANSIBLE MANAGED BLOCK"" block: | echo ""Unmounting Swift disks"" for mount in $(mount | awk '/{{ swift_devices_mount_point.replace('/', '\/') }}/ { print $3 }'); do umount $mount done echo ""Removing swift references from fstab..."" sed -i '/{{ swift_devices_mount_point.replace('/', '\/') }}/d' /etc/fstab ",,20,1
openstack%2Fkolla~master~I35ec6741f0a5305237bdd8a797e09ebfa29a9cc2,openstack/kolla,master,I35ec6741f0a5305237bdd8a797e09ebfa29a9cc2,Steps to add vnic interface,ABANDONED,2016-12-21 04:35:08.000000000,2019-09-19 16:52:34.000000000,,"[{'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 18593}, {'_account_id': 22165}, {'_account_id': 24164}]","[{'number': 1, 'created': '2016-12-21 04:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b9ec5033f2f01e05d47b3c504266bbef4af440d', 'message': 'Steps to add vnic interface\n\ncontains steps required to add veth pair and use one end of veth\npair as a second interface for deployment.\nCloses-Bug: 1514227\n\nChange-Id: I35ec6741f0a5305237bdd8a797e09ebfa29a9cc2\n'}, {'number': 2, 'created': '2016-12-23 02:01:51.000000000', 'files': ['doc/quickstart.rst', 'doc/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b00880ba95fab256ccb8ab18009850d40a8a6a00', 'message': 'Steps to add vnic interface\n\ncontains steps required to add veth pair and use one end of veth\npair as a second interface for deployment.\nCloses-Bug: 1514227\n\nChange-Id: I35ec6741f0a5305237bdd8a797e09ebfa29a9cc2\n'}]",1,413404,b00880ba95fab256ccb8ab18009850d40a8a6a00,13,5,2,18593,,,0,"Steps to add vnic interface

contains steps required to add veth pair and use one end of veth
pair as a second interface for deployment.
Closes-Bug: 1514227

Change-Id: I35ec6741f0a5305237bdd8a797e09ebfa29a9cc2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/413404/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/quickstart.rst'],1,7b9ec5033f2f01e05d47b3c504266bbef4af440d,bug/1514227,"For single nic installations, create `Virtual Nic`_ to be used as second nic. Virtual Nic =========== For machines with single nic, create a linuxbridge and a veth pair. Add one end of veth pair to linuxbridge and use the other end as second interface (which will be used for public network by openstack). :: apt-get install bridge-utils ip link add type veth ip link set dev veth0 up ip link set dev veth1 up brctl addbr uplinkbridge brctl addif uplinkbridge veth0 ip link set dev uplinkbridge up Now, use veth1 as the second interface instead of eth1 in configuration. ",,22,0
openstack%2Fkolla~master~I6214b94adb01a6fcecf94b62d8a041f16162d4ec,openstack/kolla,master,I6214b94adb01a6fcecf94b62d8a041f16162d4ec,user wont be associated to project if ldap is keystone backend,ABANDONED,2017-01-02 12:21:25.000000000,2019-09-19 16:52:15.000000000,,"[{'_account_id': 14387}, {'_account_id': 16233}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-01-02 12:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d073b18eb2254434797a3b57545da48fa4bec5c8', 'message': 'user wont be associated to project is ldap is keystone backend\n\nAs per the code in the kolla-toolbox only is user is created then\nuser will be associated to the project with the specific role\ngiven in the command. When we use ldap as backend, user is already\npresent so it wont get associated to project provided.\n\nChange-Id: I6214b94adb01a6fcecf94b62d8a041f16162d4ec\nCloses-Bug: #1653501\n'}, {'number': 2, 'created': '2017-01-02 12:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/31e91967fb251e73bbe14b9688589077f7a9c495', 'message': 'user wont be associated to project is ldap is keystone backend\n\nAs per the code in the kolla-toolbox only when user is created then\nuser will be associated to the project with the specific role\ngiven in the command. When we use ldap as backend, user is already\npresent so it wont get associated to project provided.\n\nChange-Id: I6214b94adb01a6fcecf94b62d8a041f16162d4ec\nCloses-Bug: #1653501\n'}, {'number': 3, 'created': '2017-01-02 13:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bbf0aa4108b9f6442c7ecb9e48d37095acea8f66', 'message': 'user wont be associated to project is ldap is keystone backend\n\nAs per the code in the kolla-toolbox only when user is created then\nuser will be associated to the project with the specific role\ngiven in the command. When we use ldap as backend, user is already\npresent so it wont get associated to project provided.\n\nChange-Id: I6214b94adb01a6fcecf94b62d8a041f16162d4ec\nCloses-Bug: #1653501\n'}, {'number': 4, 'created': '2017-01-13 06:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/59f5f21ac1e0c57406c6dfd903e363af5c97ccdf', 'message': 'user wont be associated to project if ldap is keystone backend\n\nAs per the code in the kolla-toolbox only when user is created then\nuser will be associated to the project with the specific role\ngiven in the command. When we use ldap as backend, user is already\npresent so it wont get associated to project provided.\n\nChange-Id: I6214b94adb01a6fcecf94b62d8a041f16162d4ec\nCloses-Bug: #1653501\n'}, {'number': 5, 'created': '2017-01-13 07:22:08.000000000', 'files': ['docker/kolla-toolbox/kolla_keystone_user.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f23a69d4484f89cf61b587f05179d7b9bb93cd61', 'message': 'user wont be associated to project if ldap is keystone backend\n\nAs per the code in the kolla-toolbox only when user is created then\nuser will be associated to the project with the specific role\ngiven in the command. When we use ldap as backend, user is already\npresent so it wont get associated to project provided.\n\nChange-Id: I6214b94adb01a6fcecf94b62d8a041f16162d4ec\nCloses-Bug: #1653501\n'}]",1,416043,f23a69d4484f89cf61b587f05179d7b9bb93cd61,17,3,5,20129,,,0,"user wont be associated to project if ldap is keystone backend

As per the code in the kolla-toolbox only when user is created then
user will be associated to the project with the specific role
given in the command. When we use ldap as backend, user is already
present so it wont get associated to project provided.

Change-Id: I6214b94adb01a6fcecf94b62d8a041f16162d4ec
Closes-Bug: #1653501
",git fetch https://review.opendev.org/openstack/kolla refs/changes/43/416043/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/kolla_keystone_user.py'],1,d073b18eb2254434797a3b57545da48fa4bec5c8,bug/1653501," cloud.keystone_client.role.grant(role=role, user=user, project=project)"," cloud.keystone_client.roles.grant(role=role, user=user, project=project)",2,3
openstack%2Fkolla~master~Iefd9bf9de5cdf56dcc6b8642a935ed5c5c114f98,openstack/kolla,master,Iefd9bf9de5cdf56dcc6b8642a935ed5c5c114f98,Modify punctuation,ABANDONED,2017-01-20 02:14:38.000000000,2019-09-19 16:51:34.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 22165}, {'_account_id': 24036}, {'_account_id': 24164}, {'_account_id': 24742}, {'_account_id': 24763}, {'_account_id': 24909}]","[{'number': 1, 'created': '2017-01-20 02:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b8f09d66182218a818116e4127f08f9869139de', 'message': 'Modify punctuation\nBug-id: #1657933\n\nChange-Id: Iefd9bf9de5cdf56dcc6b8642a935ed5c5c114f98\n'}, {'number': 2, 'created': '2017-01-20 02:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f64786d1c9cc73852679a1959ff1c5eaf6ba9d90', 'message': 'Modify punctuation\n\nChange-Id: Iefd9bf9de5cdf56dcc6b8642a935ed5c5c114f98\nBug-id: #1657933\n'}, {'number': 3, 'created': '2017-01-20 02:35:50.000000000', 'files': ['doc/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4aa65cf16bf661ae8f4fe534de0021f70aa3473d', 'message': 'Modify punctuation\n\nChange-Id: Iefd9bf9de5cdf56dcc6b8642a935ed5c5c114f98\nCloses-Bug: #1657933\n'}]",0,422985,4aa65cf16bf661ae8f4fe534de0021f70aa3473d,19,9,3,24762,,,0,"Modify punctuation

Change-Id: Iefd9bf9de5cdf56dcc6b8642a935ed5c5c114f98
Closes-Bug: #1657933
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/422985/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/quickstart.rst'],1,6b8f09d66182218a818116e4127f08f9869139de,bug/1657933," kolla_internal_vip_address: ""192.168.137.79""", kolla_internal_vip_address: “192.168.137.79”,1,1
openstack%2Fkolla~master~I1dec04ef13d25a1c9804e22b9ed37f8d2db7fa75,openstack/kolla,master,I1dec04ef13d25a1c9804e22b9ed37f8d2db7fa75,In kubernetes ovs and l3 agents need to run as root,ABANDONED,2016-08-18 02:05:04.000000000,2019-09-19 16:51:27.000000000,,"[{'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 7488}]","[{'number': 1, 'created': '2016-08-18 02:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3cdc0fda76a6b938a26a1ce0fc5675c3a112728d', 'message': 'In kubernetes neutron-ovs-agent needs to run as root\n\nIn kubernetes communication between ovsdb and neutron-openvswitch-agent\nhappens over db.sock named socket. When the socket gets created neutron\nuser cannot access due to the rights restrictions. It applied ONLY to\nkubernetes environment.\n\nTrivialFix\n\nChange-Id: I1dec04ef13d25a1c9804e22b9ed37f8d2db7fa75\n'}, {'number': 2, 'created': '2016-08-18 02:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9c27214c77cc2c73650f8d754dd8179127fc6943', 'message': 'In kubernetes neutron-ovs-agent needs to run as root\n\nIn kubernetes communication between ovsdb and neutron-openvswitch-agent\nhappens over db.sock named socket. When the socket gets created neutron\nuser cannot access due to the rights restrictions. It applied ONLY to\nkubernetes environment.\n\nTrivialFix\n\nChange-Id: I1dec04ef13d25a1c9804e22b9ed37f8d2db7fa75\n'}, {'number': 3, 'created': '2016-08-18 02:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0be130ff5003e5c9989390b0faec2844dff91a99', 'message': 'In kubernetes neutron-ovs-agent needs to run as root\n\nIn kubernetes communication between ovsdb and neutron-openvswitch-agent\nhappens over db.sock named socket. When the socket gets created neutron\nuser cannot access due to the rights restrictions. It applied ONLY to\nkubernetes environment.\n\nTrivialFix\n\nChange-Id: I1dec04ef13d25a1c9804e22b9ed37f8d2db7fa75\n'}, {'number': 4, 'created': '2016-08-18 11:24:45.000000000', 'files': ['docker/neutron/neutron-openvswitch-agent/Dockerfile.j2', 'docker/neutron/neutron-l3-agent/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/630f6fbb20cccf7ab066c7a394561d0f50c35383', 'message': 'In kubernetes ovs and l3 agents need to run as root\n\nIn kubernetes communication between ovsdb and neutron-openvswitch-agent\nas well as l3 agent happens over db.sock named socket. When the socket\ngets created neutron user cannot access due to the rights restrictions.\nIt applied ONLY to kubernetes environment.\n\nCloses-Bug: #1614489\n\nChange-Id: I1dec04ef13d25a1c9804e22b9ed37f8d2db7fa75\n'}]",0,356827,630f6fbb20cccf7ab066c7a394561d0f50c35383,15,3,4,19384,,,0,"In kubernetes ovs and l3 agents need to run as root

In kubernetes communication between ovsdb and neutron-openvswitch-agent
as well as l3 agent happens over db.sock named socket. When the socket
gets created neutron user cannot access due to the rights restrictions.
It applied ONLY to kubernetes environment.

Closes-Bug: #1614489

Change-Id: I1dec04ef13d25a1c9804e22b9ed37f8d2db7fa75
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/356827/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/openvswitch-db-server.json.j2', 'docker/neutron/neutron-openvswitch-agent/Dockerfile.j2']",2,3cdc0fda76a6b938a26a1ce0fc5675c3a112728d,bug/1614489,{% if orchestration_engine == 'ANSIBLE' %}{% endif %},,3,2
openstack%2Fkolla~master~Ibbb150fa0c529d131069e8ae7b0d56e75a969b40,openstack/kolla,master,Ibbb150fa0c529d131069e8ae7b0d56e75a969b40,fix horizon dashboard for tacker,ABANDONED,2017-02-22 14:50:23.000000000,2019-09-19 16:51:21.000000000,,"[{'_account_id': 7488}, {'_account_id': 7779}, {'_account_id': 10068}, {'_account_id': 11869}, {'_account_id': 19370}, {'_account_id': 20663}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-02-22 14:50:23.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9015ff393609546caac04fbccc085f9a90894de9', 'message': 'fix horizon dashboard for tacker\n\ncloses bug# 1665360\n\nChange-Id: Ibbb150fa0c529d131069e8ae7b0d56e75a969b40\n'}]",1,436955,9015ff393609546caac04fbccc085f9a90894de9,14,7,1,25268,,,0,"fix horizon dashboard for tacker

closes bug# 1665360

Change-Id: Ibbb150fa0c529d131069e8ae7b0d56e75a969b40
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/436955/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,9015ff393609546caac04fbccc085f9a90894de9,bug/1665360," 'python-tackerclient',",,1,0
openstack%2Fopenstack-helm~master~I8d60f52dfaec03586311c4e02c1bbce87b239abc,openstack/openstack-helm,master,I8d60f52dfaec03586311c4e02c1bbce87b239abc,[Nova] Move online db sync to separate job,ABANDONED,2019-09-11 13:42:22.000000000,2019-09-19 16:51:18.000000000,,[],"[{'number': 1, 'created': '2019-09-11 13:42:22.000000000', 'files': ['nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/bin/_db-sync-online.sh.tpl', 'nova/templates/job-db-sync-online.yaml', 'nova/values.yaml', 'keystone/values.yaml', 'keystone/templates/configmap-bin.yaml', 'nova/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52792c38cc8f482d7f3a841bbd894f8716b8bcd2', 'message': '[Nova] Move online db sync to separate job\n\nOnline Db sync have to be executed only when control plane\nservices are upgraded. In order to have ability to execute\nonline db sync directly via helm chart by modifying\nmanifest:nova_db_sync_onlune true|false during upgrade, move\nit to own job.\n\nDepends-On: https://review.opendev.org/#/c/681476/\nChange-Id: I8d60f52dfaec03586311c4e02c1bbce87b239abc\n'}]",0,681482,52792c38cc8f482d7f3a841bbd894f8716b8bcd2,3,0,1,14525,,,0,"[Nova] Move online db sync to separate job

Online Db sync have to be executed only when control plane
services are upgraded. In order to have ability to execute
online db sync directly via helm chart by modifying
manifest:nova_db_sync_onlune true|false during upgrade, move
it to own job.

Depends-On: https://review.opendev.org/#/c/681476/
Change-Id: I8d60f52dfaec03586311c4e02c1bbce87b239abc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/82/681482/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/bin/_db-sync-online.sh.tpl', 'nova/templates/job-db-sync-online.yaml', 'nova/values.yaml', 'keystone/values.yaml', 'keystone/templates/configmap-bin.yaml', 'nova/templates/configmap-bin.yaml']",7,52792c38cc8f482d7f3a841bbd894f8716b8bcd2,gm," db-sync-online.sh: | {{ tuple ""bin/_db-sync-online.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,107,2
openstack%2Fkolla~master~I76a218a7f98378277df270587e30dc264b286ef8,openstack/kolla,master,I76a218a7f98378277df270587e30dc264b286ef8,update documentation to correct diirectory,ABANDONED,2016-12-23 03:42:54.000000000,2019-09-19 16:51:07.000000000,,"[{'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 10068}, {'_account_id': 16233}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 24013}, {'_account_id': 24164}]","[{'number': 1, 'created': '2016-12-23 03:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af7c45df04c9fdf7616601867b8946708098e43c', 'message': 'update documentation to correct diirectory\n\nChanges include modification of path to /etc/kolla/nova-compute\nas it contains the nova.conf file for compute configuration.\nCloses-Bug: 1652213\n\nChange-Id: I76a218a7f98378277df270587e30dc264b286ef8\n'}, {'number': 2, 'created': '2016-12-23 03:47:36.000000000', 'files': ['doc/deployment-philosophy.rst', 'doc/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3e0ddcb5844860b17f43c4fd12c65c8e7373b406', 'message': 'update documentation to correct diirectory\n\nChanges include modification of path to /etc/kolla/nova-compute\nas it contains the nova.conf file for compute configuration.\nCloses-Bug: 1652213\n\nChange-Id: I76a218a7f98378277df270587e30dc264b286ef8\n'}]",8,414407,3e0ddcb5844860b17f43c4fd12c65c8e7373b406,21,10,2,24677,,,0,"update documentation to correct diirectory

Changes include modification of path to /etc/kolla/nova-compute
as it contains the nova.conf file for compute configuration.
Closes-Bug: 1652213

Change-Id: I76a218a7f98378277df270587e30dc264b286ef8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/414407/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/quickstart.rst'],1,af7c45df04c9fdf7616601867b8946708098e43c,bug/1652213,"For this, add/change the **virt_type** option in the `[libvirt]` section of **nova.conf** file inside the ``/etc/kolla/nova-compute/`` directory.","For this, change the **virt_type** option in the `[libvirt]` section of **nova-compute.conf** file inside the ``/etc/kolla/config/`` directory.",2,2
openstack%2Fkolla~master~I7916067cef53c7676a840c29a5bc7b0f0a6bd9c7,openstack/kolla,master,I7916067cef53c7676a840c29a5bc7b0f0a6bd9c7,Fix showmount -e failure in cinder_volume,ABANDONED,2016-12-14 18:01:04.000000000,2019-09-19 16:50:59.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-12-14 18:01:04.000000000', 'files': ['docker/cinder/cinder-volume/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/be07787c6a791f14675dc3438cfae9c09a9ac982', 'message': 'Fix showmount -e failure in cinder_volume\n\nChange-Id: I7916067cef53c7676a840c29a5bc7b0f0a6bd9c7\nCloses-Bug: #1649901\n'}]",0,410886,be07787c6a791f14675dc3438cfae9c09a9ac982,13,3,1,16233,,,0,"Fix showmount -e failure in cinder_volume

Change-Id: I7916067cef53c7676a840c29a5bc7b0f0a6bd9c7
Closes-Bug: #1649901
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/410886/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/cinder/cinder-volume/Dockerfile.j2'],1,be07787c6a791f14675dc3438cfae9c09a9ac982,bug/1649901," 'openvswitch', 'nfs-common', 'openvswitch-switch', 'nfs-common', 'openvswitch-switch'", 'nfs-common',5,1
openstack%2Fkolla-ansible~master~I328e0e999c8cb9dc4d7cd4e9aa9d6657ac08e135,openstack/kolla-ansible,master,I328e0e999c8cb9dc4d7cd4e9aa9d6657ac08e135,Delete the copy operation of telegraf plugin,ABANDONED,2017-03-21 01:58:19.000000000,2019-09-19 16:49:51.000000000,,"[{'_account_id': 8157}, {'_account_id': 22959}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-21 01:58:19.000000000', 'files': ['ansible/roles/telegraf/tasks/config.yml', 'ansible/roles/telegraf/templates/telegraf.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bad37844f4b712cc8c6bdc6af950e0c3a2462871', 'message': 'Delete the copy operation of telegraf plugin\n\nThere is no files in th directory of ""config"" currently\nIf keep it,the container telegraf can\'t start\n\nChange-Id: I328e0e999c8cb9dc4d7cd4e9aa9d6657ac08e135\nCloses-Bug:#1673691\n'}]",0,447752,bad37844f4b712cc8c6bdc6af950e0c3a2462871,8,3,1,24061,,,0,"Delete the copy operation of telegraf plugin

There is no files in th directory of ""config"" currently
If keep it,the container telegraf can't start

Change-Id: I328e0e999c8cb9dc4d7cd4e9aa9d6657ac08e135
Closes-Bug:#1673691
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/447752/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/telegraf/tasks/config.yml', 'ansible/roles/telegraf/templates/telegraf.json.j2']",2,bad37844f4b712cc8c6bdc6af950e0c3a2462871,bug/1673691,," }, { ""source"": ""{{ container_config_directory }}/config/*"", ""dest"": ""/etc/telegraf/telegraf.d/"", ""owner"": ""telegraf"", ""perm"": ""0600""",0,21
openstack%2Fkolla-ansible~master~I82b19fa53bedb3576e2891359dddabbbedb8587d,openstack/kolla-ansible,master,I82b19fa53bedb3576e2891359dddabbbedb8587d,Update configuration of Telegraf retention_policy,ABANDONED,2017-03-18 02:16:35.000000000,2019-09-19 16:49:46.000000000,,"[{'_account_id': 8157}, {'_account_id': 11869}, {'_account_id': 23717}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-18 02:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/085be18fb9038a59041e43f01192cf46e58a31e2', 'message': 'fix bug1673914\n\nThe ""default"" retention policy is not exists; the default setting is retention_policy = """". when finish it,the data can be writen in influxdb.\n\nChange-Id: I82b19fa53bedb3576e2891359dddabbbedb8587d\n'}, {'number': 2, 'created': '2017-03-18 02:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9bc17781d9ca0ac1e40b9db026c74cac269e5696', 'message': 'fix bug1673914:wrong configuration\n\nThe ""default"" retention policy is not exists; \nthe default setting is retention_policy = """". \nwhen finish it,the data can be writen in influxdb.\n\nCloses-Bug:bug1673914\n\nChange-Id: I82b19fa53bedb3576e2891359dddabbbedb8587d\n'}, {'number': 3, 'created': '2017-03-18 03:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53ce12dfe7469728aa1eaa9b2e16595d23d3e63a', 'message': 'fix bug1673914:Update configuration of Telegraf\n\nThe ""default"" retention policy is not exists;\nthe default setting is retention_policy = """".\nwhen finish it,the data can be writen in influxdb.\n\nCloses-Bug:#1673914\n\nChange-Id: I82b19fa53bedb3576e2891359dddabbbedb8587d\n'}, {'number': 4, 'created': '2017-03-18 06:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba505b635e584182fa81536e387b2b2563a3b568', 'message': 'fix bug1673914:Update configuration of Telegraf\n\nThe name of ""default"" retention policy is not exists;\nthe default setting is #retention_policy = ""default"".\nwhen finish it,the data can be writen in influxdb.\n\nCloses-Bug:#1673914\n\nChange-Id: I82b19fa53bedb3576e2891359dddabbbedb8587d\n'}, {'number': 5, 'created': '2017-03-18 07:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d09b163d512e16f2e6145386a0a29167cda072fd', 'message': 'Update configuration of Telegraf\n\nThe name of ""default"" retention policy does not exists;\nthe default setting is #retention_policy = ""default"".\nwhen finish it,the data can be writen in influxdb.\n\nCloses-Bug:#1673914\n\nChange-Id: I82b19fa53bedb3576e2891359dddabbbedb8587d\n'}, {'number': 6, 'created': '2017-03-18 08:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7394255c86e8630a959805613b6f8986ea0791c2', 'message': 'Update configuration of Telegraf retention_policy\n\nThe name of ""default"" retention policy does not exists;\nthe default setting is #retention_policy = ""default"".\nwhen finish it,the data can be writen in influxdb.\n\nCloses-Bug:#1673914\n\nChange-Id: I82b19fa53bedb3576e2891359dddabbbedb8587d\n'}, {'number': 7, 'created': '2017-03-20 00:52:59.000000000', 'files': ['ansible/roles/telegraf/templates/telegraf.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5dbdea8f53df373a53e182aa62195312c0900c9', 'message': 'Update configuration of Telegraf retention_policy\n\nThe name of ""default"" retention policy does not exists;\nthe default setting is retention_policy = """".\nwhen finish it,the data can be writen in influxdb.\n\nCloses-Bug:#1673914\n\nChange-Id: I82b19fa53bedb3576e2891359dddabbbedb8587d\n'}]",10,447179,f5dbdea8f53df373a53e182aa62195312c0900c9,25,4,7,24061,,,0,"Update configuration of Telegraf retention_policy

The name of ""default"" retention policy does not exists;
the default setting is retention_policy = """".
when finish it,the data can be writen in influxdb.

Closes-Bug:#1673914

Change-Id: I82b19fa53bedb3576e2891359dddabbbedb8587d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/447179/7 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/telegraf/templates/telegraf.conf.j2'],1,085be18fb9038a59041e43f01192cf46e58a31e2,bug/1673914," retention_policy = """""," retention_policy = ""default""",1,1
openstack%2Fkolla~master~Idcf76cf90658f767df5005999e51a1e0f41ced63,openstack/kolla,master,Idcf76cf90658f767df5005999e51a1e0f41ced63,Dependency fixes for bifrost image.,ABANDONED,2017-03-16 15:53:02.000000000,2019-09-19 16:49:41.000000000,,"[{'_account_id': 19316}, {'_account_id': 25401}]","[{'number': 1, 'created': '2017-03-16 15:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/42b30578249cfbb6d0adc701a099550dce325b8c', 'message': ""Dependency fixes for bifrost image.\n\nAdded iptables package and removed the PyPI MySQL-python package which won't work after the sed command is ran from the bifrost-base image on Debian-based distros.\n\nChange-Id: Idcf76cf90658f767df5005999e51a1e0f41ced63\nCloses-Bug: #1673420\n""}, {'number': 2, 'created': '2017-03-19 16:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bbb981308596477da3b10d44e43749da34140d59', 'message': ""Dependency fixes for bifrost image.\n\nAdded iptables package and removed the PyPI MySQL-python package which won't work after the sed command is ran from the bifrost-base image on Debian-based distros.\n\nChange-Id: Idcf76cf90658f767df5005999e51a1e0f41ced63\nCloses-Bug: #1673420\n""}, {'number': 3, 'created': '2017-04-03 11:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9cf90defec3f39c14547b6a7814ae176a0219b4', 'message': 'Dependency fixes for bifrost image.\n\nAdded iptables package and removed the PyPI MySQL-python package\nwhich is broken following the sed command being ran from the\nbifrost-base image on Debian-based distros, so needs to be\nre-installed by bifrost itself during its install plays.\n\nChange-Id: Idcf76cf90658f767df5005999e51a1e0f41ced63\nCloses-Bug: #1673420\n'}, {'number': 4, 'created': '2017-04-03 11:03:29.000000000', 'files': ['docker/bifrost/bifrost-base/Dockerfile.j2', 'docker/bifrost/bifrost-deploy/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/956881bfa1be59fd924e433c5d6af0c05f4e61e5', 'message': 'Dependency fixes for bifrost image.\n\nAdded iptables package and removed the PyPI MySQL-python package\nwhich is broken following the sed command being ran from the\nbifrost-base image on Debian-based distros, so needs to be\nre-installed by bifrost itself during its install plays.\n\nChange-Id: Idcf76cf90658f767df5005999e51a1e0f41ced63\nCloses-Bug: #1673420\n'}]",3,446609,956881bfa1be59fd924e433c5d6af0c05f4e61e5,12,2,4,25401,,,0,"Dependency fixes for bifrost image.

Added iptables package and removed the PyPI MySQL-python package
which is broken following the sed command being ran from the
bifrost-base image on Debian-based distros, so needs to be
re-installed by bifrost itself during its install plays.

Change-Id: Idcf76cf90658f767df5005999e51a1e0f41ced63
Closes-Bug: #1673420
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/446609/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/bifrost/bifrost-base/Dockerfile.j2', 'docker/bifrost/bifrost-deploy/Dockerfile.j2']",2,42b30578249cfbb6d0adc701a099550dce325b8c,bug/1673420," 'e2fsprogs', 'iptables'", 'e2fsprogs',3,2
openstack%2Fkolla-ansible~master~I1ea82c6d6e9205314a9d3852083d3c5fb3a18a38,openstack/kolla-ansible,master,I1ea82c6d6e9205314a9d3852083d3c5fb3a18a38,Remove middlewares configuration of api auth.,ABANDONED,2017-04-14 09:21:11.000000000,2019-09-19 16:49:36.000000000,,"[{'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 23446}]","[{'number': 1, 'created': '2017-04-14 09:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d832efc49c7f17b1886e15d68ce42e8d074534e2', 'message': 'remove middlewares of api auth.\n\nChange-Id: I1ea82c6d6e9205314a9d3852083d3c5fb3a18a38\n'}, {'number': 2, 'created': '2017-04-14 09:28:32.000000000', 'files': ['ansible/roles/gnocchi/templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a98a37873a6616afeee3168d9c2a74fe0c01602', 'message': 'Remove middlewares configuration of api auth.\n\nWell executed after the modification in my enviroment, \nand expect more suitable solution.\n\nCloses-Bug: 1682758\n\nChange-Id: I1ea82c6d6e9205314a9d3852083d3c5fb3a18a38\n'}]",0,456870,5a98a37873a6616afeee3168d9c2a74fe0c01602,9,3,2,23446,,,0,"Remove middlewares configuration of api auth.

Well executed after the modification in my enviroment, 
and expect more suitable solution.

Closes-Bug: 1682758

Change-Id: I1ea82c6d6e9205314a9d3852083d3c5fb3a18a38
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/456870/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/gnocchi/templates/gnocchi.conf.j2'],1,d832efc49c7f17b1886e15d68ce42e8d074534e2,gnocchiBugFix,,middlewares = keystonemiddleware.auth_token.AuthProtocol auth_mode = keystone,0,2
openstack%2Fkolla-ansible~master~I452ea08d840333434f283768445cfd8e22228d9e,openstack/kolla-ansible,master,I452ea08d840333434f283768445cfd8e22228d9e,Fix Bootstraping the mongodb replication set,ABANDONED,2017-01-19 04:16:25.000000000,2019-09-19 16:49:29.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 10068}, {'_account_id': 11869}, {'_account_id': 22165}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-01-19 04:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/092d4258cbc2b12ba9beffb30a4d4c0e58712631', 'message': 'Fix Bootstraping the mongodb replication set\n\nIt will failed if you really set api_interface differ from storage_interface.We should bootstrap the mongodb replication set from the ip address of api_interface.\n\nCloses-Bug: #1626339\n\nChange-Id: I452ea08d840333434f283768445cfd8e22228d9e\nSigned-off-by: zhangkun <refrain@139.com>\n'}, {'number': 2, 'created': '2017-01-20 08:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5822619617e22c5a3c78224c1c33c509976f3281', 'message': 'Fix Bootstraping the mongodb replication set\n\nIt will fail if you really set api_interface differ from storage_interface.We should bootstrap the mongodb replication set from the ip address of api_interface.\n\nCloses-Bug: #1626339\n\nChange-Id: I452ea08d840333434f283768445cfd8e22228d9e\nSigned-off-by: zhangkun <refrain@139.com>\n'}, {'number': 3, 'created': '2017-01-26 14:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9532072d701265eabd8ec4ace9d9254ae96adce2', 'message': 'Fix Bootstraping the mongodb replication set\n\nIt will fail if we set api_interface differ from storage_interface.\nWe should bootstrap the mongo replica set from the api_interface.\n\nCloses-Bug: #1626339\n\nChange-Id: I452ea08d840333434f283768445cfd8e22228d9e\nSigned-off-by: zhangkun <refrain@139.com>\n'}, {'number': 4, 'created': '2017-03-05 08:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f169ec804aeed95143985aad6e3a88d6d4c9caa', 'message': 'Fix Bootstraping the mongodb replication set\n\nupdate this bindIp to the storage_interface\n\nCloses-Bug: #1626339\n\nChange-Id: I452ea08d840333434f283768445cfd8e22228d9e\nSigned-off-by: zhangkun <refrain@139.com>\n'}, {'number': 5, 'created': '2017-03-05 08:31:05.000000000', 'files': ['ansible/roles/mongodb/templates/mongodb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c7e6e880829c9bff5a78cac5cf8ae3290658035', 'message': 'Fix Bootstraping the mongodb replication set\n\nupdate this bindIp to the storage_interface\n\nCloses-Bug: #1626339\n\nChange-Id: I452ea08d840333434f283768445cfd8e22228d9e\nSigned-off-by: zhangkun <refrain@139.com>\n'}]",3,422377,8c7e6e880829c9bff5a78cac5cf8ae3290658035,21,6,5,24917,,,0,"Fix Bootstraping the mongodb replication set

update this bindIp to the storage_interface

Closes-Bug: #1626339

Change-Id: I452ea08d840333434f283768445cfd8e22228d9e
Signed-off-by: zhangkun <refrain@139.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/422377/5 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mongodb/templates/bootstrap_cluster.js.j2'],1,092d4258cbc2b12ba9beffb30a4d4c0e58712631,bug/1626339," ""host"" : ""{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ mongodb_port }}"""," ""host"" : ""{{ hostvars[host]['ansible_' + hostvars[host]['storage_interface']]['ipv4']['address'] }}:{{ mongodb_port }}""",1,1
openstack%2Fkolla-ansible~master~I79d0a6e77ee22e8423391c264a317d45763510f0,openstack/kolla-ansible,master,I79d0a6e77ee22e8423391c264a317d45763510f0,Add storage interface address,ABANDONED,2016-12-15 17:40:02.000000000,2019-09-19 16:49:09.000000000,,"[{'_account_id': 7488}, {'_account_id': 10068}, {'_account_id': 11869}, {'_account_id': 17591}, {'_account_id': 22165}, {'_account_id': 23717}, {'_account_id': 24164}, {'_account_id': 24605}]","[{'number': 1, 'created': '2016-12-15 17:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd2b65a904b769cf435f2d02a43051bc9132ed44', 'message': ""Add storage interface address\n\nIn globals.yml, if storage_interface is different fromothers interfaces (for dedicated network by example),\nso it's impossible to attache a volume to a VM.\n\nTgtd listen to api_interface and nova compute try to connect the iscsi driver with a wrong address.\n\nCreating a specific storage_address_interface in configuration & variable files fix the problem.\n\nChange-Id: I79d0a6e77ee22e8423391c264a317d45763510f0\n""}, {'number': 2, 'created': '2016-12-16 13:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9abb4c396c827a3da5ddd725e8db43615d5f9393', 'message': ""Add storage interface address\n\nIn globals.yml, if storage_interface is different from others interfaces (for dedicated network by example),\nso it's impossible to attache a volume to a VM.\n\nTgtd listen to api_interface and nova compute try to connect the iscsi driver with a wrong address.\n\nCreating a specific storage_address_interface in configuration & variable files fix the problem.\n\nChange-Id: I79d0a6e77ee22e8423391c264a317d45763510f0\n""}, {'number': 3, 'created': '2016-12-20 08:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d98740169c62940e285139c133441869e705a6e', 'message': ""Add storage interface address\n\nIn globals.yml, if storage_interface is different from others interfaces (for dedicated network by example),\nso it's impossible to attache a volume to a VM.\n\nTgtd listen to api_interface and nova compute try to connect the iscsi driver with a wrong address.\n\nCreating a specific storage_address_interface in configuration & variable files fix the problem.\n\nChange-Id: I79d0a6e77ee22e8423391c264a317d45763510f0\n""}, {'number': 4, 'created': '2016-12-20 08:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c5d1e8e888d938f409993b2c82f058deef471f3', 'message': ""Add storage interface address\n\nIn globals.yml, if storage_interface is different from others interfaces\n(for dedicated network by example),\nso it's impossible to attache a volume to a VM.\n\nTgtd listen to api_interface and nova compute try to connect the iscsi\ndriver with a wrong address.\n\nCreating a specific storage_address_interface in\nconfiguration & variable files fix the problem.\n\nChange-Id: I79d0a6e77ee22e8423391c264a317d45763510f0\n""}, {'number': 5, 'created': '2016-12-20 16:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/489f292ab884cabfe2b776f5354026a523a5755d', 'message': ""Add storage interface address\n\nIn globals.yml, if storage_interface is different from others interfaces\n(for dedicated network by example),\nso it's impossible to attache a volume to a VM.\n\nTgtd listen to api_interface and nova compute try to connect the iscsi\ndriver with a wrong address.\n\nCreating a specific storage_address_interface in\nconfiguration & variable files fix the problem.\n\nCloses-Bug: #1651356\n\nChange-Id: I79d0a6e77ee22e8423391c264a317d45763510f0\n""}, {'number': 6, 'created': '2016-12-22 08:37:31.000000000', 'files': ['ansible/roles/iscsi/templates/tgtd.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a826fb1548efb227a74db168173cae5dd5b12daf', 'message': ""Add storage interface address\n\nIn globals.yml, if storage_interface is different from others interfaces\n(for dedicated network by example),\nso it's impossible to attache a volume to a VM.\n\nTgtd listen to api_interface and nova compute try to connect the iscsi\ndriver with a wrong address.\n\nCreating a specific storage_address_interface in\nconfiguration & variable files fix the problem.\n\nCloses-Bug: #1651356\n\nChange-Id: I79d0a6e77ee22e8423391c264a317d45763510f0\n""}]",14,411432,a826fb1548efb227a74db168173cae5dd5b12daf,35,8,6,24605,,,0,"Add storage interface address

In globals.yml, if storage_interface is different from others interfaces
(for dedicated network by example),
so it's impossible to attache a volume to a VM.

Tgtd listen to api_interface and nova compute try to connect the iscsi
driver with a wrong address.

Creating a specific storage_address_interface in
configuration & variable files fix the problem.

Closes-Bug: #1651356

Change-Id: I79d0a6e77ee22e8423391c264a317d45763510f0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/411432/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/iscsi/templates/tgtd.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2']",3,bd2b65a904b769cf435f2d02a43051bc9132ed44,add_storage_interface_address,# specific address interface information for attach nova-compute vm my_ip = {{ storage_interface_address }} ,,5,1
openstack%2Fkolla-ansible~master~Icfba1a627a2ef282aeb0e7ac1768d2cb2e36d47f,openstack/kolla-ansible,master,Icfba1a627a2ef282aeb0e7ac1768d2cb2e36d47f,Fix Murano/RabbitMQ problem with haproxy,ABANDONED,2016-12-14 15:52:01.000000000,2019-09-19 16:48:43.000000000,,"[{'_account_id': 1390}, {'_account_id': 11869}, {'_account_id': 13671}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 24223}]","[{'number': 1, 'created': '2016-12-14 15:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c0662d14c8bfba35edbe96db7e7de04f0c9c194', 'message': 'Fix Murano/RabbitMQ problem with haproxy\n\nMurano make use of RabbitMQ as ""message queue"" service. In order to\nimplement this, we need:\n\n 1. murano.conf: [rabbitmq] section must be defined into murano.conf\n 2. haproxy container: haproxy.cfg must define a listener for rabbitmq\n    connections in kolla_internal_vip_address:rabbitmq_port\n\nChange-Id: Icfba1a627a2ef282aeb0e7ac1768d2cb2e36d47f\nCloses-Bug: #1634801\n'}, {'number': 2, 'created': '2016-12-14 16:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12b961e8dc5710879551d4e7e0bc28c0f784500e', 'message': 'Fix Murano/RabbitMQ problem with haproxy\n\nMurano make use of RabbitMQ as ""message queue"" service. In order to\nimplement this, we need:\n\n 1. murano.conf: [rabbitmq] section must be defined into murano.conf\n 2. haproxy container: haproxy.cfg must define a listener for rabbitmq\n    connections in kolla_internal_vip_address:rabbitmq_port\n\nChange-Id: Icfba1a627a2ef282aeb0e7ac1768d2cb2e36d47f\nCloses-Bug: #1634801\n'}, {'number': 3, 'created': '2016-12-16 10:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11311cd17edd168ea50fb5bdcb1682a112161ae9', 'message': 'Fix Murano/RabbitMQ problem with haproxy\n\nMurano make use of RabbitMQ as ""message queue"" service. In order to\nimplement this, we need:\n\n 1. murano.conf: [rabbitmq] section must be defined into murano.conf\n 2. haproxy container: haproxy.cfg must define a listener for rabbitmq\n    connections in kolla_external_vip_address:rabbitmq_port\n 3. vhost in rabbitmq server dedicated for murano clients\n\nChange-Id: Icfba1a627a2ef282aeb0e7ac1768d2cb2e36d47f\nCloses-Bug: #1634801\n'}, {'number': 4, 'created': '2016-12-16 10:52:41.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9fd6bfd1a8f99b0d4d3a3b415ace978a24e566e', 'message': 'Fix Murano/RabbitMQ problem with haproxy\n\nMurano make use of RabbitMQ as ""message queue"" service. In order to\nimplement this, we need:\n\n 1. murano.conf: [rabbitmq] section must be defined into murano.conf\n 2. haproxy container: haproxy.cfg must define a listener for rabbitmq\n    connections in kolla_external_vip_address:rabbitmq_port\n 3. vhost in rabbitmq server dedicated for murano clients\n\nChange-Id: Icfba1a627a2ef282aeb0e7ac1768d2cb2e36d47f\nCloses-Bug: #1634801\n'}]",5,410825,b9fd6bfd1a8f99b0d4d3a3b415ace978a24e566e,25,6,4,24223,,,0,"Fix Murano/RabbitMQ problem with haproxy

Murano make use of RabbitMQ as ""message queue"" service. In order to
implement this, we need:

 1. murano.conf: [rabbitmq] section must be defined into murano.conf
 2. haproxy container: haproxy.cfg must define a listener for rabbitmq
    connections in kolla_external_vip_address:rabbitmq_port
 3. vhost in rabbitmq server dedicated for murano clients

Change-Id: Icfba1a627a2ef282aeb0e7ac1768d2cb2e36d47f
Closes-Bug: #1634801
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/410825/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2']",2,3c0662d14c8bfba35edbe96db7e7de04f0c9c194,bug/1634801, listen rabbitmq bind {{ kolla_internal_vip_address }}:{{ rabbitmq_port }} mode tcp {% for host in groups['rabbitmq'] %} server {{ hostvars[host]['ansible_hostname'] }} {{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ rabbitmq_port }} check inter 2000 rise 2 fall 5 {% endfor %},,16,0
openstack%2Fkolla-ansible~master~I05a80a9876fc7389d7a97e3e28a7ea7d283918a3,openstack/kolla-ansible,master,I05a80a9876fc7389d7a97e3e28a7ea7d283918a3,Resolves parsing issue with kolla-ansible CLI,ABANDONED,2017-01-24 13:04:23.000000000,2019-09-19 16:48:23.000000000,,"[{'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 22165}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-01-24 13:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa02587bccbf8f560937ef8a9b3a1fd5a9949878', 'message': 'Resolves parsing issue with kolla-ansible CLI\n\nChange-Id: I05a80a9876fc7389d7a97e3e28a7ea7d283918a3\nCloses-Bug: #1658988\n'}, {'number': 2, 'created': '2017-01-24 13:58:01.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/118f465dde595c19032d549b0afa7abca05d54d2', 'message': 'Resolves parsing issue with kolla-ansible CLI\n\nChange-Id: I05a80a9876fc7389d7a97e3e28a7ea7d283918a3\nCloses-Bug: #1658988\n'}]",0,424651,118f465dde595c19032d549b0afa7abca05d54d2,15,6,2,19497,,,0,"Resolves parsing issue with kolla-ansible CLI

Change-Id: I05a80a9876fc7389d7a97e3e28a7ea7d283918a3
Closes-Bug: #1658988
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/424651/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,aa02587bccbf8f560937ef8a9b3a1fd5a9949878,bug/1658988,"num_params = ""$#""eval set -- ""$@"" ARGS=$(getopt -o ""${SHORT_OPTS}"" -l ""${LONG_OPTS}"" --name ""$0"" --""$1"") || { usage >&2; exit 2; } while [ ""$num_params"" -gt 0 ]; do","ARGS=$(getopt -o ""${SHORT_OPTS}"" -l ""${LONG_OPTS}"" --name ""$0"" -- ""$@"") || { usage >&2; exit 2; } eval set -- ""$ARGS""while [ ""$#"" -gt 0 ]; do",4,3
openstack%2Fkolla-ansible~master~Ie839015254f0be7f67adeeebb2f560bd4d54ddd2,openstack/kolla-ansible,master,Ie839015254f0be7f67adeeebb2f560bd4d54ddd2,WIP: Enable Ceph input plugin in Telegraf,ABANDONED,2017-04-11 08:49:10.000000000,2019-09-19 16:47:42.000000000,,[{'_account_id': 8157}],"[{'number': 1, 'created': '2017-04-11 08:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/645a10769743745c501f990263162c69911cf4c7', 'message': 'WIP: Enable Ceph input plugin in Telegraf\n\nMonitoring Ceph cluster’s performance provides vital insights into how\nthe cluster performs in various situations.\nIt also allows to make rational decisions as regards capacity planning\nand maintenance windows.\n\nChange-Id: Ie839015254f0be7f67adeeebb2f560bd4d54ddd2\nCloses-Bug: #1681714\n'}, {'number': 2, 'created': '2017-04-11 20:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9fa5ae2bd29655fc86397727de94b97e293087c2', 'message': 'WIP: Enable Ceph input plugin in Telegraf\n\nMonitoring Ceph cluster’s performance provides vital insights into how\nthe cluster performs in various situations.\nIt also allows to make rational decisions as regards capacity planning\nand maintenance windows.\n\nChange-Id: Ie839015254f0be7f67adeeebb2f560bd4d54ddd2\nCloses-Bug: #1681714\n'}, {'number': 3, 'created': '2017-04-12 08:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f14e0f7ade6d59129767048d12671668c22ce0c4', 'message': 'WIP: Enable Ceph input plugin in Telegraf\n\nMonitoring Ceph cluster’s performance provides vital insights into how\nthe cluster performs in various situations.\nIt also allows to make rational decisions as regards capacity planning\nand maintenance windows.\n\nChange-Id: Ie839015254f0be7f67adeeebb2f560bd4d54ddd2\nCloses-Bug: #1681714\n'}, {'number': 4, 'created': '2017-04-13 20:27:09.000000000', 'files': ['ansible/roles/telegraf/templates/telegraf.conf.j2', 'ansible/roles/telegraf/tasks/ceph.yml', 'ansible/roles/telegraf/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca6497dd2f266e785c55ee36d6ae524f99213b17', 'message': 'WIP: Enable Ceph input plugin in Telegraf\n\nMonitoring Ceph cluster’s performance provides vital insights into how\nthe cluster performs in various situations.\nIt also allows to make rational decisions as regards capacity planning\nand maintenance windows.\n\nChange-Id: Ie839015254f0be7f67adeeebb2f560bd4d54ddd2\nCloses-Bug: #1681714\n'}]",0,455602,ca6497dd2f266e785c55ee36d6ae524f99213b17,13,1,4,8157,,,0,"WIP: Enable Ceph input plugin in Telegraf

Monitoring Ceph cluster’s performance provides vital insights into how
the cluster performs in various situations.
It also allows to make rational decisions as regards capacity planning
and maintenance windows.

Change-Id: Ie839015254f0be7f67adeeebb2f560bd4d54ddd2
Closes-Bug: #1681714
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/455602/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/start_mons.yml', 'ansible/roles/ceph/tasks/start_osds.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/telegraf/templates/telegraf.conf.j2']",4,645a10769743745c501f990263162c69911cf4c7,bug/1681714,"{% if inventory_hostname in groups['ceph'] and enable_ceph | bool %} [[inputs.ceph]] interval = '1m' ceph_binary = ""/usr/bin/ceph"" socket_dir = ""/var/run/ceph"" mon_prefix = ""ceph-mon"" osd_prefix = ""ceph-osd"" socket_suffix = ""asok"" gather_admin_socket_stats = true gather_cluster_stats = false {% endif %}",,14,0
openstack%2Fkolla-ansible~master~Ib6230132bd6d4643a710b94a0cfc326c2d0d6d93,openstack/kolla-ansible,master,Ib6230132bd6d4643a710b94a0cfc326c2d0d6d93,Adds a note about failing deployment with specific kernels like low latency.,ABANDONED,2017-06-07 21:58:39.000000000,2019-09-19 16:47:22.000000000,,[{'_account_id': 10787}],"[{'number': 1, 'created': '2017-06-07 21:58:39.000000000', 'files': ['doc/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51d3a7c8eaaf26498e278e070b2afb4cf398ae1d', 'message': 'Adds a note about failing deployment with specific kernels like low latency.\n\nChange-Id: Ib6230132bd6d4643a710b94a0cfc326c2d0d6d93\nCloses-bug: 1696559\n'}]",0,471943,51d3a7c8eaaf26498e278e070b2afb4cf398ae1d,6,1,1,20451,,,0,"Adds a note about failing deployment with specific kernels like low latency.

Change-Id: Ib6230132bd6d4643a710b94a0cfc326c2d0d6d93
Closes-bug: 1696559
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/471943/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/troubleshooting.rst'],1,51d3a7c8eaaf26498e278e070b2afb4cf398ae1d,bug/1696559,"Be aware that the specific kernel you use may impact the performance of kolla-ansible. There have been cases with deployment that using a more optimized kernel (low-latency for example) will make the deployment fail. The deployment may still work under the more general, default kernel. ",,5,0
openstack%2Fkolla-ansible~master~I27fef058fae85ca33c1ccfa2870b67a733aa6650,openstack/kolla-ansible,master,I27fef058fae85ca33c1ccfa2870b67a733aa6650,Modify config.yml playbook for bifrost role,ABANDONED,2017-01-11 23:30:51.000000000,2019-09-19 16:47:14.000000000,,"[{'_account_id': 10787}, {'_account_id': 19316}, {'_account_id': 20663}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-01-11 23:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7b5a2c7766983c49e905dc27a843cf07ed81d4c', 'message': 'Modify config.yml playbook for bifrost role\n\nAdd hostname of deployment host to /etc/hosts file\n\nChange-Id: I27fef058fae85ca33c1ccfa2870b67a733aa6650\n'}, {'number': 2, 'created': '2017-01-12 23:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40b8e2d997b57385f812b1e833bbb7222de89e4f', 'message': 'Modify config.yml playbook for bifrost role\n\nAdd hostname of deployment host to /etc/hosts file\n\nChange-Id: I27fef058fae85ca33c1ccfa2870b67a733aa6650\n'}, {'number': 3, 'created': '2017-01-25 03:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b56db58fb5921a96dc98509f8840562017421ced', 'message': 'Modify config.yml playbook for bifrost role\n\nAdd hostname of deployment host to /etc/hosts file\n\nThis is handed by bifrost\n(https://github.com/openstack/bifrost/blob/master/playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml)\nbut it fails when done inside a container.  The reason it fails is\nbecause Docker bind mounts /etc/hosts into the container from a volume.\nThis prevents atomic renames which will prevent ansible from fixing the\n/etc/hosts file automatically inside the container.\nIf this is not handled, bootstrapping the bifrost container will fail\nwith the following error: http://paste.openstack.org/raw/594306/\n\nChange-Id: I27fef058fae85ca33c1ccfa2870b67a733aa6650\n'}, {'number': 4, 'created': '2017-01-25 21:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c924459d5742719191b484714936d2e046065d72', 'message': 'Modify config.yml playbook for bifrost role\n\nAdd hostname of deployment host to /etc/hosts file\n\nThis is handed by bifrost\n(https://github.com/openstack/bifrost/blob/master/playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml)\nbut it fails when done inside a container.  The reason it fails is\nbecause Docker bind mounts /etc/hosts into the container from a volume.\nThis prevents atomic renames which will prevent ansible from fixing the\n/etc/hosts file automatically inside the container.\nIf this is not handled, bootstrapping the bifrost container will fail\nwith the following error: http://paste.openstack.org/raw/594306/\n\nChange-Id: I27fef058fae85ca33c1ccfa2870b67a733aa6650\n'}, {'number': 5, 'created': '2017-02-01 14:58:44.000000000', 'files': ['ansible/roles/bifrost/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05ab7a938b7d1866832d4fa3ba2acdb6b26acaab', 'message': 'Modify config.yml playbook for bifrost role\n\nAdd hostname of deployment host to /etc/hosts file\n\nThis is handed by bifrost\n(https://github.com/openstack/bifrost/blob/master/playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml)\nbut it fails when done inside a container.  The reason it fails is\nbecause Docker bind mounts /etc/hosts into the container from a volume.\nThis prevents atomic renames which will prevent ansible from fixing the\n/etc/hosts file automatically inside the container.\n\nChange-Id: I27fef058fae85ca33c1ccfa2870b67a733aa6650\nCloses-Bug: #1661009'}]",8,419196,05ab7a938b7d1866832d4fa3ba2acdb6b26acaab,24,4,5,24164,,,0,"Modify config.yml playbook for bifrost role

Add hostname of deployment host to /etc/hosts file

This is handed by bifrost
(https://github.com/openstack/bifrost/blob/master/playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml)
but it fails when done inside a container.  The reason it fails is
because Docker bind mounts /etc/hosts into the container from a volume.
This prevents atomic renames which will prevent ansible from fixing the
/etc/hosts file automatically inside the container.

Change-Id: I27fef058fae85ca33c1ccfa2870b67a733aa6650
Closes-Bug: #1661009",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/419196/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/bifrost/tasks/config.yml'],1,c7b5a2c7766983c49e905dc27a843cf07ed81d4c,bifrost,- name: Add hostname of deployment host to /etc/hosts command: sed -i 's/127.0.0.1/127.0.0.1 {{ ansible_hostname }}/' /etc/hosts ,,3,0
openstack%2Fkolla-ansible~master~I8a30b653600317f316bd128c526200f522e22cda,openstack/kolla-ansible,master,I8a30b653600317f316bd128c526200f522e22cda,Wrong type of interface in mongodb bootstrap_cluster.js template,ABANDONED,2017-02-09 07:06:52.000000000,2019-09-19 16:47:06.000000000,,"[{'_account_id': 1390}, {'_account_id': 10068}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-02-09 07:06:52.000000000', 'files': ['ansible/roles/mongodb/templates/bootstrap_cluster.js.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/efcee6b85fed9af7121be220663d4caf203fdb91', 'message': 'Wrong type of interface in mongodb bootstrap_cluster.js template\n\nMongodb binds to api_interface. This template is used during task ""Bootstraping the mongodb replication set"" whenever api_interface!=storage_interface it fails because mongodb container doesn\'t listen on this storage_interface.\n\nChange-Id: I8a30b653600317f316bd128c526200f522e22cda\nCloses-Bug: 1663128\n'}]",2,431348,efcee6b85fed9af7121be220663d4caf203fdb91,9,3,1,25116,,,0,"Wrong type of interface in mongodb bootstrap_cluster.js template

Mongodb binds to api_interface. This template is used during task ""Bootstraping the mongodb replication set"" whenever api_interface!=storage_interface it fails because mongodb container doesn't listen on this storage_interface.

Change-Id: I8a30b653600317f316bd128c526200f522e22cda
Closes-Bug: 1663128
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/431348/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mongodb/templates/bootstrap_cluster.js.j2'],1,efcee6b85fed9af7121be220663d4caf203fdb91,bug/1663128," ""host"" : ""{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ mongodb_port }}"""," ""host"" : ""{{ hostvars[host]['ansible_' + hostvars[host]['storage_interface']]['ipv4']['address'] }}:{{ mongodb_port }}""",1,1
openstack%2Fkolla~master~I474139533ad4a98731b6b68e063662f6818bbd5f,openstack/kolla,master,I474139533ad4a98731b6b68e063662f6818bbd5f,Make ceph pool sizes configurable,ABANDONED,2016-10-07 17:30:41.000000000,2019-09-19 16:46:58.000000000,,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 10787}, {'_account_id': 11869}, {'_account_id': 13642}, {'_account_id': 20451}]","[{'number': 1, 'created': '2016-10-07 17:30:41.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/group_vars/all.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ceph_pools.yml', 'ansible/roles/cinder/tasks/ceph.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/nova/tasks/ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ea5d5246ee364545bba14d697f9f69b134a2f788', 'message': 'Make ceph pool sizes configurable\n\nDefault stays 128 as it was before.\n\nChange-Id: I474139533ad4a98731b6b68e063662f6818bbd5f\nCloses-Bug: #1629338\n'}]",5,383837,ea5d5246ee364545bba14d697f9f69b134a2f788,12,6,1,10787,,,0,"Make ceph pool sizes configurable

Default stays 128 as it was before.

Change-Id: I474139533ad4a98731b6b68e063662f6818bbd5f
Closes-Bug: #1629338
",git fetch https://review.opendev.org/openstack/kolla refs/changes/37/383837/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/group_vars/all.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ceph_pools.yml', 'ansible/roles/cinder/tasks/ceph.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/nova/tasks/ceph.yml']",10,ea5d5246ee364545bba14d697f9f69b134a2f788,bug/1629338," pool_size: ""{{ nova_pool_size }}"" cache_pool_size: ""{{ nova_cache_pool_size }}""",,32,4
openstack%2Fkolla~master~Ic2327f61284b2f1e7faa377d2d5c31336151c684,openstack/kolla,master,Ic2327f61284b2f1e7faa377d2d5c31336151c684,Install docker_client and groupadd,ABANDONED,2017-05-18 08:51:47.000000000,2019-09-19 16:46:50.000000000,,"[{'_account_id': 11869}, {'_account_id': 18737}, {'_account_id': 23717}, {'_account_id': 24013}, {'_account_id': 24061}]","[{'number': 1, 'created': '2017-05-18 08:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/30fa18ecbd5f5e74da88b97ffae68f521b263d07', 'message': 'Install docker_client and groupadd\n\nIn order to collect Docker metrics with Telegraf,\nFollow the steps below:\n1.install docker_client in telegraf container(kolla)\n2.Add the telegraf to the docker group(kolla)\n3.Add docker configuration to telegraf(kolla_ansible)\n\nChange-Id: Ic2327f61284b2f1e7faa377d2d5c31336151c684\nCloses-Bug: 1635034\n'}, {'number': 2, 'created': '2017-05-19 01:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6fe7334e70e05e66892002dedbe7a11487976461', 'message': 'Install docker_client and groupadd\n\nIn order to collect Docker metrics with Telegraf,\nFollow the steps below:\n1.install docker_client in telegraf container(kolla)\n2.Add the telegraf to the docker group(kolla)\n3.Add docker configuration to telegraf(kolla_ansible)\n\nChange-Id: Ic2327f61284b2f1e7faa377d2d5c31336151c684\nCloses-Bug: 1635034\n'}, {'number': 3, 'created': '2017-05-22 02:17:09.000000000', 'files': ['docker/telegraf/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0620c028071a4280272e3ff1c021aa4028601159', 'message': 'Install docker_client and groupadd\n\nIn order to collect Docker metrics with Telegraf,\nFollow the steps below:\n1.install docker_client in telegraf container(kolla)\n2.Add the telegraf to the docker group(kolla)\n3.Add docker configuration to telegraf(kolla_ansible)\n\nChange-Id: Ic2327f61284b2f1e7faa377d2d5c31336151c684\nCloses-Bug: 1635034\n'}]",0,465880,0620c028071a4280272e3ff1c021aa4028601159,16,5,3,24061,,,0,"Install docker_client and groupadd

In order to collect Docker metrics with Telegraf,
Follow the steps below:
1.install docker_client in telegraf container(kolla)
2.Add the telegraf to the docker group(kolla)
3.Add docker configuration to telegraf(kolla_ansible)

Change-Id: Ic2327f61284b2f1e7faa377d2d5c31336151c684
Closes-Bug: 1635034
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/465880/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/telegraf/Dockerfile.j2'],1,30fa18ecbd5f5e74da88b97ffae68f521b263d07,bug/1635034," 'docker-client', && chmod 755 /usr/local/bin/kolla_extend_start \ && groupadd docker \ && gpasswd -a telegraf docker", && chmod 755 /usr/local/bin/kolla_extend_start,4,1
openstack%2Fkolla-ansible~master~I4bb7fe9ba5076df5c90a62383752cea7835c4eb0,openstack/kolla-ansible,master,I4bb7fe9ba5076df5c90a62383752cea7835c4eb0,Pg_num should be configurable,ABANDONED,2017-03-28 13:56:07.000000000,2019-09-19 16:46:38.000000000,,"[{'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 16233}, {'_account_id': 19316}, {'_account_id': 22582}, {'_account_id': 22959}]","[{'number': 1, 'created': '2017-03-28 13:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e16e6330f0af1ac1dce58d6036ae3c0a523b2082', 'message': 'Pg_num should be configurable\n\nCurrently the pg_num is hard coded in the ansible role.\nThere sometimes is a need to choose this number based\non calculations. http://ceph.com/pgcalc/\n\nChange-Id: I4bb7fe9ba5076df5c90a62383752cea7835c4eb0\nCloses-Bug: #1662640\n'}, {'number': 2, 'created': '2017-03-29 13:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfce2b2a5829bd8e530f6027d6ed8f3ab1bbacd0', 'message': 'Pg_num should be configurable\n\nCurrently the pg_num is hard coded in the ansible role.\nThere sometimes is a need to choose this number based\non calculations. http://ceph.com/pgcalc/\n\nChange-Id: I4bb7fe9ba5076df5c90a62383752cea7835c4eb0\nCloses-Bug: #1662640\n'}, {'number': 3, 'created': '2017-03-29 13:49:31.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/ceph_pools.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ddb4be68e4c49bd0ce7fcae988ae0eba2a17da8', 'message': 'Pg_num should be configurable\n\nCurrently the pg_num is hard coded in the ansible role.\nThere sometimes is a need to choose this number based\non calculations. http://ceph.com/pgcalc/\n\nChange-Id: I4bb7fe9ba5076df5c90a62383752cea7835c4eb0\nCloses-Bug: #1662640\n'}]",6,450797,9ddb4be68e4c49bd0ce7fcae988ae0eba2a17da8,19,6,3,16233,,,0,"Pg_num should be configurable

Currently the pg_num is hard coded in the ansible role.
There sometimes is a need to choose this number based
on calculations. http://ceph.com/pgcalc/

Change-Id: I4bb7fe9ba5076df5c90a62383752cea7835c4eb0
Closes-Bug: #1662640
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/450797/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/ceph_pools.yml', 'etc/kolla/globals.yml']",3,e16e6330f0af1ac1dce58d6036ae3c0a523b2082,bug/1662640,# This value should be populated based on the following guidance: # 100: If the cluster OSD count is not expected to increase in the foreseeable #future. # 200: If the cluster OSD count is expected to increase (up to double the size) #in the foreseeable future. # 300: If the cluster OSD count is expected to increase between 2x and 3x in the #foreseeable future. #target_pg: 128 ,,13,2
openstack%2Fkolla-ansible~master~Ie92769d3bd96729c09b389c1d57d25732b29f2b2,openstack/kolla-ansible,master,Ie92769d3bd96729c09b389c1d57d25732b29f2b2,Fix openstack_python log not match multiple case,ABANDONED,2017-08-17 08:27:15.000000000,2019-09-19 16:46:25.000000000,,"[{'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-08-17 08:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4757950c41d3bcbf62483078445658ef6229b407', 'message': 'Fix openstack_python log not match multiple case\n\nCloses-Bug :#1711306\n\nChange-Id: Ie92769d3bd96729c09b389c1d57d25732b29f2b2\n'}, {'number': 2, 'created': '2017-08-17 08:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b384a20c5cc21d59cf6caeecd89851b4ff4f7a4', 'message': 'Fix openstack_python log not match multiple case\n\nCloses-Bug: #1711306\n\nChange-Id: Ie92769d3bd96729c09b389c1d57d25732b29f2b2\n'}, {'number': 3, 'created': '2017-08-30 14:04:05.000000000', 'files': ['ansible/roles/common/templates/conf/format/wsgi_python.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/abb5fd38ea576a37c5482daa21e4e83952f398a5', 'message': 'Fix openstack_python log not match multiple case\n\nCloses-Bug: #1711306\n\nChange-Id: Ie92769d3bd96729c09b389c1d57d25732b29f2b2\n'}]",1,494433,abb5fd38ea576a37c5482daa21e4e83952f398a5,15,5,3,11869,,,0,"Fix openstack_python log not match multiple case

Closes-Bug: #1711306

Change-Id: Ie92769d3bd96729c09b389c1d57d25732b29f2b2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/494433/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/format/wsgi_python.conf.j2'],1,4757950c41d3bcbf62483078445658ef6229b407,bug/1711306, grok_pattern %{TIMESTAMP_ISO8601:Timestamp} %{NUMBER:Pid} %{LOGLEVEL:severity_label} %{NOTSPACE:python_module} (?:\[(?:req-(?:%{NOTSPACE:request_id}) (?:%{NOTSPACE:user_id}) (?:%{NOTSPACE:tenant_id}) .*|-)\]|%{GREEDYDATA:Payload}) %{GREEDYDATA:Payload}, grok_pattern %{TIMESTAMP_ISO8601:Timestamp} %{NUMBER:Pid} %{LOGLEVEL:severity_label} %{NOTSPACE:python_module} \[(?:req-(?:%{NOTSPACE:request_id}) (?:%{NOTSPACE:user_id}) (?:%{NOTSPACE:tenant_id}) .*|-)\] %{GREEDYDATA:Payload},1,1
openstack%2Fkolla-ansible~master~Ibfdc8e7a91768472ac4824b167985aa4bdccdd1d,openstack/kolla-ansible,master,Ibfdc8e7a91768472ac4824b167985aa4bdccdd1d,Add trustee_domain_id in magnum.conf,ABANDONED,2017-03-22 08:21:24.000000000,2019-09-19 16:45:57.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-03-22 08:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f122d25687c5535d70f2d38a0a2dc6e30d71fb8', 'message': 'Add magnum_trustee_domain_id in magnum.conf\n\nChange-Id: Ibfdc8e7a91768472ac4824b167985aa4bdccdd1d\nCloses-Bug: #1674894\n'}, {'number': 2, 'created': '2017-04-18 08:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4feb39450092c8664f027f715da46754481434ee', 'message': 'Add trustee_domain_id in magnum.conf\n\nChange-Id: Ibfdc8e7a91768472ac4824b167985aa4bdccdd1d\nCloses-Bug: #1674894\n'}, {'number': 3, 'created': '2017-04-18 08:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbe4029b2ae3a077cad2e76e9a8a28a7bbdee4bb', 'message': 'Add trustee_domain_id in magnum.conf\n\nChange-Id: Ibfdc8e7a91768472ac4824b167985aa4bdccdd1d\nCloses-Bug: #1674894\n'}, {'number': 4, 'created': '2017-06-21 10:34:59.000000000', 'files': ['ansible/roles/magnum/tasks/config.yml', 'ansible/roles/magnum/templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55000779ebff4becd47164f20d66401a72014e4b', 'message': 'Add trustee_domain_id in magnum.conf\n\nSet the magnum keystone domain ID in magnum.conf. Without this config\noption set, magnum deployments fail.\n\nChange-Id: Ibfdc8e7a91768472ac4824b167985aa4bdccdd1d\nCloses-Bug: #1674894\nCo-Authored-By: Mark Goddard <mark@stackhpc>\n'}]",5,448438,55000779ebff4becd47164f20d66401a72014e4b,22,6,4,11869,,,0,"Add trustee_domain_id in magnum.conf

Set the magnum keystone domain ID in magnum.conf. Without this config
option set, magnum deployments fail.

Change-Id: Ibfdc8e7a91768472ac4824b167985aa4bdccdd1d
Closes-Bug: #1674894
Co-Authored-By: Mark Goddard <mark@stackhpc>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/448438/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/magnum/templates/magnum.conf.j2'],1,2f122d25687c5535d70f2d38a0a2dc6e30d71fb8,bug/1674894,magnum_trustee_domain_id = {{ magnum_trustee_domain_id }},,1,0
openstack%2Fkolla~master~I194d601e6aa51345d3098b34cfa1a3defe1fb44b,openstack/kolla,master,I194d601e6aa51345d3098b34cfa1a3defe1fb44b,Make endpoint and database address separately,ABANDONED,2016-06-02 06:45:53.000000000,2019-09-19 16:45:05.000000000,,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 10787}, {'_account_id': 16233}, {'_account_id': 16993}]","[{'number': 1, 'created': '2016-06-02 06:45:53.000000000', 'files': ['ansible/roles/mistral/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/44093536d4b6de515ff8825934c6b7bb3d3c4a28', 'message': 'Make endpoint and database address separately\n\nUnder certain conditions, it should use company mysql service instead\nof default mariadb container.\nBut the endponit address and database address are also reference to the\nkolla_internal_fqdn value.\nIt may not consider the endpoint service and database service are not on\nthe same host, they may be separately on different host.\n\nChange-Id: I194d601e6aa51345d3098b34cfa1a3defe1fb44b\nCloses-Bug: #1588164\n'}]",4,324238,44093536d4b6de515ff8825934c6b7bb3d3c4a28,11,5,1,21413,,,0,"Make endpoint and database address separately

Under certain conditions, it should use company mysql service instead
of default mariadb container.
But the endponit address and database address are also reference to the
kolla_internal_fqdn value.
It may not consider the endpoint service and database service are not on
the same host, they may be separately on different host.

Change-Id: I194d601e6aa51345d3098b34cfa1a3defe1fb44b
Closes-Bug: #1588164
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/324238/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mistral/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'etc/kolla/globals.yml']",12,44093536d4b6de515ff8825934c6b7bb3d3c4a28,bug/1588164," #################### # Database options #################### #database_address: """" ",,19,12
openstack%2Fkolla~master~Ifaab329e186746ea4d2d4c554ffdd3ca923279ad,openstack/kolla,master,Ifaab329e186746ea4d2d4c554ffdd3ca923279ad,Fix Nova boot on Ubuntu with hardware acceleration,ABANDONED,2017-06-22 11:49:00.000000000,2019-09-19 16:44:43.000000000,,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 9060}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-06-22 11:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/92267ae33aa60d6bc87e3e9ac46bf90ca126f10c', 'message': 'Fix Nova boot on Ubuntu with hardware acceleration\n\nOn Ubuntu if virt_type is set to kvm on nova-compute node (default\nvalue), Nova boot actually fails.\nThis patch fix it by adding qemu-kvm package to nova-libvirt Docker\nimages.\n\nCloses-Bug: #1699712\nChange-Id: Ifaab329e186746ea4d2d4c554ffdd3ca923279ad\n'}, {'number': 2, 'created': '2017-06-22 15:05:47.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9ab2d3c572e888146c94d37f6155f87ee9f6f430', 'message': 'Fix Nova boot on Ubuntu with hardware acceleration\n\nOn Ubuntu|Debian if virt_type is set to kvm (default value),\nNova boot actually fails.\nThis patch fix it by adding qemu-kvm package to nova-libvirt Docker\nimages.\n\nCloses-Bug: #1699712\nChange-Id: Ifaab329e186746ea4d2d4c554ffdd3ca923279ad\n'}]",1,476478,9ab2d3c572e888146c94d37f6155f87ee9f6f430,10,5,2,8157,,,0,"Fix Nova boot on Ubuntu with hardware acceleration

On Ubuntu|Debian if virt_type is set to kvm (default value),
Nova boot actually fails.
This patch fix it by adding qemu-kvm package to nova-libvirt Docker
images.

Closes-Bug: #1699712
Change-Id: Ifaab329e186746ea4d2d4c554ffdd3ca923279ad
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/476478/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-libvirt/Dockerfile.j2'],1,92267ae33aa60d6bc87e3e9ac46bf90ca126f10c,bug/1699712," 'qemu-block-extra', 'qemu-kvm'", 'qemu-block-extra',2,1
openstack%2Fkolla~master~Id89fbff6fdf6e275fec41f382198179741e62b8a,openstack/kolla,master,Id89fbff6fdf6e275fec41f382198179741e62b8a,Build openvswitch image using source type,ABANDONED,2016-04-23 22:20:26.000000000,2019-09-19 16:42:19.000000000,,"[{'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 5735}, {'_account_id': 7488}, {'_account_id': 10787}, {'_account_id': 14027}, {'_account_id': 14103}, {'_account_id': 16233}, {'_account_id': 16993}, {'_account_id': 21061}]","[{'number': 1, 'created': '2016-04-23 22:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d3b188963e676b756b717403e0db97171f8e78e6', 'message': 'Build openvswitch image using source type\n\nChange-Id: Id89fbff6fdf6e275fec41f382198179741e62b8a\ncloses-Bug: #1569640\nPartially-Implements: blueprint ovn-controller-neutron\n'}, {'number': 2, 'created': '2016-04-26 03:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f61d94c3593571ca95ffe272e04937c40d3b85a4', 'message': 'Build openvswitch image using source type\n\nChange-Id: Id89fbff6fdf6e275fec41f382198179741e62b8a\ncloses-Bug: #1569640\nPartially-Implements: blueprint ovn-controller-neutron\n'}, {'number': 3, 'created': '2016-05-09 20:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/70b12c38e9b7e20fdc4a884097307ddf150e14b4', 'message': 'Build openvswitch image using source type\n\nChange-Id: Id89fbff6fdf6e275fec41f382198179741e62b8a\ncloses-Bug: #1569640\nPartially-Implements: blueprint ovn-controller-neutron\n'}, {'number': 4, 'created': '2016-06-02 08:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6470c6908528e0e87c3cf313d64e74809d682051', 'message': 'Build openvswitch image using source type\n\nChange-Id: Id89fbff6fdf6e275fec41f382198179741e62b8a\ncloses-Bug: #1569640\nPartially-Implements: blueprint ovn-controller-neutron\n'}, {'number': 5, 'created': '2016-06-03 05:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fecccd8bc20c0495c6433806a701c18ae81022d1', 'message': 'Build openvswitch image using source type\n\nChange-Id: Id89fbff6fdf6e275fec41f382198179741e62b8a\ncloses-Bug: #1569640\nPartially-Implements: blueprint ovn-controller-neutron\n'}, {'number': 6, 'created': '2016-06-16 00:57:52.000000000', 'files': ['docker/openvswitch/openvswitch-base/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c5035c69d5cc0e87aff8208549147dc015b59ca6', 'message': 'Build openvswitch image using source type\n\nChange-Id: Id89fbff6fdf6e275fec41f382198179741e62b8a\ncloses-Bug: #1569640\nPartially-Implements: blueprint ovn-controller-neutron\n'}]",8,309726,c5035c69d5cc0e87aff8208549147dc015b59ca6,51,10,6,16993,,,0,"Build openvswitch image using source type

Change-Id: Id89fbff6fdf6e275fec41f382198179741e62b8a
closes-Bug: #1569640
Partially-Implements: blueprint ovn-controller-neutron
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/309726/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openvswitch/openvswitch-base/Dockerfile.j2', 'kolla/common/config.py']",2,d3b188963e676b756b717403e0db97171f8e78e6,bp/ovn-controller-neutron," 'openvswitch-base': { 'type': 'url', 'location': ('http://openvswitch.org/releases/' 'openvswitch-2.5.0.tar.gz')},",,33,1
openstack%2Fkolla-ansible~master~Icdde8d126c8e9b89119db45a66745d8afb163789,openstack/kolla-ansible,master,Icdde8d126c8e9b89119db45a66745d8afb163789,switch keystone_token_provider to use fernet,ABANDONED,2018-03-05 19:52:59.000000000,2019-09-19 16:41:25.000000000,,"[{'_account_id': 7488}, {'_account_id': 18242}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-05 19:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bdaede2c553be13229e3bd5331ce1a3eed32b74b', 'message': 'switch keystone_token_provider to use fernet\n\nThe uuid token provider was removed by\nI76d5c29f6b1572ee3ec7f2b1af63ff31572de2ce so we are updating the\ndefaults.\n\nChange-Id: Icdde8d126c8e9b89119db45a66745d8afb163789\nCloses-bug: 1753574\n'}, {'number': 2, 'created': '2018-03-05 19:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0f8179229999d06db6b1cdcef1f8759b72b49ba', 'message': 'switch keystone_token_provider to use fernet\n\nThe uuid token provider was removed by\nI76d5c29f6b1572ee3ec7f2b1af63ff31572de2ce so we are updating the\ndefaults.\n\nChange-Id: Icdde8d126c8e9b89119db45a66745d8afb163789\nCloses-bug: 1753574\n'}, {'number': 3, 'created': '2018-03-05 20:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a41d87ae6ca252e9478ea10322b60341b24a1781', 'message': 'switch keystone_token_provider to use fernet\n\nThe uuid token provider was removed by\nI76d5c29f6b1572ee3ec7f2b1af63ff31572de2ce so we are updating the\ndefaults.\n\nChange-Id: Icdde8d126c8e9b89119db45a66745d8afb163789\nCloses-bug: 1753574\n'}, {'number': 4, 'created': '2018-03-14 23:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/85c580f94fa0167a3e44ee084944edc454c09073', 'message': 'switch keystone_token_provider to use fernet\n\nThe uuid token provider was removed by\nI76d5c29f6b1572ee3ec7f2b1af63ff31572de2ce so we are updating the\ndefaults.\n\nChange-Id: Icdde8d126c8e9b89119db45a66745d8afb163789\nCloses-bug: 1753574\n'}, {'number': 5, 'created': '2018-03-22 17:52:31.000000000', 'files': ['ansible/roles/keystone/tasks/upgrade.yml', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/tasks/deploy.yml', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml', 'releasenotes/notes/switch-keystone-token-provider-20568178572e942d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/198e47322e38888d362f6d4f64069ee1f1e4edaa', 'message': 'switch keystone_token_provider to use fernet\n\nThe uuid token provider was removed by\nI76d5c29f6b1572ee3ec7f2b1af63ff31572de2ce so we are updating the\ndefaults.\n\nChange-Id: Icdde8d126c8e9b89119db45a66745d8afb163789\nCloses-bug: 1753574\n'}]",4,549861,198e47322e38888d362f6d4f64069ee1f1e4edaa,23,5,5,18242,,,0,"switch keystone_token_provider to use fernet

The uuid token provider was removed by
I76d5c29f6b1572ee3ec7f2b1af63ff31572de2ce so we are updating the
defaults.

Change-Id: Icdde8d126c8e9b89119db45a66745d8afb163789
Closes-bug: 1753574
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/549861/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/switch-keystone-token-provider-20568178572e942d.yaml']",2,bdaede2c553be13229e3bd5331ce1a3eed32b74b,bug/1753574,--- fixes: - | Switch keystone_token_provider to use fernet. Since the uuid default has been deprecated. ,,6,1
openstack%2Fnova-specs~master~I9a81b8eb5b21622129a07e33b211a912eb1e483e,openstack/nova-specs,master,I9a81b8eb5b21622129a07e33b211a912eb1e483e,Re-propose cross-cell-resize spec for Ussuri,MERGED,2019-09-18 21:31:22.000000000,2019-09-19 16:40:19.000000000,2019-09-19 16:38:42.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 21:31:22.000000000', 'files': ['specs/ussuri/approved/cross-cell-resize.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1d648aded3ab315ed09356e4649679dc0cf70da0', 'message': 'Re-propose cross-cell-resize spec for Ussuri\n\nPreviously-approved: Stein, Train\n\nSpec for blueprint cross-cell-resize\n\nChange-Id: I9a81b8eb5b21622129a07e33b211a912eb1e483e\n'}]",0,683002,1d648aded3ab315ed09356e4649679dc0cf70da0,8,3,1,6873,,,0,"Re-propose cross-cell-resize spec for Ussuri

Previously-approved: Stein, Train

Spec for blueprint cross-cell-resize

Change-Id: I9a81b8eb5b21622129a07e33b211a912eb1e483e
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/02/683002/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/cross-cell-resize.rst'],1,1d648aded3ab315ed09356e4649679dc0cf70da0,bp/cross-cell-resize,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================= Cross-cell resize ================= https://blueprints.launchpad.net/nova/+spec/cross-cell-resize Expand resize (cold migration) support across multiple cells. Problem description =================== Multi-cell support was added to the controller services (API, conductor, scheduler) in the Pike release. However, server move operations, like resize, are restricted to the cell in which the instance currently lives. Since it is common for deployments to shard cells by hardware types, and therefore flavors isolated to that hardware, the inability to resize across cells is problematic when a deployment wants to move workloads off the old hardware (flavors) and onto new hardware. Use Cases --------- As a large multi-cell deployment which shards cells by hardware generation, I want to decommission old hardware in older cells and have new and existing servers move to newer cells running newer hardware using newer flavors without users having to destroy and recreate their workloads. As a user, I want my servers to retain their IPs, volumes and UUID while being migrated to another cell. Proposed change =============== This is a complicated change, which the proof of concept patch [1]_ shows. As such, I will break down this section into sub-sections to cover the various aspects in what needs to be implemented and why. Keep in mind that at a high level, this is mostly a large data migration from one cell to another. This spec attempts to provide a high level design based on prototypes using both a shelve-based approach and, after initial spec review [2]_, an approach modeled closer to the traditional resize flow. This version of the spec focuses on the latter approach (without directly calling shelve methods). There will be unforeseen issues that will arise during implementation so the spec tries to not get into too low a level of implementation details and instead focuses on the general steps needed and known issues. Open questions are called out as necessary. Why resize? ----------- We are doing resize because cells can be sharded by flavors and resize is the only non-admin way (by default) for users to opt into migrating from one cell with an old flavor (gen1) to a new flavor (gen2) in a new cell. Users, by naturally resizing their servers every once in a while, will help with the migration. If not, the admins can also give them ""new"" flavors and tell them they need to resize their servers by a certain date. By having this be doable by a user-controlled process, the users can help with the migration without knowing anything about cells underneath. Terms ----- Common terms used throughout the spec. * Source cell: this is the cell in which the instance ""lives"" when the resize is initiated. * Target cell: this is the cell in which the instance moves during a cross-cell resize. * Resized instance: an instance with status ``VERIFY_RESIZE``. * Super conductor: in a `split-MQ`_ deployment, the super conductor is running at the ""top"" and has access to the API database and thus can communicate with the cells over RPC and directly to the cell databases. * Hard delete: most tables in the cell database schema, like ``instances``, use the `SoftDeleteMixin`_ which means when the corresponding object is destroyed, the record's ``deleted`` column is updated to a non-0 value which takes it out of most queries by default, like when listing servers in the API. This is commonly referred to as a ""soft delete"" of the record since it is still in the table and will not be actually deleted until the ``nova-manage db archive_deleted_rows`` command is run. Note that this concept of a ""soft deleted"" record is not the same as a server with status ``SOFT_DELETED`` in the API, which is a server that is marked for deletion but has not yet been reaped by the nova-compute service. Hard deleting cell database records is necessary in a cross-cell resize to avoid DBDuplicateEntry failures due to unique constraint violations because of soft deleted records in a cell database to which an instance is being resized. .. _split-MQ: https://docs.openstack.org/nova/latest/user/cellsv2-layout.html#multiple-cells .. _SoftDeleteMixin: https://github.com/openstack/oslo.db/blob/4.45.0/oslo_db/sqlalchemy/models.py#L142 Assumptions ----------- * There is a lack of connectivity, e.g. SSH access, between compute hosts in different cells on which regular resize relies. * The image service (glance), persistent volume storage (cinder) and tenant networks (neutron) span cells. Goals ----- * Minimal changes to the overall resize flow as seen from both an external (API user, notification consumer) and internal (nova developer) perspective. * Maintain the ability to easily rollback to the source cell in case the resize fails. Policy rule ----------- A new policy rule ``compute:servers:resize:cross_cell`` will be added. It will default to ``!`` which means no users are allowed. This is both backward compatible and flexible so that operators can determine which users in their cloud are allowed to perform a cross-cell resize. For example, it probably makes sense for operators to allow only system-level admins or test engineers to perform a cross-cell resize initially. Resize flow ----------- This describes the flow of a resize up until the point that the server goes to ``VERIFY_RESIZE`` status. API ~~~ The API will check if the user is allowed, by the new policy rule, to perform a cross-cell resize *and* if the ``nova-compute`` service on the source host is new enough to support the cross-cell resize flow. If so, the API will modify the RequestSpec to tell the scheduler to not restrict hosts to the source cell, but the source cell will be ""preferred"" by default. There are two major reasons why we perform this check in the API: 1. The `2.56 microversion`_ allows users with the admin role to specify a target host during a cold migration. Currently, the API validates that the `target host exists`_ which will only work for hosts in the same cell in which the instance lives (because the request context is targeted to that cell). If the request is allowed to perform a cross-cell resize then we will adjust the target host check to allow for other cells as well. .. _api-cast: 2. Currently, the resize/migrate API actions are synchronous until conductor RPC casts to ``prep_resize()`` on the selected target host. This could be problematic during a cross-cell resize if the conductor needs to validate potential target hosts since the REST API response could timeout. Until the `2.34 microversion`_, the live migrate API had the same problem. If the request is allowed to perform a cross-cell resize then we will RPC cast from API to conductor. .. _2.56 microversion: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id51 .. _target host exists: https://github.com/openstack/nova/blob/c295e395d/nova/compute/api.py#L3570 .. _2.34 microversion: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id31 Scheduler ~~~~~~~~~ A new ``CrossCellWeigher`` will be introduced which will prefer hosts from the source cell by default. A configurable multiplier will be added to control the weight in case an operator wants to prefer cross cell migrations. This weigher will be a noop for all non-cross-cell move operations. Note that once the scheduler picks a primary selected host, all alternate hosts come from the `same cell`_. .. _same cell: https://github.com/openstack/nova/blob/c295e395d/nova/scheduler/filter_scheduler.py#L399 (Super)Conductor ~~~~~~~~~~~~~~~~ The role of conductor will be to synchronously orchestrate the resize between the two cells. Given the assumption that computes in different cells do not have SSH access to each other, the traditional resize flow of transferring disks over SSH will not work. The ``MigrationTask`` will check the selected destinations from the scheduler to see if they are in another cell and if so, call off to a new set of conductor tasks to orchestrate the cross-cell resize. Conductor will set ``Migration.cross_cell_move=True`` which will be used in the API to control confirm/revert logic. A new ``CrossCellMigrationTask`` will orchestrate the following sub-tasks which are meant to mimic the traditional resize flow and will leverage new compute service methods. **Target DB Setup** Before we can perform any checks in the destination host, we have to first populate the target cell database with the instance and its related data, e.g. block device mappings, network info cache, instance actions, etc. .. note:: After this point, if anything fails the conductor task will hard delete the instance and its related records from the target cell DB so the resize can be attempted again once the issue is resolved in the target cell. In order to hide the target cell instance from the API when listing servers, the instance in the target cell will be created with a ``hidden=True`` field which will be used to filter out these types of instances from the API. Remember that at this point, the instance mapping in the API points at the source cell, so ``GET /servers/{server_id}`` would still only show details about the instance in the source cell. We use the new ``hidden`` field to prevent leaking out the wrong instance to ``GET /servers/detail``. We may also do this for the related ``migrations`` table record to avoid returning multiple instances of the same migration record to ``GET /os-migrations`` (coincidentally the ``migrations`` table already has an unused ``hidden`` column). **Prep Resize at Dest** Conductor will make a synchronous RPC call (using ``long_rpc_timeout``) to a new method ``prep_snapshot_based_resize_at_dest`` on the dest compute service which will: * Call ``ResourceTracker.resize_claim()`` on the potential dest host in the target cell to claim resources prior to starting the resize. Note that VCPU, MEMORY_MB and DISK_GB resources will actually be claimed (allocated) via placement during scheduling, but we need to make the ``resize_claim()`` for NUMA/PCI resources which are not yet modeled in placement, and in order to create the ``MigrationContext`` record. * Verify the selected target host to ensure ports and volumes will work. This validation will include creating port bindings on the target host and ensuring volume attachments can be connected to the host. If either of these steps fail, the target host will be rejected. At that point, the conductor task will loop through alternate hosts looking for one that works. If the migration fails at this point (runs out of hosts), then the migration status changes to ``error`` and the instance status goes back to its previous state (either ``ACTIVE`` or ``ERROR``). Copy the ``instance.migration_context`` from the target DB to the source DB. This is necessary for the API to route ``network-vif-plugged`` events later when spawning the guest in the target cell. **Prep Resize at Source** Conductor will make a synchronous RPC call (using ``long_rpc_timeout``) to a new method ``prep_snapshot_based_resize_at_source`` on the source compute service which will behave very similar to how shelve works, but also coincides with how the ``resize_instance`` method works during a traditional resize: * Power off the instance. * For non-volume-backed instances, create and upload a snapshot image of the root disk. Like shelve, this snapshot image will be used temporarily during the resize and upon successful completion will be deleted. The old/new image_ref will be stored in the migration_context. * Destroy the guest on the hypervisor but retain disks, i.e. call ``self.driver.destroy(..., destroy_disks=False)``. This is necessary to disconnect volumes and unplug VIFs from the source host, and is actually very similar to the ``migrate_disk_and_power_off`` method called on the source host during a normal resize. Note that we do not free up tracked resources on the source host at this point nor change the instance host/node values in the database in case we revert or need to recover from a failed migration. * Delete old volume attachments and update the BlockDeviceMapping records with new placeholder volume attachments which will be used on the dest host. * Open question: at this point we may want to activate port bindings for the dest host, but that may not be necessary (that is not done as part of ``resize_instance`` on the source host during traditional resize today). If the ports are bound to the dest host and the migration fails, trying to recover the instance in the source cell via rebuild may not work (see `bug 1659062`_) so maybe port binding should be delayed, or we have to be careful about rolling those back to the source host. .. _bug 1659062: https://bugs.launchpad.net/nova/+bug/1659062 If the migration fails at this point, any snapshot image created should be deleted. Recovering the guest on the source host should be as simple as hard rebooting the server (which is allowed with servers in ``ERROR`` status). **Finish Resize at Dest** At this point we are going to switch over to the dest host in the target cell so we need to make sure any DB updates required from the source cell to the target cell are made, for example, task_state, power_state, availability_zone values, instance action events, etc Conductor will make a synchronous RPC call (using ``long_rpc_timeout``) to a new method ``finish_snapshot_based_resize_at_dest`` on the dest compute service which will behave very similar to how unshelve works, but also coincides with how the ``finish_resize`` method works during a traditional resize: * Apply the migration context and update the instance record for the new flavor and host/node information. * Update port bindings / PCI mappings for the dest host. * Prepare block devices (attach volumes). * Spawn the guest on the hypervisor which will connect volumes and plug VIFs. The new flavor will be used and if a snapshot image was previously created for a non-volume-backed instance, that image will be used for the root disk. At this point, the virt driver should wait for the ``network-vif-plugged`` event to be routed from the API before continuing. * Delete the temporary snapshot image (if one was created). This is similar to how unshelve works where the shelved snapshot image is deleted. At this point deleting the snapshot image is OK since the guest is spawned on the dest host and in the event of a revert or recovery needed on the source, the source disk is still on the source host. * Mark the instance as resized. Back in conductor, we need to: * Mark the target cell instance record as ``hidden=False`` so it will show up when listing servers. Note that because of how the `API filters`_ duplicate instance records, even if the user is listing servers at this exact moment only one copy of the instance will be returned. * Update the instance mapping to point at the target cell. This is so that the confirm/revert actions will be performed on the resized instance in the target cell rather than the destroyed guest in the source cell. Note that we could do this before finishing the resize on the dest host, but it makes sense to defer this until the instance is successfully resized in the dest host because if that fails, we want to be able to rebuild in the source cell to recover the instance. * Mark the source cell instance record as ``hidden=True`` to hide it from the user when listing servers. .. _API filters: https://github.com/openstack/nova/blob/c295e395d/nova/compute/api.py#L2684 Confirm flow ------------ When confirming a resized server, if the ``Migration.cross_cell_move`` value is True, the API will: * RPC call to the source compute to cleanup disks similar to the ``driver.confirm_migration`` method and drop the move claim (free up tracked resource usage for the source node). * Delete migration-based resource allocations against the source compute node resource provider (this can happen in the source compute or the API). * Hard delete the instance and its related records from the source cell database. * Update the ``Migration.status`` to ``confirmed`` in the target cell DB. * Drop the migration context on the instance in the target cell DB. * Change the instance vm_state to ``ACTIVE`` or ``STOPPED`` based on its current power_state in the target cell DB (the user may have manually powered on the guest to verify it before confirming the resize). Revert flow ----------- Similar to the confirm flow, a cross-cell revert resize will be identified via the ``Migration.cross_cell_move`` field in the API. If True, the API will RPC cast to a new conductor method ``revert_cross_cell_resize`` which will execute a new ``CrossCellRevertResizeTask``. That task will: * Update the instance and its related records in the source cell database based on the contents of the target cell database. This is especially important for things like: * BDMs because you can attach/detach volumes to/from a resized server. * The ``REVERT_RESIZE`` instance action record created by the API in the target cell. That is needed to track events during the revert in the source cell compute. Thankfully the API does not allow attaching/detaching ports or changing server tags on a resized server so we do not need to copy those back across to the source cell database. * Mark the source cell DB instance as ``hidden=False`` to show it from the API while listing servers as we revert. * Update the instance mapping to point at the source cell. This needs to happen before spawning in the source cell so that the ``network-vif-plugged`` event from neutron is routed properly. * Mark the target cell DB instance as ``hidden=True`` to hide it from the API while listing servers as we revert. * RPC call the dest compute to terminate the instance (destroy the guest, disconnect volumes and ports, free up tracked resources). * Hard delete the instance and its related records from the target cell database. * Update the ``Migration.status`` to ``reverted`` in the source cell DB. * RPC call the source compute to revert the migration context, apply the old flavor and original image, attach volumes and update port bindings, power on the guest (like in ``driver.finish_revert_migration``) and swap source node allocations held by the migration record in placement to the instance record. Note that an alternative to keeping the source disk during resize is to use the snapshot image during revert and just spawn from that (rather than power on from the retained disk). However, that means needing to potentially download the snapshot image back to the source host and ensure the snapshot image is cleaned up for both confirm and revert rather than just at the end of the resize. It would also complicate the ability to recover the guest on the source host by simply hard rebooting it in case the resize fails. Limitations ----------- 1. The `_poll_unconfirmed_resizes`_ periodic task, which can be configured to automatically confirm pending resizes on the target host, will not support cross-cell resizes because doing so would require an up-call to the API to confirm the resize and cleanup the source cell database. Orchestrating automatic cross-cell resize confirm could be a new periodic task written in the conductor service as a future enhancement. .. _\_poll_unconfirmed_resizes: https://github.com/openstack/nova/blob/c295e395d/nova/compute/manager.py#L7082 Known issues ------------ 1. Rather than conductor making synchronous RPC calls during the resize with the ``long_rpc_timeout`` configuration option, a new option could be added specifically for cross-cell (snapshot-based) resize operations. Given a snapshot of a large disk could take a long time to upload (or download) it might be better to add new options for controlling those timeouts. For the initial version of this feature we will re-use ``long_rpc_timeout`` and we can add more granular options in the future if necessary. 2. One semantic difference in the API will be different events under the instance actions records during a resize, since the events are created via the ``wrap_instance_event`` decorator on the compute methods, and when using new methods with new names there will be new events compared to a normal resize. This could maybe be countered by passing a specific name to the decorator rather than just use the function name as it does today. Given there are no API guarantees about the events that show up under an action record, and this has always been internal details that leak out of the API, we will not try to overwrite the new function/event names, e.g. recording a ``compute_prep_resize`` event when calling the ``prep_snapshot_based_resize_at_dest`` method. .. _personality-files: 3. Servers created with personality files, commonly known as file injection, that are resized across cells will lose the personality files since they are not persisted in the database. There are two ways to view this. First is that a traditional resize will preserve a config drive with the personality files in it, so this would be a regression from that behavior since the config drive is going to get rebuilt on the destination host during a cross cell resize. On the other hand, servers with personality files that are resized today but do not have a config drive already lose their personality files during the migration because the files are not persisted and therefore even if they get metadata in the guest from the metadata API, they will not get the personality files used during server create (or the last rebuild). Similarly, servers that are evacuated, even if they had a config drive, will lose the personality files during the evacuation since the config drive is rebuilt on the destination host. It is also worth noting that the use of personality files `is deprecated`_. .. _is deprecated: https://specs.openstack.org/openstack/nova-specs/specs/queens/implemented/deprecate-file-injection.html Edge cases ---------- 1. If the user deletes a server in ``VERIFY_RESIZE`` status, the API confirms the resize to clean up the source host before deleting the server from the dest host [3]_. This code will need to take into account a cross-cell resize and cleanup appropriately (cleanup the source host and delete records from the source cell). 2. When `routing network events`_ in the API, if the instance has a migration context it will lookup the migration record based on id rather than uuid which may be wrong if the migration context was created in a different cell database where the id primary key on the migration record is different. It is not clear if this will be a problem but it can be dealt with in a few ways: * Store the migration.uuid on the migration context and lookup the migration record using the uuid rather than the id. * When copying the migration context from the target cell DB to the source cell DB, update the ``MigrationContext.migration_id`` to match the ``Migration.id`` of the source cell migration record. 3. It is possible to attach/detach volumes to/from a resized server. Because of this, mirroring those block device mapping changes from the target cell DB to the source cell DB during revert adds complication but it is manageable [4]_. The ability to do this to resized servers is not well known and arguably may not be officially supported to preserve any volumes attached during the revert, but because that is what works today we should try and support it for cross-cell resize. .. _routing network events: https://github.com/openstack/nova/blob/c295e395d/nova/compute/api.py#L4883 Alternatives ------------ Lift and shift ~~~~~~~~~~~~~~ Users (or cloud operators) could force existing servers to be snapshot, destroyed and then re-created from snapshot with a new flavor in a new cell. It is assumed that deployments already have some kind of tooling like this for moving resources across sites or regions. While normal resize is already disruptive to running workloads, this alternative is especially problematic if specific volumes and ports are attached, i.e. the IP(s) and server UUID would change. In addition, it would require all multi-cell deployments to orchestrate their own cross-cell migration tooling. Shelve orchestration ~~~~~~~~~~~~~~~~~~~~ An alternative design to this spec is found in the PoC [1]_ and initial version of this spec [2]_. That approach opted to try and re-use the existing shelve and unshelve functions to: * Snapshot and shelve offload out of the source cell. * Unshelve from snapshot in the target cell. * On revert, shelve offload from the target cell and then unshelve in the source cell. The API, scheduler and database manipulation logic was similar *except* since shelve was used, the instance was offloaded from the source cell which could complicate getting the server *back* to the original source on revert and require rescheduling to a different host in the source cell. In addition, that approach resulted in new task states and notifications related to shelve which would not be found in a normal resize, which could be confusing, and complicated the logic in the shelve/unshelve code since it had to deal with resize conditions. Comparing what is proposed in this spec versus the shelve approach: Pros: - Arguably cleaner with new methods to control task states and notificiations; no complicated dual-purpose logic to shelve handling a resize, i.e. do not repeat the evacuate/rebuild debt. - The source instance is mostly untouched which should make revert and recover simpler. Cons: - Lots of new code, some of which is heavily duplicated with shelve/unshelve. Long-term it should be better to try for a hybrid approach (what is in this spec) to have new compute methods to control notifications and task states to closer match a traditional resize flow, but mix in shelve/unshelve style operations, e.g. snapshot, guest destroy/spawn. Data model impact ----------------- * A ``cross_cell_move`` boolean column, which defaults to False, will be added to the ``migrations`` cell DB table and related versioned object. * A ``hidden`` boolean column, which defaults to False, will be added to the ``instances`` cell DB table and related versioned object. REST API impact --------------- There will be no explicit request/response schema changes to the REST API. Normal resize semantics like maintaining the same task state transition and keeping the instance either ``ACTIVE`` or ``SHUTDOWN`` at the end will remain intact. While the instance is resized and contains records in both cells, the API will have to take care to filter out duplicate instance and migration records while listing those across cells (using the ``hidden`` field). As noted :ref:`above <api-cast>`, if cross-cell resize is allowed the API service will asynchronously cast to the conductor service rather than RPC call and block the HTTP response until a target host is chosen. Regardless of this the ``resize`` and ``migrate`` server action API response status code is always a 202. Security impact --------------- As described in the `Policy rule`_ section, a new policy rule will be added to control which users can perform a cross-cell resize. Notifications impact -------------------- Similar to task state transitions in the API, notifications should remain the same as much as possible. For example, the *Prep Resize at Dest* phase should emit the existing ``instance.resize_prep.start/end`` notifications. The *Prep Resize at Source* phase should emit the existing ``instance.resize.start/end/error`` notifications. The bigger impact will be to deployments that have a notification queue per cell because the notifications will stop from one cell and start in another, or be intermixed during the resize itself (prep at dest is in target cell while prep at source is in source cell). It is not clear what impact this could have on notification consumers like ceilometer though. If desired, new versioned notifications (or fields to existing notifications) could be added to denote a cross-cell resize is being performed, either as part of this blueprint or as a future enhancement. Other end user impact --------------------- As mentioned above, instance action events and versioned notification behavior may be different. Performance Impact ------------------ Clearly a cross-cell resize will perform less well than a normal resize given the database coordination involved and the need to snapshot an image-backed instance out of the source cell and download the snapshot image in the target cell. Also, deployments which enable this feature may need to scale out their conductor workers which will be doing a lot of the orchestration work rather than inter-compute coordination like a normal resize. Similarly, the ``rpc_conn_pool_size`` may need to be increased because of the synchronous RPC calls involved. Other deployer impact --------------------- Deployers will be able to control who can perform a cross-cell resize in their cloud and also be able to tune parameters used during the resize, like the RPC timeout. Developer impact ---------------- A new ``can_connect_volume`` compute driver interface will be added with the following signature:: def can_connect_volume(self, context, connection_info, instance): That will be used during the validation step to ensure volumes attached to the instance can connect to the destination host in the target cell. The code itself will be relatively minor and just involve parts of an existing volume attach/detach operation for the driver. Upgrade impact -------------- There are three major upgrade considerations to support this feature. * RPC: given the RPC interface changes to the compute and conductor services, those services will naturally need to be upgraded before a cross-cell resize can be performed. * Cinder: because of the validation relying on volume attachments, cinder will need to be running at least Queens level code with the `3.44 microversion`_ available. * Neutron: because of the validation relying on port bindings, neutron will need to be running at least Rocky level code with the ``Port Bindings Extended`` API extension enabled. .. _3.44 microversion: https://docs.openstack.org/cinder/latest/contributor/api_microversion_history.html#id41 Implementation ============== Assignee(s) ----------- Primary assignee: Matt Riedemann <mriedem.os@gmail.com> (irc: mriedem) Other contributors: None Work Items ---------- At a high level this is the proposed series of changes that need to be made in order, although realistically some of the control plane changes could be made in any order as long as the cold migrate task change comes at the end. * DB model changes (``migrations.cross_cell_move``, ``instances.hidden``). * Various versioned objects changes for tracking a cross-cell move in the RequestSpec, looking up a Migration by UUID, creating InstanceAction and InstanceActionEvent records from existing data, etc. * Scheduler changes to select destination hosts from multiple cells during a cross-cell move and weighing them so the ""source"" cell is preferred by default. * Possible changes to the ``MigrationContext`` object for new fields like ``old_image_ref``, ``new_image_ref``, ``old_flavor``, ``new_flavor``, ``old_vm_state`` (this will depend on implementation). * nova-compute RPC interface changes for the prep/validate at dest, prep at source, and finish resize at source operations. * Adding new conductor tasks for orchestrating a cross-cell resize including reverting a resize. * API plumbing changes to handle confirming/reverting a cross-cell resize. * Add the new policy rule and make the existing resize flow use it to tell the scheduler whether or not target hosts can come from another cell, and if the target host is from another cell, to run the new cross-cell resize conductor task to orchestrate the resize rather than the traditional compute-orchestrated flow (where the source and target nova-compute services SSH and RPC between each other). Dependencies ============ None Testing ======= The existing functional tests in the PoC change should give a good idea of the types of wrinkles that need to be tested. Several obvious tests include: * Resize both image-backed and volume-backed servers. * Ensure allocations in the placement service, and resource reporting from the ``os-hypervisors`` API, are accurate at all points of the resize, i.e. while the server is in ``VERIFY_RESIZE`` status, after it is confirmed and reverted. * Ensure volume attachments and port bindings are managed properly, i.e. no resources are leaked. * Tags, both on the server and associated with virtual devices (volumes and ports) survive across the resize to the target cell. * Volumes attached/detached to/from a server in ``VERIFY_RESIZE`` status are managed properly in the case of resize confirm/revert. * During a resize, resources which span cells, like the server and its related migration, are not listed with duplicates out of the API. * Perform a resize with at-capacity computes, meaning that when we revert we can only fit the instance with the old flavor back onto the source host in the source cell. * Ensure start/end events/notifications are aligned with a normal same-cell resize. * Resize from both an active and stopped server and assert the original status is retained after confirming and reverting the resize. * Delete a resized server and assert resources and DB records are properly cleaned up from both the source and target cell. * Test a failure scenario where the server is recovered via rebuild in the source cell. Unit tests will be added for the various units of changes leading up to the end of the series where the functional tests cover the integrated flows. Negative/error/rollback scenarios will also be covered with unit tests and functional tests as appropriate. Since there are no direct API changes, Tempest testing does not really fit this change. However, something we should really have, and arguably should have had since Pike, is a multi-cell CI job. Details on how a multi-cell CI job can be created though is unclear given the need for it to either integrate with legacy devstack-gate tooling or, if possible, new zuul v3 tooling. Documentation Impact ==================== The compute admin `resize guide`_ will be updated to document cross-cell resize in detail from an operations perspective, including troubleshooting and fault recovery details. The compute `configuration guide`_ will be updated for the new policy rule and any configuration options added. The compute `server concepts guide`_ may also need to be updated for any user-facing changes to note, like the state transitions of a server during a cross-cell resize. .. _resize guide: https://docs.openstack.org/nova/latest/admin/configuration/resize.html .. _configuration guide: https://docs.openstack.org/nova/latest/configuration/ .. _server concepts guide: https://developer.openstack.org/api-guide/compute/server_concepts.html References ========== .. [1] Proof of concept: https://review.openstack.org/#/c/603930/ .. [2] Shelve-based approach spec: https://review.openstack.org/#/c/616037/1/ .. [3] API delete confirm resize: https://github.com/openstack/nova/blob/c295e395d/nova/compute/api.py#L2069 .. [4] Mirror BDMs on revert: https://review.openstack.org/#/c/603930/20/nova/conductor/tasks/cross_cell_migrate.py@637 Stein PTG discussions: * https://etherpad.openstack.org/p/nova-ptg-stein-cells * https://etherpad.openstack.org/p/nova-ptg-stein Mailing list discussions: * http://lists.openstack.org/pipermail/openstack-dev/2018-August/thread.html#133693 * http://lists.openstack.org/pipermail/openstack-operators/2018-August/thread.html#15729 Code: https://review.openstack.org/#/q/topic:bp/cross-cell-resize+(status:open+OR+status:merged) History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Stein - Introduced * - Train - Re-proposed and added the known issue for :ref:`personality files <personality-files>` and details hard deleting the instance and its related records from a cell DB. * - Ussuri - Re-proposed ",,842,0
openstack%2Fneutron~stable%2Fqueens~Ic768deb84d544db832367f9a4b84a92729eee620,openstack/neutron,stable/queens,Ic768deb84d544db832367f9a4b84a92729eee620,Fix creation of vlan network with segmentation_id set to 0,MERGED,2019-09-17 07:00:34.000000000,2019-09-19 16:37:36.000000000,2019-09-19 16:37:36.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-17 07:00:34.000000000', 'files': ['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17f3b75007643e8329eb93194d2e9597be3b90fb', 'message': 'Fix creation of vlan network with segmentation_id set to 0\n\nIn case when vlan network was created with segmentation_id=0 and without\nphysical_network given, it was passing validation of provider segment\nand first available segmentation_id was choosen for network.\nProblem was that in such case all available segmentation ids where\nallocated and no other vlan network could be created later.\n\nThis patch fixes validation of segmentation_id when it is set to value 0.\n\nChange-Id: Ic768deb84d544db832367f9a4b84a92729eee620\nCloses-bug: #1840895\n(cherry picked from commit f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b)\n'}]",0,682559,17f3b75007643e8329eb93194d2e9597be3b90fb,10,6,1,11975,,,0,"Fix creation of vlan network with segmentation_id set to 0

In case when vlan network was created with segmentation_id=0 and without
physical_network given, it was passing validation of provider segment
and first available segmentation_id was choosen for network.
Problem was that in such case all available segmentation ids where
allocated and no other vlan network could be created later.

This patch fixes validation of segmentation_id when it is set to value 0.

Change-Id: Ic768deb84d544db832367f9a4b84a92729eee620
Closes-bug: #1840895
(cherry picked from commit f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/682559/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py']",2,17f3b75007643e8329eb93194d2e9597be3b90fb,bug/1840895-stable/stein-stable/rocky-stable/queens," def test_validate_provider_segment_no_phys_network_seg_id_0(self): segment = {api.NETWORK_TYPE: p_const.TYPE_VLAN, api.SEGMENTATION_ID: 0} self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment) api.PHYSICAL_NETWORK: PROVIDER_NET} segmentation_ids = [ p_const.MIN_VLAN_TAG - 1, p_const.MAX_VLAN_TAG + 1] for segmentation_id in segmentation_ids: segment[api.SEGMENTATION_ID] = segmentation_id self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment)"," api.PHYSICAL_NETWORK: PROVIDER_NET, api.SEGMENTATION_ID: 5000} self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment)",18,7
openstack%2Fneutron~stable%2Frocky~Ic768deb84d544db832367f9a4b84a92729eee620,openstack/neutron,stable/rocky,Ic768deb84d544db832367f9a4b84a92729eee620,Fix creation of vlan network with segmentation_id set to 0,MERGED,2019-09-17 07:00:26.000000000,2019-09-19 16:37:32.000000000,2019-09-19 16:37:32.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-17 07:00:26.000000000', 'files': ['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f050abab45daeb91443797b6c82a31eb06885a68', 'message': 'Fix creation of vlan network with segmentation_id set to 0\n\nIn case when vlan network was created with segmentation_id=0 and without\nphysical_network given, it was passing validation of provider segment\nand first available segmentation_id was choosen for network.\nProblem was that in such case all available segmentation ids where\nallocated and no other vlan network could be created later.\n\nThis patch fixes validation of segmentation_id when it is set to value 0.\n\nChange-Id: Ic768deb84d544db832367f9a4b84a92729eee620\nCloses-bug: #1840895\n(cherry picked from commit f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b)\n'}]",0,682558,f050abab45daeb91443797b6c82a31eb06885a68,11,6,1,11975,,,0,"Fix creation of vlan network with segmentation_id set to 0

In case when vlan network was created with segmentation_id=0 and without
physical_network given, it was passing validation of provider segment
and first available segmentation_id was choosen for network.
Problem was that in such case all available segmentation ids where
allocated and no other vlan network could be created later.

This patch fixes validation of segmentation_id when it is set to value 0.

Change-Id: Ic768deb84d544db832367f9a4b84a92729eee620
Closes-bug: #1840895
(cherry picked from commit f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/682558/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py']",2,f050abab45daeb91443797b6c82a31eb06885a68,bug/1840895-stable/stein-stable/rocky," def test_validate_provider_segment_no_phys_network_seg_id_0(self): segment = {api.NETWORK_TYPE: p_const.TYPE_VLAN, api.SEGMENTATION_ID: 0} self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment) api.PHYSICAL_NETWORK: PROVIDER_NET} segmentation_ids = [ p_const.MIN_VLAN_TAG - 1, p_const.MAX_VLAN_TAG + 1] for segmentation_id in segmentation_ids: segment[api.SEGMENTATION_ID] = segmentation_id self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment)"," api.PHYSICAL_NETWORK: PROVIDER_NET, api.SEGMENTATION_ID: 5000} self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment)",18,7
openstack%2Fneutron-lbaas~stable%2Fqueens~I388d05518a2d5671fdd2739903b461d8c717cec3,openstack/neutron-lbaas,stable/queens,I388d05518a2d5671fdd2739903b461d8c717cec3,DNM: Testing tempest,ABANDONED,2019-05-29 16:44:05.000000000,2019-09-19 16:36:44.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 16:44:05.000000000', 'files': ['neutron_lbaas/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/42a81c0a76a5f6ce6c93753a9e8b4f9df26075ee', 'message': 'DNM: Testing tempest\n\nChange-Id: I388d05518a2d5671fdd2739903b461d8c717cec3\n'}]",0,662036,42a81c0a76a5f6ce6c93753a9e8b4f9df26075ee,4,2,1,11628,,,0,"DNM: Testing tempest

Change-Id: I388d05518a2d5671fdd2739903b461d8c717cec3
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/36/662036/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/opts.py'],1,42a81c0a76a5f6ce6c93753a9e8b4f9df26075ee,,,,1,0
openstack%2Fironic-python-agent-builder~master~Ifbb242e4846a233c685ba3dba6d2ecdae101f4b2,openstack/ironic-python-agent-builder,master,Ifbb242e4846a233c685ba3dba6d2ecdae101f4b2,DIB: remove deprecated extension and output image size for convenience,MERGED,2019-09-18 16:32:17.000000000,2019-09-19 16:36:13.000000000,2019-09-19 16:34:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-18 16:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/0887af2162faaaf28de74731a6440c75235c9eb0', 'message': 'DIB: remove deprecated extension and output image size for convenience\n\nChange-Id: Ifbb242e4846a233c685ba3dba6d2ecdae101f4b2\n'}, {'number': 2, 'created': '2019-09-19 07:25:53.000000000', 'files': ['dib/ironic-python-agent-ramdisk/cleanup.d/99-ramdisk-create'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/5e189fca97dae9ca886d857929984e04353e16d4', 'message': 'DIB: remove deprecated extension and output image size for convenience\n\nChange-Id: Ifbb242e4846a233c685ba3dba6d2ecdae101f4b2\n'}]",0,682944,5e189fca97dae9ca886d857929984e04353e16d4,13,4,2,10239,,,0,"DIB: remove deprecated extension and output image size for convenience

Change-Id: Ifbb242e4846a233c685ba3dba6d2ecdae101f4b2
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/44/682944/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/cleanup.d/99-ramdisk-create'],1,0887af2162faaaf28de74731a6440c75235c9eb0,size,# Output image sizes for debugging sudo ls -lh ${IMAGE_PATH}.*," # TODO(lucasagomes): Create a hard link for the .vmlinuz file to keep # it backward compatible. Remove it after it has been consistent and # documented in both places for at least one full OpenStack release cycle echo ""WARNING: The kernel extension .vmlinuz has been deprecated. Please rely on the file with the extension .kernel instead."" sudo rm -f ${IMAGE_PATH}.vmlinuz ln ${IMAGE_PATH}.kernel ${IMAGE_PATH}.vmlinuz",2,7
openstack%2Fmagnum~master~I7124a1158243293485a33f4faf372002e1566acc,openstack/magnum,master,I7124a1158243293485a33f4faf372002e1566acc,"Revert ""Using Fedora Atomic 29 as default image""",ABANDONED,2019-09-19 15:29:08.000000000,2019-09-19 16:34:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-19 15:29:08.000000000', 'files': ['magnum/tests/contrib/gate_hook.sh', 'devstack/lib/magnum', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a354852e38bb1dc19ca6a1c3875e888d8d08fed5', 'message': 'Revert ""Using Fedora Atomic 29 as default image""\n\nThis reverts commit 703de97cd469f8d077c247e55034f723343c50d0.\n\nChange-Id: I7124a1158243293485a33f4faf372002e1566acc\n'}]",0,683184,a354852e38bb1dc19ca6a1c3875e888d8d08fed5,3,1,1,28022,,,0,"Revert ""Using Fedora Atomic 29 as default image""

This reverts commit 703de97cd469f8d077c247e55034f723343c50d0.

Change-Id: I7124a1158243293485a33f4faf372002e1566acc
",git fetch https://review.opendev.org/openstack/magnum refs/changes/84/683184/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/contrib/gate_hook.sh', 'devstack/lib/magnum', 'devstack/plugin.sh']",3,a354852e38bb1dc19ca6a1c3875e888d8d08fed5,revert-fa29," MAGNUM_GUEST_IMAGE_URL=${MAGNUM_GUEST_IMAGE_URL:-""https://download.fedoraproject.org/pub/alt/atomic/stable/Fedora-Atomic-27-20180419.0/CloudImages/x86_64/images/Fedora-Atomic-27-20180419.0.x86_64.qcow2""}"," MAGNUM_GUEST_IMAGE_URL=${MAGNUM_GUEST_IMAGE_URL:-""https://dl.fedoraproject.org/pub/alt/atomic/stable/Fedora-29-updates-20190820.0/AtomicHost/x86_64/images/Fedora-AtomicHost-29-20190820.0.x86_64.qcow2""} magnum_configure_flavor",4,16
openstack%2Fopenstack-ansible-os_nova~master~I641bbba353cb9aafdd11b414b8e81fc019cc7eae,openstack/openstack-ansible-os_nova,master,I641bbba353cb9aafdd11b414b8e81fc019cc7eae,Add the project source code repository in README,ABANDONED,2018-07-20 05:01:22.000000000,2019-09-19 16:32:20.000000000,,"[{'_account_id': 7353}, {'_account_id': 14151}, {'_account_id': 14320}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-07-20 05:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ad5fbb5bd557efd4277d21b974189d5b03164690', 'message': 'Add the project source code repository in README\n\nChange-Id: I641bbba353cb9aafdd11b414b8e81fc019cc7eae\n'}, {'number': 2, 'created': '2018-08-17 23:54:07.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/aaee9d6dce0a173abfe039bc852863e66f560b92', 'message': 'Add the project source code repository in README\n\nChange-Id: I641bbba353cb9aafdd11b414b8e81fc019cc7eae\n'}]",0,584224,aaee9d6dce0a173abfe039bc852863e66f560b92,11,5,2,14151,,,0,"Add the project source code repository in README

Change-Id: I641bbba353cb9aafdd11b414b8e81fc019cc7eae
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/24/584224/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ad5fbb5bd557efd4277d21b974189d5b03164690,,The project source code repository is located at: `<https://git.openstack.org/cgit/openstack/openstack-ansible-os_nova/>`_ ,,3,0
openstack%2Foctavia~stable%2Fstein~I932ad625595333e97b0ead074ce64a7341af338d,openstack/octavia,stable/stein,I932ad625595333e97b0ead074ce64a7341af338d,Work around strptime threading issue,MERGED,2019-09-18 17:16:38.000000000,2019-09-19 16:24:42.000000000,2019-09-19 16:22:36.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 17:16:38.000000000', 'files': ['octavia/common/base_taskflow.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/220c1b250dd108446ba2e441243d7e2d73c386f8', 'message': 'Work around strptime threading issue\n\nThere is an open bug[1] in python strptime when used in multi-threaded\napplications. We have seen this occur in the Octavia test jobs[2].\nThis patch works around the bug by loading strptime early.\n\n[1] https://bugs.python.org/issue7980\n[2] https://logs.opendev.org/37/673337/12/check/ \\\n    octavia-v2-act-stdby-iptables-dsvm-py2-scenario/440c965/controller/logs \\\n    /screen-o-cw.txt.gz?level=ERROR#_Aug_09_23_54_29_426364\n\nChange-Id: I932ad625595333e97b0ead074ce64a7341af338d\n(cherry picked from commit 0720397d5c47e2af33dbe9fdf8f25b95ce620106)\n'}]",0,682949,220c1b250dd108446ba2e441243d7e2d73c386f8,9,3,1,6469,,,0,"Work around strptime threading issue

There is an open bug[1] in python strptime when used in multi-threaded
applications. We have seen this occur in the Octavia test jobs[2].
This patch works around the bug by loading strptime early.

[1] https://bugs.python.org/issue7980
[2] https://logs.opendev.org/37/673337/12/check/ \
    octavia-v2-act-stdby-iptables-dsvm-py2-scenario/440c965/controller/logs \
    /screen-o-cw.txt.gz?level=ERROR#_Aug_09_23_54_29_426364

Change-Id: I932ad625595333e97b0ead074ce64a7341af338d
(cherry picked from commit 0720397d5c47e2af33dbe9fdf8f25b95ce620106)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/682949/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/base_taskflow.py'],1,220c1b250dd108446ba2e441243d7e2d73c386f8,,"import datetime # work around for https://bugs.python.org/issue7980 datetime.datetime.strptime('2014-06-19 22:47:16', '%Y-%m-%d %H:%M:%S')",,3,0
openstack%2Foctavia~stable%2Frocky~I932ad625595333e97b0ead074ce64a7341af338d,openstack/octavia,stable/rocky,I932ad625595333e97b0ead074ce64a7341af338d,Work around strptime threading issue,MERGED,2019-09-18 17:16:45.000000000,2019-09-19 16:24:35.000000000,2019-09-19 16:22:34.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 17:16:45.000000000', 'files': ['octavia/common/base_taskflow.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3cc8f8fcc210d390399fab004b589bf3981942d', 'message': 'Work around strptime threading issue\n\nThere is an open bug[1] in python strptime when used in multi-threaded\napplications. We have seen this occur in the Octavia test jobs[2].\nThis patch works around the bug by loading strptime early.\n\n[1] https://bugs.python.org/issue7980\n[2] https://logs.opendev.org/37/673337/12/check/ \\\n    octavia-v2-act-stdby-iptables-dsvm-py2-scenario/440c965/controller/logs \\\n    /screen-o-cw.txt.gz?level=ERROR#_Aug_09_23_54_29_426364\n\nChange-Id: I932ad625595333e97b0ead074ce64a7341af338d\n(cherry picked from commit 0720397d5c47e2af33dbe9fdf8f25b95ce620106)\n'}]",0,682950,e3cc8f8fcc210d390399fab004b589bf3981942d,9,3,1,6469,,,0,"Work around strptime threading issue

There is an open bug[1] in python strptime when used in multi-threaded
applications. We have seen this occur in the Octavia test jobs[2].
This patch works around the bug by loading strptime early.

[1] https://bugs.python.org/issue7980
[2] https://logs.opendev.org/37/673337/12/check/ \
    octavia-v2-act-stdby-iptables-dsvm-py2-scenario/440c965/controller/logs \
    /screen-o-cw.txt.gz?level=ERROR#_Aug_09_23_54_29_426364

Change-Id: I932ad625595333e97b0ead074ce64a7341af338d
(cherry picked from commit 0720397d5c47e2af33dbe9fdf8f25b95ce620106)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/682950/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/base_taskflow.py'],1,e3cc8f8fcc210d390399fab004b589bf3981942d,,"import datetime # work around for https://bugs.python.org/issue7980 datetime.datetime.strptime('2014-06-19 22:47:16', '%Y-%m-%d %H:%M:%S')",,3,0
openstack%2Fopenstack-ansible~master~I66f3cf53b1185815900d55a2fd1a1e6827f87f39,openstack/openstack-ansible,master,I66f3cf53b1185815900d55a2fd1a1e6827f87f39,Fix nova console variable mappings,NEW,2019-09-14 07:11:16.000000000,2019-09-19 16:13:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-14 07:11:16.000000000', 'files': ['playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d71f831a45e21502f1b92b97f0fd01dc5ae3bef2', 'message': 'Fix nova console variable mappings\n\nCurrently consoles are not being installed using pinned shas, instead\nrole defaults are being used, which installs a version of novnc\nthat is not compatible with the version of nova that we install.\n\nThe console mapping vars were removed in error by [1], so the os_nova\nrole default of ""master"" has been used for the novnc install branch\never since.\n\n[1] https://github.com/openstack/openstack-ansible/commit/1f1cca42c5ade59aa73eaf30819ab76a0998c8b2#diff-3d229b9ce819915d3e9a8249b194b814\n\nChange-Id: I66f3cf53b1185815900d55a2fd1a1e6827f87f39\n'}]",2,682199,d71f831a45e21502f1b92b97f0fd01dc5ae3bef2,9,3,1,17799,,,0,"Fix nova console variable mappings

Currently consoles are not being installed using pinned shas, instead
role defaults are being used, which installs a version of novnc
that is not compatible with the version of nova that we install.

The console mapping vars were removed in error by [1], so the os_nova
role default of ""master"" has been used for the novnc install branch
ever since.

[1] https://github.com/openstack/openstack-ansible/commit/1f1cca42c5ade59aa73eaf30819ab76a0998c8b2#diff-3d229b9ce819915d3e9a8249b194b814

Change-Id: I66f3cf53b1185815900d55a2fd1a1e6827f87f39
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/682199/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-playbooks/nova.yml'],1,d71f831a45e21502f1b92b97f0fd01dc5ae3bef2,," nova_novncproxy_git_repo: ""{{ novncproxy_git_repo }}"" nova_novncproxy_git_install_branch: ""{{ novncproxy_git_install_branch }}"" nova_spicehtml5_git_repo: ""{{ spicehtml5_git_repo }}"" nova_spicehtml5_git_install_branch: ""{{ spicehtml5_git_install_branch }}""",,4,0
openstack%2Fironic~master~I11f002eff78d27369b3dbe9a9fbd5fc73496a5eb,openstack/ironic,master,I11f002eff78d27369b3dbe9a9fbd5fc73496a5eb,Add first idrac HW type Redfish interface support,MERGED,2019-09-09 15:12:17.000000000,2019-09-19 16:01:50.000000000,2019-09-18 17:12:52.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-09-09 15:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60fe117570bfd93a618072cbcedf1d31b76c6b83', 'message': ""Add idrac HW type support of Redfish interfaces\n\nThis change defines two new groups of interface implementations with\nentrypoints named 'idrac-redfish' and 'idrac-wsman'. The 'idrac-redfish'\nentrypoints refer to Redfish interface implementations which are\ncompatible with the Dell EMC integrated Dell Remote Access Controller\n(iDRAC), presently those of the management and power hardware\ninterfaces. The 'idrac-wsman' entrypoints are new names for the legacy\n'idrac' entrypoints.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. Default interface implementations are unaffected.\n\nStory: 2004592\nTask: 36275\nChange-Id: I11f002eff78d27369b3dbe9a9fbd5fc73496a5eb\n""}, {'number': 2, 'created': '2019-09-10 23:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c14f9887b3c129cd1be58b4e1b9a8c4c6180ca9d', 'message': ""Add first idrac HW type Redfish interface support\n\nThis change defines two new groups of interface implementations with\nentrypoints named 'idrac-redfish' and 'idrac-wsman'. The 'idrac-redfish'\nentrypoints refer to interface implementations that utilize the Redfish\nout-of-band (OOB) management protocol and are compatible with the\nintegrated Dell Remote Access Controller (iDRAC) baseboard management\ncontroller (BMC), presently those of the management and power hardware\ninterfaces. The 'idrac-wsman' entrypoints are new names for the legacy\n'idrac' entrypoints. They both use the Web Services Management (WS-Man)\nOOB management protocol.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains the\nsame. Interface implementations which rely on WS-Man continue to have\nthe highest priority, and legacy 'idrac' is listed before the new\n'idrac-wsman'.\n\nStory: 2004592\nTask: 36275\nChange-Id: I11f002eff78d27369b3dbe9a9fbd5fc73496a5eb\n""}, {'number': 3, 'created': '2019-09-12 09:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8fac0c5a2552570d69f9e65f729a19896f116244', 'message': ""Add first idrac HW type Redfish interface support\n\nThis change defines two new groups of interface implementations with\nentrypoints named 'idrac-redfish' and 'idrac-wsman'. The 'idrac-redfish'\nentrypoints refer to interface implementations that utilize the Redfish\nout-of-band (OOB) management protocol and are compatible with the\nintegrated Dell Remote Access Controller (iDRAC) baseboard management\ncontroller (BMC), presently those of the management and power hardware\ninterfaces. The 'idrac-wsman' entrypoints are new names for the legacy\n'idrac' entrypoints. They both use the Web Services Management (WS-Man)\nOOB management protocol.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains the\nsame. Interface implementations which rely on WS-Man continue to have\nthe highest priority, and legacy 'idrac' is listed before the new\n'idrac-wsman'.\n\nStory: 2004592\nTask: 36275\nChange-Id: I11f002eff78d27369b3dbe9a9fbd5fc73496a5eb\n""}, {'number': 4, 'created': '2019-09-16 11:22:12.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/drivers/modules/drac/vendor_passthru.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py', 'releasenotes/notes/idrac-add-initial-redfish-support-27f27f18f3c1cd91.yaml', 'setup.cfg', 'ironic/drivers/modules/drac/power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/03471be1ede078a31ca8e5d993e2f2dff1c07f69', 'message': ""Add first idrac HW type Redfish interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations that utilize the Redfish out-of-band (OOB) management\nprotocol and are compatible with the integrated Dell Remote Access\nController (iDRAC) baseboard management controller (BMC), presently\nthose of the management and power hardware interfaces. They are named\n'idrac-redfish'.\n\nIt also introduces a new name for the 'idrac' interface implementations,\n'idrac-wsman', and deprecates 'idrac'. They both use the Web Services\nManagement (WS-Man) OOB management protocol.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains the\nsame. Interface implementations which rely on WS-Man continue to have\nthe highest priority, and the new 'idrac-wsman' is listed before the\ndeprecated 'idrac'.\n\nStory: 2004592\nTask: 36275\nChange-Id: I11f002eff78d27369b3dbe9a9fbd5fc73496a5eb\n""}]",16,681046,03471be1ede078a31ca8e5d993e2f2dff1c07f69,58,12,4,23847,,,0,"Add first idrac HW type Redfish interface support

This change adds initial idrac hardware type support of interface
implementations that utilize the Redfish out-of-band (OOB) management
protocol and are compatible with the integrated Dell Remote Access
Controller (iDRAC) baseboard management controller (BMC), presently
those of the management and power hardware interfaces. They are named
'idrac-redfish'.

It also introduces a new name for the 'idrac' interface implementations,
'idrac-wsman', and deprecates 'idrac'. They both use the Web Services
Management (WS-Man) OOB management protocol.

The idrac hardware type declares support for those new interface
implementations, in addition to all interface implementations it has
been supporting. The priority order of supported interfaces remains the
same. Interface implementations which rely on WS-Man continue to have
the highest priority, and the new 'idrac-wsman' is listed before the
deprecated 'idrac'.

Story: 2004592
Task: 36275
Change-Id: I11f002eff78d27369b3dbe9a9fbd5fc73496a5eb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/681046/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/drivers/modules/drac/vendor_passthru.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py', 'setup.cfg', 'ironic/drivers/modules/drac/power.py']",8,60fe117570bfd93a618072cbcedf1d31b76c6b83,story/2004592,from ironic.drivers.modules.redfish import power as redfish_powerclass DracRedfishPower(redfish_power.RedfishPower): pass class DracWSManPower(base.PowerInterface): class DracPower(DracWSManPower): pass,class DracPower(base.PowerInterface):,86,16
openstack%2Fneutron-fwaas-dashboard~stable%2Fstein~Id377c656788e0fbb13c4b8f90dd022e39c50adbf,openstack/neutron-fwaas-dashboard,stable/stein,Id377c656788e0fbb13c4b8f90dd022e39c50adbf,Set FW group admin-state UP by default,MERGED,2019-09-14 07:51:58.000000000,2019-09-19 15:58:52.000000000,2019-09-19 15:57:40.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-14 07:51:58.000000000', 'files': ['neutron_fwaas_dashboard/dashboards/project/firewalls_v2/workflows.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/585ea863b6a3660ea4564f030b4e979417451bcf', 'message': 'Set FW group admin-state UP by default\n\nBy default, the admin state of a new firwall group should be UP.\nThis patch mark the checkbox.\n\nChange-Id: Id377c656788e0fbb13c4b8f90dd022e39c50adbf\nCloses-bug: #1833374\n(cherry picked from commit 1be0cfb10ede071a11963c3180da07f898e022d3)\n'}]",0,682203,585ea863b6a3660ea4564f030b4e979417451bcf,8,3,1,20363,,,0,"Set FW group admin-state UP by default

By default, the admin state of a new firwall group should be UP.
This patch mark the checkbox.

Change-Id: Id377c656788e0fbb13c4b8f90dd022e39c50adbf
Closes-bug: #1833374
(cherry picked from commit 1be0cfb10ede071a11963c3180da07f898e022d3)
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/03/682203/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/dashboards/project/firewalls_v2/workflows.py'],1,585ea863b6a3660ea4564f030b4e979417451bcf,group_admin_state-stable/stein," admin_state_up = forms.BooleanField( label=_(""Admin State""), initial=True, required=False)"," admin_state_up = forms.BooleanField(label=_(""Admin State""), required=False)",2,1
openstack%2Frpm-packaging~master~I366938d822da9b63c0b53929ee10b2070770aec4,openstack/rpm-packaging,master,I366938d822da9b63c0b53929ee10b2070770aec4,renderspec: add conflict with old python 2.x version,MERGED,2019-09-19 11:35:43.000000000,2019-09-19 15:57:22.000000000,2019-09-19 15:57:22.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 11:35:43.000000000', 'files': ['openstack/renderspec/renderspec.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f3ba7394ed8ef7c971b9e9984421f780e59a38d6', 'message': ""renderspec: add conflict with old python 2.x version\n\nThey would conflict over the %bindir installed renderspec otherwise.\nwe need to express the conflict to pass openSUSE's staging checks.\n\nChange-Id: I366938d822da9b63c0b53929ee10b2070770aec4\n""}]",0,683113,f3ba7394ed8ef7c971b9e9984421f780e59a38d6,9,5,1,6593,,,0,"renderspec: add conflict with old python 2.x version

They would conflict over the %bindir installed renderspec otherwise.
we need to express the conflict to pass openSUSE's staging checks.

Change-Id: I366938d822da9b63c0b53929ee10b2070770aec4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/13/683113/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/renderspec/renderspec.spec.j2'],1,f3ba7394ed8ef7c971b9e9984421f780e59a38d6,renderspec_again,%global oldpython pythonConflicts: %{oldpython}-renderspec < %{version},,2,0
openstack%2Frpm-packaging~master~I4188ae799534845964040a962b51252482cda91a,openstack/rpm-packaging,master,I4188ae799534845964040a962b51252482cda91a,placement: Add another missing dependency,MERGED,2019-09-19 13:55:15.000000000,2019-09-19 15:56:42.000000000,2019-09-19 15:56:41.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 13:55:15.000000000', 'files': ['openstack/openstack-placement/openstack-placement.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d2f4746f81b4d98c93c02d279a6612aa19559a9e', 'message': 'placement: Add another missing dependency\n\nThis was missing in the previous commit.\n\nChange-Id: I4188ae799534845964040a962b51252482cda91a\n'}]",0,683164,d2f4746f81b4d98c93c02d279a6612aa19559a9e,10,5,1,2062,,,0,"placement: Add another missing dependency

This was missing in the previous commit.

Change-Id: I4188ae799534845964040a962b51252482cda91a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/64/683164/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-placement/openstack-placement.spec.j2'],1,d2f4746f81b4d98c93c02d279a6612aa19559a9e,osa_leap15_python3,Requires: {{ py3('os-resource-classes') }},,1,0
openstack%2Fnetworking-ovn~stable%2Fqueens~I35d5ec40c666e92b92b9d664e9615c6fecde595a,openstack/networking-ovn,stable/queens,I35d5ec40c666e92b92b9d664e9615c6fecde595a,Support Port Groups in networking-ovn,MERGED,2018-08-21 11:51:31.000000000,2019-09-19 15:55:50.000000000,2019-09-19 15:55:50.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2018-08-21 11:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1f9fd6d61d41be1b04848a5e8cfe73afc3bb0104', 'message': ""Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\nCloses-Bug: #1752897\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 264c887f370fd6a6e0d6f0d65acdedc8cb53dd04)\n""}, {'number': 2, 'created': '2018-08-28 15:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/54b0463e867a94e24e4acc79e41cc3363a7ac47c', 'message': ""Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\nCloses-Bug: #1752897\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 264c887f370fd6a6e0d6f0d65acdedc8cb53dd04)\n""}, {'number': 3, 'created': '2018-08-29 09:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0835de555690333f8c554455f5c3d69bb68916ad', 'message': ""Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\nDepends-On: Iad7470618cc10394ef9bce5d557babb8c56ce95a\nCloses-Bug: #1752897\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 264c887f370fd6a6e0d6f0d65acdedc8cb53dd04)\n""}, {'number': 4, 'created': '2018-08-31 10:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ac892b19eeeb58d009172ceb29401708044af45c', 'message': ""Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\nDepends-On: Iad7470618cc10394ef9bce5d557babb8c56ce95a\nCloses-Bug: #1752897\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 264c887f370fd6a6e0d6f0d65acdedc8cb53dd04)\n""}, {'number': 5, 'created': '2018-08-31 11:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9e4a82517d9a1fed204cff59c54e5d8c423bcb76', 'message': ""Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\nNOTE: This also squashes I706199109a3b7dd5339c90b731f8cb8f04ca4f49\n\nDepends-On: Iad7470618cc10394ef9bce5d557babb8c56ce95a\nCloses-Bug: #1752897\nCloses-Bug: #1790118\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 264c887f370fd6a6e0d6f0d65acdedc8cb53dd04)\n""}, {'number': 6, 'created': '2019-09-11 18:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f8e51d0138d95b8233aedb6cdb1fcf07575585d0', 'message': ""Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit f01169b405bb5080a1bc1653f79512eb0664c35d)\n""}, {'number': 7, 'created': '2019-09-12 08:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/96ce231d3a02173287cf4567a48b8658b9a295d7', 'message': ""Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit f01169b405bb5080a1bc1653f79512eb0664c35d)\n""}, {'number': 8, 'created': '2019-09-16 09:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/645885f0d9cf32d48ac79a38ac0197a0aae4a00a', 'message': ""Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit f01169b405bb5080a1bc1653f79512eb0664c35d)\n""}, {'number': 9, 'created': '2019-09-17 17:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6f9c4c9e5a678029fc1b80018131172f55ab4695', 'message': ""Support Port Groups in networking-ovn\n\nThis changes squashes three commits:\n\n1) Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\n2) Fix bug migrating ACLs to Port Groups\n\nWhen migrating to Port Groups, we were installing wrong ACLs\nmatching on old Address Sets. This was because, during migration\ntime, old Address Sets still existed in NB database and we\nwere relying on their existence to figure out which one to use.\n\nThis patch fixes it by simply picking the auto generated\nAddress Set if Port Groups is supported in the OVSDB schema.\n\n3) Drop subnet Port Groups\n\nThis patch is dropping the code that creates and handles the\nsubnet Port Groups. Those were used to place the ACLs that\nallowed DHCP traffic to reach the responder in the OVN\npipeline but as explained in the bug description, it's\nnot needed anymore.\n\nRelated-Bug: #1752897\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit f01169b405bb5080a1bc1653f79512eb0664c35d)\n""}, {'number': 10, 'created': '2019-09-18 09:23:39.000000000', 'files': ['networking_ovn/common/utils.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py', 'networking_ovn/common/acl.py', 'networking_ovn/tests/functional/test_maintenance.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8ad2ff706eb725a225b0289307ebd34e2024566d', 'message': ""Support Port Groups in networking-ovn\n\nThis changes squashes three commits:\n\n1) Support Port Groups in networking-ovn\n\nA new feature has been introduced in core OVN which allows to define\na group of ports and assign ACLs to those. This patch is making use\nof the new feature if supported by the underlying OVS version.\n\nAs a result we'll be modelling Neutron Security Groups as OVN Port\nGroups and we won't be adding one ACL per Security Group Rule per\nport. Instead, just add one single ACL per Security Group. This will\nalso tackle the race conditions that we had for Address Sets as those\nwill just be used for Remote Security Groups and will be automatically\ngenerated/deleted by core OVN in SB database upon Port Group creation/\ndeletion.\n\nThe major benefit of this patch is that we'll reduce the number of\nACL's dramatically, resulting in a performance leap as discussed at:\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html\n\nThis patch will address the migration of old Security Groups being\nmodelled as Address Sets if the OVN schema supports the feature. This\nmigration will be performed from the OvnWorker which is holding a lock\non the IDL. This ensures that the migration happens from only one worker\nin the cloud and after it's done, all the neutron-server instances are\nready to use Port Groups.\n\n2) Fix bug migrating ACLs to Port Groups\n\nWhen migrating to Port Groups, we were installing wrong ACLs\nmatching on old Address Sets. This was because, during migration\ntime, old Address Sets still existed in NB database and we\nwere relying on their existence to figure out which one to use.\n\nThis patch fixes it by simply picking the auto generated\nAddress Set if Port Groups is supported in the OVSDB schema.\n\n3) Drop subnet Port Groups\n\nThis patch is dropping the code that creates and handles the\nsubnet Port Groups. Those were used to place the ACLs that\nallowed DHCP traffic to reach the responder in the OVN\npipeline but as explained in the bug description, it's\nnot needed anymore.\n\nRelated-Bug: #1752897\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit f01169b405bb5080a1bc1653f79512eb0664c35d)\n""}]",0,594138,8ad2ff706eb725a225b0289307ebd34e2024566d,32,6,10,23804,,,0,"Support Port Groups in networking-ovn

This changes squashes three commits:

1) Support Port Groups in networking-ovn

A new feature has been introduced in core OVN which allows to define
a group of ports and assign ACLs to those. This patch is making use
of the new feature if supported by the underlying OVS version.

As a result we'll be modelling Neutron Security Groups as OVN Port
Groups and we won't be adding one ACL per Security Group Rule per
port. Instead, just add one single ACL per Security Group. This will
also tackle the race conditions that we had for Address Sets as those
will just be used for Remote Security Groups and will be automatically
generated/deleted by core OVN in SB database upon Port Group creation/
deletion.

The major benefit of this patch is that we'll reduce the number of
ACL's dramatically, resulting in a performance leap as discussed at:
https://mail.openvswitch.org/pipermail/ovs-discuss/2018-February/046166.html

This patch will address the migration of old Security Groups being
modelled as Address Sets if the OVN schema supports the feature. This
migration will be performed from the OvnWorker which is holding a lock
on the IDL. This ensures that the migration happens from only one worker
in the cloud and after it's done, all the neutron-server instances are
ready to use Port Groups.

2) Fix bug migrating ACLs to Port Groups

When migrating to Port Groups, we were installing wrong ACLs
matching on old Address Sets. This was because, during migration
time, old Address Sets still existed in NB database and we
were relying on their existence to figure out which one to use.

This patch fixes it by simply picking the auto generated
Address Set if Port Groups is supported in the OVSDB schema.

3) Drop subnet Port Groups

This patch is dropping the code that creates and handles the
subnet Port Groups. Those were used to place the ACLs that
allowed DHCP traffic to reach the responder in the OVN
pipeline but as explained in the bug description, it's
not needed anymore.

Related-Bug: #1752897

Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I35d5ec40c666e92b92b9d664e9615c6fecde595a
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit f01169b405bb5080a1bc1653f79512eb0664c35d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/38/594138/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py', 'networking_ovn/common/acl.py', 'networking_ovn/tests/functional/test_maintenance.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py']",13,1f9fd6d61d41be1b04848a5e8cfe73afc3bb0104,bug/1802373," self.port_group_table = FakeOvsdbTable.create_one_ovsdb_table() self._tables['Port_Group'] = self.port_group_table self.is_port_groups_supported = mock.Mock() # TODO(lucasagomes): Flip this return value to True at some point, # port groups should be the default method used by networking-ovn self.is_port_groups_supported.return_value = False self.get_address_set = mock.Mock() self.get_address_set.return_value = None self.pg_acl_add = mock.Mock() self.pg_acl_del = mock.Mock() self.pg_del = mock.Mock() self.pg_add = mock.Mock() self.get_port_group = mock.Mock() self.pg_add_ports = mock.Mock() self.pg_del_ports = mock.Mock()",,679,122
openstack%2Fnetworking-ovn~stable%2Fqueens~I2a9a9dcdefe6e25bc789a6e588c585557b32c43e,openstack/networking-ovn,stable/queens,I2a9a9dcdefe6e25bc789a6e588c585557b32c43e,Add Port Groups ACLs related code from ovsdbapp,MERGED,2019-09-17 17:02:02.000000000,2019-09-19 15:55:49.000000000,2019-09-19 15:55:49.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-17 17:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1de9624dfb2a44340b5db27ebd67e68490eab31f', 'message': ""Add Port Groups ACLs related code from ovsdbapp\n\nThis patch adds three major changes taken from ovsdbapp.\n\n1) Add Port_Group commands\nhttps://review.opendev.org/#/c/681657\n\n2) Add Port Group ACL commands\nhttps://review.opendev.org/#/c/681658\n\n3) Port Group's letfovers\nhttps://review.opendev.org/#/c/681659\n\nChange-Id: I2a9a9dcdefe6e25bc789a6e588c585557b32c43e\nRelated-Bug: #1752897\n""}, {'number': 2, 'created': '2019-09-17 21:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6777dfbc50ccc468b1b5fd908a33a1b007916fdf', 'message': ""Add Port Groups ACLs related code from ovsdbapp\n\nThis stable/queens-only patch adds three major changes taken from\novsdbapp (matching branch).\n\n1) Add Port_Group commands\nhttps://review.opendev.org/#/c/681657\n\n2) Add Port Group ACL commands\nhttps://review.opendev.org/#/c/681658\n\n3) Port Group's letfovers\nhttps://review.opendev.org/#/c/681659\n\nChange-Id: I2a9a9dcdefe6e25bc789a6e588c585557b32c43e\nRelated-Bug: #1752897\n""}, {'number': 3, 'created': '2019-09-18 09:21:04.000000000', 'files': ['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/88f6de96ac7a623e12a8931e2c9f80387db77855', 'message': ""Add Port Groups ACLs related code from ovsdbapp\n\nThis stable/queens-only patch adds three major changes taken from\novsdbapp (matching branch).\n\n1) Add Port_Group commands\nhttps://review.opendev.org/#/c/681657\n\n2) Add Port Group ACL commands\nhttps://review.opendev.org/#/c/681658\n\n3) Port Group's letfovers\nhttps://review.opendev.org/#/c/681659\n\nChange-Id: I2a9a9dcdefe6e25bc789a6e588c585557b32c43e\nRelated-Bug: #1752897\n""}]",3,682699,88f6de96ac7a623e12a8931e2c9f80387db77855,18,7,3,24791,,,0,"Add Port Groups ACLs related code from ovsdbapp

This stable/queens-only patch adds three major changes taken from
ovsdbapp (matching branch).

1) Add Port_Group commands
https://review.opendev.org/#/c/681657

2) Add Port Group ACL commands
https://review.opendev.org/#/c/681658

3) Port Group's letfovers
https://review.opendev.org/#/c/681659

Change-Id: I2a9a9dcdefe6e25bc789a6e588c585557b32c43e
Related-Bug: #1752897
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/99/682699/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/tests/functional/base.py']",4,1de9624dfb2a44340b5db27ebd67e68490eab31f,bug/1802373,,,471,0
openstack%2Frpm-packaging~master~I10914ae882400790da151ec58869f14574792511,openstack/rpm-packaging,master,I10914ae882400790da151ec58869f14574792511,tempest: Add patch to fix keystone failure,MERGED,2019-09-19 14:30:39.000000000,2019-09-19 15:55:33.000000000,2019-09-19 15:55:33.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 14:30:39.000000000', 'files': ['openstack/tempest/tempest.spec.j2', 'openstack/tempest/0001-test_project_get_equals_list-allows-extra-fields.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b6280927f3a1c1f20cf98f3ce371c9012b634457', 'message': ""tempest: Add patch to fix keystone failure\n\nhttps://review.opendev.org/678379 hasn't been released to pypi yet.\nHowever, it causes failures in current openstack-ansible deployments.\n\nAlso fix the %autosetup arguments.\n\nChange-Id: I10914ae882400790da151ec58869f14574792511\n""}]",0,683169,b6280927f3a1c1f20cf98f3ce371c9012b634457,10,5,1,2062,,,0,"tempest: Add patch to fix keystone failure

https://review.opendev.org/678379 hasn't been released to pypi yet.
However, it causes failures in current openstack-ansible deployments.

Also fix the %autosetup arguments.

Change-Id: I10914ae882400790da151ec58869f14574792511
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/69/683169/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tempest/tempest.spec.j2', 'openstack/tempest/0001-test_project_get_equals_list-allows-extra-fields.patch']",2,b6280927f3a1c1f20cf98f3ce371c9012b634457,osa_leap15_python3,"From 8641a707367fd51066e2a59c71977040cef334fa Mon Sep 17 00:00:00 2001 From: morgan fainberg <morgan.fainberg@gmail.com> Date: Sat, 24 Aug 2019 10:21:30 -0700 Subject: [PATCH] ""test_project_get_equals_list"" allows extra fields Keystone is updating the project response to include resource-specific options. The test `test_project_get_equals_list` is looking at explicit data being returned and prevents the additional field. Keystone does not (and currently has not plan) to support microversions. This changes the test checking the returned fields to ensure that the expected fields is a subset (inclusive) of the returned fields. This allows for Keystone to iterate and respond with additional fields for future changes. Any future fields added become part of the contract and should be added to the expected ""fields"" list in the test after the new field response code lands within keystone. Related-Bug: #1807751 Required-by: https://review.opendev.org/#/c/678322/ Change-Id: I266d98503066f3a8027effc43a95f9ad9ff12492 --- tempest/api/identity/admin/v3/test_projects.py | 10 ++++++++-- 1 file changed, 8 insertions(+), 2 deletions(-) diff --git a/tempest/api/identity/admin/v3/test_projects.py b/tempest/api/identity/admin/v3/test_projects.py index 0b85b1977..e46145d96 100644 --- a/tempest/api/identity/admin/v3/test_projects.py +++ b/tempest/api/identity/admin/v3/test_projects.py @@ -230,8 +230,14 @@ class ProjectsTestJSON(base.BaseIdentityV3AdminTest): _projects = self.projects_client.list_projects()['projects'] project_list = next(x for x in _projects if x['id'] == project['id']) - # Assert the list of fields is correct (one is enough to check here) - self.assertSetEqual(set(fields), set(project_get.keys())) + # Assert the expected fields exist. More fields than expected may + # be in this list. This is for future proofind as keystone does not + # and has no plans to support microservices. Any fields in the future + # that are added to the response of the API should eventually be added + # to the expected fields. The expected fields must be a subset of + # the project_get fields (all keys in fields must exist in project_get, + # but project_get.keys() may have additional fields) + self.assertTrue(set(fields).issubset(project_get.keys())) # Ensure the set of tags is identical and match the expected one get_tags = set(project_get.pop(""tags"")) -- 2.23.0 ",,51,1
openstack%2Fpuppet-tripleo~stable%2Frocky~Ide850ab917736f066c38e2e55960a03e1fcd3523,openstack/puppet-tripleo,stable/rocky,Ide850ab917736f066c38e2e55960a03e1fcd3523,Safeguard against 'Undef' length() checks.,MERGED,2019-09-16 15:20:13.000000000,2019-09-19 15:52:57.000000000,2019-09-19 15:52:57.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 15:20:13.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/21bae9e11a3592885b85573ff3a5b7eb40496edf', 'message': 'Safeguard against \'Undef\' length() checks.\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nThis commit adds a safeguard to skip the length check if\n$driver_devices is \'Undef\'.\n\nCloses-bug: #1827091\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n(cherry picked from commit ffdc816e37c7739e4645df08fac574859e2b06ac)\n'}]",0,682386,21bae9e11a3592885b85573ff3a5b7eb40496edf,13,3,1,30126,,,0,"Safeguard against 'Undef' length() checks.

Hit the following during a deployment:

""Error: Evaluation Error: Error while evaluating a Function Call
'length' parameter 'arg' expects a value of type Collection, String,
or Binary, got Undef""

This commit adds a safeguard to skip the length check if
$driver_devices is 'Undef'.

Closes-bug: #1827091

Change-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523
(cherry picked from commit ffdc816e37c7739e4645df08fac574859e2b06ac)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/682386/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,21bae9e11a3592885b85573ff3a5b7eb40496edf,bug/1827091-stable/rocky, if $driver_devices and length($driver_devices) == 1 {, if length($driver_devices) == 1 {,1,1
openstack%2Fsahara-plugin-cdh~master~I34024f0bcf3956bedc33b60f9762e046e53098f2,openstack/sahara-plugin-cdh,master,I34024f0bcf3956bedc33b60f9762e046e53098f2,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-19 08:15:44.000000000,2019-09-19 15:49:29.000000000,2019-09-19 15:47:26.000000000,"[{'_account_id': 10459}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 27822}, {'_account_id': 28743}, {'_account_id': 28935}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-19 08:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/8b49c4bfbfccc090d9f8f0eb0b16f1906981b72a', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I34024f0bcf3956bedc33b60f9762e046e53098f2\n'}, {'number': 2, 'created': '2019-08-01 01:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/87d4066b9904f4b9d21e0a74b29a478e4a22c0c3', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I34024f0bcf3956bedc33b60f9762e046e53098f2\n'}, {'number': 3, 'created': '2019-09-06 14:14:33.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/3634375600a58d4aab4e67c9f02fba256d4fd650', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I34024f0bcf3956bedc33b60f9762e046e53098f2\n'}]",0,671675,3634375600a58d4aab4e67c9f02fba256d4fd650,18,8,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I34024f0bcf3956bedc33b60f9762e046e53098f2
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/75/671675/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,8b49c4bfbfccc090d9f8f0eb0b16f1906981b72a,openstackdocstheme,,"html_last_updated_fmt = '%Y-%m-%d %H:%M'project = u'Sahara CDH Plugin Release Notes'# Release do not need a version number in the title, they # cover multiple versions. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,44
openstack%2Fsahara-plugin-mapr~master~Ib1c203baebe2a5a70c64399c320bc5d2ab3ffb24,openstack/sahara-plugin-mapr,master,Ib1c203baebe2a5a70c64399c320bc5d2ab3ffb24,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-19 08:23:05.000000000,2019-09-19 15:48:36.000000000,2019-09-19 15:47:25.000000000,"[{'_account_id': 10459}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28935}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-19 08:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/0df9fe3390c46137297c1fb8fe3e14192e936974', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ib1c203baebe2a5a70c64399c320bc5d2ab3ffb24\n'}, {'number': 2, 'created': '2019-08-01 02:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/16a6103ae2687a25bdab687f165e2167c5acc16b', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ib1c203baebe2a5a70c64399c320bc5d2ab3ffb24\n'}, {'number': 3, 'created': '2019-09-06 14:17:28.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/ec284ea9a2a63ac53d8f92b8fd06d5a530ceef35', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ib1c203baebe2a5a70c64399c320bc5d2ab3ffb24\n'}]",0,671678,ec284ea9a2a63ac53d8f92b8fd06d5a530ceef35,15,6,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ib1c203baebe2a5a70c64399c320bc5d2ab3ffb24
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/78/671678/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,0df9fe3390c46137297c1fb8fe3e14192e936974,openstackdocstheme,,"html_last_updated_fmt = '%Y-%m-%d %H:%M'project = u'Sahara MapR Plugin Release Notes'# Release do not need a version number in the title, they # cover multiple versions. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,43
openstack%2Fproject-config~master~I24c5a66b4724b1a03058ec365f085becd08d5b7a,openstack/project-config,master,I24c5a66b4724b1a03058ec365f085becd08d5b7a,Add zuul-registry project,MERGED,2019-09-17 20:27:21.000000000,2019-09-19 15:43:55.000000000,2019-09-19 15:43:55.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 9311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 20:27:21.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bd7e994801a50b1a8b1b7fadc8ea9574b393c4d4', 'message': 'Add zuul-registry project\n\nSee http://lists.zuul-ci.org/pipermail/zuul-discuss/2019-September/001009.html\n\nChange-Id: I24c5a66b4724b1a03058ec365f085becd08d5b7a\n'}]",0,682743,bd7e994801a50b1a8b1b7fadc8ea9574b393c4d4,10,6,1,1,,,0,"Add zuul-registry project

See http://lists.zuul-ci.org/pipermail/zuul-discuss/2019-September/001009.html

Change-Id: I24c5a66b4724b1a03058ec365f085becd08d5b7a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/682743/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,bd7e994801a50b1a8b1b7fadc8ea9574b393c4d4,, - zuul/zuul-registry,,10,0
openstack%2Fsahara-plugin-mapr~master~Ib7a822b0732be3a5193c278f4cd2cc472c4f01cc,openstack/sahara-plugin-mapr,master,Ib7a822b0732be3a5193c278f4cd2cc472c4f01cc,Replace the invalid links with the right ones for this doc.,ABANDONED,2019-08-26 09:37:34.000000000,2019-09-19 15:34:05.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 09:37:34.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/952b426b345b6addc1a14466497c86e8cde6fb68', 'message': 'Replace the invalid links with the right ones for this doc.\n\nChange-Id: Ib7a822b0732be3a5193c278f4cd2cc472c4f01cc\n'}]",0,678503,952b426b345b6addc1a14466497c86e8cde6fb68,4,2,1,27399,,,0,"Replace the invalid links with the right ones for this doc.

Change-Id: Ib7a822b0732be3a5193c278f4cd2cc472c4f01cc
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/03/678503/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,952b426b345b6addc1a14466497c86e8cde6fb68,,Bugs and feature requests: https://bugs.launchpad.net/sahara,Bugs and feature requests: https://storyboard.openstack.org/#!/openstack/sahara-plugin-mapr,1,1
openstack%2Fpuppet-vswitch~stable%2Fqueens~I415a6229a0fbc1b55451e3738539735afdc6f8f4,openstack/puppet-vswitch,stable/queens,I415a6229a0fbc1b55451e3738539735afdc6f8f4,Fix the undefined method 'chomp' for nil:NilClass error seen with ovs 2.10,MERGED,2019-09-19 08:03:22.000000000,2019-09-19 15:27:41.000000000,2019-09-19 15:27:40.000000000,"[{'_account_id': 3153}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-19 08:03:22.000000000', 'files': ['lib/puppet/provider/vs_config/ovs.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/0d113f3ea6bd46e64b6edac596e40955a1c1e6db', 'message': ""Fix the undefined method 'chomp' for nil:NilClass error seen with ovs 2.10\n\npuppet-ovn uses puppet-vswitch to configure the OVN params. When OVS binaries are\ncompiled with dpdk support and when vs_config provider runs the command\n'ovs-vsctl list Open_vSwitch .', the below warning messages are seen and\nare part of the command output.\n\n----\nPMD: net_mlx5: cannot load glue library: libibverbs.so.1: cannot open shared\nobject file: No such file or directory\nPMD: net_mlx5: cannot initialize PMD due to missing run-time dependency on\nrdma-core libraries (libibverbs, libmlx5)\n----\n\nWe see the error 'undefined method 'chomp' for nil:NilClass' when the result is\nextracted. This patch fixes this issue by checking if the 'value' var is nil or\nnot before 'parse_column_value' is called.\n\nTripleo deployment with OVN is failing because of this issue.\n\nChange-Id: I415a6229a0fbc1b55451e3738539735afdc6f8f4\nCloses-bug: #1789236\n(cherry picked from commit 757c3a333115e6bd29bf0274ee8582989697793b)\n""}]",0,683050,0d113f3ea6bd46e64b6edac596e40955a1c1e6db,8,4,1,23804,,,0,"Fix the undefined method 'chomp' for nil:NilClass error seen with ovs 2.10

puppet-ovn uses puppet-vswitch to configure the OVN params. When OVS binaries are
compiled with dpdk support and when vs_config provider runs the command
'ovs-vsctl list Open_vSwitch .', the below warning messages are seen and
are part of the command output.

----
PMD: net_mlx5: cannot load glue library: libibverbs.so.1: cannot open shared
object file: No such file or directory
PMD: net_mlx5: cannot initialize PMD due to missing run-time dependency on
rdma-core libraries (libibverbs, libmlx5)
----

We see the error 'undefined method 'chomp' for nil:NilClass' when the result is
extracted. This patch fixes this issue by checking if the 'value' var is nil or
not before 'parse_column_value' is called.

Tripleo deployment with OVN is failing because of this issue.

Change-Id: I415a6229a0fbc1b55451e3738539735afdc6f8f4
Closes-bug: #1789236
(cherry picked from commit 757c3a333115e6bd29bf0274ee8582989697793b)
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/50/683050/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/vs_config/ovs.rb'],1,0d113f3ea6bd46e64b6edac596e40955a1c1e6db,bug/1789236-stable/queens, if value.nil? next end,,3,0
openstack%2Foslo-specs~master~I86a99f7e1cdc792ae30f92a614dad8b255a1f86a,openstack/oslo-specs,master,I86a99f7e1cdc792ae30f92a614dad8b255a1f86a,Fix misspell word,MERGED,2019-09-06 08:16:08.000000000,2019-09-19 15:26:25.000000000,2019-09-19 15:24:46.000000000,"[{'_account_id': 6928}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-06 08:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/551f95d5cec6990ceac0f066a6f83b597cab9081', 'message': 'Fix misspell word\n\nChange-Id: I86a99f7e1cdc792ae30f92a614dad8b255a1f86a\n'}, {'number': 2, 'created': '2019-09-19 06:52:44.000000000', 'files': ['specs/juno/amqp10-driver-implementation.rst', 'specs/newton/policy-in-code.rst', 'specs/newton/policy-sample-generation.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/d0364e048ba5bda8f6ada35ac42013f55de8d159', 'message': 'Fix misspell word\n\nChange-Id: I86a99f7e1cdc792ae30f92a614dad8b255a1f86a\n'}]",0,680611,d0364e048ba5bda8f6ada35ac42013f55de8d159,14,4,2,30408,,,0,"Fix misspell word

Change-Id: I86a99f7e1cdc792ae30f92a614dad8b255a1f86a
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/11/680611/2 && git format-patch -1 --stdout FETCH_HEAD,"['.idea/vcs.xml', '.idea/modules.xml', '.idea/workspace.xml', '.idea/encodings.xml', '.idea/oslo-specs.iml', 'specs/juno/amqp10-driver-implementation.rst', 'specs/newton/policy-in-code.rst', '.idea/misc.xml', 'specs/newton/policy-sample-generation.rst']",9,551f95d5cec6990ceac0f066a6f83b597cab9081,,* oslo_policy/generator.py (new file),* olso_policy/generator.py (new file),160,3
openstack%2Fcharm-interface-hacluster~master~I935613292ce6b78cf645469fda6d21b0aa695c28,openstack/charm-interface-hacluster,master,I935613292ce6b78cf645469fda6d21b0aa695c28,Add support for systemd,MERGED,2019-09-13 18:17:25.000000000,2019-09-19 15:24:30.000000000,2019-09-19 15:24:30.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 18:17:25.000000000', 'files': ['common.py', 'requires.py', 'unit_tests/test_common.py', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/e1d44c258a83ff1f5eebf13d04405d60a4b527bb', 'message': 'Add support for systemd\n\nSystemd support is in corosync, but currently the add_init_service\nhandles adding an upstart service only. This results in Charmed\nKubernetes having incorrectly monitored services.\n\nChange-Id: I935613292ce6b78cf645469fda6d21b0aa695c28\nCloses-Bug: #1843933\n'}]",0,682129,e1d44c258a83ff1f5eebf13d04405d60a4b527bb,7,3,1,29941,,,0,"Add support for systemd

Systemd support is in corosync, but currently the add_init_service
handles adding an upstart service only. This results in Charmed
Kubernetes having incorrectly monitored services.

Change-Id: I935613292ce6b78cf645469fda6d21b0aa695c28
Closes-Bug: #1843933
",git fetch https://review.opendev.org/openstack/charm-interface-hacluster refs/changes/29/682129/1 && git format-patch -1 --stdout FETCH_HEAD,"['common.py', 'requires.py', 'unit_tests/test_common.py', 'unit_tests/test_requires.py']",4,e1d44c258a83ff1f5eebf13d04405d60a4b527bb,bug/1843933," 'init_services': [], 'systemd_services': []} 'init_services': ('telnetd',), 'systemd_services': []} 'init_services': [], 'systemd_services': []} 'init_services': [], 'systemd_services': []} 'init_services': [], 'systemd_services': []} 'init_services': ('telnetd',), 'systemd_services': []} 'init_services': [], 'systemd_services': []} 'init_services': [], 'systemd_services': []} 'init_services': [], 'systemd_services': []} 'rid:3': {}, 'systemd_services': []} def test_add_systemd_service(self): expected = { 'resources': { 'res_mysql_telnetd': 'systemd:telnetd'}, 'delete_resources': [], 'resource_params': { 'res_mysql_telnetd': ' op monitor interval=""5s""'}, 'groups': {}, 'ms': {}, 'orders': {}, 'colocations': {}, 'clones': {'cl_res_mysql_telnetd': 'res_mysql_telnetd'}, 'locations': {}, 'init_services': [], 'systemd_services': ('telnetd',)} self.mock_reactive_db() self.cr.add_systemd_service('mysql', 'telnetd') self.set_local.assert_called_once_with(resources=expected)"," 'init_services': []} 'init_services': ('telnetd',)} 'init_services': []} 'init_services': []} 'init_services': []} 'init_services': ('telnetd',)} 'init_services': []} 'init_services': []} 'init_services': []} 'rid:3': {}}",176,11
openstack%2Fkolla-ansible~master~I2f0f9a7dff3fe6321e3f123b06f5ae883722deda,openstack/kolla-ansible,master,I2f0f9a7dff3fe6321e3f123b06f5ae883722deda,Check for VT in nova prechecks when using KVM,NEW,2019-09-19 13:03:30.000000000,2019-09-19 15:20:24.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 13:03:30.000000000', 'files': ['ansible/roles/nova/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03053fc13fadf68f20e803122928fdd682fbe98e', 'message': 'Check for VT in nova prechecks when using KVM\n\nIf the user has set nova_compute_virt_type to kvm, we should check\nwhether Virtualisation Technology (VT) has been enabled in the\nBIOS during nova prechecks, since creation of VMs will fail without\nthis.\n\nThis code has been adapted from openstack-ansible-os_nova:\nhttps://opendev.org/openstack/openstack-ansible-os_nova/src/branch/master/tasks/nova_virt_detect.yml\n\nChange-Id: I2f0f9a7dff3fe6321e3f123b06f5ae883722deda\nCloses-Bug: #1844669\n'}]",0,683147,03053fc13fadf68f20e803122928fdd682fbe98e,3,2,1,14826,,,0,"Check for VT in nova prechecks when using KVM

If the user has set nova_compute_virt_type to kvm, we should check
whether Virtualisation Technology (VT) has been enabled in the
BIOS during nova prechecks, since creation of VMs will fail without
this.

This code has been adapted from openstack-ansible-os_nova:
https://opendev.org/openstack/openstack-ansible-os_nova/src/branch/master/tasks/nova_virt_detect.yml

Change-Id: I2f0f9a7dff3fe6321e3f123b06f5ae883722deda
Closes-Bug: #1844669
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/683147/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/precheck.yml'],1,03053fc13fadf68f20e803122928fdd682fbe98e,bug/1844669," # NOTE(mgoddard): The following has been adapted from the # openstack-ansible-os_nova role: # https://opendev.org/openstack/openstack-ansible-os_nova/src/branch/master/tasks/nova_virt_detect.yml - block: - name: Get CPU info content command: cat /proc/cpuinfo register: cpuinfo_contents changed_when: false - name: Check for existence of KVM node stat: path: ""/dev/kvm"" register: dev_kvm - name: Fail if Virtualization Technology (VT) is disabled fail: msg: > Virtualization Technology (VT) is currently disabled. Please enable VT before running this role again, or change 'nova_compute_virt_type' to 'qemu' to avoid hardware virtualisation. when: - cpuinfo_contents.stdout.find('vmx') != -1 or cpuinfo_contents.stdout.find('svm') != -1 or cpuinfo_contents.stdout.find('PowerNV') != -1 or (cpuinfo_contents.stdout.find('pSeries') != -1 and cpuinfo_contents.stdout.find('qemu') != -1 and ansible_architecture == 'ppc64le') or (dev_kvm.stat.ischr is defined and dev_kvm.stat.ischr and ansible_architecture == 'aarch64') when: - inventory_hostname in groups['compute'] - nova_compute_virt_type == 'kvm'",,33,0
openstack%2Fglance~master~Ida08bcdad3bcff73c0bd81c8e0cbe344e2036f32,openstack/glance,master,Ida08bcdad3bcff73c0bd81c8e0cbe344e2036f32,Avoid duplication of registering reserved_store options,ABANDONED,2019-09-16 09:41:51.000000000,2019-09-19 15:12:37.000000000,,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:41:51.000000000', 'files': ['glance/common/config.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/60f9c1d01a19645af0e4a114ec8c2327a8b458ce', 'message': 'Avoid duplication of registering reserved_store options\n\nglance_store library already has ability to register config options for\nreserved_stores. The commit [0] was added to include reserved_stores option\nin sample configuration files, but it is also registering those options while\ndoing so.\n\nRemoved the part of registering the reserved store options.\n\nChange-Id: Ida08bcdad3bcff73c0bd81c8e0cbe344e2036f32\nCloses-Bug: #1844108\n'}]",0,682324,60f9c1d01a19645af0e4a114ec8c2327a8b458ce,17,6,1,9303,,,0,"Avoid duplication of registering reserved_store options

glance_store library already has ability to register config options for
reserved_stores. The commit [0] was added to include reserved_stores option
in sample configuration files, but it is also registering those options while
doing so.

Removed the part of registering the reserved store options.

Change-Id: Ida08bcdad3bcff73c0bd81c8e0cbe344e2036f32
Closes-Bug: #1844108
",git fetch https://review.opendev.org/openstack/glance refs/changes/24/682324/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/config.py'],1,60f9c1d01a19645af0e4a114ec8c2327a8b458ce,bp/rethinking-filesystem-access,,"CONF.register_group(staging_store_group) CONF.register_opts(staging_store_opts, group=staging_store_group) CONF.register_group(tasks_store_group) CONF.register_opts(tasks_store_opts, group=tasks_store_group)",0,4
openstack%2Frpm-packaging~master~I3fd11d598f8e534ea85700584d1d04c8d514763b,openstack/rpm-packaging,master,I3fd11d598f8e534ea85700584d1d04c8d514763b,DO NOT MERGE - test RDO CI,ABANDONED,2019-09-17 23:57:46.000000000,2019-09-19 14:58:24.000000000,,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 23:57:46.000000000', 'files': ['openstack/heat-dashboard/heat-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ed7ae2f392fad29d2ccb49041fdb04847330fa7c', 'message': 'DO NOT MERGE - test RDO CI\n\nChange-Id: I3fd11d598f8e534ea85700584d1d04c8d514763b\n'}]",0,682765,ed7ae2f392fad29d2ccb49041fdb04847330fa7c,7,4,1,1916,,,0,"DO NOT MERGE - test RDO CI

Change-Id: I3fd11d598f8e534ea85700584d1d04c8d514763b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/65/682765/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/heat-dashboard/heat-dashboard.spec.j2'],1,ed7ae2f392fad29d2ccb49041fdb04847330fa7c,test_rdo_ci,,,1,0
openstack%2Freleases~master~I15ce8254ce835a6fefd5d5b2da1e48b02f1412a1,openstack/releases,master,I15ce8254ce835a6fefd5d5b2da1e48b02f1412a1,Neutron highlights for Train.,MERGED,2019-09-14 00:26:17.000000000,2019-09-19 14:47:10.000000000,2019-09-19 14:47:10.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 00:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a519aceb7e1f0ac8831bd85ba0298ae6f570c4ce', 'message': 'Neutron highlights for Train.\n\nNeutron highlights for Train.\n\nChange-Id: I15ce8254ce835a6fefd5d5b2da1e48b02f1412a1\n'}, {'number': 2, 'created': '2019-09-19 12:07:59.000000000', 'files': ['deliverables/train/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/36ef64762d28d1a395ac3dc9fbfa67d376cbb4e7', 'message': 'Neutron highlights for Train.\n\nNeutron highlights for Train.\n\nChange-Id: I15ce8254ce835a6fefd5d5b2da1e48b02f1412a1\n'}]",3,682190,36ef64762d28d1a395ac3dc9fbfa67d376cbb4e7,22,8,2,4694,,,0,"Neutron highlights for Train.

Neutron highlights for Train.

Change-Id: I15ce8254ce835a6fefd5d5b2da1e48b02f1412a1
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/682190/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/neutron.yaml'],1,a519aceb7e1f0ac8831bd85ba0298ae6f570c4ce,neutron-highlights-train,"cycle-highlights: - 'When different subnet pools participate in the same address scope, the constraints disallowing subnets to be allocated from different pools on the same network have been relaxed. As long as subnet pools participate in the same address scope, subnets can now be created from different subnet pools when multiple subnets are created on a network. When address scopes are not used, subnets with the same ``ip_version`` on the same network must still be allocated from the same subnet pool.' - 'A new API, extraroute-atomic, has been implemented for Neutron routers. This extension enables users to add or delete individual entries to a router routing table, instead of having to update the entire table as one whole' - 'Support for L3 conntrack helpers has been added. Users can now configure conntrack helper target rules to be set for a router. This is accomplished by associating a conntrack_helper sub-resource to a router.'",,14,0
openstack%2Fmistral~master~Ia700e25752d9d35ece18609f2977e6568062e4bf,openstack/mistral,master,Ia700e25752d9d35ece18609f2977e6568062e4bf,Optimize creation of language specs,MERGED,2019-09-13 11:11:49.000000000,2019-09-19 14:45:51.000000000,2019-09-19 14:43:40.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-09-13 11:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3270afcf0e849b212e6f4179faa0a32bc6441f16', 'message': 'Optimize creation of language specs\n\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}, {'number': 2, 'created': '2019-09-13 11:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d22cedc560b7fbd0397d8220239cc9acefacd21b', 'message': 'Optimize creation of language specs\n\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}, {'number': 3, 'created': '2019-09-13 11:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3491a475f78ac6a1116a368b0b6594ca08a83950', 'message': 'Optimize creation of language specs\n\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}, {'number': 4, 'created': '2019-09-13 11:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0b4c211c38736b03607853d1d672a86e082fd009', 'message': 'Optimize creation of language specs\n\n* Various simple optimizations for creation of specs. Mostly\n  additional caching of non-growing data related to the\n  structure of the language spec classes. For huge workflows\n  with thousands of tasks these changes reduce execution time\n  by dozens of seconds.\n* Minor style changes.\n\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}, {'number': 5, 'created': '2019-09-13 11:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e446cc3b4ddc1e0f7d2229f8a8a246f06499b1f3', 'message': 'Optimize creation of language specs\n\n* Various simple optimizations for creation of specs. Mostly\n  additional caching of non-growing data related to the\n  structure of the language spec classes. For huge workflows\n  with thousands of tasks these changes reduce execution time\n  by dozens of seconds.\n* Minor style changes.\n\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}, {'number': 6, 'created': '2019-09-13 11:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9562a58150797e14a17fe0cf34478bd114404f47', 'message': 'Optimize creation of language specs\n\n* Various simple optimizations for creation of specs. Mostly\n  additional caching of non-growing data related to the\n  structure of the language spec classes. For huge workflows\n  with thousands of tasks these changes reduce execution time\n  by dozens of seconds.\n* Minor style changes.\n\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}, {'number': 7, 'created': '2019-09-17 07:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d119d6f12c4bbcd88a4323b92a04f357d26ad364', 'message': 'Optimize creation of language specs\n\n* Various simple optimizations for creation of specs. Mostly\n  additional caching of non-growing data related to the\n  structure of the language spec classes. For huge workflows\n  with thousands of tasks these changes reduce execution time\n  by dozens of seconds.\n* Minor style changes.\n\nPartial-bug: #1844242\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}, {'number': 8, 'created': '2019-09-18 03:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d05442f57fadf525a3c2b9a1db3a4d7ee657f1c4', 'message': 'Optimize creation of language specs\n\n* Various simple optimizations for creation of specs. Mostly\n  additional caching of non-growing data related to the\n  structure of the language spec classes. For huge workflows\n  with thousands of tasks these changes reduce execution time\n  by dozens of seconds.\n* Minor style changes.\n\nPartial-bug: #1844242\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}, {'number': 9, 'created': '2019-09-19 05:03:13.000000000', 'files': ['mistral/lang/base.py', 'mistral/lang/v2/workflows.py', 'mistral/api/controllers/v2/workflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/64c4038b2c11170a942c909c314e681f73cf895e', 'message': 'Optimize creation of language specs\n\n* Various simple optimizations for creation of specs. Mostly\n  additional caching of non-growing data related to the\n  structure of the language spec classes. For huge workflows\n  with thousands of tasks these changes reduce execution time\n  by dozens of seconds.\n* Minor style changes.\n\nPartial-bug: #1844242\nChange-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf\n'}]",2,682024,64c4038b2c11170a942c909c314e681f73cf895e,33,8,9,8731,,,0,"Optimize creation of language specs

* Various simple optimizations for creation of specs. Mostly
  additional caching of non-growing data related to the
  structure of the language spec classes. For huge workflows
  with thousands of tasks these changes reduce execution time
  by dozens of seconds.
* Minor style changes.

Partial-bug: #1844242
Change-Id: Ia700e25752d9d35ece18609f2977e6568062e4bf
",git fetch https://review.opendev.org/openstack/mistral refs/changes/24/682024/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/lang/v2/tasks.py', 'mistral/lang/base.py', 'mistral/lang/v2/workflows.py', 'mistral/api/controllers/v2/workflow.py', 'mistral/services/workflows.py']",5,3270afcf0e849b212e6f4179faa0a32bc6441f16,bug/1844242," from osprofiler import profiler@profiler.trace('services-workflows-create-workflows', hide_args=True)",,63,25
openstack%2Fhorizon~master~I723f45e7ffe1f61bed244642c49eba24dafd7427,openstack/horizon,master,I723f45e7ffe1f61bed244642c49eba24dafd7427,Documentation and release notes for changing expired passwords,MERGED,2019-08-13 11:42:03.000000000,2019-09-19 14:36:42.000000000,2019-09-19 14:34:24.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 11880}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-13 11:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/85aa7b42a1e97491f8c77a320a8a676b074a7ec4', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\n'}, {'number': 2, 'created': '2019-08-20 10:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/37b554f5cd2fe764e31eebb333abbe3655042e1e', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\n'}, {'number': 3, 'created': '2019-08-21 15:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/76b4525db9d50fd50d0c843b806bd8b0721fd57e', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\nPart of blueprint: allow-users-change-expired-password\n'}, {'number': 4, 'created': '2019-09-12 08:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/abc08f3bd46e9ed575a07c8f2acc0d2123a9d71d', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\nPart of blueprint: allow-users-change-expired-password\n'}, {'number': 5, 'created': '2019-09-12 15:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/400ef1675becaca60432b7eb96bef49ebdfa1b14', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\nPart of blueprint: allow-users-change-expired-password\n'}, {'number': 6, 'created': '2019-09-12 17:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8434d392b8d34434be58acf3c3c67f550413790e', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\nPart of blueprint: allow-users-change-expired-password\n'}, {'number': 7, 'created': '2019-09-12 18:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5855b39cf6a1e0713f4415c67b9746c608d8b6d0', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\nPart of blueprint: allow-users-change-expired-password\n'}, {'number': 8, 'created': '2019-09-13 06:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4eb2478076caf18bcebd0abecf13e3173c7b0994', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\nPart of blueprint: allow-users-change-expired-password\n'}, {'number': 9, 'created': '2019-09-18 07:25:26.000000000', 'files': ['releasenotes/notes/bp-allow-users-change-expired-password-19223784fdf5059b.yaml', 'doc/source/configuration/settings.rst', 'openstack_auth/defaults.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7c3a9dd8d0bfc3dd7a3989b2ae07fb0b5c6d67d9', 'message': 'Documentation and release notes for changing expired passwords\n\nChange-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427\nPart of blueprint: allow-users-change-expired-password\n'}]",8,676167,7c3a9dd8d0bfc3dd7a3989b2ae07fb0b5c6d67d9,37,6,9,8648,,,0,"Documentation and release notes for changing expired passwords

Change-Id: I723f45e7ffe1f61bed244642c49eba24dafd7427
Part of blueprint: allow-users-change-expired-password
",git fetch https://review.opendev.org/openstack/horizon refs/changes/67/676167/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bp-allow-users-change-expired-password-19223784fdf5059b.yaml', 'doc/source/configuration/settings.rst', 'openstack_dashboard/defaults.py']",3,85aa7b42a1e97491f8c77a320a8a676b074a7ec4,bp/allow-users-change-expired-password," # Horizon can prompt the user to change their password when it is expired # or required to be changed on first use. This is enabled by default, but # can be disabled if not desired. ALLOW_USERS_CHANGE_EXPIRED_PASSWORD = True",,25,0
openstack%2Fproject-config~master~I887c62c009223073c63cc666308c9568fdc5ed31,openstack/project-config,master,I887c62c009223073c63cc666308c9568fdc5ed31,Add additional repos need for system-config,MERGED,2019-09-19 14:01:09.000000000,2019-09-19 14:32:12.000000000,2019-09-19 14:32:12.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 14:01:09.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/19633dce9b11be18085b395b7798d1fa547080b3', 'message': 'Add additional repos need for system-config\n\nChange-Id: I887c62c009223073c63cc666308c9568fdc5ed31\n'}]",0,683167,19633dce9b11be18085b395b7798d1fa547080b3,7,3,1,2,,,0,"Add additional repos need for system-config

Change-Id: I887c62c009223073c63cc666308c9568fdc5ed31
",git fetch https://review.opendev.org/openstack/project-config refs/changes/67/683167/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,19633dce9b11be18085b395b7798d1fa547080b3,, - opendev/zone-zuul-ci.org - philpep/testinfra,,2,0
openstack%2Fshade~stable%2Frocky~I229823b3a900e82fb2fc6858268a5ab48724594a,openstack/shade,stable/rocky,I229823b3a900e82fb2fc6858268a5ab48724594a,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-09-03 09:18:14.000000000,2019-09-19 14:26:15.000000000,2019-09-19 14:26:15.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-03 09:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/2109b57e715d0f15a76d42020f4e719de0afc64a', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: I229823b3a900e82fb2fc6858268a5ab48724594a\n'}, {'number': 2, 'created': '2019-09-03 09:19:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/shade/commit/421cbe0c0e29acc89f9194c5f78d368f410cf83b', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: I229823b3a900e82fb2fc6858268a5ab48724594a\n'}]",0,679729,421cbe0c0e29acc89f9194c5f78d368f410cf83b,10,2,2,30408,,,0,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: I229823b3a900e82fb2fc6858268a5ab48724594a
",git fetch https://review.opendev.org/openstack/shade refs/changes/29/679729/2 && git format-patch -1 --stdout FETCH_HEAD,"['.idea/shade.iml', '.idea/vcs.xml', '.idea/modules.xml', '.idea/workspace.xml', '.idea/encodings.xml', 'setup.cfg', '.idea/misc.xml']",7,2109b57e715d0f15a76d42020f4e719de0afc64a,,"<?xml version=""1.0"" encoding=""UTF-8""?> <project version=""4""> <component name=""ProjectRootManager"" version=""2"" project-jdk-name=""Python 3.7"" project-jdk-type=""Python SDK"" /> </project>",,155,1
openstack%2Fpuppet-octavia~master~I5e2d2db8e7113e0c50b7cbd6a7ed383492477180,openstack/puppet-octavia,master,I5e2d2db8e7113e0c50b7cbd6a7ed383492477180,Add build_active_retries and port_detach_timeout,MERGED,2019-09-17 12:59:57.000000000,2019-09-19 14:21:41.000000000,2019-09-19 14:20:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 12:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/eded6143de746eef55af19cf847798a715583107', 'message': 'Add parameter build_active_retries\n\nParameter build_active_retries sets retry threshold for waiting for a\nbuild slot for an amphorae.\n\nChange-Id: I5e2d2db8e7113e0c50b7cbd6a7ed383492477180\n'}, {'number': 2, 'created': '2019-09-17 13:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/e1b4bd0f43ed6954a1d47148057edf23f8f736aa', 'message': 'Add build_active_retries and port_detach_timeout\n\nParameter build_active_retries sets retry threshold for waiting for a\nbuild slot for an amphorae.\n\nParameter port_detach_timeout sets seconds to wait for a port to detach\nfrom an amphora\n\nChange-Id: I5e2d2db8e7113e0c50b7cbd6a7ed383492477180\n'}, {'number': 3, 'created': '2019-09-17 15:42:50.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-build-active-retries-and-port-detach-timeout-parameters-5dc21de1a97699ef.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/96fa23758dfcd4cf7379bf1b229fd392c9c24bd7', 'message': 'Add build_active_retries and port_detach_timeout\n\nParameter build_active_retries sets retry threshold for waiting for a\nbuild slot for an amphorae.\n\nParameter port_detach_timeout sets seconds to wait for a port to detach\nfrom an amphora\n\nChange-Id: I5e2d2db8e7113e0c50b7cbd6a7ed383492477180\n'}]",0,682636,96fa23758dfcd4cf7379bf1b229fd392c9c24bd7,13,4,3,6469,,,0,"Add build_active_retries and port_detach_timeout

Parameter build_active_retries sets retry threshold for waiting for a
build slot for an amphorae.

Parameter port_detach_timeout sets seconds to wait for a port to detach
from an amphora

Change-Id: I5e2d2db8e7113e0c50b7cbd6a7ed383492477180
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/36/682636/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/controller.pp'],1,eded6143de746eef55af19cf847798a715583107,,"# [*build_active_retries*] # (optional) Retry threshold for waiting for a build slot for an amphorae. # Defaults to $::os_service_default # $build_active_retries = $::os_service_default, 'haproxy_amphora/build_active_retries' : value => $build_active_retries;",,6,0
openstack%2Fhorizon~master~Ieceee09db21040b96577db19bd195dc3799e3892,openstack/horizon,master,Ieceee09db21040b96577db19bd195dc3799e3892,Automatically redirect to the password change when it's expired,MERGED,2019-07-23 15:14:33.000000000,2019-09-19 14:14:52.000000000,2019-09-19 14:12:55.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-23 15:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d25c7016bf052207a5e4e888dff48923f32d2d2f', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 2, 'created': '2019-07-23 15:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b1e09b43ad02c4a19e672b18846e4b29754c722d', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 3, 'created': '2019-07-23 16:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/405af1a81391634588e174b6b3241b521b18cb73', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 4, 'created': '2019-07-23 19:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c7ce9b1a377585f8a7195cbd3a0455dfb5e1a28', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 5, 'created': '2019-07-31 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e6646549245293d7a5e9d82cf673cfbabd7138aa', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 6, 'created': '2019-08-05 09:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/349fca9d5a4afe306b35f6695b4902f58eedfb24', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 7, 'created': '2019-08-13 11:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b763d1d6db7977eed80a7c03d3629a41fb60d61a', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 8, 'created': '2019-08-20 10:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a0998c6f7244d4f2f99f7e6c2826b153da1b0dda', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 9, 'created': '2019-09-12 08:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5cc5c08f74c1fefd6eb14a645aeb1aebb7535974', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 10, 'created': '2019-09-12 15:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7168a54c0aef5ae0752338605c36aaa5bcd01f50', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 11, 'created': '2019-09-12 18:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/23768c54f8cba0986a4af25247b1a6cabb0ebb36', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 12, 'created': '2019-09-13 06:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0fbf8445da08593d38ddd599faec5c3e5332ca17', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 13, 'created': '2019-09-16 08:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/98a5683f4474cf54b9c1045c34682399f2a89e53', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 14, 'created': '2019-09-16 08:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1af638b615c47c643059006729a1053722f604ad', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}, {'number': 15, 'created': '2019-09-16 10:45:33.000000000', 'files': ['horizon/templates/auth/_password_form.html', 'openstack_auth/exceptions.py', 'openstack_auth/forms.py', 'openstack_auth/tests/unit/test_auth.py', 'openstack_auth/plugin/base.py', 'openstack_auth/views.py', 'openstack_auth/backend.py', 'openstack_auth/utils.py', 'openstack_auth/urls.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9d98a0c24d9a8c2541f820d24c0fc20fb7b4b3f5', 'message': ""Automatically redirect to the password change when it's expired\n\nUnfortunately the only way we can know the user_id at this point is\nby parsing the error message.\n\nI also refactored the exceptions in openstack_auth to make them use\ndifferent classes (but one common superclass).\n\nPartially implements blueprint: allow-users-change-expired-password\n\nChange-Id: Ieceee09db21040b96577db19bd195dc3799e3892\n""}]",8,672315,9d98a0c24d9a8c2541f820d24c0fc20fb7b4b3f5,60,6,15,8648,,,0,"Automatically redirect to the password change when it's expired

Unfortunately the only way we can know the user_id at this point is
by parsing the error message.

I also refactored the exceptions in openstack_auth to make them use
different classes (but one common superclass).

Partially implements blueprint: allow-users-change-expired-password

Change-Id: Ieceee09db21040b96577db19bd195dc3799e3892
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/672315/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/exceptions.py', 'openstack_auth/forms.py', 'openstack_auth/plugin/base.py', 'openstack_auth/views.py', 'openstack_auth/backend.py']",5,d25c7016bf052207a5e4e888dff48923f32d2d2f,bp/allow-users-change-expired-password, raise exceptions.KeystoneTokenExpiredException(msg) raise exceptions.KeystoneNoBackendException(msg) raise exceptions.KeystoneNoProjectsException(msg), raise exceptions.KeystoneAuthException(msg) raise exceptions.KeystoneAuthException(msg) raise exceptions.KeystoneAuthException(msg),58,13
openstack%2Ftripleo-heat-templates~master~I6a8769a6751e76a1adb79ee4e27fc6748a6f1894,openstack/tripleo-heat-templates,master,I6a8769a6751e76a1adb79ee4e27fc6748a6f1894,[dnm] debug permissions issue with manila-share,ABANDONED,2019-03-12 23:18:45.000000000,2019-09-19 14:14:21.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-12 23:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/376fd43fdd37130c574ff17161483787267cf1ef', 'message': ""[dnm] debug permissions issue with manila-share\n\nmanila-share runs in a container as a non-privileged\nuser (manila). It shouldn't need root privileges to\nwrite into its state directory.\n\nChange-Id: I6a8769a6751e76a1adb79ee4e27fc6748a6f1894\n""}, {'number': 2, 'created': '2019-07-16 01:04:55.000000000', 'files': ['deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccca6124586fc2e45ce31f82312d78138c115b64', 'message': ""[dnm] debug permissions issue with manila-share\n\nmanila-share runs in a container as a non-privileged\nuser (manila). It shouldn't need root privileges to\nwrite into its state directory.\n\nChange-Id: I6a8769a6751e76a1adb79ee4e27fc6748a6f1894\n""}]",0,642923,ccca6124586fc2e45ce31f82312d78138c115b64,8,3,2,16643,,,0,"[dnm] debug permissions issue with manila-share

manila-share runs in a container as a non-privileged
user (manila). It shouldn't need root privileges to
write into its state directory.

Change-Id: I6a8769a6751e76a1adb79ee4e27fc6748a6f1894
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/642923/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml']",2,376fd43fdd37130c574ff17161483787267cf1ef,debug-non-pacemaker-deploy, - path: /var/lib/manila owner: manila:manila recurse: true,,6,0
openstack%2Ftripleo-heat-templates~master~Id55a1ac38c33684bc88325f40c08cc399a241ff2,openstack/tripleo-heat-templates,master,Id55a1ac38c33684bc88325f40c08cc399a241ff2,[dnm] Test manila without pacemaker,ABANDONED,2019-03-12 23:46:49.000000000,2019-09-19 14:13:53.000000000,,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-12 23:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e31e0d3367086f79e15b3d8d22dd300c53aa2c4', 'message': '[dnm] Test manila without pacemaker\n\nChange-Id: Id55a1ac38c33684bc88325f40c08cc399a241ff2\nDepends-On: https://review.openstack.org/#/c/642923/\n'}, {'number': 2, 'created': '2019-03-12 23:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0ab4f784093e8f994331bf5510371aeb4fe9bd2', 'message': '[dnm] Test manila without pacemaker\n\nChange-Id: Id55a1ac38c33684bc88325f40c08cc399a241ff2\nDepends-On: https://review.openstack.org/#/c/642923/\n'}, {'number': 3, 'created': '2019-07-12 20:19:00.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14b2dc2f7ab502f4c2ac975ba28f50084753316d', 'message': '[dnm] Test manila without pacemaker\n\nChange-Id: Id55a1ac38c33684bc88325f40c08cc399a241ff2\nDepends-On: https://review.openstack.org/#/c/642923/\n'}]",0,642926,14b2dc2f7ab502f4c2ac975ba28f50084753316d,12,3,3,16643,,,0,"[dnm] Test manila without pacemaker

Change-Id: Id55a1ac38c33684bc88325f40c08cc399a241ff2
Depends-On: https://review.openstack.org/#/c/642923/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/642926/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'zuul.d/layout.yaml']",2,5e31e0d3367086f79e15b3d8d22dd300c53aa2c4,debug-non-pacemaker-deploy,, templates: - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - check-requirements - release-notes-jobs-python3 - openstack-python35-jobs-no-constraints - openstack-python-jobs - tripleo-standalone-scenarios-full - openstack-tox-pep8 - openstack-tox-lower-constraints - tripleo-ci-centos-7-containers-multinode: dependencies: &deps_unit_lint - openstack-tox-pep8 - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: *deps_unit_lint files: - ci/environments/scenario000-multinode-containers.yaml - ^deployed-server/.*$ - ^deployment/container-image-prepare/.*$ - ^(docker|puppet)/services/.*ca-certs.*$ - ^(docker|puppet)/services/.*clustercheck.*$ - ^(docker|puppet)/services/.*docker.*$ - ^(docker|puppet)/services/.*haproxy.*$ - ^(docker|puppet)/services/.*kernel.*$ - ^(docker|puppet)/services/.*keystone.*$ - ^(docker|puppet)/services/.*memcached.*$ - ^(docker|puppet)/services/.*mysql.*$ - ^(docker|puppet)/services/.*ntp.*$ - ^(docker|puppet)/services/.*pacemaker.*$ - ^(docker|puppet)/services/.*rabbitmq.*$ - ^(docker|puppet)/services/.*snmp.*$ - ^(docker|puppet)/services/.*timezone.*$ - ^(docker|puppet)/services/.*tripleo-packages.*$ - ^(docker|puppet)/services/.*tripleo-firewall.*$ - ^(docker|puppet)/services/.*sshd.*$ - ^environments\/.*.yaml - ^network/endpoints/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario006-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^coe/kubernetes.*$ - ^environments/kubernetes.*$ - ^extraconfig/services/kubernetes.*$ - ci/environments/scenario006-multinode.yaml - ci/pingtests/scenario006-multinode.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario007-multinode-oooq-container: dependencies: *deps_unit_lint files: - ci/environments/scenario007-multinode-containers.yaml - ^(docker|puppet)/services/neutron-plugin-ml2.yaml #LP1765975 - ^(docker|puppet)/services/.*.*ovn.*$ - ^(docker|puppet)/services/.*tacker.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario008-multinode-oooq-container: dependencies: *deps_unit_lint files: - ci/environments/scenario008-multinode-containers.yaml - ^(docker|puppet)/services/(odl|opendaylight).*$ - ^(docker|puppet)/services/neutron-plugin-ml2.yaml #LP1765975 - ^environments\/.*.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario009-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^coe/openshift.*$ - ^environments/openshift.*$ - ^extraconfig/services/openshift.*$ - ^(docker|puppet)/services/.*haproxy.*$ - ^(docker|puppet)/services/.*keepalived.*$ - ^(docker|puppet)/services/.*mistral.*$ - ci/environments/scenario009-multinode.yaml - ci/pingtests/scenario009-multinode.yaml - ^network/endpoints/.*$ - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario010-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^(docker|puppet)/services/.*octavia.*$ - ^docker/services/ceph-ansible.*$ - ci/environments/scenario010-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-standalone-upgrade: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario001-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario002-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario003-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario012-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-containerized-undercloud-upgrades: dependencies: *deps_unit_lint,2,118
openstack%2Ftripleo-docs~master~Ib3bb34191582f581c28f2f8a0281cf3ae44003e8,openstack/tripleo-docs,master,Ib3bb34191582f581c28f2f8a0281cf3ae44003e8,PDF documentation build,MERGED,2019-09-16 13:31:59.000000000,2019-09-19 14:04:33.000000000,2019-09-19 14:02:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 13:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/29651af29f7bc5a866a22df921ac25d2acb55c42', 'message': 'PDF documentation build\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nThe list of changes:\n- copy the missing deps for the doc testenv from\n  Ib3bb34191582f581c28f2f8a0281cf3ae44003e8,\n- add a new pdf-docs environment to enable PDF build,\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly,\n- Add requirements for sphinx and poke it for openstackdocstheme,\n- disable usage of xindy for tex,\n- do not generate empty pages,\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nTeX and  few more packages may be needed to build PDF locally\n(listed for bindep):\n\ninkscape [doc platform:dpkg]\nfonts-liberation [doc platform:dpkg]\ntexlive-latex-base [doc platform:dpkg]\ntexlive-latex-extra [doc platform:dpkg]\ntexlive-xetex [doc platform:dpkg]\ntexlive-fonts-recommended [doc platform:dpkg]\nxindy [doc platform:dpkg]\nlatexmk [doc platform:dpkg]\ntexlive [doc platform:rpm]\ntexlive-fncychap [doc platform:rpm]\ntexlive-titlesec [doc platform:rpm]\ntexlive-tabulary [doc platform:rpm]\ntexlive-framed [doc platform:rpm]\ntexlive-wrapfig [doc platform:rpm]\ntexlive-upquote [doc platform:rpm]\ntexlive-capt-of [doc platform:rpm]\ntexlive-needspace [doc platform:rpm]\ntexlive-polyglossia [doc platform:rpm]\nlatexmk [doc platform:rpm]\npython3-sphinxcontrib-svg2pdfconverter-common [doc platform:rpm]\nlibrsvg2-tools [doc platform:rpm]\nlibrsvg2-bin [doc platform:dpkg]\n\nChange-Id: Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-09-17 12:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4e3c4cefddccc9d232058fe5e8cbaa5779fffacb', 'message': 'PDF documentation build\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nThe list of changes:\n- add the missing sphinxcontrib-mermaid into a separated\n  experimental requirements (it does not work with py3 and TeX builds)\n- render mermaid diagrams only for html builds, for PDF use a hand-made\n  quick and dirty approximation instead\n- add the project architecture and components into the main ToC, omit\n  rendering additional contents pages for PDF builds\n- copy the missing deps for the doc testenv from\n  Ib3bb34191582f581c28f2f8a0281cf3ae44003e8,\n- add a new pdf-docs environment to enable PDF build,\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly,\n- Add requirements for sphinx and poke it for openstackdocstheme,\n- disable usage of xindy for tex,\n- do not generate empty pages,\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nTeX and  few more packages may be needed to build PDF locally\n(listed for bindep):\n\ninkscape [doc platform:dpkg]\nfonts-liberation [doc platform:dpkg]\ntexlive-latex-base [doc platform:dpkg]\ntexlive-latex-extra [doc platform:dpkg]\ntexlive-xetex [doc platform:dpkg]\ntexlive-fonts-recommended [doc platform:dpkg]\nxindy [doc platform:dpkg]\nlatexmk [doc platform:dpkg]\ntexlive [doc platform:rpm]\ntexlive-fncychap [doc platform:rpm]\ntexlive-titlesec [doc platform:rpm]\ntexlive-tabulary [doc platform:rpm]\ntexlive-framed [doc platform:rpm]\ntexlive-wrapfig [doc platform:rpm]\ntexlive-upquote [doc platform:rpm]\ntexlive-capt-of [doc platform:rpm]\ntexlive-needspace [doc platform:rpm]\ntexlive-polyglossia [doc platform:rpm]\nlatexmk [doc platform:rpm]\npython3-sphinxcontrib-svg2pdfconverter-common [doc platform:rpm]\nlibrsvg2-tools [doc platform:rpm]\nlibrsvg2-bin [doc platform:dpkg]\n\nChange-Id: Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-09-17 12:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a918f78a53a504690f48952865baa672f1de469f', 'message': 'PDF documentation build\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nThe list of changes:\n- add the missing sphinxcontrib-mermaid requirements\n- render mermaid diagrams only for html builds, for PDF use a hand-made\n  quick and dirty approximation instead (if used for PDF builds, it\n  fails on the py3 deprecated warn() methos)\n- add the project architecture and components into the main ToC, omit\n  rendering additional contents pages for PDF builds\n- copy the missing deps for the doc testenv from\n  Ib3bb34191582f581c28f2f8a0281cf3ae44003e8,\n- add a new pdf-docs environment to enable PDF build,\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly,\n- Add requirements for sphinx and poke it for openstackdocstheme,\n- disable usage of xindy for tex,\n- do not generate empty pages,\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nTeX and  few more packages may be needed to build PDF locally\n(listed for bindep):\n\ninkscape [doc platform:dpkg]\nfonts-liberation [doc platform:dpkg]\ntexlive-latex-base [doc platform:dpkg]\ntexlive-latex-extra [doc platform:dpkg]\ntexlive-xetex [doc platform:dpkg]\ntexlive-fonts-recommended [doc platform:dpkg]\nxindy [doc platform:dpkg]\nlatexmk [doc platform:dpkg]\ntexlive [doc platform:rpm]\ntexlive-fncychap [doc platform:rpm]\ntexlive-titlesec [doc platform:rpm]\ntexlive-tabulary [doc platform:rpm]\ntexlive-framed [doc platform:rpm]\ntexlive-wrapfig [doc platform:rpm]\ntexlive-upquote [doc platform:rpm]\ntexlive-capt-of [doc platform:rpm]\ntexlive-needspace [doc platform:rpm]\ntexlive-polyglossia [doc platform:rpm]\nlatexmk [doc platform:rpm]\npython3-sphinxcontrib-svg2pdfconverter-common [doc platform:rpm]\nlibrsvg2-tools [doc platform:rpm]\nlibrsvg2-bin [doc platform:dpkg]\n\nChange-Id: Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-09-17 14:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/746e44c8493d9bea354654e054aab6a9049598a2', 'message': ""PDF documentation build\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nThe list of changes:\n- copy the docs testenvs' dependencies from\n  Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\n- do not place unrelated entries for the test-requieremets, add flake8\n- add the missing sphinxcontrib-mermaid docs requirements\n- render mermaid diagrams only for html builds, for PDF use a hand-made\n  quick and dirty approximation instead (if used for PDF builds, it\n  fails on the py3 deprecated warn() methos)\n- add the project architecture and components into the main ToC, omit\n  rendering additional contents pages for PDF builds\n- add a new pdf-docs environment to enable PDF build,\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly,\n- Add requirements for sphinx and poke it for openstackdocstheme,\n- disable usage of xindy for tex,\n- do not generate empty pages,\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nTeX and  few more packages may be needed to build PDF locally\n(listed for bindep):\n\ninkscape [doc platform:dpkg]\nfonts-liberation [doc platform:dpkg]\ntexlive-latex-base [doc platform:dpkg]\ntexlive-latex-extra [doc platform:dpkg]\ntexlive-xetex [doc platform:dpkg]\ntexlive-fonts-recommended [doc platform:dpkg]\nxindy [doc platform:dpkg]\nlatexmk [doc platform:dpkg]\ntexlive [doc platform:rpm]\ntexlive-fncychap [doc platform:rpm]\ntexlive-titlesec [doc platform:rpm]\ntexlive-tabulary [doc platform:rpm]\ntexlive-framed [doc platform:rpm]\ntexlive-wrapfig [doc platform:rpm]\ntexlive-upquote [doc platform:rpm]\ntexlive-capt-of [doc platform:rpm]\ntexlive-needspace [doc platform:rpm]\ntexlive-polyglossia [doc platform:rpm]\nlatexmk [doc platform:rpm]\npython3-sphinxcontrib-svg2pdfconverter-common [doc platform:rpm]\nlibrsvg2-tools [doc platform:rpm]\nlibrsvg2-bin [doc platform:dpkg]\n\nChange-Id: Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2019-09-17 14:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/06319a6ebe753b9da08c50210ef01d083fa153d7', 'message': ""PDF documentation build\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nThe list of changes:\n- copy the docs testenvs' dependencies from\n  Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\n- do not place unrelated to the docs testenvs entries for the\n  test-requieremets.txt and vice versa, add missing flake8\n- add the missing sphinxcontrib-mermaid docs requirements\n- render mermaid diagrams only for html builds, for PDF use a hand-made\n  quick and dirty approximation instead (if used for PDF builds, it\n  fails on the py3 deprecated warn() methos)\n- add the project architecture and components into the main ToC, omit\n  rendering additional contents pages for PDF builds\n- add a new pdf-docs environment to enable PDF build,\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly,\n- Add requirements for sphinx and poke it for openstackdocstheme,\n- disable usage of xindy for tex,\n- do not generate empty pages,\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nTeX and  few more packages may be needed to build PDF locally\n(listed for bindep):\n\ninkscape [doc platform:dpkg]\nfonts-liberation [doc platform:dpkg]\ntexlive-latex-base [doc platform:dpkg]\ntexlive-latex-extra [doc platform:dpkg]\ntexlive-xetex [doc platform:dpkg]\ntexlive-fonts-recommended [doc platform:dpkg]\nxindy [doc platform:dpkg]\nlatexmk [doc platform:dpkg]\ntexlive [doc platform:rpm]\ntexlive-fncychap [doc platform:rpm]\ntexlive-titlesec [doc platform:rpm]\ntexlive-tabulary [doc platform:rpm]\ntexlive-framed [doc platform:rpm]\ntexlive-wrapfig [doc platform:rpm]\ntexlive-upquote [doc platform:rpm]\ntexlive-capt-of [doc platform:rpm]\ntexlive-needspace [doc platform:rpm]\ntexlive-polyglossia [doc platform:rpm]\nlatexmk [doc platform:rpm]\npython3-sphinxcontrib-svg2pdfconverter-common [doc platform:rpm]\nlibrsvg2-tools [doc platform:rpm]\nlibrsvg2-bin [doc platform:dpkg]\n\nChange-Id: Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2019-09-17 15:21:02.000000000', 'files': ['doc/source/ci/stages-overview.rst', 'doc/source/index.rst', 'requirements.txt', 'doc/source/install/introduction/architecture.rst', 'test-requirements.txt', 'README.rst', 'doc/source/install/introduction/components.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f313d7a87fbc43f2789d3fe46f6e44998ff189d8', 'message': ""PDF documentation build\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nThe list of changes:\n- copy the docs testenvs' dependencies from\n  Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\n- do not place unrelated to the docs testenvs entries for the\n  test-requieremets.txt, add missing flake8\n- add the missing sphinxcontrib-mermaid docs requirements\n- render mermaid diagrams only for html builds, for PDF use a hand-made\n  quick and dirty approximation instead (if used for PDF builds, it\n  fails on the py3 deprecated warn() methos)\n- add the project architecture and components into the main ToC, omit\n  rendering additional contents pages for PDF builds\n- add a new pdf-docs environment to enable PDF build,\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly,\n- Add requirements for sphinx and poke it for openstackdocstheme,\n- disable usage of xindy for tex,\n- do not generate empty pages,\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nTeX and  few more packages may be needed to build PDF locally\n(listed for bindep):\n\ninkscape [doc platform:dpkg]\nfonts-liberation [doc platform:dpkg]\ntexlive-latex-base [doc platform:dpkg]\ntexlive-latex-extra [doc platform:dpkg]\ntexlive-xetex [doc platform:dpkg]\ntexlive-fonts-recommended [doc platform:dpkg]\nxindy [doc platform:dpkg]\nlatexmk [doc platform:dpkg]\ntexlive [doc platform:rpm]\ntexlive-fncychap [doc platform:rpm]\ntexlive-titlesec [doc platform:rpm]\ntexlive-tabulary [doc platform:rpm]\ntexlive-framed [doc platform:rpm]\ntexlive-wrapfig [doc platform:rpm]\ntexlive-upquote [doc platform:rpm]\ntexlive-capt-of [doc platform:rpm]\ntexlive-needspace [doc platform:rpm]\ntexlive-polyglossia [doc platform:rpm]\nlatexmk [doc platform:rpm]\npython3-sphinxcontrib-svg2pdfconverter-common [doc platform:rpm]\nlibrsvg2-tools [doc platform:rpm]\nlibrsvg2-bin [doc platform:dpkg]\n\nChange-Id: Ib3bb34191582f581c28f2f8a0281cf3ae44003e8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,682362,f313d7a87fbc43f2789d3fe46f6e44998ff189d8,22,4,6,6926,,,0,"PDF documentation build

The is one of community goals that each project could produce a
single PDF file. The pdf should be in the output of openstack-tox-docs
job.

The list of changes:
- copy the docs testenvs' dependencies from
  Ib3bb34191582f581c28f2f8a0281cf3ae44003e8
- do not place unrelated to the docs testenvs entries for the
  test-requieremets.txt, add missing flake8
- add the missing sphinxcontrib-mermaid docs requirements
- render mermaid diagrams only for html builds, for PDF use a hand-made
  quick and dirty approximation instead (if used for PDF builds, it
  fails on the py3 deprecated warn() methos)
- add the project architecture and components into the main ToC, omit
  rendering additional contents pages for PDF builds
- add a new pdf-docs environment to enable PDF build,
- sphinxcontrib-svg2pdfconverter is used to handle SVG properly,
- Add requirements for sphinx and poke it for openstackdocstheme,
- disable usage of xindy for tex,
- do not generate empty pages,

More about the goal:
https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html
https://etherpad.openstack.org/p/train-pdf-support-goal
https://etherpad.openstack.org/p/pdf-goal-train-common-problems

TeX and  few more packages may be needed to build PDF locally
(listed for bindep):

inkscape [doc platform:dpkg]
fonts-liberation [doc platform:dpkg]
texlive-latex-base [doc platform:dpkg]
texlive-latex-extra [doc platform:dpkg]
texlive-xetex [doc platform:dpkg]
texlive-fonts-recommended [doc platform:dpkg]
xindy [doc platform:dpkg]
latexmk [doc platform:dpkg]
texlive [doc platform:rpm]
texlive-fncychap [doc platform:rpm]
texlive-titlesec [doc platform:rpm]
texlive-tabulary [doc platform:rpm]
texlive-framed [doc platform:rpm]
texlive-wrapfig [doc platform:rpm]
texlive-upquote [doc platform:rpm]
texlive-capt-of [doc platform:rpm]
texlive-needspace [doc platform:rpm]
texlive-polyglossia [doc platform:rpm]
latexmk [doc platform:rpm]
python3-sphinxcontrib-svg2pdfconverter-common [doc platform:rpm]
librsvg2-tools [doc platform:rpm]
librsvg2-bin [doc platform:dpkg]

Change-Id: Ib3bb34191582f581c28f2f8a0281cf3ae44003e8
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/62/682362/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'README.rst', 'doc/source/conf.py', 'tox.ini']",4,29651af29f7bc5a866a22df921ac25d2acb55c42,build-pdf-docs,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt[testenv:pdf-docs] basepython = python3 whitelist_externals = make description = Build PDF documentation. envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,36,3
openstack%2Fnova~master~I4b6fb4e239af6d73a07e48339fcbb316aa35cb66,openstack/nova,master,I4b6fb4e239af6d73a07e48339fcbb316aa35cb66,objects: Add 'InstanceNUMATopology.cpu_pinning' property,MERGED,2019-09-04 17:46:39.000000000,2019-09-19 14:01:18.000000000,2019-09-19 11:39:00.000000000,"[{'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-04 17:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71ba0f65f4821cd011f22c9c10f688f854d03317', 'message': ""objects: Add 'InstanceNUMATopology.cpu_pinning' property\n\nProvide an easy way to extract all pinned CPUs from an instance's\n'InstanceNUMATopology' object\n\nChange-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-09-10 12:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4461d20e62e91cab204bd2558ba822b6a73ed84a', 'message': ""objects: Add 'InstanceNUMATopology.cpu_pinning' property\n\nProvide an easy way to extract all pinned CPUs from an instance's\n'InstanceNUMATopology' object\n\nChange-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-09-10 12:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e795465fb465801cbdc0948c908e1090cc95e270', 'message': ""objects: Add 'InstanceNUMATopology.cpu_pinning' property\n\nProvide an easy way to extract all pinned CPUs from an instance's\n'InstanceNUMATopology' object\n\nChange-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-09-10 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58d52fcfda341c93d983b4645ae0ed0b7371f1f8', 'message': ""objects: Add 'InstanceNUMATopology.cpu_pinning' property\n\nProvide an easy way to extract all pinned CPUs from an instance's\n'InstanceNUMATopology' object\n\nChange-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-09-11 23:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2eaeb5db06881743bdb36f087b1ba5a72783115', 'message': ""objects: Add 'InstanceNUMATopology.cpu_pinning' property\n\nProvide an easy way to extract all pinned CPUs from an instance's\n'InstanceNUMATopology' object\n\nChange-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-09-12 22:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1b112da11176fc71b620d4570cbe3656f5619ba', 'message': ""objects: Add 'InstanceNUMATopology.cpu_pinning' property\n\nProvide an easy way to extract all pinned CPUs from an instance's\n'InstanceNUMATopology' object\n\nChange-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-09-13 08:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e92c6cb9dd6700ef9ae3f275db2c5f4cbe0d02c8', 'message': ""objects: Add 'InstanceNUMATopology.cpu_pinning' property\n\nProvide an easy way to extract all pinned CPUs from an instance's\n'InstanceNUMATopology' object\n\nChange-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-09-17 23:23:12.000000000', 'files': ['nova/tests/unit/objects/test_instance_numa.py', 'nova/objects/instance_numa.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8c590cb3e493c92a355d4b50e3761309bd69baf7', 'message': ""objects: Add 'InstanceNUMATopology.cpu_pinning' property\n\nProvide an easy way to extract all pinned CPUs from an instance's\n'InstanceNUMATopology' object\n\nChange-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",6,680106,8c590cb3e493c92a355d4b50e3761309bd69baf7,216,20,8,15334,,,0,"objects: Add 'InstanceNUMATopology.cpu_pinning' property

Provide an easy way to extract all pinned CPUs from an instance's
'InstanceNUMATopology' object

Change-Id: I4b6fb4e239af6d73a07e48339fcbb316aa35cb66
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/680106/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_instance_numa.py', 'nova/objects/instance_numa.py']",2,71ba0f65f4821cd011f22c9c10f688f854d03317,bp/cpu-resources,"import itertools def cpu_pinning(self): """"""Return a set of all host CPUs this NUMATopology is pinned to."""""" return set(itertools.chain.from_iterable([ cell.cpu_pinning.values() for cell in self.cells if cell.cpu_pinning])) @property",,19,0
openstack%2Ftrove~master~I3d909082fb887b24ed25c93e11792031d5053b1e,openstack/trove,master,I3d909082fb887b24ed25c93e11792031d5053b1e,Add image build experimental CI job,MERGED,2019-09-16 01:19:37.000000000,2019-09-19 13:59:42.000000000,2019-09-19 13:51:58.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 01:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4d3ee3655dfd24a1f85d1be0711251740be0246e', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 2, 'created': '2019-09-16 10:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/39a152b06664eafcd8dc8838726dbef44e5eefa8', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 3, 'created': '2019-09-16 11:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/60152ae5758481e00a7dcfe1b042c6efa4e55b5a', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 4, 'created': '2019-09-16 11:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5061c094c07baa1d01194ef7c001f01c3c401e06', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 5, 'created': '2019-09-16 19:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3af9744e291f5b8ac267b4b6834496d7eb84dcda', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 6, 'created': '2019-09-16 19:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/05c58dd7587823c5ea1459a45e9e794b57c0896a', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 7, 'created': '2019-09-16 23:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/48d517b3b3c04111890c4e2d926368ad527c8f2d', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 8, 'created': '2019-09-17 03:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1a080a634ea605434f3e50fa5b1bba1fd41755db', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 9, 'created': '2019-09-17 03:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8cbabc3d5ce9e2c5db9108d47849e4620af61915', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 10, 'created': '2019-09-17 10:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8c214c62166dbb1a5a4690743c8818a6b24f7d2f', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}, {'number': 11, 'created': '2019-09-17 10:23:53.000000000', 'files': ['playbooks/image-build/run.yaml', 'integration/scripts/trovestack', '.zuul.yaml', 'doc/source/admin/trovestack.rst', 'playbooks/image-build/post.yaml', 'devstack/plugin.sh', 'integration/scripts/functions_qemu'], 'web_link': 'https://opendev.org/openstack/trove/commit/0cdf8b20b664abd26bd25483ead82eaf3640a36d', 'message': 'Add image build experimental CI job\n\nStory: 2006553\nTask: 36637\nChange-Id: I3d909082fb887b24ed25c93e11792031d5053b1e\n'}]",2,682261,0cdf8b20b664abd26bd25483ead82eaf3640a36d,58,2,11,6732,,,0,"Add image build experimental CI job

Story: 2006553
Task: 36637
Change-Id: I3d909082fb887b24ed25c93e11792031d5053b1e
",git fetch https://review.opendev.org/openstack/trove refs/changes/61/682261/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/image-build/run.yaml', 'integration/scripts/trovestack', '.zuul.yaml', 'playbooks/image-build/post.yaml', 'integration/scripts/functions_qemu']",5,4d3ee3655dfd24a1f85d1be0711251740be0246e,image-job," local datastore_type=$1 local guest_os=$2 local guest_release=$3 local dev_mode=$4 local guest_username=$5 local image_output=$6 local elementes=""base vm"" local trove_elements_path=${PATH_TROVE}/integration/scripts/files/elements local GUEST_IMAGETYPE=${GUEST_IMAGETYPE:-""qcow2""} local GUEST_IMAGESIZE=${GUEST_IMAGESIZE:-4} local GUEST_CACHEDIR=${GUEST_CACHEDIR:-""$HOME/.cache/image-create""} local working_dir=$(dirname ${image_output}) export HOST_SCP_USERNAME=${HOST_SCP_USERNAME:-$(whoami)} TEMP=$(mktemp -d ${working_dir}/diskimage-create.XXXXXXX) sudo rm -rf $TEMP exclaim ""Params for build_guest_image function: $@"" local datastore_type=${1:-""mysql""} local guest_os=${2:-""ubuntu""} local guest_release=${3:-""xenial""} local dev_mode=${4:-""true""} local guest_username=${5:-""ubuntu""} local output=$6 build_vm ${datastore_type} ${guest_os} ${guest_release} ${dev_mode} ${guest_username} ${output}"," datastore_type=$1 guest_os=$2 guest_release=$3 dev_mode=$4 guest_username=$5 image_output=$6 elementes=""base vm"" trove_elements_path=${PATH_TROVE}/integration/scripts/files/elements GUEST_IMAGETYPE=${GUEST_IMAGETYPE:-""qcow2""} GUEST_IMAGESIZE=${GUEST_IMAGESIZE:-4} GUEST_CACHEDIR=${GUEST_CACHEDIR:-""$HOME/.cache/image-create""} GUEST_WORKING_DIR=${GUEST_WORKING_DIR:-""$HOME/images""} export HOST_SCP_USERNAME=$(whoami) if [ ""${GUEST_WORKING_DIR}"" ]; then mkdir -p ${GUEST_WORKING_DIR} TEMP=$(mktemp -d ${GUEST_WORKING_DIR}/diskimage-create.XXXXXX) else TEMP=$(mktemp -d diskimage-create.XXXXXX) fi rm -rf $TEMP datastore_type=${1:-""mysql""} guest_os=${2:-""ubuntu""} guest_release=${3:-""xenial""} dev_mode=${4:-""true""} guest_username=${5:-""ubuntu""} exclaim ""Building a ${datastore_type} image of trove guest agent for ${guest_os} ${guest_release}, dev_mode=${dev_mode}"" image_name=${guest_os}-${datastore_type} image_folder=$HOME/images mkdir -p $image_folder image_path=${image_folder}/${image_name} # Always rebuild the image. rm -rf ${image_folder}/* build_vm ${datastore_type} ${guest_os} ${guest_release} ${dev_mode} ${guest_username} ${image_path}",86,38
openstack%2Fcyborg~master~I3984fc7a91467db7b8cc9b624fdf6a627dff7716,openstack/cyborg,master,I3984fc7a91467db7b8cc9b624fdf6a627dff7716,bug fixing: let FPGA driver report correct traits when no SRIOV enabled,MERGED,2019-09-09 09:28:36.000000000,2019-09-19 13:56:45.000000000,2019-09-19 13:52:07.000000000,"[{'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-09-09 09:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f989dba1552b5609e21286d1e42a59639daf540d', 'message': 'bug fixing: let FPGA driver report correct traits when no SRIOV enabled\n\nBug: when compute node did not enable SRIOV, only have PF on this\nnode, this driver cannot discover region and function ID traits in\ndriver_attribute objest.\nThis patch has fixed this bug.\n\nChange-Id: I3984fc7a91467db7b8cc9b624fdf6a627dff7716\n'}, {'number': 2, 'created': '2019-09-10 08:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/77f7e4a6fd39c5d3d23c4a35d5e8329dbbcd028d', 'message': 'bug fixing: let FPGA driver report correct traits when no SRIOV enabled\n\nBug: when compute node did not enable SRIOV, only have PF on this\nnode, this driver cannot discover region and function ID traits in\ndriver_attribute objest.\nThis patch has fixed this bug.\n\nChange-Id: I3984fc7a91467db7b8cc9b624fdf6a627dff7716\n'}, {'number': 3, 'created': '2019-09-19 01:57:25.000000000', 'files': ['cyborg/accelerator/drivers/fpga/intel/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d4492323306f5b7c4f93b0ed05665b6e82db3ec4', 'message': 'bug fixing: let FPGA driver report correct traits when no SRIOV enabled\n\nBug: when compute node did not enable SRIOV, only have PF on this\nnode, this driver cannot discover region and function ID traits in\ndriver_attribute objest.\nThis patch has fixed this bug.\n\nChange-Id: I3984fc7a91467db7b8cc9b624fdf6a627dff7716\n'}]",6,680953,d4492323306f5b7c4f93b0ed05665b6e82db3ec4,17,6,3,25738,,,0,"bug fixing: let FPGA driver report correct traits when no SRIOV enabled

Bug: when compute node did not enable SRIOV, only have PF on this
node, this driver cannot discover region and function ID traits in
driver_attribute objest.
This patch has fixed this bug.

Change-Id: I3984fc7a91467db7b8cc9b624fdf6a627dff7716
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/53/680953/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/drivers/fpga/intel/sysinfo.py'],1,f989dba1552b5609e21286d1e42a59639daf540d,bug-fixing," for i in get_afu_ids(device_name): l = ""CUSTOM_FPGA_FUNCTION_ID_INTEL_"" + i.upper() traits.append(l) for i in get_region_ids(device_name): l = ""CUSTOM_FPGA_REGION_INTEL_"" + i.upper() traits.append(l)"," else: for i in get_afu_ids(device_name): l = ""CUSTOM_FPGA_FUNCTION_ID_INTEL_"" + i.upper() traits.append(l) for i in get_region_ids(device_name): l = ""CUSTOM_FPGA_REGION_INTEL_"" + i.upper() traits.append(l)",6,7
openstack%2Fblazar~master~I6ce3df84a063d2189f9fc4c6077accea7ac9560c,openstack/blazar,master,I6ce3df84a063d2189f9fc4c6077accea7ac9560c,Remove CRLF line terminators,MERGED,2019-09-16 16:27:43.000000000,2019-09-19 13:51:34.000000000,2019-09-19 13:43:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-09-16 16:27:43.000000000', 'files': ['doc/source/reference/api-microversion-history.rst'], 'web_link': 'https://opendev.org/openstack/blazar/commit/9a7cb65e6a43918529d479d640c273541f1b049b', 'message': 'Remove CRLF line terminators\n\nChange-Id: I6ce3df84a063d2189f9fc4c6077accea7ac9560c\n'}]",0,682405,9a7cb65e6a43918529d479d640c273541f1b049b,7,2,1,15197,,,0,"Remove CRLF line terminators

Change-Id: I6ce3df84a063d2189f9fc4c6077accea7ac9560c
",git fetch https://review.opendev.org/openstack/blazar refs/changes/05/682405/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/api-microversion-history.rst'],1,9a7cb65e6a43918529d479d640c273541f1b049b,,.. include:: ../../../blazar/api/v1/rest_api_version_history.rst,.. include:: ../../../blazar/api/v1/rest_api_version_history.rst ,1,1
openstack%2Fkolla-ansible~stable%2Frocky~I084b5cf05a786bde76cbf82381ba5f69cd5bce19,openstack/kolla-ansible,stable/rocky,I084b5cf05a786bde76cbf82381ba5f69cd5bce19,[designate] Fix admin api configuration,MERGED,2019-09-19 09:23:18.000000000,2019-09-19 13:50:17.000000000,2019-09-19 13:42:52.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-19 09:23:18.000000000', 'files': ['ansible/roles/designate/templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d687284d7eac5f498420058922f107259e04d4e8', 'message': '[designate] Fix admin api configuration\n\nThe admin api was never actually enabled,\nand the admin extensions were added to the wrong\nextension namespace.\n\nChange-Id: I084b5cf05a786bde76cbf82381ba5f69cd5bce19\n(cherry picked from commit 7d066971f23b452af0f44c4e10886d551abd5185)\n'}]",0,683073,d687284d7eac5f498420058922f107259e04d4e8,8,4,1,14826,,,0,"[designate] Fix admin api configuration

The admin api was never actually enabled,
and the admin extensions were added to the wrong
extension namespace.

Change-Id: I084b5cf05a786bde76cbf82381ba5f69cd5bce19
(cherry picked from commit 7d066971f23b452af0f44c4e10886d551abd5185)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/683073/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/designate/templates/designate.conf.j2'],1,d687284d7eac5f498420058922f107259e04d4e8,,"enable_api_admin = Trueenabled_extensions_admin = quotas, reports","enabled_extensions_v2 = 'quotas, reports'",2,1
openstack%2Fproject-config~master~I07b27a97f7281af60ac64948dd69a5266c8f6114,openstack/project-config,master,I07b27a97f7281af60ac64948dd69a5266c8f6114,Add promote job for starlingx/docs,MERGED,2019-09-19 08:45:23.000000000,2019-09-19 13:38:14.000000000,2019-09-19 13:38:14.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 08:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f0fba35a5fb5eead94a750ccf0bcf4969d6889b', 'message': 'Add promote job for starlingx/docs\n\nThe docs repo publishes to / not to /docs, add a new promote job.\n\nChange-Id: I07b27a97f7281af60ac64948dd69a5266c8f6114\n'}, {'number': 2, 'created': '2019-09-19 12:04:55.000000000', 'files': ['zuul.d/secrets.yaml', 'zuul.d/starlingx-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e8011a79ea8693a501c866ca7a0f0ef07016309e', 'message': 'Add promote job for starlingx/docs\n\nThe docs repo publishes to / not to /docs, add a new promote job.\n\nChange-Id: I07b27a97f7281af60ac64948dd69a5266c8f6114\n'}]",2,683059,e8011a79ea8693a501c866ca7a0f0ef07016309e,11,4,2,6547,,,0,"Add promote job for starlingx/docs

The docs repo publishes to / not to /docs, add a new promote job.

Change-Id: I07b27a97f7281af60ac64948dd69a5266c8f6114
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/683059/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/secrets.yaml', 'zuul.d/starlingx-jobs.yaml']",2,2f0fba35a5fb5eead94a750ccf0bcf4969d6889b,fix-starlingx-docs," name: promote-stx-tox-docs-site parent: opendev-promote-docs-base description: | Promote content from openstack-tox-docs job for starlingx. Publish the results of a sphinx build to /afs/.openstack.org/project/starlingx.io/www Publishes depending on branch to / (for master), or the name of the branch. final: true vars: download_artifact_job: openstack-tox-docs allowed-projects: - starlingx/docs secrets: - secret: afsdocs_secret-stx-tox-docs-site name: afs pass-to-parent: true - job:",,41,0
openstack%2Fdevstack~stable%2Focata~Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,openstack/devstack,stable/ocata,Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,Fix rdo-release install,MERGED,2019-09-02 11:56:27.000000000,2019-09-19 13:37:49.000000000,2019-09-19 13:37:48.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 25290}]","[{'number': 1, 'created': '2019-09-02 11:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6c346d2e22dd41f0f9756479e35d2d615d5d891c', 'message': 'Fix rdo-release install\n\nThe URL for rdo-release package is version-less and redirects to latest\nstable version. This becomes problematic when stacking older stable\nversions as dependencies might not be met or newer and incompatibile\nones might get installed.\n\nCloses-Bug: #1833696\n\nChange-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1\n(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)\n(cherry picked from commit fb3b6e4baa5a990da70c8b43bca181959a610278)\n(cherry picked from commit ed120e335fadc901f9547e347e3c3a51b278bc73)\n(cherry picked from commit 6f3696c1680f59c60609d7037983e6cda5d5cdd3)\n'}, {'number': 2, 'created': '2019-09-02 12:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26e5ff13c21201944d84102b191a1f560c3f04fc', 'message': 'Fix rdo-release install\n\nThe URL for rdo-release package is version-less and redirects to latest\nstable version. This becomes problematic when stacking older stable\nversions as dependencies might not be met or newer and incompatibile\nones might get installed.\n\nCloses-Bug: #1833696\n\nChange-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1\n(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)\n(cherry picked from commit fb3b6e4baa5a990da70c8b43bca181959a610278)\n(cherry picked from commit ed120e335fadc901f9547e347e3c3a51b278bc73)\n(cherry picked from commit 6f3696c1680f59c60609d7037983e6cda5d5cdd3)\n'}, {'number': 3, 'created': '2019-09-17 07:01:25.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a70d84ceed38d6933176f42b6b3c2064e8d78c33', 'message': 'Fix rdo-release install\n\nThe URL for rdo-release package is version-less and redirects to latest\nstable version. This becomes problematic when stacking older stable\nversions as dependencies might not be met or newer and incompatibile\nones might get installed.\n\nCloses-Bug: #1833696\n\nChange-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1\n(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)\n(cherry picked from commit fb3b6e4baa5a990da70c8b43bca181959a610278)\n(cherry picked from commit ed120e335fadc901f9547e347e3c3a51b278bc73)\n(cherry picked from commit 6f3696c1680f59c60609d7037983e6cda5d5cdd3)\n'}]",0,679628,a70d84ceed38d6933176f42b6b3c2064e8d78c33,16,4,3,25290,,,0,"Fix rdo-release install

The URL for rdo-release package is version-less and redirects to latest
stable version. This becomes problematic when stacking older stable
versions as dependencies might not be met or newer and incompatibile
ones might get installed.

Closes-Bug: #1833696

Change-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1
(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)
(cherry picked from commit fb3b6e4baa5a990da70c8b43bca181959a610278)
(cherry picked from commit ed120e335fadc901f9547e347e3c3a51b278bc73)
(cherry picked from commit 6f3696c1680f59c60609d7037983e6cda5d5cdd3)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/28/679628/3 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,6c346d2e22dd41f0f9756479e35d2d615d5d891c,fix-rdo-install," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then yum_install https://rdoproject.org/repos/rdo-release.rpm else # Get latest rdo-release-$rdo_release RPM package version rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") yum_install https://rdoproject.org/repos/openstack-$rdo_release/rdo-release-$rdo_release.rpm fi", yum_install https://rdoproject.org/repos/rdo-release.rpm,7,1
openstack%2Fdevstack~master~Ic1a94a946012fd2bf31c60f45886626a5196007b,openstack/devstack,master,Ic1a94a946012fd2bf31c60f45886626a5196007b,WIP: Configure tempest flavors with a required trait,ABANDONED,2019-09-12 21:45:22.000000000,2019-09-19 13:34:17.000000000,,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 21:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/35a2d5de8f4357d08d65eccdcc7396705971ae52', 'message': 'WIP: Configure tempest flavors with a required trait\n\nThere was a regression in the libvirt compute driver such\nthat trying to create a server with any required trait will\nfail. This was not caught in nova functional tests since they\nuse the fake compute driver. This is a simple devstack change\nto recreate the bug.\n\nChange-Id: Ic1a94a946012fd2bf31c60f45886626a5196007b\nRelated-Bug: #1843836\n'}, {'number': 2, 'created': '2019-09-13 15:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5becad971cb84e730040deb078949ea81f0819a7', 'message': 'WIP: Configure tempest flavors with a required trait\n\nThere was a regression in the libvirt compute driver such\nthat trying to create a server with any required trait will\nfail. This was not caught in nova functional tests since they\nuse the fake compute driver. This is a simple devstack change\nto recreate the bug.\n\nTo tickle the bug we have to configure nova-compute with\na custom cpu_model and a cpu_model_extra_flags value.\n\nChange-Id: Ic1a94a946012fd2bf31c60f45886626a5196007b\nRelated-Bug: #1843836\n'}, {'number': 3, 'created': '2019-09-18 16:16:26.000000000', 'files': ['lib/nova_plugins/hypervisor-libvirt', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8ae43dfc669046c0619359d8b8b0c33887f0c064', 'message': 'WIP: Configure tempest flavors with a required trait\n\nThere was a regression in the libvirt compute driver such\nthat trying to create a server with any required trait will\nfail. This was not caught in nova functional tests since they\nuse the fake compute driver. This is a simple devstack change\nto recreate the bug.\n\nTo tickle the bug we have to configure nova-compute with\na custom cpu_model and a cpu_model_extra_flags value.\n\nDepends-On: https://review.opendev.org/681932/\n\nChange-Id: Ic1a94a946012fd2bf31c60f45886626a5196007b\nRelated-Bug: #1843836\n'}]",0,681938,8ae43dfc669046c0619359d8b8b0c33887f0c064,13,3,3,6873,,,0,"WIP: Configure tempest flavors with a required trait

There was a regression in the libvirt compute driver such
that trying to create a server with any required trait will
fail. This was not caught in nova functional tests since they
use the fake compute driver. This is a simple devstack change
to recreate the bug.

To tickle the bug we have to configure nova-compute with
a custom cpu_model and a cpu_model_extra_flags value.

Depends-On: https://review.opendev.org/681932/

Change-Id: Ic1a94a946012fd2bf31c60f45886626a5196007b
Related-Bug: #1843836
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/681938/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,35a2d5de8f4357d08d65eccdcc7396705971ae52,bug/1843836, openstack flavor create --id 42 --ram 64 --disk $disk \ --property trait:COMPUTE_NET_ATTACH_INTERFACE=required \ --vcpus 1 m1.nano openstack flavor create --id 84 --ram 128 --disk $disk \ --property trait:COMPUTE_NET_ATTACH_INTERFACE=required \ --vcpus 1 m1.micro, openstack flavor create --id 42 --ram 64 --disk $disk --vcpus 1 m1.nano openstack flavor create --id 84 --ram 128 --disk $disk --vcpus 1 m1.micro,6,2
openstack%2Fproject-config~master~I87a8d47388c211a1cfd672f97980f5687b7ad8bd,openstack/project-config,master,I87a8d47388c211a1cfd672f97980f5687b7ad8bd,Add repos to opendev tenant for system-config jobs,MERGED,2019-09-19 12:59:04.000000000,2019-09-19 13:32:42.000000000,2019-09-19 13:32:42.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 12:59:04.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/68f8292ffe39fd7aca3df189a64af5e3596c7a66', 'message': 'Add repos to opendev tenant for system-config jobs\n\nA system-config job needs to add jeepyb, ansible and zone-opendev\nto require-projects for the job imports to be happy.\n\nChange-Id: I87a8d47388c211a1cfd672f97980f5687b7ad8bd\n'}]",0,683146,68f8292ffe39fd7aca3df189a64af5e3596c7a66,7,3,1,2,,,0,"Add repos to opendev tenant for system-config jobs

A system-config job needs to add jeepyb, ansible and zone-opendev
to require-projects for the job imports to be happy.

Change-Id: I87a8d47388c211a1cfd672f97980f5687b7ad8bd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/683146/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,68f8292ffe39fd7aca3df189a64af5e3596c7a66,," - include: [] projects: - opendev/jeepyb - opendev/zone-opendev.org - openstack/magnum github: untrusted-projects: # Don't load any configuration from these projects because we # don't gate them, so they could wedge our config. - include: [] projects: # Sorting projects alphabetically will help merge conflicts. - ansible/ansible", - openstack/magnum: include: [],13,2
openstack%2Fnova~master~I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252,openstack/nova,master,I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252,libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available',MERGED,2019-07-25 11:00:59.000000000,2019-09-19 13:22:06.000000000,2019-09-19 11:33:47.000000000,"[{'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28743}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-25 11:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f120cadaa16f4e9feff31d6ed9a81d9038fc9a48', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-08-01 18:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e5072f63d74df6b77526aa12c7c96695f107481', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-08-06 09:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d61c584cf4d624be0147421cf203db1ad56b94a', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-08-06 11:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd0d1f241a21f674ef7459db76dbab7b97ee677f', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-08-20 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30f489aebad037593143178e9c8208c6307fdbac', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-08-20 17:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c79cd9b76237c019ad4ba6684af5d29e1db3e60a', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-08-20 20:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b40b0b98de35dc14bb9898bfaf151284b742147', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-08-22 15:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/096ec19d28cae947699038423e1bfd90013baf14', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-08-22 18:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71ad71bcdb4336f4147937348278203796dfd2e3', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-08-23 16:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7bb3fbe3214a6aee83429ef1ebf2d05f435c6a6', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-08-23 16:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d4317d1e3a303fbba6a2a6d6b420fa89d869603', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2019-08-26 03:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd8dd9d367c84aa213d1a1c4dba62cf22f7ffa15', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 13, 'created': '2019-08-27 16:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/281134d927fa9b7f55acbe7763c8510c67075e02', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 14, 'created': '2019-09-02 10:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c81417d4a8c5adad13844f70d1939f14882550f8', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 15, 'created': '2019-09-03 10:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d59e9a4676d8f3df6e29b89e329a72d299a848a', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 16, 'created': '2019-09-03 14:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b66d94610acd353d5b363ae61a84f5c2dc0bfd14', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 17, 'created': '2019-09-04 17:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f56da6d540ff185bda149ed0b78b91d0a3e5cc2', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 18, 'created': '2019-09-10 12:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b56e9b57222d0851dd1afcfc76fb1bead05aeb', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 19, 'created': '2019-09-10 12:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bd7ffdc51a7e87d79080c82d4e38a3a4f23b3e8', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 20, 'created': '2019-09-10 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/651e701d02d4eda4bed7b0dcd3475ff385783e5c', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 21, 'created': '2019-09-11 23:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6dbb0689186ac3b43961e98bc89544068887537', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 22, 'created': '2019-09-12 22:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c8556b07f8bb34c10ad9ce3bbf33d0c0b4d7c98', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 23, 'created': '2019-09-13 08:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/358bf98f6e30290e70db81a08b39f0a88e365914', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 24, 'created': '2019-09-17 23:23:12.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8310c0ec9f5e1139b7269be316555faf296575bf', 'message': ""libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'\n\nWe're going to need easier access to the IDs of host cores that can be\nused for PCPUs going forward. Rename both '_get_pcpu_total' and\n'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',\nrespectively, making some minor modifications to ensure the correct\nvalue is returned..\n\nThe 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'\nsince it no longer has any callers.\n\nChange-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",17,672693,8310c0ec9f5e1139b7269be316555faf296575bf,309,23,24,15334,,,0,"libvirt: '_get_(v|p)cpu_total' to '_get_(v|p)cpu_available'

We're going to need easier access to the IDs of host cores that can be
used for PCPUs going forward. Rename both '_get_pcpu_total' and
'_get_vcpu_total' to '_get_pcpu_available' and '_get_vcpu_available',
respectively, making some minor modifications to ensure the correct
value is returned..

The 'get_cpu_count' function is removed from 'nova.virt.libvirt.host'
since it no longer has any callers.

Change-Id: I98efdc61fd456fc7f9e1a85238c9ef9bc04a1252
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/672693/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,f120cadaa16f4e9feff31d6ed9a81d9038fc9a48,bp/cpu-resources," @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([0, 1, 2, 3])) def test_get_pcpu_available(self, get_online_cpus): vcpus = drvr._get_pcpu_available() self.assertEqual(set([0, 1, 2, 3]), vcpus) def test_get_pcpu_available__with_cpu_dedicated_set(self, get_online_cpus): pcpus = drvr._get_pcpu_available() self.assertEqual(set([4, 5]), pcpus) def test_get_pcpu_available__with_vcpu_pin_set(self, get_online_cpus): pcpus = drvr._get_pcpu_available() self.assertEqual(set([4, 5]), pcpus) def test_get_pcpu_available__with_cpu_shared_set(self, get_online_cpus): pcpus = drvr._get_pcpu_available() self.assertEqual(set([]), pcpus) def test_get_pcpu_available__cpu_dedicated_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_pcpu_available) def test_get_pcpu_available__vcpu_pin_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_pcpu_available) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([0, 1, 2, 3])) def test_get_vcpu_available(self, get_online_cpus): vcpus = drvr._get_vcpu_available() self.assertEqual(set([0, 1, 2, 3]), vcpus) def test_get_vcpu_available__with_cpu_shared_set(self, get_online_cpus): vcpus = drvr._get_vcpu_available() self.assertEqual(set([4, 5]), vcpus) def test_get_vcpu_available__with_vcpu_pin_set(self, get_online_cpus): vcpus = drvr._get_vcpu_available() self.assertEqual(set([4, 5]), vcpus) def test_get_vcpu_available__with_cpu_dedicated_set(self, get_online_cpus): vcpus = drvr._get_vcpu_available() self.assertEqual(set([]), vcpus) def test_get_vcpu_available__cpu_shared_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_vcpu_available) def test_get_vcpu_available__vcpu_pin_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_vcpu_available) def _get_pcpu_available(self): return [0] def _get_vcpu_available(self): return [1] @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', new=mock.Mock(return_value=range(pcpus))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available', new=mock.Mock(return_value=range(vcpus))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', new=mock.Mock(return_value=range(pcpus))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available', new=mock.Mock(return_value=range(vcpus))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', new=mock.Mock(return_value=range(pcpus))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available', new=mock.Mock(return_value=range(vcpus))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', new=mock.Mock(return_value=range(pcpus))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available', new=mock.Mock(return_value=range(vcpus)))"," @mock.patch('nova.virt.libvirt.host.Host.get_cpu_count', return_value=4) def test_get_pcpu_total(self, get_cpu_count): vcpus = drvr._get_pcpu_total() self.assertEqual(4, vcpus) def test_get_pcpu_total__with_cpu_dedicated_set(self, get_online_cpus): pcpus = drvr._get_pcpu_total() self.assertEqual(2, pcpus) def test_get_pcpu_total__with_vcpu_pin_set(self, get_online_cpus): pcpus = drvr._get_pcpu_total() self.assertEqual(2, pcpus) def test_get_pcpu_total__with_cpu_shared_set(self, get_online_cpus): pcpus = drvr._get_pcpu_total() self.assertEqual(0, pcpus) def test_get_pcpu_total__cpu_dedicated_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_pcpu_total) def test_get_pcpu_total__vcpu_pin_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_pcpu_total) @mock.patch('nova.virt.libvirt.host.Host.get_cpu_count', return_value=4) def test_get_vcpu_total(self, get_cpu_count): vcpus = drvr._get_vcpu_total() self.assertEqual(4, vcpus) def test_get_vcpu_total__with_cpu_shared_set(self, get_online_cpus): vcpus = drvr._get_vcpu_total() self.assertEqual(2, vcpus) def test_get_vcpu_total__with_vcpu_pin_set(self, get_online_cpus): vcpus = drvr._get_vcpu_total() self.assertEqual(2, vcpus) def test_get_vcpu_total__with_cpu_dedicated_set(self, get_online_cpus): vcpus = drvr._get_vcpu_total() self.assertEqual(0, vcpus) def test_get_vcpu_total__cpu_shared_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_vcpu_total) def test_get_vcpu_total__vcpu_pin_set_invalid(self, get_online_cpus): self.assertRaises(exception.Invalid, drvr._get_vcpu_total) def _get_pcpu_total(self): return 0 def _get_vcpu_total(self): return 1 @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', new=mock.Mock(return_value=pcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total', new=mock.Mock(return_value=vcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', new=mock.Mock(return_value=pcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total', new=mock.Mock(return_value=vcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', new=mock.Mock(return_value=pcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total', new=mock.Mock(return_value=vcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', new=mock.Mock(return_value=pcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total', new=mock.Mock(return_value=vcpus))",75,98
openstack%2Ftripleo-validations~master~Ic6b497b033f52342eb9dcdbdec84c406efecb5ac,openstack/tripleo-validations,master,Ic6b497b033f52342eb9dcdbdec84c406efecb5ac,Deprecation of the ceilometerdb-size validation,MERGED,2019-09-06 14:06:41.000000000,2019-09-19 13:03:09.000000000,2019-09-19 13:01:43.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-09-06 14:06:41.000000000', 'files': ['releasenotes/notes/ceilometerdb-size_deprecation-c4b7e28bdfa5862d.yaml', 'playbooks/ceilometerdb-size.yaml', 'roles/ceilometerdb-size/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e942cd83d742f8951aad5c1ad0696789e1890f00', 'message': 'Deprecation of the ceilometerdb-size validation\n\nDue to the Panko deprecation for the Train release.\n\nChange-Id: Ic6b497b033f52342eb9dcdbdec84c406efecb5ac\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,680694,e942cd83d742f8951aad5c1ad0696789e1890f00,12,6,1,11491,,,0,"Deprecation of the ceilometerdb-size validation

Due to the Panko deprecation for the Train release.

Change-Id: Ic6b497b033f52342eb9dcdbdec84c406efecb5ac
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/94/680694/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceilometerdb-size_deprecation-c4b7e28bdfa5862d.yaml', 'playbooks/ceilometerdb-size.yaml', 'roles/ceilometerdb-size/tasks/main.yml']",3,e942cd83d742f8951aad5c1ad0696789e1890f00,ceilometerdb-size-deprecation,- name: Deprecation WARNING warn: msg: >- Panko has been deprecated since the Train Release. The 'ceilometerdb-size' validation is now considered as deprecated too. ,,14,1
openstack%2Fmanila-ui~stable%2Ftrain~I3aebac136a8fb94e96102c56a586f01b7f7bbac7,openstack/manila-ui,stable/train,I3aebac136a8fb94e96102c56a586f01b7f7bbac7,Imported Translations from Zanata,MERGED,2019-09-19 11:24:50.000000000,2019-09-19 12:48:21.000000000,2019-09-19 12:46:43.000000000,"[{'_account_id': 6547}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 11:24:50.000000000', 'files': ['manila_ui/locale/id/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/ko_KR/LC_MESSAGES/django.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/ru/LC_MESSAGES/django.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/zh_CN/LC_MESSAGES/django.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/cs/LC_MESSAGES/django.po', 'manila_ui/locale/de/LC_MESSAGES/django.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po', 'manila_ui/locale/pt_BR/LC_MESSAGES/django.po', 'manila_ui/locale/tr_TR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/e6ec663a700f2591321e01ef2d9adda0d8aa8ae8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3aebac136a8fb94e96102c56a586f01b7f7bbac7\n'}]",0,683110,e6ec663a700f2591321e01ef2d9adda0d8aa8ae8,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3aebac136a8fb94e96102c56a586f01b7f7bbac7
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/10/683110/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/locale/id/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/ko_KR/LC_MESSAGES/django.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/ru/LC_MESSAGES/django.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/zh_CN/LC_MESSAGES/django.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/cs/LC_MESSAGES/django.po', 'manila_ui/locale/de/LC_MESSAGES/django.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po', 'manila_ui/locale/pt_BR/LC_MESSAGES/django.po', 'manila_ui/locale/tr_TR/LC_MESSAGES/django.po']",18,e6ec663a700f2591321e01ef2d9adda0d8aa8ae8,zanata/translations,"""POT-Creation-Date: 2019-09-14 02:03+0000\n""","""POT-Creation-Date: 2018-04-18 02:02+0000\n""msgid ""Unable to retrieve replica %sdetails."" msgstr ""Kopya %s ayrıntıları alınamadı."" #, python-format",20,899
openstack%2Foctavia-tempest-plugin~master~I39a63584793c1f0aca7a74f01649dd5618d5829e,openstack/octavia-tempest-plugin,master,I39a63584793c1f0aca7a74f01649dd5618d5829e,Associate floating IP after lb ACTIVE,MERGED,2019-09-15 11:08:07.000000000,2019-09-19 12:47:56.000000000,2019-09-19 12:46:27.000000000,"[{'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-15 11:08:07.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2eba544d21c187e8af4194d00353d8f13484f013', 'message': 'Associate floating IP after lb ACTIVE\n\nThere was a chance that the `device_owner` of VIP port changed to\n`compute:None` which blocks the VIP subnet clean up, this patch fixed\nthat.\n\nChange-Id: I39a63584793c1f0aca7a74f01649dd5618d5829e\nStory: 2006551\nTask: 36634\n'}]",0,682240,2eba544d21c187e8af4194d00353d8f13484f013,20,5,1,6732,,,0,"Associate floating IP after lb ACTIVE

There was a chance that the `device_owner` of VIP port changed to
`compute:None` which blocks the VIP subnet clean up, this patch fixed
that.

Change-Id: I39a63584793c1f0aca7a74f01649dd5618d5829e
Story: 2006551
Task: 36634
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/40/682240/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'],1,2eba544d21c187e8af4194d00353d8f13484f013,fix," waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.lb_build_interval, CONF.load_balancer.lb_build_timeout) "," waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.lb_build_interval, CONF.load_balancer.lb_build_timeout) ",6,6
openstack%2Fglance_store~master~I688e39e3b85873c1e0e46887fd5230a89a9fedad,openstack/glance_store,master,I688e39e3b85873c1e0e46887fd5230a89a9fedad,Add support for using ceph RBD ereasure code,ABANDONED,2019-09-10 09:12:58.000000000,2019-09-19 12:32:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 30950}]","[{'number': 1, 'created': '2019-09-10 09:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a0a01631fffae4cf6a68bc89f4cbef9daa0ba37b', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I688e39e3b85873c1e0e46887fd5230a89a9fedad\n'}, {'number': 2, 'created': '2019-09-11 00:41:59.000000000', 'files': ['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/tests/unit/test_rbd_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bb8d473980f431db49a5d98a42f55a385b241d19', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I688e39e3b85873c1e0e46887fd5230a89a9fedad\n'}]",0,681189,bb8d473980f431db49a5d98a42f55a385b241d19,6,2,2,30950,,,0,"Add support for using ceph RBD ereasure code

Implements: blueprint support-ec-for-ceph-rbd
Change-Id: I688e39e3b85873c1e0e46887fd5230a89a9fedad
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/89/681189/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_opts.py']",2,a0a01631fffae4cf6a68bc89f4cbef9daa0ba37b,wip-support-ceph-ec," 'rbd_store_data_pool',",,19,1
openstack%2Fnova~master~I2e5f8ed2e534283ace59b6333c3ecfddf23d6aac,openstack/nova,master,I2e5f8ed2e534283ace59b6333c3ecfddf23d6aac,Add support for using ceph RBD ereasure code,ABANDONED,2019-09-10 09:11:35.000000000,2019-09-19 12:32:29.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30950}]","[{'number': 1, 'created': '2019-09-10 09:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85dc44d08baff918d72d298796e92baca8a8718f', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I2e5f8ed2e534283ace59b6333c3ecfddf23d6aac\n'}, {'number': 2, 'created': '2019-09-11 00:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4636f1d3b25fe9e5746e566234bdaf78bc5b0d99', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I2e5f8ed2e534283ace59b6333c3ecfddf23d6aac\n'}, {'number': 3, 'created': '2019-09-12 01:20:44.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/25752f89df7a5f97642632e25c4fe6913c1abb78', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I2e5f8ed2e534283ace59b6333c3ecfddf23d6aac\n'}]",0,681188,25752f89df7a5f97642632e25c4fe6913c1abb78,30,11,3,30950,,,0,"Add support for using ceph RBD ereasure code

Implements: blueprint support-ec-for-ceph-rbd
Change-Id: I2e5f8ed2e534283ace59b6333c3ecfddf23d6aac
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/681188/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/libvirt.py', 'nova/virt/libvirt/storage/rbd_utils.py']",2,85dc44d08baff918d72d298796e92baca8a8718f,," self.data_pool = CONF.libvirt.images_rbd_data_pool features=src_client.features, stripe_unit=None, stripe_count=None, data_pool=self.data_pool) args = ['--pool', self.pool, '--data-pool', self.data_pool, base, name] rbd_pool = self.data_pool if self.data_pool else self.pool if pool['name'] == rbd_pool: raise exception.NotFound('Pool %s could not be found.' % rbd_pool)"," features=src_client.features) args = ['--pool', self.pool, base, name] if pool['name'] == self.pool: raise exception.NotFound('Pool %s could not be found.' % self.pool)",14,4
openstack%2Fcinder~master~I9318792f48c327d96a561fb6e5b85690e8e3c470,openstack/cinder,master,I9318792f48c327d96a561fb6e5b85690e8e3c470,Add support for using ceph RBD ereasure code,ABANDONED,2019-09-10 09:08:02.000000000,2019-09-19 12:32:24.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30590}, {'_account_id': 30950}]","[{'number': 1, 'created': '2019-09-10 09:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b08c35223587fa427e4b4465b76174ea7ae8f926', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I9318792f48c327d96a561fb6e5b85690e8e3c470\n'}, {'number': 2, 'created': '2019-09-11 01:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7cb4154f9c31c3fc2215c08fcab9d9840eb96d4b', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I9318792f48c327d96a561fb6e5b85690e8e3c470\n'}, {'number': 3, 'created': '2019-09-12 01:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4df8b90242fbb869b654572cfd13a6f791095a90', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I9318792f48c327d96a561fb6e5b85690e8e3c470\n'}, {'number': 4, 'created': '2019-09-16 01:18:56.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'doc/source/configuration/block-storage/backup/ceph-backup-driver.rst', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1eb30aa81d49c203f86f648fe371090f292ef07', 'message': 'Add support for using ceph RBD ereasure code\n\nImplements: blueprint support-ec-for-ceph-rbd\nChange-Id: I9318792f48c327d96a561fb6e5b85690e8e3c470\n'}]",0,681187,b1eb30aa81d49c203f86f648fe371090f292ef07,84,22,4,30950,,,0,"Add support for using ceph RBD ereasure code

Implements: blueprint support-ec-for-ceph-rbd
Change-Id: I9318792f48c327d96a561fb6e5b85690e8e3c470
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/681187/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'doc/source/configuration/block-storage/backup/ceph-backup-driver.rst', 'cinder/backup/drivers/ceph.py']",3,b08c35223587fa427e4b4465b76174ea7ae8f926,," cfg.StrOpt('backup_ceph_data_pool', default='', help='The Ceph pool where volume backups data are stored, ' 'only set when using ceph ereasure code.'), self.rbd_data_pool = CONF.backup_ceph_data_pool self.rbd_data_pool = '' stripe_count=self.rbd_stripe_count, data_pool=self.rbd_data_pool) stripe_count=self.rbd_stripe_count, data_pool=self.rbd_data_pool)", stripe_count=self.rbd_stripe_count) stripe_count=self.rbd_stripe_count),38,10
openstack%2Ftooz~master~I1f571b9db7bb9acfb92a3c02de25de90629eb261,openstack/tooz,master,I1f571b9db7bb9acfb92a3c02de25de90629eb261,Handle unicode for hashing objects,ABANDONED,2019-09-12 08:30:45.000000000,2019-09-19 12:29:39.000000000,,"[{'_account_id': 6928}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-12 08:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/78e60adcad417bfd4067171b22a803bdf655513e', 'message': 'Handle unicode for hashing objects\n\nWhen hashing objects it would fail with special\ncharacters.\n\nChange-Id: I1f571b9db7bb9acfb92a3c02de25de90629eb261\nCloses-Bug: 1805119\n'}, {'number': 2, 'created': '2019-09-18 19:55:13.000000000', 'files': ['tooz/tests/test_partitioner.py', 'releasenotes/notes/handle-unicode-for-hashing-objects-29bfa5819891be03.yaml'], 'web_link': 'https://opendev.org/openstack/tooz/commit/17900a4215be41fb7ac3c723d5dd759132432727', 'message': 'Handle unicode for hashing objects\n\nWhen hashing objects it would fail with special\ncharacters.\n\nChange-Id: I1f571b9db7bb9acfb92a3c02de25de90629eb261\nCloses-Bug: 1805119\n'}]",1,681668,17900a4215be41fb7ac3c723d5dd759132432727,12,4,2,16137,,,0,"Handle unicode for hashing objects

When hashing objects it would fail with special
characters.

Change-Id: I1f571b9db7bb9acfb92a3c02de25de90629eb261
Closes-Bug: 1805119
",git fetch https://review.opendev.org/openstack/tooz refs/changes/68/681668/2 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/partitioner.py', 'tooz/tests/test_partitioner.py', 'releasenotes/notes/handle-unicode-for-hashing-objects-29bfa5819891be03.yaml']",3,78e60adcad417bfd4067171b22a803bdf655513e,bug/1805119,--- fixes: - | Fixed [`bug 1805119 <https://bugs.launchpad.net/ceilometer/+bug/1805119>`_] where hashing objects with unicode characters would raise an exception. ,,9,1
openstack%2Frequirements~master~I1ca3d7172475b1d9fd07f1b92c99e599284e3999,openstack/requirements,master,I1ca3d7172475b1d9fd07f1b92c99e599284e3999,update constraint for tripleo-common to new release 11.2.0,MERGED,2019-09-18 20:05:20.000000000,2019-09-19 12:27:06.000000000,2019-09-19 12:25:27.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 20:05:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c34c0083bf89342cc5a052668132c62e1da4894', 'message': 'update constraint for tripleo-common to new release 11.2.0\n\nChange-Id: I1ca3d7172475b1d9fd07f1b92c99e599284e3999\nmeta:version: 11.2.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: Alex Schultz <aschultz@redhat.com>\nmeta:release:Change-Id: I7c003d3e285e86a174baef7c2749518972262932\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,682985,3c34c0083bf89342cc5a052668132c62e1da4894,8,2,1,11131,,,0,"update constraint for tripleo-common to new release 11.2.0

Change-Id: I1ca3d7172475b1d9fd07f1b92c99e599284e3999
meta:version: 11.2.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: Alex Schultz <aschultz@redhat.com>
meta:release:Change-Id: I7c003d3e285e86a174baef7c2749518972262932
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/682985/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3c34c0083bf89342cc5a052668132c62e1da4894,new-release,tripleo-common===11.2.0,tripleo-common===11.1.0,1,1
openstack%2Frequirements~master~I271a2094a0adc0f47a120970fc3fc109aab43333,openstack/requirements,master,I271a2094a0adc0f47a120970fc3fc109aab43333,update constraint for python-ironicclient to new release 3.0.0,MERGED,2019-09-10 17:20:08.000000000,2019-09-19 12:23:03.000000000,2019-09-19 12:21:31.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-10 17:20:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/62126816e6e83c823dcd18b4dccab9105042d9fc', 'message': 'update constraint for python-ironicclient to new release 3.0.0\n\nChange-Id: I271a2094a0adc0f47a120970fc3fc109aab43333\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Change-Id: Ib3e46b2bdfe17638bae1e6f9b7751ee97fe22cd8\nmeta:release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,681315,62126816e6e83c823dcd18b4dccab9105042d9fc,37,8,1,11131,,,0,"update constraint for python-ironicclient to new release 3.0.0

Change-Id: I271a2094a0adc0f47a120970fc3fc109aab43333
meta:version: 3.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: Ib3e46b2bdfe17638bae1e6f9b7751ee97fe22cd8
meta:release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/681315/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,62126816e6e83c823dcd18b4dccab9105042d9fc,new-release,python-ironicclient===3.0.0,python-ironicclient===2.8.0,1,1
openstack%2Fironic-python-agent~master~Ibbc5538473b17c58d84f1cb764edec0c6747b263,openstack/ironic-python-agent,master,Ibbc5538473b17c58d84f1cb764edec0c6747b263,Try increasing memory in the DIB job,MERGED,2019-09-19 07:49:52.000000000,2019-09-19 12:07:19.000000000,2019-09-19 12:03:22.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-19 07:49:52.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/924528f7de2bbfa6ac2b0acbd93322bac43e5250', 'message': 'Try increasing memory in the DIB job\n\nWe seem to be running out of it now (after CentOS 7.7?).\n\nAlso remove the unneccesary USE_PYTHON3: False.\n\nChange-Id: Ibbc5538473b17c58d84f1cb764edec0c6747b263\n'}]",2,683045,924528f7de2bbfa6ac2b0acbd93322bac43e5250,9,4,1,10239,,,0,"Try increasing memory in the DIB job

We seem to be running out of it now (after CentOS 7.7?).

Also remove the unneccesary USE_PYTHON3: False.

Change-Id: Ibbc5538473b17c58d84f1cb764edec0c6747b263
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/45/683045/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,924528f7de2bbfa6ac2b0acbd93322bac43e5250,gate, IRONIC_VM_SPECS_RAM: 3072, IRONIC_VM_SPECS_RAM: 2048 USE_PYTHON3: False,1,2
openstack%2Fpuppet-openstack-integration~stable%2Fstein~I6e11c12ad73c89466aefbb926c111ed1d00784b8,openstack/puppet-openstack-integration,stable/stein,I6e11c12ad73c89466aefbb926c111ed1d00784b8,Remove zuul-cloner usage,MERGED,2019-09-18 11:46:07.000000000,2019-09-19 11:53:00.000000000,2019-09-19 11:53:00.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 11:46:07.000000000', 'files': ['run_tests.sh', 'functions', 'playbooks/prepare-node-integration.yaml', 'playbooks/prepare-node-beaker.yaml', 'playbooks/prepare-node-unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a029c1355fc046a85c0a5a62a5593b76daccc524', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/682859/\nChange-Id: I6e11c12ad73c89466aefbb926c111ed1d00784b8\n(cherry picked from commit fff72afe75971d05185f1c3cca074ef62a03aa03)\n'}]",0,682866,a029c1355fc046a85c0a5a62a5593b76daccc524,8,3,1,16137,,,0,"Remove zuul-cloner usage

Depends-On: https://review.opendev.org/#/c/682859/
Change-Id: I6e11c12ad73c89466aefbb926c111ed1d00784b8
(cherry picked from commit fff72afe75971d05185f1c3cca074ef62a03aa03)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/66/682866/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'functions', 'playbooks/prepare-node-integration.yaml', 'playbooks/prepare-node-beaker.yaml', 'playbooks/prepare-node-unit.yaml']",5,a029c1355fc046a85c0a5a62a5593b76daccc524,, if [ -d /home/zuul/src/opendev.org/$ZUUL_PROJECT ]; then cp -dR /home/zuul/src/opendev.org/$ZUUL_PROJECT/. . else git clone https://opendev.org/$ZUUL_PROJECT . fi," CLONEMAP=`mktemp` function cleanup { # In cases where zuul-cloner is aborted during a git # clone operation, git will remove the git work tree in # its cleanup. The work tree in these jobs is the # workspace directory, which means that subsequent # jenkins post-build actions can not run because the # workspace has been removed. # To reduce the likelihood of this having an impact, # recreate the workspace directory if needed mkdir -p $WORKSPACE rm -f $CLONEMAP } trap cleanup EXIT cat > $CLONEMAP << EOF clonemap: - name: $ZUUL_PROJECT dest: . EOF /usr/zuul-env/bin/zuul-cloner -m $CLONEMAP --cache-dir /opt/git \ https://opendev.org $ZUUL_PROJECT",51,81
openstack%2Frpm-packaging~stable%2Frocky~I93c9ca0077a85f881e7247e502f9e52ed7180f14,openstack/rpm-packaging,stable/rocky,I93c9ca0077a85f881e7247e502f9e52ed7180f14,include heat_policy.json,MERGED,2019-09-18 20:18:17.000000000,2019-09-19 11:51:20.000000000,2019-09-19 11:51:20.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 20:18:17.000000000', 'files': ['openstack/heat-dashboard/heat-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/172be26f848dc12e8c6394a6c296f601c2a1b138', 'message': 'include heat_policy.json\n\nIf heat-dashboard plugin is enabled, user will encounter an ugly no permssion to\naccess project error upon logging into Horizon. This error is caused by the\nabsence of heat_policy.json in Horizon. Per\n\nhttps://github.com/openstack/heat-dashboard/blob/master/devstack/plugin.sh#L17-#L26\n\nWe need to make heat_policy.json available to Horizon before the plugin is\nusable.\n\nChange-Id: I93c9ca0077a85f881e7247e502f9e52ed7180f14\n(cherry picked from commit 30b96096b01e68b7eab267380f2626515ee97185)\n'}]",0,682987,172be26f848dc12e8c6394a6c296f601c2a1b138,9,5,1,1916,,,0,"include heat_policy.json

If heat-dashboard plugin is enabled, user will encounter an ugly no permssion to
access project error upon logging into Horizon. This error is caused by the
absence of heat_policy.json in Horizon. Per

https://github.com/openstack/heat-dashboard/blob/master/devstack/plugin.sh#L17-#L26

We need to make heat_policy.json available to Horizon before the plugin is
usable.

Change-Id: I93c9ca0077a85f881e7247e502f9e52ed7180f14
(cherry picked from commit 30b96096b01e68b7eab267380f2626515ee97185)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/87/682987/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/heat-dashboard/heat-dashboard.spec.j2'],1,172be26f848dc12e8c6394a6c296f601c2a1b138,fix_heat_policy-stable/stein-stable/rocky,install -m 0755 -d %{buildroot}%{http_dashboard_dir}/openstack_dashboard/conf/ cp -a heat_dashboard/conf/heat_policy.json %{buildroot}%{http_dashboard_dir}/openstack_dashboard/conf/%{http_dashboard_dir}/openstack_dashboard/conf/heat_policy.json,,3,0
openstack%2Frpm-packaging~stable%2Fstein~I93c9ca0077a85f881e7247e502f9e52ed7180f14,openstack/rpm-packaging,stable/stein,I93c9ca0077a85f881e7247e502f9e52ed7180f14,include heat_policy.json,MERGED,2019-09-18 20:17:31.000000000,2019-09-19 11:49:09.000000000,2019-09-19 11:49:09.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 20:17:31.000000000', 'files': ['openstack/heat-dashboard/heat-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9e292ec21958568d6969aeb3622612e1d5283a25', 'message': 'include heat_policy.json\n\nIf heat-dashboard plugin is enabled, user will encounter an ugly no permssion to\naccess project error upon logging into Horizon. This error is caused by the\nabsence of heat_policy.json in Horizon. Per\n\nhttps://github.com/openstack/heat-dashboard/blob/master/devstack/plugin.sh#L17-#L26\n\nWe need to make heat_policy.json available to Horizon before the plugin is\nusable.\n\nChange-Id: I93c9ca0077a85f881e7247e502f9e52ed7180f14\n(cherry picked from commit 30b96096b01e68b7eab267380f2626515ee97185)\n'}]",0,682986,9e292ec21958568d6969aeb3622612e1d5283a25,10,5,1,1916,,,0,"include heat_policy.json

If heat-dashboard plugin is enabled, user will encounter an ugly no permssion to
access project error upon logging into Horizon. This error is caused by the
absence of heat_policy.json in Horizon. Per

https://github.com/openstack/heat-dashboard/blob/master/devstack/plugin.sh#L17-#L26

We need to make heat_policy.json available to Horizon before the plugin is
usable.

Change-Id: I93c9ca0077a85f881e7247e502f9e52ed7180f14
(cherry picked from commit 30b96096b01e68b7eab267380f2626515ee97185)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/86/682986/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/heat-dashboard/heat-dashboard.spec.j2'],1,9e292ec21958568d6969aeb3622612e1d5283a25,fix_heat_policy-stable/stein,install -m 0755 -d %{buildroot}%{http_dashboard_dir}/openstack_dashboard/conf/ cp -a heat_dashboard/conf/heat_policy.json %{buildroot}%{http_dashboard_dir}/openstack_dashboard/conf/%{http_dashboard_dir}/openstack_dashboard/conf/heat_policy.json,,3,0
openstack%2Frpm-packaging~master~Ic0108909b5631b839f1a3cd44a76e269f5669906,openstack/rpm-packaging,master,Ic0108909b5631b839f1a3cd44a76e269f5669906,placement: Add missing dependencies for os-traits,MERGED,2019-09-19 09:55:42.000000000,2019-09-19 11:49:08.000000000,2019-09-19 11:49:08.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 09:55:42.000000000', 'files': ['openstack/openstack-placement/openstack-placement.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/be083cf72db1abaad98c8a34b5d552128fbd0cd8', 'message': 'placement: Add missing dependencies for os-traits\n\nAlso enable unit tests along the way.\n\nChange-Id: Ic0108909b5631b839f1a3cd44a76e269f5669906\n'}]",0,683091,be083cf72db1abaad98c8a34b5d552128fbd0cd8,9,5,1,2062,,,0,"placement: Add missing dependencies for os-traits

Also enable unit tests along the way.

Change-Id: Ic0108909b5631b839f1a3cd44a76e269f5669906
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/91/683091/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-placement/openstack-placement.spec.j2'],1,be083cf72db1abaad98c8a34b5d552128fbd0cd8,,BuildRequires: {{ py3('jsonschema') }}BuildRequires: {{ py3('mock') }}BuildRequires: {{ py3('os-traits') }}BuildRequires: {{ py3('oslotest') }}BuildRequires: {{ py3('stestr') }}Requires: {{ py3('os-traits') }}%check PYTHONPATH=. python3 -m stestr.cli --test-path placement/tests/unit run ,,9,0
openstack%2Fneutron-specs~master~Icbdded5c1c0140f7a7e436a5c0348d34672e359d,openstack/neutron-specs,master,Icbdded5c1c0140f7a7e436a5c0348d34672e359d,Add placeholder for Ussuri specs,MERGED,2019-09-02 07:39:28.000000000,2019-09-19 11:42:57.000000000,2019-09-19 11:41:36.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-09-02 07:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c8aea860049f158b64bca20fe3468a5d6fd60186', 'message': 'Add placeholder for Ussuri specs\n\nChange-Id: Icbdded5c1c0140f7a7e436a5c0348d34672e359d\n'}, {'number': 2, 'created': '2019-09-14 01:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fb5236f73fb641788682f802c47178d37d203df6', 'message': 'Add placeholder for Ussuri specs\n\nChange-Id: Icbdded5c1c0140f7a7e436a5c0348d34672e359d\n'}, {'number': 3, 'created': '2019-09-14 02:28:46.000000000', 'files': ['doc/source/index.rst', 'specs/ussuri/index.rst', 'specs/ussuri/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a89e57c2c274480d0a0e6a037f541d0c2c7687b7', 'message': 'Add placeholder for Ussuri specs\n\nChange-Id: Icbdded5c1c0140f7a7e436a5c0348d34672e359d\n'}]",2,679601,a89e57c2c274480d0a0e6a037f541d0c2c7687b7,14,4,3,26458,,,0,"Add placeholder for Ussuri specs

Change-Id: Icbdded5c1c0140f7a7e436a5c0348d34672e359d
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/01/679601/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/train/create-port-specify-id.rst', 'specs/ussuri/index.rst', 'specs/ussuri/placeholder.rst']",4,c8aea860049f158b64bca20fe3468a5d6fd60186,,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================== (Placeholder Spec) ================== This file is just a placeholder for the specs directory. It will be removed soon after some spec is merged. The latest spec template is found at ``specs/template.rst`` in the ``neutron-specs`` repository. Problem Description =================== Sphinx toctree complains if no file exists in a directory specified in toctree glob. Proposed Change =============== Add this file. References ========== None. ,,106,0
openstack%2Fqinling-dashboard~master~Ia0bbd99587a1e823f6b2210d2bf91dd91bd16818,openstack/qinling-dashboard,master,Ia0bbd99587a1e823f6b2210d2bf91dd91bd16818,Generate PDF documentation,MERGED,2019-09-19 08:54:26.000000000,2019-09-19 11:36:37.000000000,2019-09-19 11:34:45.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-19 08:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/910cc21b64c69009cd8c41bda82e91d3fcae0115', 'message': ""Generate PDF documentation\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a part of community goal, see storyboard for more\ninformation.\n\nChange-Id: Ia0bbd99587a1e823f6b2210d2bf91dd91bd16818\nStory: 2006113\nTask: 35453\n""}, {'number': 2, 'created': '2019-09-19 09:59:32.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/8c10ec4ad1cec1bb465694537e6551384028127a', 'message': ""Generate PDF documentation\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a part of community goal, see storyboard for more\ninformation.\n\nChange-Id: Ia0bbd99587a1e823f6b2210d2bf91dd91bd16818\nStory: 2006113\nTask: 35453\n""}]",0,683063,8c10ec4ad1cec1bb465694537e6551384028127a,10,3,2,29313,,,0,"Generate PDF documentation

This commit adds a new tox target to build PDF documentation.
It's a part of community goal, see storyboard for more
information.

Change-Id: Ia0bbd99587a1e823f6b2210d2bf91dd91bd16818
Story: 2006113
Task: 35453
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/63/683063/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",3,910cc21b64c69009cd8c41bda82e91d3fcae0115,,[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,31,4
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ide850ab917736f066c38e2e55960a03e1fcd3523,openstack/puppet-tripleo,stable/queens,Ide850ab917736f066c38e2e55960a03e1fcd3523,Safeguard against 'Undef' length() checks.,MERGED,2019-09-16 15:20:26.000000000,2019-09-19 11:30:06.000000000,2019-09-19 11:30:06.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 15:20:26.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1ae90f991e314a96dd4d58e2a0cdd505386a1cdd', 'message': 'Safeguard against \'Undef\' length() checks.\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nThis commit adds a safeguard to skip the length check if\n$driver_devices is \'Undef\'.\n\nCloses-bug: #1827091\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n(cherry picked from commit ffdc816e37c7739e4645df08fac574859e2b06ac)\n'}]",0,682387,1ae90f991e314a96dd4d58e2a0cdd505386a1cdd,13,3,1,30126,,,0,"Safeguard against 'Undef' length() checks.

Hit the following during a deployment:

""Error: Evaluation Error: Error while evaluating a Function Call
'length' parameter 'arg' expects a value of type Collection, String,
or Binary, got Undef""

This commit adds a safeguard to skip the length check if
$driver_devices is 'Undef'.

Closes-bug: #1827091

Change-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523
(cherry picked from commit ffdc816e37c7739e4645df08fac574859e2b06ac)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/682387/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,1ae90f991e314a96dd4d58e2a0cdd505386a1cdd,bug/1827091-stable/queens, if $driver_devices and length($driver_devices) == 1 {, if length($driver_devices) == 1 {,1,1
openstack%2Fqinling-dashboard~master~I0c8cc5159bdf51ee845c17c8f8098d8b456562a2,openstack/qinling-dashboard,master,I0c8cc5159bdf51ee845c17c8f8098d8b456562a2,Update sphinx dependency,MERGED,2019-09-19 09:35:46.000000000,2019-09-19 11:21:41.000000000,2019-09-19 10:16:31.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-19 09:35:46.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/4d56f8009114ba8d8dd8da20cbd5ace99e76b90d', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well.\nFor more information please refer [1].\n\n[1] https://review.opendev.org/#/c/657890/\n\nChange-Id: I0c8cc5159bdf51ee845c17c8f8098d8b456562a2\n'}]",0,683078,4d56f8009114ba8d8dd8da20cbd5ace99e76b90d,10,3,1,29313,,,0,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well.
For more information please refer [1].

[1] https://review.opendev.org/#/c/657890/

Change-Id: I0c8cc5159bdf51ee845c17c8f8098d8b456562a2
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/78/683078/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4d56f8009114ba8d8dd8da20cbd5ace99e76b90d,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Ftripleo-docs~master~I02b2fa916792f20536af92a94e8e685d4777dace,openstack/tripleo-docs,master,I02b2fa916792f20536af92a94e8e685d4777dace,Adding upgrade with os upgrade graphics.,MERGED,2019-01-17 15:46:38.000000000,2019-09-19 11:06:12.000000000,2019-09-19 11:03:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-17 15:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0655c777522dbaeea007bf29e883d5022182c5a0', 'message': 'Adding upgrade with os upgrade graphics.\n\nChange-Id: I02b2fa916792f20536af92a94e8e685d4777dace\nImplements: blueprint upgrades-with-os\n'}, {'number': 2, 'created': '2019-01-18 13:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1c8f64d43cc8cc9857ca2add5612ce3cb01c2213', 'message': 'Adding upgrade with os upgrade graphics.\n\nChange-Id: I02b2fa916792f20536af92a94e8e685d4777dace\nImplements: blueprint upgrades-with-os\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\n'}, {'number': 3, 'created': '2019-01-18 13:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4a036a9b8c133f84ae84a855fbbcefc2ac6c0d75', 'message': 'Adding upgrade with os upgrade graphics.\n\nChange-Id: I02b2fa916792f20536af92a94e8e685d4777dace\nImplements: blueprint upgrades-with-os\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\n'}, {'number': 4, 'created': '2019-01-18 13:46:20.000000000', 'files': ['doc/source/upgrade/developer/upgrades/major_upgrade_with_os.plantuml', 'doc/source/upgrade/developer/upgrades/major_upgrade_with_os.png'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/aa277dc341edcd2e80ae45e8ef35268f76ddee4e', 'message': 'Adding upgrade with os upgrade graphics.\n\nChange-Id: I02b2fa916792f20536af92a94e8e685d4777dace\nImplements: blueprint upgrades-with-os\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\n'}]",0,631537,aa277dc341edcd2e80ae45e8ef35268f76ddee4e,18,7,4,8297,,,0,"Adding upgrade with os upgrade graphics.

Change-Id: I02b2fa916792f20536af92a94e8e685d4777dace
Implements: blueprint upgrades-with-os
Co-Authored-By: Jiri Stransky <jistr@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/37/631537/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/upgrade/developer/upgrades/major_upgrade_with_os.plantuml', 'doc/source/upgrade/developer/upgrades/major_upgrade_with_os.png']",2,0655c777522dbaeea007bf29e883d5022182c5a0,bp/upgrades-with-os,,,211,0
openstack%2Fpatrole~master~I18fa42128bccb92ecbc1d93e52b55795ae43b52b,openstack/patrole,master,I18fa42128bccb92ecbc1d93e52b55795ae43b52b,Replace cls.__class__.__name__ with cls.__name__,MERGED,2019-08-28 06:26:48.000000000,2019-09-19 10:41:01.000000000,2019-09-19 10:38:33.000000000,"[{'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-08-28 06:26:48.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_policy_minimum_bandwidth_rule_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_policy_bandwidth_limit_rule_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_dscp_marking_rule_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/94f5f07d9be124b5a8d2ef5a9f245ce30f1a7983', 'message': 'Replace cls.__class__.__name__ with cls.__name__\n\nThis is to replace cls.__class__.__name__ with cls.__name__.\n\nChange-Id: I18fa42128bccb92ecbc1d93e52b55795ae43b52b\n'}]",0,678998,94f5f07d9be124b5a8d2ef5a9f245ce30f1a7983,29,5,1,20190,,,0,"Replace cls.__class__.__name__ with cls.__name__

This is to replace cls.__class__.__name__ with cls.__name__.

Change-Id: I18fa42128bccb92ecbc1d93e52b55795ae43b52b
",git fetch https://review.opendev.org/openstack/patrole refs/changes/98/678998/1 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_policy_minimum_bandwidth_rule_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_policy_bandwidth_limit_rule_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_dscp_marking_rule_rbac.py']",4,94f5f07d9be124b5a8d2ef5a9f245ce30f1a7983,clsname, name = data_utils.rand_name(cls.__name__ + '-qos'), name = data_utils.rand_name(cls.__class__.__name__ + '-qos'),4,5
openstack%2Fpuppet-keystone~master~I7bb2d3573c4f7ba092e019a363116bab11cc7063,openstack/puppet-keystone,master,I7bb2d3573c4f7ba092e019a363116bab11cc7063,Use role assignment list instead of role list,MERGED,2019-09-17 06:32:50.000000000,2019-09-19 10:38:59.000000000,2019-09-19 10:38:59.000000000,"[{'_account_id': 3153}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 06:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d53456f6541eb39e0d7229f04fac798b15e0c2db', 'message': 'Use role assignment list instead of role list\n\nopenstack role list is deprecated since Newton and\nis removed in openstackclient-4.0.0 with [1]. Use\nrole assignment list --names instead.\n\n[1] https://review.opendev.org/#/c/612798/\n\nChange-Id: I7bb2d3573c4f7ba092e019a363116bab11cc7063\n'}, {'number': 2, 'created': '2019-09-17 06:39:50.000000000', 'files': ['spec/acceptance/keystone_federation_identity_provider_spec.rb', 'lib/puppet/provider/keystone_user_role/openstack.rb', 'spec/acceptance/keystone_federation_shibboleth_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb', 'spec/unit/provider/keystone_user_role/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f16e26daa17786c9bdf8fc3bc59bbb96fc1b9ac3', 'message': 'Use role assignment list instead of role list\n\nopenstack role list is deprecated since Newton and\nis removed in openstackclient-4.0.0 with [1]. Use\nrole assignment list --names instead.\n\n[1] https://review.opendev.org/#/c/612798/\n\nChange-Id: I7bb2d3573c4f7ba092e019a363116bab11cc7063\n'}]",0,682551,f16e26daa17786c9bdf8fc3bc59bbb96fc1b9ac3,10,6,2,13861,,,0,"Use role assignment list instead of role list

openstack role list is deprecated since Newton and
is removed in openstackclient-4.0.0 with [1]. Use
role assignment list --names instead.

[1] https://review.opendev.org/#/c/612798/

Change-Id: I7bb2d3573c4f7ba092e019a363116bab11cc7063
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/51/682551/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/keystone_user_role/openstack.rb', 'spec/unit/provider/keystone_user_role/openstack_spec.rb']",2,d53456f6541eb39e0d7229f04fac798b15e0c2db,osc_train," .with('role assignment', 'list', '--quiet', '--format', 'csv', ['--names', '--project', 'project1_id', '--user', 'user1_id']) .with('role assignment', 'list', '--quiet', '--format', 'csv', ['--names', '--project', 'project1_id', '--user', 'user1_id']) .with('role assignment', 'list', '--quiet', '--format', 'csv', ['--names', '--project', 'project1_id', '--user', 'user1_id'])"," .with('role', 'list', '--quiet', '--format', 'csv', ['--project', 'project1_id', '--user', 'user1_id']) .with('role', 'list', '--quiet', '--format', 'csv', ['--project', 'project1_id', '--user', 'user1_id']) .with('role', 'list', '--quiet', '--format', 'csv', ['--project', 'project1_id', '--user', 'user1_id'])",8,8
openstack%2Fnetworking-ovn~master~I815928e1a67e34c3aa577ee081541b67b2c43ddb,openstack/networking-ovn,master,I815928e1a67e34c3aa577ee081541b67b2c43ddb,Fix LogicalSwitchPortUpdateEvent in Octavia provider driver,MERGED,2019-09-05 10:10:38.000000000,2019-09-19 10:32:09.000000000,2019-09-18 20:10:51.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-05 10:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1859daa1aa6819158773be967f9a6a15945ca25e', 'message': 'Fix LogicalSwitchPortUpdateEvent in Octavia provider driver\n\nIf port ovn_const.OVN_PORT_NAME_EXT_ID_KEY external_id is not\nset we should return empty string for processing instead\nNone.\n\nChange-Id: I815928e1a67e34c3aa577ee081541b67b2c43ddb\nCloses-Bug: 1842901\n'}, {'number': 2, 'created': '2019-09-06 05:56:00.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5c174fe3d3f3b0c9ca1b23c2cc76b5063a3e9436', 'message': 'Fix LogicalSwitchPortUpdateEvent in Octavia provider driver\n\nIf port ovn_const.OVN_PORT_NAME_EXT_ID_KEY external_id is not\nset we should return empty string for processing instead\nNone.\n\nChange-Id: I815928e1a67e34c3aa577ee081541b67b2c43ddb\nCloses-Bug: 1842901\n'}]",1,680363,5c174fe3d3f3b0c9ca1b23c2cc76b5063a3e9436,17,6,2,24791,,,0,"Fix LogicalSwitchPortUpdateEvent in Octavia provider driver

If port ovn_const.OVN_PORT_NAME_EXT_ID_KEY external_id is not
set we should return empty string for processing instead
None.

Change-Id: I815928e1a67e34c3aa577ee081541b67b2c43ddb
Closes-Bug: 1842901
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/63/680363/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,1859daa1aa6819158773be967f9a6a15945ca25e,bug/1842901," def test_logical_switch_port_update_event_missing_port_name(self): self.switch_port_event = ovn_driver.LogicalSwitchPortUpdateEvent( self.helper) attrs = {'external_ids': {}} row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs=attrs) self.switch_port_event.run(mock.ANY, row, mock.ANY) self.mock_add_request.assert_not_called() ",,11,1
openstack%2Fqinling-dashboard~master~I94e98fb9265d1406e83b9dbe279104ea4fcd48a0,openstack/qinling-dashboard,master,I94e98fb9265d1406e83b9dbe279104ea4fcd48a0,Update the constraints url,MERGED,2019-09-19 08:43:25.000000000,2019-09-19 10:18:11.000000000,2019-09-19 10:16:30.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 08:43:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/7d343bb1c911e40d4bc79b0faae104bf523624e6', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I94e98fb9265d1406e83b9dbe279104ea4fcd48a0\n'}]",0,683056,7d343bb1c911e40d4bc79b0faae104bf523624e6,7,2,1,29313,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I94e98fb9265d1406e83b9dbe279104ea4fcd48a0
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/56/683056/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7d343bb1c911e40d4bc79b0faae104bf523624e6,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fopenstack-ansible-os_swift~master~I9bbd3195a7b02a55e38207aa4bba182a6e58346c,openstack/openstack-ansible-os_swift,master,I9bbd3195a7b02a55e38207aa4bba182a6e58346c,Update fallocate_reserve to work with py3,MERGED,2019-09-17 16:52:17.000000000,2019-09-19 10:13:37.000000000,2019-09-18 18:40:05.000000000,"[{'_account_id': 7414}, {'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-09-17 16:52:17.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/c1bdbfbb143fe7b31d883e4a068b538f884aaf03', 'message': 'Update fallocate_reserve to work with py3\n\nAs ConfigParser tries to convert ""%"" as a part of the variable[1],\nwe need to adjust it\'s default variable inside template for swift\nto work with py3 unless this will be fixed in swift by using raw [2]\n\n[1] https://docs.python.org/3.6/library/configparser.html#configparser.ConfigParser.get\n[2] https://github.com/openstack/swift/blob/master/swift/account/server.py#L66\n\nChange-Id: I9bbd3195a7b02a55e38207aa4bba182a6e58346c\nRelated-Bug: https://bugs.launchpad.net/swift/+bug/1844368\n'}]",0,682697,c1bdbfbb143fe7b31d883e4a068b538f884aaf03,12,4,1,28619,,,0,"Update fallocate_reserve to work with py3

As ConfigParser tries to convert ""%"" as a part of the variable[1],
we need to adjust it's default variable inside template for swift
to work with py3 unless this will be fixed in swift by using raw [2]

[1] https://docs.python.org/3.6/library/configparser.html#configparser.ConfigParser.get
[2] https://github.com/openstack/swift/blob/master/swift/account/server.py#L66

Change-Id: I9bbd3195a7b02a55e38207aa4bba182a6e58346c
Related-Bug: https://bugs.launchpad.net/swift/+bug/1844368
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/97/682697/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,c1bdbfbb143fe7b31d883e4a068b538f884aaf03,,"swift_fallocate_reserve: ""{{ (swift_venv_python_executable == 'python3' and swift_install_method == 'source') | ternary('1%%', '1%') }}""","swift_fallocate_reserve: ""1%""",1,1
openstack%2Fironic~master~I138ef53cb6aeb760fe13290b1d200b1128f56e5b,openstack/ironic,master,I138ef53cb6aeb760fe13290b1d200b1128f56e5b,DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job,ABANDONED,2019-09-19 10:01:42.000000000,2019-09-19 10:09:56.000000000,,[],"[{'number': 1, 'created': '2019-09-19 10:01:42.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix_pending_non_bios_job_execution-99033f334aed6b0f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c0fa65e3a02968ad444e8c416a906519dbde887', 'message': 'DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job\n\nIf we create pending non-bios config job( E.g create/delete virtual disk)\nwith ""At next reboot"" option and execute ""clear_job_queue"" clean step,\nthen that job gets deleted after job execution instead of getting\ndeleted before job execution.\n\nChange-Id: I138ef53cb6aeb760fe13290b1d200b1128f56e5b\nStory: #2006580\nTask: #36695\n'}]",0,683098,7c0fa65e3a02968ad444e8c416a906519dbde887,2,0,1,29863,,,0,"DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job

If we create pending non-bios config job( E.g create/delete virtual disk)
with ""At next reboot"" option and execute ""clear_job_queue"" clean step,
then that job gets deleted after job execution instead of getting
deleted before job execution.

Change-Id: I138ef53cb6aeb760fe13290b1d200b1128f56e5b
Story: #2006580
Task: #36695
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/683098/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix_pending_non_bios_job_execution-99033f334aed6b0f.yaml']",3,7c0fa65e3a02968ad444e8c416a906519dbde887,bug_fix_non_bios_job,"--- fixes: - | Fixes a bug while executing ``clear_job_queue`` clean step, pending non-BIOS config job (E.g. create/delete virtual disk) should get deleted before job execution, but currently this job get deleted after job execution. See bug `2006580 https://storyboard.openstack.org/#!/story/2006580` for details ",,17,12
openstack%2Fkolla-ansible~master~I13a72c9312b712c4832dd0b6ead8fad2c0ddbcb2,openstack/kolla-ansible,master,I13a72c9312b712c4832dd0b6ead8fad2c0ddbcb2,Update many invaild links for README,MERGED,2019-09-19 06:11:26.000000000,2019-09-19 10:09:22.000000000,2019-09-19 10:08:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30408}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-19 06:11:26.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa88d0984ffcb2d4f70716ccaafb3d56f4eb1cba', 'message': 'Update many invaild links for README\n\nChange-Id: I13a72c9312b712c4832dd0b6ead8fad2c0ddbcb2\n'}]",0,683031,fa88d0984ffcb2d4f70716ccaafb3d56f4eb1cba,9,4,1,30408,,,0,"Update many invaild links for README

Change-Id: I13a72c9312b712c4832dd0b6ead8fad2c0ddbcb2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/683031/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,fa88d0984ffcb2d4f70716ccaafb3d56f4eb1cba,, `Grafana <https://grafana.com/>`__ for performance monitoring.- `Etcd <https://etcd.io/>`__ a distributed reliable key-value store. `Keepalived <https://www.keepalived.org/>`__ for high availability of services- `Open vSwitch <https://openvswitch.org/>`__ and Linuxbridge backends for Neutron., `Grafana <https://grafana.org/>`__ for performance monitoring.- `Etcd <https://coreos.com/etcd/>`__ a distributed reliable key-value store. `Keepalived <http://www.keepalived.org/>`__ for high availability of services- `Open vSwitch <http://openvswitch.org/>`__ and Linuxbridge backends for Neutron.,4,4
openstack%2Freleases~master~I7fc8c89b3bb684ffdb434587125ab48fc68dd21d,openstack/releases,master,I7fc8c89b3bb684ffdb434587125ab48fc68dd21d,Release os-win 4.2.1 (stein),MERGED,2019-09-16 11:50:11.000000000,2019-09-19 10:02:36.000000000,2019-09-19 10:02:36.000000000,"[{'_account_id': 308}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 11:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a0331c4d56cbe6749ac85a6d81ce01a4902346cd', 'message': 'Release os-win 4.2.1 (stein)\n\nChange-Id: I7fc8c89b3bb684ffdb434587125ab48fc68dd21d\n'}, {'number': 2, 'created': '2019-09-16 12:36:25.000000000', 'files': ['deliverables/stein/os-win.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d9ef291006c532861c2cb33729bfd60dfebfd3f3', 'message': 'Release os-win 4.2.1 (stein)\n\nChange-Id: I7fc8c89b3bb684ffdb434587125ab48fc68dd21d\n'}]",0,682347,d9ef291006c532861c2cb33729bfd60dfebfd3f3,13,6,2,8543,,,0,"Release os-win 4.2.1 (stein)

Change-Id: I7fc8c89b3bb684ffdb434587125ab48fc68dd21d
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/682347/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/os-win.yaml'],1,a0331c4d56cbe6749ac85a6d81ce01a4902346cd,os-win-stein, - projects: - hash: 7fa5db4de9bd92e7b4e110168f91a6597430bf47 repo: openstack/os-win version: 4.2.1,,4,0
openstack%2Freleases~master~Ie8b127e2d15e8079f2e1ac4ea6ab871e686e3901,openstack/releases,master,Ie8b127e2d15e8079f2e1ac4ea6ab871e686e3901,neutron Train-3 beta deliverables,MERGED,2019-09-17 08:40:36.000000000,2019-09-19 10:02:35.000000000,2019-09-19 10:02:34.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 08:40:36.000000000', 'files': ['deliverables/train/networking-sfc.yaml', 'deliverables/train/neutron.yaml', 'deliverables/train/networking-bagpipe.yaml', 'deliverables/train/networking-midonet.yaml', 'deliverables/train/networking-bgpvpn.yaml', 'deliverables/train/neutron-fwaas.yaml', 'deliverables/train/networking-ovn.yaml', 'deliverables/train/neutron-vpnaas.yaml', 'deliverables/train/neutron-dynamic-routing.yaml', 'deliverables/train/networking-odl.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f3ea5d858888e55899a37a19e0a329a884bed33e', 'message': 'neutron Train-3 beta deliverables\n\nMost stadium projects are tightly coupled with neutron from the same\nrelease, so it is worth releasing all projects before RC.\n\nChange-Id: Ie8b127e2d15e8079f2e1ac4ea6ab871e686e3901\n'}]",0,682584,f3ea5d858888e55899a37a19e0a329a884bed33e,12,7,1,841,,,0,"neutron Train-3 beta deliverables

Most stadium projects are tightly coupled with neutron from the same
release, so it is worth releasing all projects before RC.

Change-Id: Ie8b127e2d15e8079f2e1ac4ea6ab871e686e3901
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/682584/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/networking-bagpipe.yaml', 'deliverables/train/networking-sfc.yaml', 'deliverables/train/neutron.yaml', 'deliverables/train/networking-midonet.yaml', 'deliverables/train/networking-bgpvpn.yaml', 'deliverables/train/neutron-fwaas.yaml', 'deliverables/train/networking-ovn.yaml', 'deliverables/train/neutron-vpnaas.yaml', 'deliverables/train/neutron-dynamic-routing.yaml', 'deliverables/train/networking-odl.yaml']",10,f3ea5d858888e55899a37a19e0a329a884bed33e,neutron-stadium-train-3,releases: - version: 15.0.0.0b1 projects: - repo: openstack/networking-odl hash: 5177658d8bad4d97444519ef21fe024629954b71,,50,0
openstack%2Foctavia~master~Iee8a12b693a09e96e59313e58beffe1b1985084f,openstack/octavia,master,Iee8a12b693a09e96e59313e58beffe1b1985084f,Fix pool API handling of None/null updates,MERGED,2019-05-15 00:51:04.000000000,2019-09-19 09:56:31.000000000,2019-06-24 04:53:43.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-05-15 00:51:04.000000000', 'files': ['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/db212fc304128c071eadd095ff9c19916bf57d9d', 'message': 'Fix pool API handling of None/null updates\n\nThe current pool API does not properly handle clearing/reseting\nvalues on update. There was a case where removing the CA and CRL\nat the same time could be refused, requiring you to remove the\nCRL first, then the CA reference. This patch resolves that issue.\n\nThis patch corrects this to appropriately handle None/null updates\nto the pool parameters.\n\nChange-Id: Iee8a12b693a09e96e59313e58beffe1b1985084f\nStory: 2005374\nTask: 31007\n'}]",0,659195,db212fc304128c071eadd095ff9c19916bf57d9d,11,5,1,11628,,,0,"Fix pool API handling of None/null updates

The current pool API does not properly handle clearing/reseting
values on update. There was a case where removing the CA and CRL
at the same time could be refused, requiring you to remove the
CRL first, then the CA reference. This patch resolves that issue.

This patch corrects this to appropriately handle None/null updates
to the pool parameters.

Change-Id: Iee8a12b693a09e96e59313e58beffe1b1985084f
Story: 2005374
Task: 31007
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/659195/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py']",2,db212fc304128c071eadd095ff9c19916bf57d9d,," # If we got a crl_ref and it's not unset, use it # If we got Unset and a CRL exists in the DB, use the DB crl_ref elif (db_pool.crl_container_id and pool.crl_container_ref == wtypes.Unset): elif db_ca_ref and pool.ca_tls_container_ref == wtypes.Unset: ca_ref = db_ca_ref", elif db_pool.crl_container_id: elif db_ca_ref: ca_ref = db_ca_ref,7,3
openstack%2Foctavia~master~I41038b1d8d882efa19d991c07dca47f06dcbb5ca,openstack/octavia,master,I41038b1d8d882efa19d991c07dca47f06dcbb5ca,Fix member API handling of None/null updates,MERGED,2019-05-29 21:37:14.000000000,2019-09-19 09:55:57.000000000,2019-07-27 00:49:25.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 21:37:14.000000000', 'files': ['octavia/common/constants.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/types/member.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fc9163fce9c4e9deca67a6444db8f913bec15ec3', 'message': 'Fix member API handling of None/null updates\n\nThe current member API does not properly handle clearing/reseting\nvalues on update. Some integer only fields, such as weight,\nwill accept null, but will store the value as ""None"". These will\nwill cause failures updating the amphora configuration.\n\nThis patch corrects this to appropriately handle None/null updates\nto the member parameters.\n\nChange-Id: I41038b1d8d882efa19d991c07dca47f06dcbb5ca\nStory: 2005374\nTask: 33523\n'}]",0,662096,fc9163fce9c4e9deca67a6444db8f913bec15ec3,8,3,1,11628,,,0,"Fix member API handling of None/null updates

The current member API does not properly handle clearing/reseting
values on update. Some integer only fields, such as weight,
will accept null, but will store the value as ""None"". These will
will cause failures updating the amphora configuration.

This patch corrects this to appropriately handle None/null updates
to the member parameters.

Change-Id: I41038b1d8d882efa19d991c07dca47f06dcbb5ca
Story: 2005374
Task: 33523
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/662096/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/types/member.py']",4,fc9163fce9c4e9deca67a6444db8f913bec15ec3,," minimum=constants.MIN_WEIGHT, maximum=constants.MAX_WEIGHT), default=constants.DEFAULT_WEIGHT) minimum=constants.MIN_WEIGHT, maximum=constants.MAX_WEIGHT), default=constants.DEFAULT_WEIGHT)"," minimum=constants.MIN_WEIGHT, maximum=constants.MAX_WEIGHT), default=1) minimum=constants.MIN_WEIGHT, maximum=constants.MAX_WEIGHT), default=1)",43,2
openstack%2Foctavia~master~Ida1d544933aec9e5cd556aef57a06e9f19f1b255,openstack/octavia,master,Ida1d544933aec9e5cd556aef57a06e9f19f1b255,Fix health monitor API handling of None updates,MERGED,2019-05-30 18:15:37.000000000,2019-09-19 09:55:25.000000000,2019-06-24 04:32:53.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-05-30 18:15:37.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/types/health_monitor.py', 'octavia/common/constants.py', 'octavia/api/v2/controllers/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a95f7481565447f4512743a91ff3973af6f052bb', 'message': 'Fix health monitor API handling of None updates\n\nThe current health monitor API does not properly handle\nclearing/reseting values on update. Some integer only fields,\nsuch as max_retries_down, will accept null, but will store the\nvalue as ""None"". These will will cause failures updating the\namphora configuration.\n\nThis patch corrects this to appropriately handle None/null updates\nto the health monitor parameters.\n\nChange-Id: Ida1d544933aec9e5cd556aef57a06e9f19f1b255\nStory: 2005374\nTask: 33533\n'}]",0,662280,a95f7481565447f4512743a91ff3973af6f052bb,9,4,1,11628,,,0,"Fix health monitor API handling of None updates

The current health monitor API does not properly handle
clearing/reseting values on update. Some integer only fields,
such as max_retries_down, will accept null, but will store the
value as ""None"". These will will cause failures updating the
amphora configuration.

This patch corrects this to appropriately handle None/null updates
to the health monitor parameters.

Change-Id: Ida1d544933aec9e5cd556aef57a06e9f19f1b255
Story: 2005374
Task: 33533
",git fetch https://review.opendev.org/openstack/octavia refs/changes/80/662280/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/types/health_monitor.py', 'octavia/common/constants.py', 'octavia/api/v2/controllers/health_monitor.py']",4,a95f7481565447f4512743a91ff3973af6f052bb,," if health_monitor.delay is None: raise exceptions.InvalidOption(value=None, option=consts.DELAY) if health_monitor.max_retries is None: raise exceptions.InvalidOption(value=None, option=consts.MAX_RETRIES) if health_monitor.timeout is None: raise exceptions.InvalidOption(value=None, option=consts.TIMEOUT) def _set_default_on_none(self, health_monitor): """"""Reset settings to their default values if None/null was passed in A None/null value can be passed in to clear a value. PUT values that were not provided by the user have a type of wtypes.UnsetType. If the user is attempting to clear values, they should either be set to None (for example in the name field) or they should be reset to their default values. This method is intended to handle those values that need to be set back to a default value. """""" if health_monitor.http_method is None: health_monitor.http_method = ( consts.HEALTH_MONITOR_HTTP_DEFAULT_METHOD) if health_monitor.url_path is None: health_monitor.url_path = ( consts.HEALTH_MONITOR_DEFAULT_URL_PATH) if health_monitor.expected_codes is None: health_monitor.expected_codes = ( consts.HEALTH_MONITOR_DEFAULT_EXPECTED_CODES) if health_monitor.max_retries_down is None: health_monitor.max_retries_down = consts.DEFAULT_MAX_RETRIES_DOWN self._set_default_on_none(health_monitor) ", else: # For HTTP health monitor these cannot be null/None if health_monitor.http_method is None: health_monitor.http_method = wtypes.Unset if health_monitor.url_path is None: health_monitor.url_path = wtypes.Unset if health_monitor.expected_codes is None: health_monitor.expected_codes = wtypes.Unset,102,10
openstack%2Freleases~master~I48af839c200b316c28185cd992a83c996dd740e4,openstack/releases,master,I48af839c200b316c28185cd992a83c996dd740e4,Improve cycle end/beginning process documentation,MERGED,2019-09-16 18:27:22.000000000,2019-09-19 09:53:25.000000000,2019-09-19 09:53:25.000000000,"[{'_account_id': 308}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 18:27:22.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/ef31f7a022f94d37b93f505a84942d253d33104e', 'message': 'Improve cycle end/beginning process documentation\n\nThere were some inaccuracies and some missing information for some of\nthe tasks to be performed between cycles.\n\nChange-Id: I48af839c200b316c28185cd992a83c996dd740e4\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682451,ef31f7a022f94d37b93f505a84942d253d33104e,7,3,1,11904,,,0,"Improve cycle end/beginning process documentation

There were some inaccuracies and some missing information for some of
the tasks to be performed between cycles.

Change-Id: I48af839c200b316c28185cd992a83c996dd740e4
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/682451/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,ef31f7a022f94d37b93f505a84942d253d33104e,,"#. Create the $series-relmgt-tracking etherpad using the ``make-tracking-etherpad`` command. tox -e venv -- make-tracking-pad ussuri The output from this command can be pasted into a ``$SERIES-relmgt-tracking`` etherpad. Set title formatting for the top sections. Then highlight all listed weeks and set to **Heading 3** style. Fill in the contents of one of the weeks with the typical items, then copy and past that into each subsequent week to prepare for the rest of the cycle.#. Plan the next release cycle schedule based on the number of desired weeks or by making sure the cycle ends within a few weeks of the next developer event. Using the first Monday following the close of the last cycle, and the Monday of the planned last week of the new cycle, use the tool ``tools/weeks.py`` to generate the release schedule YAML file. For example:: ./tools/list_weeks.py t 2019-04-15 2019-10-16 The generated output can be used to set up the schedule similar to what was done for the `Ussuri release <https://review.opendev.org/#/c/679822/>`_. ",#. Create the $series-relmgt-tracking etherpad using ``tools/list_weeks.py``. tools/list_weeks.py t 2019-04-15 2019-10-16 #. Use ``init-series`` to create stub deliverable files based on the contents of the previous release.,20,4
openstack%2Freleases~master~I53d714ce2c43e0a1b01d1a80fc46f6605f818f02,openstack/releases,master,I53d714ce2c43e0a1b01d1a80fc46f6605f818f02,Fix Train Summit description,MERGED,2019-09-16 16:37:55.000000000,2019-09-19 09:53:24.000000000,2019-09-19 09:53:24.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f577f0862945883a73566bc13a56904f86fcc4ac', 'message': 'Fix Train Summit description\n\nThe Summit that was held during the train cycle was the one in Denver,\nnot the forthcoming one in Shanghai.\n\nChange-Id: I53d714ce2c43e0a1b01d1a80fc46f6605f818f02\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-09-16 16:52:17.000000000', 'files': ['doc/source/train/schedule.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/bfd521f1cf4659dff2b2786a2dea8eaec377948b', 'message': 'Fix Train Summit description\n\nThe Summit that was held during the train cycle was the one in Denver,\nnot the forthcoming one in Shanghai.\n\nChange-Id: I53d714ce2c43e0a1b01d1a80fc46f6605f818f02\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,682407,bfd521f1cf4659dff2b2786a2dea8eaec377948b,11,5,2,11904,,,0,"Fix Train Summit description

The Summit that was held during the train cycle was the one in Denver,
not the forthcoming one in Shanghai.

Change-Id: I53d714ce2c43e0a1b01d1a80fc46f6605f818f02
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/682407/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/train/schedule.rst'],1,f577f0862945883a73566bc13a56904f86fcc4ac,denver-china,"The Open Infrastructure Summit happens during this week in Denver, CO, USA. It","The Open Infrastructure Summit happens during this week in Shanghai, China. It",1,1
openstack%2Fneutron~master~I8f5ee2eb31414acbee25d5743624895b98258f67,openstack/neutron,master,I8f5ee2eb31414acbee25d5743624895b98258f67,Fix some double spaces,MERGED,2019-09-03 14:15:06.000000000,2019-09-19 09:47:54.000000000,2019-09-19 09:45:56.000000000,"[{'_account_id': 1131}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-03 14:15:06.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/openvswitch/mech_ovs_conf.py', 'neutron/db/l3_db.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/73d4f0cc468d4ceb39ae2af53f80fc4af3a9a6d0', 'message': 'Fix some double spaces\n\nNoticed a log message had two spaces, fixed some config\nhelp messages that grep found too.\n\nTrivialfix\n\nChange-Id: I8f5ee2eb31414acbee25d5743624895b98258f67\n'}]",0,679790,73d4f0cc468d4ceb39ae2af53f80fc4af3a9a6d0,60,10,1,1131,,,0,"Fix some double spaces

Noticed a log message had two spaces, fixed some config
help messages that grep found too.

Trivialfix

Change-Id: I8f5ee2eb31414acbee25d5743624895b98258f67
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/679790/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/openvswitch/mech_ovs_conf.py', 'neutron/db/l3_db.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",3,73d4f0cc468d4ceb39ae2af53f80fc4af3a9a6d0,trivial-spaces," help=_(""Set or un-set the tunnel header checksum on """," help=_(""Set or un-set the tunnel header checksum on """,3,3
openstack%2Fmurano~master~I7fedbcf85ee9c4dbacf1fc50cec25380c3b3e93d,openstack/murano,master,I7fedbcf85ee9c4dbacf1fc50cec25380c3b3e93d,Update semantic_version to 2.8.2 and remove multiattach in volume template,MERGED,2019-09-18 03:22:26.000000000,2019-09-19 09:43:35.000000000,2019-09-19 09:42:18.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 03:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/11c03a09829f7dcfb1db89f97b0de242a6432bb6', 'message': 'semantic_version 2.8.2\n\nChange-Id: I7fedbcf85ee9c4dbacf1fc50cec25380c3b3e93d\n'}, {'number': 2, 'created': '2019-09-18 03:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ad192a43b50eeac1bdc6e3024d834f92edf0563b', 'message': 'semantic_version 2.8.2\n\nChange-Id: I7fedbcf85ee9c4dbacf1fc50cec25380c3b3e93d\n'}, {'number': 3, 'created': '2019-09-18 09:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/d1fd1c920363a419c1f9c8cf3f4286f5176c1783', 'message': 'semantic_version 2.8.2\n\nChange-Id: I7fedbcf85ee9c4dbacf1fc50cec25380c3b3e93d\n'}, {'number': 4, 'created': '2019-09-19 02:45:41.000000000', 'files': ['murano/tests/unit/engine/test_package_loader.py', 'requirements.txt', 'lower-constraints.txt', 'murano/tests/unit/dsl/test_helpers.py', 'meta/io.murano/Classes/resources/CinderVolume.yaml', 'murano/tests/unit/dsl/test_versioning.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/0ce2ad12d0b0f540a04b42416c7e1cb68a4aa4cd', 'message': 'Update semantic_version to 2.8.2 and remove multiattach in volume template\n\nChange-Id: I7fedbcf85ee9c4dbacf1fc50cec25380c3b3e93d\n'}]",0,682779,0ce2ad12d0b0f540a04b42416c7e1cb68a4aa4cd,16,2,4,14107,,,0,"Update semantic_version to 2.8.2 and remove multiattach in volume template

Change-Id: I7fedbcf85ee9c4dbacf1fc50cec25380c3b3e93d
",git fetch https://review.opendev.org/openstack/murano refs/changes/79/682779/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'murano/tests/unit/dsl/test_helpers.py', 'murano/tests/unit/dsl/test_versioning.py']",3,11c03a09829f7dcfb1db89f97b0de242a6432bb6,," sem_version = semantic_version.Spec('>=0.0.0', '<1.0.0') sem_version = semantic_version.Spec('>3.0.0', '<4.2.0')"," sem_version = semantic_version.Spec('>=0.0.0', '<1.0.0-0') sem_version = semantic_version.Spec('>3.0.0', '<4.2.0-0')",6,6
openstack%2Ftripleo-heat-templates~master~I59288a0c1347812b3a2fedf4c1274b48fb735f72,openstack/tripleo-heat-templates,master,I59288a0c1347812b3a2fedf4c1274b48fb735f72,DNM - exploring running scenario004 w/o pacemaker for manila,ABANDONED,2019-08-30 00:38:37.000000000,2019-09-19 09:40:07.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-30 00:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab1b7bde74bedb0308e30dc09bbeebdf04b26c18', 'message': 'DNM - exploring running scenario004 w/o pacemaker for manila\n\nChange-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72\n'}, {'number': 2, 'created': '2019-08-31 16:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8dcdd1678ef00b460e53f3b67ce93daf4fd99380', 'message': 'DNM - exploring running scenario004 w/o pacemaker for manila\n\nChange-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72\n'}, {'number': 3, 'created': '2019-08-31 18:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a313d7700d7eee1b551495484e7c3faf8fd63d3f', 'message': 'DNM - exploring running scenario004 w/o pacemaker for manila\n\nChange-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72\n'}, {'number': 4, 'created': '2019-09-02 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b933cb7540e54abf99937116e5b61085510ee8c9', 'message': 'DNM - exploring running scenario004 w/o pacemaker for manila\n\nChange-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72\n'}, {'number': 5, 'created': '2019-09-03 13:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86b3cdf7b2cdddaa32db7a60adb2b4a96b1199af', 'message': 'DNM - exploring running scenario004 w/o pacemaker for manila\n\nChange-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72\n'}, {'number': 6, 'created': '2019-09-17 14:14:59.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'deployment/manila/manila-share-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/143a2c34ba446aebe4f6381cb9b7041e7849b06d', 'message': 'DNM - exploring running scenario004 w/o pacemaker for manila\n\nChange-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72\n'}]",0,679365,143a2c34ba446aebe4f6381cb9b7041e7849b06d,32,3,6,9003,,,0,"DNM - exploring running scenario004 w/o pacemaker for manila

Change-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/679365/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,ab1b7bde74bedb0308e30dc09bbeebdf04b26c18,, OS::TripleO::Services::ManilaShare: ../../deployment/manila/manila-share-container-puppet.yaml OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml, OS::TripleO::Services::ManilaShare: ../../deployment/manila/manila-share-pacemaker-puppet.yaml OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml OS::TripleO::Services::HAproxy: ../../deployment/haproxy/haproxy-pacemaker-puppet.yaml OS::TripleO::Services::Pacemaker: ../../deployment/pacemaker/pacemaker-baremetal-puppet.yaml OS::TripleO::Services::PacemakerRemote: ../../deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml OS::TripleO::Services::Clustercheck: ../../deployment/pacemaker/clustercheck-container-puppet.yaml OS::TripleO::Services::MySQL: ../../deployment/database/mysql-pacemaker-puppet.yaml OS::TripleO::Services::Keepalived: OS::Heat::None,2,8
openstack%2Foctavia~master~I334364d4654491bc0d289472ca9ab5fe462d5139,openstack/octavia,master,I334364d4654491bc0d289472ca9ab5fe462d5139,Validate server_certs_key_passphrase is 32 chars,MERGED,2019-07-14 16:16:32.000000000,2019-09-19 09:15:08.000000000,2019-09-19 09:03:27.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-07-14 16:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0b0b227564c84d2100551f9f66c68790953bdf56', 'message': 'Validate that server_certs_key_passphrase is 32 characters long\n\nFernet checks[1] for  32 characters long key, so Octavia should validate the\nvalue provided for server_certs_key_passphrase, to reject an\ninvalid passphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any load balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}, {'number': 2, 'created': '2019-07-14 16:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/851e778bf258a5983d93c2811404a03c0b3b6e0d', 'message': 'Validate that server_certs_key_passphrase is 32 characters long\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}, {'number': 3, 'created': '2019-07-15 06:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8a4bfdfdc0a24c9d162ca638abae79772991f373', 'message': 'Validate that server_certs_key_passphrase is 32 characters long\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}, {'number': 4, 'created': '2019-07-15 08:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/84eac0873905367ab85baed1fee437e3a74f0623', 'message': '[Option A]: Validate that server_certs_key_passphrase is 32 characters long\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}, {'number': 5, 'created': '2019-08-22 20:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/51f5623cb7d0544a84bfe895f7e299b02db36516', 'message': 'Validate server_certs_key_passphrase is 32 chars\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}, {'number': 6, 'created': '2019-08-22 20:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9813b2bcd836f5bd7c9f29d19f0c9ccf76356cf4', 'message': 'Validate server_certs_key_passphrase is 32 chars\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}, {'number': 7, 'created': '2019-09-18 18:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/87bda284683bde0445caeefc3bf24497c5fc1f1b', 'message': 'Validate server_certs_key_passphrase is 32 chars\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}, {'number': 8, 'created': '2019-09-18 19:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2478c81ca8ed29571632449c1d624ca8db44112c', 'message': 'Validate server_certs_key_passphrase is 32 chars\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}, {'number': 9, 'created': '2019-09-19 04:12:24.000000000', 'files': ['octavia/tests/unit/common/test_config.py', 'releasenotes/notes/input-validation-server_certs_key_passphrase-6a9dfc190c9deba8.yaml', 'octavia/certificates/common/local.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a77667339d735ec0757d1e46d80f0010b1bb3d4f', 'message': 'Validate server_certs_key_passphrase is 32 chars\n\nFernet checks[1] for 32 characters long key, so Octavia should validate\nthe value provided for server_certs_key_passphrase, to reject an invalid\npassphrase as early as possible.\n\nThis[2] Red Hat Bug showed a case in which an invalid passphrase got\nconfigured, and as a result, Octavia was unable to create any\nload balancers.\n\nRelated-bug: #1833942\n\n[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051\n\nChange-Id: I334364d4654491bc0d289472ca9ab5fe462d5139\n'}]",2,670735,a77667339d735ec0757d1e46d80f0010b1bb3d4f,34,6,9,6579,,,0,"Validate server_certs_key_passphrase is 32 chars

Fernet checks[1] for 32 characters long key, so Octavia should validate
the value provided for server_certs_key_passphrase, to reject an invalid
passphrase as early as possible.

This[2] Red Hat Bug showed a case in which an invalid passphrase got
configured, and as a result, Octavia was unable to create any
load balancers.

Related-bug: #1833942

[1] https://github.com/pyca/cryptography/blob/784676de3381f039f95f998505d45fb9d56bd300/src/cryptography/fernet.py#L36
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1723051

Change-Id: I334364d4654491bc0d289472ca9ab5fe462d5139
",git fetch https://review.opendev.org/openstack/octavia refs/changes/35/670735/7 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/constants.py', 'octavia/tests/unit/releasenotes/notes/input-validation-server_certs_key_passphrase-6a9dfc190c9deba8.yaml', 'octavia/tests/unit/common/test_config.py', 'octavia/certificates/common/local.py', 'octavia/common/exceptions.py']",6,0b0b227564c84d2100551f9f66c68790953bdf56,OctaviaServerCertsKeyPassphrase-32chars, class InvalidServerCertsKeyPassphrase(OctaviaException): message = _('Invalid server_certs_key_passphrase value: %(msg)s'),,46,1
openstack%2Fkolla~master~Ia66591f28fc4af869ca4ec0e7113883356f3b1dd,openstack/kolla,master,Ia66591f28fc4af869ca4ec0e7113883356f3b1dd,Update invalid link for README,MERGED,2019-09-19 06:49:14.000000000,2019-09-19 09:14:06.000000000,2019-09-19 09:10:46.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-19 06:49:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bcf57a188711b1204122cf7bd818c00d4bf81e6b', 'message': 'Update invalid link for README\n\nChange-Id: Ia66591f28fc4af869ca4ec0e7113883356f3b1dd\n'}]",0,683036,bcf57a188711b1204122cf7bd818c00d4bf81e6b,8,3,1,30408,,,0,"Update invalid link for README

Change-Id: Ia66591f28fc4af869ca4ec0e7113883356f3b1dd
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/683036/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bcf57a188711b1204122cf7bd818c00d4bf81e6b,, `Grafana <https://grafana.com>`__ for performance monitoring.- `Etcd <https://etcd.io/>`__ a distributed key value store that provides `Keepalived <https://www.keepalived.org/>`__ for high availability of services- `Open vSwitch <https://www.openvswitch.org/>`__ and Linuxbridge back ends for Neutron.code <https://stackalytics.com/?module=kolla-group&metric=commits>`__ andreviews <https://stackalytics.com/?module=kolla-group&metric=marks>`__., `Grafana <https://grafana.org>`__ for performance monitoring.- `Etcd <https://coreos.com/etcd/>`__ a distributed key value store that provides `Keepalived <http://www.keepalived.org/>`__ for high availability of services- `Open vSwitch <http://openvswitch.org/>`__ and Linuxbridge back ends for Neutron.code <http://stackalytics.com/?module=kolla-group&metric=commits>`__ andreviews <http://stackalytics.com/?module=kolla-group&metric=marks>`__.,6,6
openstack%2Fkolla-ansible~stable%2Fstein~I084b5cf05a786bde76cbf82381ba5f69cd5bce19,openstack/kolla-ansible,stable/stein,I084b5cf05a786bde76cbf82381ba5f69cd5bce19,[designate] Fix admin api configuration,MERGED,2019-09-18 09:45:01.000000000,2019-09-19 09:13:00.000000000,2019-09-19 09:10:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-18 09:45:01.000000000', 'files': ['ansible/roles/designate/templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/612083cdccee9ed6c29522a5d6cbb8196e650669', 'message': '[designate] Fix admin api configuration\n\nThe admin api was never actually enabled,\nand the admin extensions were added to the wrong\nextension namespace.\n\nChange-Id: I084b5cf05a786bde76cbf82381ba5f69cd5bce19\n(cherry picked from commit 7d066971f23b452af0f44c4e10886d551abd5185)\n'}]",0,682847,612083cdccee9ed6c29522a5d6cbb8196e650669,9,4,1,14826,,,0,"[designate] Fix admin api configuration

The admin api was never actually enabled,
and the admin extensions were added to the wrong
extension namespace.

Change-Id: I084b5cf05a786bde76cbf82381ba5f69cd5bce19
(cherry picked from commit 7d066971f23b452af0f44c4e10886d551abd5185)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/682847/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/designate/templates/designate.conf.j2'],1,612083cdccee9ed6c29522a5d6cbb8196e650669,fix_api-stable/stein,"enable_api_admin = Trueenabled_extensions_admin = quotas, reports","enabled_extensions_v2 = 'quotas, reports'",2,1
openstack%2Fopenstack-zuul-jobs~master~Ib89d44225de4bd171594659647408900321f23e9,openstack/openstack-zuul-jobs,master,Ib89d44225de4bd171594659647408900321f23e9,Fix upstream_translation_update,MERGED,2019-09-19 07:51:46.000000000,2019-09-19 09:08:07.000000000,2019-09-19 09:06:47.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 07:51:46.000000000', 'files': ['roles/prepare-zanata-client/files/upstream_translation_update.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a987857df5e448437c8a0025344cc2a8d79c5972', 'message': 'Fix upstream_translation_update\n\nThe HORIZON_DIR parameter is the last one, the previous change missed\nthe number 3. Update to fix.\n\nThis script still has Zuul v3 compatitibility, remove it.\n\nChange-Id: Ib89d44225de4bd171594659647408900321f23e9\n'}]",0,683046,a987857df5e448437c8a0025344cc2a8d79c5972,9,3,1,6547,,,0,"Fix upstream_translation_update

The HORIZON_DIR parameter is the last one, the previous change missed
the number 3. Update to fix.

This script still has Zuul v3 compatitibility, remove it.

Change-Id: Ib89d44225de4bd171594659647408900321f23e9
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/46/683046/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/prepare-zanata-client/files/upstream_translation_update.sh'],1,a987857df5e448437c8a0025344cc2a8d79c5972,fix-propose,BRANCHNAME=$3 HORIZON_DIR=$4,"HORIZON_DIR=$3# Zuul v3 native job passes the branch in as parameter but # does not set ZUUL_REFNAME. if [ -z ""$ZUUL_REFNAME"" ] ; then BRANCHNAME=$3 else BRANCHNAME=$ZUUL_REFNAME fi",2,8
openstack%2Ftripleo-upgrade~master~I24e05a15975fb5a696d195d87257bc7b7e1c561b,openstack/tripleo-upgrade,master,I24e05a15975fb5a696d195d87257bc7b7e1c561b,Fix image validation when AP services get several images.,MERGED,2019-09-18 10:47:30.000000000,2019-09-19 08:57:35.000000000,2019-09-19 06:07:31.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-18 10:47:30.000000000', 'files': ['templates/validate_docker_images_versions.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cece0f85d471114b07d4d5082e841fc97b7a59af', 'message': ""Fix image validation when AP services get several images.\n\nWhen AP (Actif/Passif) service get several images back from the host\nthe script is broken because it wrongly tests any left over image.\n\nWe fix that by sorting them by tag (the higher being at bottom of the\nlist) and taking only the last one.\n\nWe ensure as well that re-running the script doesn't unnecessarily\nincrease the number of hosts we test for AP services.\n\nChange-Id: I24e05a15975fb5a696d195d87257bc7b7e1c561b\nRelated-Bug: #1843023\n""}]",0,682854,cece0f85d471114b07d4d5082e841fc97b7a59af,15,5,1,8297,,,0,"Fix image validation when AP services get several images.

When AP (Actif/Passif) service get several images back from the host
the script is broken because it wrongly tests any left over image.

We fix that by sorting them by tag (the higher being at bottom of the
list) and taking only the last one.

We ensure as well that re-running the script doesn't unnecessarily
increase the number of hosts we test for AP services.

Change-Id: I24e05a15975fb5a696d195d87257bc7b7e1c561b
Related-Bug: #1843023
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/54/682854/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/validate_docker_images_versions.sh.j2'],1,cece0f85d471114b07d4d5082e841fc97b7a59af,bug/1843023," rm -f {{ working_dir }}/AP_SERVICES_${_ap_service}.txt ""sudo podman images --sort tag 2>&1"" | awk '/'${_ap_service}'/ && !/pcmklatest/ { print $1"":""$2}' | tail -1 )"," ""sudo podman images 2>&1"" | awk '/'${_ap_service}'/ && !/pcmklatest/ { print $1"":""$2}' )",2,1
openstack%2Ftripleo-upgrade~stable%2Fstein~I06949a8b63dba58761e901584c1e49b4f63d2356,openstack/tripleo-upgrade,stable/stein,I06949a8b63dba58761e901584c1e49b4f63d2356,Fix container validation after overcloud update.,MERGED,2019-09-11 14:56:52.000000000,2019-09-19 08:56:40.000000000,2019-09-19 08:56:40.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-11 14:56:52.000000000', 'files': ['templates/validate_docker_images_versions.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1c2309761315b41432c52295593e7ed9e30f0411', 'message': 'Fix container validation after overcloud update.\n\nThe current validation script is tuned to docker.  We switch to podman\nand adjust the expected output.\n\nChange-Id: I06949a8b63dba58761e901584c1e49b4f63d2356\nCloses-Bug: #1843023\n(cherry picked from commit 5aa1aee425880f46c9844afab144a6c829145340)\n'}]",0,681511,1c2309761315b41432c52295593e7ed9e30f0411,11,5,1,8297,,,0,"Fix container validation after overcloud update.

The current validation script is tuned to docker.  We switch to podman
and adjust the expected output.

Change-Id: I06949a8b63dba58761e901584c1e49b4f63d2356
Closes-Bug: #1843023
(cherry picked from commit 5aa1aee425880f46c9844afab144a6c829145340)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/11/681511/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/validate_docker_images_versions.sh.j2'],1,1c2309761315b41432c52295593e7ed9e30f0411,bug/1843023-stable/stein," echo ""Validate podman images at host ${_ip}"" ""sudo podman ps 2>&1 | grep -v -e pcmk -e ID -e qrouter -e 'neutron.*ip netns exec' | awk '{ print \$2 }'"" ) ""sudo podman images 2>&1 | grep pcmk | {% if overcloud_validate_ap_services_list|length>0 %}grep -v -e {{ overcloud_validate_ap_services_list|join(' -e ') }} | {% endif %} awk '{ print \$3 }'"" ) ""sudo podman images 2>&1 | grep -e pcmk | grep ${_ap_service} | awk '{ print \$3 }'"" ) echo ""Validate PCMKLATEST podman images at host ${_ip}"" ""sudo podman images 2>&1 | grep ${_img_id} | grep -v pcmklatest | awk '{ print \$1\"":\""\$2}'"" ) ""sudo podman ps --filter ancestor=${_img_id} | grep -v clustercheck | awk '{if (NR>1){print \$2}}'"" ) echo ""PCMKLATES container ${_pcmk_container} uses image ${_pcmk_image}"" echo ""================================================================================"" echo ""================================================================================"" rm -f {{ working_dir }}/${_ap_service}_found ""sudo podman images 2>&1"" | awk '/'${_ap_service}'/ && !/pcmklatest/ { print $1"":""$2}' ) ""sudo podman ps --filter ancestor=${_ap_service} | awk '{if (NR>1){print \$2}}'"" ) echo ""AP_PCMKLATES container ${_container} uses image ${_image} on host ${_ip}"" > {{ working_dir }}/${_ap_service}_found else cat /home/stack/${_ap_service}_found"," echo ""Validate docker images at host ${_ip}"" ""sudo docker ps 2>&1 | grep -v -e pcmk -e ID -e qrouter -e 'neutron.*ip netns exec' | awk '{ print \$2 }'"" ) ""sudo docker images 2>&1 | grep pcmk | {% if overcloud_validate_ap_services_list|length>0 %}grep -v -e {{ overcloud_validate_ap_services_list|join(' -e ') }} | {% endif %} awk '{ print \$3 }'"" ) ""sudo docker images 2>&1 | grep -e pcmk | grep ${_ap_service} | awk '{ print \$3 }'"" ) echo ""Validate PCMKLATEST docker images at host ${_ip}"" ""sudo docker images 2>&1 | grep ${_img_id} | grep -v pcmklatest | awk '{ print \$1\"":\""\$2}'"" ) ""sudo docker ps --filter ancestor=${_img_id} | grep pcmklatest | awk '{print \$2}'"" ) echo ""PCMKLATES container ${_pcmk_container} usese image ${_pcmk_image}"" ""sudo docker images 2>&1"" | awk '/'${_ap_service}'/ && !/pcmklatest/ { print $1"":""$2}' ) ""sudo docker ps --filter ancestor=${_image} | awk '/:pcmklatest/ {print \$2}'"" ) touch {{ working_dir }}/${_ap_service}_found",16,11
openstack%2Fkolla~stable%2Fqueens~I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,openstack/kolla,stable/queens,I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,base: fix OracleLinux build,MERGED,2019-09-18 15:09:01.000000000,2019-09-19 08:55:55.000000000,2019-09-19 07:45:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-09-18 15:09:01.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ea34f0e19f17fefd3897deb9332a7a4596de5f6b', 'message': 'base: fix OracleLinux build\n\nChange-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64\nCloses-Bug: #1844484\n(cherry picked from commit 187d6c52f1bbb1176d7129a2b24b0cf48ba29d79)\n'}]",0,682928,ea34f0e19f17fefd3897deb9332a7a4596de5f6b,9,3,1,30491,,,0,"base: fix OracleLinux build

Change-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64
Closes-Bug: #1844484
(cherry picked from commit 187d6c52f1bbb1176d7129a2b24b0cf48ba29d79)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/682928/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,ea34f0e19f17fefd3897deb9332a7a4596de5f6b,, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-4.el7.centos.noarch.rpm \, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-3.el7.centos.noarch.rpm \,1,1
openstack%2Fnetworking-ovn~stable%2Fqueens~Ib6f2555c0a821f74fb9f2b585c4932fa37ac1306,openstack/networking-ovn,stable/queens,Ib6f2555c0a821f74fb9f2b585c4932fa37ac1306,Bump ovsdbapp to 0.10.4,ABANDONED,2019-09-11 18:15:23.000000000,2019-09-19 08:50:31.000000000,,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-11 18:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3bf177b59d8d2b003aa37fb71f1c56c0ee0f78c7', 'message': 'Bump ovsdbapp to 0.12.0\n\nChange-Id: Ib6f2555c0a821f74fb9f2b585c4932fa37ac1306\nRelated: rhbz#1545344\n'}, {'number': 2, 'created': '2019-09-12 08:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8db939cfbbe323a3bcc91b956e2d491ac095dea2', 'message': 'Bump ovsdbapp to 0.10.4\n\nChange-Id: Ib6f2555c0a821f74fb9f2b585c4932fa37ac1306\nRelated-Bug: #1752897\n'}, {'number': 3, 'created': '2019-09-16 09:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/71bed1ede04dbf775f77075950684efaa9eb39ab', 'message': 'Bump ovsdbapp to 0.10.4\n\nChange-Id: Ib6f2555c0a821f74fb9f2b585c4932fa37ac1306\nRelated-Bug: #1752897\n'}, {'number': 4, 'created': '2019-09-17 09:08:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a8ad45c135807f4fea6c846c5aa38c737a523eda', 'message': 'Bump ovsdbapp to 0.10.4\n\nDepends-On: https://review.opendev.org/#/c/682588/\n\nChange-Id: Ib6f2555c0a821f74fb9f2b585c4932fa37ac1306\nRelated-Bug: #1752897\n'}]",1,681562,a8ad45c135807f4fea6c846c5aa38c737a523eda,20,5,4,24791,,,0,"Bump ovsdbapp to 0.10.4

Depends-On: https://review.opendev.org/#/c/682588/

Change-Id: Ib6f2555c0a821f74fb9f2b585c4932fa37ac1306
Related-Bug: #1752897
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/62/681562/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3bf177b59d8d2b003aa37fb71f1c56c0ee0f78c7,bug/1802373,ovsdbapp>=0.12.0 # Apache-2.0,ovsdbapp>=0.8.0 # Apache-2.0,1,1
openstack%2Ftempest~master~If49d7d600b6c17ddb6ae97d6f60b3818fa52a3e1,openstack/tempest,master,If49d7d600b6c17ddb6ae97d6f60b3818fa52a3e1,Modify the list project date,MERGED,2019-09-17 11:44:04.000000000,2019-09-19 08:49:42.000000000,2019-09-19 08:48:02.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-09-17 11:44:04.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_projects_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e79f2cc23ff9c292ac2763b0492f04cb8de64b0', 'message': 'Modify the list project date\n\nModify the list project date according to the API document described\n\nChange-Id: If49d7d600b6c17ddb6ae97d6f60b3818fa52a3e1\n'}]",2,682623,9e79f2cc23ff9c292ac2763b0492f04cb8de64b0,8,3,1,30409,,,0,"Modify the list project date

Modify the list project date according to the API document described

Change-Id: If49d7d600b6c17ddb6ae97d6f60b3818fa52a3e1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/682623/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/identity/v3/test_projects_client.py'],1,9e79f2cc23ff9c292ac2763b0492f04cb8de64b0,master2," ""parent_id"": None, ""tags"": [] ""parent_id"": None, ""tags"": [] ""parent_id"": None, ""tags"": [] ""parent_id"": None, ""tags"": []"," ""parent_id"": None ""parent_id"": None ""parent_id"": None ""parent_id"": None",8,4
openstack%2Fkolla~master~Ifaeed6917636e2bcb5ea3bda32ae0393ebb08a4f,openstack/kolla,master,Ifaeed6917636e2bcb5ea3bda32ae0393ebb08a4f,build.py: fix pep8 warnings,MERGED,2019-09-17 15:11:48.000000000,2019-09-19 08:48:56.000000000,2019-09-19 08:46:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-17 15:11:48.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2ce77bc7f84a5a662a81c3cacb3a187e02fa7e98', 'message': 'build.py: fix pep8 warnings\n\nChange-Id: Ifaeed6917636e2bcb5ea3bda32ae0393ebb08a4f\n'}]",0,682673,2ce77bc7f84a5a662a81c3cacb3a187e02fa7e98,12,5,1,24072,,,0,"build.py: fix pep8 warnings

Change-Id: Ifaeed6917636e2bcb5ea3bda32ae0393ebb08a4f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/73/682673/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,2ce77bc7f84a5a662a81c3cacb3a187e02fa7e98,, if (image.status not in STATUS_ERRORS and image.status != STATUS_UNPROCESSED): if not (conf.template_only or conf.save_dependency or conf.list_images or conf.list_dependencies):, if (image.status not in STATUS_ERRORS and image.status != STATUS_UNPROCESSED): if not (conf.template_only or conf.save_dependency or conf.list_images or conf.list_dependencies):,6,6
openstack%2Fkolla~master~Ia0f8b73bcbda6295319f5c8de1aa02a40844207b,openstack/kolla,master,Ia0f8b73bcbda6295319f5c8de1aa02a40844207b,Build pdf doc,MERGED,2019-09-17 10:51:44.000000000,2019-09-19 08:47:55.000000000,2019-09-19 08:44:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-17 10:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e22fe82bedde9c243b9a14bbcce707398adbf57b', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b\n'}, {'number': 2, 'created': '2019-09-17 10:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7583a381b19b172567ebf3cdede31dfcbabb4f7d', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b\n'}, {'number': 3, 'created': '2019-09-17 10:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5c07c8ac92354b0789e4b6290fa8acf021ccc061', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b\n'}, {'number': 4, 'created': '2019-09-17 13:25:47.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/75e7bd530d31c7b8c8544952534122db5bf53c61', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b\n'}]",0,682610,75e7bd530d31c7b8c8544952534122db5bf53c61,21,5,4,14826,,,0,"Build pdf doc

The is one of community goals that each project should produce a
single PDF file. The pdf should be in the output of openstack-tox-docs
job.

TeX packages are required to build PDF locally, following is
recommended:

* inkscape
* texlive-latex-base
* texlive-latex-extra
* texlive-fonts-recommended

More about the goal:
https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html
https://etherpad.openstack.org/p/train-pdf-support-goal
https://etherpad.openstack.org/p/pdf-goal-train-common-problems

Change-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/682610/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",4,e22fe82bedde9c243b9a14bbcce707398adbf57b,build-pdf-docs,[testenv:pdf-docs] basepython = python3 whitelist_externals = make deps = {[testenv:docs]deps} commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,12,1
openstack%2Foctavia~master~I826c5f753f159b2d5dee97d4e2922826444ea6da,openstack/octavia,master,I826c5f753f159b2d5dee97d4e2922826444ea6da,"Fix the diskimage-create tox ""build"" environment",MERGED,2019-08-29 23:31:39.000000000,2019-09-19 08:47:37.000000000,2019-09-19 08:45:21.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-29 23:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/81da3888728b1bc398cf4eec0bc7422bba7f9564', 'message': 'Fix the diskimage-create tox ""build"" environment\n\nThe recently added tox ""build"" environment had a few problems:\n1. It was not honoring the DIB_* environment variables which meant\nin always built a master branch image.\n2. It also failed to run repeatedly due to a cache directory path issue.\n3. The built images were stored in a hidden folder "".amp_tox_test"".\n\nThis patch fixes those issues, resolves a confusing\n""dpkg Broken pipe"" message, and adds a ""Successfully built"" message\nat the end of the built that highlights which branch the image was\nbuilt against (master, stable/stein, etc.).\n\nChange-Id: I826c5f753f159b2d5dee97d4e2922826444ea6da\n'}, {'number': 2, 'created': '2019-08-29 23:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4133be9e6e0b267165ec6177982921f63e848f8a', 'message': 'Fix the diskimage-create tox ""build"" environment\n\nThe recently added tox ""build"" environment had a few problems:\n1. It was not honoring the DIB_* environment variables which meant\nin always built a master branch image.\n2. It also failed to run repeatedly due to a cache directory path issue.\n3. The built images were stored in a hidden folder "".amp_tox_test"".\n\nThis patch fixes those issues, resolves a confusing\n""dpkg Broken pipe"" message, and adds a ""Successfully built"" message\nat the end of the built that highlights which branch the image was\nbuilt against (master, stable/stein, etc.).\n\nChange-Id: I826c5f753f159b2d5dee97d4e2922826444ea6da\n'}, {'number': 3, 'created': '2019-09-19 04:12:37.000000000', 'files': ['diskimage-create/diskimage-create.sh', 'diskimage-create/tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fbe328397b2e5e4435bd93731a9abc425c169fa8', 'message': 'Fix the diskimage-create tox ""build"" environment\n\nThe recently added tox ""build"" environment had a few problems:\n1. It was not honoring the DIB_* environment variables which meant\nin always built a master branch image.\n2. It also failed to run repeatedly due to a cache directory path issue.\n3. The built images were stored in a hidden folder "".amp_tox_test"".\n\nThis patch fixes those issues, resolves a confusing\n""dpkg Broken pipe"" message, and adds a ""Successfully built"" message\nat the end of the built that highlights which branch the image was\nbuilt against (master, stable/stein, etc.).\n\nChange-Id: I826c5f753f159b2d5dee97d4e2922826444ea6da\n'}]",0,679358,fbe328397b2e5e4435bd93731a9abc425c169fa8,25,8,3,11628,,,0,"Fix the diskimage-create tox ""build"" environment

The recently added tox ""build"" environment had a few problems:
1. It was not honoring the DIB_* environment variables which meant
in always built a master branch image.
2. It also failed to run repeatedly due to a cache directory path issue.
3. The built images were stored in a hidden folder "".amp_tox_test"".

This patch fixes those issues, resolves a confusing
""dpkg Broken pipe"" message, and adds a ""Successfully built"" message
at the end of the built that highlights which branch the image was
built against (master, stable/stein, etc.).

Change-Id: I826c5f753f159b2d5dee97d4e2922826444ea6da
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/679358/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/diskimage-create.sh', 'diskimage-create/tox.ini']",2,81da3888728b1bc398cf4eec0bc7422bba7f9564,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY DIB_* CLOUD_INIT_DATASOURCES OCTAVIA_REPO_PATH# We need to clean out the old source-repo cache to make sure we can checkout # the right git branch references. commands = ./diskimage-create.sh -o {toxinidir}/amphora-x64-haproxy -w {toxworkdir} -c {toxworkdir}/.cache,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYcommands = mkdir -p {toxinidir}/.amp_tox_test ./diskimage-create.sh -o {toxinidir}/.amp_tox_test/amphora-x64-haproxy -w {toxworkdir} -c {toxworkdir}/.cache,14,4
openstack%2Fkolla~master~Ie7073e034641276f47c113de945971e8ed4b87ab,openstack/kolla,master,Ie7073e034641276f47c113de945971e8ed4b87ab,Fix GitPython entry in requirements.txt,MERGED,2019-09-17 13:25:47.000000000,2019-09-19 08:46:13.000000000,2019-09-19 08:44:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-17 13:25:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/20a5957a41ac63ed0313aac8216df9fefb0ab0aa', 'message': 'Fix GitPython entry in requirements.txt\n\nThis now has different requirements in global-requirements for py2 and\npy3.\n\nTrivialFix\n\nChange-Id: Ie7073e034641276f47c113de945971e8ed4b87ab\n'}]",0,682646,20a5957a41ac63ed0313aac8216df9fefb0ab0aa,10,5,1,14826,,,0,"Fix GitPython entry in requirements.txt

This now has different requirements in global-requirements for py2 and
py3.

TrivialFix

Change-Id: Ie7073e034641276f47c113de945971e8ed4b87ab
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/682646/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,20a5957a41ac63ed0313aac8216df9fefb0ab0aa,,"GitPython>=1.0.1,<2.1.12;python_version<'3.0' # BSD License (3 clause) GitPython>=1.0.1;python_version>='3.0' # BSD License (3 clause)",GitPython>=1.0.1 # BSD License (3 clause),2,1
openstack%2Fcharm-neutron-api~master~I161ea7d1aec5e5784455b5bce4605b2f9143daa2,openstack/charm-neutron-api,master,I161ea7d1aec5e5784455b5bce4605b2f9143daa2,"revert ""Ensure that only cloud admins are neutron admins""",MERGED,2019-09-09 09:54:04.000000000,2019-09-19 08:43:43.000000000,2019-09-19 06:11:19.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-09 09:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/69c15b2e6673c5b8818acde8e5377a8d66d39855', 'message': 'revert ""Ensure that only cloud admins are neutron admins""\n\nWe can\'t add constraints to admin role without consider\nregressions. It happens that two tempest scenarios are now failling:\n\n tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops\n tempest.scenario.test_server_multinode.TestServerMultinode.test_schedule_to_all_nodes\n\nAlso upstream is currently working on a solution to fix the issue that\nthis change was trying to resolve [0].\n\n[0] https://review.opendev.org/#/c/677004/\n\nChange-Id: I161ea7d1aec5e5784455b5bce4605b2f9143daa2\nRelated-Bug: #1830536\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-09-18 13:39:54.000000000', 'files': ['hooks/neutron_api_hooks.py', 'hooks/neutron_api_utils.py', 'templates/queens/00-admin.json', 'unit_tests/test_neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/2ad425b1cdd8093b40f4cd57ba59b0c3b4eb8e6a', 'message': 'revert ""Ensure that only cloud admins are neutron admins""\n\nWe can\'t add constraints to admin role without consider\nregressions. It happens that two tempest scenarios are now failling:\n\n tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops\n tempest.scenario.test_server_multinode.TestServerMultinode.test_schedule_to_all_nodes\n\nIf admin wants to give role (even Admin role) to an user for a tenant,\nthe right way is to use keystone trust API.\n\nChange-Id: I161ea7d1aec5e5784455b5bce4605b2f9143daa2\nRelated-Bug: #1830536\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,680956,2ad425b1cdd8093b40f4cd57ba59b0c3b4eb8e6a,16,4,2,7730,,,0,"revert ""Ensure that only cloud admins are neutron admins""

We can't add constraints to admin role without consider
regressions. It happens that two tempest scenarios are now failling:

 tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops
 tempest.scenario.test_server_multinode.TestServerMultinode.test_schedule_to_all_nodes

If admin wants to give role (even Admin role) to an user for a tenant,
the right way is to use keystone trust API.

Change-Id: I161ea7d1aec5e5784455b5bce4605b2f9143daa2
Related-Bug: #1830536
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/56/680956/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_hooks.py', 'hooks/neutron_api_utils.py', 'templates/queens/00-admin.json', 'unit_tests/test_neutron_api_utils.py']",4,69c15b2e6673c5b8818acde8e5377a8d66d39855,bug/1830536, nutils.NEUTRON_VPNAAS_CONF]," nutils.NEUTRON_VPNAAS_CONF, nutils.ADMIN_POLICY]",8,10
openstack%2Fpaunch~stable%2Fqueens~I9443ad60affe9c7823b17daa259efee542c6fe22,openstack/paunch,stable/queens,I9443ad60affe9c7823b17daa259efee542c6fe22,Add --cpuset-cpus support,MERGED,2019-09-16 21:33:51.000000000,2019-09-19 08:27:43.000000000,2019-09-19 08:27:43.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 21:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/d9f7d6731fae31015d9d8d36f508ecb10ef3f1a6', 'message': 'Add --cpuset-cpus support for both Docker and Podman\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n(cherry picked from commit ec6c50d1986b5e20e128e40a56120f6699a73cb5)\n'}, {'number': 2, 'created': '2019-09-16 21:35:49.000000000', 'files': ['requirements.txt', 'paunch/tests/test_builder_compose1.py', 'paunch/utils/common.py', 'paunch/builder/compose1.py', 'paunch/utils/__init__.py', 'paunch/tests/test_utils_common.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/4f0b72a32bfdbb691339cb0c9b7fea05b18d2aec', 'message': 'Add --cpuset-cpus support\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n(cherry picked from commit ec6c50d1986b5e20e128e40a56120f6699a73cb5)\n'}]",0,682495,4f0b72a32bfdbb691339cb0c9b7fea05b18d2aec,14,4,2,3153,,,0,"Add --cpuset-cpus support

Limit the specific CPUs or cores a container can use.

If cpuset-cpus is configured in the container layout, then the value
will be used when running the container cli with --cpuset-cpus.
If 'all' is used as a value, we'll then take all available cpus,
computed by: ""0-"" + str(psutil.cpu_count()-1)

If unset (default), the cpuset-cpus value is computed by using psutil with a
new function which returns a comma-separated list range of CPUs that a
container can use.

This parameter is particulary useful for NFV:
https://bugzilla.redhat.com/show_bug.cgi?id=1750781
Indeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,
ovs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)
and tuned profiles (cpu-partitioning).

Change-Id: I9443ad60affe9c7823b17daa259efee542c6fe22
(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)
(cherry picked from commit ec6c50d1986b5e20e128e40a56120f6699a73cb5)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/95/682495/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'paunch/tests/test_builder_compose1.py', 'paunch/utils/common.py', 'paunch/builder/compose1.py', 'paunch/tests/test_utils_common.py', 'paunch/utils/__init__.py']",6,d9f7d6731fae31015d9d8d36f508ecb10ef3f1a6,beers/brno,,,131,12
openstack%2Fpuppet-vswitch~stable%2Frocky~I415a6229a0fbc1b55451e3738539735afdc6f8f4,openstack/puppet-vswitch,stable/rocky,I415a6229a0fbc1b55451e3738539735afdc6f8f4,Fix the undefined method 'chomp' for nil:NilClass error seen with ovs 2.10,MERGED,2018-08-28 14:19:17.000000000,2019-09-19 08:03:22.000000000,2018-08-30 05:56:14.000000000,"[{'_account_id': 3153}, {'_account_id': 10237}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-28 14:19:17.000000000', 'files': ['lib/puppet/provider/vs_config/ovs.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/757c3a333115e6bd29bf0274ee8582989697793b', 'message': ""Fix the undefined method 'chomp' for nil:NilClass error seen with ovs 2.10\n\npuppet-ovn uses puppet-vswitch to configure the OVN params. When OVS binaries are\ncompiled with dpdk support and when vs_config provider runs the command\n'ovs-vsctl list Open_vSwitch .', the below warning messages are seen and\nare part of the command output.\n\n----\nPMD: net_mlx5: cannot load glue library: libibverbs.so.1: cannot open shared\nobject file: No such file or directory\nPMD: net_mlx5: cannot initialize PMD due to missing run-time dependency on\nrdma-core libraries (libibverbs, libmlx5)\n----\n\nWe see the error 'undefined method 'chomp' for nil:NilClass' when the result is\nextracted. This patch fixes this issue by checking if the 'value' var is nil or\nnot before 'parse_column_value' is called.\n\nTripleo deployment with OVN is failing because of this issue.\n\nChange-Id: I415a6229a0fbc1b55451e3738539735afdc6f8f4\nCloses-bug: #1789236\n(cherry picked from commit b6dab2e9bb08401507d95715734f5841663ae055)\n""}]",0,597143,757c3a333115e6bd29bf0274ee8582989697793b,25,6,1,16137,,,0,"Fix the undefined method 'chomp' for nil:NilClass error seen with ovs 2.10

puppet-ovn uses puppet-vswitch to configure the OVN params. When OVS binaries are
compiled with dpdk support and when vs_config provider runs the command
'ovs-vsctl list Open_vSwitch .', the below warning messages are seen and
are part of the command output.

----
PMD: net_mlx5: cannot load glue library: libibverbs.so.1: cannot open shared
object file: No such file or directory
PMD: net_mlx5: cannot initialize PMD due to missing run-time dependency on
rdma-core libraries (libibverbs, libmlx5)
----

We see the error 'undefined method 'chomp' for nil:NilClass' when the result is
extracted. This patch fixes this issue by checking if the 'value' var is nil or
not before 'parse_column_value' is called.

Tripleo deployment with OVN is failing because of this issue.

Change-Id: I415a6229a0fbc1b55451e3738539735afdc6f8f4
Closes-bug: #1789236
(cherry picked from commit b6dab2e9bb08401507d95715734f5841663ae055)
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/43/597143/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/vs_config/ovs.rb'],1,757c3a333115e6bd29bf0274ee8582989697793b,bug/1789236-stable/rocky, if value.nil? next end,,3,0
openstack%2Freleases~master~Ib2cad98731f51bba51cbe389c8f8a6b9e11fbcc3,openstack/releases,master,Ib2cad98731f51bba51cbe389c8f8a6b9e11fbcc3,pymod2pkg: add new mapping for RDO,MERGED,2019-09-17 13:04:00.000000000,2019-09-19 07:57:54.000000000,2019-09-19 07:57:54.000000000,"[{'_account_id': 11904}, {'_account_id': 13294}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 13:04:00.000000000', 'files': ['deliverables/_independent/pymod2pkg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6d75342308eb9f89558233d8a7bea29849941d34', 'message': 'pymod2pkg: add new mapping for RDO\n\nChange-Id: Ib2cad98731f51bba51cbe389c8f8a6b9e11fbcc3\n'}]",3,682638,6d75342308eb9f89558233d8a7bea29849941d34,13,4,1,6593,,,0,"pymod2pkg: add new mapping for RDO

Change-Id: Ib2cad98731f51bba51cbe389c8f8a6b9e11fbcc3
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/682638/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pymod2pkg.yaml'],1,6d75342308eb9f89558233d8a7bea29849941d34,, - version: 0.21.1 projects: - repo: openstack/pymod2pkg hash: caf23616be04e31794aecaa4ffa9456a104b5086,,4,0
openstack%2Fnova~master~I0564c613f30d321de33a1bd71bfe48c37e72ff80,openstack/nova,master,I0564c613f30d321de33a1bd71bfe48c37e72ff80,Temporarily skip TestNovaMigrationsMySQL,MERGED,2019-09-18 23:58:36.000000000,2019-09-19 07:43:14.000000000,2019-09-19 03:21:26.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-18 23:58:36.000000000', 'files': ['nova/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aebebe713a50d1057d5dfdfa4f13be6cc3ce625b', 'message': ""Temporarily skip TestNovaMigrationsMySQL\n\nThere are several changes approved for Train feature freeze\nwhich are still not merged yet nearly a week later because\nof gate failures with bug 1823251. This change skips those\ntests temporarily so we can land some code in time for Train\nRC1 but this change should be reverted prior to RC1 after\nall of those other changes are merged. Note that those\nchanges (vpmems and pcpu series) don't really have anything\nto do with data model schema changes at this point so skipping\nthis test for now won't drop any coverage for what is going in,\nand we aren't merging any other data model schema changes at\nthis point before RC1. Again, this is a temporary measure and\nshould be reverted within a few days.\n\nChange-Id: I0564c613f30d321de33a1bd71bfe48c37e72ff80\nRelated-Bug: #1823251\n""}]",1,683009,aebebe713a50d1057d5dfdfa4f13be6cc3ce625b,15,9,1,6873,,,0,"Temporarily skip TestNovaMigrationsMySQL

There are several changes approved for Train feature freeze
which are still not merged yet nearly a week later because
of gate failures with bug 1823251. This change skips those
tests temporarily so we can land some code in time for Train
RC1 but this change should be reverted prior to RC1 after
all of those other changes are merged. Note that those
changes (vpmems and pcpu series) don't really have anything
to do with data model schema changes at this point so skipping
this test for now won't drop any coverage for what is going in,
and we aren't merging any other data model schema changes at
this point before RC1. Again, this is a temporary measure and
should be reverted within a few days.

Change-Id: I0564c613f30d321de33a1bd71bfe48c37e72ff80
Related-Bug: #1823251
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/683009/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/test_migrations.py'],1,aebebe713a50d1057d5dfdfa4f13be6cc3ce625b,bug/1823251," def setUp(self): super(TestNovaMigrationsMySQL, self).setUp() # TODO(mriedem): Revert this change before Train RC1 since this is a # temporary measure to merge code post-feature-freeze in Train which # continually keeps failing gate runs due to bug 1823251. self.skipTest('Skip due to bug 1823251 but unskip before Train RC1.') ",,7,0
openstack%2Fkolla~stable%2Frocky~I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,openstack/kolla,stable/rocky,I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,base: fix OracleLinux build,MERGED,2019-09-18 15:08:54.000000000,2019-09-19 07:38:17.000000000,2019-09-19 07:38:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-09-18 15:08:54.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5693bfd698a9f00f5fefd0ab0c4c3c38628223bb', 'message': 'base: fix OracleLinux build\n\nChange-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64\nCloses-Bug: #1844484\n(cherry picked from commit 187d6c52f1bbb1176d7129a2b24b0cf48ba29d79)\n'}]",0,682927,5693bfd698a9f00f5fefd0ab0c4c3c38628223bb,9,3,1,30491,,,0,"base: fix OracleLinux build

Change-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64
Closes-Bug: #1844484
(cherry picked from commit 187d6c52f1bbb1176d7129a2b24b0cf48ba29d79)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/682927/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,5693bfd698a9f00f5fefd0ab0c4c3c38628223bb,, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-4.el7.centos.noarch.rpm \, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-3.el7.centos.noarch.rpm \,1,1
openstack%2Ftempest~master~Ie64e2a16a1845b07d5e494217a97b91de3b04136,openstack/tempest,master,Ie64e2a16a1845b07d5e494217a97b91de3b04136,Add .vscode to .gitignore list,ABANDONED,2019-09-16 05:21:34.000000000,2019-09-19 07:33:07.000000000,,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2019-09-16 05:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/44cb140677f6cf2df9b6c4bfdb63945e0e0c9e8c', 'message': 'Add .vscode to .gitignore list\n\nAs a vscode user, .vscode folder gots generated while working\non codebase in VS code editor. It needs to be added to gitignore\nlist otherwise it will be pushed along with code.\n\nChange-Id: Ie64e2a16a1845b07d5e494217a97b91de3b04136\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\n'}, {'number': 2, 'created': '2019-09-16 05:27:17.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5954827a0ab0c3c4ea8e0bf18e34ca2538e9f571', 'message': 'Add .vscode to .gitignore list\n\nAs a vscode user, .vscode folder gots generated while working\non codebase in VS code editor. It needs to be added to gitignore\nlist otherwise it will be pushed along with code.\n\nChange-Id: Ie64e2a16a1845b07d5e494217a97b91de3b04136\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\n'}]",0,682273,5954827a0ab0c3c4ea8e0bf18e34ca2538e9f571,10,6,2,30742,,,0,"Add .vscode to .gitignore list

As a vscode user, .vscode folder gots generated while working
on codebase in VS code editor. It needs to be added to gitignore
list otherwise it will be pushed along with code.

Change-Id: Ie64e2a16a1845b07d5e494217a97b91de3b04136
Signed-off-by: Soniya Vyas <svyas@redhat.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/73/682273/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,44cb140677f6cf2df9b6c4bfdb63945e0e0c9e8c,update_ignore,.vscode,,1,0
openstack%2Frpm-packaging~master~Icd36642ba4509ac655aaa65c059dd61d763f7b9c,openstack/rpm-packaging,master,Icd36642ba4509ac655aaa65c059dd61d763f7b9c,add the required and optional packages for watcher,MERGED,2019-09-13 22:03:34.000000000,2019-09-19 07:21:10.000000000,2019-09-19 07:21:10.000000000,"[{'_account_id': 1916}, {'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 22:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/db9731f98440b491b7b67e4b1d357c9f456a1bb8', 'message': ""recommend packages for watcher-applier\n\nWatcher-applier service attempt to load python-ironicclient\nand python-monascaclient during startup. The absence of those packages won't\nprevent it from starting, but user will see nasty warnings in the logs.\nWe should recommend users to install them when installing watcher-applier\npackage.\n\nChange-Id: Icd36642ba4509ac655aaa65c059dd61d763f7b9c\n""}, {'number': 2, 'created': '2019-09-16 18:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2857034daaa0459aeacabd86c7bb15c0b0ea8f78', 'message': 'add the required and optional packages for watcher\n\nThere are number of client packages that are required by watcher in\norder to function correctly. See\n\nhttps://opendev.org/openstack/watcher/src/branch/master/watcher/common/clients.py\n\nSo add those as requires. Also, ceilometerclient is optional so we add\nit as recommends instead.\n\nChange-Id: Icd36642ba4509ac655aaa65c059dd61d763f7b9c\n'}, {'number': 3, 'created': '2019-09-16 19:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2e5704039083da51f3f31f9e8a0068339d0b60a8', 'message': 'add the required and optional packages for watcher\n\nThere are number of client packages that are required by watcher in\norder to function correctly. See\n\nhttps://opendev.org/openstack/watcher/src/branch/master/watcher/common/clients.py\n\nSo add those as requires. Also, ceilometerclient is optional so we add\nit as recommends instead.\n\nChange-Id: Icd36642ba4509ac655aaa65c059dd61d763f7b9c\n'}, {'number': 4, 'created': '2019-09-18 16:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fe9616cece5463b1016f6e8205fb62df262f1b0b', 'message': 'add the required and optional packages for watcher\n\nThere are number of client packages that are required by watcher in\norder to function correctly. See\n\nhttps://opendev.org/openstack/watcher/src/branch/master/watcher/common/clients.py\n\nSo add those as requires. Also, ceilometerclient is optional so we add\nit as recommends instead.\n\nChange-Id: Icd36642ba4509ac655aaa65c059dd61d763f7b9c\n'}, {'number': 5, 'created': '2019-09-18 16:37:45.000000000', 'files': ['openstack/watcher/watcher.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/91947caf73a964929f03a1a916dcd7644d990aa1', 'message': 'add the required and optional packages for watcher\n\nThere are number of client packages that are required by watcher in\norder to function correctly. See\n\nhttps://opendev.org/openstack/watcher/src/branch/master/watcher/common/clients.py\n\nSo add those as requires. Also, ceilometerclient is optional so we add\nit as recommends instead.\n\nChange-Id: Icd36642ba4509ac655aaa65c059dd61d763f7b9c\n'}]",10,682179,91947caf73a964929f03a1a916dcd7644d990aa1,36,6,5,1916,,,0,"add the required and optional packages for watcher

There are number of client packages that are required by watcher in
order to function correctly. See

https://opendev.org/openstack/watcher/src/branch/master/watcher/common/clients.py

So add those as requires. Also, ceilometerclient is optional so we add
it as recommends instead.

Change-Id: Icd36642ba4509ac655aaa65c059dd61d763f7b9c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/682179/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/watcher/watcher.spec.j2'],1,db9731f98440b491b7b67e4b1d357c9f456a1bb8,watcher_recommends,Recommends: {{ py3('ironicclient') }} Recommends: {{ py3('monascaclient') }},,2,0
openstack%2Foctavia~master~Ie5670575b0448477f515bd1a8d44b23f044f4e5b,openstack/octavia,master,Ie5670575b0448477f515bd1a8d44b23f044f4e5b,WIP: CentOS with multiple fixed ips,ABANDONED,2019-02-10 18:13:36.000000000,2019-09-19 06:53:21.000000000,,"[{'_account_id': 6579}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-10 18:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/11aaf7a5efe789a7475a8171c4ccf226f972fb1b', 'message': 'WIP: CentOS with multiple fixed ips\n\nChange-Id: Ie5670575b0448477f515bd1a8d44b23f044f4e5b\n'}, {'number': 2, 'created': '2019-02-11 13:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/367804b541a25441cb778852cf1b16d5c85dc90c', 'message': 'WIP: CentOS with multiple fixed ips\n\nChange-Id: Ie5670575b0448477f515bd1a8d44b23f044f4e5b\n'}, {'number': 3, 'created': '2019-03-12 11:35:13.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/osutils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/23342cc4951931157cce117e56d963d33fa2e91e', 'message': 'WIP: CentOS with multiple fixed ips\n\nChange-Id: Ie5670575b0448477f515bd1a8d44b23f044f4e5b\n'}]",0,636065,23342cc4951931157cce117e56d963d33fa2e91e,8,2,3,6579,,,0,"WIP: CentOS with multiple fixed ips

Change-Id: Ie5670575b0448477f515bd1a8d44b23f044f4e5b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/65/636065/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/osutils.py'],1,11aaf7a5efe789a7475a8171c4ccf226f972fb1b,centos_amp_networks," host_routes = [] for fixed_ip in fixed_ips: super(RH, self).write_port_interface_file( netns_interface, [fixed_ip], mtu, interface_file_path, template_port) host_routes.extend(self.get_host_routes(fixed_ip)) routes_interface_file_path = ( self.get_static_routes_interface_file(netns_interface)) template_routes = j2_env.get_template(self.ROUTE_ETH_X_CONF) self.write_static_routes_interface_file( routes_interface_file_path, netns_interface, host_routes, template_routes, None, None, None) self._write_ifup_ifdown_local_scripts_if_possible()"," super(RH, self).write_port_interface_file( netns_interface, fixed_ips, mtu, interface_file_path, template_port) if fixed_ips: host_routes = [] for fixed_ip in fixed_ips: host_routes.extend(self.get_host_routes(fixed_ip)) routes_interface_file_path = ( self.get_static_routes_interface_file(netns_interface)) template_routes = j2_env.get_template(self.ROUTE_ETH_X_CONF) self.write_static_routes_interface_file( routes_interface_file_path, netns_interface, host_routes, template_routes, None, None, None) self._write_ifup_ifdown_local_scripts_if_possible()",13,14
openstack%2Fkolla~master~I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,openstack/kolla,master,I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,base: fix OracleLinux build,ABANDONED,2019-09-18 09:49:16.000000000,2019-09-19 06:37:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 09:49:16.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/08092cd5dd2ed6154df6ca841b6b36e7501ee062', 'message': 'base: fix OracleLinux build\n\nChange-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64\n'}]",0,682849,08092cd5dd2ed6154df6ca841b6b36e7501ee062,5,2,1,24072,,,0,"base: fix OracleLinux build

Change-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/682849/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,08092cd5dd2ed6154df6ca841b6b36e7501ee062,, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-4.el7.centos.noarch.rpm \, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-3.el7.centos.noarch.rpm \,1,1
openstack%2Fpuppet-openstacklib~stable%2Frocky~I55e587ea5c83338ae989aa56f1f379079eb02e08,openstack/puppet-openstacklib,stable/rocky,I55e587ea5c83338ae989aa56f1f379079eb02e08,Restore defaults for combine and failonfail in openstack command,MERGED,2019-09-18 08:12:58.000000000,2019-09-19 05:57:45.000000000,2019-09-19 05:57:44.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 08:12:58.000000000', 'files': ['lib/puppet/provider/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/64d5aec21674c60e61f4f4d8b0c694eed05b91b5', 'message': 'Restore defaults for combine and failonfail in openstack command\n\n[1] added ""override_locale: false"" to the openstack command executions,\nto respect the current locale. This had an unintended side effect,\nsince it changed the values for failonfail and combine to false in\nthat same execution, as described in [2].\n\nWe should ensure that openstack command failures are respected, so\nthis commit restores that behavior.\n\n[1] - https://review.opendev.org/640997\n[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L139-L143\n\nChange-Id: I55e587ea5c83338ae989aa56f1f379079eb02e08\n(cherry picked from commit 726b06cdb49426719a13be3f02bcce72a697484c)\n'}]",0,682822,64d5aec21674c60e61f4f4d8b0c694eed05b91b5,6,2,1,13294,,,0,"Restore defaults for combine and failonfail in openstack command

[1] added ""override_locale: false"" to the openstack command executions,
to respect the current locale. This had an unintended side effect,
since it changed the values for failonfail and combine to false in
that same execution, as described in [2].

We should ensure that openstack command failures are respected, so
this commit restores that behavior.

[1] - https://review.opendev.org/640997
[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L139-L143

Change-Id: I55e587ea5c83338ae989aa56f1f379079eb02e08
(cherry picked from commit 726b06cdb49426719a13be3f02bcce72a697484c)
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/22/682822/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/openstack.rb'],1,64d5aec21674c60e61f4f4d8b0c694eed05b91b5,," execute([command(:openstack_command)] + args, override_locale: false, failonfail: true, combine: true)"," execute([command(:openstack_command)] + args, override_locale: false)",1,1
openstack%2Ftripleo-heat-templates~master~I4c343de44b92fa6923f322b1235c35258f3de02a,openstack/tripleo-heat-templates,master,I4c343de44b92fa6923f322b1235c35258f3de02a,Misspelling of words,MERGED,2019-09-12 10:41:57.000000000,2019-09-19 05:18:54.000000000,2019-09-19 05:15:52.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 10:41:57.000000000', 'files': ['releasenotes/notes/enable-dpdk-on-boot-f5b098b10152b436.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4f46122b47788e9c801216102789b91bc09914b', 'message': 'Misspelling of words\n\nChange-Id: I4c343de44b92fa6923f322b1235c35258f3de02a\n'}]",0,681708,b4f46122b47788e9c801216102789b91bc09914b,10,2,1,30455,,,0,"Misspelling of words

Change-Id: I4c343de44b92fa6923f322b1235c35258f3de02a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/681708/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/enable-dpdk-on-boot-f5b098b10152b436.yaml'],1,b4f46122b47788e9c801216102789b91bc09914b,, - A new parameter ServiceNames is added to the PreNetworkConfig resource. All templates associated with PreNetworkConfig should add this new, - A new parameter ServiceNames is added to the PreNeworkConfig resource. All templates associated with PreNeworkConfig should add this new,2,2
openstack%2Ftripleo-ci~master~Ic707606d593ba1b2e80ed6239a39375f9297bf4b,openstack/tripleo-ci,master,Ic707606d593ba1b2e80ed6239a39375f9297bf4b,Reduce jobs by optimization of irrelevant files,MERGED,2019-09-16 06:51:25.000000000,2019-09-19 05:15:50.000000000,2019-09-19 05:15:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 06:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ef92591bc5b884ab48194a9b292c8dc5b278341', 'message': ""Reduce jobs by optimization of irrelevant files\n\nDon't run multinode, standalone and undercloud jobs on changes\nwhich include docs, test files, changes of build images or\ncontainers roles and playbooks.\nChange-Id: Ic707606d593ba1b2e80ed6239a39375f9297bf4b\n""}, {'number': 2, 'created': '2019-09-16 16:10:12.000000000', 'files': ['zuul.d/undercloud-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ed42c26a5b3964f93d0c1c65d6cfbee9d5bf0ce', 'message': ""Reduce jobs by optimization of irrelevant files\n\nDon't run multinode, standalone and undercloud jobs on changes\nwhich include docs, test files, changes of build images or\ncontainers roles and playbooks.\nChange-Id: Ic707606d593ba1b2e80ed6239a39375f9297bf4b\n""}]",0,682278,3ed42c26a5b3964f93d0c1c65d6cfbee9d5bf0ce,26,8,2,10969,,,0,"Reduce jobs by optimization of irrelevant files

Don't run multinode, standalone and undercloud jobs on changes
which include docs, test files, changes of build images or
containers roles and playbooks.
Change-Id: Ic707606d593ba1b2e80ed6239a39375f9297bf4b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/682278/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/multinode-jobs.yaml']",2,2ef92591bc5b884ab48194a9b292c8dc5b278341,, - tripleo-ci-centos-7-containers-multinode: irrelevant-files: &multinode_ignored - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-standalone: irrelevant-files: &standalone_ignored - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - tripleo-ci-centos-7-standalone-rocky: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-standalone-upgrade: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-standalone-upgrade-stein: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario001-multinode-oooq-container: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario002-multinode-oooq-container: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario003-multinode-oooq-container: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario004-multinode-oooq-container: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario007-multinode-oooq-container: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario012-multinode-oooq-container: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-standalone-upgrade: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-standalone-upgrade-stein: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario001-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario002-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario003-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario004-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-standalone-os-tempest: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-standalone-os-tempest: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-standalone-upgrade-stein: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-containers-multinode-stein: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-containers-multinode-rocky: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-containers-multinode-queens: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-containers-multinode-stein: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-containers-multinode-rocky: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-containers-multinode-queens: irrelevant-files: *multinode_ignored, - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-undercloud-containers - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades - tripleo-ci-centos-7-standalone - tripleo-ci-centos-7-standalone-rocky - tripleo-ci-centos-7-standalone-upgrade - tripleo-ci-centos-7-standalone-upgrade-stein - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-undercloud-containers - tripleo-ci-centos-7-scenario001-multinode-oooq-container - tripleo-ci-centos-7-scenario002-multinode-oooq-container - tripleo-ci-centos-7-scenario003-multinode-oooq-container - tripleo-ci-centos-7-scenario004-multinode-oooq-container - tripleo-ci-centos-7-scenario007-multinode-oooq-container - tripleo-ci-centos-7-scenario012-multinode-oooq-container - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades - tripleo-ci-centos-7-standalone - tripleo-ci-centos-7-standalone-upgrade - tripleo-ci-centos-7-standalone-upgrade-stein - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone - tripleo-ci-centos-7-standalone-os-tempest - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-standalone - tripleo-ci-centos-7-standalone-os-tempest - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates - tripleo-ci-centos-7-standalone-upgrade-stein - tripleo-ci-centos-7-containers-multinode-stein - tripleo-ci-centos-7-containers-multinode-rocky - tripleo-ci-centos-7-containers-multinode-queens - tripleo-ci-centos-7-containers-multinode-stein - tripleo-ci-centos-7-containers-multinode-rocky - tripleo-ci-centos-7-containers-multinode-queens,151,43
openstack%2Fmistral-dashboard~master~Ie475b8ab5b40d5b365eeb9f63ecb34b13a810f8c,openstack/mistral-dashboard,master,Ie475b8ab5b40d5b365eeb9f63ecb34b13a810f8c,Fix error when use keystone federation,MERGED,2019-09-18 16:01:58.000000000,2019-09-19 05:13:50.000000000,2019-09-19 05:13:50.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-18 16:01:58.000000000', 'files': ['mistraldashboard/api.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/538fc12dff4c6e1171c28e6b49fddbe5371db315', 'message': 'Fix error when use keystone federation\n\nIf we config keystone federation, we was received a error when\nwe change to region other.\n\nChange-Id: Ie475b8ab5b40d5b365eeb9f63ecb34b13a810f8c\n'}]",0,682940,538fc12dff4c6e1171c28e6b49fddbe5371db315,6,3,1,28691,,,0,"Fix error when use keystone federation

If we config keystone federation, we was received a error when
we change to region other.

Change-Id: Ie475b8ab5b40d5b365eeb9f63ecb34b13a810f8c
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/40/682940/1 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/api.py'],1,538fc12dff4c6e1171c28e6b49fddbe5371db315,fix-federation,"from openstack_dashboard.api import base # We can't use auth_url param in here if we config # and use keystone federation mistral_url=base.url_for(request, 'workflowv2'),"," # Ideally, we should get it from identity endpoint, but since # python-mistralclient is not supporting v2.0 API it might create # additional troubles for those who still rely on v2.0 stack-wise. auth_url=getattr(settings, 'OPENSTACK_KEYSTONE_URL'),",4,4
openstack%2Fopenstack-ansible-os_ironic~master~I196d10c71a0b0966428a5dfbd6173f0ac4acce7b,openstack/openstack-ansible-os_ironic,master,I196d10c71a0b0966428a5dfbd6173f0ac4acce7b,Remove UCS packages from os_ironic,MERGED,2019-09-16 18:18:50.000000000,2019-09-19 05:09:17.000000000,2019-09-19 05:08:05.000000000,"[{'_account_id': 7414}, {'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-16 18:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/57226229610122cb938dbf4832d2993f1eb332e1', 'message': '[DNM] testing os_ironic master\n\nChange-Id: I196d10c71a0b0966428a5dfbd6173f0ac4acce7b\n'}, {'number': 2, 'created': '2019-09-16 21:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/32118a30d129ca8458debe48605a87eebecd8589', 'message': '[DNM] testing os_ironic master\n\nChange-Id: I196d10c71a0b0966428a5dfbd6173f0ac4acce7b\n'}, {'number': 3, 'created': '2019-09-17 14:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d717714b9e5ce068a2e5fe49730a464287f61239', 'message': '[DNM] testing os_ironic master\n\nChange-Id: I196d10c71a0b0966428a5dfbd6173f0ac4acce7b\n'}, {'number': 4, 'created': '2019-09-17 15:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/7131b51b5558538096ffe10ae1553e7e85e35563', 'message': 'Remove UCS packages from os_ironic\n\nUcsSdk and IsmSdk are not compatible with Py3. This patch\nremoves them.\n\nChange-Id: I196d10c71a0b0966428a5dfbd6173f0ac4acce7b\n'}, {'number': 5, 'created': '2019-09-18 16:57:39.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/b21a6cf3a08ac11474bfb7fe3f3c1e92f2b14661', 'message': 'Remove UCS packages from os_ironic\n\nUcsSdk and ImcSdk are not compatible with Py3. This patch\nremoves them.\n\nDepends-On: I9bbd3195a7b02a55e38207aa4bba182a6e58346c\nChange-Id: I196d10c71a0b0966428a5dfbd6173f0ac4acce7b\n'}]",0,682446,b21a6cf3a08ac11474bfb7fe3f3c1e92f2b14661,19,4,5,21314,,,0,"Remove UCS packages from os_ironic

UcsSdk and ImcSdk are not compatible with Py3. This patch
removes them.

Depends-On: I9bbd3195a7b02a55e38207aa4bba182a6e58346c
Change-Id: I196d10c71a0b0966428a5dfbd6173f0ac4acce7b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/46/682446/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,57226229610122cb938dbf4832d2993f1eb332e1,,,,0,0
openstack%2Foslo.policy~master~I803c41f03a4c17f225fd3d262595ddb9d7bd3b9b,openstack/oslo.policy,master,I803c41f03a4c17f225fd3d262595ddb9d7bd3b9b,Fix fault when deleting policy_file,ABANDONED,2019-09-18 08:56:33.000000000,2019-09-19 05:04:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-18 08:56:33.000000000', 'files': ['oslo_policy/_cache_handler.py', 'oslo_policy/tests/base.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/e68b81b019ce70898ea59cf58e79ff0e6985dc0a', 'message': 'Fix fault when deleting policy_file\n\nOperator may wants to roll back its policy to default but once\nloading policy_file, fault occurs when policy_file is deleted.\n\nChange-Id: I803c41f03a4c17f225fd3d262595ddb9d7bd3b9b\nCloses-Bug: 1844292\n'}]",0,682838,e68b81b019ce70898ea59cf58e79ff0e6985dc0a,4,2,1,26588,,,0,"Fix fault when deleting policy_file

Operator may wants to roll back its policy to default but once
loading policy_file, fault occurs when policy_file is deleted.

Change-Id: I803c41f03a4c17f225fd3d262595ddb9d7bd3b9b
Closes-Bug: 1844292
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/38/682838/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/_cache_handler.py', 'oslo_policy/tests/base.py', 'oslo_policy/tests/test_policy.py']",3,e68b81b019ce70898ea59cf58e79ff0e6985dc0a,bug/1844292," def test_load_rules_delete_policy_file(self, mock_check_rules): self.enforcer.load_rules() self.delete_config_file('policy.json') self.enforcer.load_rules() self.assertEqual(2, mock_check_rules.call_count) self.assertEqual(self.enforcer.rules, {}) @mock.patch('oslo_policy.policy.Enforcer.check_rules')",,15,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,openstack/puppet-openstack_spec_helper,stable/rocky,I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,Remove zuul-cloner usage,MERGED,2019-09-18 11:27:55.000000000,2019-09-19 05:02:30.000000000,2019-09-19 05:02:30.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 11:27:55.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/fc1b547a9ed489bae8b163e3c53a9180c890f647', 'message': 'Remove zuul-cloner usage\n\nChange-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3\n(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)\n'}]",0,682861,fc1b547a9ed489bae8b163e3c53a9180c890f647,6,2,1,16137,,,0,"Remove zuul-cloner usage

Change-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3
(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/61/682861/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",3,fc1b547a9ed489bae8b163e3c53a9180c890f647,," if File.directory?(""/home/zuul/src/opendev.org/#{repo}"") sh(""mkdir openstack || true"") sh(""cp -R /home/zuul/src/opendev.org/#{repo} #{repo}"")"," if File.exists?('/usr/zuul-env/bin/zuul-cloner') zuul_clone_cmd = ['/usr/zuul-env/bin/zuul-cloner'] zuul_clone_cmd += ['--cache-dir', '/opt/git'] zuul_clone_cmd += ['--zuul-branch', ""#{zuul_branch}""] zuul_clone_cmd += ['https://git.openstack.org', ""#{repo}""] sh(*zuul_clone_cmd)",9,15
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,openstack/puppet-openstack_spec_helper,stable/queens,I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,Remove zuul-cloner usage,MERGED,2019-09-18 11:28:49.000000000,2019-09-19 05:02:29.000000000,2019-09-19 05:02:29.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 11:28:49.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/2147f0b570583f37d5b3e25088052ccc5dd53351', 'message': 'Remove zuul-cloner usage\n\nChange-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3\n(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)\n'}]",0,682862,2147f0b570583f37d5b3e25088052ccc5dd53351,6,2,1,16137,,,0,"Remove zuul-cloner usage

Change-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3
(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/62/682862/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",3,2147f0b570583f37d5b3e25088052ccc5dd53351,," if File.directory?(""/home/zuul/src/opendev.org/#{repo}"") sh(""mkdir openstack || true"") sh(""cp -R /home/zuul/src/opendev.org/#{repo} #{repo}"")"," if File.exists?('/usr/zuul-env/bin/zuul-cloner') zuul_clone_cmd = ['/usr/zuul-env/bin/zuul-cloner'] zuul_clone_cmd += ['--cache-dir', '/opt/git'] zuul_clone_cmd += ['--zuul-branch', ""#{zuul_branch}""] zuul_clone_cmd += ['https://git.openstack.org', ""#{repo}""] sh(*zuul_clone_cmd)",9,15
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,openstack/puppet-openstack_spec_helper,stable/stein,I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,Remove zuul-cloner usage,MERGED,2019-09-18 11:26:54.000000000,2019-09-19 05:02:28.000000000,2019-09-19 05:02:28.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 11:26:54.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/637f6cc710b946b15991d8f53729b28c4267c4a5', 'message': 'Remove zuul-cloner usage\n\nChange-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3\n(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)\n'}]",0,682859,637f6cc710b946b15991d8f53729b28c4267c4a5,6,2,1,16137,,,0,"Remove zuul-cloner usage

Change-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3
(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/59/682859/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",3,637f6cc710b946b15991d8f53729b28c4267c4a5,," if File.directory?(""/home/zuul/src/opendev.org/#{repo}"") sh(""mkdir openstack || true"") sh(""cp -R /home/zuul/src/opendev.org/#{repo} #{repo}"")"," if File.exists?('/usr/zuul-env/bin/zuul-cloner') zuul_clone_cmd = ['/usr/zuul-env/bin/zuul-cloner'] zuul_clone_cmd += ['--cache-dir', '/opt/git'] zuul_clone_cmd += ['--zuul-branch', ""#{zuul_branch}""] zuul_clone_cmd += ['https://git.openstack.org', ""#{repo}""] sh(*zuul_clone_cmd)",9,15
openstack%2Fironic~master~I6d8f5cd629e2e17eb86b6f8154a605050e0c7abe,openstack/ironic,master,I6d8f5cd629e2e17eb86b6f8154a605050e0c7abe,Add Redfish inspect interface to idrac HW type,MERGED,2019-09-12 13:31:04.000000000,2019-09-19 04:53:20.000000000,2019-09-18 19:12:16.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-09-12 13:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c070fc595cf4163e42be2c75d45336b3e0b9ce81', 'message': '[WIP] Add Redfish inspect interface support for iDRAC\n\nThe idrac hardware type declares support for Redfish inspect\ninterface implementation.\n\nChange-Id: I6d8f5cd629e2e17eb86b6f8154a605050e0c7abe\nStory: 2004592\nTask: 36275\n'}, {'number': 2, 'created': '2019-09-13 10:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f93b19a1b85b22be5d416ea004f2732773c2adf', 'message': 'Add Redfish inspect interface support for iDRAC\n\nThis patch adds support for Redfish inspect interface\nimplementation for iDRAC.\n\nDepends-On: I11f002eff78d27369b3dbe9a9fbd5fc73496a5eb\nChange-Id: I6d8f5cd629e2e17eb86b6f8154a605050e0c7abe\nStory: 2004592\nTask: 36275\n'}, {'number': 3, 'created': '2019-09-17 20:55:39.000000000', 'files': ['ironic/drivers/modules/drac/inspect.py', 'releasenotes/notes/idrac-add-redfish-inspect-support-ce74bd3d4a97b588.yaml', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic/commit/62579800fbb5ef3001185a071c3e85238d462770', 'message': ""Add Redfish inspect interface to idrac HW type\n\nThis change adds idrac hardware type support of an inspect interface\nimplementation that utilizes the Redfish out-of-band (OOB) management\nprotocol and is compatible with the integrated Dell Remote Access\nController (iDRAC) baseboard management controller (BMC). It is named\n'idrac-redfish'.\n\nThe idrac hardware type declares support for that new interface\nimplementation, in addition to all inspect interface implementations it\nhas been supporting. The highest priority inspect interfaces remain the\nsame, those which rely on the Web Services Management (WS-Man) OOB\nmanagement protocol. The new 'idrac-redfish' immediately follows those.\n\nCo-Authored-By: Richard G. Pioso <richard.pioso@dell.com>\nChange-Id: I6d8f5cd629e2e17eb86b6f8154a605050e0c7abe\n""}]",6,681745,62579800fbb5ef3001185a071c3e85238d462770,28,12,3,29863,,,0,"Add Redfish inspect interface to idrac HW type

This change adds idrac hardware type support of an inspect interface
implementation that utilizes the Redfish out-of-band (OOB) management
protocol and is compatible with the integrated Dell Remote Access
Controller (iDRAC) baseboard management controller (BMC). It is named
'idrac-redfish'.

The idrac hardware type declares support for that new interface
implementation, in addition to all inspect interface implementations it
has been supporting. The highest priority inspect interfaces remain the
same, those which rely on the Web Services Management (WS-Man) OOB
management protocol. The new 'idrac-redfish' immediately follows those.

Co-Authored-By: Richard G. Pioso <richard.pioso@dell.com>
Change-Id: I6d8f5cd629e2e17eb86b6f8154a605050e0c7abe
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/681745/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/inspect.py', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py', 'setup.cfg']",4,c070fc595cf4163e42be2c75d45336b3e0b9ce81,idrac-redfish-inspect, idrac-redfish = ironic.drivers.modules.drac.inspect:DracRedfishInspect,,17,2
openstack%2Ftripleo-validations~stable%2Fstein~I8432eab9fcec488dc757eabc350ea3e6a9c53102,openstack/tripleo-validations,stable/stein,I8432eab9fcec488dc757eabc350ea3e6a9c53102,Switch to promote docs job,MERGED,2019-09-18 19:45:15.000000000,2019-09-19 04:44:52.000000000,2019-09-19 04:44:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 19:45:15.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/accc56abd1d58fbe4d1b27f1e7dc9b9f839fb716', 'message': 'Switch to promote docs job\n\nWe now use a promote job for publishing that avoids building again the\ndocuments after merge. use this here as well.\n\nWe can only use the promote jobs when the job run in gate, so use the\nsame file conditions. To make those easier to sync, get rid of the\nspecial tripleo job and use openstack-tox-docs directly.\n\nFor further details about promote jobs, see\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-August/008610.html\n\nChange-Id: I8432eab9fcec488dc757eabc350ea3e6a9c53102\n(cherry picked from commit 962004f2a5673c49c103a2268760d410438de61a)\n'}]",0,682982,accc56abd1d58fbe4d1b27f1e7dc9b9f839fb716,7,2,1,6547,,,0,"Switch to promote docs job

We now use a promote job for publishing that avoids building again the
documents after merge. use this here as well.

We can only use the promote jobs when the job run in gate, so use the
same file conditions. To make those easier to sync, get rid of the
special tripleo job and use openstack-tox-docs directly.

For further details about promote jobs, see
http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008610.html

Change-Id: I8432eab9fcec488dc757eabc350ea3e6a9c53102
(cherry picked from commit 962004f2a5673c49c103a2268760d410438de61a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/82/682982/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/layout.yaml']",2,accc56abd1d58fbe4d1b27f1e7dc9b9f839fb716,stein/backport/677792, - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^README.rst - openstack-tox-lower-constraints - openstack-tox-docs: *tripleo-docs promote: jobs: - promote-openstack-tox-docs: *tripleo-docs, - tripleo-validations-docs - openstack-tox-lower-constraints - tripleo-validations-docs post: jobs: - publish-openstack-tox-docs,8,11
openstack%2Ftripleo-heat-templates~master~Iea42f5ad4830e290277f443082eed4f9275eabaa,openstack/tripleo-heat-templates,master,Iea42f5ad4830e290277f443082eed4f9275eabaa,Add redis password for ml2 ansible coordination,MERGED,2019-09-10 16:13:08.000000000,2019-09-19 04:44:51.000000000,2019-09-19 04:44:50.000000000,"[{'_account_id': 5792}, {'_account_id': 6994}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-10 16:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc3b4234ae6dabb54de43c804e2ee8d7a63ef529', 'message': 'Add redit password for ml2 ansible coordination\n\nnetworking-ansible-ml2 added a requirement for tooz coordination\nwhich needs a redis password.\n\nChange-Id: Iea42f5ad4830e290277f443082eed4f9275eabaa\n'}, {'number': 2, 'created': '2019-09-10 16:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/551e55e4c3099f4bd2c9dfec14f865aa99c33a22', 'message': 'Add redis password for ml2 ansible coordination\n\nnetworking-ansible-ml2 added a requirement for tooz coordination\nwhich needs a redis password.\n\nChange-Id: Iea42f5ad4830e290277f443082eed4f9275eabaa\n'}, {'number': 3, 'created': '2019-09-11 09:07:54.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2314a92cd6211dcf1764bd505f7d11d5d9f62d3', 'message': 'Add redis password for ml2 ansible coordination\n\nnetworking-ansible-ml2 added a requirement for tooz coordination\nwhich needs a redis password.\n\nChange-Id: Iea42f5ad4830e290277f443082eed4f9275eabaa\n'}]",4,681298,d2314a92cd6211dcf1764bd505f7d11d5d9f62d3,20,6,3,6994,,,0,"Add redis password for ml2 ansible coordination

networking-ansible-ml2 added a requirement for tooz coordination
which needs a redis password.

Change-Id: Iea42f5ad4830e290277f443082eed4f9275eabaa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/681298/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml'],1,dc3b4234ae6dabb54de43c804e2ee8d7a63ef529,networking-ansible-ml2-coordination, - neutron_redis_password: {get_param: RedisPassword},,1,0
openstack%2Fos-acc~master~I8b570f8d85752077560a6c358092857acd0decdc,openstack/os-acc,master,I8b570f8d85752077560a6c358092857acd0decdc,Removing project os-acc.,MERGED,2019-09-16 21:47:47.000000000,2019-09-19 04:39:30.000000000,2019-09-19 04:39:29.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 25738}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-09-16 21:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/233e08d666ae319d4c716f6fb4129f1f26b3ede3', 'message': 'Removing project os-acc.\n\nThis removal was announced in openstack-discuss [1].\n[1] http://lists.openstack.org/pipermail/openstack-discuss/\n2019-August/008473.html\n\nDepends-On: https://review.opendev.org/#/c/676331\nChange-Id: I8b570f8d85752077560a6c358092857acd0decdc\n'}, {'number': 2, 'created': '2019-09-16 22:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/0e0dabebc706bcaeb4568608a711428f45b2f836', 'message': 'Removing project os-acc.\n\nThis removal was announced in openstack-discuss [1].\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008473.html\n\nDepends-On: https://review.opendev.org/#/c/676331\nChange-Id: I8b570f8d85752077560a6c358092857acd0decdc\n'}, {'number': 3, 'created': '2019-09-16 22:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/e550a7f77e9d433c17e2aebb718ddc561a76e969', 'message': 'Removing project os-acc.\n\nThis removal was announced in openstack-discuss [1].\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008473.html\n\nDepends-On: https://review.opendev.org/#/c/676331\nChange-Id: I8b570f8d85752077560a6c358092857acd0decdc\n'}, {'number': 4, 'created': '2019-09-17 04:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/db91723eaaf00795bc5888ad9ad856aab760d265', 'message': 'Removing project os-acc.\n\nThis removal was announced in openstack-discuss [1].\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008473.html\n\nDepends-On: https://review.opendev.org/#/c/676331\nChange-Id: I8b570f8d85752077560a6c358092857acd0decdc\n'}, {'number': 5, 'created': '2019-09-17 05:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/3b213e8572a6bca7bea86faf7c44aae7ed415831', 'message': 'Removing project os-acc: Step 3/5.\n\nThis removal was announced in openstack-discuss [1].\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008473.html\n\nDepends-On: https://review.opendev.org/#/c/676331\nChange-Id: I8b570f8d85752077560a6c358092857acd0decdc\n'}, {'number': 6, 'created': '2019-09-17 05:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/e57245e3134d093634b1de2f771204aae23bc28c', 'message': 'Removing project os-acc.\n\nStep 3/5 in\nhttps://docs.openstack.org/infra/manual/drivers.html#retiring-a-project\n\nThis removal was announced in openstack-discuss [1].\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008473.html\n\nDepends-On: https://review.opendev.org/#/c/676331\nChange-Id: I8b570f8d85752077560a6c358092857acd0decdc\n'}, {'number': 7, 'created': '2019-09-17 06:05:53.000000000', 'files': ['.gitignore', 'doc/source/install/index.rst', 'os_acc/tests/__init__.py', 'test-requirements.txt', 'README.rst', 'setup.py', 'os_acc/pci.py', 'releasenotes/source/_templates/.placeholder', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'os_acc/i18n.py', 'requirements.txt', 'os_acc/tests/unit/__init__.py', 'releasenotes/source/_static/.placeholder', 'releasenotes/source/rocky.rst', '.coveragerc', 'LICENSE', '.stestr.conf', 'os_acc/__init__.py', 'os_acc/base.py', 'os_acc/tests/unit/test_os_acc.py', '.zuul.yaml', 'babel.cfg', 'doc/source/conf.py', 'os_acc/tests/unit/base.py', 'releasenotes/source/index.rst', 'os_acc/version.py', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'os_acc/exception.py', 'os_acc/tests/functional/__init__.py', '.testr.conf', 'setup.cfg', 'tox.ini', 'os_acc/tests/unit/test_exception.py', 'HACKING.rst', 'os_acc/tests/unit/test_pci.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-acc/commit/a73815a2df6a4c9e2dffb6f68bd33b2fe1210d5b', 'message': 'Removing project os-acc.\n\nStep 3/5 in\nhttps://docs.openstack.org/infra/manual/drivers.html#retiring-a-project\n\nThis removal was announced in openstack-discuss [1].\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008473.html\n\nDepends-On: https://review.opendev.org/#/c/676331\nChange-Id: I8b570f8d85752077560a6c358092857acd0decdc\n'}]",0,682498,a73815a2df6a4c9e2dffb6f68bd33b2fe1210d5b,32,9,7,21672,,,0,"Removing project os-acc.

Step 3/5 in
https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project

This removal was announced in openstack-discuss [1].
[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008473.html

Depends-On: https://review.opendev.org/#/c/676331
Change-Id: I8b570f8d85752077560a6c358092857acd0decdc
",git fetch https://review.opendev.org/openstack/os-acc refs/changes/98/682498/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'doc/source/install/index.rst', 'os_acc/tests/__init__.py', 'test-requirements.txt', 'README.rst', 'setup.py', 'os_acc/pci.py', 'releasenotes/source/_templates/.placeholder', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'os_acc/i18n.py', 'requirements.txt', 'os_acc/tests/unit/__init__.py', 'releasenotes/source/_static/.placeholder', 'releasenotes/source/rocky.rst', '.coveragerc', 'LICENSE', '.stestr.conf', 'os_acc/__init__.py', 'os_acc/base.py', 'os_acc/tests/unit/test_os_acc.py', '.zuul.yaml', 'babel.cfg', 'doc/source/conf.py', 'os_acc/tests/unit/base.py', 'releasenotes/source/index.rst', 'os_acc/version.py', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'os_acc/exception.py', 'os_acc/tests/functional/__init__.py', '.testr.conf', 'setup.cfg', 'tox.ini', 'os_acc/tests/unit/test_exception.py', 'HACKING.rst', 'os_acc/tests/unit/test_pci.py', 'releasenotes/source/conf.py']",38,233e08d666ae319d4c716f6fb4129f1f26b3ede3,,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # # os-acc Release Notes documentation build configuration file # -- General configuration ------------------------------------------------ # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # The suffix of source filenames. source_suffix = '.rst' # The master toctree document. master_doc = 'index' # General information about the project. project = u'os-acc release Notes' copyright = u'2018, OpenStack Foundation' # Release notes do not need a version in the title, they span # multiple versions. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] ",8,1306
openstack%2Fpatrole~master~Ia5661e12977b26e1c16f09a074d1a805263c6c22,openstack/patrole,master,Ia5661e12977b26e1c16f09a074d1a805263c6c22,"fix: admin, member, and reader gates broken",MERGED,2019-09-16 19:20:41.000000000,2019-09-19 04:15:02.000000000,2019-09-19 04:13:47.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 16274}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-09-16 19:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/82f534a67ce141cbff9041f0297a4693b551be40', 'message': 'fix: admin, member, and reader gates broken\n\nRecent changes in Keystone to move trust enforcement [0] to default\npolicies is currently breaking several voting gates in Patrole.\nThis commit updates the trusts_rbac tests to account for these changes.\n\n[0] https://review.opendev.org/#/q/topic:trust-policies+(status:open+OR+status:merged)\n\nChange-Id: Ia5661e12977b26e1c16f09a074d1a805263c6c22\n'}, {'number': 2, 'created': '2019-09-16 20:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/2609348af9abb85a1f4eae016bba903d704bfce0', 'message': ""fix: admin, member, and reader gates broken\n\nRecent changes in Keystone to move trust enforcement [0] to default\npolicies is currently breaking several voting gates in Patrole.\nThis commit updates the trusts_rbac tests to account for these changes.\n\nAdditionally, 'test_list_trusts' is updated so that it does indeed test\n'identity:list_trusts'. If a 'trustor_user_id' or 'trustee_user_id' is passed\ninto list_trusts() then a different policy action will be enforced. A future\ncommit will add tests for the actions added here [1].\n\n[0] https://review.opendev.org/#/q/topic:trust-policies+(status:open+OR+status:merged)\n[1] https://review.opendev.org/#/c/675807/10/keystone/common/policies/trust.py\n\nChange-Id: Ia5661e12977b26e1c16f09a074d1a805263c6c22\n""}, {'number': 3, 'created': '2019-09-17 20:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/da7956ebabdb8e57a94fa33456d397ce1d8abb63', 'message': ""fix: admin, member, and reader gates broken\n\nRecent changes in Keystone to move trust enforcement [0] to default\npolicies is currently breaking several voting gates in Patrole.\nThis commit updates the trusts_rbac tests to account for these changes.\n\nAdditionally, 'test_list_trusts' is updated so that it does indeed test\n'identity:list_trusts'. If a 'trustor_user_id' or 'trustee_user_id' is passed\ninto list_trusts() then a different policy action will be enforced. A future\ncommit will add tests for the actions added here [1].\n\nAdded new feature flag called ``keystone_policy_enforcement_rocky`` under\nthe configuration group ``[policy-feature-enabled]`` to make ``test_list_trusts``\ntest backwards compatible, test the current release, and test the correct policy\naction. The Keystone Trust API is enforced differently depending on passed arguments.\n\nThe new feature flag is needed so that all the voting gates pass, otherwise the\n'test_list_trusts' is not backwards compatible and would not test the correct\npolicy action in the current release.\n\n[0] https://review.opendev.org/#/q/topic:trust-policies+(status:open+OR+status:merged)\n[1] https://review.opendev.org/#/c/675807/10/keystone/common/policies/trust.py\n\nChange-Id: Ia5661e12977b26e1c16f09a074d1a805263c6c22\n""}, {'number': 4, 'created': '2019-09-18 02:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/4db5c164ef1855a0a563425914c690d0d0325851', 'message': ""fix: admin, member, and reader gates broken\n\nRecent changes in Keystone to move trust enforcement [0] to default\npolicies is currently breaking several voting gates in Patrole.\nThis commit updates the trusts_rbac tests to account for these changes.\n\nAdditionally, 'test_list_trusts' is updated so that it does indeed test\n'identity:list_trusts'. If a 'trustor_user_id' or 'trustee_user_id' is passed\ninto list_trusts() then a different policy action will be enforced. A future\ncommit will add tests for the actions added here [1].\n\nAdded new feature flag called ``keystone_policy_enforcement_train`` under\nthe configuration group ``[policy-feature-enabled]`` to make ``test_list_trusts``\ntest backwards compatible, test the current release, and test the correct policy\naction. The Keystone Trust API is enforced differently depending on passed arguments.\n\nThe new feature flag is needed so that all the voting gates pass, otherwise the\n'test_list_trusts' is not backwards compatible and would not test the correct\npolicy action in the current release.\n\n[0] https://review.opendev.org/#/q/topic:trust-policies+(status:open+OR+status:merged)\n[1] https://review.opendev.org/#/c/675807/10/keystone/common/policies/trust.py\n\nChange-Id: Ia5661e12977b26e1c16f09a074d1a805263c6c22\n""}, {'number': 5, 'created': '2019-09-18 12:53:21.000000000', 'files': ['releasenotes/notes/keystone_policy_enforcement_rocky-b52fb471ac31189b.yaml', 'patrole_tempest_plugin/config.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_trusts_rbac.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/patrole/commit/97fffede9ed3037469be62961d45d5bfe474a4ac', 'message': ""fix: admin, member, and reader gates broken\n\nRecent changes in Keystone to move trust enforcement [0] to default\npolicies is currently breaking several voting gates in Patrole.\nThis commit updates the trusts_rbac tests to account for these changes.\n\nAdditionally, 'test_list_trusts' is updated so that it does indeed test\n'identity:list_trusts'. If a 'trustor_user_id' or 'trustee_user_id' is passed\ninto list_trusts() then a different policy action will be enforced. A future\ncommit will add tests for the actions added here [1].\n\nAdded new feature flag called ``keystone_policy_enforcement_train`` under\nthe configuration group ``[policy-feature-enabled]`` to make ``test_list_trusts``\ntest backwards compatible, test the current release, and test the correct policy\naction. The Keystone Trust API is enforced differently depending on passed arguments.\n\nThe new feature flag is needed so that all the voting gates pass, otherwise the\n'test_list_trusts' is not backwards compatible and would not test the correct\npolicy action in the current release.\n\n[0] https://review.opendev.org/#/q/topic:trust-policies+(status:open+OR+status:merged)\n[1] https://review.opendev.org/#/c/675807/10/keystone/common/policies/trust.py\n\nChange-Id: Ia5661e12977b26e1c16f09a074d1a805263c6c22\n""}]",0,682467,97fffede9ed3037469be62961d45d5bfe474a4ac,17,14,5,17896,,,0,"fix: admin, member, and reader gates broken

Recent changes in Keystone to move trust enforcement [0] to default
policies is currently breaking several voting gates in Patrole.
This commit updates the trusts_rbac tests to account for these changes.

Additionally, 'test_list_trusts' is updated so that it does indeed test
'identity:list_trusts'. If a 'trustor_user_id' or 'trustee_user_id' is passed
into list_trusts() then a different policy action will be enforced. A future
commit will add tests for the actions added here [1].

Added new feature flag called ``keystone_policy_enforcement_train`` under
the configuration group ``[policy-feature-enabled]`` to make ``test_list_trusts``
test backwards compatible, test the current release, and test the correct policy
action. The Keystone Trust API is enforced differently depending on passed arguments.

The new feature flag is needed so that all the voting gates pass, otherwise the
'test_list_trusts' is not backwards compatible and would not test the correct
policy action in the current release.

[0] https://review.opendev.org/#/q/topic:trust-policies+(status:open+OR+status:merged)
[1] https://review.opendev.org/#/c/675807/10/keystone/common/policies/trust.py

Change-Id: Ia5661e12977b26e1c16f09a074d1a805263c6c22
",git fetch https://review.opendev.org/openstack/patrole refs/changes/67/682467/2 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/identity/v3/test_trusts_rbac.py'],1,82f534a67ce141cbff9041f0297a4693b551be40,debugging_trust_test," rules=[""identity:delete_trust""], extra_target_data={ ""target.trust.trustor_user_id"": ""os_primary.credentials.user_id"" }) rules=[""identity:list_roles_for_trust""], extra_target_data={ ""target.trust.trustor_user_id"": ""os_primary.credentials.user_id"" }) rules=[""identity:get_role_for_trust""], extra_target_data={ ""target.trust.trustor_user_id"": ""os_primary.credentials.user_id"" }) rules=[""identity:get_trust""], extra_target_data={ ""target.trust.trustor_user_id"": ""os_primary.credentials.user_id"" })"," rules=[""identity:delete_trust""]) rules=[""identity:list_roles_for_trust""]) rules=[""identity:get_role_for_trust""]) rules=[""identity:get_trust""])",16,4
openstack%2Frequirements~master~I82ad405011b1619df690202346b5c2519b102d07,openstack/requirements,master,I82ad405011b1619df690202346b5c2519b102d07,update constraint for openstacksdk to new release 0.36.0,MERGED,2019-09-18 16:00:44.000000000,2019-09-19 04:04:49.000000000,2019-09-19 04:03:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 16:00:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/89499f382ccbaaad356c0386916c2357fdb3e378', 'message': 'update constraint for openstacksdk to new release 0.36.0\n\nChange-Id: I82ad405011b1619df690202346b5c2519b102d07\nmeta:version: 0.36.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: I2a9978d7c0523de646997941d2de0af5fef42414\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682938,89499f382ccbaaad356c0386916c2357fdb3e378,7,2,1,11131,,,0,"update constraint for openstacksdk to new release 0.36.0

Change-Id: I82ad405011b1619df690202346b5c2519b102d07
meta:version: 0.36.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: I2a9978d7c0523de646997941d2de0af5fef42414
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/682938/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,89499f382ccbaaad356c0386916c2357fdb3e378,new-release,openstacksdk===0.36.0,openstacksdk===0.35.0,1,1
openstack%2Fcyborg~master~I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7,openstack/cyborg,master,I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7,P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py,MERGED,2019-08-31 11:54:42.000000000,2019-09-19 03:33:38.000000000,2019-09-19 03:31:31.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-08-31 11:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/445578ca66f0b57f3b3ed35746fcf3e7e42cb3f2', 'message': 'P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py\n\n1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py\nlack this file[1]. Reference Neutron[2,3].\n\n[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104\n[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229\n[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py\n\nChange-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7\n'}, {'number': 2, 'created': '2019-08-31 12:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5ef8aede2fd2c970635dff19b46879271ad3c7d5', 'message': 'P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py\n\n1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py\nlack this file[1]. Reference Neutron[2,3].\n\n[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104\n[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229\n[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py\n\nChange-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7\n'}, {'number': 3, 'created': '2019-08-31 12:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/facbec6645e659192551d4f1aceb40195a50a17d', 'message': 'P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py\n\n1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py\nlack this file[1]. Reference Neutron[2,3].\n\n[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104\n[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229\n[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py\n\nChange-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7\n'}, {'number': 4, 'created': '2019-09-02 07:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9892e3de23584f349ee334489ac90c8bad33f068', 'message': 'P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py\n\n1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py\nlack this file[1]. Reference Neutron[2,3].\n\n[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104\n[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229\n[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py\n\n2. Remove old useless file cyborg/tests/unit/fake_accelerator.py[4,5].\n\n[4]. https://github.com/openstack/cyborg/search?q=fake_accelerator_obj&unscoped_q=fake_accelerator_obj\n[5]. https://review.opendev.org/#/c/625630/\n\nChange-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7\n'}, {'number': 5, 'created': '2019-09-03 06:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bf2c8725d4e486cf2e9558cd4323aff9accfe42c', 'message': 'P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py\n\n1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py\nlack this file[1]. Reference Neutron[2,3].\n\n[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104\n[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229\n[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py\n\n2. Remove old useless file cyborg/tests/unit/fake_accelerator.py[4,5].\n\n[4]. https://github.com/openstack/cyborg/search?q=fake_accelerator_obj&unscoped_q=fake_accelerator_obj\n[5]. https://review.opendev.org/#/c/625630/\n\nChange-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7\n'}, {'number': 6, 'created': '2019-09-18 07:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/47d008812d1db42244c316efc7d774f0033ec69c', 'message': 'P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py\n\n1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py\nlack this file[1]. Reference Neutron[2,3].\n\n[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104\n[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229\n[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py\n\n2. Remove old useless file cyborg/tests/unit/fake_accelerator.py[4,5].\n\n[4]. https://github.com/openstack/cyborg/search?q=fake_accelerator_obj&unscoped_q=fake_accelerator_obj\n[5]. https://review.opendev.org/#/c/625630/\n\nChange-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7\n'}, {'number': 7, 'created': '2019-09-18 07:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/327297c03c9ee7de97e202865ed7afe69bce3451', 'message': 'P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py\n\n1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py\nlack this file[1]. Reference Neutron[2,3].\n\n[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104\n[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229\n[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py\n\n2. Remove old useless file cyborg/tests/unit/fake_accelerator.py[4,5].\n\n[4]. https://github.com/openstack/cyborg/search?q=fake_accelerator_obj&unscoped_q=fake_accelerator_obj\n[5]. https://review.opendev.org/#/c/625630/\n\nChange-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7\n'}, {'number': 8, 'created': '2019-09-18 08:25:11.000000000', 'files': ['cyborg/tests/unit/accelerator/drivers/fpga/intel/prepare_test_data.py', 'cyborg/tests/unit/fake_device_profile.py', 'cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/tests/unit/services/_test_placement_client.py', 'cyborg/tests/unit/fake_virtual_function.py', 'cyborg/tests/base.py', 'cyborg/tests/unit/objects/test_extarq.py', 'cyborg/tests/unit/accelerator/drivers/spdk/vhost/test_vhost.py', 'cyborg/tests/unit/fake_attribute.py', 'cyborg/tests/unit/api/controllers/v2/test_api.py', 'cyborg/tests/unit/accelerator/drivers/aichip/huawei/test_ascend.py', 'cyborg/tests/unit/objects/test_objects.py', 'cyborg/tests/unit/fake_deployable.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py', 'cyborg/tests/unit/fake_physical_function.py', 'cyborg/tests/unit/objects/_test_deployable.py', 'cyborg/tests/unit/db/test_db_api.py', 'cyborg/tests/unit/accelerator/drivers/spdk/nvmf/test_nvmf.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py', 'cyborg/tests/post_mortem_debug.py', 'cyborg/tests/unit/api/controllers/v1/_test_fpga_program.py', 'cyborg/tests/unit/fake_device.py', 'cyborg/tests/unit/accelerator/drivers/fpga/intel/test_driver.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_base.py', 'cyborg/tests/unit/fake_extarq.py', 'cyborg/tests/unit/accelerator/drivers/test_driver.py', 'tox.ini', 'cyborg/tests/unit/fake_accelerator.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/306b82e214f9e772de16330edda0eb3ef150250f', 'message': 'P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py\n\n1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py\nlack this file[1]. Reference Neutron[2,3].\n\n[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104\n[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229\n[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py\n\n2. Remove old useless file cyborg/tests/unit/fake_accelerator.py[4,5].\n\n[4]. https://github.com/openstack/cyborg/search?q=fake_accelerator_obj&unscoped_q=fake_accelerator_obj\n[5]. https://review.opendev.org/#/c/625630/\n\nChange-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7\n'}]",5,679538,306b82e214f9e772de16330edda0eb3ef150250f,27,9,8,28748,,,0,"P8: Fix pep8 error in cyborg/tests and add post_mortem_debug.py

1. Add post_mortem_debug.py because accelerator/drivers/gpu/test_base.py
lack this file[1]. Reference Neutron[2,3].

[1]. https://github.com/openstack/cyborg/blob/master/cyborg/tests/base.py#L104
[2]. https://github.com/openstack/neutron/blob/43352e67e5994ed936cb348552cc7f103ee280e9/neutron/tests/base.py#L229
[3]. https://github.com/openstack/neutron/blob/master/neutron/tests/post_mortem_debug.py

2. Remove old useless file cyborg/tests/unit/fake_accelerator.py[4,5].

[4]. https://github.com/openstack/cyborg/search?q=fake_accelerator_obj&unscoped_q=fake_accelerator_obj
[5]. https://review.opendev.org/#/c/625630/

Change-Id: I147bfe9a8dfb6bdbe7e59fa3dc0c146c70e4d3a7
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/38/679538/8 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/accelerator/drivers/fpga/intel/prepare_test_data.py', 'cyborg/tests/unit/objects/_test_deployable.py', 'cyborg/tests/unit/db/test_db_api.py', 'cyborg/tests/unit/services/_test_placement_client.py', 'cyborg/tests/unit/accelerator/drivers/spdk/nvmf/test_nvmf.py', 'cyborg/tests/unit/fake_virtual_function.py', 'cyborg/tests/base.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py', 'cyborg/tests/unit/accelerator/drivers/spdk/vhost/test_vhost.py', 'cyborg/tests/post_mortem_debug.py', 'cyborg/tests/unit/fake_attribute.py', 'cyborg/tests/unit/api/controllers/v1/_test_fpga_program.py', 'cyborg/tests/unit/fake_device.py', 'cyborg/tests/unit/accelerator/drivers/fpga/intel/test_driver.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_base.py', 'cyborg/tests/unit/accelerator/drivers/test_driver.py', 'cyborg/tests/unit/objects/_test_extarq.py', 'cyborg/tests/unit/objects/test_objects.py', 'tox.ini', 'cyborg/tests/unit/fake_accelerator.py', 'cyborg/tests/unit/fake_deployable.py', 'cyborg/tests/unit/fake_physical_function.py']",22,445578ca66f0b57f3b3ed35746fcf3e7e42cb3f2,use_flake8_replace_pep8, return pf,import datetime from oslo_serialization import jsonutils return vf,169,77
openstack%2Fcyborg~master~If62755aad795319fec9d016d950c9c6d26881522,openstack/cyborg,master,If62755aad795319fec9d016d950c9c6d26881522,P7: Fix pep8 error in cyborg/objects and cyborg/image,MERGED,2019-08-31 01:59:57.000000000,2019-09-19 03:32:39.000000000,2019-09-19 03:31:30.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-08-31 01:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/86053e870542f4d8eac4961371af02fbc7b83392', 'message': 'P7: Fix pep8 error in cyborg/objects and cyborg/iamge\n\nChange-Id: If62755aad795319fec9d016d950c9c6d26881522\n'}, {'number': 2, 'created': '2019-08-31 12:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f0013f1940e7525b6837f5495961cc79c229f384', 'message': 'P7: Fix pep8 error in cyborg/objects and cyborg/image\n\nChange-Id: If62755aad795319fec9d016d950c9c6d26881522\n'}, {'number': 3, 'created': '2019-09-02 07:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/23b6affbe48d7462932a45ade414732c11bd8c73', 'message': 'P7: Fix pep8 error in cyborg/objects and cyborg/image\n\nChange-Id: If62755aad795319fec9d016d950c9c6d26881522\n'}, {'number': 4, 'created': '2019-09-03 06:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a0a52f6144cf84503ea90997000880fce42579c1', 'message': 'P7: Fix pep8 error in cyborg/objects and cyborg/image\n\nChange-Id: If62755aad795319fec9d016d950c9c6d26881522\n'}, {'number': 5, 'created': '2019-09-18 06:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d0eead66393afbaa14547cf95d659b817b1de667', 'message': 'P7: Fix pep8 error in cyborg/objects and cyborg/image\n\nChange-Id: If62755aad795319fec9d016d950c9c6d26881522\n'}, {'number': 6, 'created': '2019-09-18 07:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/76ef1783440af5bdc24bcddbae2c6307c6ef6531', 'message': 'P7: Fix pep8 error in cyborg/objects and cyborg/image\n\nChange-Id: If62755aad795319fec9d016d950c9c6d26881522\n'}, {'number': 7, 'created': '2019-09-18 07:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/64d7c43fa22f6a4a18ac1341fdaf2d629a739bc9', 'message': 'P7: Fix pep8 error in cyborg/objects and cyborg/image\n\nChange-Id: If62755aad795319fec9d016d950c9c6d26881522\n'}, {'number': 8, 'created': '2019-09-18 08:23:15.000000000', 'files': ['cyborg/objects/driver_objects/driver_attach_handle.py', 'cyborg/objects/driver_objects/driver_controlpath_id.py', 'cyborg/objects/driver_objects/driver_device.py', 'cyborg/objects/arq.py', 'cyborg/objects/driver_objects/driver_deployable.py', 'cyborg/objects/attach_handle.py', 'cyborg/objects/driver_objects/driver_attribute.py', 'cyborg/image/glance.py', 'cyborg/objects/control_path.py', 'cyborg/objects/deployable.py', 'cyborg/objects/device_profile.py', 'cyborg/objects/base.py', 'cyborg/objects/device.py', 'tox.ini', 'cyborg/objects/attribute.py', 'cyborg/objects/ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ac4c4ea15cb61601892861e31455caa9dba8f2aa', 'message': 'P7: Fix pep8 error in cyborg/objects and cyborg/image\n\nChange-Id: If62755aad795319fec9d016d950c9c6d26881522\n'}]",8,679526,ac4c4ea15cb61601892861e31455caa9dba8f2aa,27,9,8,28748,,,0,"P7: Fix pep8 error in cyborg/objects and cyborg/image

Change-Id: If62755aad795319fec9d016d950c9c6d26881522
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/26/679526/5 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/objects/driver_objects/driver_attach_handle.py', 'cyborg/objects/driver_objects/driver_controlpath_id.py', 'cyborg/objects/driver_objects/driver_device.py', 'cyborg/objects/arq.py', 'cyborg/objects/driver_objects/driver_deployable.py', 'cyborg/objects/attach_handle.py', 'cyborg/objects/driver_objects/driver_attribute.py', 'cyborg/image/glance.py', 'cyborg/objects/control_path.py', 'cyborg/objects/deployable.py', 'cyborg/objects/device_profile.py', 'cyborg/objects/base.py', 'cyborg/objects/device.py', 'tox.ini', 'cyborg/objects/attribute.py', 'cyborg/objects/ext_arq.py']",16,86053e870542f4d8eac4961371af02fbc7b83392,use_flake8_replace_pep8,"from cyborg.db import api as dbapi from cyborg import objects """"""ExtARQ is a wrapper around ARQ with Cyborg-private fields. Each ExtARQ object contains exactly one ARQ object as a field. But, in the db layer, ExtARQ and ARQ are represented together as a row in a single table. Both share a single UUID. ExtARQ version is bumped up either if any of its fields change or if the ARQ version changes. """"""Given a device rp UUID, get the deployable UUID and an attach handle.","from cyborg.db import api as dbapi from cyborg import objects """""" ExtARQ is a wrapper around ARQ with Cyborg-private fields. Each ExtARQ object contains exactly one ARQ object as a field. But, in the db layer, ExtARQ and ARQ are represented together as a row in a single table. Both share a single UUID. ExtARQ version is bumped up either if any of its fields change or if the ARQ version changes. """""" Given a device rp UUID, get the deployable UUID and an attach handle.",246,241
openstack%2Fcyborg~master~I3b30cc6388ceb9f771c09007c696d8ea69608860,openstack/cyborg,master,I3b30cc6388ceb9f771c09007c696d8ea69608860,P6: Fix pep8 error in cyborg/agent and cyborg/db,MERGED,2019-08-29 07:01:32.000000000,2019-09-19 03:29:39.000000000,2019-09-19 03:28:12.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-08-29 07:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d6c7165ff7e73ebacb99e69f47c7b1683999c480', 'message': 'Fix pep8 error in cyborg/agent and cyborg/db\n\nChange-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860\n'}, {'number': 2, 'created': '2019-08-29 07:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/647d91a703db801cf7f4f471ec8414cd8c713449', 'message': 'P6: Fix pep8 error in cyborg/agent and cyborg/db\n\nChange-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860\n'}, {'number': 3, 'created': '2019-08-29 12:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/23345d510ffd498afa85727b33859a8d4a4ad23a', 'message': 'P6: Fix pep8 error in cyborg/agent and cyborg/db\n\nChange-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860\n'}, {'number': 4, 'created': '2019-08-29 12:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c0de02b5a77ade4e7160baf8c1ef8e97669ccc68', 'message': 'P6: Fix pep8 error in cyborg/agent and cyborg/db\n\nChange-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860\n'}, {'number': 5, 'created': '2019-09-02 12:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7a7008c41d8abc684cf65ffe6611f639d4a865fe', 'message': 'P6: Fix pep8 error in cyborg/agent and cyborg/db\n\nChange-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860\n'}, {'number': 6, 'created': '2019-09-11 02:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bcdc3ec79375eceac4bceb9cc09dd287afcc02f1', 'message': 'P6: Fix pep8 error in cyborg/agent and cyborg/db\n\nChange-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860\n'}, {'number': 7, 'created': '2019-09-18 06:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7cb6815bcc9115989b28d62bcc88adb24f9dfe01', 'message': 'P6: Fix pep8 error in cyborg/agent and cyborg/db\n\nChange-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860\n'}, {'number': 8, 'created': '2019-09-18 07:17:54.000000000', 'files': ['cyborg/agent/resource_tracker.py', 'cyborg/db/sqlalchemy/api.py', 'cyborg/agent/rpcapi.py', 'cyborg/agent/manager.py', 'cyborg/db/sqlalchemy/models.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/369abe8dd06aa6648298c3256f444a63ee6268d0', 'message': 'P6: Fix pep8 error in cyborg/agent and cyborg/db\n\nChange-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860\n'}]",11,679193,369abe8dd06aa6648298c3256f444a63ee6268d0,31,9,8,28748,,,0,"P6: Fix pep8 error in cyborg/agent and cyborg/db

Change-Id: I3b30cc6388ceb9f771c09007c696d8ea69608860
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/93/679193/6 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/agent/resource_tracker.py', 'cyborg/db/sqlalchemy/api.py', 'cyborg/agent/rpcapi.py', 'cyborg/agent/manager.py', 'cyborg/db/sqlalchemy/models.py', 'tox.ini']",6,d6c7165ff7e73ebacb99e69f47c7b1683999c480,use_flake8_replace_pep8,"exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build,*sqlalchemy/alembic/versions/*,demo/,releasenotes,dyborg/hacking/,cyborg/tests/,cyborg/image,cyborg/objects","exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build,*sqlalchemy/alembic/versions/*,demo/,releasenotes,cyborg/agent/,cyborg/db,dyborg/hacking/,cyborg/tests/,cyborg/image,cyborg/objects",46,39
openstack%2Fnova~stable%2Fstein~I865c215a13fa3bb72e191382187ea8368885846f,openstack/nova,stable/stein,I865c215a13fa3bb72e191382187ea8368885846f,Fix a misuse of assertGreaterEqual,MERGED,2019-09-13 21:48:07.000000000,2019-09-19 03:24:51.000000000,2019-09-19 03:21:44.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-13 21:48:07.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd669a5352ee0f8e956fa75720c183e4c1f3ca18', 'message': 'Fix a misuse of assertGreaterEqual\n\nIn a notification sample functional test,\nthere is a misuse of assertGreaterEqual.\n\nAt least 6 notifications are expected,\nSo the order of the arguments should be reversed.\n\nChange-Id: I865c215a13fa3bb72e191382187ea8368885846f\nCloses-Bug: #1843885\n(cherry picked from commit 4e0e0a6dd26fac7d4051b0982ca20081eede8573)\n'}]",0,682168,bd669a5352ee0f8e956fa75720c183e4c1f3ca18,16,6,1,6873,,,0,"Fix a misuse of assertGreaterEqual

In a notification sample functional test,
there is a misuse of assertGreaterEqual.

At least 6 notifications are expected,
So the order of the arguments should be reversed.

Change-Id: I865c215a13fa3bb72e191382187ea8368885846f
Closes-Bug: #1843885
(cherry picked from commit 4e0e0a6dd26fac7d4051b0982ca20081eede8573)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/682168/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,bd669a5352ee0f8e956fa75720c183e4c1f3ca18,bug/1843615," self.assertGreaterEqual(len(fake_notifier.VERSIONED_NOTIFICATIONS), 6,"," self.assertGreaterEqual(6, len(fake_notifier.VERSIONED_NOTIFICATIONS),",1,1
openstack%2Ftripleo-ci~master~I4a4a6599aacaa32a6901b4e2e5497ea7b50e39cd,openstack/tripleo-ci,master,I4a4a6599aacaa32a6901b4e2e5497ea7b50e39cd,Reenable ARA html generation from collect logs,MERGED,2019-09-17 16:02:03.000000000,2019-09-19 03:24:42.000000000,2019-09-19 03:20:44.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 16:02:03.000000000', 'files': ['toci-quickstart/config/testenv/multinode.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8aaa0164e1024fd77d9f7aad1e8f9a4e2f5c88e9', 'message': 'Reenable ARA html generation from collect logs\n\nRecently infra disabled the generation in zuul of ara html for\nperformance issues in the logging strategy.\nThis change reenables the generation from collect logs role\n\nChange-Id: I4a4a6599aacaa32a6901b4e2e5497ea7b50e39cd\n'}]",0,682679,8aaa0164e1024fd77d9f7aad1e8f9a4e2f5c88e9,14,3,1,10022,,,0,"Reenable ARA html generation from collect logs

Recently infra disabled the generation in zuul of ara html for
performance issues in the logging strategy.
This change reenables the generation from collect logs role

Change-Id: I4a4a6599aacaa32a6901b4e2e5497ea7b50e39cd
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/79/682679/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/multinode.yml'],1,8aaa0164e1024fd77d9f7aad1e8f9a4e2f5c88e9,reenable_ara,# REENABLED(gcerami) 20190917 as zuul disabled ara reports ara_generate_html: true,ara_generate_html: false,2,1
openstack%2Fnova~stable%2Fstein~I98bbd6beaba1256f1c679af0c1eb8c7cad407e2b,openstack/nova,stable/stein,I98bbd6beaba1256f1c679af0c1eb8c7cad407e2b,Fix race in _test_live_migration_force_complete,MERGED,2019-09-12 13:28:23.000000000,2019-09-19 03:23:33.000000000,2019-09-19 03:21:34.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-12 13:28:23.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec4993ce0f12c4f9b900304835389b094e038200', 'message': 'Fix race in _test_live_migration_force_complete\n\nThe number of versioned notifications received in the\n_test_live_migration_force_complete method is racey since\nby the time we check we could have entered _post_live_migration\nand received up to four more notifications. This change softens\nthe assertion to go from ""equal to 6"" to ""at least 6"".\n\nChange-Id: I98bbd6beaba1256f1c679af0c1eb8c7cad407e2b\nCloses-Bug: #1843615\n(cherry picked from commit a4bf6cd265ef08c2b448b2510d1692fe2b44af95)\n'}]",0,681744,ec4993ce0f12c4f9b900304835389b094e038200,20,6,1,6873,,,0,"Fix race in _test_live_migration_force_complete

The number of versioned notifications received in the
_test_live_migration_force_complete method is racey since
by the time we check we could have entered _post_live_migration
and received up to four more notifications. This change softens
the assertion to go from ""equal to 6"" to ""at least 6"".

Change-Id: I98bbd6beaba1256f1c679af0c1eb8c7cad407e2b
Closes-Bug: #1843615
(cherry picked from commit a4bf6cd265ef08c2b448b2510d1692fe2b44af95)
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/681744/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,ec4993ce0f12c4f9b900304835389b094e038200,bug/1843615," # Note that we wait for instance.live_migration_force_complete.end but # by the time we check versioned notifications received we could have # entered ComputeManager._post_live_migration which could emit up to # four other notifications: # - instance.live_migration_post.start # - instance.live_migration_post_dest.start # - instance.live_migration_post_dest.end # - instance.live_migration_post.end # We are not concerned about those in this test so that's why we stop # once we get instance.live_migration_force_complete.end and assert # we got at least 6 notifications. self.assertGreaterEqual(6, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS)"," self.assertEqual(6, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS)",13,2
openstack%2Fkeystone~master~Ib1073acf5677a60714d0a386de3bcd14ce6cd134,openstack/keystone,master,Ib1073acf5677a60714d0a386de3bcd14ce6cd134,token: consistently decode binary types,MERGED,2019-06-17 09:13:52.000000000,2019-09-19 03:23:21.000000000,2019-09-19 03:21:22.000000000,"[{'_account_id': 935}, {'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-06-17 09:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/922ec35bb19981167db3d7ebc22deb10755c1baf', 'message': ""token: consistently decode binary types\n\nEnsure that any binary types unpacked from message payloads\nare correctly converted from binary to text type.\n\nUnder Python 3 msgpack returns the serialized input as a\nbyte string. Similar to other msgpack'd values in the payload,\nwe need to explicitly decode it to a string value.\n\nThis is specifically more of an issue under Python 3; however\nthe decode operation is safe back to Python 2 so there is no\nneed to limit the decode codepath to just Python 3.\n\nChange-Id: Ib1073acf5677a60714d0a386de3bcd14ce6cd134\nCloses-Bug: 1832265\n""}, {'number': 2, 'created': '2019-06-19 08:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d8262030840aa2da0a0d2bc5aef13091f85fed91', 'message': ""token: consistently decode binary types\n\nEnsure that any binary types unpacked from message payloads\nare correctly converted from binary to text type.\n\nUnder Python 3 msgpack returns the serialized input as a\nbyte string. Similar to other msgpack'd values in the payload,\nwe need to explicitly decode it to a string value.\n\nThis is specifically more of an issue under Python 3; however\nthe decode operation is safe back to Python 2 so there is no\nneed to limit the decode codepath to just Python 3.\n\nChange-Id: Ib1073acf5677a60714d0a386de3bcd14ce6cd134\nCloses-Bug: 1832265\n""}, {'number': 3, 'created': '2019-07-04 06:56:47.000000000', 'files': ['releasenotes/notes/bug-1832265-cb76ccf505c2d9d1.yaml', 'keystone/token/token_formatters.py', 'keystone/tests/unit/token/test_fernet_provider.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ffa0918f5a92fd18c86703916d768012b0bea61b', 'message': ""token: consistently decode binary types\n\nEnsure that any binary types unpacked from message payloads\nare correctly converted from binary to text type.\n\nUnder Python 3 msgpack returns the serialized input as a\nbyte string. Similar to other msgpack'd values in the payload,\nwe need to explicitly decode it to a string value.\n\nThis is specifically more of an issue under Python 3; however\nthe decode operation is safe back to Python 2 so there is no\nneed to limit the decode codepath to just Python 3.\n\nChange-Id: Ib1073acf5677a60714d0a386de3bcd14ce6cd134\nCloses-Bug: 1832265\n""}]",10,665617,ffa0918f5a92fd18c86703916d768012b0bea61b,28,7,3,935,,,0,"token: consistently decode binary types

Ensure that any binary types unpacked from message payloads
are correctly converted from binary to text type.

Under Python 3 msgpack returns the serialized input as a
byte string. Similar to other msgpack'd values in the payload,
we need to explicitly decode it to a string value.

This is specifically more of an issue under Python 3; however
the decode operation is safe back to Python 2 so there is no
need to limit the decode codepath to just Python 3.

Change-Id: Ib1073acf5677a60714d0a386de3bcd14ce6cd134
Closes-Bug: 1832265
",git fetch https://review.opendev.org/openstack/keystone refs/changes/17/665617/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/token/test_fernet_provider.py', 'keystone/token/token_formatters.py']",2,922ec35bb19981167db3d7ebc22deb10755c1baf,bug/1832265," @classmethod def _convert_or_decode(cls, is_stored_as_bytes, value): """"""Convert a value to text type, translating uuid -> hex if required. :param is_stored_as_bytes: whether value is already bytes :type is_stored_as_bytes: six.boolean :param value: value to attempt to convert to bytes :type value: six.text_type or six.binary_type :rtype: six.text_type """""" if is_stored_as_bytes: return cls.convert_uuid_bytes_to_hex(value) elif isinstance(value, six.binary_type): return value.decode('utf-8') return value user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) project_id = cls._convert_or_decode(is_stored_as_bytes, project_id) user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) project_id = cls._convert_or_decode(is_stored_as_bytes, project_id) group_id = cls._convert_or_decode(is_stored_as_bytes, group_id) # NOTE(cmurphy): The user ID of shadowed federated users is no # longer a UUID but a sha256 hash string, and so it should not be # converted to a byte string since it is not a UUID format. # However. on python3 msgpack returns the serialized input as a # byte string anyway. Similar to other msgpack'd values in the # payload, we need to explicitly decode it to a string value. user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) idp_id = cls._convert_or_decode(is_stored_as_bytes, idp_id) # NOTE(cmurphy): The user ID of shadowed federated users is no # longer a UUID but a sha256 hash string, and so it should not be # converted to a byte string since it is not a UUID format. # However. on python3 msgpack returns the serialized input as a # byte string anyway. Similar to other msgpack'd values in the # payload, we need to explicitly decode it to a string value. user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) # NOTE(lbragstad): We assembled the token payload scope as a tuple # (False, domain_id) for cases like (False, 'default'), since the # default domain ID isn't converted to a byte string when it's not # in UUID format. Despite the boolean indicator in the tuple that # denotes if the value is stored as a byte string or not, msgpack # apparently returns the serialized input as byte strings anyway. # For example, this means what we though we were passing in as # (False, 'default') during token creation actually comes out as # (False, b'default') in token validation through msgpack, which # clearly isn't correct according to our boolean indicator. This # causes comparison issues due to different string types (e.g., # b'default' != 'default') with python 3. See bug 1813085 for # details. We use this pattern for other strings in the payload # like idp_id and protocol_id for the same reason. scope_id = cls._convert_or_decode(is_stored_as_bytes, scope_id) idp_id = cls._convert_or_decode(is_stored_as_bytes, idp_id) user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) project_id = cls._convert_or_decode(is_stored_as_bytes, project_id) access_token_id = cls._convert_or_decode(is_stored_as_bytes, access_token_id) user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) user_id = cls._convert_or_decode(is_stored_as_bytes, user_id) project_id = cls._convert_or_decode(is_stored_as_bytes, project_id) app_cred_id = cls._convert_or_decode(is_stored_as_bytes, app_cred_id)"," if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) if is_stored_as_bytes: project_id = cls.convert_uuid_bytes_to_hex(project_id) if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) if is_stored_as_bytes: project_id = cls.convert_uuid_bytes_to_hex(project_id) if is_stored_as_bytes: group_id = cls.convert_uuid_bytes_to_hex(group_id) if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) else: # NOTE(cmurphy): The user ID of shadowed federated users is no # longer a UUID but a sha256 hash string, and so it should not be # converted to a byte string since it is not a UUID format. # However. on python3 msgpack returns the serialized input as a # byte string anyway. Similar to other msgpack'd values in the # payload, we need to explicitly decode it to a string value. if six.PY3 and isinstance(user_id, six.binary_type): user_id = user_id.decode('utf-8') if is_stored_as_bytes: idp_id = cls.convert_uuid_bytes_to_hex(idp_id) else: idp_id = idp_id.decode('utf-8') if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) else: # NOTE(cmurphy): The user ID of shadowed federated users is no # longer a UUID but a sha256 hash string, and so it should not be # converted to a byte string since it is not a UUID format. # However. on python3 msgpack returns the serialized input as a # byte string anyway. Similar to other msgpack'd values in the # payload, we need to explicitly decode it to a string value. if six.PY3 and isinstance(user_id, six.binary_type): user_id = user_id.decode('utf-8') if is_stored_as_bytes: scope_id = cls.convert_uuid_bytes_to_hex(scope_id) else: # NOTE(lbragstad): We assembled the token payload scope as a tuple # (False, domain_id) for cases like (False, 'default'), since the # default domain ID isn't converted to a byte string when it's not # in UUID format. Despite the boolean indicator in the tuple that # denotes if the value is stored as a byte string or not, msgpack # apparently returns the serialized input as byte strings anyway. # For example, this means what we though we were passing in as # (False, 'default') during token creation actually comes out as # (False, b'default') in token validation through msgpack, which # clearly isn't correct according to our boolean indicator. This # causes comparison issues due to different string types (e.g., # b'default' != 'default') with python 3. See bug 1813085 for # details. We use this pattern for other strings in the payload # like idp_id and protocol_id for the same reason. if six.PY3 and isinstance(scope_id, six.binary_type): scope_id = scope_id.decode('utf-8') if is_stored_as_bytes: idp_id = cls.convert_uuid_bytes_to_hex(idp_id) else: if six.PY3 and isinstance(idp_id, six.binary_type): idp_id = idp_id.decode('utf-8') if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) if is_stored_as_bytes: project_id = cls.convert_uuid_bytes_to_hex(project_id) if is_stored_as_bytes: access_token_id = cls.convert_uuid_bytes_to_hex(access_token_id) if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) if is_stored_as_bytes: user_id = cls.convert_uuid_bytes_to_hex(user_id) if is_stored_as_bytes: project_id = cls.convert_uuid_bytes_to_hex(project_id) if is_stored_as_bytes: app_cred_id = cls.convert_uuid_bytes_to_hex(app_cred_id)",100,78
openstack%2Fcyborg~master~I8d54d98e9b116067397a49e9ebb40af5fdc715ba,openstack/cyborg,master,I8d54d98e9b116067397a49e9ebb40af5fdc715ba,P5: Fix pep8 error in cyborg/accelerator,MERGED,2019-08-29 02:59:17.000000000,2019-09-19 03:18:49.000000000,2019-09-19 03:16:35.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-08-29 02:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f95d800182d665e640e243fcf7483a26bcb5e30e', 'message': 'P5: Fix pep8 error in cyborg/accelerator\n\nChange-Id: I8d54d98e9b116067397a49e9ebb40af5fdc715ba\n'}, {'number': 2, 'created': '2019-08-29 07:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/546ad9d193b3c5756fb8cc5bc0017df6ac75c57d', 'message': 'P5: Fix pep8 error in cyborg/accelerator\n\nChange-Id: I8d54d98e9b116067397a49e9ebb40af5fdc715ba\n'}, {'number': 3, 'created': '2019-09-10 14:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d4700263e14f89ba420464a19e15f6782e43b5cd', 'message': 'P5: Fix pep8 error in cyborg/accelerator\n\nChange-Id: I8d54d98e9b116067397a49e9ebb40af5fdc715ba\n'}, {'number': 4, 'created': '2019-09-18 06:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c58a0a466a61a080a13e300a689ba3e4cdfa5be0', 'message': 'P5: Fix pep8 error in cyborg/accelerator\n\nChange-Id: I8d54d98e9b116067397a49e9ebb40af5fdc715ba\n'}, {'number': 5, 'created': '2019-09-18 07:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/28e8fdea9b492bad5ea83abf104d4a0fe55a4852', 'message': 'P5: Fix pep8 error in cyborg/accelerator\n\nChange-Id: I8d54d98e9b116067397a49e9ebb40af5fdc715ba\n'}, {'number': 6, 'created': '2019-09-18 07:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/48c7abd9d0a6eb76ccc1e8983bb67658140bf2a5', 'message': 'P5: Fix pep8 error in cyborg/accelerator\n\nChange-Id: I8d54d98e9b116067397a49e9ebb40af5fdc715ba\n'}, {'number': 7, 'created': '2019-09-18 07:17:54.000000000', 'files': ['cyborg/accelerator/drivers/spdk/vhost/vhost.py', 'cyborg/accelerator/common/utils.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/nvmf_client.py', 'cyborg/accelerator/drivers/fpga/intel/driver.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/vhost_client.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py', 'cyborg/accelerator/drivers/fake.py', 'cyborg/accelerator/drivers/gpu/base.py', 'cyborg/accelerator/drivers/spdk/util/common_fun.py', 'cyborg/accelerator/drivers/driver.py', 'cyborg/accelerator/drivers/spdk/spdk.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/py_spdk.py', 'cyborg/accelerator/drivers/aichip/huawei/ascend.py', 'cyborg/accelerator/drivers/spdk/nvmf/nvmf.py', 'cyborg/accelerator/drivers/gpu/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/de4efde491522b28099d768555648a770abe5f48', 'message': 'P5: Fix pep8 error in cyborg/accelerator\n\nChange-Id: I8d54d98e9b116067397a49e9ebb40af5fdc715ba\n'}]",3,679175,de4efde491522b28099d768555648a770abe5f48,24,9,7,28748,,,0,"P5: Fix pep8 error in cyborg/accelerator

Change-Id: I8d54d98e9b116067397a49e9ebb40af5fdc715ba
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/75/679175/6 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/drivers/spdk/vhost/vhost.py', 'cyborg/accelerator/common/utils.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/nvmf_client.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/vhost_client.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py', 'cyborg/accelerator/drivers/fake.py', 'cyborg/accelerator/drivers/gpu/base.py', 'cyborg/accelerator/drivers/spdk/util/common_fun.py', 'cyborg/accelerator/drivers/driver.py', 'cyborg/accelerator/drivers/spdk/spdk.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/py_spdk.py', 'cyborg/accelerator/drivers/spdk/nvmf/nvmf.py', 'cyborg/accelerator/drivers/gpu/utils.py', 'tox.ini']",14,f95d800182d665e640e243fcf7483a26bcb5e30e,use_flake8_replace_pep8,"exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build,*sqlalchemy/alembic/versions/*,demo/,releasenotes,cyborg/agent/,cyborg/db,dyborg/hacking/,cyborg/tests/,cyborg/image,cyborg/objects","exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build,*sqlalchemy/alembic/versions/*,demo/,releasenotes,cyborg/accelerator/,cyborg/agent/,cyborg/db,dyborg/hacking/,cyborg/tests/,cyborg/image,cyborg/objects",155,31
openstack%2Fwatcher-specs~master~Iaaaea3bc436d405cf19f99b13ed4804e10e646c6,openstack/watcher-specs,master,Iaaaea3bc436d405cf19f99b13ed4804e10e646c6,General purpose threadpool for the decision engine,MERGED,2019-09-03 17:15:56.000000000,2019-09-19 03:18:37.000000000,2019-09-19 03:17:07.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-09-03 17:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/9a86b21e8ec39d5e98f7fa671511cdbeb1a47ded', 'message': 'General purpose threadpool for the decision engine\n\nSpec to create a general purpose threadpool to be implemented in the\ndecision engine. The amount of threads is configurable to best fit\ndifferent OpenStack deployments while the default value should be\nconservative to prevent any issues.\n\nAdditionally, the building of the data model will use the threadpool\nand will demonstrate its usefulness.\n\nTest cases will be made for both the threadpool as well as for the\nbehavior of building the data model.\n\nChange-Id: Iaaaea3bc436d405cf19f99b13ed4804e10e646c6\n'}, {'number': 2, 'created': '2019-09-10 06:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/bc2ae871fc82625153d0f6020698530448204510', 'message': 'General purpose threadpool for the decision engine\n\nSpec to create a general purpose threadpool to be implemented in the\ndecision engine. The amount of threads is configurable to best fit\ndifferent OpenStack deployments while the default value should be\nconservative to prevent any issues.\n\nAdditionally, the building of the data model will use the threadpool\nand will demonstrate its usefulness.\n\nTest cases will be made for both the threadpool as well as for the\nbehavior of building the data model.\n\nChange-Id: Iaaaea3bc436d405cf19f99b13ed4804e10e646c6\n'}, {'number': 3, 'created': '2019-09-10 07:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/c1ac55430db43c732b5bf02c9ec4d68baaa3df4f', 'message': 'General purpose threadpool for the decision engine\n\nSpec to create a general purpose threadpool to be implemented in the\ndecision engine. The amount of threads is configurable to best fit\ndifferent OpenStack deployments while the default value should be\nconservative to prevent any issues.\n\nAdditionally, the building of the data model will use the threadpool\nand will demonstrate its usefulness.\n\nTest cases will be made for both the threadpool as well as for the\nbehavior of building the data model.\n\nChange-Id: Iaaaea3bc436d405cf19f99b13ed4804e10e646c6\n'}, {'number': 4, 'created': '2019-09-12 08:06:39.000000000', 'files': ['specs/train/approved/general-purpose-decision-engine-threadpool.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/45bc16dec1a413d82ea391a59725dad983137921', 'message': 'General purpose threadpool for the decision engine\n\nSpec to create a general purpose threadpool to be implemented in the\ndecision engine. The amount of threads is configurable to best fit\ndifferent OpenStack deployments while the default value should be\nconservative to prevent any issues.\n\nAdditionally, the building of the data model will use the threadpool\nand will demonstrate its usefulness.\n\nTest cases will be made for both the threadpool as well as for the\nbehavior of building the data model.\n\nChange-Id: Iaaaea3bc436d405cf19f99b13ed4804e10e646c6\n'}]",23,679827,45bc16dec1a413d82ea391a59725dad983137921,22,5,4,29911,,,0,"General purpose threadpool for the decision engine

Spec to create a general purpose threadpool to be implemented in the
decision engine. The amount of threads is configurable to best fit
different OpenStack deployments while the default value should be
conservative to prevent any issues.

Additionally, the building of the data model will use the threadpool
and will demonstrate its usefulness.

Test cases will be made for both the threadpool as well as for the
behavior of building the data model.

Change-Id: Iaaaea3bc436d405cf19f99b13ed4804e10e646c6
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/27/679827/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/general-purpose-decision-engine-threadpool.rst'],1,9a86b21e8ec39d5e98f7fa671511cdbeb1a47ded,threadpool,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== General purpose decision engine threadpool ========================================== https://blueprints.launchpad.net/watcher/+spec/general-purpose-decision-engine-threadpool Many I/O operations such as writing to disc or waiting for network responses take a long amount of time. By leveraging parallelism the time taken to perform such operations can be drastically reduced. The general purpose threadpool for the decision engine will allow to perform methods in parallel, thereby reducing the time required to perform these operations. Problem description =================== The general purpose threadpool will reduce the time it takes to perform certain operations of the decision engine. Currently, the gathering of metrics or the building of the data model can take large amounts of time proportionally for example. Use Cases ---------- - As a user I want the execution of an audit to be performed as quickly as possible. Proposed change =============== Introduce a general purpose threadpool using the `futurist`_ library for which end users can configure the amount of threads. This will introduce a new class that uses a singular pattern so it can be used throughout the decision engine. The threadpool will use the GreenThreadPoolExecutor as it does not conflict with other threadpools used in the decision engine. The singleton will contain several methods to simplify the submission of tasks and waiting for their completion. .. _futurist: https://docs.openstack.org/futurist/latest/ With the threadpool the building of the data model will be parallelized which is done in three steps. First the calls to retrieve information about aggregates and availability zones are executed in parallel. The information is used to submit tasks to gather the information about each compute node. Finally, using `futures`_ will allow to immediately submit a task to retrieve the information about instances for a given compute node. .. _futures: https://docs.python.org/dev/library/concurrent.futures.html Alternatives ------------ A purpose build threadpool specific for building the data model. However, this would mean that introducing parallelism in other parts of the decision engine would again require the design and implementation of yet another threadpool. Data model impact ----------------- REST API impact --------------- Security impact --------------- Notifications impact -------------------- Other end user impact --------------------- Performance Impact ------------------ Overall the time take to perform audits should significantly decrease, however, a large amount of threads could negatively impact external services. Because of this the default amount of threads should be a relatively safe value for most OpenStack infrastructures. Other deployer impact --------------------- Deployers should evaluate the amount of threads they want Watcher to use based on the scale of their infrastructure. Developer impact ---------------- Implementation ============== Assignee(s) ----------- Primary assignee: <dantalion> Work Items ---------- - Implement the threadpool singleton based on previous proof of concepts. - Modify the method to build the data model to use the three step parallelism as described. - Implement relevant test cases to test the threadpool and the building of the data model. Dependencies ============ * futurist, A library maintained and developed by OpenStack. Testing ======= Both the behavior of the building of the data model as well as the threadpool should be evaluated. - The verifying of behavior for helper methods in the threadpool. - The verifying of the completeness of the data model when build with parallelization. Documentation Impact ==================== References ========== * `futurist`_ * `futures`_ .. _futurist: https://docs.openstack.org/futurist/latest/ .. _futures: https://docs.python.org/dev/library/concurrent.futures.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,160,0
openstack%2Fneutron~master~Ib4ed24446db26b3c18bb1274064cfc3b5d0a01a0,openstack/neutron,master,Ib4ed24446db26b3c18bb1274064cfc3b5d0a01a0,Blacklist eventlet 0.25.0,ABANDONED,2019-09-05 08:43:34.000000000,2019-09-19 03:03:58.000000000,,"[{'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-05 08:43:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17757bd0134a69365ea9b7f553cbcec81e7ff749', 'message': 'Blacklist eventlet 0.25.0\n\nmore details https://review.opendev.org/#/c/678078/\n\nChange-Id: Ib4ed24446db26b3c18bb1274064cfc3b5d0a01a0\n'}]",0,680338,17757bd0134a69365ea9b7f553cbcec81e7ff749,8,6,1,27822,,,0,"Blacklist eventlet 0.25.0

more details https://review.opendev.org/#/c/678078/

Change-Id: Ib4ed24446db26b3c18bb1274064cfc3b5d0a01a0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/680338/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,17757bd0134a69365ea9b7f553cbcec81e7ff749,eventlet,"eventlet!=0.18.3,!=0.20.1,!=0.21.0,!=0.23.0,!=0.25.0,>=0.18.2 # MIT","eventlet!=0.18.3,!=0.20.1,>=0.18.2 # MIT",1,1
openstack%2Fkeystone~master~Id8fdb40e320c9bcde63be9c204ae070d83b55812,openstack/keystone,master,Id8fdb40e320c9bcde63be9c204ae070d83b55812,Port remaining protection tests to keystone/tests/protection,ABANDONED,2019-09-19 02:43:22.000000000,2019-09-19 02:51:50.000000000,,[],"[{'number': 1, 'created': '2019-09-19 02:43:22.000000000', 'files': ['keystone/tests/protection/v3/test_implied_roles.py', 'keystone/tests/protection/v3/test_domain_config.py', 'keystone/tests/protection/v3/test_domain_roles.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/tests/protection/v3/test_access_rules.py', 'keystone/tests/protection/v3/test_consumer.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/28f6245e608186491857868a7431bf7feb68d396', 'message': 'Port remaining protection tests to keystone/tests/protection\n\nWe recently started isolation API protection tests from our unit tests\nso they can be run in parallel.\n\n  https://review.opendev.org/#/c/680788/\n\nThis commit ports the remain test classes to the new API protection\ntest location.\n\nChange-Id: Id8fdb40e320c9bcde63be9c204ae070d83b55812\n'}]",0,683024,28f6245e608186491857868a7431bf7feb68d396,2,0,1,5046,,,0,"Port remaining protection tests to keystone/tests/protection

We recently started isolation API protection tests from our unit tests
so they can be run in parallel.

  https://review.opendev.org/#/c/680788/

This commit ports the remain test classes to the new API protection
test location.

Change-Id: Id8fdb40e320c9bcde63be9c204ae070d83b55812
",git fetch https://review.opendev.org/openstack/keystone refs/changes/24/683024/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/protection/v3/test_implied_roles.py', 'keystone/tests/protection/v3/test_domain_config.py', 'keystone/tests/protection/v3/test_domain_roles.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/tests/protection/v3/test_access_rules.py', 'keystone/tests/protection/v3/test_consumer.py']",6,28f6245e608186491857868a7431bf7feb68d396,,,,0,0
openstack%2Fcyborg-tempest-plugin~master~I5bc777e5431cb57c5201358df707077336502e16,openstack/cyborg-tempest-plugin,master,I5bc777e5431cb57c5201358df707077336502e16,"[WIP]Do not merge, just for test",ABANDONED,2019-08-08 10:23:56.000000000,2019-09-19 02:47:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 24872}]","[{'number': 1, 'created': '2019-08-08 10:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/bc5560ce8895a014c7207ea6d1faa5c0cf5d41b7', 'message': '[WIP]Do not merge, just for test\n\nDepends-On: https://review.opendev.org/#/c/670470/8\nChange-Id: I5bc777e5431cb57c5201358df707077336502e16\n'}, {'number': 2, 'created': '2019-08-09 08:25:07.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/tests/scenario/manager.py', 'accounts_file.yaml', 'cyborg_tempest_plugin/config.py', 'cyborg_tempest_plugin/plugin.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py', 'cyborg_tempest_plugin/tests/api/base.py', '.stestr.conf', 'cyborg_tempest_plugin/tests/scenario/test_accelerator_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/0329100a79fa22c53fbd12e72fa76a38aab0a9bd', 'message': '[WIP]Do not merge, just for test\n\nDepends-On: https://review.opendev.org/#/c/670470\nChange-Id: I5bc777e5431cb57c5201358df707077336502e16\n'}]",0,675286,0329100a79fa22c53fbd12e72fa76a38aab0a9bd,9,2,2,24872,,,0,"[WIP]Do not merge, just for test

Depends-On: https://review.opendev.org/#/c/670470
Change-Id: I5bc777e5431cb57c5201358df707077336502e16
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/86/675286/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/tests/scenario/manager.py', 'accounts_file.yaml', 'cyborg_tempest_plugin/config.py', 'cyborg_tempest_plugin/plugin.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py', 'cyborg_tempest_plugin/tests/api/base.py', '.stestr.conf', 'cyborg_tempest_plugin/tests/scenario/test_accelerator_basic_ops.py']",9,bc5560ce8895a014c7207ea6d1faa5c0cf5d41b7,,"# Copyright 2019 Intel, Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common import utils from tempest.common import waiters from tempest import config from tempest.lib import decorators from cyborg_tempest_plugin.tests.scenario import manager CONF = config.CONF class TestServerBasicOps(manager.ScenarioTest): """"""The test suite for accelerator basic operations This smoke test case follows this basic set of operations: * Create a keypair for use in launching an instance * Create a security group to control network access in instance * Add simple permissive rules to the security group * Launch an instance * Terminate the instance """""" def setUp(self): super(TestServerBasicOps, self).setUp() @decorators.idempotent_id('7fff3fb3-91d8-4fd0-bd7d-0204f1f180ba') @decorators.attr(type='smoke') @utils.services('compute', 'network') def test_server_basic_ops(self): """"""Test for booting a VM with attached accelerator"""""" keypair = self.create_keypair() security_group = self._create_security_group() # flavor = self.create_flavor() response = self.create_device_profile() device_profile_name = response[""name""] accl_flavor = self.create_accel_flavor(device_profile_name) self.instance = self.create_server( key_name=keypair['name'], security_groups=[{'name': security_group['name']}], name=""cyborg-tempest-test-server"", flavor=accl_flavor) self.servers_client.delete_server(self.instance['id']) waiters.wait_for_server_termination( self.servers_client, self.instance['id'], ignore_error=False) ",,582,4
openstack%2Fcyborg~master~Ibe9f5d04550faca9084d93ab1d4ba203768ec30f,openstack/cyborg,master,Ibe9f5d04550faca9084d93ab1d4ba203768ec30f,add device_profile 'name' duplicate check,ABANDONED,2019-08-19 09:23:04.000000000,2019-09-19 02:46:52.000000000,,"[{'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-19 09:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3db7d09380da7af55b17a5dfe7da9d9dc4a0ae13', 'message': ""add device_profile 'name' duplicate check\n\nThis patch added device_profile curl db_api check, if device_profile name\nalready exists, return duplicate exception.\n\nChange-Id: Ibe9f5d04550faca9084d93ab1d4ba203768ec30f\n""}, {'number': 2, 'created': '2019-08-19 10:51:38.000000000', 'files': ['cyborg/db/sqlalchemy/api.py', 'cyborg/db/sqlalchemy/models.py', 'cyborg/db/sqlalchemy/alembic/versions/ede4e3f1a232_new_db_schema.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e6b3e844a4495f410e6b015be837964958ccd5ea', 'message': ""add device_profile 'name' duplicate check\n\nThis patch added device_profile curl db_api check, if device_profile name\nalready exists, return duplicate exception.\n\nDepends-On: https://review.opendev.org/#/c/670467/\nChange-Id: Ibe9f5d04550faca9084d93ab1d4ba203768ec30f\n""}]",0,677154,e6b3e844a4495f410e6b015be837964958ccd5ea,8,2,2,24872,,,0,"add device_profile 'name' duplicate check

This patch added device_profile curl db_api check, if device_profile name
already exists, return duplicate exception.

Depends-On: https://review.opendev.org/#/c/670467/
Change-Id: Ibe9f5d04550faca9084d93ab1d4ba203768ec30f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/54/677154/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/db/sqlalchemy/api.py', 'cyborg/db/sqlalchemy/alembic/versions/ede4e3f1a232_new_db_schema.py', 'cyborg/db/sqlalchemy/models.py']",3,3db7d09380da7af55b17a5dfe7da9d9dc4a0ae13,(device_profile_name_check)," schema.UniqueConstraint('uuid', name='uniq_device_profiles0uuid'), schema.UniqueConstraint('name', name='uniq_device_profiles0name'), uuid = Column(String(36), nullable=False, unique=True)"," schema.UniqueConstraint('uuid', 'name', name='uniq_device_profiles0uuid0name'), uuid = Column(String(36), nullable=False)",9,6
openstack%2Fkeystone~master~I9b5146c0881d614c3fb86ea2b96e266e86499357,openstack/keystone,master,I9b5146c0881d614c3fb86ea2b96e266e86499357,Add __init__.py files to protection tests,ABANDONED,2019-09-19 02:36:14.000000000,2019-09-19 02:43:55.000000000,,[],"[{'number': 1, 'created': '2019-09-19 02:36:14.000000000', 'files': ['keystone/tests/unit/protection/v3/__init__.py', 'keystone/tests/unit/protection/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1a7c8fa1e78211721ea85e59bd36961347c4bf58', 'message': 'Add __init__.py files to protection tests\n\nWe recently split the protection tests into their own directory so\nthey can be run in parallel to our standard unit tests. This move also\ncarried over the __init__.py files from\nkeystone/tests/unit/protection/v3/ and keystone/tests/unit/protection\nwhich leaves the remaining tests in that directory undiscoverable.\n\nYou can recreate this by running:\n\n  $ tox -e py37 -- keystone.tests.unit.protection\n\nAnd notice that no tests are discovered, even though they are there.\n\nChange-Id: I9b5146c0881d614c3fb86ea2b96e266e86499357\n'}]",0,683019,1a7c8fa1e78211721ea85e59bd36961347c4bf58,2,0,1,5046,,,0,"Add __init__.py files to protection tests

We recently split the protection tests into their own directory so
they can be run in parallel to our standard unit tests. This move also
carried over the __init__.py files from
keystone/tests/unit/protection/v3/ and keystone/tests/unit/protection
which leaves the remaining tests in that directory undiscoverable.

You can recreate this by running:

  $ tox -e py37 -- keystone.tests.unit.protection

And notice that no tests are discovered, even though they are there.

Change-Id: I9b5146c0881d614c3fb86ea2b96e266e86499357
",git fetch https://review.opendev.org/openstack/keystone refs/changes/19/683019/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/protection/v3/__init__.py', 'keystone/tests/unit/protection/__init__.py']",2,1a7c8fa1e78211721ea85e59bd36961347c4bf58,,,,0,0
openstack%2Fwatcher~master~I632a59d9e3cb6f5d0dad8987b1b01934d9ce0b42,openstack/watcher,master,I632a59d9e3cb6f5d0dad8987b1b01934d9ce0b42,Watcher planner slector releasenote,MERGED,2019-09-18 03:02:29.000000000,2019-09-19 02:28:23.000000000,2019-09-19 02:25:22.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 03:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3a6333a48ee734f4391fa8ca0de485ca4ae7e649', 'message': 'Watcher planner slector releasenote\n\nChange-Id: I632a59d9e3cb6f5d0dad8987b1b01934d9ce0b42\nImplements: bp watcher-planner-selector\n'}, {'number': 2, 'created': '2019-09-18 08:59:23.000000000', 'files': ['releasenotes/notes/watcher-planner-selector-84d77549d46f362a.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/a88e076646722f24633c3dce8a58ac61a1fa9016', 'message': 'Watcher planner slector releasenote\n\nChange-Id: I632a59d9e3cb6f5d0dad8987b1b01934d9ce0b42\nImplements: bp watcher-planner-selector\n'}]",0,682775,a88e076646722f24633c3dce8a58ac61a1fa9016,9,2,2,21692,,,0,"Watcher planner slector releasenote

Change-Id: I632a59d9e3cb6f5d0dad8987b1b01934d9ce0b42
Implements: bp watcher-planner-selector
",git fetch https://review.opendev.org/openstack/watcher refs/changes/75/682775/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/watcher-planner-selector-84d77549d46f362a.yaml'],1,3a6333a48ee734f4391fa8ca0de485ca4ae7e649,planner_releasenote,--- features: - Now Watcher strategy can select specific planner beyond default. ,,4,0
openstack%2Fwatcher~master~I05b02905a3335a73b6926966de6331c632842293,openstack/watcher,master,I05b02905a3335a73b6926966de6331c632842293,Set strategy planner,MERGED,2019-09-17 09:19:20.000000000,2019-09-19 02:27:12.000000000,2019-09-19 02:25:21.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 09:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/078a21d5be20cf2a08ae989398f687ca47130bcc', 'message': 'Set strategy planner\n\nThe default planner can not create actions with right order,\nThe node_resouce_consolidation strategy needs to use its\nown planner.\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I05b02905a3335a73b6926966de6331c632842293\n'}, {'number': 2, 'created': '2019-09-18 02:43:26.000000000', 'files': ['watcher/tests/decision_engine/strategy/strategies/test_node_resource_consolidation.py', 'watcher/decision_engine/strategy/strategies/node_resource_consolidation.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/0559cd7a0462bd0090af41c3ccd1c281b0c2ffea', 'message': 'Set strategy planner\n\nThe default planner can not create actions with right order,\nThe node_resouce_consolidation strategy needs to use its\nown planner.\nPartially Implements: blueprint node-resource-consolidation\nDepends-on: I586e67f782e2965234826634ba3ff51681af4df8\nChange-Id: I05b02905a3335a73b6926966de6331c632842293\n'}]",0,682590,0559cd7a0462bd0090af41c3ccd1c281b0c2ffea,9,2,2,21692,,,0,"Set strategy planner

The default planner can not create actions with right order,
The node_resouce_consolidation strategy needs to use its
own planner.
Partially Implements: blueprint node-resource-consolidation
Depends-on: I586e67f782e2965234826634ba3ff51681af4df8
Change-Id: I05b02905a3335a73b6926966de6331c632842293
",git fetch https://review.opendev.org/openstack/watcher refs/changes/90/682590/2 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/decision_engine/strategy/strategies/test_node_resource_consolidation.py', 'watcher/decision_engine/strategy/strategies/node_resource_consolidation.py']",2,078a21d5be20cf2a08ae989398f687ca47130bcc,set_planner," self.host_choice = self.input_parameters.get('host_choice', 'auto') self.planner = 'node_resource_consolidation'", self.host_choice = self.input_parameters.host_choice,13,1
openstack%2Fwatcher~master~I586e67f782e2965234826634ba3ff51681af4df8,openstack/watcher,master,I586e67f782e2965234826634ba3ff51681af4df8,Get planner from solution,MERGED,2019-09-18 02:39:20.000000000,2019-09-19 02:22:54.000000000,2019-09-19 02:21:23.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 02:39:20.000000000', 'files': ['watcher/decision_engine/audit/base.py', 'watcher/tests/decision_engine/solution/test_default_solution.py', 'watcher/decision_engine/solution/base.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/0c191a2da948ca994ed39f1244cba61467bff216', 'message': 'Get planner from solution\n\nsupport Strategy select different planner\nImplements: bp watcher-planner-selector\n\nChange-Id: I586e67f782e2965234826634ba3ff51681af4df8\n'}]",0,682774,0c191a2da948ca994ed39f1244cba61467bff216,7,2,1,21692,,,0,"Get planner from solution

support Strategy select different planner
Implements: bp watcher-planner-selector

Change-Id: I586e67f782e2965234826634ba3ff51681af4df8
",git fetch https://review.opendev.org/openstack/watcher refs/changes/74/682774/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/audit/base.py', 'watcher/tests/decision_engine/solution/test_default_solution.py', 'watcher/decision_engine/solution/base.py']",3,0c191a2da948ca994ed39f1244cba61467bff216,planner_strategy, self._strategy = strategy @property def strategy(self): return self._strategy , self.strategy = strategy,15,8
openstack%2Fhorizon~master~Ied0fd27dbbc33a98617c049977539c5b3c71cdfe,openstack/horizon,master,Ied0fd27dbbc33a98617c049977539c5b3c71cdfe,Fixes IPv6 static route addition,MERGED,2019-05-02 20:48:49.000000000,2019-09-19 02:14:28.000000000,2019-05-29 11:06:49.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 20:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ee6e33e35e1472ec72aa42de14bd738135339246', 'message': 'Fixes IPv6 static route addition\n\nThis change fixes the form validation error while adding\nIPv6 static routes to a router through the OpenStack Dashboard.\nUnit tests to cover this action have also been added.\n\nChange-Id: Ied0fd27dbbc33a98617c049977539c5b3c71cdfe\nCloses-Bug: #1523341\n'}, {'number': 2, 'created': '2019-05-02 21:07:35.000000000', 'files': ['openstack_dashboard/dashboards/project/routers/extensions/extraroutes/forms.py', 'openstack_dashboard/dashboards/project/routers/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/43034cbb2330c476325edd1c6854dd93a30d8814', 'message': 'Fixes IPv6 static route addition\n\nThis change fixes the form validation error while adding\nIPv6 static routes to a router through the OpenStack Dashboard.\nUnit tests to cover this action have also been added.\n\nChange-Id: Ied0fd27dbbc33a98617c049977539c5b3c71cdfe\nCloses-Bug: #1523341\n'}]",0,656866,43034cbb2330c476325edd1c6854dd93a30d8814,10,4,2,30363,,,0,"Fixes IPv6 static route addition

This change fixes the form validation error while adding
IPv6 static routes to a router through the OpenStack Dashboard.
Unit tests to cover this action have also been added.

Change-Id: Ied0fd27dbbc33a98617c049977539c5b3c71cdfe
Closes-Bug: #1523341
",git fetch https://review.opendev.org/openstack/horizon refs/changes/66/656866/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/routers/extensions/extraroutes/forms.py', 'openstack_dashboard/dashboards/project/routers/tests.py']",2,ee6e33e35e1472ec72aa42de14bd738135339246,bug/1523341," def _test_router_addrouterroute(self, ipv6=False, raise_error=False): if ipv6: route = {'nexthop': 'fdb6:b88a:488e::5', 'destination': '2002::/64'} else: route = {'nexthop': '10.0.0.5', 'destination': '40.0.1.0/24'} def test_router_addrouteripv6route(self): if self.DASHBOARD == 'project': self._test_router_addrouterroute(ipv6=True) self.assertMessageCount(success=1) def test_router_addrouteripv6route_exception(self): if self.DASHBOARD == 'project': self._test_router_addrouterroute(ipv6=True, raise_error=True) self.assertMessageCount(error=1) "," def _test_router_addrouterroute(self, raise_error=False): route = {'nexthop': '10.0.0.5', 'destination': '40.0.1.0/24'}",17,4
openstack%2Fnetworking-ovn~stable%2Fqueens~I63d12861e1ff5d444d116188a2a122eca5c45af0,openstack/networking-ovn,stable/queens,I63d12861e1ff5d444d116188a2a122eca5c45af0,Make use of OVS 2.11 in stable/queens,MERGED,2019-09-11 07:29:27.000000000,2019-09-19 02:06:38.000000000,2019-09-19 02:06:38.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-11 07:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7d462a2eac396a5bb85dd1cfc09dd4bf21277569', 'message': ""Temporarily switch master jobs to OVS 2.12 branch\n\nWhile we adjust the jobs to build OVN from the new repo,\nthis patch is switching jobs that build OVS/OVN from master to\nuse the recently created branch-2.12.\n\nIn addition, make rally non-voting until\n[1] is merged, the gate is broken there as well. So since there\nare two separate issues breaking the gate, they can't depend on\neach other to merge so fix it here. (It appears to be past\nworking hours for rally-core)\n\nThis patch must be reverted when [0] and [1] get merged.\n\n[0] https://review.opendev.org/#/c/673236/\n[1] https://review.opendev.org/#/c/681001/\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n""}, {'number': 2, 'created': '2019-09-13 10:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9b60c26c10894d97f0e8911d69c3dfd6d0d19e4f', 'message': 'Switch stable/queens jobs to OVS 2.11 branch\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n'}, {'number': 3, 'created': '2019-09-16 08:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/72391a10ac80e52a77a0ef53ec5c00f6adf4f6c6', 'message': ""Switch stable/queens jobs to OVS 2.11 branch and remove master jobs\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nWe don't want to test stable release against master OVS/OVN, so lets\nremove those jobs.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n""}, {'number': 4, 'created': '2019-09-17 10:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a0395d00cb22ef5651932d66be4eea55495530ad', 'message': ""Switch stable/queens jobs to OVS 2.11 branch and remove master jobs\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nWe don't want to test stable release against master OVS/OVN, so lets\nremove those jobs.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n""}, {'number': 5, 'created': '2019-09-17 12:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/918e955388c7d9ff3bdefa77f51b004b11a72400', 'message': ""Make use of OVS 2.11 in stable/queens\n\nThis patch squash two commits:\n\n1) Switch stable/queens jobs to OVS 2.11 branch and remove master jobs\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nWe don't want to test stable release against master OVS/OVN, so lets\nremove those jobs.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n\n2) functional: Use different IP addresses for every fake chassis\n\nAs of OVS 2.11, the SB schema changed to not allow having two\nEncap rows with the same (ip, type) pairs. Some of our\nfunctional tests need more than one chassis and they all get\ncreated with the same (ip, type) values so they'll fail.\n\nThis patch changes it so that a new IP address is used every\ntime we create a fake chassis. It shouldn't have any impact\nas ovn-controller is not running so tunnels won't be created\nanyways.\n\nCloses-Bug: #1810292\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n""}, {'number': 6, 'created': '2019-09-17 20:47:58.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'devstack/devstackgaterc', 'zuul.d/networkin-ovn-rally-task.yaml', 'networking_ovn/tests/functional/base.py', 'networking_ovn/tests/functional/test_impl_idl.py', 'playbooks/legacy/networking-ovn-dsvm-functional/run.yaml', 'devstack/local.conf.sample', 'playbooks/legacy/networking-ovn-dsvm-functional-py35/run.yaml', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'devstack/lib/networking-ovn', 'zuul.d/project.yaml', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/513647805f5ddf3917085705618f147afde4d15e', 'message': ""Make use of OVS 2.11 in stable/queens\n\nThis patch squash two commits:\n\n1) Switch stable/queens jobs to OVS 2.11 branch and remove master jobs\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nWe don't want to test stable release against master OVS/OVN, so lets\nremove those jobs.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n\n2) functional: Use different IP addresses for every fake chassis\n\nAs of OVS 2.11, the SB schema changed to not allow having two\nEncap rows with the same (ip, type) pairs. Some of our\nfunctional tests need more than one chassis and they all get\ncreated with the same (ip, type) values so they'll fail.\n\nThis patch changes it so that a new IP address is used every\ntime we create a fake chassis. It shouldn't have any impact\nas ovn-controller is not running so tunnels won't be created\nanyways.\n\nCloses-Bug: #1810292\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n""}]",5,681394,513647805f5ddf3917085705618f147afde4d15e,30,6,6,24791,,,0,"Make use of OVS 2.11 in stable/queens

This patch squash two commits:

1) Switch stable/queens jobs to OVS 2.11 branch and remove master jobs

While the master branch should change to build from the
new OVN repo, stable branches should build from a stable
version of it.

We don't want to test stable release against master OVS/OVN, so lets
remove those jobs.

Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)

2) functional: Use different IP addresses for every fake chassis

As of OVS 2.11, the SB schema changed to not allow having two
Encap rows with the same (ip, type) pairs. Some of our
functional tests need more than one chassis and they all get
created with the same (ip, type) values so they'll fail.

This patch changes it so that a new IP address is used every
time we create a fake chassis. It shouldn't have any impact
as ovn-controller is not running so tunnels won't be created
anyways.

Closes-Bug: #1810292
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)

Change-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/94/681394/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'playbooks/legacy/networking-ovn-dsvm-functional/run.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional-py35/run.yaml', 'devstack/lib/networking-ovn', 'zuul.d/project.yaml']",5,7d462a2eac396a5bb85dd1cfc09dd4bf21277569,," - networking-ovn-rally-task: voting: false # Until https://review.opendev.org/#/c/680995/ merges, unblock the gate #- networking-ovn-rally-task", - networking-ovn-rally-task - networking-ovn-rally-task,10,5
openstack%2Ftripleo-ansible~master~Iab137405d101e81f8ef9d086c5048108563a3fa7,openstack/tripleo-ansible,master,Iab137405d101e81f8ef9d086c5048108563a3fa7,Add test to find broken symlinks,MERGED,2019-09-16 17:05:03.000000000,2019-09-19 02:03:11.000000000,2019-09-19 02:01:15.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/662df26b744a357a4a190e89392085b4c4065966', 'message': 'Add test to find broken symlinks\n\nThis change adds a test to find all broken symlinks. If any\nlink is found to be broken the lint check will return the\nbroken link in stdout and fail.\n\nChange-Id: Iab137405d101e81f8ef9d086c5048108563a3fa7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-09-16 18:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78882e2189f9436907f1e808e4eb39719b2bab63', 'message': 'Add test to find broken symlinks\n\nThis change adds a test to find all broken symlinks. If any\nlink is found to be broken the lint check will return the\nbroken link in stdout and fail.\n\nChange-Id: Iab137405d101e81f8ef9d086c5048108563a3fa7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-09-17 14:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47ff2903ac77c2d0016dc92d029d187406069558', 'message': 'Add test to find broken symlinks\n\nThis change adds a test to find all broken symlinks. If any\nlink is found to be broken the lint check will return the\nbroken link in stdout and fail.\n\nChange-Id: Iab137405d101e81f8ef9d086c5048108563a3fa7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-09-17 17:29:28.000000000', 'files': ['scripts/detect-broken-symlinks.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/250a20c15e9be542683ebac130cc7e630ba42549', 'message': 'Add test to find broken symlinks\n\nThis change adds a test to find all broken symlinks. If any\nlink is found to be broken the lint check will return the\nbroken link in stdout and fail.\n\nChange-Id: Iab137405d101e81f8ef9d086c5048108563a3fa7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,682419,250a20c15e9be542683ebac130cc7e630ba42549,15,4,4,7353,,,0,"Add test to find broken symlinks

This change adds a test to find all broken symlinks. If any
link is found to be broken the lint check will return the
broken link in stdout and fail.

Change-Id: Iab137405d101e81f8ef9d086c5048108563a3fa7
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/682419/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,662df26b744a357a4a190e89392085b4c4065966,broken-links-test," bash -c ""echo -e 'Checking for broken symlinks:\n'; find {toxinidir} -type l ! -exec test -e {} \; -print 2>&1 | grep . && exit 1 || (echo clear && exit 0)""",,2,0
openstack%2Fwatcher-specs~master~I02125d7f348ed956695f9b60ab605b2ffbddfd55,openstack/watcher-specs,master,I02125d7f348ed956695f9b60ab605b2ffbddfd55,Build pdf docs,MERGED,2019-09-18 07:20:57.000000000,2019-09-19 01:55:21.000000000,2019-09-19 01:53:55.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 07:20:57.000000000', 'files': ['requirements.txt', 'doc/source/conf.py', 'specs/newton/implemented/scoring-module.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/51b8cede0e0ef578db9f19edf3d8df75582e5ba4', 'message': 'Build pdf docs\n\nAdd a new pdf-docs environment to enable PDF build.\n\nChange-Id: I02125d7f348ed956695f9b60ab605b2ffbddfd55\n'}]",0,682810,51b8cede0e0ef578db9f19edf3d8df75582e5ba4,7,2,1,21692,,,0,"Build pdf docs

Add a new pdf-docs environment to enable PDF build.

Change-Id: I02125d7f348ed956695f9b60ab605b2ffbddfd55
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/10/682810/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py', 'specs/newton/implemented/scoring-module.rst', 'tox.ini']",4,51b8cede0e0ef578db9f19edf3d8df75582e5ba4,build-pdf-docs,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = rm make commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,74,47
openstack%2Fwatcher-specs~master~I121fe7c93e2902e8e2c4607d1eae8875489b3b7f,openstack/watcher-specs,master,I121fe7c93e2902e8e2c4607d1eae8875489b3b7f,move Watcher train implemented specs,MERGED,2019-09-18 05:46:22.000000000,2019-09-19 01:52:52.000000000,2019-09-19 01:51:03.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 05:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/a15617824f84f60af5505418c59cceed305b72fb', 'message': 'move Watcher train implemented specs\n\nChange-Id: I121fe7c93e2902e8e2c4607d1eae8875489b3b7f\n'}, {'number': 2, 'created': '2019-09-18 06:22:33.000000000', 'files': ['specs/train/implemented/improve-compute-data-model.rst', 'specs/train/implemented/watcher-planner-selector.rst', 'specs/train/implemented/file-based-metricmap.rst', 'specs/train/implemented/add-force-field-to-audit.rst', 'specs/train/implemented/formal-datasource-interface.rst', 'specs/train/implemented/support-keystoneclient-option.rst', 'specs/train/redirects', 'specs/train/implemented/grafana-proxy-datasource.rst', 'specs/train/implemented/node-resource-consolidation.rst', 'specs/train/implemented/support-placement-api.rst', 'specs/train/implemented/global-datasource-preference.rst', 'specs/train/implemented/show-datamodel-api.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/5ba8bfe90f409bc15b71e51092dd4eb08fd5bdbc', 'message': 'move Watcher train implemented specs\n\nChange-Id: I121fe7c93e2902e8e2c4607d1eae8875489b3b7f\n'}]",0,682794,5ba8bfe90f409bc15b71e51092dd4eb08fd5bdbc,9,2,2,21692,,,0,"move Watcher train implemented specs

Change-Id: I121fe7c93e2902e8e2c4607d1eae8875489b3b7f
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/94/682794/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/train/implemented/improve-compute-data-model.rst', 'specs/train/implemented/watcher-planner-selector.rst', 'specs/train/implemented/file-based-metricmap.rst', 'specs/train/implemented/add-force-field-to-audit.rst', 'specs/train/implemented/formal-datasource-interface.rst', 'specs/train/implemented/support-keystoneclient-option.rst', 'specs/train/redirects', 'specs/train/implemented/grafana-proxy-datasource.rst', 'specs/train/implemented/node-resource-consolidation.rst', 'specs/train/implemented/support-placement-api.rst', 'specs/train/implemented/global-datasource-preference.rst', 'specs/train/implemented/show-datamodel-api.rst']",12,a15617824f84f60af5505418c59cceed305b72fb,move_implemented,,,12,0
openstack%2Foctavia-dashboard~master~Iae628e8fdebc3ac8075def9f9188f57b55c25427,openstack/octavia-dashboard,master,Iae628e8fdebc3ac8075def9f9188f57b55c25427,Use lower-constraints template,MERGED,2019-09-14 07:36:15.000000000,2019-09-19 01:49:35.000000000,2019-09-19 01:45:52.000000000,"[{'_account_id': 2245}, {'_account_id': 6547}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-09-14 07:36:15.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/bdf752191822462ec744682c2f8c892a74c0fe01', 'message': 'Use lower-constraints template\n\nUse a template so that we can change jobs in a central place if needed\ninstead of single jobs.\n\nThis does not change any testing, the same jobs are run as before.\n\nChange-Id: Iae628e8fdebc3ac8075def9f9188f57b55c25427\n'}]",0,682201,bdf752191822462ec744682c2f8c892a74c0fe01,10,5,1,6547,,,0,"Use lower-constraints template

Use a template so that we can change jobs in a central place if needed
instead of single jobs.

This does not change any testing, the same jobs are run as before.

Change-Id: Iae628e8fdebc3ac8075def9f9188f57b55c25427
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/01/682201/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,bdf752191822462ec744682c2f8c892a74c0fe01,lower-constraints, - openstack-lower-constraints-jobs, check: jobs: - openstack-tox-lower-constraints gate: jobs: - openstack-tox-lower-constraints,1,6
openstack%2Ftripleo-ansible~master~If1ab313270d576cfd42506ca9071a02c656c2b85,openstack/tripleo-ansible,master,If1ab313270d576cfd42506ca9071a02c656c2b85,Ignore the Sphinx documentation build,MERGED,2019-09-18 09:48:52.000000000,2019-09-19 01:49:14.000000000,2019-09-19 01:49:14.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 09:48:52.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00e29c475cb11c6ad9e6eddc671edae4f0a94515', 'message': 'Ignore the Sphinx documentation build\n\nChange-Id: If1ab313270d576cfd42506ca9071a02c656c2b85\n'}]",0,682848,00e29c475cb11c6ad9e6eddc671edae4f0a94515,6,2,1,9712,,,0,"Ignore the Sphinx documentation build

Change-Id: If1ab313270d576cfd42506ca9071a02c656c2b85
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/682848/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,00e29c475cb11c6ad9e6eddc671edae4f0a94515,,# Sphinx doc/build ,,3,0
openstack%2Fcyborg~master~I79f02365494437764ac8d57285176833773733d5,openstack/cyborg,master,I79f02365494437764ac8d57285176833773733d5,Fix ARQ delete API issue,ABANDONED,2019-09-19 01:23:11.000000000,2019-09-19 01:29:40.000000000,,"[{'_account_id': 14107}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-09-19 01:23:11.000000000', 'files': ['cyborg/objects/ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b8f92438a6f007d4ac5611045090adf8d2d4462d', 'message': 'Fix ARQ delete API issue\n\nARQ delete API fails with reference for non-exist index,\nThis patch fix that.\n(constants.ARQ_STATE_INITIAL is not contained in\ncommon/constants.py [1]. miss-spelling?)\n\n[1] https://github.com/openstack/cyborg/blob/master/cyborg/common/constants.py#L24\n\nChange-Id: I79f02365494437764ac8d57285176833773733d5\n'}]",0,683013,b8f92438a6f007d4ac5611045090adf8d2d4462d,4,2,1,30759,,,0,"Fix ARQ delete API issue

ARQ delete API fails with reference for non-exist index,
This patch fix that.
(constants.ARQ_STATE_INITIAL is not contained in
common/constants.py [1]. miss-spelling?)

[1] https://github.com/openstack/cyborg/blob/master/cyborg/common/constants.py#L24

Change-Id: I79f02365494437764ac8d57285176833773733d5
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/13/683013/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/ext_arq.py'],1,b8f92438a6f007d4ac5611045090adf8d2d4462d,, if obj_extarq.arq.state != constants.ARQ_INITIAL:, if obj_extarq.arq.state != constants.ARQ_STATE_INITIAL:,1,1
openstack%2Fnetworking-ovn~master~Iaf807ab4bdbb41dc80702283d9689ccdd499fa31,openstack/networking-ovn,master,Iaf807ab4bdbb41dc80702283d9689ccdd499fa31,ovn-metadata-agent: dsvm-functional issues due to str conversion,MERGED,2019-09-06 22:07:03.000000000,2019-09-19 01:15:27.000000000,2019-09-19 01:13:58.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-09-06 22:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cc6db4f143eed3fdc87e905e4a76d62fec36701f', 'message': 'ovn-metadata-agent: fix dsvm-functional issues related to str to bytes conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\n--------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\n-----------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n---------------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 2, 'created': '2019-09-07 02:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e0a47cfaac3224dad7ec18ffc392682c7a46f16d', 'message': 'ovn-metadata-agent: fix dsvm-functional issues related to str to bytes conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\n--------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\n-----------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n---------------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 3, 'created': '2019-09-07 03:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/46da5aa8f16b5335b09f50433c5d3c9516422b7c', 'message': 'ovn-metadata-agent: fix dsvm-functional issues related to str to bytes conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\n--------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\n-----------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n---------------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n'}, {'number': 4, 'created': '2019-09-07 03:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/96c7ee8d93b134997f667865c0e0046ef57750d0', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\n--------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\n-----------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n---------------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n'}, {'number': 5, 'created': '2019-09-07 03:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ab6658c4083c11f39098406d4b67ca72a6adbfb7', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\n--------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\n-----------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n---------------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n'}, {'number': 6, 'created': '2019-09-07 03:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/798e26987c135751522719c01fbdcbbb75afceb4', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\n--------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\n-----------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n---------------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n'}, {'number': 7, 'created': '2019-09-13 03:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b36f4f05edbee9eaf4aaebb9a6d3431e008fb94b', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_resync_on_non_existing_bridge\n--------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_metadata_agent_healthcheck\n-----------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n---------------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n'}, {'number': 8, 'created': '2019-09-13 20:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/50aeb34b0754fb68c6a33e367059fc43335a4f28', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1843944\n'}, {'number': 9, 'created': '2019-09-16 23:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0ef74f20b3412fa1ed49a1b7e6c952b36119a221', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1843944\n'}, {'number': 10, 'created': '2019-09-17 16:05:18.000000000', 'files': ['networking_ovn/agent/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2832cee9756f03aaaeed2c6da0bfbe50fb16df54', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1843944\n'}]",4,680781,2832cee9756f03aaaeed2c6da0bfbe50fb16df54,43,6,10,11952,,,0,"ovn-metadata-agent: dsvm-functional issues due to str conversion

Fix string to byte convertion issues that were causing failure on the following tests:

TestMetadataAgent.test_agent_resync_on_non_existing_bridge
TestMetadataAgent.test_metadata_agent_healthcheck
TestMetadataAgent.test_agent_registration_at_chassis_create_event
TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats

networking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event
---------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    b'Traceback (most recent call last):'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp'
    b'    self.agent = self._start_metadata_agent()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent'
    b'    agt.start()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start'
    b'    self.sync()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped'
    b'    return f(*args, **kwargs)'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync'
    b'    unused_namespaces = [ns for ns in system_namespaces if'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>'
    b'    ns.startswith(NS_PREFIX) and'
    b'TypeError: startswith first arg must be bytes or a tuple of bytes, not str'
    b''

Change-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Closes-Bug: #1843944
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/81/680781/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/agent.py'],1,cc6db4f143eed3fdc87e905e4a76d62fec36701f,," ns.startswith(self._str_to_byte(NS_PREFIX)) and def _str_to_byte(value): if isinstance(value, str): value = value.encode('utf-8') return value @staticmethod return NS_PREFIX + str(datapath)", ns.startswith(NS_PREFIX) and return NS_PREFIX + datapath,8,2
openstack%2Frequirements~master~I45e2011424c45ce41387164d29f7efd90efdfe63,openstack/requirements,master,I45e2011424c45ce41387164d29f7efd90efdfe63,Cap requests-mock to 1.6.0,MERGED,2019-09-05 19:29:45.000000000,2019-09-19 01:04:57.000000000,2019-09-19 01:03:41.000000000,"[{'_account_id': 5046}, {'_account_id': 6547}, {'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 19:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fa0417f1c11036fa634f6cc5ed70bb15c14f56f3', 'message': 'Cap requests-mock to 1.6.0\n\nVersion 1.7.0 includes a fix that is breaking some keystoneauth tests:\n\n  https://github.com/jamielennox/requests-mock/pull/93\n\nCap at 1.6.0 until we can get keystoneauth refactored to use the new\nversion.\n\nChange-Id: I45e2011424c45ce41387164d29f7efd90efdfe63\n'}, {'number': 2, 'created': '2019-09-15 06:00:00.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b7fc4603ab83a31ff973542e9e212b6cffa7248e', 'message': 'Cap requests-mock to 1.6.0\n\nVersion 1.7.0 includes a fix that is breaking some keystoneauth tests:\n\n  https://github.com/jamielennox/requests-mock/pull/93\n\nCap at 1.6.0 until we can get keystoneauth refactored to use the new\nversion.\n\nRelated-Bug: #1842978\nChange-Id: I45e2011424c45ce41387164d29f7efd90efdfe63\n'}]",0,680497,b7fc4603ab83a31ff973542e9e212b6cffa7248e,17,6,2,5046,,,0,"Cap requests-mock to 1.6.0

Version 1.7.0 includes a fix that is breaking some keystoneauth tests:

  https://github.com/jamielennox/requests-mock/pull/93

Cap at 1.6.0 until we can get keystoneauth refactored to use the new
version.

Related-Bug: #1842978
Change-Id: I45e2011424c45ce41387164d29f7efd90efdfe63
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/680497/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fa0417f1c11036fa634f6cc5ed70bb15c14f56f3,,requests-mock===1.6.0,requests-mock===1.7.0,1,1
openstack%2Fswift~master~I3d96022c01834c85e9795ea41d18b17624a33a19,openstack/swift,master,I3d96022c01834c85e9795ea41d18b17624a33a19,Close leaking opened requests,MERGED,2019-09-17 17:01:15.000000000,2019-09-19 00:40:49.000000000,2019-09-19 00:36:58.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 17:01:15.000000000', 'files': ['swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/20fc16e8daa184ebadab9f49e0f76e7687a8cebd', 'message': 'Close leaking opened requests\n\nChange-Id: I3d96022c01834c85e9795ea41d18b17624a33a19\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n'}]",0,682698,20fc16e8daa184ebadab9f49e0f76e7687a8cebd,9,3,1,9625,,,0,"Close leaking opened requests

Change-Id: I3d96022c01834c85e9795ea41d18b17624a33a19
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/682698/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/base.py'],1,20fc16e8daa184ebadab9f49e0f76e7687a8cebd,," GreenAsyncPile, quorum_size, parse_content_type, close_if_possible, \ close_if_possible(resp.app_iter) close_if_possible(resp.app_iter)"," GreenAsyncPile, quorum_size, parse_content_type, \",3,1
openstack%2Fgrenade~master~I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,openstack/grenade,master,I7b57b95e2d4eeb54d13dcb0960db91cb48b60470,Use docs-pti template,MERGED,2019-08-19 16:02:27.000000000,2019-09-19 00:40:13.000000000,2019-09-19 00:36:57.000000000,"[{'_account_id': 5196}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-08-19 16:02:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58', 'message': 'Use docs-pti template\n\nInstead of using individual jobs, use the docs-pti template for Zuul\njob configuration so that we can change docs publishing in a single\nplace.\n\nChange-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470\n'}]",0,677245,969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58,10,4,1,6547,,,0,"Use docs-pti template

Instead of using individual jobs, use the docs-pti template for Zuul
job configuration so that we can change docs publishing in a single
place.

Change-Id: I7b57b95e2d4eeb54d13dcb0960db91cb48b60470
",git fetch https://review.opendev.org/openstack/grenade refs/changes/45/677245/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,969756cbd17aa5b8e4b99ccf95a0f0c713a7bd58,tox-docs, templates: - publish-openstack-docs-pti, - tox-docs - tox-docs post: jobs: - publish-openstack-tox-docs,2,5
openstack%2Fswift~master~I671a6e4a3d1011dbbc2267b44134cfaf3380fb22,openstack/swift,master,I671a6e4a3d1011dbbc2267b44134cfaf3380fb22,Skip test when object versioning is not enabled,MERGED,2019-09-17 14:53:19.000000000,2019-09-19 00:25:56.000000000,2019-09-19 00:23:49.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 14:53:19.000000000', 'files': ['test/functional/test_versioned_writes.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9698b1bb957c1f646ac30fb64ec3528627fcee1c', 'message': 'Skip test when object versioning is not enabled\n\nChange-Id: I671a6e4a3d1011dbbc2267b44134cfaf3380fb22\n'}]",0,682668,9698b1bb957c1f646ac30fb64ec3528627fcee1c,8,2,1,9625,,,0,"Skip test when object versioning is not enabled

Change-Id: I671a6e4a3d1011dbbc2267b44134cfaf3380fb22
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/682668/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/test_versioned_writes.py'],1,9698b1bb957c1f646ac30fb64ec3528627fcee1c,skip_versioning," if self.conn.response.status == 412: raise SkipTest(""Object versioning not enabled"") else: raise ResponseError(self.conn.response)", raise ResponseError(self.conn.response),4,1
openstack%2Fnova~master~I491eb7abe1405b27c552cdef142c688a46e914f2,openstack/nova,master,I491eb7abe1405b27c552cdef142c688a46e914f2,libvirt: Start reporting PCPU inventory to placement,MERGED,2019-07-19 18:17:15.000000000,2019-09-19 00:25:55.000000000,2019-09-19 00:23:40.000000000,"[{'_account_id': 5754}, {'_account_id': 6547}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10607}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28743}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2019-07-19 18:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cc0e2a7f7c5245fba32745db513126d166727f6', 'message': 'libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-07-21 13:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/498e40ac7b6b33bb1f2ada9acf200c83f08ce814', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-07-23 17:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fef91d2ccf23e0ee92be0c0429f70c85649974e9', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-07-24 15:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/530a47116b357665116f36e26c7d1a9a4f099447', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-07-25 11:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/317c02ab6d6752f2a03a6fa8aefc232f91842cb0', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-08-01 18:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60414b154738e56906e77c0a53d87c58c85a5433', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-08-06 09:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/211ef43a307ffb69156ff7da5b166c4d90f9b908', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-08-06 11:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2497e7982be080d4ee0bd600caf52569d92cb36', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-08-20 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d57d3575b53d8d4dbef81057fe9059dcaaa1f26', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-08-20 17:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27bb0d61b9ebf9007f893e8db87ec7605769268c', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-08-20 20:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c218afc0d689865ee87c8e70285e72117649d92', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2019-08-22 15:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f3635ace696c83f20b34f285bda6c8bc2071de5', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 13, 'created': '2019-08-22 18:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9881da53cd621d32d0e30b6d30cdfd616724a4f2', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 14, 'created': '2019-08-23 16:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd3673e790f0752252bcd6a814066d664b7a7b65', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is also deprecated, while the help\ntext for the 'reserved_host_cpus' option is updated to specify that it\nwill be ignored for the libvirt driver.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 15, 'created': '2019-08-26 03:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52c14749287ae586f6a3966d370e57f3f542e3d8', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is also deprecated, while the help\ntext for the 'reserved_host_cpus' option is updated to specify that it\nwill be ignored for the libvirt driver.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 16, 'created': '2019-08-27 16:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf8c5aa78452f64483c4f818b7f4c7f30bde910a', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is also deprecated, while the help\ntext for the 'reserved_host_cpus' option is updated to specify that it\nwill be ignored for the libvirt driver.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 17, 'created': '2019-09-02 10:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc8aa2a0e33a456cbdeacbdd4e9dafc9817443b1', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is also deprecated, while the help\ntext for the 'reserved_host_cpus' option is updated to specify that it\nwill be ignored for the libvirt driver.\n\nThe 'os-resource-classes' minimum version must be bumped to 0.2.0, as\nthat's the first version to include the 'PCPU' standard resource class.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 18, 'created': '2019-09-03 10:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc5b5e7e112ff64eee9fee95625b3b7f2276972a', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is also deprecated, while the help\ntext for the 'reserved_host_cpus' option is updated to specify that it\nwill be ignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 19, 'created': '2019-09-03 14:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac7f1c9a50c72b76c1a4d0810468ff30b9725d6b', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is also deprecated, while the help\ntext for the 'reserved_host_cpus' option is updated to specify that it\nwill be ignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 20, 'created': '2019-09-04 17:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56e70931926064fdeb35261185ee61e6e6e826fa', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is also deprecated, while the help\ntext for the 'reserved_host_cpus' option is updated to specify that it\nwill be ignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 22, 'created': '2019-09-10 12:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1efb4f2dcfdd4522ba3f69271f9e9390aeb59314', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is deprecated, while the help text for\nthe 'reserved_host_cpus' option is updated to specify that it will be\nignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 23, 'created': '2019-09-10 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1579d2af6f19f909de07b5bbeac45d2dc757913', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is deprecated, while the help text for\nthe 'reserved_host_cpus' option is updated to specify that it will be\nignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 24, 'created': '2019-09-11 23:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85e251b490d7e1c30046b58b51c60e5d98b547cb', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is deprecated, while the help text for\nthe 'reserved_host_cpus' option is updated to specify that it will be\nignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 25, 'created': '2019-09-12 22:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa8655f7d5f36203b2ac1cb915c96f51efc4e75d', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is deprecated, while the help text for\nthe 'reserved_host_cpus' option is updated to specify that it will be\nignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 26, 'created': '2019-09-13 08:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7d47e48af49c0cd0d8ec6aabe05b09c0c7a7982', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is deprecated, while the help text for\nthe 'reserved_host_cpus' option is updated to specify that it will be\nignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 27, 'created': '2019-09-17 23:23:12.000000000', 'files': ['nova/conf/compute.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'releasenotes/notes/cpu-resources-d4e6a0c12681fa87.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fad0332cb4d46cd146bb0b6fdff5adb655422a45', 'message': ""libvirt: Start reporting PCPU inventory to placement\n\nThis requires a lot of hand holding for legacy configuration options\n(hence the plethora of tests) but this is all required to not break\nupgrades.\n\nA new '[compute] cpu_dedicated_set' config option is added, including a\nwall of text necessary to explain the upgrade implications of this\noption. The 'vcpu_pin_set' option is deprecated, while the help text for\nthe 'reserved_host_cpus' option is updated to specify that it will be\nignored for the libvirt driver.\n\nPart of blueprint cpu-resources\n\nChange-Id: I491eb7abe1405b27c552cdef142c688a46e914f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",104,671793,fad0332cb4d46cd146bb0b6fdff5adb655422a45,391,26,26,15334,,,0,"libvirt: Start reporting PCPU inventory to placement

This requires a lot of hand holding for legacy configuration options
(hence the plethora of tests) but this is all required to not break
upgrades.

A new '[compute] cpu_dedicated_set' config option is added, including a
wall of text necessary to explain the upgrade implications of this
option. The 'vcpu_pin_set' option is deprecated, while the help text for
the 'reserved_host_cpus' option is updated to specify that it will be
ignored for the libvirt driver.

Part of blueprint cpu-resources

Change-Id: I491eb7abe1405b27c552cdef142c688a46e914f2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/671793/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'releasenotes/notes/cpu-resources-d4e6a0c12681fa87.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,7cc0e2a7f7c5245fba32745db513126d166727f6,bp/cpu-resources," @mock.patch.object(libvirt_driver.LOG, 'info') def test_check_cpu_set_configuration__no_configuration(self, mock_log): """"""Test that configuring no CPU option results in an info log that dual reporting of CPU inventory is occuring but is deprecated behavior. """""" self.flags(vcpu_pin_set=None, reserved_host_cpus=None) self.flags(cpu_shared_set=None, cpu_dedicated_set=None, group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr._check_cpu_set_configuration() self.assertEqual(1, mock_log.call_count) self.assertIn('No host CPU configuration provided', six.text_type(mock_log.call_args[0])) @mock.patch.object(libvirt_driver.LOG, 'warning') def test_check_cpu_set_configuration__reserved_host_cpus_cpu_shared_set( self, mock_log): """"""Test that configuring 'reserved_host_cpus' with one of the new options, in this case '[compute] cpu_shared_set', results in a warning that 'reserved_host_cpus' is now being ignored. """""" self.flags(vcpu_pin_set=None, reserved_host_cpus=1) self.flags(cpu_shared_set='1-10', cpu_dedicated_set=None, group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr._check_cpu_set_configuration() self.assertEqual(1, mock_log.call_count) self.assertIn(""The 'reserved_host_cpus' config option has been "" ""ignored"", six.text_type(mock_log.call_args[0])) @mock.patch.object(libvirt_driver.LOG, 'warning') def test_check_cpu_set_configuration__vcpu_pin_set(self, mock_log): """"""Test that configuring only 'vcpu_pin_set' results in a warning that dual reporting of CPU inventory is occuring but is deprecated behavior. """""" self.flags(vcpu_pin_set='0-3', reserved_host_cpus=None) self.flags(cpu_shared_set=None, cpu_dedicated_set=None, group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr._check_cpu_set_configuration() self.assertEqual(1, mock_log.call_count) self.assertIn(""However, while defined, 'vcpu_pin_set' will continue "" ""to be used to calculate both 'VCPU' and 'PCPU' "" ""inventory."", six.text_type(mock_log.call_args[0])) @mock.patch.object(libvirt_driver.LOG, 'warning') def test_check_cpu_set_configuration__vcpu_pin_set_cpu_shared_set( self, mock_log): """"""Test that configuring both 'vcpu_pin_set' and 'cpu_shared_set' results in a warning that 'cpu_shared_set' is being ignored for calculating VCPU inventory. """""" self.flags(vcpu_pin_set='0-3', reserved_host_cpus=None) self.flags(cpu_shared_set='4-5', cpu_dedicated_set=None, group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr._check_cpu_set_configuration() self.assertEqual(1, mock_log.call_count) self.assertIn(""The '[compute] cpu_shared_set' config option has been "" ""ignored in favor of the legacy 'vcpu_pin_set' config "", six.text_type(mock_log.call_args[0])) @mock.patch.object(libvirt_driver.LOG, 'warning') def test_check_cpu_set_configuration__vcpu_pin_set_cpu_dedicated_set( self, mock_log): """"""Test that configuring both 'vcpu_pin_set' and 'cpu_dedicated_set' results in an error stating that the two options cannot co-exist. """""" self.flags(vcpu_pin_set='0-3', reserved_host_cpus=None) self.flags(cpu_shared_set=None, cpu_dedicated_set='4-5', group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) # we don't bother checking the exception message since there's only one # exception on this code path self.assertRaises(exception.InternalError, drvr._check_cpu_set_configuration) def test_get_pcpu_total(self, get_cpu_count): """"""Test what happens when neither the '[compute] cpu_dedicated_set' or legacy 'vcpu_pin_set' config options are set. """""" self.flags(vcpu_pin_set=None) self.flags(cpu_dedicated_set=None, group='compute') vcpus = drvr._get_pcpu_total() self.assertEqual(4, vcpus) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([4, 5, 6])) def test_get_pcpu_total__with_cpu_dedicated_set(self, get_online_cpus): """"""Test what happens when the '[compute] cpu_dedicated_set' config option is set. """""" self.flags(vcpu_pin_set=None) self.flags(cpu_dedicated_set='4-5', group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) pcpus = drvr._get_pcpu_total() self.assertEqual(2, pcpus) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([4, 5, 6])) def test_get_pcpu_total__with_vcpu_pin_set(self, get_online_cpus): """"""Test what happens when the legacy 'vcpu_pin_set' config option is set. """""" self.flags(vcpu_pin_set='4-5') self.flags(cpu_dedicated_set=None, group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) pcpus = drvr._get_pcpu_total() self.assertEqual(2, pcpus) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([4, 5])) def test_get_pcpu_total__cpu_dedicated_set_invalid(self, get_online_cpus): """"""Test what happens when the '[compute] cpu_dedicated_set' config option is set but it's invalid. """""" self.flags(vcpu_pin_set=None) self.flags(cpu_dedicated_set='4-6', group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.assertRaises(exception.Invalid, drvr._get_pcpu_total) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([4, 5])) def test_get_pcpu_total__vcpu_pin_set_invalid(self, get_online_cpus): """"""Test what happens when the legacy 'vcpu_pin_set' config option is set but it's invalid. """""" self.flags(vcpu_pin_set='4-6') self.flags(cpu_dedicated_set=None, group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.assertRaises(exception.Invalid, drvr._get_pcpu_total) @mock.patch('nova.virt.libvirt.host.Host.get_cpu_count', return_value=4) def test_get_vcpu_total(self, get_cpu_count): """"""Test what happens when neither the '[compute] cpu_shared_set' or legacy 'vcpu_pin_set' config options are set. """""" self.flags(vcpu_pin_set=None) self.flags(cpu_shared_set=None, group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([4, 5, 6])) def test_get_vcpu_total__with_cpu_shared_set(self, get_online_cpus): """"""Test what happens when the '[compute] cpu_shared_set' config option is set. """""" self.flags(vcpu_pin_set=None) self.flags(cpu_shared_set='4-5', group='compute') self.assertEqual(2, vcpus) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([4, 5, 6])) def test_get_vcpu_total__with_vcpu_pin_set(self, get_online_cpus): """"""Test what happens when the legacy 'vcpu_pin_set' config option is set. """""" self.flags(vcpu_pin_set='4-5') self.flags(cpu_shared_set=None, group='compute') vcpus = drvr._get_vcpu_total() self.assertEqual(2, vcpus) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([4, 5])) def test_get_vcpu_total__cpu_shared_set_invalid(self, get_online_cpus): """"""Test what happens when the '[compute] cpu_shared_set' config option is set but it's invalid. """""" self.flags(vcpu_pin_set=None) self.flags(cpu_shared_set='4-6', group='compute') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=set([4, 5])) def test_get_vcpu_total__vcpu_pin_set_invalid(self, get_online_cpus): """"""Test what happens when the legacy 'vcpu_pin_set' config option is set but it's invalid. """""" self.flags(vcpu_pin_set='4-6') self.flags(cpu_shared_set=None, group='compute') def test_get_vcpu_reserved(self): self.flags(reserved_host_cpus=10) self.flags(cpu_dedicated_set=None, group='compute') reserved = drvr._get_vcpu_reserved() self.assertEqual(10, reserved) self.flags(cpu_dedicated_set='4-6', group='compute') reserved = drvr._get_vcpu_reserved() self.assertEqual(0, reserved) def _get_pcpu_total(self): return 0 def _get_vcpu_reserved(self): return 0 pcpus = 0 orc.PCPU: { 'total': self.pcpus, 'min_unit': 1, 'max_unit': self.pcpus, 'step_size': 1, 'allocation_ratio': 1.0, 'reserved': 0, }, @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') new=mock.Mock(return_value={'total': disk_gb})) new=mock.Mock(return_value=memory_mb)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', new=mock.Mock(return_value=pcpus)) new=mock.Mock(return_value=vcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_reserved', new=mock.Mock(return_value=0)) def _test_update_provider_tree(self, mock_gpu_invs, gpu_invs=None): new=mock.Mock(return_value={'total': disk_gb})) new=mock.Mock(return_value=memory_mb)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', new=mock.Mock(return_value=pcpus)) new=mock.Mock(return_value=vcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_reserved', new=mock.Mock(return_value=0)) def test_update_provider_tree_for_shared_disk_gb_resource(self): @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_cpu_traits', new=mock.Mock(return_value=cpu_traits)) new=mock.Mock(return_value={'total': disk_gb})) new=mock.Mock(return_value=memory_mb)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', new=mock.Mock(return_value=pcpus)) new=mock.Mock(return_value=vcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_reserved', new=mock.Mock(return_value=0)) self, mock_gpus, mock_get_devs, mock_get_mdev_info): @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') new=mock.Mock(return_value={'total': disk_gb})) new=mock.Mock(return_value=memory_mb)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_total', new=mock.Mock(return_value=pcpus)) new=mock.Mock(return_value=vcpus)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_reserved', new=mock.Mock(return_value=0)) def test_update_provider_tree_for_vgpu_reshape_fails(self, mock_gpus):"," @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus', return_value=None) def test_get_host_vcpus_is_empty(self, get_cpu_count, get_online_cpus): self.flags(vcpu_pin_set="""") @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus') def test_get_host_vcpus(self, get_online_cpus): self.flags(vcpu_pin_set=""4-5"") get_online_cpus.return_value = set([4, 5, 6]) expected_vcpus = 2 self.assertEqual(expected_vcpus, vcpus) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus') def test_get_host_vcpus_out_of_range(self, get_online_cpus): self.flags(vcpu_pin_set=""4-6"") get_online_cpus.return_value = set([4, 5]) @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus') def test_get_host_vcpus_libvirt_error(self, get_online_cpus): not_supported_exc = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, 'this function is not supported by the connection driver:' ' virNodeNumOfDevices', error_code=fakelibvirt.VIR_ERR_NO_SUPPORT) self.flags(vcpu_pin_set=""4-6"") get_online_cpus.side_effect = not_supported_exc @mock.patch('nova.virt.libvirt.host.Host.get_online_cpus') def test_get_host_vcpus_libvirt_error_success(self, get_online_cpus): not_supported_exc = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, 'this function is not supported by the connection driver:' ' virNodeNumOfDevices', error_code=fakelibvirt.VIR_ERR_NO_SUPPORT) self.flags(vcpu_pin_set=""1"") get_online_cpus.side_effect = not_supported_exc expected_vcpus = 1 vcpus = drvr._get_vcpu_total() self.assertEqual(expected_vcpus, vcpus) @mock.patch('nova.virt.libvirt.host.Host.get_cpu_count') def test_get_host_vcpus_after_hotplug(self, get_cpu_count): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) get_cpu_count.return_value = 2 expected_vcpus = 2 vcpus = drvr._get_vcpu_total() self.assertEqual(expected_vcpus, vcpus) get_cpu_count.return_value = 3 expected_vcpus = 3 vcpus = drvr._get_vcpu_total() self.assertEqual(expected_vcpus, vcpus) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') return_value={'total': disk_gb}) return_value=memory_mb) return_value=vcpus) def _test_update_provider_tree(self, mock_vcpu, mock_mem, mock_disk, mock_gpu_invs, gpu_invs=None): return_value={'total': disk_gb}) return_value=memory_mb) return_value=vcpus) def test_update_provider_tree_for_shared_disk_gb_resource( self, mock_vcpu, mock_mem, mock_disk): @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_cpu_traits', new=mock.Mock(return_value=cpu_traits)) return_value={'total': disk_gb}) return_value=memory_mb) return_value=vcpus) self, mock_vcpu, mock_mem, mock_disk, mock_gpus, mock_get_devs, mock_get_mdev_info): @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') return_value={'total': disk_gb}) return_value=memory_mb) return_value=vcpus) def test_update_provider_tree_for_vgpu_reshape_fails( self, mock_vcpu, mock_mem, mock_disk, mock_gpus):",461,111
openstack%2Foctavia~master~Ib1b0df3b7227d8a8dd68276e279cae1c4974ded2,openstack/octavia,master,Ib1b0df3b7227d8a8dd68276e279cae1c4974ded2,Fix the amphora no-op driver,MERGED,2019-09-16 17:07:23.000000000,2019-09-19 00:19:13.000000000,2019-09-19 00:17:24.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/55138cd1edd1b1c4f53dcd37607681096eab8960', 'message': 'Fix the amphora no-op driver\n\nThe amphora no-op driver had the wrong method signature for the\nupdate_amphora_agent_config method.\n\nThis patch corrects that issue.\n\nChange-Id: Ib1b0df3b7227d8a8dd68276e279cae1c4974ded2\n'}, {'number': 2, 'created': '2019-09-17 00:13:09.000000000', 'files': ['octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5defc1e8a4adc6c8a8420b2005691845d0121939', 'message': 'Fix the amphora no-op driver\n\nThe amphora no-op driver had the wrong method signature for the\nupdate_amphora_agent_config method.\n\nThis patch corrects that issue.\n\nChange-Id: Ib1b0df3b7227d8a8dd68276e279cae1c4974ded2\n'}]",0,682420,5defc1e8a4adc6c8a8420b2005691845d0121939,21,4,2,11628,,,0,"Fix the amphora no-op driver

The amphora no-op driver had the wrong method signature for the
update_amphora_agent_config method.

This patch corrects that issue.

Change-Id: Ib1b0df3b7227d8a8dd68276e279cae1c4974ded2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/682420/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py']",3,55138cd1edd1b1c4f53dcd37607681096eab8960,," def update_amphora_agent_config(self, amphora, agent_config):"," def update_agent_config(self, amphora, agent_config):",9,7
openstack%2Fnova-specs~master~I23babc6379fb0602c28337d30b7298bb526802b8,openstack/nova-specs,master,I23babc6379fb0602c28337d30b7298bb526802b8,Track user_id/project_id for migrations,MERGED,2019-09-17 00:19:21.000000000,2019-09-19 00:14:19.000000000,2019-09-19 00:12:46.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-09-17 00:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9fa52c5e9fec914e895fff0fb79cbb42ac51cc3b', 'message': 'Track user_id/project_id for migrations\n\nPreviously-approved: Train\n\nBlueprint: add-user-id-field-to-the-migrations-table\n\nChange-Id: I23babc6379fb0602c28337d30b7298bb526802b8\n'}, {'number': 2, 'created': '2019-09-17 00:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cecc93222051a5974dbe99c089b1773b5ad7b5e4', 'message': 'Track user_id/project_id for migrations\n\nThe blueprint proposes tracking the user_id and project_id of the user that\ninitiated a server migration and exposing those values in the API.\n\nPreviously-approved: Train\n\nBlueprint: add-user-id-field-to-the-migrations-table\n\nChange-Id: I23babc6379fb0602c28337d30b7298bb526802b8\n'}, {'number': 3, 'created': '2019-09-17 00:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1a3ff0653e2865321ef12d89edc360f759ebe948', 'message': 'Track user_id/project_id for migrations\n\nThe blueprint proposes tracking the user_id and project_id of the user that\ninitiated a server migration and exposing those values in the API.\n\nPreviously-approved: Train\n\nBlueprint: add-user-id-field-to-the-migrations-table\n\nChange-Id: I23babc6379fb0602c28337d30b7298bb526802b8\n'}, {'number': 4, 'created': '2019-09-17 23:56:53.000000000', 'files': ['specs/ussuri/approved/add-user-id-field-to-the-migrations-table.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/59f1a09f36e19081ad9824a53015ea7b7b1cdac3', 'message': 'Track user_id/project_id for migrations\n\nThe blueprint proposes tracking the user_id and project_id of the user that\ninitiated a server migration and exposing those values in the API.\n\nPreviously-approved: Train\n\nBlueprint: add-user-id-field-to-the-migrations-table\n\nChange-Id: I23babc6379fb0602c28337d30b7298bb526802b8\n'}]",2,682511,59f1a09f36e19081ad9824a53015ea7b7b1cdac3,14,4,4,26458,,,0,"Track user_id/project_id for migrations

The blueprint proposes tracking the user_id and project_id of the user that
initiated a server migration and exposing those values in the API.

Previously-approved: Train

Blueprint: add-user-id-field-to-the-migrations-table

Change-Id: I23babc6379fb0602c28337d30b7298bb526802b8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/11/682511/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/add-user-id-field-to-the-migrations-table.rst'],1,9fa52c5e9fec914e895fff0fb79cbb42ac51cc3b,bp/add-user-id-field-to-the-migrations-table,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================= Track user_id/project_id for migrations ======================================= https://blueprints.launchpad.net/nova/+spec/add-user-id-field-to-the-migrations-table The blueprint proposes tracking the user_id and project_id of the user that initiated a server migration and exposing those values in the API. Problem description =================== By default, all server actions which create a migration record (live migration, cold migration, resize, evacuate) except resize are initiated by an admin who might not own the server. There could be multiple users within the same admin project who migrate (or evacuate) servers. The migrations APIs do not expose information about who actually migrated the server which is important for auditing. The instance actions API does record the initiating user/project but trying to correlate the instance actions to the migrations can be complicated and error prone, especially if multiple migrations occur on the same server in the same day. Use Cases --------- As an (admin) user, I would like to know who operates the instance through the instance migration history without having to try and stitch that information together from the migrations and instance actions APIs. Proposed change =============== When creating a Migration record, store the ``user_id`` and ``project_id`` from the request context, similar to an InstanceAction record. In a new microversion, expose the ``user_id`` and ``project_id`` fields in the following APIs: * GET /os-migrations * GET /servers/{server_id}/migrations * GET /servers/{server_id}/migrations/{migration_id} In addition, the ``GET /os-migrations`` request will add optional ``user_id`` and ``project_id`` query parameters for filtering migrations by user or project. Alternatives ------------ As noted above, each operation that generates a migration record will also have an instance action and the instance action records the user_id and project_id of who made the request. However, there is no other direct link between the instance action record and the migration record so trying to use the actions to correlate that information to the migrations can be complicated and error prone, especially if a server is moved multiple times in the same day. Since migration records are a top-level resource in the API like servers, it makes sense for them to include the user_id/project_id like servers when they are created and by whom. Data model impact ----------------- Add ``user_id`` and ``project_id`` columns to the ``migrations`` table. The schema will be the same as in the ``instances`` and ``instance_actions`` tables:: user_id = Column(String(255)) project_id = Column(String(255)) The columns will be nullable since existing records would not have values for those columns. REST API impact --------------- In a new microversion, expose the ``user_id`` and ``project_id`` parameters in the following API responses: * GET /os-migrations .. code-block:: json { ""migrations"": [ { ""created_at"": ""2012-10-29T13:42:02.000000"", ""dest_compute"": ""compute2"", ""dest_host"": ""1.2.3.4"", ""dest_node"": ""node2"", ""id"": 1234, ""instance_uuid"": ""8600d31b-d1a1-4632-b2ff-45c2be1a70ff"", ""new_instance_type_id"": 2, ""old_instance_type_id"": 1, ""source_compute"": ""compute1"", ""source_node"": ""node1"", ""status"": ""done"", ""updated_at"": ""2012-10-29T13:42:02.000000"", ""migration_type"": ""migration"", ""uuid"": ""42341d4b-346a-40d0-83c6-5f4f6892b650"", ""user_id"": ""ef9d34b4-45d0-4530-871b-3fb535988394"", ""project_id"": ""011ee9f4-8f16-4c38-8633-a254d420fd54"" } ] } * GET /servers/{server_id}/migrations .. code-block:: json { ""migrations"": [ { ""created_at"": ""2016-01-29T13:42:02.000000"", ""dest_compute"": ""compute2"", ""dest_host"": ""1.2.3.4"", ""dest_node"": ""node2"", ""id"": 1, ""server_uuid"": ""4cfba335-03d8-49b2-8c52-e69043d1e8fe"", ""source_compute"": ""compute1"", ""source_node"": ""node1"", ""status"": ""running"", ""memory_total_bytes"": 123456, ""memory_processed_bytes"": 12345, ""memory_remaining_bytes"": 111111, ""disk_total_bytes"": 234567, ""disk_processed_bytes"": 23456, ""disk_remaining_bytes"": 211111, ""updated_at"": ""2016-01-29T13:42:02.000000"", ""uuid"": ""12341d4b-346a-40d0-83c6-5f4f6892b650"", ""user_id"": ""ef9d34b4-45d0-4530-871b-3fb535988394"", ""project_id"": ""011ee9f4-8f16-4c38-8633-a254d420fd54"" } ] } * GET /servers/{server_id}/migrations/{migration_id} .. code-block:: json { ""migration"": { ""created_at"": ""2016-01-29T13:42:02.000000"", ""dest_compute"": ""compute2"", ""dest_host"": ""1.2.3.4"", ""dest_node"": ""node2"", ""id"": 1, ""server_uuid"": ""4cfba335-03d8-49b2-8c52-e69043d1e8fe"", ""source_compute"": ""compute1"", ""source_node"": ""node1"", ""status"": ""running"", ""memory_total_bytes"": 123456, ""memory_processed_bytes"": 12345, ""memory_remaining_bytes"": 111111, ""disk_total_bytes"": 234567, ""disk_processed_bytes"": 23456, ""disk_remaining_bytes"": 211111, ""updated_at"": ""2016-01-29T13:42:02.000000"", ""uuid"": ""12341d4b-346a-40d0-83c6-5f4f6892b650"", ""user_id"": ""ef9d34b4-45d0-4530-871b-3fb535988394"", ""project_id"": ""011ee9f4-8f16-4c38-8633-a254d420fd54"" } } The key will always be returned but the value could be null for older records. The ``GET /os-migrations`` API will also have optional ``user_id`` and ``project_id`` query parameters for filtering migrations by user and/or project:: GET /os-migrations?user_id=ef9d34b4-45d0-4530-871b-3fb535988394 GET /os-migrations?project_id=011ee9f4-8f16-4c38-8633-a254d420fd54 GET /os-migrations?user_id=ef9d34b4-45d0-4530-871b-3fb535988394&project_id=011ee9f4-8f16-4c38-8633-a254d420fd54 Security impact --------------- None Notifications impact -------------------- None. ``InstanceActionPayload`` already contains ``action_initiator_user`` and ``action_initiator_project`` fields. Other end user impact --------------------- Update python-novaclient for the new microversion (and python-openstackclient if it grows server migration resource CLIs in the future). Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None. The new columns in the database will be nullable as will the fields on the Migration object and the API response can return null values. A data migration to populate the values for existing migrations will not be added. Implementation ============== Assignee(s) ----------- Primary assignee: Qiu Fossen Work Items ---------- * Add ``user_id`` and ``project_id`` to the ``migrations`` table and Migration versioned object. * Modify the API to expose the ``user_id`` and ``project_id`` fields in GET responses that expose migration resources. Also add ``user_id`` and ``project_id`` query parameters to ``GET /os-migrations`` for filtering the results. * Add related tests * Docs for the new microversion. Dependencies ============ None Testing ======= * Add related unit test for negative scenarios. * Add related functional test (API samples). Tempest testing should not be necessary for this change. Documentation Impact ==================== Update the API reference for the new microversion. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,253,0
openstack%2Foctavia~master~Ic6c97e78f579612b4b9207a24624e7a2e1c06723,openstack/octavia,master,Ic6c97e78f579612b4b9207a24624e7a2e1c06723,Fix the tips job for octavia-lib,MERGED,2019-09-13 20:03:09.000000000,2019-09-19 00:08:09.000000000,2019-09-19 00:04:20.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 20:03:09.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8685bba5ce3b7d85206c0283c9fd26fe5c92604d', 'message': 'Fix the tips job for octavia-lib\n\nChange-Id: Ic6c97e78f579612b4b9207a24624e7a2e1c06723\n'}]",0,682148,8685bba5ce3b7d85206c0283c9fd26fe5c92604d,13,4,1,11628,,,0,"Fix the tips job for octavia-lib

Change-Id: Ic6c97e78f579612b4b9207a24624e7a2e1c06723
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/682148/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,8685bba5ce3b7d85206c0283c9fd26fe5c92604d,, - openstack/octavia - openstack/octavia,,2,0
openstack%2Fironic-python-agent-builder~master~I5e73113148e721c6644bbfd626c563e72468d030,openstack/ironic-python-agent-builder,master,I5e73113148e721c6644bbfd626c563e72468d030,Add file to tinybuild's IPA image,MERGED,2019-08-30 16:29:24.000000000,2019-09-18 23:55:42.000000000,2019-09-18 23:53:58.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-30 16:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/b67f33db97d9938610eade9bd1b9447d92659eeb', 'message': ""Add coreutils to tinybuild's IPA image\n\nChange-Id: I5e73113148e721c6644bbfd626c563e72468d030\n""}, {'number': 2, 'created': '2019-08-30 18:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/4eb65888cf9587bdadae276595e6528607885107', 'message': ""Add file to tinybuild's IPA image\n\nChange-Id: I5e73113148e721c6644bbfd626c563e72468d030\n""}, {'number': 3, 'created': '2019-08-30 20:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/5459a0af948dfc16eaa5e2c0cf7530c368d12740', 'message': ""Add file to tinybuild's IPA image\n\nChange-Id: I5e73113148e721c6644bbfd626c563e72468d030\n""}, {'number': 4, 'created': '2019-08-30 22:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/5e6f1439d2984b8bc3116fca5c37c1b8a3337c64', 'message': ""Add file to tinybuild's IPA image\n\nChange-Id: I5e73113148e721c6644bbfd626c563e72468d030\n""}, {'number': 5, 'created': '2019-08-31 01:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/97bd8e4644c101c995b04a4104e2d51fb3262fdf', 'message': ""Add file to tinybuild's IPA image\n\nChange-Id: I5e73113148e721c6644bbfd626c563e72468d030\n""}, {'number': 6, 'created': '2019-09-02 12:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/8b8d03e3562e27f518f3517d9a12c978d6f8090f', 'message': ""Add file to tinybuild's IPA image\n\nWe need the ``file`` command to examine the magic numbers in the\nmetadata of block devices to determine if a bootloader is persent.\n\nChange-Id: I5e73113148e721c6644bbfd626c563e72468d030\n""}, {'number': 7, 'created': '2019-09-03 10:28:11.000000000', 'files': ['tinyipa/finalise-tinyipa.sh', 'tinyipa/build_files/finalreqs.lst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/83edd836cbd87464f85880fdb316cd9b3ba3591b', 'message': ""Add file to tinybuild's IPA image\n\nWe need the ``file`` command to examine the magic numbers in the\nmetadata of block devices to determine if a bootloader is persent.\n\nChange-Id: I5e73113148e721c6644bbfd626c563e72468d030\n""}]",8,679478,83edd836cbd87464f85880fdb316cd9b3ba3591b,25,4,7,11655,,,0,"Add file to tinybuild's IPA image

We need the ``file`` command to examine the magic numbers in the
metadata of block devices to determine if a bootloader is persent.

Change-Id: I5e73113148e721c6644bbfd626c563e72468d030
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/78/679478/1 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/build_files/finalreqs.lst'],1,b67f33db97d9938610eade9bd1b9447d92659eeb,666591,coreutils.tcz,,1,0
openstack%2Fopenstack-ansible-os_tacker~master~I8eb3932c0013aa7a76fc5e53038f702615c480e2,openstack/openstack-ansible-os_tacker,master,I8eb3932c0013aa7a76fc5e53038f702615c480e2,Updated from OpenStack Ansible Tests,MERGED,2019-09-04 15:19:15.000000000,2019-09-18 23:49:56.000000000,2019-09-18 23:48:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-09-04 15:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/6ffc1ab426cac20ed46c4d61fe07c053bd6669d2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I8eb3932c0013aa7a76fc5e53038f702615c480e2\n'}, {'number': 2, 'created': '2019-09-18 19:22:06.000000000', 'files': ['tasks/db_setup.yml', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/ad11bd76ba007491b30b15b2d38a28aa92b41dee', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I8eb3932c0013aa7a76fc5e53038f702615c480e2\n'}]",0,680060,ad11bd76ba007491b30b15b2d38a28aa92b41dee,10,2,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I8eb3932c0013aa7a76fc5e53038f702615c480e2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/60/680060/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/db_setup.yml', 'tasks/service_setup.yml']",2,6ffc1ab426cac20ed46c4d61fe07c053bd6669d2,openstack/openstack-ansible-tests/sync-tests, no_log: True no_log: True,,3,0
openstack%2Fcinder~master~I8aea85d34150472cb631c498983c38c5fafa6d01,openstack/cinder,master,I8aea85d34150472cb631c498983c38c5fafa6d01,Tests: Fix test_volume.py import ordering,MERGED,2019-09-11 17:04:09.000000000,2019-09-18 23:42:46.000000000,2019-09-14 00:10:02.000000000,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-11 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65c15fba53c235d8fe61b846161a7dbf151724b7', 'message': 'Tests: Fix test_volume.py import ordering\n\nMinor fix from Id797af4f8ff001ec3d55cb4eda19988a314b700d\n\nChange-Id: I8aea85d34150472cb631c498983c38c5fafa6d01\n'}, {'number': 2, 'created': '2019-09-13 13:50:46.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba3bba25d9e594fa46bb4409b43ff3d3e4f658fc', 'message': 'Tests: Fix test_volume.py import ordering\n\nMinor fix from Id797af4f8ff001ec3d55cb4eda19988a314b700d\n\nChange-Id: I8aea85d34150472cb631c498983c38c5fafa6d01\n'}]",0,681543,ba3bba25d9e594fa46bb4409b43ff3d3e4f658fc,64,30,2,4523,,,0,"Tests: Fix test_volume.py import ordering

Minor fix from Id797af4f8ff001ec3d55cb4eda19988a314b700d

Change-Id: I8aea85d34150472cb631c498983c38c5fafa6d01
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/681543/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,65c15fba53c235d8fe61b846161a7dbf151724b7,rekey,import os_brick.initiator.connectors.iscsi,import os_brick.initiator.connectors.iscsi,1,1
openstack%2Fswift~master~I62032ddd50a3493b8b99a40fb48d840ac763d0e7,openstack/swift,master,I62032ddd50a3493b8b99a40fb48d840ac763d0e7,Allow arbitrary UTF-8 strings as delimiters in listings,MERGED,2018-10-11 22:35:47.000000000,2019-09-18 22:46:31.000000000,2019-09-16 19:51:03.000000000,"[{'_account_id': 1179}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-11 22:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ee37aeb8e349d7719b8138d02e659134e1c9fe9c', 'message': ""Allow arbitrary UTF-8 strings as delimiters in container listings\n\nAWS seems to support this, so let's allow s3api to do it, too.\n\nPreviously, S3 clients trying to use multi-character delimiters would\nget 500s back, because s3api didn't know how to handle the 412s that the\ncontainer server would send.\n\nChange-Id: I62032ddd50a3493b8b99a40fb48d840ac763d0e7\nCloses-Bug: #1797305\n""}, {'number': 2, 'created': '2018-10-16 19:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b292e5d819e8697b13a909f1b952d95a045f5e70', 'message': ""Allow arbitrary UTF-8 strings as delimiters in container listings\n\nAWS seems to support this, so let's allow s3api to do it, too.\n\nPreviously, S3 clients trying to use multi-character delimiters would\nget 500s back, because s3api didn't know how to handle the 412s that the\ncontainer server would send.\n\nChange-Id: I62032ddd50a3493b8b99a40fb48d840ac763d0e7\nCloses-Bug: #1797305\n""}, {'number': 3, 'created': '2019-09-05 12:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d53c53713361b19d5b3675c134fe9a3f5c4ed91b', 'message': ""Allow arbitrary UTF-8 strings as delimiters in container listings\n\nAWS seems to support this, so let's allow s3api to do it, too.\n\nPreviously, S3 clients trying to use multi-character delimiters would\nget 500s back, because s3api didn't know how to handle the 412s that the\ncontainer server would send.\n\nChange-Id: I62032ddd50a3493b8b99a40fb48d840ac763d0e7\nCloses-Bug: #1797305\n""}, {'number': 4, 'created': '2019-09-05 21:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df33f4573db552362351a0942feb3c6b38737126', 'message': ""Allow arbitrary UTF-8 strings as delimiters in listings\n\nAWS seems to support this, so let's allow s3api to do it, too.\n\nPreviously, S3 clients trying to use multi-character delimiters would\nget 500s back, because s3api didn't know how to handle the 412s that the\ncontainer server would send.\n\nAs long as we're adding support for container listings, may as well do\nit for accounts, too.\n\nChange-Id: I62032ddd50a3493b8b99a40fb48d840ac763d0e7\nCo-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>\nCloses-Bug: #1797305\n""}, {'number': 5, 'created': '2019-09-12 17:44:23.000000000', 'files': ['swift/account/backend.py', 'test/unit/account/test_server.py', 'swift/container/server.py', 'test/functional/tests.py', 'test/probe/test_sharder.py', 'swift/account/server.py', 'test/unit/container/test_server.py', 'test/functional/s3api/test_bucket.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1ded0d6c8793ca3eca573c098cef78b5ae41f080', 'message': ""Allow arbitrary UTF-8 strings as delimiters in listings\n\nAWS seems to support this, so let's allow s3api to do it, too.\n\nPreviously, S3 clients trying to use multi-character delimiters would\nget 500s back, because s3api didn't know how to handle the 412s that the\ncontainer server would send.\n\nAs long as we're adding support for container listings, may as well do\nit for accounts, too.\n\nChange-Id: I62032ddd50a3493b8b99a40fb48d840ac763d0e7\nCo-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>\nCloses-Bug: #1797305\n""}]",5,609843,1ded0d6c8793ca3eca573c098cef78b5ae41f080,18,4,5,15343,,,0,"Allow arbitrary UTF-8 strings as delimiters in listings

AWS seems to support this, so let's allow s3api to do it, too.

Previously, S3 clients trying to use multi-character delimiters would
get 500s back, because s3api didn't know how to handle the 412s that the
container server would send.

As long as we're adding support for container listings, may as well do
it for accounts, too.

Change-Id: I62032ddd50a3493b8b99a40fb48d840ac763d0e7
Co-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>
Closes-Bug: #1797305
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/609843/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'test/unit/container/test_server.py', 'test/functional/s3api/test_bucket.py', 'swift/container/backend.py']",4,ee37aeb8e349d7719b8138d02e659134e1c9fe9c,bug/1797305," end_marker = name[:end + len(delimiter)] else: marker = ''.join([ name[:end], delimiter[:-1], chr(ord(delimiter[-1:]) + 1), ]) end_marker = name[:end + len(delimiter)] else: marker = ''.join([ name[:end], delimiter[:-1], chr(ord(delimiter[-1:]) + 1), ]) dir_name = name[:end + len(delimiter)]", end_marker = name[:end + 1] else: marker = name[:end] + chr(ord(delimiter) + 1) end_marker = name[:end + 1] else: marker = name[:end] + chr(ord(delimiter) + 1) dir_name = name[:end + 1],159,34
openstack%2Fpython-tripleoclient~master~Ia37b3d4cc657d994b6a63412d5792930d54a14dd,openstack/python-tripleoclient,master,Ia37b3d4cc657d994b6a63412d5792930d54a14dd,Introduce --inflight-validations for standalone / undercloud,MERGED,2019-09-18 16:21:19.000000000,2019-09-18 21:59:19.000000000,2019-09-18 21:55:09.000000000,"[{'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 16:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/29449f0deec35e3fd89367de8215f54209f10c1b', 'message': 'Introduce --inflight-validations for standalone / undercloud\n\nLike we do for the overcloud, add the --inflight-validations option,\ndisabled by default. Disable by default, we\'ll skip the\n""opendev-validations"" Ansible tags when running the playbooks.\n\nRelated-Bug: #1844446\nChange-Id: Ia37b3d4cc657d994b6a63412d5792930d54a14dd\n'}, {'number': 2, 'created': '2019-09-18 16:24:11.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/64af3ae1fb9adda02efcfd93d99cf5deca1104cb', 'message': 'Introduce --inflight-validations for standalone / undercloud\n\nLike we do for the overcloud, add the --inflight-validations option,\ndisabled by default. Disable by default, we\'ll skip the\n""opendev-validations"" Ansible tags when running the playbooks.\n\nRelated-Bug: #1844446\nChange-Id: Ia37b3d4cc657d994b6a63412d5792930d54a14dd\n'}]",0,682943,64af3ae1fb9adda02efcfd93d99cf5deca1104cb,13,8,2,3153,,,0,"Introduce --inflight-validations for standalone / undercloud

Like we do for the overcloud, add the --inflight-validations option,
disabled by default. Disable by default, we'll skip the
""opendev-validations"" Ansible tags when running the playbooks.

Related-Bug: #1844446
Change-Id: Ia37b3d4cc657d994b6a63412d5792930d54a14dd
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/682943/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",3,29449f0deec35e3fd89367de8215f54209f10c1b,undercloud/inflightvalid," args = ['--skip-tags', 'validation']"," args = ['deploy_steps_playbook.yaml', '--skip-tags', 'validation']",32,13
openstack%2Ftripleo-quickstart~master~I198939058b9d09b18e914db42b1bf896dc243d63,openstack/tripleo-quickstart,master,I198939058b9d09b18e914db42b1bf896dc243d63,fs010: disable validations on the undercloud,MERGED,2019-09-18 21:26:31.000000000,2019-09-18 21:55:30.000000000,2019-09-18 21:54:17.000000000,"[{'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 9592}]","[{'number': 1, 'created': '2019-09-18 21:26:31.000000000', 'files': ['config/general_config/featureset010.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/97e0c940f317f3ab880bf5b63887ef0654676686', 'message': 'fs010: disable validations on the undercloud\n\nThe validations cause timeouts, we should have them tested outside of\ngate/check for now.\n\nChange-Id: I198939058b9d09b18e914db42b1bf896dc243d63\nRelated-Bug: #1844446\n'}]",0,683001,97e0c940f317f3ab880bf5b63887ef0654676686,7,3,1,3153,,,0,"fs010: disable validations on the undercloud

The validations cause timeouts, we should have them tested outside of
gate/check for now.

Change-Id: I198939058b9d09b18e914db42b1bf896dc243d63
Related-Bug: #1844446
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/01/683001/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset010.yml'],1,97e0c940f317f3ab880bf5b63887ef0654676686,timeout, # https://launchpad.net/bugs/1844446 undercloud_enable_validations: false,,3,0
openstack%2Frequirements~master~Iae4e8cd7ff8ad35f9db501258377731a585a0b6a,openstack/requirements,master,Iae4e8cd7ff8ad35f9db501258377731a585a0b6a,update semantic-version to 2.8.1,ABANDONED,2019-09-05 16:21:04.000000000,2019-09-18 21:53:33.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 16:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3f7401e3e2eb5bf413abcfc2ee0baa262eaa036e', 'message': 'update semantic-version to 2.8.1\n\nChange-Id: Iae4e8cd7ff8ad35f9db501258377731a585a0b6a\n'}, {'number': 2, 'created': '2019-09-06 09:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e83720a06150b95b6ba04adb2ddbdd7228ff1a2f', 'message': 'update semantic-version to 2.8.1\n\nChange-Id: Iae4e8cd7ff8ad35f9db501258377731a585a0b6a\n'}, {'number': 3, 'created': '2019-09-09 06:45:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2373d6434cf046201ff15eb767e8aa1ddf78507c', 'message': 'update semantic-version to 2.8.1\n\nChange-Id: Iae4e8cd7ff8ad35f9db501258377731a585a0b6a\n'}]",0,680457,2373d6434cf046201ff15eb767e8aa1ddf78507c,10,2,3,14288,,,0,"update semantic-version to 2.8.1

Change-Id: Iae4e8cd7ff8ad35f9db501258377731a585a0b6a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/680457/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3f7401e3e2eb5bf413abcfc2ee0baa262eaa036e,update_semantic-version-2.8.1,semantic-version===2.8.1,semantic-version===2.6.0,1,1
openstack%2Foctavia~stable%2Fstein~Ieab13c1152fed64da7390891b315b5e67513ce3e,openstack/octavia,stable/stein,Ieab13c1152fed64da7390891b315b5e67513ce3e,Fix base (VRRP) port abandoned on revert,MERGED,2019-09-18 08:23:52.000000000,2019-09-18 21:12:43.000000000,2019-09-18 21:11:11.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 08:23:52.000000000', 'files': ['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/Fix-plug-vip-revert-abandoned-vrrp-port-efff14edce62ad75.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/701a900164689aa88549232961f91c7d9c38c03a', 'message': 'Fix base (VRRP) port abandoned on revert\n\nIf the base (VRRP) port fails to attach to the amphora instance, the\nport would not be deleted as part of the revert cleanup.\nThis patch splits the two plug VIP phases and attempts to clean up the\nbase (VRRP) port, that was created in the first phase, should the port\nattach fail.\n\nChange-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e\nStory: 2006468\nTask: 36399\n(cherry picked from commit f20dc158441faad8422f7836dc7d0af50dcbcb0a)\n'}]",0,682833,701a900164689aa88549232961f91c7d9c38c03a,8,4,1,7249,,,0,"Fix base (VRRP) port abandoned on revert

If the base (VRRP) port fails to attach to the amphora instance, the
port would not be deleted as part of the revert cleanup.
This patch splits the two plug VIP phases and attempts to clean up the
base (VRRP) port, that was created in the first phase, should the port
attach fail.

Change-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e
Story: 2006468
Task: 36399
(cherry picked from commit f20dc158441faad8422f7836dc7d0af50dcbcb0a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/33/682833/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/Fix-plug-vip-revert-abandoned-vrrp-port-efff14edce62ad75.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",3,701a900164689aa88549232961f91c7d9c38c03a,," except Exception: message = _('Error creating the base (VRRP) port for the VIP with ' 'port details: {}').format(port) LOG.exception(message) raise base.PlugVIPException(message) try: try: if new_port: self.neutron_client.delete_port(new_port.id) LOG.debug('Deleted base (VRRP) port %s due to plug_port ' 'failure.', new_port.id) except Exception: LOG.exception('Failed to delete base (VRRP) port %s after ' 'plug_port failed. This resource is being ' 'abandoned and should be manually deleted when ' 'neutron is functional.', new_port.id)",,59,0
openstack%2Fswift~master~I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc,openstack/swift,master,I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc,versioned_writes: checks for SLO object before copy,MERGED,2019-09-12 07:39:56.000000000,2019-09-18 21:12:41.000000000,2019-09-18 21:10:54.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 30970}]","[{'number': 1, 'created': '2019-09-12 07:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dff27abaf70662d78bf56891d46ad32569bdb113', 'message': ""Versioned Writes checks for SLO object before copy\n\nversioned_writes middleware will now check for SLO header\nto add query 'multipart-manifest=put' if necessary\nbefore performing copy from current to versioned container\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 2, 'created': '2019-09-12 15:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/48980adfae3929ecc51f2fbbeabaca22a096fb29', 'message': ""Versioned Writes checks for SLO object before copy\n\nversioned_writes middleware will now check for SLO header\nto add query 'multipart-manifest=put' if necessary\nbefore performing copy from current to versioned container\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 3, 'created': '2019-09-12 15:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9f24392d154ad8c0820f382cb45748b42e8cf45e', 'message': ""Versioned Writes checks for SLO object before copy\n\nversioned_writes middleware will now check for SLO header\nto add query 'multipart-manifest=put' if necessary\nbefore performing copy from current to versioned container\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 4, 'created': '2019-09-12 15:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ad29f34e212d9039cba5f39177f869afee0e82c3', 'message': ""versioned_writes checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nProposed fix: versioned_writes middleware will now check for SLO header\nto add query 'multipart-manifest=put' if necessary\nbefore performing copy from current to versioned container\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 5, 'created': '2019-09-13 04:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/46cf7a15b1906e523cba5ccc4e0c591835d44896', 'message': ""versioned_writes checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nProposed fix: versioned_writes middleware will now check for SLO header\nto add query 'multipart-manifest=put' if necessary\nbefore performing copy from current to versioned container\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 6, 'created': '2019-09-14 11:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a6b51b4059faa1b237f2a971aa5cfb4f74877281', 'message': ""versioned_writes checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nProposed fix: versioned_writes middleware will now check for SLO header\nto add query 'multipart-manifest=put' if necessary\nbefore performing copy from current to versioned container\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 7, 'created': '2019-09-15 10:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2532614937e9343b2c59c08758b47c64ae7e4ac', 'message': ""versioned_writes: checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nPropose fix: In _put_versioned_obj - which is called when on\ncreating version obj and also on restoring obj,\nif 'X-Object-Sysmeta-Slo-Size' header is present it will\nadd needed headers for container to update obj size\n\nAdded a new functional test case with size assertion for slo\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 8, 'created': '2019-09-15 11:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a264da4b3607d92931919cbb5ce071b21bd79dcb', 'message': ""versioned_writes: checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nPropose fix: In _put_versioned_obj - which is called when on\ncreating version obj and also on restoring obj,\nif 'X-Object-Sysmeta-Slo-Size' header is present it will\nadd needed headers for container to update obj size\n\nAdded a new functional test case with size assertion for slo\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 9, 'created': '2019-09-15 11:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8f1ed1a4ecf04f6eaf5b63f69d87623f1d54e811', 'message': ""versioned_writes: checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nPropose fix: In _put_versioned_obj - which is called when on\ncreating version obj and also on restoring obj,\nif 'X-Object-Sysmeta-Slo-Size' header is present it will\nadd needed headers for container to update obj size\n\nAdded a new functional test case with size assertion for slo\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 10, 'created': '2019-09-15 13:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/439fa7a03854eaf8a581a164f350ceb0992711ec', 'message': ""versioned_writes: checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nPropose fix: In _put_versioned_obj - which is called when on\ncreating version obj and also on restoring obj,\nif 'X-Object-Sysmeta-Slo-Size' header is present it will\nadd needed headers for container to update obj size\n\nAdded a new functional test case with size assertion for slo\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}, {'number': 11, 'created': '2019-09-15 13:31:22.000000000', 'files': ['swift/common/middleware/versioned_writes.py', 'test/functional/test_versioned_writes.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b4288b4aa6e6be2222f5f0e9ca8360c07040d5c0', 'message': ""versioned_writes: checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nPropose fix: In _put_versioned_obj - which is called when on\ncreating version obj and also on restoring obj,\nif 'X-Object-Sysmeta-Slo-Size' header is present it will\nadd needed headers for container to update obj size\n\nAdded a new functional test case with size assertion for slo\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n""}]",6,681656,b4288b4aa6e6be2222f5f0e9ca8360c07040d5c0,27,3,11,30970,,,0,"versioned_writes: checks for SLO object before copy

Previously, versioned_writes middleware copy an already existing
object using PUT. However, SLO requires the additional query
to properly update the object size when listing.

Propose fix: In _put_versioned_obj - which is called when on
creating version obj and also on restoring obj,
if 'X-Object-Sysmeta-Slo-Size' header is present it will
add needed headers for container to update obj size

Added a new functional test case with size assertion for slo

Change-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc
Closes-Bug: #1840322
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/681656/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/versioned_writes.py'],1,dff27abaf70662d78bf56891d46ad32569bdb113,bug/1840322," if (get_resp.headers['X-Static-Large-Object'] == ""true"") { put_path_info = ""/%s/%s/%s/%s?multipart-manifest=put"" % ( } else { put_path_info = ""/%s/%s/%s/%s"" % ( api_version, account_name, versions_cont, vers_obj_name) } "," put_path_info = ""/%s/%s/%s/%s"" % (",8,2
openstack%2Fcinder~master~I35b8685e127605d19f2316802d44b7373a673e98,openstack/cinder,master,I35b8685e127605d19f2316802d44b7373a673e98,PowerMax Driver - Volume & Snapshot Metadata,MERGED,2019-07-26 16:29:18.000000000,2019-09-18 21:12:38.000000000,2019-09-18 21:10:52.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30165}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-07-26 16:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71c579da7a9a59e78fc026f593ebf06b71a8b795', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 2, 'created': '2019-07-29 10:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbf227b2038e977598c65bcdde9a6389543395d0', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 3, 'created': '2019-07-30 15:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35170cfd65b1e5785d05a06ce8e8b8707c1ac63c', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 4, 'created': '2019-07-30 20:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbf41fe5a61ee05262327d51cc12e0f075ecb49b', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 5, 'created': '2019-07-31 18:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b983676644915d758f7992b063774bca30b43f58', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 6, 'created': '2019-08-08 09:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82ef3a7dc5648ecb151f347700e34c525030827f', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 7, 'created': '2019-08-09 21:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b2797f62dacd2a4f6cea665626b91eed206eecd', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 8, 'created': '2019-08-16 10:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d731b328a31e9ca3bd0fc727574464bed378cdfb', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 9, 'created': '2019-08-26 13:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84909d99b8fc40ca69ba7c0d932dd7309562779c', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 10, 'created': '2019-08-29 13:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c821b0861ecd4b96b19cca4bb5437e8fb3d38177', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 11, 'created': '2019-08-30 09:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f8139c2f451bde714805f1dea4ddf98ddc3e677', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}, {'number': 12, 'created': '2019-08-30 14:26:46.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'releasenotes/notes/powermax-vol-metadata-acd2555818d25b72.yaml', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3508d01a7ef3af91f9a55c78ca9a8089dd111835', 'message': 'PowerMax Driver - Volume & Snapshot Metadata\n\nAll volumes and snapshots created using the PowerMax for\nCinder driver now have additional metadata included\npertaining to the details of the asset on the backend\nstorage array.\n\nChange-Id: I35b8685e127605d19f2316802d44b7373a673e98\n'}]",4,673013,3508d01a7ef3af91f9a55c78ca9a8089dd111835,344,43,12,23601,,,0,"PowerMax Driver - Volume & Snapshot Metadata

All volumes and snapshots created using the PowerMax for
Cinder driver now have additional metadata included
pertaining to the details of the asset on the backend
storage array.

Change-Id: I35b8685e127605d19f2316802d44b7373a673e98
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/673013/12 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/powermax-vol-metadata-acd2555818d25b72.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",6,71c579da7a9a59e78fc026f593ebf06b71a8b795,ci_failure_fix," array_model = 'PowerMax_8000' gvg_group_id = 'test-gvg' device_label = 'OS-00001' priv_vol_response_rep = { 'volumeHeader': { 'private': False, 'capGB': 1.0, 'capMB': 1026.0, 'serviceState': 'Normal', 'emulationType': 'FBA', 'volumeId': '00001', 'status': 'Ready', 'mapped': False, 'numStorageGroups': 0, 'reservationInfo': {'reserved': False}, 'encapsulated': False, 'formattedName': '00001', 'system_resource': False, 'numSymDevMaskingViews': 0, 'nameModifier': """", 'configuration': 'TDEV', 'userDefinedIdentifier': 'OS-00001'}, 'maskingInfo': {'masked': False}, 'rdfInfo': { 'dynamicRDF': False, 'RDF': True, 'concurrentRDF': False, 'getDynamicRDFCapability': 'RDF1_Capable', 'RDFA': False, 'RDFSession': [ {'SRDFStatus': 'Ready', 'SRDFReplicationMode': 'Synchronized', 'remoteDeviceID': device_id2, 'remoteSymmetrixID': remote_array, 'SRDFGroupNumber': 1, 'SRDFRemoteGroupNumber': 1}]}} priv_vol_response_no_rep = { 'volumeHeader': { 'private': False, 'capGB': 1.0, 'capMB': 1026.0, 'serviceState': 'Normal', 'emulationType': 'FBA', 'volumeId': '00001', 'status': 'Ready', 'mapped': False, 'numStorageGroups': 0, 'reservationInfo': {'reserved': False}, 'encapsulated': False, 'formattedName': '00001', 'system_resource': False, 'numSymDevMaskingViews': 0, 'nameModifier': """", 'configuration': 'TDEV', 'userDefinedIdentifier': 'OS-00001'}, 'maskingInfo': {'masked': False}, 'rdfInfo': {'RDF': False}} snap_device_label = ('%(dev)s:%(label)s' % {'dev': device_id, 'label': managed_snap_id}) priv_snap_response = { 'deviceName': snap_device_label, 'snapshotLnks': [], 'snapshotSrcs': [ {'generation': 0, 'linkedDevices': [ {'targetDevice': device_id2, 'percentageCopied': 100, 'state': 'Copied', 'copy': True, 'defined': True, 'linked': True}], 'snapshotName': test_snapshot_snap_name, 'state': 'Established'}]} volume_metadata = { 'DeviceID': device_id, 'ArrayID': array, 'ArrayModel': array_model}",,295,34
openstack%2Ftripleo-heat-templates~master~Ie5f4d249f59e3acafecaeb0399ddd4aac6abfa84,openstack/tripleo-heat-templates,master,Ie5f4d249f59e3acafecaeb0399ddd4aac6abfa84,Remove setting ContainerCli to docker for scenario004,ABANDONED,2019-09-18 20:28:52.000000000,2019-09-18 21:09:38.000000000,,[],"[{'number': 1, 'created': '2019-09-18 20:28:52.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60fef3dc72aafc96044627e229d7125f7a56573a', 'message': 'Remove setting ContainerCli to docker for scenario004\n\nDepends-On: https://review.opendev.org/#/c/682853/\nChange-Id: Ie5f4d249f59e3acafecaeb0399ddd4aac6abfa84\n'}]",0,682989,60fef3dc72aafc96044627e229d7125f7a56573a,2,0,1,9003,,,0,"Remove setting ContainerCli to docker for scenario004

Depends-On: https://review.opendev.org/#/c/682853/
Change-Id: Ie5f4d249f59e3acafecaeb0399ddd4aac6abfa84
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/682989/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,60fef3dc72aafc96044627e229d7125f7a56573a,,, # Remove ContainerCli once this scenario is tested on CentOS8 ContainerCli: docker,0,2
openstack%2Ftripleo-ci~master~Idfb5892cdacd65d1017fbcb595187988596b31d3,openstack/tripleo-ci,master,Idfb5892cdacd65d1017fbcb595187988596b31d3,Use podman for scenario004,ABANDONED,2019-09-18 12:58:14.000000000,2019-09-18 21:09:01.000000000,,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-09-18 12:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/df579c3ab7a27edaeb5dad60357276db1150a036', 'message': 'Use podman for scenario004\n\nDepends-On: https://review.opendev.org/#/c/682853\nChange-Id: Idfb5892cdacd65d1017fbcb595187988596b31d3\n'}, {'number': 2, 'created': '2019-09-18 20:49:00.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/361e8577287f9f89438c9e9fd949e0a0ff4110d2', 'message': 'Use podman for scenario004\n\nDepends-On: https://review.opendev.org/#/c/682989/\nChange-Id: Idfb5892cdacd65d1017fbcb595187988596b31d3\n'}]",0,682890,361e8577287f9f89438c9e9fd949e0a0ff4110d2,6,5,2,9003,,,0,"Use podman for scenario004

Depends-On: https://review.opendev.org/#/c/682989/
Change-Id: Idfb5892cdacd65d1017fbcb595187988596b31d3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/682890/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,df579c3ab7a27edaeb5dad60357276db1150a036,,, standalone_container_cli: docker,0,1
openstack%2Fopenstack-ansible-os_magnum~master~I84f5f2b6cbc4355f8b52aceef4e64c17d5e26a36,openstack/openstack-ansible-os_magnum,master,I84f5f2b6cbc4355f8b52aceef4e64c17d5e26a36,Update fedora-atomic image to version 29 following upstream repo,MERGED,2019-09-13 20:46:48.000000000,2019-09-18 21:00:51.000000000,2019-09-18 20:59:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-13 20:46:48.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/eb251d3fadf84c0fb4c75b6e893120e9c46ddc97', 'message': 'Update fedora-atomic image to version 29 following upstream repo\n\nhttps://github.com/openstack/magnum/commit/d5c6945c93d33c8fdeaa8889945bf923611be0c4#diff-cd9ddf33b5bab44d58ff1f7e5ccc0c53R16\n\nChange-Id: I84f5f2b6cbc4355f8b52aceef4e64c17d5e26a36\n'}]",0,682159,eb251d3fadf84c0fb4c75b6e893120e9c46ddc97,14,4,1,28008,,,0,"Update fedora-atomic image to version 29 following upstream repo

https://github.com/openstack/magnum/commit/d5c6945c93d33c8fdeaa8889945bf923611be0c4#diff-cd9ddf33b5bab44d58ff1f7e5ccc0c53R16

Change-Id: I84f5f2b6cbc4355f8b52aceef4e64c17d5e26a36
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/59/682159/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,eb251d3fadf84c0fb4c75b6e893120e9c46ddc97,,"# file: https://dl.fedoraproject.org/pub/alt/atomic/stable/Fedora-29-updates-20190820.0/AtomicHost/x86_64/images/Fedora-AtomicHost-29-20190820.0.x86_64.qcow2# checksum: ""sha1:7c1a88749d31a3828ac6a6b02e82d64f4c5823a5""","# file: https://download.fedoraproject.org/pub/alt/atomic/stable/Fedora-Atomic-27-20180419.0/CloudImages/x86_64/images/Fedora-Atomic-27-20180419.0.x86_64.qcow2# checksum: ""sha1:8559997cc932357c6ec353e82e583e2486fd7e05""",2,2
openstack%2Fmanila~master~I70964f07ca4488b9283b534d26557c303ec3bd3e,openstack/manila,master,I70964f07ca4488b9283b534d26557c303ec3bd3e,update share group test in db,MERGED,2019-09-11 06:53:07.000000000,2019-09-18 20:56:06.000000000,2019-09-18 20:54:36.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 28743}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-09-11 06:53:07.000000000', 'files': ['manila/tests/db/sqlalchemy/test_api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2d268a73efd2279c81682f2aaf30f00a75189d64', 'message': 'update share group test in db\n\nUpdating test_share_group_get_all_by_name_and_description,which\nhas two cases with group_number == 1,updating one of them.\n\nChange-Id: I70964f07ca4488b9283b534d26557c303ec3bd3e\n'}]",0,681386,2d268a73efd2279c81682f2aaf30f00a75189d64,19,13,1,29539,,,0,"update share group test in db

Updating test_share_group_get_all_by_name_and_description,which
has two cases with group_number == 1,updating one of them.

Change-Id: I70964f07ca4488b9283b534d26557c303ec3bd3e
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/681386/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/db/sqlalchemy/test_api.py'],1,2d268a73efd2279c81682f2aaf30f00a75189d64,, elif group_number == 2:, elif group_number == 1:,1,1
openstack%2Frpm-packaging~master~I93c9ca0077a85f881e7247e502f9e52ed7180f14,openstack/rpm-packaging,master,I93c9ca0077a85f881e7247e502f9e52ed7180f14,include heat_policy.json,MERGED,2019-09-12 22:29:04.000000000,2019-09-18 20:17:31.000000000,2019-09-18 16:17:26.000000000,"[{'_account_id': 1916}, {'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 11880}, {'_account_id': 11952}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-12 22:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8a9be0ee1189adf32c4801034671378fe93bb762', 'message': 'include heat_policy.json\n\nIf heat-dashboard plugin is enabled, user will encounter an ugly no permssion to\naccess project error upon logging into Horizon. This error is caused by the\nabsence of heat_policy.json in Horizon. Per\n\nhttps://github.com/openstack/heat-dashboard/blob/master/devstack/plugin.sh#L17-#L26\n\nWe need to make heat_policy.json available to Horizon before the plugin is\nusable.\n\nChange-Id: I93c9ca0077a85f881e7247e502f9e52ed7180f14\n'}, {'number': 2, 'created': '2019-09-16 21:25:23.000000000', 'files': ['openstack/heat-dashboard/heat-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30b96096b01e68b7eab267380f2626515ee97185', 'message': 'include heat_policy.json\n\nIf heat-dashboard plugin is enabled, user will encounter an ugly no permssion to\naccess project error upon logging into Horizon. This error is caused by the\nabsence of heat_policy.json in Horizon. Per\n\nhttps://github.com/openstack/heat-dashboard/blob/master/devstack/plugin.sh#L17-#L26\n\nWe need to make heat_policy.json available to Horizon before the plugin is\nusable.\n\nChange-Id: I93c9ca0077a85f881e7247e502f9e52ed7180f14\n'}]",4,681941,30b96096b01e68b7eab267380f2626515ee97185,32,11,2,1916,,,0,"include heat_policy.json

If heat-dashboard plugin is enabled, user will encounter an ugly no permssion to
access project error upon logging into Horizon. This error is caused by the
absence of heat_policy.json in Horizon. Per

https://github.com/openstack/heat-dashboard/blob/master/devstack/plugin.sh#L17-#L26

We need to make heat_policy.json available to Horizon before the plugin is
usable.

Change-Id: I93c9ca0077a85f881e7247e502f9e52ed7180f14
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/41/681941/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/heat-dashboard/heat-dashboard.spec.j2'],1,8a9be0ee1189adf32c4801034671378fe93bb762,fix_heat_policy,install -m 0755 -d %{buildroot}%{http_dashboard_dir}/openstack_dashboard/conf/ cp -a heat_dashboard/conf/heat_policy.json %{buildroot}%{http_dashboard_dir}/openstack_dashboard/conf/,,2,0
openstack%2Ftripleo-ansible~master~Iaec0f9e0263116a4fbca2dd40cbb3154823e0f85,openstack/tripleo-ansible,master,Iaec0f9e0263116a4fbca2dd40cbb3154823e0f85,Remove duplicate publish docs jobs,MERGED,2019-09-18 19:28:53.000000000,2019-09-18 20:17:18.000000000,2019-09-18 20:17:18.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 19:28:53.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c60ef23854151cf2d94cb086996e6f3481df39b', 'message': 'Remove duplicate publish docs jobs\n\nChange I31fa0d59ce2715abe6c36ecfbca8f6a70aaa60e2 switch to using a\npromote job and forgot to remove the post job which it replaces, remove\nit.\n\nChange-Id: Iaec0f9e0263116a4fbca2dd40cbb3154823e0f85\n'}]",0,682971,5c60ef23854151cf2d94cb086996e6f3481df39b,6,2,1,6547,,,0,"Remove duplicate publish docs jobs

Change I31fa0d59ce2715abe6c36ecfbca8f6a70aaa60e2 switch to using a
promote job and forgot to remove the post job which it replaces, remove
it.

Change-Id: Iaec0f9e0263116a4fbca2dd40cbb3154823e0f85
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/682971/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,5c60ef23854151cf2d94cb086996e6f3481df39b,docs-pti,, - publish-openstack-tox-docs,0,1
openstack%2Fopenstack-helm~master~If8b45801bb053778bd2e1691ff8556aa73cb434d,openstack/openstack-helm,master,If8b45801bb053778bd2e1691ff8556aa73cb434d,Use proper keystone path for probes,MERGED,2019-09-17 10:07:43.000000000,2019-09-18 20:10:09.000000000,2019-09-18 20:08:39.000000000,"[{'_account_id': 9963}, {'_account_id': 17068}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-09-17 10:07:43.000000000', 'files': ['keystone/templates/deployment-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6ccab5270c8f01e68b748a2d252422c14d679c1', 'message': 'Use proper keystone path for probes\n\nUsing the direct / path for the keystone probes can lead to the\nprobes receiving an http 300. We want to have an http 200 so there\nis no warning from the probes. Use the full v3 path so the probes\nare stable\n\nChange-Id: If8b45801bb053778bd2e1691ff8556aa73cb434d\n'}]",0,682598,a6ccab5270c8f01e68b748a2d252422c14d679c1,10,7,1,12281,,,0,"Use proper keystone path for probes

Using the direct / path for the keystone probes can lead to the
probes receiving an http 300. We want to have an http 200 so there
is no warning from the probes. Use the full v3 path so the probes
are stable

Change-Id: If8b45801bb053778bd2e1691ff8556aa73cb434d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/98/682598/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/deployment-api.yaml'],1,a6ccab5270c8f01e68b748a2d252422c14d679c1,keystone_probe_full_path, path: /v3/ path: /v3/, path: / path: /,2,2
openstack%2Foctavia~stable%2Fqueens~I7793d7a9113b23ac88e7c53d5dc292a70b9453b5,openstack/octavia,stable/queens,I7793d7a9113b23ac88e7c53d5dc292a70b9453b5,Add warning log if auth_strategy is not keystone,MERGED,2019-08-26 13:51:01.000000000,2019-09-18 19:33:47.000000000,2019-09-18 19:32:29.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 13:51:01.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'octavia/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e7686135d5c83d589b5820ab47957e7d3b940494', 'message': 'Add warning log if auth_strategy is not keystone\n\nA user came to the IRC channel with CLI errors:\n""Client-side error: Validation failure: Missing project ID in\nrequest where one is required.""\n\nThe root cause was the [api_settings] auth_strategy was set to\n""noauth"" instead of ""keystone"".\n\nThis patch adds a warning log message to the API process that\nwarns users that typically the auth_strategy should be set to\nkeystone.\nIt also points the user to have an administrator check the keystone\nsettings in the octavia.conf.\n\nChange-Id: I7793d7a9113b23ac88e7c53d5dc292a70b9453b5\n(cherry picked from commit 48371c98ee49807b5c2b73a442d649bad40b73ec)\n'}]",0,678549,e7686135d5c83d589b5820ab47957e7d3b940494,14,4,1,6469,,,0,"Add warning log if auth_strategy is not keystone

A user came to the IRC channel with CLI errors:
""Client-side error: Validation failure: Missing project ID in
request where one is required.""

The root cause was the [api_settings] auth_strategy was set to
""noauth"" instead of ""keystone"".

This patch adds a warning log message to the API process that
warns users that typically the auth_strategy should be set to
keystone.
It also points the user to have an administrator check the keystone
settings in the octavia.conf.

Change-Id: I7793d7a9113b23ac88e7c53d5dc292a70b9453b5
(cherry picked from commit 48371c98ee49807b5c2b73a442d649bad40b73ec)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/678549/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/load_balancer.py', 'octavia/cmd/api.py']",2,e7686135d5c83d589b5820ab47957e7d3b940494,,"from octavia.common import constants if cfg.CONF.api_settings.auth_strategy != constants.KEYSTONE: LOG.warning('Octavia configuration [api_settings] auth_strategy is ' 'not set to ""keystone"". This is not a normal ' 'configuration and you may get ""Missing project ID"" ' 'errors from API calls.""')",,9,1
openstack%2Fopenstack-ansible~master~Id9a0af45c0b241f3982c6a80787c2a1b8adee90e,openstack/openstack-ansible,master,Id9a0af45c0b241f3982c6a80787c2a1b8adee90e,[DNM] Check that source installs fail keystone-manage similar to RDO,ABANDONED,2019-09-16 18:56:58.000000000,2019-09-18 19:25:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-16 18:56:58.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4fdf6f496dba127f045672873cfc2381441ed683', 'message': '[DNM] Check that source installs fail keystone-manage similar to RDO\n\nChange-Id: Id9a0af45c0b241f3982c6a80787c2a1b8adee90e\n'}]",0,682459,4fdf6f496dba127f045672873cfc2381441ed683,3,1,1,25023,,,0,"[DNM] Check that source installs fail keystone-manage similar to RDO

Change-Id: Id9a0af45c0b241f3982c6a80787c2a1b8adee90e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/682459/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,4fdf6f496dba127f045672873cfc2381441ed683,keystone-broken,keystone_git_install_branch: 6435017c242d759ec18dac30d667f0e196e49f38 # Test - this should break at keystone-manage db_sync --check,keystone_git_install_branch: 114f23195b8c1aa6864261e5f3355309f6c0a22e # HEAD as of 08.09.2019,1,1
openstack%2Freleases~master~I7c003d3e285e86a174baef7c2749518972262932,openstack/releases,master,I7c003d3e285e86a174baef7c2749518972262932,TripleO train ml3 release,MERGED,2019-09-12 19:33:18.000000000,2019-09-18 19:18:32.000000000,2019-09-18 19:18:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 19:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/805463bf1d724bd8e9669132bbafdcd6ad745873', 'message': 'TripleO train ml3 release\n\nChange-Id: I7c003d3e285e86a174baef7c2749518972262932\n'}, {'number': 2, 'created': '2019-09-16 23:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7a978b91d89b42fdccb12a788b411cd4d79cea1a', 'message': 'TripleO train ml3 release\n\nChange-Id: I7c003d3e285e86a174baef7c2749518972262932\n'}, {'number': 3, 'created': '2019-09-17 11:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6663dba89909ecfdb04cf4016b4de3a44142a908', 'message': 'TripleO train ml3 release\n\nChange-Id: I7c003d3e285e86a174baef7c2749518972262932\n'}, {'number': 4, 'created': '2019-09-17 13:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/91e6e8a39da9634d72e1a712d2dfeb7abd8df976', 'message': 'TripleO train ml3 release\n\nChange-Id: I7c003d3e285e86a174baef7c2749518972262932\n'}, {'number': 5, 'created': '2019-09-17 13:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ba9974599c5dfdb44140460b01dc895c15375c1d', 'message': 'TripleO train ml3 release\n\nChange-Id: I7c003d3e285e86a174baef7c2749518972262932\n'}, {'number': 6, 'created': '2019-09-17 13:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/477b62a9b44f6b8251987b0e069b87c1331c6a6e', 'message': 'TripleO train ml3 release\n\nChange-Id: I7c003d3e285e86a174baef7c2749518972262932\n'}, {'number': 7, 'created': '2019-09-17 14:38:29.000000000', 'files': ['deliverables/train/os-net-config.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/os-apply-config.yaml', 'deliverables/train/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a1bc27c5812e2780e2f0c887c2fd1f31b78f093', 'message': 'TripleO train ml3 release\n\nChange-Id: I7c003d3e285e86a174baef7c2749518972262932\n'}]",24,681897,2a1bc27c5812e2780e2f0c887c2fd1f31b78f093,41,8,7,9592,,,0,"TripleO train ml3 release

Change-Id: I7c003d3e285e86a174baef7c2749518972262932
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/681897/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/os-net-config.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/os-apply-config.yaml', 'deliverables/train/python-tripleoclient.yaml', 'deliverables/train/tripleo-puppet-elements.yaml']",11,805463bf1d724bd8e9669132bbafdcd6ad745873,tripleo-train-m3, - version: 11.2.0 projects: - repo: openstack/tripleo-puppet-elements hash: 2d2bc4d8b20304d0939ac0cebedac7bda3398def,,45,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I59288a0c1347812b3a2fedf4c1274b48fb735f72,openstack/tripleo-heat-templates,stable/stein,I59288a0c1347812b3a2fedf4c1274b48fb735f72,DNM - exploring running scenario004 w/o pacemaker for manila,ABANDONED,2019-09-03 17:18:57.000000000,2019-09-18 19:18:20.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-03 17:18:57.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'deployment/manila/manila-share-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da070afa110c9bb901f50773a589178fa1800d77', 'message': 'DNM - exploring running scenario004 w/o pacemaker for manila\n\nChange-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72\n(cherry picked from commit b933cb7540e54abf99937116e5b61085510ee8c9)\n'}]",0,679828,da070afa110c9bb901f50773a589178fa1800d77,15,3,1,9003,,,0,"DNM - exploring running scenario004 w/o pacemaker for manila

Change-Id: I59288a0c1347812b3a2fedf4c1274b48fb735f72
(cherry picked from commit b933cb7540e54abf99937116e5b61085510ee8c9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/679828/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'deployment/manila/manila-share-container-puppet.yaml']",2,da070afa110c9bb901f50773a589178fa1800d77,, - path: /var/lib/manila owner: manila:manila recurse: true,,5,7
openstack%2Fopenstack-ansible-os_swift~master~I63a8197760f530b5708ad60bb980cf39f7d86cca,openstack/openstack-ansible-os_swift,master,I63a8197760f530b5708ad60bb980cf39f7d86cca,"Revert ""Temporary fix for python3 config parsing error""",ABANDONED,2019-09-18 08:14:43.000000000,2019-09-18 19:18:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-09-18 08:14:43.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/1de0d541b46548b36fa5a989ebe969fde3bf82b0', 'message': 'Revert ""Temporary fix for python3 config parsing error""\n\nThis reverts commit 1aa3725536645f76af558789589b32c94504fe18.\n\nChange-Id: I63a8197760f530b5708ad60bb980cf39f7d86cca\n'}]",0,682828,1de0d541b46548b36fa5a989ebe969fde3bf82b0,4,2,1,25023,,,0,"Revert ""Temporary fix for python3 config parsing error""

This reverts commit 1aa3725536645f76af558789589b32c94504fe18.

Change-Id: I63a8197760f530b5708ad60bb980cf39f7d86cca
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/28/682828/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1de0d541b46548b36fa5a989ebe969fde3bf82b0,,"swift_fallocate_reserve: ""1%""","swift_fallocate_reserve: ""1%%""",1,1
openstack%2Fopenstack-ansible-os_swift~master~Ib4032128a5b44a1be3d7e4927f4e807406b36dc9,openstack/openstack-ansible-os_swift,master,Ib4032128a5b44a1be3d7e4927f4e807406b36dc9,Temporary fix for python3 config parsing error,ABANDONED,2019-09-18 08:14:43.000000000,2019-09-18 19:18:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-18 08:14:43.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/1aa3725536645f76af558789589b32c94504fe18', 'message': 'Temporary fix for python3 config parsing error\n\nRevert this patch when the bug in swift is fixed\n\nSee https://bugs.launchpad.net/swift/+bug/1844368\n\nChange-Id: Ib4032128a5b44a1be3d7e4927f4e807406b36dc9\n'}]",0,682827,1aa3725536645f76af558789589b32c94504fe18,3,1,1,25023,,,0,"Temporary fix for python3 config parsing error

Revert this patch when the bug in swift is fixed

See https://bugs.launchpad.net/swift/+bug/1844368

Change-Id: Ib4032128a5b44a1be3d7e4927f4e807406b36dc9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/27/682827/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1aa3725536645f76af558789589b32c94504fe18,,"swift_fallocate_reserve: ""1%%""","swift_fallocate_reserve: ""1%""",1,1
openstack%2Fironic-inspector~master~I51966684a327d7948c3e7f660a506255e4af0290,openstack/ironic-inspector,master,I51966684a327d7948c3e7f660a506255e4af0290,[train][goal] Define new 'ironic-inspector-ipv6-only' job,NEW,2019-09-17 16:38:52.000000000,2019-09-18 19:10:13.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-17 16:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/36bc99f8ed93d0d73885587f2dfbe88d7cd0f0c2', 'message': ""[train][goal] Define new 'ironic-inspector-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-inspector-ipv6-only'\nrun on gate which interenally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-inspector-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I51966684a327d7948c3e7f660a506255e4af0290\n""}, {'number': 2, 'created': '2019-09-17 16:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/678aed3f5851afab55d66321687310a7d9f18257', 'message': ""[train][goal] Define new 'ironic-inspector-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-inspector-ipv6-only'\nrun on gate which interenally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-inspector-ipv6-only' will run the tests.\n\nDepends-On: https://review.opendev.org/#/c/682692/\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I51966684a327d7948c3e7f660a506255e4af0290\n""}, {'number': 3, 'created': '2019-09-18 15:28:56.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/project.yaml', 'zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/652932ba942d26f42f2708f44f4bf37487fb9fa9', 'message': ""[train][goal] Define new 'ironic-inspector-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-inspector-ipv6-only'\nrun on gate which interenally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-inspector-ipv6-only' will run the tests.\n\nDepends-On: https://review.opendev.org/#/c/682692/\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I51966684a327d7948c3e7f660a506255e4af0290\n""}]",1,682691,652932ba942d26f42f2708f44f4bf37487fb9fa9,12,4,3,8556,,,0,"[train][goal] Define new 'ironic-inspector-ipv6-only' job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the base job 'devstack-tempest-ipv6' which will
deploy services on IPv6.

This commit adds the new job 'ironic-inspector-ipv6-only'
run on gate which interenally derived from 'devstack-tempest-ipv6'.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'ironic-inspector-ipv6-only' will run the tests.

Depends-On: https://review.opendev.org/#/c/682692/

Story: #2005477
Task: #35896

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I51966684a327d7948c3e7f660a506255e4af0290
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/91/682691/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/ironic-inspector-jobs.yaml']",2,36bc99f8ed93d0d73885587f2dfbe88d7cd0f0c2,ipv6-only-deployment-and-testing, required-projects: &base_required_projects irrelevant-files: &base_irrelevant_files vars: &base_vars name: ironic-inspector-ipv6-only description: IPv6 job for devstack/tempest based ironic-inspector jobs. parent: ironic-base-ipv6-only timeout: 10800 required-projects: *base_required_projects irrelevant-files: *base_irrelevant_files vars: *base_vars - job:, required-projects: irrelevant-files: vars:,14,3
openstack%2Fkeystone~master~I40124c809d8b14a6c50edc0f758104ab09656250,openstack/keystone,master,I40124c809d8b14a6c50edc0f758104ab09656250,Specify keystone is OS user for fernet and credential setup,MERGED,2019-08-06 04:05:09.000000000,2019-09-18 18:55:57.000000000,2019-09-18 18:54:05.000000000,"[{'_account_id': 1916}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-08-06 04:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2c0dc352fdec0478d2f93cbd099f36f52929e815', 'message': 'Specify keystone is OS user for fernet and credential setup\n\nChange-Id: I40124c809d8b14a6c50edc0f758104ab09656250\nCloses-Bug: #1838554\n'}, {'number': 2, 'created': '2019-09-17 18:59:13.000000000', 'files': ['doc/source/install/keystone-install-rdo.rst', 'doc/source/install/keystone-install-ubuntu.rst', 'doc/source/install/keystone-install-obs.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7fc7ef2a07b2d5721db613635873c08ac88b5258', 'message': 'Specify keystone is OS user for fernet and credential setup\n\nChange-Id: I40124c809d8b14a6c50edc0f758104ab09656250\nCloses-Bug: #1838554\n'}]",2,674725,7fc7ef2a07b2d5721db613635873c08ac88b5258,15,5,2,19779,,,0,"Specify keystone is OS user for fernet and credential setup

Change-Id: I40124c809d8b14a6c50edc0f758104ab09656250
Closes-Bug: #1838554
",git fetch https://review.opendev.org/openstack/keystone refs/changes/25/674725/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/keystone-install-rdo.rst'],1,2c0dc352fdec0478d2f93cbd099f36f52929e815,bug/1838554," .. note:: ``--keystone-user`` and ``--keystone-group`` are not free to be chosen, they are specified with the operating system's user and group. Here use the ``keystone`` by default. ",,6,0
openstack%2Fopenstack-ansible-os_keystone~master~Icddedc71e7ab464372e8e07fdce4c6ce79013d5b,openstack/openstack-ansible-os_keystone,master,Icddedc71e7ab464372e8e07fdce4c6ce79013d5b,[DNM] test only,ABANDONED,2019-09-16 20:43:48.000000000,2019-09-18 18:54:19.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 20:43:48.000000000', 'files': ['tasks/keystone_service_bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/b9a0b7d55c9757ff0eacb5ab39c474eaab1d2a6a', 'message': '[DNM] test only\n\nChange-Id: Icddedc71e7ab464372e8e07fdce4c6ce79013d5b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,682478,b9a0b7d55c9757ff0eacb5ab39c474eaab1d2a6a,4,2,1,14200,,,0,"[DNM] test only

Change-Id: Icddedc71e7ab464372e8e07fdce4c6ce79013d5b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/78/682478/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_service_bootstrap.yml'],1,b9a0b7d55c9757ff0eacb5ab39c474eaab1d2a6a,octavia-ci-issue,, no_log: true,0,1
openstack%2Fneutron~stable%2Frocky~Ifdeac05b485a079e2288b413829bce0e39aef6fd,openstack/neutron,stable/rocky,Ifdeac05b485a079e2288b413829bce0e39aef6fd,Check the namespace is ready in test_mtu_update tests,MERGED,2019-09-13 09:38:49.000000000,2019-09-18 18:54:01.000000000,2019-09-18 18:54:01.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-13 09:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6965b1f5e744653cd37be265981edbb36ad016df', 'message': 'Check the namespace is ready in test_mtu_update tests\n\nConflicts:\n    neutron/tests/fullstack/base.py\n\nChange-Id: Ifdeac05b485a079e2288b413829bce0e39aef6fd\nCloses-Bug: #1820865\n(cherry picked from commit 434b29a2cb131d38ed151e6a1d7f1ab756408198)\n'}, {'number': 2, 'created': '2019-09-16 09:30:47.000000000', 'files': ['neutron/tests/fullstack/test_dhcp_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/fullstack/base.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d140750fe4685dbff18c248da7c92fffca8a0789', 'message': 'Check the namespace is ready in test_mtu_update tests\n\nConflicts:\n    neutron/tests/fullstack/base.py\n\nChange-Id: Ifdeac05b485a079e2288b413829bce0e39aef6fd\nCloses-Bug: #1820865\n(cherry picked from commit 434b29a2cb131d38ed151e6a1d7f1ab756408198)\n'}]",0,682006,d140750fe4685dbff18c248da7c92fffca8a0789,25,7,2,11975,,,0,"Check the namespace is ready in test_mtu_update tests

Conflicts:
    neutron/tests/fullstack/base.py

Change-Id: Ifdeac05b485a079e2288b413829bce0e39aef6fd
Closes-Bug: #1820865
(cherry picked from commit 434b29a2cb131d38ed151e6a1d7f1ab756408198)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/682006/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/test_dhcp_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/fullstack/base.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/fullstack/test_l3_agent.py']",6,6965b1f5e744653cd37be265981edbb36ad016df,bug/1820865, self.assert_namespace_exists(namespace) self.assert_namespace_exists(namespace)," def _assert_namespace_exists(self, ns_name): common_utils.wait_until_true( lambda: ip_lib.network_namespace_exists(ns_name)) self._assert_namespace_exists(namespace) self._assert_namespace_exists(namespace)",61,10
openstack%2Fopenstack-ansible-os_octavia~master~Iad0163d3431401032b692d18614763de793a3185,openstack/openstack-ansible-os_octavia,master,Iad0163d3431401032b692d18614763de793a3185,[DNM] test only,ABANDONED,2019-09-16 20:49:09.000000000,2019-09-18 18:53:54.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-09-16 20:49:09.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/cf9e90d5b2685ce0c28ad7bd017d37a0278448d1', 'message': '[DNM] test only\n\nDepends-On: Icddedc71e7ab464372e8e07fdce4c6ce79013d5b\nChange-Id: Iad0163d3431401032b692d18614763de793a3185\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,682481,cf9e90d5b2685ce0c28ad7bd017d37a0278448d1,11,3,1,14200,,,0,"[DNM] test only

Depends-On: Icddedc71e7ab464372e8e07fdce4c6ce79013d5b
Change-Id: Iad0163d3431401032b692d18614763de793a3185
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/81/682481/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,cf9e90d5b2685ce0c28ad7bd017d37a0278448d1,octavia-ci-issue,,,1,0
openstack%2Foslo.messaging~master~Ibc40ad1ddedbe04d6ba614467a78e43b3aa6348d,openstack/oslo.messaging,master,Ibc40ad1ddedbe04d6ba614467a78e43b3aa6348d,Fix help text for heartbeat_in_pthread option,MERGED,2019-09-18 14:30:15.000000000,2019-09-18 18:35:02.000000000,2019-09-18 18:33:36.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 14:30:15.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/440357d74027650701d74a82437921fe946fa347', 'message': 'Fix help text for heartbeat_in_pthread option\n\nChange-Id: Ibc40ad1ddedbe04d6ba614467a78e43b3aa6348d\n'}]",0,682908,440357d74027650701d74a82437921fe946fa347,7,2,1,6873,,,0,"Fix help text for heartbeat_in_pthread option

Change-Id: Ibc40ad1ddedbe04d6ba614467a78e43b3aa6348d
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/08/682908/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,440357d74027650701d74a82437921fe946fa347,bug/1826281," help=""EXPERIMENTAL: Run the health check heartbeat thread "" ""through a native python thread. By default if this "" ""option isn't provided the health check heartbeat will "" ""inherit the execution model from the parent process. By "" ""example if the parent process have monkey patched the "" ""stdlib by using eventlet/greenlet then the heartbeat """," help=""EXPERIMENTAL: Run the health check heartbeat thread"" ""through a native python thread. By default if this"" ""option isn't provided the health check heartbeat will"" ""inherit the execution model from the parent process. By"" ""example if the parent process have monkey patched the"" ""stdlib by using eventlet/greenlet then the heartbeat""",6,6
openstack%2Fheat~master~I6fd022ea6cabfb7fadf49152babd215e07f8bec1,openstack/heat,master,I6fd022ea6cabfb7fadf49152babd215e07f8bec1,Fix multiple gate issues,MERGED,2019-09-18 05:34:18.000000000,2019-09-18 18:31:39.000000000,2019-09-18 18:30:03.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 05:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e7c5ecb8c7c3d06f66103984f04baa25b925b9cc', 'message': ""Fix multiple gate issues\n\nChange 'multiattach' property support status to HIDDEN\n\nFrom queens release this is an extra-spec capability of volume type and\nthe ability to attach a volume to multiple hosts/servers requires that\nthe volume is of a special type that includes an extra-spec capability\nsetting of multiattach=<is> True.\n\nAddress v1 designate client removal from python-designateclient\n\ndesignateclient v1 has been removed and we need to stop testing\nit with client plugin.\n\nChange-Id: I6fd022ea6cabfb7fadf49152babd215e07f8bec1\n""}, {'number': 2, 'created': '2019-09-18 07:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/de5d8769d581199068a69a639f944acca8bead19', 'message': ""Fix multiple gate issues\n\nChange 'multiattach' property support status to HIDDEN\n\nFrom queens release this is an extra-spec capability of volume type and\nthe ability to attach a volume to multiple hosts/servers requires that\nthe volume is of a special type that includes an extra-spec capability\nsetting of multiattach=<is> True.\n\nAddress v1 designate client removal from python-designateclient\n\ndesignateclient v1 has been removed and we need to stop testing\nit with client plugin.\n\nChange-Id: I6fd022ea6cabfb7fadf49152babd215e07f8bec1\n""}, {'number': 3, 'created': '2019-09-18 09:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/63300b916008ab6d5925b225b1215188a9b751a7', 'message': ""Fix multiple gate issues\n\nChange 'multiattach' property support status to HIDDEN\n\nFrom queens release this is an extra-spec capability of volume type and\nthe ability to attach a volume to multiple hosts/servers requires that\nthe volume is of a special type that includes an extra-spec capability\nsetting of multiattach=<is> True.\n\nAddress v1 designate client removal from python-designateclient\n\ndesignateclient v1 has been removed and we need to stop testing\nit with client plugin.\n\nChange-Id: I6fd022ea6cabfb7fadf49152babd215e07f8bec1\n""}, {'number': 4, 'created': '2019-09-18 12:57:42.000000000', 'files': ['heat/engine/clients/os/designate.py', 'heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/tests/clients/test_designate_client.py', 'heat/tests/openstack/designate/test_domain.py', 'heat/tests/openstack/designate/test_record.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1ab29a42e38d9ca573e19ede019cb7668d4a95fe', 'message': ""Fix multiple gate issues\n\nChange 'multiattach' property support status to HIDDEN\n\nFrom queens release this is an extra-spec capability of volume type and\nthe ability to attach a volume to multiple hosts/servers requires that\nthe volume is of a special type that includes an extra-spec capability\nsetting of multiattach=<is> True.\n\nAddress v1 designate client removal from python-designateclient\n\ndesignateclient v1 has been removed and we need to stop testing\nit with client plugin.\n\nChange-Id: I6fd022ea6cabfb7fadf49152babd215e07f8bec1\n""}]",2,682792,1ab29a42e38d9ca573e19ede019cb7668d4a95fe,16,4,4,8833,,,0,"Fix multiple gate issues

Change 'multiattach' property support status to HIDDEN

From queens release this is an extra-spec capability of volume type and
the ability to attach a volume to multiple hosts/servers requires that
the volume is of a special type that includes an extra-spec capability
setting of multiattach=<is> True.

Address v1 designate client removal from python-designateclient

designateclient v1 has been removed and we need to stop testing
it with client plugin.

Change-Id: I6fd022ea6cabfb7fadf49152babd215e07f8bec1
",git fetch https://review.opendev.org/openstack/heat refs/changes/92/682792/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/designate.py', 'heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/tests/clients/test_designate_client.py']",4,e7c5ecb8c7c3d06f66103984f04baa25b925b9cc,,"from designateclient import client as designate_client session=session, region_name='region1', version='2')","from designateclient import exceptions as designate_exceptions from designateclient import v1 as designate_clientimport sixclass DesignateDomainConstraintTest(common.HeatTestCase): def test_expected_exceptions(self): self.assertEqual((heat_exception.EntityNotFound,), client.DesignateDomainConstraint.expected_exceptions, ""DesignateDomainConstraint expected exceptions error"") def test_constrain(self): constrain = client.DesignateDomainConstraint() client_mock = mock.MagicMock() client_plugin_mock = mock.MagicMock() client_plugin_mock.get_domain_id.return_value = None client_mock.client_plugin.return_value = client_plugin_mock self.assertIsNone(constrain.validate_with_client(client_mock, 'domain_1')) client_plugin_mock.get_domain_id.assert_called_once_with('domain_1') session=session, region_name='region1' ) class DesignateClientPluginDomainTest(common.HeatTestCase): sample_uuid = '477e8273-60a7-4c41-b683-fdb0bc7cd152' sample_name = 'test-domain.com' def _get_mock_domain(self): domain = mock.MagicMock() domain.id = self.sample_uuid domain.name = self.sample_name return domain def setUp(self): super(DesignateClientPluginDomainTest, self).setUp() self._client = mock.MagicMock() self.client_plugin = client.DesignateClientPlugin( context=mock.MagicMock() ) @mock.patch.object(client.DesignateClientPlugin, 'client') def test_get_domain_id(self, client_designate): self._client.domains.get.return_value = self._get_mock_domain() client_designate.return_value = self._client self.assertEqual(self.sample_uuid, self.client_plugin.get_domain_id(self.sample_uuid)) self._client.domains.get.assert_called_once_with( self.sample_uuid) @mock.patch.object(client.DesignateClientPlugin, 'client') def test_get_domain_id_not_found(self, client_designate): self._client.domains.get.side_effect = (designate_exceptions .NotFound) client_designate.return_value = self._client ex = self.assertRaises(heat_exception.EntityNotFound, self.client_plugin.get_domain_id, self.sample_uuid) msg = (""The Designate Domain (%(name)s) could not be found."" % {'name': self.sample_uuid}) self.assertEqual(msg, six.text_type(ex)) self._client.domains.get.assert_called_once_with( self.sample_uuid) @mock.patch.object(client.DesignateClientPlugin, 'client') def test_get_domain_id_by_name(self, client_designate): self._client.domains.get.side_effect = (designate_exceptions .NotFound) self._client.domains.list.return_value = [self._get_mock_domain()] client_designate.return_value = self._client self.assertEqual(self.sample_uuid, self.client_plugin.get_domain_id(self.sample_name)) self._client.domains.get.assert_called_once_with( self.sample_name) self._client.domains.list.assert_called_once_with() @mock.patch.object(client.DesignateClientPlugin, 'client') def test_get_domain_id_by_name_not_found(self, client_designate): self._client.domains.get.side_effect = (designate_exceptions .NotFound) self._client.domains.list.return_value = [] client_designate.return_value = self._client ex = self.assertRaises(heat_exception.EntityNotFound, self.client_plugin.get_domain_id, self.sample_name) msg = (""The Designate Domain (%(name)s) could not be found."" % {'name': self.sample_name}) self.assertEqual(msg, six.text_type(ex)) self._client.domains.get.assert_called_once_with( self.sample_name) self._client.domains.list.assert_called_once_with() @mock.patch.object(client.DesignateClientPlugin, 'client') @mock.patch('designateclient.v1.domains.Domain') def test_domain_create(self, mock_domain, client_designate): self._client.domains.create.return_value = None client_designate.return_value = self._client domain = dict( name='test-domain.com', description='updated description', ttl=4200, email='xyz@test-domain.com' ) mock_sample_domain = mock.Mock() mock_domain.return_value = mock_sample_domain self.client_plugin.domain_create(**domain) # Make sure domain entity is created with right arguments mock_domain.assert_called_once_with(**domain) self._client.domains.create.assert_called_once_with( mock_sample_domain) @mock.patch.object(client.DesignateClientPlugin, 'client') def test_domain_update(self, client_designate): self._client.domains.update.return_value = None mock_domain = self._get_mock_domain() self._client.domains.get.return_value = mock_domain client_designate.return_value = self._client domain = dict( id='sample-id', description='updated description', ttl=4200, email='xyz@test-domain.com' ) self.client_plugin.domain_update(**domain) self._client.domains.get.assert_called_once_with( mock_domain.id) for key in domain.keys(): setattr(mock_domain, key, domain[key]) self._client.domains.update.assert_called_once_with( mock_domain)",20,191
openstack%2Fproject-config~master~I97fc69c63b92c27dd33abc35d4e0fc7b72d74eda,openstack/project-config,master,I97fc69c63b92c27dd33abc35d4e0fc7b72d74eda,Add windmill-ops / ansible-role-elasticsearch,MERGED,2019-09-07 18:39:55.000000000,2019-09-18 18:18:58.000000000,2019-09-18 18:18:58.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-07 18:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d55501e517366888135d3771c7695aa6dd3b84bb', 'message': 'Add windmill-ops / ansible-role-elasticsearch\n\nThese repos will be used to start adding elastic search support to\nwindmill. Day 2 operations related to digging deeper into zuul logs.\n\nChange-Id: I97fc69c63b92c27dd33abc35d4e0fc7b72d74eda\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2019-09-18 17:40:07.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/windmill/ansible-role-elasticsearch.config', 'gerrit/acls/windmill/windmill-logs.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4e44900bf6eb124dd466f8c142f6d2244fd27373', 'message': 'Add windmill-ops / ansible-role-elasticsearch\n\nThese repos will be used to start adding elastic search support to\nwindmill. Day 2 operations related to digging deeper into zuul logs.\n\nChange-Id: I97fc69c63b92c27dd33abc35d4e0fc7b72d74eda\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",1,680830,4e44900bf6eb124dd466f8c142f6d2244fd27373,11,3,2,4162,,,0,"Add windmill-ops / ansible-role-elasticsearch

These repos will be used to start adding elastic search support to
windmill. Day 2 operations related to digging deeper into zuul logs.

Change-Id: I97fc69c63b92c27dd33abc35d4e0fc7b72d74eda
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/30/680830/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/windmill/ansible-role-elasticsearch.config', 'gerrit/acls/windmill/windmill-logs.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",5,d55501e517366888135d3771c7695aa6dd3b84bb,, - windmill/ansible-role-elasticsearch - windmill/windmill-logs,,36,0
openstack%2Fkolla~master~I961dfba1aeef2c509ecdaf376dfe6928926ffb39,openstack/kolla,master,I961dfba1aeef2c509ecdaf376dfe6928926ffb39,Remove support for OracleLinux,MERGED,2019-09-18 11:41:39.000000000,2019-09-18 18:13:00.000000000,2019-09-18 18:11:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-18 11:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/918c31aed1471f4a342273804df17aad00653a05', 'message': 'Remove support for OracleLinux\n\nWe have agreed to remove support for Oracle Linux.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html\n\nChange-Id: I961dfba1aeef2c509ecdaf376dfe6928926ffb39\nDepends-On: https://review.opendev.org/682858\n'}, {'number': 2, 'created': '2019-09-18 12:43:13.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2', 'doc/source/admin/template-override/ovs-dpdk.rst', 'docker/base/oraclelinux-extras.repo', 'docker/masakari/masakari-monitors/Dockerfile.j2', 'releasenotes/notes/remove-oraclelinux-support-109ce54b1952ec3a.yaml', 'kolla/common/config.py', 'docker/glance/glance-api/Dockerfile.j2', 'docker/ironic/ironic-pxe/extend_start.sh', 'kolla/image/build.py', 'tools/validate-binary-build.sh', 'docker/base/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'contrib/template-override/ovs-dpdk.j2', 'docker/ovsdpdk/ovsdpdk/Dockerfile.j2', 'docker/nova/nova-base/Dockerfile.j2', 'tests/test_build.py', 'doc/source/admin/image-building.rst', 'docker/macros.j2', 'tests/files/process_build_logs.py', 'docker/cyborg/cyborg-api/Dockerfile.j2', 'contrib/template-override/opendaylight-template-overrides.j2', 'docker/placement/placement-base/Dockerfile.j2', 'docker/sensu/sensu-server/Dockerfile.j2', 'tox.ini', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/keystone/keystone/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fa8e174be6bc5b4d555258197938da9da40bfa81', 'message': 'Remove support for OracleLinux\n\nWe have agreed to remove support for Oracle Linux.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html\n\nChange-Id: I961dfba1aeef2c509ecdaf376dfe6928926ffb39\nDepends-On: https://review.opendev.org/682858\n'}]",0,682865,fa8e174be6bc5b4d555258197938da9da40bfa81,17,5,2,14826,,,0,"Remove support for OracleLinux

We have agreed to remove support for Oracle Linux.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html

Change-Id: I961dfba1aeef2c509ecdaf376dfe6928926ffb39
Depends-On: https://review.opendev.org/682858
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/682865/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-libvirt/Dockerfile.j2', 'doc/source/admin/template-override/ovs-dpdk.rst', 'docker/masakari/masakari-monitors/Dockerfile.j2', 'releasenotes/notes/remove-oraclelinux-support-109ce54b1952ec3a.yaml', 'kolla/common/config.py', 'docker/glance/glance-api/Dockerfile.j2', 'docker/ironic/ironic-pxe/extend_start.sh', 'kolla/image/build.py', 'tools/validate-binary-build.sh', 'docker/base/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'contrib/template-override/ovs-dpdk.j2', 'docker/ovsdpdk/ovsdpdk/Dockerfile.j2', 'docker/nova/nova-base/Dockerfile.j2', 'tests/test_build.py', 'doc/source/admin/image-building.rst', 'docker/macros.j2', 'tests/files/process_build_logs.py', 'docker/cyborg/cyborg-api/Dockerfile.j2', 'contrib/template-override/opendaylight-template-overrides.j2', 'docker/placement/placement-base/Dockerfile.j2', 'docker/sensu/sensu-server/Dockerfile.j2', 'tox.ini', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/keystone/keystone/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2', 'kolla/tests/test_build.py']",27,918c31aed1471f4a342273804df17aad00653a05,," rh_base = ['centos', 'rhel']"," rh_base = ['centos', 'oraclelinux', 'rhel']",39,131
openstack%2Fproject-config~master~Ia56c71b50a7f76d1dc9984a6f8234752e99cf03c,openstack/project-config,master,Ia56c71b50a7f76d1dc9984a6f8234752e99cf03c,Enable Review-Priority flag for Blazar,MERGED,2019-09-17 10:57:56.000000000,2019-09-18 18:07:20.000000000,2019-09-18 17:54:28.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 10:57:56.000000000', 'files': ['gerrit/acls/openstack/blazar.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f4c6916649688c0e443db653260339d417ad9c32', 'message': 'Enable Review-Priority flag for Blazar\n\nChange-Id: Ia56c71b50a7f76d1dc9984a6f8234752e99cf03c\n'}]",0,682613,f4c6916649688c0e443db653260339d417ad9c32,9,3,1,15197,,,0,"Enable Review-Priority flag for Blazar

Change-Id: Ia56c71b50a7f76d1dc9984a6f8234752e99cf03c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/682613/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/blazar.config'],1,f4c6916649688c0e443db653260339d417ad9c32,blazar-review-priority,"label-Review-Priority = -1..+2 group blazar-core[label ""Review-Priority""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true copyMaxScore = true copyMinScore = true defaultValue = 0 function = AnyWithBlock value = -1 Branch Freeze value = 0 No Priority value = +1 Important Change value = +2 Gate Blocker Fix / Urgent Change ",,13,0
openstack%2Fswift~master~I5dd57aad794c050c44e328c43346be0063170492,openstack/swift,master,I5dd57aad794c050c44e328c43346be0063170492,Add python3 to setup.cfg,MERGED,2019-07-02 03:04:20.000000000,2019-09-18 18:02:35.000000000,2019-09-18 18:01:20.000000000,"[{'_account_id': 15343}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 03:04:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/5270da86e6eead273f58a24cba65b951550e3037', 'message': 'Add python3 to setup.cfg\n\nChange-Id: I5dd57aad794c050c44e328c43346be0063170492\n'}]",0,668578,5270da86e6eead273f58a24cba65b951550e3037,8,3,1,27822,,,0,"Add python3 to setup.cfg

Change-Id: I5dd57aad794c050c44e328c43346be0063170492
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/668578/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5270da86e6eead273f58a24cba65b951550e3037,setup, Programming Language :: Python :: 3 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,3,0
openstack%2Fcinder~stable%2Fstein~I33d691d1dfa835b70726bcfacf868faab52de16a,openstack/cinder,stable/stein,I33d691d1dfa835b70726bcfacf868faab52de16a,Dell EMC SC: Handle the mappings of multiattached volume,MERGED,2019-09-03 20:17:38.000000000,2019-09-18 17:54:32.000000000,2019-09-18 17:52:34.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14624}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-09-03 20:17:38.000000000', 'files': ['cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'releasenotes/notes/sc-handle-multiattach-onterminate-6ab1f96f21bb284d.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_fc.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b5b380a6cb1a7e99d277ffe177ad02405f9fd00', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\n(cherry picked from commit 08d35b099113679eb7d343f7463d63cb6f1adbbc)\n'}]",0,679857,9b5b380a6cb1a7e99d277ffe177ad02405f9fd00,32,20,1,4523,,,0,"Dell EMC SC: Handle the mappings of multiattached volume

For volumes attached to multiple instances, this handles
the deletion of mappings in the backend when the volume
is attached to multiple instances on the same host.

Change-Id: I33d691d1dfa835b70726bcfacf868faab52de16a
Closes-Bug: #1822229
Co-Authored-By: Sam Wan <sam_wan@emc.com>
(cherry picked from commit 08d35b099113679eb7d343f7463d63cb6f1adbbc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/679857/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'releasenotes/notes/sc-handle-multiattach-onterminate-6ab1f96f21bb284d.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_fc.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py']",6,9b5b380a6cb1a7e99d277ffe177ad02405f9fd00,bug/1822229,"from cinder import utils @utils.synchronized('{self.driver_prefix}-{volume.id}') LOG.debug('Volume details %s', volume) # None `connector` indicates force detach, then detach all even if the # volume is multi-attached. is_multiattached = (hasattr(volume, 'volume_attachment') and self.is_multiattach_to_host( volume.get('volume_attachment'), connector['host'])) if is_multiattached: LOG.info('Cannot terminate connection: ' '%(vol)s is multiattached.', {'vol': volume_name}) return True", # basic return info...,237,5
openstack%2Fproject-config~master~I2b7539b78ff31a62a93c9376291122798c177afe,openstack/project-config,master,I2b7539b78ff31a62a93c9376291122798c177afe,Fix release ACL for Kayobe,MERGED,2019-09-17 08:30:13.000000000,2019-09-18 17:54:30.000000000,2019-09-18 17:54:29.000000000,"[{'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 08:30:13.000000000', 'files': ['gerrit/acls/openstack/kayobe.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d7a29dd060553e74ef6eac5cc760e2990135c3b5', 'message': 'Fix release ACL for Kayobe\n\nKayobe is now an official deliverable from the Kolla project team,\nand as such should go through the openstack/releases repository to\nproduce releases.\n\nFix the ACL so that it no longer allows direct tagging.\n\nChange-Id: I2b7539b78ff31a62a93c9376291122798c177afe\n'}]",0,682581,d7a29dd060553e74ef6eac5cc760e2990135c3b5,10,5,1,308,,,0,"Fix release ACL for Kayobe

Kayobe is now an official deliverable from the Kolla project team,
and as such should go through the openstack/releases repository to
produce releases.

Fix the ACL so that it no longer allows direct tagging.

Change-Id: I2b7539b78ff31a62a93c9376291122798c177afe
",git fetch https://review.opendev.org/openstack/project-config refs/changes/81/682581/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/kayobe.config'],1,d7a29dd060553e74ef6eac5cc760e2990135c3b5,fix-kayobe-acl,,"create = group kayobe-release[access ""refs/tags/*""] pushSignedTag = group kayobe-release ",0,4
openstack%2Fkeystone-specs~master~I1dedf35825fd2fbd4dcbf8991affcd1f54d0ed70,openstack/keystone-specs,master,I1dedf35825fd2fbd4dcbf8991affcd1f54d0ed70,Update docstheme options,MERGED,2019-09-18 17:25:25.000000000,2019-09-18 17:48:36.000000000,2019-09-18 17:47:27.000000000,"[{'_account_id': 2903}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 17:25:25.000000000', 'files': ['requirements.txt', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b0b0181ab88193ccf5caf79c303cc90600475342', 'message': 'Update docstheme options\n\nUpdate openstackdocstheme options so that ""Report a bug"" works.\nRemove git settings for last update, the theme handles this now\nby default.\nRemove viewdocs and autodocs options, they are for source code but this\nrepo has no sourcecode.\n\nUpdate minimal openstackdocstheme version so that these settings work.\n\nChange-Id: I1dedf35825fd2fbd4dcbf8991affcd1f54d0ed70\n'}]",0,682952,b0b0181ab88193ccf5caf79c303cc90600475342,8,2,1,6547,,,0,"Update docstheme options

Update openstackdocstheme options so that ""Report a bug"" works.
Remove git settings for last update, the theme handles this now
by default.
Remove viewdocs and autodocs options, they are for source code but this
repo has no sourcecode.

Update minimal openstackdocstheme version so that these settings work.

Change-Id: I1dedf35825fd2fbd4dcbf8991affcd1f54d0ed70
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/52/682952/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py']",2,b0b0181ab88193ccf5caf79c303cc90600475342,theme,"extensions = [ # openstackdocstheme options repository_name = ""openstack/keystone-specs"" bug_project = ""keystone"" bug_tag = ""specs"" ","import subprocess import warningsextensions = ['sphinx.ext.autodoc', 'sphinx.ext.viewcode',# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. git_cmd = [""git"", ""log"", ""--pretty=format:'%ad, commit %h'"", ""--date=local"", ""-n1""] try: html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8') except Exception: warnings.warn('Cannot get last updated time from git repository. ' 'Not setting ""html_last_updated_fmt"".')",8,14
openstack%2Fproject-config~master~Id062f61b82242220e0105d3ef4c7ff53efceb587,openstack/project-config,master,Id062f61b82242220e0105d3ef4c7ff53efceb587,Update gentoo image to current profile,MERGED,2019-09-17 13:08:10.000000000,2019-09-18 17:47:58.000000000,2019-09-18 17:47:58.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 13:08:10.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f0c1c623063bf1759d5b486a0dfc418b87ca9e2b', 'message': ""Update gentoo image to current profile\n\nGentoo has updates it's system profiles, we need to follow this in order\nto make our builds work again.\n\nTODO: Update the image name accordingly or switch to a more generic\nname.\n\n[0] https://review.opendev.org/677290\n\nChange-Id: Id062f61b82242220e0105d3ef4c7ff53efceb587\n""}]",0,682639,f0c1c623063bf1759d5b486a0dfc418b87ca9e2b,7,3,1,13252,,,0,"Update gentoo image to current profile

Gentoo has updates it's system profiles, we need to follow this in order
to make our builds work again.

TODO: Update the image name accordingly or switch to a more generic
name.

[0] https://review.opendev.org/677290

Change-Id: Id062f61b82242220e0105d3ef4c7ff53efceb587
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/682639/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,f0c1c623063bf1759d5b486a0dfc418b87ca9e2b,update-gentoo, GENTOO_PROFILE: 'default/linux/amd64/17.1/systemd', GENTOO_PROFILE: 'default/linux/amd64/17.0/systemd',1,1
openstack%2Fkolla-ansible~master~I084b5cf05a786bde76cbf82381ba5f69cd5bce19,openstack/kolla-ansible,master,I084b5cf05a786bde76cbf82381ba5f69cd5bce19,[designate] Fix admin api configuration,MERGED,2019-09-15 22:04:45.000000000,2019-09-18 17:44:28.000000000,2019-09-17 17:45:08.000000000,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-15 22:04:45.000000000', 'files': ['ansible/roles/designate/templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d066971f23b452af0f44c4e10886d551abd5185', 'message': '[designate] Fix admin api configuration\n\nThe admin api was never actually enabled,\nand the admin extensions were added to the wrong\nextension namespace.\n\nChange-Id: I084b5cf05a786bde76cbf82381ba5f69cd5bce19\n'}]",0,682254,7d066971f23b452af0f44c4e10886d551abd5185,16,6,1,22623,,,0,"[designate] Fix admin api configuration

The admin api was never actually enabled,
and the admin extensions were added to the wrong
extension namespace.

Change-Id: I084b5cf05a786bde76cbf82381ba5f69cd5bce19
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/682254/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/designate/templates/designate.conf.j2'],1,7d066971f23b452af0f44c4e10886d551abd5185,fix_api,"enable_api_admin = Trueenabled_extensions_admin = quotas, reports","enabled_extensions_v2 = 'quotas, reports'",2,1
openstack%2Fnetworking-ovn~master~I8b99a3481b4460ae32f2258dcf4190db9a8fed89,openstack/networking-ovn,master,I8b99a3481b4460ae32f2258dcf4190db9a8fed89,DevStack: Use OVN from ovn-org/ovn (the new OVN repository),MERGED,2019-07-29 09:05:26.000000000,2019-09-18 17:42:14.000000000,2019-09-18 17:38:18.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-29 09:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c6721e92f618ca6e344c2e64658d7c89215b6c7f', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch.\n\nThe patch includes new functions based on the ""compile_ovs"" one changing\nit to OVN.\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master, which will be the 2.12\nversion).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-07-29 09:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9a7729cf43cd88e31bfdabebb178adc7dbbed484', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch.\n\nThe patch includes new functions based on the ""compile_ovs"" one changing\nit to OVN.\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master, which will be the 2.12\nversion).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-07-29 12:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5995f0df2905d4f5aeeae27739d23fa5b9574979', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2019-07-29 12:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e20ae3ca2e69692fd2f879be330496d10b03344c', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2019-07-29 13:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/baefa23dc70e7d7a60dd27511f6986c4e7826704', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2019-07-29 15:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/139839e3d30a7a66c5f2fba7b70b4ee6e88b5b56', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2019-08-14 13:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/abfea3d28258da480bdb2cd294547e8001325bf1', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2019-09-09 12:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/53dfa11bc88fe3e91486d00acf05bd8cd087c8c4', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2019-09-09 14:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/834f992d15cdf58a4a5b5b37f5d99cce67f15b67', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2019-09-12 18:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/823209ea3037cfc445f666ad6ac435a99765b6ce', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2019-09-12 18:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ff08a349a4a59d928aeb5dbfbc0e9a6c6295a030', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 12, 'created': '2019-09-12 18:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0e9f73fdf9b202e2764d8297ceee241d5e59ac46', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 13, 'created': '2019-09-12 18:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9dad929389483a5fa2365ffc680199ead6608ff4', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 14, 'created': '2019-09-13 12:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f9a9b98d234f6f13f0f5e5c5a8c1f833ef189d55', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nWhen building the kernel modules and/or using the ""ovs"" python library\nfrom source is enabled, they will be compiled from the OVS repository,\nnot from the new OVN one (although the new OVN repository has an ovs/\nand python/ submodule, it will be later deleted. This patch is one step\nahead for when it happens).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 15, 'created': '2019-09-13 14:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6fc452b943d1309677ef5ef00a2cc1ac99000664', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 16, 'created': '2019-09-16 12:34:16.000000000', 'files': ['devstack/devstackgaterc', 'devstack/lib/ovn', 'devstack/lib/networking-ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0337b2e582fa96c8937794bc5a72ec744e979ad1', 'message': 'DevStack: Use OVN from ovn-org/ovn (the new OVN repository)\n\nThis patch is modifying the DevStack scripts to use the new OVN\nrepository for our jobs targeting the master branch (or >= 2.12, when\nit\'s released).\n\nIf the OVN_BRANCH is set to stable branches the code will fallback to\nusing the ""compile_ovs"" function like before (since those branches does\nnot exist in the new OVN repository, only master and >= 2.12 when\nreleased).\n\nChange-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",39,673236,0337b2e582fa96c8937794bc5a72ec744e979ad1,56,7,16,6773,,,0,"DevStack: Use OVN from ovn-org/ovn (the new OVN repository)

This patch is modifying the DevStack scripts to use the new OVN
repository for our jobs targeting the master branch (or >= 2.12, when
it's released).

If the OVN_BRANCH is set to stable branches the code will fallback to
using the ""compile_ovs"" function like before (since those branches does
not exist in the new OVN repository, only master and >= 2.12 when
released).

Change-Id: I8b99a3481b4460ae32f2258dcf4190db9a8fed89
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/36/673236/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/networking-ovn'],1,c6721e92f618ca6e344c2e64658d7c89215b6c7f,ovn-org,"# Set variables for building OVN from source OVN_REPO=${OVN_REPO:-https://github.com/ovn-org/ovn}OVN_BRANCH=${OVN_BRANCH:-master} # Set variables for building OVS from source OVS_REPO=${OVS_REPO:-https://github.com/openvswitch/ovs.git} OVS_REPO_NAME=$(basename ${OVS_REPO} | cut -f1 -d'.') OVS_BRANCH=$OVN_BRANCH local ovn_path if [ ""$OVN_BRANCH"" == ""master"" ] ; then ovn_path=${1:-$DEST/$OVN_REPO_NAME} else ovn_path=${1:-$DEST/$OVS_REPO_NAME} fi cd $ovn_pathfunction _reload_ovs_kernel_modules { local ovs_system=$(sudo ovs-dpctl dump-dps | grep ovs-system) if [ -n ""$ovs_system"" ]; then sudo ovs-dpctl del-dp ovs-system fi sudo modprobe -r vport_geneve sudo modprobe -r openvswitch sudo modprobe openvswitch || (dmesg && die $LINENO ""FAILED TO LOAD openvswitch"") sudo modprobe vport-geneve || (echo ""FAILED TO LOAD vport-geneve"" && dmesg) } # _prepare_for_ovn_compilation() - Fetch the ovn git repository and install # packages needed for compilation. function _prepare_for_ovn_compilation { local build_modules=${1:-True} OVN_DIR=$DEST/$OVN_REPO_NAME if [ ! -d $OVN_DIR ] ; then # We can't use git_clone here because we want to ignore ERROR_ON_CLONE git_timed clone $OVN_REPO $OVN_DIR cd $OVN_DIR git checkout $OVN_BRANCH else # Even though the directory already exists, call git_clone to update it # if needed based on the RECLONE option git_clone $OVN_REPO $OVN_DIR $OVN_BRANCH cd $OVN_DIR fi # TODO: Can you create package list files like you can inside devstack? install_package autoconf automake libtool gcc patch make # If build_modules is False, we don't need to install the kernel-* # packages. Just return. if [[ ""$build_modules"" == ""False"" ]]; then return fi KERNEL_VERSION=`uname -r` if is_fedora ; then # is_fedora covers Fedora, RHEL, CentOS, etc... if [[ ""$os_VENDOR"" == ""Fedora"" ]]; then install_package elfutils-libelf-devel KERNEL_VERSION=`echo $KERNEL_VERSION | cut --delimiter='-' --field 1` elif [[ ${KERNEL_VERSION:0:2} != ""3."" ]]; then # dash is illegal character in rpm version so replace # them with underscore like it is done in the kernel # https://github.com/torvalds/linux/blob/master/scripts/package/mkspec#L25 # but only for latest series of the kernel, not 3.x KERNEL_VERSION=`echo $KERNEL_VERSION | tr - _` fi echo NOTE: if kernel-devel-$KERNEL_VERSION or kernel-headers-$KERNEL_VERSION installation echo failed, please, provide a repository with the package, or yum update / reboot echo your machine to get the latest kernel. install_package kernel-devel-$KERNEL_VERSION install_package kernel-headers-$KERNEL_VERSION elif is_ubuntu ; then install_package linux-headers-$KERNEL_VERSION fi } # compile_ovn() - Compile OVN from source and load needed modules function compile_ovn { local _pwd=$PWD local build_modules=${1:-True} _prepare_for_ovn_compilation $build_modules if [ ! -f configure ] ; then ./boot.sh fi if [ ! -f config.status ] || [ configure -nt config.status ] ; then if [[ ""$build_modules"" == ""True"" ]]; then ./configure --with-linux=/lib/modules/$(uname -r)/build else ./configure fi fi make -j$[$(nproc) + 1] sudo make install if [[ ""$build_modules"" == ""True"" ]]; then sudo make INSTALL_MOD_DIR=kernel/net/openvswitch modules_install _reload_ovs_kernel_modules fi cd $_pwd } if [ ""$OVN_BRANCH"" == ""master"" ] ; then compile_ovn $OVN_BUILD_MODULES else compile_ovs $OVN_BUILD_MODULES fi sudo pip install -e $DEST/$OVN_REPO_NAME/python",# The git repo to use OVN_REPO=${OVN_REPO:-https://github.com/openvswitch/ovs.git}# The branch to use from $OVN_REPO OVN_BRANCH=${OVN_BRANCH:-master} # Set variables for building OVS from source OVS_REPO=$OVN_REPO OVS_REPO_NAME=$OVN_REPO_NAME OVS_BRANCH=$OVN_BRANCH local ovs_path=${1:-$DEST/$OVN_REPO_NAME} cd $ovs_path compile_ovs $OVN_BUILD_MODULES sudo pip install -e $DEST/$OVS_REPO_NAME/python,117,14
openstack%2Fneutron~master~I99e45b78a5b56601f02c9e3c09b621c4d3b67de3,openstack/neutron,master,I99e45b78a5b56601f02c9e3c09b621c4d3b67de3,doc: Remove stale references to external_network_bridge,MERGED,2019-09-17 13:20:38.000000000,2019-09-18 17:38:05.000000000,2019-09-18 17:31:24.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-17 13:20:38.000000000', 'files': ['doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option2-obs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1df7e4bc466a03aae6566354839fe2e1fde4aea2', 'message': 'doc: Remove stale references to external_network_bridge\n\nThis is a leftover of https://review.opendev.org/#/c/395568/ .\n\nCloses-Bug: #1844171\nChange-Id: I99e45b78a5b56601f02c9e3c09b621c4d3b67de3\n'}]",0,682645,1df7e4bc466a03aae6566354839fe2e1fde4aea2,12,7,1,6854,,,0,"doc: Remove stale references to external_network_bridge

This is a leftover of https://review.opendev.org/#/c/395568/ .

Closes-Bug: #1844171
Change-Id: I99e45b78a5b56601f02c9e3c09b621c4d3b67de3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/682645/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option2-obs.rst']",3,1df7e4bc466a03aae6566354839fe2e1fde4aea2,bug/1844171," * In the ``[DEFAULT]`` section, configure the Linux bridge interface driver:"," * In the ``[DEFAULT]`` section, configure the Linux bridge interface driver and external network bridge:",3,6
openstack%2Fnova~stable%2Fstein~I857ad7264f1a7ef1263d8a9d4eca491d6c8dce0f,openstack/nova,stable/stein,I857ad7264f1a7ef1263d8a9d4eca491d6c8dce0f,Fix rebuild of baremetal instance when vm_state is ERROR,MERGED,2019-09-08 14:57:46.000000000,2019-09-18 17:37:45.000000000,2019-09-18 17:31:19.000000000,"[{'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-08 14:57:46.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c21cbf296495b0604cc995d5d17ed164ae8562c5', 'message': 'Fix rebuild of baremetal instance when vm_state is ERROR\n\nNova allows rebuild of instance when vm_state is ERROR. [1]\n\nThe vm_state is restored to ACTIVE only after a successful build.\nThis means rebuilding a baremetal instance using the Ironic driver\nis impossible because wait_for_active fails if vm_state=ERROR is found.\n\nThis is a regression introduced in a previous change which added\nthe ability to delete an instance in spawning state. [2]\n\nThis present change will skip the abort installation logic\nif task_state is REBUILD_SPAWNING while preserving the previous logic.\n\n[1] https://bugs.launchpad.net/nova/+bug/1183946\n[2] https://bugs.launchpad.net/nova/+bug/1455000\n\nChange-Id: I857ad7264f1a7ef1263d8a9d4eca491d6c8dce0f\nCloses-bug: #1735009\n(cherry picked from commit 1819718e798fb904644391badc3beb40c181ac39)\n'}]",0,680869,c21cbf296495b0604cc995d5d17ed164ae8562c5,11,5,1,6873,,,0,"Fix rebuild of baremetal instance when vm_state is ERROR

Nova allows rebuild of instance when vm_state is ERROR. [1]

The vm_state is restored to ACTIVE only after a successful build.
This means rebuilding a baremetal instance using the Ironic driver
is impossible because wait_for_active fails if vm_state=ERROR is found.

This is a regression introduced in a previous change which added
the ability to delete an instance in spawning state. [2]

This present change will skip the abort installation logic
if task_state is REBUILD_SPAWNING while preserving the previous logic.

[1] https://bugs.launchpad.net/nova/+bug/1183946
[2] https://bugs.launchpad.net/nova/+bug/1455000

Change-Id: I857ad7264f1a7ef1263d8a9d4eca491d6c8dce0f
Closes-bug: #1735009
(cherry picked from commit 1819718e798fb904644391badc3beb40c181ac39)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/680869/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,c21cbf296495b0604cc995d5d17ed164ae8562c5,bug/1735009," def test__wait_for_active_from_error(self, fake_validate, fake_refresh): instance = fake_instance.fake_instance_obj(self.ctx, uuid=uuidutils.generate_uuid(), vm_state=vm_states.ERROR, task_state=task_states.REBUILD_SPAWNING) node = ironic_utils.get_test_node( provision_state=ironic_states.ACTIVE) fake_validate.return_value = node self.assertRaises(loopingcall.LoopingCallDone, self.driver._wait_for_active, instance) fake_validate.assert_called_once_with(instance) fake_refresh.assert_called_once_with() @mock.patch.object(objects.Instance, 'refresh') @mock.patch.object(ironic_driver.IronicDriver, '_validate_instance_and_node') self._wait_for_active_abort({'task_state': task_states.SPAWNING, 'vm_state': vm_states.ERROR})", self._wait_for_active_abort({'vm_state': vm_states.ERROR}),23,3
openstack%2Fnova~stable%2Fstein~I1b4efe8afb302d94c810389e124c5370cbe72ddf,openstack/nova,stable/stein,I1b4efe8afb302d94c810389e124c5370cbe72ddf,"Fix the server group ""policy"" field type in api-ref",MERGED,2019-05-30 13:55:36.000000000,2019-09-18 17:36:23.000000000,2019-09-18 17:30:55.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-30 13:55:36.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/5eb4e01a836810c0fea4f688018faa4ca71eba0e', 'message': 'Fix the server group ""policy"" field type in api-ref\n\nThe server group policy field added in v2.64 is a string but\nthe API reference says the parameter is an object.\n\nThis patch changes it from ""object"" to ""string"".\n\nChange-Id: I1b4efe8afb302d94c810389e124c5370cbe72ddf\nCloses-bug: #1830800\n(cherry picked from commit 961435453552569754cb7801c1e5c366dd9d16a8)\n'}]",0,662224,5eb4e01a836810c0fea4f688018faa4ca71eba0e,12,6,1,6873,,,0,"Fix the server group ""policy"" field type in api-ref

The server group policy field added in v2.64 is a string but
the API reference says the parameter is an object.

This patch changes it from ""object"" to ""string"".

Change-Id: I1b4efe8afb302d94c810389e124c5370cbe72ddf
Closes-bug: #1830800
(cherry picked from commit 961435453552569754cb7801c1e5c366dd9d16a8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/662224/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,5eb4e01a836810c0fea4f688018faa4ca71eba0e,bug/1830800, type: string, type: object,1,1
openstack%2Fneutron~master~Iff3d25a5701b96df9da75cf398fd19d29e5cfeda,openstack/neutron,master,Iff3d25a5701b96df9da75cf398fd19d29e5cfeda,Windows: Fix local adapter ipv6 check,MERGED,2019-09-13 11:54:37.000000000,2019-09-18 17:36:15.000000000,2019-09-18 17:30:49.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-13 11:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fedc7986fd7c177535b4634465d5e1a24117ccf5', 'message': ""Windows: Fix local adapter ipv6 check\n\nip_lib.IPDevice.device_has_ip doesn't include ipv6 addresses when\nchecking if a local adapter is configured to use a certain address.\n\nThis change fixes this issue, which will also allow using ipv6\ntunnel endpoints.\n\nChange-Id: Iff3d25a5701b96df9da75cf398fd19d29e5cfeda\nCloses-Bug: #1843889\n""}, {'number': 2, 'created': '2019-09-13 12:00:16.000000000', 'files': ['neutron/agent/windows/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/484446984295d3122ead42e93288222d8b4e3ccb', 'message': ""Windows: Fix local adapter ipv6 check\n\nip_lib.IPDevice.device_has_ip doesn't include ipv6 addresses when\nchecking if a local adapter is configured to use a certain address.\n\nThis change fixes this issue, which will also allow using ipv6\ntunnel endpoints.\n\nCo-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>\nChange-Id: Iff3d25a5701b96df9da75cf398fd19d29e5cfeda\nCloses-Bug: #1843889\n""}]",0,682031,484446984295d3122ead42e93288222d8b4e3ccb,18,8,2,8543,,,0,"Windows: Fix local adapter ipv6 check

ip_lib.IPDevice.device_has_ip doesn't include ipv6 addresses when
checking if a local adapter is configured to use a certain address.

This change fixes this issue, which will also allow using ipv6
tunnel endpoints.

Co-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>
Change-Id: Iff3d25a5701b96df9da75cf398fd19d29e5cfeda
Closes-Bug: #1843889
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/682031/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/windows/ip_lib.py'],1,fedc7986fd7c177535b4634465d5e1a24117ccf5,bug/1843889," device_addresses.get(netifaces.AF_INET, []) + device_addresses.get(netifaces.AF_INET6, [])]"," device_addresses.get(netifaces.AF_INET, [])]",2,1
openstack%2Fproject-config~master~I9bbe2969491fde27f51fe6bbb330f05fc60b10f0,openstack/project-config,master,I9bbe2969491fde27f51fe6bbb330f05fc60b10f0,Switch project-config to promote jobs [6]: Remove publish-openstack-specs,MERGED,2019-09-14 15:56:11.000000000,2019-09-18 17:31:28.000000000,2019-09-18 17:31:27.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 15:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/54d5f48c9fd64c11deea6531d7bd08143f39ecd2', 'message': 'Switch project-config to promote jobs [6]: Remove publish-openstack-specs\n\nRemove now obsolete publish-openstack-specs job.\n\nDepends-On: https://review.opendev.org/682215\nChange-Id: I9bbe2969491fde27f51fe6bbb330f05fc60b10f0\n'}, {'number': 2, 'created': '2019-09-14 16:02:43.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aaed75939847650920a8119d7b5feadc0ba891ca', 'message': 'Switch project-config to promote jobs [6]: Remove publish-openstack-specs\n\nRemove now obsolete publish-openstack-specs job.\n\nDepends-On: https://review.opendev.org/682215\nChange-Id: I9bbe2969491fde27f51fe6bbb330f05fc60b10f0\n'}]",0,682216,aaed75939847650920a8119d7b5feadc0ba891ca,12,4,2,6547,,,0,"Switch project-config to promote jobs [6]: Remove publish-openstack-specs

Remove now obsolete publish-openstack-specs job.

Depends-On: https://review.opendev.org/682215
Change-Id: I9bbe2969491fde27f51fe6bbb330f05fc60b10f0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/682216/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,54d5f48c9fd64c11deea6531d7bd08143f39ecd2,promote-project-config,, name: publish-openstack-specs parent: publish-openstack-tox-docs-base description: | Publish OpenStack specs to static.openstack.org specs/{{ zuul.project.short_name }} final: true post-run: playbooks/publish/openstack-specs.yaml required-projects: - name: openstack/requirements roles: - zuul: zuul/zuul-jobs - zuul: openstack/openstack-zuul-jobs vars: tox_constraints_file: '{{ ansible_user_dir }}/src/opendev.org/openstack/requirements/upper-constraints.txt' secrets: - site_specs - job:,0,18
openstack%2Fnova~stable%2Fstein~I38b350bce908005161ed7c3eb737f32076828a37,openstack/nova,stable/stein,I38b350bce908005161ed7c3eb737f32076828a37,libvirt: stub logging of host capabilities,MERGED,2019-09-14 13:40:43.000000000,2019-09-18 17:31:10.000000000,2019-09-18 17:31:09.000000000,"[{'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-14 13:40:43.000000000', 'files': ['nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6b5e81df55394a87ec7c3e2fb75618506fffaa6', 'message': 'libvirt: stub logging of host capabilities\n\nBy default we capture the logging output stream at INFO level\nfor unit/functional tests and anything that hits the libvirt\nHost.get_capabilities method logs the giant xml host capabilities\nstring that is defined in the fakelibvirt module. This can cause\nsubunit parsing to fail because there is too much output in the\nbuffer.\n\nThis change simply stubs out that particular logging call in the\nFakeLibvirtFixture class which is used extensively in the more\ndetailed libvirt tests like LibvirtConnTestCase. If this turns out\nto not be good enough we can try stubbing at a more global level\nlike in the base nova TestCase.\n\nConflicts:\n      nova/virt/libvirt/host.py\n\nNOTE(mriedem): The conflict is due to not having change\nI06e1f7429c056c4ce8506b10359762e457dbb2a0 in Stein.\n\nChange-Id: I38b350bce908005161ed7c3eb737f32076828a37\nRelated-Bug: #1813147\n(cherry picked from commit 2973faa07063d2112ef7459ab07cc07e20d74610)\n'}]",0,682210,d6b5e81df55394a87ec7c3e2fb75618506fffaa6,10,6,1,6873,,,0,"libvirt: stub logging of host capabilities

By default we capture the logging output stream at INFO level
for unit/functional tests and anything that hits the libvirt
Host.get_capabilities method logs the giant xml host capabilities
string that is defined in the fakelibvirt module. This can cause
subunit parsing to fail because there is too much output in the
buffer.

This change simply stubs out that particular logging call in the
FakeLibvirtFixture class which is used extensively in the more
detailed libvirt tests like LibvirtConnTestCase. If this turns out
to not be good enough we can try stubbing at a more global level
like in the base nova TestCase.

Conflicts:
      nova/virt/libvirt/host.py

NOTE(mriedem): The conflict is due to not having change
I06e1f7429c056c4ce8506b10359762e457dbb2a0 in Stein.

Change-Id: I38b350bce908005161ed7c3eb737f32076828a37
Related-Bug: #1813147
(cherry picked from commit 2973faa07063d2112ef7459ab07cc07e20d74610)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/682210/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",2,d6b5e81df55394a87ec7c3e2fb75618506fffaa6,bug/1813147, # Stub out _log_host_capabilities since it logs a giant string at INFO # and we don't want that to blow up the subunit parser in test runs. self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.host.Host._log_host_capabilities')) ,,13,1
openstack%2Fnova~stable%2Fstein~I6fd8534473465461effc784a1eaa51c7a6da2b12,openstack/nova,stable/stein,I6fd8534473465461effc784a1eaa51c7a6da2b12,Fixing broken links,MERGED,2019-09-11 08:17:52.000000000,2019-09-18 17:31:02.000000000,2019-09-18 17:31:02.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-11 08:17:52.000000000', 'files': ['doc/source/admin/configuration/hypervisor-xen-libvirt.rst', 'doc/source/admin/networking-nova.rst', 'doc/source/admin/configuration/iscsi-offload.rst', 'doc/source/admin/pci-passthrough.rst', 'doc/source/admin/configuration/hypervisor-xen-api.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2b88839c4d639318abff86c5b5c6c9067c62801', 'message': 'Fixing broken links\n\nbackport: stein rocky\n\nChange-Id: I6fd8534473465461effc784a1eaa51c7a6da2b12\n(cherry picked from commit 3a99f8a45f533c0c197a61e74d1802d27a3906a6)\n'}]",0,681401,c2b88839c4d639318abff86c5b5c6c9067c62801,9,5,1,10607,,,0,"Fixing broken links

backport: stein rocky

Change-Id: I6fd8534473465461effc784a1eaa51c7a6da2b12
(cherry picked from commit 3a99f8a45f533c0c197a61e74d1802d27a3906a6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/681401/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/hypervisor-xen-libvirt.rst', 'doc/source/admin/networking-nova.rst', 'doc/source/admin/configuration/iscsi-offload.rst', 'doc/source/admin/pci-passthrough.rst', 'doc/source/admin/configuration/hypervisor-xen-api.rst']",5,c2b88839c4d639318abff86c5b5c6c9067c62801,fix-url-404-stable/stein,"Object Model Overview <https://xapi-project.github.io/xen-api/overview.html>`_ for definitions of XAPI specific terms such as SR, VDI, VIF and PIF.","Object Model Overview <http://docs.vmd.citrix.com/XenServer/ 6.2.0/1.0/en_gb/sdk.html#object_model_overview>`_ for definitions of XAPI specific terms such as SR, VDI, VIF and PIF.",7,8
openstack%2Fopenstacksdk~master~Ia4240db1aacd658c3ad42eca2391fec880b4efd9,openstack/openstacksdk,master,Ia4240db1aacd658c3ad42eca2391fec880b4efd9,baremetal-introspection: add manage_boot argument to start_introspection,MERGED,2019-09-10 11:35:45.000000000,2019-09-18 17:26:30.000000000,2019-09-18 17:24:35.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-10 11:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/90ad94cd224ed563f8153cd85232cf341b483fdf', 'message': 'baremetal_introspection: add manage_boot argument to start_introspection\n\nChange-Id: Ia4240db1aacd658c3ad42eca2391fec880b4efd9\n'}, {'number': 2, 'created': '2019-09-10 12:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0a9b41cdcac210208b5ca49e977a4ddfdfba2c6e', 'message': '[WIP] baremetal-introspection: add manage_boot argument to start_introspection\n\nChange-Id: Ia4240db1aacd658c3ad42eca2391fec880b4efd9\n'}, {'number': 3, 'created': '2019-09-10 12:29:11.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/tests/unit/baremetal_introspection/v1/test_proxy.py', 'openstack/tests/unit/test_resource.py', 'openstack/resource.py', 'openstack/baremetal_introspection/v1/_proxy.py', 'openstack/tests/unit/test_proxy_base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bf4a9c1e127eacca760558cd55ef7abd484c7ed6', 'message': 'baremetal-introspection: add manage_boot argument to start_introspection\n\nChange-Id: Ia4240db1aacd658c3ad42eca2391fec880b4efd9\n'}]",0,681225,bf4a9c1e127eacca760558cd55ef7abd484c7ed6,19,5,3,10239,,,0,"baremetal-introspection: add manage_boot argument to start_introspection

Change-Id: Ia4240db1aacd658c3ad42eca2391fec880b4efd9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/25/681225/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal_introspection/v1/test_proxy.py', 'openstack/baremetal_introspection/v1/_proxy.py', 'openstack/baremetal_introspection/v1/introspection.py']",3,90ad94cd224ed563f8153cd85232cf341b483fdf,introspection-manage-boot, #: Whether to manage boot settings (creation only). manage_boot = resource.URI('manage_boot'),,14,2
openstack%2Fkayobe~stable%2Fqueens~I15529398aef5e21049182b0edc11816876331113,openstack/kayobe,stable/queens,I15529398aef5e21049182b0edc11816876331113,Allocate IPs separately from configuring network,MERGED,2019-08-29 14:26:13.000000000,2019-09-18 17:24:40.000000000,2019-09-18 17:24:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-08-29 14:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/09b0ca867c1c299723f276ada1b12f22b731bc80', 'message': 'Allocate IPs separately from configuring network\n\nWhen running one of the `kayobe <seed|seed hypervisor|overcloud> host\nconfigure` commands, in some cases an IP address that is allocated by\nthe ip-allocation.yml playbook fails to be picked up by the network.yml\nplaybook, which uses the address 0.0.0.0 instead.\n\nRunning ip-allocation.yml separately ensures that the correct IP is used\nby network.yml.\n\nChange-Id: I15529398aef5e21049182b0edc11816876331113\nStory: 2004800\nTask: 28953\n(cherry picked from commit 599b045636dcca7b0fb61f0b40dd9853f62716a9)\n'}, {'number': 2, 'created': '2019-08-29 20:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f7e97fa69647cc64c51874b507543bb8a39a3a8e', 'message': 'Allocate IPs separately from configuring network\n\nWhen running one of the `kayobe <seed|seed hypervisor|overcloud> host\nconfigure` commands, in some cases an IP address that is allocated by\nthe ip-allocation.yml playbook fails to be picked up by the network.yml\nplaybook, which uses the address 0.0.0.0 instead.\n\nRunning ip-allocation.yml separately ensures that the correct IP is used\nby network.yml.\n\nChange-Id: I15529398aef5e21049182b0edc11816876331113\nStory: 2004800\nTask: 28953\n(cherry picked from commit 599b045636dcca7b0fb61f0b40dd9853f62716a9)\n'}, {'number': 3, 'created': '2019-08-30 06:49:39.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/62f755d23001cb5de1dc26dd03758801ea47dfdc', 'message': 'Allocate IPs separately from configuring network\n\nWhen running one of the `kayobe <seed|seed hypervisor|overcloud> host\nconfigure` commands, in some cases an IP address that is allocated by\nthe ip-allocation.yml playbook fails to be picked up by the network.yml\nplaybook, which uses the address 0.0.0.0 instead.\n\nRunning ip-allocation.yml separately ensures that the correct IP is used\nby network.yml.\n\nChange-Id: I15529398aef5e21049182b0edc11816876331113\nStory: 2004800\nTask: 28953\n(cherry picked from commit 599b045636dcca7b0fb61f0b40dd9853f62716a9)\n'}]",0,679269,62f755d23001cb5de1dc26dd03758801ea47dfdc,14,4,3,15197,,,0,"Allocate IPs separately from configuring network

When running one of the `kayobe <seed|seed hypervisor|overcloud> host
configure` commands, in some cases an IP address that is allocated by
the ip-allocation.yml playbook fails to be picked up by the network.yml
playbook, which uses the address 0.0.0.0 instead.

Running ip-allocation.yml separately ensures that the correct IP is used
by network.yml.

Change-Id: I15529398aef5e21049182b0edc11816876331113
Story: 2004800
Task: 28953
(cherry picked from commit 599b045636dcca7b0fb61f0b40dd9853f62716a9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/679269/2 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py']",2,09b0ca867c1c299723f276ada1b12f22b731bc80,story/2004800-stable/queens," # Allocate IP addresses. playbooks = _build_playbook_list(""ip-allocation"") self.run_kayobe_playbooks(parsed_args, playbooks, limit=""seed-hypervisor"") ""ssh-known-host"", ""kayobe-ansible-user"", ""pip"", ""kayobe-target-venv"", ""users"", ""yum"", ""dev-tools"", ""network"", ""sysctl"", ""ntp"", ""seed-hypervisor-libvirt-host"") # Allocate IP addresses. playbooks = _build_playbook_list(""ip-allocation"") self.run_kayobe_playbooks(parsed_args, playbooks, limit=""seed"") ""ssh-known-host"", ""kayobe-ansible-user"", # Allocate IP addresses. playbooks = _build_playbook_list(""ip-allocation"") self.run_kayobe_playbooks(parsed_args, playbooks, limit=""overcloud"") ""ssh-known-host"", ""kayobe-ansible-user"","," ""ip-allocation"", ""ssh-known-host"", ""kayobe-ansible-user"", ""pip"", ""kayobe-target-venv"", ""users"", ""yum"", ""dev-tools"", ""network"", ""sysctl"", ""ntp"", ""seed-hypervisor-libvirt-host"") ""ip-allocation"", ""ssh-known-host"", ""kayobe-ansible-user"", ""ip-allocation"", ""ssh-known-host"", ""kayobe-ansible-user"",",34,8
openstack%2Foctavia~master~I932ad625595333e97b0ead074ce64a7341af338d,openstack/octavia,master,I932ad625595333e97b0ead074ce64a7341af338d,Work around strptime threading issue,MERGED,2019-08-10 02:44:29.000000000,2019-09-18 17:16:38.000000000,2019-09-18 08:59:36.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-10 02:44:29.000000000', 'files': ['octavia/common/base_taskflow.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0720397d5c47e2af33dbe9fdf8f25b95ce620106', 'message': 'Work around strptime threading issue\n\nThere is an open bug[1] in python strptime when used in multi-threaded\napplications. We have seen this occur in the Octavia test jobs[2].\nThis patch works around the bug by loading strptime early.\n\n[1] https://bugs.python.org/issue7980\n[2] https://logs.opendev.org/37/673337/12/check/ \\\n    octavia-v2-act-stdby-iptables-dsvm-py2-scenario/440c965/controller/logs \\\n    /screen-o-cw.txt.gz?level=ERROR#_Aug_09_23_54_29_426364\n\nChange-Id: I932ad625595333e97b0ead074ce64a7341af338d\n'}]",1,675717,0720397d5c47e2af33dbe9fdf8f25b95ce620106,10,4,1,11628,,,0,"Work around strptime threading issue

There is an open bug[1] in python strptime when used in multi-threaded
applications. We have seen this occur in the Octavia test jobs[2].
This patch works around the bug by loading strptime early.

[1] https://bugs.python.org/issue7980
[2] https://logs.opendev.org/37/673337/12/check/ \
    octavia-v2-act-stdby-iptables-dsvm-py2-scenario/440c965/controller/logs \
    /screen-o-cw.txt.gz?level=ERROR#_Aug_09_23_54_29_426364

Change-Id: I932ad625595333e97b0ead074ce64a7341af338d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/17/675717/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/base_taskflow.py'],1,0720397d5c47e2af33dbe9fdf8f25b95ce620106,,"import datetime # work around for https://bugs.python.org/issue7980 datetime.datetime.strptime('2014-06-19 22:47:16', '%Y-%m-%d %H:%M:%S')",,3,0
openstack%2Fkolla-ansible~master~Ia0f8b73bcbda6295319f5c8de1aa02a40844207b,openstack/kolla-ansible,master,Ia0f8b73bcbda6295319f5c8de1aa02a40844207b,Build pdf doc,MERGED,2019-09-17 10:54:39.000000000,2019-09-18 17:12:17.000000000,2019-09-18 17:11:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-17 10:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae48bd5c3b544213eb0a4806a4099781acabb702', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b\n'}, {'number': 2, 'created': '2019-09-17 10:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a7b3c8b169bce9b9d08aa03509b99cb7b241128', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b\n'}, {'number': 3, 'created': '2019-09-17 11:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64d7a0079776d0913a6a938e2699cc7c4f53930f', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b\n'}, {'number': 4, 'created': '2019-09-17 13:15:03.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef3abc455f3b133184d26330e3a7fe82d1c521ce', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b\n'}]",0,682611,ef3abc455f3b133184d26330e3a7fe82d1c521ce,13,4,4,14826,,,0,"Build pdf doc

The is one of community goals that each project should produce a
single PDF file. The pdf should be in the output of openstack-tox-docs
job.

TeX packages are required to build PDF locally, following is
recommended:

* inkscape
* texlive-latex-base
* texlive-latex-extra
* texlive-fonts-recommended

More about the goal:
https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html
https://etherpad.openstack.org/p/train-pdf-support-goal
https://etherpad.openstack.org/p/pdf-goal-train-common-problems

Change-Id: Ia0f8b73bcbda6295319f5c8de1aa02a40844207b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/682611/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",4,ae48bd5c3b544213eb0a4806a4099781acabb702,build-pdf-docs,[testenv:pdf-docs] basepython = python3 whitelist_externals = make deps = {[testenv:docs]deps} commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,12,1
openstack%2Fnetworking-ovn~stable%2Fstein~Ia89283c1f6569340a891b40c92405941cbda5800,openstack/networking-ovn,stable/stein,Ia89283c1f6569340a891b40c92405941cbda5800,Only notify nova of port status changes if configured,MERGED,2019-09-16 13:08:06.000000000,2019-09-18 17:10:12.000000000,2019-09-18 17:09:01.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-16 13:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d49a675edeaca089fbf926b62b418bec4bc4dc8b', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n'}, {'number': 2, 'created': '2019-09-16 19:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/328bdba40369027d027495b5314a9ce8831a02b1', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be set to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nPartial-Bug: 1843269\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n'}, {'number': 3, 'created': '2019-09-17 13:39:33.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a0d1babfd285c78e8c3e69d5e7e6e6c9d3cfb470', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be set to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nPartial-Bug: 1843269\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n(cherry picked from commit e039fb1bcdf58d7fb26640089f8260abce7e3a71)\n'}]",1,682359,a0d1babfd285c78e8c3e69d5e7e6e6c9d3cfb470,18,6,3,5756,,,0,"Only notify nova of port status changes if configured

Although notify_nova_on_port_status_changes defaults to true, it
could be set to false, making the nova_notifier attribute unsafe to
use without checking. In fact, networking-ovn functional tests
inherit from the neutron base *unit* test which disables this
option.

This patch checks both the config option and that the attribute
exists, since the config could be changed after the plugin is
already initialized without the nova_notifier attribute being set.

Partial-Bug: 1843269
Change-Id: Ia89283c1f6569340a891b40c92405941cbda5800
(cherry picked from commit e039fb1bcdf58d7fb26640089f8260abce7e3a71)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/59/682359/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py']",2,d49a675edeaca089fbf926b62b418bec4bc4dc8b,," def _should_notify_nova(self, db_port): # NOTE(twilson) It is possible for a test to override a config option # after the plugin has been initialized so the nova_notifier attribute # is not set on the plugin return (cfg.CONF.notify_nova_on_port_status_changes and hasattr(self._plugin, 'nova_notifier') and db_port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX)) elif self._should_notify_nova(db_port): if self._should_notify_nova(db_port):", elif db_port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX): if db_port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX):,17,6
openstack%2Fnova-specs~master~I5fd1d68c89a85bf0edaca214677819f359f048d9,openstack/nova-specs,master,I5fd1d68c89a85bf0edaca214677819f359f048d9,Update spec: filtering of alloc candidates by forbidden aggregates,MERGED,2019-08-08 15:30:53.000000000,2019-09-18 16:36:24.000000000,2019-09-18 16:35:00.000000000,"[{'_account_id': 3085}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-08-08 15:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ff69a423f6a091cec4fb7c09a874d69ff7474e2e', 'message': ""Update spec: filtering of alloc candidates by forbidden aggregates\n\nThe spec is updated with the 's/forbidden/isolated/' for more appropriate\nnaming:\n* Placement pre-request filter renamed to 'isolate_aggregates'\n* A new config option renamed to 'enable_isolated_aggregate_filtering'\n\nChange-Id: I5fd1d68c89a85bf0edaca214677819f359f048d9\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 2, 'created': '2019-08-08 15:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/74865e998729322ef7d09444a70fe4221c055991', 'message': ""Update spec: filtering of alloc candidates by forbidden aggregates\n\nThe spec is updated with the 's/forbidden/isolated/' for more appropriate\nnaming:\n* Placement pre-request filter renamed to 'isolate_aggregates'\n* A new config option renamed to 'enable_isolated_aggregate_filtering'\n\nChange-Id: I5fd1d68c89a85bf0edaca214677819f359f048d9\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 3, 'created': '2019-09-18 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2ece35af2cc2635e10ccfdc83111a06f50884391', 'message': ""Update spec: filtering of alloc candidates by forbidden aggregates\n\nThe spec is updated with the 's/forbidden/isolated/' for more appropriate\nnaming:\n* Placement pre-request filter renamed to 'isolate_aggregates'\n* A new config option renamed to 'enable_isolated_aggregate_filtering'\n\nChange-Id: I5fd1d68c89a85bf0edaca214677819f359f048d9\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 4, 'created': '2019-09-18 16:01:59.000000000', 'files': ['specs/train/approved/placement-req-filter-forbidden-aggregates.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/96fb60cf47fbf89c9860df54f773799fd32a977f', 'message': ""Update spec: filtering of alloc candidates by forbidden aggregates\n\nThe spec is updated with the 's/forbidden/isolated/' for more appropriate\nnaming:\n* Placement pre-request filter renamed to 'isolate_aggregates'\n* A new config option renamed to 'enable_isolated_aggregate_filtering'\n\nChange-Id: I5fd1d68c89a85bf0edaca214677819f359f048d9\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}]",11,675384,96fb60cf47fbf89c9860df54f773799fd32a977f,23,11,4,27302,,,0,"Update spec: filtering of alloc candidates by forbidden aggregates

The spec is updated with the 's/forbidden/isolated/' for more appropriate
naming:
* Placement pre-request filter renamed to 'isolate_aggregates'
* A new config option renamed to 'enable_isolated_aggregate_filtering'

Change-Id: I5fd1d68c89a85bf0edaca214677819f359f048d9
Implements: blueprint placement-req-filter-forbidden-aggregates
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/84/675384/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/placement-req-filter-forbidden-aggregates.rst'],1,ff69a423f6a091cec4fb7c09a874d69ff7474e2e,bp/placement-req-filter-forbidden-aggregates,"Add a new placement request filter ``isolate_aggregates`` and a new config option of type boolean ``enable_isolated_aggregate_filtering``. Operator willinclude that aggregate as isolated aggregate in the ``member_of`` queryisolated aggregates, then the query parameter should be like:Example, how to enable ``isolate_aggregates`` placement request filter: enable_isolated_aggregate_filtering = True This ``isolate_aggregates`` placement request filter supersedes``isolate_aggregates`` placement request filter will marginally impact theA new config boolean option ``enable_isolated_aggregate_filtering`` will be enable_isolated_aggregate_filtering=False To enable `isolate_aggregates` request filter, operator should set this* Add a placement request filter ``isolate_aggregates``. * Modify ``resources_from_request_spec`` method to add isolated aggregates to `member_of` query parameter to pass isolated aggregates in formatpassing isolated aggregates in the `member_of` query parameter.Add documentation to explain how to use ``isolate_aggregates`` placement","Add a new placement request filter ``forbidden_aggregates`` and a new config option of type boolean ``enable_forbidden_aggregates_filter``. Operator willinclude that aggregate as forbidden aggregate in the ``member_of`` queryforbidden aggregates, then the query parameter should be like:Example, how to enable ``forbidden_aggregates`` placement request filter: enable_forbidden_aggregates_filter = True This ``forbidden_aggregates`` placement request filter supersedes``forbidden_aggregates`` placement request filter will marginally impact theA new config boolean option ``enable_forbidden_aggregates_filter`` will be enable_forbidden_aggregates_filter=False To enable `forbidden_aggregates` request filter, operator should set this* Add a placement request filter ``forbidden_aggregates``. * Modify ``resources_from_request_spec`` method to add forbidden aggregates to `member_of` query parameter to pass forbidden aggregates in formatpassing forbidden aggregates in the `member_of` query parameter.Add documentation to explain how to use ``forbidden_aggregates`` placement",16,16
openstack%2Fnova~stable%2Fstein~I4b6a7edeb59d447543498e68a0571696764010a3,openstack/nova,stable/stein,I4b6a7edeb59d447543498e68a0571696764010a3,Log notifications if assertion in _test_live_migration_force_complete fails,MERGED,2019-09-12 13:28:23.000000000,2019-09-18 16:32:57.000000000,2019-09-18 16:27:38.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-12 13:28:23.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a9efe1cbdbf92261e2cb905ac519ee07bacaa0c', 'message': ""Log notifications if assertion in _test_live_migration_force_complete fails\n\nI'm seeing this check intermittently fail with:\n\n  MismatchError: 6 != 7\n\nWhich is hard to debug without knowing what the other\nunexpected notification is, so if we fails this assertion\nlog the notifications that we got.\n\nChange-Id: I4b6a7edeb59d447543498e68a0571696764010a3\nRelated-Bug: #1823215\n(cherry picked from commit 78e04bbe2e0cdc197514770bf0d4be4b1f4f51b5)\n""}]",0,681743,8a9efe1cbdbf92261e2cb905ac519ee07bacaa0c,10,5,1,6873,,,0,"Log notifications if assertion in _test_live_migration_force_complete fails

I'm seeing this check intermittently fail with:

  MismatchError: 6 != 7

Which is hard to debug without knowing what the other
unexpected notification is, so if we fails this assertion
log the notifications that we got.

Change-Id: I4b6a7edeb59d447543498e68a0571696764010a3
Related-Bug: #1823215
(cherry picked from commit 78e04bbe2e0cdc197514770bf0d4be4b1f4f51b5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/681743/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,8a9efe1cbdbf92261e2cb905ac519ee07bacaa0c,bug/1843615," self.assertEqual(6, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS)"," self.assertEqual(6, len(fake_notifier.VERSIONED_NOTIFICATIONS))",2,1
openstack%2Fnova~stable%2Fstein~Ie5d2724e61052756dc7239f25b1fb6eb0df96378,openstack/nova,stable/stein,Ie5d2724e61052756dc7239f25b1fb6eb0df96378,neutron: refactor nw info cache refresh out of associate_floating_ip,MERGED,2019-09-13 22:24:33.000000000,2019-09-18 16:30:51.000000000,2019-09-18 16:27:14.000000000,"[{'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-13 22:24:33.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/faeb890f3698bc216be4e0079663dc15c2b24491', 'message': 'neutron: refactor nw info cache refresh out of associate_floating_ip\n\nThis is a simple refactor to associate_floating_ip which moves\nthe code that handles refreshing the network info cache on the\ninstance originally associated with the floating IP out of the\nmain associate_floating_ip method. This is mostly to make unit\ntesting of that refesh code simpler in isolation.\n\nChange-Id: Ie5d2724e61052756dc7239f25b1fb6eb0df96378\n(cherry picked from commit 5da92f05c843b85bccdc28e2de75c6770cbf7826)\n'}]",0,682181,faeb890f3698bc216be4e0079663dc15c2b24491,11,6,1,6873,,,0,"neutron: refactor nw info cache refresh out of associate_floating_ip

This is a simple refactor to associate_floating_ip which moves
the code that handles refreshing the network info cache on the
instance originally associated with the floating IP out of the
main associate_floating_ip method. This is mostly to make unit
testing of that refesh code simpler in isolation.

Change-Id: Ie5d2724e61052756dc7239f25b1fb6eb0df96378
(cherry picked from commit 5da92f05c843b85bccdc28e2de75c6770cbf7826)
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/682181/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,faeb890f3698bc216be4e0079663dc15c2b24491,bug/1826472," # If the floating IP was associated with another server, try to refresh # the cache for that instance to avoid a window of time where multiple # servers in the API say they are using the same floating IP. if fip['port_id']: # TODO(mriedem): Seems we should trap and log any errors from # _update_inst_info_cache_for_disassociated_fip but not let them # raise back up to the caller since this refresh is best effort. self._update_inst_info_cache_for_disassociated_fip( context, instance, client, fip) def _update_inst_info_cache_for_disassociated_fip(self, context, instance, client, fip): """"""Update the network info cache when a floating IP is re-assigned. :param context: nova auth RequestContext :param instance: The instance to which the floating IP is now assigned :param client: ClientWrapper instance for using the Neutron API :param fip: dict for the floating IP that was re-assigned where the the ``port_id`` value represents the port that was associated with another server. """""" port = self._show_port(context, fip['port_id'], neutron_client=client) orig_instance_uuid = port['device_id'] msg_dict = dict(address=fip['floating_ip_address'], instance_id=orig_instance_uuid) LOG.info('re-assign floating IP %(address)s from ' 'instance %(instance_id)s', msg_dict, instance=instance) orig_instance = objects.Instance.get_by_uuid(context, orig_instance_uuid) # purge cached nw info for the original instance base_api.update_instance_cache_with_nw_info(self, context, orig_instance)"," if fip['port_id']: port = self._show_port(context, fip['port_id'], neutron_client=client) orig_instance_uuid = port['device_id'] msg_dict = dict(address=floating_address, instance_id=orig_instance_uuid) LOG.info('re-assign floating IP %(address)s from ' 'instance %(instance_id)s', msg_dict, instance=instance) orig_instance = objects.Instance.get_by_uuid(context, orig_instance_uuid) # purge cached nw info for the original instance base_api.update_instance_cache_with_nw_info(self, context, orig_instance)",33,13
openstack%2Fproject-config~master~Id943aa038c5321074911d4678d25a1f41cd718df,openstack/project-config,master,Id943aa038c5321074911d4678d25a1f41cd718df,Symlink /opt/git to /opt/git/opendev.org,MERGED,2019-09-18 15:49:07.000000000,2019-09-18 16:30:14.000000000,2019-09-18 16:30:14.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 15:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/252b4523d0e85633467b59d0b263be6eaaafda1e', 'message': 'Symlink /opt/git to /opt/git/opendev.org\n\nThis will let us move the cached repo location to match what\nprepare-workspace-git expects.\n\nChange-Id: Id943aa038c5321074911d4678d25a1f41cd718df\n'}, {'number': 2, 'created': '2019-09-18 16:09:32.000000000', 'files': ['nodepool/elements/openstack-repos/install.d/50-symlink'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bfed3d564a194ef9706f7731a4a34ded7b67f57e', 'message': 'Symlink /opt/git to /opt/git/opendev.org\n\nThis will let us move the cached repo location to match what\nprepare-workspace-git expects.\n\nChange-Id: Id943aa038c5321074911d4678d25a1f41cd718df\n'}]",0,682934,bfed3d564a194ef9706f7731a4a34ded7b67f57e,11,4,2,1,,,0,"Symlink /opt/git to /opt/git/opendev.org

This will let us move the cached repo location to match what
prepare-workspace-git expects.

Change-Id: Id943aa038c5321074911d4678d25a1f41cd718df
",git fetch https://review.opendev.org/openstack/project-config refs/changes/34/682934/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/openstack-repos/install.d/50-symlink'],1,252b4523d0e85633467b59d0b263be6eaaafda1e,prepare-workspace-git,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. # Temporary link while we move the cached repo location. ln -s /opt/git /opt/git/opendev.org ",,18,0
openstack%2Fnova~stable%2Fstein~I71790afd0784d98050ccd7cc0e046321da249cbe,openstack/nova,stable/stein,I71790afd0784d98050ccd7cc0e046321da249cbe,Find instance in another cell during floating IP re-association,MERGED,2019-09-13 22:24:33.000000000,2019-09-18 16:27:30.000000000,2019-09-18 16:27:29.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-13 22:24:33.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4adf563da0d7d8421df074b51773e3d7c65ae4a7', 'message': ""Find instance in another cell during floating IP re-association\n\nWhen associating a floating IP to instance A but it was already\nassociated with instance B, we try to refresh the info cache on\ninstance B. The problem is the context is targeted to the cell\nfor instance A and instance B might be in another cell, so we'll\nget an InstanceNotFound error trying to lookup instance B.\n\nThis change tries to find the instance in another cell using its\ninstance mapping, and makes the code a bit more graceful if\ninstance B is deleted.\n\nConflicts:\n      devstack/nova-multi-cell-blacklist.txt\n\nNOTE(mriedem): The conflict is because the nova-multi-cell\njob does not exist in Stein.\n\nChange-Id: I71790afd0784d98050ccd7cc0e046321da249cbe\nCloses-Bug: #1826472\n(cherry picked from commit 481cb5ce04e220c26e5772f4253d63e212adca45)\n""}]",0,682183,4adf563da0d7d8421df074b51773e3d7c65ae4a7,15,7,1,6873,,,0,"Find instance in another cell during floating IP re-association

When associating a floating IP to instance A but it was already
associated with instance B, we try to refresh the info cache on
instance B. The problem is the context is targeted to the cell
for instance A and instance B might be in another cell, so we'll
get an InstanceNotFound error trying to lookup instance B.

This change tries to find the instance in another cell using its
instance mapping, and makes the code a bit more graceful if
instance B is deleted.

Conflicts:
      devstack/nova-multi-cell-blacklist.txt

NOTE(mriedem): The conflict is because the nova-multi-cell
job does not exist in Stein.

Change-Id: I71790afd0784d98050ccd7cc0e046321da249cbe
Closes-Bug: #1826472
(cherry picked from commit 481cb5ce04e220c26e5772f4253d63e212adca45)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/682183/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,4adf563da0d7d8421df074b51773e3d7c65ae4a7,bug/1826472," @mock.patch('nova.network.base_api.update_instance_cache_with_nw_info') def test_update_inst_info_cache_for_disassociated_fip_other_cell( self, mock_update_cache): """"""Tests a scenario where a floating IP is associated to an instance in another cell from the one in which it's currently associated and the network info cache on the original instance is refreshed. """""" ctxt = context.get_context() mock_client = mock.Mock() new_instance = fake_instance.fake_instance_obj(ctxt) cctxt = context.get_context() old_instance = fake_instance.fake_instance_obj(cctxt) fip = {'id': uuids.floating_ip_id, 'port_id': uuids.old_port_id, 'floating_ip_address': '172.24.5.15'} # Setup the mocks. with test.nested( mock.patch.object(self.api, '_show_port', return_value={ 'device_id': old_instance.uuid}), mock.patch.object(self.api, '_get_instance_by_uuid_using_api_db', return_value=old_instance) ) as ( _show_port, _get_instance_by_uuid_using_api_db ): # Run the code. self.api._update_inst_info_cache_for_disassociated_fip( ctxt, new_instance, mock_client, fip) # Assert the calls. _show_port.assert_called_once_with( ctxt, uuids.old_port_id, neutron_client=mock_client) _get_instance_by_uuid_using_api_db.assert_called_once_with( ctxt, old_instance.uuid) mock_update_cache.assert_called_once_with( self.api, cctxt, old_instance) @mock.patch('nova.network.neutronv2.api.LOG.info') @mock.patch('nova.network.base_api.update_instance_cache_with_nw_info') def test_update_inst_info_cache_for_disassociated_fip_inst_not_found( self, mock_update_cache, mock_log_info): """"""Tests the case that a floating IP is re-associated to an instance in another cell but the original instance cannot be found. """""" ctxt = context.get_context() mock_client = mock.Mock() new_instance = fake_instance.fake_instance_obj(ctxt) fip = {'id': uuids.floating_ip_id, 'port_id': uuids.old_port_id, 'floating_ip_address': '172.24.5.15'} # Setup the mocks. with test.nested( mock.patch.object(self.api, '_show_port', return_value={ 'device_id': uuids.original_inst_uuid}), mock.patch.object(self.api, '_get_instance_by_uuid_using_api_db', return_value=None) ) as ( _show_port, _get_instance_by_uuid_using_api_db ): # Run the code. self.api._update_inst_info_cache_for_disassociated_fip( ctxt, new_instance, mock_client, fip) # Assert the calls. _show_port.assert_called_once_with( ctxt, uuids.old_port_id, neutron_client=mock_client) _get_instance_by_uuid_using_api_db.assert_called_once_with( ctxt, uuids.original_inst_uuid) mock_update_cache.assert_not_called() self.assertEqual(2, mock_log_info.call_count) self.assertIn('If the instance still exists, its info cache may ' 'be healed automatically.', mock_log_info.call_args[0][0]) @mock.patch('nova.objects.Instance.get_by_uuid') @mock.patch('nova.objects.InstanceMapping.get_by_instance_uuid') def test_get_instance_by_uuid_using_api_db_current_cell( self, mock_get_map, mock_get_inst): """"""Tests that _get_instance_by_uuid_using_api_db finds the instance in the cell currently targeted by the context. """""" ctxt = context.get_context() instance = fake_instance.fake_instance_obj(ctxt) mock_get_inst.return_value = instance inst = self.api._get_instance_by_uuid_using_api_db(ctxt, instance.uuid) self.assertIs(inst, instance) mock_get_inst.assert_called_once_with(ctxt, instance.uuid) mock_get_map.assert_not_called() @mock.patch('nova.objects.Instance.get_by_uuid') @mock.patch('nova.objects.InstanceMapping.get_by_instance_uuid') def test_get_instance_by_uuid_using_api_db_other_cell( self, mock_get_map, mock_get_inst): """"""Tests that _get_instance_by_uuid_using_api_db finds the instance in another cell different from the currently targeted context. """""" ctxt = context.get_context() instance = fake_instance.fake_instance_obj(ctxt) mock_get_map.return_value = objects.InstanceMapping( cell_mapping=objects.CellMapping( uuid=uuids.cell_mapping_uuid, database_connection= self.cell_mappings['cell1'].database_connection, transport_url='none://fake')) # Mock get_by_uuid to not find the instance in the first call, but # do find it in the second. Target the instance context as well so # we can assert that we used a different context for the 2nd call. def stub_inst_get_by_uuid(_context, instance_uuid, *args, **kwargs): if not mock_get_map.called: # First call, raise InstanceNotFound. self.assertIs(_context, ctxt) raise exception.InstanceNotFound(instance_id=instance_uuid) # Else return the instance with a newly targeted context. self.assertIsNot(_context, ctxt) instance._context = _context return instance mock_get_inst.side_effect = stub_inst_get_by_uuid inst = self.api._get_instance_by_uuid_using_api_db(ctxt, instance.uuid) # The instance's internal context should still be targeted and not # the original context. self.assertIsNot(inst._context, ctxt) self.assertIsNotNone(inst._context.db_connection) mock_get_map.assert_called_once_with(ctxt, instance.uuid) mock_get_inst.assert_has_calls([ mock.call(ctxt, instance.uuid), mock.call(inst._context, instance.uuid)]) @mock.patch('nova.objects.Instance.get_by_uuid', side_effect=exception.InstanceNotFound(instance_id=uuids.inst)) @mock.patch('nova.objects.InstanceMapping.get_by_instance_uuid') def test_get_instance_by_uuid_using_api_db_other_cell_never_found( self, mock_get_map, mock_get_inst): """"""Tests that _get_instance_by_uuid_using_api_db does not find the instance in either the current cell or another cell. """""" ctxt = context.get_context() instance = fake_instance.fake_instance_obj(ctxt, uuid=uuids.inst) mock_get_map.return_value = objects.InstanceMapping( cell_mapping=objects.CellMapping( uuid=uuids.cell_mapping_uuid, database_connection= self.cell_mappings['cell1'].database_connection, transport_url='none://fake')) self.assertIsNone( self.api._get_instance_by_uuid_using_api_db(ctxt, instance.uuid)) mock_get_map.assert_called_once_with(ctxt, instance.uuid) mock_get_inst.assert_has_calls([ mock.call(ctxt, instance.uuid), mock.call(test.MatchType(context.RequestContext), instance.uuid)]) @mock.patch('nova.objects.Instance.get_by_uuid', side_effect=exception.InstanceNotFound(instance_id=uuids.inst)) @mock.patch('nova.objects.InstanceMapping.get_by_instance_uuid', side_effect=exception.InstanceMappingNotFound(uuid=uuids.inst)) def test_get_instance_by_uuid_using_api_db_other_cell_map_not_found( self, mock_get_map, mock_get_inst): """"""Tests that _get_instance_by_uuid_using_api_db does not find an instance mapping for the instance. """""" ctxt = context.get_context() instance = fake_instance.fake_instance_obj(ctxt, uuid=uuids.inst) self.assertIsNone( self.api._get_instance_by_uuid_using_api_db(ctxt, instance.uuid)) mock_get_inst.assert_called_once_with(ctxt, instance.uuid) mock_get_map.assert_called_once_with(ctxt, instance.uuid) ",,221,5
openstack%2Fnova~stable%2Fstein~Ib5a44e4fd2ec2bf43b761db29403810d8b730429,openstack/nova,stable/stein,Ib5a44e4fd2ec2bf43b761db29403810d8b730429,Trap and log errors from _update_inst_info_cache_for_disassociated_fip,MERGED,2019-09-13 22:24:33.000000000,2019-09-18 16:27:22.000000000,2019-09-18 16:27:22.000000000,"[{'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28743}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-13 22:24:33.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/38fc7f6f1602640b8e8c7b9cfa3e48766a5c5b95', 'message': 'Trap and log errors from _update_inst_info_cache_for_disassociated_fip\n\nWhen associating a floating IP to instance A and the floating IP is\nalready associated to instance B, the associate_floating_ip method\nupdates the floating IP to be associated with instance A then tries\nto update the network info cache for instance B. That network info\ncache update is best effort and could fail in different ways, e.g.\nthe original associated port or instance could be gone. Failing to\nrefresh the cache for instance B should not affect the association\noperation for instance A, so this change traps any errors during the\nrefresh and just logs them as a warning.\n\nChange-Id: Ib5a44e4fd2ec2bf43b761db29403810d8b730429\nRelated-Bug: #1826472\n(cherry picked from commit 9cbedea0bf5535fc45d78c80e6d7499512e4c5f5)\n'}]",0,682182,38fc7f6f1602640b8e8c7b9cfa3e48766a5c5b95,11,7,1,6873,,,0,"Trap and log errors from _update_inst_info_cache_for_disassociated_fip

When associating a floating IP to instance A and the floating IP is
already associated to instance B, the associate_floating_ip method
updates the floating IP to be associated with instance A then tries
to update the network info cache for instance B. That network info
cache update is best effort and could fail in different ways, e.g.
the original associated port or instance could be gone. Failing to
refresh the cache for instance B should not affect the association
operation for instance A, so this change traps any errors during the
refresh and just logs them as a warning.

Change-Id: Ib5a44e4fd2ec2bf43b761db29403810d8b730429
Related-Bug: #1826472
(cherry picked from commit 9cbedea0bf5535fc45d78c80e6d7499512e4c5f5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/682182/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,38fc7f6f1602640b8e8c7b9cfa3e48766a5c5b95,bug/1826472," @mock.patch('nova.network.neutronv2.api.get_client') @mock.patch('nova.network.neutronv2.api.LOG.warning') @mock.patch('nova.network.base_api.update_instance_cache_with_nw_info') def test_associate_floating_ip_refresh_error_trap(self, mock_update_cache, mock_log_warning, mock_get_client): """"""Tests that when _update_inst_info_cache_for_disassociated_fip raises an exception, associate_floating_ip traps and logs it but does not re-raise. """""" ctxt = context.get_context() instance = fake_instance.fake_instance_obj(ctxt) floating_addr = '172.24.5.15' fixed_addr = '10.1.0.9' fip = {'id': uuids.floating_ip_id, 'port_id': uuids.old_port_id} # Setup the mocks. with test.nested( mock.patch.object(self.api, '_get_port_id_by_fixed_address', return_value=uuids.new_port_id), mock.patch.object(self.api, '_get_floating_ip_by_address', return_value=fip), mock.patch.object(self.api, '_update_inst_info_cache_for_disassociated_fip', side_effect=exception.PortNotFound( port_id=uuids.old_port_id)) ) as ( _get_port_id_by_fixed_address, _get_floating_ip_by_address, _update_inst_info_cache_for_disassociated_fip ): # Run the code. self.api.associate_floating_ip( ctxt, instance, floating_addr, fixed_addr) # Assert the calls. mock_get_client.assert_called_once_with(ctxt) mock_client = mock_get_client.return_value _get_port_id_by_fixed_address.assert_called_once_with( mock_client, instance, fixed_addr) _get_floating_ip_by_address.assert_called_once_with( mock_client, floating_addr) mock_client.update_floatingip.assert_called_once_with( uuids.floating_ip_id, test.MatchType(dict)) _update_inst_info_cache_for_disassociated_fip.assert_called_once_with( ctxt, instance, mock_client, fip) mock_log_warning.assert_called_once() self.assertIn('An error occurred while trying to refresh the ' 'network info cache for an instance associated ' 'with port', mock_log_warning.call_args[0][0]) mock_update_cache.assert_called_once_with( # from @refresh_cache self.api, ctxt, instance, nw_info=None) ",,59,3
openstack%2Fkolla~master~Ic76ddeec52dc7ca4264457ad2c85ceeafeb450ae,openstack/kolla,master,Ic76ddeec52dc7ca4264457ad2c85ceeafeb450ae,Shift kolla_keystone classes from shade to openstack sdk,ABANDONED,2019-09-11 23:19:28.000000000,2019-09-18 16:22:31.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30810}]","[{'number': 1, 'created': '2019-09-11 23:19:28.000000000', 'files': ['docker/kolla-toolbox/kolla_keystone_service.py', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/kolla-toolbox/kolla_keystone_user.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bdca7ec7c7d7818ba9a76b4ec1d6ea50ef065044', 'message': 'Shift kolla_keystone classes from shade to openstack sdk\n\nCurrently kolla-toolbox/kolla_keystone_service.py and kolla-toolbox/kolla_keystone_user.py rely on shade to execute Keystone libraries instead of using open stack SDK. This limits our ability to leverage validate_certs parameter to allow self signed certificates when testing TLS enabled openstack deployment. This change removes shade from  kolla_keystone_service.py, and relies on the openstack sdk (like os_keystone_endpoint.py class in the ansible openstack library).\n\nChange-Id: Ic76ddeec52dc7ca4264457ad2c85ceeafeb450ae\nImplements: Shift to using openstack sdk in keystone modules\nCloses-Bug: #1843356\n'}]",3,681627,bdca7ec7c7d7818ba9a76b4ec1d6ea50ef065044,6,4,1,30810,,,0,"Shift kolla_keystone classes from shade to openstack sdk

Currently kolla-toolbox/kolla_keystone_service.py and kolla-toolbox/kolla_keystone_user.py rely on shade to execute Keystone libraries instead of using open stack SDK. This limits our ability to leverage validate_certs parameter to allow self signed certificates when testing TLS enabled openstack deployment. This change removes shade from  kolla_keystone_service.py, and relies on the openstack sdk (like os_keystone_endpoint.py class in the ansible openstack library).

Change-Id: Ic76ddeec52dc7ca4264457ad2c85ceeafeb450ae
Implements: Shift to using openstack sdk in keystone modules
Closes-Bug: #1843356
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/681627/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/kolla-toolbox/kolla_keystone_service.py', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/kolla-toolbox/kolla_keystone_user.py']",3,bdca7ec7c7d7818ba9a76b4ec1d6ea50ef065044,bug/1843356,"from ansible.module_utils.openstack import openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module import traceback module_kwargs = openstack_module_kwargs() module = AnsibleModule( argument_spec, supports_check_mode=True, **module_kwargs ) sdk, cloud = openstack_cloud_from_module(module) assignment = cloud.list_role_assignments(filters={'user': user, 'project': project, 'role': role}) project=project, wait=True) except sdk.exceptions.OpenStackCloudException:","import traceback import shade from ansible.module_utils.openstack import openstack_full_argument_spec module = AnsibleModule(argument_spec) cloud = shade.OperatorCloud(**module.params) role_assignments = cloud.keystone_client.role_assignments assignment = role_assignments.list(user=user, project=project, role=role) project=project) except Exception:",104,66
openstack%2Fopenstack-zuul-jobs~master~I3bb41238ebf84328049fd9fd5659594dcef69393,openstack/openstack-zuul-jobs,master,I3bb41238ebf84328049fd9fd5659594dcef69393,"Switch project-config to promote jobs [5]: Update specs, cleanup",MERGED,2019-09-14 15:53:58.000000000,2019-09-18 16:22:21.000000000,2019-09-18 16:17:55.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 15:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c40e5cfb5fcdbf12679561265947f31c2d4ca818', 'message': 'Switch project-config to promote jobs [5]: Update specs, cleanup\n\nThe file lists for the project-config build jobs for docs-index and\nspecs-site are now in project-config, so remove the duplicate here.\n\nSwitch publishing for specs sites to the new promote job.\n\nDepends-On: https://review.opendev.org/682214\nChange-Id: I3bb41238ebf84328049fd9fd5659594dcef69393\n'}, {'number': 2, 'created': '2019-09-14 15:56:39.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c5707bca3db12fde2a6b07fe8aa039c9bcd3dac7', 'message': 'Switch project-config to promote jobs [5]: Update specs, cleanup\n\nThe file lists for the project-config build jobs for docs-index and\nspecs-site are now in project-config, so remove the duplicate here.\n\nSwitch publishing for specs sites to the new promote job.\n\nNeeded-By: https://review.opendev.org/682216\nDepends-On: https://review.opendev.org/682214\nChange-Id: I3bb41238ebf84328049fd9fd5659594dcef69393\n'}]",0,682215,c5707bca3db12fde2a6b07fe8aa039c9bcd3dac7,16,4,2,6547,,,0,"Switch project-config to promote jobs [5]: Update specs, cleanup

The file lists for the project-config build jobs for docs-index and
specs-site are now in project-config, so remove the duplicate here.

Switch publishing for specs sites to the new promote job.

Needed-By: https://review.opendev.org/682216
Depends-On: https://review.opendev.org/682214
Change-Id: I3bb41238ebf84328049fd9fd5659594dcef69393
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/15/682215/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,c40e5cfb5fcdbf12679561265947f31c2d4ca818,promote-project-config,, files: - bindep.txt - specs/.* - other-requirements.txt - tox.ini files: - bindep.txt - docs-site/.* - other-requirements.txt - tox.ini,4,13
openstack%2Fpython-designateclient~master~I42fcff47ae1746a6b13e999da566a4e3832e54bc,openstack/python-designateclient,master,I42fcff47ae1746a6b13e999da566a4e3832e54bc,Use shallow copy for columns,ABANDONED,2019-09-18 03:33:32.000000000,2019-09-18 16:21:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-18 03:33:32.000000000', 'files': ['designateclient/v2/cli/recordsets.py', 'designateclient/v2/cli/service_statuses.py', 'designateclient/v2/cli/tlds.py', 'designateclient/v2/cli/reverse.py', 'designateclient/v2/cli/zones.py', 'designateclient/v2/cli/tsigkeys.py', 'designateclient/v2/cli/blacklists.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/66406fff55f7241cba0bca17082d9b448ecd894d', 'message': ""Use shallow copy for columns\n\nThis is a follow up patch for bug #1844028 to\nconsistently use shallow copy on columns,\nto help prevent duplicate field errors, and\nas it's better practice in general when\nbuilding columns.\n\nAs an example this fixes a bug with\n> openstack recordset list all\nThat would have generated the following error\nmessage if run twice in interactive mode:\n> Field names must be unique!\n\nChange-Id: I42fcff47ae1746a6b13e999da566a4e3832e54bc\n""}]",0,682782,66406fff55f7241cba0bca17082d9b448ecd894d,3,1,1,22623,,,0,"Use shallow copy for columns

This is a follow up patch for bug #1844028 to
consistently use shallow copy on columns,
to help prevent duplicate field errors, and
as it's better practice in general when
building columns.

As an example this fixes a bug with
> openstack recordset list all
That would have generated the following error
message if run twice in interactive mode:
> Field names must be unique!

Change-Id: I42fcff47ae1746a6b13e999da566a4e3832e54bc
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/82/682782/1 && git format-patch -1 --stdout FETCH_HEAD,"['designateclient/v2/cli/recordsets.py', 'designateclient/v2/cli/service_statuses.py', 'designateclient/v2/cli/tlds.py', 'designateclient/v2/cli/reverse.py', 'designateclient/v2/cli/zones.py', 'designateclient/v2/cli/tsigkeys.py', 'designateclient/v2/cli/blacklists.py']",7,66406fff55f7241cba0bca17082d9b448ecd894d,, cols = list(self.columns), cols = self.columns,10,10
openstack%2Ftripleo-ci~master~I25bdb810535e5f26161eb472a6b7cbc69115bd64,openstack/tripleo-ci,master,I25bdb810535e5f26161eb472a6b7cbc69115bd64,DNM: Test tripleo-ci-rhel-8-scenario004-standalone-rdo,ABANDONED,2019-09-18 16:10:51.000000000,2019-09-18 16:19:16.000000000,,[{'_account_id': 9592}],"[{'number': 1, 'created': '2019-09-18 16:10:51.000000000', 'files': ['.test'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/163fe99328269ca35544b8b337a505fdde0bc11c', 'message': 'DNM: Test tripleo-ci-rhel-8-scenario004-standalone-rdo\n\nDepends-On: https://review.opendev.org/#/c/682853/\nChange-Id: I25bdb810535e5f26161eb472a6b7cbc69115bd64\n'}]",0,682942,163fe99328269ca35544b8b337a505fdde0bc11c,2,1,1,24162,,,0,"DNM: Test tripleo-ci-rhel-8-scenario004-standalone-rdo

Depends-On: https://review.opendev.org/#/c/682853/
Change-Id: I25bdb810535e5f26161eb472a6b7cbc69115bd64
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/42/682942/1 && git format-patch -1 --stdout FETCH_HEAD,['.test'],1,163fe99328269ca35544b8b337a505fdde0bc11c,,,,0,0
openstack%2Fopenstack-helm-infra~master~Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140,openstack/openstack-helm-infra,master,Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140,[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts,MERGED,2019-03-26 16:54:17.000000000,2019-09-18 16:16:22.000000000,2019-09-18 16:15:14.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22713}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29268}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-03-26 16:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe4ba26a3d27922cdb4fde90574abe50455eedd6', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 2, 'created': '2019-03-26 17:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6bc85263aec9b98caea1461db0932d9e5f402643', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 3, 'created': '2019-03-26 17:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/45c259d7ffad2258b56cee6640672ba81e1fbb08', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 4, 'created': '2019-03-26 17:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e6687f27da3cb6b6ed78f039966b0551df4b242', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 5, 'created': '2019-03-26 17:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf67a6d66181de757bfc21e43f15c450728368ea', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 6, 'created': '2019-03-26 18:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e69eb6bd672fa2774fa87a41dad9df9adae7a63f', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 7, 'created': '2019-03-27 00:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/df6abd863273f93dc3e6c7b9230dec3791818b27', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 8, 'created': '2019-03-27 01:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d70f2ddc1fdb2120809590e7d4028cdd15429675', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 9, 'created': '2019-03-27 01:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/286dce92502ab3f881557650954dfd16007616ed', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 10, 'created': '2019-03-27 02:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/928ad1102638671308e951a47bf9c955679be4d0', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 11, 'created': '2019-03-27 02:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60ebf74de525e20924a292f8e39d30af8046f47a', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 12, 'created': '2019-03-27 17:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a6be05b407ade490d833602345bb9920d2d56da5', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 13, 'created': '2019-03-29 08:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b5a6978ead181df4f1cb435c731471b3b0df6040', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 14, 'created': '2019-03-29 14:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60b4a5ee7bc13d2a6457668283e0d34a4fb1216e', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 15, 'created': '2019-03-30 22:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57f47790442ba83d21849e69d499d39e47f69675', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 16, 'created': '2019-05-18 03:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dff8f8b90f274ff17f670b08d3feac8f10ced304', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 17, 'created': '2019-05-30 21:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7bca3b091fc08185611234cc7f6aeecfd574c53d', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 18, 'created': '2019-08-01 20:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb9a4f10ebf07ba3d862d30959bb244bad44721f', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 19, 'created': '2019-09-04 16:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5cbbca31996150d501599769167c8f1c9068dfcf', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 20, 'created': '2019-09-12 18:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7729367bd2b8658fd91e5aed730af64576d9e88e', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 21, 'created': '2019-09-17 15:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cfad4afce855533a4c4f7df5d61414c731535db9', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 22, 'created': '2019-09-18 12:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d27e161f5f57a5a16d205d51c590a9ccf66c8dd9', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 23, 'created': '2019-09-18 12:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ddb303fb4612dc6f61fbe9f151fd5fe3542e7fb', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}, {'number': 24, 'created': '2019-09-18 15:18:51.000000000', 'files': ['doc/source/index.rst', 'doc/source/upgrade/multiple-osd-releases.rst', 'doc/source/upgrade/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/494ce39624f66d715f383f2647b90f2d27f776ba', 'message': '[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts\n\nThis mop covers how to move single osd chart which is already installed\nto multiple ceph osd charts. This will give more flexibility to handle\nupgrade activites on ceph cluster .\n\nChange-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140\n'}]",23,647810,494ce39624f66d715f383f2647b90f2d27f776ba,66,10,24,28372,,,0,"[ceph-doc] move monolithic ceph-osd chart to multiple ceph-osd charts

This mop covers how to move single osd chart which is already installed
to multiple ceph osd charts. This will give more flexibility to handle
upgrade activites on ceph cluster .

Change-Id: Ib5f8c5c38df296e4783f2af43c6dc4e769fe4140
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/647810/24 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/multiple-osd-releases.rst'],1,fe4ba26a3d27922cdb4fde90574abe50455eedd6,,"================================================================ Ceph - upgrade monolithic ceph-osd chart to multiple ceph charts ================================================================ This document captures steps to move from installed monolithic ceph-osd chart to mutlitple ceph osd charts . this work will bring up some felxibility on site update as we will have more control on osds . Setup: ====== - Follow OSH single node or multinode guide to bring up OSH envronment. .. note:: we will have single ceph osd chart and here are override values for ceph disks osd: - data: type: block-logical location: /dev/vdb journal: type: block-logical location: /dev/vda1 - data: type: block-logical location: /dev/vdc journal: type: block-logical location: /dev/vda2 Step 1: Setup the OSH environment and check ceph cluster health ================================================================= .. note:: Make sure we have healthy ceph cluster running ``Ceph status:`` .. code-block:: console ubuntu@k8smaster:/opt/openstack-helm$ kubectl exec -n ceph ceph-mon-5qn68 -- ceph -s cluster: id: 61a4e07f-8b4a-4c47-8fc7-a0e7345ac0b0 health: HEALTH_OK services: mon: 3 daemons, quorum k8smaster,k8sslave1,k8sslave2 mgr: k8sslave2(active), standbys: k8sslave1 mds: cephfs-1/1/1 up {0=mds-ceph-mds-5bf9fdfc6b-8nq4p=up:active}, 1 up:standby osd: 6 osds: 6 up, 6 in data: pools: 18 pools, 186 pgs objects: 377 objects, 1.2 GiB usage: 4.2 GiB used, 116 GiB / 120 GiB avail pgs: 186 active+clean - Ceph cluster is in HEALTH_OK state with 3 MONs and 6 OSDs. .. note:: Make sure we have single ceph osd chart only ``Helm status:`` .. code-block:: console ubuntu@k8smaster:/opt/openstack-helm$ helm list | grep -i osd ceph-osd 1 Tue Mar 26 03:21:07 2019 DEPLOYED ceph-osd-vdb-0.1.0 ceph - single osd chart deployed sucessfully. Upgrade to multiple ceph osd charts: =================================== setup: ===== - create multiple ceph osd charts as per requirement .. note:: copy ceph-osd folder to multiple ceph osd charts in openstack-helm-infra folder .. code-block:: console ubuntu@k8smaster:/opt/openstack-helm-infra$ cp -r ceph-osd ceph-osd-vdb ubuntu@k8smaster:/opt/openstack-helm-infra$ cp -r ceph-osd ceph-osd-vdc .. note:: make sure to correct chart name in each osd chart folder created above, need to update it in Charts.yaml . - create script to install multiple ceph osd charts .. note:: create new installation script to refelct new ceph osd charts . .. code-block:: console ubuntu@k8smaster:/opt/openstack-helm$ cp ./tools/deployment/multinode/030-ceph.sh ./tools/deployment/multinode/030-ceph-osd-vdb.sh ubuntu@k8smaster:/opt/openstack-helm$ cp ./tools/deployment/multinode/030-ceph.sh ./tools/deployment/multinode/030-ceph-osd-vdc.sh .. note:: make sure you delete all other ceph charts from above scripts and have olny new ceph osd chart. and also have correct ovverrides as shown below for one chart. osd: - data: type: block-logical location: /dev/vdb journal: type: block-logical location: /dev/vda1 Scale down deployments using ceph pvc: ===================================== .. note:: we need to scale down all the applications who are using pvcs so that we will not have any writes on ceph rbds . .. code-block:: console ubuntu@k8smaster:/opt/openstack-helm$ sudo kubectl scale statefulsets -n osh-infra mariadb-server --replicas=0 - just gave one example but we need to do it for all the applications Setup ceph cluster parameters to prevent rebalance: ================================================== .. note:: we need to to set few parameters on ceph cluster to rebalance the ceph cluster during this process. .. code-block:: console ubuntu@k8smaster:/opt/openstack-helm$ kubectl exec -n ceph ceph-mon-5qn68 -- ceph osd set noout Delete single ceph-osd chart: ============================= .. note:: Now we can delete the single ceph chart we need to to set few parameters on ceph cluster to rebalance the ceph cluster during this process. .. code-block:: console ubuntu@k8smaster:/opt/openstack-helm$ helm delete --purge ceph-osd install new ceph charts : ======================== .. note:: Now we can install multiple ceph osd releases. .. code-block:: console ubuntu@k8smaster:/opt/openstack-helm$ ./tools/deployment/multinode/030-ceph-osd-vdb.sh ubuntu@k8smaster:/opt/openstack-helm$ ./tools/deployment/multinode/030-ceph-osd-vdc.sh ubuntu@k8smaster:/opt/openstack-helm# helm list | grep -i osd ceph-osd-vdb 1 Tue Mar 26 03:21:07 2019 DEPLOYED ceph-osd-vdb-0.1.0 ceph ceph-osd-vdc 1 Tue Mar 26 03:22:13 2019 DEPLOYED ceph-osd-vdc-0.1.0 ceph ",,162,0
openstack%2Fkolla~master~I7a8b22dacc0626561ea261fc198d5ce4912902e1,openstack/kolla,master,I7a8b22dacc0626561ea261fc198d5ce4912902e1,base: enable rabbitmq and elasticsearch repos for ppc64le,MERGED,2019-09-17 11:11:05.000000000,2019-09-18 16:06:38.000000000,2019-09-18 16:05:25.000000000,"[{'_account_id': 11929}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-17 11:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/222413fd28c97aa2fed237b8f69f6ed90b94b35d', 'message': ""base: enable rabbitmq and elasticsearch repos for ppc64le\n\nWe use the fact that 'rabbitmq-server' package is 'noarch' and reuse\nx86-64 repository for ppc64le architecture.\n\nPackage installs and runs.\n\nChange-Id: I7a8b22dacc0626561ea261fc198d5ce4912902e1\n""}, {'number': 2, 'created': '2019-09-18 12:09:05.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2241efb2eb61361c9291fd137250cb5e7719384d', 'message': ""base: enable rabbitmq and elasticsearch repos for ppc64le\n\nWe use the fact that 'rabbitmq-server' package is 'noarch' and reuse\nx86-64 repository for ppc64le architecture.\n\nPackage installs and runs.\n\nChange-Id: I7a8b22dacc0626561ea261fc198d5ce4912902e1\n""}]",5,682618,2241efb2eb61361c9291fd137250cb5e7719384d,21,7,2,24072,,,0,"base: enable rabbitmq and elasticsearch repos for ppc64le

We use the fact that 'rabbitmq-server' package is 'noarch' and reuse
x86-64 repository for ppc64le architecture.

Package installs and runs.

Change-Id: I7a8b22dacc0626561ea261fc198d5ce4912902e1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/18/682618/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,222413fd28c97aa2fed237b8f69f6ed90b94b35d,,"{% elif base_arch == 'ppc64le' %} {% set base_yum_repo_files = [ 'elasticsearch.repo', 'rabbitmq_rabbitmq-server.repo' ] %} {% set base_yum_repo_keys = [ 'https://artifacts.elastic.co/GPG-KEY-elasticsearch', 'https://packagecloud.io/gpg.key', ] %}# NOTE(hrw): 'rabbitmq-server' is 'noarch' so we can install it on ppc64le from # repo for other architecture. {% if base_arch == 'ppc64le' %} RUN sed -i -e 's/\$basearch/x86_64/g' /etc/yum.repos.d/rabbitmq_rabbitmq-server.repo {% endif %} ",,16,0
openstack%2Fnova~master~Ie8d0d7085ccd82a47ea27b98be75c1bc9ba6195b,openstack/nova,master,Ie8d0d7085ccd82a47ea27b98be75c1bc9ba6195b,Remove an unused file and a related description,MERGED,2019-09-13 01:41:45.000000000,2019-09-18 16:02:21.000000000,2019-09-18 16:00:17.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28614}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-13 01:41:45.000000000', 'files': ['etc/nova/placement-policy-generator.conf', 'test-requirements.txt', 'etc/nova/README-policy.yaml.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/338a0603d2072fc21a823766cfcfe8c429ea217c', 'message': ""Remove an unused file and a related description\n\nThe following file should have been removed\nin I4181f39dea7eb10b84e6f5057938767b3e422aff.\n\n* etc/nova/placement-policy-generator.conf\n\nA description of generating the placement policy.yaml file\nshould also have been removed in the commit.\nTherefore remove them.\n\nAnd the 'wsgi-intercept' package is used for OSAPIFixture and\nnot for placement functional tests currently.\nSo a comment is removed in test-requirements.txt.\n\nChange-Id: Ie8d0d7085ccd82a47ea27b98be75c1bc9ba6195b\n""}]",0,681955,338a0603d2072fc21a823766cfcfe8c429ea217c,32,15,1,7634,,,0,"Remove an unused file and a related description

The following file should have been removed
in I4181f39dea7eb10b84e6f5057938767b3e422aff.

* etc/nova/placement-policy-generator.conf

A description of generating the placement policy.yaml file
should also have been removed in the commit.
Therefore remove them.

And the 'wsgi-intercept' package is used for OSAPIFixture and
not for placement functional tests currently.
So a comment is removed in test-requirements.txt.

Change-Id: Ie8d0d7085ccd82a47ea27b98be75c1bc9ba6195b
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/681955/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/nova/placement-policy-generator.conf', 'test-requirements.txt', 'etc/nova/README-policy.yaml.txt']",3,338a0603d2072fc21a823766cfcfe8c429ea217c,remove_unused_file,," Placement ========= To generate the sample placement policy.yaml file, run the following command from the top level of the nova directory: tox -e genplacementpolicy For a pre-generated example of the latest placement policy.yaml, see: https://docs.openstack.org/nova/latest/configuration/sample-placement-policy.html",1,21
openstack%2Freleases~master~Ie839c1980d43dba87e11e1fe3b037913874a9631,openstack/releases,master,Ie839c1980d43dba87e11e1fe3b037913874a9631,Add dtantsur and gtema as release liasons,MERGED,2019-09-17 14:37:42.000000000,2019-09-18 15:40:43.000000000,2019-09-18 15:40:42.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-17 14:37:42.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/908fe7033d9786cce0fe566bf5bd6357aa1d2d65', 'message': 'Add dtantsur and gtema as release liasons\n\nChange-Id: Ie839c1980d43dba87e11e1fe3b037913874a9631\n'}]",0,682663,908fe7033d9786cce0fe566bf5bd6357aa1d2d65,9,5,1,2,,,0,"Add dtantsur and gtema as release liasons

Change-Id: Ie839c1980d43dba87e11e1fe3b037913874a9631
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/682663/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,908fe7033d9786cce0fe566bf5bd6357aa1d2d65,,openstacksdk: - name: 'Artem Goncharov' irc: gtema email: artem.goncharov@gmail.com - name: 'Dmitry Tantsur' irc: dtantsur email: dtantsur@protonmail.com,,7,0
openstack%2Freleases~master~I2a9978d7c0523de646997941d2de0af5fef42414,openstack/releases,master,I2a9978d7c0523de646997941d2de0af5fef42414,Release 0.36.0 of openstacksdk,MERGED,2019-09-17 21:09:27.000000000,2019-09-18 15:40:24.000000000,2019-09-18 15:40:24.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-17 21:09:27.000000000', 'files': ['deliverables/train/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/157db8bca2eb545562ef4a38fb9d5bd05f5dc059', 'message': 'Release 0.36.0 of openstacksdk\n\nChange-Id: I2a9978d7c0523de646997941d2de0af5fef42414\n'}]",0,682748,157db8bca2eb545562ef4a38fb9d5bd05f5dc059,9,4,1,2,,,0,"Release 0.36.0 of openstacksdk

Change-Id: I2a9978d7c0523de646997941d2de0af5fef42414
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/682748/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstacksdk.yaml'],1,157db8bca2eb545562ef4a38fb9d5bd05f5dc059,, - version: 0.36.0 projects: - repo: openstack/openstacksdk hash: 8b85e8c954baf550aefad83d8b48955a3c2382ed,,4,0
openstack%2Frpm-packaging~stable%2Fstein~I49416fb430e072d772948de7be51922bfe720d69,openstack/rpm-packaging,stable/stein,I49416fb430e072d772948de7be51922bfe720d69,python-watcherclient: Fix requirements,MERGED,2019-09-18 13:24:20.000000000,2019-09-18 15:32:00.000000000,2019-09-18 15:32:00.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 13:24:20.000000000', 'files': ['openstack/python-watcherclient/python-watcherclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/776d8963627f1e4070106bd6246fccb0b282480b', 'message': 'python-watcherclient: Fix requirements\n\nThis really does not need tempest\n\nChange-Id: I49416fb430e072d772948de7be51922bfe720d69\n'}]",0,682895,776d8963627f1e4070106bd6246fccb0b282480b,9,5,1,6593,,,0,"python-watcherclient: Fix requirements

This really does not need tempest

Change-Id: I49416fb430e072d772948de7be51922bfe720d69
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/682895/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-watcherclient/python-watcherclient.spec.j2'],1,776d8963627f1e4070106bd6246fccb0b282480b,,BuildRequires: {{ py2pkg('oslo.serialization') }},BuildRequires: {{ py2pkg('Tempest') }},1,1
openstack%2Freleases~master~I53be789764e013715d066f2db1ad55e543b49743,openstack/releases,master,I53be789764e013715d066f2db1ad55e543b49743,Release Glance 19.0.0b1,MERGED,2019-09-18 12:05:18.000000000,2019-09-18 15:27:54.000000000,2019-09-18 15:27:54.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 12:05:18.000000000', 'files': ['deliverables/train/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0fcb04d45b60c9f7fec6dde79d0f8b0ed6476fc1', 'message': 'Release Glance 19.0.0b1\n\nThis is ""Milestone 3"" release to help testing latest multistore\nand cache tooling changes.\n\nChange-Id: I53be789764e013715d066f2db1ad55e543b49743\n'}]",0,682880,0fcb04d45b60c9f7fec6dde79d0f8b0ed6476fc1,8,3,1,5202,,,0,"Release Glance 19.0.0b1

This is ""Milestone 3"" release to help testing latest multistore
and cache tooling changes.

Change-Id: I53be789764e013715d066f2db1ad55e543b49743
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/682880/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/glance.yaml'],1,0fcb04d45b60c9f7fec6dde79d0f8b0ed6476fc1,glance-train-m3,releases: - version: 19.0.0.0b1 projects: - repo: openstack/glance hash: 53fbfc8c635b778bc4731a352fc2fa3197328e3c,,5,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Fpike~I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,openstack/puppet-openstack_spec_helper,stable/pike,I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,Remove zuul-cloner usage,ABANDONED,2019-09-18 11:29:49.000000000,2019-09-18 15:26:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-18 11:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/ebb682ca970ebfb4615b9c38a239fb7ef61c677f', 'message': 'Remove zuul-cloner usage\n\nChange-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3\n(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)\n'}, {'number': 2, 'created': '2019-09-18 12:58:21.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/5c6b39b127249b3ee71fe8d6fcf43f8fea0a177e', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/682889/\nChange-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3\n(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)\n'}]",0,682863,5c6b39b127249b3ee71fe8d6fcf43f8fea0a177e,5,1,2,16137,,,0,"Remove zuul-cloner usage

Depends-On: https://review.opendev.org/#/c/682889/
Change-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3
(cherry picked from commit c03dc00c269576cbad470cb1af73457e61bcc255)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/63/682863/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",3,ebb682ca970ebfb4615b9c38a239fb7ef61c677f,," if File.directory?(""/home/zuul/src/opendev.org/#{repo}"") sh(""mkdir openstack || true"") sh(""cp -R /home/zuul/src/opendev.org/#{repo} #{repo}"")"," if File.exists?('/usr/zuul-env/bin/zuul-cloner') zuul_clone_cmd = ['/usr/zuul-env/bin/zuul-cloner'] zuul_clone_cmd += ['--cache-dir', '/opt/git'] zuul_clone_cmd += ['--zuul-branch', ""#{zuul_branch}""] zuul_clone_cmd += ['https://git.openstack.org', ""#{repo}""] sh(*zuul_clone_cmd)",9,15
openstack%2Fpuppet-openstack-integration~stable%2Fpike~I6e11c12ad73c89466aefbb926c111ed1d00784b8,openstack/puppet-openstack-integration,stable/pike,I6e11c12ad73c89466aefbb926c111ed1d00784b8,Remove zuul-cloner usage,ABANDONED,2019-09-18 11:50:43.000000000,2019-09-18 15:26:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-18 11:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/06692b35668f2c4f0b114f3692bff5cb8d03fe53', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/682863/\nChange-Id: I6e11c12ad73c89466aefbb926c111ed1d00784b8\n(cherry picked from commit fff72afe75971d05185f1c3cca074ef62a03aa03)\n'}, {'number': 2, 'created': '2019-09-18 12:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5147ccff5503b40668bc73fd23545b118fe70924', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/682863/\nChange-Id: I6e11c12ad73c89466aefbb926c111ed1d00784b8\n(cherry picked from commit fff72afe75971d05185f1c3cca074ef62a03aa03)\n'}, {'number': 3, 'created': '2019-09-18 12:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b093816f6d6d12d4db05307a76825ed1ca5c6a9f', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/682863/\nChange-Id: I6e11c12ad73c89466aefbb926c111ed1d00784b8\n(cherry picked from commit fff72afe75971d05185f1c3cca074ef62a03aa03)\n'}, {'number': 4, 'created': '2019-09-18 13:05:23.000000000', 'files': ['run_tests.sh', 'functions', 'playbooks/prepare-node-integration.yaml', 'playbooks/prepare-node-beaker.yaml', 'playbooks/prepare-node-unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9c7f439dc2a64e6fcf5dc548f1b1dcf8273d2e1f', 'message': 'Remove zuul-cloner usage\n\nChange-Id: I6e11c12ad73c89466aefbb926c111ed1d00784b8\n(cherry picked from commit fff72afe75971d05185f1c3cca074ef62a03aa03)\n'}]",0,682873,9c7f439dc2a64e6fcf5dc548f1b1dcf8273d2e1f,9,1,4,16137,,,0,"Remove zuul-cloner usage

Change-Id: I6e11c12ad73c89466aefbb926c111ed1d00784b8
(cherry picked from commit fff72afe75971d05185f1c3cca074ef62a03aa03)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/682873/4 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'functions', 'playbooks/prepare-node-integration.yaml', 'playbooks/prepare-node-beaker.yaml', 'playbooks/prepare-node-unit.yaml']",5,06692b35668f2c4f0b114f3692bff5cb8d03fe53,, if [ -d /home/zuul/src/opendev.org/$ZUUL_PROJECT ]; then cp -dR /home/zuul/src/opendev.org/$ZUUL_PROJECT/. . else git clone https://opendev.org/$ZUUL_PROJECT . fi," CLONEMAP=`mktemp` function cleanup { # In cases where zuul-cloner is aborted during a git # clone operation, git will remove the git work tree in # its cleanup. The work tree in these jobs is the # workspace directory, which means that subsequent # jenkins post-build actions can not run because the # workspace has been removed. # To reduce the likelihood of this having an impact, # recreate the workspace directory if needed mkdir -p $WORKSPACE rm -f $CLONEMAP } trap cleanup EXIT cat > $CLONEMAP << EOF clonemap: - name: $ZUUL_PROJECT dest: . EOF /usr/zuul-env/bin/zuul-cloner -m $CLONEMAP --cache-dir /opt/git \ https://opendev.org $ZUUL_PROJECT",85,83
openstack%2Fpuppet-openstack-integration~stable%2Fpike~Iba69f72b05e70806fc425b72a919d52fd368914d,openstack/puppet-openstack-integration,stable/pike,Iba69f72b05e70806fc425b72a919d52fd368914d,Reparent puppet-openstack-base to legacy-base,ABANDONED,2019-09-18 12:57:17.000000000,2019-09-18 15:26:02.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 12:57:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7322ea3ec56dfc102199ca53144c72a421e98abd', 'message': ""Reparent puppet-openstack-base to legacy-base\n\nBase has been updated to not include thigns like zuul-cloner (which we\ndepend on). So we need to either remove the usage of this  by using the\nrepos in /home/zuul/src or set the base to legacy-base so zuul-cloner is\nstill included. For now let's just reparent the jobs and work on\nremoving zuul-cloner later.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\n\nChange-Id: Iba69f72b05e70806fc425b72a919d52fd368914d\n(cherry picked from commit 2bb40bb6fea5978c24a6e98149176567c4ce9dd1)\n(cherry picked from commit c2e07a60bd94cd32c50d9a927878c4ef0acf9447)\n""}]",0,682889,7322ea3ec56dfc102199ca53144c72a421e98abd,3,2,1,16137,,,0,"Reparent puppet-openstack-base to legacy-base

Base has been updated to not include thigns like zuul-cloner (which we
depend on). So we need to either remove the usage of this  by using the
repos in /home/zuul/src or set the base to legacy-base so zuul-cloner is
still included. For now let's just reparent the jobs and work on
removing zuul-cloner later.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html

Change-Id: Iba69f72b05e70806fc425b72a919d52fd368914d
(cherry picked from commit 2bb40bb6fea5978c24a6e98149176567c4ce9dd1)
(cherry picked from commit c2e07a60bd94cd32c50d9a927878c4ef0acf9447)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/89/682889/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7322ea3ec56dfc102199ca53144c72a421e98abd,fix-zuul-cloner-stable/pike, parent: legacy-base,,1,0
openstack%2Fkayobe~stable%2Fstein~If96437b73b9b5c58600ba1b004f53ee0c1f14398,openstack/kayobe,stable/stein,If96437b73b9b5c58600ba1b004f53ee0c1f14398,Fix kayobe-overcloud-centos CI job flakiness,MERGED,2019-09-18 08:18:57.000000000,2019-09-18 15:22:54.000000000,2019-09-18 15:21:13.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-09-18 08:18:57.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ad474b9d4fe23fea99e8b5cca0c2fa1aa33cd04c', 'message': ""Fix kayobe-overcloud-centos CI job flakiness\n\nDocker CE has added a default DROP policy to the FORWARD chain.  When\nnova-compute runs on the controller, kolla ansible sets the\nnet.bridge.bridge-nf-call-iptables sysctl to 1, which causes iptables to\nprocess frames forwarded across bridges.\n\nCurrently, the kayobe-overcloud-centos job is failing quite frequently\nwith timeouts when deploying bare metal compute. Experimentation with\niptables hasn't revealed why this only happens sometimes, or exactly\nwhat traffic is being blocked, but opening up the firewall does seem to\nfix the issue. We won't see this in production since control and compute\nservices are on separate hosts.\n\nThis change updates the iptables configuration used in CI to forward all\nframes on the bridge, breth1.\n\nChange-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398\nStory: 2006534\nTask: 36590\n(cherry picked from commit 4b180502a5bcfb9cee5e0c2e267d2dbc53d4b358)\n""}]",0,682829,ad474b9d4fe23fea99e8b5cca0c2fa1aa33cd04c,12,4,1,14826,,,0,"Fix kayobe-overcloud-centos CI job flakiness

Docker CE has added a default DROP policy to the FORWARD chain.  When
nova-compute runs on the controller, kolla ansible sets the
net.bridge.bridge-nf-call-iptables sysctl to 1, which causes iptables to
process frames forwarded across bridges.

Currently, the kayobe-overcloud-centos job is failing quite frequently
with timeouts when deploying bare metal compute. Experimentation with
iptables hasn't revealed why this only happens sometimes, or exactly
what traffic is being blocked, but opening up the firewall does seem to
fix the issue. We won't see this in production since control and compute
services are on separate hosts.

This change updates the iptables configuration used in CI to forward all
frames on the bridge, breth1.

Change-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398
Story: 2006534
Task: 36590
(cherry picked from commit 4b180502a5bcfb9cee5e0c2e267d2dbc53d4b358)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/29/682829/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,ad474b9d4fe23fea99e8b5cca0c2fa1aa33cd04c,story/2006534," # Docker CE has added a default DROP policy to the FORWARD chain. # When nova-compute runs on the controller, kolla ansible sets the # net.bridge.bridge-nf-call-iptables sysctl to 1, which causes iptables to # process frames forwarded across bridges. Forward all frames on the main # bridge, breth1. sudo iptables -A FORWARD -i breth1 -j ACCEPT || true", # allow IPA to connect to ironic API sudo iptables -I FORWARD -p tcp --dport $IRONIC_SERVICE_PORT -j ACCEPT || true # allow IPA to connect to ironic inspector sudo iptables -I FORWARD -p tcp --dport $IRONIC_INSPECTOR_PORT -j ACCEPT || true # Docker CE has added a default DROP policy to the FORWARD chain. Allow # DHCP packets to be forwarded across the bridge. sudo iptables -I FORWARD -p udp --dport 67:68 --sport 67:68 -j ACCEPT || true,7,7
openstack%2Fnetworking-ovn~stable%2Fstein~Ia5739ca39998a842df51d6ccd68717e842895c4d,openstack/networking-ovn,stable/stein,Ia5739ca39998a842df51d6ccd68717e842895c4d,use trunk constants from neutron-lib,MERGED,2019-09-17 12:40:49.000000000,2019-09-18 15:19:10.000000000,2019-09-18 15:17:38.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-17 12:40:49.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py', 'networking_ovn/tests/functional/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9b71675a0ed1df09a9be0dfeab520490ebdd52d3', 'message': 'use trunk constants from neutron-lib\n\nThe trunk constants live in neutron-lib now. This patch switches over\nto them in prep for https://review.openstack.org/#/c/649672/\n\nRelated-Bug: #1834637\n\nConflicts:\n    networking_ovn/ml2/trunk_driver.py\n    networking_ovn/tests/functional/test_trunk_driver.py\n    networking_ovn/tests/unit/ml2/test_trunk_driver.py\n\nChange-Id: Ia5739ca39998a842df51d6ccd68717e842895c4d\n(cherry-picked from commit 814774a45791fd67ae7175165d5bf10f13989595)\n'}]",0,682633,9b71675a0ed1df09a9be0dfeab520490ebdd52d3,14,4,1,23804,,,0,"use trunk constants from neutron-lib

The trunk constants live in neutron-lib now. This patch switches over
to them in prep for https://review.openstack.org/#/c/649672/

Related-Bug: #1834637

Conflicts:
    networking_ovn/ml2/trunk_driver.py
    networking_ovn/tests/functional/test_trunk_driver.py
    networking_ovn/tests/unit/ml2/test_trunk_driver.py

Change-Id: Ia5739ca39998a842df51d6ccd68717e842895c4d
(cherry-picked from commit 814774a45791fd67ae7175165d5bf10f13989595)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/33/682633/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py', 'networking_ovn/tests/functional/test_trunk_driver.py']",3,9b71675a0ed1df09a9be0dfeab520490ebdd52d3,bug/1834637,"from neutron_lib.services.trunk import constants as trunk_consts self.trunk_plugin.add_segmentation_type( trunk_consts.SEGMENTATION_TYPE_VLAN, utils.is_valid_vlan_tag) self.assertEqual(trunk_consts.TRUNK_ACTIVE_STATUS, trunk['status'])","from neutron.services.trunk import constants as trunk_consts self.trunk_plugin.add_segmentation_type(trunk_consts.VLAN, utils.is_valid_vlan_tag) self.assertEqual(trunk_consts.ACTIVE_STATUS, trunk['status'])",19,17
openstack%2Freleases~master~Ia6818c24ff872d23abfbd7bfc8b515136c58adff,openstack/releases,master,Ia6818c24ff872d23abfbd7bfc8b515136c58adff,Update Heat release liaison,MERGED,2019-09-18 07:34:02.000000000,2019-09-18 15:16:20.000000000,2019-09-18 15:16:20.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 07:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/03f6c731d684c0a6b3936ca1d9bd948dc408262c', 'message': 'Update Heat release liaison\n\nAppoint Rico Lin as Heat release liaison untill heat team appoint\na new liaison.\n\nChange-Id: Ia6818c24ff872d23abfbd7bfc8b515136c58adff\n'}, {'number': 2, 'created': '2019-09-18 14:38:34.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4e61a55df7754092baa2c6d58c845fc85bfcdf6e', 'message': 'Update Heat release liaison\n\nAppoint Rico Lin as Heat release liaison until the heat team appoints\na new liaison.\n\nChange-Id: Ia6818c24ff872d23abfbd7bfc8b515136c58adff\n'}]",0,682814,4e61a55df7754092baa2c6d58c845fc85bfcdf6e,9,3,2,12404,,,0,"Update Heat release liaison

Appoint Rico Lin as Heat release liaison until the heat team appoints
a new liaison.

Change-Id: Ia6818c24ff872d23abfbd7bfc8b515136c58adff
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/682814/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,03f6c731d684c0a6b3936ca1d9bd948dc408262c,release-heat, - name: 'Rico Lin' irc: ricolin email: rico.lin.guanyu@gmail.com, - name: 'Thomas Herve' irc: therve email: therve@redhat.com,3,3
openstack%2Foctavia~master~I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44,openstack/octavia,master,I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44,Fix cleanup of expired load balancer entries,MERGED,2019-09-05 12:59:15.000000000,2019-09-18 15:13:51.000000000,2019-09-11 04:08:19.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-09-05 12:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/570e2a98adc772fbd73f3dc2e7cb2a0ac356d5a5', 'message': 'Fix cleanup of expired load balancer entries\n\nFix a bad query filter, deleted load balancers have a DELETED\nprovisioning_status (instead of operating_status).\n\nAdd a functional test that checks that deleted and expired load\nbalancers are correctly selected by get_all_deleted_expiring function.\n\nFix a similar test for amphorae that was buggy and not enabled (because\nof missing test_ prefix).\n\nChange-Id: I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44\nStory: 2006496\nTask: 36458\n'}, {'number': 2, 'created': '2019-09-10 22:24:34.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'releasenotes/notes/fix-loadbalancer-db-cleanup-61ee81a4fd597067.yaml', 'octavia/db/repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a4da3ef22001e1229541a3bdfe232f6967987cb9', 'message': 'Fix cleanup of expired load balancer entries\n\nFix a bad query filter, deleted load balancers have a DELETED\nprovisioning_status (instead of operating_status).\n\nAdd a functional test that checks that deleted and expired load\nbalancers are correctly selected by get_all_deleted_expiring function.\n\nFix a similar test for amphorae that was buggy and not enabled (because\nof missing test_ prefix).\n\nChange-Id: I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44\nStory: 2006496\nTask: 36458\n'}]",0,680400,a4da3ef22001e1229541a3bdfe232f6967987cb9,15,4,2,29244,,,0,"Fix cleanup of expired load balancer entries

Fix a bad query filter, deleted load balancers have a DELETED
provisioning_status (instead of operating_status).

Add a functional test that checks that deleted and expired load
balancers are correctly selected by get_all_deleted_expiring function.

Fix a similar test for amphorae that was buggy and not enabled (because
of missing test_ prefix).

Change-Id: I0ce2eabfd4dd41210312ea3b7f6274c9a6d50e44
Story: 2006496
Task: 36458
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/680400/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'releasenotes/notes/fix-loadbalancer-db-cleanup-61ee81a4fd597067.yaml', 'octavia/db/repositories.py']",3,570e2a98adc772fbd73f3dc2e7cb2a0ac356d5a5,, query = query.filter_by(provisioning_status=consts.DELETED), query = query.filter_by(operating_status=consts.DELETED),33,11
openstack%2Fkolla~stable%2Fstein~I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,openstack/kolla,stable/stein,I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64,base: fix OracleLinux build,MERGED,2019-09-18 10:04:12.000000000,2019-09-18 15:08:54.000000000,2019-09-18 14:27:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-18 10:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/92647439dd9df14ba7985e5eb412587e63bad822', 'message': 'base: fix OracleLinux build\n\nChange-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64\n'}, {'number': 2, 'created': '2019-09-18 10:09:48.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/187d6c52f1bbb1176d7129a2b24b0cf48ba29d79', 'message': 'base: fix OracleLinux build\n\nChange-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64\nCloses-Bug: #1844484\n'}]",0,682852,187d6c52f1bbb1176d7129a2b24b0cf48ba29d79,12,5,2,14826,,,0,"base: fix OracleLinux build

Change-Id: I7603ed700abd2d6ce3ac0f301dc433ed1ed11e64
Closes-Bug: #1844484
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/682852/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,92647439dd9df14ba7985e5eb412587e63bad822,, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-4.el7.centos.noarch.rpm \, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-3.el7.centos.noarch.rpm \,1,1
openstack%2Fnova~master~I8a425cdd2963aa72679d2b79443c33e3e59a8bf5,openstack/nova,master,I8a425cdd2963aa72679d2b79443c33e3e59a8bf5,Do not allow mutiple nova-scheduler workers,ABANDONED,2019-09-16 21:03:59.000000000,2019-09-18 14:49:00.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-16 21:03:59.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc862576a6c133deeaed379b56bc80ef30c22291', 'message': 'Do not allow mutiple nova-scheduler workers\n\nAs seen in bug 1844174, tests that start up multiple scheduler\nservices can fail in weird ways if they are reliant on state\nin the scheduler workers, like for example aggregate information\nbeing synchronized from the API. There is likely no good reason\nfor functional tests to need two scheduler services running\nso this adds some poison code to ServiceFixture to fail if a\ntest tries to start multiple nova-scheduler services.\n\nChange-Id: I8a425cdd2963aa72679d2b79443c33e3e59a8bf5\nRelated-Bug: #1844174\n'}]",0,682485,bc862576a6c133deeaed379b56bc80ef30c22291,10,8,1,6873,,,0,"Do not allow mutiple nova-scheduler workers

As seen in bug 1844174, tests that start up multiple scheduler
services can fail in weird ways if they are reliant on state
in the scheduler workers, like for example aggregate information
being synchronized from the API. There is likely no good reason
for functional tests to need two scheduler services running
so this adds some poison code to ServiceFixture to fail if a
test tries to start multiple nova-scheduler services.

Change-Id: I8a425cdd2963aa72679d2b79443c33e3e59a8bf5
Related-Bug: #1844174
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/682485/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,bc862576a6c133deeaed379b56bc80ef30c22291,bug/1844174," def _check_duplicate_scheduler(self): # Don't allow more than one scheduler service since the scheduler # has some state information (aggregates) and any tests starting # more than one scheduler service are probably doing it accidentally # and can lead to weird failures. if self.kwargs['binary'] == 'nova-scheduler': # Service.get_by_host_and_binary traps HostBinaryNotFound and # returns None so we have to check the result. svc = objects.Service.get_by_host_and_binary( self.ctxt, self.kwargs['host'], self.kwargs['binary']) assert svc is None, 'nova-scheduler service already started' self._check_duplicate_scheduler() ",,14,0
openstack%2Fnova~stable%2Frocky~I15a7c13edf78884ec223fd531a78a341106b41b8,openstack/nova,stable/rocky,I15a7c13edf78884ec223fd531a78a341106b41b8,bdm: store empty object as connection_info by default,ABANDONED,2019-07-04 07:30:05.000000000,2019-09-18 14:45:25.000000000,,"[{'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 07:30:05.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c0653176b196ca21ee2a5ddcc83a572917e66940', 'message': ""bdm: store empty object as connection_info by default\n\nThere are several code paths which expect connection_info to be\na valid JSON object.  However, if we don't find a value, we are\nsetting it to an initial value of 'None' which evenutally gets\nconverted to 'null' as JSON and stored in the database.\n\nThis patch sets the default value to {} so that any new block\ndevice mappings have an empty object, rather than NULL.\n\nNOTE(lyarwood): Conflicts due to Icc301230fe7c8e3ebbbcc7f4a807e562db7f93e3\nnot being present in stable/rocky.\n\nConflicts:\n    nova/virt/block_device.py\n    nova/tests/unit/virt/test_block_device.py\n\nCloses-Bug: #1821244\nChange-Id: I15a7c13edf78884ec223fd531a78a341106b41b8\n(cherry picked from commit 9fa03d4d72609b6eb2ace7b89eaf437f94252be0)\n(cherry picked from commit 643323765a0fa1e09e095f67bd66206e9b10a97a)\n""}]",0,669078,c0653176b196ca21ee2a5ddcc83a572917e66940,7,6,1,10135,,,0,"bdm: store empty object as connection_info by default

There are several code paths which expect connection_info to be
a valid JSON object.  However, if we don't find a value, we are
setting it to an initial value of 'None' which evenutally gets
converted to 'null' as JSON and stored in the database.

This patch sets the default value to {} so that any new block
device mappings have an empty object, rather than NULL.

NOTE(lyarwood): Conflicts due to Icc301230fe7c8e3ebbbcc7f4a807e562db7f93e3
not being present in stable/rocky.

Conflicts:
    nova/virt/block_device.py
    nova/tests/unit/virt/test_block_device.py

Closes-Bug: #1821244
Change-Id: I15a7c13edf78884ec223fd531a78a341106b41b8
(cherry picked from commit 9fa03d4d72609b6eb2ace7b89eaf437f94252be0)
(cherry picked from commit 643323765a0fa1e09e095f67bd66206e9b10a97a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/669078/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py']",2,c0653176b196ca21ee2a5ddcc83a572917e66940,bug/1821244, # connection_info might not be set so default to an empty dict so that # it can be serialized to an empty JSON object. self['connection_info'] = {}, self['connection_info'] = None,34,1
openstack%2Fnova~stable%2Fqueens~I15a7c13edf78884ec223fd531a78a341106b41b8,openstack/nova,stable/queens,I15a7c13edf78884ec223fd531a78a341106b41b8,bdm: store empty object as connection_info by default,ABANDONED,2019-07-04 07:33:41.000000000,2019-09-18 14:45:23.000000000,,"[{'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 07:33:41.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/47969cd146291e555f3649fc961f9cd487567cf6', 'message': ""bdm: store empty object as connection_info by default\n\nThere are several code paths which expect connection_info to be\na valid JSON object.  However, if we don't find a value, we are\nsetting it to an initial value of 'None' which evenutally gets\nconverted to 'null' as JSON and stored in the database.\n\nThis patch sets the default value to {} so that any new block\ndevice mappings have an empty object, rather than NULL.\n\nCloses-Bug: #1821244\nChange-Id: I15a7c13edf78884ec223fd531a78a341106b41b8\n(cherry picked from commit 9fa03d4d72609b6eb2ace7b89eaf437f94252be0)\n(cherry picked from commit 643323765a0fa1e09e095f67bd66206e9b10a97a)\n(cherry picked from commit c0653176b196ca21ee2a5ddcc83a572917e66940)\n""}]",0,669082,47969cd146291e555f3649fc961f9cd487567cf6,7,6,1,10135,,,0,"bdm: store empty object as connection_info by default

There are several code paths which expect connection_info to be
a valid JSON object.  However, if we don't find a value, we are
setting it to an initial value of 'None' which evenutally gets
converted to 'null' as JSON and stored in the database.

This patch sets the default value to {} so that any new block
device mappings have an empty object, rather than NULL.

Closes-Bug: #1821244
Change-Id: I15a7c13edf78884ec223fd531a78a341106b41b8
(cherry picked from commit 9fa03d4d72609b6eb2ace7b89eaf437f94252be0)
(cherry picked from commit 643323765a0fa1e09e095f67bd66206e9b10a97a)
(cherry picked from commit c0653176b196ca21ee2a5ddcc83a572917e66940)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/669082/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py']",2,47969cd146291e555f3649fc961f9cd487567cf6,bug/1821244, # connection_info might not be set so default to an empty dict so that # it can be serialized to an empty JSON object. self['connection_info'] = {}, self['connection_info'] = None,34,1
openstack%2Fnova~stable%2Fstein~I15a7c13edf78884ec223fd531a78a341106b41b8,openstack/nova,stable/stein,I15a7c13edf78884ec223fd531a78a341106b41b8,bdm: store empty object as connection_info by default,ABANDONED,2019-07-04 07:17:22.000000000,2019-09-18 14:45:21.000000000,,"[{'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 07:17:22.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/643323765a0fa1e09e095f67bd66206e9b10a97a', 'message': ""bdm: store empty object as connection_info by default\n\nThere are several code paths which expect connection_info to be\na valid JSON object.  However, if we don't find a value, we are\nsetting it to an initial value of 'None' which evenutally gets\nconverted to 'null' as JSON and stored in the database.\n\nThis patch sets the default value to {} so that any new block\ndevice mappings have an empty object, rather than NULL.\n\nCloses-Bug: #1821244\nChange-Id: I15a7c13edf78884ec223fd531a78a341106b41b8\n(cherry picked from commit 9fa03d4d72609b6eb2ace7b89eaf437f94252be0)\n""}]",0,669072,643323765a0fa1e09e095f67bd66206e9b10a97a,8,6,1,10135,,,0,"bdm: store empty object as connection_info by default

There are several code paths which expect connection_info to be
a valid JSON object.  However, if we don't find a value, we are
setting it to an initial value of 'None' which evenutally gets
converted to 'null' as JSON and stored in the database.

This patch sets the default value to {} so that any new block
device mappings have an empty object, rather than NULL.

Closes-Bug: #1821244
Change-Id: I15a7c13edf78884ec223fd531a78a341106b41b8
(cherry picked from commit 9fa03d4d72609b6eb2ace7b89eaf437f94252be0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/669072/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py']",2,643323765a0fa1e09e095f67bd66206e9b10a97a,bug/1821244, # connection_info might not be set so default to an empty dict so that # it can be serialized to an empty JSON object. self['connection_info'] = {}, self['connection_info'] = None,35,1
openstack%2Freleases~master~I1c98e4ef45aadc391921a0420ecbcaebeecb987f,openstack/releases,master,I1c98e4ef45aadc391921a0420ecbcaebeecb987f,Add highlight for VPMEM in Train release,MERGED,2019-09-16 22:55:33.000000000,2019-09-18 14:44:15.000000000,2019-09-18 14:44:14.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-09-16 22:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8e3dad7f4499941e3c3c6aa4897c93c684649c87', 'message': 'Add hightlight for VPMEM in Train release\n\nChange-Id: I1c98e4ef45aadc391921a0420ecbcaebeecb987f\n'}, {'number': 2, 'created': '2019-09-16 22:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/508d5b330a99b689c1dec31ccd8173f9b646b383', 'message': 'Add highlight for VPMEM in Train release\n\nChange-Id: I1c98e4ef45aadc391921a0420ecbcaebeecb987f\n'}, {'number': 3, 'created': '2019-09-16 23:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/25d4e5cfaf221cf046597169da05c0134930ffb5', 'message': 'Add highlight for VPMEM in Train release\n\nChange-Id: I1c98e4ef45aadc391921a0420ecbcaebeecb987f\n'}, {'number': 4, 'created': '2019-09-17 12:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f2ba4b3ca735d6a402c40bff7447215cf0ff4d4e', 'message': 'Add highlight for VPMEM in Train release\n\nChange-Id: I1c98e4ef45aadc391921a0420ecbcaebeecb987f\n'}, {'number': 5, 'created': '2019-09-17 13:35:38.000000000', 'files': ['deliverables/train/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c3d30898fc1e1b70243a0497e59a1059d3fcf091', 'message': 'Add highlight for VPMEM in Train release\n\nChange-Id: I1c98e4ef45aadc391921a0420ecbcaebeecb987f\n'}]",7,682509,c3d30898fc1e1b70243a0497e59a1059d3fcf091,23,6,5,5754,,,0,"Add highlight for VPMEM in Train release

Change-Id: I1c98e4ef45aadc391921a0420ecbcaebeecb987f
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/682509/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/nova.yaml'],1,8e3dad7f4499941e3c3c6aa4897c93c684649c87,nova-train-cycle-highlights," - | The support of VPMEM (Virtual Persistent Memory) is added. Along with a new framework for supporting resource claim on the compute node, which is without race problem and generic for any devices. 'Virtural Persistent Memory <http://specs.openstack.org/openstack/nova-specs/specs/train/approved/virtual-persistent-memory.html>`_.",,5,0
openstack%2Fnova~master~I6d51f35089888345f110dabda474e4274f12bd46,openstack/nova,master,I6d51f35089888345f110dabda474e4274f12bd46,VMware: OVA and StrOpt images as VM templates,ABANDONED,2018-10-11 15:08:16.000000000,2019-09-18 14:33:07.000000000,,"[{'_account_id': 1653}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29125}]","[{'number': 1, 'created': '2018-10-11 15:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5ace2572c067588aad2047ecce1de7f4b3901ab', 'message': 'VMware: OVA and StrOpt images as VM templates\n\nOptimize instance creation by keeping images as VM templates per datastore.\nSo far instance creation from image worked as follows:\n- Import image as VM, cache the VM disk, and unregister VM.\n- Create actual (instance) VM anew using the cached disk.\nThe current implementation changes this as follows:\n- Import image as VM (per datastore) and mark that VM as template.\n- Create actual (instance) VM by cloning the template VM for the image.\n\nChange-Id: I6d51f35089888345f110dabda474e4274f12bd46\n'}, {'number': 2, 'created': '2018-10-12 16:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/253719c11058d9f3984ced3f851d77f6b981a369', 'message': 'VMware: OVA and StrOpt images as VM templates\n\nOptimize instance creation by keeping images as VM templates per datastore.\nSo far instance creation from image worked as follows:\n- Import image as VM, cache the VM disk, and unregister VM.\n- Create actual (instance) VM anew using the cached disk.\nThe current implementation changes this as follows:\n- Import image as VM (per datastore) and mark that VM as template.\n- Create actual (instance) VM by cloning the template VM for the image.\n\nChange-Id: I6d51f35089888345f110dabda474e4274f12bd46\n'}, {'number': 3, 'created': '2018-10-15 13:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d67000133b4b0df8bfd224f81e6e5e3bb552ca95', 'message': 'VMware: OVA and StrOpt images as VM templates\n\nOptimize instance creation by keeping images as VM templates per datastore.\nSo far instance creation from image worked as follows:\n- Import image as VM, cache the VM disk, and unregister VM.\n- Create actual (instance) VM anew using the cached disk.\nThe current implementation changes this as follows:\n- Import image as VM (per datastore) and mark that VM as template.\n- Create actual (instance) VM by cloning the template VM for the image.\n\nChange-Id: I6d51f35089888345f110dabda474e4274f12bd46\n'}, {'number': 4, 'created': '2018-10-16 15:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab573e26bec24a05eabf0730ae01f3a9ae5f225c', 'message': 'VMware: OVA and StrOpt images as VM templates\n\nOptimize instance creation by keeping images as VM templates per datastore.\nSo far instance creation from image worked as follows:\n- Import image as VM, cache the VM disk, and unregister VM.\n- Create actual (instance) VM anew using the cached disk.\nThe current implementation changes this as follows:\n- Import image as VM (per datastore) and mark that VM as template.\n- Create actual (instance) VM by cloning the template VM for the image.\n\nChange-Id: I6d51f35089888345f110dabda474e4274f12bd46\n'}, {'number': 5, 'created': '2018-10-17 15:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c0568802b08929749b4e76ec4eb961d424d25d4', 'message': 'VMware: OVA and StrOpt images as VM templates\n\nOptimize instance creation by keeping images as VM templates per\ndatastore.\nSo far instance creation from image worked as follows:\n- Import image as VM, cache the VM disk, and unregister VM.\n- Create actual (instance) VM anew using the cached disk.\nThe current implementation changes this as follows:\n- Import image as VM (per datastore) and mark that VM as template.\n- Create actual (instance) VM by cloning the template VM for the image.\n\nChange-Id: I6d51f35089888345f110dabda474e4274f12bd46\n'}, {'number': 6, 'created': '2018-10-22 14:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13d7b6796e82ee48fc79b725b8d867d91a8e46cd', 'message': 'VMware: OVA and StrOpt images as VM templates\n\nOptimize instance creation by keeping images as VM templates per\ndatastore.\nSo far instance creation from image worked as follows:\n- Import image as VM, cache the VM disk, and unregister VM.\n- Create actual (instance) VM anew using the cached disk.\nThe current implementation changes this as follows:\n- Import image as VM (per datastore) and mark that VM as template.\n- Create actual (instance) VM by cloning the template VM for the image.\n\nChange-Id: I6d51f35089888345f110dabda474e4274f12bd46\n'}, {'number': 7, 'created': '2018-10-24 10:19:22.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/virt/vmwareapi/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a827ef911d25569b0b055d791bc5ad1f00049792', 'message': 'VMware: OVA and StrOpt images as VM templates\n\nOptimize instance creation by keeping images as VM templates per\ndatastore.\nSo far instance creation from image worked as follows:\n- Import image as VM, cache the VM disk, and unregister VM.\n- Create actual (instance) VM anew using the cached disk.\nThe current implementation changes this as follows:\n- Import image as VM (per datastore) and mark that VM as template.\n- Create actual (instance) VM by cloning the template VM for the image.\n\nChange-Id: I6d51f35089888345f110dabda474e4274f12bd46\n'}]",10,609736,a827ef911d25569b0b055d791bc5ad1f00049792,89,15,7,29125,,,0,"VMware: OVA and StrOpt images as VM templates

Optimize instance creation by keeping images as VM templates per
datastore.
So far instance creation from image worked as follows:
- Import image as VM, cache the VM disk, and unregister VM.
- Create actual (instance) VM anew using the cached disk.
The current implementation changes this as follows:
- Import image as VM (per datastore) and mark that VM as template.
- Create actual (instance) VM by cloning the template VM for the image.

Change-Id: I6d51f35089888345f110dabda474e4274f12bd46
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/609736/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/virt/vmwareapi/images.py']",3,d5ace2572c067588aad2047ecce1de7f4b3901ab,vmware-create-instance-as-clone-from-template," vm_util.mark_vm_as_template(session, imported_vm_ref) vm_util.mark_vm_as_template(session, imported_vm_ref)"," session._call_method(session.vim, ""UnregisterVM"", imported_vm_ref) LOG.info(""The imported VM was unregistered"", instance=instance) session._call_method(session.vim, ""UnregisterVM"", imported_vm_ref) LOG.info(""The imported VM was unregistered"", instance=instance)",179,83
openstack%2Fkolla-ansible~master~If11b4ff37af936a0cfd34443e8babb952307882b,openstack/kolla-ansible,master,If11b4ff37af936a0cfd34443e8babb952307882b,Remove support for OracleLinux,MERGED,2019-09-18 11:26:03.000000000,2019-09-18 14:29:43.000000000,2019-09-18 14:27:56.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-18 11:26:03.000000000', 'files': ['doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/group_vars/all.yml', 'doc/source/user/quickstart.rst', 'doc/source/reference/networking/neutron-extensions.rst', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst', 'doc/source/reference/storage/swift-guide.rst', 'ansible/roles/chrony/templates/chrony.conf.j2', 'etc/kolla/globals.yml', 'releasenotes/notes/remove-oraclelinux-support-7afaf06191c02e8e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15e35333ddb6fecade413acc5ca916cda8ed48fc', 'message': 'Remove support for OracleLinux\n\nWe have agreed to remove support for Oracle Linux.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html\n\nChange-Id: If11b4ff37af936a0cfd34443e8babb952307882b\n'}]",0,682858,15e35333ddb6fecade413acc5ca916cda8ed48fc,9,3,1,14826,,,0,"Remove support for OracleLinux

We have agreed to remove support for Oracle Linux.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html

Change-Id: If11b4ff37af936a0cfd34443e8babb952307882b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/682858/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/group_vars/all.yml', 'doc/source/reference/networking/neutron-extensions.rst', 'doc/source/user/quickstart.rst', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst', 'doc/source/reference/storage/swift-guide.rst', 'ansible/roles/chrony/templates/chrony.conf.j2', 'etc/kolla/globals.yml', 'releasenotes/notes/remove-oraclelinux-support-7afaf06191c02e8e.yaml']",9,15e35333ddb6fecade413acc5ca916cda8ed48fc,,--- upgrade: - | Support for deployment of OracleLinux containers has been removed. ,,12,14
openstack%2Fgovernance~master~Ia42bc5ecd8001f19c5e01e44c00466a90b08ab6c,openstack/governance,master,Ia42bc5ecd8001f19c5e01e44c00466a90b08ab6c,Add Mohammed Naser nomination as chair,ABANDONED,2019-09-05 13:47:51.000000000,2019-09-18 14:22:46.000000000,,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 13:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/5b8dbaf5a2215d5c9a6ea0760029b5ea8c4e0c6e', 'message': ""Add Mohammed Naser nomination as chair\n\nI'd like to nominate myself to serve as chair of the TC for the\nupcoming cycle.\n\nOnce again, I'd like to thank Doug for a lot of his help, he's\nbeen instrumental in helping make this role easier to adopt, in\naddition, Alex was also a great vice-chair for that period too.\n\nI'd like to continue to help keeping things coordinated, helping\nwork together with the OSF and the board and ensuring that things\ngo smoothly from a logistical point of view, as well as driving\ndiscussions at PTGs.\n\nChange-Id: Ia42bc5ecd8001f19c5e01e44c00466a90b08ab6c\n""}, {'number': 2, 'created': '2019-09-10 14:55:54.000000000', 'files': ['reference/members.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/bca993c63dd922775851b21e51e42be9693d080b', 'message': ""Add Mohammed Naser nomination as chair\n\nI'd like to nominate myself to serve as chair of the TC for the\nupcoming cycle.\n\nOnce again, I'd like to thank Doug for a lot of his help, he's\nbeen instrumental in helping make this role easier to adopt, in\naddition, Alex was also a great vice-chair for that period too.\n\nI'd like to continue to help keeping things coordinated, helping\nwork together with the OSF and the board and ensuring that things\ngo smoothly from a logistical point of view, as well as driving\ndiscussions at PTGs.\n\nI also have the ability to be at all OpenStack summits and other\nneighbouring communities to provide a point of contact to our\nteam as well and continue to keep our community updated with\nweekly updates and meeting updates.\n\nChange-Id: Ia42bc5ecd8001f19c5e01e44c00466a90b08ab6c\n""}]",0,680414,bca993c63dd922775851b21e51e42be9693d080b,10,4,2,1004,,,0,"Add Mohammed Naser nomination as chair

I'd like to nominate myself to serve as chair of the TC for the
upcoming cycle.

Once again, I'd like to thank Doug for a lot of his help, he's
been instrumental in helping make this role easier to adopt, in
addition, Alex was also a great vice-chair for that period too.

I'd like to continue to help keeping things coordinated, helping
work together with the OSF and the board and ensuring that things
go smoothly from a logistical point of view, as well as driving
discussions at PTGs.

I also have the ability to be at all OpenStack summits and other
neighbouring communities to provide a point of contact to our
team as well and continue to keep our community updated with
weekly updates and meeting updates.

Change-Id: Ia42bc5ecd8001f19c5e01e44c00466a90b08ab6c
",git fetch https://review.opendev.org/openstack/governance refs/changes/14/680414/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/members.yaml'],1,5b8dbaf5a2215d5c9a6ea0760029b5ea8c4e0c6e,formal-vote, role: chair, role: null,1,1
openstack%2Fpython-barbicanclient~master~Ia22281730e0303cb9bcde4de6fd28739e544d27e,openstack/python-barbicanclient,master,Ia22281730e0303cb9bcde4de6fd28739e544d27e,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 03:33:11.000000000,2019-09-18 14:19:02.000000000,2019-09-18 14:17:58.000000000,"[{'_account_id': 1091}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 18955}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-28 03:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/0999058a7eb8df5a6948997943e1cdc3c525dabc', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: Ia22281730e0303cb9bcde4de6fd28739e544d27e\n'}, {'number': 2, 'created': '2019-07-01 02:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/fdc98165208b1d39672b992bd38032e2afee2cb0', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Ia22281730e0303cb9bcde4de6fd28739e544d27e\n'}, {'number': 3, 'created': '2019-07-01 03:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/0a7620564e7d6386dd1e2082cdcb9e822c81effc', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Ia22281730e0303cb9bcde4de6fd28739e544d27e\n'}, {'number': 4, 'created': '2019-07-01 07:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/b42ed5047e1af3c23d591242d2072c6fd72d2f7d', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Ia22281730e0303cb9bcde4de6fd28739e544d27e\n'}, {'number': 5, 'created': '2019-09-16 09:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/2a12c98a1e849a6e5e19728aaa17c2642600c07d', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Ia22281730e0303cb9bcde4de6fd28739e544d27e\n'}, {'number': 6, 'created': '2019-09-18 01:38:06.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/bdff261a9d099983b76f170be2311f97d6279630', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Ia22281730e0303cb9bcde4de6fd28739e544d27e\n'}]",0,668084,bdff261a9d099983b76f170be2311f97d6279630,21,13,6,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: Ia22281730e0303cb9bcde4de6fd28739e544d27e
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/84/668084/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0999058a7eb8df5a6948997943e1cdc3c525dabc,openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fgovernance-sigs~master~I2a5fa696b1368acabbdb62a62ae0ab4c9f9affef,openstack/governance-sigs,master,I2a5fa696b1368acabbdb62a62ae0ab4c9f9affef,Update home-page,MERGED,2019-01-11 12:27:09.000000000,2019-09-18 14:16:47.000000000,2019-09-18 14:15:47.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-11 12:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/7e198d0365f99a362dfc256d8b45753849eda250', 'message': 'Update home-page\n\nChange-Id: I2a5fa696b1368acabbdb62a62ae0ab4c9f9affef\n'}, {'number': 2, 'created': '2019-08-13 00:48:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/586050779d5ad4b48372eceed3927d89b0845468', 'message': 'Update home-page\n\nChange-Id: I2a5fa696b1368acabbdb62a62ae0ab4c9f9affef\n'}]",3,630193,586050779d5ad4b48372eceed3927d89b0845468,21,10,2,26297,,,0,"Update home-page

Change-Id: I2a5fa696b1368acabbdb62a62ae0ab4c9f9affef
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/93/630193/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7e198d0365f99a362dfc256d8b45753849eda250,,home-page = https://git.openstack.org/cgit/openstack/governance-sigs,home-page = http://www.openstack.org/,1,1
openstack%2Fgovernance-sigs~master~I6200d7305ac9d5ca23a674d4c89ed5aea50e8baa,openstack/governance-sigs,master,I6200d7305ac9d5ca23a674d4c89ed5aea50e8baa,Update Security SIG chair list and SIG description,MERGED,2019-09-03 19:02:49.000000000,2019-09-18 14:15:33.000000000,2019-09-18 14:13:20.000000000,"[{'_account_id': 308}, {'_account_id': 2033}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-03 19:02:49.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/fa33f89614e8f41945b2149f6dcbc5cee46fe83a', 'message': 'Update Security SIG chair list and SIG description\n\nThis change updates both the list of active Security SIG chairs as\nwell as updating the description to more accurately describe the\ncurrent responsibilites of the Security SIG.\n\nChange-Id: I6200d7305ac9d5ca23a674d4c89ed5aea50e8baa\n'}]",0,679844,fa33f89614e8f41945b2149f6dcbc5cee46fe83a,10,4,1,21420,,,0,"Update Security SIG chair list and SIG description

This change updates both the list of active Security SIG chairs as
well as updating the description to more accurately describe the
current responsibilites of the Security SIG.

Change-Id: I6200d7305ac9d5ca23a674d4c89ed5aea50e8baa
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/44/679844/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,fa33f89614e8f41945b2149f6dcbc5cee46fe83a,update-security-sig," The Security SIG (formerly Security Project) responsibilities include aiming to improve overall security of the various OpenStack projects, maintaining the list of security notices in OpenStack, and ensuring that security incidents are handled in a coordinated fashion. This involves maintaining the OSSN (OpenStack Security Notes) and OSSA (OpenStack Security Advisories), which are primarily handled under the OpenStack Vulnerability Managment Team (VMT), a more autonomous subgroup of the Security SIG."," - name: Luke Hinds irc: lhinds email: lhinds@redhat.com The Security SIG (formerly Security Project) is responsible for the maintaining the list of security notices in OpenStack. These include OSSN (OpenStack Security Notes), OSSA (OpenStack Security Advisory), and the VMT (Vulnerability Management Team). Other responsibilities of the Security SIG include advocating and working alongside security-focused projects, such as Bandit, Syntribos, and Tatu.",8,9
openstack%2Fgovernance-sigs~master~Ie10cd6935fe2a84a14e02dcb4e7e7285deab2b9e,openstack/governance-sigs,master,Ie10cd6935fe2a84a14e02dcb4e7e7285deab2b9e,Update link for Auto-scaling SIG,MERGED,2019-09-06 20:21:32.000000000,2019-09-18 14:14:27.000000000,2019-09-18 14:13:19.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 20:21:32.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/ba18c4c2d14793068543b2d08c9f875038b3dc76', 'message': ""Update link for Auto-scaling SIG\n\nSince we no longer update Wiki, let's reference to docs instead.\nDepends-On: https://review.opendev.org/680768\n\nChange-Id: Ie10cd6935fe2a84a14e02dcb4e7e7285deab2b9e\n""}]",0,680769,ba18c4c2d14793068543b2d08c9f875038b3dc76,9,4,1,12404,,,0,"Update link for Auto-scaling SIG

Since we no longer update Wiki, let's reference to docs instead.
Depends-On: https://review.opendev.org/680768

Change-Id: Ie10cd6935fe2a84a14e02dcb4e7e7285deab2b9e
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/69/680769/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,ba18c4c2d14793068543b2d08c9f875038b3dc76,update-sigs, url: https://docs.openstack.org/auto-scaling-sig, url: https://wiki.openstack.org/wiki/Auto-scaling_SIG,1,1
openstack%2Fgovernance-sigs~master~I46bb58b52da2c2817be7bd73bcbd0ebe61b9c695,openstack/governance-sigs,master,I46bb58b52da2c2817be7bd73bcbd0ebe61b9c695,Sync Sphinx requirement,MERGED,2019-08-02 06:38:25.000000000,2019-09-18 14:13:19.000000000,2019-09-18 14:13:19.000000000,"[{'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 28935}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-08-02 06:38:25.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/94d68aac73f2acc79a8a2b8fd2d426d69e0c55b5', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I46bb58b52da2c2817be7bd73bcbd0ebe61b9c695\n'}]",0,674200,94d68aac73f2acc79a8a2b8fd2d426d69e0c55b5,12,7,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I46bb58b52da2c2817be7bd73bcbd0ebe61b9c695
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/00/674200/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,94d68aac73f2acc79a8a2b8fd2d426d69e0c55b5,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx>-1.5.0 # BSD,2,1
openstack%2Fauto-scaling-sig~master~Ifc81b6f5f23ec717cd193d7f4b1e76ed4147d67c,openstack/auto-scaling-sig,master,Ifc81b6f5f23ec717cd193d7f4b1e76ed4147d67c,Remove references to wiki page,MERGED,2019-09-18 13:52:50.000000000,2019-09-18 14:11:46.000000000,2019-09-18 14:10:15.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 13:52:50.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/a3b902703f08918186cf5af258ba0b27c5429c8d', 'message': 'Remove references to wiki page\n\nWe keep all the documentation in the repo. Wiki page is not maintained\nanymore.\n\nChange-Id: Ifc81b6f5f23ec717cd193d7f4b1e76ed4147d67c\n'}]",0,682903,a3b902703f08918186cf5af258ba0b27c5429c8d,7,2,1,16222,,,0,"Remove references to wiki page

We keep all the documentation in the repo. Wiki page is not maintained
anymore.

Change-Id: Ifc81b6f5f23ec717cd193d7f4b1e76ed4147d67c
",git fetch https://review.opendev.org/openstack/auto-scaling-sig refs/changes/03/682903/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,a3b902703f08918186cf5af258ba0b27c5429c8d,,,"For a comprehensive set of information and resources regarding the SIG, please see `the SIG's wiki page <https://wiki.openstack.org/wiki/Auto_scaling_SIG>`_. ",2,6
openstack%2Fmonasca-api~master~Ic7e984df9f7a0aa97108cddc55b95834cabe3938,openstack/monasca-api,master,Ic7e984df9f7a0aa97108cddc55b95834cabe3938,Disable legacy Kafka client in DevStack,MERGED,2019-07-10 12:25:50.000000000,2019-09-18 14:06:14.000000000,2019-09-18 14:04:56.000000000,"[{'_account_id': 10311}, {'_account_id': 11934}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-07-10 12:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b2e3e72bd8316c4835fc2cb2ef55d8601edc7340', 'message': 'Disable legacy Kafka client in DevStack\n\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}, {'number': 2, 'created': '2019-07-10 12:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6bdce0da45e1776e6d553767ee6413cd866b6cb7', 'message': 'Disable legacy Kafka client in DevStack\n\nDepends-On: https://review.opendev.org/644834\nDepends-On: https://review.opendev.org/644844\nDepends-On: https://review.opendev.org/644836\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}, {'number': 3, 'created': '2019-07-17 06:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/32417cc202eda435343f390e98061eb8728d6013', 'message': 'Disable legacy Kafka client in DevStack\n\nDepends-On: https://review.opendev.org/644844\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}, {'number': 4, 'created': '2019-07-17 06:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a5095cd3bb3f747488c54233a2274756ac6e362d', 'message': 'Disable legacy Kafka client in DevStack\n\nStory: 2003705\nTask: 35844\n\nDepends-On: https://review.opendev.org/644844\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}, {'number': 5, 'created': '2019-07-17 11:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/72251aa8e53b612a50d6c876dcbf8810e6c18dce', 'message': 'Disable legacy Kafka client in DevStack\n\nStory: 2003705\nTask: 35844\n\nDepends-On: https://review.opendev.org/644844\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}, {'number': 6, 'created': '2019-07-18 10:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/137b5dfbc500367a94f06e7efa088c5a51e0db23', 'message': 'Disable legacy Kafka client in DevStack\n\nStory: 2003705\nTask: 35844\n\nDepends-On: https://review.opendev.org/671451\nDepends-On: https://review.opendev.org/644844\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}, {'number': 7, 'created': '2019-08-06 11:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/809fd2fd688d453e158b3d96d1d7553b90ed4316', 'message': 'Disable legacy Kafka client in DevStack\n\nStory: 2003705\nTask: 35844\n\nDepends-On: https://review.opendev.org/671451\nDepends-On: https://review.opendev.org/644844\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}, {'number': 8, 'created': '2019-08-06 11:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/111be3b2d7fd908a71be79fc4d926137bcab6e6d', 'message': 'Disable legacy Kafka client in DevStack\n\nStory: 2003705\nTask: 35844\n\nDepends-On: https://review.opendev.org/671451\nDepends-On: https://review.opendev.org/644844\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}, {'number': 9, 'created': '2019-09-17 13:26:55.000000000', 'files': ['devstack/lib/persister.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/7f6dc5f2c27c7a8615e6b66119b5e539be24bbec', 'message': 'Disable legacy Kafka client in DevStack\n\nStory: 2003705\nTask: 35844\n\nDepends-On: https://review.opendev.org/671451\nDepends-On: https://review.opendev.org/644844\nChange-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938\n'}]",0,670047,7f6dc5f2c27c7a8615e6b66119b5e539be24bbec,57,7,9,16222,,,0,"Disable legacy Kafka client in DevStack

Story: 2003705
Task: 35844

Depends-On: https://review.opendev.org/671451
Depends-On: https://review.opendev.org/644844
Change-Id: Ic7e984df9f7a0aa97108cddc55b95834cabe3938
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/47/670047/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/persister.sh'],1,b2e3e72bd8316c4835fc2cb2ef55d8601edc7340,confluent_kafka," iniset ""$MONASCA_PERSISTER_CONF"" kafka legacy_kafka_client_enabled false",,1,0
openstack%2Fproject-config~master~I3dfe7ac8c84ddd70b7b10b0ea2c5a30de0b81d94,openstack/project-config,master,I3dfe7ac8c84ddd70b7b10b0ea2c5a30de0b81d94,Stop gerrit notification to neutron-stadium specific channels,MERGED,2019-09-18 01:40:31.000000000,2019-09-18 14:02:12.000000000,2019-09-18 14:02:12.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 01:40:31.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0113ab3d627446b0a3eb012884dc0e704ac2a9d9', 'message': 'Stop gerrit notification to neutron-stadium specific channels\n\nopenstack-fwaas, openstack-vpnaas and networking-sfc IRC channels\nare less active and have a smaller number of subscribers.\nAll notifications are now sent to openstack-neutron channel.\n\nThis is based on the openstack-discuss thread.\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-September/thread.html#9395\n\nChange-Id: I3dfe7ac8c84ddd70b7b10b0ea2c5a30de0b81d94\n'}]",0,682771,0113ab3d627446b0a3eb012884dc0e704ac2a9d9,8,3,1,841,,,0,"Stop gerrit notification to neutron-stadium specific channels

openstack-fwaas, openstack-vpnaas and networking-sfc IRC channels
are less active and have a smaller number of subscribers.
All notifications are now sent to openstack-neutron channel.

This is based on the openstack-discuss thread.
http://lists.openstack.org/pipermail/openstack-discuss/2019-September/thread.html#9395

Change-Id: I3dfe7ac8c84ddd70b7b10b0ea2c5a30de0b81d94
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/682771/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,0113ab3d627446b0a3eb012884dc0e704ac2a9d9,gerritbot-neutron-stadium, - openstack/neutron-fwaas-dashboard - openstack/neutron-vpnaas-dashboard,networking-sfc: events: - patchset-created - change-merged projects: - openstack/networking-sfc branches: - master openstack-fwaas: events: - patchset-created - change-merged projects: - openstack/neutron-fwaas - openstack/neutron-fwaas-dashboard branches: - master openstack-vpnaas: events: - patchset-created - change-merged projects: - openstack/neutron-vpnaas - openstack/neutron-vpnaas-dashboard branches: - master ,2,29
openstack%2Fneutron~master~If781a7733367a6636b9801a80a5c331910ed036e,openstack/neutron,master,If781a7733367a6636b9801a80a5c331910ed036e,Fix unit tests for ironic notifier,MERGED,2019-09-12 08:20:33.000000000,2019-09-18 13:56:46.000000000,2019-09-18 13:54:05.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-12 08:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae4e0e36b1d300bd38bb5021271bb97ff04ee637', 'message': 'Fix unit tests for ironic notifier\n\nWe need to mock all invocations of the ironic client, otherwise we see\nfailures with python-ironicclient 3.0.0.\n\nChange-Id: If781a7733367a6636b9801a80a5c331910ed036e\n'}, {'number': 2, 'created': '2019-09-16 12:16:23.000000000', 'files': ['neutron/tests/unit/notifiers/test_ironic.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/50af02536aab8a2c51bf3ad9f3cfe875088bc807', 'message': 'Fix unit tests for ironic notifier\n\nWe need to mock all invocations of the ironic client, otherwise we see\nfailures with python-ironicclient 3.0.0.\n\nChange-Id: If781a7733367a6636b9801a80a5c331910ed036e\n'}]",12,681665,50af02536aab8a2c51bf3ad9f3cfe875088bc807,36,13,2,13252,,,0,"Fix unit tests for ironic notifier

We need to mock all invocations of the ironic client, otherwise we see
failures with python-ironicclient 3.0.0.

Change-Id: If781a7733367a6636b9801a80a5c331910ed036e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/681665/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/notifiers/test_ironic.py'],1,ae4e0e36b1d300bd38bb5021271bb97ff04ee637,fix-ironic-unittest," @mock.patch.object(client, 'Client', autospec=False) def test_process_port_update_event_bind_port(self, mock_client, mock_queue_event): self.ironic_notifier = ironic.Notifier() @mock.patch.object(client, 'Client', autospec=False) def test_process_port_update_event_bind_port_err(self, mock_client, mock_queue_event): self.ironic_notifier = ironic.Notifier() @mock.patch.object(client, 'Client', autospec=False) def test_process_port_update_event_unbind_port(self, mock_client, mock_queue_event): self.ironic_notifier = ironic.Notifier() @mock.patch.object(client, 'Client', autospec=False) def test_process_port_update_event_unbind_port_err(self, mock_client, mock_queue_event): self.ironic_notifier = ironic.Notifier() @mock.patch.object(client, 'Client', autospec=False) def test_process_port_delete_event(self, mock_client, mock_queue_event): self.ironic_notifier = ironic.Notifier() @mock.patch.object(client, 'Client', autospec=False) def test_process_port_event_empty_uuid_field(self, mock_client, mock_queue_event): self.ironic_notifier = ironic.Notifier() @mock.patch.object(client, 'Client', autospec=False) def test_queue_events(self, mock_client, mock_spawn_n): self.ironic_notifier = ironic.Notifier() self.ironic_notifier = ironic.Notifier() self.ironic_notifier = ironic.Notifier() self.ironic_notifier = ironic.Notifier()"," self.ironic_notifier = ironic.Notifier() def test_process_port_update_event_bind_port(self, mock_queue_event): def test_process_port_update_event_bind_port_err(self, mock_queue_event): def test_process_port_update_event_unbind_port(self, mock_queue_event): def test_process_port_update_event_unbind_port_err(self, mock_queue_event): def test_process_port_delete_event(self, mock_queue_event): def test_process_port_event_empty_uuid_field(self, mock_queue_event): def test_queue_events(self, mock_spawn_n):",29,8
openstack%2Foctavia~stable%2Frocky~Iab9fcca6e4df88b26e4d88003e2c2cfb48d90b5b,openstack/octavia,stable/rocky,Iab9fcca6e4df88b26e4d88003e2c2cfb48d90b5b,Do not run non-voting jobs in gate,MERGED,2019-09-18 07:32:30.000000000,2019-09-18 13:49:36.000000000,2019-09-18 13:44:57.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 07:32:30.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf0fa1d7dd5adac4d80c44a088d4ccb1d5161648', 'message': 'Do not run non-voting jobs in gate\n\nnon-voting jobs in gate pipeline are just wasting resources and get\nignored, do not run them.\n\nNote that master has no non-voting jobs, so this is not a backport.\n\nChange-Id: Iab9fcca6e4df88b26e4d88003e2c2cfb48d90b5b\n'}]",0,682812,cf0fa1d7dd5adac4d80c44a088d4ccb1d5161648,8,3,1,6547,,,0,"Do not run non-voting jobs in gate

non-voting jobs in gate pipeline are just wasting resources and get
ignored, do not run them.

Note that master has no non-voting jobs, so this is not a backport.

Change-Id: Iab9fcca6e4df88b26e4d88003e2c2cfb48d90b5b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/12/682812/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,cf0fa1d7dd5adac4d80c44a088d4ccb1d5161648,,, - octavia-v1-dsvm-scenario-multinode: voting: false - octavia-v1-dsvm-py3x-scenario-multinode: voting: false,0,4
openstack%2Fshade~master~I4bf743fb9f239115adf98734dbc6674a052e3d44,openstack/shade,master,I4bf743fb9f239115adf98734dbc6674a052e3d44,Use requests replace request,ABANDONED,2019-09-03 09:58:41.000000000,2019-09-18 13:47:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-03 09:58:41.000000000', 'files': ['shade/_heat/utils.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/8c85c2fc99fb4b529966eccc2960a8a56c0cac8a', 'message': 'Use requests replace request\n\nChange-Id: I4bf743fb9f239115adf98734dbc6674a052e3d44\n'}]",0,679738,8c85c2fc99fb4b529966eccc2960a8a56c0cac8a,3,1,1,30408,,,0,"Use requests replace request

Change-Id: I4bf743fb9f239115adf98734dbc6674a052e3d44
",git fetch https://review.opendev.org/openstack/shade refs/changes/38/679738/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/_heat/utils.py'],1,8c85c2fc99fb4b529966eccc2960a8a56c0cac8a,,import requests content = requests.get(url).content, # TODO(mordred) Use requests content = request.urlopen(url).read(),2,2
openstack%2Frequirements~master~I774a6c4d0454c17e180a5ebd77f97fd2dc0617bd,openstack/requirements,master,I774a6c4d0454c17e180a5ebd77f97fd2dc0617bd,Fix misspell word,ABANDONED,2019-09-11 08:05:16.000000000,2019-09-18 13:47:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-11 08:05:16.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c90e28f175685ccd34b53f98b699f7f32ab34ec', 'message': 'Fix misspell word\n\nChange-Id: I774a6c4d0454c17e180a5ebd77f97fd2dc0617bd\n'}]",0,681399,3c90e28f175685ccd34b53f98b699f7f32ab34ec,3,1,1,30408,,,0,"Fix misspell word

Change-Id: I774a6c4d0454c17e180a5ebd77f97fd2dc0617bd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/681399/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,3c90e28f175685ccd34b53f98b699f7f32ab34ec,,# NOTE(tonyb): Generally adding OpenStack services isn't allowed but some consumers of ceilometer,# NOTE(tonyb): Generally adding OpenSatck services isn't allowed but some consumers of ceilometer,1,1
openstack%2Fkolla-ansible~stable%2Frocky~Ic25c96a0ddcf4f69acbfb7a58acafec82c3b0aed,openstack/kolla-ansible,stable/rocky,Ic25c96a0ddcf4f69acbfb7a58acafec82c3b0aed,Add support to enable l3 port-forwarding plugin,MERGED,2019-09-12 03:10:23.000000000,2019-09-18 13:44:09.000000000,2019-09-18 13:42:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-09-12 03:10:23.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'ansible/group_vars/all.yml', 'releasenotes/notes/enable-l3-port-forwarding-fe9af935437fc070.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24c837ba84f9006396f7f72247499e57faabd676', 'message': 'Add support to enable l3 port-forwarding plugin\n\nAllows enabling neutron port forwarding plugin\nand l3 extension to forward ports from floating\nIP to a fixed neutron port.\n\nChange-Id: Ic25c96a0ddcf4f69acbfb7a58acafec82c3b0aed\nImplements: blueprint enable-l3-port-forwarding\n(cherry picked from commit 1662a77b55e3f4c9e512aff83d3a065b894c41b3)\n(cherry picked from commit f94d6c1ca457e787d2ef6bab27d735d37fc802a3)\n'}]",0,681636,24c837ba84f9006396f7f72247499e57faabd676,14,3,1,28721,,,0,"Add support to enable l3 port-forwarding plugin

Allows enabling neutron port forwarding plugin
and l3 extension to forward ports from floating
IP to a fixed neutron port.

Change-Id: Ic25c96a0ddcf4f69acbfb7a58acafec82c3b0aed
Implements: blueprint enable-l3-port-forwarding
(cherry picked from commit 1662a77b55e3f4c9e512aff83d3a065b894c41b3)
(cherry picked from commit f94d6c1ca457e787d2ef6bab27d735d37fc802a3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/681636/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/neutron/defaults/main.yml', 'releasenotes/notes/enable-l3-port-forwarding-fe9af935437fc070.yaml']",3,24c837ba84f9006396f7f72247499e57faabd676,bp/enable-l3-port-forwarding-stable/stein-stable/rocky,"--- features: - | Neutron port_forwarding service plugin, and l3 extension can be enabled with variable enable_neutron_port_forwarding. ",,9,0
openstack%2Fauto-scaling-sig~master~I002d4c232b78c4baf862514b7db28766c7a0e96b,openstack/auto-scaling-sig,master,I002d4c232b78c4baf862514b7db28766c7a0e96b,Update contribution guide and links,MERGED,2019-09-06 20:19:06.000000000,2019-09-18 13:39:10.000000000,2019-09-18 13:37:35.000000000,"[{'_account_id': 2394}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 20:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/23f0251093bb8b09307fa1d94bacb7dfc7675a16', 'message': 'Update contribution guide and links\n\nChange-Id: I002d4c232b78c4baf862514b7db28766c7a0e96b\n'}, {'number': 2, 'created': '2019-09-12 01:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/10871b6c1a4da71ba40fa6d8cde23ff677c06352', 'message': 'Update contribution guide and links\n\nChange-Id: I002d4c232b78c4baf862514b7db28766c7a0e96b\n'}, {'number': 3, 'created': '2019-09-12 10:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/0444f0840f6113203b583bdbb5ccccd19d428bfe', 'message': 'Update contribution guide and links\n\nChange-Id: I002d4c232b78c4baf862514b7db28766c7a0e96b\n'}, {'number': 4, 'created': '2019-09-18 13:04:00.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/da68dd4dfde6c9fd09ebb68de635515ed253f3ff', 'message': 'Update contribution guide and links\n\nChange-Id: I002d4c232b78c4baf862514b7db28766c7a0e96b\n'}]",12,680768,da68dd4dfde6c9fd09ebb68de635515ed253f3ff,15,3,4,12404,,,0,"Update contribution guide and links

Change-Id: I002d4c232b78c4baf862514b7db28766c7a0e96b
",git fetch https://review.opendev.org/openstack/auto-scaling-sig refs/changes/68/680768/4 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/index.rst']",2,23f0251093bb8b09307fa1d94bacb7dfc7675a16,update-docs,"This documentation is maintained by Auto-scaling SIG (Special Interest Group). And aim to provide more information or guideline for OpenStack Auto-scaling. Any Auto-scaling relates to OpenStack is considered scope of this special interest greoup.How to Join =========== Contributions to this SIG (like documentation, discussions, provide feedback, etc) are warmly encouraged; please see :doc:`the guide to contributing <meta/CONTRIBUTING>` for more details. Links for Auto-scaling SIG ========================== * `StoryBoard <https://storyboard.openstack.org/#!/project/openstack/auto-scaling-sig>`_ * `Repository <https://opendev.org/openstack/auto-scaling-sig>`_ * `Gerrit <http://review.openstack.org/#/q/status:open+project:openstack/auto-scaling-sig>`_ * `Meeting <http://eavesdrop.openstack.org/#Auto-scaling_SIG_Meeting>`_ * IRC: #openstack-auto-scaling-sig ","This documentation relates to some of the initiatives of OpenStack's Auto-scaling SIG (Special Interest Group). For more information on the SIG itself, see `the SIG's home page on the wiki <https://wiki.openstack.org/wiki/Auto-scaling_SIG>`_. Contributions to this documentation are warmly encouraged; please see :doc:`the guide to contributing <meta/CONTRIBUTING>`.",53,17
openstack%2Foctavia~stable%2Fqueens~Icddd2873abeb56a389a35356995df6dde70872b2,openstack/octavia,stable/queens,Icddd2873abeb56a389a35356995df6dde70872b2,Fix template that generates vrrp check script,MERGED,2019-09-16 07:14:36.000000000,2019-09-18 13:38:31.000000000,2019-09-18 13:37:07.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30881}]","[{'number': 1, 'created': '2019-09-16 07:14:36.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/70d97efb4e283264e25c1f5d63fd0707d1217a18', 'message': ""Fix template that generates vrrp check script\n\nCorrect the inline comment to not include an empty new line at the start\nof generated /var/lib/octavia/vrrp/check_script.sh that leads to this\nkind of error:\n\n>  Aug 26 11:49:32 amphora-12184e15-1ec3-4d80-98a7-c7d1ddb6716f\n> Keepalived_vrrp[15265]: Error exec-ing command\n> '/var/lib/octavia/vrrp/check_script.sh', error 8: Exec format error\n\nChange-Id: Icddd2873abeb56a389a35356995df6dde70872b2\n(cherry picked from commit 905499162b33fbac1fd604688d21b73f559ab70d)\n""}]",0,682283,70d97efb4e283264e25c1f5d63fd0707d1217a18,14,4,1,6469,,,0,"Fix template that generates vrrp check script

Correct the inline comment to not include an empty new line at the start
of generated /var/lib/octavia/vrrp/check_script.sh that leads to this
kind of error:

>  Aug 26 11:49:32 amphora-12184e15-1ec3-4d80-98a7-c7d1ddb6716f
> Keepalived_vrrp[15265]: Error exec-ing command
> '/var/lib/octavia/vrrp/check_script.sh', error 8: Exec format error

Change-Id: Icddd2873abeb56a389a35356995df6dde70872b2
(cherry picked from commit 905499162b33fbac1fd604688d21b73f559ab70d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/682283/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'],1,70d97efb4e283264e25c1f5d63fd0707d1217a18,patch-jinja2-stable/stein-stable/rocky-stable/queens,-#},#},1,1
openstack%2Frpm-packaging~master~I95c8d1b6701e2caf2c152d9f902af8dec231e4bf,openstack/rpm-packaging,master,I95c8d1b6701e2caf2c152d9f902af8dec231e4bf,keystone: Add patch to fix postgresql issue,MERGED,2019-09-16 09:32:40.000000000,2019-09-18 13:29:12.000000000,2019-09-18 13:29:12.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 09:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3cbdb4268dc34762d9d1576fa1a1431578be9bd9', 'message': 'keystone: Add patch to fix postgresql issue\n\nChange-Id: I95c8d1b6701e2caf2c152d9f902af8dec231e4bf\n'}, {'number': 2, 'created': '2019-09-18 10:13:15.000000000', 'files': ['openstack/keystone/keystone.spec.j2', 'openstack/keystone/0001-Fix-PostgreSQL-specifc-issue-with-credentials-encodi.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/48636c91d73fb796e76fbd14428ab0309f305e92', 'message': 'keystone: Add patch to fix postgresql issue\n\nChange-Id: I95c8d1b6701e2caf2c152d9f902af8dec231e4bf\n'}]",0,682320,48636c91d73fb796e76fbd14428ab0309f305e92,15,6,2,2062,,,0,"keystone: Add patch to fix postgresql issue

Change-Id: I95c8d1b6701e2caf2c152d9f902af8dec231e4bf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/20/682320/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/keystone/keystone.spec.j2', 'openstack/keystone/0001-Fix-PostgreSQL-specifc-issue-with-credentials-encodi.patch']",2,3cbdb4268dc34762d9d1576fa1a1431578be9bd9,,"From 7fa7bd30c7d2a95959ca96fbcf0e3d3e6ee75b4c Mon Sep 17 00:00:00 2001 From: Ralf Haferkamp <rhafer@suse.de> Date: Thu, 12 Sep 2019 14:44:08 +0200 Subject: [PATCH] Fix PostgreSQL specifc issue with credentials encoding Decode the encrypted credential value to a string value before handing it over the database, when running under Python 3.x. Otherwise the underlying database driver (e.g. psycopg2) might treat it as binary data. Change-Id: I87425b54f471e66a9ab3974ab46c4b7f3838b962 Closes-Bug: #1833739 --- keystone/credential/backends/sql.py | 17 ++++++++++++++++- 1 file changed, 16 insertions(+), 1 deletion(-) diff --git a/keystone/credential/backends/sql.py b/keystone/credential/backends/sql.py index e499e2a86..561874907 100644 --- a/keystone/credential/backends/sql.py +++ b/keystone/credential/backends/sql.py @@ -13,6 +13,8 @@ # under the License. from oslo_db import api as oslo_db_api +import six +from sqlalchemy.ext.hybrid import hybrid_property from keystone.common import driver_hints from keystone.common import sql @@ -29,11 +31,24 @@ class CredentialModel(sql.ModelBase, sql.ModelDictMixinWithExtras): user_id = sql.Column(sql.String(64), nullable=False) project_id = sql.Column(sql.String(64)) - encrypted_blob = sql.Column(sql.Text(), nullable=True) + _encrypted_blob = sql.Column('encrypted_blob', sql.Text(), nullable=True) type = sql.Column(sql.String(255), nullable=False) key_hash = sql.Column(sql.String(64), nullable=True) extra = sql.Column(sql.JsonBlob()) + @hybrid_property + def encrypted_blob(self): + return self._encrypted_blob + + @encrypted_blob.setter + def encrypted_blob(self, encrypted_blob): + # Make sure to hand over the encrypted credential as a string value + # to the backend driver to avoid the sql drivers (esp. psycopg2) + # treating this as binary data and e.g. hex-escape it. + if six.PY3 and isinstance(encrypted_blob, six.binary_type): + encrypted_blob = encrypted_blob.decode('utf-8') + self._encrypted_blob = encrypted_blob + class Credential(base.CredentialDriverBase): -- 2.23.0 ",,60,0
openstack%2Frpm-packaging~stable%2Frocky~If5f56bc5bdeb2628f86b5ba995a6d992ad8f6605,openstack/rpm-packaging,stable/rocky,If5f56bc5bdeb2628f86b5ba995a6d992ad8f6605,Allow smaller fd limit to be set to increase performance,MERGED,2019-09-13 11:18:02.000000000,2019-09-18 13:29:11.000000000,2019-09-18 13:29:11.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 11:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/847a15107b00cca2d8127f00732ed15e3d4334bb', 'message': 'Allow smaller fd limit to be set to increase performance\n\nThis is a cherry pick from https://review.opendev.org/#/c/613387/\n\nChange-Id: If5f56bc5bdeb2628f86b5ba995a6d992ad8f6605\n'}, {'number': 2, 'created': '2019-09-16 09:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/978f802bf4b98ba3e8e458dd49648a9b670b0339', 'message': 'Allow smaller fd limit to be set to increase performance\n\nThis is a cherry pick from https://review.opendev.org/#/c/613387/\n\nChange-Id: If5f56bc5bdeb2628f86b5ba995a6d992ad8f6605\n'}, {'number': 3, 'created': '2019-09-18 08:32:56.000000000', 'files': ['openstack/oslo.rootwrap/0001-Run-rootwrap-with-lower-fd-ulimit-by-default.patch', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7bb3dbf6a7cd9a2d50502530815a5242bdcc6609', 'message': 'Allow smaller fd limit to be set to increase performance\n\nThis is a cherry pick from https://review.opendev.org/#/c/613387/\n\nChange-Id: If5f56bc5bdeb2628f86b5ba995a6d992ad8f6605\n'}]",2,682027,7bb3dbf6a7cd9a2d50502530815a5242bdcc6609,20,7,3,6593,,,0,"Allow smaller fd limit to be set to increase performance

This is a cherry pick from https://review.opendev.org/#/c/613387/

Change-Id: If5f56bc5bdeb2628f86b5ba995a6d992ad8f6605
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/27/682027/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.rootwrap/0001-Run-rootwrap-with-lower-fd-ulimit-by-default.patch', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2']",2,847a15107b00cca2d8127f00732ed15e3d4334bb,,Source0: {{ source }}a # From https://review.opendev.org/#/c/613387/ Patch0: 0001-Run-rootwrap-with-lower-fd-ulimit-by-default.patch,Source0: {{ source }},176,1
openstack%2Frpm-packaging~master~I3db778d5824bf92d23fc05682b279b23d791a38d,openstack/rpm-packaging,master,I3db778d5824bf92d23fc05682b279b23d791a38d,watcher: Add missing BuildRequires for docs,MERGED,2019-09-18 11:27:09.000000000,2019-09-18 13:28:43.000000000,2019-09-18 13:28:43.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 11:27:09.000000000', 'files': ['openstack/watcher/watcher.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6a82f49ddd34811f00ef9dd8dff7cf08807c0cfa', 'message': 'watcher: Add missing BuildRequires for docs\n\nChange-Id: I3db778d5824bf92d23fc05682b279b23d791a38d\n'}]",0,682860,6a82f49ddd34811f00ef9dd8dff7cf08807c0cfa,9,5,1,2062,,,0,"watcher: Add missing BuildRequires for docs

Change-Id: I3db778d5824bf92d23fc05682b279b23d791a38d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/682860/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/watcher/watcher.spec.j2'],1,6a82f49ddd34811f00ef9dd8dff7cf08807c0cfa,,BuildRequires: {{ py3('sphinxcontrib-svg2pdfconverter') }},,1,0
openstack%2Frpm-packaging~master~I2eff50b537dd24b6ae775b71e4822ba34fd56b6b,openstack/rpm-packaging,master,I2eff50b537dd24b6ae775b71e4822ba34fd56b6b,Remove patch that went upstream,MERGED,2019-09-18 12:12:00.000000000,2019-09-18 13:18:24.000000000,2019-09-18 13:18:24.000000000,"[{'_account_id': 2062}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 12:12:00.000000000', 'files': ['openstack/designate/0001-Build-man-pages-for-the-commands-that-are-documented.patch', 'openstack/designate/designate.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fc0f0502089130d4355c203b87ea1c7fe4377efb', 'message': 'Remove patch that went upstream\n\nThis was merged recently in https://review.opendev.org/#/c/681723/\n\nChange-Id: I2eff50b537dd24b6ae775b71e4822ba34fd56b6b\n'}]",0,682883,fc0f0502089130d4355c203b87ea1c7fe4377efb,9,5,1,6593,,,0,"Remove patch that went upstream

This was merged recently in https://review.opendev.org/#/c/681723/

Change-Id: I2eff50b537dd24b6ae775b71e4822ba34fd56b6b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/682883/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/designate/0001-Build-man-pages-for-the-commands-that-are-documented.patch', 'openstack/designate/designate.spec.j2']",2,fc0f0502089130d4355c203b87ea1c7fe4377efb,remove_upstream_patch,,# 0001-Build-man-pages-for-the-commands-that-are-documented.patch Patch0: 0001-Build-man-pages-for-the-commands-that-are-documented.patch,0,36
openstack%2Fmistral~master~Ida722828e3f1481e08f52257405ddfa2175733fa,openstack/mistral,master,Ida722828e3f1481e08f52257405ddfa2175733fa,Use v2 designate client instead of v1,MERGED,2019-09-18 04:19:24.000000000,2019-09-18 13:09:13.000000000,2019-09-18 13:08:01.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 04:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2ac0f6b0b9814dd65b61796d352bd07b74e2d7b0', 'message': ""Use v2 designate client instead of v1\n\n* Module designateclient.v1 doesn't exist anymore after\n  python-designateclient 3.0.0 is out.\n\nChange-Id: Ida722828e3f1481e08f52257405ddfa2175733fa\n""}, {'number': 2, 'created': '2019-09-18 04:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/209090d505eec5e992a072cfc9f5b510c42604e7', 'message': ""Use v2 designate client instead of v1\n\n* Module designateclient.v1 doesn't exist anymore after\n  python-designateclient 3.0.0 is out.\n\nChange-Id: Ida722828e3f1481e08f52257405ddfa2175733fa\n""}, {'number': 3, 'created': '2019-09-18 05:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3bd6c664326bf18f0e48019ee3aa1f0189a0ff53', 'message': ""Use v2 designate client instead of v1\n\n* Module designateclient.v1 doesn't exist anymore after\n  python-designateclient 3.0.0 is out.\n\nChange-Id: Ida722828e3f1481e08f52257405ddfa2175733fa\n""}, {'number': 4, 'created': '2019-09-18 07:46:11.000000000', 'files': ['mistral/tests/unit/actions/openstack/test_generator.py', 'mistral/actions/openstack/actions.py', 'mistral/utils/openstack/keystone.py', 'mistral/actions/openstack/base.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/efc4cf078ec7012dec634db061b454625479161e', 'message': ""Use v2 designate client instead of v1\n\n* Module designateclient.v1 doesn't exist anymore after\n  python-designateclient 3.0.0 is out. The new client\n  requires a keystone session so all other parameters\n  were dropped. Since this service now requires a\n  a session the generator test now mocks the method\n  _get_fake_client() for this action.\n* Minor style changes.\n\nChange-Id: Ida722828e3f1481e08f52257405ddfa2175733fa\n""}]",0,682785,efc4cf078ec7012dec634db061b454625479161e,13,4,4,8731,,,0,"Use v2 designate client instead of v1

* Module designateclient.v1 doesn't exist anymore after
  python-designateclient 3.0.0 is out. The new client
  requires a keystone session so all other parameters
  were dropped. Since this service now requires a
  a session the generator test now mocks the method
  _get_fake_client() for this action.
* Minor style changes.

Change-Id: Ida722828e3f1481e08f52257405ddfa2175733fa
",git fetch https://review.opendev.org/openstack/mistral refs/changes/85/682785/4 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/actions.py'],1,2ac0f6b0b9814dd65b61796d352bd07b74e2d7b0,fix_designate_client_usage,designateclient = _try_import('designateclient.v2'),designateclient = _try_import('designateclient.v1'),1,1
openstack%2Fkolla-ansible~master~Ia0447674b9ec377a814f37b70b4863a2bd1348ce,openstack/kolla-ansible,master,Ia0447674b9ec377a814f37b70b4863a2bd1348ce,Fix prometheus-alertmanager cluster bug,MERGED,2019-09-13 18:21:05.000000000,2019-09-18 12:50:21.000000000,2019-09-18 11:43:03.000000000,"[{'_account_id': 10068}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30272}]","[{'number': 1, 'created': '2019-09-13 18:21:05.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01eb7a63a5121a2580615c2c7fa85490ee916c7a', 'message': 'Fix prometheus-alertmanager cluster bug\n\nEdited the\nansible/roles/prometheus/templates/prometheus-alertmanager.json.j2 file\nto change the mesh.peer and mesh.listen-address to cluter.peer and\ncluster.listen-address.  This stopped alertmanager from crashing with\nerror ""--mesh.peer is an invalid flag""\n\nChange-Id: Ia0447674b9ec377a814f37b70b4863a2bd1348ce\nSigned-off-by: Mark Flynn <markandrewflynn@gmail.com>\n'}]",0,682132,01eb7a63a5121a2580615c2c7fa85490ee916c7a,12,6,1,30975,,,0,"Fix prometheus-alertmanager cluster bug

Edited the
ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2 file
to change the mesh.peer and mesh.listen-address to cluter.peer and
cluster.listen-address.  This stopped alertmanager from crashing with
error ""--mesh.peer is an invalid flag""

Change-Id: Ia0447674b9ec377a814f37b70b4863a2bd1348ce
Signed-off-by: Mark Flynn <markandrewflynn@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/682132/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'],1,01eb7a63a5121a2580615c2c7fa85490ee916c7a,maflynn-prometheus-alertmanager-bugfix," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --cluster.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"","," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --mesh.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --mesh.peer={{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"",",1,1
openstack%2Fproject-config~master~Ia575886287153f5aab1f3833bcace4da9ea76a00,openstack/project-config,master,Ia575886287153f5aab1f3833bcace4da9ea76a00,"Revert ""Remove accessbot from #openstack-kayobe""",MERGED,2019-09-18 12:06:27.000000000,2019-09-18 12:31:39.000000000,2019-09-18 12:31:39.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 12:06:27.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/085f3626e31d8804c3cbb45241562fbb5130128a', 'message': 'Revert ""Remove accessbot from #openstack-kayobe""\n\nWe should keep the channel in case we need it again in the future, there\'s no real overhead for keeping it.\n\nThis reverts commit 2276558a9ba178c0fe8d09d442e6c34ecee1b393.\n\nChange-Id: Ia575886287153f5aab1f3833bcace4da9ea76a00\n'}]",0,682881,085f3626e31d8804c3cbb45241562fbb5130128a,6,4,1,6547,,,0,"Revert ""Remove accessbot from #openstack-kayobe""

We should keep the channel in case we need it again in the future, there's no real overhead for keeping it.

This reverts commit 2276558a9ba178c0fe8d09d442e6c34ecee1b393.

Change-Id: Ia575886287153f5aab1f3833bcace4da9ea76a00
",git fetch https://review.opendev.org/openstack/project-config refs/changes/81/682881/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,085f3626e31d8804c3cbb45241562fbb5130128a,, - name: openstack-kayobe,,1,0
openstack%2Fnetworking-ovn~stable%2Fstein~I01e95ceb10bd6b4e0d9562c9a2abbefa85cdf1d7,openstack/networking-ovn,stable/stein,I01e95ceb10bd6b4e0d9562c9a2abbefa85cdf1d7,Pass Domain Name to dhcp options,MERGED,2019-09-04 11:11:49.000000000,2019-09-18 12:13:27.000000000,2019-09-18 12:12:06.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-04 11:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fa81351a0759b15e290787928c042fe74a2f3048', 'message': 'Pass Domain Name to dhcp options\n\nOn subnet create dns_options are passed to OVN.\nThis patch adds missing domain_name field, which\nis needed to support InternalDNS functionality.\n\nChange-Id: I01e95ceb10bd6b4e0d9562c9a2abbefa85cdf1d7\n(cherry picked from commit 8c9501f6d74141af0127630c420c756c5f885c1f)\n'}, {'number': 2, 'created': '2019-09-06 05:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/221c8b0f5395d9fe37df5ec1b31871ce21a96fbb', 'message': 'Pass Domain Name to dhcp options\n\nOn subnet create dns_options are passed to OVN.\nThis patch adds missing domain_name field, which\nis needed to support InternalDNS functionality.\n\nChange-Id: I01e95ceb10bd6b4e0d9562c9a2abbefa85cdf1d7\n(cherry picked from commit 8c9501f6d74141af0127630c420c756c5f885c1f)\n'}, {'number': 3, 'created': '2019-09-16 06:59:21.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/300c2e09311a4336ce155c701d5c824745b92f80', 'message': 'Pass Domain Name to dhcp options\n\nOn subnet create dns_options are passed to OVN.\nThis patch adds missing domain_name field, which\nis needed to support InternalDNS functionality.\n\nChange-Id: I01e95ceb10bd6b4e0d9562c9a2abbefa85cdf1d7\n(cherry picked from commit 8c9501f6d74141af0127630c420c756c5f885c1f)\n'}]",0,679965,300c2e09311a4336ce155c701d5c824745b92f80,38,5,3,24791,,,0,"Pass Domain Name to dhcp options

On subnet create dns_options are passed to OVN.
This patch adds missing domain_name field, which
is needed to support InternalDNS functionality.

Change-Id: I01e95ceb10bd6b4e0d9562c9a2abbefa85cdf1d7
(cherry picked from commit 8c9501f6d74141af0127630c420c756c5f885c1f)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/65/679965/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py']",3,fa81351a0759b15e290787928c042fe74a2f3048,," _extension_drivers = ['dns'] def test_dhcp_options_domain_name(self): """"""Test for DHCP_Options domain name option This test needs dns extension_driver to be enabled. Test test_dhcp_options* are too complex so this case has been moved to separated one. """""" cidr = '10.0.0.0/24' data = { 'network': {'name': 'foo', 'dns_domain': 'foo.com.', 'tenant_id': self._tenant_id}} req = self.new_create_request('networks', data, self.fmt) res = req.get_response(self.api) net = self.deserialize(self.fmt, res)['network'] res = self._create_subnet(self.fmt, net['id'], cidr) subnet = self.deserialize(self.fmt, res)['subnet'] dhcp_mac = self._get_subnet_dhcp_mac(subnet) p = self._make_port( self.fmt, net['id'], fixed_ips=[ {'subnet_id': subnet['id']}]) expected_dhcp_options_rows = { 'cidr': '10.0.0.0/24', 'external_ids': {'subnet_id': subnet['id']}, 'options': {'dns_server': '{10.10.10.10}', 'domain_name': '""foo.com""', 'lease_time': '43200', 'mtu': '1450', 'router': '10.0.0.1', 'server_id': '10.0.0.1', 'server_mac': dhcp_mac}} self._verify_dhcp_option_row_for_port( p['port']['id'], expected_dhcp_options_rows) ",,52,0
openstack%2Fproject-config~master~I69b0f82c0af1899647aeddde58d20a3141be4c7e,openstack/project-config,master,I69b0f82c0af1899647aeddde58d20a3141be4c7e,Remove accessbot from #openstack-kayobe,MERGED,2019-09-17 09:20:49.000000000,2019-09-18 12:06:27.000000000,2019-09-17 11:29:43.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 09:20:49.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2276558a9ba178c0fe8d09d442e6c34ecee1b393', 'message': 'Remove accessbot from #openstack-kayobe\n\nThis channel will be merged into #openstack-kolla.\n\nChange-Id: I69b0f82c0af1899647aeddde58d20a3141be4c7e\n'}]",0,682591,2276558a9ba178c0fe8d09d442e6c34ecee1b393,13,4,1,14826,,,0,"Remove accessbot from #openstack-kayobe

This channel will be merged into #openstack-kolla.

Change-Id: I69b0f82c0af1899647aeddde58d20a3141be4c7e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/682591/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,2276558a9ba178c0fe8d09d442e6c34ecee1b393,,, - name: openstack-kayobe,0,1
openstack%2Foslo.concurrency~master~I91cc52e00e0a918dadd2a3a771bd322b0f165ed2,openstack/oslo.concurrency,master,I91cc52e00e0a918dadd2a3a771bd322b0f165ed2,Some test cleanup,MERGED,2019-09-17 21:08:12.000000000,2019-09-18 12:01:46.000000000,2019-09-18 10:56:22.000000000,"[{'_account_id': 708}, {'_account_id': 6928}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 21:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/898293eb7ffcdf341bd99ddfa837ef67aa200dda', 'message': ""Some test cleanup\n\n- Tests are based on oslotest.base.BaseTestCase, which uses the\n  NestedTempFile fixture, which uses the TempDir fixture, which adds a\n  cleanup routine to remove the base temporary directory it creates.\n  There's therefore no need for tests to clean up this directory, so all\n  the code that does that is removed.\n- The eventlet incarnation of tests was trying to make use of the `env`\n  external without whitelisting it, resulting in an ugly red deprecation\n  warning. This commit adds `env` to whitelist_externals in [testenv].\n- A handful of typos in the Beowulf quote are corrected.\n\nChange-Id: I91cc52e00e0a918dadd2a3a771bd322b0f165ed2\n""}, {'number': 2, 'created': '2019-09-17 21:13:33.000000000', 'files': ['oslo_concurrency/tests/unit/test_lockutils_eventlet.py', 'oslo_concurrency/tests/unit/test_processutils.py', 'tox.ini', 'oslo_concurrency/tests/unit/test_lockutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/fe86f5e4ae8aee42d685dcedb574b95a5c5ce85a', 'message': ""Some test cleanup\n\n- Tests are based on oslotest.base.BaseTestCase, which uses the\n  NestedTempFile fixture, which uses the TempDir fixture, which adds a\n  cleanup routine to remove the base temporary directory it creates.\n  There's therefore no need for tests to clean up this directory, so all\n  the code that does that is removed.\n- The eventlet incarnation of tests was trying to make use of the `env`\n  external without whitelisting it, resulting in an ugly red deprecation\n  warning. This commit adds `env` to whitelist_externals in [testenv].\n- A handful of typos in the Beowulf quote are corrected.\n\nChange-Id: I91cc52e00e0a918dadd2a3a771bd322b0f165ed2\n""}]",6,682747,fe86f5e4ae8aee42d685dcedb574b95a5c5ce85a,11,5,2,14070,,,0,"Some test cleanup

- Tests are based on oslotest.base.BaseTestCase, which uses the
  NestedTempFile fixture, which uses the TempDir fixture, which adds a
  cleanup routine to remove the base temporary directory it creates.
  There's therefore no need for tests to clean up this directory, so all
  the code that does that is removed.
- The eventlet incarnation of tests was trying to make use of the `env`
  external without whitelisting it, resulting in an ugly red deprecation
  warning. This commit adds `env` to whitelist_externals in [testenv].
- A handful of typos in the Beowulf quote are corrected.

Change-Id: I91cc52e00e0a918dadd2a3a771bd322b0f165ed2
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/47/682747/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_concurrency/tests/unit/test_lockutils_eventlet.py', 'oslo_concurrency/tests/unit/test_processutils.py', 'tox.ini', 'oslo_concurrency/tests/unit/test_lockutils.py']",4,898293eb7ffcdf341bd99ddfa837ef67aa200dda,test-cleanup," self.config(lock_path=tempfile.mkdtemp(), group='oslo_concurrency') sentinel = object() @lockutils.synchronized('testlock1', 'test-', external=True) def outer_lock(): @lockutils.synchronized('testlock2', 'test-', external=True) def inner_lock(): return sentinel return inner_lock() self.assertEqual(sentinel, outer_lock()) children = [] for n in range(50): queue = multiprocessing.Queue() proc = multiprocessing.Process( target=lock_files, args=(tempfile.mkdtemp(), queue)) proc.start() children.append((proc, queue)) for child, queue in children: child.join() count = queue.get(block=False) self.assertEqual(50, count) self.config(lock_path=tempfile.mkdtemp(), group='oslo_concurrency') self._do_test_lock_externally() self._do_test_lock_externally() self.config(lock_path=tempfile.mkdtemp(), group='oslo_concurrency') test_without_prefix() self.config(lock_path=tempfile.mkdtemp(), group='oslo_concurrency') test_without_hypen() self.config(lock_path=tempfile.mkdtemp(), group='oslo_concurrency') # Note(flaper87): Lock is not external, which means # a semaphore will be yielded with lockutils.lock(""test"") as sem: if six.PY2: self.assertIsInstance(sem, threading._Semaphore) else: self.assertIsInstance(sem, threading.Semaphore) # NOTE(flaper87): Lock is external so an InterProcessLock # will be yielded. with lockutils.lock(""test2"", external=True) as lock: self.assertTrue(lock.exists()) with lockutils.lock(""test1"", external=True) as lock1: self.assertIsInstance(lock1, lockutils.InterProcessLock) self.config(lock_path=tempfile.mkdtemp(), group='oslo_concurrency') with lockutils.lock(""test"") as sem: if six.PY2: self.assertIsInstance(sem, threading._Semaphore) else: self.assertIsInstance(sem, threading.Semaphore) with lockutils.lock(""test2"", external=True) as lock: self.assertTrue(lock.exists()) with lockutils.lock(""test2"", external=True) as lock: self.assertTrue(lock.exists()) # NOTE(flaper87): Lock should be free # but semaphore should already exist. with lockutils.lock(""test"") as sem2: self.assertEqual(sem, sem2) self._test_remove_lock_external_file(tempfile.mkdtemp(),"," tempdir = tempfile.mkdtemp() try: self.config(lock_path=tempdir, group='oslo_concurrency') sentinel = object() @lockutils.synchronized('testlock1', 'test-', external=True) def outer_lock(): @lockutils.synchronized('testlock2', 'test-', external=True) def inner_lock(): return sentinel return inner_lock() self.assertEqual(sentinel, outer_lock()) finally: if os.path.exists(tempdir): shutil.rmtree(tempdir) handles_dir = tempfile.mkdtemp() try: children = [] for n in range(50): queue = multiprocessing.Queue() proc = multiprocessing.Process( target=lock_files, args=(handles_dir, queue)) proc.start() children.append((proc, queue)) for child, queue in children: child.join() count = queue.get(block=False) self.assertEqual(50, count) finally: if os.path.exists(handles_dir): shutil.rmtree(handles_dir, ignore_errors=True) lock_dir = tempfile.mkdtemp() self.config(lock_path=lock_dir, group='oslo_concurrency') try: self._do_test_lock_externally() finally: if os.path.exists(lock_dir): shutil.rmtree(lock_dir, ignore_errors=True) try: self._do_test_lock_externally() finally: if os.path.exists(lock_dir): shutil.rmtree(lock_dir, ignore_errors=True) lock_dir = tempfile.mkdtemp() self.config(lock_path=lock_dir, group='oslo_concurrency') try: test_without_prefix() finally: if os.path.exists(lock_dir): shutil.rmtree(lock_dir, ignore_errors=True) lock_dir = tempfile.mkdtemp() self.config(lock_path=lock_dir, group='oslo_concurrency') try: test_without_hypen() finally: if os.path.exists(lock_dir): shutil.rmtree(lock_dir, ignore_errors=True) lock_dir = tempfile.mkdtemp() self.config(lock_path=lock_dir, group='oslo_concurrency') try: # Note(flaper87): Lock is not external, which means # a semaphore will be yielded with lockutils.lock(""test"") as sem: if six.PY2: self.assertIsInstance(sem, threading._Semaphore) else: self.assertIsInstance(sem, threading.Semaphore) # NOTE(flaper87): Lock is external so an InterProcessLock # will be yielded. with lockutils.lock(""test2"", external=True) as lock: self.assertTrue(lock.exists()) with lockutils.lock(""test1"", external=True) as lock1: self.assertIsInstance(lock1, lockutils.InterProcessLock) finally: if os.path.exists(lock_dir): shutil.rmtree(lock_dir, ignore_errors=True) lock_dir = tempfile.mkdtemp() self.config(lock_path=lock_dir, group='oslo_concurrency') sem = None try: with lockutils.lock(""test"") as sem: if six.PY2: self.assertIsInstance(sem, threading._Semaphore) else: self.assertIsInstance(sem, threading.Semaphore) with lockutils.lock(""test2"", external=True) as lock: self.assertTrue(lock.exists()) # NOTE(flaper87): Lock should be free with lockutils.lock(""test2"", external=True) as lock: self.assertTrue(lock.exists()) # but semaphore should already exist. with lockutils.lock(""test"") as sem2: self.assertEqual(sem, sem2) finally: if os.path.exists(lock_dir): shutil.rmtree(lock_dir, ignore_errors=True) if os.path.exists(lock_dir): shutil.rmtree(lock_dir, ignore_errors=True) lock_dir = tempfile.mkdtemp() self._test_remove_lock_external_file(lock_dir,",84,136
openstack%2Fkolla-ansible~master~Ia1ba058c1b74b06b678f45544883e567e2b4eb55,openstack/kolla-ansible,master,Ia1ba058c1b74b06b678f45544883e567e2b4eb55,Ignore create_cells and discover_computes when nova-api is disabled,MERGED,2019-09-11 05:12:15.000000000,2019-09-18 11:46:10.000000000,2019-09-18 11:43:18.000000000,"[{'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26970}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-09-11 05:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/948d1509f622c4edb199207fb120cb389e1b1c68', 'message': ""Ignore create_cells and discover_computes when nova-api is disabled\n\nWhen nova-api group have no hosts, we don't have to run create_cells\nand discover_computes. Add conditional blocks to prevent to run them.\n\nChange-Id: Ia1ba058c1b74b06b678f45544883e567e2b4eb55\nCloses-Bug: #1843235\n""}, {'number': 2, 'created': '2019-09-11 08:52:01.000000000', 'files': ['ansible/roles/nova/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1f12d70a3b21ebf4733389107f31c9487a74102', 'message': ""Ignore create_cells and discover_computes when nova-api is disabled\n\nWhen nova-api group have no hosts, we don't have to run create_cells\nand discover_computes. Add conditional blocks to prevent to run them.\n\nChange-Id: Ia1ba058c1b74b06b678f45544883e567e2b4eb55\nCloses-Bug: #1843235\n""}]",1,681376,f1f12d70a3b21ebf4733389107f31c9487a74102,15,7,2,26970,,,0,"Ignore create_cells and discover_computes when nova-api is disabled

When nova-api group have no hosts, we don't have to run create_cells
and discover_computes. Add conditional blocks to prevent to run them.

Change-Id: Ia1ba058c1b74b06b678f45544883e567e2b4eb55
Closes-Bug: #1843235
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/681376/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/deploy.yml'],1,948d1509f622c4edb199207fb120cb389e1b1c68,bug/1843235, when: groups['nova-api'] | length > 0 when: groups['nova-api'] | length > 0,,2,0
openstack%2Fkolla~master~Id9db205c1af7607fde12dd8be9e0e25139597ccd,openstack/kolla,master,Id9db205c1af7607fde12dd8be9e0e25139597ccd,Update skydive to v0.25.0,MERGED,2019-09-12 14:40:21.000000000,2019-09-18 11:44:57.000000000,2019-09-18 11:43:20.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-12 14:40:21.000000000', 'files': ['docker/skydive/skydive-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2da7f76ee0e43f0965b577fab499d60f874776df', 'message': 'Update skydive to v0.25.0\n\nChange-Id: Id9db205c1af7607fde12dd8be9e0e25139597ccd\n'}]",0,681768,2da7f76ee0e43f0965b577fab499d60f874776df,17,5,1,22629,,,0,"Update skydive to v0.25.0

Change-Id: Id9db205c1af7607fde12dd8be9e0e25139597ccd
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/681768/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/skydive/skydive-base/Dockerfile.j2'],1,2da7f76ee0e43f0965b577fab499d60f874776df,bump_up_skydive,"RUN curl -o /usr/bin/skydive -L ""https://github.com/skydive-project/skydive/releases/download/v0.25.0/skydive"" \","RUN curl -o /usr/bin/skydive -L ""https://github.com/skydive-project/skydive/releases/download/v0.22.0/skydive"" \",1,1
openstack%2Fkolla-ansible~master~I4bf721b44220bde2d25d4d985f5ca411699a5a72,openstack/kolla-ansible,master,I4bf721b44220bde2d25d4d985f5ca411699a5a72,"Update python_path for ""source"" install type",MERGED,2019-08-12 06:51:15.000000000,2019-09-18 11:43:17.000000000,2019-09-18 11:43:17.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-12 06:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67ef9dae631902d8d7fce3fa7f2b520998847f0d', 'message': 'Update python_path for ""source"" install type\n\nBoth ubuntu source and binary install type support python3 now,\npython_path should be updated.\n\nDepends-On: https://review.opendev.org/675581\nPartially Implements: blueprint python3-support\n\nChange-Id: I4bf721b44220bde2d25d4d985f5ca411699a5a72\n'}, {'number': 2, 'created': '2019-08-12 07:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5c2d94261f27605419dff1f7b7829e4a61b3e57', 'message': 'Update python_path for ""source"" install type\n\nBoth ubuntu source and binary install type support python3 now,\npython_path should be updated.\n\nDepends-On: https://review.opendev.org/675581\nPartially Implements: blueprint python3-support\n\nChange-Id: I4bf721b44220bde2d25d4d985f5ca411699a5a72\n'}, {'number': 3, 'created': '2019-08-13 03:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a93225545ca0209f3a818975b0a0246724953db', 'message': 'Update python_path for ""source"" install type\n\nBoth ubuntu source and binary install type support python3 now,\npython_path should be updated.\n\nDepends-On: https://review.opendev.org/675581\nPartially Implements: blueprint python3-support\n\nChange-Id: I4bf721b44220bde2d25d4d985f5ca411699a5a72\n'}, {'number': 4, 'created': '2019-09-09 08:07:02.000000000', 'files': ['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16d0d4c3616054437f0b19b1e217c7cd535f01d5', 'message': 'Update python_path for ""source"" install type\n\nBoth ubuntu source and binary install type support python3 now,\npython_path should be updated.\n\nDepends-On: https://review.opendev.org/675581\nPartially Implements: blueprint python3-support\n\nChange-Id: I4bf721b44220bde2d25d4d985f5ca411699a5a72\n'}]",3,675822,16d0d4c3616054437f0b19b1e217c7cd535f01d5,21,9,4,19779,,,0,"Update python_path for ""source"" install type

Both ubuntu source and binary install type support python3 now,
python_path should be updated.

Depends-On: https://review.opendev.org/675581
Partially Implements: blueprint python3-support

Change-Id: I4bf721b44220bde2d25d4d985f5ca411699a5a72
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/675822/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2']",5,67ef9dae631902d8d7fce3fa7f2b520998847f0d,bp/python3-support," {% set python_path = '/usr/lib/python3/dist-packages' if kolla_base_distro in ['ubuntu', 'debian'] else '/usr/lib/python2.7/site-packages' %} {% set python_path = '/var/lib/kolla/venv/lib/python{{ distro_python_version }}/site-packages' %}{% if gnocchi_install_type == 'binary' and kolla_base_distro in ['ubuntu', 'debian'] %}", {% set python_path = '/usr/lib/python3/dist-packages' if kolla_base_distro == 'ubuntu' else '/usr/lib/python2.7/site-packages' %} {% set python_path = '/var/lib/kolla/venv/lib/python2.7/site-packages' %}{% if gnocchi_install_type == 'binary' and kolla_base_distro == 'ubuntu' %},12,12
openstack%2Foslo.log~master~Icf10c2c8b1a5c90602dc0880f838bc9481e9b87e,openstack/oslo.log,master,Icf10c2c8b1a5c90602dc0880f838bc9481e9b87e,Add Ussuri release to versionutils,MERGED,2019-09-04 14:56:36.000000000,2019-09-18 11:00:30.000000000,2019-09-18 10:59:30.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-04 14:56:36.000000000', 'files': ['oslo_log/versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/054df38b8cd8b58f9312b856433a77f5fa03a422', 'message': 'Add Ussuri release to versionutils\n\nNow that we have a name we can add it to the list.\n\nChange-Id: Icf10c2c8b1a5c90602dc0880f838bc9481e9b87e\n'}]",0,680034,054df38b8cd8b58f9312b856433a77f5fa03a422,9,3,1,6928,,,0,"Add Ussuri release to versionutils

Now that we have a name we can add it to the list.

Change-Id: Icf10c2c8b1a5c90602dc0880f838bc9481e9b87e
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/34/680034/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/versionutils.py'],1,054df38b8cd8b58f9312b856433a77f5fa03a422,ussuri," 'U': 'Ussuri', USSURI = 'U'",,2,0
openstack%2Fkeystone~master~Id5e6f74a5ed96fdf17e2c241466897974aa5a218,openstack/keystone,master,Id5e6f74a5ed96fdf17e2c241466897974aa5a218,Use correct repo for initial version check,MERGED,2019-09-16 18:19:13.000000000,2019-09-18 10:48:23.000000000,2019-09-18 10:46:11.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 28619}, {'_account_id': 30568}, {'_account_id': 30984}]","[{'number': 1, 'created': '2019-09-16 18:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/51a013fe1bb05c2cbaad944442245662e50aa20f', 'message': 'Use correct repo for initial version check\n\nUse the actual repo for the initial version check of the db version when\nperforming `db_sync --check`. Previously we always used the Legacy Repo\nas the repo path was not populated in the `get_init_version` function.\n\nThis allowed the case where the new expand/contract/migrate repos\nmatched the legacy repo version number, the `db_sync --check` command\nwould assume that everything was properly up to date regardless of the\nversion for the expand/contract/migrate repositories. This was most\nnoticable in the case of a db not under version control.\n\nChange-Id: Id5e6f74a5ed96fdf17e2c241466897974aa5a218\ncloses-bug: #1844157\n'}, {'number': 2, 'created': '2019-09-16 18:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/17f84fcfb25121b705fefe062378fdfa70f6af64', 'message': 'Use correct repo for initial version check\n\nUse the actual repo for the initial version check of the db version when\nperforming `db_sync --check`. Previously we always used the Legacy Repo\nas the repo path was not populated in the `get_init_version` function.\n\nThis allowed the case where the new expand/contract/migrate repos\nmatched the legacy repo version number, the `db_sync --check` command\nwould assume that everything was properly up to date regardless of the\nversion for the expand/contract/migrate repositories. This was most\nnoticable in the case of a db not under version control.\n\nChange-Id: Id5e6f74a5ed96fdf17e2c241466897974aa5a218\ncloses-bug: #1844157\n'}, {'number': 3, 'created': '2019-09-16 18:27:59.000000000', 'files': ['releasenotes/notes/bug-1844157-7808af9bcea0429d.yaml', 'keystone/common/sql/upgrades.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6bb14c0ff6c95bbce26ce8023ef621e408c111e6', 'message': 'Use correct repo for initial version check\n\nUse the actual repo for the initial version check of the db version when\nperforming `db_sync --check`. Previously we always used the Legacy Repo\nas the repo path was not populated in the `get_init_version` function.\n\nThis allowed the case where the new expand/contract/migrate repos\nmatched the legacy repo version number, the `db_sync --check` command\nwould assume that everything was properly up to date regardless of the\nversion for the expand/contract/migrate repositories. This was most\nnoticable in the case of a db not under version control.\n\nChange-Id: Id5e6f74a5ed96fdf17e2c241466897974aa5a218\ncloses-bug: #1844157\n'}]",0,682447,6bb14c0ff6c95bbce26ce8023ef621e408c111e6,27,11,3,2903,,,0,"Use correct repo for initial version check

Use the actual repo for the initial version check of the db version when
performing `db_sync --check`. Previously we always used the Legacy Repo
as the repo path was not populated in the `get_init_version` function.

This allowed the case where the new expand/contract/migrate repos
matched the legacy repo version number, the `db_sync --check` command
would assume that everything was properly up to date regardless of the
version for the expand/contract/migrate repositories. This was most
noticable in the case of a db not under version control.

Change-Id: Id5e6f74a5ed96fdf17e2c241466897974aa5a218
closes-bug: #1844157
",git fetch https://review.opendev.org/openstack/keystone refs/changes/47/682447/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/upgrades.py'],1,51a013fe1bb05c2cbaad944442245662e50aa20f,," repo = find_repo(repo) session.get_bind(), repo, get_init_version(repo))"," session.get_bind(), find_repo(repo), get_init_version())",2,1
openstack%2Fnova~stable%2Fstein~I1d6d2c1f734b28dbea5c67cf88717149dd4911d7,openstack/nova,stable/stein,I1d6d2c1f734b28dbea5c67cf88717149dd4911d7,Retrun 400 if invalid query parameters are specified,MERGED,2019-08-12 23:40:22.000000000,2019-09-18 10:48:22.000000000,2019-09-18 10:46:06.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-12 23:40:22.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/api/openstack/compute/schemas/flavors.py', 'nova/tests/functional/api_sample_tests/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d7e4e47d57c13bb6944ce3af0d16361f1129078a', 'message': 'Retrun 400 if invalid query parameters are specified\n\nThe following APIs return 500 error currently\nif an invalid sort key or an invalid sort direction\nquery parameter is specified.\n\n- GET /flavors\n- GET /flavors/detail\n\nMake the APIs return 400 error in that case.\n\nChange-Id: I1d6d2c1f734b28dbea5c67cf88717149dd4911d7\nCloses-Bug: #1835925\n(cherry picked from commit ae7ebdf45eb6c9c4406d851ab8ee6f2e47d5f275)\n'}]",0,676026,d7e4e47d57c13bb6944ce3af0d16361f1129078a,18,8,1,7634,,,0,"Retrun 400 if invalid query parameters are specified

The following APIs return 500 error currently
if an invalid sort key or an invalid sort direction
query parameter is specified.

- GET /flavors
- GET /flavors/detail

Make the APIs return 400 error in that case.

Change-Id: I1d6d2c1f734b28dbea5c67cf88717149dd4911d7
Closes-Bug: #1835925
(cherry picked from commit ae7ebdf45eb6c9c4406d851ab8ee6f2e47d5f275)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/676026/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'nova/api/openstack/compute/schemas/flavors.py', 'nova/tests/functional/api_sample_tests/test_flavors.py']",3,d7e4e47d57c13bb6944ce3af0d16361f1129078a,bug/1835925," sort_keys = ['created_at', 'description', 'disabled', 'ephemeral_gb', 'flavorid', 'id', 'is_public', 'memory_mb', 'name', 'root_gb', 'rxtx_factor', 'swap', 'updated_at', 'vcpu_weight', 'vcpus'] sort_dirs = ['asc', 'desc'] def test_flavors_list_with_sort_key(self): for sort_key in self.sort_keys: response = self._do_get('flavors?sort_key=%s' % sort_key) self._verify_response('flavors-list-resp', self.subs, response, 200) def test_flavors_list_with_invalid_sort_key(self): response = self._do_get('flavors?sort_key=invalid') self.assertEqual(400, response.status_code) def test_flavors_list_with_sort_dir(self): for sort_dir in self.sort_dirs: response = self._do_get('flavors?sort_dir=%s' % sort_dir) self._verify_response('flavors-list-resp', self.subs, response, 200) def test_flavors_list_with_invalid_sort_dir(self): response = self._do_get('flavors?sort_dir=invalid') self.assertEqual(400, response.status_code) def test_flavors_detail_with_sort_key(self): for sort_key in self.sort_keys: response = self._do_get('flavors/detail?sort_key=%s' % sort_key) self._verify_response('flavors-detail-resp', self.subs, response, 200) def test_flavors_detail_with_invalid_sort_key(self): response = self._do_get('flavors/detail?sort_key=invalid') self.assertEqual(400, response.status_code) def test_flavors_detail_with_sort_dir(self): for sort_dir in self.sort_dirs: response = self._do_get('flavors/detail?sort_dir=%s' % sort_dir) self._verify_response('flavors-detail-resp', self.subs, response, 200) def test_flavors_detail_with_invalid_sort_dir(self): response = self._do_get('flavors/detail?sort_dir=invalid') self.assertEqual(400, response.status_code) ",,76,3
openstack%2Fcyborg~master~Iaad80c7aef0f1b2e52600e4632bc395a7d75467b,openstack/cyborg,master,Iaad80c7aef0f1b2e52600e4632bc395a7d75467b,[wip]api part,ABANDONED,2019-09-18 08:01:12.000000000,2019-09-18 10:42:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-18 08:01:12.000000000', 'files': ['cyborg/conductor/manager.py', 'cyborg/db/sqlalchemy/api.py', 'cyborg/objects/device_profile.py', 'cyborg/api/controllers/v2/device_profiles.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/14d5f58d38e32ab6dc1b19fc4048898b86fbab13', 'message': '[wip]api part\n\nChange-Id: Iaad80c7aef0f1b2e52600e4632bc395a7d75467b\n'}]",0,682820,14d5f58d38e32ab6dc1b19fc4048898b86fbab13,3,1,1,24872,,,0,"[wip]api part

Change-Id: Iaad80c7aef0f1b2e52600e4632bc395a7d75467b
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/20/682820/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/conductor/manager.py', 'cyborg/db/sqlalchemy/api.py', 'cyborg/objects/device_profile.py', 'cyborg/api/controllers/v2/device_profiles.py']",4,14d5f58d38e32ab6dc1b19fc4048898b86fbab13,,"import jsonfrom oslo_serialization import jsonutilsfrom cyborg.api.controllers import utils as api_utilsfrom cyborg.common import policyfrom cyborg.quota import QUOTAS from cyborg.agent.rpcapi import AgentAPI groups = obj_devprof['groups'] # TODO add description field in db, objects and here # TODO Add RBAC for device profiles and all objects # TODO Support more than one devprof per request, if needed LOG.info(""[device_profiles] POST request = (%s) "", req_devprof_list) #new_devprof = pecan.request.conductor_api.device_profile_create(context, obj_devprof) # # TODO Only the conductor must write to the db ret = DeviceProfile.get_api_obj(new_devprof) raise exceptio.DeviceProfileNameNeeded() # TODO Replace this with convert_with_links() like other objects """"""Retrieve a single device profile by name."""""" ret = {""device_profiles"": api_obj_devprofs[0]} # TODO Replace this with convert_with_links() like other objects @expose.expose(None, wtypes.text, wtypes.text, status_code=http_client.NO_CONTENT) URL: /device_profiles/{uuid} OR /device_profiles?names=foo,bar :param uuid: UUID of a device_profile. :param names: Comma-delimited list of device profile names. obj_devprof = objects.DeviceProfile.get_by_uuid(context, uuid) pecan.request.conductor_api.device_profile_delete( context, obj_devprof) obj_devprof = objects.DeviceProfile.get_by_name(context, name) pecan.request.conductor_api.device_profile_delete( context, obj_devprof)"," # TODO(Sundar) add description field in db, objects and here # TODO(Sundar) Support more than one devprof per request, if needed LOG.info(""[device_profiles] POST request = (%s)"", req_devprof_list) # TODO(Sundar) Only the conductor must write to the db ret = DeviceProfile.get_api_obj(obj_devprof) raise exception.DeviceProfileNameNeeded() # TODO(Sundar) Replace this with convert_with_links() """"""Retrieve a single device profile by uuid."""""" ret = {""device_profile"": api_obj_devprofs[0]} # TODO(Sundar) Replace this with convert_with_links() @expose.expose(None, wtypes.text, status_code=http_client.NO_CONTENT) URL: /device_profiles/{uuid} OR /device_profiles?value=foo,bar :param value: Tis should be one of these two: - UUID of a device_profile. - Comma-delimited list of device profile names. # TODO(Sundar) Implement device profile delete via conductor objects.DeviceProfile.delete_by_uuid(context, uuid) objects.DeviceProfile.delete_by_name(context, name)",55,30
openstack%2Fkolla-ansible~master~Ib0222d5bfd67819b86ffbd1d0a98dc49cc55c370,openstack/kolla-ansible,master,Ib0222d5bfd67819b86ffbd1d0a98dc49cc55c370,Update stackalytics link for README,MERGED,2019-09-18 06:40:35.000000000,2019-09-18 10:35:04.000000000,2019-09-18 10:33:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-09-18 06:40:35.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8efc3d4ec6225619a80776cc1c3a4ad4df3bc145', 'message': 'Update stackalytics link for README\n\nChange-Id: Ib0222d5bfd67819b86ffbd1d0a98dc49cc55c370\n'}]",0,682806,8efc3d4ec6225619a80776cc1c3a4ad4df3bc145,8,3,1,30408,,,0,"Update stackalytics link for README

Change-Id: Ib0222d5bfd67819b86ffbd1d0a98dc49cc55c370
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/682806/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8efc3d4ec6225619a80776cc1c3a4ad4df3bc145,,code <https://stackalytics.com/?module=kolla-group&metric=commits>`__ andreviews <https://stackalytics.com/?module=kolla-group&metric=marks>`__.,code <http://stackalytics.com/?module=kolla-group&metric=commits>`__ andreviews <http://stackalytics.com/?module=kolla-group&metric=marks>`__.,2,2
openstack%2Fkeystone~master~I8f0f7a623a1741f461493d872849fae7ef3e8077,openstack/keystone,master,I8f0f7a623a1741f461493d872849fae7ef3e8077,Make system tokens work with domain-specific drivers,MERGED,2019-09-12 16:49:44.000000000,2019-09-18 10:24:28.000000000,2019-09-18 10:22:23.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 16:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b152d7e52caa817de0c42ed356dada07c7d0d370', 'message': 'Make system tokens work with domain-specific drivers\n\nWhen calling certain group or user APIs, keystone logic would attempt\nto figure out the domain to scope responses to. This was specific to\nenabling domain-specific driver support, where each domain is backed\nby a different identity store. This functionality is turned off by\ndefault. Since system-scoped tokens are not assocaited to a domain\n(unlike project-scoped tokens or domain-scoped tokens), the logic to\ndetermine a domain from a system-scoped token was breaking and\nreturning an erroneous HTTP 401 Unauthorized when system users\nattempted to list uesrs or groups.\n\nThis commit adds support for domain detection with system-scoped\ntokens.\n\nChange-Id: I8f0f7a623a1741f461493d872849fae7ef3e8077\nCloses-Bug: 1843609\n'}, {'number': 2, 'created': '2019-09-13 13:55:59.000000000', 'files': ['keystone/server/flask/common.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1843609-8498b132222596b7.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8f43b9cab00c86a455b2a9700b434e98b2e9c2d8', 'message': 'Make system tokens work with domain-specific drivers\n\nWhen calling certain group or user APIs, keystone logic would attempt\nto figure out the domain to scope responses to. This was specific to\nenabling domain-specific driver support, where each domain is backed\nby a different identity store. This functionality is turned off by\ndefault. Since system-scoped tokens are not associated to a domain\n(unlike project-scoped tokens or domain-scoped tokens), the logic to\ndetermine a domain from a system-scoped token was breaking and\nreturning an erroneous HTTP 401 Unauthorized when system users\nattempted to list users or groups.\n\nThis commit adds support for domain detection with system-scoped\ntokens.\n\nChange-Id: I8f0f7a623a1741f461493d872849fae7ef3e8077\nCloses-Bug: 1843609\n'}]",4,681833,8f43b9cab00c86a455b2a9700b434e98b2e9c2d8,20,7,2,5046,,,0,"Make system tokens work with domain-specific drivers

When calling certain group or user APIs, keystone logic would attempt
to figure out the domain to scope responses to. This was specific to
enabling domain-specific driver support, where each domain is backed
by a different identity store. This functionality is turned off by
default. Since system-scoped tokens are not associated to a domain
(unlike project-scoped tokens or domain-scoped tokens), the logic to
determine a domain from a system-scoped token was breaking and
returning an erroneous HTTP 401 Unauthorized when system users
attempted to list users or groups.

This commit adds support for domain detection with system-scoped
tokens.

Change-Id: I8f0f7a623a1741f461493d872849fae7ef3e8077
Closes-Bug: 1843609
",git fetch https://review.opendev.org/openstack/keystone refs/changes/33/681833/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/server/flask/common.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1843609-8498b132222596b7.yaml']",3,b152d7e52caa817de0c42ed356dada07c7d0d370,,"--- fixes: - | [`bug 1843609 <https://bugs.launchpad.net/keystone/+bug/1843609>`] Fixed an issue where system-scoped tokens couldn't be used to list users and groups (e.g., GET /v3/users or GET /v3/groups) if ``keystone.conf [identity] domain_specific_drivers_enabled=True`` and the API would return an ``HTTP 401 Unauthorized``. These APIs now recognize system-scoped tokens when using domain-specific drivers. ",,27,0
openstack%2Frequirements~master~I570dc471ded87d8d8f351d1559e16a631c3f650a,openstack/requirements,master,I570dc471ded87d8d8f351d1559e16a631c3f650a,update constraint for os-win to new release 4.3.2,MERGED,2019-09-17 15:53:07.000000000,2019-09-18 10:23:52.000000000,2019-09-18 10:22:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 15:53:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c14b4c55d0d2e3e9605f0612032f40304d96a464', 'message': 'update constraint for os-win to new release 4.3.2\n\nChange-Id: I570dc471ded87d8d8f351d1559e16a631c3f650a\nmeta:version: 4.3.2\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>\nmeta:release:Commit: Lucian Petrut <lpetrut@cloudbasesolutions.com>\nmeta:release:Change-Id: I085e990ab3e4abd01b530858b7bd52c0378b0588\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682678,c14b4c55d0d2e3e9605f0612032f40304d96a464,7,2,1,11131,,,0,"update constraint for os-win to new release 4.3.2

Change-Id: I570dc471ded87d8d8f351d1559e16a631c3f650a
meta:version: 4.3.2
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>
meta:release:Commit: Lucian Petrut <lpetrut@cloudbasesolutions.com>
meta:release:Change-Id: I085e990ab3e4abd01b530858b7bd52c0378b0588
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/682678/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c14b4c55d0d2e3e9605f0612032f40304d96a464,new-release,os-win===4.3.2,os-win===4.3.1,1,1
openstack%2Fcharm-cinder-purestorage~master~I9e853fecf1ce14c74f23654a9e335bbe7629af36,openstack/charm-cinder-purestorage,master,I9e853fecf1ce14c74f23654a9e335bbe7629af36,Fix ppa src,MERGED,2019-09-17 07:52:13.000000000,2019-09-18 10:21:41.000000000,2019-09-18 10:21:41.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 07:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/ea7f53781f6115389d77cdc1666d31248cde26bc', 'message': 'Fix ppa src\n\nChange-Id: I9e853fecf1ce14c74f23654a9e335bbe7629af36\n'}, {'number': 2, 'created': '2019-09-17 12:00:12.000000000', 'files': ['src/tests/bundles/bionic-queens.yaml', 'src/tests/bundles/disco-stein.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/75e99ff3d43855e5de3ce8cbb35dd50e812426f7', 'message': 'Fix ppa src\n\nChange-Id: I9e853fecf1ce14c74f23654a9e335bbe7629af36\n'}]",0,682566,75e99ff3d43855e5de3ce8cbb35dd50e812426f7,12,4,2,12549,,,0,"Fix ppa src

Change-Id: I9e853fecf1ce14c74f23654a9e335bbe7629af36
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/66/682566/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/tests/bundles/disco-stein.yaml']",3,ea7f53781f6115389d77cdc1666d31248cde26bc,update-ppa-src, driver-source: ppa:openstack-charmers/purestorage-stable, driver-source: ppa:narindergupta/purestorage,3,3
openstack%2Fopenstack-zuul-jobs~master~I5e42280c64425bce7579470a7bffdefc44442162,openstack/openstack-zuul-jobs,master,I5e42280c64425bce7579470a7bffdefc44442162,Fix horizon translation setup,MERGED,2019-09-18 09:49:37.000000000,2019-09-18 10:11:47.000000000,2019-09-18 10:10:36.000000000,"[{'_account_id': 2}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 09:49:37.000000000', 'files': ['roles/prepare-zanata-client/files/common_translation_update.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/403005bb56501d14f207ef22bd21ee85ae704f24', 'message': 'Fix horizon translation setup\n\nThe previous change left an extra /horizon in, so that we did:\ncd /home/zuul/src/opendev.org/openstack/horizon/horizon\n\nFix this.\n\nChange-Id: I5e42280c64425bce7579470a7bffdefc44442162\n'}]",0,682850,403005bb56501d14f207ef22bd21ee85ae704f24,8,3,1,6547,,,0,"Fix horizon translation setup

The previous change left an extra /horizon in, so that we did:
cd /home/zuul/src/opendev.org/openstack/horizon/horizon

Fix this.

Change-Id: I5e42280c64425bce7579470a7bffdefc44442162
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/50/682850/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/prepare-zanata-client/files/common_translation_update.sh'],1,403005bb56501d14f207ef22bd21ee85ae704f24,fix-i18n, (cd ${HORIZON_DIR} && pip install -c $UPPER_CONSTRAINTS_FILE .), (cd ${HORIZON_DIR}/horizon && pip install -c $UPPER_CONSTRAINTS_FILE .),1,1
openstack%2Fnova~stable%2Fstein~I54dff4d5ed513690d0fae65de47a1a9c23aebbd4,openstack/nova,stable/stein,I54dff4d5ed513690d0fae65de47a1a9c23aebbd4,Fix wrong assertions in unit tests,MERGED,2019-08-20 04:55:47.000000000,2019-09-18 10:03:24.000000000,2019-09-18 09:59:53.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-20 04:55:47.000000000', 'files': ['nova/tests/unit/cmd/test_baseproxy.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/88b2206f2d2a306280004c5e66c7911bb7b77f58', 'message': 'Fix wrong assertions in unit tests\n\nChange-Id: I54dff4d5ed513690d0fae65de47a1a9c23aebbd4\nCloses-Bug: #1840601\n(cherry picked from commit 8ea5e373381fc4152d2914742ef42a75acbbcc53)\n'}]",0,677388,88b2206f2d2a306280004c5e66c7911bb7b77f58,15,6,1,7634,,,0,"Fix wrong assertions in unit tests

Change-Id: I54dff4d5ed513690d0fae65de47a1a9c23aebbd4
Closes-Bug: #1840601
(cherry picked from commit 8ea5e373381fc4152d2914742ef42a75acbbcc53)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/677388/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_baseproxy.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py']",3,88b2206f2d2a306280004c5e66c7911bb7b77f58,bug/1840601," mock_get_attach_port_index.assert_called_once_with(self._session, 'fake-ref') _network_api.update_instance_vnic_index.assert_called_once_with( mock.ANY, self._instance, self._network_values, 1) mock_get_detach_port_index.assert_called_once_with(self._session, 'fake-ref', None) _network_api.update_instance_vnic_index.assert_called_once_with( mock.ANY, self._instance, self._network_values, None) mock_get_attach_port_index.assert_called_once_with(self._session, 'fake-ref') _network_api.update_instance_vnic_index.assert_called_once_with( mock.ANY, self._instance, self._network_values, 1)"," mock_get_attach_port_index(self._session, 'fake-ref') _network_api.update_instance_vnic_index(mock.ANY, self._instance, self._network_values, 1) mock_get_detach_port_index(self._session, 'fake-ref') _network_api.update_instance_vnic_index(mock.ANY, self._instance, self._network_values, None) mock_get_attach_port_index(self._session, 'fake-ref') _network_api.update_instance_vnic_index(mock.ANY, self._instance, self._network_values, 1)",21,16
openstack%2Fnova~stable%2Fstein~I9f73fcbe7c3dfd64e75ac8224c13934b03443cd5,openstack/nova,stable/stein,I9f73fcbe7c3dfd64e75ac8224c13934b03443cd5,Fix non-existent method of Mock,MERGED,2019-08-15 23:28:23.000000000,2019-09-18 10:01:57.000000000,2019-09-18 09:59:44.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-15 23:28:23.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d90186068b197f0912fa2bf525bb752f2d8f3c31', 'message': 'Fix non-existent method of Mock\n\nThere is no method called_once_with() in Mock object.\nUse assert_called_once_with() or assert_has_calls() instead.\n\nConflicts:\n    nova/tests/unit/conductor/tasks/test_live_migrate.py\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nNOTE(takashin): The conflict is due to not having the following changes\nin stable/stein.\n\n    I734cc01dce13f9e75a16639faf890ddb1661b7eb\n    Ief2c959d7c339e11b19e521de6e7d1be2f8722f8\n\nThe changes for ComputeAPIAPICellUnitTestCase (Cells v1 test cases) was\nadded in nova/tests/unit/compute/test_compute_api.py\nbecause the following change has not been applied in stable/stein.\n\n    Ib0e0b708c46e4330e51f8f8fdfbb02d45aaf0f44\n\nChange-Id: I9f73fcbe7c3dfd64e75ac8224c13934b03443cd5\nCloses-Bug: #1544522\n(cherry picked from commit cf7d28eb6ea47818e9f3584f65ec025f5a46326b)\n'}]",0,676838,d90186068b197f0912fa2bf525bb752f2d8f3c31,17,7,1,7634,,,0,"Fix non-existent method of Mock

There is no method called_once_with() in Mock object.
Use assert_called_once_with() or assert_has_calls() instead.

Conflicts:
    nova/tests/unit/conductor/tasks/test_live_migrate.py
    nova/tests/unit/virt/libvirt/test_driver.py

NOTE(takashin): The conflict is due to not having the following changes
in stable/stein.

    I734cc01dce13f9e75a16639faf890ddb1661b7eb
    Ief2c959d7c339e11b19e521de6e7d1be2f8722f8

The changes for ComputeAPIAPICellUnitTestCase (Cells v1 test cases) was
added in nova/tests/unit/compute/test_compute_api.py
because the following change has not been applied in stable/stein.

    Ib0e0b708c46e4330e51f8f8fdfbb02d45aaf0f44

Change-Id: I9f73fcbe7c3dfd64e75ac8224c13934b03443cd5
Closes-Bug: #1544522
(cherry picked from commit cf7d28eb6ea47818e9f3584f65ec025f5a46326b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/676838/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,d90186068b197f0912fa2bf525bb752f2d8f3c31,bug/1544522," mock_encryptor.detach_volume.assert_called_once_with(**encryption) mock_qemu_img_info.assert_called_once_with('/test/disk.local') mock_stat.assert_called_once_with('/test/disk') mock_get_size.assert_called_once_with('/test/disk') mock_get_net_name.assert_called_once_with(parent_address) mock_dev_lookup.assert_called_once_with(dev_name) mock_cleanup.assert_called_once_with(None, None, network_info=None, self.assertEqual(5, mock_rmtree.call_count) mock_rmtree.assert_has_calls([mock.call('/fake/inst_resize', ignore_errors=True)] * 5)"," mock_encryptor.detach_volume.called_once_with(self.context, **encryption) mock_qemu_img_info.called_once_with('/test/disk.local') mock_stat.called_once_with('/test/disk') mock_get_size.called_once_with('/test/disk') mock_get_net_name.called_once_with(parent_address) mock_dev_lookup.called_once_with(dev_name) mock_cleanup.called_once_with(None, None, network_info=None, mock_rmtree.called_once_with('/fake/inst')",33,31
openstack%2Fneutron~stable%2Fqueens~Ifdeac05b485a079e2288b413829bce0e39aef6fd,openstack/neutron,stable/queens,Ifdeac05b485a079e2288b413829bce0e39aef6fd,Check the namespace is ready in test_mtu_update tests,MERGED,2019-09-13 09:44:08.000000000,2019-09-18 09:59:39.000000000,2019-09-18 09:59:38.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-13 09:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b2c2d1edcf6c715ed5d26ed0689cf14591f9d03', 'message': 'Check the namespace is ready in test_mtu_update tests\n\nConflicts:\n    neutron/tests/fullstack/base.py\n    neutron/privileged/agent/linux/ip_lib.py\n    neutron/tests/fullstack/base.py\n\nChange-Id: Ifdeac05b485a079e2288b413829bce0e39aef6fd\nCloses-Bug: #1820865\n(cherry picked from commit 434b29a2cb131d38ed151e6a1d7f1ab756408198)\n'}, {'number': 2, 'created': '2019-09-16 09:31:38.000000000', 'files': ['neutron/tests/fullstack/test_dhcp_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/fullstack/base.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/261880aea5dbc6ffb51a7756e3ba940ea37ea3e8', 'message': 'Check the namespace is ready in test_mtu_update tests\n\nConflicts:\n    neutron/tests/fullstack/base.py\n    neutron/privileged/agent/linux/ip_lib.py\n    neutron/tests/fullstack/base.py\n\nChange-Id: Ifdeac05b485a079e2288b413829bce0e39aef6fd\nCloses-Bug: #1820865\n(cherry picked from commit 434b29a2cb131d38ed151e6a1d7f1ab756408198)\n'}]",2,682008,261880aea5dbc6ffb51a7756e3ba940ea37ea3e8,17,7,2,11975,,,0,"Check the namespace is ready in test_mtu_update tests

Conflicts:
    neutron/tests/fullstack/base.py
    neutron/privileged/agent/linux/ip_lib.py
    neutron/tests/fullstack/base.py

Change-Id: Ifdeac05b485a079e2288b413829bce0e39aef6fd
Closes-Bug: #1820865
(cherry picked from commit 434b29a2cb131d38ed151e6a1d7f1ab756408198)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/682008/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/test_dhcp_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/fullstack/base.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/fullstack/test_l3_agent.py']",6,2b2c2d1edcf6c715ed5d26ed0689cf14591f9d03,bug/1820865, self.assert_namespace_exists(namespace) self.assert_namespace_exists(namespace)," def _assert_namespace_exists(self, ns_name): common_utils.wait_until_true( lambda: ip_lib.network_namespace_exists(ns_name)) self._assert_namespace_exists(namespace) self._assert_namespace_exists(namespace)",61,10
openstack%2Fproject-config~master~I576f507d60b89a3a0192bb65c138c9c3bbd287f9,openstack/project-config,master,I576f507d60b89a3a0192bb65c138c9c3bbd287f9,Announce opendev/project-config changes in channels,MERGED,2019-09-17 21:54:44.000000000,2019-09-18 09:50:55.000000000,2019-09-18 09:50:55.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 21:54:44.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/645ef184c65b31110cc67feeeaf19d9bd9adb590', 'message': 'Announce opendev/project-config changes in channels\n\nAdded to #opendev and #openstack-infra.\n\nChange-Id: I576f507d60b89a3a0192bb65c138c9c3bbd287f9\n'}]",0,682757,645ef184c65b31110cc67feeeaf19d9bd9adb590,7,3,1,1,,,0,"Announce opendev/project-config changes in channels

Added to #opendev and #openstack-infra.

Change-Id: I576f507d60b89a3a0192bb65c138c9c3bbd287f9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/682757/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,645ef184c65b31110cc67feeeaf19d9bd9adb590,, - opendev/project-config - opendev/project-config,,2,0
openstack%2Fkolla~master~Ic7494eff4c740b6e528da4508dc88a64e697bc04,openstack/kolla,master,Ic7494eff4c740b6e528da4508dc88a64e697bc04,CI: CentOS - override mirrors ASAP + crmsh mirror override,MERGED,2019-09-17 10:17:34.000000000,2019-09-18 09:34:07.000000000,2019-09-18 09:30:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-17 10:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/63b5ed14cd5bbcda5e4604d7595adb1fde807d35', 'message': 'CI: CentOS - override mirrors ASAP + crmsh mirror override\n\nThis makes mirrored repos used as soon as they are installed\nin the image, instead of hitting upstreams.\n\nThis patch also adds crmsh override.\nUsable only after infra change merges.\n\nDepends-on: https://review.opendev.org/682576\nChange-Id: Ic7494eff4c740b6e528da4508dc88a64e697bc04\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-09-17 17:42:59.000000000', 'files': ['docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d853dc04e7e11687a8a0f57d49b276f156cc2c7', 'message': 'CI: CentOS - override mirrors ASAP + crmsh mirror override\n\nThis makes mirrored repos used as soon as they are installed\nin the image, instead of hitting upstreams.\n\nThis patch also adds crmsh override.\nUsable only after infra change merges.\n\nDepends-on: https://review.opendev.org/682576\nChange-Id: Ic7494eff4c740b6e528da4508dc88a64e697bc04\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",3,682600,6d853dc04e7e11687a8a0f57d49b276f156cc2c7,17,6,2,30491,,,0,"CI: CentOS - override mirrors ASAP + crmsh mirror override

This makes mirrored repos used as soon as they are installed
in the image, instead of hitting upstreams.

This patch also adds crmsh override.
Usable only after infra change merges.

Depends-on: https://review.opendev.org/682576
Change-Id: Ic7494eff4c740b6e528da4508dc88a64e697bc04
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/682600/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2']",2,63b5ed14cd5bbcda5e4604d7595adb1fde807d35,ci-override-mirrors,"{% block base_centos_repo_overrides_post_copy %}RUN sed -i \ -e ""/^mirrorlist/ d"" \ -e ""s|^#baseurl=http://mirror.centos.org|baseurl=http://{{ nodepool_mirror_host }}|"" \ /etc/yum.repos.d/CentOS-*.repo \ && sed -i \ -e ""s|http://download.opensuse.org|http://{{ nodepool_mirror_host }}/opensuse|"" \ /etc/yum.repos.d/crmsh.repo \ && sed -i \ -e ""s|https://cbs.centos.org/repos|{{ nodepool_cbs_centos_proxy }}|g"" \ /etc/yum.repos.d/opendaylight.repo {% raw %} {% endblock %} {% block base_centos_repo_overrides_post_rpm %} {% endraw %} RUN sed -i \ -e ""s|https://trunk.rdoproject.org|{{ nodepool_rdo_proxy }}|g"" \ /etc/yum.repos.d/delorean*.repo {% raw %} {% endblock %} {% block base_centos_repo_overrides_post_yum %} {% endraw %} /etc/yum.repos.d/epel*.repo{% endblock %} {% block base_footer %} {% if base_distro == ""ubuntu"" %}","{% elif base_distro == 'centos' %} {% endraw %} RUN sed -i -e ""/^mirrorlist/ d"" \ -e ""s|^#baseurl=http://mirror.centos.org|baseurl=http://{{ nodepool_mirror_host }}|"" \ /etc/yum.repos.d/CentOS-Base.repo {% raw %}{% block base_footer %} {% if base_distro == ""centos"" %}## TODO(yoctozepto): CentOS hits external EPEL repo for its repo package (epel-release-*.rpm), should use the mirrored /etc/yum.repos.d/epel*.repo \ && sed -i \ -e ""s|https://trunk.rdoproject.org|{{ nodepool_rdo_proxy }}|g"" \ -e ""s|https://cbs.centos.org/repos|{{ nodepool_cbs_centos_proxy }}|g"" \ /etc/yum.repos.d/*.repo{% elif base_distro == ""ubuntu"" %}",42,18
openstack%2Fopenstack-zuul-jobs~master~Ifa96087916d21be9b4a6fcce99088c5fc1565b41,openstack/openstack-zuul-jobs,master,Ifa96087916d21be9b4a6fcce99088c5fc1565b41,Use on-disk horizon dir for translations,MERGED,2019-09-18 07:03:13.000000000,2019-09-18 09:20:37.000000000,2019-09-18 09:19:00.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 07:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b0b302c5b54795058aa342504755683a1cd58b6d', 'message': 'Use on-disk horizon dir for translations\n\nInstead of checking out horizon ourselves, let Zuul do it for us. The\nupdated playbooks pass in the horizon directory as parameter.\n\nDepends-On: https://review.opendev.org/682808\nChange-Id: Ifa96087916d21be9b4a6fcce99088c5fc1565b41\n'}, {'number': 2, 'created': '2019-09-18 07:07:07.000000000', 'files': ['roles/prepare-zanata-client/files/upstream_translation_update.sh', 'roles/prepare-zanata-client/files/propose_translation_update.sh', 'roles/prepare-zanata-client/files/common_translation_update.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/40fb0dfa2e1f9c7e6efd21e8de678c176f497001', 'message': 'Use on-disk horizon dir for translations\n\nInstead of checking out horizon ourselves, let Zuul do it for us. The\nupdated playbooks pass in the horizon directory as parameter.\n\nThis fixes manila-ui/train translations since we do not have a\nstable/train branch for horizon and therefore the git commit fails. If\nwe use Zuul for it, it will checkout master as fallback for us.\n\nDepends-On: https://review.opendev.org/682808\nChange-Id: Ifa96087916d21be9b4a6fcce99088c5fc1565b41\n'}]",0,682809,40fb0dfa2e1f9c7e6efd21e8de678c176f497001,15,5,2,6547,,,0,"Use on-disk horizon dir for translations

Instead of checking out horizon ourselves, let Zuul do it for us. The
updated playbooks pass in the horizon directory as parameter.

This fixes manila-ui/train translations since we do not have a
stable/train branch for horizon and therefore the git commit fails. If
we use Zuul for it, it will checkout master as fallback for us.

Depends-On: https://review.opendev.org/682808
Change-Id: Ifa96087916d21be9b4a6fcce99088c5fc1565b41
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/09/682809/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/prepare-zanata-client/files/upstream_translation_update.sh', 'roles/prepare-zanata-client/files/common_translation_update.sh', 'roles/prepare-zanata-client/files/propose_translation_update.sh']",3,b0b302c5b54795058aa342504755683a1cd58b6d,i18n-clone,HORIZON_DIR=$4,,5,15
openstack%2Fsolum~master~I042b0813e257a65aefd872186957138ad132ba0a,openstack/solum,master,I042b0813e257a65aefd872186957138ad132ba0a,PDF documentation build,MERGED,2019-09-18 03:51:00.000000000,2019-09-18 09:18:16.000000000,2019-09-18 09:16:43.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 03:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/5bb1e141a253acead5f4a17561470a62d18d6aed', 'message': 'PDF documentation build\n\nChange-Id: I042b0813e257a65aefd872186957138ad132ba0a\n'}, {'number': 2, 'created': '2019-09-18 05:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1aa280c8fceae6b169b41cf524896c087c3f9b01', 'message': 'PDF documentation build\n\nChange-Id: I042b0813e257a65aefd872186957138ad132ba0a\n'}, {'number': 3, 'created': '2019-09-18 05:45:46.000000000', 'files': ['doc/source/index.rst', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/598c39a8fefef745e0c80ce5d9995fb812a51b57', 'message': 'PDF documentation build\n\nChange-Id: I042b0813e257a65aefd872186957138ad132ba0a\n'}]",0,682784,598c39a8fefef745e0c80ce5d9995fb812a51b57,11,2,3,14107,,,0,"PDF documentation build

Change-Id: I042b0813e257a65aefd872186957138ad132ba0a
",git fetch https://review.opendev.org/openstack/solum refs/changes/84/682784/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/conf.py', 'tox.ini']",3,5bb1e141a253acead5f4a17561470a62d18d6aed,build-pdf-docs,[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,37,2
openstack%2Fneutron~master~Ib3cc25460bea7030b4352fdc36147a0a16c7e422,openstack/neutron,master,Ib3cc25460bea7030b4352fdc36147a0a16c7e422,Add correct UPPER_CONSTRAINTS_FILE to neutron-functional job,MERGED,2019-09-12 19:31:49.000000000,2019-09-18 09:07:45.000000000,2019-09-18 09:03:04.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-12 19:31:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d60457d51252ea4cd20f56a2c4943e0066614c3', 'message': 'Add correct UPPER_CONSTRAINTS_FILE to neutron-functional job\n\nThis patch sets UPPER_CONSTRAINTS_FILE that it points to file created by\nzuul.\nDue to this change requirements with ""speculative future changes"" can be\nused in gate. So zuul will be now able to use requirements file from\npatch which is also in gate but is not merged yet.\n\nChange-Id: Ib3cc25460bea7030b4352fdc36147a0a16c7e422\n'}]",3,681893,4d60457d51252ea4cd20f56a2c4943e0066614c3,22,10,1,11975,,,0,"Add correct UPPER_CONSTRAINTS_FILE to neutron-functional job

This patch sets UPPER_CONSTRAINTS_FILE that it points to file created by
zuul.
Due to this change requirements with ""speculative future changes"" can be
used in gate. So zuul will be now able to use requirements file from
patch which is also in gate but is not merged yet.

Change-Id: Ib3cc25460bea7030b4352fdc36147a0a16c7e422
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/681893/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4d60457d51252ea4cd20f56a2c4943e0066614c3,speculative-functional-tests, - openstack/requirements tox_constraints_file: '{{ ansible_user_dir }}/src/opendev.org/openstack/requirements/upper-constraints.txt',,2,0
openstack%2Foctavia~master~I05439ea1dd01c35bedcfc3eaa5d17ed8dd2ca348,openstack/octavia,master,I05439ea1dd01c35bedcfc3eaa5d17ed8dd2ca348,Fix 'additive_only' parameter api-ref,MERGED,2019-09-11 22:54:51.000000000,2019-09-18 09:07:36.000000000,2019-09-18 08:59:39.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 22:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9c0469edd03f987afc07930134bf1222cc0dcea6', 'message': 'Fix \'additive_only\' parameter api-ref\n\nThe \'additive_only\' patch was missing the ""min_version"" parameter\nin the api-ref. This patch fixes that so users will know which API\nversion supports this parameter.\n\nChange-Id: I05439ea1dd01c35bedcfc3eaa5d17ed8dd2ca348\n'}, {'number': 2, 'created': '2019-09-12 08:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8f292c322b2b1ee95ddaf8eedbd159bf7fb6fd5', 'message': 'Fix \'additive_only\' parameter api-ref\n\nThe \'additive_only\' patch was missing the ""min_version"" parameter\nin the api-ref. This patch fixes that so users will know which API\nversion supports this parameter.\n\nChange-Id: I05439ea1dd01c35bedcfc3eaa5d17ed8dd2ca348\n'}, {'number': 3, 'created': '2019-09-18 05:50:00.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9d357ac76b0624f728f186e4d5969872bd92e28', 'message': 'Fix \'additive_only\' parameter api-ref\n\nThe \'additive_only\' patch was missing the ""min_version"" parameter\nin the api-ref. This patch fixes that so users will know which API\nversion supports this parameter.\n\nChange-Id: I05439ea1dd01c35bedcfc3eaa5d17ed8dd2ca348\n'}]",0,681625,b9d357ac76b0624f728f186e4d5969872bd92e28,13,3,3,11628,,,0,"Fix 'additive_only' parameter api-ref

The 'additive_only' patch was missing the ""min_version"" parameter
in the api-ref. This patch fixes that so users will know which API
version supports this parameter.

Change-Id: I05439ea1dd01c35bedcfc3eaa5d17ed8dd2ca348
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/681625/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,9c0469edd03f987afc07930134bf1222cc0dcea6,, min_version: 2.11,,1,0
openstack%2Fcinder~master~I5dc6024907e5fdb0ff0e852eed8e80792d363697,openstack/cinder,master,I5dc6024907e5fdb0ff0e852eed8e80792d363697,target/spdknvmf: Add max_queue_depth configuration parameter,MERGED,2019-07-22 15:03:39.000000000,2019-09-18 09:07:26.000000000,2019-09-18 09:03:09.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28050}, {'_account_id': 28743}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 30729}]","[{'number': 1, 'created': '2019-07-22 15:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/36e7d83e13d16d144cb8f6d490ed6bdcfdbd2136', 'message': 'target/spdknvmf: Add configuration parameter\n\nChange-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697\nSigned-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>\n'}, {'number': 2, 'created': '2019-07-23 13:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf74f289fb0c71c0c78e956bb2b3a803f84b8809', 'message': 'target/spdknvmf: Add configuration parameter\n\nChange-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697\nSigned-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>\n'}, {'number': 3, 'created': '2019-07-26 11:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02c25b3efe6aae255b7858754a7c12f815661481', 'message': 'target/spdknvmf: Add max_queue_depth configuration parameter\n\nUser can specify max_queue_depth parameter used in spdk\nwhen creating rdma transport.\n\nChange-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697\nSigned-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>\n'}, {'number': 4, 'created': '2019-07-29 13:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/773c41a3437bf481a16dcfa994b38c31f6eded05', 'message': 'target/spdknvmf: Add max_queue_depth configuration parameter\n\nUser can specify max_queue_depth parameter used in spdk\nwhen creating rdma transport.\n\nChange-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697\nSigned-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>\n'}, {'number': 5, 'created': '2019-08-09 09:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e582dd8962296f28f57dfe0187196b67742e641a', 'message': 'target/spdknvmf: Add max_queue_depth configuration parameter\n\nUser can specify max_queue_depth parameter used in spdk\nwhen creating rdma transport.\n\nChange-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697\nSigned-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>\n'}, {'number': 6, 'created': '2019-09-05 09:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5be2c00314a805d337a672f29e2d3de517044066', 'message': 'target/spdknvmf: Add max_queue_depth configuration parameter\n\nUser can specify max_queue_depth parameter used in spdk\nwhen creating rdma transport.\n\nChange-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697\nSigned-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>\n'}, {'number': 7, 'created': '2019-09-06 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/776fa44e80a8a1fef089e27ad93da9bdf1592a75', 'message': 'target/spdknvmf: Add max_queue_depth configuration parameter\n\nUser can specify max_queue_depth parameter used in spdk\nwhen creating rdma transport.\n\nChange-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697\nSigned-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>\n'}, {'number': 8, 'created': '2019-09-11 12:29:44.000000000', 'files': ['cinder/volume/targets/spdknvmf.py', 'releasenotes/notes/spdk-add-config-parameter-39a880ec22956fd2.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aacd4ae790799b97b252abd4fa8d603fd074964f', 'message': 'target/spdknvmf: Add max_queue_depth configuration parameter\n\nUser can specify max_queue_depth parameter used in spdk\nwhen creating rdma transport.\n\nChange-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697\nSigned-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>\n'}]",3,672064,aacd4ae790799b97b252abd4fa8d603fd074964f,276,52,8,30729,,,0,"target/spdknvmf: Add max_queue_depth configuration parameter

User can specify max_queue_depth parameter used in spdk
when creating rdma transport.

Change-Id: I5dc6024907e5fdb0ff0e852eed8e80792d363697
Signed-off-by: Pawel Kaminski <pawelx.kaminski@intel.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/672064/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/targets/spdknvmf.py'],1,36e7d83e13d16d144cb8f6d490ed6bdcfdbd2136,," cfg.IntOpt('spdk_max_queue_depth', default=64, help='Queue depth for rdma transport.'), 'max_queue_depth': self.configuration.spdk_max_queue_depth",,5,0
openstack%2Fglance~master~I4752d34b3c456ff64ce116004481d52e8b28c8c6,openstack/glance,master,I4752d34b3c456ff64ce116004481d52e8b28c8c6,Add Train milestone 3 releasenotes,MERGED,2019-09-12 18:13:06.000000000,2019-09-18 09:07:09.000000000,2019-09-18 09:03:12.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-12 18:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6e5366181b27702ec9ccb6976e335b23d92612da', 'message': 'Add Train milestone 3 releasenotes\n\nChange-Id: I4752d34b3c456ff64ce116004481d52e8b28c8c6\n'}, {'number': 2, 'created': '2019-09-13 13:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/687204b0afbc85926401abfed9ef5ffb0673fd27', 'message': 'Add Train milestone 3 releasenotes\n\nChange-Id: I4752d34b3c456ff64ce116004481d52e8b28c8c6\n'}, {'number': 3, 'created': '2019-09-17 13:48:21.000000000', 'files': ['releasenotes/notes/Train-milestone3-be5520106a182fa0.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/09dcdadff60440eb60887cd04622ebd7f5ff5ba2', 'message': 'Add Train milestone 3 releasenotes\n\nChange-Id: I4752d34b3c456ff64ce116004481d52e8b28c8c6\n'}]",3,681867,09dcdadff60440eb60887cd04622ebd7f5ff5ba2,23,8,3,5202,,,0,"Add Train milestone 3 releasenotes

Change-Id: I4752d34b3c456ff64ce116004481d52e8b28c8c6
",git fetch https://review.opendev.org/openstack/glance refs/changes/67/681867/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/Train-milestone3-be5520106a182fa0.yaml'],1,6e5366181b27702ec9ccb6976e335b23d92612da,train-m3-reno,--- features: - | Train release includes a change to how cache prefetching works. As the prefetcher was one of the last components still relying to the glance-registry the requirement was removed by implementing the prefetcher as part of glance-api. Crontab based prefetcher is not available anymore and the new prefetching will be set up through glance-api.conf. - | New image container_format 'compressed' added. For now this is supported only by Cinder where identifying compressed images from volumes are needed. upgrade: - | Location metadata key backend has been changed to store. Any environment that might be using the old backend key will have the key names changed through lazy update upon access. fixes: - | Bug 1836140_: Image deletion returns 500 if 'file' store is not enabled .. _1836140: https://bugs.launchpad.net/glance/+bug/1836140 ,,22,0
openstack%2Fnetworking-l2gw~master~I47a5ad7c95e7d255c460fd80d2c62c967c6b985c,openstack/networking-l2gw,master,I47a5ad7c95e7d255c460fd80d2c62c967c6b985c,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-26 06:39:15.000000000,2019-09-18 09:06:25.000000000,2019-09-18 09:06:25.000000000,"[{'_account_id': 8313}, {'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 06:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/4dad38e53f28fabb03e5c6541a5f94537aea403e', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I47a5ad7c95e7d255c460fd80d2c62c967c6b985c\n'}, {'number': 2, 'created': '2019-07-30 08:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/da67ad1c3c5f5fe966b3f0be22502d98e9ed9f2c', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I47a5ad7c95e7d255c460fd80d2c62c967c6b985c\n'}, {'number': 3, 'created': '2019-09-05 01:28:48.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f7a56781d37e474562239eb122612173433cf1c9', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I47a5ad7c95e7d255c460fd80d2c62c967c6b985c\n'}]",2,672881,f7a56781d37e474562239eb122612173433cf1c9,20,5,3,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I47a5ad7c95e7d255c460fd80d2c62c967c6b985c
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/81/672881/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4dad38e53f28fabb03e5c6541a5f94537aea403e,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fproject-config~master~If56a3f4c6a20414fdacb5c6395e9f0efd7eb8395,openstack/project-config,master,If56a3f4c6a20414fdacb5c6395e9f0efd7eb8395,Add horizon to translation jobs,MERGED,2019-09-18 06:54:15.000000000,2019-09-18 09:00:38.000000000,2019-09-18 09:00:38.000000000,"[{'_account_id': 2}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 06:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/41f487519180e359c9997a74b48d9f617d3d92b9', 'message': ""Add horizon to translation jobs\n\nThe translation jobs check out horizon directly, let's add it to\nrequired-projects instead so that we can use the on-disk copy.\n\nChange-Id: If56a3f4c6a20414fdacb5c6395e9f0efd7eb8395\n""}, {'number': 2, 'created': '2019-09-18 07:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b9371e3334135123c54b61ab5f2ff4f35bdf1619', 'message': ""Add horizon to translation jobs\n\nThe translation jobs check out horizon directly, let's add it to\nrequired-projects instead so that we can use the on-disk copy.\n\nPass the location of the horizon directory to the scripts.\n\nDepends-On: https://review.opendev.org/682809\nChange-Id: If56a3f4c6a20414fdacb5c6395e9f0efd7eb8395\n""}, {'number': 3, 'created': '2019-09-18 07:08:33.000000000', 'files': ['playbooks/translation/upstream-translation-update.yaml', 'playbooks/translation/propose-translation-update.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/27f3d26313b87efdb34a2eb986c916fc6131123f', 'message': ""Add horizon to translation jobs\n\nThe translation jobs check out horizon directly, let's add it to\nrequired-projects instead so that we can use the on-disk copy.\n\nPass the location of the horizon directory to the scripts.\n\nNeeded-By: https://review.opendev.org/682809\nChange-Id: If56a3f4c6a20414fdacb5c6395e9f0efd7eb8395\n""}]",0,682808,27f3d26313b87efdb34a2eb986c916fc6131123f,10,3,3,6547,,,0,"Add horizon to translation jobs

The translation jobs check out horizon directly, let's add it to
required-projects instead so that we can use the on-disk copy.

Pass the location of the horizon directory to the scripts.

Needed-By: https://review.opendev.org/682809
Change-Id: If56a3f4c6a20414fdacb5c6395e9f0efd7eb8395
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/682808/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,41f487519180e359c9997a74b48d9f617d3d92b9,i18n-clone, - openstack/horizon - openstack/horizon,,2,0
openstack%2Fhorizon~master~Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb,openstack/horizon,master,Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb,Specify proper container_format for 'vhd' disk_format,MERGED,2019-06-08 07:34:21.000000000,2019-09-18 08:59:41.000000000,2019-09-18 08:57:43.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27386}, {'_account_id': 27399}, {'_account_id': 27822}, {'_account_id': 29313}, {'_account_id': 30456}, {'_account_id': 30562}, {'_account_id': 30883}]","[{'number': 1, 'created': '2019-06-08 07:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d8f4f9b328f7a6ed1f1b5588f1a2c9cd7a5c7763', 'message': 'Add ovf container_format when updating image.\n\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n'}, {'number': 2, 'created': '2019-06-11 08:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2f9018f297192fd07ac340cace12afa5ac5735b5', 'message': 'Add ovf container_format when updating image.\nBug: 1539722\n\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n'}, {'number': 3, 'created': '2019-06-12 09:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0dfa381c484462a333bbf4c03f3aba538f0b884a', 'message': 'Add ovf container_format when updating image.\nCloses-Bug: #1539722\n\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n'}, {'number': 4, 'created': '2019-06-12 09:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3466ad5c36af07679c1e45980c0c0ecc18448b2a', 'message': ""Edit image changed to when editing image, the image_format is vhd, \nchange the container_format to ovf, which was 'bare' before.\n\nCloses-Bug: #1539722\n\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 5, 'created': '2019-06-14 07:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3eaadeab1a9f1db26b965b89140e04864fcd71fa', 'message': ""Add container_format 'ovf' when editing image\nEdit image changed to when editing image, the image_format is 'vhd', \nchange the container_format to 'ovf', which was 'bare' before.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 6, 'created': '2019-06-14 07:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/23a9038d5245852a55204c151a3dd2361117c7bb', 'message': ""Add container_format 'ovf' when editing image\n\nEdit image changed to when editing image, the image_format is 'vhd', \nchange the container_format to 'ovf', which was 'bare' before.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 7, 'created': '2019-06-17 06:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/30dd7895abe05636c6e5d5544498e03cb9d7a174', 'message': ""Add container_format 'ovf' when editing image\n\nEdit image changed to when editing image, the image_format is 'vhd',\nchange the container_format to 'ovf', which was 'bare' before.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 8, 'created': '2019-09-03 06:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b15e2a92084bde30e02681e49a3dddffcae2fa9f', 'message': ""Add container_format 'ovf' when editing image\n\nEdit image changed to when editing image, the image_format is 'vhd',\nchange the container_format to 'ovf', which was 'bare' before.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 9, 'created': '2019-09-03 08:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/80f0d915ce72d416532d44990fb7dfa46c3bf9bf', 'message': ""Add container_format 'ovf' when editing image\n\nEdit image changed to when editing image, the image_format is 'vhd',\nchange the container_format to 'ovf', which was 'bare' before.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 10, 'created': '2019-09-03 09:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/031d7360c9d54d82ce066eeb88dc51d669c702d6', 'message': ""Add container_format 'ovf' when editing image\n\nEdit image changed to when editing image, the image_format is 'vhd',\nchange the container_format to 'ovf', which was 'bare' before.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 11, 'created': '2019-09-18 00:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/466f582c7f1289245827c5c4c86546bda975e79b', 'message': ""Add container_format 'ovf' when editing image\n\nEdit image changed to when editing image, the image_format is 'vhd',\nchange the container_format to 'ovf', which was 'bare' before.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 12, 'created': '2019-09-18 05:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5abefe82be03dbdada305d0270ff2ff86cf59038', 'message': ""Specify proper container_format for 'vhd' disk_format\n\nWhen editing an image, if the disk_fomrat is 'vhd',\nthe container_format was wrongly set to 'bare' before.\n'ovf' is the correct container_format for 'vhd' disk images.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}, {'number': 13, 'created': '2019-09-18 06:21:21.000000000', 'files': ['openstack_dashboard/static/app/core/images/steps/edit-image/edit-image.controller.js', 'openstack_dashboard/static/app/core/images/steps/edit-image/edit-image.controller.spec.js', 'openstack_dashboard/test/unit/api/test_glance.py', 'openstack_dashboard/api/glance.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ba75bafc69c03f04b3c7d4f50e1cc9e3123743a3', 'message': ""Specify proper container_format for 'vhd' disk_format\n\nWhen editing an image, if the disk_fomrat is 'vhd',\nthe container_format was wrongly set to 'bare' before.\n'ovf' is the correct container_format for 'vhd' disk images.\n\nCloses-Bug: #1539722\nChange-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb\n""}]",19,664132,ba75bafc69c03f04b3c7d4f50e1cc9e3123743a3,64,12,13,30562,,,0,"Specify proper container_format for 'vhd' disk_format

When editing an image, if the disk_fomrat is 'vhd',
the container_format was wrongly set to 'bare' before.
'ovf' is the correct container_format for 'vhd' disk images.

Closes-Bug: #1539722
Change-Id: Ic6b0c66af0d5c8db2d802d6eea2b97721d92b7eb
",git fetch https://review.opendev.org/openstack/horizon refs/changes/32/664132/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/images/steps/edit-image/edit-image.controller.js'],1,d8f4f9b328f7a6ed1f1b5588f1a2c9cd7a5c7763,bug/1539722, if (ctrl.image_format === 'vhd') { ctrl.image.container_format = 'ovf'; },,3,0
openstack%2Foctavia~master~I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c,openstack/octavia,master,I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c,Use dual intermediate CAs for devstack,MERGED,2019-08-27 17:54:40.000000000,2019-09-18 08:59:37.000000000,2019-09-18 08:59:37.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-27 17:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e65aa0a39adaf784dfd859ef9e5b069b00d0608f', 'message': 'Use dual intermediate CAs for devstack\n\nThis patch updates the devstack plugin to use a dual certificate\nauthority (CA) with intermediate CAs for the Octavia controller\ndeployment.\nThis is a more realistic deployment model for testing.\nNote: This change uses weak security to save gate resources. Please\nrefer to the Octavia Certificate Configuration Guide for production\ninstructions.\n\nChange-Id: I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c\n'}, {'number': 2, 'created': '2019-08-27 18:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/76dbc425aa1e49ee99f998c21986d1205320b79a', 'message': 'Use dual intermediate CAs for devstack\n\nThis patch updates the devstack plugin to use a dual Certificate\nAuthority (CA) with intermediate CAs for the Octavia controller\ndeployment.\nThis is a more realistic deployment model for testing.\nNote: This change uses weak security to save gate resources. Please\nrefer to the Octavia Certificate Configuration Guide for production\ninstructions.\n\nChange-Id: I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c\n'}, {'number': 3, 'created': '2019-08-27 18:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ba6984c31c19ddbc033870d327a29223197e920e', 'message': 'Use dual intermediate CAs for devstack\n\nThis patch updates the devstack plugin to use a dual Certificate\nAuthority (CA) with intermediate CAs for the Octavia controller\ndeployment.\nThis is a more realistic deployment model for testing.\nNote: This change uses weak security to save gate resources. Please\nrefer to the Octavia Certificate Configuration Guide for production\ninstructions.\n\nChange-Id: I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c\n'}, {'number': 4, 'created': '2019-08-27 18:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2c2f4fd3ccdbc970245e15322eddd5fc9fb61427', 'message': 'Use dual intermediate CAs for devstack\n\nThis patch updates the devstack plugin to use a dual Certificate\nAuthority (CA) with intermediate CAs for the Octavia controller\ndeployment.\nThis is a more realistic deployment model for testing.\nNote: This change uses weak security to save gate resources. Please\nrefer to the Octavia Certificate Configuration Guide for production\ninstructions.\n\nChange-Id: I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c\n'}, {'number': 5, 'created': '2019-08-27 19:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/198daf308de8bfa13b5376c4980966e7ae7904ca', 'message': 'Use dual intermediate CAs for devstack\n\nThis patch updates the devstack plugin to use a dual Certificate\nAuthority (CA) with intermediate CAs for the Octavia controller\ndeployment.\nThis is a more realistic deployment model for testing.\nNote: This change uses weak security to save gate resources. Please\nrefer to the Octavia Certificate Configuration Guide for production\ninstructions.\n\nChange-Id: I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c\n'}, {'number': 6, 'created': '2019-08-27 23:28:32.000000000', 'files': ['devstack/pregenerated/certs/server_ca.cert.pem', 'devstack/pregenerated/certs/private/cakey.pem', 'bin/create_dual_intermediate_CA.sh', 'devstack/pregenerated/certs/private/client.cert-and-key.pem', 'bin/create_single_CA_intermediate_CA.sh', 'devstack/plugin.sh', 'bin/create_certificates.sh', 'devstack/pregenerated/certs/client.key', 'devstack/pregenerated/certs/private/server_ca.key.pem', 'bin/openssl.cnf', 'devstack/pregenerated/certs/server_ca-chain.cert.pem', 'devstack/pregenerated/certs/client_ca.cert.pem'], 'web_link': 'https://opendev.org/openstack/octavia/commit/950faea6e99433c162f460a8ec38b2688fdd5e99', 'message': 'Use dual intermediate CAs for devstack\n\nThis patch updates the devstack plugin to use a dual Certificate\nAuthority (CA) with intermediate CAs for the Octavia controller\ndeployment.\nThis is a more realistic deployment model for testing.\nNote: This change uses weak security to save gate resources. Please\nrefer to the Octavia Certificate Configuration Guide for production\ninstructions.\n\nChange-Id: I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c\n'}]",0,678923,950faea6e99433c162f460a8ec38b2688fdd5e99,16,4,6,11628,,,0,"Use dual intermediate CAs for devstack

This patch updates the devstack plugin to use a dual Certificate
Authority (CA) with intermediate CAs for the Octavia controller
deployment.
This is a more realistic deployment model for testing.
Note: This change uses weak security to save gate resources. Please
refer to the Octavia Certificate Configuration Guide for production
instructions.

Change-Id: I3ec135766c9a1ddb7ac6655c0ee1ccb1e78ead5c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/678923/4 && git format-patch -1 --stdout FETCH_HEAD,"['bin/create_dual_intermediate_CA.sh', 'bin/create_single_CA_intermediate_CA.sh', 'bin/openssl.cnf', 'devstack/plugin.sh', 'bin/create_certificates.sh']",5,e65aa0a39adaf784dfd859ef9e5b069b00d0608f,,,"#!/bin/bash # NOTE: This script should not be used for creating certificates in a # deployment. It is only used for some testing jobs. # Please follow the Octavia Certificate Configuration Guide when setting # up a deployment. See: # https://docs.openstack.org/octavia/latest/admin/guides/certificates.html # USAGE: <certificate directory> <openssl.cnf (example in etc/certificate) #Those are certificates for testing will be generated # #* ca_01.pem is a certificate authority file #* server.pem combines a key and a cert from this certificate authority #* client.key the client key #* client.pem the client certificate # #You will need to copy them to places the agent_api server/client can find and #specify it in the config. # #Example for client use: # #curl -k -v --key client.key --cacert ca_01.pem --cert client.pem https://0.0.0.0:9443/ # # #Notes: #For production use the ca issuing the client certificate and the ca issuing the server cetrificate #need to be different so a hacker can't just use the server certificate from a compromised amphora #to control all the others. # #Sources: #* https://communities.bmc.com/community/bmcdn/bmc_atrium_and_foundation_technologies/ #discovery/blog/2014/09/03/the-pulse-create-your-own-personal-ca-with-openssl # This describes how to create a CA and sign requests #* https://www.digitalocean.com/community/tutorials/ #openssl-essentials-working-with-ssl-certificates-private-keys-and-csrs - #how to issue csr and much more ## Create CA # Create directories CERT_DIR=$1 OPEN_SSL_CONF=$2 # etc/certificates/openssl.cnf VALIDITY_DAYS=${3:-18250} # defaults to 50 years echo ""!!!!!!!!!!!!!!!Do not use this script for deployments!!!!!!!!!!!!!"" echo ""Please use the Octavia Certificate Configuration guide:"" echo ""https://docs.openstack.org/octavia/latest/admin/guides/certificates.html"" echo ""!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"" echo $CERT_DIR mkdir -p $CERT_DIR cd $CERT_DIR if [[ $? -ne 0 ]]; then echo ""Failed to change to $CERT_DIR. Check the existence and permission"" exit 1 fi mkdir newcerts private if [[ $? -ne 0 ]]; then echo ""Failed to create directories. Check the permission"" exit 1 fi chmod 700 private # prepare files touch index.txt echo 01 > serial echo ""Create the CA's private and public keypair (2k long)"" openssl genrsa -passout pass:foobar -des3 -out private/cakey.pem 2048 echo ""You will be asked to enter some information about the certificate."" openssl req -x509 -passin pass:foobar -new -nodes -key private/cakey.pem \ -config $OPEN_SSL_CONF \ -subj ""/C=US/ST=Denial/L=Springfield/O=Dis/CN=www.example.com"" \ -days $VALIDITY_DAYS \ -out ca_01.pem echo ""Here is the certificate"" openssl x509 -in ca_01.pem -text -noout ## Create Server/Client CSR echo ""Generate a server key and a CSR"" openssl req \ -newkey rsa:2048 -nodes -keyout client.key \ -subj ""/C=US/ST=Denial/L=Springfield/O=Dis/CN=www.example.com"" \ -out client.csr echo ""Sign request"" openssl ca -passin pass:foobar -config $OPEN_SSL_CONF -in client.csr \ -days $VALIDITY_DAYS -out client-.pem -batch echo ""Generate single pem client.pem"" cat client-.pem client.key > client.pem echo ""Note: For production use the ca issuing the client certificate and the ca issuing the server"" echo ""certificate need to be different so a hacker can't just use the server certificate from a"" echo ""compromised amphora to control all the others."" echo ""To use the certificates copy them to the directory specified in the octavia.conf"" ",437,109
openstack%2Fopenstacksdk~master~I53d7d6267064f176a43a9cee51a0ee2b964e4a5c,openstack/openstacksdk,master,I53d7d6267064f176a43a9cee51a0ee2b964e4a5c,Cleanup doc/source/conf.py,MERGED,2019-09-04 05:15:18.000000000,2019-09-18 08:55:23.000000000,2019-09-18 08:53:10.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-04 05:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6bfcb0859b39e1a679c9f71f6b559c9a00954fda', 'message': 'Cleanup doc/source/conf.py\n\nRemove old options that are part of openstackdocstheme default settings\nsince at least version 1.20.\n\nChange-Id: I53d7d6267064f176a43a9cee51a0ee2b964e4a5c\n'}, {'number': 2, 'created': '2019-09-05 15:22:10.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d9b0159f51e0b6b84223eb27ceb8308ab460d3bf', 'message': 'Cleanup doc/source/conf.py\n\nRemove old options that are part of openstackdocstheme default settings\nsince at least version 1.20.\n\nChange-Id: I53d7d6267064f176a43a9cee51a0ee2b964e4a5c\n'}]",0,679910,d9b0159f51e0b6b84223eb27ceb8308ab460d3bf,29,6,2,6547,,,0,"Cleanup doc/source/conf.py

Remove old options that are part of openstackdocstheme default settings
since at least version 1.20.

Change-Id: I53d7d6267064f176a43a9cee51a0ee2b964e4a5c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/10/679910/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt']",2,6bfcb0859b39e1a679c9f71f6b559c9a00954fda,build-pdf-docs,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,26
openstack%2Fcookiecutter~master~I49056e5bd196e5cca2faaa8f5bc34b56c89ff675,openstack/cookiecutter,master,I49056e5bd196e5cca2faaa8f5bc34b56c89ff675,Update URLs,MERGED,2019-09-04 13:47:24.000000000,2019-09-18 08:52:15.000000000,2019-09-18 08:52:14.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-04 13:47:24.000000000', 'files': ['{{cookiecutter.repo_name}}/setup.cfg', 'CONTRIBUTING.rst', '{{cookiecutter.repo_name}}/setup.py', 'README.rst', '{{cookiecutter.repo_name}}/CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/dabf93f528d791e51a24b13ac1cf53a54ed6f296', 'message': 'Update URLs\n\nThis commit updates some URLs. All of our docs.openstack.org supports\nHTTPS already. And, some of the URLs are outdated.\n\nChange-Id: I49056e5bd196e5cca2faaa8f5bc34b56c89ff675\n'}]",0,679998,dabf93f528d791e51a24b13ac1cf53a54ed6f296,6,2,1,5689,,,0,"Update URLs

This commit updates some URLs. All of our docs.openstack.org supports
HTTPS already. And, some of the URLs are outdated.

Change-Id: I49056e5bd196e5cca2faaa8f5bc34b56c89ff675
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/98/679998/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/setup.cfg', 'CONTRIBUTING.rst', '{{cookiecutter.repo_name}}/setup.py', 'README.rst', '{{cookiecutter.repo_name}}/CONTRIBUTING.rst']",5,dabf93f528d791e51a24b13ac1cf53a54ed6f296,https, https://docs.openstack.org/infra/manual/developers.html https://docs.openstack.org/infra/manual/developers.html#development-workflow, http://docs.openstack.org/infra/manual/developers.html http://docs.openstack.org/infra/manual/developers.html#development-workflow,9,9
openstack%2Fnetworking-ovn~master~I8ca47a96866f581c72115aed828f5cc2fdd1331f,openstack/networking-ovn,master,I8ca47a96866f581c72115aed828f5cc2fdd1331f,Bump ovsdbapp to 0.17.0,MERGED,2019-08-30 15:12:37.000000000,2019-09-18 08:51:57.000000000,2019-09-18 08:49:45.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-08-30 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/382937192c85cb74e99eb1f92e8b1e806814fa6f', 'message': 'Bump ovsdbapp to 0.17.0\n\nBump ovsdbapp to 0.17.0 in requirements and lower-constraints,\nneeded for external ports.\n\nChange-Id: I8ca47a96866f581c72115aed828f5cc2fdd1331f\n'}, {'number': 2, 'created': '2019-09-13 19:57:16.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cd38618309a1239e7a37c261cf504feeea6fd1a6', 'message': 'Bump ovsdbapp to 0.17.0\n\nBump ovsdbapp to 0.17.0 in requirements and lower-constraints,\nneeded for external ports.\n\nChange-Id: I8ca47a96866f581c72115aed828f5cc2fdd1331f\n'}]",0,679468,cd38618309a1239e7a37c261cf504feeea6fd1a6,25,6,2,1131,,,0,"Bump ovsdbapp to 0.17.0

Bump ovsdbapp to 0.17.0 in requirements and lower-constraints,
needed for external ports.

Change-Id: I8ca47a96866f581c72115aed828f5cc2fdd1331f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/68/679468/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,382937192c85cb74e99eb1f92e8b1e806814fa6f,ovsdbapp-0.17.0,ovsdbapp==0.17.0,ovsdbapp==0.14.0,2,2
openstack%2Fmurano-pkg-check~master~Id488e9e0643876363894641dc4bd62b56c4ce488,openstack/murano-pkg-check,master,Id488e9e0643876363894641dc4bd62b56c4ce488,PDF documentation build,MERGED,2019-09-18 05:52:59.000000000,2019-09-18 08:51:18.000000000,2019-09-18 08:51:18.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 05:52:59.000000000', 'files': ['doc/source/index.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/f86902fcc545e2063d9231f7810c361882bbff46', 'message': 'PDF documentation build\n\nChange-Id: Id488e9e0643876363894641dc4bd62b56c4ce488\n'}]",0,682796,f86902fcc545e2063d9231f7810c361882bbff46,7,2,1,14107,,,0,"PDF documentation build

Change-Id: Id488e9e0643876363894641dc4bd62b56c4ce488
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/96/682796/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'tox.ini']",5,f86902fcc545e2063d9231f7810c361882bbff46,build-pdf-docs,deps = -r{toxinidir}/doc/requirements.txt[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,74,11
openstack%2Foctavia~stable%2Fstein~I1a566353b7fb125184849b3a0f864d3ef6896d94,openstack/octavia,stable/stein,I1a566353b7fb125184849b3a0f864d3ef6896d94,Fix catching driver exceptions,MERGED,2019-09-12 15:28:01.000000000,2019-09-18 08:47:48.000000000,2019-09-18 08:45:37.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 15:28:01.000000000', 'files': ['releasenotes/notes/fix-driver-errors-81d33948288bf8cf.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3e587428bbd95d3fc231ced0db59305dd371a771', 'message': 'Fix catching driver exceptions\n\noctavia_lib driver exceptions were not cought by call_provider\nThis patch add those exceptions, and also handles the native NotImplementedError\nwhich does nto have all the expected fields.\n\nChange-Id: I1a566353b7fb125184849b3a0f864d3ef6896d94\n(cherry picked from commit e2defa6dd238d82ce4ee457e21ca047888d27106)\n'}]",0,681779,3e587428bbd95d3fc231ced0db59305dd371a771,11,5,1,11628,,,0,"Fix catching driver exceptions

octavia_lib driver exceptions were not cought by call_provider
This patch add those exceptions, and also handles the native NotImplementedError
which does nto have all the expected fields.

Change-Id: I1a566353b7fb125184849b3a0f864d3ef6896d94
(cherry picked from commit e2defa6dd238d82ce4ee457e21ca047888d27106)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/79/681779/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-driver-errors-81d33948288bf8cf.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py']",3,3e587428bbd95d3fc231ced0db59305dd371a771,fix_exceptions-stable/stein,"from octavia_lib.api.drivers import exceptions as lib_exceptions except (driver_exceptions.DriverError, lib_exceptions.DriverError) as e: except (driver_exceptions.NotImplementedError, lib_exceptions.NotImplementedError, NotImplementedError) as e: op_fault_string = ( e.operator_fault_string if hasattr(e, ""operator_fault_string"") else _(""This feature is not implemented by this provider."")) usr_fault_string = ( e.user_fault_string if hasattr(e, ""user_fault_string"") else _(""This feature is not implemented by the provider."")) provider, op_fault_string) prov=provider, user_msg=usr_fault_string) except (driver_exceptions.UnsupportedOptionError, lib_exceptions.UnsupportedOptionError) as e:"," except driver_exceptions.DriverError as e: except (driver_exceptions.NotImplementedError, NotImplementedError) as e: provider, e.operator_fault_string) prov=provider, user_msg=e.user_fault_string) except driver_exceptions.UnsupportedOptionError as e:",43,8
openstack%2Foctavia~master~Ieab13c1152fed64da7390891b315b5e67513ce3e,openstack/octavia,master,Ieab13c1152fed64da7390891b315b5e67513ce3e,Fix base (VRRP) port abandoned on revert,MERGED,2019-08-28 22:34:17.000000000,2019-09-18 08:45:33.000000000,2019-09-18 08:15:25.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-08-28 22:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2dfb2776d66ab1761974b602aab568fd88cae814', 'message': 'Fix base (VRRP) port abandoned on revert\n\nIf the base (VRRP) port fails to attach to the amphora instance, the\nport would not be deleted as part of the revert cleanup.\nThis patch splits the two plug VIP phases and attempts to clean up the\nbase (VRRP) port, that was created in the first phase, should the port\nattach fail.\n\nChange-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e\nStory: 2006468\nTask: 36399\n'}, {'number': 2, 'created': '2019-08-28 23:23:29.000000000', 'files': ['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/Fix-plug-vip-revert-abandoned-vrrp-port-efff14edce62ad75.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f20dc158441faad8422f7836dc7d0af50dcbcb0a', 'message': 'Fix base (VRRP) port abandoned on revert\n\nIf the base (VRRP) port fails to attach to the amphora instance, the\nport would not be deleted as part of the revert cleanup.\nThis patch splits the two plug VIP phases and attempts to clean up the\nbase (VRRP) port, that was created in the first phase, should the port\nattach fail.\n\nChange-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e\nStory: 2006468\nTask: 36399\n'}]",0,679153,f20dc158441faad8422f7836dc7d0af50dcbcb0a,16,7,2,11628,,,0,"Fix base (VRRP) port abandoned on revert

If the base (VRRP) port fails to attach to the amphora instance, the
port would not be deleted as part of the revert cleanup.
This patch splits the two plug VIP phases and attempts to clean up the
base (VRRP) port, that was created in the first phase, should the port
attach fail.

Change-Id: Ieab13c1152fed64da7390891b315b5e67513ce3e
Story: 2006468
Task: 36399
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/679153/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/Fix-plug-vip-revert-abandoned-vrrp-port-efff14edce62ad75.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",3,2dfb2776d66ab1761974b602aab568fd88cae814,," except Exception: message = _('Error creating the base (VRRP) port for the VIP with ' 'port details: {}').format(port) LOG.exception(message) raise base.PlugVIPException(message) try: try: if new_port: self.neutron_client.delete_port(new_port.id) LOG.debug('Deleted base (VRRP) port %s due to plug_port ' 'failure.', new_port.id) except Exception: LOG.exception('Failed to delete base (VRRP) port %s after ' 'plug_port failed. This resource is being ' 'abandoned and should be manually deleted when ' 'neutron is functional.', new_port.id)",,42,0
openstack%2Fmanila~master~I7ba55452ae388ba21189afe63986618493073dfd,openstack/manila,master,I7ba55452ae388ba21189afe63986618493073dfd,Update invalid link for README,ABANDONED,2019-09-18 06:42:47.000000000,2019-09-18 08:45:16.000000000,,"[{'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 06:42:47.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/144886868037dd1f9bdeb6e9896f04c23275aa9a', 'message': 'Update invalid link for README\n\nChange-Id: I7ba55452ae388ba21189afe63986618493073dfd\n'}]",0,682807,144886868037dd1f9bdeb6e9896f04c23275aa9a,8,5,1,30408,,,0,"Update invalid link for README

Change-Id: I7ba55452ae388ba21189afe63986618493073dfd
",git fetch https://review.opendev.org/openstack/manila refs/changes/07/682807/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,144886868037dd1f9bdeb6e9896f04c23275aa9a,, git clone https://opendev.org/openstack/manila.git`HACKING.rst <https://opendev.org/openstack/manila/src/branch/master/HACKING.rst>`_https://opendev.org/openstack/python-manilaclient.git, git clone https://git.openstack.org/openstack/manila.git`HACKING.rst <https://git.openstack.org/cgit/openstack/manila/tree/HACKING.rst>`_https://git.openstack.org/cgit/openstack/python-manilaclient.git,3,3
openstack%2Fcinder~stable%2Fpike~If5a9d014dbdd63a6e4659d700671c6ac6496b96a,openstack/cinder,stable/pike,If5a9d014dbdd63a6e4659d700671c6ac6496b96a,RBD: remove redundant exception log to reduce noise,MERGED,2019-09-06 19:51:34.000000000,2019-09-18 08:35:47.000000000,2019-09-18 08:35:47.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-09-06 19:51:34.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9b4a9af821e77057d890151003014e68ddcf7ca', 'message': 'RBD: remove redundant exception log to reduce noise\n\nIf RBDVolumeProxy fails to open the underlying image it reraises the\nexception, so there is no need to log it unconditionally.  The caller\ncan gracefully handle this case without alarming the admin.\n\nCloses-Bug: #1843074\nChange-Id: If5a9d014dbdd63a6e4659d700671c6ac6496b96a\n(cherry picked from commit 71584d6852a6dec8d8d04c8f3cbddf0f114777af)\n'}]",0,680764,d9b4a9af821e77057d890151003014e68ddcf7ca,41,21,1,5997,,,0,"RBD: remove redundant exception log to reduce noise

If RBDVolumeProxy fails to open the underlying image it reraises the
exception, so there is no need to log it unconditionally.  The caller
can gracefully handle this case without alarming the admin.

Closes-Bug: #1843074
Change-Id: If5a9d014dbdd63a6e4659d700671c6ac6496b96a
(cherry picked from commit 71584d6852a6dec8d8d04c8f3cbddf0f114777af)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/680764/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,d9b4a9af821e77057d890151003014e68ddcf7ca,bug/1843074,," LOG.exception(""error opening rbd image %s"", name)",0,1
openstack%2Fkayobe~master~If96437b73b9b5c58600ba1b004f53ee0c1f14398,openstack/kayobe,master,If96437b73b9b5c58600ba1b004f53ee0c1f14398,Fix kayobe-overcloud-centos CI job flakiness,MERGED,2019-09-12 10:17:17.000000000,2019-09-18 08:18:57.000000000,2019-09-17 21:39:14.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 10:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/53d6739657ab5a6207510e16a10ea749e6f3863e', 'message': 'WIP: Fix kayobe-overcloud-centos CI job flakiness\n\nChange-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398\nStory: 2006534\nTask: 36590\n'}, {'number': 2, 'created': '2019-09-13 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8b755626b9e6ad936cd80cb24e74cbb994a6fd12', 'message': 'WIP: Fix kayobe-overcloud-centos CI job flakiness\n\nChange-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398\nStory: 2006534\nTask: 36590\n'}, {'number': 3, 'created': '2019-09-13 09:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1ae236029676ff3275bb73f56654a2f496917e78', 'message': 'WIP: Fix kayobe-overcloud-centos CI job flakiness\n\nChange-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398\nStory: 2006534\nTask: 36590\n'}, {'number': 4, 'created': '2019-09-13 13:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bdbb1596c6da87549c3747381394935c6c8df8a6', 'message': 'WIP: Fix kayobe-overcloud-centos CI job flakiness\n\nChange-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398\nStory: 2006534\nTask: 36590\n'}, {'number': 5, 'created': '2019-09-13 13:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/29efcaf650d6b4190ceeeaf16d71ff79bdbc51f2', 'message': 'WIP: Fix kayobe-overcloud-centos CI job flakiness\n\nChange-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398\nStory: 2006534\nTask: 36590\n'}, {'number': 6, 'created': '2019-09-17 12:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/73854aa01c0e81d14a502b3f7446332f53d01aa5', 'message': 'WIP: Fix kayobe-overcloud-centos CI job flakiness\n\nChange-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398\nStory: 2006534\nTask: 36590\n'}, {'number': 7, 'created': '2019-09-17 15:45:57.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4b180502a5bcfb9cee5e0c2e267d2dbc53d4b358', 'message': ""Fix kayobe-overcloud-centos CI job flakiness\n\nDocker CE has added a default DROP policy to the FORWARD chain.  When\nnova-compute runs on the controller, kolla ansible sets the\nnet.bridge.bridge-nf-call-iptables sysctl to 1, which causes iptables to\nprocess frames forwarded across bridges.\n\nCurrently, the kayobe-overcloud-centos job is failing quite frequently\nwith timeouts when deploying bare metal compute. Experimentation with\niptables hasn't revealed why this only happens sometimes, or exactly\nwhat traffic is being blocked, but opening up the firewall does seem to\nfix the issue. We won't see this in production since control and compute\nservices are on separate hosts.\n\nThis change updates the iptables configuration used in CI to forward all\nframes on the bridge, breth1.\n\nChange-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398\nStory: 2006534\nTask: 36590\n""}]",0,681700,4b180502a5bcfb9cee5e0c2e267d2dbc53d4b358,28,4,7,14826,,,0,"Fix kayobe-overcloud-centos CI job flakiness

Docker CE has added a default DROP policy to the FORWARD chain.  When
nova-compute runs on the controller, kolla ansible sets the
net.bridge.bridge-nf-call-iptables sysctl to 1, which causes iptables to
process frames forwarded across bridges.

Currently, the kayobe-overcloud-centos job is failing quite frequently
with timeouts when deploying bare metal compute. Experimentation with
iptables hasn't revealed why this only happens sometimes, or exactly
what traffic is being blocked, but opening up the firewall does seem to
fix the issue. We won't see this in production since control and compute
services are on separate hosts.

This change updates the iptables configuration used in CI to forward all
frames on the bridge, breth1.

Change-Id: If96437b73b9b5c58600ba1b004f53ee0c1f14398
Story: 2006534
Task: 36590
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/00/681700/7 && git format-patch -1 --stdout FETCH_HEAD,"['dev/functions', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,53d6739657ab5a6207510e16a10ea749e6f3863e,, name: kayobe-overcloud-centos-1 parent: kayobe-overcloud-base nodeset: kayobe-centos - job: name: kayobe-overcloud-centos-2 parent: kayobe-overcloud-base nodeset: kayobe-centos - job: name: kayobe-overcloud-centos-3 parent: kayobe-overcloud-base nodeset: kayobe-centos - job: name: kayobe-overcloud-centos-4, name: kayobe-overcloud-centos,26,17
openstack%2Fpuppet-openstacklib~master~I55e587ea5c83338ae989aa56f1f379079eb02e08,openstack/puppet-openstacklib,master,I55e587ea5c83338ae989aa56f1f379079eb02e08,Restore defaults for combine and failonfail in openstack command,MERGED,2019-09-16 16:55:24.000000000,2019-09-18 08:13:18.000000000,2019-09-18 02:55:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 16:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/c5bb0a8d582c44175d5ee10e045e34d1118129d5', 'message': 'Restore values for combine and failonfail in openstack command\n\n[1] added ""override_locale: false"" to the openstack command executions,\nto respect the current locale. This had an unintended side effect,\nsince it changed the values for failonfail and combine to false in\nthat same execution, as described in [2].\n\nWe should ensure that openstack command failures are respected, so\nthis commit restores that behavior.\n\n[1] - https://review.opendev.org/640997\n[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L139-L143\n\nChange-Id: I55e587ea5c83338ae989aa56f1f379079eb02e08\n'}, {'number': 2, 'created': '2019-09-16 16:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0be6d7c1ac837117b040c11b7e52a3a005a986c1', 'message': 'Restore defaults for combine and failonfail in openstack command\n\n[1] added ""override_locale: false"" to the openstack command executions,\nto respect the current locale. This had an unintended side effect,\nsince it changed the values for failonfail and combine to false in\nthat same execution, as described in [2].\n\nWe should ensure that openstack command failures are respected, so\nthis commit restores that behavior.\n\n[1] - https://review.opendev.org/640997\n[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L139-L143\n\nChange-Id: I55e587ea5c83338ae989aa56f1f379079eb02e08\n'}, {'number': 3, 'created': '2019-09-17 11:15:59.000000000', 'files': ['lib/puppet/provider/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/726b06cdb49426719a13be3f02bcce72a697484c', 'message': 'Restore defaults for combine and failonfail in openstack command\n\n[1] added ""override_locale: false"" to the openstack command executions,\nto respect the current locale. This had an unintended side effect,\nsince it changed the values for failonfail and combine to false in\nthat same execution, as described in [2].\n\nWe should ensure that openstack command failures are respected, so\nthis commit restores that behavior.\n\n[1] - https://review.opendev.org/640997\n[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L139-L143\n\nChange-Id: I55e587ea5c83338ae989aa56f1f379079eb02e08\n'}]",0,682415,726b06cdb49426719a13be3f02bcce72a697484c,17,7,3,13294,,,0,"Restore defaults for combine and failonfail in openstack command

[1] added ""override_locale: false"" to the openstack command executions,
to respect the current locale. This had an unintended side effect,
since it changed the values for failonfail and combine to false in
that same execution, as described in [2].

We should ensure that openstack command failures are respected, so
this commit restores that behavior.

[1] - https://review.opendev.org/640997
[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L139-L143

Change-Id: I55e587ea5c83338ae989aa56f1f379079eb02e08
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/15/682415/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/openstack.rb'],1,c5bb0a8d582c44175d5ee10e045e34d1118129d5,," execute([command(:openstack_command)] + args, override_locale: false, failonfail: true, combine: true)"," execute([command(:openstack_command)] + args, override_locale: false)",1,1
openstack%2Foctavia~stable%2Frocky~I9f1b6e58004d7c2024f8d60d50ac998240abb6ee,openstack/octavia,stable/rocky,I9f1b6e58004d7c2024f8d60d50ac998240abb6ee,elements: add arch property for ``open-vm-tools``,MERGED,2019-08-26 12:51:04.000000000,2019-09-18 08:09:24.000000000,2019-09-18 08:06:53.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 12:51:04.000000000', 'files': ['elements/amphora-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4074dbd919f6e25096371e40caa0830d1ab19e6f', 'message': 'elements: add arch property for ``open-vm-tools``\n\nThe ``open-vm-tools`` package only exists for x86-platforms.\n\nTask: 35814\nStory: 2006219\n\nChange-Id: I9f1b6e58004d7c2024f8d60d50ac998240abb6ee\n(cherry picked from commit 5114a9a4f9d037d8ffb75342713fc27ff692235f)\n'}]",0,678538,4074dbd919f6e25096371e40caa0830d1ab19e6f,8,4,1,6469,,,0,"elements: add arch property for ``open-vm-tools``

The ``open-vm-tools`` package only exists for x86-platforms.

Task: 35814
Story: 2006219

Change-Id: I9f1b6e58004d7c2024f8d60d50ac998240abb6ee
(cherry picked from commit 5114a9a4f9d037d8ffb75342713fc27ff692235f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/678538/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/package-installs.yaml'],1,4074dbd919f6e25096371e40caa0830d1ab19e6f,task/35814-stable/stein-stable/rocky," arch: i386, amd64",,1,0
