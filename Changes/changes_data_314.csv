id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fproject-config~master~Ie557f7b5e2568dcf9e5cd222c6de2f3da2e48f1d,openstack/project-config,master,Ie557f7b5e2568dcf9e5cd222c6de2f3da2e48f1d,Disable #openstack-merges,MERGED,2020-01-20 15:20:21.000000000,2020-01-23 18:43:03.000000000,2020-01-23 18:43:02.000000000,"[{'_account_id': 4146}, {'_account_id': 4393}, {'_account_id': 6547}, {'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 15:20:21.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ff40d4ca752f44be6cd7316345fa2e69642adb9f', 'message': ""Disable #openstack-merges\n\nThe list of projects for this repo is outdated and only two people are\nin the channel. Let's remove publishing this.\n\nChange-Id: Ie557f7b5e2568dcf9e5cd222c6de2f3da2e48f1d\n""}]",0,703421,ff40d4ca752f44be6cd7316345fa2e69642adb9f,10,6,1,6547,,,0,"Disable #openstack-merges

The list of projects for this repo is outdated and only two people are
in the channel. Let's remove publishing this.

Change-Id: Ie557f7b5e2568dcf9e5cd222c6de2f3da2e48f1d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/703421/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,ff40d4ca752f44be6cd7316345fa2e69642adb9f,bye-openstack-merges,,openstack-merges: events: - change-merged branches: - master projects: # grep openstack governance/reference/programs.yaml | grep -v url - ^openstack/sahara.* - jjb/jenkins-job-builder - opendev/askbot-theme - opendev/elastic-recheck - opendev/gear - opendev/germqtt - opendev/gerrit - opendev/gerritbot - opendev/gerritlib - opendev/git-restack - opendev/git-review - opendev/grafyaml - opendev/jeepyb - opendev/lodgeit - opendev/lpmqtt - opendev/meetbot - opendev/project-config-example - opendev/publications - opendev/puppet-accessbot - opendev/puppet-ansible - opendev/puppet-apparmor - opendev/puppet-askbot - opendev/puppet-asterisk - opendev/puppet-bandersnatch - opendev/puppet-bugdaystats - opendev/puppet-bup - opendev/puppet-cgit - opendev/puppet-ciwatch - opendev/puppet-dashboard - opendev/puppet-diskimage_builder - opendev/puppet-drupal - opendev/puppet-elastic_recheck - opendev/puppet-elasticsearch - opendev/puppet-ethercalc - opendev/puppet-etherpad_lite - opendev/puppet-exim - opendev/puppet-germqtt - opendev/puppet-gerrit - opendev/puppet-gerritbot - opendev/puppet-github - opendev/puppet-grafyaml - opendev/puppet-graphite - opendev/puppet-haveged - opendev/puppet-hound - opendev/puppet-httpd - opendev/puppet-infracloud - opendev/puppet-ipsilon - opendev/puppet-iptables - opendev/puppet-jeepyb - opendev/puppet-jenkins - opendev/puppet-kerberos - opendev/puppet-kibana - opendev/puppet-lodgeit - opendev/puppet-log_processor - opendev/puppet-logrotate - opendev/puppet-logstash - opendev/puppet-lpmqtt - opendev/puppet-mailman - opendev/puppet-mediawiki - opendev/puppet-meetbot - opendev/puppet-mosquitto - opendev/puppet-mysql_backup - opendev/puppet-nodepool - opendev/puppet-openafs - opendev/puppet-openstack_health - opendev/puppet-openstack_infra_spec_helper - opendev/puppet-openstackci - opendev/puppet-openstackid - opendev/puppet-os_client_config - opendev/puppet-packagekit - opendev/puppet-pgsql_backup - opendev/puppet-phabricator - opendev/puppet-pip - opendev/puppet-planet - opendev/puppet-project_config - opendev/puppet-ptgbot - opendev/puppet-redis - opendev/puppet-refstack - opendev/puppet-releasestatus - opendev/puppet-reviewday - opendev/puppet-simpleproxy - opendev/puppet-snmpd - opendev/puppet-ssh - opendev/puppet-ssl_cert_check - opendev/puppet-statusbot - opendev/puppet-storyboard - opendev/puppet-subunit2sql - opendev/puppet-sudoers - opendev/puppet-tmpreaper - opendev/puppet-translation_checksite - opendev/puppet-ulimit - opendev/puppet-unattended_upgrades - opendev/puppet-unbound - opendev/puppet-user - opendev/puppet-vcsrepo - opendev/puppet-zanata - opendev/puppet-zuul - opendev/pypi-mirror - opendev/python-storyboardclient - opendev/statusbot - opendev/storyboard - opendev/system-config - openstack/activity-board - openstack/api-site - openstack/arch-wg - openstack/ceilometer - openstack/ceilometermiddleware - openstack/cinder - openstack/compute-api - openstack/cookiecutter - openstack/devstack - openstack/devstack-gate - openstack/devstack-plugin-cookiecutter - openstack/diskimage-builder - openstack/django_openstack_auth - openstack/election - openstack/eslint-config-openstack - openstack/glance - openstack/governance - openstack/grenade - openstack/hacking - openstack/heat - openstack/heat-agents - openstack/heat-cfnclient - openstack/heat-cfntools - openstack/heat-templates - openstack/horizon - openstack/identity-api - openstack/image-api - openstack/ironic - openstack/keystone - openstack/keystoneauth - openstack/keystonemiddleware - openstack/netconn-api - openstack/neutron - openstack/nose-html-output - openstack/nova - openstack/object-api - openstack/openstack-doc-tools - openstack/openstack-manuals - openstack/openstack-nose - openstack/openstack-planet - openstack/operations-guide - openstack/os-apply-config - openstack/os-collect-config - openstack/os-loganalyze - openstack/os-net-config - openstack/os-refresh-config - openstack/os-testr - openstack/oslo-specs - openstack/oslo.concurrency - openstack/oslo.config - openstack/oslo.context - openstack/oslo.db - openstack/oslo.i18n - openstack/oslo.limit - openstack/oslo.messaging - openstack/oslo.middleware - openstack/oslo.policy - openstack/oslo.reports - openstack/oslo.rootwrap - openstack/oslo.serialization - openstack/oslo.service - openstack/oslo.sphinx - openstack/oslo.tools - openstack/oslo.utils - openstack/oslo.vmware - openstack/pbr - openstack/project-config - openstack/project-team-guide - openstack/ptgbot - openstack/publiccloud-sig - openstack/python-cinderclient - openstack/python-glanceclient - openstack/python-heatclient - openstack/python-ironicclient - openstack/python-keystoneclient - openstack/python-neutronclient - openstack/python-novaclient - openstack/python-saharaclient - openstack/python-swiftclient - openstack/python-troveclient - openstack/python-zaqarclient - openstack/python-zunclient - openstack/releasestatus - openstack/reviewday - openstack/reviewstats - openstack/specs-cookiecutter - openstack/swift - openstack/swift-bench - openstack/tempest - openstack/tempest-lib - openstack/tripleo-ci - openstack/tripleo-heat-templates - openstack/tripleo-image-elements - openstack/trove - openstack/trove-dashboard - openstack/volume-api - openstack/zaqar - openstack/zuul-packaging - osf/groups - osf/odsreg - osf/openstackid - osf/openstackid-resources - osf/openstackweb - x/err2d2 - x/gearman-plugin - x/gitdm - zuul/nodepool - zuul/zuul,0,217
openstack%2Foctavia-tempest-plugin~master~Ica2f3289b14b8cdb5437ea3e92bb07a19028e053,openstack/octavia-tempest-plugin,master,Ica2f3289b14b8cdb5437ea3e92bb07a19028e053,Switch octavia-two-node nodeset to Bionic,MERGED,2020-01-20 10:37:25.000000000,2020-01-23 18:36:17.000000000,2020-01-23 18:32:57.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 10:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/68a5ddee72195cd597b5d0b110e957ede4cb7288', 'message': 'Switch octavia-two-node nodeset to Bionic\n\nUbuntu Xenial is no longer supported in Devstack. The two-node CI job\nfails consistently with:\n\n""WARNING: this script has not been tested on xenial""\n""If you wish to run this script anyway run with FORCE=yes""\n\nIt is time to update to Ubuntu Bionic.\n\nChange-Id: Ica2f3289b14b8cdb5437ea3e92bb07a19028e053\n'}, {'number': 2, 'created': '2020-01-20 15:01:43.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ebf9010a2d944e7c6693c02309123b99ad2f8d25', 'message': 'Switch octavia-two-node nodeset to Bionic\n\nUbuntu Xenial is no longer supported in Devstack. The two-node CI job\nfails consistently with:\n\n""WARNING: this script has not been tested on xenial""\n""If you wish to run this script anyway run with FORCE=yes""\n\nIt is time to update to Ubuntu Bionic.\n\nThis patch also removes octavia-v2-dsvm-scenario-ubuntu-bionic from the\ncheck queue as Bionic is now the default Ubuntu version being tested.\n\nChange-Id: Ica2f3289b14b8cdb5437ea3e92bb07a19028e053\n'}]",0,703365,ebf9010a2d944e7c6693c02309123b99ad2f8d25,19,5,2,6469,,,0,"Switch octavia-two-node nodeset to Bionic

Ubuntu Xenial is no longer supported in Devstack. The two-node CI job
fails consistently with:

""WARNING: this script has not been tested on xenial""
""If you wish to run this script anyway run with FORCE=yes""

It is time to update to Ubuntu Bionic.

This patch also removes octavia-v2-dsvm-scenario-ubuntu-bionic from the
check queue as Bionic is now the default Ubuntu version being tested.

Change-Id: Ica2f3289b14b8cdb5437ea3e92bb07a19028e053
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/65/703365/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,68a5ddee72195cd597b5d0b110e957ede4cb7288,, label: ubuntu-bionic label: ubuntu-bionic, label: ubuntu-xenial label: ubuntu-xenial,2,2
openstack%2Fopenstack-helm-images~master~I08646258492e8938b8892749172aea23e363af3d,openstack/openstack-helm-images,master,I08646258492e8938b8892749172aea23e363af3d,Modify mini-mirror to build from yaml,MERGED,2019-11-13 22:33:58.000000000,2020-01-23 18:19:11.000000000,2020-01-23 18:17:16.000000000,"[{'_account_id': 6825}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23781}, {'_account_id': 27715}, {'_account_id': 28208}, {'_account_id': 28237}, {'_account_id': 28618}, {'_account_id': 28628}, {'_account_id': 28664}, {'_account_id': 28719}, {'_account_id': 28778}]","[{'number': 1, 'created': '2019-11-13 22:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/dd8bd16713450b16b87aa858bbab139d44b8f157', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 2, 'created': '2019-11-13 23:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4e4eda84912aac97b0f5c82b20049997204cead2', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 3, 'created': '2019-11-13 23:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e59d3de0ece658be866245084aab37f82cc350b4', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 4, 'created': '2019-11-14 21:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/08167ea6d13e25b010836e1a9305bf7211e68719', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 5, 'created': '2019-11-15 22:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2b3fd18c949545c5e9fe221e20936bd593536524', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 6, 'created': '2019-11-18 23:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/12de88f78e3068e011b9e6cb4c1c21603cdd4818', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 7, 'created': '2019-11-19 17:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/60b01ab23b749942065c3118ec557915da695a36', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 8, 'created': '2019-11-19 17:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5f7dbe5717dfbb5d27509a2194749790c5baca0e', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 9, 'created': '2019-11-21 02:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/be119599625a54970187e8da0c892c3571229e41', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 10, 'created': '2019-11-25 17:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/12d9c7f43699a9412da50c7cd1eff1e3569c7aad', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 11, 'created': '2019-12-06 22:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/02aef200f2fa4b72ea86987b0ac55fa1f9f886b8', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 12, 'created': '2019-12-06 22:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7662b9fef667a00b0df4967159fa6a9797434b25', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 13, 'created': '2019-12-13 21:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/47418c3e22e57e3bb8157cfd16d763bd54a71f56', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 14, 'created': '2020-01-02 18:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/df593a44907306ce085e3e08c7ec9c94b9709f8e', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 15, 'created': '2020-01-06 21:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/68b0f8a6026277673b9666c80655992a0e08bde0', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 16, 'created': '2020-01-08 20:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1b6dab4dde6492fc1c46f7d75b8c5178da744c68', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 17, 'created': '2020-01-08 20:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3e56a000a439aed20d5a365cc57c192eb26dfa7c', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 18, 'created': '2020-01-08 20:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/383989431e3093487aa28ae6464286bf95b89165', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 19, 'created': '2020-01-08 22:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e1dfe0be945bbacf977585935a0aad6c138589f3', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 20, 'created': '2020-01-09 15:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5c64017f3bd725fa58f40a1f7c6872ec3e7ee1cc', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nAlong with that, this enables the manual setting of CodeName and Label\nvalues of the mirror, as well as the ability to change the name of the\nimage that the build.sh script creates\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 21, 'created': '2020-01-09 22:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/56c823333458ee36b2fd213ce0690bbb9c993a27', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nAlong with that, this enables the manual setting of CodeName and Label\nvalues of the mirror, as well as the ability to change the name of the\nimage that the build.sh script creates\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 22, 'created': '2020-01-10 18:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e8bb7e9810520cec66985d2a79e4150c722a0181', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nAlong with that, this enables the manual setting of CodeName and Label\nvalues of the mirror, as well as the ability to change the name of the\nimage that the build.sh script creates\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}, {'number': 23, 'created': '2020-01-10 20:34:41.000000000', 'files': ['mini-mirror/mini-mirror-sources.yaml', 'mini-mirror/etc/aptly.conf', 'mini-mirror/sources/aptly-example/squeeze/packages.txt', 'mini-mirror/tools/publish_snapshots.sh', 'mini-mirror/build.sh', 'mini-mirror/README.rst', 'mini-mirror/Dockerfile.ubuntu_bionic', 'mini-mirror/Dockerfile.ubuntu_xenial', 'mini-mirror/sources/aptly-example/squeeze/source.txt'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d503870bfe4955b53332f8103539deebe144f58a', 'message': 'Modify mini-mirror to build from yaml\n\nThis modifies mini-mirror so that instead of parsing through .txt\ndocuments to build the mirror, it instead has one yaml file consisting\nof multiple yaml documents with a pre-defined structure that has all\nof the same information. This will allow for easier modification and\nvisibility into the configuration of mini-mirror.\n\nAlong with that, this enables the manual setting of CodeName and Label\nvalues of the mirror, as well as the ability to change the name of the\nimage that the build.sh script creates\n\nChange-Id: I08646258492e8938b8892749172aea23e363af3d\n'}]",19,694173,d503870bfe4955b53332f8103539deebe144f58a,92,13,23,28628,,,0,"Modify mini-mirror to build from yaml

This modifies mini-mirror so that instead of parsing through .txt
documents to build the mirror, it instead has one yaml file consisting
of multiple yaml documents with a pre-defined structure that has all
of the same information. This will allow for easier modification and
visibility into the configuration of mini-mirror.

Along with that, this enables the manual setting of CodeName and Label
values of the mirror, as well as the ability to change the name of the
image that the build.sh script creates

Change-Id: I08646258492e8938b8892749172aea23e363af3d
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/73/694173/16 && git format-patch -1 --stdout FETCH_HEAD,"['mini-mirror/mini-mirror-sources.yaml', 'mini-mirror/sources/aptly-example/squeeze/packages.txt', 'mini-mirror/tools/publish_snapshots.sh', 'mini-mirror/build.sh', 'mini-mirror/Dockerfile.ubuntu_xenial', 'mini-mirror/sources/aptly-example/squeeze/source.txt']",6,dd8bd16713450b16b87aa858bbab139d44b8f157,,,http://repo.aptly.info/ https://www.aptly.info/pubkey.txt squeeze main ,83,25
openstack%2Fironic-python-agent~master~Ice0d7e6ecff3f319bc3a4f41617059fd6914e31c,openstack/ironic-python-agent,master,Ice0d7e6ecff3f319bc3a4f41617059fd6914e31c,Expose collector and hardware manager names via introspection data,MERGED,2020-01-21 15:31:05.000000000,2020-01-23 18:08:38.000000000,2020-01-23 18:05:49.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-21 15:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/97dc1d99d40eb07f69b34cca1c5c67a85536f627', 'message': ""Expose collector and hardware manager names via introspection data\n\nThis change adds a new introspection data field 'configuration'\nwith two lists: managers and collectors.\n\nChange-Id: Ice0d7e6ecff3f319bc3a4f41617059fd6914e31c\n""}, {'number': 2, 'created': '2020-01-22 10:16:48.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/inventory-conf-29b59ebe97aefbde.yaml', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'doc/source/admin/how_it_works.rst', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/31b73b498453ff25275a43c46c5bfa023585327a', 'message': ""Expose collector and hardware manager names via introspection data\n\nThis change adds a new introspection data field 'configuration'\nwith two lists: managers and collectors.\n\nChange-Id: Ice0d7e6ecff3f319bc3a4f41617059fd6914e31c\n""}]",2,703641,31b73b498453ff25275a43c46c5bfa023585327a,18,7,2,10239,,,0,"Expose collector and hardware manager names via introspection data

This change adds a new introspection data field 'configuration'
with two lists: managers and collectors.

Change-Id: Ice0d7e6ecff3f319bc3a4f41617059fd6914e31c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/41/703641/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/inventory-conf-29b59ebe97aefbde.yaml', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'doc/source/admin/how_it_works.rst']",5,97dc1d99d40eb07f69b34cca1c5c67a85536f627,inventory-conf," * ``configuration`` - Inspection configuration, an object with two keys: * ``collectors`` - List of enabled collectors. * ``managers`` - List of enabled :ref:`Hardware Managers`. ",,42,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib97f3e7508e277d03d3cb75bba640264518b6323,openstack/tripleo-heat-templates,stable/train,Ib97f3e7508e277d03d3cb75bba640264518b6323,Add 'scale-up' upgrade steps for cinder-volume,MERGED,2020-01-22 10:18:34.000000000,2020-01-23 18:05:19.000000000,2020-01-23 18:05:19.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-22 10:18:34.000000000', 'files': ['deployment/cinder/cinder-volume-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1e1e5d31051ff569eef3154e3460c7b910640dd', 'message': ""Add 'scale-up' upgrade steps for cinder-volume\n\nThis patch adds the missing steps for 'scale-up' upgrade\nsupport for the cinder-volume service similar to the\nimplementation in I3cfd4272449b207874723682903505d2bbdb435b\n\nRelated-Bug: #1838971\nChange-Id: Ib97f3e7508e277d03d3cb75bba640264518b6323\n(cherry picked from commit 1044d0bf3dfeff0ffa5929abb07b11a0cb1000de)\n""}]",0,703761,b1e1e5d31051ff569eef3154e3460c7b910640dd,13,8,1,6816,,,0,"Add 'scale-up' upgrade steps for cinder-volume

This patch adds the missing steps for 'scale-up' upgrade
support for the cinder-volume service similar to the
implementation in I3cfd4272449b207874723682903505d2bbdb435b

Related-Bug: #1838971
Change-Id: Ib97f3e7508e277d03d3cb75bba640264518b6323
(cherry picked from commit 1044d0bf3dfeff0ffa5929abb07b11a0cb1000de)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/703761/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-pacemaker-puppet.yaml'],1,b1e1e5d31051ff569eef3154e3460c7b910640dd,bug/1838971-stable/train," - name: Create hiera data to upgrade cinder_volume in a stepwise manner. when: - step|int == 1 block: - name: set cinder_volume upgrade node facts in a single-node environment set_fact: cinder_volume_short_node_names_upgraded: ""{{ cinder_volume_short_node_names }}"" cinder_volume_node_names_upgraded: ""{{ cinder_volume_node_names }}"" cacheable: no when: groups['cinder_volume'] | length <= 1 - name: set cinder_volume upgrade node facts from the limit option set_fact: cinder_volume_short_node_names_upgraded: ""{{ cinder_volume_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cinder_volume_node_names_upgraded: ""{{ cinder_volume_node_names_upgraded|default([]) + [item] }}"" cacheable: no when: - groups['cinder_volume'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ cinder_volume_node_names }}"" - debug: msg: ""Prepare cinder_volume upgrade for {{ cinder_volume_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade cinder_volume without staged upgrade. You need to use the limit option in order to do so. when: >- cinder_volume_short_node_names_upgraded is not defined or cinder_volume_short_node_names_upgraded | length == 0 or cinder_volume_node_names_upgraded is not defined or cinder_volume_node_names_upgraded | length == 0 - name: remove cinder_volume init container on upgrade-scaleup to force re-init shell: | if podman inspect cinder_volume_init_bundle &> /dev/null; then podman rm cinder_volume_init_bundle fi when: cinder_volume_short_node_names_upgraded | length > 1 - name: add the cinder_volume short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: cinder_volume_short_node_names_override tripleo_upgrade_value: ""{{ cinder_volume_short_node_names_upgraded }}"" - name: add the cinder_volume long name to hiera data for the upgrade include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: cinder_volume_node_names_override tripleo_upgrade_value: ""{{ cinder_volume_node_names_upgraded }}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ""{{ item }}"" loop: - cinder_volume_short_node_names_override - cinder_volume_node_names_override when: cinder_volume_short_node_names_upgraded | length == cinder_volume_node_names | length",,61,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I95f85c66e30abe154d59736395c7d1096f51127a,openstack/tripleo-heat-templates,stable/train,I95f85c66e30abe154d59736395c7d1096f51127a,Add 'scale-up' upgrade steps for cinder-backup,MERGED,2020-01-22 10:18:34.000000000,2020-01-23 18:05:17.000000000,2020-01-23 18:05:17.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-22 10:18:34.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b363837fda7f95b2bfb1f220927e204049aaa611', 'message': ""Add 'scale-up' upgrade steps for cinder-backup\n\nThis patch adds the missing steps for 'scale-up' upgrade\nsupport for the cinder-backup service similar to the implementation\nin I3cfd4272449b207874723682903505d2bbdb435b\n\nRelated-Bug: #1838971\nChange-Id: I95f85c66e30abe154d59736395c7d1096f51127a\n(cherry picked from commit c290ce3f1ee393d25e4286d2ca51007c9c38aee0)\n""}]",0,703760,b363837fda7f95b2bfb1f220927e204049aaa611,17,8,1,6816,,,0,"Add 'scale-up' upgrade steps for cinder-backup

This patch adds the missing steps for 'scale-up' upgrade
support for the cinder-backup service similar to the implementation
in I3cfd4272449b207874723682903505d2bbdb435b

Related-Bug: #1838971
Change-Id: I95f85c66e30abe154d59736395c7d1096f51127a
(cherry picked from commit c290ce3f1ee393d25e4286d2ca51007c9c38aee0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/703760/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-backup-pacemaker-puppet.yaml'],1,b363837fda7f95b2bfb1f220927e204049aaa611,bug/1838971-stable/train," - name: Create hiera data to upgrade cinder_backup in a stepwise manner. when: - step|int == 1 block: - name: set cinder_backup upgrade node facts in a single-node environment set_fact: cinder_backup_short_node_names_upgraded: ""{{ cinder_backup_short_node_names }}"" cinder_backup_node_names_upgraded: ""{{ cinder_backup_node_names }}"" cacheable: no when: groups['cinder_backup'] | length <= 1 - name: set cinder_backup upgrade node facts from the limit option set_fact: cinder_backup_short_node_names_upgraded: ""{{ cinder_backup_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cinder_backup_node_names_upgraded: ""{{ cinder_backup_node_names_upgraded|default([]) + [item] }}"" cacheable: no when: - groups['cinder_backup'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ cinder_backup_node_names }}"" - debug: msg: ""Prepare cinder_backup upgrade for {{ cinder_backup_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade cinder_backup without staged upgrade. You need to use the limit option in order to do so. when: >- cinder_backup_short_node_names_upgraded is not defined or cinder_backup_short_node_names_upgraded | length == 0 or cinder_backup_node_names_upgraded is not defined or cinder_backup_node_names_upgraded | length == 0 - name: remove cinder_backup init container on upgrade-scaleup to force re-init shell: | if podman inspect cinder_backup_init_bundle &> /dev/null; then podman rm cinder_backup_init_bundle fi when: cinder_backup_short_node_names_upgraded | length > 1 - name: add the cinder_backup short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: cinder_backup_short_node_names_override tripleo_upgrade_value: ""{{ cinder_backup_short_node_names_upgraded }}"" - name: add the cinder_backup long name to hiera data for the upgrade include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: cinder_backup_node_names_override tripleo_upgrade_value: ""{{ cinder_backup_node_names_upgraded }}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ""{{ item }}"" loop: - cinder_backup_short_node_names_override - cinder_backup_node_names_override when: cinder_backup_short_node_names_upgraded | length == cinder_backup_node_names | length",,61,0
openstack%2Ftripleo-quickstart-extras~master~I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6,openstack/tripleo-quickstart-extras,master,I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6,Package building with any prefix,MERGED,2020-01-09 14:42:33.000000000,2020-01-23 18:05:15.000000000,2020-01-23 18:05:15.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27329}]","[{'number': 1, 'created': '2020-01-09 14:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3f9e9f5654bc7a52735d65cd4a8a7043410e4253', 'message': 'Fix project name mapping to DLRN project name\n\nThis fixes failures produced when project name\ndoesn\'t starts with \'openstack/\'\n\nThis is intended to unblock the use of tripleo-ci\nthat is now failing with projects that are not\nhosted under the \'openstack/\' prefix (like for\nexample x/tobiko).\n\nExample of failure:\n\n 2020-01-09 11:43:31.625383 | primary | TASK [build-test-packages : Map project name to DLRN project name] *************\n 2020-01-09 11:43:31.659210 | primary | Thursday 09 January 2020  11:43:31 +0000 (0:00:01.725)       0:06:10.127 ******\n 2020-01-09 11:43:45.230261 | primary | fatal: [undercloud]: FAILED! => {\n 2020-01-09 11:43:45.230373 | primary |     ""changed"": false,\n 2020-01-09 11:43:45.230736 | primary |     ""cmd"": ""set -euo pipefail; source /home/zuul/dlrn-venv/bin/activate; export PROJECT_NAME=$(echo x/tobiko | sed \\""s|openstack/||\\""); rdopkg findpkg -s $PROJECT_NAME -l rdoinfo | grep ^name | awk \'{print $2}\'\\n"",\n 2020-01-09 11:43:45.230842 | primary |     ""delta"": ""0:00:12.990436"",\n 2020-01-09 11:43:45.230938 | primary |     ""end"": ""2020-01-09 11:43:45.198836"",\n 2020-01-09 11:43:45.230990 | primary |     ""rc"": 1,\n 2020-01-09 11:43:45.231083 | primary |     ""start"": ""2020-01-09 11:43:32.208400""\n 2020-01-09 11:43:45.231115 | primary | }\n 2020-01-09 11:43:45.231146 | primary |\n 2020-01-09 11:43:45.231183 | primary | MSG:\n 2020-01-09 11:43:45.231214 | primary |\n 2020-01-09 11:43:45.231275 | primary | non-zero return code\n\nhttps://zuul.opendev.org/t/openstack/build/39ac816b4a4f484283b4b99882a0fee2\n\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n'}, {'number': 2, 'created': '2020-01-09 15:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c82637820a50534b00520d349529eee3f7072c29', 'message': 'Fix project name mapping to DLRN project name\n\nThis fixes failures produced when project name\ndoesn\'t starts with \'openstack/\'\n\nThis is intended to unblock the use of tripleo-ci\nthat is now failing with projects that are not\nhosted under the \'openstack/\' prefix (like for\nexample x/tobiko).\n\nExample of failure:\n\n 2020-01-09 11:43:31.625383 | primary | TASK [build-test-packages : Map project name to DLRN project name] *************\n 2020-01-09 11:43:31.659210 | primary | Thursday 09 January 2020  11:43:31 +0000 (0:00:01.725)       0:06:10.127 ******\n 2020-01-09 11:43:45.230261 | primary | fatal: [undercloud]: FAILED! => {\n 2020-01-09 11:43:45.230373 | primary |     ""changed"": false,\n 2020-01-09 11:43:45.230736 | primary |     ""cmd"": ""set -euo pipefail; source /home/zuul/dlrn-venv/bin/activate; export PROJECT_NAME=$(echo x/tobiko | sed \\""s|openstack/||\\""); rdopkg findpkg -s $PROJECT_NAME -l rdoinfo | grep ^name | awk \'{print $2}\'\\n"",\n 2020-01-09 11:43:45.230842 | primary |     ""delta"": ""0:00:12.990436"",\n 2020-01-09 11:43:45.230938 | primary |     ""end"": ""2020-01-09 11:43:45.198836"",\n 2020-01-09 11:43:45.230990 | primary |     ""rc"": 1,\n 2020-01-09 11:43:45.231083 | primary |     ""start"": ""2020-01-09 11:43:32.208400""\n 2020-01-09 11:43:45.231115 | primary | }\n 2020-01-09 11:43:45.231146 | primary |\n 2020-01-09 11:43:45.231183 | primary | MSG:\n 2020-01-09 11:43:45.231214 | primary |\n 2020-01-09 11:43:45.231275 | primary | non-zero return code\n\nhttps://zuul.opendev.org/t/openstack/build/39ac816b4a4f484283b4b99882a0fee2\n\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n'}, {'number': 3, 'created': '2020-01-10 11:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c7810f83c739f722950878e1772aec3d7702187', 'message': ""Fix project name mapping to DLRN project name\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'\n\nThis is intended to unblock the use of tripleo-ci\nthat is now failing with projects that are not\nhosted under the 'openstack/' prefix (like for\nexample x/tobiko).\n\nPartial-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 4, 'created': '2020-01-10 13:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6c048ae6499b00c3a07ab825d2914a0136298a33', 'message': ""Fix project name mapping to DLRN project name\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'\n\nThis is intended to unblock the use of tripleo-ci\nthat is now failing with projects that are not\nhosted under the 'openstack/' prefix (like for\nexample x/tobiko).\n\nNote: removed set -u because this can break source activate on old\nversions of virtualenv.\n\nPartial-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 5, 'created': '2020-01-10 15:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/62bfc13628a578e1e8a2681ce10d432fa0e69ab2', 'message': ""Fix package building for project names not starting with 'openstack/'\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'.\n\nIt disables verification for undefined variables resolving\nbug when PS1 is not defined.\n\nIt prints out STDERR for debugging purpouse when package name\nis not found to allow investigating on name mapping problems.\n\nIt cleanup shell code to make it easier to maintain.\n\nCloses-Bug: #1859167\nCloses-Bug: #1858890\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 6, 'created': '2020-01-10 16:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e3d25e9f0d320a5b02f0275d517120d61754cbe1', 'message': ""Fix package building for project names not starting with 'openstack/'\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'.\n\nIt disables verification for undefined variables resolving\nbug when PS1 is not defined.\n\nIt prints out STDERR for debugging purpouse when package name\nis not found to allow investigating on name mapping problems.\n\nIt cleanup shell code to make it easier to maintain.\n\nCloses-Bug: #1859167\nCloses-Bug: #1858890\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 7, 'created': '2020-01-13 08:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d9be49df12d4f3aaac22e66fcf20bb1aa62c3dc5', 'message': 'Fix package building for project name not starting with ""openstack/""\n\nThis fixes failures produced when project name\ndoesn\'t starts with \'openstack/\'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpouse when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nCloses-Bug: #1858890\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n'}, {'number': 8, 'created': '2020-01-13 08:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1b003cffba10f5e181eca4b5a8f31f2ee1de8f39', 'message': 'Fix package building for project name not starting with ""openstack/""\n\nThis fixes failures produced when project name\ndoesn\'t starts with \'openstack/\'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpouse when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n'}, {'number': 9, 'created': '2020-01-13 09:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e3beef4bbfc8b34831844f807fe090405fde7213', 'message': 'Fix package building for project name not starting with ""openstack/""\n\nThis fixes failures produced when project name\ndoesn\'t starts with \'openstack/\'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpouse when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n'}, {'number': 10, 'created': '2020-01-13 13:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f8ddc26cc9a2b4a6a28d4f5ca3cf25a35daad52a', 'message': 'Fix package building for project name not starting with ""openstack/""\n\nThis fixes failures produced when project name\ndoesn\'t starts with \'openstack/\'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpouse when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n'}, {'number': 11, 'created': '2020-01-13 13:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fbf87097ded820761b9c910b122bc515a0745e9d', 'message': ""Package building with any prefix\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpose when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 12, 'created': '2020-01-13 13:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b56a76aa95ee9952dbe22535a8cdb885d50cab3f', 'message': ""Package building with any prefix\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpose when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 13, 'created': '2020-01-14 14:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/13088051ede26d392195558e26581e154484b6c7', 'message': ""Package building with any prefix\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpose when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 14, 'created': '2020-01-16 07:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3bff6353f27e13cad8acf7235523fa2a81d0ca7f', 'message': ""Package building with any prefix\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpose when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 15, 'created': '2020-01-22 07:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3742d968885ac6e7aaaeee9d2f0bf77814f0386b', 'message': ""Package building with any prefix\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpose when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}, {'number': 16, 'created': '2020-01-23 08:44:02.000000000', 'files': ['roles/build-test-packages/tasks/dlrn-build.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1086c84da36a680dbc2c94c59bde21d0cbbcf76', 'message': ""Package building with any prefix\n\nThis fixes failures produced when project name\ndoesn't starts with 'openstack/'.\n\nEnable shell flags after sourcing virtualenv activation\nscript.\n\nIt prints out STDERR for debugging purpose when package name\nis not found to allow investigating on name mapping problems.\n\nIt uses openstack/ parent folder as target for copying project\nfiles so that the project prefix (IE x/, openstack/, ...) folder\nare kept.\n\nCloses-Bug: #1859167\nChange-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6\n""}]",20,701742,c1086c84da36a680dbc2c94c59bde21d0cbbcf76,73,10,16,27329,,,0,"Package building with any prefix

This fixes failures produced when project name
doesn't starts with 'openstack/'.

Enable shell flags after sourcing virtualenv activation
script.

It prints out STDERR for debugging purpose when package name
is not found to allow investigating on name mapping problems.

It uses openstack/ parent folder as target for copying project
files so that the project prefix (IE x/, openstack/, ...) folder
are kept.

Closes-Bug: #1859167
Change-Id: I80bc67c6a17d87c24a2b90ca1577aa1f20902cf6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/42/701742/16 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/dlrn-build.yml'],1,3f9e9f5654bc7a52735d65cd4a8a7043410e4253,fix-project-name-mapping," export PROJECT_NAME=$(basename ""{{ artg_change.project }}"";"," export PROJECT_NAME=$(echo {{ artg_change.project }} | sed ""s|openstack/||"");",1,1
openstack%2Fopenstack-ansible-os_tempest~stable%2Ftrain~Ia7835491a967c1831f64213ba1b42779136a87da,openstack/openstack-ansible-os_tempest,stable/train,Ia7835491a967c1831f64213ba1b42779136a87da,Fix mixed plugin install vars,MERGED,2020-01-23 06:53:16.000000000,2020-01-23 17:47:54.000000000,2020-01-23 17:44:33.000000000,"[{'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-01-23 06:53:16.000000000', 'files': ['tasks/tempest_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4f4e82416457ba773f437ae77c284b95f43e5a05', 'message': 'Fix mixed plugin install vars\n\nThe var tempest_mixed_setup was previously renamed tempest_plugin_install_source\nbut a couple of usages were missed. Correct this.\n\nChange-Id: Ia7835491a967c1831f64213ba1b42779136a87da\n(cherry picked from commit 877554ae11c3d0605f8d3febec49d10925611de4)\n'}]",0,703923,4f4e82416457ba773f437ae77c284b95f43e5a05,13,6,1,25023,,,0,"Fix mixed plugin install vars

The var tempest_mixed_setup was previously renamed tempest_plugin_install_source
but a couple of usages were missed. Correct this.

Change-Id: Ia7835491a967c1831f64213ba1b42779136a87da
(cherry picked from commit 877554ae11c3d0605f8d3febec49d10925611de4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/23/703923/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_install_source.yml'],1,4f4e82416457ba773f437ae77c284b95f43e5a05,mixed-fix-stable/train," virtualenv: ""{{ tempest_plugin_install_source | ternary(omit, tempest_venv_bin | dirname) }}"" virtualenv_site_packages: ""{{ tempest_plugin_install_source | ternary(omit, 'no') }}"""," virtualenv: ""{{ tempest_mixed_setup | ternary(omit, tempest_venv_bin | dirname) }}"" virtualenv_site_packages: ""{{ tempest_mixed_setup | ternary(omit, 'no') }}""",2,2
openstack%2Fproject-config~master~Ibe1f0fba6ae2a459be22b33d8de4285b739a1df0,openstack/project-config,master,Ibe1f0fba6ae2a459be22b33d8de4285b739a1df0,Define check-release-approval executor job,MERGED,2020-01-10 15:33:40.000000000,2020-01-23 17:17:24.000000000,2020-01-23 17:17:24.000000000,"[{'_account_id': 1}, {'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-10 15:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a22fe978ad49b4a360592ce51c4ba97bf2156f7b', 'message': 'Define check-release-approval executor job\n\nAs discussed in [1], create a job that will check that a release request\nhas been approved by the PTL or a release liaison attached to the\ndeliverable.\n\nSince this job is very short and will be rerun every time a vote is\nposted, rather than consume a remote host, it will be run directly on\nthe executor. To that effect, the python script called only uses stdlib\nor modules that are already present on the executor (requests and yaml).\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2019-December/006556.html\n\nChange-Id: Ibe1f0fba6ae2a459be22b33d8de4285b739a1df0\n'}, {'number': 2, 'created': '2020-01-10 15:55:27.000000000', 'files': ['roles/check-release-approval/README.rst', 'roles/check-release-approval/tasks/main.yaml', 'playbooks/check-release-approval/run.yaml', 'zuul.d/jobs.yaml', 'roles/check-release-approval/files/check_approval.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7be4b337bb10ea33e15c9e4a39fc5b7af12c06e0', 'message': 'Define check-release-approval executor job\n\nAs discussed in [1], create a job that will check that a release request\nhas been approved by the PTL or a release liaison attached to the\ndeliverable.\n\nSince this job is very short and will be rerun every time a vote is\nposted, rather than consume a remote host, it will be run directly on\nthe executor. To that effect, the python script called only uses stdlib\nor modules that are already present on the executor (requests and yaml).\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2019-December/006556.html\n\nChange-Id: Ibe1f0fba6ae2a459be22b33d8de4285b739a1df0\n'}]",2,701982,7be4b337bb10ea33e15c9e4a39fc5b7af12c06e0,10,4,2,308,,,0,"Define check-release-approval executor job

As discussed in [1], create a job that will check that a release request
has been approved by the PTL or a release liaison attached to the
deliverable.

Since this job is very short and will be rerun every time a vote is
posted, rather than consume a remote host, it will be run directly on
the executor. To that effect, the python script called only uses stdlib
or modules that are already present on the executor (requests and yaml).

[1] http://lists.openstack.org/pipermail/openstack-infra/2019-December/006556.html

Change-Id: Ibe1f0fba6ae2a459be22b33d8de4285b739a1df0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/701982/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check-release-approval/README.rst', 'roles/check-release-approval/tasks/main.yaml', 'playbooks/check-release-approval/run.yaml', 'zuul.d/jobs.yaml', 'roles/check-release-approval/files/check_approval.py']",5,a22fe978ad49b4a360592ce51c4ba97bf2156f7b,check-release-approval,"#!/usr/bin/env python3 # # Check PTL/liaison has approved release # # Copyright 2019 Thierry Carrez <thierry@openstack.org> # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import json import logging import os import sys import requests from requests.packages import urllib3 import yaml GOVERNANCE_SITE = 'https://opendev.org/openstack/governance/raw/branch/master/' PROJECTS_YAML = 'reference/projects.yaml' GERRIT_URL = 'https://review.opendev.org/' LOG = logging.getLogger(__name__) # Turn of warnings about bad SSL config. # https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings urllib3.disable_warnings() def get_team(workspace, deliverablefile): with open(os.path.join(workspace, deliverablefile), 'r') as dfile: team = yaml.safe_load(dfile)['team'] return team def get_liaisons(workspace, team): filename = os.path.join(workspace, 'data/release_liaisons.yaml') with open(filename, 'r') as lfile: liaisons = yaml.safe_load(lfile) if team in liaisons: return [i['email'] for i in liaisons[team]] else: print('WARNING: %s team does not exist in liaisons file' % team) return [] class GerritChange(object): def __init__(self, changeid, workspace): # Load governance data r = requests.get(GOVERNANCE_SITE + PROJECTS_YAML) self.gov_data = yaml.safe_load(r.text) # Grab changeid details from Gerrit call = 'changes/%s' % changeid + \ '?o=CURRENT_REVISION&o=CURRENT_FILES&o=DETAILED_LABELS' + \ '&o=DETAILED_ACCOUNTS' raw = requests.get(GERRIT_URL + call) # Gerrit's REST API prepends a JSON-breaker to avoid XSS if raw.text.startswith("")]}'""): trimmed = raw.text[4:] else: trimmed = raw.text # Try to decode and bail with much detail if it fails try: decoded = json.loads(trimmed) except Exception: LOG.error( '\nrequest returned %s error to query:\n\n %s\n' '\nwith detail:\n\n %s\n', raw, raw.url, trimmed) raise # Instantiate object with retrieved data self.raw_data = decoded self.approvers = [i['email'] for i in decoded['labels']['Code-Review']['all'] if i['value'] > 0] self.approvers.append(decoded['owner']['email']) currev = decoded['current_revision'] self.deliv_files = list(decoded['revisions'][currev]['files'].keys()) self.workspace = workspace def is_approved(self): LOG.debug('Approvals: %s' % self.approvers) approved = True for deliv_file in self.deliv_files: team = get_team(self.workspace, deliv_file) try: govteam = self.gov_data[team] except ValueError: print('✕ %s mentions unknown team %s' % (deliv_file, team)) approved = False break # Check that deliverable is indeed defined in governance team delivname, _ = os.path.splitext(os.path.basename(deliv_file)) if delivname not in govteam['deliverables']: print('✕ %s not in %s governance' % (deliv_file, team)) approved = False break # Fetch PTL and release liaisons liaisons = get_liaisons(self.workspace, team) if 'email' in govteam['ptl']: liaisons.append(govteam['ptl']['email']) LOG.debug('%s needs %s' % (deliv_file, liaisons)) for approver in self.approvers: if approver in liaisons: print('✓ %s validated by %s' % (deliv_file, approver)) break else: print('✕ %s missing PTL/liaison approval' % deliv_file) approved = False return approved def main(args=sys.argv[1:]): parser = argparse.ArgumentParser() parser.add_argument('changeid') parser.add_argument('workspace') parser.add_argument(""--debug"", action='store_true') args = parser.parse_args(args) if (args.debug): logging.basicConfig(level=logging.DEBUG) change = GerritChange(args.changeid, args.workspace) if not change.is_approved(): sys.exit(1) if __name__ == '__main__': main() ",,182,0
openstack%2Fnova~master~I7c50e73c02e710a357eca51b0e156e2bd2f3ec1d,openstack/nova,master,I7c50e73c02e710a357eca51b0e156e2bd2f3ec1d,Remove remaining Python 2.7-only dependencies,MERGED,2019-12-13 12:48:59.000000000,2020-01-23 17:16:08.000000000,2020-01-23 17:12:36.000000000,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-13 12:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31b1b82dc713009da6ec39d5eef4a82acf244e3b', 'message': 'Remove remaining Python 2.7-only dependencies\n\nChange-Id: I7c50e73c02e710a357eca51b0e156e2bd2f3ec1d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-01-23 09:27:23.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/dafbe3503aa6fa883fda1373a08a47258dabe13c', 'message': 'Remove remaining Python 2.7-only dependencies\n\nChange-Id: I7c50e73c02e710a357eca51b0e156e2bd2f3ec1d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,698895,dafbe3503aa6fa883fda1373a08a47258dabe13c,18,7,2,15334,,,0,"Remove remaining Python 2.7-only dependencies

Change-Id: I7c50e73c02e710a357eca51b0e156e2bd2f3ec1d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/698895/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,31b1b82dc713009da6ec39d5eef4a82acf244e3b,drop-py27-support,"sphinx>=1.8.0,!=2.1.0 # BSD","sphinx>=1.8.0,<2.0.0;python_version=='2.7' # BSD sphinx>=1.8.0,!=2.1.0;python_version>='3.4' # BSD",1,2
openstack%2Fcharm-neutron-dynamic-routing~master~I56320abb0fc5e5112278ab632dee845c48c8980c,openstack/charm-neutron-dynamic-routing,master,I56320abb0fc5e5112278ab632dee845c48c8980c,Unit testing,MERGED,2020-01-17 19:42:45.000000000,2020-01-23 17:15:31.000000000,2020-01-23 17:15:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-17 19:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/22b8fdd1b23c409a4ad391bcddda6553b028764e', 'message': 'Unit testing\n\nIncrease unit test coverage to 100%\n\nChange-Id: I56320abb0fc5e5112278ab632dee845c48c8980c\n'}, {'number': 2, 'created': '2020-01-17 21:03:19.000000000', 'files': ['src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'unit_tests/test_dragent_handlers.py', 'unit_tests/test_lib_charm_openstack_dragent.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/5dda150e02df97ba1d70498ab85d37e2d7a9fb37', 'message': 'Unit testing\n\nIncrease unit test coverage to 100%\n\nChange-Id: I56320abb0fc5e5112278ab632dee845c48c8980c\n'}]",0,703186,5dda150e02df97ba1d70498ab85d37e2d7a9fb37,9,3,2,31420,,,0,"Unit testing

Increase unit test coverage to 100%

Change-Id: I56320abb0fc5e5112278ab632dee845c48c8980c
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/86/703186/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'unit_tests/test_dragent_handlers.py', 'unit_tests/test_lib_charm_openstack_dragent.py']",4,22b8fdd1b23c409a4ad391bcddda6553b028764e,unittest/100-percent,"import mock def test_get_os_codename(self): dra = dragent.DRAgentCharm() codename = 'codename' with mock.patch('charms_openstack.charm.OpenStackCharm.get_os_codename_package', return_value=codename) as mock_get_os_codename: self.assertEquals(dra.get_os_codename(), codename) mock_get_os_codename.assert_called_with(dra.release_pkg, dra.package_codenames) def test_disable_services(self): dra = dragent.DRAgentCharm() with mock.patch('charmhelpers.core.host.service') as mock_service: dra.disable_services() calls = [ mock.call(action, svc) for action in ('disable', 'stop') for svc in dra.services ] mock_service.assert_has_calls(calls) def test_enable_services(self): dra = dragent.DRAgentCharm() with mock.patch('charmhelpers.core.host.service') as mock_service: dra.enable_services() calls = [ mock.call(action, svc) for action in ('enable', 'start') for svc in dra.services ] mock_service.assert_has_calls(calls) def test_db_migration_overrides_base_class(self): dra = dragent.DRAgentCharm() with mock.patch('charms_openstack.charm.OpenStackCharm.' 'do_openstack_upgrade_db_migration') as base_db_migrate: dra.do_openstack_upgrade_db_migration() base_db_migrate.assert_not_called()",,55,2
openstack%2Fcinder~master~I34713120f79d78303640a42cd1bc588b67cb94d0,openstack/cinder,master,I34713120f79d78303640a42cd1bc588b67cb94d0,Add missing parameters in log messages,MERGED,2020-01-03 07:59:40.000000000,2020-01-23 17:04:27.000000000,2020-01-23 15:39:29.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 20190}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27078}, {'_account_id': 27822}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2020-01-03 07:59:40.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/54e9e9c93ddad3d59ac63c919b2804e52c75a07a', 'message': 'Add missing parameters in log messages\n\nThis is to add missing parameters in log messages.\n\nChange-Id: I34713120f79d78303640a42cd1bc588b67cb94d0\n'}]",0,700995,54e9e9c93ddad3d59ac63c919b2804e52c75a07a,103,31,1,20190,,,0,"Add missing parameters in log messages

This is to add missing parameters in log messages.

Change-Id: I34713120f79d78303640a42cd1bc588b67cb94d0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/700995/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,54e9e9c93ddad3d59ac63c919b2804e52c75a07a,missing_log_param," LOG.warning('group %(grp)s is not in sync.', {'grp': rccg_name})", LOG.warning('group %(grp)s is not in sync.'),3,2
openstack%2Fopenstack-ansible-ops~master~I93c57fd0bcf62d5da7f7472dafef75375a63f07f,openstack/openstack-ansible-ops,master,I93c57fd0bcf62d5da7f7472dafef75375a63f07f,Increase testing ELK 7x Elastic heap size,MERGED,2020-01-23 10:22:20.000000000,2020-01-23 16:49:50.000000000,2020-01-23 16:47:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-23 10:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1ad294b535d8e6d42adbfcffeb0b0d36f6814153', 'message': 'Increase testing ELK 7x Elastic heap size\n\nThe Elasticsearch JVM heap size has been bumped from 512mb to 1024mb to try\nand prevent memory issues during testing.\n\nChange-Id: I93c57fd0bcf62d5da7f7472dafef75375a63f07f\n'}, {'number': 2, 'created': '2020-01-23 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fefa34e29d68f07f91dfa6def86941a13fd2370f', 'message': '[WIP] Increase testing ELK 7x Elastic heap size\n\nThe Elasticsearch JVM heap size has been bumped from 512mb to 1024mb to try\nand prevent memory issues during testing.\n\nChange-Id: I93c57fd0bcf62d5da7f7472dafef75375a63f07f\n'}, {'number': 3, 'created': '2020-01-23 10:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/dcda5b623d95aa9534fa6b7fb3b4a3c389604ac4', 'message': '[WIP] Increase testing ELK 7x Elastic heap size\n\nThe Elasticsearch JVM heap size has been bumped from 512mb to 1024mb to try\nand prevent memory issues during testing.\n\nChange-Id: I93c57fd0bcf62d5da7f7472dafef75375a63f07f\n'}, {'number': 4, 'created': '2020-01-23 12:28:40.000000000', 'files': ['elk_metrics_7x/tests/test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8292628d78cba0c4556b33107e84eb77ebe21b14', 'message': 'Increase testing ELK 7x Elastic heap size\n\nDuring zuul testing, Elasticsearch would not always have the memory available\nto handle the logs generated on startup by system services in real time. This\nwould cause test failures due to Elasticsearch buffering, which resulted in\nunusually large data transfers. The testing Elasticsearch JVM heap size has\nbeen bumped from 512mb to 1024mb to try and prevent these issues during testing.\nThis change only affects the CI tests.\n\nChange-Id: I93c57fd0bcf62d5da7f7472dafef75375a63f07f\n'}]",0,703958,8292628d78cba0c4556b33107e84eb77ebe21b14,13,3,4,31004,,,0,"Increase testing ELK 7x Elastic heap size

During zuul testing, Elasticsearch would not always have the memory available
to handle the logs generated on startup by system services in real time. This
would cause test failures due to Elasticsearch buffering, which resulted in
unusually large data transfers. The testing Elasticsearch JVM heap size has
been bumped from 512mb to 1024mb to try and prevent these issues during testing.
This change only affects the CI tests.

Change-Id: I93c57fd0bcf62d5da7f7472dafef75375a63f07f
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/58/703958/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/tests/test-vars.yml'],1,1ad294b535d8e6d42adbfcffeb0b0d36f6814153,logging_updates,elastic_memory_lower_limit: 1024 elastic_memory_upper_limit: 1024,elastic_memory_lower_limit: 512 elastic_memory_upper_limit: 512,2,2
openstack%2Fopenstack-ansible-ops~master~I3e2230ce3de349f219306c11d476e46ae3ed8f65,openstack/openstack-ansible-ops,master,I3e2230ce3de349f219306c11d476e46ae3ed8f65,Expose interface configuration options for beat install,MERGED,2020-01-22 10:16:21.000000000,2020-01-23 16:48:09.000000000,2020-01-23 16:45:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-01-22 10:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1ffa22158c983bd415574a37d337efb97c477ebc', 'message': 'Expose interface configuration options for beat install\n\nThis update exposes options for configuring beats to communicate on non-standard\ninterfaces, i.e. not those used by ansible itself, where proxies are enabled.\nThis includes allowing the elasticsearch and logstash node/bind addresses to be\noverridden to use different interfaces, and letting no_proxy environment variables\nbe specified when the required interface does not match the kibana ansible_host\naddress. The default behaviour has not changed, these configurations are purely\noptional.\n\nChange-Id: I3e2230ce3de349f219306c11d476e46ae3ed8f65\n'}, {'number': 2, 'created': '2020-01-23 15:34:13.000000000', 'files': ['elk_metrics_7x/roles/elastic_data_hosts/defaults/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elasticsearch/defaults/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8d865b7736fb105d587f4887eb1e2b2ad7758e62', 'message': 'Expose interface configuration options for beat install\n\nThis update exposes options for configuring beats to communicate on non-standard\ninterfaces, i.e. not those used by ansible itself, where proxies are enabled.\nThis includes allowing the elasticsearch and logstash node/bind addresses to be\noverridden to use different interfaces, and letting no_proxy environment variables\nbe specified when the required interface does not match the kibana ansible_host\naddress. The default behaviour has not changed, these configurations are purely\noptional.\n\nChange-Id: I3e2230ce3de349f219306c11d476e46ae3ed8f65\n'}]",4,703756,8d865b7736fb105d587f4887eb1e2b2ad7758e62,13,4,2,31004,,,0,"Expose interface configuration options for beat install

This update exposes options for configuring beats to communicate on non-standard
interfaces, i.e. not those used by ansible itself, where proxies are enabled.
This includes allowing the elasticsearch and logstash node/bind addresses to be
overridden to use different interfaces, and letting no_proxy environment variables
be specified when the required interface does not match the kibana ansible_host
address. The default behaviour has not changed, these configurations are purely
optional.

Change-Id: I3e2230ce3de349f219306c11d476e46ae3ed8f65
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/56/703756/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_data_hosts/defaults/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elasticsearch/defaults/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/defaults/main.yml']",6,1ffa22158c983bd415574a37d337efb97c477ebc,beat_interfaces_config," # The variable defined here will be used to set the environment variable, ""no_proxy"". # This is by default set to elastic_beat_kibana_host, but if using a non-standard # interface, the no_proxy enivronment may need to be changed. # elastic_beat_no_proxy: ""{{ elastic_beat_kibana_host }}""","# The node defined here will be used with the environment variable, ""no_proxy"".",46,8
openstack%2Ftripleo-docs~master~Ice86379d7b0d0c7cbca1d17bbd3f981303ee216b,openstack/tripleo-docs,master,Ice86379d7b0d0c7cbca1d17bbd3f981303ee216b,Clarify HostnameMap keys and how they should match HostnameFormatDefault,MERGED,2020-01-16 19:33:56.000000000,2020-01-23 16:35:28.000000000,2020-01-23 16:28:08.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 9954}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-16 19:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/20cabcf872e648fbe61dbbeb3152ba66b6d0bbf6', 'message': 'Clarify HostnameMap keys and how they should match HostnameFormatDefault\n\nI hit a hiccup doing a pre-provisioned deployment because my\nHostnameMap keys were inconsistent with the HostnameFormatDefault\nspecified in the overcloud roles. This commit adds a short snippet to\nthe deployed server documentation that clarifies this detail, just in\ncase people are overriding HostnameFormatDefault for some reason.\n\nChange-Id: Ice86379d7b0d0c7cbca1d17bbd3f981303ee216b\n'}, {'number': 2, 'created': '2020-01-16 19:36:18.000000000', 'files': ['deploy-guide/source/features/deployed_server.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ba9f4b3ed4e95f80978277d532f76cbf4e38fe47', 'message': 'Clarify HostnameMap keys and how they should match HostnameFormatDefault\n\nI hit a hiccup doing a pre-provisioned deployment because my\nHostnameMap keys were inconsistent with the HostnameFormatDefault\nspecified in the overcloud roles. This commit adds a short snippet to\nthe deployed server documentation that clarifies this detail, just in\ncase people are overriding HostnameFormatDefault for some reason.\n\nChange-Id: Ice86379d7b0d0c7cbca1d17bbd3f981303ee216b\n'}]",1,702966,ba9f4b3ed4e95f80978277d532f76cbf4e38fe47,11,6,2,5046,,,0,"Clarify HostnameMap keys and how they should match HostnameFormatDefault

I hit a hiccup doing a pre-provisioned deployment because my
HostnameMap keys were inconsistent with the HostnameFormatDefault
specified in the overcloud roles. This commit adds a short snippet to
the deployed server documentation that clarifies this detail, just in
case people are overriding HostnameFormatDefault for some reason.

Change-Id: Ice86379d7b0d0c7cbca1d17bbd3f981303ee216b
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/66/702966/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_server.rst'],1,20cabcf872e648fbe61dbbeb3152ba66b6d0bbf6,,"pass it the environment as part of the deployment command. It's imperative that the ``HostnameMap`` keys correspond to the ``HostnameFormatDefault`` for appropriate role. For example, using ``overcloud-controller-0`` matches ``HostnameFormatDefault: '%stackname%-controller-%index%'`` in the ``Controller`` role. Similarly, ``overcloud-novacompute-0`` matches ``HostnameFormatDefault: '%stackname%-novacompute-%index%'`` for the ``Compute`` role. If you decide to change the ``HostnameFormatDefault`` to a different value, you'll need to account for this in your ``hostnamemap.yaml`` file. Mismatched values between the ``HostnameMap`` keys and ``HostnameFormatDefault`` causes failures during overcloud installation because TripleO can't find the appropriate hosts, as it's using the wrong names.",pass it the environment as part of the deployment command.,11,1
openstack%2Fnova~master~Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488,openstack/nova,master,Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488,nova-net: Make the security group API a module,MERGED,2019-11-29 17:19:06.000000000,2020-01-23 16:34:25.000000000,2020-01-23 16:30:23.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-29 17:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f5b3e8f140678acaba53f08e71abc17add774c6', 'message': ""Rename 'nova.network.security_group.neutron_driver' -> 'nova.network.security_group'\n\nAnother layer of complexity removed.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-11-29 17:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/409f35d9baf6e77ddccb9e5b3836d802cd9c4089', 'message': ""Rename 'nova.network.security_group.neutron_driver' -> 'nova.network.security_group'\n\nAnother layer of complexity removed.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-11-30 11:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a931d751e52bfe69b7cf3179a8167ed3a2bcf1e', 'message': ""Rename 'nova.network.security_group.neutron_driver' -> 'nova.network.security_group'\n\nAnother layer of complexity removed.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-11-30 16:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/670b89d69eb1d7fe846047ac2bb9a6a03b124e3e', 'message': ""Rename 'nova.network.security_group.neutron_driver' -> 'nova.network.security_group'\n\nAnother layer of complexity removed.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-11-30 18:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a3d3ad7d1b8f886453777be923df60a73f7e79a', 'message': ""Rename 'nova.network.security_group.neutron_driver' -> 'nova.network.security_group'\n\nAnother layer of complexity removed.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-12-03 18:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ea61d45fccef3dbe87ef02dcabbb04d1be77900', 'message': ""Rename 'nova.network.security_group.neutron_driver' -> 'nova.network.security_group'\n\nAnother layer of complexity removed.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-12-06 19:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/033506cb24567f56a5c8408f7f9df34ccd0adb99', 'message': ""nova-net: Make the security group API as module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-12-10 11:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33862e1ac95fe519570e4cf8165db2d3d9ff6a5e', 'message': ""nova-net: Make the security group API as module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-12-12 10:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0586129fc1d133379c419c1313b60fe763e0dfe', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-12-16 10:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55d1b7b4204ab76d352a43c496d85d3bea2f7a3f', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-12-24 12:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc57e978ae0bb50ba53356979eb5a0ceef4e048d', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2020-01-06 13:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04670e5a347595bc239069490bc2135ce09abc35', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 13, 'created': '2020-01-06 14:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65680934b49ab199b1ac69ac91b5784b5c1d2eae', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 14, 'created': '2020-01-06 17:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0324b41ea8bf08146934f17a1d02fc1cc701f47e', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 15, 'created': '2020-01-08 13:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23b5e7ea0ef55adcd300d85c49680d89adffd1cb', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 16, 'created': '2020-01-15 10:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8d9810a763ae6e8f538283ee1a3e8dc69d1e671', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 17, 'created': '2020-01-15 10:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfdc7f09658f932de9222dce5fbec6ad1c6fd943', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 18, 'created': '2020-01-15 14:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e72eb7d8414be165c50b85fccbb771b52769994', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 19, 'created': '2020-01-23 12:10:21.000000000', 'files': ['nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/network/test_security_group.py', 'nova/tests/unit/compute/test_compute.py', 'nova/network/security_group/neutron_driver.py', 'nova/network/security_group/security_group_base.py', 'nova/network/security_group/__init__.py', 'nova/tests/unit/network/test_config.py', 'nova/network/security_group_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/security_groups.py', 'nova/test.py', 'nova/api/metadata/base.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/network/security_group/openstack_driver.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/compute/api.py', 'nova/tests/functional/api_sample_tests/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/110a683486b750488ee147b16a17451750af4c5e', 'message': ""nova-net: Make the security group API a module\n\nWe're wrestling with multiple imports for this thing and have introduced\na cache to avoid having to load the thing repeatedly. However, Python\nalready has a way to ensure this doesn't happen: the use of a module.\nGiven that we don't have any state, we can straight up drop the class\nand just call functions directly. Along the way, we drop the\n'ensure_default' function, which is a no-op for neutron and switch all\nthe mocks over, where necessary.\n\nChange-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",5,696746,110a683486b750488ee147b16a17451750af4c5e,157,14,19,15334,,,0,"nova-net: Make the security group API a module

We're wrestling with multiple imports for this thing and have introduced
a cache to avoid having to load the thing repeatedly. However, Python
already has a way to ensure this doesn't happen: the use of a module.
Given that we don't have any state, we can straight up drop the class
and just call functions directly. Along the way, we drop the
'ensure_default' function, which is a no-op for neutron and switch all
the mocks over, where necessary.

Change-Id: Ia8dbe8ba61ec6d1b8498918a53a103a6eff4d488
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/696746/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/security_groups.py', 'nova/api/openstack/compute/views/servers.py', 'nova/network/security_group.py', 'nova/tests/unit/network/test_security_group.py', 'nova/api/metadata/base.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/network/security_group/security_group_base.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/compute/api.py', 'nova/tests/functional/api_sample_tests/test_security_groups.py', 'nova/network/security_group/__init__.py']",11,9f5b3e8f140678acaba53f08e71abc17add774c6,bp/remove-nova-network-ussuri,,,233,309
openstack%2Fopenstack-helm~master~I0db3f465776898bff70281b8a3f436608e36acb5,openstack/openstack-helm,master,I0db3f465776898bff70281b8a3f436608e36acb5,Fix nova overrides,ABANDONED,2019-12-10 10:56:26.000000000,2020-01-23 16:33:21.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-10 10:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3266e68f6148d4229177c1162152c5dcad941d00', 'message': 'Fix nova overrides\n\nSome bionic overrides reference xenial images. This patch set corrects\nthe image references. This also removes a commented out duplicate key.\n\nChange-Id: I0db3f465776898bff70281b8a3f436608e36acb5\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 2, 'created': '2019-12-19 05:32:03.000000000', 'files': ['nova/values_overrides/rocky-ubuntu_xenial.yaml', 'nova/values_overrides/rocky-opensuse_15.yaml', 'nova/values_overrides/queens-ubuntu_xenial.yaml', 'nova/values_overrides/stein-ubuntu_bionic.yaml', 'nova/values_overrides/rocky-ubuntu_bionic.yaml', 'nova/values_overrides/pike-ubuntu_xenial.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cee284cf7874043dae3decb8a7b3c091d4be6da9', 'message': 'Fix nova overrides\n\nSome bionic overrides reference xenial images. This patch set corrects\nthe image references. This also removes a commented out duplicate key.\n\nChange-Id: I0db3f465776898bff70281b8a3f436608e36acb5\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}]",0,698216,cee284cf7874043dae3decb8a7b3c091d4be6da9,10,3,2,20466,,,0,"Fix nova overrides

Some bionic overrides reference xenial images. This patch set corrects
the image references. This also removes a commented out duplicate key.

Change-Id: I0db3f465776898bff70281b8a3f436608e36acb5
Signed-off-by: Tin Lam <tlam@omegaprime.dev>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/16/698216/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values_overrides/rocky-ubuntu_xenial.yaml', 'nova/values_overrides/rocky-opensuse_15.yaml', 'nova/values_overrides/queens-ubuntu_xenial.yaml', 'nova/values_overrides/stein-ubuntu_bionic.yaml', 'nova/values_overrides/pike-ubuntu_xenial.yaml', 'nova/values_overrides/rocky-ubuntu_bionic.yaml']",6,3266e68f6148d4229177c1162152c5dcad941d00,fix/distro," nova_service_cleaner: ""docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_bionic"""," #nova_service_cleaner: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial' nova_service_cleaner: ""docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial""",2,9
openstack%2Ftripleo-docs~master~I2298f961431a2abfc6e2eeea903fe95ac560bc02,openstack/tripleo-docs,master,I2298f961431a2abfc6e2eeea903fe95ac560bc02,Fix link to UC install guide and mention podman,MERGED,2020-01-21 14:03:09.000000000,2020-01-23 16:31:21.000000000,2020-01-23 16:27:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-21 14:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9d48028825c03be687e01189b95c302a218c3ef3', 'message': 'Fix link to UC install guide and mention podman\n\nChange-Id: I2298f961431a2abfc6e2eeea903fe95ac560bc02\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-01-21 14:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/75f90d054f9c842735529ff8f549f69b4ff182f9', 'message': 'Fix link to UC install guide and mention podman\n\nChange-Id: I2298f961431a2abfc6e2eeea903fe95ac560bc02\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-01-23 11:14:09.000000000', 'files': ['deploy-guide/source/deployment/undercloud.rst', 'doc/source/contributor/new_developers.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7172590e2ea99731e699007540dc26dc779a68ea', 'message': 'Fix link to UC install guide and mention podman\n\nChange-Id: I2298f961431a2abfc6e2eeea903fe95ac560bc02\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,703619,7172590e2ea99731e699007540dc26dc779a68ea,17,6,3,6926,,,0,"Fix link to UC install guide and mention podman

Change-Id: I2298f961431a2abfc6e2eeea903fe95ac560bc02
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/19/703619/3 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deployment/undercloud.rst', 'doc/source/contributor/new_developers.rst']",2,9d48028825c03be687e01189b95c302a218c3ef3,,Please see :doc:`install_undercloud` on how to set up a containerized undercloud. ,Please see the following guide on how to set up a containerized undercloud: https://docs.openstack.org/tripleo-docs/latest/install/containers_deployment/undercloud.html,7,5
openstack%2Fpuppet-tripleo~master~I60f55d66505c1a80fa72c72dc88364a410576650,openstack/puppet-tripleo,master,I60f55d66505c1a80fa72c72dc88364a410576650,Use keystone::bootstrap,ABANDONED,2019-11-24 11:47:25.000000000,2020-01-23 16:12:30.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-24 11:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5cfa2ef9da981e09a89967afca511bf8c5718b4d', 'message': 'Use keystone::bootstrap\n\nDepends-On: https://review.opendev.org/#/c/692664/\nDepends-On: https://review.opendev.org/#/c/695818/\nChange-Id: I60f55d66505c1a80fa72c72dc88364a410576650\n'}, {'number': 2, 'created': '2019-11-24 13:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/19913bd4cb39a69e57109493068ffa232862ee8f', 'message': 'Use keystone::bootstrap\n\nDepends-On: https://review.opendev.org/#/c/692664/\nDepends-On: https://review.opendev.org/#/c/695818/\nChange-Id: I60f55d66505c1a80fa72c72dc88364a410576650\n'}, {'number': 3, 'created': '2019-11-24 18:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3aea6b7f2f51370a367b46d1b5fe4b4646a65044', 'message': 'Use keystone::bootstrap\n\nDepends-On: https://review.opendev.org/#/c/692664/\nDepends-On: https://review.opendev.org/#/c/695818/\nChange-Id: I60f55d66505c1a80fa72c72dc88364a410576650\n'}, {'number': 4, 'created': '2019-11-26 23:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8a59659c7a20fdf937040539c1b33511f9f590bc', 'message': 'Use keystone::bootstrap\n\nDepends-On: https://review.opendev.org/#/c/692664/\nDepends-On: https://review.opendev.org/#/c/695818/\nDepends-On: https://review.opendev.org/696206\nChange-Id: I60f55d66505c1a80fa72c72dc88364a410576650\n'}, {'number': 5, 'created': '2019-12-06 20:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d98011be36a466361551fe05c6f6d5b8c62948e8', 'message': 'Use keystone::bootstrap\n\nDepends-On: https://review.opendev.org/#/c/692664/\nDepends-On: https://review.opendev.org/#/c/695818/\nDepends-On: https://review.opendev.org/696206\nChange-Id: I60f55d66505c1a80fa72c72dc88364a410576650\n'}, {'number': 6, 'created': '2019-12-17 17:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/551dd405becba1953cf72491d56075a0dcef0d6e', 'message': 'Use keystone::bootstrap\n\nDepends-On: https://review.opendev.org/#/c/692664/\nDepends-On: https://review.opendev.org/#/c/695818/\nDepends-On: https://review.opendev.org/696206\nChange-Id: I60f55d66505c1a80fa72c72dc88364a410576650\n'}, {'number': 7, 'created': '2020-01-03 12:09:45.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp', 'manifests/profile/base/keystone.pp', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/71c46cb5c4e0d7ae3b83414ae79adf22931a1b6c', 'message': 'Use keystone::bootstrap\n\nDepends-On: https://review.opendev.org/#/c/692664/\nDepends-On: https://review.opendev.org/#/c/695818/\nDepends-On: https://review.opendev.org/696206\nChange-Id: I60f55d66505c1a80fa72c72dc88364a410576650\n'}]",1,695819,71c46cb5c4e0d7ae3b83414ae79adf22931a1b6c,33,5,7,16137,,,0,"Use keystone::bootstrap

Depends-On: https://review.opendev.org/#/c/692664/
Depends-On: https://review.opendev.org/#/c/695818/
Depends-On: https://review.opendev.org/696206
Change-Id: I60f55d66505c1a80fa72c72dc88364a410576650
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/19/695819/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/pacemaker/instance_ha.pp', 'manifests/profile/base/keystone.pp', 'spec/fixtures/hieradata/default.yaml']",3,5cfa2ef9da981e09a89967afca511bf8c5718b4d,rework-bootstrap,keystone::bootstrap::password: 'password' keystone::bootstrap::public_url: 'localhost:5000',keystone::endpoint::public_url: 'localhost:5000' keystone::admin_password: 'password' keystone::admin_token: 'admintoken' keystone::roles::admin::password: 'password',29,27
openstack%2Ftripleo-specs~master~Id4a71934bad616e0d9f5aa98fdde8ef2608b2eb2,openstack/tripleo-specs,master,Id4a71934bad616e0d9f5aa98fdde8ef2608b2eb2,Add spec for the Mistral to Ansible work,MERGED,2019-08-29 14:31:41.000000000,2020-01-23 16:00:13.000000000,2020-01-23 15:57:47.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8731}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-08-29 14:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/5de3e28f6e078bc321a7b9672c1ee345946cd53e', 'message': 'Add spec for the Mistral to Ansible work\n\nChange-Id: Id4a71934bad616e0d9f5aa98fdde8ef2608b2eb2\n'}, {'number': 2, 'created': '2019-10-21 09:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/806462e04ca774a5cf01ee801856b87952edc415', 'message': 'Add spec for the Mistral to Ansible work\n\nChange-Id: Id4a71934bad616e0d9f5aa98fdde8ef2608b2eb2\n'}, {'number': 3, 'created': '2019-10-30 11:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/04a8168d8c3f7e8ec27451ca7122406349b53d81', 'message': 'Add spec for the Mistral to Ansible work\n\nChange-Id: Id4a71934bad616e0d9f5aa98fdde8ef2608b2eb2\n'}, {'number': 4, 'created': '2020-01-22 21:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/f8fa3f648d9aa158728df42bda10b8e98b1c3d7b', 'message': 'Add spec for the Mistral to Ansible work\n\nChange-Id: Id4a71934bad616e0d9f5aa98fdde8ef2608b2eb2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-01-22 21:25:57.000000000', 'files': ['specs/ussuri/mistral-to-ansible.rst', 'specs/ussuri/0-placeholder.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/9b35c4ba1ccb97f56950c692ba025ae6f1234510', 'message': 'Add spec for the Mistral to Ansible work\n\nChange-Id: Id4a71934bad616e0d9f5aa98fdde8ef2608b2eb2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",24,679272,9b35c4ba1ccb97f56950c692ba025ae6f1234510,38,14,5,9712,,,0,"Add spec for the Mistral to Ansible work

Change-Id: Id4a71934bad616e0d9f5aa98fdde8ef2608b2eb2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/72/679272/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/mistral-to-ansible.rst'],1,5de3e28f6e078bc321a7b9672c1ee345946cd53e,mistral_to_ansible,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================ Replace Mistral with Ansible ============================ Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tripleo/+spec/tripleo-mistral-to-ansible The goal of this proposal is to replace Mistral in TripleO with Ansible playbooks. Problem Description =================== Mistral was originally added to take the place of an “API” and provide common logic for tripleoclient and TripleO UI. After the TripleO UI was removed, the only consumer of Mistral is tripleoclient. This means that Mistral now adds unnecessary complexity. Proposed Change =============== Overview -------- Remove Mistral from the TripleO undercloud and convert all Mistral workbooks, workflows and actions to Ansible playbooks within tripleo-ansible. This code will then be exposed by tripleoclient. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Security Impact --------------- * As the code will be re-writing Mistral workflows that currently deal with passwords, tokens and secrets we will need to be careful. However the logic should be largely the same. * With the eventual removal of Mistral and Zaqar two complex systems can be removed which will reduce the surface area for security issues. Upgrade Impact -------------- * Upgrades will need to remove Mistral services and make sure the Ansible playbooks are in place. * Older versions of tripleoclient will no longer work with the undercloud as they will expect Mistral to be present. Other End User Impact --------------------- The output of CLI commands will change format. For example, the Mistral workflow ID will no longer be included and other Ansible specific output may be included. Performance Impact ------------------ There is no expected performance impact as the workflow should be largely the same. However, the Ansible playbooks will be executed where the user runs the CLI rather than by the Mistral server. This could then be slower or faster depending on the resources available to the machine and the network connection to the undercloud. Other Deployer Impact --------------------- No anticipated impact. Developer Impact ---------------- Developers will need to contribute to Ansible playbooks instead of Mistral workflows. As the pool of developers that know Ansible is larger than those that know Mistral this should make development easier. Implementation ============== Assignee(s) ----------- Primary assignee: d0ugal Other contributors: apetrich Work Items ---------- - Migrate each of the ~125 Mistral workflows to Ansible - Remove Mistral and Zaqar - Update documentation specific to Mistral Dependencies ============ None Testing ======= Since this change will largely be a re-working of existing code the changes will be tested by the existing CI coverage. This should be improved and expanded as is needed. Molecule should be used for for testing Ansible roles. Documentation Impact ==================== Any references to Mistral will need to be updated. References ========== * https://review.opendev.org/#/q/topic:mistral-removal+OR+topic:mistral_to_ansible * https://bugs.launchpad.net/tripleo/+bugs?field.tag=mistral-removal ",,144,0
openstack%2Fcinder~master~Ifed24cec5c532cfb490cbc814f611a369a2f3486,openstack/cinder,master,Ifed24cec5c532cfb490cbc814f611a369a2f3486,Add APIs to get volume clone and restore progress,NEW,2019-12-16 06:28:48.000000000,2020-01-23 15:58:27.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30428}]","[{'number': 1, 'created': '2019-12-16 06:28:48.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1f8f58bfaa961aa19d2a42534d74fce8aa0806f', 'message': 'Add APIs to get volume clone and restore progress\n\nAdd 2 APIs to Storwize cinder driver let high level orchetrator to get progress\nof volume clone and snapshot restore operatons.\n\nChange-Id: Ifed24cec5c532cfb490cbc814f611a369a2f3486\nCloses-Bug: #1856500\n'}]",0,699156,b1f8f58bfaa961aa19d2a42534d74fce8aa0806f,37,28,1,30428,,,0,"Add APIs to get volume clone and restore progress

Add 2 APIs to Storwize cinder driver let high level orchetrator to get progress
of volume clone and snapshot restore operatons.

Change-Id: Ifed24cec5c532cfb490cbc814f611a369a2f3486
Closes-Bug: #1856500
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/699156/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,b1f8f58bfaa961aa19d2a42534d74fce8aa0806f,bug/1856500," # Add this API to let high level orchestrator to # get volume clone progress. vdisk is target volume. def get_vdisk_clone_progress(self, vdisk): fc_map_ids = self._get_vdisk_fc_mappings(vdisk) if len(fc_map_ids) == 1: attrs = self._get_flashcopy_consistgrp_attr(fc_map_ids[0]) progress = attrs['progress'] return progress elif len(fc_map_ids) > 1: raise exception.InvalidInput( reason=_('This vdisk has more than 1 flash copy mapping ' 'relationship %(vdisk)s.') % {'vdisk': vdisk}) else: return None # Add this API to let high level orchestrator to # get volume restore progress. vdisk is target snapshot. def get_vdisk_restore_progress(self, vdisk): fc_map_ids = self._get_vdisk_fc_mappings(vdisk) if len(fc_map_ids) == 1: attrs = self._get_flashcopy_consistgrp_attr(fc_map_ids[0]) progress = attrs['restore_progress'] return progress elif len(fc_map_ids) > 1: raise exception.InvalidInput( reason=_('This vdisk has more than 1 flash copy mapping ' 'relationship %(vdisk)s.') % {'vdisk': vdisk}) else: return None ",,30,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I992ed17207ee225b942a3ff02c69f31efcd61e0c,openstack/openstack-ansible-openstack_hosts,master,I992ed17207ee225b942a3ff02c69f31efcd61e0c,Fix kernel module for kernel > 5.0.0,MERGED,2020-01-22 14:45:45.000000000,2020-01-23 15:50:15.000000000,2020-01-23 15:44:46.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-01-22 14:45:45.000000000', 'files': ['vars/ubuntu-18.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0a4bd73544546b8b2b6593db2279e7ddf65a2c00', 'message': 'Fix kernel module for kernel > 5.0.0\n\nkernel 5.0.0\n* modinfo nf_nat_ipv4\nfilename:       /lib/modules/5.0.0-37-generic/kernel/net/ipv4/netfilter/nf_nat_ipv4.ko\n* modinfo iptable_nat\nfilename:       /lib/modules/5.0.0-37-generic/kernel/net/ipv4/netfilter/iptable_nat.ko\ndepends:        nf_nat_ipv4,ip_tables\n\nkernel 5.3.0\n* modinfo nf_nat_ipv4\nmodinfo: ERROR: Module nf_nat_ipv4 not found.\n* modinfo iptable_nat\nfilename:       /lib/modules/5.3.0-26-generic/kernel/net/ipv4/netfilter/iptable_nat.ko\ndepends:        nf_nat,ip_tables\n\nChange-Id: I992ed17207ee225b942a3ff02c69f31efcd61e0c\n'}]",0,703806,0a4bd73544546b8b2b6593db2279e7ddf65a2c00,11,3,1,13095,,,0,"Fix kernel module for kernel > 5.0.0

kernel 5.0.0
* modinfo nf_nat_ipv4
filename:       /lib/modules/5.0.0-37-generic/kernel/net/ipv4/netfilter/nf_nat_ipv4.ko
* modinfo iptable_nat
filename:       /lib/modules/5.0.0-37-generic/kernel/net/ipv4/netfilter/iptable_nat.ko
depends:        nf_nat_ipv4,ip_tables

kernel 5.3.0
* modinfo nf_nat_ipv4
modinfo: ERROR: Module nf_nat_ipv4 not found.
* modinfo iptable_nat
filename:       /lib/modules/5.3.0-26-generic/kernel/net/ipv4/netfilter/iptable_nat.ko
depends:        nf_nat,ip_tables

Change-Id: I992ed17207ee225b942a3ff02c69f31efcd61e0c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/06/703806/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,0a4bd73544546b8b2b6593db2279e7ddf65a2c00,module-5.3," - name: ""{{ (hostvars[inventory_hostname]['ansible_kernel'] is version('5.0.0', '<=')) | ternary('nf_nat_ipv4', '') }}""", - name: nf_nat_ipv4,1,1
openstack%2Fneutron~master~Id5b8fc484112e16c7b627b38af3440f1ce387ffb,openstack/neutron,master,Id5b8fc484112e16c7b627b38af3440f1ce387ffb,Remove networking-midonet job from Neutron's check queue,MERGED,2020-01-19 10:10:34.000000000,2020-01-23 15:44:19.000000000,2020-01-23 15:39:26.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-19 10:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65c37bb5e0c0954d673a0b8ea684dc027969e09d', 'message': ""Remove networking-midonet job from Neutron's check queue\n\nThis job can't run on python 3 and it's failing 100% since long time.\nThere is no point to run it like that now as it's only waste of infra\nresources.\nWe will re-add this job to Neutron's check queue when it will be fixed.\n\nChange-Id: Id5b8fc484112e16c7b627b38af3440f1ce387ffb\n""}, {'number': 2, 'created': '2020-01-22 10:47:07.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/28b1cb749dfb8e0b9700d03ca094aa8775a3109c', 'message': ""Remove networking-midonet job from Neutron's check queue\n\nThis job can't run on python 3 and it's failing 100% since long time.\nThere is no point to run it like that now as it's only waste of infra\nresources.\nWe will re-add this job to Neutron's check queue when it will be fixed.\n\nChange-Id: Id5b8fc484112e16c7b627b38af3440f1ce387ffb\n""}]",0,703282,28b1cb749dfb8e0b9700d03ca094aa8775a3109c,29,6,2,11975,,,0,"Remove networking-midonet job from Neutron's check queue

This job can't run on python 3 and it's failing 100% since long time.
There is no point to run it like that now as it's only waste of infra
resources.
We will re-add this job to Neutron's check queue when it will be fixed.

Change-Id: Id5b8fc484112e16c7b627b38af3440f1ce387ffb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/703282/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,65c37bb5e0c0954d673a0b8ea684dc027969e09d,disable-broken-non-voting-jobs, # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false # irrelevant-files: *irrelevant-files, - networking-midonet-tempest-aio-ml2-centos-7: voting: false irrelevant-files: *irrelevant-files,5,3
openstack%2Fdevstack~stable%2Ftrain~I4557a737cb13b9c2406056be08ab8a32ddd45162,openstack/devstack,stable/train,I4557a737cb13b9c2406056be08ab8a32ddd45162,do not gzip legacy service logs,MERGED,2020-01-20 04:04:03.000000000,2020-01-23 15:43:51.000000000,2020-01-23 15:41:41.000000000,"[{'_account_id': 4146}, {'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-20 04:04:03.000000000', 'files': ['roles/export-devstack-journal/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dd367e26ccf43b00d3d17b24382c2e2579521526', 'message': 'do not gzip legacy service logs\n\nThis change removes the .gz extension from the\nservice and syslog logs exported via journalctl.\nThis change nolonger gzip compresses the exported\nlogs so that they can be rendered in the browser\ndirectly when served from swift.\n\nChange-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162\n(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)\n'}]",0,703321,dd367e26ccf43b00d3d17b24382c2e2579521526,15,5,1,8556,,,0,"do not gzip legacy service logs

This change removes the .gz extension from the
service and syslog logs exported via journalctl.
This change nolonger gzip compresses the exported
logs so that they can be rendered in the browser
directly when served from swift.

Change-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162
(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/703321/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/export-devstack-journal/tasks/main.yaml'],1,dd367e26ccf43b00d3d17b24382c2e2579521526,do-not-compress-service-logs-stable/train, journalctl -o short-precise --unit $u > {{ stage_dir }}/logs/$name.txt > {{ stage_dir }}/logs/syslog.txt, journalctl -o short-precise --unit $u | gzip - > {{ stage_dir }}/logs/$name.txt.gz | gzip - > {{ stage_dir }}/logs/syslog.txt.gz,2,2
openstack%2Fgrenade~master~I3d696e7603f7d1aa56ac9546892a5930488e67be,openstack/grenade,master,I3d696e7603f7d1aa56ac9546892a5930488e67be,Use upper constraints,MERGED,2020-01-22 19:17:28.000000000,2020-01-23 15:43:51.000000000,2020-01-23 15:39:32.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 19:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/c63dc9151c87b374a646acbf721474ec5bb2ce02', 'message': 'Use upper constraints in docs job\n\nChange-Id: I3d696e7603f7d1aa56ac9546892a5930488e67be\n'}, {'number': 2, 'created': '2020-01-22 19:19:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/d67a48d12745306bb810f825909ea899bbb7ab87', 'message': 'Use upper constraints\n\nUse upper constraints in the main [testenv] and in the docs build.\n\nChange-Id: I3d696e7603f7d1aa56ac9546892a5930488e67be\n'}]",0,703860,d67a48d12745306bb810f825909ea899bbb7ab87,13,5,2,14070,,,0,"Use upper constraints

Use upper constraints in the main [testenv] and in the docs build.

Change-Id: I3d696e7603f7d1aa56ac9546892a5930488e67be
",git fetch https://review.opendev.org/openstack/grenade refs/changes/60/703860/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c63dc9151c87b374a646acbf721474ec5bb2ce02,make-docs-build,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Ftempest~master~I305ec74bdd3ac6cb18878820ec2e93443b253547,openstack/tempest,master,I305ec74bdd3ac6cb18878820ec2e93443b253547,ci jobs are not working,ABANDONED,2020-01-23 15:40:26.000000000,2020-01-23 15:41:11.000000000,,[],"[{'number': 1, 'created': '2020-01-23 15:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/566c343f4a4a8517ec978760452f53b6507f752b', 'message': 'ci jobs are not working\n\nChange-Id: I305ec74bdd3ac6cb18878820ec2e93443b253547\n'}]",0,704010,566c343f4a4a8517ec978760452f53b6507f752b,2,0,1,19519,,,0,"ci jobs are not working

Change-Id: I305ec74bdd3ac6cb18878820ec2e93443b253547
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/704010/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,566c343f4a4a8517ec978760452f53b6507f752b,,,,0,0
openstack%2Fdevstack~stable%2Fqueens~I4557a737cb13b9c2406056be08ab8a32ddd45162,openstack/devstack,stable/queens,I4557a737cb13b9c2406056be08ab8a32ddd45162,do not gzip legacy service logs,MERGED,2020-01-22 01:27:21.000000000,2020-01-23 15:39:34.000000000,2020-01-23 15:39:33.000000000,"[{'_account_id': 7118}, {'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 01:27:21.000000000', 'files': ['roles/export-devstack-journal/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ef37d5742a7ec9d71de8f393912be8476f0a3d88', 'message': 'do not gzip legacy service logs\n\nThis change removes the .gz extension from the\nservice and syslog logs exported via journalctl.\nThis change nolonger gzip compresses the exported\nlogs so that they can be rendered in the browser\ndirectly when served from swift.\n\nConflicts:\n    roles/export-devstack-journal/tasks/main.yaml\n\nChange-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162\n(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)\n'}]",0,703717,ef37d5742a7ec9d71de8f393912be8476f0a3d88,14,5,1,8556,,,0,"do not gzip legacy service logs

This change removes the .gz extension from the
service and syslog logs exported via journalctl.
This change nolonger gzip compresses the exported
logs so that they can be rendered in the browser
directly when served from swift.

Conflicts:
    roles/export-devstack-journal/tasks/main.yaml

Change-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162
(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/703717/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/export-devstack-journal/tasks/main.yaml'],1,ef37d5742a7ec9d71de8f393912be8476f0a3d88,, journalctl -o short-precise --unit $u > {{ stage_dir }}/logs/$name.txt > {{ stage_dir }}/logs/syslog.txt, journalctl -o short-precise --unit $u | gzip - > {{ stage_dir }}/logs/$name.txt.gz | gzip - > {{ stage_dir }}/logs/syslog.txt.gz,2,2
openstack%2Fdevstack~stable%2Fpike~I4557a737cb13b9c2406056be08ab8a32ddd45162,openstack/devstack,stable/pike,I4557a737cb13b9c2406056be08ab8a32ddd45162,do not gzip legacy service logs,MERGED,2020-01-22 01:27:50.000000000,2020-01-23 15:39:31.000000000,2020-01-23 15:39:31.000000000,"[{'_account_id': 7118}, {'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 01:27:50.000000000', 'files': ['roles/export-devstack-journal/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ced35a5eadfabc943e31f8329ff618d88c02b84c', 'message': 'do not gzip legacy service logs\n\nThis change removes the .gz extension from the\nservice and syslog logs exported via journalctl.\nThis change nolonger gzip compresses the exported\nlogs so that they can be rendered in the browser\ndirectly when served from swift.\n\nConflicts:\n    roles/export-devstack-journal/tasks/main.yaml\n\nChange-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162\n(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)\n'}]",0,703718,ced35a5eadfabc943e31f8329ff618d88c02b84c,11,5,1,8556,,,0,"do not gzip legacy service logs

This change removes the .gz extension from the
service and syslog logs exported via journalctl.
This change nolonger gzip compresses the exported
logs so that they can be rendered in the browser
directly when served from swift.

Conflicts:
    roles/export-devstack-journal/tasks/main.yaml

Change-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162
(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/703718/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/export-devstack-journal/tasks/main.yaml'],1,ced35a5eadfabc943e31f8329ff618d88c02b84c,, journalctl -o short-precise --unit $u > {{ stage_dir }}/logs/$name.txt > {{ stage_dir }}/logs/syslog.txt, journalctl -o short-precise --unit $u | gzip - > {{ stage_dir }}/logs/$name.txt.gz | gzip - > {{ stage_dir }}/logs/syslog.txt.gz,2,2
openstack%2Fdevstack~master~I63e5fec0edf9adec92650bc943683703f003cd5d,openstack/devstack,master,I63e5fec0edf9adec92650bc943683703f003cd5d,[WIP] Let neutron use default gateway IPv6 public subnets,ABANDONED,2019-11-04 16:40:27.000000000,2020-01-23 15:37:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-11-04 16:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ecb0b9615959c1b2d4347b170768dfbe38b4c077', 'message': 'Let neutron use default gateway IPv6 pubblick subnets\n\nSince neutron will pick the lowest host IP as the\ngateway by default, do not specify them unless the\nuser has specifically set them.\n\nDo this for public IPv6 public subnets.\n\nThis follows previews change: Ifc71400a3af1f131bb8a9722188e13de5bd3c806\n\nChange-Id: I63e5fec0edf9adec92650bc943683703f003cd5d\n'}, {'number': 2, 'created': '2019-11-04 16:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fb37f9924fae33abd2f82af731d353811e7d766b', 'message': 'Let neutron use default gateway IPv6 pubblick subnets\n\nSince neutron will pick the lowest host IP as the\ngateway by default, do not specify them unless the\nuser has specifically set them.\n\nDo this for public IPv6 public subnets.\n\nThis follows the example of below change:\n https://review.opendev.org/#/c/358848/\n\nChange-Id: I63e5fec0edf9adec92650bc943683703f003cd5d\n'}, {'number': 3, 'created': '2019-11-04 21:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2c12fb25b5de6ef87a8d4307a83be55d69b2199a', 'message': 'Let neutron use default gateway IPv6 pubblick subnets\n\nSince neutron will pick the lowest host IP as the\ngateway by default, do not specify them unless the\nuser has specifically set them.\n\nDo this for public IPv6 public subnets.\n\nThis follows the example of below change:\n https://review.opendev.org/#/c/358848/\n\nChange-Id: I63e5fec0edf9adec92650bc943683703f003cd5d\n'}, {'number': 4, 'created': '2019-11-05 12:12:21.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6b78c65ffe3dadce487a7f4f79bfd711d5a5ccc7', 'message': '[WIP] Let neutron use default gateway IPv6 public subnets\n\nSince neutron will pick the lowest host IP as the\ngateway by default, do not specify them unless the\nuser has specifically set them.\n\nDo this for public IPv6 public subnets.\n\nThis follows the example of below change:\n https://review.opendev.org/#/c/358848/\n\nChange-Id: I63e5fec0edf9adec92650bc943683703f003cd5d\n'}]",2,692851,6b78c65ffe3dadce487a7f4f79bfd711d5a5ccc7,11,3,4,27329,,,0,"[WIP] Let neutron use default gateway IPv6 public subnets

Since neutron will pick the lowest host IP as the
gateway by default, do not specify them unless the
user has specifically set them.

Do this for public IPv6 public subnets.

This follows the example of below change:
 https://review.opendev.org/#/c/358848/

Change-Id: I63e5fec0edf9adec92650bc943683703f003cd5d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/692851/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,ecb0b9615959c1b2d4347b170768dfbe38b4c077,no-subnet-gateway,"IPV6_PUBLIC_NETWORK_GATEWAY=${IPV6_PUBLIC_NETWORK_GATEWAY:-} if [[ -n ""$IPV6_PUBLIC_NETWORK_GATEWAY"" ]]; then subnet_params+=""--gateway $IPV6_PUBLIC_NETWORK_GATEWAY "" fi","IPV6_PUBLIC_NETWORK_GATEWAY=${IPV6_PUBLIC_NETWORK_GATEWAY:-2001:db8::2} subnet_params+=""--gateway $IPV6_PUBLIC_NETWORK_GATEWAY """,4,2
openstack%2Fcinder~stable%2Ftrain~Ibfa6c4ba2f162681756ec3203991351345b65346,openstack/cinder,stable/train,Ibfa6c4ba2f162681756ec3203991351345b65346,Make volume soft delete more thorough,MERGED,2020-01-14 12:29:00.000000000,2020-01-23 15:33:16.000000000,2020-01-23 15:30:54.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-01-14 12:29:00.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'test-requirements.txt', 'lower-constraints.txt', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/db/test_orm_relationships.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd2ba4900473869ef393b40d6a4b2ec6f7b035ac', 'message': 'Make volume soft delete more thorough\n\nWhen a volume record is soft-deleted in the database,\ndependent records in other tables (for example,\nTransfers, VolumeGlanceMetadata, etc.) must be soft\ndeleted as well.  Otherwise, we will get FK dependency\nerrors when the database is purged.\n\nThis patch adds that support for VolumeAttachment table.\n(other tables were already covered, just refactored)\n\nAlso adds tests.\n\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ibfa6c4ba2f162681756ec3203991351345b65346\nRelated-Bug: #1542169\n(cherry picked from commit a5bb17bdfc8af4df08ccce759bedcfd16bc7fe15)\n'}]",0,702407,dd2ba4900473869ef393b40d6a4b2ec6f7b035ac,41,14,1,27615,,,0,"Make volume soft delete more thorough

When a volume record is soft-deleted in the database,
dependent records in other tables (for example,
Transfers, VolumeGlanceMetadata, etc.) must be soft
deleted as well.  Otherwise, we will get FK dependency
errors when the database is purged.

This patch adds that support for VolumeAttachment table.
(other tables were already covered, just refactored)

Also adds tests.

Co-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ibfa6c4ba2f162681756ec3203991351345b65346
Related-Bug: #1542169
(cherry picked from commit a5bb17bdfc8af4df08ccce759bedcfd16bc7fe15)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/702407/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'test-requirements.txt', 'lower-constraints.txt', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/db/test_orm_relationships.py']",6,dd2ba4900473869ef393b40d6a4b2ec6f7b035ac,bug/1542169-stable/train,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Tests for code that makes assumptions about ORM relationships."""""" from sqlalchemy_utils import functions as saf from cinder.db.sqlalchemy import api as db_api from cinder.db.sqlalchemy import models from cinder import test class VolumeRelationshipsTestCase(test.TestCase): """"""Test cases for Volume ORM model relationshps."""""" def test_volume_dependent_models_list(self): """"""Make sure the volume dependent tables list is accurate."""""" # Addresses LP Bug #1542169 volume_declarative_base = saf.get_declarative_base(models.Volume) volume_fks = saf.get_referencing_foreign_keys(models.Volume) dependent_tables = [] for table, fks in saf.group_foreign_keys(volume_fks): dependent_tables.append(table) found_dependent_models = [] for table in dependent_tables: found_dependent_models.append(saf.get_class_by_table( volume_declarative_base, table)) self.assertEqual(len(found_dependent_models), len(db_api.VOLUME_DEPENDENT_MODELS)) for model in found_dependent_models: self.assertIn(model, db_api.VOLUME_DEPENDENT_MODELS) ",,73,26
openstack%2Fdevstack~master~Ibc40f79b1daf30246ed24790e9b305caea497cb2,openstack/devstack,master,Ibc40f79b1daf30246ed24790e9b305caea497cb2,"Revert ""Revert ""Stop enabling g-reg by default""""",MERGED,2020-01-18 15:41:17.000000000,2020-01-23 15:12:46.000000000,2020-01-23 15:07:30.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-18 15:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7f694364eec77d7914bb640e53319b4c4bf7ac4a', 'message': 'Revert ""Revert ""Stop enabling g-reg by default""""\n\nThis reverts commit 98f3bbe509c2de9efaf4f3fc1b5dbc42d7a67987.\n\nThis is no longer necessary as proper fix [1]\nhas green light.\n\n[1] https://review.opendev.org/702960\n\nChange-Id: Ibc40f79b1daf30246ed24790e9b305caea497cb2\n'}, {'number': 2, 'created': '2020-01-19 04:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/572dcd59dddba1c01393518803af931652e7348e', 'message': 'Revert ""Revert ""Stop enabling g-reg by default""""\n\nThis reverts commit 98f3bbe509c2de9efaf4f3fc1b5dbc42d7a67987.\n\nThis is no longer necessary as proper fix [1]\nhas green light.\n\n[1] https://review.opendev.org/702960\n\nChange-Id: Ibc40f79b1daf30246ed24790e9b305caea497cb2\n'}, {'number': 3, 'created': '2020-01-19 11:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b85fc938bc1458b127d4dda01784a432b6e0b030', 'message': 'Revert ""Revert ""Stop enabling g-reg by default""""\n\nThis reverts commit 98f3bbe509c2de9efaf4f3fc1b5dbc42d7a67987.\n\nThis is no longer necessary as proper fix [1]\nhas green light.\n\n[1] https://review.opendev.org/702960\n\nChange-Id: Ibc40f79b1daf30246ed24790e9b305caea497cb2\n'}, {'number': 4, 'created': '2020-01-19 11:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a8ac99032140fd2cffce06c547eb3a8f5beabc9c', 'message': 'Revert ""Revert ""Stop enabling g-reg by default""""\n\nThis reverts commit 98f3bbe509c2de9efaf4f3fc1b5dbc42d7a67987.\n\nThis is no longer necessary as proper fix [1]\nis now applied.\n\n[1] https://review.opendev.org/703288\n\nChange-Id: Ibc40f79b1daf30246ed24790e9b305caea497cb2\nRelated-bug: #1859847\nRelated-bug: #1860021\n'}, {'number': 5, 'created': '2020-01-21 17:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3beb7296f8e3452ff51daa71e03f76462e04a5c5', 'message': 'Revert ""Revert ""Stop enabling g-reg by default""""\n\nThis reverts commit 98f3bbe509c2de9efaf4f3fc1b5dbc42d7a67987.\n\nThis is no longer necessary as proper fix [1]\nis now applied.\n\n[1] https://review.opendev.org/703288\n\nChange-Id: Ibc40f79b1daf30246ed24790e9b305caea497cb2\nRelated-bug: #1859847\nRelated-bug: #1860021\n'}, {'number': 6, 'created': '2020-01-22 13:43:23.000000000', 'files': ['.zuul.yaml', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/89cb80d2120a7247dcc8b1f6a073cf9c9e488806', 'message': 'Revert ""Revert ""Stop enabling g-reg by default""""\n\nThis reverts commit 98f3bbe509c2de9efaf4f3fc1b5dbc42d7a67987.\n\nThis is no longer necessary as proper fix [1]\nis now applied.\n\n[1] https://review.opendev.org/703288\n\nChange-Id: Ibc40f79b1daf30246ed24790e9b305caea497cb2\nRelated-bug: #1859847\nRelated-bug: #1860021\n'}]",0,703247,89cb80d2120a7247dcc8b1f6a073cf9c9e488806,31,9,6,30491,,,0,"Revert ""Revert ""Stop enabling g-reg by default""""

This reverts commit 98f3bbe509c2de9efaf4f3fc1b5dbc42d7a67987.

This is no longer necessary as proper fix [1]
is now applied.

[1] https://review.opendev.org/703288

Change-Id: Ibc40f79b1daf30246ed24790e9b305caea497cb2
Related-bug: #1859847
Related-bug: #1860021
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/703247/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'stackrc']",2,7f694364eec77d7914bb640e53319b4c4bf7ac4a,bug/1860021," ENABLED_SERVICES+=,g-api"," ENABLED_SERVICES+=,g-api,g-reg",1,2
openstack%2Freleases~master~I6cce8c08eaa19c06695a044da59ba75e671f3005,openstack/releases,master,I6cce8c08eaa19c06695a044da59ba75e671f3005,Use __str__ for printing the contact information,MERGED,2020-01-17 08:47:37.000000000,2020-01-23 15:06:39.000000000,2020-01-23 15:06:39.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-17 08:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c73f727f48cfbc87d9b0a5bce6c5f9b514d1a1f4', 'message': 'Use __str__ for printing the contact information\n\nNow that all the Contacts are an object we can just use __str__ to\nformat them and pass that to print rather than use a print_contact()\nfunction\n\nChange-Id: I6cce8c08eaa19c06695a044da59ba75e671f3005\n'}, {'number': 2, 'created': '2020-01-17 15:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6af11bd7e32280dfc2c77dae81a6297a2f7745bb', 'message': 'Use __str__ for printing the contact information\n\nNow that all the Contacts are an object we can just use __str__ to\nformat them and pass that to print rather than use a print_contact()\nfunction\n\nChange-Id: I6cce8c08eaa19c06695a044da59ba75e671f3005\n'}, {'number': 3, 'created': '2020-01-20 13:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/faa87f994c057308b8f10bd9f40a2f94603f45ae', 'message': 'Use __str__ for printing the contact information\n\nNow that all the Contacts are an object we can just use __str__ to\nformat them and pass that to print rather than use a print_contact()\nfunction\n\nChange-Id: I6cce8c08eaa19c06695a044da59ba75e671f3005\n'}, {'number': 4, 'created': '2020-01-23 11:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/768a9ea2a226a7d97970549afe28be65706bd12b', 'message': 'Use __str__ for printing the contact information\n\nNow that all the Contacts are an object we can just use __str__ to\nformat them and pass that to print rather than use a print_contact()\nfunction\n\nChange-Id: I6cce8c08eaa19c06695a044da59ba75e671f3005\n'}, {'number': 5, 'created': '2020-01-23 12:30:09.000000000', 'files': ['openstack_releases/cmds/get_contacts.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/4b30a708ebf672dfbf61ed877092a840b8aa41e8', 'message': 'Use __str__ for printing the contact information\n\nNow that all the Contacts are an object we can just use __str__ to\nformat them and pass that to print rather than use a print_contact()\nfunction\n\nChange-Id: I6cce8c08eaa19c06695a044da59ba75e671f3005\n'}]",1,703037,4b30a708ebf672dfbf61ed877092a840b8aa41e8,23,6,5,12898,,,0,"Use __str__ for printing the contact information

Now that all the Contacts are an object we can just use __str__ to
format them and pass that to print rather than use a print_contact()
function

Change-Id: I6cce8c08eaa19c06695a044da59ba75e671f3005
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/703037/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/get_contacts.py'],1,c73f727f48cfbc87d9b0a5bce6c5f9b514d1a1f4,feature/new_tools," def __str__(self): return (""Name : %(name)s\n"" + ""IRC Nick : %(irc)s\n"" + ""Email : %(email)s"") % (self.__dict__) print(contact)", def print_contact(contact): print('Name : %s' % contact.name) print('IRC Nick : %s' % contact.irc) print('Email : %s' % contact.email) print_contact(contact),5,6
openstack%2Freleases~master~I83e64de23ae75f5abedc6219a07a8cfdd661687d,openstack/releases,master,I83e64de23ae75f5abedc6219a07a8cfdd661687d,Add docs for tools/make_missing_releases.sh,MERGED,2020-01-20 13:53:15.000000000,2020-01-23 15:06:38.000000000,2020-01-23 15:06:38.000000000,"[{'_account_id': 308}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-20 13:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7ecf93f2dd49a19067ba0a23c62689ea9df49a01', 'message': 'Add docs for tools/make_missing_releases.sh\n\nChange-Id: I83e64de23ae75f5abedc6219a07a8cfdd661687d\n'}, {'number': 2, 'created': '2020-01-22 15:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/70e6e0305df63d3eb40e7c3f2784a36dd45cbee7', 'message': 'Add docs for tools/make_missing_releases.sh\n\nChange-Id: I83e64de23ae75f5abedc6219a07a8cfdd661687d\n'}, {'number': 3, 'created': '2020-01-23 12:29:33.000000000', 'files': ['doc/source/reference/using.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/c582feffc03b8dc3cc81471f3c0b11d70147ce6c', 'message': 'Add docs for tools/make_missing_releases.sh\n\nChange-Id: I83e64de23ae75f5abedc6219a07a8cfdd661687d\n'}]",1,703395,c582feffc03b8dc3cc81471f3c0b11d70147ce6c,15,4,3,12898,,,0,"Add docs for tools/make_missing_releases.sh

Change-Id: I83e64de23ae75f5abedc6219a07a8cfdd661687d
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/703395/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/using.rst'],1,7ecf93f2dd49a19067ba0a23c62689ea9df49a01,feature/new_tools,"tools/make_missing_releases.sh ------------------------------ A wrapper script around ``new-release`` designed to be run my the release team to create releases at appropriate times in the release cycle, e.g milestones. Once ``tools/make_missing_releases.sh`` completes the release manager can use ``tools/bulk_review.sh`` to submit the release requests. ",,8,0
openstack%2Fdevstack~stable%2Frocky~I7270c9b9e047a851970439522c0356c9089a5b74,openstack/devstack,stable/rocky,I7270c9b9e047a851970439522c0356c9089a5b74,Add capability of adding additional network API extensions,MERGED,2019-10-07 18:17:41.000000000,2020-01-23 15:05:42.000000000,2020-01-23 15:05:42.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 18:17:41.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/481019fb4c3181592dabe10eba7c143ec401230b', 'message': ""Add capability of adding additional network API extensions\n\nCurrently, devstack has NETWORK_API_EXTENSIONS var to define\nthe network API extensions. NETWORK_API_EXTENSIONS is defaulted\nto 'all' for master and hard coded list of extensions per release.\nZuul jobs of network extensions (for example neutron-fwaas) need\nadd the some extra extensions in the default list. To do so, they\nneed to duplicate all the defaults extensions and then add the extra\nextensions. Much difficult situation is when defaults extensions list\nvary from release to release so they have to keep updating the\nNETWORK_API_EXTENSIONS per release.\n\nThis commit defines a new var ADDITIONAL_NETWORK_API_EXTENSIONS which\nwill take extra extensions and append into the default list. This way\nZuul jobs do not need to duplicate the default extensions.\n\nChange-Id: I7270c9b9e047a851970439522c0356c9089a5b74\n(cherry picked from commit 52c2886f7ede0e47f53b65fd1fd30f7d6ca7c086)\n(cherry picked from commit 6154153699ef99e9fc2df5208898b42be596efb0)\n""}]",0,687129,481019fb4c3181592dabe10eba7c143ec401230b,7,3,1,8556,,,0,"Add capability of adding additional network API extensions

Currently, devstack has NETWORK_API_EXTENSIONS var to define
the network API extensions. NETWORK_API_EXTENSIONS is defaulted
to 'all' for master and hard coded list of extensions per release.
Zuul jobs of network extensions (for example neutron-fwaas) need
add the some extra extensions in the default list. To do so, they
need to duplicate all the defaults extensions and then add the extra
extensions. Much difficult situation is when defaults extensions list
vary from release to release so they have to keep updating the
NETWORK_API_EXTENSIONS per release.

This commit defines a new var ADDITIONAL_NETWORK_API_EXTENSIONS which
will take extra extensions and append into the default list. This way
Zuul jobs do not need to duplicate the default extensions.

Change-Id: I7270c9b9e047a851970439522c0356c9089a5b74
(cherry picked from commit 52c2886f7ede0e47f53b65fd1fd30f7d6ca7c086)
(cherry picked from commit 6154153699ef99e9fc2df5208898b42be596efb0)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/29/687129/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,481019fb4c3181592dabe10eba7c143ec401230b,," if [[ -n ""$ADDITIONAL_NETWORK_API_EXTENSIONS"" ]] && [[ ""$network_api_extensions"" != ""all"" ]]; then network_api_extensions+="",$ADDITIONAL_NETWORK_API_EXTENSIONS"" fi",,3,0
openstack%2Fdevstack~stable%2Fqueens~I7270c9b9e047a851970439522c0356c9089a5b74,openstack/devstack,stable/queens,I7270c9b9e047a851970439522c0356c9089a5b74,Add capability of adding additional network API extensions,MERGED,2019-10-07 18:17:59.000000000,2020-01-23 15:05:41.000000000,2020-01-23 15:05:41.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 18:17:59.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab75fc6557158942c0ed63746406668f48defa01', 'message': ""Add capability of adding additional network API extensions\n\nCurrently, devstack has NETWORK_API_EXTENSIONS var to define\nthe network API extensions. NETWORK_API_EXTENSIONS is defaulted\nto 'all' for master and hard coded list of extensions per release.\nZuul jobs of network extensions (for example neutron-fwaas) need\nadd the some extra extensions in the default list. To do so, they\nneed to duplicate all the defaults extensions and then add the extra\nextensions. Much difficult situation is when defaults extensions list\nvary from release to release so they have to keep updating the\nNETWORK_API_EXTENSIONS per release.\n\nThis commit defines a new var ADDITIONAL_NETWORK_API_EXTENSIONS which\nwill take extra extensions and append into the default list. This way\nZuul jobs do not need to duplicate the default extensions.\n\nChange-Id: I7270c9b9e047a851970439522c0356c9089a5b74\n(cherry picked from commit 52c2886f7ede0e47f53b65fd1fd30f7d6ca7c086)\n""}]",0,687130,ab75fc6557158942c0ed63746406668f48defa01,7,3,1,8556,,,0,"Add capability of adding additional network API extensions

Currently, devstack has NETWORK_API_EXTENSIONS var to define
the network API extensions. NETWORK_API_EXTENSIONS is defaulted
to 'all' for master and hard coded list of extensions per release.
Zuul jobs of network extensions (for example neutron-fwaas) need
add the some extra extensions in the default list. To do so, they
need to duplicate all the defaults extensions and then add the extra
extensions. Much difficult situation is when defaults extensions list
vary from release to release so they have to keep updating the
NETWORK_API_EXTENSIONS per release.

This commit defines a new var ADDITIONAL_NETWORK_API_EXTENSIONS which
will take extra extensions and append into the default list. This way
Zuul jobs do not need to duplicate the default extensions.

Change-Id: I7270c9b9e047a851970439522c0356c9089a5b74
(cherry picked from commit 52c2886f7ede0e47f53b65fd1fd30f7d6ca7c086)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/687130/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,ab75fc6557158942c0ed63746406668f48defa01,," if [[ -n ""$ADDITIONAL_NETWORK_API_EXTENSIONS"" ]] && [[ ""$network_api_extensions"" != ""all"" ]]; then network_api_extensions+="",$ADDITIONAL_NETWORK_API_EXTENSIONS"" fi",,3,0
openstack%2Freleases~master~Ia319e8a7b4da195cb4bc861c51025a41adc43bb3,openstack/releases,master,Ia319e8a7b4da195cb4bc861c51025a41adc43bb3,Add tools/bulk_review.sh and get-contacts,MERGED,2019-04-15 05:47:18.000000000,2020-01-23 15:02:31.000000000,2020-01-23 15:02:30.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-15 05:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ec18e82ea514bbb6b63c25bea127ad3387cdaa26', 'message': ""Add a couple of tools\n\nget-ptl:\nTo extract the PTL contact information from the governance data\n\ntools/bulk_review.sh\nTo manipulate a dirty working-tree and post as a single gerrit topic\nwithout any internal dependencies so that any change can be merged when\nit's ready\n\nChange-Id: Ia319e8a7b4da195cb4bc861c51025a41adc43bb3\n""}, {'number': 2, 'created': '2019-06-07 04:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/60e66f96354eb8d646b0653964ec1b2333d5cb41', 'message': ""Add tools/bulk_review.sh and get-ptl\n\nget-ptl:\nTo extract the PTL contact information from the governance data\n\ntools/bulk_review.sh:\nTo manipulate a dirty working-tree and post as a single gerrit topic\nwithout any internal dependencies so that any change can be merged when\nit's ready\n\nStory: 2005704\nTask: 31028\n\nChange-Id: Ia319e8a7b4da195cb4bc861c51025a41adc43bb3\n""}, {'number': 3, 'created': '2019-11-15 04:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3aa51ef71f9fbf04a2bce11e12f94f29e61c90b2', 'message': ""Add tools/bulk_review.sh and get-contacts\n\nget-contacts:\nTo extract the PTL/Liaison contact information from the governance data\n/ release team data\n\ntools/bulk_review.sh:\nTo manipulate a dirty working-tree and post as a single gerrit topic,\none change per team.  Changes are unordered so any change can be merged when\nit's ready/ approved by the appropriate team\n\nAlso enhance get-deliverable-owner: to detect file paths\n\nStory: 2005704\nTask: 31028\n\nChange-Id: Ia319e8a7b4da195cb4bc861c51025a41adc43bb3\n""}, {'number': 4, 'created': '2019-11-18 01:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/08c03768a9a533dc1f7c05d58d944bc8242f54ff', 'message': ""Add tools/bulk_review.sh and get-contacts\n\nget-contacts:\nTo extract the PTL/Liaison contact information from the governance data\n/ release team data\n\ntools/bulk_review.sh:\nTo manipulate a dirty working-tree and post as a single gerrit topic,\none change per team.  Changes are unordered so any change can be merged when\nit's ready/ approved by the appropriate team\n\nAlso enhance get-deliverable-owner: to detect file paths\n\nStory: 2005704\nTask: 31028\n\nChange-Id: Ia319e8a7b4da195cb4bc861c51025a41adc43bb3\n""}, {'number': 5, 'created': '2020-01-09 18:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/000623583069614f06c3dbdc749628f0e8f31b90', 'message': ""Add tools/bulk_review.sh and get-contacts\n\nget-contacts:\nTo extract the PTL/Liaison contact information from the governance data\n/ release team data\n\ntools/bulk_review.sh:\nTo manipulate a dirty working-tree and post as a single gerrit topic,\none change per team.  Changes are unordered so any change can be merged\nwhen it's ready/ approved by the appropriate team\n\nAlso enhance get-deliverable-owner: to detect file paths\n\nStory: 2005704\nTask: 31028\n\nChange-Id: Ia319e8a7b4da195cb4bc861c51025a41adc43bb3\n""}, {'number': 6, 'created': '2020-01-20 13:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/276f90bde28a7c40b5b3e6dd08bb3737713332c8', 'message': ""Add tools/bulk_review.sh and get-contacts\n\nget-contacts:\nTo extract the PTL/Liaison contact information from the governance data\n/ release team data\n\ntools/bulk_review.sh:\nTo manipulate a dirty working-tree and post as a single gerrit topic,\none change per team.  Changes are unordered so any change can be merged\nwhen it's ready/ approved by the appropriate team\n\nAlso enhance get-deliverable-owner: to detect file paths\n\nStory: 2005704\nTask: 31028\n\nChange-Id: Ia319e8a7b4da195cb4bc861c51025a41adc43bb3\n""}, {'number': 7, 'created': '2020-01-23 11:53:24.000000000', 'files': ['doc/source/reference/using.rst', 'openstack_releases/cmds/get_contacts.py', 'openstack_releases/cmds/get_deliverable_owner.py', 'tools/bulk_review.sh', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/releases/commit/60e786d7248044fad3db33ed401f69c7d0607e61', 'message': ""Add tools/bulk_review.sh and get-contacts\n\nget-contacts:\nTo extract the PTL/Liaison contact information from the governance data\n/ release team data\n\ntools/bulk_review.sh:\nTo manipulate a dirty working-tree and post as a single gerrit topic,\none change per team.  Changes are unordered so any change can be merged\nwhen it's ready/ approved by the appropriate team\n\nAlso enhance get-deliverable-owner: to detect file paths\n\nStory: 2005704\nTask: 31028\n\nChange-Id: Ia319e8a7b4da195cb4bc861c51025a41adc43bb3\n""}]",29,652566,60e786d7248044fad3db33ed401f69c7d0607e61,49,8,7,12898,,,0,"Add tools/bulk_review.sh and get-contacts

get-contacts:
To extract the PTL/Liaison contact information from the governance data
/ release team data

tools/bulk_review.sh:
To manipulate a dirty working-tree and post as a single gerrit topic,
one change per team.  Changes are unordered so any change can be merged
when it's ready/ approved by the appropriate team

Also enhance get-deliverable-owner: to detect file paths

Story: 2005704
Task: 31028

Change-Id: Ia319e8a7b4da195cb4bc861c51025a41adc43bb3
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/652566/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/get_ptl.py', 'tools/bulk_review.sh', 'setup.cfg']",3,ec18e82ea514bbb6b63c25bea127ad3387cdaa26,feature/new_tools, get-ptl = openstack_releases.cmds.get_ptl:main,,126,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ief081e4b80a34a068a84e08f7fcfdda6465885f2,openstack/tripleo-heat-templates,stable/rocky,Ief081e4b80a34a068a84e08f7fcfdda6465885f2,Allow overrides in non global ceph.conf sections,ABANDONED,2020-01-16 16:55:56.000000000,2020-01-23 14:37:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-01-16 16:55:56.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95c2f969939485bd524f4aaff48f962fed9a7014', 'message': 'Allow overrides in non global ceph.conf sections\n\nIn current ceph-base version there is a CephConfigOverride\nparameter which allows to override ceph.conf params in global\nsection only.\n\nThis change will permit overrides to specify the ceph.conf\nsection into which they apply, while retaining backward\ncompatiblity.\n\nAlso adds in scenarios 001 and 004 some test cases.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nImplements: blueprint ceph-config-overrides\n(cherry picked from commit 2501f4747c609482ac4e500aaf8ed5519e174bc7)\n\nChange-Id: Ief081e4b80a34a068a84e08f7fcfdda6465885f2\n'}]",0,702923,95c2f969939485bd524f4aaff48f962fed9a7014,5,3,1,9592,,,0,"Allow overrides in non global ceph.conf sections

In current ceph-base version there is a CephConfigOverride
parameter which allows to override ceph.conf params in global
section only.

This change will permit overrides to specify the ceph.conf
section into which they apply, while retaining backward
compatiblity.

Also adds in scenarios 001 and 004 some test cases.

Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Implements: blueprint ceph-config-overrides
(cherry picked from commit 2501f4747c609482ac4e500aaf8ed5519e174bc7)

Change-Id: Ief081e4b80a34a068a84e08f7fcfdda6465885f2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/702923/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'docker/services/ceph-ansible/ceph-base.yaml']",3,95c2f969939485bd524f4aaff48f962fed9a7014,bp/ceph-config-overrides," ceph_config_overrides_with_sections: yaql: data: {get_param: CephConfigOverrides} expression: $.data.keys().any(predicate => $ in ['global', 'mon', 'mgr', 'osd', 'mds', 'client']) DefaultCephConfigOverrides: type: OS::Heat::Value properties: type: json value: global: osd_pool_default_size: {get_param: CephPoolDefaultSize} osd_pool_default_pg_num: {get_param: CephPoolDefaultPgNum} osd_pool_default_pgp_num: {get_param: CephPoolDefaultPgNum} rgw_keystone_api_version: 3 rgw_keystone_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} rgw_keystone_accepted_roles: 'Member, admin' rgw_keystone_accepted_admin_roles: ResellerAdmin rgw_keystone_admin_domain: default rgw_keystone_admin_project: service rgw_keystone_admin_user: swift rgw_keystone_admin_password: {get_param: SwiftPassword} rgw_keystone_implicit_tenants: 'true' rgw_keystone_revocation_interval: '0' rgw_s3_auth_use_keystone: 'true' rgw_swift_versioning_enabled: 'true' rgw_swift_account_in_url: 'true' if: - ceph_config_overrides_with_sections - yaql: data: default: map_merge: - {get_attr: [DefaultCephConfigOverrides, value]} overrides: {get_param: CephConfigOverrides} expression: $.data.default.mergeWith($.data.overrides) - global: map_merge: - {get_attr: [DefaultCephConfigOverrides, value, global]}"," global: map_merge: - osd_pool_default_size: {get_param: CephPoolDefaultSize} osd_pool_default_pg_num: {get_param: CephPoolDefaultPgNum} osd_pool_default_pgp_num: {get_param: CephPoolDefaultPgNum} rgw_keystone_api_version: 3 rgw_keystone_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} rgw_keystone_accepted_roles: 'member, Member, admin' rgw_keystone_admin_domain: default rgw_keystone_admin_project: service rgw_keystone_admin_user: swift rgw_keystone_admin_password: {get_param: SwiftPassword} rgw_keystone_implicit_tenants: 'true' rgw_keystone_revocation_interval: '0' rgw_s3_auth_use_keystone: 'true' rgw_swift_account_in_url: 'true'",46,16
openstack%2Ftripleo-common~master~I25c7a239add99e2d4dac433794d6ca92a58942b6,openstack/tripleo-common,master,I25c7a239add99e2d4dac433794d6ca92a58942b6,Force docker format,MERGED,2020-01-22 19:12:21.000000000,2020-01-23 14:29:53.000000000,2020-01-23 14:28:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-22 19:12:21.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/39f0f369b947120ebc5faa80946621065d1fae10', 'message': 'Force docker format\n\nNewer versions of buildah create OCI containers but the undercloud\nregistry does not support the OCI container metadata format so these\ncannot be used with newer podman.  For now this can be worked around by\nexplicitly passing --format docker when running buildah build related\ncommands.\n\nChange-Id: I25c7a239add99e2d4dac433794d6ca92a58942b6\nRelated-Bug: #1860585\n'}]",0,703859,39f0f369b947120ebc5faa80946621065d1fae10,15,5,1,14985,,,0,"Force docker format

Newer versions of buildah create OCI containers but the undercloud
registry does not support the OCI container metadata format so these
cannot be used with newer podman.  For now this can be worked around by
explicitly passing --format docker when running buildah build related
commands.

Change-Id: I25c7a239add99e2d4dac433794d6ca92a58942b6
Related-Bug: #1860585
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/703859/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py']",2,39f0f369b947120ebc5faa80946621065d1fae10,bug/1860585," buildah_cmd_build = ['bud', '--format', 'docker', '--tls-verify=False', '--logfile',"," buildah_cmd_build = ['bud', '--tls-verify=False', '--logfile',",6,2
openstack%2Fmistral~master~Ia5a43db418282041c6e169e301528ef1a35777af,openstack/mistral,master,Ia5a43db418282041c6e169e301528ef1a35777af,Move the article about testing from Wiki to the built-in docs,MERGED,2020-01-23 10:23:46.000000000,2020-01-23 14:28:44.000000000,2020-01-23 14:24:35.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-01-23 10:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6ddf73c0ca40a726658194e85cb0d9bd55151e0c', 'message': 'Move the article about testing from Wiki to the built-in docs\n\n* Significant part of the original article is outdated\n  (https://wiki.openstack.org/wiki/Mistral/Testing) so only the actual\n  parts were moved.\n\nPartial-Bug: #1779318\n\nChange-Id: Ia5a43db418282041c6e169e301528ef1a35777af\n'}, {'number': 2, 'created': '2020-01-23 10:27:28.000000000', 'files': ['doc/source/developer/contributor/debug.rst', 'doc/source/developer/contributor/index.rst', 'doc/source/developer/contributor/debugging_and_testing.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9dfdd20541cbe3e862428eacea6c4d552ea4120c', 'message': 'Move the article about testing from Wiki to the built-in docs\n\n* Significant part of the original article is outdated\n  (https://wiki.openstack.org/wiki/Mistral/Testing) so only the actual\n  parts were moved.\n\nPartial-Bug: #1779318\n\nChange-Id: Ia5a43db418282041c6e169e301528ef1a35777af\n'}]",0,703959,9dfdd20541cbe3e862428eacea6c4d552ea4120c,9,4,2,8731,,,0,"Move the article about testing from Wiki to the built-in docs

* Significant part of the original article is outdated
  (https://wiki.openstack.org/wiki/Mistral/Testing) so only the actual
  parts were moved.

Partial-Bug: #1779318

Change-Id: Ia5a43db418282041c6e169e301528ef1a35777af
",git fetch https://review.opendev.org/openstack/mistral refs/changes/59/703959/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/contributor/debug.rst', 'doc/source/developer/contributor/index.rst', 'doc/source/developer/contributor/debugging_and_testing.rst']",3,6ddf73c0ca40a726658194e85cb0d9bd55151e0c,bug/1779318,"===================== Debugging and Testing ===================== To debug using a local engine and executor without dependencies such as RabbitMQ, make sure your ``/etc/mistral/mistral.conf`` has the following settings:: [DEFAULT] rpc_backend = fake [pecan] auth_enable = False and run the following command in *pdb*, *PyDev* or *PyCharm*:: mistral/cmd/launch.py --server all --config-file /etc/mistral/mistral.conf --use-debugger .. note:: In PyCharm, you also need to enable the Gevent compatibility flag in Settings -> Build, Execution, Deployment -> Python Debugger -> Gevent compatible. Without this setting, PyCharm will not show variable values and become unstable during debugging. Running unit tests in PyCharm ============================= In order to be able to conveniently run unit tests, you need to: 1. Set unit tests as the default runner: Settings -> Tools -> Python Integrated Tools -> Default test runner: Unittests 2. Enable test detection for all classes: Run/Debug Configurations -> Defaults -> Python tests -> Unittests -> uncheck Inspect only subclasses of unittest.TestCase Running examples ================ To run the examples find them in mistral-extra repository (https://github.com/openstack/mistral-extra) and follow the instructions on each example. Automated Tests =============== On Mistral project we have two separate test suites: * Unit tests - executed by Jenkins CI job in OpenStack gerrit (python-style checks and execution of all unit tests) * Integration tests - executed by Devstack Gate job in OpenStack Gerrit (integration tests for Mistral after the OpenStack deployment with devstack) Where we can find automated tests ================================= mistral: * Unit tests can be found at https://github.com/openstack/mistral/tree/master/mistral/tests/unit * Integration tests can be found at https://github.com/openstack/mistral-tempest-plugin/tree/master/mistral_tempest_tests/tests python-mistralclient: * Unit tests can be found at https://github.com/openstack/python-mistralclient/tree/master/mistralclient/tests/unit * Integration tests can be found at https://github.com/openstack/python-mistralclient/tree/master/mistralclient/tests/functional How to execute tests manually ============================= Almost all existing automated tests can be executed manually on the developer's desktop (except those which check OpenStack actions). To do this, you should clone ""mistral"" repository (or ""python-mistralclient"") and run the corresponding commands. Cloning a repository: .. code-block:: bash $ git clone https://git.opendev.org/openstack/mistral.git $ cd mistral Unit tests ---------- To run all unit tests: .. code-block:: bash $ tox To run unit tests against a specific python version: .. code-block:: bash $ tox -e py35 To run tests from a specific test class (using a specific python version): .. code-block:: bash tox -e py35 -- 'DataFlowEngineTest' Integration tests ----------------- There are several suites of integration tests the mentioned repositories: mistral-tempest-plugin: * mistral_tempest_tests/tests/api/v2/test_workflows.py - contains the tests checking Mistral API v2 related to workflows * mistral_tempest_tests/tests/api/v2/test_actions.py - contains the tests checking Mistral API v2 related to actions * and so on python-mistralclient: * mistralclient/tests/functional/cli/v2/ - contains test suites which check interaction with Mistral using CLI To run integration tests: * in OpenStack mode (when auth in Mistral is enabled and Mistral integrates with OpenStack components) .. code-block:: bash $ pip install git+http://git.opendev.org/openstack/tempest.git $ nosetests mistral-tempest-plugin/mistral_tempest_tests/tests/api/v2 * in Non-OpenStack mode: * set 'auth_enable=false' in the mistral.conf under [pecan] group * restart Mistral server * execute: ./run_functional_tests ",,145,66
openstack%2Fopenstack-ansible~master~I0639ee470cffc778d76bcae0290aba59b32e799c,openstack/openstack-ansible,master,I0639ee470cffc778d76bcae0290aba59b32e799c,[DNM] Disable ansible cache,ABANDONED,2020-01-21 14:40:33.000000000,2020-01-23 14:27:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-21 14:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e68455955a88aa64430afe446c1d6dfabeaf0c9', 'message': '[DNM] Disable ansible cache\n\nChange-Id: I0639ee470cffc778d76bcae0290aba59b32e799c\n'}, {'number': 2, 'created': '2020-01-22 11:59:38.000000000', 'files': ['scripts/openstack-ansible.rc'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3be71f75139b645bc2fd7019d39d998855bcfcee', 'message': '[DNM] Disable ansible cache\n\nChange-Id: I0639ee470cffc778d76bcae0290aba59b32e799c\n'}]",0,703627,3be71f75139b645bc2fd7019d39d998855bcfcee,7,2,2,28619,,,0,"[DNM] Disable ansible cache

Change-Id: I0639ee470cffc778d76bcae0290aba59b32e799c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/703627/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.rc'],1,6e68455955a88aa64430afe446c1d6dfabeaf0c9,noop,"# export ANSIBLE_CACHE_PLUGIN=""${ANSIBLE_CACHE_PLUGIN:-jsonfile}"" # export ANSIBLE_CACHE_PLUGIN_CONNECTION=""${ANSIBLE_CACHE_PLUGIN_CONNECTION:-${OSA_CONFIG_DIR}/ansible_facts}"" # export ANSIBLE_CACHE_PLUGIN_TIMEOUT=""${ANSIBLE_CACHE_PLUGIN_TIMEOUT:-86400}"" # if [[ ""${ANSIBLE_CACHE_PLUGIN}"" == ""memcached"" ]];then # if ! echo stats | nc -w 1 $(echo ${ANSIBLE_CACHE_PLUGIN_CONNECTION}|awk -F',' '{print $1}'|sed 's/:/ /') > /dev/null; then # export ANSIBLE_CACHE_PLUGIN=""memory"" # fi # fi","export ANSIBLE_CACHE_PLUGIN=""${ANSIBLE_CACHE_PLUGIN:-jsonfile}"" export ANSIBLE_CACHE_PLUGIN_CONNECTION=""${ANSIBLE_CACHE_PLUGIN_CONNECTION:-${OSA_CONFIG_DIR}/ansible_facts}"" export ANSIBLE_CACHE_PLUGIN_TIMEOUT=""${ANSIBLE_CACHE_PLUGIN_TIMEOUT:-86400}"" if [[ ""${ANSIBLE_CACHE_PLUGIN}"" == ""memcached"" ]];then if ! echo stats | nc -w 1 $(echo ${ANSIBLE_CACHE_PLUGIN_CONNECTION}|awk -F',' '{print $1}'|sed 's/:/ /') > /dev/null; then export ANSIBLE_CACHE_PLUGIN=""memory"" fi fi",8,8
openstack%2Fmistral~master~I2a4c5e6890dbb4de868ce885d51341b15e359233,openstack/mistral,master,I2a4c5e6890dbb4de868ce885d51341b15e359233,Added a new API to fetch sub-execution of an execution or a task,MERGED,2020-01-20 14:23:24.000000000,2020-01-23 14:27:05.000000000,2020-01-23 14:24:32.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 14:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bbe93aafd8d4c73f21250f2ea10be8c826ff9b40', 'message': 'Added a new API to fetch sub-execution of an execution or a task\n\n *the new endpoints are:\n\n   v2/executions/{ex_id}/executions\n   v2/tasks/{task_id}/executions\n\n  it returns a list of execution resources, by default the API will\n  return all sub-executions\n\n  the API can take 3 parameters:\n\n  errors_only: returns only the error routes\n               - default is False\n  include_output: includes the output field for the returned executions\n                  - default is False\n  max_depth: the max depth for the returned executions\n             - if a negative value is given, then the API will return\n               all sub-executions\n             - default is -1\n\n Partially-Implements: blueprint mistral-execution-origin\n\nChange-Id: I2a4c5e6890dbb4de868ce885d51341b15e359233\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 2, 'created': '2020-01-21 09:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c48d2777c3c0fbbea52619d087b3178df1f1f617', 'message': 'Added a new API to fetch sub-execution of an execution or a task\n\n *the new endpoints are:\n\n   v2/executions/{ex_id}/executions\n   v2/tasks/{task_id}/executions\n\n  it returns a list of execution resources, by default the API will\n  return all sub-executions\n\n  the API can take 3 parameters:\n\n  errors_only: returns only the error routes\n               - default is False\n  include_output: includes the output field for the returned executions\n                  - default is False\n  max_depth: the max depth for the returned executions\n             - if a negative value is given, then the API will return\n               all sub-executions\n             - default is -1\n\n Partially-Implements: blueprint mistral-execution-origin\n\nChange-Id: I2a4c5e6890dbb4de868ce885d51341b15e359233\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 3, 'created': '2020-01-21 09:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5ecddc8d79f8a01c93d5a7f9fd0511b5af1a357a', 'message': 'Added a new API to fetch sub-execution of an execution or a task\n\n *the new endpoints are:\n\n   v2/executions/{ex_id}/executions\n   v2/tasks/{task_id}/executions\n\n  it returns a list of execution resources, by default the API will\n  return all sub-executions\n\n  the API can take 3 parameters:\n\n  errors_only: returns only the error routes\n               - default is False\n  include_output: includes the output field for the returned executions\n                  - default is False\n  max_depth: the max depth for the returned executions\n             - if a negative value is given, then the API will return\n               all sub-executions\n             - default is -1\n\n Partially-Implements: blueprint mistral-execution-origin\n\nChange-Id: I2a4c5e6890dbb4de868ce885d51341b15e359233\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 4, 'created': '2020-01-23 08:50:51.000000000', 'files': ['mistral/tests/unit/api/v2/test_sub_execution.py', 'releasenotes/notes/sub_execution_api.yaml', 'mistral/api/controllers/v2/sub_execution.py', 'mistral/tests/unit/base.py', 'mistral/api/controllers/v2/execution.py', 'mistral/api/controllers/v2/task.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/06e776e6e366e81fe4d317830b91cb4962d667b6', 'message': 'Added a new API to fetch sub-execution of an execution or a task\n\n *the new endpoints are:\n\n   v2/executions/{ex_id}/executions\n   v2/tasks/{task_id}/executions\n\n  it returns a list of execution resources, by default the API will\n  return all sub-executions\n\n  the API can take 3 parameters:\n\n  errors_only: returns only the error routes\n               - default is False\n  include_output: includes the output field for the returned executions\n                  - default is False\n  max_depth: the max depth for the returned executions\n             - if a negative value is given, then the API will return\n               all sub-executions\n             - default is -1\n\n Partially-Implements: blueprint mistral-execution-origin\n\nChange-Id: I2a4c5e6890dbb4de868ce885d51341b15e359233\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}]",9,703402,06e776e6e366e81fe4d317830b91cb4962d667b6,22,3,4,30755,,,0,"Added a new API to fetch sub-execution of an execution or a task

 *the new endpoints are:

   v2/executions/{ex_id}/executions
   v2/tasks/{task_id}/executions

  it returns a list of execution resources, by default the API will
  return all sub-executions

  the API can take 3 parameters:

  errors_only: returns only the error routes
               - default is False
  include_output: includes the output field for the returned executions
                  - default is False
  max_depth: the max depth for the returned executions
             - if a negative value is given, then the API will return
               all sub-executions
             - default is -1

 Partially-Implements: blueprint mistral-execution-origin

Change-Id: I2a4c5e6890dbb4de868ce885d51341b15e359233
Signed-off-by: ali <ali.abdelal@nokia.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/02/703402/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/api/controllers/v2/sub_executions.py', 'releasenotes/notes/sub_execution_api.yaml', 'mistral/tests/unit/api/v2/test_sub_executions.py', 'mistral/tests/unit/base.py', 'mistral/api/controllers/v2/execution.py', 'mistral/api/controllers/v2/task.py']",6,bbe93aafd8d4c73f21250f2ea10be8c826ff9b40,bp/mistral-execution-origin,from mistral.api.controllers.v2 import sub_executions executions = sub_executions.SubExecutionsController() executions = sub_executions.SubExecutionsController(),,302,0
openstack%2Fmistral~master~I55a80ed2906bb3fae101d9adc044ed028b6a9d24,openstack/mistral,master,I55a80ed2906bb3fae101d9adc044ed028b6a9d24,Move FAQ from Wiki to the built-in docs,MERGED,2020-01-23 06:39:04.000000000,2020-01-23 14:24:34.000000000,2020-01-23 14:24:34.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-01-23 06:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c7562474cfe538c495406083277ff26e9b5648cd', 'message': 'Move FAQ from Wiki to the built-in docs\n\n* This patch moves the list of frequently asked questions from\n  https://wiki.openstack.org/w/index.php?title=Mistral&oldid=152120\n  to the docs. However, it makes some changes because some info\n  is already outdated.\n\nChange-Id: I55a80ed2906bb3fae101d9adc044ed028b6a9d24\nPartial-Bug: #1779318\n'}, {'number': 2, 'created': '2020-01-23 10:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e021cfecc37347ba0969fbfd4c02cf69a03ffcf1', 'message': 'Move FAQ from Wiki to the built-in docs\n\n* This patch moves the list of frequently asked questions from\n  https://wiki.openstack.org/w/index.php?title=Mistral&oldid=152120\n  to the docs. However, it makes some changes because some info\n  is already outdated.\n\nChange-Id: I55a80ed2906bb3fae101d9adc044ed028b6a9d24\nPartial-Bug: #1779318\n'}, {'number': 3, 'created': '2020-01-23 10:27:28.000000000', 'files': ['doc/source/index.rst', 'doc/source/user/index.rst', 'doc/source/user/faq.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/12b2eceb358481d5f63e4c19d5961d1f8373e75a', 'message': 'Move FAQ from Wiki to the built-in docs\n\n* This patch moves the list of frequently asked questions from\n  https://wiki.openstack.org/w/index.php?title=Mistral&oldid=152120\n  to the docs. However, it makes some changes because some info\n  is already outdated.\n\nChange-Id: I55a80ed2906bb3fae101d9adc044ed028b6a9d24\nPartial-Bug: #1779318\n'}]",6,703920,12b2eceb358481d5f63e4c19d5961d1f8373e75a,14,6,3,8731,,,0,"Move FAQ from Wiki to the built-in docs

* This patch moves the list of frequently asked questions from
  https://wiki.openstack.org/w/index.php?title=Mistral&oldid=152120
  to the docs. However, it makes some changes because some info
  is already outdated.

Change-Id: I55a80ed2906bb3fae101d9adc044ed028b6a9d24
Partial-Bug: #1779318
",git fetch https://review.opendev.org/openstack/mistral refs/changes/20/703920/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/user/index.rst', 'doc/source/user/faq.rst']",3,c7562474cfe538c495406083277ff26e9b5648cd,bug/1779318,"========================== Frequently Asked Questions ========================== What is Mistral? ---------------- Mistral is a task management service. It can also be called Workflow Service. Most business processes consist of multiple distinct interconnected steps that need to be executed in a particular order. One can describe such process as a set of tasks and task relations and upload such description to Mistral so that it takes care of state management, correct execution order, task distribution and high availability. Mistral also provides flexible task scheduling so that we can run a process according to a specified schedule (i.e. every Sunday at 4.00pm) instead of running it immediately. We call such set of tasks and dependencies between them a workflow. Independent routes are called flows and Mistral can execute them in parallel. Who are Mistral users? ---------------------- Potential Mistral users are: Developers. Both who work on OpenStack services and those running in tenant’s VMs. Developers use Mistral DSL/API to access it. System integrators. They customize workflows related with deployment using either special scripts or manually using Mistral CLI/UI. System administrators can use Mistral via additional toolset for common administrative tasks. This can be distributed cron, mass deployment tasks, backups etc. How does Mistral relate to OpenStack? ------------------------------------- Mistral was original started within the OpenStack community. It is still used within a number of OpenStack projects for various purposes. Mistral has integration with OpenStack: authentication/authorization with Keystone identity service and actions to interact with all major OpenStack services like Nova, Neutron, Heat etc. Why offload business processes to a 3rd party service? ------------------------------------------------------ * *Reason 1*: **High Availability**. A typical application’s workflow consists of many independent tasks like collecting data, processing, resource acquiring, obtaining user input, reporting, sending notifications, replicating data etc. All of the steps must happen in appropriate time as they depend on each other. Many such processes can run in parallel. Now if your application crashes somewhere in the middle or a power outage occurs your business process terminates at unknown stage in an unknown state. So you need to track a state of every single flow in some external persistent storage like database so that you can resume it (or roll it back) from the place it crashed. You also need some health monitoring tool that would watch your app and if it crashed schedule unfinished flows on another instance. This is exactly what Mistral can do out of the box without reinventing the wheel for each application time and time again. * *Reason 2*: **Scalability**. Most workflows have steps that can be performed in parallel (i.e. different routes in a workflow). Mistral can distribute execution of such tasks across your application’s instances so that the whole execution would scale. * *Reason 3*: **Observable state**. Because flow state is tracked outside of application it becomes observable. At any given moment system administrator can access information on what is currently going on, what tasks are in pending state and what has already been executed. You can obtain metrics on your business processes and profile them. * *Reason 4*: **Scheduling**. Using Mistral you can schedule your process to be run periodically or at a fixed moment in future. You can have your execution to be triggered on alarm condition from an external health monitoring system or upon a new email in your mailbox. * *Reason 5*: **Dependency management offloading**. Because you offload task management to an external service you don’t have to specify all the triggers and actions in advance. For example, you may say “here is the task that must be triggered if my domain is down for 1 minute” without specifying how exactly the event is obtained. System administrator can setup Nagios to watch your domain and trigger the action and replace it later with Ceilometer without your application being affected or even aware of the change. Administrator can even manually trigger the task using CLI or UI console. Or another example is having a task that triggers each time a flow reaches some desired state and let administrator configure what exactly needs to happen there (like send a notification mail and later replace it with SMS). * *Reason 6*: **Open additional points for integration**. As soon as your business process is converted to a Mistral workflow that can be accessed by others other application can setup their own workflow to be triggered by your application reaching a certain state. For example suppose OpenStack Nova would declare a workflow for new VM instance spawning. One application (or system administrator) can hook to a task “finish” so that every time Nova spawns another instance you would receive a notification. Or suppose you want your users to have flexible quotas on how many instances one can spawn based on information in external billing system. Normally you would have to patch Nova to access your billing system but with Mistral you can just alter Nova’s workflow so that it includes your custom tasks that would do it instead. * *Reason 7*: **Formalized graphs of tasks are just easier to manage and understand**. They can be visualized, analyzed and optimized. They simplify program development and debugging. You can model program workflows, replace task actions with stubs, easily mock external dependencies, do task profiling. Why not use Celery or something similar? ---------------------------------------- While Celery is distributed task engine it was designed to execute custom Python code on pre-installed private workers. Again this is a different use case with Mistral which assumes the tasks can be executed on a shared service and do not require (or allow) custom code upload. In other words, Celery itself could be implemented on top of Mistral if it started now. How does Mistral relate to Amazon SWF? -------------------------------------- Amazon SWF shares many ideas with Mistral but, in fact, is designed to be language-oriented (Java, Ruby, Python). It is hard and mostly meaningless to use SWF without its, for example, Java SDK that exposes its functionality as a set of Java annotations and interfaces. In this sense SWF is closer to Celery than to Mistral. Mistral on the other hand aims to be both simpler and more user-friendly. We want to have a service that is usable without an SDK in any programming language. At the same time it’s always possible to implement additional convenient language-oriented bindings based on cool features like Python decorators, Java annotations and aspects. How do I make Mistral know about my workflows? ---------------------------------------------- Workflows are described using the Mistral Workflow Language based on YAML. There is a REST API that is used to upload workflows, execute them and make run-time modifications against them. The Workflow Language describes * Workflows * Tasks * Transitions between tasks (what should run next once a task completed). Applicable for ""direct"" workflow type. * Dependencies between tasks (what tasks need to be run before this task can be executed). Applicable for ""reverse"" workflow type. * Various policies applied to how tasks should run. For example, ""retry"" policies helps with running a task multiple times in case of failures. * Ad-hoc actions that can be used for to transform input or output of other actions for convenience. What are Mistral tasks? ----------------------- Tasks are entities written with the Mistral Workflow Language that define certain workflow steps. Each task has: * Name * Optional tag names * List of tasks it depends on for reverse workflows or list of transitions for direct workflows * Optional YAQL expression that extracts data from current data context so that it would go as a task execution input * Optional task action (concrete work to do) * Optional task workflow. If specified, such task is associated with another workflow execution (subworkflow). What are Mistral Workflows? --------------------------- A set of tasks and rules according to which these tasks run. Each workflow is designed to solve a certain domain problem like auto-scaling a web application. What are Mistral Workbooks? --------------------------- Workbook is a convenience bag to carry multiple workflows and ad-hoc actions within a single file. Workbooks can also be used like namespaces. What are Mistral actions and how does Mistral execute them? ----------------------------------------------------------- Action is what to do when a particular task runs. Examples are: * Run a shell script * Send an email * Call your app’s URI. Send an AMQP (RabbitMQ) message to some queue. * Other types of signaling (email, UDP message, polling etc.). Mistral can be extended to include other general purpose actions like calling Puppet, Chef, Ansible etc. etc. Is it possible to organize a data flow between different tasks in Mistral? -------------------------------------------------------------------------- Yes, tasks belonging to the same workflow can take some input as a json structure, query a subset of this structure interesting for this particular task using YAQL expression (https://pypi.python.org/pypi/yaql) and pass it along to a corresponding action. Once the action has done its processing it returns the result back using similar json format. So in this case Mistral acts as a data flow hub dispatching results of one tasks to inputs of other tasks. Does Mistral provide a mechanism to run nested workflows? --------------------------------------------------------- Instead of performing a concrete action associated with a task Mistral can start a nested workflow. That is, given the input that came to the task, Mistral starts a new workflow with that input and after completion execution jumps back to the parent workflow and continues from the same point. The closest analogy in programming would be calling one method from another passing all required parameters and optionally getting back a result. It’s worth noting that the nested workflow works in parallel with the rest of the activities belonging to the parent execution and it has its own isolated execution context observable via API. ",,211,2
openstack%2Fmistral~master~I4764fb3beba1ff05091a4ce04c93fe56d39528d5,openstack/mistral,master,I4764fb3beba1ff05091a4ce04c93fe56d39528d5,"Move ""Cloud Cron"" cookbook from Wiki to the built-in docs",MERGED,2020-01-23 04:44:59.000000000,2020-01-23 14:24:33.000000000,2020-01-23 14:24:32.000000000,"[{'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-01-23 04:44:59.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/cookbooks.rst', 'doc/source/user/cookbooks/cloud_cron.rst', 'doc/source/user/cookbooks/img/ssh_proxied.png', 'doc/source/user/cookbooks/img/cloud_cron_updating_multiple_servers.png', 'doc/source/user/cookbooks/index.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5c05636ee45bc79d99a7a90d972035f819619d0a', 'message': 'Move ""Cloud Cron"" cookbook from Wiki to the built-in docs\n\n* Since Mistral Wiki has been retired we need to move all important\n  info published there into the docs residing in the project repo.\n  This patch moves the article published at\n  https://wiki.openstack.org/wiki/Mistral/Cookbooks/AdministrationCloudCron\n  to the docs.\n\nChange-Id: I4764fb3beba1ff05091a4ce04c93fe56d39528d5\nPartial-Bug: #1779318\n'}]",0,703913,5c05636ee45bc79d99a7a90d972035f819619d0a,8,5,1,8731,,,0,"Move ""Cloud Cron"" cookbook from Wiki to the built-in docs

* Since Mistral Wiki has been retired we need to move all important
  info published there into the docs residing in the project repo.
  This patch moves the article published at
  https://wiki.openstack.org/wiki/Mistral/Cookbooks/AdministrationCloudCron
  to the docs.

Change-Id: I4764fb3beba1ff05091a4ce04c93fe56d39528d5
Partial-Bug: #1779318
",git fetch https://review.opendev.org/openstack/mistral refs/changes/13/703913/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/cookbooks.rst', 'doc/source/user/cookbooks/cloud_cron.rst', 'doc/source/user/cookbooks/img/ssh_proxied.png', 'doc/source/user/cookbooks/img/cloud_cron_updating_multiple_servers.png', 'doc/source/user/cookbooks/index.rst']",6,5c05636ee45bc79d99a7a90d972035f819619d0a,bug/1779318,================= Mistral Cookbooks ================= .. toctree:: :maxdepth: 2 cloud_cron ,,349,5
openstack%2Fdevstack~master~I6ed65bcb720d4cb10702cbf66106120e001ec35f,openstack/devstack,master,I6ed65bcb720d4cb10702cbf66106120e001ec35f,devstack-plugins-list: skip openstack/openstack,MERGED,2020-01-23 02:15:03.000000000,2020-01-23 14:01:07.000000000,2020-01-23 13:56:04.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 02:15:03.000000000', 'files': ['doc/source/plugin-registry.rst', 'tools/generate-devstack-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/afd346a0a10d016e6ab95bdba3932eb6df8f636b', 'message': 'devstack-plugins-list: skip openstack/openstack\n\nThe proposal job to update the plugin list has been failing for a long\ntime as it gets a 500 error from gitea on the openstack/openstack\nrepo.  This is an odd ""superrepo"" with all projects as submodules;\nthus openstack/openstack/devstack is actually a project, not the\ndirectory with a plugin in it.\n\nSkip this repo (gitea shouldn\'t return a 500, but that\'s another\nthing...)\n\nRegenerate the list manually for this run.\n\nChange-Id: I6ed65bcb720d4cb10702cbf66106120e001ec35f\n'}]",0,703908,afd346a0a10d016e6ab95bdba3932eb6df8f636b,9,2,1,7118,,,0,"devstack-plugins-list: skip openstack/openstack

The proposal job to update the plugin list has been failing for a long
time as it gets a 500 error from gitea on the openstack/openstack
repo.  This is an odd ""superrepo"" with all projects as submodules;
thus openstack/openstack/devstack is actually a project, not the
directory with a plugin in it.

Skip this repo (gitea shouldn't return a 500, but that's another
thing...)

Regenerate the list manually for this run.

Change-Id: I6ed65bcb720d4cb10702cbf66106120e001ec35f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/703908/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/plugin-registry.rst', 'tools/generate-devstack-plugins-list.py']",2,afd346a0a10d016e6ab95bdba3932eb6df8f636b,plugin-job-fix," # stackforge, etc). # # openstack/openstack ""super-repo"" of openstack projects as # submodules, that can cause gitea to 500 timeout and thus stop # this script. Skip it. proj.startswith('stackforge-attic/') or \ proj == ""openstack/openstack"":"," # stackforge, etc) proj.startswith('stackforge-attic/'):",8,3
openstack%2Fgrenade~master~Iae549c38768593d8262031708b1727087abba295,openstack/grenade,master,Iae549c38768593d8262031708b1727087abba295,Remove unnecessary doc requirements,MERGED,2020-01-22 16:42:58.000000000,2020-01-23 14:00:12.000000000,2020-01-23 13:56:04.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 16:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/f60eb356b34deb9cb8db844fd506dc8bd7b9065a', 'message': 'Remove unnecessary doc requirements\n\nChange-Id: Iae549c38768593d8262031708b1727087abba295\n'}, {'number': 2, 'created': '2020-01-22 16:44:51.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/grenade/commit/46d06fe83545848e65d7c644fa597ca4203cb293', 'message': 'Remove unnecessary doc requirements\n\nChange-Id: Iae549c38768593d8262031708b1727087abba295\n'}]",0,703838,46d06fe83545848e65d7c644fa597ca4203cb293,11,5,2,14070,,,0,"Remove unnecessary doc requirements

Change-Id: Iae549c38768593d8262031708b1727087abba295
",git fetch https://review.opendev.org/openstack/grenade refs/changes/38/703838/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f60eb356b34deb9cb8db844fd506dc8bd7b9065a,make-docs-build,,Pygments docutils,0,2
openstack%2Fswift~stable%2Ftrain~I30e3beb8707b88c36bd3cdc7a0887d069e943ba6,openstack/swift,stable/train,I30e3beb8707b88c36bd3cdc7a0887d069e943ba6,py3: Fix formpost unicode filename issues,MERGED,2020-01-21 17:03:11.000000000,2020-01-23 13:58:12.000000000,2020-01-23 13:55:49.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 17:03:11.000000000', 'files': ['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/48099c9823934bbda9fca82a49fc990fac3a9928', 'message': 'py3: Fix formpost unicode filename issues\n\nPreviously, we took the native string filename attribute and put it\ndirectly in the (WSGI string) PATH_INFO field. Now, we convert it to\na WSGI string first.\n\nChange-Id: I30e3beb8707b88c36bd3cdc7a0887d069e943ba6\nCloses-Bug: #1858259\n(cherry picked from commit 9483630ae130c5b2616f8617da25bcb51b647208)\n'}]",0,703654,48099c9823934bbda9fca82a49fc990fac3a9928,17,2,1,15343,,,0,"py3: Fix formpost unicode filename issues

Previously, we took the native string filename attribute and put it
directly in the (WSGI string) PATH_INFO field. Now, we convert it to
a WSGI string first.

Change-Id: I30e3beb8707b88c36bd3cdc7a0887d069e943ba6
Closes-Bug: #1858259
(cherry picked from commit 9483630ae130c5b2616f8617da25bcb51b647208)
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/703654/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py']",2,48099c9823934bbda9fca82a49fc990fac3a9928,701497-stable/train,"from swift.common.constraints import valid_api_versionfrom swift.common.swob import HTTPUnauthorized, wsgi_to_str, str_to_wsgi subenv['PATH_INFO'] += str_to_wsgi( attributes['filename'] or 'filename') if len(parts) < 4 or parts[0] or not valid_api_version(parts[1]) \ or not parts[2] or not parts[3]:","from swift.common.swob import HTTPUnauthorized, wsgi_to_str subenv['PATH_INFO'] += attributes['filename'] or 'filename' if len(parts) < 4 or parts[0] or parts[1] != 'v1' or not parts[2] or \ not parts[3]:",129,5
openstack%2Fdevstack~stable%2Fpike~I4fe59b1954514a7146a4412e3103a0a05a9250f2,openstack/devstack,stable/pike,I4fe59b1954514a7146a4412e3103a0a05a9250f2,Add Zuul v3 native unit-tests,MERGED,2019-10-25 22:38:20.000000000,2020-01-23 13:56:03.000000000,2020-01-23 13:56:02.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-25 22:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/70a933c637d89f41bdab8b4e27ef0ff394028a92', 'message': 'Add Zuul v3 native unit-tests\n\nAdd new job to replace legacy-devstack-unit-tests.\n\nConflicts:\n        .zuul.yaml\n\nChange-Id: I4fe59b1954514a7146a4412e3103a0a05a9250f2\n(cherry picked from commit 838b833b638ee13599707d8a0be899815f201927)\n'}, {'number': 2, 'created': '2019-10-28 17:33:54.000000000', 'files': ['playbooks/unit-tests/pre.yaml', '.zuul.yaml', 'playbooks/unit-tests/run.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e8f8e3cdcfad98b1625a81ed3cbca19d52bf1a65', 'message': 'Add Zuul v3 native unit-tests\n\nAdd new job to replace legacy-devstack-unit-tests.\n\nConflicts:\n        .zuul.yaml\n\nChange-Id: I4fe59b1954514a7146a4412e3103a0a05a9250f2\n(cherry picked from commit 838b833b638ee13599707d8a0be899815f201927)\n'}]",0,691450,e8f8e3cdcfad98b1625a81ed3cbca19d52bf1a65,12,5,2,8556,,,0,"Add Zuul v3 native unit-tests

Add new job to replace legacy-devstack-unit-tests.

Conflicts:
        .zuul.yaml

Change-Id: I4fe59b1954514a7146a4412e3103a0a05a9250f2
(cherry picked from commit 838b833b638ee13599707d8a0be899815f201927)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/691450/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/unit-tests/pre.yaml', '.zuul.yaml', 'playbooks/unit-tests/run.yaml']",3,70a933c637d89f41bdab8b4e27ef0ff394028a92,,- hosts: all tasks: - name: Run run_tests.sh shell: chdir: '{{ zuul.project.src_dir }}' executable: /bin/bash cmd: | set -e set -x ./run_tests.sh ,,36,0
openstack%2Fdevstack~stable%2Fpike~Ibd5fc1431ee64497149116b857ccff903ba3264b,openstack/devstack,stable/pike,Ibd5fc1431ee64497149116b857ccff903ba3264b,Ignore TEMPEST_BRANCH in test_refs,MERGED,2019-10-28 17:33:32.000000000,2020-01-23 13:56:02.000000000,2020-01-23 13:56:01.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 17:33:32.000000000', 'files': ['tests/test_refs.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9c85d5c3d6503e97b433495ab3020534e50d5ed1', 'message': ""Ignore TEMPEST_BRANCH in test_refs\n\nThis was changed in Iaefb5b90036eef67529f93bdf6675bd2d511c3c9, but the\ntest wasn't adjusted (as unit tests job is not present in stable/pike\n- https://review.opendev.org/#/c/691450/).\n\nChange-Id: Ibd5fc1431ee64497149116b857ccff903ba3264b\n""}]",0,691725,9c85d5c3d6503e97b433495ab3020534e50d5ed1,6,2,1,8556,,,0,"Ignore TEMPEST_BRANCH in test_refs

This was changed in Iaefb5b90036eef67529f93bdf6675bd2d511c3c9, but the
test wasn't adjusted (as unit tests job is not present in stable/pike
- https://review.opendev.org/#/c/691450/).

Change-Id: Ibd5fc1431ee64497149116b857ccff903ba3264b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/25/691725/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_refs.sh'],1,9c85d5c3d6503e97b433495ab3020534e50d5ed1,,REFS=`grep BRANCH stackrc | grep -v -- '-master' | grep -v -- '-stable/pike' | grep -v 'NOVNC_BRANCH' | grep -v TEMPEST_BRANCH`,REFS=`grep BRANCH stackrc | grep -v -- '-master' | grep -v -- '-stable/pike' | grep -v 'NOVNC_BRANCH'`,1,1
openstack%2Fneutron-tempest-plugin~master~I6bf5b39caae239b537d3f8c2eedbfe9b626aa174,openstack/neutron-tempest-plugin,master,I6bf5b39caae239b537d3f8c2eedbfe9b626aa174,"Remove unused method ""create_network_keystone_v3""",MERGED,2020-01-14 17:01:05.000000000,2020-01-23 13:55:48.000000000,2020-01-23 13:55:47.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 17:01:05.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/services/network/json/network_client.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/eb7d434bc537e0e9983edd732adadc3fd6aabc06', 'message': 'Remove unused method ""create_network_keystone_v3""\n\nTrivial-Fix\n\nChange-Id: I6bf5b39caae239b537d3f8c2eedbfe9b626aa174\n'}]",0,702482,eb7d434bc537e0e9983edd732adadc3fd6aabc06,17,4,1,16688,,,0,"Remove unused method ""create_network_keystone_v3""

Trivial-Fix

Change-Id: I6bf5b39caae239b537d3f8c2eedbfe9b626aa174
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/82/702482/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/services/network/json/network_client.py']",2,eb7d434bc537e0e9983edd732adadc3fd6aabc06,remove_unused_method,," def create_network_keystone_v3(self, name, project_id, tenant_id=None): uri = '%s/networks' % self.uri_prefix post_data = { 'network': { 'name': name, 'project_id': project_id } } if tenant_id is not None: post_data['network']['tenant_id'] = tenant_id resp, body = self.post(uri, self.serialize(post_data)) body = self.deserialize_single(body) self.expected_success(201, resp.status) return service_client.ResponseBody(resp, body) ",0,25
openstack%2Fopenstacksdk~master~Ia11ffcf309786edb67c2b53d84795f7a842f85fb,openstack/openstacksdk,master,Ia11ffcf309786edb67c2b53d84795f7a842f85fb,Use the bifrost bionic CI job,MERGED,2020-01-22 07:03:54.000000000,2020-01-23 13:23:17.000000000,2020-01-23 13:19:48.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-01-22 07:03:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a5368985ac294416c74109d49e80d3b747da21a8', 'message': 'Use the bifrost bionic CI job\n\nThe Xenial one is non-functional because of the Python 2 deprecation.\n\nChange-Id: Ia11ffcf309786edb67c2b53d84795f7a842f85fb\n'}]",0,703739,a5368985ac294416c74109d49e80d3b747da21a8,9,4,1,10239,,,0,"Use the bifrost bionic CI job

The Xenial one is non-functional because of the Python 2 deprecation.

Change-Id: Ia11ffcf309786edb67c2b53d84795f7a842f85fb
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/39/703739/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a5368985ac294416c74109d49e80d3b747da21a8,gate, - bifrost-integration-tinyipa-ubuntu-bionic:, - bifrost-integration-tinyipa-ubuntu-xenial:,1,1
openstack%2Fkolla-ansible~master~I1a33b3f9d6eca5babf53b91187461e43aef865ce,openstack/kolla-ansible,master,I1a33b3f9d6eca5babf53b91187461e43aef865ce,External Ceph: keys as variables,MERGED,2019-09-26 10:44:17.000000000,2020-01-23 12:45:28.000000000,2020-01-23 12:43:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-26 10:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf6810afe377a956c8c6ba1bfa662a6e09300980', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 2, 'created': '2019-09-26 11:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3f8f26b9e8738a445f6354aedd7638ea9044c33', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 3, 'created': '2019-09-26 11:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e11b3370ea9fb3c7b40debd46f2a0d45cb676e85', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 4, 'created': '2019-09-30 11:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d34a22d2215f61295db3d348e5f766ffb0042bb', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 5, 'created': '2019-09-30 15:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9be2cbee3d94d89f1a16d9d32fb1736fa8de1ac0', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 6, 'created': '2019-09-30 17:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5adebb8bbe92d67bd3e46375129e7ad87251fed1', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 7, 'created': '2019-10-01 12:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f89cce2a1eb1d9fb818687a3b90759cc7f01bb8', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 8, 'created': '2019-10-02 14:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6347fd7bb3673fb9cbf27650c0142d9212d7707', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 9, 'created': '2019-10-03 07:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/530fa7c3f5b40d97a8dbdf8bc78280a9c222cd8c', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 10, 'created': '2019-10-03 08:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e273fbc87338e3981a94e06ff30df2c49f7af96', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 11, 'created': '2019-10-21 07:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12fc282ee925088c6b6c989d993a451672ea2909', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 12, 'created': '2019-11-26 11:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7760443866ded488d76fb561f2e141fe3f2cc387', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 13, 'created': '2019-11-26 11:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5489b6fc88831a1809eaa3d42eb63ed243614449', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 14, 'created': '2019-11-26 11:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c072c2422f92fef10c0b25d784cb4130133be8a', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 15, 'created': '2019-11-26 11:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/745d6f3af329f4c51822aaf0b3889bf96ceb9e51', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 16, 'created': '2019-11-26 18:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e5996e7eae584395d1315860c9f58340c7ec45b2', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 17, 'created': '2019-11-29 15:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fd001efa0b88ef7c14b356a79210e3be044c3d71', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\nPreserving old default values for compatibility.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 18, 'created': '2019-11-29 15:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1e66be99039ed2490b7838d47d73ffbfe662c15', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 19, 'created': '2019-12-10 12:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b45dbe34c9a3a7be4e0ee709e49bfda411516268', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 20, 'created': '2019-12-16 12:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dccfcfe1409545a8d59e1fe5c1707ceab127eebb', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 21, 'created': '2019-12-18 11:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2b6be12d502f2dbfe5e3017a0f6f7d93f9e5f18', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 22, 'created': '2019-12-18 11:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06e121de0c9bca9165975aa270ba0cf084090f17', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 23, 'created': '2019-12-18 12:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f27f262a0252255a1d519b1d2ae1c7addbc32fd3', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 24, 'created': '2019-12-18 12:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e71b5bd2564340de1ecc65db3f993ffeb31bdb57', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 25, 'created': '2019-12-18 13:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/922a6bc85d950a04e9b285d2255f86b9e0c6ee21', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 26, 'created': '2019-12-18 13:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01c2c58639aa1bba90349ea53f90a33ff8ccc63f', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 27, 'created': '2020-01-08 11:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/374af475a26762df5e5753c2aa5129b38f2ca330', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 28, 'created': '2020-01-08 11:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24279e664e3eedee95c086352d140fce577c339a', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 29, 'created': '2020-01-08 11:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ddb1318bb539dd444ed4c2af4374a2532d279d2', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 30, 'created': '2020-01-09 12:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a37fab637a9ce0596d23bfaf026a14a6fa2e560', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 31, 'created': '2020-01-09 14:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd4ccfacb94ed879bdc41c9143674a1939b44dec', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 32, 'created': '2020-01-14 10:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/843996ab1678f4c907828d957f774e70eaa9a813', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 33, 'created': '2020-01-15 16:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d9ad82fbe0042c942be3a716d6cd5bdb06cc5a0', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 34, 'created': '2020-01-22 10:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/91a8c96e34920e58ee6b87209a4b4e62ed6b0ce0', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}, {'number': 35, 'created': '2020-01-22 18:16:42.000000000', 'files': ['ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/cinder/tasks/external_ceph.yml', 'releasenotes/notes/ceph-keys-vars-6857d19d291c401d.yaml', 'ansible/roles/manila/templates/manila-share.json.j2', 'ansible/roles/glance/templates/glance-api.json.j2', 'ansible/roles/cinder/templates/cinder-volume.json.j2', 'ansible/roles/manila/tasks/external_ceph.yml', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'ansible/roles/gnocchi/templates/gnocchi-api.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/glance/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f929336e363f1c3d168bad569460401e122de8f', 'message': 'External Ceph: keys as variables\n\nIntroduce user modifiable variables instead of fixed-names\nof Ceph keyring files for external Ceph functionality.\n\nChange-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce\n'}]",80,685032,1f929336e363f1c3d168bad569460401e122de8f,100,6,35,22629,,,0,"External Ceph: keys as variables

Introduce user modifiable variables instead of fixed-names
of Ceph keyring files for external Ceph functionality.

Change-Id: I1a33b3f9d6eca5babf53b91187461e43aef865ce
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/685032/14 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/tasks/external_ceph.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/nova/tasks/external_ceph.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/tasks/external_ceph.yml', 'ansible/roles/glance/tasks/external_ceph.yml']",6,cf6810afe377a956c8c6ba1bfa662a6e09300980,bp/ceph-ansible,"- name: Copy over ceph.conf for Glance template: src: ""{{ node_custom_config }}/glance/ceph.conf"" dest: ""{{ node_config_directory }}/glance-api/ceph.conf"" when: inventory_hostname in groups['glance-api']- name: Copy over ceph Glance keyring copy: src: ""{{ node_custom_config }}/glance/{{ ceph_glance_keyring }}"" dest: ""{{ node_config_directory }}/glance-api/ceph.client.glance.keyring"" mode: ""0660"" become: true when: inventory_hostname in groups['glance-api'] notify: - Restart {{ item }} container path: ""{{ node_config_directory }}/glance-api""","- name: Copy over ceph files copy: src: ""{{ item }}"" dest: ""{{ node_config_directory }}/glance-api/"" when: - glance_services['glance-api'].host_in_groups | bool - glance_services['glance-api'].enabled | bool with_fileglob: - ""{{ node_custom_config }}/glance/ceph*"" path: ""{{ node_config_directory }}/{{ item }}"" with_items: - ""glance-api""",30,18
openstack%2Fopenstack-ansible-ops~master~I4971156f6cd3592693058b707f2d05a26fa02882,openstack/openstack-ansible-ops,master,I4971156f6cd3592693058b707f2d05a26fa02882,Updated log elk_metrics_7x collection for elastic beats,MERGED,2020-01-23 10:22:20.000000000,2020-01-23 12:42:39.000000000,2020-01-23 12:40:53.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-01-23 10:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/762664cdc103211a50d8ade987ebe8ddb2b1ebaf', 'message': '[WIP] Updated log elk_metrics_7x collection for elastic beats\n\nIntroduced the logging script from openstack-ansible-ops to allow for collection of\nelasticsearch and elastic beat logs.\n\nChange-Id: I4971156f6cd3592693058b707f2d05a26fa02882\n'}, {'number': 2, 'created': '2020-01-23 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5f58d0512c543591b645ca953e404e9dd598a7f9', 'message': 'Updated log elk_metrics_7x collection for elastic beats\n\nIntroduced the logging script from openstack-ansible-ops to allow for the\ncollection of elasticsearch and elastic beat logs.\n\nChange-Id: I4971156f6cd3592693058b707f2d05a26fa02882\n'}, {'number': 3, 'created': '2020-01-23 10:58:42.000000000', 'files': ['scripts/log-collect.sh', 'elk_metrics_7x/tests/post-run.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/de8eb398667eca9dd12086d58ab4fabeccfd9e7e', 'message': 'Updated log elk_metrics_7x collection for elastic beats\n\nIntroduced the logging script from openstack-ansible-ops to allow for the\ncollection of elasticsearch and elastic beat logs.\n\nChange-Id: I4971156f6cd3592693058b707f2d05a26fa02882\n'}]",0,703957,de8eb398667eca9dd12086d58ab4fabeccfd9e7e,13,4,3,31004,,,0,"Updated log elk_metrics_7x collection for elastic beats

Introduced the logging script from openstack-ansible-ops to allow for the
collection of elasticsearch and elastic beat logs.

Change-Id: I4971156f6cd3592693058b707f2d05a26fa02882
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/57/703957/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/log-collect.sh', 'elk_metrics_7x/tests/post-run.yml']",2,762664cdc103211a50d8ade987ebe8ddb2b1ebaf,logging_updates," - name: Run log collection script command: scripts/log-collect.sh become: yes become_user: root args: chdir: ""src/opendev.org/openstack/openstack-ansible-ops"" environment: # ZUUL_PROJECT is used by the log collection functions to enable # log collection configuration specific to OpenStack CI ZUUL_PROJECT: ""{{ zuul.project.short_name }}"" TEST_EXIT_CODE: ""{{ zuul_success | lower }}"" RUN_ARA: ""true"" # Some Zuul environments (such as OpenStack CI) use html based ara reports ARA_REPORT_TYPE: ""{{ ara_report_type | default('database') }}"" WORKING_DIR: ""{{ ansible_user_dir }}/src/opendev.org/openstack/openstack-ansible-ops/"" LOGGING_DIR: ""/tmp/elk-metrics-7x-logs"" ",,301,0
openstack%2Fironic~master~I8e16d8a2f68623f98ae5e3acce886b29f95eacb5,openstack/ironic,master,I8e16d8a2f68623f98ae5e3acce886b29f95eacb5,Deprecate ibmc,MERGED,2020-01-20 17:37:14.000000000,2020-01-23 12:14:52.000000000,2020-01-23 12:11:06.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 17:37:14.000000000', 'files': ['releasenotes/notes/deprecate-ibmc-9106cc3a81171738.yaml', 'ironic/drivers/modules/ibmc/vendor.py', 'doc/source/admin/drivers/ibmc.rst', 'ironic/drivers/modules/ibmc/power.py', 'ironic/drivers/ibmc.py', 'ironic/drivers/modules/ibmc/management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e825a28c0a049c38567bb44dc316def562fc25c', 'message': 'Deprecate ibmc\n\nThe ibmc hardware type and related code is no longer being tested in\nthird party CI. No party has stepped up to continue maintaining and\nsupporting this code. As such, our standard practice is to deprecate\nand remove the driver code.\n\nChange-Id: I8e16d8a2f68623f98ae5e3acce886b29f95eacb5\nStory: 2007185\nTask: 38310\n'}]",3,703465,7e825a28c0a049c38567bb44dc316def562fc25c,18,7,1,11655,,,0,"Deprecate ibmc

The ibmc hardware type and related code is no longer being tested in
third party CI. No party has stepped up to continue maintaining and
supporting this code. As such, our standard practice is to deprecate
and remove the driver code.

Change-Id: I8e16d8a2f68623f98ae5e3acce886b29f95eacb5
Story: 2007185
Task: 38310
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/703465/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-ibmc-9106cc3a81171738.yaml', 'ironic/drivers/modules/ibmc/vendor.py', 'doc/source/admin/drivers/ibmc.rst', 'ironic/drivers/modules/ibmc/power.py', 'ironic/drivers/ibmc.py', 'ironic/drivers/modules/ibmc/management.py']",6,7e825a28c0a049c38567bb44dc316def562fc25c,, supported = False ,,23,0
openstack%2Fopenstack-ansible~master~Ia8ae057819b3efbbe9f8bdaab649ef3465ef57d8,openstack/openstack-ansible,master,Ia8ae057819b3efbbe9f8bdaab649ef3465ef57d8,Document user-role-requirements.yml,MERGED,2020-01-22 13:39:20.000000000,2020-01-23 11:58:34.000000000,2020-01-23 11:53:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-01-22 13:39:20.000000000', 'files': ['doc/source/reference/configuration/extending-osa.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a1eb06048eb109c4a66a5f7bebd0718a44ec92ed', 'message': 'Document user-role-requirements.yml\n\nChange-Id: Ia8ae057819b3efbbe9f8bdaab649ef3465ef57d8\n'}]",0,703794,a1eb06048eb109c4a66a5f7bebd0718a44ec92ed,8,3,1,25023,,,0,"Document user-role-requirements.yml

Change-Id: Ia8ae057819b3efbbe9f8bdaab649ef3465ef57d8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/703794/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/configuration/extending-osa.rst'],1,a1eb06048eb109c4a66a5f7bebd0718a44ec92ed,,"It is now the responsibility of the deployer to maintain appropriate versions pins of the ansible roles if an upgrade is required. Maintaining local forks of ansible roles ---------------------------------------- The Train release of openstack-ansible adds an optional new config file which defaults to ``/etc/openstack_deploy/user-role-requirements.yml``. It is in the same format as ``ansible-role-requirements.yml`` and can be used to add new roles or selectively override existing ones. New roles listed in ``user-role-requirements.yml`` will be merged with those in ``ansible-role-requirements.yml``, and roles with matching names will override those in ``ansible-role-requirements.yml``. It is easy for a deployer to keep this file under their own version control and out of the openstack-ansible tree. This allows a deployer to either add new ansible roles, or override the location or SHA of existing individual roles without replacing the original file entirely. It is also straightforward to include the ",,22,0
openstack%2Fpuppet-ironic~stable%2Ftrain~If7e71bb3acaaa6f74279031730b18a7f129edb51,openstack/puppet-ironic,stable/train,If7e71bb3acaaa6f74279031730b18a7f129edb51,Customize roles assigned to ironic user,MERGED,2020-01-21 04:14:19.000000000,2020-01-23 11:52:54.000000000,2020-01-23 11:49:52.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 04:14:19.000000000', 'files': ['spec/classes/ironic_keystone_auth_spec.rb', 'releasenotes/notes/keystone-user-roles-9a21ef5f9a74777e.yaml', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2f91ad1584f2f1e0bfcf271d97dfc3ebaa85b6c0', 'message': 'Customize roles assigned to ironic user\n\nThis patch introduces a new hieradata ironic::keystone::auth::roles,\nto configure customized role assigned to ironic user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: If7e71bb3acaaa6f74279031730b18a7f129edb51\n(cherry picked from commit a9da71c39df8fdd3ce88c677291fea04a20c4f90)\n'}]",0,703536,2f91ad1584f2f1e0bfcf271d97dfc3ebaa85b6c0,8,3,1,9816,,,0,"Customize roles assigned to ironic user

This patch introduces a new hieradata ironic::keystone::auth::roles,
to configure customized role assigned to ironic user.

This is required to configure service token feature, as it requires
special role is assigned to the user who uses the feature.

Change-Id: If7e71bb3acaaa6f74279031730b18a7f129edb51
(cherry picked from commit a9da71c39df8fdd3ce88c677291fea04a20c4f90)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/36/703536/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_keystone_auth_spec.rb', 'releasenotes/notes/keystone-user-roles-9a21ef5f9a74777e.yaml', 'manifests/keystone/auth.pp']",3,2f91ad1584f2f1e0bfcf271d97dfc3ebaa85b6c0,customized-user-role,"# [*roles*] # (Optional) List of roles assigned to the ironic service user # Defaults to ['admin'] # $roles = ['admin'], roles => $roles,",,23,0
openstack%2Fopenstack-ansible-ops~master~I91104ff8f6ed5a7cebea46fb010e00ea6eb334af,openstack/openstack-ansible-ops,master,I91104ff8f6ed5a7cebea46fb010e00ea6eb334af,Updates to ELK_metrics_7x beat installation,ABANDONED,2020-01-21 14:38:47.000000000,2020-01-23 11:50:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-01-21 14:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ac54ee5af2001dd942166327dc90d33c5faee578', 'message': 'Updates to ELK_metrics_7x beat installation\n\nThis update exposes options for configuring beats to communicate on non-standard\ninterfaces, i.e. not those used by ansible itself, where proxies are enabled.\nThis includes allowing the elasticsearch and logstash node/bind addresses to be\noverridden to use different interfaces, and letting no_proxy environment variables\nbe specifiedwhen the required interface does not match the kibana ansible_host\naddress. The default behaviour has not changed, these configurations are purely\noptional.\n\nTemplates for the beat config files have also been updated to allow more\nconfiguration options to be passed through. In particular, one can optionally\nspecify values of index_template_max_docvalue_search to be set at the creation of\nthe beat index template. This can prevent shard failure errors when viewing output\nin Kibana relating to ""Trying to retrieve too many docvalue_fields"". Any similar\nconfig options can in future be passed into the template via the\nelastic_beat_settings object.\n\nThe template for metricbeat has also been updated to allow certain modules to be\nturned off from the ansible directly. This can prevent metricbeat from regularly\nthrowing errors for plugins that can\'t connect to the required endpoints. These\nhave unchanged default behaviour.\n\nChange-Id: I91104ff8f6ed5a7cebea46fb010e00ea6eb334af\n'}, {'number': 2, 'created': '2020-01-21 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8694f6bb6a4d73a0246ed7b63b20e7f55ef5823d', 'message': 'Updates to ELK_metrics_7x beat installation\n\nThis update exposes options for configuring beats to communicate on non-standard\ninterfaces, i.e. not those used by ansible itself, where proxies are enabled.\nThis includes allowing the elasticsearch and logstash node/bind addresses to be\noverridden to use different interfaces, and letting no_proxy environment variables\nbe specifiedwhen the required interface does not match the kibana ansible_host\naddress. The default behaviour has not changed, these configurations are purely\noptional.\n\nTemplates for the beat config files have also been updated to allow more\nconfiguration options to be passed through. In particular, one can optionally\nspecify values of index_template_max_docvalue_search to be set at the creation of\nthe beat index template. This can prevent shard failure errors when viewing output\nin Kibana relating to ""Trying to retrieve too many docvalue_fields"". Any similar\nconfig options can in future be passed into the template via the\nelastic_beat_settings object.\n\nThe template for metricbeat has also been updated to allow certain modules to be\nturned off from the ansible directly. This can prevent metricbeat from regularly\nthrowing errors for plugins that can\'t connect to the required endpoints. These\nhave unchanged default behaviour.\n\nChange-Id: I91104ff8f6ed5a7cebea46fb010e00ea6eb334af\n'}, {'number': 3, 'created': '2020-01-21 16:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/74570b204560a62d8fed131c8b93d9ffafe31cca', 'message': 'Updates to ELK_metrics_7x beat installation\n\nThis update exposes options for configuring beats to communicate on non-standard\ninterfaces, i.e. not those used by ansible itself, where proxies are enabled.\nThis includes allowing the elasticsearch and logstash node/bind addresses to be\noverridden to use different interfaces, and letting no_proxy environment variables\nbe specifiedwhen the required interface does not match the kibana ansible_host\naddress. The default behaviour has not changed, these configurations are purely\noptional.\n\nTemplates for the beat config files have also been updated to allow more\nconfiguration options to be passed through. In particular, one can optionally\nspecify values of index_template_max_docvalue_search to be set at the creation of\nthe beat index template. This can prevent shard failure errors when viewing output\nin Kibana relating to ""Trying to retrieve too many docvalue_fields"". Any similar\nconfig options can in future be passed into the template via the\nelastic_beat_settings object.\n\nThe template for metricbeat has also been updated to allow certain modules to be\nturned off from the ansible directly. This can prevent metricbeat from regularly\nthrowing errors for plugins that can\'t connect to the required endpoints. These\nhave unchanged default behaviour.\n\nChange-Id: I91104ff8f6ed5a7cebea46fb010e00ea6eb334af\n'}, {'number': 4, 'created': '2020-01-21 17:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/9d36a016e6ad1d9f8973ede1a327c868af17f0a9', 'message': 'Updates to ELK_metrics_7x beat installation\n\nThis update exposes options for configuring beats to communicate on non-standard\ninterfaces, i.e. not those used by ansible itself, where proxies are enabled.\nThis includes allowing the elasticsearch and logstash node/bind addresses to be\noverridden to use different interfaces, and letting no_proxy environment variables\nbe specifiedwhen the required interface does not match the kibana ansible_host\naddress. The default behaviour has not changed, these configurations are purely\noptional.\n\nTemplates for the beat config files have also been updated to allow more\nconfiguration options to be passed through. In particular, one can optionally\nspecify values of index_template_max_docvalue_search to be set at the creation of\nthe beat index template. This can prevent shard failure errors when viewing output\nin Kibana relating to ""Trying to retrieve too many docvalue_fields"". Any similar\nconfig options can in future be passed into the template via the\nelastic_beat_settings object.\n\nThe template for metricbeat has also been updated to allow certain modules to be\nturned off from the ansible directly. This can prevent metricbeat from regularly\nthrowing errors for plugins that can\'t connect to the required endpoints. These\nhave unchanged default behaviour.\n\nChange-Id: I91104ff8f6ed5a7cebea46fb010e00ea6eb334af\n'}, {'number': 5, 'created': '2020-01-21 17:32:35.000000000', 'files': ['elk_metrics_7x/roles/elastic_heartbeat/templates/heartbeat.yml.j2', 'elk_metrics_7x/roles/elastic_auditbeat/templates/auditbeat.yml.j2', 'elk_metrics_7x/templates/_macros.j2', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_apm_server/templates/apm-server.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elasticsearch/defaults/main.yml', 'elk_metrics_7x/createElasticIndexes.yml', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/defaults/main.yml', 'elk_metrics_7x/roles/elastic_packetbeat/templates/packetbeat.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2', 'elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_metricbeat/defaults/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/798da8585c28a09e5dafd96214849b179b8d648e', 'message': 'Updates to ELK_metrics_7x beat installation\n\nThis update exposes options for configuring beats to communicate on non-standard\ninterfaces, i.e. not those used by ansible itself, where proxies are enabled.\nThis includes allowing the elasticsearch and logstash node/bind addresses to be\noverridden to use different interfaces, and letting no_proxy environment variables\nbe specifiedwhen the required interface does not match the kibana ansible_host\naddress. The default behaviour has not changed, these configurations are purely\noptional.\n\nTemplates for the beat config files have also been updated to allow more\nconfiguration options to be passed through. In particular, one can optionally\nspecify values of index_template_max_docvalue_search to be set at the creation of\nthe beat index template. This can prevent shard failure errors when viewing output\nin Kibana relating to ""Trying to retrieve too many docvalue_fields"". Any similar\nconfig options can in future be passed into the template via the\nelastic_beat_settings object.\n\nThe template for metricbeat has also been updated to allow certain modules to be\nturned off from the ansible directly. This can prevent metricbeat from regularly\nthrowing errors for plugins that can\'t connect to the required endpoints. These\nhave unchanged default behaviour.\n\nChange-Id: I91104ff8f6ed5a7cebea46fb010e00ea6eb334af\n'}]",0,703625,798da8585c28a09e5dafd96214849b179b8d648e,11,2,5,31004,,,0,"Updates to ELK_metrics_7x beat installation

This update exposes options for configuring beats to communicate on non-standard
interfaces, i.e. not those used by ansible itself, where proxies are enabled.
This includes allowing the elasticsearch and logstash node/bind addresses to be
overridden to use different interfaces, and letting no_proxy environment variables
be specifiedwhen the required interface does not match the kibana ansible_host
address. The default behaviour has not changed, these configurations are purely
optional.

Templates for the beat config files have also been updated to allow more
configuration options to be passed through. In particular, one can optionally
specify values of index_template_max_docvalue_search to be set at the creation of
the beat index template. This can prevent shard failure errors when viewing output
in Kibana relating to ""Trying to retrieve too many docvalue_fields"". Any similar
config options can in future be passed into the template via the
elastic_beat_settings object.

The template for metricbeat has also been updated to allow certain modules to be
turned off from the ansible directly. This can prevent metricbeat from regularly
throwing errors for plugins that can't connect to the required endpoints. These
have unchanged default behaviour.

Change-Id: I91104ff8f6ed5a7cebea46fb010e00ea6eb334af
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/25/703625/2 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_heartbeat/templates/heartbeat.yml.j2', 'elk_metrics_7x/roles/elastic_auditbeat/templates/auditbeat.yml.j2', 'elk_metrics_7x/templates/_macros.j2', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_apm_server/templates/apm-server.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elasticsearch/defaults/main.yml', 'elk_metrics_7x/createElasticIndexes.yml', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/defaults/main.yml', 'elk_metrics_7x/roles/elastic_packetbeat/templates/packetbeat.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2', 'elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_metricbeat/defaults/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/defaults/main.yml']",16,ac54ee5af2001dd942166327dc90d33c5faee578,," # The variable defined here will be used to set the environment variable, ""no_proxy"". # This is by default set to elastic_beat_kibana_host, but if using a non-standard # interface, the no_proxy enivronment may need to be changed. # elastic_beat_no_proxy: ""{{ elastic_beat_kibana_host }}""","# The node defined here will be used with the environment variable, ""no_proxy"".",100,29
openstack%2Fkuryr-kubernetes~master~Ia2d81c0e456a6e66ad0a95ae1f1a601236054e2f,openstack/kuryr-kubernetes,master,Ia2d81c0e456a6e66ad0a95ae1f1a601236054e2f,Gather debug info when NetlinkError EEXIST happens,MERGED,2020-01-15 14:31:03.000000000,2020-01-23 11:45:19.000000000,2020-01-23 11:43:29.000000000,"[{'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-01-15 14:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6dafd7995bdc955f57ad1d95b0c3827e06346da2', 'message': ""Gather debug info when NetlinkError EEXIST happens\n\nIn nested setups on the pod interface binding we sometimes get:\n\n    pyroute2.netlink.exceptions.NetlinkError: (17, 'File exists')\n\nThis is most likely related to VLAN id conflict, which should get fixed\nby code deleting interfaces that were possible to get created by\nprevious run of the binding, but for some reason that does not always\nhelp. This commit makes sure that when error occurs we gather all the\ninformation about interfaces in both host and pod namespaces. That\nshould help to find the guilty interface and understand the reason\nbehind the issue.\n\nChange-Id: Ia2d81c0e456a6e66ad0a95ae1f1a601236054e2f\nRelated-Bug: 1854928\n""}, {'number': 2, 'created': '2020-01-15 14:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f3ce4e7d679657d980bcf432351e67ae3c6739ce', 'message': ""Gather debug info when NetlinkError EEXIST happens\n\nIn nested setups on the pod interface binding we sometimes get:\n\n    pyroute2.netlink.exceptions.NetlinkError: (17, 'File exists')\n\nThis is most likely related to VLAN id conflict, which should get fixed\nby code deleting interfaces that were possible to get created by\nprevious run of the binding, but for some reason that does not always\nhelp. This commit makes sure that when error occurs we gather all the\ninformation about interfaces in both host and pod namespaces. That\nshould help to find the guilty interface and understand the reason\nbehind the issue.\n\nChange-Id: Ia2d81c0e456a6e66ad0a95ae1f1a601236054e2f\nRelated-Bug: 1854928\n""}, {'number': 3, 'created': '2020-01-15 14:59:57.000000000', 'files': ['kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/nested.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/14dbf5b9ce1904daa29a6ebb8300bbecdbbf2386', 'message': ""Gather debug info when NetlinkError EEXIST happens\n\nIn nested setups on the pod interface binding we sometimes get:\n\n    pyroute2.netlink.exceptions.NetlinkError: (17, 'File exists')\n\nThis is most likely related to VLAN id conflict, which should get fixed\nby code deleting interfaces that were possible to get created by\nprevious run of the binding, but for some reason that does not always\nhelp. This commit makes sure that when error occurs we gather all the\ninformation about interfaces in both host and pod namespaces. That\nshould help to find the guilty interface and understand the reason\nbehind the issue.\n\nChange-Id: Ia2d81c0e456a6e66ad0a95ae1f1a601236054e2f\nRelated-Bug: 1854928\n""}]",0,702672,14dbf5b9ce1904daa29a6ebb8300bbecdbbf2386,12,5,3,11600,,,0,"Gather debug info when NetlinkError EEXIST happens

In nested setups on the pod interface binding we sometimes get:

    pyroute2.netlink.exceptions.NetlinkError: (17, 'File exists')

This is most likely related to VLAN id conflict, which should get fixed
by code deleting interfaces that were possible to get created by
previous run of the binding, but for some reason that does not always
help. This commit makes sure that when error occurs we gather all the
information about interfaces in both host and pod namespaces. That
should help to find the guilty interface and understand the reason
behind the issue.

Change-Id: Ia2d81c0e456a6e66ad0a95ae1f1a601236054e2f
Related-Bug: 1854928
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/72/702672/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/binding/nested.py'],1,6dafd7995bdc955f57ad1d95b0c3827e06346da2,bug/1854928,"import errnoimport pyroute2 # We might also have leftover interface in the host netns, let's try to # remove it too. This is outside of the main host's IPDB context # manager to make sure removal is commited before starting next # transaction. with b_base.get_ipdb() as h_ipdb: try: with b_base.get_ipdb() as h_ipdb: # TODO(vikasc): evaluate whether we should have stevedore # driver for getting the link device. vm_iface_name = config.CONF.binding.link_iface args = self._get_iface_create_args(vif) with h_ipdb.create(ifname=temp_name, link=h_ipdb.interfaces[vm_iface_name], **args) as iface: iface.net_ns_fd = utils.convert_netns(netns) except pyroute2.NetlinkError as e: if e.code == errno.EEXIST: # NOTE(dulek): This is related to bug 1854928. It's super-rare, # so aim of this piece is to gater any info useful # for determining when it happens. LOG.exception('Creation of pod interface failed, most likely' 'due to duplicated VLAN id. This will probably' 'cause kuryr-daemon to crashloop. Trying to' 'gather debugging information.') with b_base.get_ipdb() as h_ipdb: LOG.error('List of host interfaces: %s', h_ipdb.interfaces) with b_base.get_ipdb(netns) as c_ipdb: LOG.error('List of pod namespace interfaces: %s', c_ipdb.interfaces) raise"," with b_base.get_ipdb() as h_ipdb: # TODO(vikasc): evaluate whether we should have stevedore # driver for getting the link device. vm_iface_name = config.CONF.binding.link_iface # We might also have leftover interface in the host netns, let's # try to remove it too. args = self._get_iface_create_args(vif) with h_ipdb.create(ifname=temp_name, link=h_ipdb.interfaces[vm_iface_name], **args) as iface: iface.net_ns_fd = utils.convert_netns(netns)",34,11
openstack%2Fnova~master~I787da34415c9808bf09c16e4d4acf142be4ea881,openstack/nova,master,I787da34415c9808bf09c16e4d4acf142be4ea881,pytype: Resolve issues with 'nova.virt.ironic',ABANDONED,2020-01-17 18:08:55.000000000,2020-01-23 11:43:16.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-17 18:08:55.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a889cd3ac52244d4105b39dcc0501e18f69b6182', 'message': ""pytype: Resolve issues with 'nova.virt.ironic'\n\nJust have to ignore the highly dynamic 'nova.objects' import here.\n\nChange-Id: I787da34415c9808bf09c16e4d4acf142be4ea881\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,703152,a889cd3ac52244d4105b39dcc0501e18f69b6182,7,5,1,15334,,,0,"pytype: Resolve issues with 'nova.virt.ironic'

Just have to ignore the highly dynamic 'nova.objects' import here.

Change-Id: I787da34415c9808bf09c16e4d4acf142be4ea881
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/703152/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,a889cd3ac52244d4105b39dcc0501e18f69b6182,pytype,from nova import objects # type: ignore,from nova import objects,1,1
openstack%2Fnetworking-ovn~stable%2Frocky~I6ed2573b71dc91a60d860537512bfcef7a212e17,openstack/networking-ovn,stable/rocky,I6ed2573b71dc91a60d860537512bfcef7a212e17,Active wait to retrieve the Agent stats,MERGED,2020-01-10 13:03:42.000000000,2020-01-23 11:36:50.000000000,2020-01-23 11:36:50.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-10 13:03:42.000000000', 'files': ['networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/52d271643b078de3611de8fe2265469aafcb14c2', 'message': 'Active wait to retrieve the Agent stats\n\nIn functional test\n""test_updating_metadata_doesnt_update_controller_stats"", do an active\nwait to retrieve the Agent stats until ""ChassisMetadataAgentEvent"" is\ngenerated and a new stat is added to the global instance ""AgentStats"".\n\nChange-Id: I6ed2573b71dc91a60d860537512bfcef7a212e17\nCloses-Bug: #1841913\n(cherry picked from commit ae5975c2a98f6c3bd0a617316e86a79270af29c7)\n'}]",0,701955,52d271643b078de3611de8fe2265469aafcb14c2,12,4,1,8655,,,0,"Active wait to retrieve the Agent stats

In functional test
""test_updating_metadata_doesnt_update_controller_stats"", do an active
wait to retrieve the Agent stats until ""ChassisMetadataAgentEvent"" is
generated and a new stat is added to the global instance ""AgentStats"".

Change-Id: I6ed2573b71dc91a60d860537512bfcef7a212e17
Closes-Bug: #1841913
(cherry picked from commit ae5975c2a98f6c3bd0a617316e86a79270af29c7)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/55/701955/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/test_metadata_agent.py'],1,52d271643b078de3611de8fe2265469aafcb14c2,bug/1841913-stable/stein-stable/rocky,"from networking_ovn.common import exceptions as ovn_exc self.nb_cfg = None def read_stats(): try: self.nb_cfg = stats.AgentStats.get_stat(chassis.uuid).nb_cfg except ovn_exc.AgentStatsNotFound: return False return True exc = AssertionError('AgentStats for chassis %(chassis_uuid)s not ' 'found' % {'chassis_uuid': chassis.uuid}) n_utils.wait_until_true(read_stats, timeout=5, exception=exc) new_nb_cfg = self.nb_cfg + 1 self.nb_cfg)", nb_cfg = stats.AgentStats.get_stat(chassis.uuid).nb_cfg new_nb_cfg = nb_cfg + 1 nb_cfg),15,3
openstack%2Fmistral~master~I16a4f8a4d01a4421be95280881d8ebafd2eca1a0,openstack/mistral,master,I16a4f8a4d01a4421be95280881d8ebafd2eca1a0,Remove OpenStack actions from mistral,ABANDONED,2020-01-23 09:33:33.000000000,2020-01-23 11:33:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-01-23 09:33:33.000000000', 'files': ['mistral/actions/action_generator.py', 'mistral/tests/unit/actions/openstack/test_generator.py', 'mistral/config.py', 'mistral/tests/unit/actions/openstack/__init__.py', 'mistral/actions/generator_factory.py', 'mistral/actions/openstack/action_generator/base.py', 'mistral/actions/openstack/base.py', 'mistral/tests/resources/openstack/test_mapping.json', 'mistral/actions/openstack/__init__.py', 'mistral/actions/openstack/actions.py', 'mistral/actions/openstack/mapping.json', 'mistral/tests/unit/actions/openstack/test_openstack_actions.py', 'mistral/actions/openstack/action_generator/__init__.py', 'mistral/tests/resources/openstack/action_collection_wb.yaml', 'setup.cfg', 'mistral/actions/base.py', 'mistral/tests/unit/actions/test_action_manager.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/dfdef2f34c5e8d22b0575defd05dc263ca661a26', 'message': 'Remove OpenStack actions from mistral\n\nChange-Id: I16a4f8a4d01a4421be95280881d8ebafd2eca1a0\n'}]",0,703951,dfdef2f34c5e8d22b0575defd05dc263ca661a26,3,1,1,19134,,,0,"Remove OpenStack actions from mistral

Change-Id: I16a4f8a4d01a4421be95280881d8ebafd2eca1a0
",git fetch https://review.opendev.org/openstack/mistral refs/changes/51/703951/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/actions/action_generator.py', 'mistral/tests/unit/actions/openstack/test_generator.py', 'mistral/config.py', 'mistral/tests/unit/actions/openstack/__init__.py', 'mistral/actions/generator_factory.py', 'mistral/actions/openstack/action_generator/base.py', 'mistral/actions/openstack/base.py', 'mistral/tests/resources/openstack/test_mapping.json', 'mistral/actions/openstack/__init__.py', 'mistral/actions/openstack/actions.py', 'mistral/actions/openstack/mapping.json', 'mistral/tests/unit/actions/openstack/test_openstack_actions.py', 'mistral/actions/openstack/action_generator/__init__.py', 'mistral/tests/resources/openstack/action_collection_wb.yaml', 'setup.cfg', 'mistral/actions/base.py', 'mistral/tests/unit/actions/test_action_manager.py']",17,dfdef2f34c5e8d22b0575defd05dc263ca661a26,actions,," self._assert_single_item(action_list, name=""nova.servers_get"") self._assert_single_item( action_list, name=""nova.volumes_delete_server_volume"" ) server_find_action = self._assert_single_item( action_list, name=""nova.servers_find"" ) self.assertIn('**', server_find_action.input) self._assert_single_item(action_list, name=""keystone.users_list"") self._assert_single_item(action_list, name=""keystone.trusts_create"") self._assert_single_item(action_list, name=""glance.images_list"") self._assert_single_item(action_list, name=""glance.images_delete"") ",0,3809
openstack%2Fmistral~master~Iffd819a8934a7973c1d8a9b7a8a9fb1780411203,openstack/mistral,master,Iffd819a8934a7973c1d8a9b7a8a9fb1780411203,Make the action generator an entry point,ABANDONED,2020-01-22 15:41:10.000000000,2020-01-23 11:33:49.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 15:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8527f472e95e44e4b82eee6fc4f8e86095e6b312', 'message': 'Make the action generator an entry point\n\nThis way we can decouple the action generator and move\nit to mistral-extra\n\nChange-Id: Iffd819a8934a7973c1d8a9b7a8a9fb1780411203\n'}, {'number': 2, 'created': '2020-01-23 09:33:33.000000000', 'files': ['mistral/services/action_manager.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2d4fea504248ed099442d92e5f99130b092fafbb', 'message': 'Make the action generator an entry point\n\nThis way we can decouple the action generator and move\nit to mistral-extra\n\nChange-Id: Iffd819a8934a7973c1d8a9b7a8a9fb1780411203\n'}]",0,703823,2d4fea504248ed099442d92e5f99130b092fafbb,7,2,2,19134,,,0,"Make the action generator an entry point

This way we can decouple the action generator and move
it to mistral-extra

Change-Id: Iffd819a8934a7973c1d8a9b7a8a9fb1780411203
",git fetch https://review.opendev.org/openstack/mistral refs/changes/23/703823/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/services/action_manager.py', 'setup.cfg']",2,8527f472e95e44e4b82eee6fc4f8e86095e6b312,actions,#todo(eyalb) will be removed once decoupling is finished mistral.generators = generators = mistral.actions.generator_factory:all_generators ,,26,16
openstack%2Fmistral~master~Ie68abcb3a670b293e26d8d53f4fcb9c0d67e5077,openstack/mistral,master,Ie68abcb3a670b293e26d8d53f4fcb9c0d67e5077,Install mistral-extra so we can test it in gate,ABANDONED,2020-01-21 12:47:25.000000000,2020-01-23 11:33:39.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 12:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2bd8e27fbea68588d75651ad5342a8505d9009bd', 'message': 'Install mistral-extra so we can test it in gate\n\nAfter moving all openstack actions to moistral-extra\nwe want to test it in gate and devstack\n\nChange-Id: Ie68abcb3a670b293e26d8d53f4fcb9c0d67e5077\n'}, {'number': 2, 'created': '2020-01-21 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2642903ff4b1097cd92017be1dd3a42584d6b10c', 'message': 'Install mistral-extra so we can test it in gate\n\nAfter moving all openstack actions to moistral-extra\nwe want to test it in gate and devstack\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Ie68abcb3a670b293e26d8d53f4fcb9c0d67e5077\n'}, {'number': 3, 'created': '2020-01-21 13:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/40ba5464c70c30b77532e61eee6ec1a2158e460e', 'message': 'Install mistral-extra so we can test it in gate\n\nAfter moving all openstack actions to mistral-extra\nwe want to test it in gate and devstack\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Ie68abcb3a670b293e26d8d53f4fcb9c0d67e5077\n'}, {'number': 4, 'created': '2020-01-21 14:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b3f422b78ed229bd1d0151a08b55046bc6b68696', 'message': 'Install mistral-extra so we can test it in gate\n\nAfter moving all openstack actions to mistral-extra\nwe want to test it in gate and devstack\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Ie68abcb3a670b293e26d8d53f4fcb9c0d67e5077\n'}, {'number': 5, 'created': '2020-01-23 09:33:33.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/mistral/commit/8c6999079df0eec2e91237cec2b9b95b7eda0c45', 'message': 'Install mistral-extra so we can test it in gate\n\nAfter moving all openstack actions to mistral-extra\nwe want to test it in gate and devstack\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Ie68abcb3a670b293e26d8d53f4fcb9c0d67e5077\n'}]",0,703603,8c6999079df0eec2e91237cec2b9b95b7eda0c45,12,2,5,19134,,,0,"Install mistral-extra so we can test it in gate

After moving all openstack actions to mistral-extra
we want to test it in gate and devstack

Depends-on: https://review.opendev.org/#/c/703296/
Change-Id: Ie68abcb3a670b293e26d8d53f4fcb9c0d67e5077
",git fetch https://review.opendev.org/openstack/mistral refs/changes/03/703603/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,2bd8e27fbea68588d75651ad5342a8505d9009bd,actions,MISTRAL_EXTRA_REPO=${MISTRAL_EXTRA_REPO:-${GIT_BASE}/openstack/mistral-extra.git} MISTRAL_EXTRA_BRANCH=${MISTRAL_EXTRA_BRANCH:-master} MISTRAL_EXTRA_DIR=${DEST}/mistral-extra #todo(eyalb) we will use the repo version until mistral-extra is ready LIBS_FROM_GIT+=mistral-extra ,,15,0
openstack%2Fnova~master~I063488a2ad4924ffe2a48cbfc0c3c750221d37b7,openstack/nova,master,I063488a2ad4924ffe2a48cbfc0c3c750221d37b7,requirements: Limit hacking to one minor version,MERGED,2020-01-20 14:37:04.000000000,2020-01-23 11:26:37.000000000,2020-01-23 11:21:18.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-20 14:37:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/233f2715dd3c72b5a1d07ce37f2aeb53ce37dabb', 'message': 'requirements: Limit hacking to one minor version\n\nIt is possible, though unlikely, that hacking might introduce new rules\nin a minor version that would break the gate for nova. See this off\nbefore it can ever be an issue by doing $subject.\n\nChange-Id: I063488a2ad4924ffe2a48cbfc0c3c750221d37b7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,703405,233f2715dd3c72b5a1d07ce37f2aeb53ce37dabb,20,11,1,15334,,,0,"requirements: Limit hacking to one minor version

It is possible, though unlikely, that hacking might introduce new rules
in a minor version that would break the gate for nova. See this off
before it can ever be an issue by doing $subject.

Change-Id: I063488a2ad4924ffe2a48cbfc0c3c750221d37b7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/703405/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,233f2715dd3c72b5a1d07ce37f2aeb53ce37dabb,pytype,hacking>=2.0<2.1,hacking>=2.0<3.0,1,1
openstack%2Fironic-python-agent~stable%2Ftrain~I7167e71e5d2352a045565289b200e5530d0ba11d,openstack/ironic-python-agent,stable/train,I7167e71e5d2352a045565289b200e5530d0ba11d,Avoid grub2-install when on UEFI boot mode,MERGED,2020-01-20 12:31:45.000000000,2020-01-23 11:26:07.000000000,2020-01-23 11:23:20.000000000,"[{'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 12:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ba2b0bb8a0ed2625d6de53624712420b920de276', 'message': ""Avoid grub2-install when on UEFI boot mode\n\nThis patch changes the workflow for whole disk images when using uefi.\nIf we can identify the bootloader and it's valid we can update using\nefibootmgr since grub2-install have problems specially on secure boot\nmode.\nWe also updated the regex to search for the uefi partition on the disk,\nsince in some cases the parted command output can be without the FS\nfor the partition with esp Flag.\n\nChange-Id: I7167e71e5d2352a045565289b200e5530d0ba11d\nStory: #2006847\nTask: #37435\n(cherry picked from commit b6210be196fea271b2c49f89d3e1638517c1198c)\n""}, {'number': 2, 'created': '2020-01-21 17:36:25.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'releasenotes/notes/avoid-grub2-using-efibootmgr-bd27c0978d1cf71b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8982da3b16a4c04e8fede3acdc921ba8bbdb8dda', 'message': ""Avoid grub2-install when on UEFI boot mode\n\nThis patch changes the workflow for whole disk images when using uefi.\nIf we can identify the bootloader and it's valid we can update using\nefibootmgr since grub2-install have problems specially on secure boot\nmode.\nWe also updated the regex to search for the uefi partition on the disk,\nsince in some cases the parted command output can be without the FS\nfor the partition with esp Flag.\n\nChange-Id: I7167e71e5d2352a045565289b200e5530d0ba11d\nStory: #2006847\nTask: #37435\n(cherry picked from commit b6210be196fea271b2c49f89d3e1638517c1198c)\n""}]",5,703381,8982da3b16a4c04e8fede3acdc921ba8bbdb8dda,18,6,2,15519,,,0,"Avoid grub2-install when on UEFI boot mode

This patch changes the workflow for whole disk images when using uefi.
If we can identify the bootloader and it's valid we can update using
efibootmgr since grub2-install have problems specially on secure boot
mode.
We also updated the regex to search for the uefi partition on the disk,
since in some cases the parted command output can be without the FS
for the partition with esp Flag.

Change-Id: I7167e71e5d2352a045565289b200e5530d0ba11d
Story: #2006847
Task: #37435
(cherry picked from commit b6210be196fea271b2c49f89d3e1638517c1198c)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/81/703381/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'releasenotes/notes/avoid-grub2-using-efibootmgr-bd27c0978d1cf71b.yaml']",5,ba2b0bb8a0ed2625d6de53624712420b920de276,uefi_workflow,"--- fixes: - | Fixes the workflow for wholedisk images when using uefi boot mode, when possible it will use efibootmgr instead of grub2 to update the nvram. ",,678,13
openstack%2Fnova~master~I0bb9077f1cea2243b7945e87cfa140f9cf89d558,openstack/nova,master,I0bb9077f1cea2243b7945e87cfa140f9cf89d558,Switch to hacking 2.x,MERGED,2019-11-22 17:17:33.000000000,2020-01-23 11:25:14.000000000,2020-01-23 11:21:13.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-22 17:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffea19dc13922443ca4e414205de0c1269d3975d', 'message': ""WIP: Switch to flake8 3.x\n\nNeed to figure out how to migrate tests, if that's even possible. For\nnow, I've just dropped them 'cos it's easier.\n\nChange-Id: I0bb9077f1cea2243b7945e87cfa140f9cf89d558\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-12-11 17:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9df4dfee2f201a21a3ebec51c413f1c0f1e98570', 'message': ""Switch to flake8 3.x\n\nNeed to figure out how to migrate tests, if that's even possible. For\nnow, I've just dropped them 'cos it's easier.\n\nChange-Id: I0bb9077f1cea2243b7945e87cfa140f9cf89d558\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-12-16 10:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2169a00d5db964eef4acd0c89a9ee60ab9f9a533', 'message': 'Switch to hacking 2.x\n\nThis bumps the version of flake8 and pycodestyle to something much\nnewer, which resolves a long-standing warning about nested sets and\nallows us to use new fangled features like f-strings if we so choose.\n\nChange-Id: I0bb9077f1cea2243b7945e87cfa140f9cf89d558\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2020-01-17 18:08:55.000000000', 'files': ['test-requirements.txt', 'nova/hacking/checks.py', 'nova/virt/hardware.py', 'lower-constraints.txt', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3da87a45dc9302c1c9d9418ed2b80a8c68d1507', 'message': 'Switch to hacking 2.x\n\nThis bumps the version of flake8 and pycodestyle to something much\nnewer, which resolves a long-standing warning about nested sets and\nallows us to use new fangled features like f-strings if we so choose.\n\nChange-Id: I0bb9077f1cea2243b7945e87cfa140f9cf89d558\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",17,695733,e3da87a45dc9302c1c9d9418ed2b80a8c68d1507,163,13,4,15334,,,0,"Switch to hacking 2.x

This bumps the version of flake8 and pycodestyle to something much
newer, which resolves a long-standing warning about nested sets and
allows us to use new fangled features like f-strings if we so choose.

Change-Id: I0bb9077f1cea2243b7945e87cfa140f9cf89d558
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/695733/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hardware.py', 'test-requirements.txt', 'nova/tests/unit/test_hacking.py', 'lower-constraints.txt', 'nova/hacking/__init__.py', 'tox.ini', 'tools/flake8_checks.py']",7,ffea19dc13922443ca4e414205de0c1269d3975d,pytype,"import ast import os import re import six def flake8ext(_func): """"""Decorate flake8_asserts functions"""""" _func.name = _func.__name__ _func.version = '0.1' _func.code = _func.__name__.upper() return _func @flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext name = 'check_for_string_unicode_exc' version = '1.0' name = 'check_for_trans_add' version = '0.1' name = 'check_for_uncalled_test_closure' version = '0.1' @flake8ext@flake8ext@flake8ext@flake8ext@flake8ext def check_http_not_implemented(logical_line, filename, noqa):@flake8ext def check_greenthread_spawns(logical_line, filename):@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext def check_context_log(logical_line, filename, noqa):@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext@flake8ext","import ast import os import re import six def check_http_not_implemented(logical_line, physical_line, filename, noqa):def check_greenthread_spawns(logical_line, physical_line, filename):def check_context_log(logical_line, physical_line, filename, noqa): def factory(register): register(import_no_db_in_virt) register(no_db_session_in_public_api) register(use_timeutils_utcnow) register(import_no_virt_driver_import_deps) register(import_no_virt_driver_config_deps) register(capital_cfg_help) register(no_import_translation_in_tests) register(assert_true_instance) register(assert_equal_type) register(assert_raises_regexp) register(no_translate_debug_logs) register(no_setting_conf_directly_in_tests) register(no_mutable_default_args) register(check_explicit_underscore_import) register(use_jsonutils) register(check_api_version_decorator) register(CheckForStrUnicodeExc) register(CheckForTransAdd) register(assert_true_or_false_with_in) register(dict_constructor_with_list_copy) register(assert_equal_in) register(check_http_not_implemented) register(check_no_contextlib_nested) register(check_greenthread_spawns) register(check_config_option_in_central_place) register(check_policy_registration_in_central_place) register(check_policy_enforce) register(check_doubled_words) register(check_python3_no_iteritems) register(check_python3_no_iterkeys) register(check_python3_no_itervalues) register(check_python3_xrange) register(no_os_popen) register(no_log_warn) register(CheckForUncalledTestClosure) register(check_context_log) register(no_assert_equal_true_false) register(no_assert_true_false_is_not) register(check_uuid4) register(return_followed_by_space) register(no_redundant_import_alias) register(yield_followed_by_space) register(assert_regexpmatches) register(privsep_imports_not_aliased) register(did_you_mean_tuple) register(nonexistent_assertion_methods_and_attributes) register(useless_assertion)",130,1091
openstack%2Fironic-python-agent~stable%2Ftrain~I5f326db2d37b2a15090ec84e477e63f7d92e7447,openstack/ironic-python-agent,stable/train,I5f326db2d37b2a15090ec84e477e63f7d92e7447,Search for efi partition,MERGED,2020-01-20 12:17:21.000000000,2020-01-23 11:15:30.000000000,2020-01-23 11:12:07.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 12:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ea4456d06584fcbdfc01f2bd85ac9eea2fffb639', 'message': 'Search for efi partition\n\nThis patch adds a function that will be responsible to identify\nthe efi partition on a give device, this is necessary on the Software\nRaid scenario and when installing bootloader.\n\nChange-Id: I5f326db2d37b2a15090ec84e477e63f7d92e7447\nCo-Authored-By: Raphael Glon <raphael.glon@corp.ovh.com>\n(cherry picked from commit 966356e58c786fab1b176767615c481d449076a2)\n'}, {'number': 2, 'created': '2020-01-21 17:17:14.000000000', 'files': ['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bd89e628bff015ae24d06eede87bcd0fb7e87afd', 'message': 'Search for efi partition\n\nThis patch adds a function that will be responsible to identify\nthe efi partition on a give device, this is necessary on the Software\nRaid scenario and when installing bootloader.\n\nChange-Id: I5f326db2d37b2a15090ec84e477e63f7d92e7447\nCo-Authored-By: Raphael Glon <raphael.glon@corp.ovh.com>\n(cherry picked from commit 966356e58c786fab1b176767615c481d449076a2)\n'}]",0,703380,bd89e628bff015ae24d06eede87bcd0fb7e87afd,24,5,2,15519,,,0,"Search for efi partition

This patch adds a function that will be responsible to identify
the efi partition on a give device, this is necessary on the Software
Raid scenario and when installing bootloader.

Change-Id: I5f326db2d37b2a15090ec84e477e63f7d92e7447
Co-Authored-By: Raphael Glon <raphael.glon@corp.ovh.com>
(cherry picked from commit 966356e58c786fab1b176767615c481d449076a2)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/80/703380/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",2,ea4456d06584fcbdfc01f2bd85ac9eea2fffb639,utils-stable/train,"PARTED_ESP_PATTERN = re.compile(r'^\s*(\d+)\s.*\sfat\d*\s.*esp(,|\s|$).*$') def get_efi_part_on_device(device): """"""Looks for the efi partition on a given device :param device: lock device upon which to check for the efi partition :return: the efi partition or None """""" efi_part = None out, _u = execute('parted', '-s', device, '--', 'print') for line in out.splitlines(): m = PARTED_ESP_PATTERN.match(line) if m: efi_part = m.group(1) LOG.debug(""Found efi partition %s on device %s."", efi_part, device) break else: LOG.debug(""No efi partition found on device %s"", device) return efi_part",,68,0
openstack%2Freleases~master~I5fc7bde3c60c50ae78e3c7f297f715a7591e486c,openstack/releases,master,I5fc7bde3c60c50ae78e3c7f297f715a7591e486c,Ignore line length for bashate,MERGED,2020-01-22 15:13:20.000000000,2020-01-23 11:14:47.000000000,2020-01-23 11:14:47.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 15:13:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/releases/commit/96c324ba731884326452c4737d8e3a15e4d76854', 'message': ""Ignore line length for bashate\n\nI am not sure we really need to care about a line length that's 90\nchars instead of 79. We have so many ugly things here, I am not\nsure this will impact positively the readability to force line breaks.\n\nWithout this patch, all the shell scripts changes will fail with\na bashate failure, due to the fact that the\nrecently introduced changes in tools/make_missing_releases.sh\nhave lines of length above 79.\n\nThe alternative would be to fix those lines. There are only 3 of them.\n\nChange-Id: I5fc7bde3c60c50ae78e3c7f297f715a7591e486c\n""}]",0,703814,96c324ba731884326452c4737d8e3a15e4d76854,7,3,1,17068,,,0,"Ignore line length for bashate

I am not sure we really need to care about a line length that's 90
chars instead of 79. We have so many ugly things here, I am not
sure this will impact positively the readability to force line breaks.

Without this patch, all the shell scripts changes will fail with
a bashate failure, due to the fact that the
recently introduced changes in tools/make_missing_releases.sh
have lines of length above 79.

The alternative would be to fix those lines. There are only 3 of them.

Change-Id: I5fc7bde3c60c50ae78e3c7f297f715a7591e486c
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/703814/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,96c324ba731884326452c4737d8e3a15e4d76854,ignore_error_006_bashate," -print0 | xargs -0 bashate -i E006 -v"""," -print0 | xargs -0 bashate -v""",1,1
openstack%2Freleases~master~I9eff8b3f2e64d1b699a440564cff7750437e2cfc,openstack/releases,master,I9eff8b3f2e64d1b699a440564cff7750437e2cfc,Update python-tempestconf to 2.5.0,MERGED,2020-01-22 07:51:52.000000000,2020-01-23 11:14:46.000000000,2020-01-23 11:14:45.000000000,"[{'_account_id': 308}, {'_account_id': 4571}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12393}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-22 07:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/18dc1b3c58e168bf56db3cb9a0be811c69606a26', 'message': 'Update python-tempestconf to 2.4.1\n\nMake a new release of python-tempestconf containing\nthe newest changes.\n\nChange-Id: I9eff8b3f2e64d1b699a440564cff7750437e2cfc\n'}, {'number': 2, 'created': '2020-01-22 20:51:43.000000000', 'files': ['deliverables/_independent/python-tempestconf.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba39cc692e5cb6bd712e9d936b0328239d10a769', 'message': 'Update python-tempestconf to 2.5.0\n\nMake a new release of python-tempestconf containing\nthe newest changes.\n\nChange-Id: I9eff8b3f2e64d1b699a440564cff7750437e2cfc\n'}]",0,703744,ba39cc692e5cb6bd712e9d936b0328239d10a769,18,8,2,22873,,,0,"Update python-tempestconf to 2.5.0

Make a new release of python-tempestconf containing
the newest changes.

Change-Id: I9eff8b3f2e64d1b699a440564cff7750437e2cfc
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/703744/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-tempestconf.yaml'],1,18dc1b3c58e168bf56db3cb9a0be811c69606a26,, - version: 2.4.1 projects: - repo: openstack/python-tempestconf hash: e7c69d295757df92a41d5e18ab4be628c7422937,,4,0
openstack%2Freleases~master~Ifa58f0a475c723b0adc032e985f09055e5e23516,openstack/releases,master,Ifa58f0a475c723b0adc032e985f09055e5e23516,Release horizon rocky 14.1.0,MERGED,2020-01-20 22:18:53.000000000,2020-01-23 11:14:44.000000000,2020-01-23 11:14:44.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-20 22:18:53.000000000', 'files': ['deliverables/rocky/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2cb039aa85c6ff8e5a8f21b360710ba02484d281', 'message': 'Release horizon rocky 14.1.0\n\nA typo in a policy name was fixed in commit ed23eb60d so that\noperators can use a policy file from glance, but the change\npotentially requires operators to adjust their exisitng policy,\nso the minor version is bumped.\n\nChange-Id: Ifa58f0a475c723b0adc032e985f09055e5e23516\n'}]",2,703512,2cb039aa85c6ff8e5a8f21b360710ba02484d281,10,5,1,841,,,0,"Release horizon rocky 14.1.0

A typo in a policy name was fixed in commit ed23eb60d so that
operators can use a policy file from glance, but the change
potentially requires operators to adjust their exisitng policy,
so the minor version is bumped.

Change-Id: Ifa58f0a475c723b0adc032e985f09055e5e23516
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/703512/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/horizon.yaml'],1,2cb039aa85c6ff8e5a8f21b360710ba02484d281,horizon-rocky, - version: 14.1.0 projects: - repo: openstack/horizon hash: ed23eb60d4674e7d50f9f13cc926d3e3bb4f1121,,4,0
openstack%2Freleases~master~I42fcd8fc2702ab8e31e05aac0a3b00e62a7933e7,openstack/releases,master,I42fcd8fc2702ab8e31e05aac0a3b00e62a7933e7,Release horizon stein 15.2.0,MERGED,2020-01-20 22:18:30.000000000,2020-01-23 11:14:43.000000000,2020-01-23 11:14:43.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-20 22:18:30.000000000', 'files': ['deliverables/stein/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c689733a44e2ada2d3a1ee76c306e9d7a789788f', 'message': 'Release horizon stein 15.2.0\n\nA typo in a policy name was fixed in commit fe61f2358 so that\noperators can use a policy file from glance, but the change\npotentially requires operators to adjust their exisitng policy,\nso the minor version is bumped.\n\nChange-Id: I42fcd8fc2702ab8e31e05aac0a3b00e62a7933e7\n'}]",2,703511,c689733a44e2ada2d3a1ee76c306e9d7a789788f,11,5,1,841,,,0,"Release horizon stein 15.2.0

A typo in a policy name was fixed in commit fe61f2358 so that
operators can use a policy file from glance, but the change
potentially requires operators to adjust their exisitng policy,
so the minor version is bumped.

Change-Id: I42fcd8fc2702ab8e31e05aac0a3b00e62a7933e7
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/703511/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/horizon.yaml'],1,c689733a44e2ada2d3a1ee76c306e9d7a789788f,horizon-stein, - version: 15.2.0 projects: - repo: openstack/horizon hash: fe61f2358a6e16ea462630747180b83337eb5b55,,4,0
openstack%2Freleases~master~I024d2e0cc5fde67332f5acd6f70b4f6e6f416ee8,openstack/releases,master,I024d2e0cc5fde67332f5acd6f70b4f6e6f416ee8,Release horizon train 16.1.0,MERGED,2020-01-20 22:18:00.000000000,2020-01-23 11:14:42.000000000,2020-01-23 11:14:42.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-20 22:18:00.000000000', 'files': ['deliverables/train/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ae92285fe0a7a613207151e67f63d71767b59a40', 'message': 'Release horizon train 16.1.0\n\nA typo in a policy name was fixed in commit 1108d2c40 so that\noperators can use a policy file from glance, but the change\npotentially requires operators to adjust their exisitng policy,\nso the minor version is bumped.\n\nChange-Id: I024d2e0cc5fde67332f5acd6f70b4f6e6f416ee8\n'}]",4,703510,ae92285fe0a7a613207151e67f63d71767b59a40,12,6,1,841,,,0,"Release horizon train 16.1.0

A typo in a policy name was fixed in commit 1108d2c40 so that
operators can use a policy file from glance, but the change
potentially requires operators to adjust their exisitng policy,
so the minor version is bumped.

Change-Id: I024d2e0cc5fde67332f5acd6f70b4f6e6f416ee8
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/703510/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/horizon.yaml'],1,ae92285fe0a7a613207151e67f63d71767b59a40,horizon-train, - version: 16.1.0 projects: - repo: openstack/horizon hash: e4269fb88bd8faaa09f55606da9a98d42e4f446c,,4,0
openstack%2Fironic-python-agent~stable%2Ftrain~I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf,openstack/ironic-python-agent,stable/train,I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf,Don't try to put a bootloader in place when bootable,MERGED,2020-01-21 11:07:49.000000000,2020-01-23 11:10:44.000000000,2020-01-23 11:08:07.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-21 11:07:49.000000000', 'files': ['bindep.txt', 'releasenotes/notes/skips-bootloader-install-35c463195aa61800.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a298d165d61a104824c5365f90c5763c2588879e', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nLooks at the boot sector data and if an executable is\nfound in the first 218 bytes, then it bypasses loading\na boot loader.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n(cherry picked from commit 9f8fa2853af00045118ccd44180e7053e6d027af)\n'}]",0,703588,a298d165d61a104824c5365f90c5763c2588879e,12,6,1,15519,,,0,"Don't try to put a bootloader in place when bootable

Lets not do silly things and if the disk looks bootable,
and we're not trying to do UEFI, then let us assume the
proper thing will occur upon power-up.

Looks at the boot sector data and if an executable is
found in the first 218 bytes, then it bypasses loading
a boot loader.

Also adds a dependency on the ""file"" linux distribution
package.

Change-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf
Story: 2006474
Task: 36410
(cherry picked from commit 9f8fa2853af00045118ccd44180e7053e6d027af)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/88/703588/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'releasenotes/notes/skips-bootloader-install-35c463195aa61800.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",4,a298d165d61a104824c5365f90c5763c2588879e,story/2006419,"def _is_bootloader_loaded(dev): """"""Checks the device to see if a MBR bootloader is present. :param str dev: Block device upon which to check if it appears to be bootable via MBR. :returns: True if a device appears to be bootable with a boot loader, otherwise False. """""" def _has_boot_sector(device): """"""Check the device for a boot sector indiator."""""" stdout, stderr = utils.execute('file', '-s', device) if 'boot sector' in stdout: # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1') stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. if 'executable' in stdout: return True return False try: # Looking for things marked ""bootable"" in the partition table stdout, stderr = utils.execute('parted', dev, '-s', '-m', '--', 'print') except processutils.ProcessExecutionError: return False lines = stdout.splitlines() for line in lines: partition = line.split(':') try: # Find the bootable device, and check the base # device and partition for bootloader contents. if 'boot' in partition[6]: if (_has_boot_sector(dev) or _has_boot_sector(partition[0])): return True except IndexError: continue return False # If the root device is an md device (or partition), restart the device # (to help grub finding it) and identify the underlying holder disks # to install grub. if hardware.is_md_device(device): hardware.md_restart(device) elif (_is_bootloader_loaded(device) and not (efi_system_part_uuid or prep_boot_part_uuid)): # We always need to put the bootloader in place with software raid # so it is okay to elif into the skip doing a bootloader step. LOG.info(""Skipping installation of bootloader on device %s "" ""as it is already marked bootable."", device) return # If the root device is an md device (or partition), # identify the underlying holder disks to install grub. if hardware.is_md_device(device):"," # If the root device is an md device (or partition), restart the device # (to help grub finding it) and identify the underlying holder disks # to install grub. if hardware.is_md_device(device): hardware.md_restart(device)",138,9
openstack%2Fironic-python-agent~stable%2Fstein~I7167e71e5d2352a045565289b200e5530d0ba11d,openstack/ironic-python-agent,stable/stein,I7167e71e5d2352a045565289b200e5530d0ba11d,Avoid grub2-install when on UEFI boot mode,MERGED,2020-01-22 16:56:37.000000000,2020-01-23 11:09:31.000000000,2020-01-23 11:07:23.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-22 16:56:37.000000000', 'files': ['imagebuild/tinyipa/build_files/finalreqs.lst', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'releasenotes/notes/avoid-grub2-using-efibootmgr-bd27c0978d1cf71b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2de0143c0377c5b5dc6f5a8189b53da26159a94b', 'message': ""Avoid grub2-install when on UEFI boot mode\n\nThis patch changes the workflow for whole disk images when using uefi.\nIf we can identify the bootloader and it's valid we can update using\nefibootmgr since grub2-install have problems specially on secure boot\nmode.\nWe also updated the regex to search for the uefi partition on the disk,\nsince in some cases the parted command output can be without the FS\nfor the partition with esp Flag.\n\nAdds the efibootmgr and efivar to tinyipa (since ipa-builder is not\nused in stable/train)\n\nChange-Id: I7167e71e5d2352a045565289b200e5530d0ba11d\nStory: #2006847\nTask: #37435\n(cherry picked from commit b6210be196fea271b2c49f89d3e1638517c1198c)\n""}]",0,703843,2de0143c0377c5b5dc6f5a8189b53da26159a94b,9,4,1,15519,,,0,"Avoid grub2-install when on UEFI boot mode

This patch changes the workflow for whole disk images when using uefi.
If we can identify the bootloader and it's valid we can update using
efibootmgr since grub2-install have problems specially on secure boot
mode.
We also updated the regex to search for the uefi partition on the disk,
since in some cases the parted command output can be without the FS
for the partition with esp Flag.

Adds the efibootmgr and efivar to tinyipa (since ipa-builder is not
used in stable/train)

Change-Id: I7167e71e5d2352a045565289b200e5530d0ba11d
Story: #2006847
Task: #37435
(cherry picked from commit b6210be196fea271b2c49f89d3e1638517c1198c)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/43/703843/1 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/tinyipa/build_files/finalreqs.lst', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'releasenotes/notes/avoid-grub2-using-efibootmgr-bd27c0978d1cf71b.yaml']",6,2de0143c0377c5b5dc6f5a8189b53da26159a94b,uefi_workflow,"--- fixes: - | Fixes the workflow for wholedisk images when using uefi boot mode, when possible it will use efibootmgr instead of grub2 to update the nvram. ",,569,13
openstack%2Fdevstack~stable%2Fqueens~I4fe59b1954514a7146a4412e3103a0a05a9250f2,openstack/devstack,stable/queens,I4fe59b1954514a7146a4412e3103a0a05a9250f2,Add Zuul v3 native unit-tests,MERGED,2019-10-25 22:35:53.000000000,2020-01-23 11:03:18.000000000,2020-01-23 11:03:18.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-25 22:35:53.000000000', 'files': ['playbooks/unit-tests/pre.yaml', '.zuul.yaml', 'playbooks/unit-tests/run.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6591be1c2b16b4ecbd00ada8954c04c4399815cc', 'message': 'Add Zuul v3 native unit-tests\n\nAdd new job to replace legacy-devstack-unit-tests.\n\nConflicts:\n        .zuul.yaml\n\nChange-Id: I4fe59b1954514a7146a4412e3103a0a05a9250f2\n(cherry picked from commit 838b833b638ee13599707d8a0be899815f201927)\n'}]",0,691449,6591be1c2b16b4ecbd00ada8954c04c4399815cc,8,4,1,8556,,,0,"Add Zuul v3 native unit-tests

Add new job to replace legacy-devstack-unit-tests.

Conflicts:
        .zuul.yaml

Change-Id: I4fe59b1954514a7146a4412e3103a0a05a9250f2
(cherry picked from commit 838b833b638ee13599707d8a0be899815f201927)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/691449/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/unit-tests/pre.yaml', '.zuul.yaml', 'playbooks/unit-tests/run.yaml']",3,6591be1c2b16b4ecbd00ada8954c04c4399815cc,,- hosts: all tasks: - name: Run run_tests.sh shell: chdir: '{{ zuul.project.src_dir }}' executable: /bin/bash cmd: | set -e set -x ./run_tests.sh ,,36,0
openstack%2Freleases~master~Ifb5ecd18f4e3e5e14e22f642f334b558766c4f85,openstack/releases,master,Ifb5ecd18f4e3e5e14e22f642f334b558766c4f85,Make some lines shorter for bashate,ABANDONED,2020-01-22 15:16:11.000000000,2020-01-23 11:02:59.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-22 15:16:11.000000000', 'files': ['tools/make_missing_releases.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/2958936557a9d2fd05350102332ec9c906fa3bb1', 'message': ""Make some lines shorter for bashate\n\nWithout this patch, bashate on shell scripts would fail.\nThis fixes it by splitting the lines.\n\nI have proposed an alternative patch to skip line length checking too.\nI think it's less ugly with lines just a tad longer.\n\nChange-Id: Ifb5ecd18f4e3e5e14e22f642f334b558766c4f85\n""}]",0,703815,2958936557a9d2fd05350102332ec9c906fa3bb1,5,3,1,17068,,,0,"Make some lines shorter for bashate

Without this patch, bashate on shell scripts would fail.
This fixes it by splitting the lines.

I have proposed an alternative patch to skip line length checking too.
I think it's less ugly with lines just a tad longer.

Change-Id: Ifb5ecd18f4e3e5e14e22f642f334b558766c4f85
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/703815/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/make_missing_releases.sh'],1,2958936557a9d2fd05350102332ec9c906fa3bb1,fix_lines_too_long_for_people_caring_about_this,declare -a deliverables=($(list-deliverables ${sieve} --unreleased \ --series ${series})) echo $(( ${#deliverables[@]} - $processed )) deliverables to go after \ this one v_run new-release $interactive $stable_branch $series $deliverable \ $release_type,declare -a deliverables=($(list-deliverables ${sieve} --unreleased --series ${series})) echo $(( ${#deliverables[@]} - $processed )) deliverables to go after this one v_run new-release $interactive $stable_branch $series $deliverable $release_type,6,3
openstack%2Fdevstack~stable%2Fstein~I4557a737cb13b9c2406056be08ab8a32ddd45162,openstack/devstack,stable/stein,I4557a737cb13b9c2406056be08ab8a32ddd45162,do not gzip legacy service logs,MERGED,2020-01-22 01:26:22.000000000,2020-01-23 10:39:50.000000000,2020-01-23 10:37:55.000000000,"[{'_account_id': 7118}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 01:26:22.000000000', 'files': ['roles/export-devstack-journal/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f7bd6f7c9f3d4ac8c3eeaf9ef720fd985a861545', 'message': 'do not gzip legacy service logs\n\nThis change removes the .gz extension from the\nservice and syslog logs exported via journalctl.\nThis change nolonger gzip compresses the exported\nlogs so that they can be rendered in the browser\ndirectly when served from swift.\n\nConflicts:\n    roles/export-devstack-journal/tasks/main.yaml\n\nChange-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162\n(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)\n'}]",0,703715,f7bd6f7c9f3d4ac8c3eeaf9ef720fd985a861545,12,4,1,8556,,,0,"do not gzip legacy service logs

This change removes the .gz extension from the
service and syslog logs exported via journalctl.
This change nolonger gzip compresses the exported
logs so that they can be rendered in the browser
directly when served from swift.

Conflicts:
    roles/export-devstack-journal/tasks/main.yaml

Change-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162
(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/703715/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/export-devstack-journal/tasks/main.yaml'],1,f7bd6f7c9f3d4ac8c3eeaf9ef720fd985a861545,, journalctl -o short-precise --unit $u > {{ stage_dir }}/logs/$name.txt > {{ stage_dir }}/logs/syslog.txt, journalctl -o short-precise --unit $u | gzip - > {{ stage_dir }}/logs/$name.txt.gz | gzip - > {{ stage_dir }}/logs/syslog.txt.gz,2,2
openstack%2Fglance_store~master~I6166a20610f77e0df7da75198e0c8273bb121d1f,openstack/glance_store,master,I6166a20610f77e0df7da75198e0c8273bb121d1f,Drop python 2.7 support and testing,MERGED,2019-10-30 06:49:34.000000000,2020-01-23 10:26:50.000000000,2020-01-23 10:21:54.000000000,"[{'_account_id': 4257}, {'_account_id': 5202}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 06:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/fd691ec737f9df171a6214e60930e134af7c9a08', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nglance_store is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6166a20610f77e0df7da75198e0c8273bb121d1f\n'}, {'number': 2, 'created': '2019-12-03 10:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/37bb8c61a153adb761ab135c7e5292a681b8fb55', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nglance_store is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6166a20610f77e0df7da75198e0c8273bb121d1f\n'}, {'number': 3, 'created': '2019-12-09 18:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/c72c3ea447c4540bebd080f8a60ebe189514d881', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nglance_store is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6166a20610f77e0df7da75198e0c8273bb121d1f\n'}, {'number': 4, 'created': '2020-01-22 16:27:10.000000000', 'files': ['releasenotes/notes/drop-py-2-7-345cafc9c1d3f892.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3bf4d29a0f2d38916bb20b287b7ee486b09613e0', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nglance_store is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6166a20610f77e0df7da75198e0c8273bb121d1f\n'}]",0,692044,3bf4d29a0f2d38916bb20b287b7ee486b09613e0,28,7,4,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

glance_store is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I6166a20610f77e0df7da75198e0c8273bb121d1f
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/44/692044/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-345cafc9c1d3f892.yaml', 'requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini']",5,fd691ec737f9df171a6214e60930e134af7c9a08,drop-py27-support,"envlist = py37,pep8","envlist = py27,py37,pep8",9,46
openstack%2Ffreezer~master~Ifdaf9e5258a8e0a9569d497993e293a3ead2cd7f,openstack/freezer,master,Ifdaf9e5258a8e0a9569d497993e293a3ead2cd7f,Update check&gate ci jobs,MERGED,2020-01-23 06:56:22.000000000,2020-01-23 10:15:19.000000000,2020-01-23 10:11:49.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 06:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/9da41b94300f381cb3301a79943be4135364767b', 'message': 'Update check&gate ci jobs\n\nChange-Id: Ifdaf9e5258a8e0a9569d497993e293a3ead2cd7f\n'}, {'number': 2, 'created': '2020-01-23 07:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/71f4ce075798786cd46e5176384c21620909329a', 'message': 'Update check&gate ci jobs\n\nChange-Id: Ifdaf9e5258a8e0a9569d497993e293a3ead2cd7f\n'}, {'number': 3, 'created': '2020-01-23 08:33:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/e22cece10fc0b1740131fb221dfef485641480d9', 'message': 'Update check&gate ci jobs\n\nChange-Id: Ifdaf9e5258a8e0a9569d497993e293a3ead2cd7f\n'}]",0,703925,e22cece10fc0b1740131fb221dfef485641480d9,10,2,3,21069,,,0,"Update check&gate ci jobs

Change-Id: Ifdaf9e5258a8e0a9569d497993e293a3ead2cd7f
",git fetch https://review.opendev.org/openstack/freezer refs/changes/25/703925/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9da41b94300f381cb3301a79943be4135364767b,, parent: devstack-tempest, parent: legacy-dsvm-base,1,1
openstack%2Ffreezer-api~master~Iadf47e805c8d0dd32239456e69d8fdc78f77f30d,openstack/freezer-api,master,Iadf47e805c8d0dd32239456e69d8fdc78f77f30d,Remove six usage from freezer_api package,MERGED,2020-01-22 10:16:45.000000000,2020-01-23 10:06:35.000000000,2020-01-23 10:06:35.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 10:16:45.000000000', 'files': ['freezer_api/db/base.py', 'requirements.txt', 'freezer_api/db/elasticsearch/es_manager.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/729bcfaf6b4065705aef7d17f699f9ce3468b65f', 'message': ""Remove six usage from freezer_api package\n\nWe don't support Python 2 anymore so we don't need this\ncompatibility library.\nConvert six usage to Python3 code.\n\nChange-Id: Iadf47e805c8d0dd32239456e69d8fdc78f77f30d\n""}]",0,703757,729bcfaf6b4065705aef7d17f699f9ce3468b65f,8,2,1,21069,,,0,"Remove six usage from freezer_api package

We don't support Python 2 anymore so we don't need this
compatibility library.
Convert six usage to Python3 code.

Change-Id: Iadf47e805c8d0dd32239456e69d8fdc78f77f30d
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/57/703757/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/db/base.py', 'requirements.txt', 'freezer_api/db/elasticsearch/es_manager.py', 'lower-constraints.txt']",4,729bcfaf6b4065705aef7d17f699f9ce3468b65f,,,six==1.10.0,2,7
openstack%2Fbifrost~master~Icad8d64c09b3ceccb8ca140c1cfbceef3b528f32,openstack/bifrost,master,Icad8d64c09b3ceccb8ca140c1cfbceef3b528f32,Fix changes leftovers,MERGED,2020-01-21 14:06:51.000000000,2020-01-23 10:06:06.000000000,2020-01-23 10:04:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 14:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d3ee715ba555163b9c003e1875e683f6d209c3fe', 'message': 'Fix changes leftovers\n\nCI is looking good so we can now fix some errors that were left\nfor better times.\n\nChange-Id: Icad8d64c09b3ceccb8ca140c1cfbceef3b528f32\n'}, {'number': 2, 'created': '2020-01-23 09:05:37.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ef9cf1abb9e341b189e0a0377977e38bb2defcb6', 'message': 'Fix changes leftovers\n\nCI is looking good so we can now fix some errors that were left\nfor better times.\n\nChange-Id: Icad8d64c09b3ceccb8ca140c1cfbceef3b528f32\n'}]",1,703620,ef9cf1abb9e341b189e0a0377977e38bb2defcb6,11,3,2,23851,,,0,"Fix changes leftovers

CI is looking good so we can now fix some errors that were left
for better times.

Change-Id: Icad8d64c09b3ceccb8ca140c1cfbceef3b528f32
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/20/703620/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/install.yml'],1,d3ee715ba555163b9c003e1875e683f6d209c3fe,modern-ansible," - enable_venv | bool == false command: ""pip3 install openstacksdk"""," command: ""pip3 pip install openstacksdk""",2,1
openstack%2Fnova~master~I28afdb09d300be39981606d5234fd837ea738e1d,openstack/nova,master,I28afdb09d300be39981606d5234fd837ea738e1d,libvirt: Handle alternative UEFI firmware binary paths,MERGED,2016-07-28 14:40:49.000000000,2020-01-23 09:46:43.000000000,2019-08-09 12:54:30.000000000,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 782}, {'_account_id': 2394}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6593}, {'_account_id': 6962}, {'_account_id': 7102}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-07-28 14:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3d637a1319db9699ed80f97397b62e31d63ccd5', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 2, 'created': '2016-07-30 16:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eba4a28348a784d60e43cce2454ebd8a98166829', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 3, 'created': '2016-09-03 07:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1eb2ed3b728279dcbf8db479705227ee53f06910', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 4, 'created': '2016-10-02 19:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/824bafb0a113fec33ee4f90e98cdc97f7e302f3a', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 5, 'created': '2017-05-29 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d50e2e6470477d690dff07eb24dfbb89a37b77d', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 6, 'created': '2017-06-07 20:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/790f85e59b87e402a4e584f82fe49f50b730fde2', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 7, 'created': '2018-11-13 16:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5604ca808a5e43c49481648f88771a58c0125ea6', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 8, 'created': '2018-11-13 16:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12b3f9b5adadc7510743f3f41c7daa7f449b7a88', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 9, 'created': '2018-11-13 21:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fe67138457dd47d0f61b723c9c4081d146d9302', 'message': 'Handle alternative UEFI boot loader locations on SLES\n\nThese EDKs are located in a different path here with no symlinks,\nso just probe for all of those paths in an order and pick one\nthat exists. This kludges around a problem on UEFI images on SLES.\n\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\nCloses-Bug: 1607400\n'}, {'number': 10, 'created': '2019-07-31 18:15:20.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/363710b655434a15b6b85d9ca65343210b104e56', 'message': 'libvirt: Handle alternative UEFI firmware binary paths\n\nThe OVMF binary paths differ based on the Linux distribution:\n\n  - Debian and Ubuntu:\n     - /usr/share/OVMF/OVMF_CODE.fd\n  - Fedora:\n     - /usr/share/edk2/ovmf/OVMF_CODE.fd\n       (`symlink`s to /usr/share/OVMF/OVMF_CODE.fd)\n     - /usr/share/edk2/ovmf/OVMF_CODE.secboot.fd (`symlink`s to\n       /usr/share/OVMF/OVMF_CODE.secboot.fd)\n  - CentOS and RHEL:\n     - /usr/share/OVMF/OVMF_CODE.secboot.fd\n  - SUSE:\n     - /usr/share/qemu/ovmf-x86_64-opensuse-code.bin\n\nCurrently, Nova only checks for one location OVMF_CODE.fd.  Let\'s also\ncheck for the other two common distributions, SUSE and CentOS OVMF\nbinary paths.  This is a short-term solution to fix two bugs.\n\nIn the long run:\n\n  - We will get rid of the ""DEFAULT_UEFI_LOADER_PATH"", which is used to\n    probe for firmware file paths.  Instead, we\'ll use the more robust\n    approach of the recently introduced[1] get_domain_capabilities()[1]\n    to query for the firmware binary paths (as reported in the \'loader\'\n    attribute).\n\n  - Use libvirt\'s (>=5.3) firmware auto-selection feature.  Which is a\n    more robust way to decide UEFI boot (secure or otherwise).  More\n    details of it in the spec here[2].\n\n[1] https://opendev.org/openstack/nova/commit/297f3ba687 -- Add\n    infrastructure for invoking libvirt\'s getDomainCapabilities API\n[2] http://specs.openstack.org/openstack/nova-specs/specs/train/approved/allow-secure-boot-for-qemu-kvm-guests.html\n\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nCloses-Bug: 1607400\nCloses-Bug: 1825386\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I28afdb09d300be39981606d5234fd837ea738e1d\n'}]",8,348394,363710b655434a15b6b85d9ca65343210b104e56,151,28,10,6593,,,0,"libvirt: Handle alternative UEFI firmware binary paths

The OVMF binary paths differ based on the Linux distribution:

  - Debian and Ubuntu:
     - /usr/share/OVMF/OVMF_CODE.fd
  - Fedora:
     - /usr/share/edk2/ovmf/OVMF_CODE.fd
       (`symlink`s to /usr/share/OVMF/OVMF_CODE.fd)
     - /usr/share/edk2/ovmf/OVMF_CODE.secboot.fd (`symlink`s to
       /usr/share/OVMF/OVMF_CODE.secboot.fd)
  - CentOS and RHEL:
     - /usr/share/OVMF/OVMF_CODE.secboot.fd
  - SUSE:
     - /usr/share/qemu/ovmf-x86_64-opensuse-code.bin

Currently, Nova only checks for one location OVMF_CODE.fd.  Let's also
check for the other two common distributions, SUSE and CentOS OVMF
binary paths.  This is a short-term solution to fix two bugs.

In the long run:

  - We will get rid of the ""DEFAULT_UEFI_LOADER_PATH"", which is used to
    probe for firmware file paths.  Instead, we'll use the more robust
    approach of the recently introduced[1] get_domain_capabilities()[1]
    to query for the firmware binary paths (as reported in the 'loader'
    attribute).

  - Use libvirt's (>=5.3) firmware auto-selection feature.  Which is a
    more robust way to decide UEFI boot (secure or otherwise).  More
    details of it in the spec here[2].

[1] https://opendev.org/openstack/nova/commit/297f3ba687 -- Add
    infrastructure for invoking libvirt's getDomainCapabilities API
[2] http://specs.openstack.org/openstack/nova-specs/specs/train/approved/allow-secure-boot-for-qemu-kvm-guests.html

Co-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>
Closes-Bug: 1607400
Closes-Bug: 1825386
blueprint: allow-secure-boot-for-qemu-kvm-guests
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Change-Id: I28afdb09d300be39981606d5234fd837ea738e1d
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/348394/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,e3d637a1319db9699ed80f97397b62e31d63ccd5,bp/allow-secure-boot-for-qemu-kvm-guests," ""x86_64"": ['/usr/share/OVMF/OVMF_CODE.fd', '/usr/share/qemu/ovmf-x86_64-code.bin'], ""aarch64"": ['/usr/share/AAVMF/AAVMF_CODE.fd', '/usr/share/qemu/aavmf-aarch64-code.bin'] # TODO(dmllr): Instead of probing UEFI_LOADER_PATHS, we should query libvirt domCapabilities # that should be configured correctly whether UEFI is available or not any((os.path.exists(p) for p in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]))) guest.os_loader = filter(os.path.exists, DEFAULT_UEFI_LOADER_PATH[ caps.host.cpu.arch])[0]"," ""x86_64"": ""/usr/share/OVMF/OVMF_CODE.fd"", ""aarch64"": ""/usr/share/AAVMF/AAVMF_CODE.fd"" os.path.exists(DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch])) guest.os_loader = DEFAULT_UEFI_LOADER_PATH[ caps.host.cpu.arch]",10,5
openstack%2Fneutron-tempest-plugin~master~I16823d2578d35b53e2a50c22ff2ab4537df520b1,openstack/neutron-tempest-plugin,master,I16823d2578d35b53e2a50c22ff2ab4537df520b1,Use queens-em tempest for Queens jobs,ABANDONED,2020-01-16 14:00:58.000000000,2020-01-23 09:34:13.000000000,,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-16 14:00:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a2a1bd21deadf43af21f57a2982ffc646f2600f9', 'message': 'Use queens-em tempest for Queens jobs\n\nJobs already use a pinned version of the plugin for\nneutron-tempest-plugin itself, but recently Queens backports started to\nfail on tempest lib code\n\nAlso set fixed version (queens-em tag) of tempest for these jobs\n\nChange-Id: I16823d2578d35b53e2a50c22ff2ab4537df520b1\nCloses-Bug: #1859988\n'}]",0,702868,a2a1bd21deadf43af21f57a2982ffc646f2600f9,13,7,1,21798,,,0,"Use queens-em tempest for Queens jobs

Jobs already use a pinned version of the plugin for
neutron-tempest-plugin itself, but recently Queens backports started to
fail on tempest lib code

Also set fixed version (queens-em tag) of tempest for these jobs

Change-Id: I16823d2578d35b53e2a50c22ff2ab4537df520b1
Closes-Bug: #1859988
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/68/702868/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a2a1bd21deadf43af21f57a2982ffc646f2600f9,bug/1859988, - name: openstack/tempest override-checkout: queens-em - name: openstack/tempest override-checkout: queens-em - name: openstack/tempest override-checkout: queens-em - name: openstack/tempest override-checkout: queens-em - name: openstack/tempest override-checkout: queens-em, - openstack/tempest - openstack/tempest - openstack/tempest - openstack/tempest - openstack/tempest,10,5
openstack%2Fironic-python-agent~stable%2Fstein~I5f326db2d37b2a15090ec84e477e63f7d92e7447,openstack/ironic-python-agent,stable/stein,I5f326db2d37b2a15090ec84e477e63f7d92e7447,Search for efi partition,MERGED,2020-01-22 16:02:53.000000000,2020-01-23 09:25:51.000000000,2020-01-23 09:24:13.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-22 16:02:53.000000000', 'files': ['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6a777e85878ab56c66b258a1386c459e8fd399df', 'message': 'Search for efi partition\n\nThis patch adds a function that will be responsible to identify\nthe efi partition on a give device, this is necessary on the Software\nRaid scenario and when installing bootloader.\n\nConflicts:\n        ironic_python_agent/tests/unit/test_utils.py\n        ironic_python_agent/utils.py\n\nChange-Id: I5f326db2d37b2a15090ec84e477e63f7d92e7447\nCo-Authored-By: Raphael Glon <raphael.glon@corp.ovh.com>\n(cherry picked from commit 966356e58c786fab1b176767615c481d449076a2)\n'}]",0,703827,6a777e85878ab56c66b258a1386c459e8fd399df,9,4,1,15519,,,0,"Search for efi partition

This patch adds a function that will be responsible to identify
the efi partition on a give device, this is necessary on the Software
Raid scenario and when installing bootloader.

Conflicts:
        ironic_python_agent/tests/unit/test_utils.py
        ironic_python_agent/utils.py

Change-Id: I5f326db2d37b2a15090ec84e477e63f7d92e7447
Co-Authored-By: Raphael Glon <raphael.glon@corp.ovh.com>
(cherry picked from commit 966356e58c786fab1b176767615c481d449076a2)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/27/703827/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",2,6a777e85878ab56c66b258a1386c459e8fd399df,utils-stable/stein,"import rePARTED_ESP_PATTERN = re.compile(r'^\s*(\d+)\s.*\sfat\d*\s.*esp(,|\s|$).*$') def get_efi_part_on_device(device): """"""Looks for the efi partition on a given device :param device: lock device upon which to check for the efi partition :return: the efi partition or None """""" efi_part = None out, _u = execute('parted', '-s', device, '--', 'print') for line in out.splitlines(): m = PARTED_ESP_PATTERN.match(line) if m: efi_part = m.group(1) LOG.debug(""Found efi partition %s on device %s."", efi_part, device) break else: LOG.debug(""No efi partition found on device %s"", device) return efi_part",,70,0
openstack%2Fdevstack-gate~master~Ib47af5f9fbb2f857b2b2f2d19e574f98a2fdf46e,openstack/devstack-gate,master,Ib47af5f9fbb2f857b2b2f2d19e574f98a2fdf46e,Stop installing g-api on subnodes,ABANDONED,2020-01-17 17:15:25.000000000,2020-01-23 09:25:30.000000000,,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-17 17:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f30007abbc3d88bf2d38a1593d8655481264e40a', 'message': ""Stop installing g-api on subnodes\n\nSince DevStack change I5477c8769ff4ae151d4d6ccb5e5d8dd5788909b0,\nthe decision on whether to initialize glance depends on whether *either*\ng-api or g-reg is enabled rather than (the deprecated) g-reg. This broke\nmultinode glance deployments with a singlenode database backend because\nwe were attempting to install g-api on a subnode without installing a\ndatabase there. That change was introduced with change\nI3f69845c7202d06539e1c221965dce41698e0207 in order to test glance\nmultinode deployments and there doesn't appear to be any other reason to\ndo this. Given the multinode job itself is experimental in glance [1],\nwe can and probably should just stop doing this.\n\n[1] https://opendev.org/openstack/glance/src/commit/2291fe673ec2f875bfc4c49e8ee487c074f1b027/.zuul.yaml#L277\n\nChange-Id: Ib47af5f9fbb2f857b2b2f2d19e574f98a2fdf46e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-bug: #1860021\n""}, {'number': 2, 'created': '2020-01-17 17:19:18.000000000', 'files': ['test-features.sh', 'roles/test-matrix/files/features.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/43639aa3205d58656efd5b2c53e74af4a1b4657f', 'message': ""Stop installing g-api on subnodes\n\nSince DevStack change I5477c8769ff4ae151d4d6ccb5e5d8dd5788909b0,\nthe decision on whether to initialize glance depends on whether *either*\ng-api or g-reg is enabled rather than (the deprecated) g-reg. This broke\nmultinode glance deployments with a singlenode database backend because\nwe were attempting to install g-api on a subnode without installing a\ndatabase there. That change was introduced with change\nI3f69845c7202d06539e1c221965dce41698e0207 in order to test glance\nmultinode deployments and there doesn't appear to be any other reason to\ndo this. Given the multinode job itself is experimental in glance [1],\nwe can and probably should just stop doing this.\n\n[1] https://opendev.org/openstack/glance/src/commit/2291fe673ec2f875bfc4c49e8ee487c074f1b027/.zuul.yaml#L277\n\nChange-Id: Ib47af5f9fbb2f857b2b2f2d19e574f98a2fdf46e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-bug: #1860021\n""}]",0,703129,43639aa3205d58656efd5b2c53e74af4a1b4657f,4,3,2,15334,,,0,"Stop installing g-api on subnodes

Since DevStack change I5477c8769ff4ae151d4d6ccb5e5d8dd5788909b0,
the decision on whether to initialize glance depends on whether *either*
g-api or g-reg is enabled rather than (the deprecated) g-reg. This broke
multinode glance deployments with a singlenode database backend because
we were attempting to install g-api on a subnode without installing a
database there. That change was introduced with change
I3f69845c7202d06539e1c221965dce41698e0207 in order to test glance
multinode deployments and there doesn't appear to be any other reason to
do this. Given the multinode job itself is experimental in glance [1],
we can and probably should just stop doing this.

[1] https://opendev.org/openstack/glance/src/commit/2291fe673ec2f875bfc4c49e8ee487c074f1b027/.zuul.yaml#L277

Change-Id: Ib47af5f9fbb2f857b2b2f2d19e574f98a2fdf46e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-bug: #1860021
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/29/703129/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/test-matrix/files/features.yaml'],1,f30007abbc3d88bf2d38a1593d8655481264e40a,bug/702960, services: [], services: [g-api],1,1
openstack%2Fmistral~master~I888008ac8f9c12bd92a9bd72bd7c276a11827847,openstack/mistral,master,I888008ac8f9c12bd92a9bd72bd7c276a11827847,Disable key sorting in workflow definition,MERGED,2019-02-13 10:08:23.000000000,2020-01-23 09:15:04.000000000,2020-01-23 09:13:06.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-02-13 10:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fbbc00e78ba222d9b5a43832c56da4d72debac19', 'message': ""Use yamlloader to preserve key order in dicts\n\nBy default, yaml library doesn't guarantee the key order in load and\ndump functions. It could be fixed by custom dict_representer\nand dict_constructor, but it would be very complicated to handle\nboth 2.7 and 3.x versions, so we could use yamlloader, which provides\nthis solution OOB.\n\nChange-Id: I888008ac8f9c12bd92a9bd72bd7c276a11827847\nCloses-Bug: #1815515\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}, {'number': 2, 'created': '2019-02-13 12:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8f306d063181489c0a2d7e5d374baa08010c964f', 'message': ""Use yamlloader to preserve key order in dicts\n\nBy default, yaml library doesn't guarantee the key order in load and\ndump functions. It could be fixed by custom dict_representer\nand dict_constructor, but it would be very complicated to handle\nboth 2.7 and 3.x versions, so we could use yamlloader, which provides\nthis solution OOB.\n\nChange-Id: I888008ac8f9c12bd92a9bd72bd7c276a11827847\nCloses-Bug: #1815515\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}, {'number': 3, 'created': '2020-01-16 22:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4f624af656a33fbccd2ddfd97f41bcf3f294b426', 'message': ""Disable key sorting in workflow definition\n\nUpdate to PyYAML 5.1 to be able to turn off key sorting\nin workflow definitions. We should not change user's data\nuntil user asks to.\n\nChange-Id: I888008ac8f9c12bd92a9bd72bd7c276a11827847\nCloses-Bug: #1815515\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}, {'number': 4, 'created': '2020-01-17 08:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b6b21ac12dac115a51877bfcda1986e3f8ed69a5', 'message': ""Disable key sorting in workflow definition\n\nUpdate to PyYAML 5.1 to be able to turn off key sorting\nin workflow definitions. We should not change user's data\nuntil user asks to.\n\nChange-Id: I888008ac8f9c12bd92a9bd72bd7c276a11827847\nCloses-Bug: #1815515\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}, {'number': 5, 'created': '2020-01-17 11:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/410ce0f524bd466a1d29bc870b27c02a729d6bd3', 'message': ""Disable key sorting in workflow definition\n\nUpdate to PyYAML 5.1 to be able to turn off key sorting\nin workflow definitions. We should not change user's data\nuntil user asks to.\n\nChange-Id: I888008ac8f9c12bd92a9bd72bd7c276a11827847\nCloses-Bug: #1815515\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}, {'number': 6, 'created': '2020-01-20 21:40:37.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'mistral/tests/unit/services/test_workflow_service.py', 'mistral/services/workflows.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c1c21d7cddca2f307e93f42b4758e64fcdf0a630', 'message': ""Disable key sorting in workflow definition\n\nUpdate to PyYAML 5.1 to be able to turn off key sorting\nin workflow definitions. We should not change user's data\nuntil user asks to.\n\nChange-Id: I888008ac8f9c12bd92a9bd72bd7c276a11827847\nCloses-Bug: #1815515\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}]",2,636583,c1c21d7cddca2f307e93f42b4758e64fcdf0a630,30,5,6,29124,,,0,"Disable key sorting in workflow definition

Update to PyYAML 5.1 to be able to turn off key sorting
in workflow definitions. We should not change user's data
until user asks to.

Change-Id: I888008ac8f9c12bd92a9bd72bd7c276a11827847
Closes-Bug: #1815515
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/83/636583/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'mistral/tests/unit/services/test_workflow_service.py', 'mistral/services/workflows.py']",3,fbbc00e78ba222d9b5a43832c56da4d72debac19,bug/1815515,"import yaml, yamlloader wfs_yaml = yaml.load( definition, Loader=yamlloader.ordereddict.CLoader ) wfs_yaml = yaml.load( definition, Loader=yamlloader.ordereddict.CLoader ) }, Dumper=yamlloader.ordereddict.CDumper)",import yaml wfs_yaml = yaml.load(definition) wfs_yaml = yaml.load(definition) }),38,4
openstack%2Fcontributor-guide~master~I257759e3867dd4e4c3301f1142ea8908dbb0da9b,openstack/contributor-guide,master,I257759e3867dd4e4c3301f1142ea8908dbb0da9b,Imported Translations from Zanata,MERGED,2020-01-23 08:47:31.000000000,2020-01-23 09:14:25.000000000,2020-01-23 09:10:59.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 08:47:31.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/d1153059b3f702b72ccbc63ab778affca2516b0e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I257759e3867dd4e4c3301f1142ea8908dbb0da9b\n'}]",0,703941,d1153059b3f702b72ccbc63ab778affca2516b0e,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I257759e3867dd4e4c3301f1142ea8908dbb0da9b
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/41/703941/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/id/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po']",2,d1153059b3f702b72ccbc63ab778affca2516b0e,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2020. #zanata""POT-Creation-Date: 2020-01-22 13:20+0000\n""""PO-Revision-Date: 2020-01-22 03:14+0000\n""""You can reference `Comparison of Official Group Structures page <https://"" ""governance.openstack.org/tc/reference/comparison-of-official-group-"" ""structures.html>`_ to see the difference between group structures."" msgstr """" ""Anda bisa referensi `Comparison of Official Group Structures page <https://"" ""governance.openstack.org/tc/reference/comparison-of-official-group-"" ""structures.html>`_ untuk melihat perbedaan antara struktur kelompok."" msgid """"","""POT-Creation-Date: 2019-10-28 15:46+0000\n""""PO-Revision-Date: 2019-11-06 02:29+0000\n""",18,4
openstack%2Fcookbook-openstack-identity~master~If876315001c8136fad654d7408ec9f656ef48775,openstack/cookbook-openstack-identity,master,If876315001c8136fad654d7408ec9f656ef48775,Upgrade python2-urllib3 on CentOS,MERGED,2020-01-23 00:13:12.000000000,2020-01-23 09:13:56.000000000,2020-01-23 09:13:56.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 00:13:12.000000000', 'files': ['attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/21255e36b4d930a69e50707c6f66c25fd1fadfb6', 'message': ""Upgrade python2-urllib3 on CentOS\n\nI've run into this issue on systems that already have python2-urllib3\ninstalled, but it's older than what gets installed from the RDO\nrepository and breaks the db sync for keystone. By adding it here, that\nwill ensure it's always upgraded before we try running db sync.\n\nChange-Id: If876315001c8136fad654d7408ec9f656ef48775\n""}]",0,703900,21255e36b4d930a69e50707c6f66c25fd1fadfb6,6,2,1,21961,,,0,"Upgrade python2-urllib3 on CentOS

I've run into this issue on systems that already have python2-urllib3
installed, but it's older than what gets installed from the RDO
repository and breaks the db sync for keystone. By adding it here, that
will ensure it's always upgraded before we try running db sync.

Change-Id: If876315001c8136fad654d7408ec9f656ef48775
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/00/703900/1 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,21255e36b4d930a69e50707c6f66c25fd1fadfb6,centos-python2-urllib3," 'keystone_packages' => ['openstack-keystone', 'openstack-selinux', 'python2-urllib3'],"," 'keystone_packages' => ['openstack-keystone', 'openstack-selinux'],",1,1
openstack%2Fkuryr-tempest-plugin~master~Ic4c262189c74a93383f5b5274b4ccc41bf542446,openstack/kuryr-tempest-plugin,master,Ic4c262189c74a93383f5b5274b4ccc41bf542446,Mark test_ipblock_network_policy_sg_rules as unstable,MERGED,2020-01-22 14:08:00.000000000,2020-01-23 08:56:23.000000000,2020-01-23 08:53:37.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-01-22 14:08:00.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ab729cd433d5aaca56e992f12c50516722e6b3a8', 'message': ""Mark test_ipblock_network_policy_sg_rules as unstable\n\nSeems like that test is critically unstable, I'm marking it as such to\nmake sure tests will be more forgiving.\n\nChange-Id: Ic4c262189c74a93383f5b5274b4ccc41bf542446\nRelated-Bug: 1860554\n""}]",0,703800,ab729cd433d5aaca56e992f12c50516722e6b3a8,11,5,1,11600,,,0,"Mark test_ipblock_network_policy_sg_rules as unstable

Seems like that test is critically unstable, I'm marking it as such to
make sure tests will be more forgiving.

Change-Id: Ic4c262189c74a93383f5b5274b4ccc41bf542446
Related-Bug: 1860554
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/00/703800/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_network_policy.py'],1,ab729cd433d5aaca56e992f12c50516722e6b3a8,unstable-ipblock, @decorators.unstable_test(bug=1860554),,1,0
openstack%2Fovsdbapp~master~Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad,openstack/ovsdbapp,master,Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad,[WIP] Make OVS/OVN path discovery unique across ovsdbapp and neutron,ABANDONED,2020-01-22 11:16:33.000000000,2020-01-23 08:53:39.000000000,,"[{'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-01-22 11:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/7d2e04e6d756054ec6c55f93fbe68d17a1656cde', 'message': 'Make OVS/OVN path discovery unique across ovsdbapp and neutron\n\nIn order to make functional tests passing on Neutron gates we\nneed to make OVN path discovery to be unique for both\nrepositories.\n\nWe have 4 path cases:\n1) OVN or OVS distribution (based on branch)\n2) installation in /usr/share or /usr/local/share\n\nThat makes 4 combinations. By default we prioritize OVN installation\nin /usr/local/share/ovn. If not found then it will lookup for schema files\nin /usr/local/share/openvswitch, then /usr/share/ovn and at the end\nin /usr/share/openvswitch. If NBDB or SBDB schema not found in one\ndir then it will raise proper exception.\n\nChange-Id: Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad\n'}, {'number': 2, 'created': '2020-01-22 11:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e4dfe7d167ba0963f5781eac08df10add35bf142', 'message': 'Make OVS/OVN path discovery unique across ovsdbapp and neutron\n\nIn order to make functional tests passing on Neutron gates we\nneed to make OVN path discovery to be unique for both\nrepositories.\n\nWe have 4 path cases:\n1) OVN or OVS distribution (based on branch)\n2) installation in /usr/share or /usr/local/share\n\nThat makes 4 combinations. By default we prioritize OVN installation\nin /usr/local/share/ovn. If not found then it will lookup for schema files\nin /usr/local/share/openvswitch, then /usr/share/ovn and at the end\nin /usr/share/openvswitch. If NBDB or SBDB schema not found in one\ndir then it will raise proper exception.\n\nChange-Id: Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad\n'}, {'number': 3, 'created': '2020-01-22 12:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/1916876bd20f70ac3c3216f96c0356546cdec2d4', 'message': 'Make OVS/OVN path discovery unique across ovsdbapp and neutron\n\nIn order to make functional tests passing on Neutron gates we\nneed to make OVN path discovery to be unique for both\nrepositories.\n\nWe have 4 path cases:\n1) OVN or OVS distribution (based on branch)\n2) installation in /usr/share or /usr/local/share\n\nThat makes 4 combinations. By default we prioritize OVN installation\nin /usr/local/share/ovn. If not found then it will lookup for schema files\nin /usr/local/share/openvswitch, then /usr/share/ovn and at the end\nin /usr/share/openvswitch. If NBDB or SBDB schema not found in one\ndir then it will raise proper exception.\n\nChange-Id: Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad\n'}, {'number': 4, 'created': '2020-01-22 12:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/752cba94dcba75356180944ad570dc5d9ea0fb36', 'message': '[WIP] Make OVS/OVN path discovery unique across ovsdbapp and neutron\n\nIn order to make functional tests passing on Neutron gates we\nneed to make OVN path discovery to be unique for both\nrepositories.\n\nWe have 4 path cases:\n1) OVN or OVS distribution (based on branch)\n2) installation in /usr/share or /usr/local/share\n\nThat makes 4 combinations. By default we prioritize OVN installation\nin /usr/local/share/ovn. If not found then it will lookup for schema files\nin /usr/local/share/openvswitch, then /usr/share/ovn and at the end\nin /usr/share/openvswitch. If NBDB or SBDB schema not found in one\ndir then it will raise proper exception.\n\nChange-Id: Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad\n'}, {'number': 5, 'created': '2020-01-22 21:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0c1051b3481b7bb92229200525ec18d3d9260bae', 'message': '[WIP] Make OVS/OVN path discovery unique across ovsdbapp and neutron\n\nIn order to make functional tests passing on Neutron gates we\nneed to make OVN path discovery to be unique for both\nrepositories.\n\nWe have 4 path cases:\n1) OVN or OVS distribution (based on branch)\n2) installation in /usr/share or /usr/local/share\n\nThat makes 4 combinations. By default we prioritize OVN installation\nin /usr/local/share/ovn. If not found then it will lookup for schema files\nin /usr/local/share/openvswitch, then /usr/share/ovn and at the end\nin /usr/share/openvswitch. If NBDB or SBDB schema not found in one\ndir then it will raise proper exception.\n\nChange-Id: Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad\n'}, {'number': 6, 'created': '2020-01-22 21:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/67fb78333fa1a4ab6012451a6ec19e6ccde72743', 'message': '[WIP] Make OVS/OVN path discovery unique across ovsdbapp and neutron\n\nIn order to make functional tests passing on Neutron gates we\nneed to make OVN path discovery to be unique for both\nrepositories.\n\nWe have 4 path cases:\n1) OVN or OVS distribution (based on branch)\n2) installation in /usr/share or /usr/local/share\n\nThat makes 4 combinations. By default we prioritize OVN installation\nin /usr/local/share/ovn. If not found then it will lookup for schema files\nin /usr/local/share/openvswitch, then /usr/share/ovn and at the end\nin /usr/share/openvswitch. If NBDB or SBDB schema not found in one\ndir then it will raise proper exception.\n\nChange-Id: Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad\n'}, {'number': 7, 'created': '2020-01-22 21:51:05.000000000', 'files': ['ovsdbapp/venv.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/4641022c46736b600f56b5d2ba281b0b31573d55', 'message': '[WIP] Make OVS/OVN path discovery unique across ovsdbapp and neutron\n\nIn order to make functional tests passing on Neutron gates we\nneed to make OVN path discovery to be unique for both\nrepositories.\n\nWe have 4 path cases:\n1) OVN or OVS distribution (based on branch)\n2) installation in /usr/share or /usr/local/share\n\nThat makes 4 combinations. By default we prioritize OVN installation\nin /usr/local/share/ovn. If not found then it will lookup for schema files\nin /usr/local/share/openvswitch, then /usr/share/ovn and at the end\nin /usr/share/openvswitch. If NBDB or SBDB schema not found in one\ndir then it will raise proper exception.\n\nChange-Id: Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad\n'}]",4,703771,4641022c46736b600f56b5d2ba281b0b31573d55,20,5,7,24791,,,0,"[WIP] Make OVS/OVN path discovery unique across ovsdbapp and neutron

In order to make functional tests passing on Neutron gates we
need to make OVN path discovery to be unique for both
repositories.

We have 4 path cases:
1) OVN or OVS distribution (based on branch)
2) installation in /usr/share or /usr/local/share

That makes 4 combinations. By default we prioritize OVN installation
in /usr/local/share/ovn. If not found then it will lookup for schema files
in /usr/local/share/openvswitch, then /usr/share/ovn and at the end
in /usr/share/openvswitch. If NBDB or SBDB schema not found in one
dir then it will raise proper exception.

Change-Id: Icfb33ea00e00d10943cb612cbe1f1f77f73c04ad
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/71/703771/4 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/venv.py'],1,7d2e04e6d756054ec6c55f93fbe68d17a1656cde,,"import errno OVS_DISTRIBUTION = 'openvswitch' OVN_DISTRIBUTION = 'ovn' OVN_SCHEMA_FILES = ['ovn-nb.ovsschema', 'ovn-sb.ovsschema'] lookup_paths = set() for installation in ['local', '']: for distribution in [OvsOvnVenvFixture.OVN_DISTRIBUTION, OvsOvnVenvFixture.OVS_DISTRIBUTION]: exists = True for ovn_file in OvsOvnVenvFixture.OVN_SCHEMA_FILES: path = os.path.join(os.path.sep, 'usr', installation, 'sharee', distribution, ovn_file) exists &= os.path.isfile(path) lookup_paths.add(os.path.dirname(path)) if exists: return os.path.dirname(path) msg = 'Either ovn-nb.ovsschema and/or ovn-sb.ovsschema are missing. ' msg += 'Looked for schemas in paths:' + ', '.join(sorted(lookup_paths)) raise FileNotFoundError( errno.ENOENT, os.strerror(errno.ENOENT), msg)"," path = os.path.join(const.OVN_INSTALL_SHARE_PATH, 'ovn-nb.ovsschema') if os.path.isfile(path): return const.OVN_INSTALL_SHARE_PATH return const.OVS_INSTALL_SHARE_PATH",21,4
openstack%2Ftripleo-heat-templates~master~I8911a79328769c910d03168cfa5a421d0dd0f9b6,openstack/tripleo-heat-templates,master,I8911a79328769c910d03168cfa5a421d0dd0f9b6,Set octavia services' stop grace period to 300sec,MERGED,2019-12-09 13:48:53.000000000,2020-01-23 08:38:30.000000000,2019-12-17 17:57:35.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-12-09 13:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85141e38ba5a70f1b84aa77663fa079020070ca7', 'message': ""Set octavia worker's stop grace period to 300sec\n\nOctavia workers may use some long taskflow's flows to handle load\nbalancers and amphorae (launch VMs, etc...). Those flows should not be\ninterrupted when restarting octavia worker services (i.e when updating\nan overcloud), because it might cause resource leaks that cannot be\nfixed by an admin.\n\nAs default container stop timeout is defined to 10 seconds, this timeout\nvalue needs to be increased for octavia worker service to ensure a\ngraceful shutdown.\nThis new value has been set to 300 seconds according to the octavia\nworker default configuration introduced in\nhttps://review.opendev.org/#/c/684201/\n\nCloses-Bug: #1855684\nChange-Id: I8911a79328769c910d03168cfa5a421d0dd0f9b6\n""}, {'number': 2, 'created': '2019-12-12 08:03:56.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c595835776eccbc2f59b69574f0aa5c3e87c9bd5', 'message': ""Set octavia services' stop grace period to 300sec\n\nOctavia worker, house-keeping and health-monitor serivices may use some\nlong taskflow's flows to handle load balancers and amphorae (launch VMs,\netc...). Those flows should not be interrupted when restarting those\nservices (i.e when updating an overcloud, or restarting services because\nof certificates rotation), it might cause resource leaks that cannot be\nfixed by an admin.\n\nAs default container stop timeout is defined to 10 seconds, this timeout\nvalue needs to be increased for octavia services (except octavia api) to\nensure a graceful shutdown.\nThis new value has been set to 300 seconds according to the octavia\nworker default configuration introduced in\nhttps://review.opendev.org/#/c/684201/\n\nCloses-Bug: #1855684\nChange-Id: I8911a79328769c910d03168cfa5a421d0dd0f9b6\n""}]",3,698014,c595835776eccbc2f59b69574f0aa5c3e87c9bd5,24,7,2,29244,,,0,"Set octavia services' stop grace period to 300sec

Octavia worker, house-keeping and health-monitor serivices may use some
long taskflow's flows to handle load balancers and amphorae (launch VMs,
etc...). Those flows should not be interrupted when restarting those
services (i.e when updating an overcloud, or restarting services because
of certificates rotation), it might cause resource leaks that cannot be
fixed by an admin.

As default container stop timeout is defined to 10 seconds, this timeout
value needs to be increased for octavia services (except octavia api) to
ensure a graceful shutdown.
This new value has been set to 300 seconds according to the octavia
worker default configuration introduced in
https://review.opendev.org/#/c/684201/

Closes-Bug: #1855684
Change-Id: I8911a79328769c910d03168cfa5a421d0dd0f9b6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/698014/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-worker-container-puppet.yaml'],1,85141e38ba5a70f1b84aa77663fa079020070ca7,, stop_grace_period: 300,,1,0
openstack%2Fnova~master~I7c56d5ecc1131c20324f41c83dc97f41e4628d4d,openstack/nova,master,I7c56d5ecc1131c20324f41c83dc97f41e4628d4d,Remove unused code,MERGED,2020-01-20 14:46:50.000000000,2020-01-23 08:37:35.000000000,2020-01-23 08:31:33.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-20 14:46:50.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bce30de28a1a023e8221133c7d74d9b823efe546', 'message': 'Remove unused code\n\nThis was missed in change Ie01ab1c3a1219f1d123f0ecedc66a00dfb2eb2c1.\n\nChange-Id: I7c56d5ecc1131c20324f41c83dc97f41e4628d4d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,703408,bce30de28a1a023e8221133c7d74d9b823efe546,33,8,1,15334,,,0,"Remove unused code

This was missed in change Ie01ab1c3a1219f1d123f0ecedc66a00dfb2eb2c1.

Change-Id: I7c56d5ecc1131c20324f41c83dc97f41e4628d4d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/703408/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/db/test_db_api.py']",2,bce30de28a1a023e8221133c7d74d9b823efe546,trivial,,"def _reservation_get(context, uuid): @sqlalchemy_api.pick_context_manager_reader def doit(context): return sqlalchemy_api.model_query( context, models.Reservation, read_deleted=""no"").filter_by( uuid=uuid).first() result = doit(context) if not result: raise exception.ReservationNotFound(uuid=uuid) return result ",0,18
openstack%2Fnova~master~I1222fc21bde4158df1db70370c7f3bd319ec081f,openstack/nova,master,I1222fc21bde4158df1db70370c7f3bd319ec081f,Func test for failed and aborted live migration,MERGED,2019-12-14 10:43:23.000000000,2020-01-23 08:35:04.000000000,2020-01-23 08:31:29.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-14 10:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64fad59465fb35875da1e69270666a42a8441921', 'message': 'Func test for abort and cancel live migration\n\nThe abort case covers the situation when the IntancePCIRequest cannot be\nupdated with the PF device names on the target host due to incorrect\nnaming of the device RPs in placement.\n\nThe cancel case covers when the API user cancels the running live\nmigration.\n\nChange-Id: I1222fc21bde4158df1db70370c7f3bd319ec081f\nblueprint: support-move-ops-with-qos-ports-ussuri\n'}, {'number': 2, 'created': '2019-12-19 13:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecf9d802a1e7805f626d8527accafcf4fc4aab5a', 'message': 'Func test for abort and cancel live migration\n\nThe abort case covers the situation when the IntancePCIRequest cannot be\nupdated with the PF device names on the target host due to incorrect\nnaming of the device RPs in placement.\n\nThe cancel case covers when the API user cancels the running live\nmigration.\n\nChange-Id: I1222fc21bde4158df1db70370c7f3bd319ec081f\nblueprint: support-move-ops-with-qos-ports-ussuri\n'}, {'number': 3, 'created': '2019-12-19 13:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e8b88a9b4e48a20a034a1439d65b995ab42f9f5', 'message': 'Func test for abort and cancel live migration\n\nThe abort case covers the situation when the IntancePCIRequest cannot be\nupdated with the PF device names on the target host due to incorrect\nnaming of the device RPs in placement.\n\nThe cancel case covers when the API user cancels the running live\nmigration.\n\nChange-Id: I1222fc21bde4158df1db70370c7f3bd319ec081f\nblueprint: support-move-ops-with-qos-ports-ussuri\n'}, {'number': 4, 'created': '2020-01-07 10:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6299157509ce2500cdcd45cdda8ec92766cc4d48', 'message': 'Func test for failed and aborted live migration\n\nThe failed case covers the situation when the IntancePCIRequest cannot be\nupdated with the PF device names on the target host due to incorrect\nnaming of the device RPs in placement.\n\nThe abort case covers when the API user cancels the running live\nmigration.\n\nChange-Id: I1222fc21bde4158df1db70370c7f3bd319ec081f\nblueprint: support-move-ops-with-qos-ports-ussuri\n'}, {'number': 5, 'created': '2020-01-21 13:39:25.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4eafc9d5b18445d0ceb7ae738625ae47d68438fa', 'message': 'Func test for failed and aborted live migration\n\nThe failed case covers the situation when the IntancePCIRequest cannot be\nupdated with the PF device names on the target host due to incorrect\nnaming of the device RPs in placement.\n\nThe abort case covers when the API user cancels the running live\nmigration.\n\nChange-Id: I1222fc21bde4158df1db70370c7f3bd319ec081f\nblueprint: support-move-ops-with-qos-ports-ussuri\n'}]",21,699065,4eafc9d5b18445d0ceb7ae738625ae47d68438fa,111,15,5,9708,,,0,"Func test for failed and aborted live migration

The failed case covers the situation when the IntancePCIRequest cannot be
updated with the PF device names on the target host due to incorrect
naming of the device RPs in placement.

The abort case covers when the API user cancels the running live
migration.

Change-Id: I1222fc21bde4158df1db70370c7f3bd319ec081f
blueprint: support-move-ops-with-qos-ports-ussuri
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/699065/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/test_servers.py']",2,64fad59465fb35875da1e69270666a42a8441921,bp/support-move-ops-with-qos-ports-ussuri," def test_live_migrate_with_qos_port_pci_update_fails(self): # TODO(gibi): remove this when live migration is fully supported and # therefore the check is removed from the api self._turn_off_api_check() # Update the name of the network device RP of PF2 on host2 to something # unexpected. This will cause # update_pci_request_spec_with_allocated_interface_name() to raise # when the instance is evacuated to the host2. rsp = self.placement_api.put( '/resource_providers/%s' % self.sriov_dev_rp_per_host[self.compute2_rp_uuid][self.PF2], {""name"": ""invalid-device-rp-name""}) self.assertEqual(200, rsp.status) non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports( non_qos_normal_port, qos_normal_port, qos_sriov_port) # check that the server allocates from the current host properly self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) self.api.post_server_action( server['id'], { 'os-migrateLive': { 'host': None, 'block_migration': 'auto' } } ) # pci update will fail after scheduling to host2 self._wait_for_migration_status(server, ['error']) server = self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host1', 'status': 'ERROR'}) self.assertIn( 'does not have a properly formatted name', server['fault']['message']) self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) class LiveMigrateAbortWithPortResourceRequestTest( PortResourceRequestBasedSchedulingTestBase): compute_driver = ""fake.FakeLiveMigrateDriverWithPciResources"" def setUp(self): # Use our custom weigher defined above to make sure that we have # a predictable host order in the alternate list returned by the # scheduler for migration. self.useFixture(nova_fixtures.HostNameWeigherFixture()) super(LiveMigrateAbortWithPortResourceRequestTest, self).setUp() self.compute2 = self._start_compute('host2') self.compute2_rp_uuid = self._get_provider_uuid_by_host('host2') self._create_networking_rp_tree('host2', self.compute2_rp_uuid) self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] def test_live_migrate_with_qos_port_cancel_migration(self): # TODO(gibi): remove this when live migration is fully supported and # therefore the check is removed from the api self._turn_off_api_check() non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports( non_qos_normal_port, qos_normal_port, qos_sriov_port) # check that the server allocates from the current host properly self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) # The special virt drive will keep the live migration running until it # is cancelled. self.api.post_server_action( server['id'], { 'os-migrateLive': { 'host': None, 'block_migration': 'auto' } } ) # wait for the migration to start migration = self._wait_for_migration_status(server, ['running']) # delete the migration to cancel it self.api.delete_migration(server['id'], migration['id']) self._wait_for_migration_status(server, ['cancelled']) self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host1', 'status': 'ACTIVE'}) self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port)", # TODO(gibi): add tests for live migration cases: # * abort / cancel -> dest / pci request cleanup?,130,2
openstack%2Fironic-lib~master~Ied7ee2e3418673de7c2c9fa6f8407350d6b3314c,openstack/ironic-lib,master,Ied7ee2e3418673de7c2c9fa6f8407350d6b3314c,Include rootwrap.d/ironic-lib.filters in package,MERGED,2020-01-22 09:41:43.000000000,2020-01-23 08:26:54.000000000,2020-01-23 08:22:48.000000000,"[{'_account_id': 6618}, {'_account_id': 7102}, {'_account_id': 9963}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-22 09:41:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/bcded1f73f822a0672ca54a43426d871316eb284', 'message': 'Include rootwrap.d/ironic-lib.filters in package\n\nThe file was added to sources but not to setup.cfg which controls\nwhich files are included in the wheel build.\n\nChange-Id: Ied7ee2e3418673de7c2c9fa6f8407350d6b3314c\nStory: 2006604\nTask: 36772\n'}]",0,703750,bcded1f73f822a0672ca54a43426d871316eb284,10,5,1,20312,,,0,"Include rootwrap.d/ironic-lib.filters in package

The file was added to sources but not to setup.cfg which controls
which files are included in the wheel build.

Change-Id: Ied7ee2e3418673de7c2c9fa6f8407350d6b3314c
Story: 2006604
Task: 36772
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/50/703750/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bcded1f73f822a0672ca54a43426d871316eb284,rootwrap-filters-inc,data_files = etc/ironic/rootwrap.d = etc/ironic/rootwrap.d/*,,2,0
openstack%2Ffreezer-api~master~I036aa636f4c134114f7a0006a46548dd1ac872cd,openstack/freezer-api,master,I036aa636f4c134114f7a0006a46548dd1ac872cd,Update freezer-api gate&check ci job,MERGED,2020-01-23 01:06:58.000000000,2020-01-23 08:21:18.000000000,2020-01-23 08:21:18.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 01:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/0c602eb29a3b1e2704bdc065ad71678a51042276', 'message': 'update freezer-ubuntu job\n\nChange-Id: I036aa636f4c134114f7a0006a46548dd1ac872cd\n'}, {'number': 2, 'created': '2020-01-23 02:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b93e7d79f55c95ac8803b6e9422e0d0f14529d57', 'message': 'Update freezer-api gate&check ci job\n\nUpdate freezer-api gate&check ci jobs.\n\nChange-Id: I036aa636f4c134114f7a0006a46548dd1ac872cd\n'}, {'number': 3, 'created': '2020-01-23 04:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/50dcff98898a41bce384012128b803267b30934f', 'message': 'Update freezer-api gate&check ci job\n\nUpdate freezer-api gate&check ci jobs.\n\nChange-Id: I036aa636f4c134114f7a0006a46548dd1ac872cd\n'}, {'number': 4, 'created': '2020-01-23 06:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b663587e10ce0a042e474f67b662fc0f60fa9277', 'message': 'Update freezer-api gate&check ci job\n\nUpdate freezer-api gate&check ci jobs.\n\nChange-Id: I036aa636f4c134114f7a0006a46548dd1ac872cd\n'}, {'number': 5, 'created': '2020-01-23 06:40:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/9ae4a7c5779a410cf4eae3070a87b5592de08892', 'message': 'Update freezer-api gate&check ci job\n\nUpdate freezer-api gate&check ci jobs.\n\nChange-Id: I036aa636f4c134114f7a0006a46548dd1ac872cd\n'}]",2,703905,9ae4a7c5779a410cf4eae3070a87b5592de08892,14,2,5,21069,,,0,"Update freezer-api gate&check ci job

Update freezer-api gate&check ci jobs.

Change-Id: I036aa636f4c134114f7a0006a46548dd1ac872cd
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/05/703905/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0c602eb29a3b1e2704bdc065ad71678a51042276,, parent: devstack-tempest, parent: legacy-dsvm-base,1,1
openstack%2Fproject-config~master~Ied44590c6260691a738ed105f8da0f4765b6c162,openstack/project-config,master,Ied44590c6260691a738ed105f8da0f4765b6c162,Set root mount options on debian buster image,MERGED,2020-01-22 23:07:11.000000000,2020-01-23 07:58:06.000000000,2020-01-23 07:58:05.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 23:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6fd917c713ae997c1ca72d9366c6302443f27888', 'message': ""Set root mount options on debian buster image\n\nThis is an attempt to get better fs IO performance out of our images.\nStart with this on the buster image as this gives us a low impact test\nif things go wrong, but also provides a system similar ish to ubuntu.\n\nSpecifically we disable barriers and set noatime as we don't care about\ndata reliability after crashes on our test nodes (they are single use)\nand atime shouldn't matter for our CI system.\n\nChange-Id: Ied44590c6260691a738ed105f8da0f4765b6c162\n""}, {'number': 2, 'created': '2020-01-22 23:12:17.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ea83aa93cd14540d01ab27fb39937cb1c059216', 'message': ""Set root mount options on debian buster image\n\nThis is an attempt to get better fs IO performance out of our images.\nStart with this on the buster image as this gives us a low impact test\nif things go wrong, but also provides a system similar ish to ubuntu.\n\nSpecifically we disable barriers and set noatime as we don't care about\ndata reliability after crashes on our test nodes (they are single use)\nand atime shouldn't matter for our CI system.\n\nChange-Id: Ied44590c6260691a738ed105f8da0f4765b6c162\n""}]",1,703895,8ea83aa93cd14540d01ab27fb39937cb1c059216,8,3,2,4146,,,0,"Set root mount options on debian buster image

This is an attempt to get better fs IO performance out of our images.
Start with this on the buster image as this gives us a low impact test
if things go wrong, but also provides a system similar ish to ubuntu.

Specifically we disable barriers and set noatime as we don't care about
data reliability after crashes on our test nodes (they are single use)
and atime shouldn't matter for our CI system.

Change-Id: Ied44590c6260691a738ed105f8da0f4765b6c162
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/703895/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,6fd917c713ae997c1ca72d9366c6302443f27888,set-fs-options," DIB_BLOCK_DEVICE_CONFIG: | - local_loop: name: image0 mkfs: name: mkfs_root mount: mount_point: / fstab: options: ""defaults,nobarrier,noatime"" fsck-passno: 1",,10,0
openstack%2Fopenstack-manuals~master~I967d35210d1c4df11906426f9b7a602ed0dff329,openstack/openstack-manuals,master,I967d35210d1c4df11906426f9b7a602ed0dff329,Imported Translations from Zanata,MERGED,2020-01-23 06:26:26.000000000,2020-01-23 07:38:47.000000000,2020-01-23 07:13:55.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 06:26:26.000000000', 'files': ['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/294a63d3f027f51caf780ffa7cee628415d2534c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I967d35210d1c4df11906426f9b7a602ed0dff329\n'}]",0,703919,294a63d3f027f51caf780ffa7cee628415d2534c,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I967d35210d1c4df11906426f9b7a602ed0dff329
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/19/703919/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po']",2,294a63d3f027f51caf780ffa7cee628415d2534c,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2020. #zanata""POT-Creation-Date: 2020-01-17 07:48+0000\n""""PO-Revision-Date: 2020-01-22 04:06+0000\n""""Each OpenStack release has a code name. Code names ascend in alphabetical "" ""order: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, Rocky, "" ""Stein, Train, Ussuri, and Victoria. Code names are cities or counties near "" ""where the corresponding OpenStack design summit took place. An exception, "" ""called the Waldon exception, is granted to elements of the state flag that "" ""sound especially cool. Code names are chosen by popular vote."" msgstr """" ""Setiap rilis OpenStack memiliki nama kode. Nama kode naik dalam urutan "" ""abjad: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, Rocky, "" ""Stein, Kereta, Ussuri, dan Victoria. Nama kode adalah kota atau kabupaten di "" ""dekat tempat pertemuan puncak desain OpenStack yang sesuai. Pengecualian, "" ""yang disebut pengecualian Waldon, diberikan kepada elemen bendera negara "" ""yang terdengar sangat keren. Nama kode dipilih dengan suara populer."" msgid """"msgid """" ""The code name for the twenty second release of OpenStack. The OpenStack "" ""Infrastructure Summit took place in Vancouver, British Columbia, Canada. The "" ""release is named after Victoria, the capital city of British Columbia."" msgstr """" ""Nama kode untuk rilis OpenStack dua puluh detik. KTT Infrastruktur OpenStack "" ""berlangsung di Vancouver, British Columbia, Kanada. Rilis ini dinamai "" ""setelah Victoria, ibu kota British Columbia."" msgid ""Victoria"" msgstr ""Victoria"" ","""POT-Creation-Date: 2020-01-15 15:41+0000\n""""PO-Revision-Date: 2019-09-03 04:37+0000\n""",60,4
openstack%2Fopenstack-ansible-os_tempest~master~Ia7835491a967c1831f64213ba1b42779136a87da,openstack/openstack-ansible-os_tempest,master,Ia7835491a967c1831f64213ba1b42779136a87da,Fix mixed plugin install vars,MERGED,2020-01-22 18:01:58.000000000,2020-01-23 06:53:16.000000000,2020-01-22 23:53:24.000000000,"[{'_account_id': 15993}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-22 18:01:58.000000000', 'files': ['tasks/tempest_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/877554ae11c3d0605f8d3febec49d10925611de4', 'message': 'Fix mixed plugin install vars\n\nThe var tempest_mixed_setup was previously renamed tempest_plugin_install_source\nbut a couple of usages were missed. Correct this.\n\nChange-Id: Ia7835491a967c1831f64213ba1b42779136a87da\n'}]",0,703853,877554ae11c3d0605f8d3febec49d10925611de4,10,4,1,25023,,,0,"Fix mixed plugin install vars

The var tempest_mixed_setup was previously renamed tempest_plugin_install_source
but a couple of usages were missed. Correct this.

Change-Id: Ia7835491a967c1831f64213ba1b42779136a87da
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/53/703853/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_install_source.yml'],1,877554ae11c3d0605f8d3febec49d10925611de4,mixed-fix," virtualenv: ""{{ tempest_plugin_install_source | ternary(omit, tempest_venv_bin | dirname) }}"" virtualenv_site_packages: ""{{ tempest_plugin_install_source | ternary(omit, 'no') }}"""," virtualenv: ""{{ tempest_mixed_setup | ternary(omit, tempest_venv_bin | dirname) }}"" virtualenv_site_packages: ""{{ tempest_mixed_setup | ternary(omit, 'no') }}""",2,2
openstack%2Ftripleo-ansible~master~Ie899714aca49781ccd240bb259901d76f177d2ae,openstack/tripleo-ansible,master,Ie899714aca49781ccd240bb259901d76f177d2ae,Replace all references to the old role name,MERGED,2020-01-20 16:15:44.000000000,2020-01-23 04:09:44.000000000,2020-01-23 04:09:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-20 16:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5a0a242567c2114fbcec8fc2e97100e576bd754', 'message': 'Replace all references to the old role name\n\nThis change replaces all of the roles references in our various files with the\nnew role name. This is being done because Ansible no longer allows hyphens in\nrole names.\n\nChange-Id: Ie899714aca49781ccd240bb259901d76f177d2ae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-20 16:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4eb41e07ba74c3718e38d6b04b8040fb5aa2f46d', 'message': 'Replace all references to the old role name\n\nThis change replaces all of the roles references in our various files with the\nnew role name. This is being done because Ansible no longer allows hyphens in\nrole names.\n\nChange-Id: Ie899714aca49781ccd240bb259901d76f177d2ae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-01-20 17:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98f6ac261b37313c22a4e4a9af2632fd6320137f', 'message': 'Replace all references to the old role name\n\nThis change replaces all of the roles references in our various files with the\nnew role name. This is being done because Ansible no longer allows hyphens in\nrole names.\n\nChange-Id: Ie899714aca49781ccd240bb259901d76f177d2ae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-01-20 20:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4a25a83945aeeef0fa79ca18608fb85b05d3777', 'message': 'Replace all references to the old role name\n\nThis change replaces all of the roles references in our various files with the\nnew role name. This is being done because Ansible no longer allows hyphens in\nrole names.\n\nChange-Id: Ie899714aca49781ccd240bb259901d76f177d2ae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-01-22 02:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a95fe9acdb5b6091216f051b4d43eb1452a0b506', 'message': 'Replace all references to the old role name\n\nThis change replaces all of the roles references in our various files with the\nnew role name. This is being done because Ansible no longer allows hyphens in\nrole names.\n\nChange-Id: Ie899714aca49781ccd240bb259901d76f177d2ae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-01-22 11:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e2cfc977517684fe1fa6928fe58e1dd9ff07dc06', 'message': 'Replace all references to the old role name\n\nThis change replaces all of the roles references in our various files with the\nnew role name. This is being done because Ansible no longer allows hyphens in\nrole names.\n\nChange-Id: Ie899714aca49781ccd240bb259901d76f177d2ae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-01-22 12:06:25.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/playbook.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/meta/main.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/login_defs/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_config/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/meta/main.yml', 'tripleo_ansible/roles/backup_and_restore/templates/rescue.conf.j2', 'tripleo_ansible/roles/backup_and_restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/playbook.yml', 'tripleo_ansible/playbooks/create-nova-cell-v2.yaml', 'tripleo_ansible/roles/tripleo_hosts_entries/meta/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/meta/main.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/meta/main.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/roles/tripleo_timezone/meta/main.yml', 'tripleo_ansible/roles/backup_and_restore/templates/local.conf.j2', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_create_admin/meta/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/install_pkgs.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/meta/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/playbook.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/clouds.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_bootstrap/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_transfer/meta/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/meta/main.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/meta/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/templates/exports.j2', 'tripleo_ansible/roles/tripleo_systemd_wrapper/meta/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/playbook.yml', 'tripleo_ansible/roles/login_defs/meta/main.yml', 'tripleo_ansible/roles/tripleo_securetty/meta/main.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/playbook.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/playbook.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/meta/main.yml', 'tripleo_ansible/roles/tripleo_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/meta/main.yml', 'tripleo_ansible/roles/tripleo_firewall/meta/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/external_upgrade.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/meta/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_clients_install/meta/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/playbook.yml', 'tripleo_ansible/playbooks/docker-vfs-setup.yml', 'tripleo_ansible/roles/octavia_overcloud_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/meta/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/playbook.yml', 'tripleo_ansible/roles/login_defs/tasks/main.yml', 'tripleo_ansible/playbooks/ceph.yaml', 'tripleo_ansible/roles/tripleo_container_manage/meta/main.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/meta/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/defaults/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/meta/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/meta/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4c2d54e95ca899944101fd45406cf23da0ae8522', 'message': 'Replace all references to the old role name\n\nThis change replaces all of the roles references in our various files with the\nnew role name. This is being done because Ansible no longer allows hyphens in\nrole names.\n\nChange-Id: Ie899714aca49781ccd240bb259901d76f177d2ae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,703441,4c2d54e95ca899944101fd45406cf23da0ae8522,33,8,7,7353,,,0,"Replace all references to the old role name

This change replaces all of the roles references in our various files with the
new role name. This is being done because Ansible no longer allows hyphens in
role names.

Change-Id: Ie899714aca49781ccd240bb259901d76f177d2ae
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/703441/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/playbook.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/meta/main.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/login_defs/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_config/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/meta/main.yml', 'tripleo_ansible/roles/backup_and_restore/templates/rescue.conf.j2', 'tripleo_ansible/roles/backup_and_restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/playbook.yml', 'tripleo_ansible/playbooks/create-nova-cell-v2.yaml', 'tripleo_ansible/roles/tripleo_hosts_entries/meta/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/meta/main.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/meta/main.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/roles/tripleo_timezone/meta/main.yml', 'tripleo_ansible/roles/backup_and_restore/templates/local.conf.j2', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_create_admin/meta/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/install_pkgs.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/meta/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/playbook.yml', 'tripleo_ansible/roles/tripleo_persist/defaults/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/clouds.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_bootstrap/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_transfer/meta/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/meta/main.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/meta/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/templates/exports.j2', 'tripleo_ansible/roles/tripleo_systemd_wrapper/meta/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/playbook.yml', 'tripleo_ansible/roles/login_defs/meta/main.yml', 'tripleo_ansible/roles/tripleo_securetty/meta/main.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/playbook.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/playbook.yml', 'tripleo_ansible/roles/tripleo_persist/tasks/persist.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/meta/main.yml', 'tripleo_ansible/roles/tripleo_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/meta/main.yml', 'tripleo_ansible/roles/tripleo_firewall/meta/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/external_upgrade.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/meta/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_clients_install/meta/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/playbook.yml', 'tripleo_ansible/playbooks/docker-vfs-setup.yml', 'tripleo_ansible/roles/octavia_overcloud_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/playbook.yml', 'tripleo_ansible/roles/login_defs/tasks/main.yml', 'tripleo_ansible/playbooks/ceph.yaml', 'tripleo_ansible/roles/tripleo_container_manage/meta/main.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/meta/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/modules/paunch.py', 'tripleo_ansible/roles/tripleo_container_image_prepare/meta/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/defaults/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/meta/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/meta/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/playbook.yml']",152,e5a0a242567c2114fbcec8fc2e97100e576bd754,renaming-all-the-things," - role: ""tripleo_firewall"""," - role: ""tripleo-firewall""",205,205
openstack%2Fdevstack~stable%2Frocky~I4557a737cb13b9c2406056be08ab8a32ddd45162,openstack/devstack,stable/rocky,I4557a737cb13b9c2406056be08ab8a32ddd45162,do not gzip legacy service logs,MERGED,2020-01-22 01:27:00.000000000,2020-01-23 03:38:39.000000000,2020-01-23 03:38:39.000000000,"[{'_account_id': 7118}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 01:27:00.000000000', 'files': ['roles/export-devstack-journal/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c97d29054e2ef82fceca298056be649302cb2c0c', 'message': 'do not gzip legacy service logs\n\nThis change removes the .gz extension from the\nservice and syslog logs exported via journalctl.\nThis change nolonger gzip compresses the exported\nlogs so that they can be rendered in the browser\ndirectly when served from swift.\n\nConflicts:\n    roles/export-devstack-journal/tasks/main.yaml\n\nChange-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162\n(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)\n'}]",0,703716,c97d29054e2ef82fceca298056be649302cb2c0c,9,4,1,8556,,,0,"do not gzip legacy service logs

This change removes the .gz extension from the
service and syslog logs exported via journalctl.
This change nolonger gzip compresses the exported
logs so that they can be rendered in the browser
directly when served from swift.

Conflicts:
    roles/export-devstack-journal/tasks/main.yaml

Change-Id: I4557a737cb13b9c2406056be08ab8a32ddd45162
(cherry picked from commit d02fa6f856ac5951b8a879c23b57d5a752f28918)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/16/703716/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/export-devstack-journal/tasks/main.yaml'],1,c97d29054e2ef82fceca298056be649302cb2c0c,, journalctl -o short-precise --unit $u > {{ stage_dir }}/logs/$name.txt > {{ stage_dir }}/logs/syslog.txt, journalctl -o short-precise --unit $u | gzip - > {{ stage_dir }}/logs/$name.txt.gz | gzip - > {{ stage_dir }}/logs/syslog.txt.gz,2,2
openstack%2Frequirements~master~Ifde31a76818524fe41f07b27f497972707381263,openstack/requirements,master,Ifde31a76818524fe41f07b27f497972707381263,update constraint for tempest to new release 23.0.0,MERGED,2020-01-22 19:50:56.000000000,2020-01-23 03:16:14.000000000,2020-01-23 03:14:41.000000000,"[{'_account_id': 8556}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 19:50:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/554cc4b8601d0f53984f515235f58b59f309aa1f', 'message': 'update constraint for tempest to new release 23.0.0\n\nChange-Id: Ifde31a76818524fe41f07b27f497972707381263\nmeta:version: 23.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Ghanshyam <gmann@ghanshyammann.com>\nmeta:release:Commit: Ghanshyam <gmann@ghanshyammann.com>\nmeta:release:Change-Id: Ie7481aa19e7493082233ef65f8759de41460898b\nmeta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta:release:Code-Review+1: Chandan Kumar (raukadah) <chkumar@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,703863,554cc4b8601d0f53984f515235f58b59f309aa1f,8,3,1,11904,,,0,"update constraint for tempest to new release 23.0.0

Change-Id: Ifde31a76818524fe41f07b27f497972707381263
meta:version: 23.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Ghanshyam <gmann@ghanshyammann.com>
meta:release:Commit: Ghanshyam <gmann@ghanshyammann.com>
meta:release:Change-Id: Ie7481aa19e7493082233ef65f8759de41460898b
meta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta:release:Code-Review+1: Chandan Kumar (raukadah) <chkumar@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/703863/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,554cc4b8601d0f53984f515235f58b59f309aa1f,new-release,tempest===23.0.0,tempest===22.1.0,1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Ib2ce04625faddd6ed263678bad2f4eb10929a520,openstack/networking-ovn,stable/train,Ib2ce04625faddd6ed263678bad2f4eb10929a520,Don't send malformed status update to Octavia,MERGED,2020-01-17 15:03:36.000000000,2020-01-23 03:05:46.000000000,2020-01-23 03:03:55.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-01-17 15:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/df1043ce6b94d4ee0458a106e3dd7690ce09a951', 'message': ""Don't send malformed status update to Octavia\n\nIn some corner cases while updating a member OVN\nProvider Driver sends a malformed status update\nto Octavia that breaks the update operation and\nresources stuck in PENDING_UPDATE state.\n\nIn OVN while resource is administratively disabled\nwe suffix its ID with string ':D'.\nThis patch filters this string from resources ID\nbefore send Octavia status update.\n\nBecause for now we don't have runnig master branch\nfor OVN provider driver this change will be applied\nfirst on stable/train and then cherry-picked.\n\nChange-Id: Ib2ce04625faddd6ed263678bad2f4eb10929a520\nCloses-Bug: #1860140\n""}, {'number': 2, 'created': '2020-01-17 18:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9b4de23897e8c3a912872cd62733f63e6d36e05a', 'message': ""Don't send malformed status update to Octavia\n\nIn some corner cases while updating a member, OVN\nProvider Driver sends a malformed status update\nto Octavia that breaks the update operation and\nresources stuck in PENDING_UPDATE state.\n\nIn OVN while resource is administratively disabled\nwe suffix its ID with string ':D'.\nThis patch filters this string from resources ID\nbefore sending Octavia a status update.\n\nBecause for now we don't have running master branch\nfor OVN provider driver this change will be applied\nfirst on stable/train and then cherry-picked.\n\nChange-Id: Ib2ce04625faddd6ed263678bad2f4eb10929a520\nCloses-Bug: #1860140\n""}, {'number': 3, 'created': '2020-01-21 10:27:10.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/698077530b88b6237bcee91fc0021563eb129f3b', 'message': ""Don't send malformed status update to Octavia\n\nIn some corner cases while updating a member, OVN\nProvider Driver sends a malformed status update\nto Octavia that breaks the update operation and\nresources stuck in PENDING_UPDATE state.\n\nIn OVN while resource is administratively disabled\nwe suffix its ID with string ':D'.\nThis patch filters this string from resources ID\nbefore sending Octavia a status update.\n\nBecause for now we don't have running master branch\nfor OVN provider driver this change will be applied\nfirst on stable/train and then cherry-picked.\n\nChange-Id: Ib2ce04625faddd6ed263678bad2f4eb10929a520\nCloses-Bug: #1860140\n""}]",3,703097,698077530b88b6237bcee91fc0021563eb129f3b,35,6,3,24791,,,0,"Don't send malformed status update to Octavia

In some corner cases while updating a member, OVN
Provider Driver sends a malformed status update
to Octavia that breaks the update operation and
resources stuck in PENDING_UPDATE state.

In OVN while resource is administratively disabled
we suffix its ID with string ':D'.
This patch filters this string from resources ID
before sending Octavia a status update.

Because for now we don't have running master branch
for OVN provider driver this change will be applied
first on stable/train and then cherry-picked.

Change-Id: Ib2ce04625faddd6ed263678bad2f4eb10929a520
Closes-Bug: #1860140
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/97/703097/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,df1043ce6b94d4ee0458a106e3dd7690ce09a951,bug/1860140," def test__delete_disabled_from_status(self): f = self.helper._delete_disabled_from_status status = { 'pools': [ {'id': 'f', 'provisioning_status': 'ACTIVE', 'operating_status': 'ONLINE'}], 'members': [ {'id': 'foo:D', 'provisioning_status': 'ACTIVE'}]} expected = { 'pools': [ {'id': 'f', 'provisioning_status': 'ACTIVE', 'operating_status': 'ONLINE'}], 'members': [ {'id': 'foo', 'provisioning_status': 'ACTIVE'}]} self.assertEqual(f(status), expected) self.assertEqual(f(expected), expected) status = {} self.assertEqual(f(status), {}) ",,32,0
openstack%2Ftripleo-ansible~master~I309d52eb424a73bd04af167a2a7411ba3bf35674,openstack/tripleo-ansible,master,I309d52eb424a73bd04af167a2a7411ba3bf35674,Update cli playbooks with new pattern,MERGED,2020-01-21 15:38:10.000000000,2020-01-23 02:47:46.000000000,2020-01-23 02:47:46.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-21 15:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c5fa8c6819af333cab121e5e32537e52bde2d28', 'message': ""Update cli backup playbook with new pattern\n\nThis change updates our cli backup playbook with a new high-level pattern\nwhich will ensure we're able to run commands both locally and remotely.\n\nChange-Id: I309d52eb424a73bd04af167a2a7411ba3bf35674\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-01-21 19:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b72007cc9aba98a84fdb89fc5247b668dd27e08f', 'message': ""Update cli backup playbook with new pattern\n\nThis change updates our cli playbooks with a new high-level pattern\nwhich will ensure we're able to run commands both locally and remotely.\n\nChange-Id: I309d52eb424a73bd04af167a2a7411ba3bf35674\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2020-01-21 19:20:44.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/playbooks/cli-overcloud-node-provide.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b3f7318047ccceab8caa655f10b4d8309b95d599', 'message': ""Update cli playbooks with new pattern\n\nThis change updates our cli playbooks with a new high-level pattern\nwhich will ensure we're able to run commands both locally and remotely.\n\nChange-Id: I309d52eb424a73bd04af167a2a7411ba3bf35674\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,703643,b3f7318047ccceab8caa655f10b4d8309b95d599,19,6,3,7353,,,0,"Update cli playbooks with new pattern

This change updates our cli playbooks with a new high-level pattern
which will ensure we're able to run commands both locally and remotely.

Change-Id: I309d52eb424a73bd04af167a2a7411ba3bf35674
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/703643/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-undercloud-backup.yaml'],1,7c5fa8c6819af333cab121e5e32537e52bde2d28,mistral_to_ansible," connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_target_host | default('localhost') }}"" remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" gather_facts: ""{{ (tripleo_target_host is defined) | ternary(true, false) }}"" vars: sources_path: ""{{ lookup('env', 'HOME') }}"" chown {{ lookup('env', 'USER') }} {{ fs_path }}", hosts: undercloud gather_facts: false max_fail_percentage: 0 vars: sources_path: '/home/stack/' chown stack. {{ fs_path }},6,5
openstack%2Fswift~master~Ied382022744d8a2b4fc18d4323296fb02f232f96,openstack/swift,master,Ied382022744d8a2b4fc18d4323296fb02f232f96,container-sync: Stop continuing to update sync point 2 after failures,NEW,2020-01-16 02:42:29.000000000,2020-01-23 01:53:57.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-16 02:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a94e6be84076f4264070146af0cc9462009cd503', 'message': 'container-sync: Stop continuing to update sync point 2 after failures\n\nChange-Id: Ied382022744d8a2b4fc18d4323296fb02f232f96\n'}, {'number': 2, 'created': '2020-01-22 19:18:23.000000000', 'files': ['swift/container/sync.py', 'test/unit/container/test_sync.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2a9a9be6f14be2ac17e62683f07ef18c3e3145c5', 'message': 'container-sync: Stop continuing to update sync point 2 after failures\n\nChange-Id: Ied382022744d8a2b4fc18d4323296fb02f232f96\n'}]",1,702783,2a9a9be6f14be2ac17e62683f07ef18c3e3145c5,8,3,2,15343,,,0,"container-sync: Stop continuing to update sync point 2 after failures

Change-Id: Ied382022744d8a2b4fc18d4323296fb02f232f96
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/702783/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sync.py'],1,a94e6be84076f4264070146af0cc9462009cd503,702783," broker.set_x_container_sync_points( None, next_sync_point) if not next_sync_point: broker.set_x_container_sync_points(None, sync_point2) if next_sync_point is None:"," broker.set_x_container_sync_points(None, sync_point2) if next_sync_point: broker.set_x_container_sync_points(None, next_sync_point) else:",5,5
openstack%2Fopenstack-ansible~stable%2Ftrain~I81211e8c1d767ce55fc41fe37babe52d19de36e0,openstack/openstack-ansible,stable/train,I81211e8c1d767ce55fc41fe37babe52d19de36e0,Remove log compression before upload,MERGED,2020-01-20 10:26:37.000000000,2020-01-23 01:48:53.000000000,2020-01-23 01:46:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-20 10:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/96f7903f597e95209773be978485b288e6bf1cd0', 'message': 'Remove log compression before upload\n\nFrom #openstack-infra:\nfungi> jrosser: there was a necessary change in handling of\ncompressed log files, jobs should not compress logs on their\nown now if you want them to be viewable in a browser (this\nwas to solve a problem where tarballs were getting silently\ndecompressed on download without changing their filenames to\ndrop the .gz extension)\n\nChange-Id: I81211e8c1d767ce55fc41fe37babe52d19de36e0\n(cherry picked from commit 75879a02d3dfb2643412343bc69e1a210ec6ba10)\n'}, {'number': 2, 'created': '2020-01-20 11:29:03.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9fb765ed0c2393bcf2f10e2e2d6795c5c7606beb', 'message': 'Remove log compression before upload\n\nFrom #openstack-infra:\nfungi> jrosser: there was a necessary change in handling of\ncompressed log files, jobs should not compress logs on their\nown now if you want them to be viewable in a browser (this\nwas to solve a problem where tarballs were getting silently\ndecompressed on download without changing their filenames to\ndrop the .gz extension)\n\nChange-Id: I81211e8c1d767ce55fc41fe37babe52d19de36e0\n(cherry picked from commit 75879a02d3dfb2643412343bc69e1a210ec6ba10)\n'}]",0,703362,9fb765ed0c2393bcf2f10e2e2d6795c5c7606beb,22,3,2,25023,,,0,"Remove log compression before upload

From #openstack-infra:
fungi> jrosser: there was a necessary change in handling of
compressed log files, jobs should not compress logs on their
own now if you want them to be viewable in a browser (this
was to solve a problem where tarballs were getting silently
decompressed on download without changing their filenames to
drop the .gz extension)

Change-Id: I81211e8c1d767ce55fc41fe37babe52d19de36e0
(cherry picked from commit 75879a02d3dfb2643412343bc69e1a210ec6ba10)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/703362/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,96f7903f597e95209773be978485b288e6bf1cd0,,,"function compress_files { # We use 'command' to ensure that we're not executing with an alias. GZIP_CMD=""command gzip --force --best"" find_files |\ while read filename; do \ ${GZIP_CMD} ${filename} || echo ""WARNING: Could not gzip ${filename}""; \ done } # Compress the files gathered so that they do not take up too much space. compress_files ",0,12
openstack%2Fironic~master~I6ee566d111f4d7aa8df12b13c11b8810bf078d25,openstack/ironic,master,I6ee566d111f4d7aa8df12b13c11b8810bf078d25,Use bionic job for bifrost integration,MERGED,2020-01-21 18:45:14.000000000,2020-01-23 01:29:57.000000000,2020-01-23 01:26:16.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-21 18:45:14.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/20142434b6e9c39d30497824d566e269540e8b88', 'message': 'Use bionic job for bifrost integration\n\nThe bifrost bionic job is alive again so we can change it here.\n\nChange-Id: I6ee566d111f4d7aa8df12b13c11b8810bf078d25\n'}]",0,703665,20142434b6e9c39d30497824d566e269540e8b88,29,8,1,23851,,,0,"Use bionic job for bifrost integration

The bifrost bionic job is alive again so we can change it here.

Change-Id: I6ee566d111f4d7aa8df12b13c11b8810bf078d25
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/703665/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,20142434b6e9c39d30497824d566e269540e8b88,bifrost-bionic, - bifrost-integration-tinyipa-ubuntu-bionic:, - bifrost-integration-tinyipa-ubuntu-xenial:,1,1
openstack%2Fironic-inspector~master~I3976e520b46a8eb21041a1f8810d6b7aa84c7ddf,openstack/ironic-inspector,master,I3976e520b46a8eb21041a1f8810d6b7aa84c7ddf,Use bionic job for bifrost integration,MERGED,2020-01-21 18:46:43.000000000,2020-01-23 01:29:47.000000000,2020-01-23 01:26:15.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-21 18:46:43.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fbc773f4605287e850c15e65a73df62a2dfb08a6', 'message': 'Use bionic job for bifrost integration\n\nThe bifrost bionic job is alive again so we can change it here.\n\nChange-Id: I3976e520b46a8eb21041a1f8810d6b7aa84c7ddf\n'}]",0,703668,fbc773f4605287e850c15e65a73df62a2dfb08a6,22,6,1,23851,,,0,"Use bionic job for bifrost integration

The bifrost bionic job is alive again so we can change it here.

Change-Id: I3976e520b46a8eb21041a1f8810d6b7aa84c7ddf
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/68/703668/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fbc773f4605287e850c15e65a73df62a2dfb08a6,bifrost-bionic, - bifrost-integration-tinyipa-ubuntu-bionic:, - bifrost-integration-tinyipa-ubuntu-xenial:,1,1
openstack%2Fansible-role-tripleo-modify-image~master~Icf1a1c8f3a353239f2d244aa0bc811f8f86f6867,openstack/ansible-role-tripleo-modify-image,master,Icf1a1c8f3a353239f2d244aa0bc811f8f86f6867,Force docker format,MERGED,2020-01-22 17:39:51.000000000,2020-01-23 01:25:42.000000000,2020-01-23 01:25:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 17:39:51.000000000', 'files': ['tasks/yum_update_buildah.yml', 'tasks/yum_install_buildah.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/1e10b2294cfdfba5bbb0fe5fdf654a620a60824f', 'message': ""Force docker format\n\nThe undercloud registry currently doesn't handle OCI formated images\ncorrectly. We need to ensure that when buildah is run, we specify that\nwe want the docker format until we correctly support the OCI metadata.\n\nChange-Id: Icf1a1c8f3a353239f2d244aa0bc811f8f86f6867\nRelated-Bug: #1860585\n""}]",0,703846,1e10b2294cfdfba5bbb0fe5fdf654a620a60824f,9,4,1,14985,,,0,"Force docker format

The undercloud registry currently doesn't handle OCI formated images
correctly. We need to ensure that when buildah is run, we specify that
we want the docker format until we correctly support the OCI metadata.

Change-Id: Icf1a1c8f3a353239f2d244aa0bc811f8f86f6867
Related-Bug: #1860585
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/46/703846/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/yum_update_buildah.yml', 'tasks/yum_install_buildah.yml', 'vars/main.yml']",3,1e10b2294cfdfba5bbb0fe5fdf654a620a60824f,bug/1860585,# NOTE(aschultz): remove --format docker when oci images are properly supported buildah: buildah bud --format docker, buildah: buildah bud,6,1
openstack%2Fbarbican~master~I0f5dd8e9439449c19fca259e5c9f2725766b2795,openstack/barbican,master,I0f5dd8e9439449c19fca259e5c9f2725766b2795,Set correct names for Thales and NetHSM,MERGED,2020-01-14 20:37:41.000000000,2020-01-23 01:05:14.000000000,2020-01-23 01:03:30.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 20:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6d5475cf89370f3aeca70762e8bd4c33ff347969', 'message': 'Set correct names for Thales and NetHSM\n\nChange-Id: I0f5dd8e9439449c19fca259e5c9f2725766b2795\n'}, {'number': 2, 'created': '2020-01-15 17:11:33.000000000', 'files': ['barbican/plugin/crypto/pkcs11.py', 'doc/source/install/barbican-backend.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ccb4265de577e053d9fd11e8187ee4fbae91733e', 'message': 'Set correct names for Thales and NetHSM\n\nChange-Id: I0f5dd8e9439449c19fca259e5c9f2725766b2795\n'}]",1,702517,ccb4265de577e053d9fd11e8187ee4fbae91733e,21,4,2,9914,,,0,"Set correct names for Thales and NetHSM

Change-Id: I0f5dd8e9439449c19fca259e5c9f2725766b2795
",git fetch https://review.opendev.org/openstack/barbican refs/changes/17/702517/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/pkcs11.py', 'doc/source/install/barbican-backend.rst']",2,6d5475cf89370f3aeca70762e8bd4c33ff347969,correct_refs_to_thales_hsm,"nCipherFor a nCipher nShield Connect XC, the plugin configuration looks like:","ThalesFor a Thales NetHSM, the plugin configuration looks like:",3,3
openstack%2Fopenstack-helm~master~Ia7501e50a26e09296a514b50ff7df82a7252ee1a,openstack/openstack-helm,master,Ia7501e50a26e09296a514b50ff7df82a7252ee1a,[DNM][Gates] Compute-kit netpol gate fix,ABANDONED,2020-01-17 17:26:36.000000000,2020-01-23 01:01:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-01-17 17:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b77fada6e45aed8456fd67b26be4812c911c136b', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-01-17 22:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4cb6eee0dca2fb0ca226d9fe047c9a9e40fa6cda', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-01-18 05:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d95ba5114e7e2176fde91ee6f6df1d72fe439e28', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-01-20 17:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/71bc654c1f4844983af671eb6d316a94a76e1f7b', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2020-01-20 18:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5963e7296ac91d3655ba033586013b3717096326', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2020-01-22 16:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0ab59cb9d574b844de226ed99af7e8487668a2ee', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2020-01-22 16:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc6fe376ed5b7c1905611f1debaefbda0ddec933', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2020-01-22 18:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aa9b3b286917355f5c109602d4d61b7e3f99ad64', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 9, 'created': '2020-01-22 21:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d50f54f5b008eba963cd1493251144a4af20b555', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 10, 'created': '2020-01-22 23:01:30.000000000', 'files': ['nova/values_overrides/netpol.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aae1d04bbd5c4f23d6ab15795f13bb5c496c9a89', 'message': '[DNM][Gates] Compute-kit netpol gate fix\n\nChange-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,703132,aae1d04bbd5c4f23d6ab15795f13bb5c496c9a89,20,1,10,20466,,,0,"[DNM][Gates] Compute-kit netpol gate fix

Change-Id: Ia7501e50a26e09296a514b50ff7df82a7252ee1a
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/703132/10 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,b77fada6e45aed8456fd67b26be4812c911c136b,fix/jobs, # - ./tools/deployment/common/lockdown-netpol.sh, - ./tools/deployment/common/lockdown-netpol.sh,21,21
openstack%2Ftempest~master~I02e79a28789144ac15d7a64ee17721e345303261,openstack/tempest,master,I02e79a28789144ac15d7a64ee17721e345303261,DNM:tesing reno,ABANDONED,2019-07-16 21:06:08.000000000,2020-01-23 00:59:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-16 21:06:08.000000000', 'files': ['releasenotes/notes/add-load-list-cmd-35a4a2e6ea0a36fd.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d07c8cb4ccc70e3fcf7c4e4c04fdd0a8b2b4d9a', 'message': 'DNM:tesing reno\n\nChange-Id: I02e79a28789144ac15d7a64ee17721e345303261\n'}]",0,671156,6d07c8cb4ccc70e3fcf7c4e4c04fdd0a8b2b4d9a,3,1,1,8556,,,0,"DNM:tesing reno

Change-Id: I02e79a28789144ac15d7a64ee17721e345303261
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/671156/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-load-list-cmd-35a4a2e6ea0a36fd.yaml'],1,6d07c8cb4ccc70e3fcf7c4e4c04fdd0a8b2b4d9a,," Adds a newcli option to tempest run, ``--load-list <list-file>``"," Adds a new cli option to tempest run, ``--load-list <list-file>``",1,1
openstack%2Ftempest~master~I275be9f4daddcfa5625757be3a0e9f4b0950239a,openstack/tempest,master,I275be9f4daddcfa5625757be3a0e9f4b0950239a,DNM:Testing,ABANDONED,2019-02-26 17:24:21.000000000,2020-01-23 00:58:21.000000000,,"[{'_account_id': 8556}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-26 17:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a68b9fe8ddbafbb6a170ebb38eaf8906d96649e', 'message': 'DNM:Testing\n\nChange-Id: I275be9f4daddcfa5625757be3a0e9f4b0950239a\n'}, {'number': 2, 'created': '2019-02-28 18:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c7e518016f20f42b7945a256129c7945a3999cd5', 'message': 'DNM:Testing\n\nChange-Id: I275be9f4daddcfa5625757be3a0e9f4b0950239a\n'}, {'number': 3, 'created': '2019-02-28 18:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2ede2f3d8ed1fa7820dfea6f79feb79d30715044', 'message': 'DNM:Testing\n\nChange-Id: I275be9f4daddcfa5625757be3a0e9f4b0950239a\n'}, {'number': 4, 'created': '2019-04-29 21:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/48b729c7be9e77eb66d6494f4d1b4236fcf5b5db', 'message': 'DNM:Testing\n\nChange-Id: I275be9f4daddcfa5625757be3a0e9f4b0950239a\n'}, {'number': 5, 'created': '2019-04-29 21:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3cf33fdfca28be5c3489c39cd56f711f88f29018', 'message': 'DNM:Testing\n\nChange-Id: I275be9f4daddcfa5625757be3a0e9f4b0950239a\n'}, {'number': 6, 'created': '2019-04-29 21:32:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6b749b048b43a70668024a36c93880f663058897', 'message': 'DNM:Testing\n\nChange-Id: I275be9f4daddcfa5625757be3a0e9f4b0950239a\n'}]",9,639393,6b749b048b43a70668024a36c93880f663058897,15,3,6,8556,,,0,"DNM:Testing

Change-Id: I275be9f4daddcfa5625757be3a0e9f4b0950239a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/639393/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml']",2,1a68b9fe8ddbafbb6a170ebb38eaf8906d96649e,, required-projects: - git.openstack.org/openstack/oslo.cache - git.openstack.org/openstack/oslo.concurrency - git.openstack.org/openstack/oslo.config,,6,2
openstack%2Fneutron-tempest-plugin~master~Idfa2d34b26d9027789fdf80c06199d145ae14c28,openstack/neutron-tempest-plugin,master,Idfa2d34b26d9027789fdf80c06199d145ae14c28,"Remove references to ""tenant_id"" in test_shared_network_extension",MERGED,2020-01-14 09:56:06.000000000,2020-01-23 00:52:55.000000000,2020-01-23 00:52:55.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 09:56:06.000000000', 'files': ['neutron_tempest_plugin/api/admin/test_shared_network_extension.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/37d0ee917f45caf4eb42e155e882bab5eb7085e1', 'message': 'Remove references to ""tenant_id"" in test_shared_network_extension\n\nChange-Id: Idfa2d34b26d9027789fdf80c06199d145ae14c28\nRelated-Bug: #1858783\n'}]",0,702388,37d0ee917f45caf4eb42e155e882bab5eb7085e1,13,4,1,16688,,,0,"Remove references to ""tenant_id"" in test_shared_network_extension

Change-Id: Idfa2d34b26d9027789fdf80c06199d145ae14c28
Related-Bug: #1858783
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/88/702388/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/admin/test_shared_network_extension.py'],1,37d0ee917f45caf4eb42e155e882bab5eb7085e1,bug/1858783," self.assertNotEqual(self.shared_network['project_id'], port['project_id']) def _make_admin_net_and_subnet_shared_to_project_id(self, project_id): action='access_as_shared', target_tenant=project_id self._make_admin_net_and_subnet_shared_to_project_id( project_id=None) target_project = '1234' * 100 self._make_admin_net_and_subnet_shared_to_project_id( project_id=target_project) net = self._make_admin_net_and_subnet_shared_to_project_id( sub = self._make_admin_net_and_subnet_shared_to_project_id( res = self._make_admin_net_and_subnet_shared_to_project_id( res = self._make_admin_net_and_subnet_shared_to_project_id( res = self._make_admin_net_and_subnet_shared_to_project_id( target_tenant=net['project_id'])['rbac_policy'] ('project_id', 'target_tenant')) res = self._make_admin_net_and_subnet_shared_to_project_id( net = self._make_admin_net_and_subnet_shared_to_project_id( target_tenant=net['project_id'])['rbac_policy'] resp = self._make_admin_net_and_subnet_shared_to_project_id( resp = self._make_admin_net_and_subnet_shared_to_project_id("," self.assertNotEqual(self.shared_network['tenant_id'], port['tenant_id']) def _make_admin_net_and_subnet_shared_to_tenant_id(self, tenant_id): action='access_as_shared', target_tenant=tenant_id self._make_admin_net_and_subnet_shared_to_tenant_id( tenant_id=None) target_tenant = '1234' * 100 self._make_admin_net_and_subnet_shared_to_tenant_id( tenant_id=target_tenant) net = self._make_admin_net_and_subnet_shared_to_tenant_id( sub = self._make_admin_net_and_subnet_shared_to_tenant_id( res = self._make_admin_net_and_subnet_shared_to_tenant_id( res = self._make_admin_net_and_subnet_shared_to_tenant_id( res = self._make_admin_net_and_subnet_shared_to_tenant_id( target_tenant=net['tenant_id'])['rbac_policy'] ('tenant_id', 'target_tenant')) res = self._make_admin_net_and_subnet_shared_to_tenant_id( net = self._make_admin_net_and_subnet_shared_to_tenant_id( target_tenant=net['tenant_id'])['rbac_policy'] resp = self._make_admin_net_and_subnet_shared_to_tenant_id( resp = self._make_admin_net_and_subnet_shared_to_tenant_id(",21,21
openstack%2Fadjutant-ui~master~Ic5c82580e1b968b2fab21a00f067cb15420b5dc4,openstack/adjutant-ui,master,Ic5c82580e1b968b2fab21a00f067cb15420b5dc4,"Fix the misspelling of ""available""",MERGED,2019-01-22 05:43:29.000000000,2020-01-23 00:29:29.000000000,2020-01-23 00:29:29.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 05:43:29.000000000', 'files': ['adjutant_ui/content/quota/templates/quota/_index_help.html'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/fc3e47bf49545e73730af1c2a72cd2be3050a2cb', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: Ic5c82580e1b968b2fab21a00f067cb15420b5dc4\n'}]",0,632224,fc3e47bf49545e73730af1c2a72cd2be3050a2cb,6,2,1,29721,,,0,"Fix the misspelling of ""available""

Change-Id: Ic5c82580e1b968b2fab21a00f067cb15420b5dc4
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/24/632224/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant_ui/content/quota/templates/quota/_index_help.html'],1,fc3e47bf49545e73730af1c2a72cd2be3050a2cb,," Your current quotas are available here, and can be changed to suit your needs."," Your current quotas are avaliable here, and can be changed to suit your needs.",1,1
openstack%2Fadjutant-ui~master~Ia51c0af5df488069f3048f632f56774dcb4344ef,openstack/adjutant-ui,master,Ia51c0af5df488069f3048f632f56774dcb4344ef,Remove six usage,MERGED,2020-01-11 15:30:11.000000000,2020-01-23 00:28:52.000000000,2020-01-23 00:28:52.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 8556}, {'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 26263}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-11 15:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/96302bca894610d2aa791cd79b5a411371c4181d', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: Ia51c0af5df488069f3048f632f56774dcb4344ef\n""}, {'number': 2, 'created': '2020-01-11 15:48:38.000000000', 'files': ['adjutant_ui/api/adjutant.py'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/aa114828a0f826c9c36df493d2002f252be6aa11', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nNeeded-By: https://review.opendev.org/701743\nChange-Id: Ia51c0af5df488069f3048f632f56774dcb4344ef\n""}]",0,702079,aa114828a0f826c9c36df493d2002f252be6aa11,12,9,2,6547,,,0,"Remove six usage

This repo does not support Python 2 anymore, so we don't need
six for compatibility between Python2 and 3, convert six usage to Python
3 code.

Needed-By: https://review.opendev.org/701743
Change-Id: Ia51c0af5df488069f3048f632f56774dcb4344ef
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/79/702079/2 && git format-patch -1 --stdout FETCH_HEAD,['adjutant_ui/api/adjutant.py'],1,96302bca894610d2aa791cd79b5a411371c4181d,remove-six,"from urllib.parse import urljoin if not isinstance(notes, str):","from six.moves.urllib.parse import urljoin import six if not isinstance(notes, six.text_type):",2,3
openstack%2Fneutron-lib~master~Ic6da328a6219c8a00d38602f6b539a2ff5be1b2e,openstack/neutron-lib,master,Ic6da328a6219c8a00d38602f6b539a2ff5be1b2e,"Remove library ""six""",MERGED,2020-01-18 13:27:37.000000000,2020-01-22 23:36:53.000000000,2020-01-22 23:35:03.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-18 13:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1074e67ea55980b8a6265b714f2fb518d0df7bae', 'message': 'Remove library ""six""\n\nNow Python2 is not supported, this compatibility library for both\nversions is not needed anymore.\n\nChange-Id: Ic6da328a6219c8a00d38602f6b539a2ff5be1b2e\n'}, {'number': 2, 'created': '2020-01-18 19:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/865b26d6ba9e42ac9f81c2ac2cade62919dec0a2', 'message': 'Remove library ""six""\n\nNow Python2 is not supported, this compatibility library for both\nversions is not needed anymore.\n\nChange-Id: Ic6da328a6219c8a00d38602f6b539a2ff5be1b2e\n'}, {'number': 3, 'created': '2020-01-22 13:17:04.000000000', 'files': ['neutron_lib/placement/client.py', 'tools/pyir.py', 'neutron_lib/db/api.py', 'neutron_lib/objects/common_types.py', 'neutron_lib/agent/l3_extension.py', 'neutron_lib/utils/upgrade_checks.py', 'neutron_lib/agent/l2_extension.py', 'neutron_lib/services/base.py', 'neutron_lib/placement/utils.py', 'neutron_lib/__init__.py', 'neutron_lib/tests/unit/utils/test_helpers.py', 'requirements.txt', 'neutron_lib/fixture.py', 'neutron_lib/agent/extension.py', 'neutron_lib/exceptions/__init__.py', 'neutron_lib/objects/utils.py', 'neutron_lib/tests/unit/hacking/test_checks.py', 'neutron_lib/api/extensions.py', 'neutron_lib/utils/helpers.py', 'doc/source/contributor/api_converters.rst', 'neutron_lib/tests/unit/api/test_conversions.py', 'neutron_lib/utils/net.py', 'neutron_lib/hacking/checks.py', 'lower-constraints.txt', 'neutron_lib/tests/unit/test_worker.py', 'neutron_lib/tests/unit/db/test_sqlalchemytypes.py', 'neutron_lib/api/validators/__init__.py', 'neutron_lib/db/utils.py', 'neutron_lib/plugins/ml2/api.py', 'neutron_lib/api/converters.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/478502b3dfb8c3ff66318169377251826563a398', 'message': 'Remove library ""six""\n\nNow Python2 is not supported, this compatibility library for both\nversions is not needed anymore.\n\nChange-Id: Ic6da328a6219c8a00d38602f6b539a2ff5be1b2e\n'}]",26,703241,478502b3dfb8c3ff66318169377251826563a398,25,8,3,16688,,,0,"Remove library ""six""

Now Python2 is not supported, this compatibility library for both
versions is not needed anymore.

Change-Id: Ic6da328a6219c8a00d38602f6b539a2ff5be1b2e
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/41/703241/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/placement/client.py', 'tools/pyir.py', 'neutron_lib/db/api.py', 'neutron_lib/objects/common_types.py', 'neutron_lib/agent/l3_extension.py', 'neutron_lib/utils/upgrade_checks.py', 'neutron_lib/agent/l2_extension.py', 'neutron_lib/services/base.py', 'neutron_lib/placement/utils.py', 'neutron_lib/__init__.py', 'neutron_lib/tests/unit/utils/test_helpers.py', 'requirements.txt', 'neutron_lib/fixture.py', 'neutron_lib/agent/extension.py', 'neutron_lib/exceptions/__init__.py', 'neutron_lib/objects/utils.py', 'neutron_lib/tests/unit/hacking/test_checks.py', 'neutron_lib/api/extensions.py', 'neutron_lib/utils/helpers.py', 'doc/source/contributor/api_converters.rst', 'neutron_lib/tests/unit/api/test_conversions.py', 'neutron_lib/utils/net.py', 'neutron_lib/hacking/checks.py', 'lower-constraints.txt', 'neutron_lib/tests/unit/test_worker.py', 'neutron_lib/tests/unit/db/test_sqlalchemytypes.py', 'neutron_lib/api/validators/__init__.py', 'neutron_lib/db/utils.py', 'neutron_lib/plugins/ml2/api.py', 'neutron_lib/api/converters.py']",30,1074e67ea55980b8a6265b714f2fb518d0df7bae,remove_six," elif hasattr(data, '__iter__') and not isinstance(data, str): return str(ip.format(dialect=netaddr.ipv6_compact)) if (isinstance(data, str) and len(data) >= plen and","import six elif hasattr(data, '__iter__') and not isinstance(data, six.string_types): return six.text_type(ip.format(dialect=netaddr.ipv6_compact)) if (isinstance(data, six.string_types) and len(data) >= plen and",66,167
openstack%2Fproject-config~master~I837a0657aa9ae11211599b019711cba8f17ee094,openstack/project-config,master,I837a0657aa9ae11211599b019711cba8f17ee094,Correct LOGS path in wheel build script,MERGED,2020-01-22 14:21:58.000000000,2020-01-22 23:15:21.000000000,2020-01-22 23:15:21.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 14:21:58.000000000', 'files': ['roles/build-wheels/files/wheel-build.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/261f8b1e79cd6e683e4788b616bc33c847faf543', 'message': 'Correct LOGS path in wheel build script\n\nA recent change assumed $LOGS was a relative path, but it starts\nwith $(pwd) so is absolute. Correct this broken assumption which was\ncausing the script to exit non-zero and fail the\npublish-wheel-mirror-* jobs.\n\nChange-Id: I837a0657aa9ae11211599b019711cba8f17ee094\n'}]",0,703802,261f8b1e79cd6e683e4788b616bc33c847faf543,7,3,1,5263,,,0,"Correct LOGS path in wheel build script

A recent change assumed $LOGS was a relative path, but it starts
with $(pwd) so is absolute. Correct this broken assumption which was
causing the script to exit non-zero and fail the
publish-wheel-mirror-* jobs.

Change-Id: I837a0657aa9ae11211599b019711cba8f17ee094
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/703802/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-wheels/files/wheel-build.sh'],1,261f8b1e79cd6e683e4788b616bc33c847faf543,wheel-mirror,cat ${LOGS}/remove-wheels.txt | xargs rm,cat ../${LOGS}/remove-wheels.txt | xargs rm,1,1
openstack%2Fmanila~master~I087286f66f21ba8960a948b8a6fcf4ea5261c6cf,openstack/manila,master,I087286f66f21ba8960a948b8a6fcf4ea5261c6cf,Store ganesha logs and configs,MERGED,2020-01-21 18:27:59.000000000,2020-01-22 23:12:27.000000000,2020-01-22 23:10:47.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-21 18:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/36060ca50987ee8a8f3829a7cfaaa44ad43df7d4', 'message': 'Store ganesha logs and configs\n\nChange-Id: I087286f66f21ba8960a948b8a6fcf4ea5261c6cf\n'}, {'number': 2, 'created': '2020-01-21 20:35:50.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-py35-dsvm-cephfs-nfs-centos-7/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/post.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/acfd0f337eafde1350af98677d84ab5fda2efedd', 'message': 'Store ganesha logs and configs\n\nChange-Id: I087286f66f21ba8960a948b8a6fcf4ea5261c6cf\n'}]",0,703664,acfd0f337eafde1350af98677d84ab5fda2efedd,45,11,2,28619,,,0,"Store ganesha logs and configs

Change-Id: I087286f66f21ba8960a948b8a6fcf4ea5261c6cf
",git fetch https://review.opendev.org/openstack/manila refs/changes/64/703664/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-minimal-py35-dsvm-cephfs-nfs-centos-7/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/post.yaml']",3,36060ca50987ee8a8f3829a7cfaaa44ad43df7d4,, - name: Copy ganesha config and logs synchronize: src: '{{ item.src }}' dest: '{{ zuul.executor.log_root }}/{{ item.dest }}' mode: pull copy_links: true verify_host: true with_items: - src: /etc/ganesha dest: etc/ - src: /var/log/ganesha dest: '',,39,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Ifd1048fdf8fefb8dc23781ccf1500b2a70101935,openstack/networking-ovn,stable/train,Ifd1048fdf8fefb8dc23781ccf1500b2a70101935,functional: Handle the ovs/ovn split,ABANDONED,2019-12-13 14:12:48.000000000,2020-01-22 23:05:57.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-13 14:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/278faa540c505ebe639766bfaf613641e1326b5f', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 6ece6ba7736b18c9017a2a479c29f2c79deb2340)\n'}, {'number': 2, 'created': '2019-12-13 15:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9154cd1fd2ee5d1198e225f038b0cdefb1666dad', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 6ece6ba7736b18c9017a2a479c29f2c79deb2340)\n'}, {'number': 3, 'created': '2019-12-13 20:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eff8ece00e4a74eaf91ef21e7bed339ee88e038d', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 6ece6ba7736b18c9017a2a479c29f2c79deb2340)\n'}, {'number': 4, 'created': '2019-12-13 21:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e3b311db638dc30733f67dba506be9df84407247', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 6ece6ba7736b18c9017a2a479c29f2c79deb2340)\n'}, {'number': 5, 'created': '2019-12-13 21:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/36a42636220c5139c1dabdfe079456e3b4020103', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 6ece6ba7736b18c9017a2a479c29f2c79deb2340)\n'}, {'number': 6, 'created': '2019-12-16 13:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/422288ee3d3ee2019c27ac6b98a0c96cf40e8bd7', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 6ece6ba7736b18c9017a2a479c29f2c79deb2340)\n'}, {'number': 7, 'created': '2019-12-16 20:19:38.000000000', 'files': ['networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fb230db8188b31a4e7ce0558e566df7b7ecafea2', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 6ece6ba7736b18c9017a2a479c29f2c79deb2340)\n'}]",0,698910,fb230db8188b31a4e7ce0558e566df7b7ecafea2,18,6,7,11952,,,0,"functional: Handle the ovs/ovn split

Make TestOVNFunctionalBase check if install path for
OVN [1] is present and use that instead of legacy OVS
location [2].

[1]: /usr/local/share/ovn
[2]: /usr/local/share/openvswitch

Change-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from commit 6ece6ba7736b18c9017a2a479c29f2c79deb2340)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/10/698910/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/base.py'],1,278faa540c505ebe639766bfaf613641e1326b5f,bug/1855903," OVN_INSTALL_SHARE_PATH = '/usr/local/share/ovn' def _get_install_share_path(self): if os.path.isdir(self.OVN_INSTALL_SHARE_PATH): return self.OVN_INSTALL_SHARE_PATH return self.OVS_INSTALL_SHARE_PATH install_share_path = self._get_install_share_path() process.OvsdbServer(self.temp_dir, install_share_path,"," process.OvsdbServer(self.temp_dir, self.OVS_INSTALL_SHARE_PATH,",8,1
openstack%2Fswift~master~I4cad872ef97313ec19a8e4ef042696565a56d4c5,openstack/swift,master,I4cad872ef97313ec19a8e4ef042696565a56d4c5,More multi-char-delimiter func test coverage,MERGED,2019-09-16 18:06:23.000000000,2020-01-22 22:52:41.000000000,2020-01-22 22:50:03.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 18:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/50fa7a13d4b3c376bad7b657ddc31eea1d35116b', 'message': 'More multi-char-delimiter func test coverage\n\nChange-Id: I4cad872ef97313ec19a8e4ef042696565a56d4c5\n'}, {'number': 2, 'created': '2020-01-22 20:37:34.000000000', 'files': ['test/functional/tests.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2be4716bc9ebbdb1da69231d4618489dff8af85f', 'message': 'More multi-char-delimiter func test coverage\n\nChange-Id: I4cad872ef97313ec19a8e4ef042696565a56d4c5\n'}]",4,682444,2be4716bc9ebbdb1da69231d4618489dff8af85f,11,3,2,1179,,,0,"More multi-char-delimiter func test coverage

Change-Id: I4cad872ef97313ec19a8e4ef042696565a56d4c5
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/682444/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/tests.py'],1,50fa7a13d4b3c376bad7b657ddc31eea1d35116b,bug/1797305," delimiter.join(['test', 'foo']), ""test-'baz""] # for format_type in [None, 'json', 'xml']: for format_type in ['json']: self.assertEqual(results, ['test', 'test-&bar', 'test-&foo', ""test-'baz""]) self.assertEqual(results, ['test', 'test-&', ""test-'baz""]) self.assertEqual(results, [""test-'baz"", 'test-&', 'test'])"," delimiter.join(['test', 'foo'])] for format_type in [None, 'json', 'xml']: self.assertEqual(results, ['test', 'test-&bar', 'test-&foo']) self.assertEqual(results, ['test', 'test-&']) self.assertEqual(results, ['test-&', 'test'])",7,5
openstack%2Ftripleo-common~stable%2Ftrain~I55af51e71f0593b2914aa108af43453fe553514b,openstack/tripleo-common,stable/train,I55af51e71f0593b2914aa108af43453fe553514b,Handle stack not found during inventory generation,MERGED,2020-01-20 15:26:49.000000000,2020-01-22 22:25:31.000000000,2020-01-22 22:23:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 15:26:49.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8dc539b589f76e83463e623639135cdcb5a20923', 'message': 'Handle stack not found during inventory generation\n\nIf the inventory generation is passed a non-existant stack name, a\nwarning is now logged. Additionally, the rest of the code that generates\nthe overcloud inventory is skipped by returning earlier so that the\ninventory generation finishes sooner.\n\nChange-Id: I55af51e71f0593b2914aa108af43453fe553514b\n(cherry picked from commit 08f5b6d18c193dcffa6d719b314f17978fcc4005)\n'}]",0,703424,8dc539b589f76e83463e623639135cdcb5a20923,14,4,1,7144,,,0,"Handle stack not found during inventory generation

If the inventory generation is passed a non-existant stack name, a
warning is now logged. Additionally, the rest of the code that generates
the overcloud inventory is skipped by returning earlier so that the
inventory generation finishes sooner.

Change-Id: I55af51e71f0593b2914aa108af43453fe553514b
(cherry picked from commit 08f5b6d18c193dcffa6d719b314f17978fcc4005)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/703424/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,8dc539b589f76e83463e623639135cdcb5a20923,," self.outputs = StackOutputs(self.mock_stack) def test_stack_not_found(self): self.assertEqual(None, self.inventory._get_stack())"," self.outputs = StackOutputs('overcloud', self.hclient) def test_outputs_are_empty_if_stack_doesnt_exist(self): stack_outputs = StackOutputs('no-plan', self.hclient) self.assertEqual(list(stack_outputs), [])",40,29
openstack%2Fswift~master~I27288f9e503f26827a8274d46b07c1330a21de10,openstack/swift,master,I27288f9e503f26827a8274d46b07c1330a21de10,packaging: Build universal wheels,MERGED,2020-01-21 05:19:08.000000000,2020-01-22 22:21:02.000000000,2020-01-22 22:18:28.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 05:19:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/dad8fb7c3c0b4c1dbaecde341a5c07d02a0a578a', 'message': 'packaging: Build universal wheels\n\nApparently this had been done for us previously? See also:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-January/012097.html\n\nChange-Id: I27288f9e503f26827a8274d46b07c1330a21de10\n'}]",0,703539,dad8fb7c3c0b4c1dbaecde341a5c07d02a0a578a,11,2,1,15343,,,0,"packaging: Build universal wheels

Apparently this had been done for us previously? See also:
http://lists.openstack.org/pipermail/openstack-discuss/2020-January/012097.html

Change-Id: I27288f9e503f26827a8274d46b07c1330a21de10
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/703539/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dad8fb7c3c0b4c1dbaecde341a5c07d02a0a578a,,[bdist_wheel] universal = 1 ,,3,0
openstack%2Fswift~stable%2Ftrain~I0c850b8ae40d1ab477d0f5d18f92579c457da54e,openstack/swift,stable/train,I0c850b8ae40d1ab477d0f5d18f92579c457da54e,account-server: Correctly handle containers starting with delimiter,MERGED,2020-01-03 00:27:12.000000000,2020-01-22 22:20:43.000000000,2020-01-22 22:18:29.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-03 00:27:12.000000000', 'files': ['swift/account/backend.py', 'test/unit/account/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d1d0b706e4ac57b1fd4bbbce386e5d8dadf171b8', 'message': 'account-server: Correctly handle containers starting with delimiter\n\nRelated-Change: I27701a31bfa22842c272b7781738e8c546b82cbc\nRelated-Change: If912f71d8b0d03369680374e8233da85d8d38f85\nChange-Id: I0c850b8ae40d1ab477d0f5d18f92579c457da54e\nRelated-Bug: 1475018\n'}]",0,700965,d1d0b706e4ac57b1fd4bbbce386e5d8dadf171b8,7,2,1,15343,,,0,"account-server: Correctly handle containers starting with delimiter

Related-Change: I27701a31bfa22842c272b7781738e8c546b82cbc
Related-Change: If912f71d8b0d03369680374e8233da85d8d38f85
Change-Id: I0c850b8ae40d1ab477d0f5d18f92579c457da54e
Related-Bug: 1475018
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/700965/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/account/backend.py', 'test/unit/account/test_server.py']",2,d1d0b706e4ac57b1fd4bbbce386e5d8dadf171b8,bug/1475018," def test_GET_leading_delimiter(self): req = Request.blank('/sda1/p/a', environ={'REQUEST_METHOD': 'PUT', 'HTTP_X_TIMESTAMP': '0'}) resp = req.get_response(self.controller) for first in range(3): req = Request.blank( '/sda1/p/a/.sub.%s' % first, environ={'REQUEST_METHOD': 'PUT'}, headers={'X-Put-Timestamp': '1', 'X-Delete-Timestamp': '0', 'X-Object-Count': '0', 'X-Bytes-Used': '0', 'X-Timestamp': normalize_timestamp(0)}) req.get_response(self.controller) for second in range(3): req = Request.blank( '/sda1/p/a/.sub.%s.%s' % (first, second), environ={'REQUEST_METHOD': 'PUT'}, headers={'X-Put-Timestamp': '1', 'X-Delete-Timestamp': '0', 'X-Object-Count': '0', 'X-Bytes-Used': '0', 'X-Timestamp': normalize_timestamp(0)}) req.get_response(self.controller) req = Request.blank('/sda1/p/a?delimiter=.', environ={'REQUEST_METHOD': 'GET'}) resp = req.get_response(self.controller) self.assertEqual(resp.status_int, 200) self.assertEqual(resp.body.strip().split(b'\n'), [b'.']) req = Request.blank('/sda1/p/a?prefix=.&delimiter=.', environ={'REQUEST_METHOD': 'GET'}) resp = req.get_response(self.controller) self.assertEqual(resp.status_int, 200) self.assertEqual(resp.body.strip().split(b'\n'), [b'.sub.']) req = Request.blank('/sda1/p/a?prefix=.sub.&delimiter=.', environ={'REQUEST_METHOD': 'GET'}) resp = req.get_response(self.controller) self.assertEqual(resp.status_int, 200) self.assertEqual( resp.body.strip().split(b'\n'), [b'.sub.0', b'.sub.0.', b'.sub.1', b'.sub.1.', b'.sub.2', b'.sub.2.']) req = Request.blank('/sda1/p/a?prefix=.sub.1.&delimiter=.', environ={'REQUEST_METHOD': 'GET'}) resp = req.get_response(self.controller) self.assertEqual(resp.status_int, 200) self.assertEqual(resp.body.strip().split(b'\n'), [b'.sub.1.0', b'.sub.1.1', b'.sub.1.2']) ",,52,1
openstack%2Ftripleo-heat-templates~master~I5ed014fb1061379d7a7a8686d289c1303941dce9,openstack/tripleo-heat-templates,master,I5ed014fb1061379d7a7a8686d289c1303941dce9,Fix incorrect parameter to set max delay in cinder db purge cron,MERGED,2020-01-22 04:12:59.000000000,2020-01-22 22:13:04.000000000,2020-01-22 22:13:04.000000000,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-22 04:12:59.000000000', 'files': ['deployment/cinder/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa52709a871492b60f140e387044e24b1973594f', 'message': 'Fix incorrect parameter to set max delay in cinder db purge cron\n\nCloses-bug: #1860505\nChange-Id: I5ed014fb1061379d7a7a8686d289c1303941dce9\n'}]",0,703725,fa52709a871492b60f140e387044e24b1973594f,8,4,1,9816,,,0,"Fix incorrect parameter to set max delay in cinder db purge cron

Closes-bug: #1860505
Change-Id: I5ed014fb1061379d7a7a8686d289c1303941dce9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/703725/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-base.yaml'],1,fa52709a871492b60f140e387044e24b1973594f,bug/1860505, cinder::cron::db_purge::maxdelay: {get_param: CinderCronDbPurgeMaxDelay}, cinder::cron::db_purge::max_delay: {get_param: CinderCronDbPurgeMaxDelay},1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf,openstack/tripleo-heat-templates,stable/train,I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf,Add 'scale-up' upgrade steps for manila,MERGED,2020-01-22 10:18:34.000000000,2020-01-22 22:03:14.000000000,2020-01-22 22:03:14.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-22 10:18:34.000000000', 'files': ['deployment/manila/manila-share-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/279de16047ba9e868e40944c9a47309ae68f4948', 'message': ""Add 'scale-up' upgrade steps for manila\n\nThis patch adds the missing steps for 'scale-up' upgrade\nsupport for the manila service similar to the implementation\nin I3cfd4272449b207874723682903505d2bbdb435b\n\nRelated-Bug: #1838971\nDepends-On: I2c468e608a8f70d031b9ba08521bb75f7094c048\nChange-Id: I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf\n(cherry picked from commit a25cb11b38e37b9c8fd9b2cfa060dda16ac67ab1)\n""}]",0,703759,279de16047ba9e868e40944c9a47309ae68f4948,8,7,1,6816,,,0,"Add 'scale-up' upgrade steps for manila

This patch adds the missing steps for 'scale-up' upgrade
support for the manila service similar to the implementation
in I3cfd4272449b207874723682903505d2bbdb435b

Related-Bug: #1838971
Depends-On: I2c468e608a8f70d031b9ba08521bb75f7094c048
Change-Id: I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf
(cherry picked from commit a25cb11b38e37b9c8fd9b2cfa060dda16ac67ab1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/703759/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-share-pacemaker-puppet.yaml'],1,279de16047ba9e868e40944c9a47309ae68f4948,bug/1838971-stable/train," - name: Create hiera data to upgrade manila_share in a stepwise manner. when: - step|int == 1 block: - name: set manila_share upgrade node facts in a single-node environment set_fact: manila_share_short_node_names_upgraded: ""{{ manila_share_short_node_names }}"" manila_share_node_names_upgraded: ""{{ manila_share_node_names }}"" cacheable: no when: groups['manila_share'] | length <= 1 - name: set manila_share upgrade node facts from the limit option set_fact: manila_share_short_node_names_upgraded: ""{{ manila_share_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" manila_share_node_names_upgraded: ""{{ manila_share_node_names_upgraded|default([]) + [item] }}"" cacheable: no when: - groups['manila_share'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ manila_share_node_names }}"" - debug: msg: ""Prepare manila_share upgrade for {{ manila_share_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade manila_share without staged upgrade. You need to use the limit option in order to do so. when: >- manila_share_short_node_names_upgraded is not defined or manila_share_short_node_names_upgraded | length == 0 or manila_share_node_names_upgraded is not defined or manila_share_node_names_upgraded | length == 0 - name: remove manila_share init container on upgrade-scaleup to force re-init shell: | if podman inspect manila_share_init_bundle &> /dev/null; then podman rm manila_share_init_bundle fi when: manila_share_short_node_names_upgraded | length > 1 - name: add the manila_share short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: manila_share_short_node_names_override tripleo_upgrade_value: ""{{ manila_share_short_node_names_upgraded }}"" - name: add the manila_share long name to hiera data for the upgrade include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: manila_share_node_names_override tripleo_upgrade_value: ""{{ manila_share_node_names_upgraded }}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ""{{ item }}"" loop: - manila_share_short_node_names_override - manila_share_node_names_override when: manila_share_short_node_names_upgraded | length == manila_share_node_names | length",,61,0
openstack%2Ftripleo-common~stable%2Ftrain~If6d2b22e20c66e5ebdef952746c8aba7c2d54537,openstack/tripleo-common,stable/train,If6d2b22e20c66e5ebdef952746c8aba7c2d54537,Dynamically set the number of Ansible forks.,MERGED,2020-01-20 18:34:39.000000000,2020-01-22 21:56:39.000000000,2020-01-22 21:52:42.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-20 18:34:39.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/40b9c183cc0fb709121b69518243b90a5ace64bd', 'message': 'Dynamically set the number of Ansible forks.\n\nBecause our usage of Ansible is CPU-bound, the recommended\nvalue is 10 x CPU_CORES.\n\nChange-Id: If6d2b22e20c66e5ebdef952746c8aba7c2d54537\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 87d45ac42c3346cf8c295bc0ae798ae4c489be7f)\n'}]",0,703479,40b9c183cc0fb709121b69518243b90a5ace64bd,17,5,1,25877,,,0,"Dynamically set the number of Ansible forks.

Because our usage of Ansible is CPU-bound, the recommended
value is 10 x CPU_CORES.

Change-Id: If6d2b22e20c66e5ebdef952746c8aba7c2d54537
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 87d45ac42c3346cf8c295bc0ae798ae4c489be7f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/703479/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py']",2,40b9c183cc0fb709121b69518243b90a5ace64bd,," @mock.patch(""multiprocessing.cpu_count"") def test_override_ansible_cfg_empty(self, cpu_count): cpu_count.return_value = 4 self.assertEqual('40', ansible_cfg.get('defaults', 'forks'))"," def test_override_ansible_cfg_empty(self): self.assertEqual('50', ansible_cfg.get('defaults', 'forks'))",6,4
openstack%2Ftripleo-common~stable%2Ftrain~Ifd28fd60e4bc1218acc24381d13534c227f2877e,openstack/tripleo-common,stable/train,Ifd28fd60e4bc1218acc24381d13534c227f2877e,container_update: Retry removing containers.,MERGED,2020-01-20 18:56:35.000000000,2020-01-22 21:55:07.000000000,2020-01-22 21:52:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 18:56:35.000000000', 'files': ['scripts/container-update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/64718a796125dd1197fb4c64ca5cd8db44b750be', 'message': 'container_update: Retry removing containers.\n\nChange-Id: Ifd28fd60e4bc1218acc24381d13534c227f2877e\nRelated-Bug: #1856086\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit ef77f081a21e8483b143558dbf5ace5d909a368f)\n'}]",0,703482,64718a796125dd1197fb4c64ca5cd8db44b750be,13,3,1,25877,,,0,"container_update: Retry removing containers.

Change-Id: Ifd28fd60e4bc1218acc24381d13534c227f2877e
Related-Bug: #1856086
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit ef77f081a21e8483b143558dbf5ace5d909a368f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/703482/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/container-update.py'],1,64718a796125dd1197fb4c64ca5cd8db44b750be,,"import tenacity@tenacity.retry( reraise=True, retry=tenacity.retry_if_exception_type(RuntimeError), stop=tenacity.stop_after_attempt(3), wait=tenacity.wait_fixed(1) ) rc = subproc.returncode if rc != 0: if 'No such container' in cmd_stderr: log.warn('Container that does not exist cannot be deleted: ' '%s' % name) else: log.error('Error removing container: %s' % name) log.error(cmd_stderr) raise RuntimeError(cmd_stdout, cmd_stderr, rc)", if cmd_stderr and \ cmd_stderr != 'Error response from daemon: ' \ 'No such container: {}\n'.format(name): log.debug(cmd_stderr),19,4
openstack%2Fdevstack~master~I1113478175fadec79d0f8bf6ae842ed86e5e686b,openstack/devstack,master,I1113478175fadec79d0f8bf6ae842ed86e5e686b,Fix error in configure_nova_hypervisor with hardware Ironic node,MERGED,2019-07-02 04:41:39.000000000,2020-01-22 21:40:18.000000000,2019-07-29 12:51:58.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 13702}, {'_account_id': 22348}, {'_account_id': 30566}]","[{'number': 1, 'created': '2019-07-02 04:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e477ae376dbb19cd64eb23df9198b0c04f5a3e76', 'message': 'Fix error in configure_nova_hypervisor with hardware Ironic node\n\nTrying to deploy OpenStack environment consisting of ironic nova\nhypervisor & hardware Ironic node (not VM Ironic node) with devstack\ngot failed.\n\nDevstack error says error occurred while calling configure_libvirt\nin configure_nova_hypervisor. This happens because libvirt related\npackages are not installed when specifying ``VIRT_DRIVER=ironic``\nand ``IRONIC_IS_HARDWARE=True``.\n\nTo fix this problem, this commit add ``if`` statement to check\nIronic node is hardware or not using ``is_ironic_hardware`` function\nin ``function-common`` file.\n\nChange-Id: I1113478175fadec79d0f8bf6ae842ed86e5e686b\nClosed-Bug: #1834985\n'}, {'number': 2, 'created': '2019-07-02 04:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/11937bb691310c12f8db4d72014560db11eca612', 'message': 'Fix error in configure_nova_hypervisor with hardware Ironic node\n\nTrying to deploy OpenStack environment consisting of ironic nova\nhypervisor & hardware Ironic node (not VM Ironic node) with devstack\ngot failed.\n\nDevstack error says error occurred while calling configure_libvirt\nin configure_nova_hypervisor. This happens because libvirt related\npackages are not installed when specifying ""VIRT_DRIVER=ironic""\nand ""IRONIC_IS_HARDWARE=True"".\n\nTo fix this problem, this commit add ""if"" statement to check\nIronic node is hardware or not using ""is_ironic_hardware"" function\nin ""function-common"" file.\n\nChange-Id: I1113478175fadec79d0f8bf6ae842ed86e5e686b\nClosed-Bug: #1834985\n'}, {'number': 3, 'created': '2019-07-05 01:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f2f5c854cfd9773e7202763303ae2c7b1d74859d', 'message': 'Fix error in configure_nova_hypervisor with hardware Ironic node\n\nTrying to deploy OpenStack environment consisting of ironic nova\nhypervisor & hardware Ironic node (not VM Ironic node) with devstack\ngot failed.\n\nDevstack error says error occurred while calling configure_libvirt\nin configure_nova_hypervisor. This happens because libvirt related\npackages are not installed when specifying ""VIRT_DRIVER=ironic""\nand ""IRONIC_IS_HARDWARE=True"".\n\nTo fix this problem, this commit add ""if"" statement to check\nIronic node is hardware or not using ""is_ironic_hardware"" function\nin ""function-common"" file.\n\nChange-Id: I1113478175fadec79d0f8bf6ae842ed86e5e686b\nCloses-Bug: #1834985\n'}, {'number': 4, 'created': '2019-07-05 01:22:09.000000000', 'files': ['lib/nova_plugins/hypervisor-ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/705e9cb5dc8b63c902f588d29271686501be0c6e', 'message': 'Fix error in configure_nova_hypervisor with hardware Ironic node\n\nTrying to deploy OpenStack environment consisting of ironic nova\nhypervisor & hardware Ironic node (not VM Ironic node) with devstack\ngot failed.\n\nDevstack error says error occurred while calling configure_libvirt\nin configure_nova_hypervisor. This happens because libvirt related\npackages are not installed when specifying ""VIRT_DRIVER=ironic""\nand ""IRONIC_IS_HARDWARE=True"".\n\nTo fix this problem, this commit add ""if"" statement to check\nIronic node is hardware or not using ""is_ironic_hardware"" function\nin ""function-common"" file.\n\nChange-Id: I1113478175fadec79d0f8bf6ae842ed86e5e686b\nCloses-Bug: #1834985\n'}]",2,668593,705e9cb5dc8b63c902f588d29271686501be0c6e,18,5,4,30566,,,0,"Fix error in configure_nova_hypervisor with hardware Ironic node

Trying to deploy OpenStack environment consisting of ironic nova
hypervisor & hardware Ironic node (not VM Ironic node) with devstack
got failed.

Devstack error says error occurred while calling configure_libvirt
in configure_nova_hypervisor. This happens because libvirt related
packages are not installed when specifying ""VIRT_DRIVER=ironic""
and ""IRONIC_IS_HARDWARE=True"".

To fix this problem, this commit add ""if"" statement to check
Ironic node is hardware or not using ""is_ironic_hardware"" function
in ""function-common"" file.

Change-Id: I1113478175fadec79d0f8bf6ae842ed86e5e686b
Closes-Bug: #1834985
",git fetch https://review.opendev.org/openstack/devstack refs/changes/93/668593/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-ironic'],1,e477ae376dbb19cd64eb23df9198b0c04f5a3e76,bug/1834985, if ! is_ironic_hardware; then configure_libvirt fi, configure_libvirt,3,1
openstack%2Ftrove-dashboard~master~I5ac3da11e140593733992d9d5243c5c44fb72fd6,openstack/trove-dashboard,master,I5ac3da11e140593733992d9d5243c5c44fb72fd6,Drop Django 1.11 support,MERGED,2019-12-28 21:42:13.000000000,2020-01-22 21:04:48.000000000,2020-01-22 21:02:40.000000000,"[{'_account_id': 1736}, {'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-28 21:42:13.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/1d80e9a48bbee5f0a84faa54495590dbe1933879', 'message': 'Drop Django 1.11 support\n\nDjango 1.11 ends its extended support in April 2020 (which is before\nUssuri release), so horizon drops Django 1.11 support in Ussuri.\n\ntox envs for non-primary Django versions are no longer needed in tox.ini\nas testing environments for non-primary Django versions are setup in\nthe zuul jobs now.\n\nhorizon>=17.1.0 is required to use Django 2.2.\nrequirements.txt is updated accordingly.\n\nDepends-On: https://review.opendev.org/#/c/700733/\nChange-Id: I5ac3da11e140593733992d9d5243c5c44fb72fd6\n'}]",0,700736,1d80e9a48bbee5f0a84faa54495590dbe1933879,9,4,1,841,,,0,"Drop Django 1.11 support

Django 1.11 ends its extended support in April 2020 (which is before
Ussuri release), so horizon drops Django 1.11 support in Ussuri.

tox envs for non-primary Django versions are no longer needed in tox.ini
as testing environments for non-primary Django versions are setup in
the zuul jobs now.

horizon>=17.1.0 is required to use Django 2.2.
requirements.txt is updated accordingly.

Depends-On: https://review.opendev.org/#/c/700733/
Change-Id: I5ac3da11e140593733992d9d5243c5c44fb72fd6
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/36/700736/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,1d80e9a48bbee5f0a84faa54495590dbe1933879,drop-django111-support,"envlist = py37,pep8","envlist = py37,py3-{dj111,dj22},pep8 dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3",2,4
openstack%2Fneutron~stable%2Fpike~I044980a98845edc7b0a02e3323a1e62eb54c10c7,openstack/neutron,stable/pike,I044980a98845edc7b0a02e3323a1e62eb54c10c7,Set DB retry for quota_enforcement pecan_wsgi hook,MERGED,2019-12-19 09:20:03.000000000,2020-01-22 21:04:17.000000000,2020-01-22 21:04:17.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 9732}, {'_account_id': 16963}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-19 09:20:03.000000000', 'files': ['neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/quota/resource_registry.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e88ae8dc32239a21985d331ec25641f0a4757a5', 'message': 'Set DB retry for quota_enforcement pecan_wsgi hook\n\nThe hook starts a DB transaction and should be covered with\nDB retry decorator.\n\nFor Rocky backport had to import neutron_lib.db for retry_db_errors.\n\nCloses-Bug: #1777965\nCloses-Bug: #1771293\nChange-Id: I044980a98845edc7b0a02e3323a1e62eb54c10c7\n(cherry picked from commit ab286bcdaccb788ab9df3186e0605e93a9b10bbc)\n(cherry picked from commit 3ec7aed8a367ba2a44fed300b08797e02fc47e06)\n(cherry picked from commit 22250e783b194b9d188268c0d301581d73bd430d)\n(cherry picked from commit 2084585b81649b2afa747e24f036d54e5e16e90e)\n'}]",1,699938,8e88ae8dc32239a21985d331ec25641f0a4757a5,18,7,1,2733,,,0,"Set DB retry for quota_enforcement pecan_wsgi hook

The hook starts a DB transaction and should be covered with
DB retry decorator.

For Rocky backport had to import neutron_lib.db for retry_db_errors.

Closes-Bug: #1777965
Closes-Bug: #1771293
Change-Id: I044980a98845edc7b0a02e3323a1e62eb54c10c7
(cherry picked from commit ab286bcdaccb788ab9df3186e0605e93a9b10bbc)
(cherry picked from commit 3ec7aed8a367ba2a44fed300b08797e02fc47e06)
(cherry picked from commit 22250e783b194b9d188268c0d301581d73bd430d)
(cherry picked from commit 2084585b81649b2afa747e24f036d54e5e16e90e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/699938/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/quota/resource_registry.py']",2,8e88ae8dc32239a21985d331ec25641f0a4757a5,bug/1777965,," Please note that this routine begins a nested transaction, and it is not recommended that this transaction begins within another transaction. For this reason the function will raise a SqlAlchemy exception if such an attempt is made. ",1,5
openstack%2Fdevstack~master~I4423dfb2c30299903b52a2bb06d846dd487f5b8b,openstack/devstack,master,I4423dfb2c30299903b52a2bb06d846dd487f5b8b,Fix pip uncap fallout for nova and barbican,MERGED,2020-01-22 05:59:24.000000000,2020-01-22 20:44:11.000000000,2020-01-22 20:41:55.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 05:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d1b3785e3c4be34336d98be7ccaf11bf739e7d87', 'message': 'Fix pip uncap fallout for nova\n\nChange-Id: I4423dfb2c30299903b52a2bb06d846dd487f5b8b\n'}, {'number': 2, 'created': '2020-01-22 07:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0c4b2e1f6420627e885c515f38b47337c26df5b6', 'message': 'Fix pip uncap fallout for nova\n\n- Make PyYAML overridable\n- Hard disable peakmem_tracker for d-gate\n\nChange-Id: I4423dfb2c30299903b52a2bb06d846dd487f5b8b\n'}, {'number': 3, 'created': '2020-01-22 09:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/60cfe84386763faae9b17883e6f4e39c64faa6ee', 'message': 'Fix pip uncap fallout for nova\n\n- Make PyYAML overridable\n- Hard disable peakmem_tracker for d-gate\n\nChange-Id: I4423dfb2c30299903b52a2bb06d846dd487f5b8b\n'}, {'number': 4, 'created': '2020-01-22 13:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/43b146162d35e2ce76a3a3395b11f1fa2717ac2f', 'message': 'Fix pip uncap fallout for nova\n\n- Make PyYAML overridable\n- Hard disable peakmem_tracker for d-gate\n\nChange-Id: I4423dfb2c30299903b52a2bb06d846dd487f5b8b\n'}, {'number': 5, 'created': '2020-01-22 13:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aad95935198e4d6800538aafc1f462f4e9e1dfd3', 'message': 'Fix pip uncap fallout for devstack-gate\n\n- Make PyYAML overridable\n- Hard disable peakmem_tracker for d-gate\n\nChange-Id: I4423dfb2c30299903b52a2bb06d846dd487f5b8b\n'}, {'number': 6, 'created': '2020-01-22 13:38:46.000000000', 'files': ['tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e18325ca67dcb70b01a29563432291e1baf9f46e', 'message': 'Fix pip uncap fallout for nova and barbican\n\nNeed to make PyYAML overridable on Ubuntu, it is a dependency for e.g.\ncloud-init, so we cannot remove it.\n\nDepends-On: https://review.opendev.org/703792\nChange-Id: I4423dfb2c30299903b52a2bb06d846dd487f5b8b\n'}]",4,703735,e18325ca67dcb70b01a29563432291e1baf9f46e,31,11,6,13252,,,0,"Fix pip uncap fallout for nova and barbican

Need to make PyYAML overridable on Ubuntu, it is a dependency for e.g.
cloud-init, so we cannot remove it.

Depends-On: https://review.opendev.org/703792
Change-Id: I4423dfb2c30299903b52a2bb06d846dd487f5b8b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/35/703735/5 && git format-patch -1 --stdout FETCH_HEAD,['tools/fixup_stuff.sh'],1,d1b3785e3c4be34336d98be7ccaf11bf739e7d87,fix-nova," # Since pip10, pip will refuse to uninstall files from packages # that were created with distutils (rather than more modern # setuptools). This is because it technically doesn't have a # manifest of what to remove. However, in most cases, simply # overwriting works. So this hacks around those packages that # have been dragged in by some other system dependency sudo rm -f /usr/lib/python3/dist-packages/PyYAML-*.egg-info",,8,0
openstack%2Fheat~master~Ib5021022dc7dbd54445d1898d1f88323941ea6a4,openstack/heat,master,Ib5021022dc7dbd54445d1898d1f88323941ea6a4,[train][goal] Define new 'heat-functional-devstack-ipv6-only' job,NEW,2019-09-17 19:17:04.000000000,2020-01-22 20:10:51.000000000,,"[{'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 19:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/949502ba3e9ada927787f848e20fb86e739933cd', 'message': ""[train][goal] Define new heat-functional-orig-mysql-lbaasv2-ipv6-only job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nHeat has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and\n'devstack-tempest-ipv6' cannot be used and we have to copy the whole\nrun.yaml to set the IPv6 setting and run the IPv6 verification\nscript via post_test_hook.\n\nThis commit adds the new job 'heat-functional-orig-mysql-lbaasv2-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35892\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Ib5021022dc7dbd54445d1898d1f88323941ea6a4\n""}, {'number': 2, 'created': '2019-09-20 01:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ddd065c94403ad39bc667a16258ac61dd5e03c6c', 'message': ""[train][goal] Define new heat-functional-orig-mysql-lbaasv2-ipv6-only job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nHeat has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and\n'devstack-tempest-ipv6' cannot be used and we have to copy the whole\nrun.yaml to set the IPv6 setting and run the IPv6 verification\nscript via post_test_hook.\n\nThis commit adds the new job 'heat-functional-orig-mysql-lbaasv2-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35892\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Ib5021022dc7dbd54445d1898d1f88323941ea6a4\n""}, {'number': 3, 'created': '2019-11-07 04:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/55cb2d73959b14610d8b5f10b881ac4494ea1e94', 'message': ""[train][goal] Define new heat-functional-orig-mysql-lbaasv2-ipv6-only job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nHeat has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and\n'devstack-tempest-ipv6' cannot be used and we have to copy the whole\nrun.yaml to set the IPv6 setting and run the IPv6 verification\nscript via post_test_hook.\n\nThis commit adds the new job 'heat-functional-orig-mysql-lbaasv2-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35892\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Ib5021022dc7dbd54445d1898d1f88323941ea6a4\n""}, {'number': 4, 'created': '2020-01-08 19:30:49.000000000', 'files': ['playbooks/devstack-ipv6/functional/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/f96a4a6486c5f33036d68ec179a5bfc145a03452', 'message': ""[train][goal] Define new 'heat-functional-devstack-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds the new job 'heat-functional-devstack-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nStory: #2005477\nTask: #35892\n\nChange-Id: Ib5021022dc7dbd54445d1898d1f88323941ea6a4\n""}]",12,682720,f96a4a6486c5f33036d68ec179a5bfc145a03452,29,4,4,8556,,,0,"[train][goal] Define new 'heat-functional-devstack-ipv6-only' job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Devstack, Tempest has defined the base job 'devstack-ipv6' and
'devstack-tempest-ipv6' which will deploy services on IPv6.

This commit adds the new job 'heat-functional-devstack-ipv6-only'
run on gate and set the required IPv6 setting'.

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Story: #2005477
Task: #35892

Change-Id: Ib5021022dc7dbd54445d1898d1f88323941ea6a4
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/682720/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/devstack/functional/run-ipv6.yaml']",2,949502ba3e9ada927787f848e20fb86e739933cd,ipv6-only-deployment-and-testing,"- hosts: all name: IPv6 Job for functional tests tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true services=rabbit,tempest,mysql,dstat,key services+=,n-api,n-api-meta,n-cpu,n-cond,n-sch,n-crt services+=,placement-api,placement-client services+=,g-api,g-reg services+=,c-sch,c-api,c-vol,c-bak services+=,neutron-api,neutron-dhcp,neutron-metadata-agent,neutron-agent,neutron-l3,neutron-trunk if [ ""{{ use_python3 }}"" -eq 1 ] ; then export DEVSTACK_GATE_USE_PYTHON3=True # Swift does not work so skip s-* for python3x for now else export DEVSTACK_GATE_USE_PYTHON3=False services+=,s-proxy,s-object,s-container,s-account fi export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_NOTESTS=1 export DEVSTACK_GATE_EXERCISES=0 export DEVSTACK_GATE_INSTALL_TESTONLY=1 export DEVSTACK_PROJECT_FROM_GIT=python-heatclient export KEEP_LOCALRC=1 export PROJECTS=""openstack/ceilometer $PROJECTS"" export PROJECTS=""openstack/aodh $PROJECTS"" export PROJECTS=""openstack/zaqar $PROJECTS"" export PROJECTS=""openstack/heat-agents $PROJECTS"" export PROJECTS=""openstack/python-zaqarclient $PROJECTS"" export PROJECTS=""openstack/neutron $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ceilometer https://opendev.org/openstack/ceilometer"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin aodh https://opendev.org/openstack/aodh"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin zaqar https://opendev.org/openstack/zaqar"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron https://opendev.org/openstack/neutron"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin heat https://opendev.org/openstack/heat"" # Enable octavia plugin and services export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin octavia https://opendev.org/openstack/octavia"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_AMP_IMAGE_FILE=/tmp/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_AMP_IMAGE_SIZE=3"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_AMP_IMAGE_NAME=test-only-amphora-x64-haproxy-ubuntu-bionic"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_AMPHORA_DRIVER=amphora_noop_driver"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_COMPUTE_DRIVER=compute_noop_driver"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_NETWORK_DRIVER=network_noop_driver"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""DISABLE_AMP_IMAGE_BUILD=True"" services+=,octavia,o-cw,o-hk,o-hm,o-api export PROJECTS=""openstack/octavia $PROJECTS"" export PROJECTS=""openstack/barbican $PROJECTS"" export PROJECTS=""openstack/python-barbicanclient $PROJECTS"" export PROJECTS=""openstack/barbican-tempest-plugin $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin barbican https://opendev.org/openstack/barbican"" # use heat-tempest-plugin export PROJECTS=""openstack/heat-tempest-plugin $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""TEMPEST_PLUGINS+=' /opt/stack/new/heat-tempest-plugin'"" export DEVSTACK_GATE_USE_PYTHON3=True export DEVSTACK_LOCAL_CONFIG+=$'\n'""SERVICE_IP_VERSION=6"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""SERVICE_HOST=''"" export OVERRIDE_ENABLED_SERVICES=$services if [ ""{{ branch_override }}"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi if [ ""{{ use_apache }}"" -eq 0 ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""HEAT_USE_MOD_WSGI=False"" fi if [ ""{{ use_amqp1 }}"" -eq 1 ] ; then export PROJECTS=""openstack/devstack-plugin-amqp1 $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""export AMQP1_SERVICE=qpid-hybrid"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin devstack-plugin-amqp1 https://opendev.org/openstack/devstack-plugin-amqp1"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""export CELLSV2_SETUP=singleconductor"" export DEVSTACK_PROJECT_FROM_GIT=""oslo.messaging,$DEVSTACK_PROJECT_FROM_GIT"" fi export DISABLE_CONVERGENCE=""{{ disable_convergence }}"" function pre_test_hook { cd /opt/stack/new/heat/heat_integrationtests source ./pre_test_hook.sh } export -f pre_test_hook function post_test_hook { cd /opt/stack/new/heat/heat_integrationtests source ./post_test_hook.sh cd $BASE/new/tempest/tools ./verify-ipv6-only-deployments.sh } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,131,0
openstack%2Ftripleo-heat-templates~master~Ie2be7f9030a5111cc33025f84c22efdc08eabcdd,openstack/tripleo-heat-templates,master,Ie2be7f9030a5111cc33025f84c22efdc08eabcdd,split() function expects string not array,MERGED,2020-01-21 19:26:57.000000000,2020-01-22 19:36:41.000000000,2020-01-22 19:36:41.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 19:26:57.000000000', 'files': ['environments/metrics/qdr-edge-only.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c4802acdf8f849713972705c5351a5190234122', 'message': 'split() function expects string not array\n\nChange-Id: Ie2be7f9030a5111cc33025f84c22efdc08eabcdd\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,703678,2c4802acdf8f849713972705c5351a5190234122,16,8,1,7294,,,0,"split() function expects string not array

Change-Id: Ie2be7f9030a5111cc33025f84c22efdc08eabcdd
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/703678/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/qdr-edge-only.yaml'],1,2c4802acdf8f849713972705c5351a5190234122,qdr/interior_mesh_nodes, tripleo::profile::base::metrics::qdr::interior_mesh_nodes: '', tripleo::profile::base::metrics::qdr::interior_mesh_nodes: [],1,1
openstack%2Fcharm-glance~master~Iaba10cc70f60faa33e00cc5d33e03626f54374f9,openstack/charm-glance,master,Iaba10cc70f60faa33e00cc5d33e03626f54374f9,Only run db migration once,MERGED,2020-01-16 16:51:15.000000000,2020-01-22 19:34:36.000000000,2020-01-22 19:14:31.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-16 16:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/c467885375489bde752444950f1cc2a17e7a2006', 'message': 'Only run db migration once\n\nThis change follows the existing pattern that the keystone charm uses to only\nrun db migration once. To ensure it only runs once a flag is placed in the\nleader db once it has run.\n\nChange-Id: Iaba10cc70f60faa33e00cc5d33e03626f54374f9\n'}, {'number': 2, 'created': '2020-01-16 17:51:25.000000000', 'files': ['hooks/glance_utils.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/fcde1b022bbfed11c40b039a24c0c3ea08c03ff4', 'message': 'Only run db migration once\n\nThis change follows the existing pattern that the keystone charm uses to only\nrun db migration once. To ensure it only runs once a flag is placed in the\nleader db once it has run.\n\nChange-Id: Iaba10cc70f60faa33e00cc5d33e03626f54374f9\n'}]",0,702922,fcde1b022bbfed11c40b039a24c0c3ea08c03ff4,16,4,2,12549,,,0,"Only run db migration once

This change follows the existing pattern that the keystone charm uses to only
run db migration once. To ensure it only runs once a flag is placed in the
leader db once it has run.

Change-Id: Iaba10cc70f60faa33e00cc5d33e03626f54374f9
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/22/702922/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'hooks/glance_relations.py']",2,c467885375489bde752444950f1cc2a17e7a2006,no-db-sync-rerun," is_db_initialised, if is_db_initialised(): juju_log('Skipping DB sync, database already initialised') else: juju_log('Cluster leader, performing db sync') migrate_database()"," juju_log('Cluster leader, performing db sync') migrate_database()",8,3
openstack%2Ftripleo-heat-templates~master~Iea9ef9dd4ac224a1f9fa5eaca0aa0959c802bcdd,openstack/tripleo-heat-templates,master,Iea9ef9dd4ac224a1f9fa5eaca0aa0959c802bcdd,Change optparse to argparse,MERGED,2020-01-18 11:24:12.000000000,2020-01-22 18:59:19.000000000,2020-01-22 18:59:19.000000000,"[{'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-01-18 11:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c4fb06ff5979d362c1cfcbf85e98912f80d5faf', 'message': 'Change optparse to argparse\n\nThe optparse module has been deprecated since python version2.7[1].\nThis change switches container_config_scripts files that was\nusing optparse to the newer argparse usage.\n\n[1] https://docs.python.org/2/library/optparse.html\n\nChange-Id: Iea9ef9dd4ac224a1f9fa5eaca0aa0959c802bcdd\n'}, {'number': 2, 'created': '2020-01-18 13:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56ffccb8e06dae8dfd17654578aaba408286fe35', 'message': 'Change optparse to argparse\n\nThe optparse module has been deprecated since python version2.7[1].\nThis change switches container_config_scripts files that was\nusing optparse to the newer argparse usage.\n\n[1] https://docs.python.org/2/library/optparse.html\n\nChange-Id: Iea9ef9dd4ac224a1f9fa5eaca0aa0959c802bcdd\n'}, {'number': 3, 'created': '2020-01-19 09:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ad8b5aa932e4fa2cbca68fde557b602110d5f61', 'message': 'Change optparse to argparse\n\nThe optparse module has been deprecated since python version2.7[1].\nThis change switches container_config_scripts files that was\nusing optparse to the newer argparse usage.\n\n[1] https://docs.python.org/2/library/optparse.html\n\nChange-Id: Iea9ef9dd4ac224a1f9fa5eaca0aa0959c802bcdd\n'}, {'number': 4, 'created': '2020-01-21 04:17:32.000000000', 'files': ['container_config_scripts/nova_wait_for_compute_service.py', 'container_config_scripts/nova_wait_for_api_service.py', 'network/endpoints/build_endpoint_map.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08ca0a97d42a00594fec183511a2a48ea26e7ca4', 'message': 'Change optparse to argparse\n\nThe optparse module has been deprecated since python version2.7[1].\nThis change switches remaining modules that was using optparse to the\nnewer argparse usage.\n\n[1] https://docs.python.org/2/library/optparse.html\n\nChange-Id: Iea9ef9dd4ac224a1f9fa5eaca0aa0959c802bcdd\n'}]",6,703230,08ca0a97d42a00594fec183511a2a48ea26e7ca4,33,8,4,29775,,,0,"Change optparse to argparse

The optparse module has been deprecated since python version2.7[1].
This change switches remaining modules that was using optparse to the
newer argparse usage.

[1] https://docs.python.org/2/library/optparse.html

Change-Id: Iea9ef9dd4ac224a1f9fa5eaca0aa0959c802bcdd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/703230/4 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/nova_wait_for_compute_service.py', 'container_config_scripts/nova_wait_for_api_service.py']",2,8c4fb06ff5979d362c1cfcbf85e98912f80d5faf,,"import argparse parser = argparse.ArgumentParser(usage='%(prog)s [options]') parser.add_argument('-k', '--insecure', args = parser.parse_args() args.insecure) sess = session.Session(auth=auth, verify=args.insecure)","from optparse import OptionParser parser = OptionParser(usage=""usage: %prog [options]"") parser.add_option('-k', '--insecure', (options, args) = parser.parse_args() options.insecure) sess = session.Session(auth=auth, verify=options.insecure)",12,12
openstack%2Fneutron~master~I7be206006f8c035b983bac8ef34f937e64734bb9,openstack/neutron,master,I7be206006f8c035b983bac8ef34f937e64734bb9,[OVN] Double the tempest_concurrency,MERGED,2020-01-22 11:37:48.000000000,2020-01-22 18:32:21.000000000,2020-01-22 18:26:24.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-22 11:37:48.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9e2514ddccb249bc4316b60dfcffb88ae118075', 'message': '[OVN] Double the tempest_concurrency\n\nThe neutron-ovn-base had the ""tempest_concurrency"" set to 2, which is\nhalve the value from other tempest jobs.\n\nThis patch changes it to 4 to speed things up and to match with the rest\nof the jobs in neutron.\n\nChange-Id: I7be206006f8c035b983bac8ef34f937e64734bb9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,703775,f9e2514ddccb249bc4316b60dfcffb88ae118075,9,4,1,6773,,,0,"[OVN] Double the tempest_concurrency

The neutron-ovn-base had the ""tempest_concurrency"" set to 2, which is
halve the value from other tempest jobs.

This patch changes it to 4 to speed things up and to match with the rest
of the jobs in neutron.

Change-Id: I7be206006f8c035b983bac8ef34f937e64734bb9
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/703775/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,f9e2514ddccb249bc4316b60dfcffb88ae118075,bp/neutron-ovn-merge, tempest_concurrency: 4, tempest_concurrency: 2,1,1
openstack%2Fpython-swiftclient~master~I8bb9e05f386076aa652b3955f0abf757d229afed,openstack/python-swiftclient,master,I8bb9e05f386076aa652b3955f0abf757d229afed,packaging: Properly flag universal wheel,MERGED,2020-01-21 05:21:41.000000000,2020-01-22 18:30:24.000000000,2020-01-22 18:26:26.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 05:21:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/13970ac5fa2361a97fd2565bde9f08e23262d6fd', 'message': ""packaging: Properly flag universal wheel\n\nI'm not sure we've *ever* done this properly; see the PyPA docs:\nhttps://packaging.python.org/guides/distributing-packages-using-setuptools/#universal-wheels\n\nChange-Id: I8bb9e05f386076aa652b3955f0abf757d229afed\n""}]",0,703540,13970ac5fa2361a97fd2565bde9f08e23262d6fd,7,2,1,15343,,,0,"packaging: Properly flag universal wheel

I'm not sure we've *ever* done this properly; see the PyPA docs:
https://packaging.python.org/guides/distributing-packages-using-setuptools/#universal-wheels

Change-Id: I8bb9e05f386076aa652b3955f0abf757d229afed
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/40/703540/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,13970ac5fa2361a97fd2565bde9f08e23262d6fd,,[bdist_wheel],[wheel],1,1
openstack%2Fopenstack-helm-infra~master~Ia80880302b9c5c02fdb1c00cb62f6640860e898e,openstack/openstack-helm-infra,master,Ia80880302b9c5c02fdb1c00cb62f6640860e898e,Do not set CPU resources to ovs-vswitch DPDK pod,MERGED,2020-01-20 19:17:42.000000000,2020-01-22 18:28:55.000000000,2020-01-22 18:26:08.000000000,"[{'_account_id': 8898}, {'_account_id': 16881}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 25700}, {'_account_id': 29397}]","[{'number': 1, 'created': '2020-01-20 19:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a75b75a50200b965c8f46f212f50edadb0bbe495', 'message': 'Do not set CPU resources to ovs-vswitch DPDK pod\n\nWhen DPDK is enbaled, configuring CPU resource limits\nthrough Kubernetes affects packet throughput adversely.\nDPDK PMD cores could not get 100% busy.\n\nThey need to be configured by isolating them in host grub\nand later through PMD core mask.\n\nChange-Id: Ia80880302b9c5c02fdb1c00cb62f6640860e898e\n'}, {'number': 2, 'created': '2020-01-20 22:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c525f8629ed5892c0825a47c5b8cc5086d2fd999', 'message': 'Do not set CPU resources to ovs-vswitch DPDK pod\n\nWhen DPDK is enbaled, configuring CPU resource limits\nthrough Kubernetes affects packet throughput adversely.\nDPDK PMD cores could not get 100% busy.\n\nThey need to be configured by isolating them in host grub\nand later through PMD core mask.\n\nChange-Id: Ia80880302b9c5c02fdb1c00cb62f6640860e898e\n'}, {'number': 3, 'created': '2020-01-21 23:17:36.000000000', 'files': ['openvswitch/templates/daemonset-ovs-vswitchd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70d93625e886a45c9afe2aa748228c39c5897e22', 'message': 'Do not set CPU resources to ovs-vswitch DPDK pod\n\nWhen DPDK is enbaled, configuring CPU resource limits\nthrough Kubernetes affects packet throughput adversely.\nDPDK PMD cores could not get 100% busy.\n\nThey need to be configured by isolating them in host grub\nand later through PMD core mask.\n\nChange-Id: Ia80880302b9c5c02fdb1c00cb62f6640860e898e\n'}]",7,703484,70d93625e886a45c9afe2aa748228c39c5897e22,22,11,3,18256,,,0,"Do not set CPU resources to ovs-vswitch DPDK pod

When DPDK is enbaled, configuring CPU resource limits
through Kubernetes affects packet throughput adversely.
DPDK PMD cores could not get 100% busy.

They need to be configured by isolating them in host grub
and later through PMD core mask.

Change-Id: Ia80880302b9c5c02fdb1c00cb62f6640860e898e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/84/703484/2 && git format-patch -1 --stdout FETCH_HEAD,['openvswitch/templates/daemonset-ovs-vswitchd.yaml'],1,a75b75a50200b965c8f46f212f50edadb0bbe495,,"{{/* Limiting CPU cores would severely affect packet throughput It should be handled through lcore and pmd core masks. */}} {{ $_ := unset $envAll.Values.pod.resources.ovs.vswitchd.requests ""cpu"" }} {{ $_ := unset $envAll.Values.pod.resources.ovs.vswitchd.limits ""cpu"" }}",,4,0
openstack%2Fnova~stable%2Fstein~I6a4252b0c12c41c233299f30ce8294fef21c7b40,openstack/nova,stable/stein,I6a4252b0c12c41c233299f30ce8294fef21c7b40,libvirt: check job status for VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event,MERGED,2019-12-30 14:35:31.000000000,2020-01-22 18:22:05.000000000,2020-01-22 18:14:07.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-30 14:35:31.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6310e693039cc3b6d2808915a3b4daf7bbffb9a8', 'message': 'libvirt: check job status for VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event\n\nChange Ic5cab99944df9e501ba2032eb96911c36304494d added handling for\nthe VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event during live migration\nbut failed to distinguish between the live migration actually succeeding\nor failing before queueing the EVENT_LIFECYCLE_MIGRATION_COMPLETED\nup into the ComputeManager.handle_lifecycle_event method.\n\nAs a result, failed live migrations will inadvertantly trigger\nactivation of the port bindings on the destination host, which\ndeactivates the source host port bindings, and then\n_rollback_live_migration will delete those activated dest host port\nbindings and leave the source host port bindings deactivated.\n\nIn this change, if we get the VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED\nevent, we attempt to get the job status to determine the course to\ntake and only queue the EVENT_LIFECYCLE_MIGRATION_COMPLETED event,\nwhich triggers the dest host port activation, if we can determine\nthe live migration job completed successfully. Otherwise we simply\nreport the guest as paused, the same as before Ic5cab9994.\n\nConflicts:\n      nova/virt/libvirt/host.py\n\nNOTE(mriedem): The conflict on the imports is due to not having\nchange I4aeac9b2397bb2f5e130d1e58829a5e549fcb191 in Stein.\n\nChange-Id: I6a4252b0c12c41c233299f30ce8294fef21c7b40\nCloses-Bug: #1788014\n(cherry picked from commit aa87b9c288d316b85079e681e0df24354ec1912c)\n(cherry picked from commit 27bfd0bc6233c25114504bb363402807752a7ece)\n'}]",0,700774,6310e693039cc3b6d2808915a3b4daf7bbffb9a8,20,7,1,6873,,,0,"libvirt: check job status for VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event

Change Ic5cab99944df9e501ba2032eb96911c36304494d added handling for
the VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event during live migration
but failed to distinguish between the live migration actually succeeding
or failing before queueing the EVENT_LIFECYCLE_MIGRATION_COMPLETED
up into the ComputeManager.handle_lifecycle_event method.

As a result, failed live migrations will inadvertantly trigger
activation of the port bindings on the destination host, which
deactivates the source host port bindings, and then
_rollback_live_migration will delete those activated dest host port
bindings and leave the source host port bindings deactivated.

In this change, if we get the VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED
event, we attempt to get the job status to determine the course to
take and only queue the EVENT_LIFECYCLE_MIGRATION_COMPLETED event,
which triggers the dest host port activation, if we can determine
the live migration job completed successfully. Otherwise we simply
report the guest as paused, the same as before Ic5cab9994.

Conflicts:
      nova/virt/libvirt/host.py

NOTE(mriedem): The conflict on the imports is due to not having
change I4aeac9b2397bb2f5e130d1e58829a5e549fcb191 in Stein.

Change-Id: I6a4252b0c12c41c233299f30ce8294fef21c7b40
Closes-Bug: #1788014
(cherry picked from commit aa87b9c288d316b85079e681e0df24354ec1912c)
(cherry picked from commit 27bfd0bc6233c25114504bb363402807752a7ece)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/700774/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_migration.py']",5,6310e693039cc3b6d2808915a3b4daf7bbffb9a8,bug/1788014," @mock.patch('nova.virt.libvirt.migration.LOG', new_callable=mock.NonCallableMock) # asserts not called @mock.patch('nova.virt.libvirt.guest.Guest.is_active', return_value=True) def test_live_migration_find_type_no_logging(self, mock_active, _mock_log): self.assertEqual(fakelibvirt.VIR_DOMAIN_JOB_FAILED, migration.find_job_type(self.guest, self.instance, logging_ok=False)) ",,88,31
openstack%2Fdevstack~master~Ie34d4dc1ab30ced8161796fe32628db07de86cc9,openstack/devstack,master,Ie34d4dc1ab30ced8161796fe32628db07de86cc9,Adding nova-live-migration job in devstack gate,MERGED,2020-01-19 02:02:45.000000000,2020-01-22 18:20:13.000000000,2020-01-22 18:14:17.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-19 02:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/87067dcd1587b530ff0e12b784026f6efa19ca84', 'message': 'Adding nova-live-migration job in devstack gate\n\nnova-live-migration is legacy job and  and rely on\ndevstack-gate + devstack setting so any change in devstack can\nbreak it. Example bug: 1860021\n\nWe can remove this job once it is migrated to zuulv3 native.\n\nChange-Id: Ie34d4dc1ab30ced8161796fe32628db07de86cc9\nRelated-bug: #1860021\n'}, {'number': 2, 'created': '2020-01-19 09:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9d31d6b19d1d4dbd01b26ec28b1ee16b8c6c17f8', 'message': 'Adding nova-live-migration job in devstack gate\n\nnova-live-migration is legacy job and  and rely on\ndevstack-gate + devstack setting so any change in devstack can\nbreak it. Example bug: 1860021\n\nWe can remove this job once it is migrated to zuulv3 native.\n\nChange-Id: Ie34d4dc1ab30ced8161796fe32628db07de86cc9\nRelated-bug: #1860021\n'}, {'number': 3, 'created': '2020-01-21 15:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/597819642d31fd15d57882163e95a914b7d522e5', 'message': 'Adding nova-live-migration job in devstack gate\n\nnova-live-migration is legacy job and  and rely on\ndevstack-gate + devstack setting so any change in devstack can\nbreak it. Example bug: 1860021\n\nWe can remove this job once it is migrated to zuulv3 native.\n\nChange-Id: Ie34d4dc1ab30ced8161796fe32628db07de86cc9\nRelated-bug: #1860021\n'}, {'number': 4, 'created': '2020-01-22 05:59:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2e45f2c267c9ababdbdfc4c505b329398391c5f9', 'message': 'Adding nova-live-migration job in devstack gate\n\nnova-live-migration is legacy job and  and rely on\ndevstack-gate + devstack setting so any change in devstack can\nbreak it. Example bug: 1860021\n\nWe can remove this job once it is migrated to zuulv3 native.\n\nChange-Id: Ie34d4dc1ab30ced8161796fe32628db07de86cc9\nRelated-bug: #1860021\n'}]",2,703271,2e45f2c267c9ababdbdfc4c505b329398391c5f9,31,9,4,8556,,,0,"Adding nova-live-migration job in devstack gate

nova-live-migration is legacy job and  and rely on
devstack-gate + devstack setting so any change in devstack can
break it. Example bug: 1860021

We can remove this job once it is migrated to zuulv3 native.

Change-Id: Ie34d4dc1ab30ced8161796fe32628db07de86cc9
Related-bug: #1860021
",git fetch https://review.opendev.org/openstack/devstack refs/changes/71/703271/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87067dcd1587b530ff0e12b784026f6efa19ca84,fix-nova, # NOTE(gmann): Remove this job from devstack pipeline once it is # migrated to zuulv3 native. This is legacy job and rely on # devstack-gate + devstack setting so any change in devstack can # break it. - nova-live-migration: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # NOTE(gmann): Remove this job from devstack pipeline once it is # migrated to zuulv3 native. This is legacy job and rely on # devstack-gate + devstack setting so any change in devstack can # break it. - nova-live-migration: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,,16,0
openstack%2Fneutron~master~I72d722af659a35266a9a391f4a73035b2bd3dabd,openstack/neutron,master,I72d722af659a35266a9a391f4a73035b2bd3dabd,Replace support matrix ext with common library,MERGED,2017-12-06 23:16:48.000000000,2020-01-22 18:19:13.000000000,2020-01-22 18:14:13.000000000,"[{'_account_id': 170}, {'_account_id': 308}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 10278}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2017-12-06 23:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/842e2de42450bef0e02e6d6f5dbd844ce044bf2f', 'message': 'Replace support matrix ext with common library\n\nThe code to generate a support matrix has been pulled into a common\nlibrary. Using this instead of duplicating code in various projects that\nneed it.\n\nDepends-On: I3ecea5f6a8b8e6bcfbc34019a2d2652ada8c9c57\nChange-Id: I72d722af659a35266a9a391f4a73035b2bd3dabd\n'}, {'number': 2, 'created': '2018-06-26 10:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d9d7115d9381f856d614c420acf19b840bf5f79', 'message': 'Replace support matrix ext with common library\n\nThe code to generate a support matrix has been pulled into a common\nlibrary. Using this instead of duplicating code in various projects that\nneed it.\n\nChange-Id: I72d722af659a35266a9a391f4a73035b2bd3dabd\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2018-06-28 13:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a8bf92225e6ff09c26f0fc1fc935ff2cb68d438', 'message': 'Replace support matrix ext with common library\n\nThe code to generate a support matrix has been pulled into a common\nlibrary. Using this instead of duplicating code in various projects that\nneed it.\n\nChange-Id: I72d722af659a35266a9a391f4a73035b2bd3dabd\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2020-01-13 13:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa0380a4ced29ec9d1942034be2542198d72bdce', 'message': 'Replace support matrix ext with common library\n\nThe code to generate a support matrix has been pulled into a common\nlibrary. Using this instead of duplicating code in various projects that\nneed it.\n\nChange-Id: I72d722af659a35266a9a391f4a73035b2bd3dabd\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n'}, {'number': 5, 'created': '2020-01-17 10:10:57.000000000', 'files': ['doc/source/feature_classification/general_feature_support_matrix.ini', 'doc/source/feature_classification/provider_network_support_matrix.ini', 'doc/source/ext/support_matrix.py', 'doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ac866950fff7de248c93c581ab56a3a1c004ef1', 'message': 'Replace support matrix ext with common library\n\nThe code to generate a support matrix has been pulled into a common\nlibrary. Using this instead of duplicating code in various projects that\nneed it.\n\nChange-Id: I72d722af659a35266a9a391f4a73035b2bd3dabd\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n'}]",2,526218,3ac866950fff7de248c93c581ab56a3a1c004ef1,47,18,5,170,,,0,"Replace support matrix ext with common library

The code to generate a support matrix has been pulled into a common
library. Using this instead of duplicating code in various projects that
need it.

Change-Id: I72d722af659a35266a9a391f4a73035b2bd3dabd
Co-Authored-By: Stephen Finucane <stephenfin@redhat.com>
Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/526218/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/feature_classification/general_feature_support_matrix.ini', 'doc/source/feature_classification/provider_network_support_matrix.ini', 'test-requirements.txt', 'doc/source/ext/support_matrix.py', 'doc/source/conf.py']",5,842e2de42450bef0e02e6d6f5dbd844ce044bf2f,support-matrix," 'sphinx_feature_classification.support_matrix',"," 'support_matrix',",104,597
openstack%2Fnova~stable%2Fstein~I0981c0349f163120939c3ddb9aeac82a01ceacd0,openstack/nova,stable/stein,I0981c0349f163120939c3ddb9aeac82a01ceacd0,libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY,MERGED,2019-12-30 14:35:31.000000000,2020-01-22 18:19:09.000000000,2020-01-22 18:14:01.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-30 14:35:31.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f48bbd224e30ed7a0caf63636def80b0c2e522e', 'message': 'libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY\n\nAs the comment being removed says, libvirt >= 1.3.3 will provide\nthe VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY and\nVIR_DOMAIN_EVENT_SUSPENDED_MIGRATED enums and since we require\n3.0.0 since Stein [1] we can drop the hasattr checks.\n\n[1] I408baef12358a83921c4693b847a692f6c19e36f\n\nChange-Id: I0981c0349f163120939c3ddb9aeac82a01ceacd0\n(cherry picked from commit 4745fd43d804f7a8473146231dd9deb98379d244)\n'}]",0,700773,2f48bbd224e30ed7a0caf63636def80b0c2e522e,12,7,1,6873,,,0,"libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY

As the comment being removed says, libvirt >= 1.3.3 will provide
the VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY and
VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED enums and since we require
3.0.0 since Stein [1] we can drop the hasattr checks.

[1] I408baef12358a83921c4693b847a692f6c19e36f

Change-Id: I0981c0349f163120939c3ddb9aeac82a01ceacd0
(cherry picked from commit 4745fd43d804f7a8473146231dd9deb98379d244)
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/700773/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",3,2f48bbd224e30ed7a0caf63636def80b0c2e522e,bug/1788014,VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY = 7 ,,8,36
openstack%2Fdevstack-gate~master~I9dd57d3bdb56c64377efbdd55429bd075223c746,openstack/devstack-gate,master,I9dd57d3bdb56c64377efbdd55429bd075223c746,Drop peakmem_tracker service,MERGED,2020-01-22 13:35:47.000000000,2020-01-22 18:14:16.000000000,2020-01-22 18:14:15.000000000,"[{'_account_id': 4146}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 13:35:47.000000000', 'files': ['test-features.sh', 'roles/test-matrix/files/features.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a9b0d5ddb12493ff725048c84406a2f086b111dd', 'message': ""Drop peakmem_tracker service\n\nWhen devstack reverted the pip cap in [0], it was necessary to disable\nthe peakmem_tracker service as there was no easy way to make it work in\nthat setup. So we need to delete it from the test-matrix here, too.\n\nWe could decide to add it only for older stable/branches, but as ds-gate\nis to be obsoleted anyway, I'm not convinced that that is worth the\neffort.\n\n[0] https://review.opendev.org/561597\n\nChange-Id: I9dd57d3bdb56c64377efbdd55429bd075223c746\n""}]",0,703792,a9b0d5ddb12493ff725048c84406a2f086b111dd,9,5,1,13252,,,0,"Drop peakmem_tracker service

When devstack reverted the pip cap in [0], it was necessary to disable
the peakmem_tracker service as there was no easy way to make it work in
that setup. So we need to delete it from the test-matrix here, too.

We could decide to add it only for older stable/branches, but as ds-gate
is to be obsoleted anyway, I'm not convinced that that is worth the
effort.

[0] https://review.opendev.org/561597

Change-Id: I9dd57d3bdb56c64377efbdd55429bd075223c746
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/92/703792/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-features.sh', 'roles/test-matrix/files/features.yaml']",2,a9b0d5ddb12493ff725048c84406a2f086b111dd,drop-peakmem," services: [mysql, rabbit, dstat, etcd3] services: [dstat]"," services: [mysql, rabbit, dstat, peakmem_tracker, etcd3] services: [dstat, peakmem_tracker]",7,7
openstack%2Fnova~master~I5a67aeeb3744434e524bfe85bbf2544f0b7546d7,openstack/nova,master,I5a67aeeb3744434e524bfe85bbf2544f0b7546d7,tests: Add '_setup_compute_services' helper,ABANDONED,2019-06-04 17:17:59.000000000,2020-01-22 18:06:01.000000000,,"[{'_account_id': 6167}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 27336}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-06-04 17:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ad056177733de6bbeb8cea209ac00e2888b8b52', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-06-07 18:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e30e219fb3b6d8d6f5869086d7329b09e11cf76', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-10 13:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/895461d1f187442388cbf332ce4e5c3af0f3da43', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-06-11 09:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de25b0576545b28d2a256bfa8a348b41d08fbf42', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-06-12 10:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68952a8c7f7f350b6b88dffc0bc62a7080e3eb94', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-06-13 14:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f7a1f096fd87bb0c9bc3c46be15d097dde596c3', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-06-18 13:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/727f4b355045763842a6122fcc9e7f4ae9a457a1', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-08-16 13:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a33afd30b87e78a126908d2c5b37dbe32213348', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-08-22 10:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/860490f87620e2e2746b52df43370916d9754b6b', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-08-22 13:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b16e53943e36f10a2995553e5a7b73a5c11261a1', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in three places which is the magic number\nfor dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-09-23 13:20:36.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab62ad59f88a74e9a8f7919356b3bf545969108a', 'message': ""tests: Add '_setup_compute_services' helper\n\nThe same code was duplicated in more than two places which is the magic\nnumber for dragging something out to a helper function.\n\nChange-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,663102,ab62ad59f88a74e9a8f7919356b3bf545969108a,95,18,11,15334,,,0,"tests: Add '_setup_compute_services' helper

The same code was duplicated in more than two places which is the magic
number for dragging something out to a helper function.

Change-Id: I5a67aeeb3744434e524bfe85bbf2544f0b7546d7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/663102/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,7ad056177733de6bbeb8cea209ac00e2888b8b52,bug/1805767," def _setup_compute_services(self, host_infos=None): if not host_infos: host_infos = [ fakelibvirt.NUMAHostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000) ] * 2 # we create two identical hosts unless told otherwise # Start services self.computes = {} for host in ['test_compute0', 'test_compute1']: host_info = host_infos.pop(0) fake_connection = self._get_connection(host_info=host_info) fake_connection.getHostname = lambda: host # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute self._setup_compute_services() self._setup_compute_services() self._setup_compute_services(host_infos)"," host_info = fakelibvirt.NUMAHostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000) self.computes = {} for host in ['test_compute0', 'test_compute1']: fake_connection = self._get_connection(host_info=host_info) fake_connection.getHostname = lambda: host # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute host_info = fakelibvirt.NUMAHostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000) self.computes = {} for host in ['test_compute0', 'test_compute1']: fake_connection = self._get_connection(host_info=host_info) fake_connection.getHostname = lambda: host # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute self.computes = {} for host in ['test_compute0', 'test_compute1']: host_info = host_infos.pop(0) fake_connection = self._get_connection(host_info=host_info) fake_connection.getHostname = lambda: host # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute",29,54
openstack%2Fbifrost~master~I3d7ba5db22ed4479a3a14d3818f5d3a80ac6d808,openstack/bifrost,master,I3d7ba5db22ed4479a3a14d3818f5d3a80ac6d808,Removing xenial jobs in favor of bionic,MERGED,2020-01-22 07:57:40.000000000,2020-01-22 18:02:52.000000000,2020-01-22 17:57:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-22 07:57:40.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e8ae9c7724f1b2d37104e1196c3c5d35efd01f67', 'message': 'Removing xenial jobs in favor of bionic\n\nAlso re-enabling some non-voting jobs to understand the status of\nthe CI a little better.\n\nChange-Id: I3d7ba5db22ed4479a3a14d3818f5d3a80ac6d808\n'}]",4,703745,e8ae9c7724f1b2d37104e1196c3c5d35efd01f67,9,4,1,23851,,,0,"Removing xenial jobs in favor of bionic

Also re-enabling some non-voting jobs to understand the status of
the CI a little better.

Change-Id: I3d7ba5db22ed4479a3a14d3818f5d3a80ac6d808
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/45/703745/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']",2,e8ae9c7724f1b2d37104e1196c3c5d35efd01f67,goodbye-xenial, name: bifrost-integration-dhcp-ubuntu-bionic nodeset: ubuntu-bionic name: bifrost-integration-dibipa-debian-ubuntu-bionic nodeset: ubuntu-bionic name: bifrost-integration-tinyipa-keystone-ubuntu-bionic nodeset: ubuntu-bionic, name: bifrost-integration-dhcp-ubuntu-xenial nodeset: ubuntu-xenial name: bifrost-integration-dibipa-debian-ubuntu-xenial nodeset: ubuntu-xenial name: bifrost-integration-tinyipa-ubuntu-xenial parent: bifrost-integration-tinyipa nodeset: ubuntu-xenial - job: name: bifrost-integration-tinyipa-keystone-ubuntu-xenial nodeset: ubuntu-xenial,14,22
openstack%2Fbifrost~master~I6fe765609cc0561f359986f488268e79cca469e2,openstack/bifrost,master,I6fe765609cc0561f359986f488268e79cca469e2,Fix test for python3-venv pkg install,MERGED,2020-01-22 11:39:19.000000000,2020-01-22 18:00:48.000000000,2020-01-22 17:55:21.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-22 11:39:19.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/906d7169acad408933e5877d9a1d85a11dc7b6d8', 'message': ""Fix test for python3-venv pkg install\n\nThe test to check if the python3-venv package is needed is wrong\nand it will always fail, asking to install the package in systems\nwhere that doesn't exist, like CentOS or Fedora.\nThe python3-venv package is always needed for ubuntu bionic, so\ninstalling it all the time if we're using that distro.\n\nChange-Id: I6fe765609cc0561f359986f488268e79cca469e2\n""}]",3,703776,906d7169acad408933e5877d9a1d85a11dc7b6d8,10,4,1,23851,,,0,"Fix test for python3-venv pkg install

The test to check if the python3-venv package is needed is wrong
and it will always fail, asking to install the package in systems
where that doesn't exist, like CentOS or Fedora.
The python3-venv package is always needed for ubuntu bionic, so
installing it all the time if we're using that distro.

Change-Id: I6fe765609cc0561f359986f488268e79cca469e2
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/76/703776/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,906d7169acad408933e5877d9a1d85a11dc7b6d8,fix-python3-venv-test,"if [ -n ""${VENV-}"" -a ""${OS_FAMILY}"" == ""Debian"" ]; then","if [ -n ""${VENV-}"" ]; then if ! $(python3 -m venv --version &>/dev/null); then fi",1,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I282b8b44db5b29b4b9a995b2f2938719ce04a077,openstack/tripleo-heat-templates,stable/queens,I282b8b44db5b29b4b9a995b2f2938719ce04a077,Bypass openvswitch update logic if expected packages are not present,MERGED,2020-01-17 14:10:28.000000000,2020-01-22 18:00:46.000000000,2020-01-22 18:00:46.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-17 14:10:28.000000000', 'files': ['puppet/services/tripleo-packages.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3607bcb7a1a85e49af986c878903b9592472373', 'message': 'Bypass openvswitch update logic if expected packages are not present\n\nThe nuage integration uses a different package name for openvswitch,\nbreaking the update steps. This patch bypasses the update logic if the\nexpected packages are not present allowing nuage deployments to manage\nthe openvswitch package some other other way.\n\nNote:\n    Due to path restructuring and file renaming, this is a semantic\n    backport of https://review.opendev.org/#/c/702677/. This patch also\n    includes similar modifications in the update_tasks for layered\n    packaging on queens.\n    Original commit: f907d061ba1d8cf6fbd15fc242b162c618a70154\n\nChange-Id: I282b8b44db5b29b4b9a995b2f2938719ce04a077\nCloses-Bug: #1858640\n'}]",0,703089,d3607bcb7a1a85e49af986c878903b9592472373,11,5,1,6681,,,0,"Bypass openvswitch update logic if expected packages are not present

The nuage integration uses a different package name for openvswitch,
breaking the update steps. This patch bypasses the update logic if the
expected packages are not present allowing nuage deployments to manage
the openvswitch package some other other way.

Note:
    Due to path restructuring and file renaming, this is a semantic
    backport of https://review.opendev.org/#/c/702677/. This patch also
    includes similar modifications in the update_tasks for layered
    packaging on queens.
    Original commit: f907d061ba1d8cf6fbd15fc242b162c618a70154

Change-Id: I282b8b44db5b29b4b9a995b2f2938719ce04a077
Closes-Bug: #1858640
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/703089/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-packages.yaml'],1,d3607bcb7a1a85e49af986c878903b9592472373,queens," - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - name: Don't update if not present set_fact: run_ovs_update: ""{{ (ovs_pkg_out.stdout | length) > 0 }}"" when: - step|int == 2 - run_ovs_update|bool - run_ovs_update|bool - run_ovs_update|bool - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - name: Don't update if not present set_fact: run_ovs_update: ""{{ (ovs_pkg_out.stdout | length) > 0 }}"" when: - step|int == 2 - run_ovs_update|bool", when: step|int == 2 - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - run_ovs_update|default(true) - run_ovs_update|default(true) when: step|int == 2 - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}',22,14
openstack%2Fpuppet-tripleo~stable%2Ftrain~I6398871a0a8c235e626748206dda617dadb06895,openstack/puppet-tripleo,stable/train,I6398871a0a8c235e626748206dda617dadb06895,Remove unused manila_share_nodes_count variable,MERGED,2020-01-15 16:22:44.000000000,2020-01-22 18:00:44.000000000,2020-01-22 18:00:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-15 16:22:44.000000000', 'files': ['manifests/profile/pacemaker/manila/share_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/545b480924d8d3ef8ea757025c767cb57b869af9', 'message': 'Remove unused manila_share_nodes_count variable\n\nThe manila_share_nodes_count variable is defined, but not used\nanywhere. In some services this is used for the replica count,\nbut manila (similar to cinder) has a hard-coded replica count\nof 1 and therefore this variable is not needed.\n\nChange-Id: I6398871a0a8c235e626748206dda617dadb06895\n(cherry picked from commit 9ca6d5a1943e6be6f81b1a1dda94fdc071f043b6)\n'}]",0,702691,545b480924d8d3ef8ea757025c767cb57b869af9,23,7,1,6816,,,0,"Remove unused manila_share_nodes_count variable

The manila_share_nodes_count variable is defined, but not used
anywhere. In some services this is used for the replica count,
but manila (similar to cinder) has a hard-coded replica count
of 1 and therefore this variable is not needed.

Change-Id: I6398871a0a8c235e626748206dda617dadb06895
(cherry picked from commit 9ca6d5a1943e6be6f81b1a1dda94fdc071f043b6)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/91/702691/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/manila/share_bundle.pp'],1,545b480924d8d3ef8ea757025c767cb57b869af9,bug/1838971-stable/train,," $manila_share_nodes_count = count(hiera('manila_share_short_node_names', [])) ",0,2
openstack%2Ftripleo-quickstart-extras~master~I7416332b67593d1cd6b3177333c8bf1055aa3456,openstack/tripleo-quickstart-extras,master,I7416332b67593d1cd6b3177333c8bf1055aa3456,ansible-lint: resolved 4 skips,MERGED,2019-10-30 16:45:17.000000000,2020-01-22 18:00:43.000000000,2020-01-22 18:00:43.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-10-30 16:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/56da7365db9a61f1fd5da989773fa36cfe721419', 'message': 'lint: removed 601, 602, corrected flake8\n\n- fixed 601/602 skips on ansible-lint\n- adopted official flake8 hooks calling method (ease upgrades)\n\nChange-Id: I7416332b67593d1cd6b3177333c8bf1055aa3456\n'}, {'number': 2, 'created': '2020-01-12 17:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b625a863e3c6645ed2dfd186961ee26bd69e3552', 'message': 'ansible-lint: resolved 601, 602 skips\n\nFixed 601/602 skips on ansible-lint\n\nChange-Id: I7416332b67593d1cd6b3177333c8bf1055aa3456\n'}, {'number': 3, 'created': '2020-01-14 22:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f547926f183cf0d3a4e341584e34b8d8b77ab183', 'message': 'ansible-lint: resolved 4 skips\n\nFixed several skips on ansible-lint\n\nChange-Id: I7416332b67593d1cd6b3177333c8bf1055aa3456\n'}, {'number': 4, 'created': '2020-01-18 09:50:41.000000000', 'files': ['roles/multinodes/tasks/main.yml', 'roles/set-libvirt-type/tasks/main.yml', 'roles/undercloud-deploy/tasks/tripleo-ui.yml', 'roles/overcloud-scale/tasks/scale-nodes.yml', 'roles/snapshot-libvirt/tasks/main.yml', 'roles/overcloud-scale/tasks/delete-original-node.yml', 'roles/multinodes/tasks/delete_stack.yml', 'roles/overcloud-scale/tasks/pre-scale.yml', 'roles/ovb-manage-stack/tasks/ovb-create-stack.yml', 'roles/validate-tobiko/tasks/prepare-tobiko.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b70cd772033083dac440f270196d03b555dfbeae', 'message': 'ansible-lint: resolved 4 skips\n\nFixed several skips on ansible-lint\n\nChange-Id: I7416332b67593d1cd6b3177333c8bf1055aa3456\n'}]",6,692190,b70cd772033083dac440f270196d03b555dfbeae,30,7,4,24162,,,0,"ansible-lint: resolved 4 skips

Fixed several skips on ansible-lint

Change-Id: I7416332b67593d1cd6b3177333c8bf1055aa3456
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/90/692190/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/set-libvirt-type/tasks/main.yml', 'roles/standalone/tasks/main.yml', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/undercloud-deploy/tasks/novajoin_prep.yml', '.ansible-lint', '.pre-commit-config.yaml', 'roles/undercloud-setup/tasks/hostname.yml', 'roles/validate-tempest/tasks/pre-tempest.yml', 'roles/undercloud-deploy/tasks/tripleo-ui.yml', 'roles/build-test-packages/tasks/dlrn-build.yml', 'roles/gate-quickstart/tasks/main.yml', 'roles/overcloud-prep-containers/tasks/create-scripts.yml', 'roles/build-test-packages/tasks/main.yml']",13,56da7365db9a61f1fd5da989773fa36cfe721419,fix/lint, when: gerrit_host|length > 0 when: zuul_changes|length > 0," when: gerrit_host != """" when: zuul_changes != """"",27,26
openstack%2Fopenstack-ansible~master~Ic3aaae97de86876a09377781a316f2468fcaa2b2,openstack/openstack-ansible,master,Ic3aaae97de86876a09377781a316f2468fcaa2b2,Install appropriate tempest releases on stable branches,MERGED,2020-01-21 09:53:30.000000000,2020-01-22 17:51:19.000000000,2020-01-22 17:47:11.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2020-01-21 09:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c08233f3b051725f72b32f82916199a7673656d9', 'message': 'Install appropritate tempest releases on stable branches\n\nTo this point OSA has used the most recent tempest release (which is\nitself branchless) during CI tests of OSA stable branches.\n\nThis is no longer possible becasue contemporary releases of tempest are\ndropping py2 compatibility and have py3-only dependencies and therefore\ncannot be installed on OSA stable branches prior to Train which have no\npy3 support.\n\nThis patch includes the file repo_packages/openstack_services.yml\ninto the os-tempest-install playbook which has the effect of defining\nrequirements_git_install_branch, which in turn means that\ntempest_upper_constraints_url no longer defaults to the master branch of\nu-c. This means that a stable-branch-appropriate set of u-c is applied\nwhen installing the python packages for tempest, effectively holding tempest\nback at a release and subsequent set of dependancies that should work\nin the context of the stable branch.\n\nThis changes should not affect the behaviour on OSA master branch\nwhere tempest is installed using source code from git. This is unchanged\ndue to the presence of variables in repo_packages/openstack_testing.yml\non OSA master which override the defaults in the os_tempest ansible role.\nThese variables are removed on stable branches as part of the OSA release\nprocess.\n\nChange-Id: Ic3aaae97de86876a09377781a316f2468fcaa2b2\n'}, {'number': 2, 'created': '2020-01-21 09:55:50.000000000', 'files': ['playbooks/os-tempest-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9ce120468492640fd27156f77763e3235b374ba5', 'message': 'Install appropriate tempest releases on stable branches\n\nTo this point OSA has used the most recent tempest release (which is\nitself branchless) during CI tests of OSA stable branches.\n\nThis is no longer possible becasue contemporary releases of tempest are\ndropping py2 compatibility and have py3-only dependencies and therefore\ncannot be installed on OSA stable branches prior to Train which have no\npy3 support.\n\nThis patch includes the file repo_packages/openstack_services.yml\ninto the os-tempest-install playbook which has the effect of defining\nrequirements_git_install_branch, which in turn means that\ntempest_upper_constraints_url no longer defaults to the master branch of\nu-c. This means that a stable-branch-appropriate set of u-c is applied\nwhen installing the python packages for tempest, effectively holding tempest\nback at a release and subsequent set of dependancies that should work\nin the context of the stable branch.\n\nThis changes should not affect the behaviour on OSA master branch\nwhere tempest is installed using source code from git. This is unchanged\ndue to the presence of variables in repo_packages/openstack_testing.yml\non OSA master which override the defaults in the os_tempest ansible role.\nThese variables are removed on stable branches as part of the OSA release\nprocess.\n\nChange-Id: Ic3aaae97de86876a09377781a316f2468fcaa2b2\n'}]",0,703569,9ce120468492640fd27156f77763e3235b374ba5,9,3,2,25023,,,0,"Install appropriate tempest releases on stable branches

To this point OSA has used the most recent tempest release (which is
itself branchless) during CI tests of OSA stable branches.

This is no longer possible becasue contemporary releases of tempest are
dropping py2 compatibility and have py3-only dependencies and therefore
cannot be installed on OSA stable branches prior to Train which have no
py3 support.

This patch includes the file repo_packages/openstack_services.yml
into the os-tempest-install playbook which has the effect of defining
requirements_git_install_branch, which in turn means that
tempest_upper_constraints_url no longer defaults to the master branch of
u-c. This means that a stable-branch-appropriate set of u-c is applied
when installing the python packages for tempest, effectively holding tempest
back at a release and subsequent set of dependancies that should work
in the context of the stable branch.

This changes should not affect the behaviour on OSA master branch
where tempest is installed using source code from git. This is unchanged
due to the presence of variables in repo_packages/openstack_testing.yml
on OSA master which override the defaults in the os_tempest ansible role.
These variables are removed on stable branches as part of the OSA release
process.

Change-Id: Ic3aaae97de86876a09377781a316f2468fcaa2b2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/69/703569/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-tempest-install.yml'],1,c08233f3b051725f72b32f82916199a7673656d9,," - ""defaults/repo_packages/openstack_services.yml""",,1,0
openstack%2Fhorizon~master~I17add5dc20846be052577db1ed8ca8bf98819846,openstack/horizon,master,I17add5dc20846be052577db1ed8ca8bf98819846,Remove Pint from requirements.txt,MERGED,2020-01-14 21:34:13.000000000,2020-01-22 17:44:46.000000000,2020-01-22 17:42:04.000000000,"[{'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-14 21:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/23ccea4d5bd2338932c2c65de458ef446349acbc', 'message': 'Remove Pint from requirements.txt\n\nPint is no longer used after horizon/utils/units.py was cleanup\nby commit 26eebd4abbbabc1475bae61c51d1cfcf14dba770.\n\nChange-Id: I17add5dc20846be052577db1ed8ca8bf98819846\n'}, {'number': 2, 'created': '2020-01-15 04:13:16.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1570e5c3edc624b9a566e7115149f574c0973167', 'message': 'Remove Pint from requirements.txt\n\nPint is no longer used after horizon/utils/units.py was cleanup\nby commit 26eebd4abbbabc1475bae61c51d1cfcf14dba770.\n\nChange-Id: I17add5dc20846be052577db1ed8ca8bf98819846\n'}]",0,702539,1570e5c3edc624b9a566e7115149f574c0973167,13,5,2,841,,,0,"Remove Pint from requirements.txt

Pint is no longer used after horizon/utils/units.py was cleanup
by commit 26eebd4abbbabc1475bae61c51d1cfcf14dba770.

Change-Id: I17add5dc20846be052577db1ed8ca8bf98819846
",git fetch https://review.opendev.org/openstack/horizon refs/changes/39/702539/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,23ccea4d5bd2338932c2c65de458ef446349acbc,remove-pint,,Pint>=0.5 # BSD,0,1
openstack%2Ftripleo-common~stable%2Ftrain~I71436313098f513c200ecc3f862a2b851fb1060a,openstack/tripleo-common,stable/train,I71436313098f513c200ecc3f862a2b851fb1060a,"Image uploader: use HTTPS for ""no verify"" registries",MERGED,2020-01-17 01:55:35.000000000,2020-01-22 17:42:13.000000000,2020-01-22 10:58:22.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-17 01:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ecfcec78b5da7f27048243c75434e7342431a1b6', 'message': 'Image uploader: use HTTPS for ""no verify"" registries\n\nRegistries with an invalid SSL certificate are insecure, but still\nneed to be accessed via HTTPS. This patch updates the URL builder\nto take this into consideration.\n\nCloses-Bug: #1858672\nChange-Id: I71436313098f513c200ecc3f862a2b851fb1060a\n(cherry picked from commit dcf99e7167b7827b6edaf10b460a0dd5e57cdddb)\n'}, {'number': 2, 'created': '2020-01-17 04:10:08.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f6bcc3bcdb88ec385c9b308a0f33a6187a7824ef', 'message': 'Image uploader: use HTTPS for ""no verify"" registries\n\nRegistries with an invalid SSL certificate are insecure, but still\nneed to be accessed via HTTPS. This patch updates the URL builder\nto take this into consideration.\n\nCloses-Bug: #1858672\nChange-Id: I71436313098f513c200ecc3f862a2b851fb1060a\n(cherry picked from commit dcf99e7167b7827b6edaf10b460a0dd5e57cdddb)\n'}]",0,703008,f6bcc3bcdb88ec385c9b308a0f33a6187a7824ef,11,3,2,21129,,,0,"Image uploader: use HTTPS for ""no verify"" registries

Registries with an invalid SSL certificate are insecure, but still
need to be accessed via HTTPS. This patch updates the URL builder
to take this into consideration.

Closes-Bug: #1858672
Change-Id: I71436313098f513c200ecc3f862a2b851fb1060a
(cherry picked from commit dcf99e7167b7827b6edaf10b460a0dd5e57cdddb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/703008/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,ecfcec78b5da7f27048243c75434e7342431a1b6,bug/1858672-stable/train, if (cls.is_insecure_registry(registry_host=netloc) and netloc not in cls.no_verify_registries): else: scheme = 'https', if not cls.is_insecure_registry(registry_host=netloc): scheme = 'https' else:,12,3
openstack%2Fbifrost~master~If93d0fb9744bcad308bebf5bba47a3e23e57bc56,openstack/bifrost,master,If93d0fb9744bcad308bebf5bba47a3e23e57bc56,Keystone: Add make /etc/keystone/fernet-keys,MERGED,2020-01-21 01:17:24.000000000,2020-01-22 17:36:55.000000000,2020-01-22 17:34:13.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-21 01:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4f358674ee1d46f549935363419d09ae708447c8', 'message': 'Keystone: Add make /etc/keystone/fernet-keys\n\nChange-Id: If93d0fb9744bcad308bebf5bba47a3e23e57bc56\n'}, {'number': 2, 'created': '2020-01-21 22:50:59.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1567d513e4751c6031b4dd7578c067a6e3671ae9', 'message': 'Keystone: Add make /etc/keystone/fernet-keys\n\nChange-Id: If93d0fb9744bcad308bebf5bba47a3e23e57bc56\n'}]",4,703529,1567d513e4751c6031b4dd7578c067a6e3671ae9,12,4,2,11655,,,0,"Keystone: Add make /etc/keystone/fernet-keys

Change-Id: If93d0fb9744bcad308bebf5bba47a3e23e57bc56
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/29/703529/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'],1,4f358674ee1d46f549935363419d09ae708447c8,700912,"- name: ""Ensure /etc/keystone/fernet-keys exists"" file: name: /etc/keystone/fernet-keys state: directory owner: keystone group: keystone mode: 0750 ",,8,0
openstack%2Fhorizon~master~Iaff9e1f3c834a2bdb5823249de632ce472811a7d,openstack/horizon,master,Iaff9e1f3c834a2bdb5823249de632ce472811a7d,Add pagination to Security Groups table in Launch Instance wizard,MERGED,2020-01-13 11:05:10.000000000,2020-01-22 17:31:19.000000000,2020-01-22 17:28:50.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-13 11:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/384d3fa2d96a723ec0e5edeeae9cdc61cb026ad3', 'message': 'Refactor Launch Instance dialog Security Groups table\n\nSecurity Groups table in Angular Launch Instance wizard is\nrefactored using <hz-dynamic-table>. This adds table pagination\nand makes the code more readable.\n\nChange-Id: Iaff9e1f3c834a2bdb5823249de632ce472811a7d\n'}, {'number': 2, 'created': '2020-01-13 11:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1e2c8ef49c86fe7f9b7bb24db40c9e1f9b7f67ac', 'message': 'Refactor Launch Instance dialog Security Groups table\n\nSecurity Groups table in Angular Launch Instance wizard is\nrefactored using <hz-dynamic-table>. This adds table pagination\nand makes the code more readable.\n\nCloses-Bug: #1859423\n\nChange-Id: Iaff9e1f3c834a2bdb5823249de632ce472811a7d\n'}, {'number': 3, 'created': '2020-01-16 08:58:29.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/security-groups/security-groups.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/security-groups/security-groups.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/security-groups/security-groups.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/security-groups/security-group-details.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a62751ca4f011362829df7366a1c4c5d06f24f9e', 'message': 'Add pagination to Security Groups table in Launch Instance wizard\n\nThe most elegant way to add pagination is to refactor the table using\n<hz-dynamic-table> which already contains pagination instead of wiring\nit to the existing table framework.\nThis solution adds the pagination and makes the code more readable.\n\nPartial-Bug: #1859423\n\nChange-Id: Iaff9e1f3c834a2bdb5823249de632ce472811a7d\n'}]",2,702195,a62751ca4f011362829df7366a1c4c5d06f24f9e,13,4,3,6914,,,0,"Add pagination to Security Groups table in Launch Instance wizard

The most elegant way to add pagination is to refactor the table using
<hz-dynamic-table> which already contains pagination instead of wiring
it to the existing table framework.
This solution adds the pagination and makes the code more readable.

Partial-Bug: #1859423

Change-Id: Iaff9e1f3c834a2bdb5823249de632ce472811a7d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/702195/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/security-groups/security-groups.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/security-groups/security-groups.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/security-groups/security-groups.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/security-groups/security-group-details.html']",4,384d3fa2d96a723ec0e5edeeae9cdc61cb026ad3,bug/1859423,"<table st-table=""item.security_group_rules"" class=""table table-condensed table-rsp security-group-details""> <tr ng-repeat=""d in item.security_group_rules"">","<table st-table=""row.security_group_rules"" class=""table table-condensed table-rsp security-group-details""> <tr ng-repeat=""d in row.security_group_rules"">",31,115
openstack%2Ftripleo-ansible~master~I19587c760d7fcc0313e97c1708da901f8e75c394,openstack/tripleo-ansible,master,I19587c760d7fcc0313e97c1708da901f8e75c394,Fix the ctlplane_ip in ssh_known_hosts entries,MERGED,2020-01-21 15:54:42.000000000,2020-01-22 17:26:43.000000000,2020-01-22 17:26:43.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10314}, {'_account_id': 10969}, {'_account_id': 19619}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-21 15:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4c1e483fcf12a1bc761c725de2262550a637324e', 'message': 'Fix the ctlplane_ip in ssh_known_hosts entries\n\nThis should be ctlplane_ip for the host in question, not the current host.\n\nChange-Id: I19587c760d7fcc0313e97c1708da901f8e75c394\nCloses-bug: #1860451\n'}, {'number': 2, 'created': '2020-01-21 16:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a415e3a1ecd9354db18cc1c60b00f8bc342ad295', 'message': 'Fix the ctlplane_ip in ssh_known_hosts entries\n\nThis should be ctlplane_ip for the host in question, not the current host.\n\nChange-Id: I19587c760d7fcc0313e97c1708da901f8e75c394\nCloses-bug: #1860451\n'}, {'number': 3, 'created': '2020-01-22 02:43:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_ssh_known_hosts/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b3fad83fd5f9398aad51fc93e076c694411913a8', 'message': 'Fix the ctlplane_ip in ssh_known_hosts entries\n\nThis should be ctlplane_ip for the host in question, not the current host.\n\nChange-Id: I19587c760d7fcc0313e97c1708da901f8e75c394\nCloses-bug: #1860451\n'}]",6,703649,b3fad83fd5f9398aad51fc93e076c694411913a8,21,9,3,23811,,,0,"Fix the ctlplane_ip in ssh_known_hosts entries

This should be ctlplane_ip for the host in question, not the current host.

Change-Id: I19587c760d7fcc0313e97c1708da901f8e75c394
Closes-bug: #1860451
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/703649/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'],1,4c1e483fcf12a1bc761c725de2262550a637324e,renaming-all-the-things," {% if (cloud_domain is defined) and (hostdata['ctlplane_ip'] is defined) %} {% set line = '[' ~ hostdata['ctlplane_ip'] ~ ']*,[' ~ host ~ '.' ~ cloud_domain ~ ']*,[' ~ host ~ ']*' %}"," {% if (cloud_domain is defined) and (ctlplane_ip is defined) %} {% set line = '[' ~ ctlplane_ip ~ ']*,[' ~ host ~ '.' ~ cloud_domain ~ ']*,[' ~ host ~ ']*' %}",2,2
openstack%2Ftripleo-ansible~master~Id00a3670351990e5489a297c4c7200f8c05af096,openstack/tripleo-ansible,master,Id00a3670351990e5489a297c4c7200f8c05af096,Rename all roles that have a hyphen,MERGED,2020-01-20 15:33:36.000000000,2020-01-22 17:26:42.000000000,2020-01-22 17:26:42.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-20 15:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c4ebd63ec115b53df6fd745d0de919ef2c4e3d42', 'message': 'Rename all roles that have a hyphen\n\nAll roles that have a hyphen in them need to be renamed to use an\nunderscore. This change creates a symlink to all roles using their\noriginal name which will ensure we maintain compatibility with\nthe rest of the TripleO stack. This is being done because roles with\nhyphens are no longer valid within collections.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id00a3670351990e5489a297c4c7200f8c05af096\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-20 16:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b79f7df58334a9c402e10e9e32f2333d604e44fd', 'message': 'Rename all roles that have a hyphen\n\nAll roles that have a hyphen in them need to be renamed to use an\nunderscore. This change creates a symlink to all roles using their\noriginal name which will ensure we maintain compatibility with\nthe rest of the TripleO stack. This is being done because roles with\nhyphens are no longer valid within collections.\n\nA temp PBR update has been made to accomodate all of the symlinks to\nthe legacy role names.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id00a3670351990e5489a297c4c7200f8c05af096\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-01-20 20:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/094856619ce519369431ff79825b68c51ad63574', 'message': 'Rename all roles that have a hyphen\n\nAll roles that have a hyphen in them need to be renamed to use an\nunderscore. This change creates a symlink to all roles using their\noriginal name which will ensure we maintain compatibility with\nthe rest of the TripleO stack. This is being done because roles with\nhyphens are no longer valid within collections.\n\nA temp PBR update has been made to accomodate all of the symlinks to\nthe legacy role names.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id00a3670351990e5489a297c4c7200f8c05af096\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-01-22 02:42:49.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-post-config', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/create_cell.yml', 'tripleo_ansible/roles/tripleo-create-admin', 'tripleo_ansible/roles/tripleo_config/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/group_vars/overcloud.json', 'tripleo_ansible/roles/tripleo_container_manage/files/tripleo-start-podman-container', 'tripleo_ansible/roles/tripleo-securetty', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2', 'tripleo_ansible/roles/backup_and_restore/templates/rescue.conf.j2', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_post_config/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/Dockerfile', 'tripleo_ansible/roles/login_defs/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/prepare.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-validations-package', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/Dockerfile', 'tripleo_ansible/roles/tripleo_podman/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/files/tripleo-container-shutdown-service', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_timezone/meta/main.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_hieradata/handlers/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/meta/main.yml', 'tripleo_ansible/roles/tripleo_firewall/vars/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_phc2sys.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service.service.j2', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/vars/redhat.yml', 'tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-tag', 'tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2', 'tripleo_ansible/roles/tripleo_ceph_work_dir/meta/main.yml', 'tripleo_ansible/roles/login_defs/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_persist/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_timezone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/meta/main.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/prepare.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache', 'tripleo_ansible/roles/tripleo_hieradata/templates/role_extraconfig.j2', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-clients-install', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ntp_stop.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_persist/tasks/restore.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/prepare.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_module_load/templates/module-load.conf.j2', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-sshd', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/playbook.yml', 'tripleo_ansible/roles/backup-and-restore', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_firewall/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/handlers/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/Dockerfile', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/tests/test_hieradata_vars.py', 'tripleo_ansible/roles/tripleo_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/Dockerfile', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/workarounds.yml', 'tripleo_ansible/roles/tripleo_clients_install/meta/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/meta/main.yml', 'tripleo_ansible/roles/tripleo-docker-rm', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/Dockerfile', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/Dockerfile', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-bootstrap', 'tripleo_ansible/roles/tripleo_ceph_common/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/defaults/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/defaults/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/meta/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/net_ip_map.j2', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/remove.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/prepare.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-common', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/playbook.yml', 'tripleo_ansible/roles/login_defs/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_purge.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/delete.yml', 'tripleo_ansible/roles/login_defs/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/Dockerfile', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/prepare.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/defaults/main.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/Dockerfile', 'tripleo_ansible/roles/octavia_controller_config/tasks/netinterface.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/login-defs', 'tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/meta/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/tests/test_keygen.py', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml', 'tripleo_ansible/roles/tripleo_clients_install/vars/fedora.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/container_running.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_cellv2/handlers/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/defaults/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/start_keystone.sh', 'tripleo_ansible/roles/tripleo-container-image-prepare', 'tripleo_ansible/roles/tripleo_nova_image_cache/defaults/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_container_stop/defaults/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo-cellv2', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/molecule.yml', 'tripleo_ansible/roles/backup_and_restore/templates/exports.j2', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service_wrapper.j2', 'tripleo_ansible/roles/tripleo_module_load/defaults/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/tripleo_podman_container_rm.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk', 'tripleo_ansible/roles/tripleo_container_manage/templates/systemd-timer.j2', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service_sync.j2', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/check_cell_exist.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/main.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_kernel/vars/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/templates/sshd_config_block.j2', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_image_serve/handlers/main.yml', 'tripleo_ansible/roles/tripleo-hieradata', 'tripleo_ansible/roles/tripleo_cellv2/tasks/extract_cell_information.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/templates/tripleo-modprobe.conf.j2', 'tripleo_ansible/roles/tripleo_sshd/handlers/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/files/91-tripleo-container-shutdown-preset', 'tripleo_ansible/roles/tripleo_packages/molecule/update/prepare.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/defaults/main.yml', 'tripleo_ansible/roles/login_defs/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/tasks/backup_and_clean.yml', 'tripleo_ansible/roles/tripleo_module_load/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-rm', 'setup.cfg', 'tripleo_ansible/roles/tripleo_container_tag/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/templates/ptp4l.conf.j2', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/meta/main.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/files/.gitkeep', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/tasks/authorize_user.yml', 'tripleo_ansible/roles/tripleo-firewall', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/playbook.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/prepare.yml', 'tripleo_ansible/roles/tripleo_ptp/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/playbook.yml', 'tripleo_ansible/roles/login_defs/tasks/main.yml', 'tripleo_ansible/roles/tripleo_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/bootstrap_node.j2', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/Dockerfile.keystone', 'tripleo_ansible/roles/tripleo_module_load/handlers/main.yml', 'tripleo_ansible/roles/tripleo_securetty/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/defaults/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_securetty/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/handlers/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/vars/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/shutdown.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/Dockerfile', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo-timezone', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/molecule.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/files/netns-placeholder-service', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/tests/test_keyadd.py', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/roles.yml', 'tripleo_ansible/roles/tripleo_ptp/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/meta/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/quotas.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/tasks/create.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/playbook.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/meta/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml', 'tripleo_ansible/roles/backup_and_restore/templates/local.conf.j2', 'tripleo_ansible/roles/octavia_controller_config/templates/ifcfg.j2', 'tripleo_ansible/roles/tripleo_hieradata/templates/fqdn.j2', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/delete.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/install_pkgs.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/service_configs.j2', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/get_ssh_private_key.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml', 'tripleo_ansible/roles/tripleo_container_stop/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo-container-stop', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_config/templates/ini-config.j2', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_persist/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_persist/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/prepare.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/clouds.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_stop.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo-container-manage', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/meta/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/gather_domains_new.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/templates/tripleo-sysctl.conf.j2', 'tripleo_ansible/roles/tripleo_packages/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/DockerfileRegistry', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/defaults/main.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-podman', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/mock-hieradata.j2.yaml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_persist/tasks/persist.yml', 'tripleo_ansible/roles/tripleo-ptp', 'tripleo_ansible/roles/tripleo_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_packages/molecule/update/Dockerfile', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_securetty/templates/securetty.j2', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo-persist', 'tripleo_ansible/roles/tripleo_config/templates/json-config.j2', 'tripleo_ansible/roles/tripleo_firewall/handlers/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/projects.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/discover_hosts.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/prepare.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/prepare.yml', 'tripleo_ansible/roles/tripleo_docker_rm', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/prepare.yml', 'tripleo_ansible/roles/tripleo_container_stop/tasks/tripleo_container_stop.yaml', 'tripleo_ansible/roles/tripleo_timezone/handlers/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo-kernel', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-transfer', 'tripleo_ansible/roles/octavia_controller_config/tasks/certificate.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo_firewall/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/Dockerfile', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo-puppet-cache', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/vars/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/library/openvswitch_db.py', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_create_admin/tasks/create_user.yml', 'tripleo_ansible/roles/tripleo_container_manage/meta/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config', 'tripleo_ansible/roles/tripleo_container_rm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/files/tripleo-container-shutdown', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/cloud_domain.j2', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo_container_tag/meta/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/set.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-config', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/manage.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/octavia.yml', 'tripleo_ansible/roles/tripleo_container_tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/Dockerfile', 'tripleo_ansible/roles/tripleo_sshd/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/all_nodes.j2', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_clients_install/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/extraconfig.j2', 'tripleo_ansible/roles/tripleo_container_manage/files/91-netns-placeholder-preset', 'tripleo_ansible/roles/tripleo-ceph-run-ansible', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/verify.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/tripleo_docker_container_rm.yml', 'tripleo_ansible/roles/octavia_controller_post_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/create-tripleo-upgrade-file.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-uuid', 'tripleo_ansible/roles/tripleo_persist/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/meta/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_post_upgrade.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_hieradata/tasks/hieradata_vars.yaml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/verify.yml', 'tripleo_ansible/roles/octavia-controller-config', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/service_names.j2', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_create_admin/meta/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/Dockerfile', 'tripleo_ansible/roles/tripleo_bootstrap/defaults/main.yml', 'tripleo_ansible/roles/tripleo-upgrade-hiera', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_nova_image_cache/meta/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/backup_and_restore/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/prepare.yml', 'tripleo_ansible/roles/octavia-undercloud', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/molecule.yml', 'tripleo_ansible/roles/octavia_controller_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/handlers/main.yml', 'tripleo_ansible/roles/tripleo_packages/defaults/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_bootstrap/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service_kill.j2', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service.path.j2', 'tripleo_ansible/roles/tripleo-image-serve', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/Dockerfile', 'tripleo_ansible/roles/tripleo-packages', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ptp/handlers/main.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/vars/main.yml', 'tripleo_ansible/roles/login_defs/meta/main.yml', 'tripleo_ansible/roles/tripleo_securetty/meta/main.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/templates/systemd-healthcheck.j2', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service_command.j2', 'tripleo_ansible/roles/tripleo-hosts-entries', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/playbook.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/vars/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/Dockerfile', 'tripleo_ansible/roles/backup_and_restore/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/gather_domains_old.yml', 'tripleo_ansible/roles/octavia_undercloud/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/handlers/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/external_upgrade.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/prepare.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/loop-endpoints.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/update.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_roles.yml', 'tripleo_ansible/roles/tripleo_clients_install/vars/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/molecule.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/templates/image-serve.conf.j2', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/Dockerfile', 'tripleo_ansible/roles/tripleo_podman/molecule/install/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml', 'tripleo_ansible/roles/tripleo_kernel/handlers/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/meta/main.yml', 'tripleo_ansible/roles/login_defs/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/defaults/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/remove-all.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/octavia_controller_config/templates/ifcfg-br-int.j2', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-keystone-resources', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/Dockerfile', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/tests/test_default.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/67ce344e30921c3b4c958aa0f7e4b682d3b24ccf', 'message': 'Rename all roles that have a hyphen\n\nAll roles that have a hyphen in them need to be renamed to use an\nunderscore. This change creates a symlink to all roles using their\noriginal name which will ensure we maintain compatibility with\nthe rest of the TripleO stack. This is being done because roles with\nhyphens are no longer valid within collections.\n\nA temp PBR update has been made to accomodate all of the symlinks to\nthe legacy role names.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id00a3670351990e5489a297c4c7200f8c05af096\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,703427,67ce344e30921c3b4c958aa0f7e4b682d3b24ccf,26,7,4,7353,,,0,"Rename all roles that have a hyphen

All roles that have a hyphen in them need to be renamed to use an
underscore. This change creates a symlink to all roles using their
original name which will ensure we maintain compatibility with
the rest of the TripleO stack. This is being done because roles with
hyphens are no longer valid within collections.

A temp PBR update has been made to accomodate all of the symlinks to
the legacy role names.

[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory

Change-Id: Id00a3670351990e5489a297c4c7200f8c05af096
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/703427/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia-controller-post-config', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/create_cell.yml', 'tripleo_ansible/roles/tripleo-create-admin', 'tripleo_ansible/roles/tripleo_config/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/group_vars/overcloud.json', 'tripleo_ansible/roles/tripleo_container_manage/files/tripleo-start-podman-container', 'tripleo_ansible/roles/tripleo-securetty', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2', 'tripleo_ansible/roles/backup_and_restore/templates/rescue.conf.j2', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_post_config/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/Dockerfile', 'tripleo_ansible/roles/login_defs/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/prepare.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-validations-package', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/Dockerfile', 'tripleo_ansible/roles/tripleo_podman/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/files/tripleo-container-shutdown-service', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_timezone/meta/main.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_hieradata/handlers/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/meta/main.yml', 'tripleo_ansible/roles/tripleo_firewall/vars/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_phc2sys.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service.service.j2', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/vars/redhat.yml', 'tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-tag', 'tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2', 'tripleo_ansible/roles/tripleo_ceph_work_dir/meta/main.yml', 'tripleo_ansible/roles/login_defs/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_persist/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_timezone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/meta/main.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/prepare.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache', 'tripleo_ansible/roles/tripleo_hieradata/templates/role_extraconfig.j2', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-clients-install', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ntp_stop.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_persist/tasks/restore.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/prepare.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_module_load/templates/module-load.conf.j2', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-sshd', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/playbook.yml', 'tripleo_ansible/roles/backup-and-restore', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_firewall/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/handlers/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/Dockerfile', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/tests/test_hieradata_vars.py', 'tripleo_ansible/roles/tripleo_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/Dockerfile', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/workarounds.yml', 'tripleo_ansible/roles/tripleo_clients_install/meta/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/meta/main.yml', 'tripleo_ansible/roles/tripleo-docker-rm', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/Dockerfile', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/Dockerfile', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-bootstrap', 'tripleo_ansible/roles/tripleo_ceph_common/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/defaults/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/defaults/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/meta/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/net_ip_map.j2', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/remove.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/prepare.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-common', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/playbook.yml', 'tripleo_ansible/roles/login_defs/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_purge.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/delete.yml', 'tripleo_ansible/roles/login_defs/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/Dockerfile', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/prepare.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/defaults/main.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/Dockerfile', 'tripleo_ansible/roles/octavia_controller_config/tasks/netinterface.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/login-defs', 'tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/meta/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/tests/test_keygen.py', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml', 'tripleo_ansible/roles/tripleo_clients_install/vars/fedora.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/container_running.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_cellv2/handlers/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/defaults/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/start_keystone.sh', 'tripleo_ansible/roles/tripleo-container-image-prepare', 'tripleo_ansible/roles/tripleo_nova_image_cache/defaults/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_container_stop/defaults/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo-cellv2', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/molecule.yml', 'tripleo_ansible/roles/backup_and_restore/templates/exports.j2', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service_wrapper.j2', 'tripleo_ansible/roles/tripleo_module_load/defaults/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/tripleo_podman_container_rm.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk', 'tripleo_ansible/roles/tripleo_container_manage/templates/systemd-timer.j2', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service_sync.j2', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/check_cell_exist.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/main.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_kernel/vars/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/templates/sshd_config_block.j2', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_image_serve/handlers/main.yml', 'tripleo_ansible/roles/tripleo-hieradata', 'tripleo_ansible/roles/tripleo_cellv2/tasks/extract_cell_information.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/templates/tripleo-modprobe.conf.j2', 'tripleo_ansible/roles/tripleo_sshd/handlers/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/files/91-tripleo-container-shutdown-preset', 'tripleo_ansible/roles/tripleo_packages/molecule/update/prepare.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/defaults/main.yml', 'tripleo_ansible/roles/login_defs/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/tasks/backup_and_clean.yml', 'tripleo_ansible/roles/tripleo_module_load/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-rm', 'tripleo_ansible/roles/tripleo_container_tag/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/templates/ptp4l.conf.j2', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/meta/main.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/files/.gitkeep', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/tasks/authorize_user.yml', 'tripleo_ansible/roles/tripleo-firewall', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/playbook.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/prepare.yml', 'tripleo_ansible/roles/tripleo_ptp/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/playbook.yml', 'tripleo_ansible/roles/login_defs/tasks/main.yml', 'tripleo_ansible/roles/tripleo_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/bootstrap_node.j2', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/Dockerfile.keystone', 'tripleo_ansible/roles/tripleo_module_load/handlers/main.yml', 'tripleo_ansible/roles/tripleo_securetty/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/defaults/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_securetty/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/handlers/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/vars/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/shutdown.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/Dockerfile', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo-timezone', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/molecule.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/files/netns-placeholder-service', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/tests/test_keyadd.py', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/roles.yml', 'tripleo_ansible/roles/tripleo_ptp/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/meta/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/quotas.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/tasks/create.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/playbook.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/meta/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml', 'tripleo_ansible/roles/backup_and_restore/templates/local.conf.j2', 'tripleo_ansible/roles/octavia_controller_config/templates/ifcfg.j2', 'tripleo_ansible/roles/tripleo_hieradata/templates/fqdn.j2', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/delete.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/install_pkgs.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/service_configs.j2', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/get_ssh_private_key.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml', 'tripleo_ansible/roles/tripleo_container_stop/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo-container-stop', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_config/templates/ini-config.j2', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_persist/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_persist/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/prepare.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/clouds.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_stop.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo-container-manage', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/meta/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/gather_domains_new.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/meta/main.yml', 'tripleo_ansible/roles/tripleo_kernel/templates/tripleo-sysctl.conf.j2', 'tripleo_ansible/roles/tripleo_packages/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/DockerfileRegistry', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/defaults/main.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-podman', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/mock-hieradata.j2.yaml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_persist/tasks/persist.yml', 'tripleo_ansible/roles/tripleo-ptp', 'tripleo_ansible/roles/tripleo_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_packages/molecule/update/Dockerfile', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_securetty/templates/securetty.j2', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo-persist', 'tripleo_ansible/roles/tripleo_config/templates/json-config.j2', 'tripleo_ansible/roles/tripleo_firewall/handlers/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/projects.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/discover_hosts.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/prepare.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/prepare.yml', 'tripleo_ansible/roles/tripleo_docker_rm', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/prepare.yml', 'tripleo_ansible/roles/tripleo_container_stop/tasks/tripleo_container_stop.yaml', 'tripleo_ansible/roles/tripleo_timezone/handlers/main.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo-kernel', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-transfer', 'tripleo_ansible/roles/octavia_controller_config/tasks/certificate.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo_firewall/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/Dockerfile', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo-puppet-cache', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/vars/main.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/library/openvswitch_db.py', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_create_admin/tasks/create_user.yml', 'tripleo_ansible/roles/tripleo_container_manage/meta/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config', 'tripleo_ansible/roles/tripleo_container_rm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/files/tripleo-container-shutdown', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/cloud_domain.j2', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo_container_tag/meta/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/set.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-config', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/manage.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/playbook.yml', 'tripleo_ansible/roles/tripleo_create_admin/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/octavia.yml', 'tripleo_ansible/roles/tripleo_container_tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/Dockerfile', 'tripleo_ansible/roles/tripleo_sshd/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/all_nodes.j2', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_clients_install/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/extraconfig.j2', 'tripleo_ansible/roles/tripleo_container_manage/files/91-netns-placeholder-preset', 'tripleo_ansible/roles/tripleo-ceph-run-ansible', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/verify.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/tripleo_docker_container_rm.yml', 'tripleo_ansible/roles/octavia_controller_post_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ceph_fetch_dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/create-tripleo-upgrade-file.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-uuid', 'tripleo_ansible/roles/tripleo_persist/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/meta/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_post_upgrade.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_hieradata/tasks/hieradata_vars.yaml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/verify.yml', 'tripleo_ansible/roles/octavia-controller-config', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/service_names.j2', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_create_admin/meta/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/Dockerfile', 'tripleo_ansible/roles/tripleo_bootstrap/defaults/main.yml', 'tripleo_ansible/roles/tripleo-upgrade-hiera', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_nova_image_cache/meta/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/backup_and_restore/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/prepare.yml', 'tripleo_ansible/roles/octavia-undercloud', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/molecule.yml', 'tripleo_ansible/roles/octavia_controller_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/handlers/main.yml', 'tripleo_ansible/roles/tripleo_packages/defaults/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_bootstrap/meta/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service_kill.j2', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service.path.j2', 'tripleo_ansible/roles/tripleo-image-serve', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/Dockerfile', 'tripleo_ansible/roles/tripleo-packages', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ptp/handlers/main.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/prepare.yml', 'tripleo_ansible/roles/tripleo_sshd/vars/main.yml', 'tripleo_ansible/roles/login_defs/meta/main.yml', 'tripleo_ansible/roles/tripleo_securetty/meta/main.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/templates/systemd-healthcheck.j2', 'tripleo_ansible/roles/tripleo_systemd_wrapper/templates/service_command.j2', 'tripleo_ansible/roles/tripleo-hosts-entries', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/playbook.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/vars/main.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/Dockerfile', 'tripleo_ansible/roles/backup_and_restore/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/gather_domains_old.yml', 'tripleo_ansible/roles/octavia_undercloud/meta/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_packages/handlers/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/external_upgrade.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/prepare.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/loop-endpoints.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/update.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_roles.yml', 'tripleo_ansible/roles/tripleo_clients_install/vars/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/playbook.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/molecule.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/templates/image-serve.conf.j2', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/Dockerfile', 'tripleo_ansible/roles/tripleo_podman/molecule/install/playbook.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml', 'tripleo_ansible/roles/tripleo_kernel/handlers/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/meta/main.yml', 'tripleo_ansible/roles/login_defs/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/defaults/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/remove-all.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/octavia_controller_config/templates/ifcfg-br-int.j2', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-keystone-resources', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/Dockerfile', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/tests/test_default.py']",599,c4ebd63ec115b53df6fd745d0de919ef2c4e3d42,renaming-all-the-things,,,45,288
openstack%2Fmistral~master~I367926727291f5f21b1849237ca29fdce7e926c0,openstack/mistral,master,I367926727291f5f21b1849237ca29fdce7e926c0,Gnocchi: fix client options,MERGED,2020-01-19 12:26:44.000000000,2020-01-22 17:23:57.000000000,2020-01-22 17:21:38.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-01-19 12:26:44.000000000', 'files': ['mistral/actions/openstack/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/947a986a72a1f2ccf139fd42a33897f8746f89ae', 'message': 'Gnocchi: fix client options\n\nBased on https://review.opendev.org/#/c/488307/3\n\nChange-Id: I367926727291f5f21b1849237ca29fdce7e926c0\nCloses-Bug: 1707131\n'}]",0,703290,947a986a72a1f2ccf139fd42a33897f8746f89ae,19,4,1,19134,,,0,"Gnocchi: fix client options

Based on https://review.opendev.org/#/c/488307/3

Change-Id: I367926727291f5f21b1849237ca29fdce7e926c0
Closes-Bug: 1707131
",git fetch https://review.opendev.org/openstack/mistral refs/changes/90/703290/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/actions.py'],1,947a986a72a1f2ccf139fd42a33897f8746f89ae,gnocchi," gnocchi_endpoint = keystone_utils.get_endpoint_for_project( service_type=""metric"") keystone_endpoint = keystone_utils.get_keystone_endpoint() auth = ks_identity_v3.Token( auth_url=keystone_endpoint.url, tenant_name=context.user_name, token=context.auth_token, tenant_id=context.project_id adapter_options={""region_name"": gnocchi_endpoint.region, ""project_id"": context.project_id, ""endpoint"": gnocchi_endpoint.url, ""insecure"": context.insecure}, session_options={""auth"": auth}"," gnocchi_endpoint = self.get_service_endpoint() endpoint_url = keystone_utils.format_url( gnocchi_endpoint.url, {'tenant_id': context.project_id} endpoint_url, region_name=gnocchi_endpoint.region, token=context.auth_token, username=context.user_name",13,9
openstack%2Fhorizon~stable%2Ftrain~I47f73ff94664d315a2400feb8ce8a25f4e6beced,openstack/horizon,stable/train,I47f73ff94664d315a2400feb8ce8a25f4e6beced,Fixes a series of bugs related to Floating IPs.,MERGED,2020-01-16 08:01:27.000000000,2020-01-22 17:10:03.000000000,2020-01-22 17:08:19.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-16 08:01:27.000000000', 'files': ['openstack_dashboard/dashboards/project/floating_ips/templates/floating_ips/_allocate.html', 'openstack_dashboard/usage/views.py', 'openstack_dashboard/dashboards/project/floating_ips/templates/floating_ips/allocate.html', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/project/floating_ips/views.py', 'openstack_dashboard/dashboards/project/floating_ips/tables.py', 'openstack_dashboard/dashboards/project/floating_ips/forms.py', 'openstack_dashboard/usage/quotas.py', 'openstack_dashboard/test/unit/usage/test_quotas.py', 'openstack_dashboard/dashboards/project/floating_ips/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ebc9ee920eab20f19eb3ea353d48a9ace82475a7', 'message': ""Fixes a series of bugs related to Floating IPs.\n\n- Fixes KeyErrors when accessing 'floatingip' values in usages, which\n  broken Floating IP allocation.\n- The quota display in the bottom right of the Allocation dialog are\n  only displayed if 'enabled_quotas' is True\n- Adds security group rule tallying for the usages overview page, which\n  fixes a KeyError crash for installations where Horizon 'enable_quotas'\n  is set to true, but the 'quota_details' extension is not installed on\n  in Neutron\n- Adds a policy check to show and hide The plus/add button in\n  Instances->Associate Floating IP to match the Allocate IP To Project\n  button in Floating IPs\n- Fixed the page title not being set for the non-modal version of the\n  modal allocation dialog/form\n- Added an 'allowed' functionality for network usage overview charts to\n  allow for them to be dynamically disabled\n- Added tests and mocks for the above\n- Added tests for non-legacy quota tallying for networks\n- Added test for disabled network quotas in overview\n\nChange-Id: I47f73ff94664d315a2400feb8ce8a25f4e6beced\ncloses-bug: #1838522\n(cherry picked from commit 161b4ae5d4a7a29f9e5c91d9b391dee49e075993)\n""}]",0,702814,ebc9ee920eab20f19eb3ea353d48a9ace82475a7,8,3,1,26546,,,0,"Fixes a series of bugs related to Floating IPs.

- Fixes KeyErrors when accessing 'floatingip' values in usages, which
  broken Floating IP allocation.
- The quota display in the bottom right of the Allocation dialog are
  only displayed if 'enabled_quotas' is True
- Adds security group rule tallying for the usages overview page, which
  fixes a KeyError crash for installations where Horizon 'enable_quotas'
  is set to true, but the 'quota_details' extension is not installed on
  in Neutron
- Adds a policy check to show and hide The plus/add button in
  Instances->Associate Floating IP to match the Allocate IP To Project
  button in Floating IPs
- Fixed the page title not being set for the non-modal version of the
  modal allocation dialog/form
- Added an 'allowed' functionality for network usage overview charts to
  allow for them to be dynamically disabled
- Added tests and mocks for the above
- Added tests for non-legacy quota tallying for networks
- Added test for disabled network quotas in overview

Change-Id: I47f73ff94664d315a2400feb8ce8a25f4e6beced
closes-bug: #1838522
(cherry picked from commit 161b4ae5d4a7a29f9e5c91d9b391dee49e075993)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/14/702814/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/floating_ips/templates/floating_ips/_allocate.html', 'openstack_dashboard/dashboards/project/floating_ips/templates/floating_ips/allocate.html', 'openstack_dashboard/usage/views.py', 'openstack_dashboard/dashboards/project/floating_ips/views.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/project/floating_ips/tables.py', 'openstack_dashboard/dashboards/project/floating_ips/forms.py', 'openstack_dashboard/usage/quotas.py', 'openstack_dashboard/test/unit/usage/test_quotas.py', 'openstack_dashboard/dashboards/project/floating_ips/workflows.py']",10,ebc9ee920eab20f19eb3ea353d48a9ace82475a7,bug/1838522-stable/train,"from openstack_dashboard import policy empty_value=None if policy.check(((""network"", ""create_floatingip""),), request=self.request): self.fields['ip_id'].widget.add_item_link = ALLOCATE_URL "," empty_value=None, add_item_link=ALLOCATE_URL",196,55
openstack%2Fneutron~master~Id9dd91b50506670da8fb7485e2adbd5b9b6031b4,openstack/neutron,master,Id9dd91b50506670da8fb7485e2adbd5b9b6031b4,Disable not needed services in grenade jobs,MERGED,2019-12-17 15:37:44.000000000,2020-01-22 17:09:30.000000000,2020-01-22 17:07:13.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-17 15:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d4ebb5b570f64cc71496c49b447392c0c485968', 'message': ""Disable not needed services in grenade jobs\n\nThings like swift, cinder-backup and etcd aren't needed in neutron\ngrenade jobs so lets try to disable it to save some resources on test\nnode.\n\nChange-Id: Id9dd91b50506670da8fb7485e2adbd5b9b6031b4\n""}, {'number': 2, 'created': '2019-12-19 10:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22b55ae750ef0f21acd346d72719149fbb4a435f', 'message': ""Disable not needed services in grenade jobs\n\nThings like swift, cinder and etcd aren't needed in neutron\ngrenade jobs so lets try to disable it to save some resources on test\nnode.\n\nChange-Id: Id9dd91b50506670da8fb7485e2adbd5b9b6031b4\n""}, {'number': 3, 'created': '2019-12-19 13:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a840939ef0483be424138101881f2b5d6125acd6', 'message': ""Disable not needed services in grenade jobs\n\nThings like swift, cinder and etcd aren't needed in neutron\ngrenade jobs so lets try to disable it to save some resources on test\nnode.\n\nChange-Id: Id9dd91b50506670da8fb7485e2adbd5b9b6031b4\n""}, {'number': 4, 'created': '2019-12-21 09:48:57.000000000', 'files': ['playbooks/legacy/neutron-grenade-dvr-multinode/run.yaml', 'playbooks/legacy/neutron-grenade-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bf005b3c3e5fb49925fd798d01c47d1ee543743', 'message': ""Disable not needed services in grenade jobs\n\nThings like swift, cinder and etcd aren't needed in neutron\ngrenade jobs so lets try to disable it to save some resources on test\nnode.\n\nChange-Id: Id9dd91b50506670da8fb7485e2adbd5b9b6031b4\n""}]",1,699441,0bf005b3c3e5fb49925fd798d01c47d1ee543743,39,11,4,11975,,,0,"Disable not needed services in grenade jobs

Things like swift, cinder and etcd aren't needed in neutron
grenade jobs so lets try to disable it to save some resources on test
node.

Change-Id: Id9dd91b50506670da8fb7485e2adbd5b9b6031b4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/699441/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-grenade-dvr-multinode/run.yaml', 'playbooks/legacy/neutron-grenade-multinode/run.yaml']",2,2d4ebb5b570f64cc71496c49b447392c0c485968,optimize-grenade-jobs," # Disable some services to use less memory # Cinder-backup export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service c-bak"" # Etcd export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service etcd"" # Swift export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-account"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-container"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-container-sync"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-object"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-proxy"" ",,24,0
openstack%2Fbifrost~master~I00cc48df62bf766b2564fd34668d068143e7e062,openstack/bifrost,master,I00cc48df62bf766b2564fd34668d068143e7e062,DNM Attempt specific dnsmasq directory,ABANDONED,2020-01-13 20:44:53.000000000,2020-01-22 17:05:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-01-13 20:44:53.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/32e9c13cdd8687b01e16348c3c296088a67b8cd0', 'message': 'DNM Attempt specific dnsmasq directory\n\nChange-Id: I00cc48df62bf766b2564fd34668d068143e7e062\n'}]",0,702291,32e9c13cdd8687b01e16348c3c296088a67b8cd0,3,1,1,11655,,,0,"DNM Attempt specific dnsmasq directory

Change-Id: I00cc48df62bf766b2564fd34668d068143e7e062
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/91/702291/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'],1,32e9c13cdd8687b01e16348c3c296088a67b8cd0,700912, template: src=dnsmasq.conf.j2 dest=/etc/dnsmasq.d/bifrost.conf, template: src=dnsmasq.conf.j2 dest=/etc/dnsmasq.conf,1,1
openstack%2Fneutron~master~I3fc88158e793b4a4bb4e7a43f106291857b2eb74,openstack/neutron,master,I3fc88158e793b4a4bb4e7a43f106291857b2eb74,Update release-checklist doc page,MERGED,2020-01-16 08:48:33.000000000,2020-01-22 17:04:27.000000000,2020-01-22 16:59:21.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-16 08:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c00355cddf2c59e83dc9c761311c7930d87f62cd', 'message': 'Update release-checklist doc page\n\nThis patch adds info about always bumping minor version number if\ne.g. OVO object version was changed in stable release.\nThat should at least increase awarness of operators that some special\ncare is needed during update.\n\nChange-Id: I3fc88158e793b4a4bb4e7a43f106291857b2eb74\n'}, {'number': 2, 'created': '2020-01-16 10:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f266dc7e5843c7c4c40c4813bcebe576f63d4cb7', 'message': 'Update release-checklist doc page\n\nThis patch adds info about always bumping minor version number if\ne.g. OVO object version was changed in stable release.\nThat should at least increase awarness of operators that some special\ncare is needed during update.\n\nChange-Id: I3fc88158e793b4a4bb4e7a43f106291857b2eb74\n'}, {'number': 3, 'created': '2020-01-21 09:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fc7f769d169a30915fdbcfa69bc6359c20996ba', 'message': 'Update release-checklist doc page\n\nThis patch adds info about always bumping minor version number if\ne.g. OVO object version was changed in stable release.\nThat should at least increase awarness of operators that some special\ncare is needed during update.\n\nChange-Id: I3fc88158e793b4a4bb4e7a43f106291857b2eb74\n'}, {'number': 4, 'created': '2020-01-22 00:08:41.000000000', 'files': ['doc/source/contributor/policies/release-checklist.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/22254577916e9e0dabee910455573f9159e01030', 'message': 'Update release-checklist doc page\n\nThis patch adds info about always bumping minor version number if\ne.g. OVO object version was changed in stable release.\nThat should at least increase awarness of operators that some special\ncare is needed during update.\n\nChange-Id: I3fc88158e793b4a4bb4e7a43f106291857b2eb74\n'}]",20,702822,22254577916e9e0dabee910455573f9159e01030,27,8,4,11975,,,0,"Update release-checklist doc page

This patch adds info about always bumping minor version number if
e.g. OVO object version was changed in stable release.
That should at least increase awarness of operators that some special
care is needed during update.

Change-Id: I3fc88158e793b4a4bb4e7a43f106291857b2eb74
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/702822/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/release-checklist.rst'],1,c00355cddf2c59e83dc9c761311c7930d87f62cd,update-release-checklist,"if there is a major bug fix that has merged recently.Minor version number should be bumped always In cases when new release contains changes which may cause problems during update, e.g. new OVO version for an object was introduced. In other cases only revision number can be bumped. ",if there is a major bug fix that has merged recently,6,1
openstack%2Fneutron~master~Iea532e2a02b7992305d1b90aa040e064901c340c,openstack/neutron,master,Iea532e2a02b7992305d1b90aa040e064901c340c,[OVN] Delete NAT entry first on any FIP update,MERGED,2020-01-20 09:47:25.000000000,2020-01-22 17:02:01.000000000,2020-01-22 16:59:16.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-20 09:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/826fc44007c93dae9f16e22709832c4aeaf67972', 'message': ""Delete NAT entry first on any FIP update\n\nFor now while updating FIP  check if port or logical_ip\nhas changed and only then we deleted the NAT entry.\n\nUnfortunately each time when FIP update occurs the\nmethod _create_or_update_floatingip() is used. It first deletes\nLSP pointed by FIP and adds it again along with new NAT entries.\nBased on author comment this actions are required.\n\nSo if we don't update FIP with logical_ip or new port_id,\nlike update a description, the NAT entries gets duplicated.\n\nSince all is wrapped withing a transaction and to not wait for\nproper fix (this code need sa refactor based on commments with NAT\nexternal_id column) I think thats safe just to delete the NAT entry\nin such situation like described above.\n\nChange-Id: Iea532e2a02b7992305d1b90aa040e064901c340c\nRelated-Bug: #1859977\n""}, {'number': 2, 'created': '2020-01-20 10:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c968ba7a2ca3f79cfc53b079a9ddae3f44a69fc', 'message': ""[OVN] Delete NAT entry first on any FIP update\n\nFor now while updating FIP  check if port or logical_ip\nhas changed and only then we deleted the NAT entry.\n\nUnfortunately each time when FIP update occurs the\nmethod _create_or_update_floatingip() is used. It first deletes\nLSP pointed by FIP and adds it again along with new NAT entries.\nBased on author comment this actions are required.\n\nSo if we don't update FIP with logical_ip or new port_id,\nlike update a description, the NAT entries gets duplicated.\n\nSince all is wrapped withing a transaction and to not wait for\nproper fix (this code need sa refactor based on commments with NAT\nexternal_id column) I think thats safe just to delete the NAT entry\nin such situation like described above.\n\nChange-Id: Iea532e2a02b7992305d1b90aa040e064901c340c\nRelated-Bug: #1859977\n""}, {'number': 3, 'created': '2020-01-20 15:30:08.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/45ae9dfb7d5acacc72fcf9f071a9db1beb0ca972', 'message': ""[OVN] Delete NAT entry first on any FIP update\n\nFor now while updating FIP  check if port or logical_ip\nhas changed and only then we deleted the NAT entry.\n\nUnfortunately each time when FIP update occurs the\nmethod _create_or_update_floatingip() is used. It first deletes\nLSP pointed by FIP and adds it again along with new NAT entries.\nBased on author comment this actions are required.\n\nSo if we don't update FIP with logical_ip or new port_id,\nlike update a description, the NAT entries gets duplicated.\n\nSince all is wrapped withing a transaction and to not wait for\nproper fix (this code need sa refactor based on commments with NAT\nexternal_id column) I think thats safe just to delete the NAT entry\nin such situation like described above.\n\nChange-Id: Iea532e2a02b7992305d1b90aa040e064901c340c\nRelated-Bug: #1859977\n""}]",3,703352,45ae9dfb7d5acacc72fcf9f071a9db1beb0ca972,35,9,3,24791,,,0,"[OVN] Delete NAT entry first on any FIP update

For now while updating FIP  check if port or logical_ip
has changed and only then we deleted the NAT entry.

Unfortunately each time when FIP update occurs the
method _create_or_update_floatingip() is used. It first deletes
LSP pointed by FIP and adds it again along with new NAT entries.
Based on author comment this actions are required.

So if we don't update FIP with logical_ip or new port_id,
like update a description, the NAT entries gets duplicated.

Since all is wrapped withing a transaction and to not wait for
proper fix (this code need sa refactor based on commments with NAT
external_id column) I think thats safe just to delete the NAT entry
in such situation like described above.

Change-Id: Iea532e2a02b7992305d1b90aa040e064901c340c
Related-Bug: #1859977
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/703352/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",2,826fc44007c93dae9f16e22709832c4aeaf67972,bug/1859977," def test_update_floatingip_association_empty_update(self, uf, gf): self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.get_floatingip.return_value = ( self.fake_ovn_nat_rule) self.fake_floating_ip.update({'fixed_port_id': 'foo'}) self.fake_floating_ip_new.update({'port_id': 'foo'}) self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_called_once_with( 'neutron-router-id', type='dnat_and_snat', logical_ip='10.0.0.10', external_ip='192.168.0.10') expected_ext_ids = { ovn_const.OVN_FIP_EXT_ID_KEY: self.fake_floating_ip_new['id'], ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_FIP_PORT_EXT_ID_KEY: self.fake_floating_ip_new['port_id'], ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: utils.ovn_name( self.fake_floating_ip_new['router_id'])} self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_ids=expected_ext_ids)"," def test_update_floatingip_association_not_changed(self, uf, gf): self.fake_floating_ip.update({'fixed_port_id': None}) self.fake_floating_ip_new.update({'port_id': None}) self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_not_called()",25,11
openstack%2Fswift~master~I26c5fe9d45a9765da0d30138ea2df16fd4e73d57,openstack/swift,master,I26c5fe9d45a9765da0d30138ea2df16fd4e73d57,swift-account-audit: work with encryption,MERGED,2019-10-14 18:20:51.000000000,2020-01-22 17:01:24.000000000,2020-01-22 16:59:19.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 18:20:51.000000000', 'files': ['bin/swift-account-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/e58840c571b1a1fe9ae9017a07c6754a10cbf69b', 'message': 'swift-account-audit: work with encryption\n\nChange-Id: I26c5fe9d45a9765da0d30138ea2df16fd4e73d57\n'}]",0,688527,e58840c571b1a1fe9ae9017a07c6754a10cbf69b,10,3,1,15343,,,0,"swift-account-audit: work with encryption

Change-Id: I26c5fe9d45a9765da0d30138ea2df16fd4e73d57
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/688527/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-account-audit'],1,e58840c571b1a1fe9ae9017a07c6754a10cbf69b,," override_etag = resp.getheader( 'X-Object-Sysmeta-Container-Update-Override-Etag') if override_etag: etags.append((override_etag, node)) else:"," etags.append((resp.getheader('ETag'), node))",6,1
openstack%2Frequirements~master~I5ac0a875ebeda9fdccc77eab76780ff9a4be6d3f,openstack/requirements,master,I5ac0a875ebeda9fdccc77eab76780ff9a4be6d3f,Limit neutron-lib versions depending on the Python version,MERGED,2020-01-21 15:37:45.000000000,2020-01-22 17:01:12.000000000,2020-01-22 16:59:24.000000000,"[{'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-21 15:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ee77bb39f01886d73b87818c3a3304d7a98e743', 'message': 'Limit neutron-lib versions depending on the Python version\n\nLast Python 2 working version was 1.30.0 (1.31.0 has an API error).\nNew 2.0.0 version dropped Python 2 support.\n\nAs seen in the related bug, some CI jobs still running in Python 2\nare trying to install 2.0.0, returning an error because this\nneutron-lib version is not supported.\n\nChange-Id: I5ac0a875ebeda9fdccc77eab76780ff9a4be6d3f\nRelated-Bug: #1860033\n'}, {'number': 2, 'created': '2020-01-21 16:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8410fc62bcb6f94d8e9d554589d4bb7d73ee5f4b', 'message': 'Limit neutron-lib versions depending on the Python version\n\nLast Python 2 working version was 1.30.0 (1.31.0 has an API error).\nNew 2.0.0 version dropped Python 2 support.\n\nAs seen in the related bug, some CI jobs still running in Python 2\nare trying to install 2.0.0, returning an error because this\nneutron-lib version is not supported.\n\nChange-Id: I5ac0a875ebeda9fdccc77eab76780ff9a4be6d3f\nRelated-Bug: #1860033\n'}, {'number': 3, 'created': '2020-01-21 18:10:37.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1f38f1241509dd2fe40983e4c6acf7bdbdd2593b', 'message': 'Limit neutron-lib versions depending on the Python version\n\nLast Python 2 working version was 1.30.0 (1.31.0 has an API error).\nNew 2.0.0 version dropped Python 2 support.\n\nAs seen in the related bug, some CI jobs still running in Python 2\nare trying to install 2.0.0, returning an error because this\nneutron-lib version is not supported.\n\nChange-Id: I5ac0a875ebeda9fdccc77eab76780ff9a4be6d3f\nRelated-Bug: #1860033\n'}]",12,703642,1f38f1241509dd2fe40983e4c6acf7bdbdd2593b,28,9,3,16688,,,0,"Limit neutron-lib versions depending on the Python version

Last Python 2 working version was 1.30.0 (1.31.0 has an API error).
New 2.0.0 version dropped Python 2 support.

As seen in the related bug, some CI jobs still running in Python 2
are trying to install 2.0.0, returning an error because this
neutron-lib version is not supported.

Change-Id: I5ac0a875ebeda9fdccc77eab76780ff9a4be6d3f
Related-Bug: #1860033
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/703642/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5ee77bb39f01886d73b87818c3a3304d7a98e743,bug/1860033,neutron-lib===1.30.0;python_version=='2.7' neutron-lib===2.0.0;python_version=='3.4' neutron-lib===2.0.0;python_version=='3.5' neutron-lib===2.0.0;python_version=='3.6' neutron-lib===2.0.0;python_version=='3.7',neutron-lib===2.0.0,5,1
openstack%2Ftripleo-docs~master~I779b306776d7b629d158368a6182748c7b8c86dc,openstack/tripleo-docs,master,I779b306776d7b629d158368a6182748c7b8c86dc,Added docs for third party dependency testing,MERGED,2020-01-21 11:06:35.000000000,2020-01-22 16:39:03.000000000,2020-01-22 16:37:26.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-21 11:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1f014b8ed2a2167e2a0f51e849cfeb26587dd8bf', 'message': 'Added docs for third party dependency testing\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-01-21 11:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f0e577be3409e8d37eab27b71ba0cb4835a0eb93', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-01-21 12:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/bdca9fb58d2caff64153e9ca2c0f173b19227e6d', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-01-21 13:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ca457716de69d7df186c81e9eb3c87eac1cd28cd', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-01-22 07:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e5d7393fc945f0f9e214a29293a2c8aacf5d1a47', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n* Depends-On usage\n* check-rdo vs check-github\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-01-22 07:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/64c770f22cbb770c0b0d8089002813d677f4357c', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n* Depends-On usage\n* check-rdo vs check-github\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-01-22 07:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/cdf7b363be0e78af553a0acb01ad93ec4b100c7a', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n* Depends-On usage\n* check-rdo vs check-github\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-01-22 07:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8ca08027dd80d61abf77f163ebf4285d14f5b08e', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n* Depends-On usage\n* check-rdo vs check-github\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-01-22 08:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/437c097825d794715a5586cc6af017224bea2c6c', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n* Depends-On usage\n* check-rdo vs check-github\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-01-22 11:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e2f5e48dd524c69567864cfd28e2932c681010cc', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n* Depends-On usage\n* check-rdo vs check-github\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2020-01-22 12:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6472f17e28bde337cc56081c8605c7c90bffff97', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n* Depends-On usage\n* check-rdo vs check-github\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2020-01-22 15:46:45.000000000', 'files': ['doc/source/ci/index.rst', 'doc/source/ci/third_party_dependencies_ci.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b5b4846977ca291aac7af4472d4e9bce4ea10bf3', 'message': 'Added docs for third party dependency testing\n\nIt adds information about:\n* TripleO jobs running against ceph-ansible/podman github\n  pull requests.\n* How to recheck the failed jobs.\n* How to file an issue.\n* Depends-On usage\n* check-rdo vs check-github\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1389\n\nChange-Id: I779b306776d7b629d158368a6182748c7b8c86dc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",59,703587,b5b4846977ca291aac7af4472d4e9bce4ea10bf3,44,10,12,12393,,,0,"Added docs for third party dependency testing

It adds information about:
* TripleO jobs running against ceph-ansible/podman github
  pull requests.
* How to recheck the failed jobs.
* How to file an issue.
* Depends-On usage
* check-rdo vs check-github

https://tree.taiga.io/project/tripleo-ci-board/task/1389

Change-Id: I779b306776d7b629d158368a6182748c7b8c86dc
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/87/703587/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ci/index.rst', 'doc/source/ci/third_party_dependencies_ci.rst']",2,1f014b8ed2a2167e2a0f51e849cfeb26587dd8bf,podman_integration,"Gating github projects using TripleO CI jobs ============================================ In TripleO deployment, we consume OpenStack and non-openstack projects. In order to catch issues early, every patchset of the OpenStack projects is getted with tripleO CI job using Zuul. With the help of RDO software factory instance, we can also now gate non-openstack projects hosted on Github. ceph-ansible and podman are the two non-openstack projects which are heavily used in TripleO deployment and hosted on github. Jobs running against ceph-ansible --------------------------------- ceph-ansible_ is used to configure Ceph in standalone scenario 1 and 4 jobs. These jobs are defined in rdo-jobs_ repo. On any ceph-ansible pull request, an user can trigger these jobs by commenting `check-github` or `check-rdo` on the pull request itself. It is currently done manually by the OpenStack developers. Then, those jobs will be appear in the RDO software factory Zuul_ status page in `github-manual` pipeline. On merged patches, periodic jobs are also gets triggered in `openstack-periodic-weekend` pipeline_. :: _ceph-ansible: https://github.com/ceph/ceph-ansible :: _rdo-jobs: https://github.com/rdo-infra/rdo-jobs/blob/master/zuul.d/ceph-ansible.yaml :: _Zuul: https://review.rdoproject.org/zuul/status :: _pipeline: https://review.rdoproject.org/zuul/builds?pipeline=openstack-periodic-weekend&project=ceph%2Fceph-ansible Jobs running against podman --------------------------- In TripleO, OpenStack services are running in containers. The container lifecycle, healthcheck and execution is managed via systemd using paunch. Paunch under the hood uses podman. The `podman` utility comes from libpod_ project. Currently on each libpod pull requests, tripleo ci based jobs gets triggered automatically and get queued in `github-check` pipeline in RDO software factory Zuul instance. TripleO jobs related to podman are defined in rdo-jobs_ repo. For re-running the tripleo jobs on libpod pull requests, we can add `check-github` comment on the libpod pull requests itself. On merged patches, periodic jobs are also get triggerd in `openstack-regular` pipeline_. :: _libpod: https://github.com/containers/libpod :: _rdo-jobs: https://github.com/rdo-infra/rdo-jobs/blob/master/zuul.d/podman.yaml :: _pipeline: https://review.rdoproject.org/zuul/builds?pipeline=openstack-regular&project=containers%2Flibpod ",,59,0
openstack%2Fkolla~stable%2Ftrain~Idddf51730821644948f51577807f5beaa18c6262,openstack/kolla,stable/train,Idddf51730821644948f51577807f5beaa18c6262,CI: Fix symlinks to failed logs,MERGED,2020-01-20 19:22:25.000000000,2020-01-22 16:34:20.000000000,2020-01-22 16:32:21.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-20 19:22:25.000000000', 'files': ['tests/playbooks/post.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a74a9408b85443b74b208fddf2c2b09937fd8b2c', 'message': 'CI: Fix symlinks to failed logs\n\nStop renaming files. Swift should be able to serve text/plain files\nbased on content, not extension.\n\nFailed logs symlinks were broken because we stopped gzipping log\nfiles and improperly rewrote the logic there.\n\nChange-Id: Idddf51730821644948f51577807f5beaa18c6262\n(cherry picked from commit 4a0182f15acbabc88df0aa660abce81d61f528da)\n'}]",0,703485,a74a9408b85443b74b208fddf2c2b09937fd8b2c,9,3,1,30491,,,0,"CI: Fix symlinks to failed logs

Stop renaming files. Swift should be able to serve text/plain files
based on content, not extension.

Failed logs symlinks were broken because we stopped gzipping log
files and improperly rewrote the logic there.

Change-Id: Idddf51730821644948f51577807f5beaa18c6262
(cherry picked from commit 4a0182f15acbabc88df0aa660abce81d61f528da)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/703485/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/post.yml'],1,a74a9408b85443b74b208fddf2c2b09937fd8b2c,ci-unb0rk-failed-logs-stable/train,," # rename files to .txt; this is so that when displayed via # logs.openstack.org clicking results in the browser shows the # files, rather than trying to send it to another app or make you # download it, etc. # firstly, rename all .log files to .txt files for f in $(find . -name ""*.log""); do mv $f ${f/.log/.txt} done # append .txt to all kolla config file find kolla_configs -type f -exec mv '{}' '{}'.txt \;",0,13
openstack%2Freleases~master~I71576fe3ed79c9e5839e40662db40c85a3f191cb,openstack/releases,master,I71576fe3ed79c9e5839e40662db40c85a3f191cb,Release Patrole 0.8.0,MERGED,2020-01-20 23:44:56.000000000,2020-01-22 16:33:40.000000000,2020-01-22 16:33:39.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-20 23:44:56.000000000', 'files': ['deliverables/ussuri/patrole.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f1ef919c1510f201dcdf8bf4398aa752e4dbf9e5', 'message': 'Release Patrole 0.8.0\n\nRelease 0.8.0 for Patrole marks end of support for Queens\nwhich is in EM state.\n\nChange-Id: I71576fe3ed79c9e5839e40662db40c85a3f191cb\n'}]",0,703523,f1ef919c1510f201dcdf8bf4398aa752e4dbf9e5,8,4,1,8556,,,0,"Release Patrole 0.8.0

Release 0.8.0 for Patrole marks end of support for Queens
which is in EM state.

Change-Id: I71576fe3ed79c9e5839e40662db40c85a3f191cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/703523/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/patrole.yaml'],1,f1ef919c1510f201dcdf8bf4398aa752e4dbf9e5,,releases: - projects: - repo: openstack/patrole hash: 5bbdaa4fde46cf3924c4be02b6c5db8bc157e468 version: 0.8.0,,5,0
openstack%2Freleases~master~Ie7481aa19e7493082233ef65f8759de41460898b,openstack/releases,master,Ie7481aa19e7493082233ef65f8759de41460898b,Release Tempest 23.0.0,MERGED,2020-01-20 23:41:53.000000000,2020-01-22 16:27:09.000000000,2020-01-22 16:27:09.000000000,"[{'_account_id': 11904}, {'_account_id': 12393}, {'_account_id': 16688}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-20 23:41:53.000000000', 'files': ['deliverables/ussuri/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/34b1ef20cdb89366a761ea91664b6098c2a38200', 'message': 'Release Tempest 23.0.0\n\nRelease 23.0.0 for Tempest marks end of support for Queens which is\nin EM state.\n\nChange-Id: Ie7481aa19e7493082233ef65f8759de41460898b\n'}]",1,703521,34b1ef20cdb89366a761ea91664b6098c2a38200,10,6,1,8556,,,0,"Release Tempest 23.0.0

Release 23.0.0 for Tempest marks end of support for Queens which is
in EM state.

Change-Id: Ie7481aa19e7493082233ef65f8759de41460898b
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/703521/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/tempest.yaml'],1,34b1ef20cdb89366a761ea91664b6098c2a38200,,releases: - projects: - repo: openstack/tempest hash: d43223773d75d2e82fb33a1281038e611c41d0f3 version: 23.0.0,,5,0
openstack%2Ftripleo-heat-templates~master~I7ad50d62e6177f109f513c4c11f611be60e570f2,openstack/tripleo-heat-templates,master,I7ad50d62e6177f109f513c4c11f611be60e570f2,Fix generation of TRIPLEO_CONFIG_HASH for services,MERGED,2020-01-20 18:53:50.000000000,2020-01-22 16:15:52.000000000,2020-01-21 18:38:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 18:53:50.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5ffef4a40dbfb48926dfd6b0057547343b9a082', 'message': 'Fix generation of TRIPLEO_CONFIG_HASH for services\n\nA container gets a config hash if one of its bind mount references\n/var/lib/config-data/(puppet-generated)?/service. That hash is\ncreated/managed by container-puppet.py and stored in\n/var/lib/config-data/(puppet-generated)?/service.md5sum\n\nCurrently, the parsing of bind-mount is broken so container-puppet.py\nnever associates or regenerates config hashes for containers. Fix\nthe parsing to make sure that any bind-mounts starting with\n/var/lib/config-data always resolve to the right md5sum file.\n\nChange-Id: I7ad50d62e6177f109f513c4c11f611be60e570f2\nCloses-Bug: #1860364\n'}]",0,703480,a5ffef4a40dbfb48926dfd6b0057547343b9a082,20,6,1,20778,,,0,"Fix generation of TRIPLEO_CONFIG_HASH for services

A container gets a config hash if one of its bind mount references
/var/lib/config-data/(puppet-generated)?/service. That hash is
created/managed by container-puppet.py and stored in
/var/lib/config-data/(puppet-generated)?/service.md5sum

Currently, the parsing of bind-mount is broken so container-puppet.py
never associates or regenerates config hashes for containers. Fix
the parsing to make sure that any bind-mounts starting with
/var/lib/config-data always resolve to the right md5sum file.

Change-Id: I7ad50d62e6177f109f513c4c11f611be60e570f2
Closes-Bug: #1860364
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/703480/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,a5ffef4a40dbfb48926dfd6b0057547343b9a082,bug/1860364,"def get_config_base(prefix, volume): # crawl the volume's path upwards until we find the # volume's base, where the hashed config file resides path = volume base = prefix.rstrip(os.path.sep) base_generated = os.path.join(base, 'puppet-generated') while path.startswith(prefix): dirname = os.path.dirname(path) if dirname == base or dirname == base_generated: return path else: path = dirname raise ValueError(""Could not find config's base for '%s'"" % volume) return sorted([get_config_base(prefix, v.split("":"")[0]) for v in volumes if v.startswith(prefix)])"," return sorted([os.path.dirname(v.split("":"")[0]) for v in volumes if v.startswith(prefix)])",17,2
openstack%2Fcinder~master~I3f9341b5fbebfb10aa459b1f95c2aca2e1510da6,openstack/cinder,master,I3f9341b5fbebfb10aa459b1f95c2aca2e1510da6,FCZM - Remove six due to Py2 support dropped,ABANDONED,2020-01-08 14:05:41.000000000,2020-01-22 16:15:50.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-01-08 14:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b82c3bb5e5e266e6230da1bce9c2d3764d0e683b', 'message': 'FCZM - Remove six due to Py2 support dropped\n\nThis patch removes six usage from the Fibre\nChannel Zone Manager, since we no longer\nsupport Python2.\n\nChange-Id: I3f9341b5fbebfb10aa459b1f95c2aca2e1510da6\n'}, {'number': 2, 'created': '2020-01-09 15:47:20.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/tests/unit/zonemanager/test_cisco_fc_zone_client_cli.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py', 'cinder/zonemanager/fc_zone_manager.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a0932aa488c7622a9975fe6eded68cecccc2480', 'message': 'FCZM - Remove six due to Py2 support dropped\n\nThis patch removes six usage from the Fibre\nChannel Zone Manager, since we no longer\nsupport Python2.\n\nChange-Id: I3f9341b5fbebfb10aa459b1f95c2aca2e1510da6\n'}]",2,701542,6a0932aa488c7622a9975fe6eded68cecccc2480,116,35,2,5997,,,0,"FCZM - Remove six due to Py2 support dropped

This patch removes six usage from the Fibre
Channel Zone Manager, since we no longer
support Python2.

Change-Id: I3f9341b5fbebfb10aa459b1f95c2aca2e1510da6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/701542/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/tests/unit/zonemanager/test_cisco_fc_zone_client_cli.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py', 'cinder/zonemanager/fc_zone_manager.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py']",10,b82c3bb5e5e266e6230da1bce9c2d3764d0e683b,fczm-py3," ) % {'cfg_name': cfg_name, 'err': str(e)} ) % {'cfg_name': cfg_name, 'err': str(e)} ) % {'cmd': cmd, 'err': str(e)} ""error=%(err)s)."") % {'cmd': cmd, 'err': str(e)} 'err': str(e)}","import six ) % {'cfg_name': cfg_name, 'err': six.text_type(e)} ) % {'cfg_name': cfg_name, 'err': six.text_type(e)} ) % {'cmd': cmd, 'err': six.text_type(e)} ""error=%(err)s)."") % {'cmd': cmd, 'err': six.text_type(e)} 'err': six.text_type(e)}",54,64
openstack%2Fneutron~master~I5135f5c7c02b25728d2d8843889b9e8aef1265cd,openstack/neutron,master,I5135f5c7c02b25728d2d8843889b9e8aef1265cd,Assign local variable before being referred,MERGED,2020-01-18 12:34:50.000000000,2020-01-22 16:14:46.000000000,2020-01-22 16:10:16.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-18 12:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/098bf12c2a12905d681e3b358b6443ee7598db47', 'message': 'Assign local variable before being referred\n\nAssign local variable ""interface_name"" before being referred in\n""TestL3Agent._router_fip_qos_after_admin_state_down_up""\n\nChange-Id: I5135f5c7c02b25728d2d8843889b9e8aef1265cd\nCloses-Bug: #1860209\n'}, {'number': 2, 'created': '2020-01-20 10:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/668a3ced51d13d184d543d76e9b7e95a2eefd951', 'message': 'Assign local variable before being referred\n\nAssign local variable ""interface_name"" before being referred in\n""TestL3Agent._router_fip_qos_after_admin_state_down_up""\n\nChange-Id: I5135f5c7c02b25728d2d8843889b9e8aef1265cd\nCloses-Bug: #1860209\n'}, {'number': 3, 'created': '2020-01-21 12:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6db32df5359f3e69daccab80ab62f67a0d5f4a92', 'message': 'Assign local variable before being referred\n\nAssign local variable ""interface_name"" before being referred in\n""TestL3Agent._router_fip_qos_after_admin_state_down_up""\n\nChange-Id: I5135f5c7c02b25728d2d8843889b9e8aef1265cd\nCloses-Bug: #1860209\n'}, {'number': 4, 'created': '2020-01-22 08:25:18.000000000', 'files': ['neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/37521cee8d3058af835fb4dd9db94af1deff17b8', 'message': 'Assign local variable before being referred\n\nAssign local variable ""interface_name"" before being referred in\n""TestL3Agent._router_fip_qos_after_admin_state_down_up""\n\nChange-Id: I5135f5c7c02b25728d2d8843889b9e8aef1265cd\nCloses-Bug: #1860209\n'}]",10,703236,37521cee8d3058af835fb4dd9db94af1deff17b8,41,9,4,16688,,,0,"Assign local variable before being referred

Assign local variable ""interface_name"" before being referred in
""TestL3Agent._router_fip_qos_after_admin_state_down_up""

Change-Id: I5135f5c7c02b25728d2d8843889b9e8aef1265cd
Closes-Bug: #1860209
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/703236/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_l3_agent.py'],1,098bf12c2a12905d681e3b358b6443ee7598db47,bug/1860209," interface_name = None break if not interface_name: self.fail('Router gateway interface ""qg-*"" not found')",,5,0
openstack%2Ftraining-labs~master~I25ae915f7e3c09eaa819a73ed899db3fbba6f243,openstack/training-labs,master,I25ae915f7e3c09eaa819a73ed899db3fbba6f243,setup_heat_controller: train update,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 16:02:50.000000000,2020-01-22 16:02:50.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_heat_controller.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/cdf39b6e13e20052198eb29025796fe0035a22f3', 'message': 'setup_heat_controller: train update\n\nSee openstack/heat repo:\n\n28dd8117ba477bd33e371875b49ee0362c8cc162\n  ""Update keystone_authtoken config reference""\n\nChange-Id: I25ae915f7e3c09eaa819a73ed899db3fbba6f243\n'}]",0,701098,cdf39b6e13e20052198eb29025796fe0035a22f3,8,4,1,11109,,,0,"setup_heat_controller: train update

See openstack/heat repo:

28dd8117ba477bd33e371875b49ee0362c8cc162
  ""Update keystone_authtoken config reference""

Change-Id: I25ae915f7e3c09eaa819a73ed899db3fbba6f243
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/98/701098/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/setup_heat_controller.sh'],1,cdf39b6e13e20052198eb29025796fe0035a22f3,train,iniset_sudo $conf keystone_authtoken www_authenticate_uri http://controller:5000,iniset_sudo $conf keystone_authtoken auth_uri http://controller:5000,1,1
openstack%2Ftraining-labs~master~I912e20c83aa3a048c8fe6d1ea9bd0dd21652bacd,openstack/training-labs,master,I912e20c83aa3a048c8fe6d1ea9bd0dd21652bacd,setup_nova_compute: remove workaround (no longer needed),MERGED,2020-01-04 14:53:41.000000000,2020-01-22 16:02:50.000000000,2020-01-22 16:02:49.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_nova_compute.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/017e87bb70970c722621e3cae268de960eabdc41', 'message': 'setup_nova_compute: remove workaround (no longer needed)\n\nChange-Id: I912e20c83aa3a048c8fe6d1ea9bd0dd21652bacd\n'}]",0,701097,017e87bb70970c722621e3cae268de960eabdc41,8,4,1,11109,,,0,"setup_nova_compute: remove workaround (no longer needed)

Change-Id: I912e20c83aa3a048c8fe6d1ea9bd0dd21652bacd
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/97/701097/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/setup_nova_compute.sh'],1,017e87bb70970c722621e3cae268de960eabdc41,train,"node_ssh controller ""sudo nova-status upgrade check""","rc=0 node_ssh controller ""sudo nova-status upgrade check"" || rc=$? if [ $rc -eq 1 ]; then cat << EXPLAIN nova-status upgrade check returned $rc. We ignore this error because starting with OpenStack Rocky, we get an erroneous warning like this: Check: Resource Providers Result: Warning Details: There are no compute resource providers in the Placement service but there are 1 compute nodes in the deployment. This means no compute nodes are reporting into the Placement service and need to be upgraded and/or fixed. See https://docs.openstack.org/nova/latest/user/placement.html for more details. The ability of the training cluster to allocate resources and launch VMs is not affected by this. EXPLAIN fi",1,21
openstack%2Ftraining-labs~master~Ib1407e85ead15088766679a605d28934df442ec9,openstack/training-labs,master,Ib1407e85ead15088766679a605d28934df442ec9,setup_cinder_volumes: updates,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 16:02:49.000000000,2020-01-22 16:02:49.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_cinder_volumes.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/d79038fa86e6c5d6c7a7a088bc90291284ba13af', 'message': 'setup_cinder_volumes: updates\n\nThe install-guide now installs thin-provisioning-tools, too.\n\nSee openstack/cinder repo:\n\n19dd18b17f2fbcca37b0c6633f47c0b7cdace9a7\n  ""Remove auth_uri usage""\n\nChange-Id: Ib1407e85ead15088766679a605d28934df442ec9\n'}]",0,701096,d79038fa86e6c5d6c7a7a088bc90291284ba13af,8,4,1,11109,,,0,"setup_cinder_volumes: updates

The install-guide now installs thin-provisioning-tools, too.

See openstack/cinder repo:

19dd18b17f2fbcca37b0c6633f47c0b7cdace9a7
  ""Remove auth_uri usage""

Change-Id: Ib1407e85ead15088766679a605d28934df442ec9
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/96/701096/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/setup_cinder_volumes.sh'],1,d79038fa86e6c5d6c7a7a088bc90291284ba13af,train,"echo ""Installing the supporting utility packages."" sudo apt install -y lvm2 thin-provisioning-toolsiniset_sudo $conf keystone_authtoken www_authenticate_uri http://controller:5000","# not in install-guide (needed to prevent lvcreate error): echo ""Installing thin-provisioning-tools."" sudo apt install -y thin-provisioning-tools echo ""Installing the Logical Volume Manager (LVM)."" sudo apt install -y lvm2iniset_sudo $conf keystone_authtoken auth_uri http://controller:5000",3,7
openstack%2Ftraining-labs~master~Ie9ab4f4d0abaffa9e973b0ae93cfb27d795abc59,openstack/training-labs,master,Ie9ab4f4d0abaffa9e973b0ae93cfb27d795abc59,setup_keystone: train changes,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:56:11.000000000,2020-01-22 15:56:10.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_keystone.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/4b6e8268b2e2011087964be5d952d4e02b6fabb0', 'message': 'setup_keystone: train changes\n\nSee openstack/keystone repo:\n\n0f2b36b2ad50694efa92a39649b778546cca3b31\n  ""[docs] remove deprecated ubuntu package from installation""\n\nChange-Id: Ie9ab4f4d0abaffa9e973b0ae93cfb27d795abc59\n'}]",0,701095,4b6e8268b2e2011087964be5d952d4e02b6fabb0,8,4,1,11109,,,0,"setup_keystone: train changes

See openstack/keystone repo:

0f2b36b2ad50694efa92a39649b778546cca3b31
  ""[docs] remove deprecated ubuntu package from installation""

Change-Id: Ie9ab4f4d0abaffa9e973b0ae93cfb27d795abc59
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/95/701095/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/setup_keystone.sh'],1,4b6e8268b2e2011087964be5d952d4e02b6fabb0,train,sudo apt install -y keystone,sudo apt install -y keystone apache2,1,1
openstack%2Ftraining-labs~master~Id40716fc2608b8e8f231bd5ef2d32a5745c21e16,openstack/training-labs,master,Id40716fc2608b8e8f231bd5ef2d32a5745c21e16,setup_horizon: train updates,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:56:10.000000000,2020-01-22 15:56:10.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_horizon.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/e1f924c6d27c33010963fe99f5f7cef0e8e19874', 'message': 'setup_horizon: train updates\n\nSee openstack/horizon repo:\n\n77c6b1919e0823e1a55dea28dbdb731a0c03a054\n  ""[trivial] use systemctl for service management in Ubuntu""\n\nb028b5a0aa6d266e2be8f74f5d50925b8d3e6fee\n  ""Change Cinder API version in the documentation""\n\nChange-Id: Id40716fc2608b8e8f231bd5ef2d32a5745c21e16\n'}]",0,701094,e1f924c6d27c33010963fe99f5f7cef0e8e19874,8,4,1,11109,,,0,"setup_horizon: train updates

See openstack/horizon repo:

77c6b1919e0823e1a55dea28dbdb731a0c03a054
  ""[trivial] use systemctl for service management in Ubuntu""

b028b5a0aa6d266e2be8f74f5d50925b8d3e6fee
  ""Change Cinder API version in the documentation""

Change-Id: Id40716fc2608b8e8f231bd5ef2d32a5745c21e16
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/94/701094/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/setup_horizon.sh'],1,e1f924c6d27c33010963fe99f5f7cef0e8e19874,train," ""volume"": 3,sudo systemctl restart apache2.service"," ""volume"": 2,sudo service apache2 restart",2,2
openstack%2Ftraining-labs~master~Ibb2e32b6419b1284fabb971d1e81ae2df69143d8,openstack/training-labs,master,Ibb2e32b6419b1284fabb971d1e81ae2df69143d8,setup_glance: fix use of glance client,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:56:10.000000000,2020-01-22 15:56:09.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_glance.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/ea5799141d3aa7b0d9a946936993bb05676f1153', 'message': 'setup_glance: fix use of glance client\n\nChange-Id: Ibb2e32b6419b1284fabb971d1e81ae2df69143d8\n'}]",0,701093,ea5799141d3aa7b0d9a946936993bb05676f1153,8,4,1,11109,,,0,"setup_glance: fix use of glance client

Change-Id: Ibb2e32b6419b1284fabb971d1e81ae2df69143d8
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/93/701093/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/setup_glance.sh'],1,ea5799141d3aa7b0d9a946936993bb05676f1153,train,"# XXX install-guide changed from openstack to glance client, but did not # change --public to --visibility public --visibility public", --public,3,1
openstack%2Ftraining-labs~master~I7defb743e5791ca897cdc6736b5031ed015d9a02,openstack/training-labs,master,I7defb743e5791ca897cdc6736b5031ed015d9a02,setup_glance: replace openstack client with glance client,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:55:14.000000000,2020-01-22 15:55:14.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_glance.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/78bdb0f17785a0a052d1bdf4f14f285ed8bfb28f', 'message': 'setup_glance: replace openstack client with glance client\n\nSee openstack/glance repo:\n\n82697983c0cbeead47dfb6df9789ad88a8995af7\n  ""Use `glance` as example in docs instead of osc""\n\nChange-Id: I7defb743e5791ca897cdc6736b5031ed015d9a02\n'}]",0,701092,78bdb0f17785a0a052d1bdf4f14f285ed8bfb28f,8,4,1,11109,,,0,"setup_glance: replace openstack client with glance client

See openstack/glance repo:

82697983c0cbeead47dfb6df9789ad88a8995af7
  ""Use `glance` as example in docs instead of osc""

Change-Id: I7defb743e5791ca897cdc6736b5031ed015d9a02
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/92/701092/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/setup_glance.sh'],1,78bdb0f17785a0a052d1bdf4f14f285ed8bfb28f,train,"glance image-create --name ""$CIRROS_IMG_NAME"" \echo ""glance image-list"" glance image-list","openstack image create ""$CIRROS_IMG_NAME"" \echo ""openstack image list"" openstack image list",3,3
openstack%2Ftraining-labs~master~I7c9a4837c83318188043a3b6d66fc077db4ba02b,openstack/training-labs,master,I7c9a4837c83318188043a3b6d66fc077db4ba02b,Introduce placement-api as a separate service,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:52:21.000000000,2020-01-22 15:52:21.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/config/scripts.ubuntu_cluster', 'labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/scripts/ubuntu/setup_placement_controller.sh', 'labs/osbash/scripts/ubuntu/apt_pre-download.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/148ef079e4100483670185e9754ae57dce11a5c4', 'message': 'Introduce placement-api as a separate service\n\n- pre-download: download placement-api, not nova-placement-api\n- add setup_placement_controller.sh to install placement-api\n- scripts.ubuntu_cluster: add setup_placement_controller.sh\n- setup_nova_controller: remove code for placement\n\nopenstack/nova commit f21b07153d7e7849883efde6a9b6c11288b17add\n  Remove placement from nova install docs\n\nChange-Id: I7c9a4837c83318188043a3b6d66fc077db4ba02b\n'}]",0,701091,148ef079e4100483670185e9754ae57dce11a5c4,8,4,1,11109,,,0,"Introduce placement-api as a separate service

- pre-download: download placement-api, not nova-placement-api
- add setup_placement_controller.sh to install placement-api
- scripts.ubuntu_cluster: add setup_placement_controller.sh
- setup_nova_controller: remove code for placement

openstack/nova commit f21b07153d7e7849883efde6a9b6c11288b17add
  Remove placement from nova install docs

Change-Id: I7c9a4837c83318188043a3b6d66fc077db4ba02b
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/91/701091/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/osbash/config/scripts.ubuntu_cluster', 'labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/scripts/ubuntu/setup_placement_controller.sh', 'labs/osbash/scripts/ubuntu/apt_pre-download.sh']",4,148ef079e4100483670185e9754ae57dce11a5c4,train,apt_download placement-api,apt_download nova-placement-api,141,52
openstack%2Ftraining-labs~master~I7b5087e36914b5e612d01d671b85e62a39df1df7,openstack/training-labs,master,I7b5087e36914b5e612d01d671b85e62a39df1df7,Replace bionics mariadb-server 10.1 with 10.3 from upstream repo,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:51:01.000000000,2020-01-22 15:51:00.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/lib/functions.guest.sh', 'labs/osbash/scripts/ubuntu/apt_init.sh', 'labs/osbash/scripts/ubuntu/apt_install_mysql.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/6b77657816240765630bb7ccf08aa12efc1da582', 'message': 'Replace bionics mariadb-server 10.1 with 10.3 from upstream repo\n\nThe mariadb-server version shipping with Ubuntu 18.04 LTS (bionic) and\nthe version in the Ubuntu Cloud Archive (10.1) is too old to work with\nthe neutron database upgrade process in OpenStack Train. Therefore,\nwe install mariadb-server 10.3 from the upstream repo.\n\nChange-Id: I7b5087e36914b5e612d01d671b85e62a39df1df7\n'}]",0,701090,6b77657816240765630bb7ccf08aa12efc1da582,8,4,1,11109,,,0,"Replace bionics mariadb-server 10.1 with 10.3 from upstream repo

The mariadb-server version shipping with Ubuntu 18.04 LTS (bionic) and
the version in the Ubuntu Cloud Archive (10.1) is too old to work with
the neutron database upgrade process in OpenStack Train. Therefore,
we install mariadb-server 10.3 from the upstream repo.

Change-Id: I7b5087e36914b5e612d01d671b85e62a39df1df7
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/90/701090/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/osbash/lib/functions.guest.sh', 'labs/osbash/scripts/ubuntu/apt_init.sh', 'labs/osbash/scripts/ubuntu/apt_install_mysql.sh']",3,6b77657816240765630bb7ccf08aa12efc1da582,train,"echo ""Sanity check: check if password login works for root."" sudo mysql -u root -p""$DATABASE_PASSWORD"" -e quit","echo ""Sanity check: distro default is socket auth."" sudo mysql -u root -e quit",30,4
openstack%2Ftraining-labs~master~I6957de66ae058921cbe8e55d5c74fadc6a111dfe,openstack/training-labs,master,I6957de66ae058921cbe8e55d5c74fadc6a111dfe,Remove nova-consoleauth,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:51:00.000000000,2020-01-22 15:51:00.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/scripts/test/launch_instance_private_net.sh', 'labs/osbash/scripts/ubuntu/apt_pre-download.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/85ec352b549ac78e1ccd9547940cdd76909d1b50', 'message': 'Remove nova-consoleauth\n\nDeprecated in Rocky, removed in Train.\n\nChange-Id: I6957de66ae058921cbe8e55d5c74fadc6a111dfe\n'}]",0,701089,85ec352b549ac78e1ccd9547940cdd76909d1b50,8,4,1,11109,,,0,"Remove nova-consoleauth

Deprecated in Rocky, removed in Train.

Change-Id: I6957de66ae058921cbe8e55d5c74fadc6a111dfe
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/89/701089/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/scripts/test/launch_instance_private_net.sh', 'labs/osbash/scripts/ubuntu/apt_pre-download.sh']",3,85ec352b549ac78e1ccd9547940cdd76909d1b50,train,apt_download nova-api nova-conductor nova-novncproxy nova-scheduler,apt_download nova-api nova-conductor nova-consoleauth \ nova-novncproxy nova-scheduler,3,12
openstack%2Ftraining-labs~master~Ie06f819677a66c7e88127984f478ac52b20bcd1b,openstack/training-labs,master,Ie06f819677a66c7e88127984f478ac52b20bcd1b,Update doc URLs for train,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:50:59.000000000,2020-01-22 15:50:59.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_cinder_controller.sh', 'labs/osbash/scripts/ubuntu/setup_glance.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_compute.sh', 'labs/osbash/scripts/ubuntu/setup_cinder_volumes.sh', 'labs/osbash/scripts/ubuntu/setup_nova_compute.sh', 'labs/osbash/scripts/ubuntu/setup_heat_controller.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_controller.sh', 'labs/osbash/config/admin-openstackrc.sh', 'labs/osbash/config/demo-openstackrc.sh', 'labs/osbash/scripts/ubuntu/setup_horizon.sh', 'labs/osbash/scripts/ubuntu/setup_self-service_controller.sh', 'labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/scripts/ubuntu/setup_keystone.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_compute_part_2.sh', 'labs/osbash/scripts/ubuntu/setup_self-service_compute.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_controller_part_2.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/eeeac528c5edb65b30008148c5066068d572ad2c', 'message': 'Update doc URLs for train\n\nChange-Id: Ie06f819677a66c7e88127984f478ac52b20bcd1b\n'}]",0,701088,eeeac528c5edb65b30008148c5066068d572ad2c,8,4,1,11109,,,0,"Update doc URLs for train

Change-Id: Ie06f819677a66c7e88127984f478ac52b20bcd1b
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/88/701088/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/osbash/scripts/ubuntu/setup_cinder_controller.sh', 'labs/osbash/scripts/ubuntu/setup_glance.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_compute.sh', 'labs/osbash/scripts/ubuntu/setup_cinder_volumes.sh', 'labs/osbash/scripts/ubuntu/setup_nova_compute.sh', 'labs/osbash/scripts/ubuntu/setup_heat_controller.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_controller.sh', 'labs/osbash/config/admin-openstackrc.sh', 'labs/osbash/config/demo-openstackrc.sh', 'labs/osbash/scripts/ubuntu/setup_horizon.sh', 'labs/osbash/scripts/ubuntu/setup_self-service_controller.sh', 'labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/scripts/ubuntu/setup_keystone.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_compute_part_2.sh', 'labs/osbash/scripts/ubuntu/setup_self-service_compute.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_controller_part_2.sh']",16,eeeac528c5edb65b30008148c5066068d572ad2c,train,# https://docs.openstack.org/neutron/train/install/controller-install-ubuntu.html# https://docs.openstack.org/neutron/train/install/verify-option2.html,# https://docs.openstack.org/neutron/stein/install/controller-install-ubuntu.html# https://docs.openstack.org/neutron/stein/install/verify-option2.html,24,24
openstack%2Ftraining-labs~master~Ie72c84b92014c7c99e96549e17b971eb418808ef,openstack/training-labs,master,Ie72c84b92014c7c99e96549e17b971eb418808ef,OpenStack Train update,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:50:59.000000000,2020-01-22 15:50:58.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/config/openstack', 'labs/osbash/scripts/ubuntu/apt_init.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/f06d146a5561d84fa1b1b9de47937f1443f0f487', 'message': 'OpenStack Train update\n\nThis changeset contains updates for the OpenStack Train release.\n\nChange-Id: Ie72c84b92014c7c99e96549e17b971eb418808ef\n'}]",0,701087,f06d146a5561d84fa1b1b9de47937f1443f0f487,8,4,1,11109,,,0,"OpenStack Train update

This changeset contains updates for the OpenStack Train release.

Change-Id: Ie72c84b92014c7c99e96549e17b971eb418808ef
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/87/701087/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/osbash/config/openstack', 'labs/osbash/scripts/ubuntu/apt_init.sh']",2,f06d146a5561d84fa1b1b9de47937f1443f0f487,train,# https://launchpad.net/~ubuntu-cloud-archive/+archive/ubuntu/train-staging train) REPO=cloud-archive:train SRC_FILE=cloudarchive-train.list train-proposed) REPO=cloud-archive:train-proposed SRC_FILE=cloudarchive-train-proposed.list train-staging) REPO=ppa:ubuntu-cloud-archive/train-staging SRC_FILE=ubuntu-cloud-archive-ubuntu-train-staging-bionic.list,# https://launchpad.net/~ubuntu-cloud-archive/+archive/ubuntu/stein-staging stein) REPO=cloud-archive:stein SRC_FILE=cloudarchive-stein.list stein-proposed) REPO=cloud-archive:stein-proposed SRC_FILE=cloudarchive-stein-proposed.list stein-staging) REPO=ppa:ubuntu-cloud-archive/stein-staging SRC_FILE=ubuntu-cloud-archive-ubuntu-stein-staging-bionic.list,14,14
openstack%2Ftraining-labs~master~I8392865a38d756cc9c37169a95a2d3aad9aaebd5,openstack/training-labs,master,I8392865a38d756cc9c37169a95a2d3aad9aaebd5,config/demo-openstackrc.sh: fix case for domain names,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:50:43.000000000,2020-01-22 15:50:43.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/config/demo-openstackrc.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/b2dea05292b1f4c84273baa3d1c61f8fc3d1c4e5', 'message': 'config/demo-openstackrc.sh: fix case for domain names\n\nChange-Id: I8392865a38d756cc9c37169a95a2d3aad9aaebd5\n'}]",0,701086,b2dea05292b1f4c84273baa3d1c61f8fc3d1c4e5,8,4,1,11109,,,0,"config/demo-openstackrc.sh: fix case for domain names

Change-Id: I8392865a38d756cc9c37169a95a2d3aad9aaebd5
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/86/701086/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/config/demo-openstackrc.sh'],1,b2dea05292b1f4c84273baa3d1c61f8fc3d1c4e5,train,export OS_USER_DOMAIN_NAME=Default export OS_PROJECT_DOMAIN_NAME=Default,export OS_USER_DOMAIN_NAME=default export OS_PROJECT_DOMAIN_NAME=default,2,2
openstack%2Fbifrost~master~I643d4d3ee9f75cc7525ddf0551a03483906c433b,openstack/bifrost,master,I643d4d3ee9f75cc7525ddf0551a03483906c433b,Enable Fasttrack,MERGED,2020-01-20 21:28:44.000000000,2020-01-22 15:50:00.000000000,2020-01-22 15:47:07.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 21:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d658752137a327e401a64f97ccf06e3b76304ebe', 'message': ""Enable Fasttrack\n\nDefaults bifrost to leverage fast track. This will enable\nbifrost's CI to identify failures related to code changes\naround fast track... which is ultimately a little more\ndifficult to test in the OpenStack oriented CI jobs.\n\nChange-Id: I643d4d3ee9f75cc7525ddf0551a03483906c433b\n""}, {'number': 2, 'created': '2020-01-20 21:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/71eef085dd860df2741715b8a9e442ee96706481', 'message': ""Enable Fasttrack\n\nDefaults bifrost to leverage fast track. This will enable\nbifrost's CI to identify failures related to code changes\naround fast track... which is ultimately a little more\ndifficult to test in the OpenStack oriented CI jobs.\n\nChange-Id: I643d4d3ee9f75cc7525ddf0551a03483906c433b\n""}, {'number': 3, 'created': '2020-01-20 22:51:40.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/default-to-use-fasttrack-a526e1d86d2f669d.yaml', 'playbooks/roles/bifrost-ironic-install/README.md'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/eefd7739d9f641de1e377fd21a7d812c879a2455', 'message': ""Enable Fasttrack\n\nDefaults bifrost to leverage fast track. This will enable\nbifrost's CI to identify failures related to code changes\naround fast track... which is ultimately a little more\ndifficult to test in the OpenStack oriented CI jobs.\n\nChange-Id: I643d4d3ee9f75cc7525ddf0551a03483906c433b\n""}]",0,703506,eefd7739d9f641de1e377fd21a7d812c879a2455,12,3,3,11655,,,0,"Enable Fasttrack

Defaults bifrost to leverage fast track. This will enable
bifrost's CI to identify failures related to code changes
around fast track... which is ultimately a little more
difficult to test in the OpenStack oriented CI jobs.

Change-Id: I643d4d3ee9f75cc7525ddf0551a03483906c433b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/06/703506/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/default-to-use-fasttrack-a526e1d86d2f669d.yaml', 'playbooks/roles/bifrost-ironic-install/README.md']",4,d658752137a327e401a64f97ccf06e3b76304ebe,700912,fast_track: Boolean setting to enable ironic to leverage an already running agent on the host being deployed such that deployment can begin immediately as opposed to waiting for a complete system reboot. ,,18,0
openstack%2Frpm-packaging-tools~master~Iab0feb0193acaf04c6f0706dab505c81bf4b3bfb,openstack/rpm-packaging-tools,master,Iab0feb0193acaf04c6f0706dab505c81bf4b3bfb,Tools to compare rpms and openstack releases and get outdated rpm,ABANDONED,2020-01-16 17:16:46.000000000,2020-01-22 15:48:50.000000000,,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-01-16 17:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging-tools/commit/c842a50fbc15a574f815a1c8abd1dd8f71d38f10', 'message': 'Tools to compare rpms and openstack releases and get outdated rpm\n\nThis script will help the rpm-packaging team to compare rpms and\nopenstack releases and will display projects which are outdated on\nspecfile and `upstream_version`.\n\nThis tool will retrieve all the projects releases for a given cycle\nand will retrieve the highest release version and then compare him\nto the version of the project rpm.\n\nExample of usage:\n```\n$ ./tools/check-releases.sh --info -i -o\n(use --verbose to see cloning progress)\n-----------------------------------------------------\nInfo:\nJOB_ID: efcfe2f1-c972-4422-bab6-47784ff975be\nCloning requirements...please wait\n(use --verbose to see cloning progress)\n/home/hberaud/dev/redhat/upstream/openstack/rpm-packaging-tools\n-----------------------------------------------------\nInfo:\nceilometermiddleware\n        - releases: 2.0.0\n        - highest releases: 2.0.0\n        - rpm version: 1.5.0\n        - rpm is out of date (bump to 2.0.0)\ncliff\n        - releases: 2.17.0 2.18.0\n        - highest releases: 2.18.0\n        - rpm version: 2.16.0\n        - rpm is out of date (bump to 2.18.0)\nironic-lib\n        - releases: 3.0.0\n        - highest releases: 3.0.0\n        - rpm version: 2.21.0\n        - rpm is out of date (bump to 3.0.0)\n...\nsushy\n        - releases: 3.0.0\n        - highest releases: 3.0.0\n        - rpm version: 2.0.0\n        - rpm is out of date (bump to 3.0.0)\ntooz\n        - releases: 1.67.0 1.67.1 1.67.2\n        - highest releases: 1.67.2\n        - rpm version: 1.66.2\n        - rpm is out of date (bump to 1.67.2)\ntripleo-common\n        - releases: 12.0.0\n        - highest releases: 12.0.0\n        - rpm version: 11.2.0\n        - rpm is out of date (bump to 12.0.0)\n27 project(s) oudated on 220 available\n-----------------------------------------------------\n```\n\nChange-Id: Iab0feb0193acaf04c6f0706dab505c81bf4b3bfb\n'}, {'number': 2, 'created': '2020-01-17 16:17:21.000000000', 'files': ['tools/check-releases.sh', 'tools/versions.py'], 'web_link': 'https://opendev.org/openstack/rpm-packaging-tools/commit/1b946bc743d522f58b3a719203737d1d219f3bb4', 'message': 'Tools to compare rpms and openstack releases and get outdated rpm\n\nThis script will help the rpm-packaging team to compare rpms and\nopenstack releases and will display projects which are outdated on\nspecfile and `upstream_version`.\n\nThis tool will retrieve all the projects releases for a given cycle\nand will retrieve the highest release version and then compare him\nto the version of the project rpm.\n\nExample of usage:\n```\n$ ./tools/check-releases.sh --info -i -o\n(use --verbose to see cloning progress)\n-----------------------------------------------------\nInfo:\nJOB_ID: efcfe2f1-c972-4422-bab6-47784ff975be\nCloning requirements...please wait\n(use --verbose to see cloning progress)\n/home/hberaud/dev/redhat/upstream/openstack/rpm-packaging-tools\n-----------------------------------------------------\nInfo:\nceilometermiddleware\n        - releases: 2.0.0\n        - highest releases: 2.0.0\n        - rpm version: 1.5.0\n        - rpm is out of date (bump to 2.0.0)\ncliff\n        - releases: 2.17.0 2.18.0\n        - highest releases: 2.18.0\n        - rpm version: 2.16.0\n        - rpm is out of date (bump to 2.18.0)\nironic-lib\n        - releases: 3.0.0\n        - highest releases: 3.0.0\n        - rpm version: 2.21.0\n        - rpm is out of date (bump to 3.0.0)\n...\nsushy\n        - releases: 3.0.0\n        - highest releases: 3.0.0\n        - rpm version: 2.0.0\n        - rpm is out of date (bump to 3.0.0)\ntooz\n        - releases: 1.67.0 1.67.1 1.67.2\n        - highest releases: 1.67.2\n        - rpm version: 1.66.2\n        - rpm is out of date (bump to 1.67.2)\ntripleo-common\n        - releases: 12.0.0\n        - highest releases: 12.0.0\n        - rpm version: 11.2.0\n        - rpm is out of date (bump to 12.0.0)\n27 project(s) oudated on 220 available\n-----------------------------------------------------\n```\n\nChange-Id: Iab0feb0193acaf04c6f0706dab505c81bf4b3bfb\n'}]",4,702929,1b946bc743d522f58b3a719203737d1d219f3bb4,18,5,2,28522,,,0,"Tools to compare rpms and openstack releases and get outdated rpm

This script will help the rpm-packaging team to compare rpms and
openstack releases and will display projects which are outdated on
specfile and `upstream_version`.

This tool will retrieve all the projects releases for a given cycle
and will retrieve the highest release version and then compare him
to the version of the project rpm.

Example of usage:
```
$ ./tools/check-releases.sh --info -i -o
(use --verbose to see cloning progress)
-----------------------------------------------------
Info:
JOB_ID: efcfe2f1-c972-4422-bab6-47784ff975be
Cloning requirements...please wait
(use --verbose to see cloning progress)
/home/hberaud/dev/redhat/upstream/openstack/rpm-packaging-tools
-----------------------------------------------------
Info:
ceilometermiddleware
        - releases: 2.0.0
        - highest releases: 2.0.0
        - rpm version: 1.5.0
        - rpm is out of date (bump to 2.0.0)
cliff
        - releases: 2.17.0 2.18.0
        - highest releases: 2.18.0
        - rpm version: 2.16.0
        - rpm is out of date (bump to 2.18.0)
ironic-lib
        - releases: 3.0.0
        - highest releases: 3.0.0
        - rpm version: 2.21.0
        - rpm is out of date (bump to 3.0.0)
...
sushy
        - releases: 3.0.0
        - highest releases: 3.0.0
        - rpm version: 2.0.0
        - rpm is out of date (bump to 3.0.0)
tooz
        - releases: 1.67.0 1.67.1 1.67.2
        - highest releases: 1.67.2
        - rpm version: 1.66.2
        - rpm is out of date (bump to 1.67.2)
tripleo-common
        - releases: 12.0.0
        - highest releases: 12.0.0
        - rpm version: 11.2.0
        - rpm is out of date (bump to 12.0.0)
27 project(s) oudated on 220 available
-----------------------------------------------------
```

Change-Id: Iab0feb0193acaf04c6f0706dab505c81bf4b3bfb
",git fetch https://review.opendev.org/openstack/rpm-packaging-tools refs/changes/29/702929/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/check-releases.sh', 'tools/versions.py']",2,c842a50fbc15a574f815a1c8abd1dd8f71d38f10,,"import argparse import pkg_resources import sys def get_parser(): parser = argparse.ArgumentParser( description=""Retrieve the highest version from a list of versions"") parser.add_argument(""versions"", nargs=""+"", help=""list of versions to sort"") parser.add_argument(""--sorted"", action=""store_true"", help=""will also print the list of sorted versions"") return parser.parse_args() def sort(versions): """"""Bubble sort the highest given version"""""" n = len(versions) for i in range(n): limit = n - i - 1 for j in range(0, limit): current_version = pkg_resources.parse_version(versions[j]) next_version = pkg_resources.parse_version(versions[j + 1]) if current_version > next_version: versions[j], versions[j + 1] = versions[j + 1], versions[j] return versions def highest(versions): return sort(versions)[-1] def main(): parser = get_parser() if parser.sorted: print("", "".join(sort(parser.versions))) print(highest(parser.versions)) if __name__ == ""__main__"": sys.exit(main()) ",,271,0
openstack%2Ftraining-labs~master~I6499fa655ae1ad9c8d20d8745fbdc0fffaa014f2,openstack/training-labs,master,I6499fa655ae1ad9c8d20d8745fbdc0fffaa014f2,nova install changes from upstream docs,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:44:50.000000000,2020-01-22 15:44:50.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/scripts/ubuntu/setup_nova_compute.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/2a5dca3d7fbbe4a123df976a964dd512789b69ad', 'message': 'nova install changes from upstream docs\n\nThe following changes from the openstack/nova repo have been integrated:\n\n1423f920bb0485229ceaf19b9a0b7786dfa0cfd6\n  Remove useless TODO section\n\na71af2beada0ac46d7154994abbf955e9dfd99ac\n  doc: Capitalize keystone domain name\n\n97ca86fad75dd601f6d38de95bb6a6709f0fdf80\n  Modifying install-guide to include public endpoint for identity service\n\n632150aaa842f13d1c90691cdf771134e689ce6a\n  doc: Fix nova-manage cell_v2 list_cells output\n\nThis changeset also removes checks for os_region_name which are no longer\nneeded.\n\nChange-Id: I6499fa655ae1ad9c8d20d8745fbdc0fffaa014f2\n'}]",0,701085,2a5dca3d7fbbe4a123df976a964dd512789b69ad,8,4,1,11109,,,0,"nova install changes from upstream docs

The following changes from the openstack/nova repo have been integrated:

1423f920bb0485229ceaf19b9a0b7786dfa0cfd6
  Remove useless TODO section

a71af2beada0ac46d7154994abbf955e9dfd99ac
  doc: Capitalize keystone domain name

97ca86fad75dd601f6d38de95bb6a6709f0fdf80
  Modifying install-guide to include public endpoint for identity service

632150aaa842f13d1c90691cdf771134e689ce6a
  doc: Fix nova-manage cell_v2 list_cells output

This changeset also removes checks for os_region_name which are no longer
needed.

Change-Id: I6499fa655ae1ad9c8d20d8745fbdc0fffaa014f2
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/85/701085/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/scripts/ubuntu/setup_nova_compute.sh']",2,2a5dca3d7fbbe4a123df976a964dd512789b69ad,train,iniset_sudo $conf keystone_authtoken www_authenticate_uri http://controller:5000/ iniset_sudo $conf keystone_authtoken auth_url http://controller:5000/iniset_sudo $conf keystone_authtoken project_domain_name Default iniset_sudo $conf keystone_authtoken user_domain_name Default,"if sudo grep ""^os_region_name"" $conf; then sudo sed -i '/^os_region_name/ s/os_region_name/region_name/' $conf else echo ""WARNING os_region_name change no longer needed for $conf"" fi iniset_sudo $conf keystone_authtoken auth_url http://controller:5000iniset_sudo $conf keystone_authtoken project_domain_name default iniset_sudo $conf keystone_authtoken user_domain_name default # Delete log_dir line # According to the install-guide, ""Due to a packaging bug, remove the log_dir # option from the [DEFAULT] section."" sudo grep ""^log_dir"" $conf sudo sed -i ""/^log_dir/ d"" $conf ",9,26
openstack%2Ftraining-labs~master~Iaea61062c832c49b0d438621f5cd8199586b6624,openstack/training-labs,master,Iaea61062c832c49b0d438621f5cd8199586b6624,Remove deprecated url config option,MERGED,2020-01-04 14:53:41.000000000,2020-01-22 15:44:46.000000000,2020-01-22 15:44:45.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 14:53:41.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_neutron_compute_part_2.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_controller_part_2.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/dab21c2aee982cae8c4ecc6c70e66ef5b2f0bf62', 'message': 'Remove deprecated url config option\n\nSee neutron commit e8653f28dee5044b943c4ca1ee0329e0bd7b34d2\n""doc: remove deprecated [neutron]/url from compute install guide""\n\nChange-Id: Iaea61062c832c49b0d438621f5cd8199586b6624\n'}]",0,701084,dab21c2aee982cae8c4ecc6c70e66ef5b2f0bf62,8,4,1,11109,,,0,"Remove deprecated url config option

See neutron commit e8653f28dee5044b943c4ca1ee0329e0bd7b34d2
""doc: remove deprecated [neutron]/url from compute install guide""

Change-Id: Iaea61062c832c49b0d438621f5cd8199586b6624
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/84/701084/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/osbash/scripts/ubuntu/setup_neutron_compute_part_2.sh', 'labs/osbash/scripts/ubuntu/setup_neutron_controller_part_2.sh']",2,dab21c2aee982cae8c4ecc6c70e66ef5b2f0bf62,train,,iniset_sudo $conf neutron url http://controller:9696,0,2
openstack%2Fkolla~stable%2Fstein~Idddf51730821644948f51577807f5beaa18c6262,openstack/kolla,stable/stein,Idddf51730821644948f51577807f5beaa18c6262,CI: Fix symlinks to failed logs,MERGED,2020-01-20 19:22:30.000000000,2020-01-22 15:38:52.000000000,2020-01-22 15:36:59.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-20 19:22:30.000000000', 'files': ['tests/playbooks/post.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/067770667cf62195580a8406dda1219d6a709f57', 'message': 'CI: Fix symlinks to failed logs\n\nStop renaming files. Swift should be able to serve text/plain files\nbased on content, not extension.\n\nFailed logs symlinks were broken because we stopped gzipping log\nfiles and improperly rewrote the logic there.\n\nChange-Id: Idddf51730821644948f51577807f5beaa18c6262\n(cherry picked from commit 4a0182f15acbabc88df0aa660abce81d61f528da)\n'}]",0,703486,067770667cf62195580a8406dda1219d6a709f57,8,3,1,30491,,,0,"CI: Fix symlinks to failed logs

Stop renaming files. Swift should be able to serve text/plain files
based on content, not extension.

Failed logs symlinks were broken because we stopped gzipping log
files and improperly rewrote the logic there.

Change-Id: Idddf51730821644948f51577807f5beaa18c6262
(cherry picked from commit 4a0182f15acbabc88df0aa660abce81d61f528da)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/703486/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/post.yml'],1,067770667cf62195580a8406dda1219d6a709f57,ci-unb0rk-failed-logs-stable/train-stable/stein,," # rename files to .txt; this is so that when displayed via # logs.openstack.org clicking results in the browser shows the # files, rather than trying to send it to another app or make you # download it, etc. # firstly, rename all .log files to .txt files for f in $(find . -name ""*.log""); do mv $f ${f/.log/.txt} done # append .txt to all kolla config file find kolla_configs -type f -exec mv '{}' '{}'.txt \;",0,13
openstack%2Ftripleo-quickstart-extras~master~I53e146b586ef2b7c4b53b52e2fb9379af7efae91,openstack/tripleo-quickstart-extras,master,I53e146b586ef2b7c4b53b52e2fb9379af7efae91,remove unused ansible.cfg file,MERGED,2019-09-20 16:30:40.000000000,2020-01-22 15:30:03.000000000,2020-01-22 15:30:03.000000000,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-09-20 16:30:40.000000000', 'files': ['roles/overcloud-deploy/ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f39451c4eb2d93dbf33c1d8278605270e30128e', 'message': 'remove unused ansible.cfg file\n\nnot clear to me how this got here.\n\nChange-Id: I53e146b586ef2b7c4b53b52e2fb9379af7efae91\n'}]",0,683503,7f39451c4eb2d93dbf33c1d8278605270e30128e,12,7,1,9592,,,0,"remove unused ansible.cfg file

not clear to me how this got here.

Change-Id: I53e146b586ef2b7c4b53b52e2fb9379af7efae91
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/03/683503/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/ansible.cfg'],1,7f39451c4eb2d93dbf33c1d8278605270e30128e,,,[defaults] gathering = smart command_warnings = False retry_files_enabled = False callback_whitelist = profile_tasks # Attempt to load custom modules whether it's installed system-wide or from a virtual environment test_plugins = /usr/lib/python2.7/site-packages/tripleo-quickstart/playbooks/test_plugins:$VIRTUAL_ENV/usr/local/share/tripleo-quickstart/playbooks/test_plugins:playbooks/test_plugins library = /usr/lib/python2.7/site-packages/tripleo-quickstart/playbooks/library:$VIRTUAL_ENV/usr/local/share/tripleo-quickstart/playbooks/library:playbooks/library roles_path = playbooks/roles:$VIRTUAL_ENV/usr/local/share/tripleo-quickstart/playbooks/roles [ssh_connection] control_path = %(directory)s/%%h-%%r ,0,14
openstack%2Ftripleo-quickstart~master~I55ddedc61903fc74fdfa22fb2b01a383ae049ec9,openstack/tripleo-quickstart,master,I55ddedc61903fc74fdfa22fb2b01a383ae049ec9,Bump ansible to 2.9 for quickstart,MERGED,2019-11-03 13:24:58.000000000,2020-01-22 15:29:57.000000000,2020-01-22 15:28:15.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-11-03 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/439fb6d534bcc41abf0ea120e9fe18bf4c96be2d', 'message': 'DNM: Bump ansible to 2.9 for quickstart\n\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 2, 'created': '2019-11-03 13:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/57b87a0d2ca66f3fe33c21cfc755e9b78c2fcfe6', 'message': 'DNM: Bump ansible to 2.9 for quickstart\n\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 3, 'created': '2019-11-04 09:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9c6a5c62484e42d16f0e27b34157efb1ba2106d9', 'message': 'DNM: Bump ansible to 2.9 for quickstart\n\n\nDepends-On: https://review.opendev.org/692756 \nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 4, 'created': '2019-11-08 14:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/645990a9e38b997f9666f7496b5116243e5ce95f', 'message': 'WIP: Bump ansible to 2.9 for quickstart\n\n\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 5, 'created': '2019-12-12 09:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8a6a44d3b2f38b432995d8f623ae8aecc69de061', 'message': 'Bump ansible to 2.9 for quickstart\n\n\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 6, 'created': '2019-12-12 09:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d9dff0cd9380e2ca66beb96465a2dfeeaac11e20', 'message': 'Bump ansible to 2.9 for quickstart\n\n\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 7, 'created': '2020-01-06 04:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/db34dcdc282c7c59107df730e3baaebdc775efed', 'message': 'Bump ansible to 2.9 for quickstart\n\n\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 8, 'created': '2020-01-13 17:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/27e6c61e87f248418a6ea22dfa5e816cdaf7832a', 'message': 'Bump ansible to 2.9 for quickstart\n\nDepends-On: https://review.opendev.org/#/c/702271/\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 9, 'created': '2020-01-13 17:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4ea2c55ae0c9378321816018cbccdf9e09d66d01', 'message': 'Bump ansible to 2.9 for quickstart\n\nDepends-On: https://review.opendev.org/#/c/702271/\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 10, 'created': '2020-01-16 14:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bee7ad84d0d2ccf080362c0492a1b65dae508a66', 'message': 'Bump ansible to 2.9 for quickstart\n\nDepends-On: https://review.rdoproject.org/r/#/c/24580/\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 11, 'created': '2020-01-16 14:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4d67f7a6c960df18ab3a889bd4056f09b8519c72', 'message': 'Bump ansible to 2.9 for quickstart\n\nDepends-On: https://review.rdoproject.org/r/#/c/24580/\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}, {'number': 12, 'created': '2020-01-20 19:36:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/492effef9589181d614514f6b7bcff7a1d286680', 'message': 'Bump ansible to 2.9 for quickstart\n\nDepends-On: https://review.rdoproject.org/r/#/c/24580/\nChange-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9\n'}]",2,692748,492effef9589181d614514f6b7bcff7a1d286680,58,7,12,10969,,,0,"Bump ansible to 2.9 for quickstart

Depends-On: https://review.rdoproject.org/r/#/c/24580/
Change-Id: I55ddedc61903fc74fdfa22fb2b01a383ae049ec9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/48/692748/11 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,439fb6d534bcc41abf0ea120e9fe18bf4c96be2d,a2.9,"ansible>=2.9,<2.10","ansible>=2.8,<2.9",1,1
openstack%2Ftripleo-heat-templates~master~Ib957da14fd47953d7419438236888efc41034e1a,openstack/tripleo-heat-templates,master,Ib957da14fd47953d7419438236888efc41034e1a,roles: Update description of ComputeRealTime role,MERGED,2020-01-21 13:56:48.000000000,2020-01-22 15:28:17.000000000,2020-01-22 15:28:17.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-21 13:56:48.000000000', 'files': ['roles/ComputeRealTime.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba487827e818f03da9f08d84fc650d4e5431d4cc', 'message': ""roles: Update description of ComputeRealTime role\n\nChange I52c52b62f1c21214b98c98773c8647609cb81d52 removed use of the\n'NovaVcpuPinSet' from this role but did not remove references from the\ndescription of same. Fix this now.\n\nChange-Id: Ib957da14fd47953d7419438236888efc41034e1a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-bug: #1860009\n""}]",0,703618,ba487827e818f03da9f08d84fc650d4e5431d4cc,10,5,1,15334,,,0,"roles: Update description of ComputeRealTime role

Change I52c52b62f1c21214b98c98773c8647609cb81d52 removed use of the
'NovaVcpuPinSet' from this role but did not remove references from the
description of same. Fix this now.

Change-Id: Ib957da14fd47953d7419438236888efc41034e1a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-bug: #1860009
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/703618/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ComputeRealTime.yaml'],1,ba487827e818f03da9f08d84fc650d4e5431d4cc,bug/1860009,"# Role: ComputeRealTime # Compute role that is optimized for real-time behaviour. When using this role it is mandatory that an overcloud-realtime-compute image is available and the role specific parameters IsolCpusList, NovaComputeCpuDedicatedSet, and NovaComputeCpuSharedSet are set according to the hardware of the real-time compute nodes.",# Role: ComputeRealTime # Compute role that is optimized for real-time behaviour. When using this role it is mandatory that an overcloud-realtime-compute image is available and the role specific parameters IsolCpusList and NovaVcpuPinSet are set accordingly to the hardware of the real-time compute nodes.,6,5
openstack%2Fopenstack-ansible-os_tempest~stable%2Fstein~Ibabe2d68567fd847070e7d2f67e2f6c15e1ace88,openstack/openstack-ansible-os_tempest,stable/stein,Ibabe2d68567fd847070e7d2f67e2f6c15e1ace88,Use contraints for tempest plugins,MERGED,2020-01-20 16:50:36.000000000,2020-01-22 15:14:42.000000000,2020-01-22 15:12:37.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-01-20 16:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4d946b2a2e53a803641dbaa3f5fd03608594578d', 'message': '[WIP] Use contraints for tempest plugins\n\nChange-Id: Ibabe2d68567fd847070e7d2f67e2f6c15e1ace88\n'}, {'number': 2, 'created': '2020-01-21 17:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/9e815d6eb0fa3a76a380ed5145b525b5f2c5964a', 'message': 'Use contraints for tempest plugins\n\nThis patch also pins the u-c url for stein in order to break\na circular CI dependancy which should be reverted later.\n\nChange-Id: Ibabe2d68567fd847070e7d2f67e2f6c15e1ace88\n'}, {'number': 3, 'created': '2020-01-21 20:00:08.000000000', 'files': ['tasks/tempest_install_source.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/69390e282e8edf83ab8d7bf13a591f38b7e13724', 'message': 'Use contraints for tempest plugins\n\nThis patch also pins the u-c url for stein in order to break\na circular CI dependancy which should be reverted later.\n\nChange-Id: Ibabe2d68567fd847070e7d2f67e2f6c15e1ace88\n'}]",0,703450,69390e282e8edf83ab8d7bf13a591f38b7e13724,18,6,3,28619,,,0,"Use contraints for tempest plugins

This patch also pins the u-c url for stein in order to break
a circular CI dependancy which should be reverted later.

Change-Id: Ibabe2d68567fd847070e7d2f67e2f6c15e1ace88
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/50/703450/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_install_source.yml'],1,4d946b2a2e53a803641dbaa3f5fd03608594578d,tempest_plugins, --constraint {{ tempest_upper_constraints_url }},,1,0
openstack%2Fgovernance~master~Ia787cd430c66658ecee6d3f4039d5949e2cb795e,openstack/governance,master,Ia787cd430c66658ecee6d3f4039d5949e2cb795e,Declare supported runtimes for Victoria release,MERGED,2019-11-11 18:22:16.000000000,2020-01-22 15:13:13.000000000,2020-01-22 15:09:59.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 6593}, {'_account_id': 7198}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 11604}, {'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 20635}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-11 18:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a4663503568b305486b5c74e8ae4f7947bf5fac6', 'message': ""Declare supported runtimes for V release\n\nWe can't really merge this until we have a release name, but we can gaze\nin our crystal ball.\n\nChange-Id: Ia787cd430c66658ecee6d3f4039d5949e2cb795e\n""}, {'number': 2, 'created': '2020-01-13 15:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/75833eb35ec7082a9fd38e36b250333868ad48ab', 'message': 'Declare supported runtimes for Victoria release\n\nChange-Id: Ia787cd430c66658ecee6d3f4039d5949e2cb795e\n'}, {'number': 3, 'created': '2020-01-14 16:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8a5111fbffc0b83758ab52921e92b63b2baa8a0d', 'message': 'Declare supported runtimes for Victoria release\n\nAt the beginning of the cycle, unit testing on the following Python\nruntimes is required:\n\n* Python 3.6 (default in CentOS 8.0 and OpenSUSE Leap 15.1)\n* Python 3.7 (used in integration tests on Ubuntu Bionic)\n* Python 3.8 (default in Ubuntu 20.04 Focal)\n\nPython 3.7 testing will be dropped once integration tests have moved to\nFocal from Bionic. (This will require a separate project-wide goal.)\n\nChange-Id: Ia787cd430c66658ecee6d3f4039d5949e2cb795e\n'}, {'number': 4, 'created': '2020-01-14 17:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a1406f6a15619fa2905c8e653a0daead80567118', 'message': 'Declare supported runtimes for Victoria release\n\nAt the beginning of the cycle, unit testing on the following Python\nruntimes is required:\n\n* Python 3.6 (default in CentOS 8.0 and OpenSUSE Leap 15.1)\n* Python 3.7 (used in integration tests on Ubuntu Bionic)\n* Python 3.8 (default in Ubuntu 20.04 Focal)\n\nPython 3.7 testing will be dropped once integration tests have moved to\nFocal from Bionic. (This will require a separate project-wide goal.)\n\nChange-Id: Ia787cd430c66658ecee6d3f4039d5949e2cb795e\n'}, {'number': 5, 'created': '2020-01-14 17:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d4b167533a42b5170556fc302b1e18f8a0a13ae4', 'message': 'Declare supported runtimes for Victoria release\n\nAt the beginning of the cycle, unit testing on the following Python\nruntimes is required:\n\n* Python 3.6 (default in CentOS 8.0 and OpenSUSE Leap 15.1)\n* Python 3.7 (used in integration tests on Ubuntu Bionic)\n* Python 3.8 (default in Ubuntu 20.04 Focal)\n\nPython 3.7 testing will be dropped once integration tests have moved to\nFocal from Bionic. (This will require a separate project-wide goal.)\n\nChange-Id: Ia787cd430c66658ecee6d3f4039d5949e2cb795e\n'}, {'number': 6, 'created': '2020-01-14 17:18:00.000000000', 'files': ['reference/runtimes/victoria.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/72ad7b8ac686bcfe09d8dac010a530dee7b81884', 'message': 'Declare supported runtimes for Victoria release\n\nAt the beginning of the cycle, unit testing on the following Python\nruntimes is required:\n\n* Python 3.6 (default in CentOS 8.0 and OpenSUSE Leap 15.1)\n* Python 3.7 (used in integration tests on Ubuntu Bionic)\n* Python 3.8 (default in Ubuntu 20.04 Focal)\n\nPython 3.7 testing will be dropped once integration tests have moved to\nFocal from Bionic. (This will require a separate project-wide goal.)\n\nChange-Id: Ia787cd430c66658ecee6d3f4039d5949e2cb795e\n'}]",16,693743,72ad7b8ac686bcfe09d8dac010a530dee7b81884,68,20,6,4257,,,0,"Declare supported runtimes for Victoria release

At the beginning of the cycle, unit testing on the following Python
runtimes is required:

* Python 3.6 (default in CentOS 8.0 and OpenSUSE Leap 15.1)
* Python 3.7 (used in integration tests on Ubuntu Bionic)
* Python 3.8 (default in Ubuntu 20.04 Focal)

Python 3.7 testing will be dropped once integration tests have moved to
Focal from Bionic. (This will require a separate project-wide goal.)

Change-Id: Ia787cd430c66658ecee6d3f4039d5949e2cb795e
",git fetch https://review.opendev.org/openstack/governance refs/changes/43/693743/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/runtimes/v.rst'],1,a4663503568b305486b5c74e8ae4f7947bf5fac6,formal-vote,"========================== Tested Runtimes for V ========================== It is the policy that each OpenStack release cycle will target the currently available runtimes on the :ref:`LTS or stable distributions <pti-linux-distros>` at the start of a development cycle. At the start of the V development cycle, the current versions are: * Ubuntu 20.04 * CentOS 8 * openSUSE Leap 15 Python Runtime for V ========================= Based on the available Python runtimes for the supported Linux distributions, all Python-based projects must target and test against, at a minimum: * Python 3.6 * Python 3.7 * Python 3.8 More details on Python requirements can be found in :ref:`pti-python`. Node.js Runtime for V ========================== Based on the availible versions of Node.js supported in our :ref:`LTS or stable distributions <pti-linux-distros>` all JavaScript testing should target: * Node.js 10 More details on Javascript requirements can be found in :ref:`pti-javascript`. Golang Runtime for V ========================= At this time, there are still frequent releases of Go with a wide variety of distribution packaged versions. Given the current state of Go support and the number of projects within OpenStack using Go, no formal version declaration is being made at this time. More details on Go requirements can be found in :ref:`pti-golang`. ",,45,0
openstack%2Fkolla~stable%2Ftrain~I8fa3fcad88b35743e042d8a62ccee722b08af673,openstack/kolla,stable/train,I8fa3fcad88b35743e042d8a62ccee722b08af673,Fixes swift-object-expirer for Debian and Ubuntu binary images.,MERGED,2020-01-20 20:13:05.000000000,2020-01-22 15:12:44.000000000,2020-01-22 15:09:16.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-20 20:13:05.000000000', 'files': ['docker/swift/swift-object-expirer/Dockerfile.j2', 'releasenotes/notes/swift-object-expirer-fix-b837de80cea4fb8e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6632c5cf52d10e714468198b188dd9975dcba36f', 'message': ""Fixes swift-object-expirer for Debian and Ubuntu binary images.\n\nReplaces 'swift-object' package with 'swift-object-expirer' package.\n\nChange-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673\nCloses-Bug: #1859607\n(cherry picked from commit 190a6f7a264c1ea8c0c565d2b75fb73fdc29d500)\n""}]",0,703492,6632c5cf52d10e714468198b188dd9975dcba36f,9,3,1,30523,,,0,"Fixes swift-object-expirer for Debian and Ubuntu binary images.

Replaces 'swift-object' package with 'swift-object-expirer' package.

Change-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673
Closes-Bug: #1859607
(cherry picked from commit 190a6f7a264c1ea8c0c565d2b75fb73fdc29d500)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/703492/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-object-expirer/Dockerfile.j2', 'releasenotes/notes/swift-object-expirer-fix-b837de80cea4fb8e.yaml']",2,6632c5cf52d10e714468198b188dd9975dcba36f,bug/1859607-stable/train,--- fixes: - | Fixes swift-object-expirer for Debian and Ubuntu binary images. `LP#1859607 <https://bugs.launchpad.net/kolla/+bug/1859607>`__ ,,6,1
openstack%2Fkolla~stable%2Fstein~I8fa3fcad88b35743e042d8a62ccee722b08af673,openstack/kolla,stable/stein,I8fa3fcad88b35743e042d8a62ccee722b08af673,Fixes swift-object-expirer for Debian and Ubuntu binary images.,MERGED,2020-01-20 20:13:23.000000000,2020-01-22 15:11:52.000000000,2020-01-22 15:09:17.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-20 20:13:23.000000000', 'files': ['docker/swift/swift-object-expirer/Dockerfile.j2', 'releasenotes/notes/swift-object-expirer-fix-b837de80cea4fb8e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d9c63d7b81848677c8aa7bc4a6c9c3c0189ae8fd', 'message': ""Fixes swift-object-expirer for Debian and Ubuntu binary images.\n\nReplaces 'swift-object' package with 'swift-object-expirer' package.\n\nChange-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673\nCloses-Bug: #1859607\n(cherry picked from commit 190a6f7a264c1ea8c0c565d2b75fb73fdc29d500)\n""}]",0,703493,d9c63d7b81848677c8aa7bc4a6c9c3c0189ae8fd,8,3,1,30523,,,0,"Fixes swift-object-expirer for Debian and Ubuntu binary images.

Replaces 'swift-object' package with 'swift-object-expirer' package.

Change-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673
Closes-Bug: #1859607
(cherry picked from commit 190a6f7a264c1ea8c0c565d2b75fb73fdc29d500)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/93/703493/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-object-expirer/Dockerfile.j2', 'releasenotes/notes/swift-object-expirer-fix-b837de80cea4fb8e.yaml']",2,d9c63d7b81848677c8aa7bc4a6c9c3c0189ae8fd,bug/1859607-stable/stein,--- fixes: - | Fixes swift-object-expirer for Debian and Ubuntu binary images. `LP#1859607 <https://bugs.launchpad.net/kolla/+bug/1859607>`__ ,,6,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~Iadef8f3300bb1b5b995052c1a35a1becbfd5730c,openstack/tripleo-heat-templates,stable/rocky,Iadef8f3300bb1b5b995052c1a35a1becbfd5730c,Mount /boot from the host within the nova-compute container,MERGED,2020-01-10 16:26:37.000000000,2020-01-22 14:48:30.000000000,2020-01-22 14:48:30.000000000,"[{'_account_id': 9592}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-10 16:26:37.000000000', 'files': ['docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb277211658103484313746d749844a01f1a11e4', 'message': 'Mount /boot from the host within the nova-compute container\n\nlibguestfs expects to find /boot/vmlinuz-* for the running version of\nthe kernel. This check is duplicated in nova-compute when libguestfs has\nfailed to launch, providing a useful bread crumb for operators [1].\n\nObviously when this is called from within the nova-compute container in\nthe context of a TripleO deployment this can easily fail after a minor\nupdate that has pulled in a newer container containing a newer kernel.\nThis check could also fail in the opposite case if the host kernel is\nupdated past the version present in the container.\n\nThis change works around this by simply passing /boot as read-only\nthrough to the nova-compute container ensure libguestfs is able to\nalways find the correct version of vmlinuz.\n\nThis should also allow us to eventually drop the kernel RPM from the\nnova-compute container that has been a constant source of maintenance\noverhead in terms of CVEs etc.\n\n[1] https://github.com/openstack/nova/blob/aa096fd18352fb9da94069ec2cab478eed5c6cca/nova/virt/disk/vfs/guestfs.py#L75-L97\n\nConflicts:\n    deployment/nova/nova-compute-container-puppet.yaml\n\nChange-Id: Iadef8f3300bb1b5b995052c1a35a1becbfd5730c\n(cherry picked from commit 9c5c36632d23a693a60e490b3046b07b126b9154)\n(cherry picked from commit 02faf53ea8bb672060c7cfedbc093d5cff809307)\n(cherry picked from commit 1f5c51d5d0f65f4a3da3666813f23b383ec0fd2a)\n'}]",0,701995,bb277211658103484313746d749844a01f1a11e4,23,5,1,10135,,,0,"Mount /boot from the host within the nova-compute container

libguestfs expects to find /boot/vmlinuz-* for the running version of
the kernel. This check is duplicated in nova-compute when libguestfs has
failed to launch, providing a useful bread crumb for operators [1].

Obviously when this is called from within the nova-compute container in
the context of a TripleO deployment this can easily fail after a minor
update that has pulled in a newer container containing a newer kernel.
This check could also fail in the opposite case if the host kernel is
updated past the version present in the container.

This change works around this by simply passing /boot as read-only
through to the nova-compute container ensure libguestfs is able to
always find the correct version of vmlinuz.

This should also allow us to eventually drop the kernel RPM from the
nova-compute container that has been a constant source of maintenance
overhead in terms of CVEs etc.

[1] https://github.com/openstack/nova/blob/aa096fd18352fb9da94069ec2cab478eed5c6cca/nova/virt/disk/vfs/guestfs.py#L75-L97

Conflicts:
    deployment/nova/nova-compute-container-puppet.yaml

Change-Id: Iadef8f3300bb1b5b995052c1a35a1becbfd5730c
(cherry picked from commit 9c5c36632d23a693a60e490b3046b07b126b9154)
(cherry picked from commit 02faf53ea8bb672060c7cfedbc093d5cff809307)
(cherry picked from commit 1f5c51d5d0f65f4a3da3666813f23b383ec0fd2a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/701995/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-compute.yaml'],1,bb277211658103484313746d749844a01f1a11e4,, - /boot:/boot:ro,,1,0
openstack%2Fos-vif~master~Ie60a974b4c54c3301a678548d3238c2fd6f535fd,openstack/os-vif,master,Ie60a974b4c54c3301a678548d3238c2fd6f535fd,[DNM]test composing devstack_local_conf sections,ABANDONED,2020-01-14 14:40:40.000000000,2020-01-22 14:41:02.000000000,,"[{'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 14:40:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/43c785589d4bb2aa01eb0fff365d090b3b0f8949', 'message': '[DNM]test composing devstack_local_conf sections\n\nChange-Id: Ie60a974b4c54c3301a678548d3238c2fd6f535fd\n'}]",0,702446,43c785589d4bb2aa01eb0fff365d090b3b0f8949,5,3,1,11604,,,0,"[DNM]test composing devstack_local_conf sections

Change-Id: Ie60a974b4c54c3301a678548d3238c2fd6f535fd
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/46/702446/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,43c785589d4bb2aa01eb0fff365d090b3b0f8949,zuulv3," tox_envlist: full name: os-vif-ovs-base os-vif ovs base job, this should not be used directly. vars: $NEUTRON_L3_CONF: agent: availability_zone: nova $NEUTRON_DHCP_CONF: agent: availability_zone: nova ""/$NEUTRON_CORE_PLUGIN_CONF"": ml2_type_vlan: network_vlan_ranges: foo:1:10 agent: enable_distributed_routing: true l2_population: true tunnel_types: vxlan,gre test-config: $TEMPEST_CONFIG: neutron_plugin_options: provider_vlans: foo, agent_availability_zone: nova image_is_advanced: true available_type_drivers: flat,vlan,gre,local,vxlan - job: name: os-vif-ovs parent: os-vif-ovs-base description: | os-vif ovs job with ovs firewall dirver vars: devstack_local_conf: post-config: # NOTE(sean-k-mooney): i do not believe that the devstack role # will merge the base /$NEUTRON_CORE_PLUGIN_CONF with the parent # job so we redefine the entire section parent: os-vif-ovs-base # NOTE(sean-k-mooney): i do not believe that the devstack role # will merge the base /$NEUTRON_CORE_PLUGIN_CONF with the parent # job so we redefine the entire section"," name: os-vif-ovs os-vif ovs job with ovs firewall dirver vars: # TODO(sean-k-mooney): this will execute more test cases than we # actually need to validate this configuration. Reduce this to # the scenario tests and select api tests in the future. tox_envlist: full $NEUTRON_CONF: QUOTAS: quota_router: 100 quota_floatingip: 500 quota_security_group: 100 quota_security_group_rule: 1000 # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy $NEUTRON_L3_CONF: agent: availability_zone: nova $NEUTRON_DHCP_CONF: agent: availability_zone: nova test-config: $TEMPEST_CONFIG: neutron_plugin_options: provider_vlans: foo, agent_availability_zone: nova image_is_advanced: true available_type_drivers: flat,geneve,vlan,gre,local,vxlan parent: os-vif-tempest-base timeout: 10800 # TODO(sean-k-mooney): this will execute more test cases than we # actually need to validate this configuration. Reduce this to # the scenario tests and select api tests in the future. $NEUTRON_CONF: QUOTAS: quota_router: 100 quota_floatingip: 500 quota_security_group: 100 quota_security_group_rule: 1000 # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy $NEUTRON_L3_CONF: agent: availability_zone: nova $NEUTRON_DHCP_CONF: agent: availability_zone: nova test-config: $TEMPEST_CONFIG: neutron_plugin_options: provider_vlans: foo, agent_availability_zone: nova image_is_advanced: true available_type_drivers: flat,geneve,vlan,gre,local,vxlan # TODO(sean-k-mooney): this will execute more test cases than we # actually need to validate this configuration. reduce this to # the scenario tests and select api tests in the future. tox_envlist: full",39,60
openstack%2Fopenstack-ansible-os_tempest~stable%2Fstein~I888fff419a85e558629c54a75703d38a01bc07bc,openstack/openstack-ansible-os_tempest,stable/stein,I888fff419a85e558629c54a75703d38a01bc07bc,TEMPORARY: Hardwire stein branch upper constraints URL,ABANDONED,2020-01-21 13:43:48.000000000,2020-01-22 14:31:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 13:43:48.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/944e6516199ff425abb24c7fd9488077b706e766', 'message': 'TEMPORARY: Hardwire stein branch upper constraints URL\n\nThis patch exists to break a circular dependancy between:\n\nhttps://review.opendev.org/#/c/703573/\nand\nhttps://review.opendev.org/#/c/703450/\n\nIt should be reverted after the stein branch is unblocked.\n\nChange-Id: I888fff419a85e558629c54a75703d38a01bc07bc\n'}]",0,703615,944e6516199ff425abb24c7fd9488077b706e766,4,2,1,25023,,,0,"TEMPORARY: Hardwire stein branch upper constraints URL

This patch exists to break a circular dependancy between:

https://review.opendev.org/#/c/703573/
and
https://review.opendev.org/#/c/703450/

It should be reverted after the stein branch is unblocked.

Change-Id: I888fff419a85e558629c54a75703d38a01bc07bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/15/703615/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,944e6516199ff425abb24c7fd9488077b706e766,,"tempest_upper_constraints_url: https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=4f9bf2f2d18784d5fc8fbae5f8e12b87aa482974 #tempest_upper_constraints_url: ""{{ requirements_git_url | default('https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=' ~ requirements_git_install_branch | default('master')) }}""","tempest_upper_constraints_url: ""{{ requirements_git_url | default('https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=' ~ requirements_git_install_branch | default('master')) }}""",2,1
openstack%2Fopenstack-ansible-os_tempest~stable%2Fstein~I5ae60e6846bc1989bd1c0ffe27ec962999f82e99,openstack/openstack-ansible-os_tempest,stable/stein,I5ae60e6846bc1989bd1c0ffe27ec962999f82e99,"Revert ""TEMPORARY: Hardwire stein branch upper constraints URL""",ABANDONED,2020-01-21 13:45:39.000000000,2020-01-22 14:31:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-01-21 13:45:39.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/84ad0ebeaaceed46b48ca390c09ee335e6a10af7', 'message': 'Revert ""TEMPORARY: Hardwire stein branch upper constraints URL""\n\nThis reverts commit 944e6516199ff425abb24c7fd9488077b706e766.\n\nChange-Id: I5ae60e6846bc1989bd1c0ffe27ec962999f82e99\n'}]",0,703617,84ad0ebeaaceed46b48ca390c09ee335e6a10af7,5,3,1,25023,,,0,"Revert ""TEMPORARY: Hardwire stein branch upper constraints URL""

This reverts commit 944e6516199ff425abb24c7fd9488077b706e766.

Change-Id: I5ae60e6846bc1989bd1c0ffe27ec962999f82e99
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/17/703617/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,84ad0ebeaaceed46b48ca390c09ee335e6a10af7,,"tempest_upper_constraints_url: ""{{ requirements_git_url | default('https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=' ~ requirements_git_install_branch | default('master')) }}""","tempest_upper_constraints_url: https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=4f9bf2f2d18784d5fc8fbae5f8e12b87aa482974 #tempest_upper_constraints_url: ""{{ requirements_git_url | default('https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=' ~ requirements_git_install_branch | default('master')) }}""",1,2
openstack%2Fkuryr-kubernetes~master~I350e1142ec9e0b79a1354cc5b0d2160d42872614,openstack/kuryr-kubernetes,master,I350e1142ec9e0b79a1354cc5b0d2160d42872614,Switch back to CentOS 8 amphora,ABANDONED,2020-01-22 11:04:49.000000000,2020-01-22 14:25:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-01-22 11:04:49.000000000', 'files': ['playbooks/get_amphora_tarball.yaml', '.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1867771feb78e1ab44cfa4d51144c5064d35b349', 'message': ""Switch back to CentOS 8 amphora\n\nWe switched to Ubuntu due to issues with Python 3 in CentOS 7, but now\nwith CentOS 8 amp being up let's try it.\n\nChange-Id: I350e1142ec9e0b79a1354cc5b0d2160d42872614\n""}]",0,703768,1867771feb78e1ab44cfa4d51144c5064d35b349,3,1,1,11600,,,0,"Switch back to CentOS 8 amphora

We switched to Ubuntu due to issues with Python 3 in CentOS 7, but now
with CentOS 8 amp being up let's try it.

Change-Id: I350e1142ec9e0b79a1354cc5b0d2160d42872614
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/68/703768/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/get_amphora_tarball.yaml', '.zuul.d/octavia.yaml']",2,1867771feb78e1ab44cfa4d51144c5064d35b349,switch-to-centos-8-amp," OCTAVIA_AMP_IMAGE_FILE: ""/tmp/test-only-amphora-x64-haproxy-centos-8.qcow2"" OCTAVIA_AMP_IMAGE_NAME: ""test-only-amphora-x64-haproxy-centos-8"""," OCTAVIA_AMP_IMAGE_FILE: ""/tmp/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2"" OCTAVIA_AMP_IMAGE_NAME: ""test-only-amphora-x64-haproxy-ubuntu-bionic""",4,4
openstack%2Fhorizon~master~I8db12f5bcadb24ef0db1f9d63e3cb163370da617,openstack/horizon,master,I8db12f5bcadb24ef0db1f9d63e3cb163370da617,Fix error key 'used' not found in usage limits,ABANDONED,2019-08-20 04:04:52.000000000,2020-01-22 14:24:47.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-20 04:04:52.000000000', 'files': ['openstack_dashboard/usage/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/803c81d90a177e55702c5bbc73494dcda0fe1ef9', 'message': ""Fix error key 'used' not found in usage limits\n\nWhen access openstack project, such as http://10.60.17.239/project,\nif the key 'used' is not found in usage limits, it will raise an\nerror so users can not access project site.\n\nChange-Id: I8db12f5bcadb24ef0db1f9d63e3cb163370da617\nCloses-Bug: 1840729\n""}]",1,677380,803c81d90a177e55702c5bbc73494dcda0fe1ef9,8,4,1,26222,,,0,"Fix error key 'used' not found in usage limits

When access openstack project, such as http://10.60.17.239/project,
if the key 'used' is not found in usage limits, it will raise an
error so users can not access project site.

Change-Id: I8db12f5bcadb24ef0db1f9d63e3cb163370da617
Closes-Bug: 1840729
",git fetch https://review.opendev.org/openstack/horizon refs/changes/80/677380/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/usage/views.py'],1,803c81d90a177e55702c5bbc73494dcda0fe1ef9,bug/1840729," used = self.usage.limits[key].get('used', 0)", used = self.usage.limits[key]['used'],1,1
openstack%2Fkolla-ansible~master~I4556e603ec501f9bdaab5f20cee754467129c4e9,openstack/kolla-ansible,master,I4556e603ec501f9bdaab5f20cee754467129c4e9,Start using docker_image_info,MERGED,2020-01-14 21:16:44.000000000,2020-01-22 14:09:37.000000000,2020-01-22 14:07:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-14 21:16:44.000000000', 'files': ['ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99fd67b0d8340af4e356f9e5eb3899d55028b294', 'message': 'Start using docker_image_info\n\ndocker_image_facts has been deprecated.\n\n[1] https://docs.ansible.com/ansible/2.8/modules/docker_image_facts_module.html\n\nDepends-On: https://review.opendev.org/#/c/699333/\nChange-Id: I4556e603ec501f9bdaab5f20cee754467129c4e9\n'}]",0,702536,99fd67b0d8340af4e356f9e5eb3899d55028b294,19,5,1,30523,,,0,"Start using docker_image_info

docker_image_facts has been deprecated.

[1] https://docs.ansible.com/ansible/2.8/modules/docker_image_facts_module.html

Depends-On: https://review.opendev.org/#/c/699333/
Change-Id: I4556e603ec501f9bdaab5f20cee754467129c4e9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/702536/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/config.yml'],1,99fd67b0d8340af4e356f9e5eb3899d55028b294,docker_image_info, docker_image_info:, docker_image_facts:,1,1
openstack%2Fovsdbapp~master~Ib3318ccf1dcb33f5a1ebe15d2e7fdd5631e68786,openstack/ovsdbapp,master,Ib3318ccf1dcb33f5a1ebe15d2e7fdd5631e68786,Log invalid address values in lsp_set_addresses,MERGED,2020-01-21 15:42:03.000000000,2020-01-22 14:09:17.000000000,2020-01-22 09:59:20.000000000,"[{'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 15:42:03.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/575219d54b066d2b5fa0a6ffd30620a139d66211', 'message': 'Log invalid address values in lsp_set_addresses\n\nChange-Id: Ib3318ccf1dcb33f5a1ebe15d2e7fdd5631e68786\n'}]",2,703644,575219d54b066d2b5fa0a6ffd30620a139d66211,10,2,1,5756,,,0,"Log invalid address values in lsp_set_addresses

Change-Id: Ib3318ccf1dcb33f5a1ebe15d2e7fdd5631e68786
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/44/703644/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",2,575219d54b066d2b5fa0a6ffd30620a139d66211,," self.api.lsp_set_addresses, 'fake', ['invalidaddress'])"," self.api.lsp_set_addresses, 'fake', 'invalidaddress')",3,3
openstack%2Fmanila~stable%2Ftrain~I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979,openstack/manila,stable/train,I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979,Fix over-quota exception of snapshot creation,MERGED,2020-01-20 21:46:30.000000000,2020-01-22 14:05:05.000000000,2020-01-22 13:58:14.000000000,"[{'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 18058}, {'_account_id': 18816}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-01-20 21:46:30.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/share/api.py', 'releasenotes/notes/bug-1859775-snapshot-over-quota-exception-bb6691612af03ddf.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/9c07eb3151584dd89050d6d9e0285727a9da3220', 'message': 'Fix over-quota exception of snapshot creation\n\nReport consumed snapshot gigabytes instead of share gigabytes\n\nChange-Id: I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979\nCloses-Bug: #1859775\nCo-authored-by: Maurice Escher <maurice.escher@sap.com>\n(cherry picked from commit 5c858bc528bc47929b3519ccc6148c76bde734f0)\n'}]",0,703508,9c07eb3151584dd89050d6d9e0285727a9da3220,15,9,1,16643,,,0,"Fix over-quota exception of snapshot creation

Report consumed snapshot gigabytes instead of share gigabytes

Change-Id: I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979
Closes-Bug: #1859775
Co-authored-by: Maurice Escher <maurice.escher@sap.com>
(cherry picked from commit 5c858bc528bc47929b3519ccc6148c76bde734f0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/08/703508/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'releasenotes/notes/bug-1859775-snapshot-over-quota-exception-bb6691612af03ddf.yaml']",3,9c07eb3151584dd89050d6d9e0285727a9da3220,bug/1859775-stable/train,--- fixes: - | Fixed Quota exceeded exception for snapshot creation. Consumed gigabytes now reports the snapshot gigabytes instead of share gigabytes usage. ,,11,5
openstack%2Fnetworking-ovn~stable%2Ftrain~I3aa7927b2eb0e9dd34935107835aa677fbcd1924,openstack/networking-ovn,stable/train,I3aa7927b2eb0e9dd34935107835aa677fbcd1924,Fix py2 vs py3 dict keys comparison in functional test,MERGED,2020-01-21 10:04:35.000000000,2020-01-22 13:58:59.000000000,2020-01-22 13:56:18.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-01-21 10:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4e7a3875ce3b3fc86fb711832837f44bb3f4f1ae', 'message': ""Fix py2 vs py3 dict keys comparison in functional test\n\nIn just added functional test there is a bug in dict\nkeys comparison. In python2 the dict keys are dumped to list that\nis unordered. This makes random gate failures.\n\nIn py3 its dumped into dict_keys object that doesn't need\nto be sorted.\n\nChange-Id: I3aa7927b2eb0e9dd34935107835aa677fbcd1924\n""}, {'number': 2, 'created': '2020-01-21 10:26:39.000000000', 'files': ['networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/da8d06693553cfa58334126a8b792019c3049a49', 'message': ""Fix py2 vs py3 dict keys comparison in functional test\n\nIn just added functional test there is a bug in dict\nkeys comparison. In python2 the dict keys are dumped to list that\nis unordered. This makes random gate failures.\n\nIn py3 its dumped into dict_keys object that doesn't need\nto be sorted.\n\nChange-Id: I3aa7927b2eb0e9dd34935107835aa677fbcd1924\n""}]",0,703574,da8d06693553cfa58334126a8b792019c3049a49,19,6,2,24791,,,0,"Fix py2 vs py3 dict keys comparison in functional test

In just added functional test there is a bug in dict
keys comparison. In python2 the dict keys are dumped to list that
is unordered. This makes random gate failures.

In py3 its dumped into dict_keys object that doesn't need
to be sorted.

Change-Id: I3aa7927b2eb0e9dd34935107835aa677fbcd1924
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/74/703574/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/octavia/test_ovn_driver.py'],1,4e7a3875ce3b3fc86fb711832837f44bb3f4f1ae,, if (sorted(updated_status.keys()) == sorted(expected_status.keys())):, if updated_status.keys() == expected_status.keys():,2,1
openstack%2Fnetworking-ovn~stable%2Fqueens~I865da811157aa41bf0c7f1cf1089b93cb373707e,openstack/networking-ovn,stable/queens,I865da811157aa41bf0c7f1cf1089b93cb373707e,Fix wrong path in doc config,MERGED,2020-01-03 13:04:31.000000000,2020-01-22 13:56:19.000000000,2020-01-22 13:56:19.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-01-03 13:04:31.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4f347ea7e6a37ef39859ba500260e3e0ca786687', 'message': 'Fix wrong path in doc config\n\nThis patch fixes wrong path which prevents doc from being correctly\nbuilt.\n\nChange-Id: I865da811157aa41bf0c7f1cf1089b93cb373707e\nCloses-Bug: #1795883\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 993ef63b667174575a5ca4dbf5f8a631eab981c9)\n'}]",0,701022,4f347ea7e6a37ef39859ba500260e3e0ca786687,8,4,1,8655,,,0,"Fix wrong path in doc config

This patch fixes wrong path which prevents doc from being correctly
built.

Change-Id: I865da811157aa41bf0c7f1cf1089b93cb373707e
Closes-Bug: #1795883
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 993ef63b667174575a5ca4dbf5f8a631eab981c9)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/22/701022/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,4f347ea7e6a37ef39859ba500260e3e0ca786687,bug/1795883-stable/queens," config_file_path = '../../etc/oslo-config-generator/%s' % config_file output_file_path = '_static/config_samples/%s' % config_file.rsplit('.', 1)[0]"," config_file_path = '../../etc/oslo-config-generator/%s' % conf output_file_path = '_static/config_samples/%s' % conf.rsplit('.', 1)[0]",3,2
openstack%2Ftripleo-heat-templates~master~I466afb53bee498c6f265ecf613fe34a736c6b92e,openstack/tripleo-heat-templates,master,I466afb53bee498c6f265ecf613fe34a736c6b92e,Raise Heat API WSGI timeout to 600s,MERGED,2020-01-21 18:52:29.000000000,2020-01-22 13:55:23.000000000,2020-01-22 11:27:58.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 18:52:29.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml', 'releasenotes/notes/heat-api-wsgi-timeout-600-640058f1ae18232c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acf208609e85fd87c76403b15884de385e9766d7', 'message': ""Raise Heat API WSGI timeout to 600s\n\nThe HAProxy and Heat's rpc_response_timeout are already set to 10\nminutes, so the WSGI timeout should be as well. Otherwise, raising the\nother timeouts doesn't really do any good.\n\nSome requests to the Heat API when running config-download can take\nlonger than 60 seconds, particularly at scale (> 100 nodes).\n\nChange-Id: I466afb53bee498c6f265ecf613fe34a736c6b92e\nCloses-Bug: #1860475\n""}]",1,703670,acf208609e85fd87c76403b15884de385e9766d7,17,5,1,7144,,,0,"Raise Heat API WSGI timeout to 600s

The HAProxy and Heat's rpc_response_timeout are already set to 10
minutes, so the WSGI timeout should be as well. Otherwise, raising the
other timeouts doesn't really do any good.

Some requests to the Heat API when running config-download can take
longer than 60 seconds, particularly at scale (> 100 nodes).

Change-Id: I466afb53bee498c6f265ecf613fe34a736c6b92e
Closes-Bug: #1860475
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/703670/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/heat/heat-base-puppet.yaml', 'releasenotes/notes/heat-api-wsgi-timeout-600-640058f1ae18232c.yaml']",2,acf208609e85fd87c76403b15884de385e9766d7,,"--- fixes: - The WSGI timeout for Heat API is now set to 600 seconds to match the HAProxy timeout and the RPC response timeout. Previously, it was set to 60 seconds, which resulted in API requests timing out. ",,6,0
openstack%2Fkolla-ansible~master~I97cc95e37f49886e6d74f2d5a789b923b14b5a2d,openstack/kolla-ansible,master,I97cc95e37f49886e6d74f2d5a789b923b14b5a2d,Adds maximum supported version check for Ansible,MERGED,2019-12-17 04:24:11.000000000,2020-01-22 13:52:04.000000000,2020-01-22 13:36:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-12-17 04:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68e63f5a756cc895b6d646c12fef05a9a2a604d9', 'message': 'WIP: Ansible max version check\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\nImplements: blueprint ansible-max-version\n'}, {'number': 2, 'created': '2019-12-17 08:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08632b521966461c944113ea7884bf7c73dca70d', 'message': 'WIP: Ansible max version check\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\nImplements: blueprint ansible-max-version\n'}, {'number': 3, 'created': '2019-12-17 08:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6fc05ad6e6821fedd0b3b1b49054afd3e71f9ce', 'message': 'WIP: Ansible max version check\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\nImplements: blueprint ansible-max-version\n'}, {'number': 4, 'created': '2019-12-17 18:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37504e54f2a1067bc9bf7784010fc4d6326124ec', 'message': 'WIP: Ansible max version check\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\nImplements: blueprint ansible-max-version\n'}, {'number': 5, 'created': '2019-12-17 20:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab2a0c483ed8b839f03b3d7da3e545d6f8c06b75', 'message': 'WIP: Ansible max version check\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\nImplements: blueprint ansible-max-version\n'}, {'number': 6, 'created': '2019-12-19 20:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/21fcf942762ac77037e350551b439b55c2bef722', 'message': 'Adds maximum supported version option for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 7, 'created': '2019-12-19 20:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0825781d9b20864ee929d113a1cffb6970262a77', 'message': 'Adds maximum supported version option for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 8, 'created': '2020-01-02 07:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/449d3192bc65aa70285276ab22db7b24881f1498', 'message': 'Adds maximum supported version option for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 9, 'created': '2020-01-02 20:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c4fcfcd27cbf90e1d19bc7a4397eccefd4aa8fb5', 'message': 'Adds maximum supported version option for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 10, 'created': '2020-01-02 20:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b31f43ee6f2908e485dd76748d97f56e107e74a', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 11, 'created': '2020-01-03 08:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d32090097656d2289273e9e2b047344c0d924f91', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 12, 'created': '2020-01-05 12:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cbfde38918c4d50d7d9402b37bb4a12503ac532a', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 13, 'created': '2020-01-05 19:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a6b9c81e0de5e24d81ce3e16f4e6d33ba0e1573', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 14, 'created': '2020-01-06 11:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0f13377792138dad37a03d69d5f3daa91152441', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 15, 'created': '2020-01-08 09:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/577a8f0c385bbca7fd543a297ec8fe02500ae1dc', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 16, 'created': '2020-01-08 10:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6dacac3d8d8944c1f46b053a70891b2d8d9692d8', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 17, 'created': '2020-01-08 18:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be64dc7b8f294696449a7e1889e57bdf1e46c835', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 18, 'created': '2020-01-09 04:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c7e071d82753b5bfdeb8316aa47353fde4d9a73', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}, {'number': 19, 'created': '2020-01-09 06:54:45.000000000', 'files': ['ansible/roles/prechecks/tasks/package_checks.yml', 'releasenotes/notes/ansible-max-version-support-d74258eec27d3549.yaml', 'tests/run.yml', 'doc/source/user/quickstart.rst', 'tools/kolla-ansible', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63ab53195c63f24006ed82c81d06bfdb9dbe1a4c', 'message': 'Adds maximum supported version check for Ansible\n\nMaximum supported version is set to 2.9\n\nUpdated the minimum supported version to 2.8\n\nImplements: blueprint ansible-max-version\n\nChange-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d\n'}]",26,699333,63ab53195c63f24006ed82c81d06bfdb9dbe1a4c,69,6,19,30523,,,0,"Adds maximum supported version check for Ansible

Maximum supported version is set to 2.9

Updated the minimum supported version to 2.8

Implements: blueprint ansible-max-version

Change-Id: I97cc95e37f49886e6d74f2d5a789b923b14b5a2d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/699333/17 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/prechecks/vars/main.yml']",2,68e63f5a756cc895b6d646c12fef05a9a2a604d9,bp/ansible-max-version,ansible_version_min: '2.8.0' ansible_version_max: '2.9.0',ansible_version_min: '2.6.0',4,3
openstack%2Fneutron~master~Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f,openstack/neutron,master,Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f,Allow to kill keepalived state change monitor process,MERGED,2020-01-20 10:54:40.000000000,2020-01-22 13:48:18.000000000,2020-01-22 13:46:07.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-20 10:54:40.000000000', 'files': ['etc/neutron/rootwrap.d/l3.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6fccd247f70abc84c8a480138e135717836c7b3', 'message': 'Allow to kill keepalived state change monitor process\n\nUsually Neutron stops neutron-keepalived-state-change-monitor process\ngracefully with SIGTERM.\nBut in case if this will not stop process for some time, Neutron will\ntry to kill this process with SIGKILL (-9).\nThat was causing problem with rootwrap as kill filters for this process\nallowed to send only ""-15"" to it.\nNow it is possible to kill this process with ""-9"" too.\n\nChange-Id: Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f\nCloses-bug: #1860326\n'}]",4,703366,d6fccd247f70abc84c8a480138e135717836c7b3,29,7,1,11975,,,0,"Allow to kill keepalived state change monitor process

Usually Neutron stops neutron-keepalived-state-change-monitor process
gracefully with SIGTERM.
But in case if this will not stop process for some time, Neutron will
try to kill this process with SIGKILL (-9).
That was causing problem with rootwrap as kill filters for this process
allowed to send only ""-15"" to it.
Now it is possible to kill this process with ""-9"" too.

Change-Id: Id019fa7649bd1158f9d56e63f8dad108d0ca8c1f
Closes-bug: #1860326
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/703366/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/neutron/rootwrap.d/l3.filters'],1,d6fccd247f70abc84c8a480138e135717836c7b3,bug/1860326,"kill_keepalived_monitor_py: KillFilter, root, python, -15, -9 kill_keepalived_monitor_py3: KillFilter, root, python3, -15, -9 kill_keepalived_monitor_py35: KillFilter, root, python3.5, -15, -9 kill_keepalived_monitor_py36: KillFilter, root, python3.6, -15, -9 kill_keepalived_monitor_py37: KillFilter, root, python3.7, -15, -9kill_keepalived_monitor_platform_py: KillFilter, root, /usr/libexec/platform-python, -15, -9 kill_keepalived_monitor_platform_py36: KillFilter, root, /usr/libexec/platform-python3.6, -15, -9","kill_keepalived_monitor_py: KillFilter, root, python, -15 kill_keepalived_monitor_py3: KillFilter, root, python3, -15 kill_keepalived_monitor_py35: KillFilter, root, python3.5, -15 kill_keepalived_monitor_py36: KillFilter, root, python3.6, -15 kill_keepalived_monitor_py37: KillFilter, root, python3.7, -15kill_keepalived_monitor_platform_py: KillFilter, root, /usr/libexec/platform-python, -15 kill_keepalived_monitor_platform_py36: KillFilter, root, /usr/libexec/platform-python3.6, -15",7,7
openstack%2Fkolla~master~Id70474e7602b531b63fdc11ae690fd9ed33def74,openstack/kolla,master,Id70474e7602b531b63fdc11ae690fd9ed33def74,centos: disable EPEL by default,MERGED,2020-01-02 08:59:35.000000000,2020-01-22 13:46:20.000000000,2020-01-21 19:42:13.000000000,"[{'_account_id': 9592}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-02 08:59:35.000000000', 'files': ['kolla/template/methods.py', 'kolla/image/build.py', 'docker/macros.j2', 'docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/qdrouterd/Dockerfile.j2', 'kolla/tests/test_methods.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c2951b59b6e91c8f0ea6a82c1b3a9b16e1c02f7', 'message': ""centos: disable EPEL by default\n\nOur images use 'scsi-target-utils' from EPEL and then can be built\nwithout it. So let's disable this repository right after installing\npackage from it.\n\nImages can enable EPEL with 'enable_extra_repos' macro.\n\nAlso added 'disable_extra_repos' macro as we have some images in a need.\n\nChange-Id: Id70474e7602b531b63fdc11ae690fd9ed33def74\n""}]",2,700877,2c2951b59b6e91c8f0ea6a82c1b3a9b16e1c02f7,16,8,1,24072,,,0,"centos: disable EPEL by default

Our images use 'scsi-target-utils' from EPEL and then can be built
without it. So let's disable this repository right after installing
package from it.

Images can enable EPEL with 'enable_extra_repos' macro.

Also added 'disable_extra_repos' macro as we have some images in a need.

Change-Id: Id70474e7602b531b63fdc11ae690fd9ed33def74
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/700877/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/template/methods.py', 'docker/base/Dockerfile.j2', 'docker/macros.j2', 'docker/collectd/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/qdrouterd/Dockerfile.j2', 'kolla/tests/test_methods.py']",8,2c2951b59b6e91c8f0ea6a82c1b3a9b16e1c02f7,," result = methods.handle_repos(template_vars, ['grafana'], 'enable') result = methods.handle_repos(template_vars, ['grafana'], 'enable') result = methods.handle_repos(template_vars, ['missing_repo'], 'enable') result = methods.handle_repos(template_vars, ['grafana', 'ceph'], 'enable') result = methods.handle_repos(template_vars, ['grafana'], 'enable') result = methods.handle_repos(template_vars, ['missing_repo'], 'enable') result = methods.handle_repos(template_vars, ['grafana', 'kibana'], 'enable') def test_disable_repos_centos(self): template_vars = { 'base_arch': 'x86_64', 'base_distro': 'centos', 'base_package_type': 'rpm', 'distro_package_manager': 'yum' } result = methods.handle_repos(template_vars, ['grafana'], 'disable') expectCmd = 'RUN yum-config-manager --disable grafana' self.assertEqual(expectCmd, result) def test_disable_repos_centos_multiple(self): template_vars = { 'base_arch': 'x86_64', 'base_distro': 'centos', 'base_package_type': 'rpm', 'distro_package_manager': 'yum' } result = methods.handle_repos(template_vars, ['grafana', 'ceph'], 'disable') expectCmd = 'RUN yum-config-manager --disable grafana ' expectCmd += '--disable centos-ceph-nautilus' self.assertEqual(expectCmd, result) # NOTE(hrw): there is no disabling of repos for Debian/Ubuntu def test_disable_repos_debian(self): template_vars = { 'base_arch': 'x86_64', 'base_distro': 'debian', 'base_package_type': 'deb' } result = methods.handle_repos(template_vars, ['grafana'], 'disable') expectCmd = '' self.assertEqual(expectCmd, result)"," result = methods.enable_repos(template_vars, ['grafana']) result = methods.enable_repos(template_vars, ['grafana']) result = methods.enable_repos(template_vars, ['missing_repo']) result = methods.enable_repos(template_vars, ['grafana', 'ceph']) result = methods.enable_repos(template_vars, ['grafana']) result = methods.enable_repos(template_vars, ['missing_repo']) result = methods.enable_repos(template_vars, ['grafana', 'kibana'])",81,18
openstack%2Fopenstack-ansible~stable%2Ftrain~I5181f603a49191dea218828b643002b17e066cae,openstack/openstack-ansible,stable/train,I5181f603a49191dea218828b643002b17e066cae,Document user-role-requirements.yml,ABANDONED,2020-01-22 13:31:13.000000000,2020-01-22 13:39:37.000000000,,[],"[{'number': 1, 'created': '2020-01-22 13:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f3e9c4497d21d5b2fb085ed355e5d301617f098e', 'message': 'Document user-role-requirements.yml\n\nChange-Id: I5181f603a49191dea218828b643002b17e066cae\n'}, {'number': 2, 'created': '2020-01-22 13:37:01.000000000', 'files': ['doc/source/reference/configuration/extending-osa.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/10b4f8e3ee44b0dd37acb775745e48c9f605d330', 'message': 'Document user-role-requirements.yml\n\nChange-Id: I5181f603a49191dea218828b643002b17e066cae\n'}]",0,703790,10b4f8e3ee44b0dd37acb775745e48c9f605d330,3,0,2,25023,,,0,"Document user-role-requirements.yml

Change-Id: I5181f603a49191dea218828b643002b17e066cae
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/703790/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/configuration/extending-osa.rst'],1,f3e9c4497d21d5b2fb085ed355e5d301617f098e,,"It is now the responsibility of the deployer to maintain appropriate versions pins of the ansible roles if an upgrade is required. Maintaining local forks of ansible roles ---------------------------------------- The Train release of openstack-ansible adds an optional new config file which defaults to ``/etc/openstack_deploy/user-role-requirements.yml``. It is in the same format as ``ansible-role-requirements.yml`` and can be used to add new roles or selectively override existing ones. New roles listed in ``user-role-requirements.yml`` will be merged with those in ``ansible-role-requirements.yml``, and roles with matching names will override those in ``ansible-role-requirements.yml``. It is easy for a deployer to keep this file under their own version control and out of the openstack-ansible tree. This allows a deployer to either add new ansible roles, or override the location or SHA of existing individual roles without replacing the original file entirely. It is also straightforward to include the ",,22,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Icaba7a58f458d853912d038f24c0cb4f853e0166,openstack/tripleo-heat-templates,stable/rocky,Icaba7a58f458d853912d038f24c0cb4f853e0166,Allow overrides in non global ceph.conf sections,MERGED,2020-01-14 17:16:42.000000000,2020-01-22 13:20:00.000000000,2020-01-22 13:20:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-01-14 17:16:42.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4ffc480cf6660749c9b9e12a2bd7c7af7b92b04', 'message': 'Allow overrides in non global ceph.conf sections\n\nIn current ceph-base version there is a CephConfigOverride\nparameter which allows to override ceph.conf params in global\nsection only.\n\nThis change will permit overrides to specify the ceph.conf\nsection into which they apply, while retaining backward\ncompatiblity.\n\nAlso adds in scenarios 001 and 004 some test cases.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n(cherry picked from commit 2501f4747c609482ac4e500aaf8ed5519e174bc7)\n'}]",0,702485,d4ffc480cf6660749c9b9e12a2bd7c7af7b92b04,22,9,1,25402,,,0,"Allow overrides in non global ceph.conf sections

In current ceph-base version there is a CephConfigOverride
parameter which allows to override ceph.conf params in global
section only.

This change will permit overrides to specify the ceph.conf
section into which they apply, while retaining backward
compatiblity.

Also adds in scenarios 001 and 004 some test cases.

Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166
Implements: blueprint ceph-config-overrides
(cherry picked from commit 2501f4747c609482ac4e500aaf8ed5519e174bc7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/702485/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'docker/services/ceph-ansible/ceph-base.yaml']",3,d4ffc480cf6660749c9b9e12a2bd7c7af7b92b04,bp/ceph-config-overrides," ceph_config_overrides_with_sections: yaql: data: {get_param: CephConfigOverrides} expression: $.data.keys().any(predicate => $ in ['global', 'mon', 'mgr', 'osd', 'mds', 'client']) DefaultCephConfigOverrides: type: OS::Heat::Value properties: type: json value: global: osd_pool_default_size: {get_param: CephPoolDefaultSize} osd_pool_default_pg_num: {get_param: CephPoolDefaultPgNum} osd_pool_default_pgp_num: {get_param: CephPoolDefaultPgNum} rgw_keystone_api_version: 3 rgw_keystone_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} rgw_keystone_accepted_roles: 'Member, admin' rgw_keystone_accepted_admin_roles: ResellerAdmin rgw_keystone_admin_domain: default rgw_keystone_admin_project: service rgw_keystone_admin_user: swift rgw_keystone_admin_password: {get_param: SwiftPassword} rgw_keystone_implicit_tenants: 'true' rgw_keystone_revocation_interval: '0' rgw_s3_auth_use_keystone: 'true' rgw_swift_versioning_enabled: 'true' rgw_swift_account_in_url: 'true' if: - ceph_config_overrides_with_sections - yaql: data: default: map_merge: - {get_attr: [DefaultCephConfigOverrides, value]} overrides: {get_param: CephConfigOverrides} expression: $.data.default.mergeWith($.data.overrides) - global: map_merge: - {get_attr: [DefaultCephConfigOverrides, value, global]}"," global: map_merge: - osd_pool_default_size: {get_param: CephPoolDefaultSize} osd_pool_default_pg_num: {get_param: CephPoolDefaultPgNum} osd_pool_default_pgp_num: {get_param: CephPoolDefaultPgNum} rgw_keystone_api_version: 3 rgw_keystone_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} rgw_keystone_accepted_roles: 'member, Member, admin' rgw_keystone_admin_domain: default rgw_keystone_admin_project: service rgw_keystone_admin_user: swift rgw_keystone_admin_password: {get_param: SwiftPassword} rgw_keystone_implicit_tenants: 'true' rgw_keystone_revocation_interval: '0' rgw_s3_auth_use_keystone: 'true' rgw_swift_account_in_url: 'true'",46,16
openstack%2Fcontributor-guide~master~I0a7ae25d11d54857986118337a94f6c69076b823,openstack/contributor-guide,master,I0a7ae25d11d54857986118337a94f6c69076b823,Add reference to `Comparison of Official Group Structures` document,MERGED,2019-10-08 08:32:11.000000000,2020-01-22 13:18:44.000000000,2020-01-22 13:16:41.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9562}, {'_account_id': 12404}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 08:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/2d4d887e883e422221bc09db5cee0baf3dcd3431', 'message': 'Add reference to `Comparison of Official Group Structures` document\n\nTC just published a reference document\n`Comparison of Official Group Structures`.\n\nChange-Id: I0a7ae25d11d54857986118337a94f6c69076b823\n'}, {'number': 2, 'created': '2020-01-22 04:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/2512ccfc3333a71e250e939f56422279f33be863', 'message': 'Add reference to `Comparison of Official Group Structures` document\n\nTC just published a reference document\n`Comparison of Official Group Structures`.\n\nChange-Id: I0a7ae25d11d54857986118337a94f6c69076b823\n'}, {'number': 3, 'created': '2020-01-22 09:00:31.000000000', 'files': ['doc/source/common/governance.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/5b27dcdbff5e76c9775db7286080618b86f6781e', 'message': 'Add reference to `Comparison of Official Group Structures` document\n\nTC just published a reference document\n`Comparison of Official Group Structures`.\n\nChange-Id: I0a7ae25d11d54857986118337a94f6c69076b823\n'}]",14,687239,5b27dcdbff5e76c9775db7286080618b86f6781e,19,6,3,12404,,,0,"Add reference to `Comparison of Official Group Structures` document

TC just published a reference document
`Comparison of Official Group Structures`.

Change-Id: I0a7ae25d11d54857986118337a94f6c69076b823
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/39/687239/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/governance.rst'],1,2d4d887e883e422221bc09db5cee0baf3dcd3431,add-compare-structure-doc-link,"Comparison of Official Group Structures ======================================= Before we start to dive, you can also find a reference for `Comparison of Official Group Structures <https://governance.openstack.org/tc/reference/comparison-of-official-group-structures.html>`_ Which should be able to gives you some basic concept of each groups and what's under who's governance in a single graph. ",,7,0
openstack%2Fnova~master~I416e121ebdc5f5dfbddda809af7379658d9c1fd6,openstack/nova,master,I416e121ebdc5f5dfbddda809af7379658d9c1fd6,OVS DPDK port representors support,NEW,2019-05-13 10:44:48.000000000,2020-01-22 12:54:59.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23498}, {'_account_id': 25241}, {'_account_id': 25733}, {'_account_id': 26515}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-05-13 10:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a81ee317978eeeb3b1af6860d652587982b41f8', 'message': 'Process VIF type ovs-dpdk for dpdk representor ports\n\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}, {'number': 2, 'created': '2019-05-14 10:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e62c933d1ed6118d65501065967146a872dda22', 'message': '[WIP] OVS DPDK port representors support\n\nThis POC code adds support for OVS DPDK port representors[1], a direct\nport on a netdev datapath is considered a DPDK representor port.\n\n[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors\n\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}, {'number': 3, 'created': '2019-05-15 10:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f03293565a88dec5c049c58186a2777703573dd9', 'message': '[WIP] OVS DPDK port representors support\n\nThis POC code adds support for OVS DPDK port representors[1], a direct\nport on a netdev datapath is considered a DPDK representor port.\n\n[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors\n\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}, {'number': 4, 'created': '2019-05-15 21:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b05e453904cc3d26650982d6e9d81789f6eb190d', 'message': '[WIP] OVS DPDK port representors support\n\nThis POC code adds support for OVS DPDK port representors[1], a direct\nport on a netdev datapath is considered a DPDK representor port.\n\n[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors\n\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}, {'number': 5, 'created': '2019-05-20 09:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1823da562b30cf83628231e355907df1ed693bd9', 'message': '[WIP] OVS DPDK port representors support\n\nThis POC code adds support for OVS DPDK port representors[1], a direct\nport on a netdev datapath is considered a DPDK representor port.\n\n[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors\n\nCloses-Bug: #1829734\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}, {'number': 6, 'created': '2019-05-21 08:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66ea836f83445415a3b43634dc035cd6e5fdbd81', 'message': 'OVS DPDK port representors support\n\nAdds support for OVS DPDK port representors[1], a direct\nport on a netdev datapath is considered a DPDK representor port.\n\nIn case of an OVS VIF type and a direct VNIC type port, VIF object profile\nmust have the databath info to be passed to os-vif.\n\n[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors\n\nCloses-Bug: #1829734\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}, {'number': 7, 'created': '2019-05-21 11:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a67129b8e36fe560d8baa4e9c30cd82ad870391', 'message': 'OVS DPDK port representors support\n\nAdds support for OVS DPDK port representors[1], a direct\nport on a netdev datapath is considered a DPDK representor port.\n\nIn case of an OVS VIF type and a direct VNIC type port, VIF object profile\nmust have the databath info to be passed to os-vif.\n\n[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors\n\nCloses-Bug: #1829734\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}, {'number': 8, 'created': '2019-05-21 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/919a2da541c95f2ffade1d35dc1606255c800bcb', 'message': 'OVS DPDK port representors support\n\nAdds support for OVS DPDK port representors[1], a direct\nport on a netdev datapath is considered a DPDK representor port.\n\nIn case of an OVS VIF type and a direct VNIC type port, VIF object profile\nmust have the databath info to be passed to os-vif.\n\n[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors\n\nCloses-Bug: #1829734\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}, {'number': 9, 'created': '2019-06-18 08:21:20.000000000', 'files': ['releasenotes/notes/ovs-dpdk-port-7c139573afaaec2f.yaml', 'nova/tests/unit/network/test_os_vif_util.py', 'nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/network/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/350778eaec74919fa5a4115e52bb9cf81796f4f8', 'message': 'OVS DPDK port representors support\n\nAdds support for OVS DPDK port representors[1], a direct\nport on a netdev datapath is considered a DPDK representor port.\n\nIn case of an OVS VIF type and a direct VNIC type port, VIF object profile\nmust have the databath info to be passed to os-vif.\n\n[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors\n\nCloses-Bug: #1829734\nChange-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6\n'}]",14,658785,350778eaec74919fa5a4115e52bb9cf81796f4f8,122,19,9,22948,,,0,"OVS DPDK port representors support

Adds support for OVS DPDK port representors[1], a direct
port on a netdev datapath is considered a DPDK representor port.

In case of an OVS VIF type and a direct VNIC type port, VIF object profile
must have the databath info to be passed to os-vif.

[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors

Closes-Bug: #1829734
Change-Id: I416e121ebdc5f5dfbddda809af7379658d9c1fd6
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/658785/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/network/model.py', 'nova/network/os_vif_util.py']",3,3a81ee317978eeeb3b1af6860d652587982b41f8,ovs-dpdk,"# VIF_TYPE_OVS_DPDK def _nova_to_osvif_vif_ovs_dpdk(vif): profile = objects.vif.VIFPortProfileOpenVSwitch( interface_id=vif.get('ovs_interfaceid') or vif['id'], datapath_type=model.VIF_DETAILS_OVS_DATAPATH_NETDEV) obj = _get_vnic_direct_vif_instance( vif, port_profile=profile, plugin=""ovs"") return obj ",,17,1
openstack%2Fkolla~stable%2Ftrain~Iaeb34f0c66dd3b25b0fa300d8e838ddc9704acf2,openstack/kolla,stable/train,Iaeb34f0c66dd3b25b0fa300d8e838ddc9704acf2,[train] Bump versions,MERGED,2020-01-21 13:21:41.000000000,2020-01-22 12:47:28.000000000,2020-01-22 12:45:38.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-21 13:21:41.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cfe3780322905af79c03a185e30af4f496d02602', 'message': '[train] Bump versions\n\nChange-Id: Iaeb34f0c66dd3b25b0fa300d8e838ddc9704acf2\n'}]",0,703610,cfe3780322905af79c03a185e30af4f496d02602,8,3,1,30523,,,0,"[train] Bump versions

Change-Id: Iaeb34f0c66dd3b25b0fa300d8e838ddc9704acf2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/703610/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,cfe3780322905af79c03a185e30af4f496d02602,," 'glance-19.0.1.tar.gz')},"," 'glance-19.0.0.tar.gz')},",1,1
openstack%2Fpython-freezerclient~master~I31acfc0b661797fdefd23c28b06de6c21019de00,openstack/python-freezerclient,master,I31acfc0b661797fdefd23c28b06de6c21019de00,Remove six usage from freezerclient package,MERGED,2020-01-22 09:11:14.000000000,2020-01-22 12:43:09.000000000,2020-01-22 12:41:32.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 09:11:14.000000000', 'files': ['lower-constraints.txt', 'freezerclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/0e7546bda79904809b9976af027856e90f29cf89', 'message': ""Remove six usage from freezerclient package\n\nWe don't support Python 2 anymore so we don't need this\ncompatibility library.\n\nThis patch remove six.moves.cStringIO by io.StringIO.\n\nChange-Id: I31acfc0b661797fdefd23c28b06de6c21019de00\n""}]",0,703747,0e7546bda79904809b9976af027856e90f29cf89,7,2,1,21069,,,0,"Remove six usage from freezerclient package

We don't support Python 2 anymore so we don't need this
compatibility library.

This patch remove six.moves.cStringIO by io.StringIO.

Change-Id: I31acfc0b661797fdefd23c28b06de6c21019de00
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/47/703747/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'freezerclient/tests/unit/test_shell.py']",2,0e7546bda79904809b9976af027856e90f29cf89,,import io sys.stdout = io.StringIO() sys.stderr = io.StringIO(),import six sys.stdout = six.moves.cStringIO() sys.stderr = six.moves.cStringIO(),3,4
openstack%2Fkolla~stable%2Fstein~I0a524bf7147446f7604ec3555fe926e7f251d736,openstack/kolla,stable/stein,I0a524bf7147446f7604ec3555fe926e7f251d736,[stein] Bump versions,MERGED,2020-01-21 13:23:08.000000000,2020-01-22 12:37:57.000000000,2020-01-22 12:36:16.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-21 13:23:08.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0de137f86684122fd6d78a4349877f9437fc7f2d', 'message': '[stein] Bump versions\n\nChange-Id: I0a524bf7147446f7604ec3555fe926e7f251d736\n'}]",0,703611,0de137f86684122fd6d78a4349877f9437fc7f2d,10,4,1,30523,,,0,"[stein] Bump versions

Change-Id: I0a524bf7147446f7604ec3555fe926e7f251d736
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/703611/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,0de137f86684122fd6d78a4349877f9437fc7f2d,," 'glance-18.0.1.tar.gz')},"," 'glance-18.0.0.tar.gz')},",1,1
openstack%2Fpaunch~stable%2Fqueens~I346c49cb204f273bd7077ca5153412cda9846534,openstack/paunch,stable/queens,I346c49cb204f273bd7077ca5153412cda9846534,Do not force remove containers,MERGED,2020-01-16 15:52:43.000000000,2020-01-22 12:05:18.000000000,2020-01-22 12:05:18.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-16 15:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/2da828d893c22938e7ab218ab3e05795db3822ee', 'message': ""Do not force remove containers\n\nPaunch does docker/podman rm -f, when removes containers. It seems it\nreturns too early, having some leftovers (like docker service\nendpoints) behind or pending for it to be removed later, in case of\nbig fat deamons.\n\nLong story short, don't do rm -f and allow it to do its job gracefully\nand without a hurry.\n\nChange-Id: I346c49cb204f273bd7077ca5153412cda9846534\nCloses-Bug: #1860004\nCo-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit d39414e433c1a20e71dee4612ec1387e57620103)\n""}, {'number': 2, 'created': '2020-01-16 16:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/3f7f516f3c7a8f0e0ca93321603d35f1d5169bdc', 'message': ""Do not force remove containers\n\nPaunch does docker/podman rm -f, when removes containers. It seems it\nreturns too early, having some leftovers (like docker service\nendpoints) behind or pending for it to be removed later, in case of\nbig fat deamons.\n\nLong story short, don't do rm -f and allow it to do its job gracefully\nand without a hurry.\n\nChange-Id: I346c49cb204f273bd7077ca5153412cda9846534\nCloses-Bug: #1860004\nCo-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit d39414e433c1a20e71dee4612ec1387e57620103)\n""}, {'number': 3, 'created': '2020-01-17 09:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/51abbf21cea1bacf4a884823300bd8da5a806be3', 'message': ""Do not force remove containers\n\nPaunch does docker/podman rm -f, when removes containers. It seems it\nreturns too early, having some leftovers (like docker service\nendpoints) behind or pending for it to be removed later, in case of\nbig fat deamons.\n\nLong story short, don't do rm -f and allow it to do its job gracefully\nand without a hurry.\n\nChange-Id: I346c49cb204f273bd7077ca5153412cda9846534\nCloses-Bug: #1860004\nCo-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit d39414e433c1a20e71dee4612ec1387e57620103)\n""}, {'number': 4, 'created': '2020-01-17 09:48:36.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/tests/test_builder_compose1.py', 'paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/d2a7acfa228a332acb9bb5b94f1f12cc045790bd', 'message': ""Do not force remove containers\n\nPaunch does docker/podman rm -f, when removes containers. It seems it\nreturns too early, having some leftovers (like docker service\nendpoints) behind or pending for it to be removed later, in case of\nbig fat deamons.\n\nLong story short, don't do rm -f and allow it to do its job gracefully\nand without a hurry.\n\nChange-Id: I346c49cb204f273bd7077ca5153412cda9846534\nCloses-Bug: #1860004\nCo-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit d39414e433c1a20e71dee4612ec1387e57620103)\n""}]",1,702901,d2a7acfa228a332acb9bb5b94f1f12cc045790bd,29,6,4,6926,,,0,"Do not force remove containers

Paunch does docker/podman rm -f, when removes containers. It seems it
returns too early, having some leftovers (like docker service
endpoints) behind or pending for it to be removed later, in case of
big fat deamons.

Long story short, don't do rm -f and allow it to do its job gracefully
and without a hurry.

Change-Id: I346c49cb204f273bd7077ca5153412cda9846534
Closes-Bug: #1860004
Co-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit d39414e433c1a20e71dee4612ec1387e57620103)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/01/702901/4 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py']",2,2da828d893c22938e7ab218ab3e05795db3822ee,1790792_maybe," cmd = [self.docker_cmd, 'rm', container]"," cmd = [self.docker_cmd, 'rm', '-f', container]",2,2
openstack%2Frequirements~stable%2Fstein~I043b5ec82a75e7560448f0925a33038b9e6f859d,openstack/requirements,stable/stein,I043b5ec82a75e7560448f0925a33038b9e6f859d,Cap gunicorn for py27,ABANDONED,2020-01-22 11:55:37.000000000,2020-01-22 11:59:46.000000000,,[],"[{'number': 1, 'created': '2020-01-22 11:55:37.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/89d9f6e5210a0cf83d7999c87b4275362164c9ad', 'message': 'Cap gunicorn for py27\n\nIncludes squash of:\nfix gunicorn cap (typo made it in)\n(cherry picked from commit bf122399158e96ecf69de6bec3860ee2df4c9a5e)\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I043b5ec82a75e7560448f0925a33038b9e6f859d\n(cherry picked from commit 68422a77419c84f563ee2acf7387d1ed930d7bfa)\n'}]",0,703780,89d9f6e5210a0cf83d7999c87b4275362164c9ad,2,0,1,11904,,,0,"Cap gunicorn for py27

Includes squash of:
fix gunicorn cap (typo made it in)
(cherry picked from commit bf122399158e96ecf69de6bec3860ee2df4c9a5e)

Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I043b5ec82a75e7560448f0925a33038b9e6f859d
(cherry picked from commit 68422a77419c84f563ee2acf7387d1ed930d7bfa)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/703780/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,89d9f6e5210a0cf83d7999c87b4275362164c9ad,gunicorn,gunicorn<20.0.0;python_version<'3.0' # MIT gunicorn;python_version>='3.0' # MIT,gunicorn # MIT,2,1
openstack%2Fansible-collections-openstack~master~I0f189647cd9b97252f29055506f75dfd8398dee4,openstack/ansible-collections-openstack,master,I0f189647cd9b97252f29055506f75dfd8398dee4,Fix os_user_role issue to grant a role in a domain,MERGED,2020-01-20 15:34:55.000000000,2020-01-22 11:55:58.000000000,2020-01-22 11:55:58.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-01-20 15:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ffd692f1818d0ae348e02430a215645790679b80', 'message': 'Fix os_user_role issue to grant a role in a domain\n\nSet domain_id when domain is set or project/domain is set.\n\nChange-Id: I0f189647cd9b97252f29055506f75dfd8398dee4\nTask: 38309\nStory: 2007184\n'}, {'number': 2, 'created': '2020-01-21 16:56:16.000000000', 'files': ['plugins/modules/os_user_role.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4c03ae0c1663d0ab6eea493de2f1a5c653cacfdc', 'message': 'Fix os_user_role issue to grant a role in a domain\n\nSet domain_id when domain is set or project/domain is set.\n\nChange-Id: I0f189647cd9b97252f29055506f75dfd8398dee4\nTask: 38309\nStory: 2007184\n'}]",0,703428,4c03ae0c1663d0ab6eea493de2f1a5c653cacfdc,12,3,2,7654,,,0,"Fix os_user_role issue to grant a role in a domain

Set domain_id when domain is set or project/domain is set.

Change-Id: I0f189647cd9b97252f29055506f75dfd8398dee4
Task: 38309
Story: 2007184
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/28/703428/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/os_user_role.py'],1,ffd692f1818d0ae348e02430a215645790679b80,story/2007184, domain_id = None domain_id = d['id'], domain_id = None,2,1
openstack%2Fcharm-keystone~master~I9ac10807e853f2e83ea9ea9b780f83a79c17be10,openstack/charm-keystone,master,I9ac10807e853f2e83ea9ea9b780f83a79c17be10,When resuming exclude haproxy,MERGED,2020-01-21 17:04:26.000000000,2020-01-22 11:30:00.000000000,2020-01-22 11:30:00.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/7aaf48cd27bf86e9b6174ff2da3780b0c31fb4fe', 'message': 'When resuming exclude haproxy\n\nWhen resuming services exclude those managed by hacluster, in\nthis case haproxy. If pacemaker lacks quorum it may shut haproxy\ndown which will cause this charm to error.\n\nChange-Id: I9ac10807e853f2e83ea9ea9b780f83a79c17be10\nChangeeId: I45c031bec029dfb4e70e6cc689c6bf8ef7cb9815\n'}, {'number': 2, 'created': '2020-01-22 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/f498921ef464ad13f49817b60c0c9d6761444b6f', 'message': 'When resuming exclude haproxy\n\nWhen resuming services exclude those managed by hacluster, in\nthis case haproxy. If pacemaker lacks quorum it may shut haproxy\ndown which will cause this charm to error.\n\nChange-Id: I9ac10807e853f2e83ea9ea9b780f83a79c17be10\n'}, {'number': 3, 'created': '2020-01-22 10:23:46.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/9192e48568c0dafd3b9f2a8d75d289beb74aaa6c', 'message': 'When resuming exclude haproxy\n\nWhen resuming services exclude those managed by hacluster, in\nthis case haproxy. If pacemaker lacks quorum it may shut haproxy\ndown which will cause this charm to error.\n\nChange-Id: I9ac10807e853f2e83ea9ea9b780f83a79c17be10\n'}]",2,703655,9192e48568c0dafd3b9f2a8d75d289beb74aaa6c,14,4,3,12549,,,0,"When resuming exclude haproxy

When resuming services exclude those managed by hacluster, in
this case haproxy. If pacemaker lacks quorum it may shut haproxy
down which will cause this charm to error.

Change-Id: I9ac10807e853f2e83ea9ea9b780f83a79c17be10
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/55/703655/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,7aaf48cd27bf86e9b6174ff2da3780b0c31fb4fe,exclude-haproxy-from-status,"def get_managed_services_and_ports(): """"""Get the services and ports managed by this charm. Return only the services and corresponding ports that are managed by this charm. This excludes haproxy when there is a relation with hacluster. This is because this charm passes responsability for stopping and starting haproxy to hacluster. Similarly, if a relation with hacluster exists then the ports returned by this method correspond to those managed by the apache server rather than haproxy. :returns: A tuple containing a list of services first followed by a list of ports. :rtype: ([str, ...], [int,...]) """""" _services = services() _ports = determine_ports() if relation_ids('ha'): try: _services.remove('haproxy') except ValueError: pass _ports = [ determine_api_port( api_port('keystone-admin'), singlenode_mode=True), determine_api_port( api_port('keystone-public'), singlenode_mode=True)] return _services, _ports def assess_status_func(configs, exclude_ha_resource=False): _services, _ports = get_managed_services_and_ports() services=_services, ports=_ports) _services, _ports = get_managed_services_and_ports() services=_services, ports=_ports)","def assess_status_func(configs): services=services(), ports=determine_ports()) services=services(), ports=determine_ports())",83,18
openstack%2Fironic-python-agent~stable%2Ftrain~I52f52119a5f3175b1723fde291eb26d4f86c8223,openstack/ironic-python-agent,stable/train,I52f52119a5f3175b1723fde291eb26d4f86c8223,Skip nic numa_node discovery if it's not assigned to a numa_node,MERGED,2020-01-17 14:54:44.000000000,2020-01-22 11:22:09.000000000,2020-01-22 11:20:02.000000000,"[{'_account_id': 7130}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-17 14:54:44.000000000', 'files': ['releasenotes/notes/fix-nic-without-numa-node-b401f97c46afa4a1.yaml', 'ironic_python_agent/numa_inspector.py', 'ironic_python_agent/tests/unit/test_numa_inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/598462d3427804c6912d06ae1b2bb0077bc8ea8f', 'message': ""Skip nic numa_node discovery if it's not assigned to a numa_node\n\nIn some rare case, such as a VM with virtual numa node, nics might\nnot be in a numa node and this breaks numa-topology discovery.\n\nChange-Id: I52f52119a5f3175b1723fde291eb26d4f86c8223\nStory: 2007105\nTask: 38151\n(cherry picked from commit a1a121fbf8f982d87efdb2417524603063e38968)\n""}]",0,703096,598462d3427804c6912d06ae1b2bb0077bc8ea8f,22,5,1,10239,,,0,"Skip nic numa_node discovery if it's not assigned to a numa_node

In some rare case, such as a VM with virtual numa node, nics might
not be in a numa node and this breaks numa-topology discovery.

Change-Id: I52f52119a5f3175b1723fde291eb26d4f86c8223
Story: 2007105
Task: 38151
(cherry picked from commit a1a121fbf8f982d87efdb2417524603063e38968)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/96/703096/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-nic-without-numa-node-b401f97c46afa4a1.yaml', 'ironic_python_agent/numa_inspector.py', 'ironic_python_agent/tests/unit/test_numa_inspector.py']",3,598462d3427804c6912d06ae1b2bb0077bc8ea8f,bug/2007105-stable/train," @mock.patch.object(os.path, 'isfile', autospec=True) def test_get_nodes_nics_info(self, mock_listdir, mock_isfile): mock_isfile.return_value = True @mock.patch.object(os.path, 'isfile', autospec=True) def test_bad_nodes_nics_info(self, mock_listdir, mock_isfile): mock_isfile.return_value = True"," @mock.patch.object(os.path, 'isdir', autospec=True) def test_get_nodes_nics_info(self, mock_listdir, mock_isdir): mock_isdir.return_value = True @mock.patch.object(os.path, 'isdir', autospec=True) def test_bad_nodes_nics_info(self, mock_listdir, mock_isdir): mock_isdir.return_value = True",14,7
openstack%2Ftripleo-quickstart-extras~master~I618a9b43d52a26c5ab59301ce3452d7ca999e18b,openstack/tripleo-quickstart-extras,master,I618a9b43d52a26c5ab59301ce3452d7ca999e18b,Fix py2/py3 issue in tempest playbook with os_tempest,ABANDONED,2019-09-01 10:10:12.000000000,2020-01-22 11:15:45.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-09-01 10:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/83422785ecfb7d70cf91e0d5417cb2526bf5bd46', 'message': 'Fix py2/py3 issue in tempest playbook with os_tempest\n\nos_tempest role uses venv_python_executable variable to set python\nversion for virtualenv. Set it to python3 if CentOS or RHEL 8.\n\nChange-Id: I618a9b43d52a26c5ab59301ce3452d7ca999e18b\n'}, {'number': 2, 'created': '2019-09-04 21:02:15.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/26b17eb6dcf0ec3398b44c78e61db6e7cf89e056', 'message': 'Fix py2/py3 issue in tempest playbook with os_tempest\n\nos_tempest role uses venv_python_executable variable to set python\nversion for virtualenv. Set it to python3 if CentOS or RHEL 8.\n\nChange-Id: I618a9b43d52a26c5ab59301ce3452d7ca999e18b\n'}]",6,679562,26b17eb6dcf0ec3398b44c78e61db6e7cf89e056,23,7,2,10969,,,0,"Fix py2/py3 issue in tempest playbook with os_tempest

os_tempest role uses venv_python_executable variable to set python
version for virtualenv. Set it to python3 if CentOS or RHEL 8.

Change-Id: I618a9b43d52a26c5ab59301ce3452d7ca999e18b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/62/679562/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,83422785ecfb7d70cf91e0d5417cb2526bf5bd46,," # For python_venv_build role venv_python_executable: >- {{ (ansible_distribution in ['RedHat', 'CentOS'] and ansible_distribution_major_version|int >= 8) | ternary(""python3"", ""python2"") }}",,5,0
openstack%2Fkuryr-kubernetes~master~I05ebc7bcb6e397db8f7e62928a56f8de1038cb66,openstack/kuryr-kubernetes,master,I05ebc7bcb6e397db8f7e62928a56f8de1038cb66,Add ability to query for trunks with specified tags.,MERGED,2019-11-29 07:51:08.000000000,2020-01-22 11:15:04.000000000,2020-01-22 11:10:09.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-29 07:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/221e25ca71e5769666512bf465c1afb09a176913', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 2, 'created': '2019-11-29 14:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/50387fd4b709b8e23e26fe31a03e9dfdbf7470d0', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 3, 'created': '2019-12-02 09:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/41f1983ff107a51ead4cadc7a6a31427a1617d97', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 4, 'created': '2019-12-03 12:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/94fdca0d0d108cd7c4fe9eae68c2f67d40ea88b8', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 5, 'created': '2019-12-04 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9d7dd72f8a925c34dc4ad3f1134261278883c52e', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 6, 'created': '2019-12-16 07:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/79778cf0fbe0e2e5554e2a909ee336a2828efb89', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 7, 'created': '2019-12-17 09:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7a5581881d84c43f1a44e918b5a9afec5de292fb', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 8, 'created': '2019-12-17 13:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/00792f9e70c24d5281de351ed6db424c851a12c0', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 9, 'created': '2019-12-17 18:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8a4f7d2c3ba292cfdad26fbf322204b1c95bdb9f', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 10, 'created': '2019-12-19 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ea8dfc2ad2668359a8e4f50dfcde2c833f0d1d9d', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 11, 'created': '2019-12-20 12:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e4939613b7aa6a7123e554d21627d86ad724f58b', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 12, 'created': '2019-12-23 17:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/056c7f7c069f95d606cdd24aa57aebb1d7deece8', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 13, 'created': '2020-01-03 08:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bca4545679223feaa474355b366571c018be341b', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 14, 'created': '2020-01-13 09:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e788ae8fb26cbf251ced82162c590c17a4da10d8', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 15, 'created': '2020-01-14 09:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/79ca13614d0ec55ef454c278bec5e06cf20c2170', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 16, 'created': '2020-01-14 14:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6c87b8d9b8cd7c2cdc98309f718849d647ceb761', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 17, 'created': '2020-01-17 08:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/868796c2315ebc17b72a8d3f1e666d6271248195', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}, {'number': 18, 'created': '2020-01-20 09:08:12.000000000', 'files': ['kuryr_kubernetes/clients.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7a51dd90cd4af40064457750a20701760d1cdbfe', 'message': ""Add ability to query for trunks with specified tags.\n\nCurrently Trunk object from OpenStackSDK does not support ability for\nquery objects with specific tags, while that's possible using neutron\nclient. This workaround is serve as a temporary fix, until proper change\nwill land on the OpenStackSDK side.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66\n""}]",4,696660,7a51dd90cd4af40064457750a20701760d1cdbfe,67,5,18,13692,,,0,"Add ability to query for trunks with specified tags.

Currently Trunk object from OpenStackSDK does not support ability for
query objects with specific tags, while that's possible using neutron
client. This workaround is serve as a temporary fix, until proper change
will land on the OpenStackSDK side.

Implements: blueprint switch-to-openstacksdk
Change-Id: I05ebc7bcb6e397db8f7e62928a56f8de1038cb66
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/60/696660/18 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/clients.py'],1,221e25ca71e5769666512bf465c1afb09a176913,bp/switch-to-openstacksdk,"from openstack.network.v2 import trunk as os_trunkdef _get_trunks(self, payload): """"""Return trunks filtered by whatever"""""" # TODO(gryf): Trunk object should be expanded by tags attribute in # openstacksdk instead. response = self.get(os_trunk.Trunk.base_path, params=payload) if not response.ok: raise os_exc.SDKException('Error on searching trunks with params %s: ' '%s', payload, response.text) return (os_trunk.Trunk(**item) for item in response.json()['trunks']) conn.network.get_trunks = partial(_get_trunks, conn.network)",,13,0
openstack%2Fkuryr-kubernetes~master~I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac,openstack/kuryr-kubernetes,master,I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac,Stop passing around neutron client object.,MERGED,2019-12-19 10:29:21.000000000,2020-01-22 11:11:44.000000000,2020-01-22 11:10:08.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-12-19 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a75fc3ded1edae1327ea1804f1e37faf7e7de0e2', 'message': 'Stop passing around neutron client object.\n\nIn couple of drivers, in some methods, neutron client object is passing\ndown to through the series of methods call, just to eventually be\ncalled with some object.\n\nSince we already make the client a singleton, calling\nclients.get_neutron_client method will immediately return instance,\nwhich is possibly is already created. There is no need to pass this\ndown, while it can be easily reached by destination method.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac\n'}, {'number': 2, 'created': '2019-12-23 17:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cd547315d97e1e4df49ac571a7237572970bc36b', 'message': 'Stop passing around neutron client object.\n\nIn couple of drivers, in some methods, neutron client object is passing\ndown to through the series of methods call, just to eventually be\ncalled with some object.\n\nSince we already make the client a singleton, calling\nclients.get_neutron_client method will immediately return instance,\nwhich is possibly is already created. There is no need to pass this\ndown, while it can be easily reached by destination method.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac\n'}, {'number': 3, 'created': '2020-01-03 08:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b8ef4fd672166b75d6a498d10e58f5871180d67', 'message': 'Stop passing around neutron client object.\n\nIn couple of drivers, in some methods, neutron client object is passing\ndown to through the series of methods call, just to eventually be\ncalled with some object.\n\nSince we already make the client a singleton, calling\nclients.get_neutron_client method will immediately return instance,\nwhich is possibly is already created. There is no need to pass this\ndown, while it can be easily reached by destination method.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac\n'}, {'number': 4, 'created': '2020-01-13 09:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6cf221f564ff85a88f67bf7b548bc7a705cdc72a', 'message': 'Stop passing around neutron client object.\n\nIn couple of drivers, in some methods, neutron client object is passing\ndown to through the series of methods call, just to eventually be\ncalled with some object.\n\nSince we already make the client a singleton, calling\nclients.get_neutron_client method will immediately return instance,\nwhich is possibly is already created. There is no need to pass this\ndown, while it can be easily reached by destination method.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac\n'}, {'number': 5, 'created': '2020-01-14 09:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5655129b685724e25e265a7a02d2c0dd42104217', 'message': 'Stop passing around neutron client object.\n\nIn couple of drivers, in some methods, neutron client object is passing\ndown to through the series of methods call, just to eventually be\ncalled with some object.\n\nSince we already make the client a singleton, calling\nclients.get_neutron_client method will immediately return instance,\nwhich is possibly is already created. There is no need to pass this\ndown, while it can be easily reached by destination method.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac\n'}, {'number': 6, 'created': '2020-01-14 14:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2b1ea128559da78efd9784b50858a2d261f54a8c', 'message': 'Stop passing around neutron client object.\n\nIn couple of drivers, in some methods, neutron client object is passing\ndown to through the series of methods call, just to eventually be\ncalled with some object.\n\nSince we already make the client a singleton, calling\nclients.get_neutron_client method will immediately return instance,\nwhich is possibly is already created. There is no need to pass this\ndown, while it can be easily reached by destination method.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac\n'}, {'number': 7, 'created': '2020-01-17 08:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/104596cb03aea79ef230cc1cd958d5aaadd30167', 'message': 'Stop passing around neutron client object.\n\nIn couple of drivers, in some methods, neutron client object is passing\ndown to through the series of methods call, just to eventually be\ncalled with some object.\n\nSince we already make the client a singleton, calling\nclients.get_neutron_client method will immediately return instance,\nwhich is possibly is already created. There is no need to pass this\ndown, while it can be easily reached by destination method.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac\n'}, {'number': 8, 'created': '2020-01-20 09:08:12.000000000', 'files': ['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_macvlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/705bc440944eba641c48d61fa2a9412ddcc1d1cd', 'message': 'Stop passing around neutron client object.\n\nIn couple of drivers, in some methods, neutron client object is passing\ndown to through the series of methods call, just to eventually be\ncalled with some object.\n\nSince we already make the client a singleton, calling\nclients.get_neutron_client method will immediately return instance,\nwhich is possibly is already created. There is no need to pass this\ndown, while it can be easily reached by destination method.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac\n'}]",0,699947,705bc440944eba641c48d61fa2a9412ddcc1d1cd,32,4,8,13692,,,0,"Stop passing around neutron client object.

In couple of drivers, in some methods, neutron client object is passing
down to through the series of methods call, just to eventually be
called with some object.

Since we already make the client a singleton, calling
clients.get_neutron_client method will immediately return instance,
which is possibly is already created. There is no need to pass this
down, while it can be easily reached by destination method.

Implements: blueprint switch-to-openstacksdk
Change-Id: I0a08f4740e94f9d7ae5ee003aa8b0a2e0a9b6fac
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/47/699947/6 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_macvlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",8,a75fc3ded1edae1327ea1804f1e37faf7e7de0e2,bp/switch-to-openstacksdk," m_driver._drv_vif._remove_subport.assert_called_once_with(trunk_id, m_driver._drv_vif._remove_subport.assert_called_once_with(trunk_id, m_driver._drv_vif._remove_subport.assert_called_once_with(trunk_id, m_driver._get_trunk_id.assert_called_once_with(pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(trunk_id, m_driver._get_trunk_id.assert_called_once_with(pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(trunk_id, m_driver._get_trunk_id.assert_called_once_with(pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(trunk_id,"," m_driver._drv_vif._remove_subport.assert_called_once_with(neutron, trunk_id, m_driver._drv_vif._remove_subport.assert_called_once_with(neutron, trunk_id, m_driver._drv_vif._remove_subport.assert_called_once_with(neutron, trunk_id, m_driver._get_trunk_id.assert_called_once_with(neutron, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(neutron, trunk_id, m_driver._get_trunk_id.assert_called_once_with(neutron, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(neutron, trunk_id, m_driver._get_trunk_id.assert_called_once_with(neutron, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(neutron, trunk_id,",102,112
openstack%2Ftripleo-quickstart~master~If9b2028b5a334a2dca054b7b17218e41afabd76d,openstack/tripleo-quickstart,master,If9b2028b5a334a2dca054b7b17218e41afabd76d,Tripleo job templates refactoring,ABANDONED,2019-06-25 18:11:26.000000000,2020-01-22 11:02:00.000000000,,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-25 18:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f5543e80eb26335d87f7ba2a4e283687b6b21bb5', 'message': 'WIP Tripleo repository refactoring\n\nDepends-On: https://review.opendev.org/#/c/667423\nChange-Id: If9b2028b5a334a2dca054b7b17218e41afabd76d\n'}, {'number': 2, 'created': '2019-06-26 09:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/11ab2c884e51c26619247e7e1aebf920b6e4fbf5', 'message': 'Tripleo job templates refactoring\n\nDepends-On: https://review.opendev.org/#/c/667423\nChange-Id: If9b2028b5a334a2dca054b7b17218e41afabd76d\n'}, {'number': 3, 'created': '2019-06-26 09:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2fd03b37309aa1c2e1e0a266e7cedfb53ecd8b8a', 'message': 'Tripleo job templates refactoring\n\nDepends-On: https://review.opendev.org/#/c/667423\nChange-Id: If9b2028b5a334a2dca054b7b17218e41afabd76d\n'}, {'number': 4, 'created': '2019-07-11 12:11:27.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f056620d8fcf7924bf33d0111754a141f0da2e43', 'message': 'Tripleo job templates refactoring\n\nBased on team discussions on:\nhttps://docs.google.com/document/d/1u2q7E6SceTo5AxJf4vr9mZK08iAGOhQNJQXSYW1nIVM/edit#\n\nDepends-On: https://review.opendev.org/#/c/667423\nChange-Id: If9b2028b5a334a2dca054b7b17218e41afabd76d\n'}]",4,667427,f056620d8fcf7924bf33d0111754a141f0da2e43,16,7,4,24162,,,0,"Tripleo job templates refactoring

Based on team discussions on:
https://docs.google.com/document/d/1u2q7E6SceTo5AxJf4vr9mZK08iAGOhQNJQXSYW1nIVM/edit#

Depends-On: https://review.opendev.org/#/c/667423
Change-Id: If9b2028b5a334a2dca054b7b17218e41afabd76d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/27/667427/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f5543e80eb26335d87f7ba2a4e283687b6b21bb5,fix/template-names, - tripleo-template-ci-repos, - tripleo-multinode-branchful,1,1
openstack%2Ftripleo-ci~master~I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5,openstack/tripleo-ci,master,I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5,Enables platform override on molecule scenarios,ABANDONED,2019-07-05 12:06:26.000000000,2020-01-22 11:01:38.000000000,,"[{'_account_id': 6547}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-05 12:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/907c84dcfc3131c20cd011798bfba823291935de', 'message': 'WIP: Adds RHEL8 to molecule\n\n* Makes mock import py3 ready, fixing pytest collection\n* Adopts use of pytest-molecule\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\n'}, {'number': 2, 'created': '2019-07-05 13:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/480f69dcc9863bca6a252a0e4990bf5117af7a07', 'message': 'WIP: Adds RHEL8 to molecule\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\n'}, {'number': 3, 'created': '2019-07-05 15:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/195e5d4dbe7c604f2ef8a3a7d3220e4e8be05f1d', 'message': 'WIP: Adds RHEL8 to molecule\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/#/c/669366/\n'}, {'number': 4, 'created': '2019-07-08 09:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/70fbfe2e4657d5b0b347efa72a3917763b9c968a', 'message': 'WIP: Adds RHEL8 to molecule\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/#/c/669366/\n'}, {'number': 5, 'created': '2019-07-08 14:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/deb1196f7df6ac3d4ae8619772f7b00fc586cbed', 'message': 'WIP: Adds RHEL8 to molecule\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/#/c/669366/\n'}, {'number': 6, 'created': '2019-07-08 14:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/11ad1b10f3fe1a27f1b6df9d627889cb4ac80289', 'message': 'WIP: Adds RHEL8 to molecule\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/#/c/669366/\n'}, {'number': 7, 'created': '2019-07-08 14:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1431507a0ad0e8b9025f212e9ee21d76b9151a09', 'message': 'WIP: Adds RHEL8 to molecule\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/#/c/669366/\n'}, {'number': 8, 'created': '2019-07-08 14:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a72e693814a4dd4da90a437c5f1c39030eb78fdf', 'message': 'WIP: Adds RHEL8 to molecule\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/#/c/669366/\n'}, {'number': 9, 'created': '2019-07-09 07:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0da12ccccba1dc867f26daae09165369b4e41e0c', 'message': 'Adds RHEL8 to tripleo-repos molecule scenario\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/#/c/669366/\n'}, {'number': 10, 'created': '2019-07-09 10:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c1db555a79e6f2a65d6bb0073f919272f855a71', 'message': 'Adds RHEL8 to tripleo-repos molecule scenario\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/#/c/669366/\n'}, {'number': 11, 'created': '2019-07-09 13:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/02cdcfe717871e061b2990413dbd16fe94a23e9b', 'message': 'Adds RHEL8 to tripleo-repos molecule scenario\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nDepends-On: https://review.opendev.org/669871\n'}, {'number': 12, 'created': '2019-07-09 13:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb4fcd1016c33e5a1e0093cf5aab05c63132c478', 'message': 'Adds RHEL8 to tripleo-repos molecule scenario\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\n'}, {'number': 13, 'created': '2019-07-11 14:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c36a6fe92c5fd2eb65dbfb5f147de43289e9655e', 'message': 'WIP: Adds RHEL8 to tripleo-repos molecule scenario\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\n'}, {'number': 14, 'created': '2019-07-11 17:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e2ca4a2a95c6fe7c370ca6f2040c5dd795d36896', 'message': 'Adds RHEL8 to tripleo-repos molecule scenario\n\nAdopts use of pytest-molecule.\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\n'}, {'number': 15, 'created': '2019-07-11 17:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/479c242eceb95c9a29a46354da86ef8260c03ed5', 'message': 'Enables platform override on molecule scenarios\n\n* Adopts use of pytest-molecule.\n* Enables us to run RHEL8 molecule jobs on RDO\n* Assures we use ansible version constraints from tqe repo\n* Allows us to use Depends-On with changes made on tripleo-repos repo\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\n'}, {'number': 16, 'created': '2019-07-11 17:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8294f22675e72b7c3b701a2f2e40ace145967451', 'message': 'Enables platform override on molecule scenarios\n\n* Adopts use of pytest-molecule.\n* Enables us to run RHEL8 molecule jobs on RDO\n* Assures we use ansible version constraints from tqe repo\n* Allows us to use Depends-On with changes made on tripleo-repos repo\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1165\n'}, {'number': 17, 'created': '2019-07-15 13:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e5b972ea162f9cb2ccc5e4f490e0a9da7a2098b7', 'message': 'Enables platform override on molecule scenarios\n\n* Adopts use of pytest-molecule.\n* Enables us to run RHEL8 molecule jobs on RDO\n* Assures we use ansible version constraints from tqe repo\n* Allows us to use Depends-On with changes made on tripleo-repos repo\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1165\n'}, {'number': 18, 'created': '2019-07-15 13:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5347ce0d731622315603ae4583c88e33639d037b', 'message': 'Enables platform override on molecule scenarios\n\n* Adopts use of pytest-molecule.\n* Enables us to run RHEL8 molecule jobs on RDO\n* Assures we use ansible version constraints from tqe repo\n* Allows us to use Depends-On with changes made on tripleo-repos repo\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1165\nDepends-On: https://review.rdoproject.org/r/#/c/21484/\n'}, {'number': 19, 'created': '2019-09-04 21:01:24.000000000', 'files': ['roles/tripleo-repos/defaults/main.yml', 'roles/tripleo-repos/tasks/main.yml', 'tests/test_molecule.py', 'roles/tripleo-repos/molecule/default/playbook.yml', 'roles/tripleo-repos/molecule/default/molecule.yml', 'roles/tripleo-repos/molecule/Dockerfile.j2', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a8d78f9d6e1bfda56e7c3e1fc6d70675fe5f72e', 'message': 'Enables platform override on molecule scenarios\n\n* Adopts use of pytest-molecule.\n* Enables us to run RHEL8 molecule jobs on RDO\n* Assures we use ansible version constraints from tqe repo\n* Allows us to use Depends-On with changes made on tripleo-repos repo\n\nChange-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1165\nDepends-On: https://review.rdoproject.org/r/#/c/21484/\n'}]",10,669343,3a8d78f9d6e1bfda56e7c3e1fc6d70675fe5f72e,51,7,19,24162,,,0,"Enables platform override on molecule scenarios

* Adopts use of pytest-molecule.
* Enables us to run RHEL8 molecule jobs on RDO
* Assures we use ansible version constraints from tqe repo
* Allows us to use Depends-On with changes made on tripleo-repos repo

Change-Id: I70906dcdfa436ca3f16ee6bb03bbc11a33f670d5
Story: https://tree.taiga.io/project/tripleo-ci-board/task/1165
Depends-On: https://review.rdoproject.org/r/#/c/21484/
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/43/669343/15 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/test_write_bash_script.py', 'scripts/emit_releases_file/test_release_name.py', 'tests/test_molecule.py', 'zuul.d/layout.yaml', 'roles/tripleo-repos/molecule/default/molecule.yml', 'scripts/emit_releases_file/test_get_dlrn_hash.py', 'roles/tripleo-repos/molecule/Dockerfile.j2', 'tox.ini', 'scripts/emit_releases_file/test_yaml_parsing.py']",9,907c84dcfc3131c20cd011798bfba823291935de,molecule,try: from unittest import mock except ImportError: import mock,import mock,75,98
openstack%2Ftripleo-ansible~master~Id1968dad039df79a79a37b8fa97a2420fb076619,openstack/tripleo-ansible,master,Id1968dad039df79a79a37b8fa97a2420fb076619,Bump pre-commit hooks,ABANDONED,2019-08-16 18:32:10.000000000,2020-01-22 11:01:27.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-08-16 18:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0f4fe5f5ecb687e21fc3cb86a80736e3eed4b7b', 'message': 'Bump pre-commit hooks\n\n* Fix pre-commit newlines\n* Fixed tox call of pre-commit which allowed non-conformant newlines\n* Avoided unecessary requirements installation for linters\n\nChange-Id: Id1968dad039df79a79a37b8fa97a2420fb076619\n'}, {'number': 2, 'created': '2019-08-23 11:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a05cde0a9fd9319887fb06cb399649319f39d0b1', 'message': 'Bump pre-commit hooks\n\n* Fix pre-commit newlines\n* Fixed tox call of pre-commit which allowed non-conformant newlines\n\nChange-Id: Id1968dad039df79a79a37b8fa97a2420fb076619\n'}, {'number': 3, 'created': '2019-08-24 12:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25956bbdd72e18ac8a79d676a535cf47bd3faa61', 'message': 'Bump pre-commit hooks\n\n* Fix pre-commit newlines\n* Fixed tox call of pre-commit which allowed non-conformant newlines\n\nChange-Id: Id1968dad039df79a79a37b8fa97a2420fb076619\n'}, {'number': 4, 'created': '2019-08-25 11:22:59.000000000', 'files': ['tripleo_ansible/roles/tripleo-image-serve/molecule/legacy_vars/Dockerfile', '.gitignore', '_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/molecule/default/Dockerfile.j2', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', '_skeleton_role_/meta/main.yml.j2', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg.j2', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', '.pre-commit-config.yaml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/Dockerfile', 'tripleo_ansible/roles/tuned/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/playbook.yml.j2', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'setup.cfg', 'LICENSE', 'tox.ini', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9161c4cf343b188c8683016feb84ad56753116e8', 'message': 'Bump pre-commit hooks\n\n* Fix pre-commit newlines\n* Fixed tox call of pre-commit which allowed non-conformant newlines\n\nChange-Id: Id1968dad039df79a79a37b8fa97a2420fb076619\n'}]",32,677012,9161c4cf343b188c8683016feb84ad56753116e8,18,5,4,24162,,,0,"Bump pre-commit hooks

* Fix pre-commit newlines
* Fixed tox call of pre-commit which allowed non-conformant newlines

Change-Id: Id1968dad039df79a79a37b8fa97a2420fb076619
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/677012/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-image-serve/molecule/legacy_vars/Dockerfile', '.gitignore', '_skeleton_role_/defaults/main.yml.j2', 'test-requirements.txt', '_skeleton_role_/molecule/default/Dockerfile.j2', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', '_skeleton_role_/meta/main.yml.j2', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg.j2', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', '.pre-commit-config.yaml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/Dockerfile', 'tripleo_ansible/roles/tuned/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/playbook.yml.j2', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'setup.cfg', 'LICENSE', 'tox.ini', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile']",19,e0f4fe5f5ecb687e21fc3cb86a80736e3eed4b7b,fix/pre-commit-bump,"CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""] ","CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""]",17,31
openstack%2Ftripleo-quickstart-extras~master~I511bf1396e9c765b6c8607c9b083d4570a06a90d,openstack/tripleo-quickstart-extras,master,I511bf1396e9c765b6c8607c9b083d4570a06a90d,ovb-manage: save generated idnum to yaml file,ABANDONED,2018-07-19 12:09:38.000000000,2020-01-22 11:00:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-19 12:09:38.000000000', 'files': ['roles/ovb-manage-stack/tasks/ovb-create-stack.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/94496ec7349451973e8438a204afb1e68e64ec6a', 'message': 'ovb-manage: save generated idnum to yaml file\n\nSince idnum is required to correctly call ovb-delete-stack, we need this string\nto identify this stack to later delete it.\nThis change adds a task to save the generated idnum to a yaml file, that can be\npassed as extra vars to other playbooks\n\nChange-Id: I511bf1396e9c765b6c8607c9b083d4570a06a90d\n'}]",1,583944,94496ec7349451973e8438a204afb1e68e64ec6a,6,2,1,10022,,,0,"ovb-manage: save generated idnum to yaml file

Since idnum is required to correctly call ovb-delete-stack, we need this string
to identify this stack to later delete it.
This change adds a task to save the generated idnum to a yaml file, that can be
passed as extra vars to other playbooks

Change-Id: I511bf1396e9c765b6c8607c9b083d4570a06a90d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/583944/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ovb-manage-stack/tasks/ovb-create-stack.yml'],1,94496ec7349451973e8438a204afb1e68e64ec6a,save-idnum,"- name: save idnum to file for future use copy: content: | idnum: ""{{ idnum }}"" dest: ""{{ local_working_dir }}/idnum.yaml"" ",,6,0
openstack%2Ftripleo-quickstart-extras~master~Ia07e544f118ba5f001bad56a777e8e9af06f68e1,openstack/tripleo-quickstart-extras,master,Ia07e544f118ba5f001bad56a777e8e9af06f68e1,Add neutron_tempest_plugin.scenario.test_trunk.TrunkTest to skip,ABANDONED,2019-09-30 13:38:57.000000000,2020-01-22 10:56:42.000000000,,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-30 13:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a636d19d9d5a584c4d0cc7ca7f86fb87e77188e4', 'message': 'Add neutron_tempest_plugin.scenario.test_trunk.TrunkTest to skip\n\nTemporary workaround for https://bugs.launchpad.net/tripleo/+bug/1753209\nwhich blocks promotion.\n\nChange-Id: Ia07e544f118ba5f001bad56a777e8e9af06f68e1\n'}, {'number': 2, 'created': '2019-09-30 13:41:02.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/24a65447f05c90d09ce665bf3d736bb5cfcdf43b', 'message': 'Add neutron_tempest_plugin.scenario.test_trunk.TrunkTest to skip\n\nTemporary workaround for https://bugs.launchpad.net/tripleo/+bug/1845956\nwhich blocks promotion.\n\nChange-Id: Ia07e544f118ba5f001bad56a777e8e9af06f68e1\n'}]",0,685710,24a65447f05c90d09ce665bf3d736bb5cfcdf43b,6,6,2,24162,,,0,"Add neutron_tempest_plugin.scenario.test_trunk.TrunkTest to skip

Temporary workaround for https://bugs.launchpad.net/tripleo/+bug/1845956
which blocks promotion.

Change-Id: Ia07e544f118ba5f001bad56a777e8e9af06f68e1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/10/685710/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_master.yml'],1,a636d19d9d5a584c4d0cc7ca7f86fb87e77188e4,skips, - test: 'neutron_tempest_plugin.scenario.test_trunk.TrunkTest' reason: 'Failed to establish authenticated ssh connection to cirros' lp: 'https://bugs.launchpad.net/tripleo/+bug/1845956',,3,0
openstack%2Ftripleo-quickstart~master~Icfea66f70b992174949d320506f61fb798c521de,openstack/tripleo-quickstart,master,Icfea66f70b992174949d320506f61fb798c521de,Improve fetch-images role logic,ABANDONED,2019-01-18 15:19:55.000000000,2020-01-22 10:53:18.000000000,,"[{'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-18 15:19:55.000000000', 'files': ['roles/fetch-images/tasks/fetch.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cce1ccbdded58563adfad7341a0a41e34c6d1125', 'message': 'Improve fetch-images role logic\n\nReplace bashism with recommended Ansible code for testing file\npresense.\n\nAvoids ugly console errors that are ignored with ingore_errors and\nprovides a much cleaner output in both console and ara.\n\nChange-Id: Icfea66f70b992174949d320506f61fb798c521de\n'}]",0,631807,cce1ccbdded58563adfad7341a0a41e34c6d1125,7,4,1,24162,,,0,"Improve fetch-images role logic

Replace bashism with recommended Ansible code for testing file
presense.

Avoids ugly console errors that are ignored with ingore_errors and
provides a much cleaner output in both console and ara.

Change-Id: Icfea66f70b992174949d320506f61fb798c521de
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/07/631807/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/fetch-images/tasks/fetch.yml'],1,cce1ccbdded58563adfad7341a0a41e34c6d1125,fix/fetch," stat: path: ""{{ _latest }}"" register: latest_stat when: latest_stat.exists and _force_cached_image stat: path: ""{{ image_cache_path }}"" register: base_image_stat - not _force_cached_image or not latest_stat.exists stat: path: ""{{ image_cache_path }}"" register: image_stat# Note.. image_stat.exists and base_image_stat.exists are required variables # because even unused variables will overwrite each other. - when: - image_exists is defined - not image_stat.exists or not base_image_stat.exists"," command: > test -f {{ _latest }} args: chdir: ""{{ image_cache_dir }}"" ignore_errors: true register: latest_exists changed_when: false when: latest_exists is success and _force_cached_image command: > test -f {{ image_cache_path }} args: chdir: ""{{ image_cache_dir }}"" ignore_errors: true register: base_image_exists changed_when: false - not _force_cached_image or latest_exists is failed command: > test -f {{ image_cache_path }} args: chdir: ""{{ image_cache_dir }}"" ignore_errors: true register: image_exists changed_when: false# Note.. image_exists and base_image_exists are required variables because # even unused variables will overwrite each other. - when: image_exists is defined and (image_exists is failed or base_image_exists is failed)",16,26
openstack%2Ftripleo-quickstart~master~I4cc420219dcd4cb15e1145d03c5f2f2e25035b43,openstack/tripleo-quickstart,master,I4cc420219dcd4cb15e1145d03c5f2f2e25035b43,Avoid ignore_error with image fetching,ABANDONED,2018-10-19 14:29:51.000000000,2020-01-22 10:53:03.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-10-19 14:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b1acba8e57a98b133f5a275a39c097510c21e3ef', 'message': 'Avoid ignore_error with image fetching\n\nHaving the latest image is something expected, not a real task\nfailure. So instead of using ignore_errors on a tasks that is\nlikely to return a rc !=0, we use failed_when false and later we\ncheck for the rc value instead of of the task failure status.\n\nThis improves the execution output in both console and ARA by\navoding to display task failures which are not real failures.\n\nExample:\n fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",\n""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],\n""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",\n""msg"": ""non-zero return code"", ""rc"": 1,\n""start"": ""2018-10-18 12:03:33.101862"",\n""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}\n2018-10-18 12:03:34.134009 | primary | ...ignoring\n\nChange-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43\n'}, {'number': 2, 'created': '2018-12-12 11:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8f1315b4133b1c3886d8c7a893fdea76629819ab', 'message': 'Avoid ignore_error with image fetching\n\nHaving the latest image is something expected, not a real task\nfailure. So instead of using ignore_errors on a tasks that is\nlikely to return a rc !=0, we use failed_when false and later we\ncheck for the rc value instead of of the task failure status.\n\nThis improves the execution output in both console and ARA by\navoding to display task failures which are not real failures.\n\nExample:\n fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",\n""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],\n""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",\n""msg"": ""non-zero return code"", ""rc"": 1,\n""start"": ""2018-10-18 12:03:33.101862"",\n""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}\n2018-10-18 12:03:34.134009 | primary | ...ignoring\n\nChange-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43\n'}, {'number': 3, 'created': '2019-02-08 16:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6e536461815d682e49055b7c2495cec9a5b88dd5', 'message': 'Avoid ignore_error with image fetching\n\nHaving the latest image is something expected, not a real task\nfailure. So instead of using ignore_errors on a tasks that is\nlikely to return a rc !=0, we use failed_when false and later we\ncheck for the rc value instead of of the task failure status.\n\nThis improves the execution output in both console and ARA by\navoding to display task failures which are not real failures.\n\nExample:\n fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",\n""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],\n""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",\n""msg"": ""non-zero return code"", ""rc"": 1,\n""start"": ""2018-10-18 12:03:33.101862"",\n""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}\n2018-10-18 12:03:34.134009 | primary | ...ignoring\n\nChange-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43\n'}, {'number': 4, 'created': '2019-03-07 13:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/966d96dacad6b7a8fd634b0eee809939b24137c1', 'message': 'Avoid ignore_error with image fetching\n\nHaving the latest image is something expected, not a real task\nfailure. So instead of using ignore_errors on a tasks that is\nlikely to return a rc !=0, we use failed_when false and later we\ncheck for the rc value instead of of the task failure status.\n\nThis improves the execution output in both console and ARA by\navoding to display task failures which are not real failures.\n\nExample:\n fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",\n""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],\n""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",\n""msg"": ""non-zero return code"", ""rc"": 1,\n""start"": ""2018-10-18 12:03:33.101862"",\n""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}\n2018-10-18 12:03:34.134009 | primary | ...ignoring\n\nChange-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43\n'}, {'number': 5, 'created': '2019-03-15 15:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/81c4df99f4e2ec1296de557c7b28e609721ea5d5', 'message': 'Avoid ignore_error with image fetching\n\nHaving the latest image is something expected, not a real task\nfailure. So instead of using ignore_errors on a tasks that is\nlikely to return a rc !=0, we use failed_when false and later we\ncheck for the rc value instead of of the task failure status.\n\nThis improves the execution output in both console and ARA by\navoding to display task failures which are not real failures.\n\nExample:\n fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",\n""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],\n""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",\n""msg"": ""non-zero return code"", ""rc"": 1,\n""start"": ""2018-10-18 12:03:33.101862"",\n""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}\n2018-10-18 12:03:34.134009 | primary | ...ignoring\n\nChange-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43\n'}, {'number': 6, 'created': '2019-03-15 16:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e86f94df1228071af375479edbf82447b8d81c4e', 'message': 'Avoid ignore_error with image fetching\n\nHaving the latest image is something expected, not a real task\nfailure. So instead of using ignore_errors on a tasks that is\nlikely to return a rc !=0, we use failed_when false and later we\ncheck for the rc value instead of of the task failure status.\n\nThis improves the execution output in both console and ARA by\navoding to display task failures which are not real failures.\n\nExample:\n fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",\n""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],\n""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",\n""msg"": ""non-zero return code"", ""rc"": 1,\n""start"": ""2018-10-18 12:03:33.101862"",\n""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}\n2018-10-18 12:03:34.134009 | primary | ...ignoring\n\nChange-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43\n'}, {'number': 7, 'created': '2019-03-15 16:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5b75bfc450620092f2b8c2f76f7fd4ad9333364b', 'message': 'Avoid ignore_error with image fetching\n\nHaving the latest image is something expected, not a real task\nfailure. So instead of using ignore_errors on a tasks that is\nlikely to return a rc !=0, we use failed_when false and later we\ncheck for the rc value instead of of the task failure status.\n\nThis improves the execution output in both console and ARA by\navoding to display task failures which are not real failures.\n\nExample:\n fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",\n""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],\n""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",\n""msg"": ""non-zero return code"", ""rc"": 1,\n""start"": ""2018-10-18 12:03:33.101862"",\n""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}\n2018-10-18 12:03:34.134009 | primary | ...ignoring\n\nChange-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43\n'}, {'number': 8, 'created': '2019-03-15 16:01:15.000000000', 'files': ['roles/fetch-images/tasks/fetch.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d92560efaaebc53926ff6f5f00340f662bbd2ed0', 'message': 'Avoid ignore_error with image fetching\n\nHaving the latest image is something expected, not a real task\nfailure. So instead of using ignore_errors on a tasks that is\nlikely to return a rc !=0, we use failed_when false and later we\ncheck for the rc value instead of of the task failure status.\n\nThis improves the execution output in both console and ARA by\navoding to display task failures which are not real failures.\n\nExample:\n fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",\n""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],\n""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",\n""msg"": ""non-zero return code"", ""rc"": 1,\n""start"": ""2018-10-18 12:03:33.101862"",\n""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}\n2018-10-18 12:03:34.134009 | primary | ...ignoring\n\nChange-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43\n'}]",24,611887,d92560efaaebc53926ff6f5f00340f662bbd2ed0,46,11,8,24162,,,0,"Avoid ignore_error with image fetching

Having the latest image is something expected, not a real task
failure. So instead of using ignore_errors on a tasks that is
likely to return a rc !=0, we use failed_when false and later we
check for the rc value instead of of the task failure status.

This improves the execution output in both console and ARA by
avoding to display task failures which are not real failures.

Example:
 fatal: [undercloud]: FAILED! => {""changed"": false, ""cmd"": [""test"",
""-f"", ""/home/zuul/images-cache/latest-ipa_images.tar""],
""delta"": ""0:00:01.005516"", ""end"": ""2018-10-18 12:03:34.107378"",
""msg"": ""non-zero return code"", ""rc"": 1,
""start"": ""2018-10-18 12:03:33.101862"",
""stderr"": """", ""stderr_lines"": [], ""stdout"": """", ""stdout_lines"": []}
2018-10-18 12:03:34.134009 | primary | ...ignoring

Change-Id: I4cc420219dcd4cb15e1145d03c5f2f2e25035b43
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/87/611887/7 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-inventory/tasks/main.yml', 'roles/fetch-images/tasks/fetch.yml']",2,b1acba8e57a98b133f5a275a39c097510c21e3ef,oooq/unwarn, failed_when: true- when: image_exists is defined and (image_exists.rc != 0 or base_image_exists is failed) image_exists.rc != 0 and, ignore_errors: true- when: image_exists is defined and (image_exists is failed or base_image_exists is failed) image_exists is failed and,3,4
openstack%2Ftripleo-quickstart-extras~master~I9de604687ab11599bee6bee09d891fc7c25eca3e,openstack/tripleo-quickstart-extras,master,I9de604687ab11599bee6bee09d891fc7c25eca3e,Display output of package install in case of failure,ABANDONED,2018-08-23 10:32:49.000000000,2020-01-22 10:52:47.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-08-23 10:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fe6aade08e5b7b1cd3a4efb6445a2bcacd510ab9', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files in case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 2, 'created': '2018-08-23 11:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d93792a60eb09cadf203386d71700e2c4cdddac8', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files in case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 3, 'created': '2018-08-23 12:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e9642ecf5730520d4c06f8d766f989a942452b9b', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files in case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 4, 'created': '2018-09-06 10:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ecd67b261e51f4edae90a01e94629bef2fe1cf71', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files\nin case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 5, 'created': '2018-09-17 14:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/05aa4d24501f8d4a2b370891001422136588e3e1', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files\nin case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 6, 'created': '2018-09-20 13:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/102e90aac86931a430f1dcebecb501eceea4b05f', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files\nin case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 7, 'created': '2018-10-19 14:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6787c7c23982aef296d9a2f984237ba641edddca', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files\nin case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 8, 'created': '2019-01-02 16:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7c31f44bf79184f6be47e81eef740f787921dfce', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files\nin case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 9, 'created': '2019-01-04 12:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/98a78d11922b73189e72fd6cccf42e4b59099587', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files\nin case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}, {'number': 10, 'created': '2019-01-18 13:09:13.000000000', 'files': ['roles/undercloud-setup/tasks/package_installs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e0a60f928ea98469ec67362b01dbe6b7ff781f5', 'message': 'Display output of package install in case of failure\n\nImproves UX by avoiding the need to dig in external log files\nin case of failure.\n\nChange-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e\nPartial-Bug: #1787912\n'}]",2,595576,3e0a60f928ea98469ec67362b01dbe6b7ff781f5,59,12,10,24162,,,0,"Display output of package install in case of failure

Improves UX by avoiding the need to dig in external log files
in case of failure.

Change-Id: I9de604687ab11599bee6bee09d891fc7c25eca3e
Partial-Bug: #1787912
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/76/595576/10 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-setup/tasks/package_installs.yml'],1,fe6aade08e5b7b1cd3a4efb6445a2bcacd510ab9,oooq/a11y, {{ working_dir }}/install_packages.sh 2>&1 tee >({{ timestamper_cmd }} > {{ working_dir }}/install_packages.sh.log) register: result no_log: result.rc == 0, {{ working_dir }}/install_packages.sh 2>&1 {{ timestamper_cmd }} > {{ working_dir }}/install_packages.sh.log ,4,2
openstack%2Fnova~master~I84c58de90dad6d86271767363aef90ddac0f1730,openstack/nova,master,I84c58de90dad6d86271767363aef90ddac0f1730,functional: Add '_create_server' helper,MERGED,2019-12-05 17:57:20.000000000,2020-01-22 10:44:21.000000000,2020-01-21 19:37:41.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-05 17:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb2ef92c546b3ee4c5e7097d96b3a1b83f41bf82', 'message': ""functional: Add '_create_server' helper\n\nThis is a *very* common pattern. Centralize it. No users yet, but we'll\nadd those later.\n\nChange-Id: I84c58de90dad6d86271767363aef90ddac0f1730\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-12-06 16:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a4d6c0b70c52b92533e0107efd67541d1f396e2', 'message': ""functional: Add '_create_server' helper\n\nThis is a *very* common pattern. Centralize it. No users yet, but we'll\nadd those later.\n\nChange-Id: I84c58de90dad6d86271767363aef90ddac0f1730\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-12-10 11:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cebb0d3ccb39c82f3c5c4f5f1854ba8a0fd0f03', 'message': ""functional: Add '_create_server' helper\n\nThis is a *very* common pattern. Centralize it. Only a few users are\nadded for now, but we can migrate more later (it's rather tedious work).\n\nChange-Id: I84c58de90dad6d86271767363aef90ddac0f1730\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-12-12 09:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cec194c3182a596b4b8916d78cd806d926fc9277', 'message': ""WIP: functional: Add '_create_server' helper\n\nThis is a *very* common pattern. Centralize it. Only a few users are\nadded for now, but we can migrate more later (it's rather tedious work).\n\nChange-Id: I84c58de90dad6d86271767363aef90ddac0f1730\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-01-15 10:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25a2fa4427cfa3bf97ea95bce2cbde20dd25711c', 'message': ""WIP: functional: Add '_create_server' helper\n\nThis is a *very* common pattern. Centralize it. Only a few users are\nadded for now, but we can migrate more later (it's rather tedious work).\n\nChange-Id: I84c58de90dad6d86271767363aef90ddac0f1730\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-01-20 14:33:18.000000000', 'files': ['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/functional/libvirt/test_shared_resource_provider.py', 'nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_vpmem.py', 'nova/tests/functional/test_scheduler.py', 'nova/tests/functional/libvirt/test_rt_servers.py', 'nova/tests/functional/wsgi/test_interfaces.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/regressions/test_bug_1825034.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/functional/regressions/test_bug_1848343.py', 'nova/tests/functional/test_instance_actions.py', 'nova/tests/functional/test_cross_az_attach.py', 'nova/tests/functional/test_policy.py', 'nova/tests/functional/regressions/test_bug_1815153.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b36d8c054571542e6a00f11f9db2b69e2b0017f', 'message': ""functional: Add '_create_server' helper\n\nThis is a *very* common pattern. Centralize it. Only a few users are\nadded for now, but we can migrate more later (it's rather tedious work).\n\nChange-Id: I84c58de90dad6d86271767363aef90ddac0f1730\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",9,697540,5b36d8c054571542e6a00f11f9db2b69e2b0017f,45,10,6,15334,,,0,"functional: Add '_create_server' helper

This is a *very* common pattern. Centralize it. Only a few users are
added for now, but we can migrate more later (it's rather tedious work).

Change-Id: I84c58de90dad6d86271767363aef90ddac0f1730
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/697540/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,bb2ef92c546b3ee4c5e7097d96b3a1b83f41bf82,functional-test-cleanup," def _create_server(self, name=None, image_uuid=None, flavor_id=None, networks=None, az=None, host=None, expected_state='ACTIVE'): """"""Build and submit a request to the server create API. :param name: A name for the server. :param image_uuid: The ID of an existing image. :param flavor_id: The ID of an existing flavor. :param networks: A dict of networks to attach or a string of 'none' or 'auto'. :param az: The name of the availability zone the instance should request. :param host: The host to boot the instance on. Requires API microversion 2.74 or greater. :param expected_state: The expected end state. :returns: The response from the API containing the created server. """""" body = self._build_server( name, image_uuid, flavor_id, networks, az, host) server = self.api.post_server({'server': body}) return self._wait_for_state_change(self.api, server, expected_state) ",,24,0
openstack%2Fopenstacksdk~master~I8bb477d397c3af6c594e7554dffb9df3ebf301c2,openstack/openstacksdk,master,I8bb477d397c3af6c594e7554dffb9df3ebf301c2,Run ansible collection job in check,ABANDONED,2020-01-21 09:35:02.000000000,2020-01-22 10:39:01.000000000,,"[{'_account_id': 2}, {'_account_id': 6816}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-01-21 09:35:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/41d2bd21d85c6205fd8dfce62225c515d3ca2afb', 'message': 'Run ansible collection job in check\n\nDepends-On: https://review.opendev.org/#/c/703383/\nChange-Id: I8bb477d397c3af6c594e7554dffb9df3ebf301c2\n'}]",0,703565,41d2bd21d85c6205fd8dfce62225c515d3ca2afb,10,6,1,10969,,,0,"Run ansible collection job in check

Depends-On: https://review.opendev.org/#/c/703383/
Change-Id: I8bb477d397c3af6c594e7554dffb9df3ebf301c2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/65/703565/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41d2bd21d85c6205fd8dfce62225c515d3ca2afb,newjobadd, - ansible-collections-openstack-functional-devstack: voting: false,,2,0
openstack%2Fironic-python-agent~stable%2Ftrain~I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e,openstack/ironic-python-agent,stable/train,I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e,Set rd.md.uuid kernel parameter when deploying on software raid,MERGED,2020-01-21 11:00:23.000000000,2020-01-22 10:23:38.000000000,2020-01-22 10:21:21.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 30927}]","[{'number': 1, 'created': '2020-01-21 11:00:23.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/72b85c539d2dad3ec86ce88c246f272b58bde797', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently\nrequired that the deployed image assembles the md arrays automatically\nso that the rootfs can be mounted. In order to remove this\nrequirement/limitation on the deployed image we can add rd.md.uuid to\nthe kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n(cherry picked from commit 19754780971f2316021ac0d8459d31fa77d239eb)\n""}]",0,703584,72b85c539d2dad3ec86ce88c246f272b58bde797,12,6,1,15519,,,0,"Set rd.md.uuid kernel parameter when deploying on software raid

When deploying an image to a software raid array, it is currently
required that the deployed image assembles the md arrays automatically
so that the rootfs can be mounted. In order to remove this
requirement/limitation on the deployed image we can add rd.md.uuid to
the kernel command line with the raid array's uuid.

Story: 2006648
Task: 36884
Change-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e
(cherry picked from commit 19754780971f2316021ac0d8459d31fa77d239eb)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/84/703584/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",3,72b85c539d2dad3ec86ce88c246f272b58bde797,story-2006648-rd.md.uuid-stable/train,"import redef _has_dracut(root): try: utils.execute('chroot %(path)s /bin/sh -c ' '""which dracut""' % {'path': root}, shell=True) except processutils.ProcessExecutionError: return False return True # If the image has dracut installed, set the rd.md.uuid kernel # parameter for discovered md devices. if hardware.is_md_device(device) and _has_dracut(path): rd_md_uuids = [""rd.md.uuid=%s"" % x['UUID'] for x in hardware.md_get_raid_devices().values()] LOG.debug(""Setting rd.md.uuid kernel parameters: %s"", rd_md_uuids) with open('%s/etc/default/grub' % path, 'r') as g: contents = g.read() with open('%s/etc/default/grub' % path, 'w') as g: g.write( re.sub(r'GRUB_CMDLINE_LINUX=""(.*)""', r'GRUB_CMDLINE_LINUX=""\1 %s""' % "" "".join(rd_md_uuids), contents)) ",,74,15
openstack%2Fmetalsmith~master~Ib25d61d7e7238b7bceebad022becad71f3c42074,openstack/metalsmith,master,Ib25d61d7e7238b7bceebad022becad71f3c42074,CI: stop running peakmem_tracker,MERGED,2020-01-22 06:59:00.000000000,2020-01-22 10:15:37.000000000,2020-01-22 10:12:31.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-22 06:59:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/ca7cf52dd30fd359b647ab931245f794b7b81ef5', 'message': 'CI: stop running peakmem_tracker\n\nApparently broken in https://review.opendev.org/#/c/561597/\n\nChange-Id: Ib25d61d7e7238b7bceebad022becad71f3c42074\n'}]",0,703738,ca7cf52dd30fd359b647ab931245f794b7b81ef5,8,3,1,10239,,,0,"CI: stop running peakmem_tracker

Apparently broken in https://review.opendev.org/#/c/561597/

Change-Id: Ib25d61d7e7238b7bceebad022becad71f3c42074
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/38/703738/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ca7cf52dd30fd359b647ab931245f794b7b81ef5,,, peakmem_tracker: true,0,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ib119210139886382726bc0ccddfdb4f7f6803015,openstack/tripleo-upgrade,stable/queens,Ib119210139886382726bc0ccddfdb4f7f6803015,Update: Run all roles update at once,MERGED,2019-11-27 11:18:13.000000000,2020-01-22 10:09:50.000000000,2019-12-19 07:47:57.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 11:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/361941a515bc7d3e6daad0b71520fbfcedfafdbb', 'message': 'DNM\n\nChange-Id: Ib119210139886382726bc0ccddfdb4f7f6803015\n'}, {'number': 2, 'created': '2019-11-27 13:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/20ced0003b3623d28dc1ea3f9e66ac5cc4ee1b64', 'message': 'DNM\n\nChange-Id: Ib119210139886382726bc0ccddfdb4f7f6803015\n'}, {'number': 3, 'created': '2019-11-27 17:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b0432ce045533336fc1746b6da9e947b03264cd8', 'message': 'DNM\n\nChange-Id: Ib119210139886382726bc0ccddfdb4f7f6803015\n'}, {'number': 5, 'created': '2019-12-05 16:52:50.000000000', 'files': ['tasks/update/overcloud_update_run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6b135a323822e0970c5a3f79d79065f5ef61c00c', 'message': 'Update: Run all roles update at once\n\nPreviously we ran role by role which is not necessary and not\nintended way of production update. In case of proper testing on\npreprod customers should run update as fast as possible which\nmeans leveraging ability to run all roles at once and even all\nnodes of selected roles at once. With this patch the Pacemaker\nenabled roles will still update in serial but the roles will be\ndone in parallel. In case of 3 controller 3 database 3 messaging\nsetup it will look roughly like this:\n\nUpdate of controller[0] database[0] messaging[0]\nUpdate of controller[0] database[1] messaging[1]\nUpdate of controller[1] database[2] messaging[2]\nUpdate of controller[2]\n\nThis is due to not blocking between roles and each role taking\ndifferent amount of time to apply the update. At any moment the\npacemaker quorum is not broken.\n\nChange-Id: Ib119210139886382726bc0ccddfdb4f7f6803015\n(cherry picked from commit a2b433133de755c410d235172c0644173d17ae80)\n'}]",0,696283,6b135a323822e0970c5a3f79d79065f5ef61c00c,18,2,4,11166,,,0,"Update: Run all roles update at once

Previously we ran role by role which is not necessary and not
intended way of production update. In case of proper testing on
preprod customers should run update as fast as possible which
means leveraging ability to run all roles at once and even all
nodes of selected roles at once. With this patch the Pacemaker
enabled roles will still update in serial but the roles will be
done in parallel. In case of 3 controller 3 database 3 messaging
setup it will look roughly like this:

Update of controller[0] database[0] messaging[0]
Update of controller[0] database[1] messaging[1]
Update of controller[1] database[2] messaging[2]
Update of controller[2]

This is due to not blocking between roles and each role taking
different amount of time to apply the update. At any moment the
pacemaker quorum is not broken.

Change-Id: Ib119210139886382726bc0ccddfdb4f7f6803015
(cherry picked from commit a2b433133de755c410d235172c0644173d17ae80)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/83/696283/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/overcloud_update_run.yml'],1,361941a515bc7d3e6daad0b71520fbfcedfafdbb,perf," async: 25200 poll: 0- name: was the overcloud minor update successful? async_status: jid: ""{{ async_result_item.ansible_job_id }}"" loop_control: loop_var: ""async_result_item"" register: async_poll_results until: async_poll_results.finished retries: 300 #- name: was the overcloud minor update successful. #fail: msg=""Overcloud minor update execution step failed..."" #loop: ""{{ overcloud_update_nodes.results }}"" #when: item.rc != 0","- name: was the overcloud minor update successful. fail: msg=""Overcloud minor update execution step failed..."" when: item.rc != 0",15,3
openstack%2Fopenstack-zuul-jobs~master~I68bcc778760cdc8ffa8d5d8de141b90511ef5c84,openstack/openstack-zuul-jobs,master,I68bcc778760cdc8ffa8d5d8de141b90511ef5c84,"Increase openstack-tox-py3{6,7} timeout to 3600 seconds",ABANDONED,2020-01-20 13:11:55.000000000,2020-01-22 10:06:10.000000000,,"[{'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 13:11:55.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d479b3fc7815525d55c75414deab797b40869a5e', 'message': 'Increase openstack-tox-py3{6,7} timeout to 3600 seconds\n\nAs seen in the reported bug, in heavy loaded CI systems, the Neutron\nopenstack-tox-py3{6,7} jobs tend to timeout.\n\nChange-Id: I68bcc778760cdc8ffa8d5d8de141b90511ef5c84\nCloses-Bug: #1860332\n'}]",2,703386,d479b3fc7815525d55c75414deab797b40869a5e,10,6,1,16688,,,0,"Increase openstack-tox-py3{6,7} timeout to 3600 seconds

As seen in the reported bug, in heavy loaded CI systems, the Neutron
openstack-tox-py3{6,7} jobs tend to timeout.

Change-Id: I68bcc778760cdc8ffa8d5d8de141b90511ef5c84
Closes-Bug: #1860332
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/86/703386/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,d479b3fc7815525d55c75414deab797b40869a5e,bug/1860332, timeout: 3600 timeout: 3600, timeout: 2400 timeout: 2400,2,2
openstack%2Fproject-config~master~Ib2a8037c93157b5d2ec7e60809451d4e8009ef08,openstack/project-config,master,Ib2a8037c93157b5d2ec7e60809451d4e8009ef08,Update list for #openstack-merges,ABANDONED,2020-01-20 15:08:22.000000000,2020-01-22 10:03:52.000000000,,"[{'_account_id': 6547}, {'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 15:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/28440992e672997a2882ba99da8461c561bd6e36', 'message': 'Update list for #openstack-merges\n\nUpdate the list with new repos, include the other ""official"" repos.\nNote that programs.yaml does not exist anymore.\n\nAlso, this does not include the opendev namespace anymore, I could\nchange the regex but since opendev is moving out of openstack, it is\nfine IMHO already.\n\nChange-Id: Ib2a8037c93157b5d2ec7e60809451d4e8009ef08\n'}, {'number': 2, 'created': '2020-01-20 15:35:39.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/067fedc5cc23a2303d1474a9a6c1c850438edc03', 'message': 'Update list for #openstack-merges\n\nUpdate the list with new repos, include the other ""official"" repos.\nNote that programs.yaml does not exist anymore.\n\nAlso, this does not include the opendev namespace anymore, I could\nchange the regex but since opendev is moving out of openstack, it is\nfine IMHO already.\n\nChange-Id: Ib2a8037c93157b5d2ec7e60809451d4e8009ef08\n'}]",0,703416,067fedc5cc23a2303d1474a9a6c1c850438edc03,8,3,2,6547,,,0,"Update list for #openstack-merges

Update the list with new repos, include the other ""official"" repos.
Note that programs.yaml does not exist anymore.

Also, this does not include the opendev namespace anymore, I could
change the regex but since opendev is moving out of openstack, it is
fine IMHO already.

Change-Id: Ib2a8037c93157b5d2ec7e60809451d4e8009ef08
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/703416/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,28440992e672997a2882ba99da8461c561bd6e36,merges, # grep -- '- openstack' openstack/governance/reference/projects.yaml \ # |grep -v '(url|irc-channel)' > merge-list # grep -- 'repo: ' openstack/governance/reference/*repos.yaml \ # |sed -e 's|^.*repo:| -|' >> merge-list # sort merge-list - openstack/adjutant - openstack/adjutant-ui - openstack/ansible-collections-openstack - openstack/ansible-config_template - openstack/ansible-hardening - openstack/ansible-plugin-container-connection - openstack/ansible-role-atos-hsm - openstack/ansible-role-chrony - openstack/ansible-role-collect-logs - openstack/ansible-role-container-registry - openstack/ansible-role-openstack-operations - openstack/ansible-role-python_venv_build - openstack/ansible-role-qdrouterd - openstack/ansible-role-redhat-subscription - openstack/ansible-role-systemd_mount - openstack/ansible-role-systemd_networkd - openstack/ansible-role-systemd_service - openstack/ansible-role-thales-hsm - openstack/ansible-role-tripleo-modify-image - openstack/ansible-role-uwsgi - openstack/aodh - openstack/api-sig - openstack/arch-design - openstack/automaton - openstack/auto-scaling-sig - openstack/barbican - openstack/barbican-specs - openstack/barbican-tempest-plugin - openstack/barbican-ui - openstack/bashate - openstack/bifrost - openstack/blazar - openstack/blazar-dashboard - openstack/blazar-nova - openstack/blazar-specs - openstack/blazar-tempest-plugin - openstack/bugdaystats - openstack/castellan - openstack/ceilometer-powervm - openstack/charm-aodh - openstack/charm-barbican - openstack/charm-barbican-softhsm - openstack/charm-barbican-vault - openstack/charm-ceilometer - openstack/charm-ceilometer-agent - openstack/charm-ceph-fs - openstack/charm-ceph-mon - openstack/charm-ceph-osd - openstack/charm-ceph-proxy - openstack/charm-ceph-radosgw - openstack/charm-ceph-rbd-mirror - openstack/charm-cinder - openstack/charm-cinder-backup - openstack/charm-cinder-backup-swift-proxy - openstack/charm-cinder-ceph - openstack/charm-cinder-purestorage - openstack/charm-cloudkitty - openstack/charm-deployment-guide - openstack/charm-designate - openstack/charm-designate-bind - openstack/charm-glance - openstack/charm-glance-simplestreams-sync - openstack/charm-glusterfs - openstack/charm-gnocchi - openstack/charm-guide - openstack/charm-hacluster - openstack/charm-heat - openstack/charm-interface-barbican-secrets - openstack/charm-interface-bgp - openstack/charm-interface-bind-rndc - openstack/charm-interface-ceph-client - openstack/charm-interface-ceph-mds - openstack/charm-interface-ceph-rbd-mirror - openstack/charm-interface-cinder-backend - openstack/charm-interface-cinder-backup - openstack/charm-interface-dashboard-plugin - openstack/charm-interface-designate - openstack/charm-interface-gnocchi - openstack/charm-interface-hacluster - openstack/charm-interface-keystone - openstack/charm-interface-keystone-admin - openstack/charm-interface-keystone-credentials - openstack/charm-interface-keystone-domain-backend - openstack/charm-interface-keystone-fid-service-provider - openstack/charm-interface-manila-plugin - openstack/charm-interface-mysql-innodb-cluster - openstack/charm-interface-mysql-router - openstack/charm-interface-mysql-shared - openstack/charm-interface-neutron-load-balancer - openstack/charm-interface-neutron-plugin - openstack/charm-interface-neutron-plugin-api-subordinate - openstack/charm-interface-nova-cell - openstack/charm-interface-nova-compute - openstack/charm-interface-odl-controller-api - openstack/charm-interface-openstack-ha - openstack/charm-interface-ovsdb-manager - openstack/charm-interface-pacemaker-remote - openstack/charm-interface-placement - openstack/charm-interface-rabbitmq - openstack/charm-interface-service-control - openstack/charm-interface-websso-fid-service-provider - openstack/charm-ironic - openstack/charm-keystone - openstack/charm-keystone-ldap - openstack/charm-keystone-saml-mellon - openstack/charm-layer-ceph - openstack/charm-layer-ceph-base - openstack/charm-layer-openstack - openstack/charm-layer-openstack-api - openstack/charm-layer-openstack-principle - openstack/charm-manila - openstack/charm-manila-ganesha - openstack/charm-manila-generic - openstack/charm-manila-glusterfs - openstack/charm-masakari - openstack/charm-masakari-monitors - openstack/charm-mistral - openstack/charm-murano - openstack/charm-mysql-innodb-cluster - openstack/charm-mysql-router - openstack/charm-neutron-api - openstack/charm-neutron-api-odl - openstack/charm-neutron-api-plugin-ovn - openstack/charm-neutron-dynamic-routing - openstack/charm-neutron-gateway - openstack/charm-neutron-openvswitch - openstack/charm-nova-cell-controller - openstack/charm-nova-cloud-controller - openstack/charm-nova-compute - openstack/charm-nova-compute-proxy - openstack/charm-nova-lxd - openstack/charm-octavia - openstack/charm-octavia-dashboard - openstack/charm-octavia-diskimage-retrofit - openstack/charm-odl-controller - openstack/charm-openstack-dashboard - openstack/charm-openvswitch-odl - openstack/charm-pacemaker-remote - openstack/charm-panko - openstack/charm-percona-cluster - openstack/charm-placement - openstack/charm-rabbitmq-server - openstack/charms.ceph - openstack/charms.openstack - openstack/charm-specs - openstack/charm-swift-proxy - openstack/charm-swift-storage - openstack/charm-tempest - openstack/charm-trove - openstack/charm-vault - openstack/cinderlib - openstack/cinder-specs - openstack/cinder-tempest-plugin - openstack/cliff - openstack/cloudkitty - openstack/cloudkitty-dashboard - openstack/cloudkitty-specs - openstack/cloudkitty-tempest-plugin - openstack/compute-hyperv - openstack/congress - openstack/congress-dashboard - openstack/congress-specs - openstack/congress-tempest-plugin - openstack/constellations - openstack/contributor-guide - openstack/cookbook-openstack-application-catalog - openstack/cookbook-openstack-bare-metal - openstack/cookbook-openstack-block-storage - openstack/cookbook-openstackclient - openstack/cookbook-openstack-client - openstack/cookbook-openstack-common - openstack/cookbook-openstack-compute - openstack/cookbook-openstack-dashboard - openstack/cookbook-openstack-dns - openstack/cookbook-openstack-identity - openstack/cookbook-openstack-image - openstack/cookbook-openstack-integration-test - openstack/cookbook-openstack-network - openstack/cookbook-openstack-ops-database - openstack/cookbook-openstack-ops-messaging - openstack/cookbook-openstack-orchestration - openstack/cookbook-openstack-telemetry - openstack/coverage2sql - openstack/cyborg - openstack/cyborg-specs - openstack/cyborg-tempest-plugin - openstack/debtcollector - openstack/designate - openstack/designate-dashboard - openstack/designate-specs - openstack/designate-tempest-plugin - openstack/devstack-plugin-amqp1 - openstack/devstack-plugin-ceph - openstack/devstack-plugin-container - openstack/devstack-plugin-kafka - openstack/devstack-plugin-pika - openstack/devstack-plugin-zmq - openstack/devstack-tools - openstack/devstack-vagrant - openstack/dib-utils - openstack/ec2-api - openstack/ec2api-tempest-plugin - openstack/enterprise-wg - openstack/freezer - openstack/freezer-api - openstack/freezer-dr - openstack/freezer-specs - openstack/freezer-tempest-plugin - openstack/freezer-web-ui - openstack/futurist - openstack/glance-specs - openstack/glance_store - openstack/goal-tools - openstack/governance-sigs - openstack/governance-uc - openstack/governance-website - openstack/ha-guide - openstack/heat-dashboard - openstack/heat-specs - openstack/heat-tempest-plugin - openstack/heat-translator - openstack/i18n - openstack/i18n-specs - openstack/ideas - openstack/infra-manual - openstack/instack-undercloud - openstack/interop - openstack/ironic-inspector - openstack/ironic-inspector-specs - openstack/ironic-lib - openstack/ironic-prometheus-exporter - openstack/ironic-python-agent - openstack/ironic-python-agent-builder - openstack/ironic-specs - openstack/ironic-tempest-plugin - openstack/ironic-ui - openstack/js-openstack-lib - openstack/karbor - openstack/karbor-dashboard - openstack/karma-subunit-reporter - openstack/kayobe - openstack/kayobe-config - openstack/kayobe-config-dev - openstack/keystone-specs - openstack/keystone-tempest-plugin - openstack/kolla - openstack/kolla-ansible - openstack/kolla-cli - openstack/kuryr - openstack/kuryr-kubernetes - openstack/kuryr-libnetwork - openstack/kuryr-tempest-plugin - openstack/ldappool - openstack/liberasurecode - openstack/loci - openstack/logstash-filters - openstack/magnum - openstack/magnum-specs - openstack/magnum-tempest-plugin - openstack/magnum-ui - openstack/manila - openstack/manila-image-elements - openstack/manila-specs - openstack/manila-tempest-plugin - openstack/manila-test-image - openstack/manila-ui - openstack/masakari - openstack/masakari-dashboard - openstack/masakari-monitors - openstack/masakari-specs - openstack/metalsmith - openstack/microversion-parse - openstack/mistral - openstack/mistral-dashboard - openstack/mistral-extra - openstack/mistral-lib - openstack/mistral-specs - openstack/mistral-tempest-plugin - openstack/molteniron - openstack/monasca-agent - openstack/monasca-analytics - openstack/monasca-api - openstack/monasca-ceilometer - openstack/monasca-common - openstack/monasca-events-api - openstack/monasca-grafana-datasource - openstack/monasca-kibana-plugin - openstack/monasca-log-api - openstack/monasca-notification - openstack/monasca-persister - openstack/monasca-specs - openstack/monasca-statsd - openstack/monasca-tempest-plugin - openstack/monasca-thresh - openstack/monasca-transform - openstack/monasca-ui - openstack/mox3 - openstack/murano - openstack/murano-agent - openstack/murano-apps - openstack/murano-dashboard - openstack/murano-pkg-check - openstack/murano-specs - openstack/murano-tempest-plugin - openstack/networking-bagpipe - openstack/networking-baremetal - openstack/networking-bgpvpn - openstack/networking-generic-switch - openstack/networking-hyperv - openstack/networking-midonet - openstack/networking-odl - openstack/networking-ovn - openstack/networking-powervm - openstack/networking-sfc - openstack/neutron-dynamic-routing - openstack/neutron-fwaas - openstack/neutron-fwaas-dashboard - openstack/neutron-lbaas - openstack/neutron-lbaas-dashboard - openstack/neutron-lib - openstack/neutron-specs - openstack/neutron-tempest-plugin - openstack/neutron-vpnaas - openstack/neutron-vpnaas-dashboard - openstack/nova-powervm - openstack/nova-specs - openstack/octavia - openstack/octavia-dashboard - openstack/octavia-lib - openstack/octavia-tempest-plugin - openstack/openstack - openstack/openstack-ansible - openstack/openstack-ansible-apt_package_pinning - openstack/openstack-ansible-ceph_client - openstack/openstack-ansible-galera_client - openstack/openstack-ansible-galera_server - openstack/openstack-ansible-haproxy_server - openstack/openstack-ansible-lxc_container_create - openstack/openstack-ansible-lxc_hosts - openstack/openstack-ansible-memcached_server - openstack/openstack-ansible-nspawn_container_create - openstack/openstack-ansible-nspawn_hosts - openstack/openstack-ansible-openstack_hosts - openstack/openstack-ansible-openstack_openrc - openstack/openstack-ansible-ops - openstack/openstack-ansible-os_aodh - openstack/openstack-ansible-os_barbican - openstack/openstack-ansible-os_blazar - openstack/openstack-ansible-os_ceilometer - openstack/openstack-ansible-os_cinder - openstack/openstack-ansible-os_cloudkitty - openstack/openstack-ansible-os_congress - openstack/openstack-ansible-os_designate - openstack/openstack-ansible-os_freezer - openstack/openstack-ansible-os_glance - openstack/openstack-ansible-os_gnocchi - openstack/openstack-ansible-os_heat - openstack/openstack-ansible-os_horizon - openstack/openstack-ansible-os_ironic - openstack/openstack-ansible-os_karbor - openstack/openstack-ansible-os_keystone - openstack/openstack-ansible-os_magnum - openstack/openstack-ansible-os_manila - openstack/openstack-ansible-os_masakari - openstack/openstack-ansible-os_mistral - openstack/openstack-ansible-os_murano - openstack/openstack-ansible-os_neutron - openstack/openstack-ansible-os_nova - openstack/openstack-ansible-os_octavia - openstack/openstack-ansible-os_panko - openstack/openstack-ansible-os_placement - openstack/openstack-ansible-os_rally - openstack/openstack-ansible-os_sahara - openstack/openstack-ansible-os_swift - openstack/openstack-ansible-os_tacker - openstack/openstack-ansible-os_tempest - openstack/openstack-ansible-os_trove - openstack/openstack-ansible-os_zun - openstack/openstack-ansible-pip_install - openstack/openstack-ansible-pip_lock_down - openstack/openstack-ansible-plugins - openstack/openstack-ansible-rabbitmq_server - openstack/openstack-ansible-repo_build - openstack/openstack-ansible-repo_server - openstack/openstack-ansible-rsyslog_client - openstack/openstack-ansible-rsyslog_server - openstack/openstack-ansible-security - openstack/openstack-ansible-specs - openstack/openstack-ansible-tests - openstack/openstack-chef - openstack/openstack-chef-repo - openstack/openstack-chef-specs - openstack/openstackclient - openstack/openstackdocstheme - openstack/openstack-health - openstack/openstack-helm - openstack/openstack-helm-addons - openstack/openstack-helm-docs - openstack/openstack-helm-images - openstack/openstack-helm-infra - openstack/openstacksdk - openstack/openstack-specs - openstack/openstack-virtual-baremetal - openstack/openstack-zuul-jobs - openstack/openstack-zuul-roles - openstack/ops-tags-team - openstack/os-api-ref - openstack/os-brick - openstack/osc-lib - openstack/os-client-config - openstack/osc-placement - openstack/os-ken - openstack/oslo.cache - openstack/oslo-cookiecutter - openstack/os-loganalyze - openstack/oslo.log - openstack/oslo.privsep - openstack/oslo-specs - openstack/oslotest - openstack/oslo.upgradecheck - openstack/oslo.versionedobjects - openstack/os-net-config - openstack/os-performance-tools - openstack/osprofiler - openstack/os-refresh-config - openstack/os-resource-classes - openstack/ossa - openstack/os-service-types - openstack/os-testr - openstack/os-traits - openstack/os-vif - openstack/os-win - openstack/oswin-tempest-plugin - openstack/ovn-octavia-provider - openstack/ovsdbapp - openstack/panko - openstack/patrole - openstack/paunch - openstack/performance-docs - openstack/placement - openstack/project-navigator-data - openstack/puppet-aodh - openstack/puppet-barbican - openstack/puppet-ceilometer - openstack/puppet-ceph - openstack/puppet-cinder - openstack/puppet-cloudkitty - openstack/puppet-congress - openstack/puppet-designate - openstack/puppet-ec2api - openstack/puppet-freezer - openstack/puppet-glance - openstack/puppet-glare - openstack/puppet-gnocchi - openstack/puppet-heat - openstack/puppet-horizon - openstack/puppet-ironic - openstack/puppet-keystone - openstack/puppet-magnum - openstack/puppet-manila - openstack/puppet-mistral - openstack/puppet-monasca - openstack/puppet-murano - openstack/puppet-neutron - openstack/puppet-nova - openstack/puppet-octavia - openstack/puppet-openstack-cookiecutter - openstack/puppet-openstack_extras - openstack/puppet-openstack-guide - openstack/puppet-openstack-integration - openstack/puppet-openstacklib - openstack/puppet-openstack_spec_helper - openstack/puppet-openstack-specs - openstack/puppet-oslo - openstack/puppet-ovn - openstack/puppet-pacemaker - openstack/puppet-panko - openstack/puppet-placement - openstack/puppet-qdr - openstack/puppet-rally - openstack/puppet-sahara - openstack/puppet-senlin - openstack/puppet-swift - openstack/puppet-tacker - openstack/puppet-tempest - openstack/puppet-tripleo - openstack/puppet-trove - openstack/puppet-vitrage - openstack/puppet-vswitch - openstack/puppet-watcher - openstack/puppet-zaqar - openstack/pycadf - openstack/pyeclib - openstack/pymod2pkg - openstack/python-adjutantclient - openstack/python-aodhclient - openstack/python-barbicanclient - openstack/python-blazarclient - openstack/python-brick-cinderclient-ext - openstack/python-cloudkittyclient - openstack/python-congressclient - openstack/python-cyborgclient - openstack/python-designateclient - openstack/python-freezerclient - openstack/python-ironic-inspector-client - openstack/python-karborclient - openstack/python-magnumclient - openstack/python-manilaclient - openstack/python-masakariclient - openstack/python-mistralclient - openstack/python-monascaclient - openstack/python-muranoclient - openstack/python-octaviaclient - openstack/python-openstackclient - openstack/python-pankoclient - openstack/python-qinlingclient - openstack/python-searchlightclient - openstack/python-senlinclient - openstack/python-solumclient - openstack/python-tackerclient - openstack/python-tempestconf - openstack/python-tricircleclient - openstack/python-tripleoclient - openstack/python-vitrageclient - openstack/python-watcherclient - openstack/qa-specs - openstack/qinling - openstack/qinling-dashboard - openstack/rally - openstack/rally-openstack - openstack/refstack - openstack/refstack-client - openstack/releases - openstack/release-test - openstack/renderspec - openstack/reno - openstack/requestsexceptions - openstack/requirements - openstack/rpm-packaging - openstack/rpm-packaging-tools - openstack/sahara - openstack/sahara-dashboard - openstack/sahara-extra - openstack/sahara-image-elements - openstack/sahara-plugin-ambari - openstack/sahara-plugin-cdh - openstack/sahara-plugin-mapr - openstack/sahara-plugin-spark - openstack/sahara-plugin-storm - openstack/sahara-plugin-vanilla - openstack/sahara-specs - openstack/sahara-tests - openstack/scientific-wg - openstack/searchlight - openstack/searchlight-specs - openstack/searchlight-ui - openstack/security-analysis - openstack/security-doc - openstack/security-specs - openstack/self-healing-sig - openstack/senlin - openstack/senlin-dashboard - openstack/senlin-tempest-plugin - openstack/service-types-authority - openstack/shade - openstack/solum - openstack/solum-dashboard - openstack/solum-specs - openstack/solum-tempest-plugin - openstack/sphinx-feature-classification - openstack/stackviz - openstack/stevedore - openstack/storlets - openstack/sushy - openstack/sushy-cli - openstack/sushy-tools - openstack/swift-specs - openstack/syntribos - openstack/syntribos-openstack-templates - openstack/syntribos-payloads - openstack/tacker - openstack/tacker-horizon - openstack/tacker-specs - openstack/taskflow - openstack/telemetry-specs - openstack/telemetry-tempest-plugin - openstack/tempest-horizon - openstack/tempest-plugin-cookiecutter - openstack/tempest-stress - openstack/tenks - openstack/tooz - openstack/tosca-parser - openstack/training-guides - openstack/training-labs - openstack/transparency-policy - openstack/tricircle - openstack/tripleo-ansible - openstack/tripleo-common - openstack/tripleo-common-tempest-plugin - openstack/tripleo-docs - openstack/tripleo-ha-utils - openstack/tripleo-ipsec - openstack/tripleo-operator-ansible - openstack/tripleo-puppet-elements - openstack/tripleo-quickstart - openstack/tripleo-quickstart-extras - openstack/tripleo-repos - openstack/tripleo-specs - openstack/tripleo-upgrade - openstack/tripleo-validations - openstack/trove-specs - openstack/trove-tempest-plugin - openstack/uc-recognition - openstack/ui-cookiecutter - openstack/upstream-institute-virtual-environment - openstack/virtualbmc - openstack/vitrage - openstack/vitrage-dashboard - openstack/vitrage-specs - openstack/vitrage-tempest-plugin - openstack/watcher - openstack/watcher-dashboard - openstack/watcher-specs - openstack/watcher-tempest-plugin - openstack/whereto - openstack/workload-ref-archs - openstack/xstatic-angular - openstack/xstatic-angular-bootstrap - openstack/xstatic-angular-gettext - openstack/xstatic-angular-lrdragndrop - openstack/xstatic-angular-material - openstack/xstatic-angular-notify - openstack/xstatic-angular-smart-table - openstack/xstatic-angular-uuid - openstack/xstatic-angular-vis - openstack/xstatic-bootstrap-datepicker - openstack/xstatic-bootstrap-scss - openstack/xstatic-bootswatch - openstack/xstatic-d3 - openstack/xstatic-filesaver - openstack/xstatic-font-awesome - openstack/xstatic-hogan - openstack/xstatic-jasmine - openstack/xstatic-jquery-migrate - openstack/xstatic-jquery.quicksearch - openstack/xstatic-jquery.tablesorter - openstack/xstatic-jsencrypt - openstack/xstatic-json2yaml - openstack/xstatic-js-yaml - openstack/xstatic-magic-search - openstack/xstatic-mdi - openstack/xstatic-rickshaw - openstack/xstatic-roboto-fontface - openstack/xstatic-spin - openstack/yaql - openstack/zaqar-specs - openstack/zaqar-tempest-plugin - openstack/zaqar-ui - openstack/zun - openstack/zun-tempest-plugin - openstack/zun-ui, # grep openstack governance/reference/programs.yaml | grep -v url - ^openstack/sahara.* - jjb/jenkins-job-builder - opendev/askbot-theme - opendev/elastic-recheck - opendev/gear - opendev/germqtt - opendev/gerrit - opendev/gerritbot - opendev/gerritlib - opendev/git-restack - opendev/git-review - opendev/grafyaml - opendev/jeepyb - opendev/lodgeit - opendev/lpmqtt - opendev/meetbot - opendev/project-config-example - opendev/publications - opendev/puppet-accessbot - opendev/puppet-ansible - opendev/puppet-apparmor - opendev/puppet-askbot - opendev/puppet-asterisk - opendev/puppet-bandersnatch - opendev/puppet-bugdaystats - opendev/puppet-bup - opendev/puppet-cgit - opendev/puppet-ciwatch - opendev/puppet-dashboard - opendev/puppet-diskimage_builder - opendev/puppet-drupal - opendev/puppet-elastic_recheck - opendev/puppet-elasticsearch - opendev/puppet-ethercalc - opendev/puppet-etherpad_lite - opendev/puppet-exim - opendev/puppet-germqtt - opendev/puppet-gerrit - opendev/puppet-gerritbot - opendev/puppet-github - opendev/puppet-grafyaml - opendev/puppet-graphite - opendev/puppet-haveged - opendev/puppet-hound - opendev/puppet-httpd - opendev/puppet-infracloud - opendev/puppet-ipsilon - opendev/puppet-iptables - opendev/puppet-jeepyb - opendev/puppet-jenkins - opendev/puppet-kerberos - opendev/puppet-kibana - opendev/puppet-lodgeit - opendev/puppet-log_processor - opendev/puppet-logrotate - opendev/puppet-logstash - opendev/puppet-lpmqtt - opendev/puppet-mailman - opendev/puppet-mediawiki - opendev/puppet-meetbot - opendev/puppet-mosquitto - opendev/puppet-mysql_backup - opendev/puppet-nodepool - opendev/puppet-openafs - opendev/puppet-openstack_health - opendev/puppet-openstack_infra_spec_helper - opendev/puppet-openstackci - opendev/puppet-openstackid - opendev/puppet-os_client_config - opendev/puppet-packagekit - opendev/puppet-pgsql_backup - opendev/puppet-phabricator - opendev/puppet-pip - opendev/puppet-planet - opendev/puppet-project_config - opendev/puppet-ptgbot - opendev/puppet-redis - opendev/puppet-refstack - opendev/puppet-releasestatus - opendev/puppet-reviewday - opendev/puppet-simpleproxy - opendev/puppet-snmpd - opendev/puppet-ssh - opendev/puppet-ssl_cert_check - opendev/puppet-statusbot - opendev/puppet-storyboard - opendev/puppet-subunit2sql - opendev/puppet-sudoers - opendev/puppet-tmpreaper - opendev/puppet-translation_checksite - opendev/puppet-ulimit - opendev/puppet-unattended_upgrades - opendev/puppet-unbound - opendev/puppet-user - opendev/puppet-vcsrepo - opendev/puppet-zanata - opendev/puppet-zuul - opendev/pypi-mirror - opendev/python-storyboardclient - opendev/statusbot - opendev/storyboard - opendev/system-config - openstack/activity-board - openstack/compute-api - openstack/identity-api - openstack/image-api - openstack/netconn-api - openstack/object-api - openstack/os-loganalyze - openstack/os-net-config - openstack/os-refresh-config - openstack/os-testr - openstack/oslo-specs - openstack/oslo.sphinx - openstack/releasestatus - openstack/volume-api - openstack/zuul-packaging - osf/groups - osf/odsreg - osf/openstackid - osf/openstackid-resources - osf/openstackweb - x/err2d2 - x/gearman-plugin - x/gitdm - zuul/nodepool - zuul/zuul,666,128
openstack%2Fbifrost~master~I2fc6f2401be5edf170ce71616e53e37da44bdd82,openstack/bifrost,master,I2fc6f2401be5edf170ce71616e53e37da44bdd82,DNM - Test,ABANDONED,2019-12-16 09:59:11.000000000,2020-01-22 09:41:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-16 09:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/273127a26dd97294dfa5c33c67e17be6b81fc396', 'message': 'DNM - Test\n\nChange-Id: I2fc6f2401be5edf170ce71616e53e37da44bdd82\n'}, {'number': 2, 'created': '2019-12-16 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/62bbc2ffe700de70a042c5efef661e728bc6115f', 'message': 'DNM - Test\n\nChange-Id: I2fc6f2401be5edf170ce71616e53e37da44bdd82\n'}, {'number': 3, 'created': '2019-12-16 12:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d2bf8c437e664c84865e583a9e46f6373d2183d5', 'message': 'DNM - Test\n\nChange-Id: I2fc6f2401be5edf170ce71616e53e37da44bdd82\n'}, {'number': 4, 'created': '2019-12-16 13:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ac373da4230ff9913b5a66351bb8623d92ff729a', 'message': 'DNM - Test\n\nChange-Id: I2fc6f2401be5edf170ce71616e53e37da44bdd82\n'}, {'number': 5, 'created': '2019-12-16 14:53:40.000000000', 'files': ['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Debian.yml', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/550d58e27e84fabdaca1691437e461ca80c59ee8', 'message': 'DNM - Test\n\nChange-Id: I2fc6f2401be5edf170ce71616e53e37da44bdd82\n'}]",0,699175,550d58e27e84fabdaca1691437e461ca80c59ee8,11,1,5,15519,,,0,"DNM - Test

Change-Id: I2fc6f2401be5edf170ce71616e53e37da44bdd82
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/75/699175/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']",2,273127a26dd97294dfa5c33c67e17be6b81fc396,bionic, name: bifrost-integration-dhcp-ubuntu-bionic nodeset: ubuntu-bionic name: bifrost-integration-dibipa-debian-ubuntu-bionic nodeset: ubuntu-bionic name: bifrost-integration-tinyipa-ubuntu-bionic nodeset: ubuntu-bionic name: bifrost-integration-tinyipa-keystone-ubuntu-bionic nodeset: ubuntu-bionic, name: bifrost-integration-dhcp-ubuntu-xenial nodeset: ubuntu-xenial name: bifrost-integration-dibipa-debian-ubuntu-xenial nodeset: ubuntu-xenial name: bifrost-integration-tinyipa-ubuntu-xenial nodeset: ubuntu-xenial name: bifrost-integration-tinyipa-keystone-ubuntu-xenial nodeset: ubuntu-xenial,14,14
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ib55936ea562dfa965be0764647e2b8e3fa309fd6,openstack/tripleo-heat-templates,stable/stein,Ib55936ea562dfa965be0764647e2b8e3fa309fd6,nova: Always provide LIBGUESTFS_BACKEND=libvirt:qemu:///system,MERGED,2020-01-15 08:34:02.000000000,2020-01-22 09:17:24.000000000,2020-01-22 09:17:24.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-15 08:34:02.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/670d8049c852df93a889efbf04a653160856716b', 'message': 'nova: Always provide LIBGUESTFS_BACKEND=libvirt:qemu:///system\n\nPreviously nova-compute would launch libguestfs using the default\n``qemu:///session`` backend that would attempt and fail to launch an\ninstance of libvirtd locally within the container. This change forces\nlibguestfs to use the same ``qemu://system`` as nova-compute itself uses\nwhen launching instances on the host.\n\nConflicts:\n    deployment/nova/nova-compute-container-puppet.yaml\n\nNOTE(lyarwood): Conflict due to I894f339cdf03bc2a93c588f826f738b0b851\nnot being present in stable/stein.\n\nChange-Id: Ib55936ea562dfa965be0764647e2b8e3fa309fd6\n(cherry picked from commit 948fc6bcbf9c7295c576b80553bf8b835675256b)\n(cherry picked from commit 4feedd4f0a8c7c4d15c38ea1b7273a63922a37c8)\n'}]",0,702595,670d8049c852df93a889efbf04a653160856716b,17,7,1,10135,,,0,"nova: Always provide LIBGUESTFS_BACKEND=libvirt:qemu:///system

Previously nova-compute would launch libguestfs using the default
``qemu:///session`` backend that would attempt and fail to launch an
instance of libvirtd locally within the container. This change forces
libguestfs to use the same ``qemu://system`` as nova-compute itself uses
when launching instances on the host.

Conflicts:
    deployment/nova/nova-compute-container-puppet.yaml

NOTE(lyarwood): Conflict due to I894f339cdf03bc2a93c588f826f738b0b851
not being present in stable/stein.

Change-Id: Ib55936ea562dfa965be0764647e2b8e3fa309fd6
(cherry picked from commit 948fc6bcbf9c7295c576b80553bf8b835675256b)
(cherry picked from commit 4feedd4f0a8c7c4d15c38ea1b7273a63922a37c8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/702595/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,670d8049c852df93a889efbf04a653160856716b,, - LIBGUESTFS_BACKEND=libvirt:qemu:///system,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib55936ea562dfa965be0764647e2b8e3fa309fd6,openstack/tripleo-heat-templates,stable/train,Ib55936ea562dfa965be0764647e2b8e3fa309fd6,nova: Always provide LIBGUESTFS_BACKEND=libvirt:qemu:///system,MERGED,2020-01-15 08:31:18.000000000,2020-01-22 09:16:46.000000000,2020-01-22 09:16:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-15 08:31:18.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4feedd4f0a8c7c4d15c38ea1b7273a63922a37c8', 'message': 'nova: Always provide LIBGUESTFS_BACKEND=libvirt:qemu:///system\n\nPreviously nova-compute would launch libguestfs using the default\n``qemu:///session`` backend that would attempt and fail to launch an\ninstance of libvirtd locally within the container. This change forces\nlibguestfs to use the same ``qemu://system`` as nova-compute itself uses\nwhen launching instances on the host.\n\nChange-Id: Ib55936ea562dfa965be0764647e2b8e3fa309fd6\n(cherry picked from commit 948fc6bcbf9c7295c576b80553bf8b835675256b)\n'}]",0,702594,4feedd4f0a8c7c4d15c38ea1b7273a63922a37c8,21,8,1,10135,,,0,"nova: Always provide LIBGUESTFS_BACKEND=libvirt:qemu:///system

Previously nova-compute would launch libguestfs using the default
``qemu:///session`` backend that would attempt and fail to launch an
instance of libvirtd locally within the container. This change forces
libguestfs to use the same ``qemu://system`` as nova-compute itself uses
when launching instances on the host.

Change-Id: Ib55936ea562dfa965be0764647e2b8e3fa309fd6
(cherry picked from commit 948fc6bcbf9c7295c576b80553bf8b835675256b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/702594/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,4feedd4f0a8c7c4d15c38ea1b7273a63922a37c8,, - LIBGUESTFS_BACKEND: libvirt:qemu:///system,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I80bd347c4210f9ee7f06febe26a130269ab56b85,openstack/tripleo-heat-templates,stable/train,I80bd347c4210f9ee7f06febe26a130269ab56b85,Add swiftoperator role on ceph-rgw template,MERGED,2020-01-20 18:05:45.000000000,2020-01-22 09:16:44.000000000,2020-01-22 09:16:44.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-01-20 18:05:45.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66f13a180993fa18fac09195abf1445b89c55143', 'message': ""Add swiftoperator role on ceph-rgw template\n\nWhen deploying an Overcloud with Swift a role named\nswiftoperator is created.\nThis change make sure we have swiftoperator role\nwhen Ceph Object Gateway is created as well (as it's\nreplacement for swift).\n\nChange-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85\n(cherry picked from commit f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f)\n""}]",0,703474,66f13a180993fa18fac09195abf1445b89c55143,8,4,1,6796,,,0,"Add swiftoperator role on ceph-rgw template

When deploying an Overcloud with Swift a role named
swiftoperator is created.
This change make sure we have swiftoperator role
when Ceph Object Gateway is created as well (as it's
replacement for swift).

Change-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85
(cherry picked from commit f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/703474/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,66f13a180993fa18fac09195abf1445b89c55143,," rgw_keystone_accepted_admin_roles: ResellerAdmin, swiftoperator", rgw_keystone_accepted_admin_roles: ResellerAdmin,1,1
openstack%2Fcinder~master~I36891c9992d67234fc7a70fc70ac64263b6ad885,openstack/cinder,master,I36891c9992d67234fc7a70fc70ac64263b6ad885,rbd_driver: Add exception capture to unprotect/remove snap,NEW,2019-10-21 09:29:52.000000000,2020-01-22 08:57:05.000000000,,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-21 09:29:52.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9440c0af42914aa0d20dcdbb6ac332893f5bc6e6', 'message': 'rbd_driver: Add exception capture to unprotect/remove snap\n\nIn the create_cloned_volume function, when the clone fails,\nenter into the exception handling, an unprotect/remove snap\nexception may occur (such as unprotect failure caused by a\nnetwork exception such as ConnectionShutdown), causing  the\ncinder-volume child process to be aborted, so increase the\nunprotect/remove snap expection catch. The exception catch\nlogic at the time prevents the cinder-volume process from\nbeing aborted.\n\nChange-Id: I36891c9992d67234fc7a70fc70ac64263b6ad885\n'}]",0,689701,9440c0af42914aa0d20dcdbb6ac332893f5bc6e6,38,36,1,31113,,,0,"rbd_driver: Add exception capture to unprotect/remove snap

In the create_cloned_volume function, when the clone fails,
enter into the exception handling, an unprotect/remove snap
exception may occur (such as unprotect failure caused by a
network exception such as ConnectionShutdown), causing  the
cinder-volume child process to be aborted, so increase the
unprotect/remove snap expection catch. The exception catch
logic at the time prevents the cinder-volume process from
being aborted.

Change-Id: I36891c9992d67234fc7a70fc70ac64263b6ad885
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/689701/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,9440c0af42914aa0d20dcdbb6ac332893f5bc6e6,rbd_driver," try: src_volume.unprotect_snap(clone_snap) src_volume.remove_snap(clone_snap) except Exception as ee: msg = (_(""Failed to remove '%(src_vol)s@%(src_snap)s',"" ""error: %(error)s, clone error: %(clone_err)s"") % {'src_vol': src_name, 'src_snap': clone_snap, 'error': ee, 'clone_err': e}) LOG.exception(msg) raise exception.VolumeBackendAPIException(data=msg)", src_volume.unprotect_snap(clone_snap) src_volume.remove_snap(clone_snap),12,2
openstack%2Fos-ken~master~I8a4891bb7ed44dc25ba3f79d2ace6927313c17b3,openstack/os-ken,master,I8a4891bb7ed44dc25ba3f79d2ace6927313c17b3,Replace deprecated brctl with ip commands,MERGED,2020-01-18 12:18:48.000000000,2020-01-22 08:37:50.000000000,2020-01-22 08:35:36.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-18 12:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/55b3ffc0390d6ae903f13ff8a70f156e0c0db18d', 'message': 'Replace deprecated brctl with ip commands\n\nThe bridge-utils package has been deprecated for some time now [1] and\n\'brctl\' does not exist on some more recent distros like Fedora 28.\nReplace references to brctl with the proper ip commands.\n\nCalls to ""brctl show"" are not being replaced with calls to ""bridge link""\nbecause the output format is very different and in testing some bridges\nwere not listed.  So the simpler method of consulting /sys/class/net is\nused.\n\n[1] https://lwn.net/Articles/703776/ for example\n\nChange-Id: I8a4891bb7ed44dc25ba3f79d2ace6927313c17b3\nRelated-Bug: #1801919\n'}, {'number': 2, 'created': '2020-01-18 13:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/11b00469373ebb3adc0af2960e88355b598b9842', 'message': 'Replace deprecated brctl with ip commands\n\nThe bridge-utils package has been deprecated for some time now [1] and\n\'brctl\' does not exist on some more recent distros like Fedora 28.\nReplace references to brctl with the proper ip commands.\n\nCalls to ""brctl show"" are not being replaced with calls to ""bridge link""\nbecause the output format is very different and in testing some bridges\nwere not listed.  So the simpler method of consulting /sys/class/net is\nused.\n\n[1] https://lwn.net/Articles/703776/ for example\n\nChange-Id: I8a4891bb7ed44dc25ba3f79d2ace6927313c17b3\nRelated-Bug: #1801919\n'}, {'number': 3, 'created': '2020-01-18 19:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/2e20274e5e11f1994284ff5756b594eb3af50ad9', 'message': 'Replace deprecated brctl with ip commands\n\nThe bridge-utils package has been deprecated for some time now [1] and\n\'brctl\' does not exist on some more recent distros like Fedora 28.\nReplace references to brctl with the proper ip commands.\n\nCalls to ""brctl show"" are not being replaced with calls to ""bridge link""\nbecause the output format is very different and in testing some bridges\nwere not listed.  So the simpler method of consulting /sys/class/net is\nused.\n\n[1] https://lwn.net/Articles/703776/ for example\n\nChange-Id: I8a4891bb7ed44dc25ba3f79d2ace6927313c17b3\nRelated-Bug: #1801919\n'}, {'number': 4, 'created': '2020-01-18 19:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/cbe82cc51ed8c2dc2c724a505be18656ea92a5ff', 'message': 'Replace deprecated brctl with ip commands\n\nThe bridge-utils package has been deprecated for some time now [1] and\n\'brctl\' does not exist on some more recent distros like Fedora 28.\nReplace references to brctl with the proper ip commands.\n\nCalls to ""brctl show"" are not being replaced with calls to ""bridge link""\nbecause the output format is very different and in testing some bridges\nwere not listed.  So the simpler method of consulting /sys/class/net is\nused.\n\n[1] https://lwn.net/Articles/703776/ for example\n\nChange-Id: I8a4891bb7ed44dc25ba3f79d2ace6927313c17b3\nRelated-Bug: #1801919\n'}, {'number': 5, 'created': '2020-01-21 13:36:03.000000000', 'files': ['doc/source/test-vrrp.rst', 'os_ken/tests/integrated/test_vrrp_linux_multi.py', 'os_ken/tests/integrated/test_vrrp_multi.py', 'os_ken/tests/integrated/test_vrrp_linux_multi.sh', 'os_ken/tests/integrated/common/docker_base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/1f751b2d7d385a75d4255934694177d6fd6f012f', 'message': 'Replace deprecated brctl with ip commands\n\nThe bridge-utils package has been deprecated for some time now [1] and\n\'brctl\' does not exist on some more recent distros like Fedora 28.\nReplace references to brctl with the proper ip commands.\n\nCalls to ""brctl show"" are not being replaced with calls to ""bridge link""\nbecause the output format is very different and in testing some bridges\nwere not listed.  So the simpler method of consulting /sys/class/net is\nused.\n\n[1] https://lwn.net/Articles/703776/ for example\n\nChange-Id: I8a4891bb7ed44dc25ba3f79d2ace6927313c17b3\nRelated-Bug: #1801919\n'}]",0,703234,1f751b2d7d385a75d4255934694177d6fd6f012f,18,4,5,16688,,,0,"Replace deprecated brctl with ip commands

The bridge-utils package has been deprecated for some time now [1] and
'brctl' does not exist on some more recent distros like Fedora 28.
Replace references to brctl with the proper ip commands.

Calls to ""brctl show"" are not being replaced with calls to ""bridge link""
because the output format is very different and in testing some bridges
were not listed.  So the simpler method of consulting /sys/class/net is
used.

[1] https://lwn.net/Articles/703776/ for example

Change-Id: I8a4891bb7ed44dc25ba3f79d2ace6927313c17b3
Related-Bug: #1801919
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/34/703234/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/test-vrrp.rst', 'os_ken/tests/integrated/test_vrrp_linux_multi.py', 'os_ken/tests/integrated/test_vrrp_multi.py', 'os_ken/tests/integrated/test_vrrp_linux_multi.sh', 'os_ken/tests/integrated/common/docker_base.py']",5,55b3ffc0390d6ae903f13ff8a70f156e0c0db18d,bug/1801919,import re br_list = [] bridges = glob.glob('/sys/class/net/*/bridge/bridge_id') regex = re.compile(r'\/sys\/class\/net\/(.+)\/bridge\/bridge_id') for bridge in bridges: m = regex.match(bridge) br_list.append(m.group(1)) return br_list," out = self.execute('brctl show', retry=True) bridges = [] for line in out.splitlines()[1:]: bridges.append(line.split()[0]) return bridges",34,30
openstack%2Fcinder~master~I64937ba8abdb0b0c5b6c1aab6ed08d67bac13590,openstack/cinder,master,I64937ba8abdb0b0c5b6c1aab6ed08d67bac13590,Update oslo.vmware version,MERGED,2020-01-17 13:26:54.000000000,2020-01-22 08:35:34.000000000,2020-01-20 20:51:36.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-01-17 13:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71afc07ed96880450a9068e634f00da1eb4c7f4d', 'message': 'Update oslo.vmware version\n\nVersion 2.35.0 contains a fix needed for the ""Support multiple stores\nof Glance"" feature.\n\nChange-Id: I64937ba8abdb0b0c5b6c1aab6ed08d67bac13590\nCloses-bug: #1857094\n'}, {'number': 2, 'created': '2020-01-17 13:30:48.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9cf1f439bb2b82ab713dcbe72327ef67f93e9a8', 'message': 'Update oslo.vmware version\n\nVersion 2.35.0 contains a fix needed for the ""Support multiple stores\nof Glance"" feature.\n\nChange-Id: I64937ba8abdb0b0c5b6c1aab6ed08d67bac13590\nCloses-bug: #1857094\n'}]",0,703077,d9cf1f439bb2b82ab713dcbe72327ef67f93e9a8,38,25,2,5314,,,0,"Update oslo.vmware version

Version 2.35.0 contains a fix needed for the ""Support multiple stores
of Glance"" feature.

Change-Id: I64937ba8abdb0b0c5b6c1aab6ed08d67bac13590
Closes-bug: #1857094
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/703077/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,71afc07ed96880450a9068e634f00da1eb4c7f4d,bug/1857094,oslo.vmware==2.35.0,oslo.vmware==2.17.0,2,2
openstack%2Fheat~master~Ic1fe593d9821d844fd124b0212d444f6e3a0015e,openstack/heat,master,Ic1fe593d9821d844fd124b0212d444f6e3a0015e,New resource OS::Neutron::ExtraRouteSet,MERGED,2019-08-12 14:33:27.000000000,2020-01-22 07:52:52.000000000,2020-01-22 07:50:44.000000000,"[{'_account_id': 4257}, {'_account_id': 8313}, {'_account_id': 12404}, {'_account_id': 15554}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-12 14:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6cf6912f474d1d5d071198df00231419281644de', 'message': ""WIP New resource: OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router_id: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nTODO tests\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 2, 'created': '2019-08-14 13:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d6f201ea8e014dcc64e2646d64c3082ad92647bf', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router_id: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 3, 'created': '2019-08-14 14:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1321a51108fa5916a27d63e18e366d7ec20b8df8', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router_id: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 4, 'created': '2019-08-22 14:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f33ee976282789df8d692ddc40807d968660856d', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router_id: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 5, 'created': '2019-09-06 15:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d17b15cdddf0a0b31d368c5d53d188a2e3345ba7', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 6, 'created': '2019-09-23 13:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/193058b64f7bf6b1ab1aea765204e9bdb3f1de68', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 7, 'created': '2019-09-24 09:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/367929cf76120d3be98f3d630f03fe2605ad1279', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 8, 'created': '2019-12-12 15:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1197ef84b00efa18524e6b47cf1343f2434f555f', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 9, 'created': '2020-01-14 17:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e21dfd140b60d7d04f2ca9d37ae3069696e3febc', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}, {'number': 10, 'created': '2020-01-17 09:41:08.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_extrarouteset.py', 'releasenotes/notes/neutron-extrarouteset-379c5354e1ac7795.yaml', 'requirements.txt', 'heat/engine/resources/openstack/neutron/extrarouteset.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/e0a69202d21e32b5c3a37115aaee35bb63d39a48', 'message': ""New resource OS::Neutron::ExtraRouteSet\n\nI hope I remembered all the discussion points we had about how to design\nthis plugin, so:\n\n* Instead of changing OS::Neutron::ExtraRoute we introduce\n  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's\n  ability to add/remove multiple extra routes at once.\n\n* Addition and removal of extra routes is supposed to be atomic with\n  Neutron extension 'extraroute-atomic'. An update involves a removal\n  and an addition, therefore an update is not atomic operation. However\n  unless the responsibility for an extra route is moved from one stack\n  to another that should not be a problem.\n\n* Sharing the responsibility for an extra route between stacks (that is\n  multiple stacks defining the same extra route) is not supported due\n  to the Neutron API not allowing this.\n\nLet me know what did I forget.\n\nExample template:\n\nresources:\n  extrarouteset0:\n    type: OS::Neutron::ExtraRouteSet\n    properties:\n      router: { get_resource: router0 }\n      routes:\n        - destination: 10.0.0.0/24\n          nexthop: 10.0.0.10\n        - destination: 10.0.1.0/24\n          nexthop: 10.0.0.11\n  ...\n\nChange-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e\nDepends-On: https://review.opendev.org/675900\nStory: #2005522\nTask: #36264\n""}]",21,675913,e0a69202d21e32b5c3a37115aaee35bb63d39a48,60,6,10,15554,,,0,"New resource OS::Neutron::ExtraRouteSet

I hope I remembered all the discussion points we had about how to design
this plugin, so:

* Instead of changing OS::Neutron::ExtraRoute we introduce
  OS::Neutron::ExtraRouteSet so we can take advantage of Neutron API's
  ability to add/remove multiple extra routes at once.

* Addition and removal of extra routes is supposed to be atomic with
  Neutron extension 'extraroute-atomic'. An update involves a removal
  and an addition, therefore an update is not atomic operation. However
  unless the responsibility for an extra route is moved from one stack
  to another that should not be a problem.

* Sharing the responsibility for an extra route between stacks (that is
  multiple stacks defining the same extra route) is not supported due
  to the Neutron API not allowing this.

Let me know what did I forget.

Example template:

resources:
  extrarouteset0:
    type: OS::Neutron::ExtraRouteSet
    properties:
      router: { get_resource: router0 }
      routes:
        - destination: 10.0.0.0/24
          nexthop: 10.0.0.10
        - destination: 10.0.1.0/24
          nexthop: 10.0.0.11
  ...

Change-Id: Ic1fe593d9821d844fd124b0212d444f6e3a0015e
Depends-On: https://review.opendev.org/675900
Story: #2005522
Task: #36264
",git fetch https://review.opendev.org/openstack/heat refs/changes/13/675913/7 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/extrarouteset.py'],1,6cf6912f474d1d5d071198df00231419281644de,extraroute,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from operator import itemgetter import six from oslo_log import log as logging from heat.common.i18n import _ from heat.engine import constraints from heat.engine import properties from heat.engine.resources.openstack.neutron import neutron from heat.engine.resources.openstack.neutron import router LOG = logging.getLogger(__name__) class ExtraRouteSet(neutron.NeutronResource): """"""Resource for specifying extra routes for a Neutron router. Requires Neutron ``extraroute-atomic`` extension to be enabled:: $ openstack extension show extraroute-atomic An extra route is a static routing table entry that is added beyond the routes managed implicitly by router interfaces and router gateways. The ``destination`` of an extra route is any IP network in /CIDR notation. The ``nexthop`` of an extra route is an IP in a subnet that is directly connected to the router. In a single OS::Neutron::ExtraRouteSet resource you can specify a set of extra routes (represented as a list) on the same virtual router. As an improvement over the (never formally supported) OS::Neutron::ExtraRoute resource this resource plugin uses a Neutron API extension (``extraroute-atomic``) that is not prone to race conditions when used to manage multiple extra routes of the same router. It is safe to manage multiple extra routes of the same router from multiple stacks. On the other hand use of the same route on the same router is not safe from multiple stacks (or between Heat and non-Heat managed Neutron extra routes). """""" required_service_extension = 'extraroute-atomic' PROPERTIES = ( ROUTER_ID, ROUTES, ) = ( 'router_id', 'routes', ) _ROUTE_KEYS = ( DESTINATION, NEXTHOP, ) = ( 'destination', 'nexthop', ) properties_schema = { ROUTER_ID: properties.Schema( properties.Schema.STRING, description=_('The router id.'), required=True, constraints=[ constraints.CustomConstraint('neutron.router') ], ), ROUTES: properties.Schema( properties.Schema.LIST, _('A set of route dictionaries for the router.'), schema=properties.Schema( properties.Schema.MAP, schema={ DESTINATION: properties.Schema( properties.Schema.STRING, _('The destination network in CIDR notation.'), required=True, constraints=[ constraints.CustomConstraint('net_cidr') ] ), NEXTHOP: properties.Schema( properties.Schema.STRING, _('The next hop for the destination.'), required=True, constraints=[ constraints.CustomConstraint('ip_addr') ] ), }, ), default=[], update_allowed=True, ), } def add_dependencies(self, deps): super(ExtraRouteSet, self).add_dependencies(deps) for resource in six.itervalues(self.stack): # depend on any RouterInterface in this template with the same # router_id as this router_id if resource.has_interface('OS::Neutron::RouterInterface'): try: router_id = self.properties[self.ROUTER_ID] dep_router_id = resource.properties.get( router.RouterInterface.ROUTER) except (ValueError, TypeError): # Properties errors will be caught later in validation, # where we can report them in their proper context. continue if dep_router_id == router_id: deps += (self, resource) # depend on any RouterGateway in this template with the same # router_id as this router_id elif resource.has_interface('OS::Neutron::RouterGateway'): try: router_id = self.properties[self.ROUTER_ID] dep_router_id = resource.properties.get( router.RouterGateway.ROUTER_ID) except (ValueError, TypeError): # Properties errors will be caught later in validation, # where we can report them in their proper context. continue if dep_router_id == router_id: deps += (self, resource) def handle_create(self): router_id = self.properties[self.ROUTER_ID] routes = self.properties[self.ROUTES] self.client().add_extra_routes_router( router_id, {'router': {'routes': routes}}) self.resource_id_set(_generate_id(router_id, routes)) def handle_delete(self): if not self.resource_id: return router_id, routes = _parse_id(self.resource_id) with self.client_plugin().ignore_not_found: self.client().remove_extra_routes_router( router_id, {'router': {'routes': routes}}) def handle_update(self, json_snippet, tmpl_diff, prop_diff): """"""Handle updates correctly. Implementing handle_update() here is not just an optimization but a must, because the default create/delete behavior would delete the unchanged part of the extra route set. """""" # Ignore the shallow diff done in prop_diff. if self.ROUTES in prop_diff: del prop_diff[self.ROUTES] # Do a deep diff instead. old = self.properties[self.ROUTES] or [] new = json_snippet.properties( self.properties_schema)[self.ROUTES] or [] add = _diffable2routes(_routes2diffable(new) - _routes2diffable(old)) remove = _diffable2routes(_routes2diffable(old) - _routes2diffable(new)) router_id = _parse_id(self.resource_id)[0] with self.client_plugin(): # Neither the remove-add nor the add-remove order is perfect. # Likely both will produce transient package loss. # The remove-add order seems to be conceptually simpler, # never producing unexpected routing tables. self.client().remove_extra_routes_router( router_id, {'router': {'routes': remove}}) self.client().add_extra_routes_router( router_id, {'router': {'routes': add}}) self.resource_id_set(_generate_id(router_id, new)) def _routes2diffable(routes): """"""Convert routes to a diffable data type. Convert the in-API/in-template routes format to another data type that has the same information content but that is hashable, so we can put routes in a set and perform set operations on them. """""" return set(frozenset(r.items()) for r in routes) def _diffable2routes(diffable): """"""The reverse of _routes2diffable. _diffable2routes(_routes2diffable(routes)) == routes """""" return [dict(r) for r in diffable] def _generate_id(router_id, routes): """"""Generate composite id for an extra route set on a router. Output format: router_id:dst1=nexthop1:dst2=nexthop2:... Produce the same id without regard to the order of routes. """""" return ':'.join( ['%s' % router_id] + ['%(destination)s=%(nexthop)s' % r for r in sorted( # sort by destination as primary key and # by nexthop as secondary key routes, key=itemgetter('destination', 'nexthop'))]) def _parse_id(id): """"""Parse the output of generate_id() back."""""" routes = [] router_id, routes_str = id.split(':', 1) for r in routes_str.split(':'): destination, nexthop = r.split('=') routes.append({'destination': destination, 'nexthop': nexthop}) return router_id, routes def resource_mapping(): return { 'OS::Neutron::ExtraRouteSet': ExtraRouteSet, } ",,236,0
openstack%2Fcinder~master~Idfa61265e75b161b4b0080f01276401926b92727,openstack/cinder,master,Idfa61265e75b161b4b0080f01276401926b92727,Fix pylint E1101 and E1135 issue,MERGED,2019-11-28 02:22:30.000000000,2020-01-22 07:04:55.000000000,2020-01-22 07:01:09.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30428}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-28 02:22:30.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0830eb3d90ea71057e0ad9fbea90b6d5dd6f51ae', 'message': 'Fix pylint E1101 and E1135 issue\n\nStorwize cinder driver failed in communicity CI pylint check\nin last commit. This commit fixed these issues by disable\nE1101 check.\n\nChange-Id: Idfa61265e75b161b4b0080f01276401926b92727\n'}]",0,696438,0830eb3d90ea71057e0ad9fbea90b6d5dd6f51ae,66,33,1,30428,,,0,"Fix pylint E1101 and E1135 issue

Storwize cinder driver failed in communicity CI pylint check
in last commit. This commit fixed these issues by disable
E1101 check.

Change-Id: Idfa61265e75b161b4b0080f01276401926b92727
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/696438/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,0830eb3d90ea71057e0ad9fbea90b6d5dd6f51ae,disable_pylint_E1101_check," # pylint: disable=E1101 # pylint: disable=E1101 # pylint: disable=E1101 except exception.VolumeBackendAPIException as ex: # pylint: disable=E1101 if hasattr(ex, 'msg') and 'CMMVC5959E' not in ex.msg:", except exception.VolumeBackendAPIException as e: if 'CMMVC5959E' not in e:,6,2
openstack%2Fneutron~master~Id321430c344723363786ab48584b1b48ba69f679,openstack/neutron,master,Id321430c344723363786ab48584b1b48ba69f679,DhcpLocalProcess._enable should not call DhcpLocalProcess.restart,MERGED,2019-12-03 16:48:28.000000000,2020-01-22 07:03:27.000000000,2020-01-22 07:01:03.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-03 16:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78d2e38122eed0a2d30d44049d43337c7ff209f1', 'message': 'DhcpLocalProcess._enable should not call DhcpLocalProcess.restart\n\n""DhcpLocalProcess._enable"", instead of calling\n""DhcpLocalProcess.restart"", should only stop the server and continue\nthe method. This will avoid getting into a second active wait context.\n\nChange-Id: Id321430c344723363786ab48584b1b48ba69f679\nCloses-Bug: #1854940\n'}, {'number': 2, 'created': '2019-12-03 16:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/477f4fa609a60e11c415b68ef84f1835159af837', 'message': 'DhcpLocalProcess._enable should not call DhcpLocalProcess.restart\n\n""DhcpLocalProcess._enable"", instead of calling\n""DhcpLocalProcess.restart"", should only stop the server and continue\nthe method. This will avoid getting into a second active wait context.\n\nChange-Id: Id321430c344723363786ab48584b1b48ba69f679\nCloses-Bug: #1854940\n'}, {'number': 3, 'created': '2020-01-06 09:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40d1179512bd52bbaa278d6cc6a88248d53daf28', 'message': 'DhcpLocalProcess._enable should not call DhcpLocalProcess.restart\n\n""DhcpLocalProcess._enable"", instead of calling\n""DhcpLocalProcess.restart"", should only stop the server and continue\nthe method. This will avoid getting into a second active wait context.\n\nChange-Id: Id321430c344723363786ab48584b1b48ba69f679\nCloses-Bug: #1854940\n'}, {'number': 4, 'created': '2020-01-08 09:26:43.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f758bc998096a8aa20201c95da7da74e07a60bb1', 'message': 'DhcpLocalProcess._enable should not call DhcpLocalProcess.restart\n\n""DhcpLocalProcess._enable"", instead of calling\n""DhcpLocalProcess.restart"", should only stop the server and continue\nthe method. This will avoid getting into a second active wait context.\n\nChange-Id: Id321430c344723363786ab48584b1b48ba69f679\nCloses-Bug: #1854940\n'}]",0,697135,f758bc998096a8aa20201c95da7da74e07a60bb1,49,8,4,16688,,,0,"DhcpLocalProcess._enable should not call DhcpLocalProcess.restart

""DhcpLocalProcess._enable"", instead of calling
""DhcpLocalProcess.restart"", should only stop the server and continue
the method. This will avoid getting into a second active wait context.

Change-Id: Id321430c344723363786ab48584b1b48ba69f679
Closes-Bug: #1854940
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/697135/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,78d2e38122eed0a2d30d44049d43337c7ff209f1,bug/1854940," self.disable(retain_port=True, block=True) #self.restart() if self._enable_dhcp():", self.restart() elif self._enable_dhcp():,9,9
openstack%2Fcinder~master~I8f4d1474dab356d66db70640a47bf690f065c0c4,openstack/cinder,master,I8f4d1474dab356d66db70640a47bf690f065c0c4,Pure Storage - bump version numbers for Ussuri,MERGED,2019-11-11 15:55:10.000000000,2020-01-22 07:02:56.000000000,2020-01-22 07:01:07.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13425}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-11 15:55:10.000000000', 'files': ['cinder/volume/drivers/pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f08722958ebe33e3f1f38fd31f5eeaa2b70e104b', 'message': 'Pure Storage - bump version numbers for Ussuri\n\nPure uses the version number of the driver to identify which\ncustomers are using which versions of OpenStack. This patch\nis to align version numbers for iSCSI and FC drivers, but also\nto identify the driver type. This will help granular analysis of\nwhich driver is being used in each OpenStack version.\n\nChange-Id: I8f4d1474dab356d66db70640a47bf690f065c0c4\n'}]",0,693720,f08722958ebe33e3f1f38fd31f5eeaa2b70e104b,47,27,1,13425,,,0,"Pure Storage - bump version numbers for Ussuri

Pure uses the version number of the driver to identify which
customers are using which versions of OpenStack. This patch
is to align version numbers for iSCSI and FC drivers, but also
to identify the driver type. This will help granular analysis of
which driver is being used in each OpenStack version.

Change-Id: I8f4d1474dab356d66db70640a47bf690f065c0c4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/693720/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/pure.py'],1,f08722958ebe33e3f1f38fd31f5eeaa2b70e104b,versions," VERSION = ""10.0.iscsi"" VERSION = ""10.0.fc"""," VERSION = ""9.0.0"" VERSION = ""7.0.0""",2,2
openstack%2Fneutron~master~I049523ac302fda227fe2f340d3deb6a15ffdb0fc,openstack/neutron,master,I049523ac302fda227fe2f340d3deb6a15ffdb0fc,"""_create_security_group_precommit"" additional arguments are kwargs",MERGED,2020-01-19 20:30:24.000000000,2020-01-22 07:01:12.000000000,2020-01-22 06:58:40.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-19 20:30:24.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d1d4cd6baa61dd487e9d73578463b3dcba3ee90', 'message': '""_create_security_group_precommit"" additional arguments are kwargs\n\n""OVNMechanismDriver._create_security_group_precommit"" receives the\nnotification from [1]. The aditional arguments passed are kwargs\nand the position is not guaranteed.\n\n[1]https://github.com/openstack/neutron/blob/79cb971251b0f37b97284e08916c137f1f101e2c/neutron/db/securitygroups_db.py#L137-L140\n\nChange-Id: I049523ac302fda227fe2f340d3deb6a15ffdb0fc\nRelated-Blueprint: neutron-ovn-merge\n'}]",0,703304,6d1d4cd6baa61dd487e9d73578463b3dcba3ee90,26,9,1,16688,,,0,"""_create_security_group_precommit"" additional arguments are kwargs

""OVNMechanismDriver._create_security_group_precommit"" receives the
notification from [1]. The aditional arguments passed are kwargs
and the position is not guaranteed.

[1]https://github.com/openstack/neutron/blob/79cb971251b0f37b97284e08916c137f1f101e2c/neutron/db/securitygroups_db.py#L137-L140

Change-Id: I049523ac302fda227fe2f340d3deb6a15ffdb0fc
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/703304/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,6d1d4cd6baa61dd487e9d73578463b3dcba3ee90,bp/neutron-ovn-merge," **kwargs): kwargs['context'], kwargs['security_group']['id'], ovn_const.TYPE_SECURITY_GROUPS)"," security_group, context, **kwargs): context, security_group['id'], ovn_const.TYPE_SECURITY_GROUPS)",3,2
openstack%2Fwatcher-dashboard~master~I4c9d3d1f6a5566f46b00f69d8f45487472405ffe,openstack/watcher-dashboard,master,I4c9d3d1f6a5566f46b00f69d8f45487472405ffe,s/assertItemsEqual/assertCountEqual/g,MERGED,2020-01-20 16:50:49.000000000,2020-01-22 06:50:30.000000000,2020-01-22 06:46:54.000000000,"[{'_account_id': 8556}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-20 16:50:49.000000000', 'files': ['watcher_dashboard/content/audit_templates/tests.py', 'watcher_dashboard/content/goals/tests.py', 'watcher_dashboard/content/strategies/tests.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/0e1c0e0a6c45fd29cf5f1aaf0c60f1727ebf2825', 'message': 's/assertItemsEqual/assertCountEqual/g\n\nassertItemsEqual was renamed to assertCountEqual in Python 3, and the\ntestsuite is failing now - rename it.\nSee also https://six.readthedocs.io/#six.assertCountEqual\n\nThis unbreaks the testsuite.\n\nChange-Id: I4c9d3d1f6a5566f46b00f69d8f45487472405ffe\n'}]",0,703451,0e1c0e0a6c45fd29cf5f1aaf0c60f1727ebf2825,10,4,1,1736,,,0,"s/assertItemsEqual/assertCountEqual/g

assertItemsEqual was renamed to assertCountEqual in Python 3, and the
testsuite is failing now - rename it.
See also https://six.readthedocs.io/#six.assertCountEqual

This unbreaks the testsuite.

Change-Id: I4c9d3d1f6a5566f46b00f69d8f45487472405ffe
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/51/703451/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_dashboard/content/audit_templates/tests.py', 'watcher_dashboard/content/goals/tests.py', 'watcher_dashboard/content/strategies/tests.py']",3,0e1c0e0a6c45fd29cf5f1aaf0c60f1727ebf2825,remove-six," self.assertCountEqual(strategies, self.strategies.list()) self.assertCountEqual([strategies], [at])"," self.assertItemsEqual(strategies, self.strategies.list()) self.assertItemsEqual([strategies], [at])",6,6
openstack%2Fopenstack-zuul-jobs~master~Ib5d7c683d5f362ae36fd4ed27dc475b1ab469f57,openstack/openstack-zuul-jobs,master,Ib5d7c683d5f362ae36fd4ed27dc475b1ab469f57,Remove legacy-tempest-dsvm-full-devstack-plugin-ceph,MERGED,2019-12-19 21:53:17.000000000,2020-01-22 06:25:57.000000000,2020-01-22 06:22:35.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 21:53:17.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-full-devstack-plugin-ceph/run.yaml', 'playbooks/legacy/tempest-dsvm-full-devstack-plugin-ceph/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f012c3593a2f13a17b97e55afb885641b1dc6d1c', 'message': ""Remove legacy-tempest-dsvm-full-devstack-plugin-ceph\n\nThe last remaining user of this job was nova's ocata\nbranch and that usage is going away.\n\nDepends-On: https://review.opendev.org/700077/\nChange-Id: Ib5d7c683d5f362ae36fd4ed27dc475b1ab469f57\n""}]",0,700078,f012c3593a2f13a17b97e55afb885641b1dc6d1c,9,4,1,6873,,,0,"Remove legacy-tempest-dsvm-full-devstack-plugin-ceph

The last remaining user of this job was nova's ocata
branch and that usage is going away.

Depends-On: https://review.opendev.org/700077/
Change-Id: Ib5d7c683d5f362ae36fd4ed27dc475b1ab469f57
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/78/700078/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-full-devstack-plugin-ceph/run.yaml', 'playbooks/legacy/tempest-dsvm-full-devstack-plugin-ceph/post.yaml']",3,f012c3593a2f13a17b97e55afb885641b1dc6d1c,drop-ceph-ci-ocata,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,96
openstack%2Fheat-dashboard~master~Icf3f889770242b02023fe22c405cfa2d823581a5,openstack/heat-dashboard,master,Icf3f889770242b02023fe22c405cfa2d823581a5,Remove six usage (2/2),MERGED,2020-01-11 19:42:12.000000000,2020-01-22 06:24:00.000000000,2020-01-22 06:20:52.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-11 19:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/d904ad8dcbc8f8feec6613736590c960a582ed64', 'message': ""Remove six usage (2/2)\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nThis changes urllib usage.\n\nChange-Id: Icf3f889770242b02023fe22c405cfa2d823581a5\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 2, 'created': '2020-01-11 19:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/71e999df00700985e2dbb7583df66db45736cf9e', 'message': ""Remove six usage (2/2)\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nThis changes urllib usage.\n\nChange-Id: Icf3f889770242b02023fe22c405cfa2d823581a5\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 3, 'created': '2020-01-11 19:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/415f8702b5aae529b1b171c26e033367dad726bc', 'message': ""Remove six usage (2/2)\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nThis changes urllib usage.\n\nChange-Id: Icf3f889770242b02023fe22c405cfa2d823581a5\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 4, 'created': '2020-01-11 20:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/152d595d2384416c05ed0b0c2140363452c6859e', 'message': ""Remove six usage (2/2)\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3,\nconvert six usage to Python 3 code.\n\nThis changes urllib usage.\n\nmock.patch usage in heat_dashboard/test/tests/api/test_heat.py\nis modified to cope with the mix usage of urllib from python3 (in\nheat-dashboard) and six.moves.urllib (in heatclient).\nIn the case of the mix usage, patching urllib.request.urlopen() only\ndoes not work as urllib.request.urlopen() is not called after\nresolving a lazy loading in six and the resolved object is\nsix.moves.urllib.request is called. The previous code depends on\nthe behavior in heatclient read_url_content() and the method should\nbe mocked instead. Considering this, mocking in api/test_heat.py\nis modified to mock direct methods called in the heat-dashboard code.\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Icf3f889770242b02023fe22c405cfa2d823581a5\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 5, 'created': '2020-01-11 21:07:03.000000000', 'files': ['heat_dashboard/test/tests/api/test_heat.py', 'heat_dashboard/api/heat.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/79ef24a784eba24c50a14a8d9e0b41cc2d51dfd3', 'message': ""Remove six usage (2/2)\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3,\nconvert six usage to Python 3 code.\n\nThis changes urllib usage.\n\nmock.patch usage in heat_dashboard/test/tests/api/test_heat.py\nis modified to cope with the mix usage of urllib from python3 (in\nheat-dashboard) and six.moves.urllib (in heatclient).\nIn the case of the mix usage, patching urllib.request.urlopen() only\ndoes not work as urllib.request.urlopen() is not called after\nresolving a lazy loading in six and the resolved object is\nsix.moves.urllib.request is called. The previous code depends on\nthe behavior in heatclient read_url_content() and the method should\nbe mocked instead. Considering this, mocking in api/test_heat.py\nis modified to mock direct methods called in the heat-dashboard code.\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Icf3f889770242b02023fe22c405cfa2d823581a5\nNeeded-By: https://review.opendev.org/701743\n""}]",0,702099,79ef24a784eba24c50a14a8d9e0b41cc2d51dfd3,16,7,5,6547,,,0,"Remove six usage (2/2)

This repo does not support Python 2 anymore, so we don't need
six for compatibility between Python2 and 3,
convert six usage to Python 3 code.

This changes urllib usage.

mock.patch usage in heat_dashboard/test/tests/api/test_heat.py
is modified to cope with the mix usage of urllib from python3 (in
heat-dashboard) and six.moves.urllib (in heatclient).
In the case of the mix usage, patching urllib.request.urlopen() only
does not work as urllib.request.urlopen() is not called after
resolving a lazy loading in six and the resolved object is
six.moves.urllib.request is called. The previous code depends on
the behavior in heatclient read_url_content() and the method should
be mocked instead. Considering this, mocking in api/test_heat.py
is modified to mock direct methods called in the heat-dashboard code.

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: Icf3f889770242b02023fe22c405cfa2d823581a5
Needed-By: https://review.opendev.org/701743
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/99/702099/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat_dashboard/test/tests/api/test_heat.py', 'heat_dashboard/api/heat.py']",2,d904ad8dcbc8f8feec6613736590c960a582ed64,remove-six,from urllib import request,from six.moves.urllib import request,3,4
openstack%2Fopenstacksdk~master~I0dd2104e26e49119ad384d35318ac0f4d21a21ad,openstack/openstacksdk,master,I0dd2104e26e49119ad384d35318ac0f4d21a21ad,"""qos_network_policy_id"" attribute added to port resource",MERGED,2019-11-06 20:06:09.000000000,2020-01-22 06:19:21.000000000,2020-01-22 06:16:10.000000000,"[{'_account_id': 2}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-11-06 20:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5bf0c7f26c9693f8138273819e800589f8d50f39', 'message': '""qos_network_policy_id"" attribute added to port resource\n\nChange-Id: I0dd2104e26e49119ad384d35318ac0f4d21a21ad\nPartial-Bug: #1851362\n'}, {'number': 2, 'created': '2020-01-09 17:27:07.000000000', 'files': ['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py', 'releasenotes/notes/qos-port-network-policy-cab43faa0f8bc036.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/37ec175817f0484db74ffdc081da765659a7b9ab', 'message': '""qos_network_policy_id"" attribute added to port resource\n\nChange-Id: I0dd2104e26e49119ad384d35318ac0f4d21a21ad\nPartial-Bug: #1851362\n'}]",0,693247,37ec175817f0484db74ffdc081da765659a7b9ab,11,5,2,16688,,,0,"""qos_network_policy_id"" attribute added to port resource

Change-Id: I0dd2104e26e49119ad384d35318ac0f4d21a21ad
Partial-Bug: #1851362
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/47/693247/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py', 'releasenotes/notes/qos-port-network-policy-cab43faa0f8bc036.yaml']",3,5bf0c7f26c9693f8138273819e800589f8d50f39,bug/1851362,--- features: - | ``qos_network_policy_id`` attribute support has been added to the network port resource ,,11,0
openstack%2Ftripleo-ansible~master~I9add2a3277b82d63e519cbfd7da94bbedc6cef55,openstack/tripleo-ansible,master,I9add2a3277b82d63e519cbfd7da94bbedc6cef55,Update the helper filter for needs_delete,MERGED,2020-01-21 20:37:00.000000000,2020-01-22 06:17:13.000000000,2020-01-22 06:17:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 20:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fec00320c85a9eb65870d1bf57be2d5f263a4e30', 'message': 'Update the helper filter for needs_delete\n\nThis change updats the helper filter so that we can better identify containers that are in\nneed of deleting.\n\nChange-Id: I9add2a3277b82d63e519cbfd7da94bbedc6cef55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-21 23:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c413ef25dbcaac9d429642dda2502c8a96296c69', 'message': 'Update the helper filter for needs_delete\n\nThis change updats the helper filter so that we can better identify containers that are in\nneed of deleting.\n\nChange-Id: I9add2a3277b82d63e519cbfd7da94bbedc6cef55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-01-21 23:39:46.000000000', 'files': ['tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/166c4f184ec84ff97b77b05013a963b94b1843b0', 'message': 'Update the helper filter for needs_delete\n\nThis change updats the helper filter so that we can better identify containers that are in\nneed of deleting/restart.\n\n> Updates to the ""needs_delete"" helper will ensure we\'re validating data.\n> Tests have been added to the test function `test_needs_delete` which will\n  ensure our data validation process is functional.\n\nChange-Id: I9add2a3277b82d63e519cbfd7da94bbedc6cef55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,703690,166c4f184ec84ff97b77b05013a963b94b1843b0,12,5,3,7353,,,0,"Update the helper filter for needs_delete

This change updats the helper filter so that we can better identify containers that are in
need of deleting/restart.

> Updates to the ""needs_delete"" helper will ensure we're validating data.
> Tests have been added to the test function `test_needs_delete` which will
  ensure our data validation process is functional.

Change-Id: I9add2a3277b82d63e519cbfd7da94bbedc6cef55
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/703690/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/helpers.py'],1,fec00320c85a9eb65870d1bf57be2d5f263a4e30,,"import re labels = c['Config'].get('Labels', {}) managed_by = labels.get('managed_by', 'unknown').lower() # Check containers have a label if not labels: # Don't delete containers NOT managed by tripleo* or paunch* elif not re.findall(r""(?=(""+'|'.join(['tripleo', 'paunch'])+r""))"", managed_by): to_skip += [c_name] elif labels.get('config_id') != config_id: elif 'config_data' not in labels:", # Don't delete containers not managed by tripleo-ansible if (c['Config']['Labels'] is None or c['Config']['Labels'].get( 'managed_by') != 'tripleo_ansible'): continue if (c['Config']['Labels'] is None or c['Config']['Labels'].get('config_id') != config_id): continue if (c['Config']['Labels'] is not None and 'config_data' not in c['Config']['Labels']): continue,12,11
openstack%2Ftripleo-operator-ansible~master~I3f188785d19f7285a30f3f638c539f5671541e78,openstack/tripleo-operator-ansible,master,I3f188785d19f7285a30f3f638c539f5671541e78,Add minion job to cover changes,MERGED,2020-01-14 16:04:59.000000000,2020-01-22 05:54:51.000000000,2020-01-22 05:54:51.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 16:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b167f7f3dd9a17e3e895ec2ee067477a09441ffe', 'message': 'Add minion job to cover changes\n\nOnce we switch quickstart to use this, we should run the minion job to\ntest the changes to the install role.\n\nDepends-On: https://review.opendev.org/#/c/701790/\nChange-Id: I3f188785d19f7285a30f3f638c539f5671541e78\n'}, {'number': 2, 'created': '2020-01-18 00:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/904436dacd3224262078bf2a79f90b50660858a0', 'message': 'Add minion job to cover changes\n\nOnce we switch quickstart to use this, we should run the minion job to\ntest the changes to the install role.\n\nDepends-On: https://review.opendev.org/#/c/701790/\nChange-Id: I3f188785d19f7285a30f3f638c539f5671541e78\n'}, {'number': 3, 'created': '2020-01-20 17:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f3615b9f30c4380076e8f28b98db4ba182b3cb2c', 'message': 'Add minion job to cover changes\n\nOnce we switch quickstart to use this, we should run the minion job to\ntest the changes to the install role.\n\nDepends-On: https://review.opendev.org/#/c/701790/\nChange-Id: I3f188785d19f7285a30f3f638c539f5671541e78\n'}, {'number': 4, 'created': '2020-01-21 17:16:02.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/835a030fe7e91b4d7fae74bad33d42984107ee4b', 'message': 'Add minion job to cover changes\n\nOnce we switch quickstart to use this, we should run the minion job to\ntest the changes to the install role.\n\nDepends-On: https://review.opendev.org/#/c/701790/\nChange-Id: I3f188785d19f7285a30f3f638c539f5671541e78\n'}]",0,702466,835a030fe7e91b4d7fae74bad33d42984107ee4b,26,4,4,14985,,,0,"Add minion job to cover changes

Once we switch quickstart to use this, we should run the minion job to
test the changes to the install role.

Depends-On: https://review.opendev.org/#/c/701790/
Change-Id: I3f188785d19f7285a30f3f638c539f5671541e78
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/66/702466/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b167f7f3dd9a17e3e895ec2ee067477a09441ffe,rename-roles, - tripleo-ci-centos-7-containers-undercloud-minion: dependencies: *deps_unit_lint files: &containers_minion_files - ^roles/tripleo-undercloud-install/.*$ - ^roles/tripleo-undercloud-minion-install/.*$ - tripleo-ci-centos-7-containers-undercloud-minion: files: *containers_minion_files,,8,0
openstack%2Ftripleo-operator-ansible~master~Id472a75ed71170208acc7cfbc79f7ad18945ea67,openstack/tripleo-operator-ansible,master,Id472a75ed71170208acc7cfbc79f7ad18945ea67,Rename roles to use underscore,MERGED,2020-01-20 15:16:35.000000000,2020-01-22 05:54:50.000000000,2020-01-22 05:54:50.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 15:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ea8db1edf2d356c2e2f65b4efa5a845285db2d88', 'message': ""Rename roles to use underscore\n\nIt appears that '-' is not valid in role names in collections per\nhttps://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id472a75ed71170208acc7cfbc79f7ad18945ea67\n""}, {'number': 2, 'created': '2020-01-20 16:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/dea45dabd649134a5144c183579dd860f1a6d2fd', 'message': ""Rename roles to use underscore\n\nIt appears that '-' is not valid in role names in collections per\nhttps://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id472a75ed71170208acc7cfbc79f7ad18945ea67\n""}, {'number': 3, 'created': '2020-01-20 17:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ce6b237a3b7180406712d65797e0ba63a18c9315', 'message': ""Rename roles to use underscore\n\nIt appears that '-' is not valid in role names in collections per\nhttps://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id472a75ed71170208acc7cfbc79f7ad18945ea67\n""}, {'number': 4, 'created': '2020-01-20 17:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/bc98c5735da312d31ebb0cf72fde82c1ff589946', 'message': ""Rename roles to use underscore\n\nIt appears that '-' is not valid in role names in collections per\nhttps://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id472a75ed71170208acc7cfbc79f7ad18945ea67\n""}, {'number': 5, 'created': '2020-01-20 17:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/800eacf88124d260ae374b59277b1d60d45b7308', 'message': ""Rename roles to use underscore\n\nIt appears that '-' is not valid in role names in collections per\nhttps://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id472a75ed71170208acc7cfbc79f7ad18945ea67\n""}, {'number': 6, 'created': '2020-01-21 17:16:02.000000000', 'files': ['roles/tripleo_container_image_list/README.md', 'roles/tripleo_undercloud_install/README.md', 'roles/tripleo-container-image-list/tests/test.yml', 'roles/tripleo_undercloud_upgrade/README.md', 'roles/tripleo_undercloud_install/tests/inventory', 'roles/tripleo_repos/tasks/install.yml', 'roles/tripleo_container_image_delete/tests/test.yml', 'roles/tripleo-container-image-list', 'roles/tripleo_repos/tests/inventory', 'roles/tripleo_undercloud_minion_upgrade/tests/inventory', 'roles/tripleo-container-image-prepare-default', 'roles/tripleo-repos/handlers/main.yml', 'roles/tripleo-undercloud-upgrade', 'roles/tripleo_container_image_show/README.md', 'roles/tripleo_undercloud_minion_upgrade/tests/test.yml', 'roles/tripleo_container_image_list/defaults/main.yml', 'roles/tripleo-undercloud-install', 'roles/tripleo-undercloud-backup/meta/main.yml', 'roles/tripleo_container_image_delete/defaults/main.yml', 'roles/tripleo_container_image_delete/meta/main.yml', 'roles/tripleo_repos/defaults/main.yml', 'roles/tripleo_undercloud_minion_upgrade/tasks/main.yml', 'roles/tripleo-undercloud-upgrade/meta/main.yml', 'roles/tripleo_container_image_show/tests/inventory', 'roles/tripleo_undercloud_upgrade/meta/main.yml', 'roles/tripleo_config_generate_ansible/tests/inventory', 'roles/tripleo_config_generate_ansible/defaults/main.yml', 'roles/tripleo_undercloud_install/meta/main.yml', 'roles/tripleo-undercloud-install/meta/main.yml', 'roles/tripleo_container_image_prepare_default/meta/main.yml', 'roles/tripleo-container-image-show/meta/main.yml', 'roles/tripleo_undercloud_backup/tests/test.yml', 'roles/tripleo_container_image_show/defaults/main.yml', 'roles/tripleo_undercloud_minion_install/tasks/main.yml', 'roles/tripleo_container_image_list/meta/main.yml', 'roles/tripleo-undercloud-minion-install', 'roles/tripleo_undercloud_backup/tests/inventory', 'roles/tripleo-undercloud-minion-upgrade', 'roles/tripleo_config_generate_ansible/tasks/main.yml', 'roles/tripleo_container_image_list/tasks/main.yml', 'roles/tripleo-config-generate-ansible/tests/test.yml', 'roles/tripleo_container_image_push/tests/test.yml', 'roles/tripleo_repos/handlers/main.yml', 'roles/tripleo-undercloud-upgrade/tests/test.yml', 'roles/tripleo-config-generate-ansible', 'roles/tripleo_undercloud_minion_upgrade/defaults/main.yml', 'roles/tripleo_repos/tests/test.yml', 'roles/tripleo-container-image-delete', 'roles/tripleo_undercloud_backup/README.md', 'roles/tripleo_container_image_show/tasks/main.yml', 'roles/tripleo_container_image_delete/README.md', 'roles/tripleo-undercloud-minion-install/tests/test.yml', 'roles/tripleo_config_generate_ansible/tests/test.yml', 'roles/tripleo_undercloud_upgrade/tests/test.yml', 'roles/tripleo_undercloud_install/tasks/main.yml', 'roles/tripleo-container-image-delete/meta/main.yml', 'roles/tripleo_undercloud_install/tests/test.yml', 'roles/tripleo_container_image_prepare_default/defaults/main.yml', 'roles/tripleo_repos/tasks/main.yml', 'roles/tripleo_container_image_prepare_default/tasks/main.yml', 'roles/tripleo-container-image-delete/tests/test.yml', 'roles/tripleo-container-image-push', 'roles/tripleo_repos/meta/main.yml', 'roles/tripleo-repos', 'roles/tripleo_container_image_prepare_default/tests/test.yml', 'roles/tripleo_container_image_show/tests/test.yml', 'roles/tripleo_undercloud_install/defaults/main.yml', 'roles/tripleo_undercloud_upgrade/tasks/main.yml', 'roles/tripleo_undercloud_backup/tasks/main.yml', 'roles/tripleo_undercloud_minion_upgrade/meta/main.yml', 'roles/tripleo_undercloud_minion_install/meta/main.yml', 'roles/tripleo-container-image-show', 'roles/tripleo_undercloud_minion_upgrade/README.md', 'roles/tripleo_undercloud_minion_install/README.md', 'roles/tripleo_container_image_prepare_default/README.md', 'roles/tripleo_undercloud_backup/meta/main.yml', 'setup.cfg', 'roles/tripleo-container-image-push/meta/main.yml', 'roles/tripleo_container_image_push/tests/inventory', 'roles/tripleo_undercloud_minion_install/defaults/main.yml', 'roles/tripleo_undercloud_minion_install/tests/test.yml', 'roles/tripleo-container-image-list/meta/main.yml', 'roles/tripleo_container_image_push/tasks/main.yml', 'roles/tripleo-undercloud-backup/tests/test.yml', 'roles/tripleo_container_image_list/tests/inventory', 'roles/tripleo-repos/vars/main.yml', 'roles/tripleo_config_generate_ansible/meta/main.yml', 'roles/tripleo_container_image_show/meta/main.yml', 'roles/tripleo_container_image_delete/tests/inventory', 'roles/tripleo-undercloud-minion-install/meta/main.yml', 'roles/tripleo-undercloud-backup', 'roles/tripleo_container_image_list/tests/test.yml', 'roles/tripleo_undercloud_upgrade/tests/inventory', 'zuul.d/layout.yaml', 'roles/tripleo_container_image_push/meta/main.yml', 'roles/tripleo_undercloud_upgrade/defaults/main.yml', 'roles/tripleo_repos/README.md', 'roles/README.md', 'roles/tripleo-undercloud-minion-upgrade/tests/test.yml', 'roles/tripleo_undercloud_backup/defaults/main.yml', 'roles/tripleo_container_image_push/README.md', 'roles/tripleo-undercloud-install/tests/test.yml', 'roles/tripleo_repos/vars/main.yml', 'roles/tripleo_undercloud_minion_install/tests/inventory', 'roles/tripleo_container_image_delete/tasks/main.yml', 'roles/tripleo_container_image_push/defaults/main.yml', 'roles/tripleo_container_image_prepare_default/tests/inventory', 'roles/tripleo-container-image-prepare-default/meta/main.yml', 'roles/tripleo_config_generate_ansible/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b349c5312bea4657d270cc55c9ffeecd16cebd0f', 'message': ""Rename roles to use underscore\n\nIt appears that '-' is not valid in role names in collections per\nhttps://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id472a75ed71170208acc7cfbc79f7ad18945ea67\n""}]",0,703419,b349c5312bea4657d270cc55c9ffeecd16cebd0f,27,5,6,14985,,,0,"Rename roles to use underscore

It appears that '-' is not valid in role names in collections per
https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory

Change-Id: Id472a75ed71170208acc7cfbc79f7ad18945ea67
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/19/703419/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_container_image_list/README.md', 'roles/tripleo_undercloud_install/README.md', 'roles/tripleo-container-image-list/tests/test.yml', 'roles/tripleo_undercloud_upgrade/README.md', 'roles/tripleo_undercloud_install/tests/inventory', 'roles/tripleo_repos/tasks/install.yml', 'roles/tripleo_container_image_delete/tests/test.yml', 'roles/tripleo-container-image-list', 'roles/tripleo_repos/tests/inventory', 'roles/tripleo_undercloud_minion_upgrade/tests/inventory', 'roles/tripleo-container-image-prepare-default', 'roles/tripleo-repos/handlers/main.yml', 'roles/tripleo-undercloud-upgrade', 'roles/tripleo_container_image_show/README.md', 'roles/tripleo_undercloud_minion_upgrade/tests/test.yml', 'roles/tripleo_container_image_list/defaults/main.yml', 'roles/tripleo-undercloud-install', 'roles/tripleo-undercloud-backup/meta/main.yml', 'roles/tripleo_config_generate_ansible/tripleo-config-generate-ansible', 'roles/tripleo_container_image_delete/defaults/main.yml', 'roles/tripleo_container_image_delete/meta/main.yml', 'roles/tripleo_repos/defaults/main.yml', 'roles/tripleo_undercloud_minion_upgrade/tasks/main.yml', 'roles/tripleo-undercloud-upgrade/meta/main.yml', 'roles/tripleo_container_image_show/tests/inventory', 'roles/tripleo_undercloud_upgrade/meta/main.yml', 'roles/tripleo_config_generate_ansible/tests/inventory', 'roles/tripleo_config_generate_ansible/defaults/main.yml', 'roles/tripleo_undercloud_install/meta/main.yml', 'roles/tripleo-undercloud-install/meta/main.yml', 'roles/tripleo_container_image_prepare_default/meta/main.yml', 'roles/tripleo-container-image-show/meta/main.yml', 'roles/tripleo_undercloud_backup/tests/test.yml', 'roles/tripleo_container_image_show/defaults/main.yml', 'roles/tripleo_undercloud_minion_install/tasks/main.yml', 'roles/tripleo_container_image_list/meta/main.yml', 'roles/tripleo-undercloud-minion-install', 'roles/tripleo_undercloud_backup/tests/inventory', 'roles/tripleo-undercloud-minion-upgrade', 'roles/tripleo_config_generate_ansible/tasks/main.yml', 'roles/tripleo_container_image_list/tasks/main.yml', 'roles/tripleo-config-generate-ansible/tests/test.yml', 'roles/tripleo_container_image_push/tests/test.yml', 'roles/tripleo_repos/handlers/main.yml', 'roles/tripleo-undercloud-upgrade/tests/test.yml', 'roles/tripleo-config-generate-ansible', 'roles/tripleo_undercloud_minion_upgrade/defaults/main.yml', 'roles/tripleo_repos/tests/test.yml', 'roles/tripleo-container-image-delete', 'roles/tripleo_undercloud_backup/README.md', 'roles/tripleo_container_image_show/tasks/main.yml', 'roles/tripleo_container_image_delete/README.md', 'roles/tripleo-undercloud-minion-install/tests/test.yml', 'roles/tripleo_config_generate_ansible/tests/test.yml', 'roles/tripleo_undercloud_upgrade/tests/test.yml', 'roles/tripleo_undercloud_install/tasks/main.yml', 'roles/tripleo-container-image-delete/meta/main.yml', 'roles/tripleo_undercloud_install/tests/test.yml', 'roles/tripleo_container_image_prepare_default/defaults/main.yml', 'roles/tripleo_repos/tasks/main.yml', 'roles/tripleo_container_image_prepare_default/tasks/main.yml', 'roles/tripleo-container-image-delete/tests/test.yml', 'roles/tripleo-container-image-push', 'roles/tripleo_repos/meta/main.yml', 'roles/tripleo-repos', 'roles/tripleo_container_image_prepare_default/tests/test.yml', 'roles/tripleo_container_image_show/tests/test.yml', 'roles/tripleo_undercloud_install/defaults/main.yml', 'roles/tripleo_undercloud_upgrade/tasks/main.yml', 'roles/tripleo_undercloud_backup/tasks/main.yml', 'roles/tripleo_undercloud_minion_upgrade/meta/main.yml', 'roles/tripleo_undercloud_minion_install/meta/main.yml', 'roles/tripleo-container-image-show', 'roles/tripleo_undercloud_minion_upgrade/README.md', 'roles/tripleo_undercloud_minion_install/README.md', 'roles/tripleo_container_image_prepare_default/README.md', 'roles/tripleo_undercloud_backup/meta/main.yml', 'roles/tripleo-container-image-push/meta/main.yml', 'roles/tripleo_container_image_push/tests/inventory', 'roles/tripleo_undercloud_minion_install/defaults/main.yml', 'roles/tripleo_undercloud_minion_install/tests/test.yml', 'roles/tripleo-container-image-list/meta/main.yml', 'roles/tripleo_container_image_push/tasks/main.yml', 'roles/tripleo-undercloud-backup/tests/test.yml', 'roles/tripleo_container_image_list/tests/inventory', 'roles/tripleo-repos/vars/main.yml', 'roles/tripleo_config_generate_ansible/meta/main.yml', 'roles/tripleo_container_image_show/meta/main.yml', 'roles/tripleo_container_image_delete/tests/inventory', 'roles/tripleo-undercloud-minion-install/meta/main.yml', 'roles/tripleo-undercloud-backup', 'roles/tripleo_container_image_list/tests/test.yml', 'roles/tripleo_undercloud_upgrade/tests/inventory', 'roles/tripleo_container_image_push/meta/main.yml', 'roles/tripleo_undercloud_upgrade/defaults/main.yml', 'roles/tripleo_repos/README.md', 'roles/tripleo-undercloud-minion-upgrade/tests/test.yml', 'roles/tripleo_undercloud_backup/defaults/main.yml', 'roles/tripleo_container_image_push/README.md', 'roles/tripleo-undercloud-install/tests/test.yml', 'roles/tripleo_repos/vars/main.yml', 'roles/tripleo_undercloud_minion_install/tests/inventory', 'roles/tripleo_container_image_delete/tasks/main.yml', 'roles/tripleo_container_image_push/defaults/main.yml', 'roles/tripleo_container_image_prepare_default/tests/inventory', 'roles/tripleo-container-image-prepare-default/meta/main.yml', 'roles/tripleo_config_generate_ansible/README.md']",107,ea8db1edf2d356c2e2f65b4efa5a845285db2d88,rename-roles,tripleo_config_generate_ansible name: tripleo_config_generate_ansible,tripleo-config-generate-ansible name: tripleo-config-generate-ansible,112,492
openstack%2Fneutron~master~Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8,openstack/neutron,master,Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8,Add OVS QoS driver cache for minimum bandwidth rules,MERGED,2019-10-10 14:44:19.000000000,2020-01-22 05:39:01.000000000,2020-01-22 05:36:24.000000000,"[{'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-10 14:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6240b20e9ae1a1c8179360b88e416a20b4a8b68b', 'message': '[DNM] Test remove Queue used in Qos\n\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 2, 'created': '2019-10-11 11:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4dca1333442d9e2bf6286491ef31ab18cc40317', 'message': '[DNM] Test remove Queue used in Qos\n\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 3, 'created': '2019-10-11 15:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb7060b0e9fb22f6987fde325d2974fa2da85e20', 'message': 'Check referential violation when deleting Queue from OVSDB\n\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error should\nbe solved: the Queue is removed from the QoS registers and then deleted.\n\nThis problem is happening now in testing, where several QoS rules are\ncreated at the same time in the OVSDB. This should not happen in a\nproduction environment, where only one OVS agent must be running.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 4, 'created': '2019-10-15 17:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af54d133a98a7f1c98a0805fb409fd48f434a98b', 'message': '[WIP] Check referential violation when deleting Queue from OVSDB\n\nI NEED TO CHANGE THIS DESCRIPTION!!\n\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error should\nbe solved: the Queue is removed from the QoS registers and then deleted.\n\nThis problem is happening now in testing, where several QoS rules are\ncreated at the same time in the OVSDB. This should not happen in a\nproduction environment, where only one OVS agent must be running.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 5, 'created': '2019-10-16 07:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87790b09755084b92111f16e9b23941b82bd7aa3', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 6, 'created': '2019-10-18 08:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52e66b428080873f8fda0589e8b84f7c2c6cf65c', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 7, 'created': '2019-10-21 08:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d5058c5abd8ac04908bcffcf32395abfd1d4d8b', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 8, 'created': '2019-10-26 19:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9174fb0f4ad98ec3733f3838954a3ec0dbb9d50', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 9, 'created': '2019-10-29 13:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9206d4b3620175495be7da819049c4a4f63ab8dc', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 10, 'created': '2019-11-29 18:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4339ce995afb7aa0a32ba5109f6a28b110b0bb8b', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 11, 'created': '2019-12-11 13:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d53e146cb41597303e05c03021b6617122dd654e', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 12, 'created': '2019-12-11 15:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4f5a34ea9defc3a3793fea74dd1ed1d80ffe298', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 13, 'created': '2019-12-12 09:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fabb0582547da533264c9f93dcb64ec12dd7e32b', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 14, 'created': '2020-01-06 09:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/768c52c73ce28e9ca1d4df62c448d56dadabcef8', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}, {'number': 15, 'created': '2020-01-07 14:40:49.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/83d7eb961dc8a5d4e815bc3f110f8523a532caeb', 'message': 'Add OVS QoS driver cache for minimum bandwidth rules\n\n1. Add OVS QoS driver cache\nAdded minimum bandwidth rules cache in the OVS QoS driver. If a new\nport is detected in the integration bridge, managed by the OVS agent\ndriver, the QoS extension is applied (if configured).\n\nIf this new port does not have a QoS rule, by default the QoS\nconfiguration is reset in this port. Because this port has no Queue\nrelated, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should\nnot execute the rule cleanup.\n\nThis QoS rule cache implementation per porti is currently used in the\nOVS QoS driver for the DSCP and the bandwitdh limit rules.\n\n2. If a Queue cannot be deleted, log the QoS registers using it\nIf a Queue is still used in a QoS register in the OVSDB, it cannot\nbe deleted. With the current design, only one QoS rule is created in\nthe database and several Queues are assigned to it.\n\nIf something external to the OVS agent is handling the Queues and by\nmistake a Queue is assigned to other QoS registers, this error is now\nlogged before raising the exception.\n\nCloses-Bug: #1845176\nChange-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8\n'}]",11,687922,83d7eb961dc8a5d4e815bc3f110f8523a532caeb,129,11,15,16688,,,0,"Add OVS QoS driver cache for minimum bandwidth rules

1. Add OVS QoS driver cache
Added minimum bandwidth rules cache in the OVS QoS driver. If a new
port is detected in the integration bridge, managed by the OVS agent
driver, the QoS extension is applied (if configured).

If this new port does not have a QoS rule, by default the QoS
configuration is reset in this port. Because this port has no Queue
related, the call ""QosOVSAgentDriver.delete_minimum_bandwidth"" should
not execute the rule cleanup.

This QoS rule cache implementation per porti is currently used in the
OVS QoS driver for the DSCP and the bandwitdh limit rules.

2. If a Queue cannot be deleted, log the QoS registers using it
If a Queue is still used in a QoS register in the OVSDB, it cannot
be deleted. With the current design, only one QoS rule is created in
the database and several Queues are assigned to it.

If something external to the OVS agent is handling the Queues and by
mistake a Queue is assigned to other QoS registers, this error is now
logged before raising the exception.

Closes-Bug: #1845176
Change-Id: Ia9077fc20e4ca360819a2e368c8c1f9250e5a6d8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/687922/14 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/common/test_ovs_lib.py'],1,6240b20e9ae1a1c8179360b88e416a20b4a8b68b,bug/1845176,"# RAH from oslo_log import log as logging LOG = logging.getLogger(__name__) def test__aaa(self): queue_id_1, port_id_2 = self._create_queue() queue_id_2, port_id_2 = self._create_queue() queues = {1: queue_id_1, 2: queue_id_2} self.ovs._min_bw_qos_id = uuidutils.generate_uuid() qos_id_1 = self._create_qos(queues=queues) self.ovs._min_bw_qos_id = uuidutils.generate_uuid() qos_id_2 = self._create_qos(queues=queues) try: self.ovs.ovsdb.db_destroy('Queue', queue_id_1).execute() except Exception as e: LOG.warning('Exception: %s', str(e)) raise finally: raise Exception(""There should be an exception here"") ",,22,0
openstack%2Fneutron~master~I7833295398686aca3c37859dbe4c1c9d2aca1c55,openstack/neutron,master,I7833295398686aca3c37859dbe4c1c9d2aca1c55,Remove TripleO job from Neutron's check queue,MERGED,2020-01-19 10:13:12.000000000,2020-01-22 05:28:20.000000000,2020-01-22 05:23:22.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-19 10:13:12.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1e6c8e556d1fc3c5c2bb315d1896bd243b4a81b', 'message': ""Remove TripleO job from Neutron's check queue\n\nThis job can't run on python 3 and it's failing 100% since long time.\nThere is no point to run it like that now as it's only waste of infra\nresources.\nWe will re-add this job to Neutron's check queue when it will be fixed.\n\nChange-Id: I7833295398686aca3c37859dbe4c1c9d2aca1c55\n""}]",0,703283,d1e6c8e556d1fc3c5c2bb315d1896bd243b4a81b,18,8,1,11975,,,0,"Remove TripleO job from Neutron's check queue

This job can't run on python 3 and it's failing 100% since long time.
There is no point to run it like that now as it's only waste of infra
resources.
We will re-add this job to Neutron's check queue when it will be fixed.

Change-Id: I7833295398686aca3c37859dbe4c1c9d2aca1c55
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/703283/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d1e6c8e556d1fc3c5c2bb315d1896bd243b4a81b,disable-broken-non-voting-jobs, # TODO(slaweq): add this job again to the check queue when it will # be working fine with python 3 #- neutron-centos-7-tripleo-standalone, - neutron-centos-7-tripleo-standalone,3,1
openstack%2Fneutron~master~I772c33789443f08e4b70d37602a73d28fdf2f6fb,openstack/neutron,master,I772c33789443f08e4b70d37602a73d28fdf2f6fb,[OVN] Enable neutron-ovn-tempest-ovs-release job,MERGED,2020-01-07 15:52:30.000000000,2020-01-22 05:26:47.000000000,2020-01-22 05:23:19.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-07 15:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7f7c9e17ab3f82195439032575f9a4eb8eaf680', 'message': 'DO NOT REVIEW: Test OVN driver with tempest\n\nChange-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-01-07 15:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22a073b6bc139f8a715753b9e7878f19fab8c4f4', 'message': 'DO NOT REVIEW: Test OVN driver with tempest\n\nChange-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-01-07 16:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/467d56a5519d855b1ff938abf3a3151bea8dff3c', 'message': 'DO NOT REVIEW: Test OVN driver with tempest\n\nChange-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-01-07 18:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9a4640759c7fe9c3a8814b4e6fc596e5af15bf7', 'message': 'DO NOT REVIEW: Test OVN driver with tempest\n\nChange-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-01-08 10:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d64cbdc50b207bfa9046b01e60fbeafd93fb97df', 'message': 'DO NOT REVIEW: Test OVN driver with tempest\n\nChange-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-01-08 13:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9196b67aeb6b6b1f92ef7de7018cc32fda215150', 'message': '[OVN] Enable neutron-ovn-tempest-ovs-release job\n\nThe previous patch changed DevStack to deploy the OVN driver from the\nNeutron repository instead of the networking-ovn one.\n\nThis patch is now enabling tempest testing that code in the check and\ngate pipeline.\n\nChange-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2020-01-08 13:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6287e0558b097ee52a70892faa03f15c1f4c453f', 'message': '[OVN] Enable neutron-ovn-tempest-ovs-release job\n\nThe previous patch changed DevStack to deploy the OVN driver from the\nNeutron repository instead of the networking-ovn one.\n\nThis patch is now enabling tempest testing that code in the check and\ngate pipeline.\n\nChange-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2020-01-17 08:11:29.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1310c536e628ce8a7673415df00cd962897f47a9', 'message': '[OVN] Enable neutron-ovn-tempest-ovs-release job\n\nThe previous patch changed DevStack to deploy the OVN driver from the\nNeutron repository instead of the networking-ovn one.\n\nThis patch is now enabling tempest testing that code in the check and\ngate pipeline.\n\nChange-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",2,701392,1310c536e628ce8a7673415df00cd962897f47a9,54,10,8,6773,,,0,"[OVN] Enable neutron-ovn-tempest-ovs-release job

The previous patch changed DevStack to deploy the OVN driver from the
Neutron repository instead of the networking-ovn one.

This patch is now enabling tempest testing that code in the check and
gate pipeline.

Change-Id: I772c33789443f08e4b70d37602a73d28fdf2f6fb
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/701392/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml']",2,f7f7c9e17ab3f82195439032575f9a4eb8eaf680,bp/neutron-ovn-merge," #- neutron-functional #- neutron-fullstack #- neutron-rally-task #- neutron-tempest-dvr #- neutron-tempest-linuxbridge #- neutron-grenade-multinode #- neutron-grenade-dvr-multinode #- tempest-integrated-networking: # # We don't run the job on things like neutron docs-only changes # irrelevant-files: &irrelevant-files # - ^(test-|)requirements.txt$ # - ^.*\.rst$ # - ^doc/.*$ # - ^neutron/locale/.*$ # - ^neutron/tests/unit/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^tox.ini$ # - ^vagrant/.*$ # - ^migration/.*$ #- tempest-multinode-full-py3: # voting: false # irrelevant-files: *irrelevant-files #- neutron-tempest-dvr-ha-multinode-full #- neutron-tempest-iptables_hybrid #- ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # irrelevant-files: *irrelevant-files #- tempest-slow-py3: # irrelevant-files: *irrelevant-files ##- neutron-ovn-tempest-ovs-release #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false # irrelevant-files: *irrelevant-files #- tempest-ipv6-only: # irrelevant-files: *irrelevant-files #- openstacksdk-functional-devstack-networking: # voting: false #- neutron-functional-with-uwsgi: # voting: false #- neutron-fullstack-with-uwsgi: # voting: false #- neutron-tempest-with-uwsgi: # voting: false #- neutron-centos-7-tripleo-standalone ##- neutron-ovn-rally-task ## TripleO jobs that deploy OVN. ## Note we don't use a project-template here, so it's easier ## to disable voting on one specific job if things go wrong. ## In Stein and beyond, fs010 will run using ## networking-ovn-tripleo-ci-centos-7-containers-multinode. ## If you need any support to debug these jobs in case of ## failures, please reach us on #tripleo IRC channel. ##- neutron-ovn-tripleo-ci-centos-7-containers-multinode #- neutron-ovn-tempest-slow: # voting: false #- neutron-ovn-tempest-full-multinode-ovs-master: # voting: false - neutron-ovn-tempest-ovs-master - neutron-ovn-tempest-ovs-release"," - neutron-functional - neutron-fullstack - neutron-rally-task - neutron-tempest-dvr - neutron-tempest-linuxbridge - neutron-grenade-multinode - neutron-grenade-dvr-multinode - tempest-integrated-networking: # We don't run the job on things like neutron docs-only changes irrelevant-files: &irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: *irrelevant-files - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *irrelevant-files - tempest-slow-py3: irrelevant-files: *irrelevant-files #- neutron-ovn-tempest-ovs-release - networking-midonet-tempest-aio-ml2-centos-7: voting: false irrelevant-files: *irrelevant-files - tempest-ipv6-only: irrelevant-files: *irrelevant-files - openstacksdk-functional-devstack-networking: voting: false - neutron-functional-with-uwsgi: voting: false - neutron-fullstack-with-uwsgi: voting: false - neutron-tempest-with-uwsgi: voting: false - neutron-centos-7-tripleo-standalone #- neutron-ovn-rally-task # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. #- neutron-ovn-tripleo-ci-centos-7-containers-multinode - neutron-ovn-tempest-slow: voting: false - neutron-ovn-tempest-full-multinode-ovs-master: voting: false",66,61
openstack%2Fmistral-dashboard~master~I910c7f2b3eae107a8d8022366f738b006cf4831a,openstack/mistral-dashboard,master,I910c7f2b3eae107a8d8022366f738b006cf4831a,s/assertItemsEqual/assertCountEqual/g,MERGED,2020-01-20 16:38:56.000000000,2020-01-22 05:25:09.000000000,2020-01-22 05:25:09.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-20 16:38:56.000000000', 'files': ['mistraldashboard/executions/tests.py', 'mistraldashboard/tasks/tests.py', 'mistraldashboard/workflows/tests.py', 'mistraldashboard/workbooks/tests.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/9c19e28c218f50682a735772f4ad3ee616f65368', 'message': 's/assertItemsEqual/assertCountEqual/g\n\nassertItemsEqual was renamed to assertCountEqual in Python 3, and the\ntestsuite is failing now - rename it.\nSee also https://six.readthedocs.io/#six.assertCountEqual\n\nThis unbreaks the testsuite.\n\nChange-Id: I910c7f2b3eae107a8d8022366f738b006cf4831a\n'}]",0,703446,9c19e28c218f50682a735772f4ad3ee616f65368,9,5,1,1736,,,0,"s/assertItemsEqual/assertCountEqual/g

assertItemsEqual was renamed to assertCountEqual in Python 3, and the
testsuite is failing now - rename it.
See also https://six.readthedocs.io/#six.assertCountEqual

This unbreaks the testsuite.

Change-Id: I910c7f2b3eae107a8d8022366f738b006cf4831a
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/46/703446/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/executions/tests.py', 'mistraldashboard/tasks/tests.py', 'mistraldashboard/workflows/tests.py', 'mistraldashboard/workbooks/tests.py']",4,9c19e28c218f50682a735772f4ad3ee616f65368,remove-six," self.assertCountEqual(res.context['table'].data,"," self.assertItemsEqual(res.context['table'].data,",4,4
openstack%2Fcongress-dashboard~master~I5f4d701a6cf3ad6d9684608820dc863c7b3fa12c,openstack/congress-dashboard,master,I5f4d701a6cf3ad6d9684608820dc863c7b3fa12c,Remove six usage,MERGED,2020-01-11 15:25:57.000000000,2020-01-22 04:58:12.000000000,2020-01-22 04:56:50.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 8215}, {'_account_id': 8556}, {'_account_id': 8878}, {'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-11 15:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/53da53abd33f4403e4f3392d6768c782a0653c84', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: I5f4d701a6cf3ad6d9684608820dc863c7b3fa12c\n""}, {'number': 2, 'created': '2020-01-11 15:48:22.000000000', 'files': ['congress_dashboard/policies/rules/workflows.py'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/4fdd3e79e0e6f552fe671fccbb24a6c62cdaecff', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nNeeded-By: https://review.opendev.org/701743\nChange-Id: I5f4d701a6cf3ad6d9684608820dc863c7b3fa12c\n""}]",0,702077,4fdd3e79e0e6f552fe671fccbb24a6c62cdaecff,14,10,2,6547,,,0,"Remove six usage

This repo does not support Python 2 anymore, so we don't need
six for compatibility between Python2 and 3, convert six usage to Python
3 code.

Needed-By: https://review.opendev.org/701743
Change-Id: I5f4d701a6cf3ad6d9684608820dc863c7b3fa12c
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/77/702077/2 && git format-patch -1 --stdout FETCH_HEAD,['congress_dashboard/policies/rules/workflows.py'],1,53da53abd33f4403e4f3392d6768c782a0653c84,remove-six," if isinstance(columns, str): if isinstance(columns, str):","import six if isinstance(columns, six.string_types): if isinstance(columns, six.string_types):",2,3
openstack%2Fheat-tempest-plugin~master~I0876d562792e3a903c3472aeb3be41d34e25d607,openstack/heat-tempest-plugin,master,I0876d562792e3a903c3472aeb3be41d34e25d607,Use nodeset legacy-ubuntu-xenial for stable branch,MERGED,2020-01-09 15:17:22.000000000,2020-01-22 04:47:08.000000000,2020-01-22 04:47:08.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-09 15:17:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/0ee85bb04603ddce5128a4858aac629deecc62d6', 'message': 'Use nodeset legacy-ubuntu-xenial for stable branch\n\nChange-Id: I0876d562792e3a903c3472aeb3be41d34e25d607\n'}]",0,701749,0ee85bb04603ddce5128a4858aac629deecc62d6,11,3,1,12404,,,0,"Use nodeset legacy-ubuntu-xenial for stable branch

Change-Id: I0876d562792e3a903c3472aeb3be41d34e25d607
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/49/701749/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0ee85bb04603ddce5128a4858aac629deecc62d6,story/2007061, nodeset: legacy-ubuntu-xenial nodeset: legacy-ubuntu-xenial nodeset: legacy-ubuntu-xenial nodeset: legacy-ubuntu-xenial nodeset: legacy-ubuntu-xenial nodeset: legacy-ubuntu-xenial nodeset: legacy-ubuntu-xenial nodeset: legacy-ubuntu-xenial, nodeset: nodes: - name: primary label: ubuntu-xenial nodeset: nodes: - name: primary label: ubuntu-xenial nodeset: nodes: - name: primary label: ubuntu-xenial nodeset: nodes: - name: primary label: ubuntu-xenial nodeset: nodes: - name: primary label: ubuntu-xenial nodeset: nodes: - name: primary label: ubuntu-xenial nodeset: nodes: - name: primary label: ubuntu-xenial nodeset: nodes: - name: primary label: ubuntu-xenial,8,32
openstack%2Fheat~master~I6536224a3017c6b4a4ecef1b036e01190ecc5036,openstack/heat,master,I6536224a3017c6b4a4ecef1b036e01190ecc5036,Allow multi-layer global environment/template directory,ABANDONED,2016-03-27 18:12:05.000000000,2020-01-22 04:44:08.000000000,,"[{'_account_id': 4257}, {'_account_id': 8399}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-03-27 18:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0cd88171b8b82693552666b83a947bcf5d0fd5ac', 'message': 'Allow multi-layer global environment directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files exists in\ndirectory under global environment path.\nCloses-Bug: #1562577\nRelated-Bug: #1454401\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 2, 'created': '2016-03-28 02:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/50b0ccc6009bd098b60736474d22eb0e932240e4', 'message': 'Allow multi-layer global environment directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in\ndirectory under global environment path.\nCloses-Bug: #1562577\nRelated-Bug: #1454401\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 3, 'created': '2016-04-03 16:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e6e3e9064b2ee2aca0ccdc91b7028285197b2497', 'message': 'Allow multi-layer global environment directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in\ndirectory under global environment path.\nCloses-Bug: #1562577\nRelated-Bug: #1454401\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 4, 'created': '2016-04-03 18:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ec3a737029ba8c0119949c6305ec794a27aca803', 'message': 'Allow multi-layer global environment directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in\ndirectory under global environment path.\nCloses-Bug: #1562577\nRelated-Bug: #1454401\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 5, 'created': '2016-04-04 05:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b26b6bff21896061fb5923451f7dabf8efa82a14', 'message': 'Allow multi-layer global environment directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in\ndirectory under global environment path.\nCloses-Bug: #1562577\nRelated-Bug: #1454401\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 6, 'created': '2016-04-04 18:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/65c7beaa7a4081f430a4efc6df1032dddacaea7e', 'message': 'Allow multi-layer global environment directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in\ndirectory under global environment path.\nCloses-Bug: #1562577\nRelated-Bug: #1454401\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 7, 'created': '2016-04-12 17:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d6490dd5f2ff69a35aa746a993f1b22b1d2bd0f7', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 8, 'created': '2016-04-13 01:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/af74be372f13ae04fd97d54e48a6257cd8eb235e', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 9, 'created': '2016-04-13 02:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b21823f717941e0bfebefba18d5e90cf5ee5cae7', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 10, 'created': '2016-04-15 05:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/79257ddc61833e75770887daeed543ecb504aa62', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 11, 'created': '2016-05-06 16:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7752a2f990e18fd454adc46280f9be192a593a77', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 12, 'created': '2016-05-06 17:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6f437a4ec61820f12542269fb325207aad8f1add', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 13, 'created': '2016-05-06 17:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b3e325349e892a41d8ef5867d14969c9f8e73857', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 14, 'created': '2016-05-18 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9f5422d9f496988c645498d4a53db31fb30535dd', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 15, 'created': '2016-05-27 06:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/46b3bd8d9e40201eef602c5a05ced3953a5e62df', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 16, 'created': '2016-07-18 04:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/31125e1fa954938f32c4923e23fb690b2a4134f7', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 17, 'created': '2016-07-19 01:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fa31b19a75a84207db27d6733070fb0f7e162b5e', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 18, 'created': '2016-08-22 03:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1e8b8f833f58e6885f71814eaded87a27ce6fe4', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 19, 'created': '2016-12-19 16:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/23f7e0726b3c9d0cb6af3caa492fb77f32a5a584', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 20, 'created': '2017-01-16 11:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/db094b8f80f06b8df05009d3851886372dd2ac68', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nCloses-Bug: #1562577\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 21, 'created': '2018-05-10 17:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1b02832353da65cd4335d9fbb9c39ae9847e7b47', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nStory: #1562577\nTask: #17608\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 22, 'created': '2018-05-11 09:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eea4320db0593bc8c8d2f188174a095792195e7f', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nStory: #1562577\nTask: #17608\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}, {'number': 23, 'created': '2018-05-13 06:50:10.000000000', 'files': ['heat/tests/test_environment.py', 'heat/engine/environment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5cb3a5fe2edea08b2bfb2792b2bd01690c17af94', 'message': 'Allow multi-layer global environment/template directory\n\nCurrent design only allow global environment files on first layer of\nglobal environment path. This patch allow global environment files\nexists in directory under global environment path.\nStory: #1562577\nTask: #17608\n\nChange-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036\n'}]",5,298054,5cb3a5fe2edea08b2bfb2792b2bd01690c17af94,60,5,23,12404,,,0,"Allow multi-layer global environment/template directory

Current design only allow global environment files on first layer of
global environment path. This patch allow global environment files
exists in directory under global environment path.
Story: #1562577
Task: #17608

Change-Id: I6536224a3017c6b4a4ecef1b036e01190ecc5036
",git fetch https://review.opendev.org/openstack/heat refs/changes/54/298054/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_environment.py', 'heat/engine/environment.py']",2,0cd88171b8b82693552666b83a947bcf5d0fd5ac,story/1454401," read_environment_files_from_path(env, env_dir) if os.path.isdir(file_dir): try: env_files = glob.glob(os.path.join(file_dir, '*')) except OSError as osex: LOG.error(_LE(""Failed to read %s""), file_dir) LOG.exception(osex) return for file_path in env_files: read_environment_files_from_path(env, file_path) else: try: files, env_body = template_utils.process_environment_and_files( env_path=file_dir) env.files.update(files) env.load(env_body) except ValueError as vex: LOG.error(_LE(""Failed to parse %(file_dir)s""), { 'file_dir': file_dir}) LOG.exception(vex) except IOError as ioex: LOG.error(_LE(""Failed to read %(file_dir)s""), { 'file_dir': file_dir}) LOG.exception(ioex) except client_exc.CommandError as ce: LOG.error(_LE(""Failed to parse %(file_dir)s""), { 'file_dir': file_dir}) LOG.exception(ce)"," if os.path.isdir(env_dir): try: env_files = glob.glob(os.path.join(env_dir, '*')) except OSError as osex: LOG.error(_LE(""Failed to read %s""), env_dir) LOG.exception(osex) return for file_path in env_files: read_environment_files_from_path(env, file_path) try: files, env_body = template_utils.process_environment_and_files( env_path=file_dir) env.files.update(files) env.load(env_body) except ValueError as vex: LOG.error(_LE(""Failed to parse %(file_dir)s""), { 'file_dir': file_dir}) LOG.exception(vex) except IOError as ioex: LOG.error(_LE(""Failed to read %(file_dir)s""), { 'file_dir': file_dir}) LOG.exception(ioex) except client_exc.CommandError as ce: LOG.error(_LE(""Failed to parse %(file_dir)s""), { 'file_dir': file_dir}) LOG.exception(ce)",57,26
openstack%2Fheat~master~I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8,openstack/heat,master,I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8,Allow load global template for template resouce,ABANDONED,2015-08-05 10:11:08.000000000,2020-01-22 04:42:07.000000000,,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7256}, {'_account_id': 7385}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8399}, {'_account_id': 9751}, {'_account_id': 12321}, {'_account_id': 12404}, {'_account_id': 15123}, {'_account_id': 18955}, {'_account_id': 20990}, {'_account_id': 22348}]","[{'number': 1, 'created': '2015-08-05 10:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0f2ceb97d20b54b80675e4806bce6aed30dfc07b', 'message': 'add get_file in the global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment.\n\nThis patch also ensure no file are included from outside of environment\ndirectory by get_file.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 2, 'created': '2015-08-05 17:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d190862a641f4eee05b3e4ee0699d90b81a38d41', 'message': 'add get_file in the global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment.\n\nThis patch also ensure no file are included from outside of environment\ndirectory by get_file.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 3, 'created': '2015-09-01 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f5d3f7839bd5b69417bda8a9ad8086f39e102b3f', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment dircetion for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 4, 'created': '2015-09-01 16:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0b2a4cc0b52c0325ab1d11b4578cdbf85f34427a', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment dircetory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 5, 'created': '2015-09-12 07:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4a00530ecbf251e8e705eb716a70d3700e0389c5', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment dircetory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 6, 'created': '2015-10-13 09:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f5576fac6bb9e1330cb12846f7625cd8c744a0b1', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 7, 'created': '2015-10-14 06:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/14c9faa3d454d22a25e837d80665750326c1fa02', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 8, 'created': '2015-11-05 15:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9c215cf4b28423519d993d0ceeaf031bf65ee04c', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 9, 'created': '2015-11-16 06:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4716f6a6c0e768fc9a8e258f97a76cbd8f25e755', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 10, 'created': '2015-11-18 10:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3229817ffe0f31a523efff2b7e7b231c1d9f0ef9', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 11, 'created': '2015-11-26 18:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/216a7cb65593297bf6b63a58439113a4a6613d31', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 12, 'created': '2015-12-01 16:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2646773569abd050dedddc76720d735bad186b82', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 13, 'created': '2015-12-10 14:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c1d263983d502ef088be6fbf3a3d42e7e4ce0946', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 14, 'created': '2015-12-22 05:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fd9334d02030a3d6e62e527739f50c070a001dfd', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 15, 'created': '2016-01-14 01:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/214eff316955a5efedf15a5d4087dd10a3125a26', 'message': 'add get_file in HOT templates from global environment\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nDocImpact\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 16, 'created': '2016-04-03 16:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3d3b5145696fae63097e89ed4f1a684d5e1fbdbc', 'message': '[WIP]Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 17, 'created': '2016-04-03 18:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/55e5972c9abfa2213db01683cd9c11cdc239c0fd', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 18, 'created': '2016-04-03 18:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/21841096dd7b0108952def128ba86977caa68fab', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 19, 'created': '2016-04-04 05:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0b9b8d911966915bbb0482ee060e1fd4dd0a70bf', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\n\nAdd get_file to include local file resolution when resolving the global\nenvironment. This make sure all HOT templates included from environment\nregistry can use get_file function normally.\nThis patch also ensure no file are included from outside of environment\ndirectory in global environment files dictionary.\nget_file will search global environment directory for file contents, if\nkey in get_file function can not be resolved by files.\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 20, 'created': '2016-04-04 18:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/276aacfb380de36092b95da5cc827ad5be40622d', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\n\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 21, 'created': '2016-04-05 05:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/273f8069e3e83ba911bd4d690c6201efd4512c0e', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\n\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 22, 'created': '2016-04-05 06:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4b99d2f77b9947a5a805cd6e88d90c3c55b6ad4f', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\n\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\nCloses-Bug: #1454401\n'}, {'number': 23, 'created': '2016-04-12 17:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/560c118decf89c9e740fdf9862116cc1b5858381', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 24, 'created': '2016-04-13 01:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7652fa3411122994344c66412570eb1aa8b6cefe', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 25, 'created': '2016-04-15 05:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/39c277e64a53852807c5d8d6b877177e6b36f0c1', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 26, 'created': '2016-04-15 05:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/545df1440fcd764865485f7177d361706b2d9a37', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 27, 'created': '2016-05-06 16:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e7eccb8148c6e70b65b0957e755846afa0a97fff', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 28, 'created': '2016-05-06 17:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ff921412df09059d7d0ac4ec88bb5cff14bb8cc2', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 29, 'created': '2016-05-06 17:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/39e4c4dc96a7f4ced96a55b5bc196c9d372566e7', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 30, 'created': '2016-05-18 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4f79b31dedf4943e4e9c43fba9b05faebd154d2f', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 31, 'created': '2016-05-27 06:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f0b4c98efdb200a67e9840f04639eb24bf3cfd02', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 32, 'created': '2016-07-18 04:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/706d7a20d564152bf54a3450323bc36e52f7c8dc', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 33, 'created': '2016-07-19 01:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cbb5a9a69aa6d8a129dab1afd378cb3ac96039e7', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 34, 'created': '2016-08-22 03:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/64c4cfbd2444089fe7b6e6beb38154a2e971f26e', 'message': 'Add get_file in HOT templates from global environment\n\nAdd global templates files in to global environment files.\nAllow get_file to include local file resolution when resolving the\nglobal environment. This make sure all HOT templates included from\nenvironment registry can use get_file function normally.\nThis patch also ensure no file are included from outside of\nenvironment directory in global environment files dictionary.\nget_file will search global environment directory for file contents,\nif key in get_file function can not be resolved by files.\nThis patch also refactor to get better use of template_utils.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 35, 'created': '2016-12-19 16:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5845b1c37dadd66c7eb1ccaf5f04f6a834de79f5', 'message': ""Allow load global template for template resouce\n\nAllow load template file in global environment.\nRead `template_dir` config and load templates from that path.\nIf template resource can't load template file from stack.files,\nit will try to load template from global template files.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n""}, {'number': 36, 'created': '2017-01-06 14:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cd58fec84b3d6182d60d99cbfdd11abe5cf41876', 'message': ""Allow load global template for template resouce\n\nAllow load template file in global environment.\nRead `template_dir` config and load templates from that path.\nIf template resource can't load template file from stack.files,\nit will try to load template from global template files.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n""}, {'number': 37, 'created': '2017-01-16 11:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0ed9384ddcad299a00389d4541e86a68e62edce9', 'message': ""Allow load global template for template resouce\n\nAllow load template file in global environment.\nRead `template_dir` config and load templates from that path.\nIf template resource can't load template file from stack.files,\nit will try to load template from global template files.\nCloses-Bug: #1454401\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n""}, {'number': 38, 'created': '2018-05-10 17:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4b30ed4db8f84abdc7f80c5e180d53515e93a6a3', 'message': 'Allow load global template for template resouce\n\nAllow load template file in global environment.\nStory: #1454401\nTask: #16674\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 39, 'created': '2018-05-11 09:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/872ff5e4b079cf5eb753b80e61a658e887d78522', 'message': 'Allow load global template for template resouce\n\nAllow load template file in global environment.\nStory: #1454401\nTask: #16674\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}, {'number': 40, 'created': '2018-05-13 06:50:10.000000000', 'files': ['heat/tests/common.py', 'heat/tests/test_environment.py', 'heat/engine/environment.py', 'heat/tests/test_provider_template.py', 'heat/engine/resources/template_resource.py', 'heat/tests/test_hot.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/95d35c37f0c76d141c4212a3fa126e9e402ab179', 'message': 'Allow load global template for template resouce\n\nAllow load template file in global environment.\nStory: #1454401\nTask: #16674\n\nChange-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8\n'}]",36,209439,95d35c37f0c76d141c4212a3fa126e9e402ab179,144,16,40,12404,,,0,"Allow load global template for template resouce

Allow load template file in global environment.
Story: #1454401
Task: #16674

Change-Id: I5878bc4ba95eebd900c4d9a578e76f7fa023b4f8
",git fetch https://review.opendev.org/openstack/heat refs/changes/39/209439/14 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_environment.py', 'heat/engine/environment.py']",2,0f2ceb97d20b54b80675e4806bce6aed30dfc07b,story/1454401," env_str = env_fd.read() env_body = env_fmt.parse(env_str) if ""get_file:"" in env_str: env_body = resolve_get_files(env_body, env_dir) def resolve_get_files(env_body, env_dir=None): if isinstance(env_body, six.string_types): if 'get_file:' in env_body: return _replace_get_file(env_body, env_dir) return env_body elif isinstance(env_body, list): for index in xrange(len(env_body)): env_body[index] = resolve_get_files(env_body[index], env_dir) return env_body elif isinstance(env_body, dict): for key in env_body: env_body[key] = resolve_get_files(env_body[key], env_dir) return env_body def _replace_get_file(env_str, env_dir=None): file_header = ""file://"" get_file_str = 'get_file:' file_name = get_file_str.join(env_str.split(get_file_str)[1:]).strip() msg = _LE('File %(file_name)s not found in path'), {'file_name': file_name} if file_header in file_name: if os.path.isfile(file_name.split(file_header)[1]): return file_name else: raise IOError(msg) elif os.path.isfile(os.path.join(env_dir, file_name)): return file_header + os.path.join(env_dir, file_name) else: raise IOError(msg)", env_body = env_fmt.parse(env_fd.read()),85,1
openstack%2Ftempest~master~I66a64baa598fdcd96e5b7599cc1ae533cd0f140d,openstack/tempest,master,I66a64baa598fdcd96e5b7599cc1ae533cd0f140d,update flake8-import-order version,ABANDONED,2019-04-25 09:39:20.000000000,2020-01-22 04:41:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-25 09:39:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c64b2d121bb038b83b84bf0a307034a3e7ebc158', 'message': 'update flake8-import-order version\n\nChange-Id: I66a64baa598fdcd96e5b7599cc1ae533cd0f140d\n'}]",0,655643,c64b2d121bb038b83b84bf0a307034a3e7ebc158,3,1,1,12404,,,0,"update flake8-import-order version

Change-Id: I66a64baa598fdcd96e5b7599cc1ae533cd0f140d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/43/655643/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c64b2d121bb038b83b84bf0a307034a3e7ebc158,update-test-requirement,flake8-import-order==0.12 # LGPLv3,flake8-import-order==0.11 # LGPLv3,1,1
openstack%2Ftripleo-heat-templates~master~I63113c515c44b7a870d4bd2bf340f0477193fb38,openstack/tripleo-heat-templates,master,I63113c515c44b7a870d4bd2bf340f0477193fb38,DNM: Test deprecation in puppet-nova,ABANDONED,2020-01-21 11:24:01.000000000,2020-01-22 04:28:25.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 11:24:01.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83121083062bc3d3f7cb7e3a043c11c96ab393f3', 'message': 'DNM: Test deprecation in puppet-nova\n\nDepends-on: https://review.opendev.org/#/c/703243/\nChange-Id: I63113c515c44b7a870d4bd2bf340f0477193fb38\n'}]",0,703591,83121083062bc3d3f7cb7e3a043c11c96ab393f3,7,3,1,9816,,,0,"DNM: Test deprecation in puppet-nova

Depends-on: https://review.opendev.org/#/c/703243/
Change-Id: I63113c515c44b7a870d4bd2bf340f0477193fb38
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/703591/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,83121083062bc3d3f7cb7e3a043c11c96ab393f3,workaround-numa-lm,,,0,0
openstack%2Fheat~master~If4b985d7d94141a12de282c86130401b1a8d17a7,openstack/heat,master,If4b985d7d94141a12de282c86130401b1a8d17a7,[DMT][TEST] Check gate status againist fixes,ABANDONED,2019-10-08 09:08:19.000000000,2020-01-22 04:22:49.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 09:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1eeff7f51e965690e0c0f754afeebe4ecd82612e', 'message': '[DMT][TEST] Check gate status againist fixes\n\n* 686962 Allow retry when wc_notify not successed\n* 641534 Add a non-racy check for unique stack names\n* 685459 Check snapshot status before rebuild in functional test\n* 569582 Ignore not found when delete raw template\n* 587656 Remove handling for client status races\n* 592074 Allow to pass --insecure options into VMs\n\nDepends-On: https://review.opendev.org/686962\nDepends-On: https://review.opendev.org/641534\nDepends-On: https://review.opendev.org/685459\nDepends-On: https://review.opendev.org/569582\nDepends-On: https://review.opendev.org/587656\nDepends-On: https://review.opendev.org/592074\nChange-Id: If4b985d7d94141a12de282c86130401b1a8d17a7\n'}, {'number': 2, 'created': '2019-10-08 16:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/77f0b0ddea79b727ae6a7f10abf71253592702e7', 'message': '[DMT][TEST] Check gate status againist fixes\n\n* 686962 Allow retry when wc_notify not successed\n* 685459 Check snapshot status before rebuild in functional test\n* 569582 Ignore not found when delete raw template\n* 587656 Remove handling for client status races\n* 592074 Allow to pass --insecure options into VMs\n\nDepends-On: https://review.opendev.org/686962\nDepends-On: https://review.opendev.org/685459\nDepends-On: https://review.opendev.org/569582\nDepends-On: https://review.opendev.org/587656\nDepends-On: https://review.opendev.org/592074\nChange-Id: If4b985d7d94141a12de282c86130401b1a8d17a7\n'}, {'number': 3, 'created': '2019-10-09 02:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6e55e59a154a273a1ca899fb0a08a2dc362f740b', 'message': ""[DMT][TEST] Check gate status againist fixes\n\n* 686962 Allow retry when wc_notify not successed\n* 687417 Don't mark snapshot complete while task in progress\n* 569582 Ignore not found when delete raw template\n* 587656 Remove handling for client status races\n* 592074 Allow to pass --insecure options into VMs\n\nDepends-On: https://review.opendev.org/686962\nDepends-On: https://review.opendev.org/687417\nDepends-On: https://review.opendev.org/569582\nDepends-On: https://review.opendev.org/587656\nDepends-On: https://review.opendev.org/592074\nChange-Id: If4b985d7d94141a12de282c86130401b1a8d17a7\n""}, {'number': 4, 'created': '2019-10-10 03:04:13.000000000', 'files': ['doc/source/operating_guides/scale_deployment.rst', 'releasenotes/notes/trigger-releasenote-tests-bbf3b68efc97511f.yaml', '.zuul.yaml', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5f6cd05b0316b2fba6b8ab1b7fc64af3326bd522', 'message': '[DMT][TEST] Check gate status againist fixes\n\n* 686962 Allow retry when wc_notify not successed\n* 592074 Allow to pass --insecure options into VMs\n\nDepends-On: https://review.opendev.org/686962\nDepends-On: https://review.opendev.org/592074\nChange-Id: If4b985d7d94141a12de282c86130401b1a8d17a7\n'}]",3,687252,5f6cd05b0316b2fba6b8ab1b7fc64af3326bd522,22,2,4,12404,,,0,"[DMT][TEST] Check gate status againist fixes

* 686962 Allow retry when wc_notify not successed
* 592074 Allow to pass --insecure options into VMs

Depends-On: https://review.opendev.org/686962
Depends-On: https://review.opendev.org/592074
Change-Id: If4b985d7d94141a12de282c86130401b1a8d17a7
",git fetch https://review.opendev.org/openstack/heat refs/changes/52/687252/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/operating_guides/scale_deployment.rst', 'releasenotes/notes/trigger-releasenote-tests-bbf3b68efc97511f.yaml', '.zuul.yaml', 'heat/engine/resource.py']",4,1eeff7f51e965690e0c0f754afeebe4ecd82612e,tests, # Trigger nomal tests,,87,1
openstack%2Fpython-searchlightclient~master~I37810f2e78523388a70cad0034f8d4d9e73e218b,openstack/python-searchlightclient,master,I37810f2e78523388a70cad0034f8d4d9e73e218b,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-12-15 00:40:30.000000000,2020-01-22 04:01:00.000000000,2020-01-22 03:58:24.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-12-15 00:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/70aa699eb0fb54a489b598e74123c3d903d6ae99', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-searchlightsclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I37810f2e78523388a70cad0034f8d4d9e73e218b\n'}, {'number': 2, 'created': '2020-01-22 02:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/5b34f21c137d18bb2087a78461babfb1b897976b', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-searchlightsclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I37810f2e78523388a70cad0034f8d4d9e73e218b\n'}, {'number': 3, 'created': '2020-01-22 02:36:41.000000000', 'files': ['README.rst', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'releasenotes/notes/drop-py-2-7-5ef11499fe79e1ca.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/d307e8e6ede4f247b6ce9d7b5da4b6b7f67bf0bc', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-searchlightsclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I37810f2e78523388a70cad0034f8d4d9e73e218b\n'}]",0,699085,d307e8e6ede4f247b6ce9d7b5da4b6b7f67bf0bc,10,2,3,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-searchlightsclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I37810f2e78523388a70cad0034f8d4d9e73e218b
",git fetch https://review.opendev.org/openstack/python-searchlightclient refs/changes/85/699085/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'releasenotes/notes/drop-py-2-7-5ef11499fe79e1ca.yaml', 'tox.ini']",6,70aa699eb0fb54a489b598e74123c3d903d6ae99,drop-py27-support,"envlist = pypy,py37,pep8 minversion = 3.1.1ignore_basepython_conflict = Truebasepython = python3","envlist = pypy,py27,py37,pep8 minversion = 2.0basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",10,14
openstack%2Fheat~stable%2Ftrain~I0e1a97a0c815530e7dd8cefb01e1db83d51957a9,openstack/heat,stable/train,I0e1a97a0c815530e7dd8cefb01e1db83d51957a9,Don't raise not found in delete raw template,ABANDONED,2020-01-14 05:00:59.000000000,2020-01-22 02:48:49.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 05:00:59.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/465b303b868a1ed7fb1fa056eed5bdfa14fc62d3', 'message': ""Don't raise not found in delete raw template\n\nChange-Id: I0e1a97a0c815530e7dd8cefb01e1db83d51957a9\nTask: 37155\n(cherry picked from commit d38948a221c66226017605ab0fded4f07d43f6f7)\n""}]",0,702345,465b303b868a1ed7fb1fa056eed5bdfa14fc62d3,6,3,1,12404,,,0,"Don't raise not found in delete raw template

Change-Id: I0e1a97a0c815530e7dd8cefb01e1db83d51957a9
Task: 37155
(cherry picked from commit d38948a221c66226017605ab0fded4f07d43f6f7)
",git fetch https://review.opendev.org/openstack/heat refs/changes/45/702345/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,465b303b868a1ed7fb1fa056eed5bdfa14fc62d3,story/2006731-stable/train," try: raw_template = raw_template_get(context, template_id) except exception.NotFound: # Ignore not found return"," raw_template = raw_template_get(context, template_id)",5,1
openstack%2Fkuryr-kubernetes~master~Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08,openstack/kuryr-kubernetes,master,Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08,Update namespace_security_groups driver to use OpenStackSDK.,MERGED,2019-11-29 07:51:08.000000000,2020-01-22 02:22:36.000000000,2020-01-22 02:21:09.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-29 07:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f5fd42ef54a7bc068eb408c56a52aa1def45a2d8', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 2, 'created': '2019-11-29 14:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/123593f52c29b81d8ea8b7425e853d4db1611c87', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 3, 'created': '2019-12-03 12:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2196967dff30c81e269bbc347487fa8a60c32552', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 4, 'created': '2019-12-04 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fe0363ba942702ac1fba9a548c83ac0d4f3ab47b', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 5, 'created': '2019-12-16 07:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/221988809fd147e2f57728a5b1bb9da776f434f3', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 6, 'created': '2019-12-17 13:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c3dc1ab56e818335b396a391560daa7ef846a1b6', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 7, 'created': '2019-12-17 18:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ba82d8a26b8e6b83793b0b7cac6abd523a0ace30', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 8, 'created': '2019-12-19 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8c186246d11b0ad8d6c06fa73c62423958811600', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 9, 'created': '2019-12-23 17:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b2fbe233ffda999727bc8ab5769945cd2c91ae7b', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 10, 'created': '2020-01-03 08:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2ad8358f8bb24c80e5c8d2ef1bbdb6dc3ac3b691', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 11, 'created': '2020-01-13 09:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9e8c478d79aaa2f71920dc3fb24fea9df3a8af25', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 12, 'created': '2020-01-14 09:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d3aae7e8098c740db462a26826c1cc6184885678', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 13, 'created': '2020-01-14 14:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9882a56da67543a42de618d35b2a633c339c4a4e', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 14, 'created': '2020-01-17 08:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d8b2f12eaa200676ee889a09b81bf5d6d9c36f24', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}, {'number': 15, 'created': '2020-01-20 09:08:12.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_security_groups.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cb2f8fe874ff1941f56eb36830b7be0efaaa245f', 'message': 'Update namespace_security_groups driver to use OpenStackSDK.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08\n'}]",2,696655,cb2f8fe874ff1941f56eb36830b7be0efaaa245f,56,6,15,13692,,,0,"Update namespace_security_groups driver to use OpenStackSDK.

Implements: blueprint switch-to-openstacksdk
Change-Id: Id447b376ae8c10bc2658ba30f2b2009ea8c0cf08
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/696655/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_security_groups.py']",2,f5fd42ef54a7bc068eb408c56a52aa1def45a2d8,bp/switch-to-openstacksdk,"import munch from openstack import exceptions as os_exc sg = munch.Munch({'id': mock.sentinel.sg}) crd_spec = {'subnetCIDR': subnet_cidr} os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.create_security_group.return_value = sg os_net.create_security_group.assert_called_once() os_net.create_security_group_rule.assert_called_once() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.create_security_group.side_effect = os_exc.SDKException self.assertRaises(os_exc.SDKException, cls.create_namespace_sg, m_driver, namespace, project_id, crd_spec) os_net.create_security_group.assert_called_once() os_net.create_security_group_rule.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_security_group.assert_called_once_with(sg_id) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_security_group.side_effect = os_exc.SDKException self.assertRaises(os_exc.SDKException, cls.delete_sg, m_driver, sg_id) os_net.delete_security_group.assert_called_once_with(sg_id)"," from neutronclient.common import exceptions as n_exc sg = {'id': mock.sentinel.sg} crd_spec = { 'subnetCIDR': subnet_cidr } neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.create_security_group.return_value = {'security_group': sg} neutron.create_security_group.assert_called_once() neutron.create_security_group_rule.assert_called_once() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.create_security_group.side_effect = ( n_exc.NeutronClientException) self.assertRaises(n_exc.NeutronClientException, cls.create_namespace_sg, m_driver, namespace, project_id, crd_spec) neutron.create_security_group.assert_called_once() neutron.create_security_group_rule.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_security_group.assert_called_once_with(sg_id) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_security_group.side_effect = ( n_exc.NeutronClientException) self.assertRaises(n_exc.NeutronClientException, cls.delete_sg, m_driver, sg_id) neutron.delete_security_group.assert_called_once_with(sg_id) def test_delete_sg_not_found(self): cls = namespace_security_groups.NamespacePodSecurityGroupsDriver m_driver = mock.MagicMock(spec=cls) neutron = self.useFixture(k_fix.MockNeutronClient()).client sg_id = mock.sentinel.sg_id neutron.delete_security_group.side_effect = n_exc.NotFound cls.delete_sg(m_driver, sg_id) neutron.delete_security_group.assert_called_once_with(sg_id)",34,63
openstack%2Fironic-python-agent~master~Ie51ec8fbae3848ad8a913b05cc3f0f80f33b5f95,openstack/ironic-python-agent,master,Ie51ec8fbae3848ad8a913b05cc3f0f80f33b5f95,Document introspection data and collectors,MERGED,2020-01-21 14:40:49.000000000,2020-01-22 02:03:18.000000000,2020-01-22 02:01:38.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-21 14:40:49.000000000', 'files': ['doc/source/admin/how_it_works.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4b602771e96bfd7f5334f41108231d4d4fa8a67d', 'message': 'Document introspection data and collectors\n\nChange-Id: Ie51ec8fbae3848ad8a913b05cc3f0f80f33b5f95\n'}]",2,703628,4b602771e96bfd7f5334f41108231d4d4fa8a67d,10,5,1,10239,,,0,"Document introspection data and collectors

Change-Id: Ie51ec8fbae3848ad8a913b05cc3f0f80f33b5f95
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/28/703628/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/how_it_works.rst'],1,4b602771e96bfd7f5334f41108231d4d4fa8a67d,intro-data,"Inspection Data <<<<<<<<<<<<<<< As part of the inspection process, data is collected on the machine and sent back to `Ironic Inspector`_ for storage. It can be accessed via the `introspection data API`_. The exact format of the data depends on the enabled *collectors*, which can be configured using the ``ipa-inspection-collectors`` kernel parameter. Each collector appends information to the resulting JSON object. The in-tree collectors are: ``default`` The default enabled collectors. Collects the following keys: * ``inventory`` - `Hardware Inventory`_. * ``root_disk`` - The default root device for this machine, which will be used for deployment if root device hints are not provided. * ``boot_interface`` - Deprecated, use the ``inventory.boot.pxe_interface`` field. ``logs`` Collect system logs. To yield useful results it must always go last in the list of collectors. Provides one key: * ``logs`` - base64 encoded tarball with various logs. ``pci-devices`` Collects the list of PCI devices. Provides one key: * ``pci_devices`` - list of objects with keys ``vendor_id`` and ``product_id``. ``extra-hardware`` Collects a vast list of facts about the systems, using the hardware_ library, which is a required dependency for this collector. Adds one key: * ``data`` - raw data from the ``hardware-collect`` utility. Is a list of lists with 4 items each. It is recommended to use this collector together with the ``extra_hardware`` processing hook on the `Ironic Inspector`_ side to convert it to a nested dictionary in the ``extra`` key. If ``ipa-inspection-benchmarks`` is set, the corresponding benchmarks are executed and their result is also provided. ``dmi-decode`` Collects information from ``dmidecode``. Provides one key: * ``dmi`` DMI information in three keys: ``bios``, ``cpu`` and ``memory``. .. TODO(dtantsur): figure out details ``numa-topology`` Collects NUMA_ topology information. Provides one key: * ``numa_topology`` with three nested keys: * ``ram`` - list of objects with keys ``numa_node`` (node ID) and ``size_kb``. * ``cpus`` - list of objects with keys ``cpu`` (CPU ID), ``numa_node`` (node ID) and ``thread_siblings`` (list of sibling threads). * ``nics`` - list of objects with keys ``name`` (NIC name) and ``numa_node`` (node ID). .. _introspection data API: https://docs.openstack.org/ironic-inspector/latest/user/http-api.html#get-introspection-data .. _hardware: https://pypi.org/project/hardware/ .. _NUMA: https://en.wikipedia.org/wiki/Non-uniform_memory_access ",,67,0
openstack%2Ftripleo-ci~master~I1824228a6c8ce24dfbf794b69a90955de7a1b058,openstack/tripleo-ci,master,I1824228a6c8ce24dfbf794b69a90955de7a1b058,ci log instructions update,MERGED,2020-01-21 03:16:40.000000000,2020-01-22 01:32:44.000000000,2020-01-22 01:32:44.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-21 03:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/62f8db88e1c43eb05dc18d7ad743d3f7aa9823a4', 'message': 'first pass at log instructions update\n\nChange-Id: I1824228a6c8ce24dfbf794b69a90955de7a1b058\n'}, {'number': 2, 'created': '2020-01-21 19:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4967d084f89c356fa5c8b44d6d24506576977850', 'message': 'ci log instructions update\n\nChange-Id: I1824228a6c8ce24dfbf794b69a90955de7a1b058\n'}, {'number': 3, 'created': '2020-01-21 20:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a96783efb8f89ed2039d3f74aa246a2fb64443d1', 'message': 'ci log instructions update\n\n* update txt\n* update links\n* update tools\n\nChange-Id: I1824228a6c8ce24dfbf794b69a90955de7a1b058\n'}, {'number': 4, 'created': '2020-01-21 20:47:45.000000000', 'files': ['docs/tripleo-quickstart-logs.html'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5eb4b92669bae5ff28bea50743be825c6bd6e622', 'message': 'ci log instructions update\n\n* update txt\n* update links\n* update tools\n\nChange-Id: I1824228a6c8ce24dfbf794b69a90955de7a1b058\n'}]",0,703533,5eb4b92669bae5ff28bea50743be825c6bd6e622,15,6,4,9592,,,0,"ci log instructions update

* update txt
* update links
* update tools

Change-Id: I1824228a6c8ce24dfbf794b69a90955de7a1b058
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/703533/2 && git format-patch -1 --stdout FETCH_HEAD,['docs/tripleo-quickstart-logs.html'],1,62f8db88e1c43eb05dc18d7ad743d3f7aa9823a4,I1824228a6c8ce24dfbf794b69a90955de7a1b058,"<li><a href='undercloud/var/log/extra/docker/'>undercloud/var/log/extra/docker/</a> - the docker container setup configuration and setup logs</li> <li><a href='delorean_logs'>delorean_logs</a> - the source code change built into rpm and the build logs are here</li><li><a href='undercloud/var/log/extra/rpm-list'>undercloud/var/log/extra/rpm-list</a> - rpms installed to the undercloud, container rpms can be found in extra/<podman|docker>/containers/$container/info.log</li><p> Please refer to the <a href=""README-reproducer.html"">recreation <p> Check the base directory for a file called <b>*failure_reason*</b> for automatic failure detection. If no known error has been found the file will be named ""No_failure_reason_found"". <p>Next check the console log and search for <b>PLAY RECAP</b>. There are sometimesbefore Quickstart could even start.<p>Most of the undercloud and overcloud deployment log files can be found in <a href='undercloud/home/zuul'>undercloud/home/zuul</a> <b>tracebacks and other errors are collected in the following log per node:</b> Finally try rechecking or asking on <i>#tripleo</i>","<li><a href='undercloud/var/log/extra/docker/'>undercloud/var/log/extra/docker/</a> - the docker container setup configuration and setup logs</li> <p> Please refer to the <a href=""README-reproducer-quickstart.html"">recreation<p>Check the console log and search for <b>PLAY RECAP</b>. There are sometimesbefore Quickstart could even start. Try rechecking or asking on <i>#tripleo</i><p>Look for a line above the <b>PLAY RECAP</b> that starts with ""<b>fatal:</b>"". If no such line is found, try searching for other PLAY RECAP lines or other error outputs.</p> <p>If this ""fatal"" line contains the execution of a shell script and redirects to a log, check which machine that task ran on. Look under that node's directory in the logs to find the file.</p> <p>Example output:<br/> <br/><code> fatal: [<b>undercloud</b>]: FAILED! => {""changed"": true, ""cmd"": ""set -o pipefail && /home/zuul/<b>overcloud-prep-images.sh</b> 2>&1 | awk '{ print strftime(\""%Y-%m-%d %H:%M:%S |\""), $0; fflush(); }' > /home/stack/<b>overcloud_prep_images.log</b>"", ""failed"": true, ""rc"": 1}<br/> <br/> PLAY RECAP *********************************************************************<br/> </code></p> <p>In this case the <code>overcloud-prep-images.sh</code> script failed, which is redirected to <code>/home/zuul/overcloud_prep_images.log </code> on the undercloud.</p> <b>Deployment errors can be found in:</b>",20,29
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8c116aba50cc7f1cb7cd3fd32cf8aec868e074ec,openstack/tripleo-heat-templates,stable/train,I8c116aba50cc7f1cb7cd3fd32cf8aec868e074ec,Bypass openvswitch update logic if expected packages are not present,MERGED,2020-01-15 15:01:31.000000000,2020-01-22 01:32:42.000000000,2020-01-22 01:32:42.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-15 15:01:31.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d21352e3004b2ef94fc5309b6225b538eaab46e', 'message': 'Bypass openvswitch update logic if expected packages are not present\n\nThe nuage integration uses a different package name for openvswitch,\nbreaking the update steps. This patch bypasses the update logic if the\nexpected packages are not present allowing nuage deployments to manage\nthe openvswitch package some other other way.\n\nCloses-Bug: #1858640\nChange-Id: I8c116aba50cc7f1cb7cd3fd32cf8aec868e074ec\n(cherry picked from commit f907d061ba1d8cf6fbd15fc242b162c618a70154)\n'}]",0,702677,4d21352e3004b2ef94fc5309b6225b538eaab46e,22,6,1,14985,,,0,"Bypass openvswitch update logic if expected packages are not present

The nuage integration uses a different package name for openvswitch,
breaking the update steps. This patch bypasses the update logic if the
expected packages are not present allowing nuage deployments to manage
the openvswitch package some other other way.

Closes-Bug: #1858640
Change-Id: I8c116aba50cc7f1cb7cd3fd32cf8aec868e074ec
(cherry picked from commit f907d061ba1d8cf6fbd15fc242b162c618a70154)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/702677/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml']",2,4d21352e3004b2ef94fc5309b6225b538eaab46e,," - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - name: Don't update if not present set_fact: run_ovs_update: ""{{ (ovs_pkg_out.stdout | length) > 0 }}"" when: - step|int == 2 - run_ovs_update|bool - run_ovs_update|bool - run_ovs_update|bool", when: step|int == 2 - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - run_ovs_update|default(true) - run_ovs_update|default(true),24,16
openstack%2Ftripleo-quickstart-extras~master~If6f0bc02db6932aa8f367e38cc82df85063eaf87,openstack/tripleo-quickstart-extras,master,If6f0bc02db6932aa8f367e38cc82df85063eaf87,Add option to run performance tasks with security disabled,MERGED,2018-04-03 07:20:18.000000000,2020-01-22 01:32:41.000000000,2020-01-22 01:32:41.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-04-03 07:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dfa4547d153e10e8d5be4189f4c9931f22acd000', 'message': '[DNM] Checking performance after disabling security\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\n'}, {'number': 2, 'created': '2018-04-04 12:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3ee4669c2ac7d34ad6ae8f0438c8845869013a1a', 'message': '[DNM] Checking performance after disabling security\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\n'}, {'number': 3, 'created': '2018-04-06 06:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e3febb83125624edb1ea280b4c9a261ccbe3c716', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance atleast I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 4, 'created': '2018-04-06 09:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f0c2316a25c17e983073defbb5b02da392b5dbe', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 5, 'created': '2019-10-07 12:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dd674a15d8e0c3ebbefa87d1e09abd6ab6071fad', 'message': '[DNM] Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 6, 'created': '2019-10-22 14:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d0cc3a27e1ae0fd5a6c03e74e7afa703173431f1', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 7, 'created': '2019-11-04 09:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2cf1ff6010d0cc5f2060ba039252cae6747f8271', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 8, 'created': '2020-01-13 09:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f5c998744c6fbf4c15c31dc52b7b738ae19ff9a0', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 9, 'created': '2020-01-15 14:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a97a912e24c223ad5c641138a6206be844edda63', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 10, 'created': '2020-01-16 18:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a07ac4e243c6b00279ac2feb6b3b7dba92ad7102', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 11, 'created': '2020-01-20 04:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/84f7984fd34d472506fe0fa135b2281339f00a69', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 12, 'created': '2020-01-21 07:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c960fd335610f48cc6a1e7797e89c572ae4afc5', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nAlso add molecule scenario to test security_disable tasks.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 13, 'created': '2020-01-21 09:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c60e1d2b83c81481d23d5f47584b050a6db99aa3', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nAlso add molecule scenario to test security_disable tasks.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}, {'number': 14, 'created': '2020-01-21 09:41:50.000000000', 'files': ['roles/validate-perf/defaults/main.yml', 'roles/validate-perf/molecule/default/molecule.yml', 'roles/validate-perf/molecule/default/playbook.yml', 'roles/validate-perf/molecule/default/verify.yml', 'roles/validate-perf/tasks/main.yml', 'roles/validate-perf/meta/main.yml', 'roles/validate-perf/molecule/default/Dockerfile.j2', 'roles/validate-perf/tasks/security_disable.yml', 'roles/validate-perf/molecule/default/INSTALL.rst', 'roles/validate-perf/tasks/security_print_vars.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4c13745561b50191359e663fd8676f62bf5d86df', 'message': 'Add option to run performance tasks with security disabled\n\nIt\'s noted that kernel fixes for security/meltdown\nhas affected performance at least I/O. As we run deployments\nin different environments it\'s good to add an option\nwhich can adjust the security settings to test performance.\n\nThis patch adds a new variable ""kernel_sec"" which\ndefaults to ""true"". This can be set to ""false"" in\norder to run performance tasks with disable security.\n\nAlso add molecule scenario to test security_disable tasks.\n\nChange-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87\nRelated-Bug: #1757556\n'}]",33,558412,4c13745561b50191359e663fd8676f62bf5d86df,106,13,14,13861,,,0,"Add option to run performance tasks with security disabled

It's noted that kernel fixes for security/meltdown
has affected performance at least I/O. As we run deployments
in different environments it's good to add an option
which can adjust the security settings to test performance.

This patch adds a new variable ""kernel_sec"" which
defaults to ""true"". This can be set to ""false"" in
order to run performance tasks with disable security.

Also add molecule scenario to test security_disable tasks.

Change-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87
Related-Bug: #1757556
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/12/558412/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-perf/tasks/main.yml'],1,dfa4547d153e10e8d5be4189f4c9931f22acd000,bug/1757556," - name: Check /sys/kernel for security performance affecting features become: true shell: | echo ""/sys/kernel/debug/x86/pti_enabled: $(cat /sys/kernel/debug/x86/pti_enabled)"" echo ""/sys/kernel/debug/x86/retp_enabled: $(cat /sys/kernel/debug/x86/retp_enabled)"" echo ""/sys/kernel/debug/x86/ibrs_enabled: $(cat /sys/kernel/debug/x86/ibrs_enabled)"" echo ""/sys/kernel/debug/x86/ibpb_enabled: $(cat /sys/kernel/debug/x86/ibpb_enabled)"" register: security_vars ignore_errors: true - name: Debug print the security_vars before setting debug: msg: ""{{security_vars.stdout_lines}}"" ignore_errors: true - name: Turn off security become: true shell: | echo 0 > /sys/kernel/debug/x86/pti_enabled || true echo 0 > /sys/kernel/debug/x86/retp_enabled || true echo 0 > /sys/kernel/debug/x86/ibrs_enabled || true - name: Check /sys/kernel settings after disabling security become: true shell: | echo ""/sys/kernel/debug/x86/pti_enabled: $(cat /sys/kernel/debug/x86/pti_enabled)"" echo ""/sys/kernel/debug/x86/retp_enabled: $(cat /sys/kernel/debug/x86/retp_enabled)"" echo ""/sys/kernel/debug/x86/ibrs_enabled: $(cat /sys/kernel/debug/x86/ibrs_enabled)"" echo ""/sys/kernel/debug/x86/ibpb_enabled: $(cat /sys/kernel/debug/x86/ibpb_enabled)"" register: security_vars ignore_errors: true - name: Debug print the security_vars after disabling debug: msg: ""{{security_vars.stdout_lines}}"" ignore_errors: true",,37,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Iadef8f3300bb1b5b995052c1a35a1becbfd5730c,openstack/tripleo-heat-templates,stable/stein,Iadef8f3300bb1b5b995052c1a35a1becbfd5730c,Mount /boot from the host within the nova-compute container,MERGED,2020-01-10 16:23:23.000000000,2020-01-22 01:32:39.000000000,2020-01-22 01:32:39.000000000,"[{'_account_id': 9592}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-10 16:23:23.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f5c51d5d0f65f4a3da3666813f23b383ec0fd2a', 'message': 'Mount /boot from the host within the nova-compute container\n\nlibguestfs expects to find /boot/vmlinuz-* for the running version of\nthe kernel. This check is duplicated in nova-compute when libguestfs has\nfailed to launch, providing a useful bread crumb for operators [1].\n\nObviously when this is called from within the nova-compute container in\nthe context of a TripleO deployment this can easily fail after a minor\nupdate that has pulled in a newer container containing a newer kernel.\nThis check could also fail in the opposite case if the host kernel is\nupdated past the version present in the container.\n\nThis change works around this by simply passing /boot as read-only\nthrough to the nova-compute container ensure libguestfs is able to\nalways find the correct version of vmlinuz.\n\nThis should also allow us to eventually drop the kernel RPM from the\nnova-compute container that has been a constant source of maintenance\noverhead in terms of CVEs etc.\n\n[1] https://github.com/openstack/nova/blob/aa096fd18352fb9da94069ec2cab478eed5c6cca/nova/virt/disk/vfs/guestfs.py#L75-L97\n\nChange-Id: Iadef8f3300bb1b5b995052c1a35a1becbfd5730c\n(cherry picked from commit 9c5c36632d23a693a60e490b3046b07b126b9154)\n(cherry picked from commit 02faf53ea8bb672060c7cfedbc093d5cff809307)\n'}]",0,701994,1f5c51d5d0f65f4a3da3666813f23b383ec0fd2a,25,5,1,10135,,,0,"Mount /boot from the host within the nova-compute container

libguestfs expects to find /boot/vmlinuz-* for the running version of
the kernel. This check is duplicated in nova-compute when libguestfs has
failed to launch, providing a useful bread crumb for operators [1].

Obviously when this is called from within the nova-compute container in
the context of a TripleO deployment this can easily fail after a minor
update that has pulled in a newer container containing a newer kernel.
This check could also fail in the opposite case if the host kernel is
updated past the version present in the container.

This change works around this by simply passing /boot as read-only
through to the nova-compute container ensure libguestfs is able to
always find the correct version of vmlinuz.

This should also allow us to eventually drop the kernel RPM from the
nova-compute container that has been a constant source of maintenance
overhead in terms of CVEs etc.

[1] https://github.com/openstack/nova/blob/aa096fd18352fb9da94069ec2cab478eed5c6cca/nova/virt/disk/vfs/guestfs.py#L75-L97

Change-Id: Iadef8f3300bb1b5b995052c1a35a1becbfd5730c
(cherry picked from commit 9c5c36632d23a693a60e490b3046b07b126b9154)
(cherry picked from commit 02faf53ea8bb672060c7cfedbc093d5cff809307)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/701994/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,1f5c51d5d0f65f4a3da3666813f23b383ec0fd2a,, - /boot:/boot:ro,,1,0
openstack%2Ftripleo-heat-templates~master~Ib97f3e7508e277d03d3cb75bba640264518b6323,openstack/tripleo-heat-templates,master,Ib97f3e7508e277d03d3cb75bba640264518b6323,Add 'scale-up' upgrade steps for cinder-volume,MERGED,2020-01-14 15:05:31.000000000,2020-01-22 01:32:37.000000000,2020-01-22 01:32:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-14 15:05:31.000000000', 'files': ['deployment/cinder/cinder-volume-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1044d0bf3dfeff0ffa5929abb07b11a0cb1000de', 'message': ""Add 'scale-up' upgrade steps for cinder-volume\n\nThis patch adds the missing steps for 'scale-up' upgrade\nsupport for the cinder-volume service similar to the\nimplementation in I3cfd4272449b207874723682903505d2bbdb435b\n\nRelated-Bug: #1838971\nChange-Id: Ib97f3e7508e277d03d3cb75bba640264518b6323\n""}]",0,702454,1044d0bf3dfeff0ffa5929abb07b11a0cb1000de,12,6,1,6816,,,0,"Add 'scale-up' upgrade steps for cinder-volume

This patch adds the missing steps for 'scale-up' upgrade
support for the cinder-volume service similar to the
implementation in I3cfd4272449b207874723682903505d2bbdb435b

Related-Bug: #1838971
Change-Id: Ib97f3e7508e277d03d3cb75bba640264518b6323
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/702454/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-pacemaker-puppet.yaml'],1,1044d0bf3dfeff0ffa5929abb07b11a0cb1000de,bug/1838971," - name: Create hiera data to upgrade cinder_volume in a stepwise manner. when: - step|int == 1 block: - name: set cinder_volume upgrade node facts in a single-node environment set_fact: cinder_volume_short_node_names_upgraded: ""{{ cinder_volume_short_node_names }}"" cinder_volume_node_names_upgraded: ""{{ cinder_volume_node_names }}"" cacheable: no when: groups['cinder_volume'] | length <= 1 - name: set cinder_volume upgrade node facts from the limit option set_fact: cinder_volume_short_node_names_upgraded: ""{{ cinder_volume_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cinder_volume_node_names_upgraded: ""{{ cinder_volume_node_names_upgraded|default([]) + [item] }}"" cacheable: no when: - groups['cinder_volume'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ cinder_volume_node_names }}"" - debug: msg: ""Prepare cinder_volume upgrade for {{ cinder_volume_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade cinder_volume without staged upgrade. You need to use the limit option in order to do so. when: >- cinder_volume_short_node_names_upgraded is not defined or cinder_volume_short_node_names_upgraded | length == 0 or cinder_volume_node_names_upgraded is not defined or cinder_volume_node_names_upgraded | length == 0 - name: remove cinder_volume init container on upgrade-scaleup to force re-init shell: | if podman inspect cinder_volume_init_bundle &> /dev/null; then podman rm cinder_volume_init_bundle fi when: cinder_volume_short_node_names_upgraded | length > 1 - name: add the cinder_volume short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: cinder_volume_short_node_names_override tripleo_upgrade_value: ""{{ cinder_volume_short_node_names_upgraded }}"" - name: add the cinder_volume long name to hiera data for the upgrade include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: cinder_volume_node_names_override tripleo_upgrade_value: ""{{ cinder_volume_node_names_upgraded }}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ""{{ item }}"" loop: - cinder_volume_short_node_names_override - cinder_volume_node_names_override when: cinder_volume_short_node_names_upgraded | length == cinder_volume_node_names | length",,61,0
openstack%2Ftripleo-heat-templates~master~I95f85c66e30abe154d59736395c7d1096f51127a,openstack/tripleo-heat-templates,master,I95f85c66e30abe154d59736395c7d1096f51127a,Add 'scale-up' upgrade steps for cinder-backup,MERGED,2020-01-13 17:52:55.000000000,2020-01-22 01:32:35.000000000,2020-01-22 01:32:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-13 17:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70f6df7b2e9e59c67fe6b18a3ba28be0208c83a3', 'message': ""Add 'scale-up' upgrade steps for cinder-backup\n\nThis patch adds the missing steps for 'scale-up' upgrade\nsupport for the cinder-backup service similar to the implementation\nin I3cfd4272449b207874723682903505d2bbdb435b\n\nRelated-Bug: #1838971\nChange-Id: I95f85c66e30abe154d59736395c7d1096f51127a\n""}, {'number': 2, 'created': '2020-01-14 13:43:12.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c290ce3f1ee393d25e4286d2ca51007c9c38aee0', 'message': ""Add 'scale-up' upgrade steps for cinder-backup\n\nThis patch adds the missing steps for 'scale-up' upgrade\nsupport for the cinder-backup service similar to the implementation\nin I3cfd4272449b207874723682903505d2bbdb435b\n\nRelated-Bug: #1838971\nChange-Id: I95f85c66e30abe154d59736395c7d1096f51127a\n""}]",0,702274,c290ce3f1ee393d25e4286d2ca51007c9c38aee0,17,9,2,6816,,,0,"Add 'scale-up' upgrade steps for cinder-backup

This patch adds the missing steps for 'scale-up' upgrade
support for the cinder-backup service similar to the implementation
in I3cfd4272449b207874723682903505d2bbdb435b

Related-Bug: #1838971
Change-Id: I95f85c66e30abe154d59736395c7d1096f51127a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/702274/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-backup-pacemaker-puppet.yaml'],1,70f6df7b2e9e59c67fe6b18a3ba28be0208c83a3,bug/1838971," - name: Create hiera data to upgrade cinder_backup in a stepwise manner. when: - step|int == 1 block: - name: set cinder_backup upgrade node facts in a single-node environment set_fact: cinder_backup_short_node_names_upgraded: ""{{ cinder_backup_short_node_names }}"" cinder_backup_node_names_upgraded: ""{{ cinder_backup_node_names }}"" cacheable: no when: groups['cinder_backup'] | length <= 1 - name: set cinder_backup upgrade node facts from the limit option set_fact: cinder_backup_short_node_names_upgraded: ""{{ cinder_backup_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cinder_backup_node_names_upgraded: ""{{ cinder_backup_node_names_upgraded|default([]) + [item] }}"" cacheable: no when: - groups['cinder_backup'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ cinder_backup_node_names }}"" - debug: msg: ""Prepare cinder_backup upgrade for {{ cinder_backup_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade cinder_backup without staged upgrade. You need to use the limit option in order to do so. when: >- cinder_backup_short_node_names_upgraded is not defined or cinder_backup_short_node_names_upgraded | length == 0 or cinder_backup_node_names_upgraded is not defined or cinder_backup_node_names_upgraded | length == 0 - name: remove cinder_backup init container on upgrade-scaleup to force re-init shell: | if podman inspect cinder_backup_init_bundle &> /dev/null; then podman rm cinder_backup_init_bundle fi when: cinder_backup_short_node_names_upgraded | length > 1 - name: add the cinder_backup short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: cinder_backup_short_node_names_override tripleo_upgrade_value: ""{{ cinder_backup_short_node_names_upgraded }}"" - name: add the cinder_backup long name to hiera data for the upgrade include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: cinder_backup_node_names_override tripleo_upgrade_value: ""{{ cinder_backup_node_names_upgraded }}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ""{{ item }}"" loop: - cinder_backup_short_node_names_override - cinder_backup_node_names_override when: cinder_backup_short_node_names_upgraded | length == cinder_backup_node_names | length",,61,0
openstack%2Fneutron~master~I5e5e14d5a621fc4a790810d15e1162f90898282e,openstack/neutron,master,I5e5e14d5a621fc4a790810d15e1162f90898282e,[OVN] Pass context while removing objects in OVN client,MERGED,2020-01-13 12:23:59.000000000,2020-01-22 01:30:20.000000000,2020-01-22 01:28:15.000000000,"[{'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-13 12:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97c5f9c3bfa6ec042c3e9244c4aef126ddf7efd9', 'message': 'Pass context while removing OVN port, router_ports and routers\n\nThis context was required but not passed. This change adds it.\n\nChange-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 2, 'created': '2020-01-14 09:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a3212447aa3658c312cc7305f24f821bb1bbafc', 'message': '[OVN] Pass context while removing objects in OVN client\n\nThis context was required but not passed. This change adds it.\n\nChange-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 3, 'created': '2020-01-14 09:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24d66b1a1efc3037be197ea69ebbff3934b7cebf', 'message': '[OVN] Pass context while removing objects in OVN client\n\nThis context was required but not passed. This change adds it.\n\nChange-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 4, 'created': '2020-01-14 12:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7fa79cc4127247137e9949426575fea22c2739c', 'message': '[OVN] Pass context while removing objects in OVN client\n\nThis context was required but not passed. This change adds it.\n\nChange-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 5, 'created': '2020-01-14 13:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f01a7b76d466326ed4eb376c4bd61de96e4276f', 'message': '[OVN] Pass context while removing objects in OVN client\n\nThis context was required but not passed. This change adds it.\n\nChange-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 6, 'created': '2020-01-14 13:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21d8cd176558311eb367928bede7516ac45e8c45', 'message': '[OVN] Pass context while removing objects in OVN client\n\nThis context was required but not passed. This change adds it.\n\nChange-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 7, 'created': '2020-01-17 14:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43bb701d7d34bd2fafb1551cd51cba4019065306', 'message': '[OVN] Pass context while removing objects in OVN client\n\nThis context was required but not passed. This change adds it.\n\nChange-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 8, 'created': '2020-01-20 10:42:26.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc890bf88b707d867fda1c7712e51d88d590e571', 'message': '[OVN] Pass context while removing objects in OVN client\n\nThis context was required but not passed. This change adds it.\n\nChange-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e\nRelated-Blueprint: neutron-ovn-merge\n'}]",5,702209,cc890bf88b707d867fda1c7712e51d88d590e571,60,9,8,24791,,,0,"[OVN] Pass context while removing objects in OVN client

This context was required but not passed. This change adds it.

Change-Id: I5e5e14d5a621fc4a790810d15e1162f90898282e
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/702209/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'],1,97c5f9c3bfa6ec042c3e9244c4aef126ddf7efd9,bp/neutron-ovn-merge," if row.resource_type in [ovn_const.TYPE_PORTS, ovn_const.TYPE_ROUTER_PORTS, ovn_const.TYPE_ROUTERS]: args = [context, row.resource_uuid] else: args = [row.resource_uuid] res_map['ovn_delete'](*args)", res_map['ovn_delete'](row.resource_uuid),7,1
openstack%2Ftripleo-heat-templates~master~I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf,openstack/tripleo-heat-templates,master,I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf,Add 'scale-up' upgrade steps for manila,MERGED,2020-01-13 17:46:26.000000000,2020-01-22 01:21:30.000000000,2020-01-22 01:21:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17823}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-13 17:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d489d27d327a6494223bf9cf6ec9fb7b104535a6', 'message': ""Add 'scale-up' upgrade steps for manila\n\nThis patch adds the missing steps for 'scale-up' upgrade\nsupport for the manila service similar to the implementation\nin I3cfd4272449b207874723682903505d2bbdb435b\n\nRelated-Bug: #1838971\nChange-Id: I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf\n""}, {'number': 2, 'created': '2020-01-13 17:54:12.000000000', 'files': ['deployment/manila/manila-share-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a25cb11b38e37b9c8fd9b2cfa060dda16ac67ab1', 'message': ""Add 'scale-up' upgrade steps for manila\n\nThis patch adds the missing steps for 'scale-up' upgrade\nsupport for the manila service similar to the implementation\nin I3cfd4272449b207874723682903505d2bbdb435b\n\nRelated-Bug: #1838971\nDepends-On: I2c468e608a8f70d031b9ba08521bb75f7094c048\nChange-Id: I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf\n""}]",6,702273,a25cb11b38e37b9c8fd9b2cfa060dda16ac67ab1,18,11,2,6816,,,0,"Add 'scale-up' upgrade steps for manila

This patch adds the missing steps for 'scale-up' upgrade
support for the manila service similar to the implementation
in I3cfd4272449b207874723682903505d2bbdb435b

Related-Bug: #1838971
Depends-On: I2c468e608a8f70d031b9ba08521bb75f7094c048
Change-Id: I6deb1e2e76c1e471c1ff9b6b05dbde86eb00fbdf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/702273/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-share-pacemaker-puppet.yaml'],1,d489d27d327a6494223bf9cf6ec9fb7b104535a6,bug/1838971," - name: Create hiera data to upgrade manila_share in a stepwise manner. when: - step|int == 1 block: - name: set manila_share upgrade node facts in a single-node environment set_fact: manila_share_short_node_names_upgraded: ""{{ manila_share_short_node_names }}"" manila_share_node_names_upgraded: ""{{ manila_share_node_names }}"" cacheable: no when: groups['manila_share'] | length <= 1 - name: set manila_share upgrade node facts from the limit option set_fact: manila_share_short_node_names_upgraded: ""{{ manila_share_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" manila_share_node_names_upgraded: ""{{ manila_share_node_names_upgraded|default([]) + [item] }}"" cacheable: no when: - groups['manila_share'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ manila_share_node_names }}"" - debug: msg: ""Prepare manila_share upgrade for {{ manila_share_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade manila_share without staged upgrade. You need to use the limit option in order to do so. when: >- manila_share_short_node_names_upgraded is not defined or manila_share_short_node_names_upgraded | length == 0 or manila_share_node_names_upgraded is not defined or manila_share_node_names_upgraded | length == 0 - name: remove manila_share init container on upgrade-scaleup to force re-init shell: | if podman inspect manila_share_init_bundle &> /dev/null; then podman rm manila_share_init_bundle fi when: manila_share_short_node_names_upgraded | length > 1 - name: add the manila_share short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: manila_share_short_node_names_override tripleo_upgrade_value: ""{{ manila_share_short_node_names_upgraded }}"" - name: add the manila_share long name to hiera data for the upgrade include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: manila_share_node_names_override tripleo_upgrade_value: ""{{ manila_share_node_names_upgraded }}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ""{{ item }}"" loop: - manila_share_short_node_names_override - manila_share_node_names_override when: manila_share_short_node_names_upgraded | length == manila_share_node_names | length",,61,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I2c468e608a8f70d031b9ba08521bb75f7094c048,openstack/puppet-tripleo,stable/train,I2c468e608a8f70d031b9ba08521bb75f7094c048,Add short node name override support to manila,MERGED,2020-01-15 16:23:20.000000000,2020-01-22 01:21:29.000000000,2020-01-22 01:21:29.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-15 16:23:20.000000000', 'files': ['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3db5bae6e1f677a692016ed904bcf534712b0b40', 'message': ""Add short node name override support to manila\n\nIn line with the cinder & cinder-backup services, we add\nshort node name override support to manila when implemented\nwith pacemaker.\n\nThis is required in order to complete the 'scale-up' upgrade\nsteps for manila similar to the implementation in\nI3cfd4272449b207874723682903505d2bbdb435b\n\nIncluded is also an update to the tests and their fixtures to\nensure that the unit tests for the manila data are consistent\nwith the other similar services (cinder volume and cinder\nbackup).\n\nRelated-Bug: #1838971\nChange-Id: I2c468e608a8f70d031b9ba08521bb75f7094c048\n(cherry picked from commit e1348fecc80a5c746fd612d7c8a3cbbb58a974d4)\n""}]",0,702695,3db5bae6e1f677a692016ed904bcf534712b0b40,24,6,1,6816,,,0,"Add short node name override support to manila

In line with the cinder & cinder-backup services, we add
short node name override support to manila when implemented
with pacemaker.

This is required in order to complete the 'scale-up' upgrade
steps for manila similar to the implementation in
I3cfd4272449b207874723682903505d2bbdb435b

Included is also an update to the tests and their fixtures to
ensure that the unit tests for the manila data are consistent
with the other similar services (cinder volume and cinder
backup).

Related-Bug: #1838971
Change-Id: I2c468e608a8f70d031b9ba08521bb75f7094c048
(cherry picked from commit e1348fecc80a5c746fd612d7c8a3cbbb58a974d4)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/95/702695/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb', 'spec/fixtures/hieradata/default.yaml']",3,3db5bae6e1f677a692016ed904bcf534712b0b40,bug/1838971-stable/train, - 'node.example.com', - 'manila-1',13,5
openstack%2Fpuppet-tripleo~stable%2Fstein~I2c468e608a8f70d031b9ba08521bb75f7094c048,openstack/puppet-tripleo,stable/stein,I2c468e608a8f70d031b9ba08521bb75f7094c048,Add short node name override support to manila,MERGED,2020-01-15 16:23:46.000000000,2020-01-22 01:12:20.000000000,2020-01-22 01:12:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-15 16:23:46.000000000', 'files': ['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7162f649afa75755b3e524f72590c6242ff93dc9', 'message': ""Add short node name override support to manila\n\nIn line with the cinder & cinder-backup services, we add\nshort node name override support to manila when implemented\nwith pacemaker.\n\nThis is required in order to complete the 'scale-up' upgrade\nsteps for manila similar to the implementation in\nI3cfd4272449b207874723682903505d2bbdb435b\n\nIncluded is also an update to the tests and their fixtures to\nensure that the unit tests for the manila data are consistent\nwith the other similar services (cinder volume and cinder\nbackup).\n\nRelated-Bug: #1838971\nChange-Id: I2c468e608a8f70d031b9ba08521bb75f7094c048\n(cherry picked from commit e1348fecc80a5c746fd612d7c8a3cbbb58a974d4)\n""}]",0,702696,7162f649afa75755b3e524f72590c6242ff93dc9,16,7,1,6816,,,0,"Add short node name override support to manila

In line with the cinder & cinder-backup services, we add
short node name override support to manila when implemented
with pacemaker.

This is required in order to complete the 'scale-up' upgrade
steps for manila similar to the implementation in
I3cfd4272449b207874723682903505d2bbdb435b

Included is also an update to the tests and their fixtures to
ensure that the unit tests for the manila data are consistent
with the other similar services (cinder volume and cinder
backup).

Related-Bug: #1838971
Change-Id: I2c468e608a8f70d031b9ba08521bb75f7094c048
(cherry picked from commit e1348fecc80a5c746fd612d7c8a3cbbb58a974d4)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/96/702696/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb', 'spec/fixtures/hieradata/default.yaml']",3,7162f649afa75755b3e524f72590c6242ff93dc9,bug/1838971-stable/stein, - 'node.example.com', - 'manila-1',13,5
openstack%2Fneutron~master~I24b5cd6c022e479080fc84e4c445c9cddfc88e38,openstack/neutron,master,I24b5cd6c022e479080fc84e4c445c9cddfc88e38,Add support for direct ports with QoS in OVS,MERGED,2018-10-18 13:34:50.000000000,2020-01-22 00:18:00.000000000,2020-01-22 00:16:09.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 13995}, {'_account_id': 14807}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 25241}, {'_account_id': 26622}, {'_account_id': 26682}, {'_account_id': 27654}, {'_account_id': 28373}, {'_account_id': 28714}, {'_account_id': 30921}]","[{'number': 1, 'created': '2018-10-18 13:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07f707c572532ea0b033b50c391746fc3e9607a0', 'message': 'Adding support for direct ports with qos in ovs\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\n'}, {'number': 2, 'created': '2018-10-22 10:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c103ee19e27a3e784fa3b44da76f5b8ae1243c9b', 'message': 'Adding support for direct ports with qos in ovs\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nImplements: qos-direct-ports\n'}, {'number': 3, 'created': '2018-10-22 10:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae43842fbaab4cfedda87515f79a07d692bbdeac', 'message': 'Adding support for direct ports with qos in ovs\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nImplements: qos-direct-ports\n'}, {'number': 4, 'created': '2018-10-22 10:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cabf2bb4c40c42299e13c407a678f437592a2d3', 'message': 'Adding support for direct ports with qos in ovs\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nImplements: blueprint qos-direct-ports\n'}, {'number': 5, 'created': '2018-10-22 11:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30bab4e5f398589085b7f863ed6eddf28698d5a8', 'message': 'Adding support for direct ports with qos in ovs\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nImplements: blueprint qos-direct-ports\n'}, {'number': 6, 'created': '2019-11-07 11:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a72b9a9e417c03874c9469758f7ada32e91d1d18', 'message': 'Adding support for direct ports with qos in ovs\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nImplements: blueprint qos-direct-ports\n'}, {'number': 7, 'created': '2019-11-07 11:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/178d12fa9ee40bf32833494496cb917306a456f1', 'message': 'Adding support for direct ports with qos in ovs\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\nImplements: blueprint qos-direct-ports\n'}, {'number': 8, 'created': '2019-11-07 11:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17c56842fc03bcada8d57ce4d18eee6f7bfee40c', 'message': ""Adding support for direct ports with qos in ovs\n\nSo today ovs mechanism driver can bind Direct port see [1] for ovs offload.\novs was extended with tc-offload to support rate limit see [1].\nThe ovs qos drive [2] it limited to work only with Normal Ports, so we\ncan't put QOS rules on direct port.\nWe just want to add Direct port to ovs Qos driver as done here [4]\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/master/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/master/neutron/services/qos/drivers/openvswitch/driver.py#L56\n[4] - https://review.opendev.org/#/c/611605/\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\nImplements: blueprint qos-direct-ports\n""}, {'number': 9, 'created': '2019-11-07 14:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11bdfc47a4bf82064f57c1cc246c901e2295fdac', 'message': ""Adding support for direct ports with qos in ovs\n\nSo today ovs mechanism driver can bind Direct port see [1] for ovs offload.\novs was extended with tc-offload to support rate limit see [1].\nThe ovs qos drive [2] it limited to work only with Normal Ports, so we\ncan't put QOS rules on direct port.\nWe just want to add Direct port to ovs Qos driver\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/master/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/master/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\nImplements: blueprint qos-direct-ports\n""}, {'number': 10, 'created': '2019-11-17 13:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d881fb0739e42ef1d0bc2168f66369bbf566f6d4', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [1].\nThe OVS QoS driver [2] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/master/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/master/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 11, 'created': '2019-12-05 06:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97d943d7d508a1499b99ed49c715897e1e78edb3', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [1].\nThe OVS QoS driver [2] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/master/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/master/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 12, 'created': '2019-12-08 10:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6661eecd26abe8bb4a3485d4fb0fccdea06c3ed', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [1].\nThe OVS QoS driver [2] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/master/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/master/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 13, 'created': '2019-12-08 10:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/866e16e41c6e6245c68dfb1356739c97d4a60b32', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [1].\nThe OVS QoS driver [2] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/master/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/master/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 14, 'created': '2019-12-08 10:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce36d050800966f03a60fce586b12bf52882d413', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [1].\nThe OVS QoS driver [2] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/master/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/master/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 15, 'created': '2019-12-08 14:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcec0683dceab0216e96322f6840a81141f65385', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [1].\nThe OVS QoS driver [2] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/master/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/master/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 16, 'created': '2019-12-26 10:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/190e55a99ecf81b8173988089d05bcda6a9a3fc4', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [2].\nThe OVS QoS driver [3] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 17, 'created': '2020-01-12 15:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b7e63d4ccb37d51f56173f6aae6f9aae28cc054', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [2].\nThe OVS QoS driver [3] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 18, 'created': '2020-01-13 09:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b99eca4d3a823bb210c73e9a4a4dd7887b618dac', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [2].\nThe OVS QoS driver [3] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 19, 'created': '2020-01-14 12:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ed852a8a16ac9e16d0a211cbfb615645b514a30', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [2].\nThe OVS QoS driver [3] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 20, 'created': '2020-01-15 05:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91600370f974d3dc46a21a3e2f702c01c0455fc0', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [2].\nThe OVS QoS driver [3] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 21, 'created': '2020-01-16 09:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9164edfb12668a7e629ef1ff80e642245b658dd1', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [2].\nThe OVS QoS driver [3] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}, {'number': 22, 'created': '2020-01-16 11:50:26.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'releasenotes/notes/Add-support-for-direct-ports-with-QoS-in-OVS-48c78c156606e724.yaml', 'doc/source/contributor/internals/quality_of_service.rst', 'neutron/cmd/sanity_check.py', 'neutron/services/qos/drivers/openvswitch/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/12089a526e25cfe5ccb8b4da86b653970d75f14a', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS hardware\noffloads.\nOVS was extended with tc-offload to support rate limit see [2].\nThe OVS QoS driver [3] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nChange-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38\nCloses-Bug: #1843165\n""}]",48,611605,12089a526e25cfe5ccb8b4da86b653970d75f14a,151,23,22,25241,,,0,"Add support for direct ports with QoS in OVS

Today OVS mechanism driver can bind Direct port see [1] for OVS hardware
offloads.
OVS was extended with tc-offload to support rate limit see [2].
The OVS QoS driver [3] is limited to work only with Normal Ports, so we
can't put QoS rules on direct port.
This patch proposes to add support in OVS QoS driver for direct ports.
The mechanism to enforce such policies is the same with normal and
hardware offloaded direct ports.

[1] - https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71
[2] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83
[3] - https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56

Change-Id: I24b5cd6c022e479080fc84e4c445c9cddfc88e38
Closes-Bug: #1843165
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/611605/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/drivers/openvswitch/driver.py'],1,07f707c572532ea0b033b50c391746fc3e9607a0,bug/1843165," vnic_types=[portbindings.VNIC_NORMAL, portbindings.VNIC_DIRECT],"," vnic_types=[portbindings.VNIC_NORMAL],",1,1
openstack%2Ftripleo-docs~master~Ia3d053a107519b89f1644dd0b9ae9b6654bd78ee,openstack/tripleo-docs,master,Ia3d053a107519b89f1644dd0b9ae9b6654bd78ee,Document OVNDBsVipPort for deployed-server,MERGED,2020-01-20 15:12:47.000000000,2020-01-21 23:51:49.000000000,2020-01-21 23:50:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 15:12:47.000000000', 'files': ['deploy-guide/source/features/deployed_server.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/befa59345b6ed629b51259627fdc326aba1e98ee', 'message': 'Document OVNDBsVipPort for deployed-server\n\nAs OVNDBsVipPort was added a new top level VIP, it needs to mapped\nappropriately as is done for Redis. This patch updates the documentation\nto further cover what is needed and how to do the mappings and\nDeployedServerPortMap values.\n\nChange-Id: Ia3d053a107519b89f1644dd0b9ae9b6654bd78ee\n'}]",0,703417,befa59345b6ed629b51259627fdc326aba1e98ee,8,3,1,7144,,,0,"Document OVNDBsVipPort for deployed-server

As OVNDBsVipPort was added a new top level VIP, it needs to mapped
appropriately as is done for Redis. This patch updates the documentation
to further cover what is needed and how to do the mappings and
DeployedServerPortMap values.

Change-Id: Ia3d053a107519b89f1644dd0b9ae9b6654bd78ee
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/17/703417/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_server.rst'],1,befa59345b6ed629b51259627fdc326aba1e98ee,," # Set VIP's for redis and OVN to noop to default to the ctlplane VIP # The cltplane VIP is set with control_virtual_ip in # DeployedServerPortMap below. # # Alternatively, these can be mapped to deployed-neutron-port.yaml as # well and redis_virtual_ip and ovn_dbs_virtual_ip added to the # DeployedServerPortMap value to set fixed IP's. OS::TripleO::Network::Ports::OVNDBsVipPort: /usr/share/openstack-tripleo-heat-templates/network/ports/noop.yamlIn the above example, notice how ``RedisVipPort`` and ``OVNDBsVipPort`` are mapped to ``network/ports/noop.yaml``. This mapping is due to the fact that these VIP IP addresses comes from the ctlplane by default, and they will use the same VIP address that is used for ``ControlPlanePort``. Alternatively these VIP's can be mapped to their own fixed IP's, in which case a VIP will be created for each. In this case, the following mappings and values would be added to the above example:: resource_registry: OS::TripleO::Network::Ports::RedisVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::OVNDBsVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml parameter_defaults: DeployedServerPortMap: redis_virtual_ip: fixed_ips: - ip_address: 192.168.100.10 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 ovn_dbs_virtual_ip: fixed_ips: - ip_address: 192.168.100.11 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 The ``EC2MetadataIp`` and ``ControlPlaneDefaultRoute`` parameters are set to the value of the control virtual IP address. These parameters are required to be set by the sample NIC configs, and must be set to a pingable IP address in order to pass the validations performed during deployment. Alternatively, the NIC configs could be further customized to not require these parameters.","In the above example, notice how ``RedisVipPort`` is mapped to ``network/ports/noop.yaml``. This mapping is due to the fact that the Redis VIP IP address comes from the ctlplane by default. The ``EC2MetadataIp`` and ``ControlPlaneDefaultRoute`` parameters are set to the value of the control virtual IP address. These parameters are required to be set by the sample NIC configs, and must be set to a pingable IP address in order to pass the validations performed during deployment. Alternatively, the NIC configs could be further customized to not require these parameters.",46,9
openstack%2Fnova~stable%2Focata~I3b088925dd46898bda6f74af4b933cfa732c31b7,openstack/nova,stable/ocata,I3b088925dd46898bda6f74af4b933cfa732c31b7,ocata-only: drop non-voting ceph job,MERGED,2019-12-19 21:50:54.000000000,2020-01-21 23:37:45.000000000,2020-01-21 23:37:45.000000000,"[{'_account_id': 6547}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-12-19 21:50:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/586d721dab2867d6b8db37026b063be29bacf754', 'message': ""ocata-only: drop non-voting ceph job\n\nNova on stable/ocata is the last remaining user of\nlegacy-tempest-dsvm-full-devstack-plugin-ceph and\nruns it non-voting. stable/ocata is in extended\nmaintenance mode and doesn't see much action anymore.\nFurthermore, the ceph job is being removed from nova\nin stable/pike testing [1] so it'd be a bit weird to\nrun a ceph job on ocata but not pike so let's just\nremove it. Since it's non-voting if it breaks no one\nwill likely notice anyway.\n\n[1] I9e153f86c81ed6d9f8d9682b66d6d5c7f7b25296\n\nChange-Id: I3b088925dd46898bda6f74af4b933cfa732c31b7\n""}]",0,700077,586d721dab2867d6b8db37026b063be29bacf754,16,6,1,6873,,,0,"ocata-only: drop non-voting ceph job

Nova on stable/ocata is the last remaining user of
legacy-tempest-dsvm-full-devstack-plugin-ceph and
runs it non-voting. stable/ocata is in extended
maintenance mode and doesn't see much action anymore.
Furthermore, the ceph job is being removed from nova
in stable/pike testing [1] so it'd be a bit weird to
run a ceph job on ocata but not pike so let's just
remove it. Since it's non-voting if it breaks no one
will likely notice anyway.

[1] I9e153f86c81ed6d9f8d9682b66d6d5c7f7b25296

Change-Id: I3b088925dd46898bda6f74af4b933cfa732c31b7
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/700077/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,586d721dab2867d6b8db37026b063be29bacf754,drop-ceph-ci-ocata,, - legacy-tempest-dsvm-full-devstack-plugin-ceph: voting: false irrelevant-files: - ^(placement-)?api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tests-py3.txt$ - ^tools/.*$ - ^tox.ini$,0,16
openstack%2Fpuppet-tripleo~stable%2Ftrain~I91d9f8ffb1e0c8bbdbc90696950aafd797ff380c,openstack/puppet-tripleo,stable/train,I91d9f8ffb1e0c8bbdbc90696950aafd797ff380c,Make rsyslog file_input bulletproof,MERGED,2020-01-14 12:43:27.000000000,2020-01-21 23:21:01.000000000,2020-01-21 23:21:01.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6681}, {'_account_id': 7294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-14 12:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4a7593cc19d42c5d1e20fa1fe40769fd382db72c', 'message': 'Make rsyslog file_input bulletproof\n\nThis patch makes rsyslog::file_input accept also $sources as single hash.\nCurrently when $sources is not array deployment fails.\n\nChange-Id: I91d9f8ffb1e0c8bbdbc90696950aafd797ff380c\n'}, {'number': 3, 'created': '2020-01-16 14:57:53.000000000', 'files': ['spec/defines/tripleo_profile_base_logging_rsyslog_file_input_spec.rb', 'manifests/profile/base/logging/rsyslog/file_input.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/becddfad8fff6953cc199917baafe79e59cd930d', 'message': 'Make rsyslog file_input bulletproof\n\nThis patch makes rsyslog::file_input accept also $sources as single hash.\nCurrently when $sources is not array deployment fails.\n\nChange-Id: I91d9f8ffb1e0c8bbdbc90696950aafd797ff380c\n(cherry picked from commit 8c813bc8ac6b1541ce32a82bdc0992c16464acf4)\n'}]",0,702410,becddfad8fff6953cc199917baafe79e59cd930d,19,7,2,5241,,,0,"Make rsyslog file_input bulletproof

This patch makes rsyslog::file_input accept also $sources as single hash.
Currently when $sources is not array deployment fails.

Change-Id: I91d9f8ffb1e0c8bbdbc90696950aafd797ff380c
(cherry picked from commit 8c813bc8ac6b1541ce32a82bdc0992c16464acf4)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/10/702410/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/tripleo_profile_base_logging_rsyslog_file_input_spec.rb', 'manifests/profile/base/logging/rsyslog/file_input.pp']",2,4a7593cc19d42c5d1e20fa1fe40769fd382db72c,file_input-train," $sources_array = Array($sources, true) $rsyslog_sources = $sources_array.reduce([]) |$memo, $config| {"," $rsyslog_sources = $sources.reduce([]) |$memo, $config| {",26,10
openstack%2Ftripleo-heat-templates~master~Idfa9887cb2a3b5f3d5a594f0e7c69c79c817c950,openstack/tripleo-heat-templates,master,Idfa9887cb2a3b5f3d5a594f0e7c69c79c817c950,Improve documentation for 'NovaComputeCpuSharedSet' parameter,MERGED,2020-01-16 17:13:50.000000000,2020-01-21 23:21:00.000000000,2020-01-21 23:20:59.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-16 17:13:50.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/522f3d74adaeeb2814971fd3f80701a43c9ecbb2', 'message': ""Improve documentation for 'NovaComputeCpuSharedSet' parameter\n\nThis one's a little tricky, so improve the documentation around it to\nhelp avoid later confusion.\n\nChange-Id: Idfa9887cb2a3b5f3d5a594f0e7c69c79c817c950\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,702928,522f3d74adaeeb2814971fd3f80701a43c9ecbb2,15,5,1,15334,,,0,"Improve documentation for 'NovaComputeCpuSharedSet' parameter

This one's a little tricky, so improve the documentation around it to
help avoid later confusion.

Change-Id: Idfa9887cb2a3b5f3d5a594f0e7c69c79c817c950
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/702928/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,522f3d74adaeeb2814971fd3f80701a43c9ecbb2,bp/cpu-resources," description: | The behavior of this option depends on the deprecated `NovaVcpuPinSet` option: * `NovaVcpuPinSet` is not set: `NovaComputeCpuSharedSet` is set to a comma-separated list or range of physical host CPU numbers used to: - provide vCPU inventory - determine the host CPUs that unpinned instances can be scheduled to - determine the host CPUS that instance emulator threads should be offloaded to for instances configured with the share emulator thread policy, `hw:emulator_threads_policy=share` * `NovaVcpuPinSet` is set: `NovaComputeCpuSharedSet` is set to a list or range of host CPU cores used to determine the host CPUs that instance emulator threads should be offloaded to for instances configured with the share emulator thread policy (`hw:emulator_threads_policy=share`). In this case, `NovaVcpuPinSet` is used to provide vCPU inventory and to determine the host CPUs that both pinned and unpinned instances can be scheduled to. "," description: > A list or range of host CPU cores to which emulator threads can be scheduled, if NovaVcpuPinSet is set, or to which both emulator threads and processes for unpinned instance CPUs (VCPUs) can be scheduled, if NovaVcpuPinSet is unset.",20,4
openstack%2Fproject-config~master~I138511865f104d17f60026b3f5de1144c13f565a,openstack/project-config,master,I138511865f104d17f60026b3f5de1144c13f565a,Build reproducible wheels for our wheel cache,NEW,2020-01-20 20:21:33.000000000,2020-01-21 23:18:28.000000000,,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 20:21:33.000000000', 'files': ['roles/build-wheels/files/wheel-build.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2fafd2876b0f5fb3bc995b26754160f97d55a3a0', 'message': ""Build reproducible wheels for our wheel cache\n\nWhere possible, avoid common causes of variance between wheel builds\nby setting a consistent file modification timestamp in ZIP archives\nand disabling debug information in compiled C extensions. This\ndoesn't fix all reproducibility issues, but it does at least address\nthe ones which are not particularly under the control of the\nmaintainers of the software. Most other reproducibility issues\nshould be fixed upstream.\n\nChange-Id: I138511865f104d17f60026b3f5de1144c13f565a\n""}]",4,703495,2fafd2876b0f5fb3bc995b26754160f97d55a3a0,7,3,1,5263,,,0,"Build reproducible wheels for our wheel cache

Where possible, avoid common causes of variance between wheel builds
by setting a consistent file modification timestamp in ZIP archives
and disabling debug information in compiled C extensions. This
doesn't fix all reproducibility issues, but it does at least address
the ones which are not particularly under the control of the
maintainers of the software. Most other reproducibility issues
should be fixed upstream.

Change-Id: I138511865f104d17f60026b3f5de1144c13f565a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/703495/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-wheels/files/wheel-build.sh'],1,2fafd2876b0f5fb3bc995b26754160f97d55a3a0,wheel-mirror,"# Set the source date to a consistent value (2020-01-01T00:00:00) so that # the last modified timestamps for files written into the .whl ZIP archives # will be consistent between builds. export SOURCE_DATE_EPOCH=1577836800 # Disable debug information in compiled C extensions, since these often # incorporate build timestamps which will cause the wheels in which they're # bundled to have different checksums each time they're built. export CFLAGS=-g0 ",,10,0
openstack%2Fbifrost~master~Id961fe9e8f09a4f626e0833882cae07613bb251b,openstack/bifrost,master,Id961fe9e8f09a4f626e0833882cae07613bb251b,Make bionic job voting again,MERGED,2020-01-21 13:13:35.000000000,2020-01-21 23:12:05.000000000,2020-01-21 23:09:01.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 13:13:35.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c01e125939d9e2afd63edca2e8402936818159f6', 'message': 'Make bionic job voting again\n\nNow that we have part of the CI working again, we enable voting\nfor the Bionic job.\n\nChange-Id: Id961fe9e8f09a4f626e0833882cae07613bb251b\n'}]",0,703609,c01e125939d9e2afd63edca2e8402936818159f6,8,3,1,23851,,,0,"Make bionic job voting again

Now that we have part of the CI working again, we enable voting
for the Bionic job.

Change-Id: Id961fe9e8f09a4f626e0833882cae07613bb251b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/09/703609/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c01e125939d9e2afd63edca2e8402936818159f6,making-bionic-vote-again, - bifrost-integration-tinyipa-ubuntu-bionic - bifrost-integration-tinyipa-ubuntu-bionic, - bifrost-integration-tinyipa-ubuntu-bionic: voting: false,2,2
openstack%2Fcinder~master~Ib8fc106e2f264908227794ac34d41e603bedf55a,openstack/cinder,master,Ib8fc106e2f264908227794ac34d41e603bedf55a,Add upgrade check for removed Veritas Access driver,MERGED,2020-01-15 15:53:40.000000000,2020-01-21 23:06:07.000000000,2020-01-21 05:21:15.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-01-15 15:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/687821887c4d3cda488a01d03b74bf5da080daf4', 'message': 'Add upgrade check for removed Veritas Access driver\n\nThe Veritas Access driver has been removed. This adds an upgrade check\nto warn if it is still configured.\n\nChange-Id: Ib8fc106e2f264908227794ac34d41e603bedf55a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-01-20 22:07:15.000000000', 'files': ['cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6eab0e3247804c7c34c1aa19ba92b8126e3675e5', 'message': 'Add upgrade check for removed Veritas Access driver\n\nThe Veritas Access driver has been removed. This adds an upgrade check\nto warn if it is still configured.\n\nChange-Id: Ib8fc106e2f264908227794ac34d41e603bedf55a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,702689,6eab0e3247804c7c34c1aa19ba92b8126e3675e5,56,29,2,11904,,,0,"Add upgrade check for removed Veritas Access driver

The Veritas Access driver has been removed. This adds an upgrade check
to warn if it is still configured.

Change-Id: Ib8fc106e2f264908227794ac34d41e603bedf55a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/702689/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py']",2,687821887c4d3cda488a01d03b74bf5da080daf4,ci_unsupported," ""veritas_access"",",,4,1
openstack%2Fcharm-neutron-dynamic-routing~master~I99d091c21987d9fafba43754e69c5c3e24fa50ca,openstack/charm-neutron-dynamic-routing,master,I99d091c21987d9fafba43754e69c5c3e24fa50ca,Closes-Bug: 1859938,MERGED,2020-01-16 20:41:54.000000000,2020-01-21 22:58:32.000000000,2020-01-21 22:58:32.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-16 20:41:54.000000000', 'files': ['.gitignore', 'src/reactive/dragent_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/4c7cfc104b4dbbbac91cccf7c75274472d22dcec', 'message': 'Closes-Bug: 1859938\n\nImports the dragnet module in the reactive handlers module to ensure\nthat the BaseOpenStackCharm.singleton is updated with a release_pkt\nattribute\n\nChange-Id: I99d091c21987d9fafba43754e69c5c3e24fa50ca\n'}]",0,702982,4c7cfc104b4dbbbac91cccf7c75274472d22dcec,14,3,1,31420,,,0,"Closes-Bug: 1859938

Imports the dragnet module in the reactive handlers module to ensure
that the BaseOpenStackCharm.singleton is updated with a release_pkt
attribute

Change-Id: I99d091c21987d9fafba43754e69c5c3e24fa50ca
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/82/702982/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'src/reactive/dragent_handlers.py']",2,4c7cfc104b4dbbbac91cccf7c75274472d22dcec,bug/1859938,import charm.openstack.dragent as dragent # noqa ,,4,0
openstack%2Fdevstack-gate~master~I12875c7b979a60f46185ab33bae8ea4be0f759d9,openstack/devstack-gate,master,I12875c7b979a60f46185ab33bae8ea4be0f759d9,Capture nfs-ganesha logs and conf,NEW,2018-12-21 15:14:15.000000000,2020-01-21 22:57:06.000000000,,"[{'_account_id': 1}, {'_account_id': 1106}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 9003}, {'_account_id': 16068}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-12-21 15:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/423e95aee5ac8157f9e4b6ac2699649590328226', 'message': 'Capture nfs-ganesha logs and conf\n\nIf nfs-ganesha is used as an NFS gateway for another filesystem\nlike CephFS or glusterfs, then its configuration and logs are\ncritical for debugging service issues.\n\nCapture these logs in the same manner that we capture logs and\nconfiguration for ceph and gluster themselves.\n\nChange-Id: I12875c7b979a60f46185ab33bae8ea4be0f759d9\n'}, {'number': 2, 'created': '2019-01-22 11:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1e0f3ae984cfa9f72f4f19fc2c78b6ddac95fdf2', 'message': 'Capture nfs-ganesha logs and conf\n\nIf nfs-ganesha is used as an NFS gateway for another filesystem\nlike CephFS or glusterfs, then its configuration and logs are\ncritical for debugging service issues.\n\nCapture these logs in the same manner that we capture logs and\nconfiguration for ceph and gluster themselves.\n\nChange-Id: I12875c7b979a60f46185ab33bae8ea4be0f759d9\n'}, {'number': 3, 'created': '2019-09-22 20:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/89a980c153c3975861a476a81dcf1bb480dd0f6d', 'message': 'Capture nfs-ganesha logs and conf\n\nIf nfs-ganesha is used as an NFS gateway for another filesystem\nlike CephFS or glusterfs, then its configuration and logs are\ncritical for debugging service issues.\n\nCapture these logs in the same manner that we capture logs and\nconfiguration for ceph and gluster themselves.\n\nChange-Id: I12875c7b979a60f46185ab33bae8ea4be0f759d9\n'}, {'number': 4, 'created': '2019-10-16 18:19:26.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/26837d5d86d9d1a5401d1561c2a2abb3b2d8a99e', 'message': 'Capture nfs-ganesha logs and conf\n\nIf nfs-ganesha is used as an NFS gateway for another filesystem\nlike CephFS or glusterfs, then its configuration and logs are\ncritical for debugging service issues.\n\nCapture these logs in the same manner that we capture logs and\nconfiguration for ceph and gluster themselves.\n\nChange-Id: I12875c7b979a60f46185ab33bae8ea4be0f759d9\n'}]",0,626921,26837d5d86d9d1a5401d1561c2a2abb3b2d8a99e,23,11,4,9003,,,0,"Capture nfs-ganesha logs and conf

If nfs-ganesha is used as an NFS gateway for another filesystem
like CephFS or glusterfs, then its configuration and logs are
critical for debugging service issues.

Capture these logs in the same manner that we capture logs and
configuration for ceph and gluster themselves.

Change-Id: I12875c7b979a60f46185ab33bae8ea4be0f759d9
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/21/626921/1 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,423e95aee5ac8157f9e4b6ac2699649590328226,ganesha-logs, # ganesha logs and config if [ -d /var/log/ganesha ] ; then sudo cp -r /var/log/ganesha $BASE/logs/ fi save_file /etc/ganesha/ganesha.conf ,,6,0
openstack%2Fcyborg~master~I50cb8f105b309b1f7c7653bca2897d31841e0e46,openstack/cyborg,master,I50cb8f105b309b1f7c7653bca2897d31841e0e46,Document the alembic CLI better in README,MERGED,2020-01-19 10:50:07.000000000,2020-01-21 22:52:49.000000000,2020-01-21 22:51:11.000000000,"[{'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-01-19 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/625c90081c77bdfc6eca69fbd2dfcd2263921fcc', 'message': 'Improve the accuracy of CLI in alembic README\n\nWhile I use ``cyborg-dbsync revision --message --autogenerate``\n(Note in README) to upgrate the db script. It will be raise an error,\nsuch as:\n\nroot@ubuntu:# cyborg-dbsync revision --message --autogenerate\nusage: cyborg-dbsync revision [-h] [-m MESSAGE] [--autogenerate]\ncyborg-dbsync revision: error: argument -m/--message: expected one\nargument\n\nSo add a brief message after the ""--message"" parameter to make the\ncommand run correctly.\n\nChange-Id: I50cb8f105b309b1f7c7653bca2897d31841e0e46\n'}, {'number': 2, 'created': '2020-01-20 00:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/43e9dd4c305ff2407f657ae0ceaa6df555f6db01', 'message': 'Document the alembic CLI better in README\n\nWhile we use ``cyborg-dbsync revision --message --autogenerate``\n(Note in README) to upgrate the db script. It raises an error,\nsuch as:\n\nroot@ubuntu:# cyborg-dbsync revision --message --autogenerate\nusage: cyborg-dbsync revision [-h] [-m MESSAGE] [--autogenerate]\ncyborg-dbsync revision: error: argument -m/--message: expected one\nargument\n\nSo add a brief message after the ""--message"" parameter to make the\ncommand run correctly.\n\nChange-Id: I50cb8f105b309b1f7c7653bca2897d31841e0e46\n'}, {'number': 3, 'created': '2020-01-21 00:36:19.000000000', 'files': ['cyborg/db/sqlalchemy/alembic/README'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a83f43117ada2ac3b9985b5332f65ec1a46ef189', 'message': 'Document the alembic CLI better in README\n\nWhile we use ``cyborg-dbsync revision --message --autogenerate``\n(Note in README) to upgrate the db script, it raises an error,\nsuch as:\n\nroot@ubuntu:# cyborg-dbsync revision --message --autogenerate\nusage: cyborg-dbsync revision [-h] [-m MESSAGE] [--autogenerate]\ncyborg-dbsync revision: error: argument -m/--message: expected one\nargument\n\nSo add a brief message after the ""--message"" parameter to make the\ncommand run correctly.\n\nChange-Id: I50cb8f105b309b1f7c7653bca2897d31841e0e46\n'}]",6,703287,a83f43117ada2ac3b9985b5332f65ec1a46ef189,20,6,3,26458,,,0,"Document the alembic CLI better in README

While we use ``cyborg-dbsync revision --message --autogenerate``
(Note in README) to upgrate the db script, it raises an error,
such as:

root@ubuntu:# cyborg-dbsync revision --message --autogenerate
usage: cyborg-dbsync revision [-h] [-m MESSAGE] [--autogenerate]
cyborg-dbsync revision: error: argument -m/--message: expected one
argument

So add a brief message after the ""--message"" parameter to make the
command run correctly.

Change-Id: I50cb8f105b309b1f7c7653bca2897d31841e0e46
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/87/703287/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/db/sqlalchemy/alembic/README'],1,625c90081c77bdfc6eca69fbd2dfcd2263921fcc,,$ cyborg-dbsync revision --message <message_info> --autogenerate NOTE: <message_info> is the brief information of the database script you want to upgrade.,$ cyborg-dbsync revision --message --autogenerate,3,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,openstack/networking-ovn,stable/train,Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,Exclude all device_ids that belong to Neutron DHCP Agent,MERGED,2020-01-17 20:26:37.000000000,2020-01-21 22:37:20.000000000,2020-01-21 22:35:45.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-01-17 20:26:37.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/53ad1170bff39d5ee7ec8abbf2ce58c94272fd3a', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 15bf8f265b14c3a1e2c89a17a77cee69cad22b9d)\n""}]",0,703191,53ad1170bff39d5ee7ec8abbf2ce58c94272fd3a,13,5,1,11952,,,0,"Exclude all device_ids that belong to Neutron DHCP Agent

It looks like sometimes, the device_id for ports created
by Neutron DHCP Agent can be in the form of:

- dhcp-$hostuuid-$networkid
- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)

Current code is only taking the first form into account when
skipping Neutron DHCP Agent ports. This patch is changing it
to include both forms.

Closes-Bug: #1848521
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 15bf8f265b14c3a1e2c89a17a77cee69cad22b9d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/91/703191/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py']",4,53ad1170bff39d5ee7ec8abbf2ce58c94272fd3a,bug/1848521, # Do not touch the Neutron DHCP agents ports if utils.is_neutron_dhcp_agent_port(port):, # Ports with a device_id like 'dhcp<host_id>-<network_id>' # belong to Neutron DHCP agent so we'll skip those for OVN # metadata. if port['device_id'].startswith('dhcp'):,35,8
openstack%2Fnetworking-ovn~stable%2Frocky~Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,openstack/networking-ovn,stable/rocky,Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,Exclude all device_ids that belong to Neutron DHCP Agent,MERGED,2020-01-17 20:30:50.000000000,2020-01-21 22:35:46.000000000,2020-01-21 22:35:46.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-01-17 20:30:50.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/23bcfd127db034eb18d8e674655f06b03bdb9d6a', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 15bf8f265b14c3a1e2c89a17a77cee69cad22b9d)\n""}]",0,703193,23bcfd127db034eb18d8e674655f06b03bdb9d6a,12,5,1,11952,,,0,"Exclude all device_ids that belong to Neutron DHCP Agent

It looks like sometimes, the device_id for ports created
by Neutron DHCP Agent can be in the form of:

- dhcp-$hostuuid-$networkid
- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)

Current code is only taking the first form into account when
skipping Neutron DHCP Agent ports. This patch is changing it
to include both forms.

Closes-Bug: #1848521
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 15bf8f265b14c3a1e2c89a17a77cee69cad22b9d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/93/703193/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py']",4,23bcfd127db034eb18d8e674655f06b03bdb9d6a,bug/1848521, # Do not touch the Neutron DHCP agents ports if utils.is_neutron_dhcp_agent_port(port):, # Ports with a device_id like 'dhcp<host_id>-<network_id>' # belong to Neutron DHCP agent so we'll skip those for OVN # metadata. if port['device_id'].startswith('dhcp'):,35,8
openstack%2Fnetworking-ovn~stable%2Fqueens~Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,openstack/networking-ovn,stable/queens,Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,Exclude all device_ids that belong to Neutron DHCP Agent,MERGED,2020-01-17 21:06:48.000000000,2020-01-21 22:35:45.000000000,2020-01-21 22:35:44.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-01-17 21:06:48.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d2127eb634b59c8f21bef7a70f7620fc4e5a77b6', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 15bf8f265b14c3a1e2c89a17a77cee69cad22b9d)\n""}]",0,703195,d2127eb634b59c8f21bef7a70f7620fc4e5a77b6,12,5,1,11952,,,0,"Exclude all device_ids that belong to Neutron DHCP Agent

It looks like sometimes, the device_id for ports created
by Neutron DHCP Agent can be in the form of:

- dhcp-$hostuuid-$networkid
- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)

Current code is only taking the first form into account when
skipping Neutron DHCP Agent ports. This patch is changing it
to include both forms.

Closes-Bug: #1848521
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 15bf8f265b14c3a1e2c89a17a77cee69cad22b9d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/95/703195/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py']",4,d2127eb634b59c8f21bef7a70f7620fc4e5a77b6,bug/1848521," all_dhcp_ports = self.core_plugin.get_ports(ctx, filters=dict( dhcp_ports = [] for port in all_dhcp_ports: # Do not touch the Neutron DHCP agents ports if not utils.is_neutron_dhcp_agent_port(port): dhcp_ports.append(port) "," dhcp_ports = self.core_plugin.get_ports(ctx, filters=dict(",52,6
openstack%2Fpaunch~stable%2Ftrain~I3f79a42da8798e24fad1a3ccc18efcc26e118c4d,openstack/paunch,stable/train,I3f79a42da8798e24fad1a3ccc18efcc26e118c4d,Return an error if tripleo-ansible deployed containers,MERGED,2020-01-20 16:25:08.000000000,2020-01-21 22:29:53.000000000,2020-01-21 22:28:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 16:25:08.000000000', 'files': ['paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/dda8521aa14378af0258ffe135812f4dc9184bcd', 'message': ""Return an error if tripleo-ansible deployed containers\n\nFor now, we assume that tripleo-ansible & paunch aren't playing well\ntogether. So let's make sure that when containers were deployed with\ntripleo-ansible, paunch CLI can't be used anymore.\n\nChange-Id: I3f79a42da8798e24fad1a3ccc18efcc26e118c4d\n(cherry picked from commit 3e19521fd47d39c6069399e42aad832a78ebcb78)\n""}]",0,703442,dda8521aa14378af0258ffe135812f4dc9184bcd,13,4,1,3153,,,0,"Return an error if tripleo-ansible deployed containers

For now, we assume that tripleo-ansible & paunch aren't playing well
together. So let's make sure that when containers were deployed with
tripleo-ansible, paunch CLI can't be used anymore.

Change-Id: I3f79a42da8798e24fad1a3ccc18efcc26e118c4d
(cherry picked from commit 3e19521fd47d39c6069399e42aad832a78ebcb78)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/42/703442/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,dda8521aa14378af0258ffe135812f4dc9184bcd,warning_paunch-stable/train," if os.path.isfile('/var/lib/tripleo-config/.ansible-managed'): msg = ('Containers were previously deployed with ' 'tripleo-ansible, paunch CLI can not be used.') raise RuntimeError(msg) ",,5,0
openstack%2Ftripleo-validations~master~Ib758906a08dd611589394c77c627510d667034e9,openstack/tripleo-validations,master,Ib758906a08dd611589394c77c627510d667034e9,Normalize role names when generating roles,MERGED,2020-01-20 15:06:49.000000000,2020-01-21 22:28:29.000000000,2020-01-21 22:28:29.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 15:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d2e8ca0b287d0a4d6ad3b7a388f8cc87b760c9bb', 'message': 'Normalize role names when generating roles\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change ensures that we\'re no longer generating roles\nthat have a ""-"" within them. The role-addition.yml playbook will now\nnormalize the name and replace any ""-"" with an ""_"".\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Ib758906a08dd611589394c77c627510d667034e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-20 16:57:09.000000000', 'files': ['role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3e30472f23efe1bb03c450f9ef78e8e147e65985', 'message': 'Normalize role names when generating roles\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change ensures that we\'re no longer generating roles\nthat have a ""-"" within them. The role-addition.yml playbook will now\nnormalize the name and replace any ""-"" with an ""_"".\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Ib758906a08dd611589394c77c627510d667034e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,703412,3e30472f23efe1bb03c450f9ef78e8e147e65985,21,3,2,7353,,,0,"Normalize role names when generating roles

Roles can no longer have a ""-"" in them according to the upstream ansible
documentation[0]. This change ensures that we're no longer generating roles
that have a ""-"" within them. The role-addition.yml playbook will now
normalize the name and replace any ""-"" with an ""_"".

[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory

Change-Id: Ib758906a08dd611589394c77c627510d667034e9
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/12/703412/2 && git format-patch -1 --stdout FETCH_HEAD,['role-addition.yml'],1,d2e8ca0b287d0a4d6ad3b7a388f8cc87b760c9bb,renaming-all-the-things," - name: Normalize the role name set_fact: _role_name: ""{{ role_name | replace('-', '_' ) }}"" --init-path=tripleo_validations/roles/{{ _role_name }} args: creates: ""tripleo_validations/roles/{{ _role_name }}"" {% set new_job_name = ""tripleo-validations-centos-7-molecule-"" ~ _role_name %} ""^tripleo_validations/roles/"" ~ _role_name ~ ""/.*"" ""tripleo_role_name"": _role_name } } {% set opening = 'Role - ' ~ _role_name %} {{ '=' * (opening | length) }} {{ opening }} {{ '=' * (opening | length) }} :role: tripleo_validations/roles/{{ _role_name }} dest: ""doc/source/roles/role-{{ _role_name }}.rst"""," --init-path=roles {{ role_name }} args: creates: ""roles/{{ role_name }}"" {% set new_job_name = ""tripleo-validations-centos-7-molecule-"" ~ role_name %} ""^roles/"" ~ role_name ~ ""/.*"" ""tripleo_validations_role_name"": role_name } } - name: Create the playbook copy: content: | --- - hosts: undercloud vars: metadata: name: Validation's name description: >- Write a description of your validations groups: - group1 - group2 {{ role_name | replace('-', '_') }}_debug: false roles: - {{ role_name }} dest: ""playbooks/{{ role_name }}.yaml"" {{ '=' * (role_name | length) }} {{ role_name }} {{ '=' * (role_name | length) }} :role: roles/{{ role_name }} dest: ""doc/source/roles/role-{{ role_name }}.rst""",16,29
openstack%2Frequirements~stable%2Frocky~Ifb805954ff36420004d552a690046d8ddf3bed5c,openstack/requirements,stable/rocky,Ifb805954ff36420004d552a690046d8ddf3bed5c,demarcate python-memcached requirements,MERGED,2020-01-14 15:26:29.000000000,2020-01-21 22:18:59.000000000,2020-01-21 22:18:59.000000000,"[{'_account_id': 1916}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-14 15:26:29.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c8d1eb635e86b26b86e7e78aa2c17489e6f8ed1a', 'message': ""demarcate python-memcached requirements\n\nTo support Python3, we need python-memcached 1.58 or above. However,\nprojects such as keystonemiddleware[1] have python-memcached 1.56\nin its lower-constraints.txt. For stable/stein, Python3 is now the\ndefult[2]. However, we generally avoid changing lower constraints in\nthe stable branches so we don't inadvertently break the downstream\nconsumers. Therefore, we need to separate python-memcached requirement\nfor the respective python versions.\n\n[1] https://github.com/openstack/keystonemiddleware/blob/stable/stein/lower-constraints.txt#L61\n[2] https://governance.openstack.org/tc/goals/selected/stein/python3-first.html\n\nChange-Id: Ifb805954ff36420004d552a690046d8ddf3bed5c\n""}]",1,702461,c8d1eb635e86b26b86e7e78aa2c17489e6f8ed1a,10,5,1,11904,,,0,"demarcate python-memcached requirements

To support Python3, we need python-memcached 1.58 or above. However,
projects such as keystonemiddleware[1] have python-memcached 1.56
in its lower-constraints.txt. For stable/stein, Python3 is now the
defult[2]. However, we generally avoid changing lower constraints in
the stable branches so we don't inadvertently break the downstream
consumers. Therefore, we need to separate python-memcached requirement
for the respective python versions.

[1] https://github.com/openstack/keystonemiddleware/blob/stable/stein/lower-constraints.txt#L61
[2] https://governance.openstack.org/tc/goals/selected/stein/python3-first.html

Change-Id: Ifb805954ff36420004d552a690046d8ddf3bed5c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/702461/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,c8d1eb635e86b26b86e7e78aa2c17489e6f8ed1a,constrain_python_memcached,python-memcached>1.55;python_version=='2.7' # PSF python-memcached>1.57;python_version>='3.4' # PSF,python-memcached # PSF,2,1
openstack%2Fbarbican~master~Ic2ac0a2e3fcdebf44742ed13ee95730ecbf9f337,openstack/barbican,master,Ic2ac0a2e3fcdebf44742ed13ee95730ecbf9f337,WIP: Remove CloudKeep references,ABANDONED,2019-03-22 19:29:21.000000000,2020-01-21 22:14:15.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-22 19:29:21.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/barbican/commit/3c98613aa961161b794b02daac9ac5c9a6e68d08', 'message': 'WIP: Remove CloudKeep references\n\nChange-Id: Ic2ac0a2e3fcdebf44742ed13ee95730ecbf9f337\n'}]",0,645857,3c98613aa961161b794b02daac9ac5c9a6e68d08,5,2,1,7973,,,0,"WIP: Remove CloudKeep references

Change-Id: Ic2ac0a2e3fcdebf44742ed13ee95730ecbf9f337
",git fetch https://review.opendev.org/openstack/barbican refs/changes/57/645857/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,3c98613aa961161b794b02daac9ac5c9a6e68d08,,## Client Libraries ,Barbican began as part of a set of applications that make up the CloudKeep ecosystem. The other systems are: * [Postern](https://github.com/cloudkeep/postern) - Go based agent that provides access to secrets from the Barbican API. * [Palisade](https://github.com/cloudkeep/palisade) - AngularJS based web ui for the Barbican API.,1,6
openstack%2Fopenstack-helm-infra~master~I5d046dd263e0994fea66e69359931b7dba4a766c,openstack/openstack-helm-infra,master,I5d046dd263e0994fea66e69359931b7dba4a766c,Add audit user to Mariadb,MERGED,2020-01-17 22:34:19.000000000,2020-01-21 21:24:32.000000000,2020-01-21 21:22:59.000000000,"[{'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-01-17 22:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19bfb6fe21374e72de535a0fdd617115de8f435e', 'message': 'Add audit user to Mariadb\n\nAn audit user is added to Mariadb with only the SELECT permission\nto mysql database user table for database user audit purposes.\n\nChange-Id: I5d046dd263e0994fea66e69359931b7dba4a766c\n'}, {'number': 2, 'created': '2020-01-20 17:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/176aa905c10f29dfd93af1af492f1f68162efc43', 'message': 'Add audit user to Mariadb\n\nAn audit user is added to Mariadb with only the SELECT permission\nto mysql database user table for database user audit purposes.\n\nChange-Id: I5d046dd263e0994fea66e69359931b7dba4a766c\n'}, {'number': 3, 'created': '2020-01-21 02:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a5f69af7183530bebef51474e830bb623149b4b6', 'message': 'Add audit user to Mariadb\n\nAn audit user is added to Mariadb with only the SELECT permission\nto mysql database user table for database user audit purposes.\n\nChange-Id: I5d046dd263e0994fea66e69359931b7dba4a766c\n'}, {'number': 4, 'created': '2020-01-21 19:20:51.000000000', 'files': ['mariadb/templates/secret-dbaudit-password.yaml', 'mariadb/values.yaml', 'mariadb/templates/bin/_start.py.tpl', 'mariadb/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4568f31e2e9d09c8f318a9d938c9a16f0da59ef', 'message': 'Add audit user to Mariadb\n\nAn audit user is added to Mariadb with only the SELECT permission\nto mysql database user table for database user audit purposes.\n\nChange-Id: I5d046dd263e0994fea66e69359931b7dba4a766c\n'}]",4,703203,a4568f31e2e9d09c8f318a9d938c9a16f0da59ef,22,6,4,18236,,,0,"Add audit user to Mariadb

An audit user is added to Mariadb with only the SELECT permission
to mysql database user table for database user audit purposes.

Change-Id: I5d046dd263e0994fea66e69359931b7dba4a766c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/03/703203/3 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/secret-dbaudit-password.yaml', 'mariadb/values.yaml', 'mariadb/templates/bin/_start.py.tpl', 'mariadb/templates/statefulset.yaml']",4,19bfb6fe21374e72de535a0fdd617115de8f435e,, {{- if .Values.manifests.dbaudit_user }} - name: MYSQL_DBAUDIT_USERNAME value: {{ .Values.endpoints.oslo_db.auth.audit.username }} - name: MYSQL_DBAUDIT_PASSWORD valueFrom: secretKeyRef: name: mariadb-dbaudit-password key: MYSQL_DBAUDIT_PASSWORD {{- end }},,93,18
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I52c52b62f1c21214b98c98773c8647609cb81d52,openstack/tripleo-heat-templates,stable/train,I52c52b62f1c21214b98c98773c8647609cb81d52,roles: Remove use of NovaVcpuPinSet from ComputeRealTime,MERGED,2020-01-21 09:42:22.000000000,2020-01-21 21:20:02.000000000,2020-01-21 21:20:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 09:42:22.000000000', 'files': ['environments/compute-real-time-example.yaml', 'roles/ComputeRealTime.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9b8b157678ba63327b9a3369da2685bb24df29b', 'message': ""roles: Remove use of NovaVcpuPinSet from ComputeRealTime\n\nThis has been deprecated and replaced by 'NovaComputeCpuDedicatedSet'\nand 'NovaComputeCpuSharedSet', as seen in change\nIbba4273526392985ede6da2ef3fec66a61407777. Update the ComputeRealTime\nrole to reflect this.\n\nChange-Id: I52c52b62f1c21214b98c98773c8647609cb81d52\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1860009\n(cherry picked from commit d91a99af32d6ad4a72eedaf20b91bf0871ad62d8)\n""}]",0,703567,c9b8b157678ba63327b9a3369da2685bb24df29b,11,6,1,15334,,,0,"roles: Remove use of NovaVcpuPinSet from ComputeRealTime

This has been deprecated and replaced by 'NovaComputeCpuDedicatedSet'
and 'NovaComputeCpuSharedSet', as seen in change
Ibba4273526392985ede6da2ef3fec66a61407777. Update the ComputeRealTime
role to reflect this.

Change-Id: I52c52b62f1c21214b98c98773c8647609cb81d52
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1860009
(cherry picked from commit d91a99af32d6ad4a72eedaf20b91bf0871ad62d8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/703567/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/compute-real-time-example.yaml', 'roles/ComputeRealTime.yaml']",2,c9b8b157678ba63327b9a3369da2685bb24df29b,bug/1860009," KernelArgs: """" # these must be set in an environment file or IsolCpusList: """" # similar according to the hardware of NovaComputeCpuDedicatedSet: """" # real-time nodes NovaComputeCpuSharedSet: """" #"," KernelArgs: """" # these must be set in an environment file or similar IsolCpusList: """" # according to the hardware of real-time nodes NovaVcpuPinSet: """" #",16,11
openstack%2Fqinling-dashboard~master~Ife3910b1e66d2d8bc5dd5a5c56f7d5ef0b64ea01,openstack/qinling-dashboard,master,Ife3910b1e66d2d8bc5dd5a5c56f7d5ef0b64ea01,Remove six usage,MERGED,2020-01-11 15:46:20.000000000,2020-01-21 21:14:45.000000000,2020-01-21 21:13:08.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 6732}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25936}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-11 15:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/06d77e98117e2806ba6fb060a08aab2ddb588ea8', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: Ife3910b1e66d2d8bc5dd5a5c56f7d5ef0b64ea01\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 2, 'created': '2020-01-11 15:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/001e44f70316edbb83598d55700f66973ac077bd', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: Ife3910b1e66d2d8bc5dd5a5c56f7d5ef0b64ea01\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 3, 'created': '2020-01-11 15:56:17.000000000', 'files': ['qinling_dashboard/api/qinling.py', 'qinling_dashboard/test/helpers.py', 'qinling_dashboard/test/test_data/exceptions.py', 'qinling_dashboard/test/tests/content/test_functions.py'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/173821a81d5e7c80004061c908d63f189c8ee315', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: Ife3910b1e66d2d8bc5dd5a5c56f7d5ef0b64ea01\nNeeded-By: https://review.opendev.org/701743\n""}]",0,702082,173821a81d5e7c80004061c908d63f189c8ee315,17,7,3,6547,,,0,"Remove six usage

This repo does not support Python 2 anymore, so we don't need
six for compatibility between Python2 and 3, convert six usage to Python
3 code.

Change-Id: Ife3910b1e66d2d8bc5dd5a5c56f7d5ef0b64ea01
Needed-By: https://review.opendev.org/701743
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/82/702082/3 && git format-patch -1 --stdout FETCH_HEAD,"['qinling_dashboard/api/qinling.py', 'qinling_dashboard/test/helpers.py', 'qinling_dashboard/test/test_data/exceptions.py', 'qinling_dashboard/test/tests/content/test_functions.py']",4,06d77e98117e2806ba6fb060a08aab2ddb588ea8,remove-six,FILE_CONTENT = b('DUMMY_FILE'),import sixFILE_CONTENT = six.b('DUMMY_FILE'),12,18
openstack%2Fcinder~master~I15f96397a9e1238c0ed58a84148e0626d395277b,openstack/cinder,master,I15f96397a9e1238c0ed58a84148e0626d395277b,{WIP} Update in-tree Datera Cinder driver,NEW,2019-05-24 16:55:58.000000000,2020-01-21 21:01:20.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10298}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20721}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2019-05-24 16:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68542db1f6598e3dc7c26e400ff7f629efb7d7cb', 'message': 'Update in-tree Datera Cinder driver\n\n* Dropping support for v2 API.  No Datera products exist in production\n  with this API version.\n* Added v2.2 API support\n* Rewrite of the driver to use the Datera Python-SDK instead of\n  hand-rolled connections.  Usage requires the dfs_sdk python package\n* Dropping support for default_storage_name and default_volume_name\n  volume-type keys\n* Added CHAP support\n* Implemented fast-path Glance-->Datera image cloning with clone_image RPC\n* Implemented fast-path volume retype\n* Rewrote unit tests from scratch\n* Added iops_per_gb and bandwidth_per_gb volume-type keys\n* Implemented update_migrated_volume\n* Increased number of stats reported with get_volume_stats\n* API fallback now only occurs during driver initialization.  This\n  increases driver performance\n* Added config option for customizing volume-type default values\n* Implemented template size override\n* Implemented LDAP support\n* Added support for filter_functions and goodness_functions\n* Changed version string to date-based\n* Implemented manage_existing_snapshot and related RPCs\n\nChange-Id: I15f96397a9e1238c0ed58a84148e0626d395277b\n'}, {'number': 2, 'created': '2019-05-24 17:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c1392385634edcebbc112eaed7f495cc4a8a323', 'message': 'Update in-tree Datera Cinder driver\n\n* Dropping support for v2 API.  No Datera products exist in production\n  with this API version.\n* Added v2.2 API support\n* Rewrite of the driver to use the Datera Python-SDK instead of\n  hand-rolled connections.  Usage requires the dfs_sdk python package\n* Dropping support for default_storage_name and default_volume_name\n  volume-type keys\n* Added CHAP support\n* Implemented fast-path Glance-->Datera image cloning with clone_image RPC\n* Implemented fast-path volume retype\n* Rewrote unit tests from scratch\n* Added iops_per_gb and bandwidth_per_gb volume-type keys\n* Implemented update_migrated_volume\n* Increased number of stats reported with get_volume_stats\n* API fallback now only occurs during driver initialization.  This\n  increases driver performance\n* Added config option for customizing volume-type default values\n* Implemented template size override\n* Implemented LDAP support\n* Added support for filter_functions and goodness_functions\n* Changed version string to date-based\n* Implemented manage_existing_snapshot and related RPCs\n\nChange-Id: I15f96397a9e1238c0ed58a84148e0626d395277b\n'}, {'number': 3, 'created': '2019-06-03 17:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e23b88b399a35471dd06395ff5e311d6fadb2f7', 'message': 'Update in-tree Datera Cinder driver\n\n* Dropping support for v2 API.  No Datera products exist in production\n  with this API version.\n* Added v2.2 API support\n* Rewrite of the driver to use the Datera Python-SDK instead of\n  hand-rolled connections.  Usage requires the dfs_sdk python package\n* Dropping support for default_storage_name and default_volume_name\n  volume-type keys\n* Added CHAP support\n* Implemented fast-path Glance-->Datera image cloning with clone_image RPC\n* Implemented fast-path volume retype\n* Rewrote unit tests from scratch\n* Added iops_per_gb and bandwidth_per_gb volume-type keys\n* Implemented update_migrated_volume\n* Increased number of stats reported with get_volume_stats\n* API fallback now only occurs during driver initialization.  This\n  increases driver performance\n* Added config option for customizing volume-type default values\n* Implemented template size override\n* Implemented LDAP support\n* Added support for filter_functions and goodness_functions\n* Changed version string to date-based\n* Implemented manage_existing_snapshot and related RPCs\n\nChange-Id: I15f96397a9e1238c0ed58a84148e0626d395277b\n'}, {'number': 4, 'created': '2020-01-13 22:46:38.000000000', 'files': ['cinder/volume/drivers/datera/datera_api22.py', 'cinder/volume/drivers/datera/datera_common.py', 'cinder/volume/drivers/datera/datera_api21.py', 'driver-requirements.txt', 'cinder/volume/drivers/datera/datera_iscsi.py', 'releasenotes/notes/datera-2019.5.22.0-0d7bb3483f2c456d.yaml', 'cinder/tests/unit/volume/drivers/test_datera.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/51705ea2e3d8efe78a62ffd8848ae1cfd3f9e535', 'message': '{WIP} Update in-tree Datera Cinder driver\n\n* Dropping support for v2 API.  No Datera products exist in production\n  with this API version.\n* Added v2.2 API support\n* Rewrite of the driver to use the Datera Python-SDK instead of\n  hand-rolled connections.  Usage requires the dfs_sdk python package\n* Dropping support for default_storage_name and default_volume_name\n  volume-type keys\n* Added CHAP support\n* Implemented fast-path Glance-->Datera image cloning with clone_image RPC\n* Implemented fast-path volume retype\n* Rewrote unit tests from scratch\n* Added iops_per_gb and bandwidth_per_gb volume-type keys\n* Implemented update_migrated_volume\n* Increased number of stats reported with get_volume_stats\n* API fallback now only occurs during driver initialization.  This\n  increases driver performance\n* Added config option for customizing volume-type default values\n* Implemented template size override\n* Implemented LDAP support\n* Added support for filter_functions and goodness_functions\n* Changed version string to date-based\n* Implemented manage_existing_snapshot and related RPCs\n\nChange-Id: I15f96397a9e1238c0ed58a84148e0626d395277b\n'}]",0,661359,51705ea2e3d8efe78a62ffd8848ae1cfd3f9e535,84,28,4,20721,,,0,"{WIP} Update in-tree Datera Cinder driver

* Dropping support for v2 API.  No Datera products exist in production
  with this API version.
* Added v2.2 API support
* Rewrite of the driver to use the Datera Python-SDK instead of
  hand-rolled connections.  Usage requires the dfs_sdk python package
* Dropping support for default_storage_name and default_volume_name
  volume-type keys
* Added CHAP support
* Implemented fast-path Glance-->Datera image cloning with clone_image RPC
* Implemented fast-path volume retype
* Rewrote unit tests from scratch
* Added iops_per_gb and bandwidth_per_gb volume-type keys
* Implemented update_migrated_volume
* Increased number of stats reported with get_volume_stats
* API fallback now only occurs during driver initialization.  This
  increases driver performance
* Added config option for customizing volume-type default values
* Implemented template size override
* Implemented LDAP support
* Added support for filter_functions and goodness_functions
* Changed version string to date-based
* Implemented manage_existing_snapshot and related RPCs

Change-Id: I15f96397a9e1238c0ed58a84148e0626d395277b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/661359/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/datera/datera_api22.py', 'cinder/volume/drivers/datera/datera_api21.py', 'cinder/volume/drivers/datera/datera_common.py', 'driver-requirements.txt', 'cinder/volume/drivers/datera/datera_iscsi.py', 'releasenotes/notes/datera-2019.5.22.0-0d7bb3483f2c456d.yaml', 'cinder/tests/unit/volume/drivers/test_datera.py']",7,68542db1f6598e3dc7c26e400ff7f629efb7d7cb,datera-2019.5.22.0-driver-update,"# Copyright 2015 Dateraimport sys import uuidsys.modules['dfs_sdk'] = mock.MagicMock() from cinder.volume.drivers.datera import datera_common as datc # noqa from cinder.volume.drivers.datera import datera_iscsi as datera # noqa datera.datc.DEFAULT_SI_SLEEP = 0 datera.datc.DEFAULT_SNAP_SLEEP = 0class DateraVolumeTestCasev22(test.TestCase): self.cfg.san_is_local = True self.cfg.datera_num_replicas = 1 self.cfg.datera_tenant_id = '/root/test-tenant' self.cfg.datera_ldap_server = """" self.cfg.datera_volume_type_defaults = {} self.cfg.datera_disable_template_override = False self.cfg.datera_disable_extended_metadata = False self.cfg.datera_enable_image_cache = False self.cfg.datera_image_cache_volume_type_id = """" self.cfg.filter_function = lambda: None self.cfg.goodness_function = lambda: None self.cfg.use_chap_auth = False self.cfg.chap_username = """" self.cfg.chap_password = """" super(DateraVolumeTestCasev22, self).setUp() self.driver.api = mock.MagicMock() self.driver.apiv = ""2.2"" self.driver.set_initialized() # No-op config getter self.driver.configuration.get = lambda *args, **kwargs: {} testvol = _stub_volume() self.assertIsNone(self.driver.create_volume(testvol)) testvol = _stub_volume() self.driver.api.app_instances.create.side_effect = ( datc.DateraAPIException) self.driver.create_volume, testvol) testvol = _stub_volume() ref = _stub_volume(id=str(uuid.uuid4())) self.assertIsNone(self.driver.create_cloned_volume(testvol, ref)) newsize = 2 testvol = _stub_volume(size=newsize) ref = _stub_volume(id=str(uuid.uuid4())) mock_extend = mock.MagicMock() self.driver._extend_volume_2_2 = mock_extend self.driver._extend_volume_2_1 = mock_extend self.driver.create_cloned_volume(testvol, ref) mock_extend.assert_called_once_with(testvol, newsize) testvol = _stub_volume() ref = _stub_volume(id=str(uuid.uuid4())) self.driver.api.app_instances.create.side_effect = ( datc.DateraAPIException) self.driver.create_cloned_volume, testvol, ref) testvol = _stub_volume() self.driver.api.app_instances.delete.return_value = {} self.assertIsNone(self.driver.delete_volume(testvol)) testvol = _stub_volume() self.driver.api.app_instances.list.side_effect = exception.NotFound self.assertIsNone(self.driver.delete_volume(testvol)) testvol = _stub_volume() self.driver.api.app_instances.list.side_effect = ( datc.DateraAPIException) self.driver.delete_volume, testvol) testvol = _stub_volume() self.assertIsNone(self.driver.ensure_export(ctxt, testvol, None)) # This can't fail because it's a no-op testvol = _stub_volume() self.assertIsNone(self.driver.ensure_export(ctxt, testvol, None)) testvol = _stub_volume() aimock = mock.MagicMock() simock = mock.MagicMock() simock.reload.return_value = simock aimock.storage_instances.list.return_value = [simock] simock.op_state = ""available"" self.driver.cvol_to_ai = mock.Mock() self.driver.cvol_to_ai.return_value = aimock self.assertIsNone(self.driver.create_export(None, testvol, None)) testvol = _stub_volume() aimock = mock.MagicMock() simock = mock.MagicMock() simock.reload.return_value = simock aimock.storage_instances.list.side_effect = ( datc.DateraAPIException) simock.op_state = ""available"" self.driver.cvol_to_ai = mock.Mock() self.driver.cvol_to_ai.return_value = aimock None, testvol, testvol = _stub_volume() aimock = mock.MagicMock() simock = mock.MagicMock() simock.access = {""ips"": [""test-ip""], ""iqn"": ""test-iqn""} simock.reload.return_value = simock aimock.storage_instances.list.return_value = [simock] self.driver.cvol_to_ai = mock.Mock() self.driver.cvol_to_ai.return_value = aimock self.assertEqual(self.driver.initialize_connection(testvol, {}), {'data': {'discard': False, 'target_discovered': False, 'target_iqn': 'test-iqn', 'target_lun': 0, 'target_portal': 'test-ip:3260', 'volume_id': testvol['id']}, 'driver_volume_type': 'iscsi'}) testvol = _stub_volume() aimock = mock.MagicMock() simock = mock.MagicMock() simock.access = {""ips"": [""test-ip""], ""iqn"": ""test-iqn""} simock.reload.return_value = simock aimock.storage_instances.list.side_effect = ( datc.DateraAPIException) self.driver.cvol_to_ai = mock.Mock() self.driver.cvol_to_ai.return_value = aimock testvol, {}) testvol = _stub_volume() self.driver.cvol_to_ai = mock.MagicMock() aimock = mock.MagicMock() aimock.set.return_value = {} self.driver.cvol_to_ai.return_value = aimock self.assertIsNone(self.driver.detach_volume(ctxt, testvol)) testvol = _stub_volume() self.driver.cvol_to_ai = mock.MagicMock() aimock = mock.MagicMock() aimock.set.side_effect = datc.DateraAPIException self.driver.cvol_to_ai.return_value = aimock self.driver.detach_volume, ctxt, testvol) testvol = _stub_volume() self.driver.cvol_to_ai = mock.MagicMock() aimock = mock.MagicMock() aimock.set.side_effect = exception.NotFound self.driver.cvol_to_ai.return_value = aimock self.assertIsNone(self.driver.detach_volume(ctxt, testvol)) testsnap = _stub_snapshot(volume_id=str(uuid.uuid4())) volmock = mock.MagicMock() snapmock = mock.MagicMock() snapmock.reload.return_value = snapmock snapmock.uuid = testsnap['id'] snapmock.op_state = ""available"" volmock.snapshots.create.return_value = snapmock self.driver.cvol_to_dvol = mock.MagicMock() self.driver.cvol_to_dvol.return_value = volmock self.assertIsNone(self.driver.create_snapshot(testsnap)) testsnap = _stub_snapshot(volume_id=str(uuid.uuid4())) self.driver.api.app_instances.list.side_effect = ( datc.DateraAPIException) self.driver.create_snapshot, testsnap) testsnap = _stub_snapshot(volume_id=str(uuid.uuid4())) self.assertIsNone(self.driver.delete_snapshot(testsnap)) testsnap = _stub_snapshot(volume_id=str(uuid.uuid4())) self.driver.cvol_to_dvol = mock.MagicMock() aimock = mock.MagicMock() aimock.snapshots.list.side_effect = exception.NotFound self.driver.cvol_to_dvol.return_value = aimock self.assertIsNone(self.driver.delete_snapshot(testsnap)) testsnap = _stub_snapshot(volume_id=str(uuid.uuid4())) self.driver.cvol_to_dvol = mock.MagicMock() aimock = mock.MagicMock() aimock.snapshots.list.side_effect = datc.DateraAPIException self.driver.cvol_to_dvol.return_value = aimock self.driver.delete_snapshot, testsnap) testsnap = _stub_snapshot(volume_id=str(uuid.uuid4())) testvol = _stub_volume() volmock = mock.MagicMock() snapmock = mock.MagicMock() snapmock.reload.return_value = snapmock snapmock.uuid = testsnap['id'] snapmock.op_state = ""available"" self.driver.cvol_to_dvol = mock.MagicMock() self.driver.cvol_to_dvol.return_value = volmock volmock.snapshots.list.return_value = [snapmock] self.assertIsNone(self.driver.create_volume_from_snapshot( testvol, testsnap)) testsnap = _stub_snapshot(volume_id=str(uuid.uuid4())) testvol = _stub_volume() self.driver.cvol_to_dvol = mock.MagicMock() aimock = mock.MagicMock() aimock.snapshots.list.side_effect = datc.DateraAPIException self.driver.cvol_to_dvol.return_value = aimock self.driver.create_volume_from_snapshot, testvol, testsnap) newsize = 2 testvol = _stub_volume() mockvol = mock.MagicMock() mockvol.size = newsize self.driver.cvol_to_dvol = mock.MagicMock() self.driver.cvol_to_dvol.return_value = mockvol self.driver._offline_flip_2_2 = mock.MagicMock() self.driver._offline_flip_2_1 = mock.MagicMock() self.assertIsNone(self.driver.extend_volume(testvol, newsize)) newsize = 2 testvol = _stub_volume() mockvol = mock.MagicMock() mockvol.size = newsize mockvol.set.side_effect = datc.DateraAPIException self.driver.cvol_to_dvol = mock.MagicMock() self.driver.cvol_to_dvol.return_value = mockvol self.driver._offline_flip_2_2 = mock.MagicMock() self.driver._offline_flip_2_1 = mock.MagicMock() self.driver.extend_volume, testvol, newsize) existing_ref = {'source-name': ""A:B:C:D""} testvol = _stub_volume() self.driver.cvol_to_ai = mock.MagicMock() self.assertIsNone(self.driver.manage_existing(testvol, existing_ref)) existing_ref = {'source-name': ""ABCD""} testvol = _stub_volume() self.driver.cvol_to_ai = mock.MagicMock() self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing, testvol, existing_ref) existing_ref = {'source-name': ""A:B:C:D""} testvol = _stub_volume() volmock = mock.MagicMock() volmock.size = testvol['size'] self.driver.cvol_to_dvol = mock.MagicMock() self.driver.cvol_to_dvol.return_value = volmock self.assertEqual(self.driver.manage_existing_get_size( testvol, existing_ref), testvol['size']) existing_ref = {'source-name': ""ABCD""} testvol = _stub_volume() self.driver.cvol_to_ai = mock.MagicMock() self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, testvol, existing_ref) testvol = _stub_volume() v1 = {'reference': {'source-name': 'some-ai:storage-1:volume-1'}, 'size': 1, 'safe_to_manage': True, 'reason_not_safe': '', 'cinder_id': None, 'extra_info': {'snapshots': '[]'}} v2 = {'reference': {'source-name': 'some-other-ai:storage-1:volume-1'}, 'size': 2, 'safe_to_manage': True, 'reason_not_safe': '', 'cinder_id': None, 'extra_info': {'snapshots': '[]'}} mock1 = mock.MagicMock() mock1.__getitem__.side_effect = ['some-ai'] mock1.name = 'some-ai' mocksi1 = mock.MagicMock() mocksi1.name = ""storage-1"" mocksi1.__getitem__.side_effect = [[mock.MagicMock()]] mock1.storage_instances.list.return_value = [mocksi1] mockvol1 = mock.MagicMock() mockvol1.name = ""volume-1"" mockvol1.size = v1['size'] mocksi1.volumes.list.return_value = [mockvol1] mock2 = mock.MagicMock() mock2.__getitem__.side_effect = ['some-other-ai'] mock2.name = 'some-other-ai' mocksi2 = mock.MagicMock() mocksi2.name = ""storage-1"" mocksi2.__getitem__.side_effect = [[mock.MagicMock()]] mock2.storage_instances.list.return_value = [mocksi2] mockvol2 = mock.MagicMock() mockvol2.name = ""volume-1"" mockvol2.size = v2['size'] mocksi2.volumes.list.return_value = [mockvol2] listmock = mock.MagicMock() listmock.return_value = [mock1, mock2] self.driver.api.app_instances.list = listmock marker = mock.MagicMock() limit = mock.MagicMock() offset = mock.MagicMock() sort_keys = mock.MagicMock() sort_dirs = mock.MagicMock() with mock.patch('cinder.volume.utils.paginate_entries_list') as mpage: self.driver.get_manageable_volumes( [testvol], marker, limit, offset, sort_keys, sort_dirs) mpage.assert_called_once_with( [v1, v2], marker, limit, offset, sort_keys, sort_dirs) testvol = _stub_volume() self.assertIsNone(self.driver.unmanage(testvol)) class DateraVolumeTestCasev21(DateraVolumeTestCasev22): self.driver.api = mock.MagicMock() self.driver.apiv = '2.1' uuid = 'c20aba21-6ef6-446b-b374-45733b4883ba' name = 'volume-00000001' volume['project_id'] = ""test-project"" uuid = '0bb34f0c-fea4-48e0-bf96-591120ac7e3c' name = 'snapshot-00000001' volume_size = 1 snap = {} snap['id'] = kwargs.get('id', uuid) snap['project_id'] = ""test-project"" snap['display_name'] = kwargs.get('display_name', name) snap['volume_id'] = kwargs.get('volume_id', None) snap['volume_size'] = kwargs.get('volume_size', volume_size) return snap","# Copyright 2017 Dateraimport sixfrom cinder.volume.drivers.datera import datera_common as datc from cinder.volume.drivers.datera import datera_iscsi as datera datc.DEFAULT_SI_SLEEP = 0 datc.DEFAULT_SI_SLEEP_API_2 = 0 datc.DEFAULT_SNAP_SLEEP = 0 URL_TEMPLATES = datera.datc.URL_TEMPLATESclass DateraVolumeTestCasev2(test.TestCase): super(DateraVolumeTestCasev2, self).setUp() self.cfg.san_is_local = True self.cfg.datera_api_token = 'secret' self.cfg.datera_num_replicas = '2' self.cfg.datera_acl_allow_all = False self.cfg.datera_tenant_id = 'test-tenant' self.cfg.driver_use_ssl = False self.driver.set_initialized() self.driver.configuration.get = _config_getter self.volume = _stub_volume() self.driver._request = mock.Mock() m = mock.Mock() m.json.return_value = {'api_versions': ['v2']} self.driver._request.return_value = m self.mock_api = mock.Mock() self.driver._issue_api_request = self.mock_api self._apiv = ""2"" self._tenant = None # self.addCleanup(self.api_patcher.stop) self.mock_api.return_value = stub_single_ai self.assertIsNone(self.driver.create_volume(self.volume)) self.mock_api.side_effect = datc.DateraAPIException self.driver.create_volume, self.volume) def test_volume_create_delay(self): """"""Verify after 1st retry volume becoming available is a success."""""" def _progress_api_return(mock_api): if mock_api.retry_count == 1: _bad_vol_ai = stub_single_ai.copy() _bad_vol_ai['storage_instances']['storage-1'][ 'volumes']['volume-1']['op_status'] = 'unavailable' return _bad_vol_ai else: self.mock_api.retry_count += 1 return stub_single_ai self.mock_api.retry_count = 0 self.mock_api.return_value = _progress_api_return(self.mock_api) self.assertEqual(1, self.mock_api.retry_count) self.assertIsNone(self.driver.create_volume(self.volume)) self.mock_api.return_value = stub_single_ai source_volume = _stub_volume( id='7f91abfa-7964-41ed-88fc-207c3a290b4f', display_name='foo' ) self.assertIsNone(self.driver.create_cloned_volume(self.volume, source_volume)) cloned_volume = _stub_volume( id='7f91abfa-7964-41ed-88fc-207c3a290b4f', display_name='foo', size=2 ) mock_extend = mock.Mock() if self._apiv == '2': self.driver._extend_volume_2 = mock_extend self.driver.create_cloned_volume(cloned_volume, self.volume) mock_extend.assert_called_with( cloned_volume, cloned_volume['size']) else: self.driver._extend_volume_2_1 = mock_extend self.driver.create_cloned_volume(cloned_volume, self.volume) mock_extend.assert_called_with( cloned_volume, cloned_volume['size']) self.mock_api.side_effect = datc.DateraAPIException source_volume = _stub_volume( id='7f91abfa-7964-41ed-88fc-207c3a290b4f', display_name='foo' ) self.driver.create_cloned_volume, self.volume, source_volume) if self._apiv == '2': self.mock_api.side_effect = [ {}, self._generate_fake_api_request()( ""acl_policy"", api_version=self._apiv, tenant=self._tenant), self._generate_fake_api_request()( ""ig_group"", api_version=self._apiv, tenant=self._tenant), {}, {}, {}, {}, {}] else: self.mock_api.side_effect = [ {}, {}, self._generate_fake_api_request()( ""acl_policy"", api_version=self._apiv, tenant=self._tenant), self._generate_fake_api_request()( ""ig_group"", api_version=self._apiv, tenant=self._tenant), {}, {}, {}, {}, {}] self.assertIsNone(self.driver.delete_volume(self.volume)) if self._apiv == '2': self.mock_api.side_effect = exception.NotFound else: self.mock_api.side_effect = [ self._generate_fake_api_request(""tenant""), {}, exception.NotFound, self._generate_fake_api_request()( ""acl_policy"", api_version=self._apiv, tenant=self._tenant), self._generate_fake_api_request()( ""ig_group"", api_version=self._apiv, tenant=self._tenant), {}, {}, {}, {}, ] self.assertIsNone(self.driver.delete_volume(self.volume)) self.mock_api.side_effect = datc.DateraAPIException self.driver.delete_volume, self.volume) self.mock_api.side_effect = self._generate_fake_api_request() self.assertIsNone(self.driver.ensure_export(ctxt, self.volume, None)) self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.driver.ensure_export, ctxt, self.volume, None) self.mock_api.side_effect = self._generate_fake_api_request( targets_exist=False) ctxt = context.get_admin_context() self.assertIsNone(self.driver.create_export(ctxt, self.volume, None)) self.mock_api.side_effect = datc.DateraAPIException ctxt = context.get_admin_context() ctxt, self.volume, self.mock_api.side_effect = self._generate_fake_api_request() connector = {} expected = { 'driver_volume_type': 'iscsi', 'data': { 'target_discovered': False, 'volume_id': self.volume['id'], 'target_iqn': ('iqn.2013-05.com.daterainc:tc:01:sn:' '3bbb080aab7d9abc'), 'target_portal': '172.28.41.63:3260', 'target_lun': 0, 'discard': False}} self.assertEqual(expected, self.driver.initialize_connection(self.volume, connector)) self.mock_api.side_effect = datc.DateraAPIException connector = {} self.volume, connector) if self._apiv == '2': self.mock_api.side_effect = [ {}, self._generate_fake_api_request()( ""acl_policy"", api_version=self._apiv, tenant=self._tenant), self._generate_fake_api_request()( ""ig_group"", api_version=self._apiv, tenant=self._tenant), {}, {}, {}, {}] else: self.mock_api.side_effect = [ {}, {}, self._generate_fake_api_request()( ""acl_policy"", api_version=self._apiv, tenant=self._tenant), self._generate_fake_api_request()( ""ig_group"", api_version=self._apiv, tenant=self._tenant), {}, {}, {}, {}] volume = _stub_volume(status='in-use') self.assertIsNone(self.driver.detach_volume(ctxt, volume)) self.mock_api.side_effect = datc.DateraAPIException volume = _stub_volume(status='in-use') self.driver.detach_volume, ctxt, volume) if self._apiv == '2': self.mock_api.side_effect = exception.NotFound else: self.mock_api.side_effect = [ self._generate_fake_api_request(""tenant""), exception.NotFound, self._generate_fake_api_request()( ""acl_policy"", api_version=self._apiv, tenant=self._tenant), self._generate_fake_api_request()( ""ig_group"", api_version=self._apiv, tenant=self._tenant), {}, {}, {}, {}] volume = _stub_volume(status='in-use') self.assertIsNone(self.driver.detach_volume(ctxt, volume)) snapshot = _stub_snapshot(volume_id=self.volume['id']) self.mock_api.side_effect = self._generate_fake_api_request() self.assertIsNone(self.driver.create_snapshot(snapshot)) self.mock_api.side_effect = datc.DateraAPIException snapshot = _stub_snapshot(volume_id=self.volume['id']) self.driver.create_snapshot, snapshot) if self._apiv == '2': self.mock_api.return_value = stub_return_snapshots else: self.mock_api.return_value = stub_return_snapshots_21 snapshot = _stub_snapshot(volume_id=self.volume['id']) self.assertIsNone(self.driver.delete_snapshot(snapshot)) if self._apiv == '2': self.mock_api.side_effect = [ stub_return_snapshots, exception.NotFound] else: self.mock_api.side_effect = [ self._generate_fake_api_request(""tenant""), stub_return_snapshots_21, exception.NotFound] snapshot = _stub_snapshot(self.volume['id'], volume_id=""test"") self.assertIsNone(self.driver.delete_snapshot(snapshot)) self.mock_api.side_effect = datc.DateraAPIException snapshot = _stub_snapshot(volume_id=self.volume['id']) self.driver.delete_snapshot, snapshot) snapshot = _stub_snapshot(volume_id=self.volume['id']) if self._apiv == '2': self.mock_api.side_effect = [ stub_return_snapshots, list(stub_return_snapshots.values())[0], None] else: self.mock_api.side_effect = [ self._generate_fake_api_request(""tenant""), stub_return_snapshots_21, {'data': stub_return_snapshots_21['data'][0]}, None] self.assertIsNone( self.driver.create_volume_from_snapshot(self.volume, snapshot)) @mock.patch.object(datera.DateraDriver, 'extend_volume') def test_create_volume_from_snapshot_success_larger(self, mock_extend): snapshot = _stub_snapshot(volume_id=self.volume['id']) extend_volume = _stub_volume(size=2) mock_extend = mock.Mock() if self._apiv == '2': self.driver._extend_volume_2 = mock_extend self.mock_api.side_effect = [ stub_return_snapshots, list(stub_return_snapshots.values())[0], None] self.driver.create_volume_from_snapshot(extend_volume, snapshot) mock_extend.assert_called_once_with(extend_volume, extend_volume['size']) else: self.driver._extend_volume_2_1 = mock_extend self.mock_api.side_effect = [ self._generate_fake_api_request(""tenant""), stub_return_snapshots_21, {'data': stub_return_snapshots_21['data'][0]}, None] self.driver.create_volume_from_snapshot(extend_volume, snapshot) mock_extend.assert_called_once_with(extend_volume, extend_volume['size']) self.mock_api.side_effect = datc.DateraAPIException snapshot = _stub_snapshot(volume_id=self.volume['id']) self.driver.create_volume_from_snapshot, self.volume, snapshot) volume = _stub_volume(size=1) self.mock_api.side_effect = [ stub_get_export, {'data': stub_get_export}, self._generate_fake_api_request()( ""acl_policy"", api_version=self._apiv, tenant=self._tenant), self._generate_fake_api_request()( ""ig_group"", api_version=self._apiv, tenant=self._tenant), self._generate_fake_api_request()( ""acl_policy"", api_version=self._apiv, tenant=self._tenant), {}, {}, {}, {}, {}, {}, stub_get_export, {'data': stub_get_export}] self.assertIsNone(self.driver.extend_volume(volume, 2)) self.mock_api.side_effect = datc.DateraAPIException volume = _stub_volume(size=1) self.driver.extend_volume, volume, 2) def test_login_successful(self): self.mock_api.return_value = { 'key': 'dd2469de081346c28ac100e071709403' } self.assertIsNone(self.driver.login()) self.assertEqual(1, self.mock_api.call_count) def test_login_unsuccessful(self): self.mock_api.side_effect = exception.NotAuthorized self.assertRaises(exception.NotAuthorized, self.driver.login) self.assertEqual(1, self.mock_api.call_count) self.mock_api.return_value = {} if self._apiv == '2': test_name = {""source-name"": ""test-app:test-si:test-vol""} self.assertIsNone( self.driver.manage_existing( _stub_volume(), test_name)) self.mock_api.assert_called_with( URL_TEMPLATES['ai_inst']().format( test_name[""source-name""].split("":"")[0]), method='put', body={'name': OS_PREFIX + _stub_volume()['id']}, api_version=self._apiv) else: tenant = 'tenant' test_name = {""source-name"": ""{}:test-app:test-si:test-vol"".format( tenant)} self.assertIsNone( self.driver.manage_existing( _stub_volume(), test_name)) self.mock_api.assert_called_with( URL_TEMPLATES['ai_inst']().format( test_name[""source-name""].split("":"")[1]), method='put', body={'name': OS_PREFIX + _stub_volume()['id']}, api_version=self._apiv, tenant='tenant') TEST_NAME = {""source-name"": ""incorrect-reference""} self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing, _stub_volume(), TEST_NAME) TEST_NAME = {""source-name"": ""test-app:storage-1:volume-1""} self.mock_api.side_effect = self._generate_fake_api_request() self.assertEqual( self.driver.manage_existing_get_size( _stub_volume(), TEST_NAME), 500) if self._apiv == '2': self.mock_api.assert_called_with( URL_TEMPLATES['ai_inst']().format( TEST_NAME[""source-name""].split("":"")[0]), api_version=self._apiv) else: self.mock_api.assert_called_with( URL_TEMPLATES['ai_inst']().format( TEST_NAME[""source-name""].split("":"")[0]), api_version=self._apiv, tenant=self._tenant) TEST_NAME = {""source-name"": ""incorrect-reference""} self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, _stub_volume(), TEST_NAME) if self._apiv == '2': self.mock_api.return_value = non_cinder_ais six.assertCountEqual( self, self.driver.get_manageable_volumes( {}, """", 10, 0, """", """"), [{'cinder_id': None, 'extra_info': None, 'reason_not_safe': None, 'reference': { ""source-name"": 'test-app-inst:storage-1:volume-1'}, 'safe_to_manage': True, 'size': 50}, {'cinder_id': 'c20aba21-6ef6-446b-b374-45733b4883ba', 'extra_info': None, 'reason_not_safe': None, 'reference': None, 'safe_to_manage': False, 'size': None}]) else: self.mock_api.return_value = non_cinder_ais_21 self.assertEqual( self.driver.get_manageable_volumes( {}, """", 10, 0, """", """"), [{'cinder_id': None, 'extra_info': None, 'reason_not_safe': '', 'reference': { ""source-name"": 'test-app-inst:storage-1:volume-1'}, 'safe_to_manage': True, 'size': 50}, {'cinder_id': 'c20aba21-6ef6-446b-b374-45733b4883ba', 'extra_info': None, 'reason_not_safe': '', 'reference': None, 'safe_to_manage': False, 'size': None}]) self.mock_api.return_value = {} self.assertIsNone(self.driver.unmanage(_stub_volume())) if self._apiv == '2': self.mock_api.assert_called_with( URL_TEMPLATES['ai_inst']().format( OS_PREFIX + _stub_volume()['id']), method='put', body={'name': UNMANAGE_PREFIX + _stub_volume()['id']}, api_version=self._apiv) else: self.mock_api.assert_called_with( URL_TEMPLATES['ai_inst']().format( OS_PREFIX + _stub_volume()['id']), method='put', body={'name': UNMANAGE_PREFIX + _stub_volume()['id']}, api_version=self._apiv, tenant=self._tenant) def _generate_fake_api_request(self, targets_exist=True): def _fake_api_request(resource_type, *args, **kwargs): if 'api_version' not in kwargs: raise ValueError(""Fix me dummy"") result = None if resource_type.split('/')[-1] == 'storage-1': result = stub_get_export elif (resource_type.split('/')[-1] == 'c20aba21-6ef6-446b-b374-45733b4883ba'): result = stub_app_instance[ 'c20aba21-6ef6-446b-b374-45733b4883ba'] elif resource_type == 'acl_policy': result = stub_acl if self._apiv == '2' else stub_acl_21 elif resource_type == 'ig_group': result = stub_ig if self._apiv == '2' else stub_ig_21 elif resource_type.split('/')[-1] == 'snapshots': result = {'timestamp': 'test_ts'} elif resource_type.split('/')[-1] == 'test_ts': result = {'op_state': 'available'} elif resource_type == 'tenant': return {} else: if kwargs.get('api_version') == '2': result = list(stub_app_instance.values())[0] else: result = stub_app_instance_21['data'] if kwargs.get('api_version') == '2': return result else: return {'data': result} return _fake_api_request class DateraVolumeTestCasev21(DateraVolumeTestCasev2): m = mock.Mock() m.json.return_value = {'api_versions': ['v2.1']} self.driver._request.return_value = m self.driver._store_metadata = mock.Mock() self._apiv = '2.1' self._tenant = self.cfg.datera_tenant_id stub_acl = { 'initiator_groups': [ '/initiator_groups/IG-8739f309-dae9-4534-aa02-5b8e9e96eefd'], 'initiators': [], 'path': ('/app_instances/8739f309-dae9-4534-aa02-5b8e9e96eefd/' 'storage_instances/storage-1/acl_policy')} stub_acl_21 = { 'initiator_groups': [ {'path': '/initiator_groups/IG-8739f309-dae9-4534-aa02-5b8e9e96eefd'}], 'initiators': [], 'path': ('/app_instances/8739f309-dae9-4534-aa02-5b8e9e96eefd/' 'storage_instances/storage-1/acl_policy')} stub_ig = { 'members': ['/initiators/iqn.1993-08.org.debian:01:ed22de8d75c0'], 'name': 'IG-21e08155-8b95-4108-b148-089f64623963', 'path': '/initiator_groups/IG-21e08155-8b95-4108-b148-089f64623963'} stub_ig_21 = { 'members': [ {'path': '/initiators/iqn.1993-08.org.debian:01:ed22de8d75c0'}], 'name': 'IG-21e08155-8b95-4108-b148-089f64623963', 'path': '/initiator_groups/IG-21e08155-8b95-4108-b148-089f64623963'} stub_create_export = { ""_ipColl"": [""172.28.121.10"", ""172.28.120.10""], ""acls"": {}, ""activeServers"": {""4594953e-f97f-e111-ad85-001e6738c0f0"": ""1""}, ""ctype"": ""TC_BLOCK_ISCSI"", ""endpointsExt1"": { ""4594953e-f97f-e111-ad85-001e6738c0f0"": { ""ipHigh"": 0, ""ipLow"": ""192421036"", ""ipStr"": ""172.28.120.11"", ""ipV"": 4, ""name"": """", ""network"": 24 } }, ""endpointsExt2"": { ""4594953e-f97f-e111-ad85-001e6738c0f0"": { ""ipHigh"": 0, ""ipLow"": ""192486572"", ""ipStr"": ""172.28.121.11"", ""ipV"": 4, ""name"": """", ""network"": 24 } }, ""inodes"": {""c20aba21-6ef6-446b-b374-45733b4883ba"": ""1""}, ""name"": """", ""networkPort"": 0, ""serverAllocation"": ""TS_ALLOC_COMPLETED"", ""servers"": {""4594953e-f97f-e111-ad85-001e6738c0f0"": ""1""}, ""targetAllocation"": ""TS_ALLOC_COMPLETED"", ""targetIds"": { ""4594953e-f97f-e111-ad85-001e6738c0f0"": { ""ids"": [{ ""dev"": None, ""id"": ""iqn.2013-05.com.daterainc::01:sn:fc372bc0490b2dbe"" }] } }, ""typeName"": ""TargetIscsiConfig"", ""uuid"": ""7071efd7-9f22-4996-8f68-47e9ab19d0fd"" } stub_app_instance = { ""c20aba21-6ef6-446b-b374-45733b4883ba"": { ""admin_state"": ""online"", ""clone_src"": {}, ""create_mode"": ""openstack"", ""descr"": """", ""health"": ""ok"", ""name"": ""c20aba21-6ef6-446b-b374-45733b4883ba"", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-45733b4883ba"", ""storage_instances"": { ""storage-1"": { ""access"": { ""ips"": [ ""172.28.41.63"" ], ""iqn"": ""iqn.2013-05.com.daterainc:tc:01:sn:"" ""3bbb080aab7d9abc"", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374"" ""-45733b4883ba/storage_instances/storage-1/access"" }, ""access_control"": { ""initiator_groups"": [], ""initiators"": [], ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-"" ""45733b4883ba/storage_instances/storage-1"" ""/access_control"" }, ""access_control_mode"": ""allow_all"", ""active_initiators"": [], ""active_storage_nodes"": [ ""/storage_nodes/1c4feac4-17c7-478b-8928-c76e8ec80b72"" ], ""admin_state"": ""online"", ""auth"": { ""initiator_pswd"": """", ""initiator_user_name"": """", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-"" ""45733b4883ba/storage_instances/storage-1/auth"", ""target_pswd"": """", ""target_user_name"": """", ""type"": ""none"" }, ""creation_type"": ""user"", ""descr"": ""c20aba21-6ef6-446b-b374-45733b4883ba__ST__storage-1"", ""op_state"": ""available"", ""name"": ""storage-1"", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-"" ""45733b4883ba/storage_instances/storage-1"", ""uuid"": ""b9897b84-149f-43c7-b19c-27d6af8fa815"", ""volumes"": { ""volume-1"": { ""capacity_in_use"": 0, ""name"": ""volume-1"", ""op_state"": ""available"", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-"" ""45733b4883ba/storage_instances/storage-1"" ""/volumes/volume-1"", ""replica_count"": 3, ""size"": 500, ""snapshot_policies"": {}, ""snapshots"": { ""1445384931.322468627"": { ""op_state"": ""available"", ""path"": ""/app_instances/c20aba21-6ef6-446b"" ""-b374-45733b4883ba/storage_instances"" ""/storage-1/volumes/volume-1/snapshots"" ""/1445384931.322468627"", ""uuid"": ""0bb34f0c-fea4-48e0-bf96-591120ac7e3c"" } }, ""uuid"": ""c20aba21-6ef6-446b-b374-45733b4883ba"" } } } }, ""uuid"": ""c20aba21-6ef6-446b-b374-45733b4883ba"" } } stub_app_instance_21 = { ""tenant"": ""/root"", ""path"": ""/app_instances/1e52946a-5c77-45ed-8b4e-b46e7236a8eb"", ""version"": ""v2.1"", ""data"": { ""tenant"": ""/root"", ""path"": ""/app_instances/1e52946a-5c77-45ed-8b4e-b46e7236a8eb"", ""name"": ""OS-9b0216bc-8aab-47f2-b746-843f497cb7a6"", ""id"": ""1e52946a-5c77-45ed-8b4e-b46e7236a8eb"", ""health"": ""ok"", ""app_template"": { ""path"": """", ""resolved_path"": """", ""resolved_tenant"": """" }, ""descr"": """", ""admin_state"": ""online"", ""storage_instances"": [ { ""health"": ""ok"", ""path"": ""/app_instances/1e52946a-5c77-45ed-8b4e-b46e7236a8eb/"" ""storage_instances/storage-1"", ""name"": ""storage-1"", ""admin_state"": ""online"", ""op_state"": ""available"", ""volumes"": [ { ""path"": ""/app_instances/1e52946a-5c77-45ed-8b4e-"" ""b46e7236a8eb/"" ""storage_instances/storage-1/volumes/volume-1"", ""name"": ""volume-1"", ""replica_count"": 1, ""uuid"": ""9b0216bc-8aab-47f2-b746-843f497cb7a6"", ""size"": 500, ""capacity_in_use"": 0, ""snapshot_policies"": [], ""snapshots"": [], ""placement_mode"": ""hybrid"", ""op_state"": ""available"", ""active_storage_nodes"": [ { ""path"": ""/storage_nodes/75f2cae4-68fb-4236-"" ""a90c-b6c480b68816"" } ], ""health"": ""ok"" } ], ""access_control_mode"": ""deny_all"", ""acl_policy"": { ""path"": ""/app_instances/1e52946a-5c77-45ed-8b4e-"" ""b46e7236a8eb/"" ""storage_instances/storage-1/acl_policy"", ""initiators"": [], ""initiator_groups"": [] }, ""ip_pool"": { ""path"": ""/access_network_ip_pools/default"", ""resolved_path"": ""/access_network_ip_pools/default"", ""resolved_tenant"": ""/root"" }, ""access"": { ""path"": ""/app_instances/1e52946a-5c77-45ed-8b4e-"" ""b46e7236a8eb/"" ""storage_instances/storage-1/access"", ""ips"": [ ""172.28.41.63"", ""172.29.41.29"" ], ""iqn"": ""iqn.2013-05.com.daterainc:tc:01:sn:"" ""3bbb080aab7d9abc"" }, ""auth"": { ""path"": ""/app_instances/1e52946a-5c77-45ed-8b4e-"" ""b46e7236a8eb/"" ""storage_instances/storage-1/auth"", ""type"": ""none"", ""initiator_user_name"": """", ""initiator_pswd"": ""(hidden)"", ""target_user_name"": """", ""target_pswd"": ""(hidden)"" }, ""active_initiators"": [], ""active_storage_nodes"": [ { ""path"": ""/storage_nodes/75f2cae4-68fb-4236-a90c-"" ""b6c480b68816"" } ], ""uuid"": ""eb3d7b07-b520-4cc2-b365-90135b84c356"" } ], ""create_mode"": ""openstack"", ""uuid"": ""9b0216bc-8aab-47f2-b746-843f497cb7a6"", ""snapshots"": [], ""snapshot_policies"": [] } } stub_get_export = stub_app_instance[ 'c20aba21-6ef6-446b-b374-45733b4883ba']['storage_instances']['storage-1'] stub_single_ai = stub_app_instance['c20aba21-6ef6-446b-b374-45733b4883ba'] stub_return_snapshots = \ { ""1446076293.118600738"": { ""op_state"": ""available"", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-45733b4883ba"" ""/storage_instances/storage-1/volumes/volume-1/snapshots/"" ""1446076293.118600738"", ""uuid"": ""0bb34f0c-fea4-48e0-bf96-591120ac7e3c"" }, ""1446076384.00607846"": { ""op_state"": ""available"", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-45733b4883ba"" ""/storage_instances/storage-1/volumes/volume-1/snapshots/"" ""1446076384.00607846"", ""uuid"": ""25b4b959-c30a-45f2-a90c-84a40f34f0a1"" } } stub_return_snapshots_21 = { 'data': [ { ""op_state"": ""available"", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-45733b4883ba"" ""/storage_instances/storage-1/volumes/volume-1/snapshots/"", ""timestamp"": ""1446076293.118600738"", ""utc_ts"": ""1446076293.118600738"", ""uuid"": ""0bb34f0c-fea4-48e0-bf96-591120ac7e3c"" }, { ""op_state"": ""available"", ""path"": ""/app_instances/c20aba21-6ef6-446b-b374-45733b4883ba"" ""/storage_instances/storage-1/volumes/volume-1/snapshots/"", ""timestamp"": ""1446076384.00607846"", ""utc_ts"": ""1446076384.00607846"", ""uuid"": ""25b4b959-c30a-45f2-a90c-84a40f34f0a1"" }] } non_cinder_ais = { ""75bc1c69-a399-4acb-aade-3514caf13c5e"": { ""admin_state"": ""online"", ""create_mode"": ""normal"", ""descr"": """", ""health"": ""ok"", ""id"": ""75bc1c69-a399-4acb-aade-3514caf13c5e"", ""name"": ""test-app-inst"", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-3514caf13c5e"", ""snapshot_policies"": {}, ""snapshots"": {}, ""storage_instances"": { ""storage-1"": { ""access"": { ""ips"": [ ""172.28.41.93"" ], ""iqn"": ""iqn.2013-05.com.daterainc:tc:01:sn:"" ""29036682e2d37b98"", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-1/access"" }, ""access_control_mode"": ""deny_all"", ""acl_policy"": { ""initiator_groups"": [], ""initiators"": [], ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-"" ""1/acl_policy"" }, ""active_initiators"": [], ""active_storage_nodes"": [ ""/storage_nodes/78b350a8-43f2-453f-a257-8df76d7406b9"" ], ""admin_state"": ""online"", ""auth"": { ""initiator_pswd"": ""(hidden)"", ""initiator_user_name"": """", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-1/auth"", ""target_pswd"": ""(hidden)"", ""target_user_name"": """", ""type"": ""none"" }, ""creation_type"": ""user"", ""ip_pool"": ""/access_network_ip_pools/default"", ""name"": ""storage-1"", ""op_state"": ""available"", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-1"", ""uuid"": ""6421237d-e4fc-433a-b535-148d5b6d8586"", ""volumes"": { ""volume-1"": { ""capacity_in_use"": 0, ""name"": ""volume-1"", ""op_state"": ""available"", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-"" ""1/volumes/volume-1"", ""replica_count"": 1, ""size"": 50, ""snapshot_policies"": {}, ""snapshots"": {}, ""uuid"": ""e674d29c-a672-40d1-9577-abe3a504ffe9"" } } } }, ""uuid"": ""00000000-0000-0000-0000-000000000000"" }, ""dfdaf8d1-8976-4c13-a829-3345e03cf810"": { ""admin_state"": ""offline"", ""create_mode"": ""openstack"", ""descr"": """", ""health"": ""ok"", ""id"": ""dfdaf8d1-8976-4c13-a829-3345e03cf810"", ""name"": ""OS-c20aba21-6ef6-446b-b374-45733b4883ba"", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-3345e03cf810"", ""snapshot_policies"": {}, ""snapshots"": {}, ""storage_instances"": { ""storage-1"": { ""access"": { ""ips"": [ ""172.28.41.57"" ], ""iqn"": ""iqn.2013-05.com.daterainc:tc:01:sn:"" ""56cd59e754ad02b6"", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-"" ""3345e03cf810/storage_instances/storage-1/access"" }, ""access_control_mode"": ""deny_all"", ""acl_policy"": { ""initiator_groups"": [], ""initiators"": [], ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-"" ""3345e03cf810/storage_instances/storage-"" ""1/acl_policy"" }, ""active_initiators"": [], ""active_storage_nodes"": [ ""/storage_nodes/78b350a8-43f2-453f-a257-8df76d7406b9"" ], ""admin_state"": ""offline"", ""auth"": { ""initiator_pswd"": ""(hidden)"", ""initiator_user_name"": """", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-"" ""3345e03cf810/storage_instances/storage-1/auth"", ""target_pswd"": ""(hidden)"", ""target_user_name"": """", ""type"": ""none"" }, ""creation_type"": ""user"", ""ip_pool"": ""/access_network_ip_pools/default"", ""name"": ""storage-1"", ""op_state"": ""unavailable"", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-3345e03cf810"" ""/storage_instances/storage-1"", ""uuid"": ""5620a673-9985-464e-9616-e325a50eac60"", ""volumes"": { ""volume-1"": { ""capacity_in_use"": 0, ""name"": ""volume-1"", ""op_state"": ""available"", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-"" ""3345e03cf810/storage_instances/storage-"" ""1/volumes/volume-1"", ""replica_count"": 1, ""size"": 5, ""snapshot_policies"": {}, ""snapshots"": {}, ""uuid"": ""c20aba21-6ef6-446b-b374-45733b4883ba"" } } } }, ""uuid"": ""c20aba21-6ef6-446b-b374-45733b4883ba"" } } non_cinder_ais_21 = { 'data': [{ ""admin_state"": ""online"", ""create_mode"": ""normal"", ""descr"": """", ""health"": ""ok"", ""id"": ""75bc1c69-a399-4acb-aade-3514caf13c5e"", ""name"": ""test-app-inst"", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-3514caf13c5e"", ""snapshot_policies"": {}, ""snapshots"": {}, ""storage_instances"": { ""storage-1"": { ""access"": { ""ips"": [ ""172.28.41.93"" ], ""iqn"": ""iqn.2013-05.com.daterainc:tc:01:sn:"" ""29036682e2d37b98"", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-1/access"" }, ""access_control_mode"": ""deny_all"", ""acl_policy"": { ""initiator_groups"": [], ""initiators"": [], ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-"" ""1/acl_policy"" }, ""active_initiators"": [], ""active_storage_nodes"": [ ""/storage_nodes/78b350a8-43f2-453f-a257-8df76d7406b9"" ], ""admin_state"": ""online"", ""auth"": { ""initiator_pswd"": ""(hidden)"", ""initiator_user_name"": """", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-1/auth"", ""target_pswd"": ""(hidden)"", ""target_user_name"": """", ""type"": ""none"" }, ""creation_type"": ""user"", ""ip_pool"": ""/access_network_ip_pools/default"", ""name"": ""storage-1"", ""op_state"": ""available"", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-1"", ""uuid"": ""6421237d-e4fc-433a-b535-148d5b6d8586"", ""volumes"": { ""volume-1"": { ""capacity_in_use"": 0, ""name"": ""volume-1"", ""op_state"": ""available"", ""path"": ""/app_instances/75bc1c69-a399-4acb-aade-"" ""3514caf13c5e/storage_instances/storage-"" ""1/volumes/volume-1"", ""replica_count"": 1, ""size"": 50, ""snapshot_policies"": {}, ""snapshots"": {}, ""uuid"": ""e674d29c-a672-40d1-9577-abe3a504ffe9"" } } } }, ""uuid"": ""00000000-0000-0000-0000-000000000000"" }, { ""admin_state"": ""offline"", ""create_mode"": ""openstack"", ""descr"": """", ""health"": ""ok"", ""id"": ""dfdaf8d1-8976-4c13-a829-3345e03cf810"", ""name"": ""OS-c20aba21-6ef6-446b-b374-45733b4883ba"", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-3345e03cf810"", ""snapshot_policies"": {}, ""snapshots"": {}, ""storage_instances"": { ""storage-1"": { ""access"": { ""ips"": [ ""172.28.41.57"" ], ""iqn"": ""iqn.2013-05.com.daterainc:tc:01:sn:"" ""56cd59e754ad02b6"", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-"" ""3345e03cf810/storage_instances/storage-1/access"" }, ""access_control_mode"": ""deny_all"", ""acl_policy"": { ""initiator_groups"": [], ""initiators"": [], ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-"" ""3345e03cf810/storage_instances/storage-"" ""1/acl_policy"" }, ""active_initiators"": [], ""active_storage_nodes"": [ ""/storage_nodes/78b350a8-43f2-453f-a257-8df76d7406b9"" ], ""admin_state"": ""offline"", ""auth"": { ""initiator_pswd"": ""(hidden)"", ""initiator_user_name"": """", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-"" ""3345e03cf810/storage_instances/storage-1/auth"", ""target_pswd"": ""(hidden)"", ""target_user_name"": """", ""type"": ""none"" }, ""creation_type"": ""user"", ""ip_pool"": ""/access_network_ip_pools/default"", ""name"": ""storage-1"", ""op_state"": ""unavailable"", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-3345e03cf810"" ""/storage_instances/storage-1"", ""uuid"": ""5620a673-9985-464e-9616-e325a50eac60"", ""volumes"": { ""volume-1"": { ""capacity_in_use"": 0, ""name"": ""volume-1"", ""op_state"": ""available"", ""path"": ""/app_instances/dfdaf8d1-8976-4c13-a829-"" ""3345e03cf810/storage_instances/storage-"" ""1/volumes/volume-1"", ""replica_count"": 1, ""size"": 5, ""snapshot_policies"": {}, ""snapshots"": {}, ""uuid"": ""c20aba21-6ef6-446b-b374-45733b4883ba"" } } } }, ""uuid"": ""c20aba21-6ef6-446b-b374-45733b4883ba"" }] } def _stub_datera_volume(*args, **kwargs): return { ""status"": ""available"", ""name"": ""test"", ""num_replicas"": ""2"", ""parent"": ""00000000-0000-0000-0000-000000000000"", ""size"": ""1024"", ""sub_type"": ""IS_ORIGINAL"", ""uuid"": ""10305aa4-1343-4363-86fe-f49eb421a48c"", ""snapshots"": [], ""snapshot_configs"": [], ""targets"": [ kwargs.get('targets', ""744e1bd8-d741-4919-86cd-806037d98c8a""), ] } uuid = u'c20aba21-6ef6-446b-b374-45733b4883ba' name = u'volume-00000001' uuid = u'0bb34f0c-fea4-48e0-bf96-591120ac7e3c' name = u'snapshot-00000001' size = 1 volume = {} volume['id'] = kwargs.get('id', uuid) volume['display_name'] = kwargs.get('display_name', name) volume['volume_size'] = kwargs.get('size', size) volume['volume_id'] = kwargs.get('volume_id', None) return volume def _config_getter(*args, **kwargs): return {}",2557,2000
openstack%2Fqinling-dashboard~master~I54941245a4cc77494b7e2a969a996bab505fa2c8,openstack/qinling-dashboard,master,I54941245a4cc77494b7e2a969a996bab505fa2c8,s/assertItemsEqual/assertCountEqual/g,MERGED,2020-01-20 16:43:53.000000000,2020-01-21 20:50:09.000000000,2020-01-21 20:48:36.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 25936}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-20 16:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/74bddead7de34425145813d1696307445e0dd1b9', 'message': '/assertItemsEqual/assertCountEqual/g\n\nassertItemsEqual was renamed to assertCountEqual in Python 3, and the\ntestsuite is failing now - rename it.\nSee also https://six.readthedocs.io/#six.assertCountEqual\n\nThis unbreaks the testsuite.\n\nChange-Id: I54941245a4cc77494b7e2a969a996bab505fa2c8\n'}, {'number': 2, 'created': '2020-01-20 16:47:11.000000000', 'files': ['qinling_dashboard/test/tests/api/test_qinling.py', 'qinling_dashboard/test/tests/content/test_functions.py', 'qinling_dashboard/test/tests/content/test_runtimes.py', 'qinling_dashboard/test/tests/content/test_executions.py'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/e8743e1ccd2cdfde91b244ad6c3a4cbb34dcc1a0', 'message': 's/assertItemsEqual/assertCountEqual/g\n\nassertItemsEqual was renamed to assertCountEqual in Python 3, and the\ntestsuite is failing now - rename it.\nSee also https://six.readthedocs.io/#six.assertCountEqual\n\nThis unbreaks the testsuite.\n\nChange-Id: I54941245a4cc77494b7e2a969a996bab505fa2c8\n'}]",0,703447,e8743e1ccd2cdfde91b244ad6c3a4cbb34dcc1a0,9,4,2,1736,,,0,"s/assertItemsEqual/assertCountEqual/g

assertItemsEqual was renamed to assertCountEqual in Python 3, and the
testsuite is failing now - rename it.
See also https://six.readthedocs.io/#six.assertCountEqual

This unbreaks the testsuite.

Change-Id: I54941245a4cc77494b7e2a969a996bab505fa2c8
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/47/703447/1 && git format-patch -1 --stdout FETCH_HEAD,"['qinling_dashboard/test/tests/api/test_qinling.py', 'qinling_dashboard/test/tests/content/test_functions.py', 'qinling_dashboard/test/tests/content/test_runtimes.py', 'qinling_dashboard/test/tests/content/test_executions.py']",4,74bddead7de34425145813d1696307445e0dd1b9,remove-six," self.assertCountEqual(executions, self.executions.list())"," self.assertItemsEqual(executions, self.executions.list())",7,7
openstack%2Fkeystone~master~Iaa66c8220e65083551daf727b52226da5cce5313,openstack/keystone,master,Iaa66c8220e65083551daf727b52226da5cce5313,Add docs for app cred access rules,MERGED,2019-12-04 21:53:29.000000000,2020-01-21 20:48:53.000000000,2020-01-21 20:46:22.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-12-04 21:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3ef228c74591d323851a46b5441bb8be63d0ffc8', 'message': 'Add docs for app cred access rules\n\nWe had documentation in the API reference but not in the user guide. Add\ninformation about creating and managing access rules to the user guide\nto make it more user-friendly.\n\nChange-Id: Iaa66c8220e65083551daf727b52226da5cce5313\nDepends-on: https://review.opendev.org/677857\n'}, {'number': 2, 'created': '2019-12-05 05:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f9b4d1888deb8fbc167013019474bae29ee8845d', 'message': 'Add docs for app cred access rules\n\nWe had documentation in the API reference but not in the user guide. Add\ninformation about creating and managing access rules to the user guide\nto make it more user-friendly.\n\nChange-Id: Iaa66c8220e65083551daf727b52226da5cce5313\nDepends-on: https://review.opendev.org/677857\n'}, {'number': 3, 'created': '2019-12-05 17:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e35c00e2ab3c92c8b3faf951bc0ad5b1d6884ea', 'message': 'Add docs for app cred access rules\n\nWe had documentation in the API reference but not in the user guide. Add\ninformation about creating and managing access rules to the user guide\nto make it more user-friendly.\n\nChange-Id: Iaa66c8220e65083551daf727b52226da5cce5313\nDepends-on: https://review.opendev.org/677857\n'}, {'number': 4, 'created': '2019-12-17 08:33:42.000000000', 'files': ['doc/source/user/application_credentials.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/58790d9dc1e85ccc844672e9cece988b6ff8001e', 'message': 'Add docs for app cred access rules\n\nWe had documentation in the API reference but not in the user guide. Add\ninformation about creating and managing access rules to the user guide\nto make it more user-friendly.\n\nChange-Id: Iaa66c8220e65083551daf727b52226da5cce5313\nDepends-on: https://review.opendev.org/677857\n'}]",2,697375,58790d9dc1e85ccc844672e9cece988b6ff8001e,19,5,4,8482,,,0,"Add docs for app cred access rules

We had documentation in the API reference but not in the user guide. Add
information about creating and managing access rules to the user guide
to make it more user-friendly.

Change-Id: Iaa66c8220e65083551daf727b52226da5cce5313
Depends-on: https://review.opendev.org/677857
",git fetch https://review.opendev.org/openstack/keystone refs/changes/75/697375/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/application_credentials.rst'],1,3ef228c74591d323851a46b5441bb8be63d0ffc8,app-cred-docs,"An alternative way to limit the application credential's privileges is to use :ref:access_rules. .. _access_rules: Access Rules ============ In addition to delegating a subset of roles to an application credential, you may also delegate more fine-grained access control by using access rules. For example, to create an application credential that is constricted to creating servers in nova, the user can add the following access rules: .. code-block:: console $ openstack application credential create scaler-upper --access-rules '[ { ""path"": ""/v2.1/servers"", ""method"": ""POST"", ""service"": ""compute"" } ]' The ``""path""`` attribute of application credential access rules uses a wildcard syntax to make it more flexible. For example, to create an application credential that is constricted to listing server IP addresses, you could use either of the following access rules: :: [ { ""path"": ""/v2.1/servers/*/ips"", ""method"": ""GET"", ""service"": ""compute"" } ] or equivalently: :: [ { ""path"": ""/v2.1/servers/{server_id}/ips"", ""method"": ""GET"", ""service"": ""compute"" } ] In both cases, a request path containing any server ID will match the access rule. For even more flexibility, the recursive wildcard ``**`` indicates that request paths containing any number of ``/`` will be matched. For example: :: [ { ""path"": ""/v2.1/**"", ""method"": ""GET"", ""service"": ""compute"" } ] will match any nova API for version 2.1. An access rule created for one application credential can be re-used by providing its ID to another application credential. You can list existing access rules: .. code-block:: console $ openstack access rule list +--------+---------+--------+---------------+ | ID | Service | Method | Path | +--------+---------+--------+---------------+ | abcdef | compute | POST | /v2.1/servers | +--------+---------+--------+---------------+ and create an application credential using that rule: .. code-block:: console $ openstack application credential create scaler-upper-02 \ --access-rules '[{""id"": ""abcdef""}]' ",,86,0
openstack%2Fpaunch~master~I346c49cb204f273bd7077ca5153412cda9846534,openstack/paunch,master,I346c49cb204f273bd7077ca5153412cda9846534,Do not force remove containers,MERGED,2020-01-16 15:48:05.000000000,2020-01-21 20:34:01.000000000,2020-01-21 20:32:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-16 15:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/d39414e433c1a20e71dee4612ec1387e57620103', 'message': ""Do not force remove containers\n\nPaunch does docker/podman rm -f, when removes containers. It seems it\nreturns too early, having some leftovers (like docker service\nendpoints) behind or pending for it to be removed later, in case of\nbig fat deamons.\n\nLong story short, don't do rm -f and allow it to do its job gracefully\nand without a hurry.\n\nChange-Id: I346c49cb204f273bd7077ca5153412cda9846534\nCloses-Bug: #1860004\nCo-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2020-01-16 16:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/95b17d9912b4bf928fa4234e330886999098ae6d', 'message': ""Do not force remove containers\n\nPaunch does docker/podman rm -f, when removes containers. It seems it\nreturns too early, having some leftovers (like docker service\nendpoints) behind or pending for it to be removed later, in case of\nbig fat deamons.\n\nLong story short, don't do rm -f and allow it to do its job gracefully\nand without a hurry.\n\nChange-Id: I346c49cb204f273bd7077ca5153412cda9846534\nCloses-Bug: #1860004\nCo-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2020-01-17 09:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/8316c5f44b82e3962cb84f6d5fa2aff3d5eefe4a', 'message': ""Do not force remove containers\n\nPaunch does docker/podman rm -f, when removes containers. It seems it\nreturns too early, having some leftovers (like docker service\nendpoints) behind or pending for it to be removed later, in case of\nbig fat deamons.\n\nLong story short, don't do rm -f and allow it to do its job gracefully\nand without a hurry.\n\nChange-Id: I346c49cb204f273bd7077ca5153412cda9846534\nCloses-Bug: #1860004\nCo-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2020-01-17 09:47:54.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/3813fc7f2bd5768248f7c450d707a13c33f19fc3', 'message': ""Do not force remove containers\n\nPaunch does docker/podman rm -f, when removes containers. It seems it\nreturns too early, having some leftovers (like docker service\nendpoints) behind or pending for it to be removed later, in case of\nbig fat deamons.\n\nLong story short, don't do rm -f and allow it to do its job gracefully\nand without a hurry.\n\nChange-Id: I346c49cb204f273bd7077ca5153412cda9846534\nCloses-Bug: #1860004\nCo-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",5,702899,3813fc7f2bd5768248f7c450d707a13c33f19fc3,32,10,4,6926,,,0,"Do not force remove containers

Paunch does docker/podman rm -f, when removes containers. It seems it
returns too early, having some leftovers (like docker service
endpoints) behind or pending for it to be removed later, in case of
big fat deamons.

Long story short, don't do rm -f and allow it to do its job gracefully
and without a hurry.

Change-Id: I346c49cb204f273bd7077ca5153412cda9846534
Closes-Bug: #1860004
Co-authored-by: Sergii Golovatiuk <sgolovat@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/99/702899/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py']",2,d39414e433c1a20e71dee4612ec1387e57620103,," cmd = [self.cont_cmd, 'rm', container]"," cmd = [self.cont_cmd, 'rm', '-f', container]",2,2
openstack%2Fdesignate~master~Id6e3662e6e032dc0e724907c40e73a4712be6391,openstack/designate,master,Id6e3662e6e032dc0e724907c40e73a4712be6391,DNM: Test running devstack with uncapped pip,ABANDONED,2019-11-27 10:40:37.000000000,2020-01-21 20:25:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-27 10:40:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/99b481cab87d7dbb8ed82409acbaff97544e69e9', 'message': 'DNM: Test running devstack with uncapped pip\n\nChange-Id: Id6e3662e6e032dc0e724907c40e73a4712be6391\nDepends-On: https://review.opendev.org/561597\n'}]",0,696278,99b481cab87d7dbb8ed82409acbaff97544e69e9,3,1,1,13252,,,0,"DNM: Test running devstack with uncapped pip

Change-Id: Id6e3662e6e032dc0e724907c40e73a4712be6391
Depends-On: https://review.opendev.org/561597
",git fetch https://review.opendev.org/openstack/designate refs/changes/78/696278/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,99b481cab87d7dbb8ed82409acbaff97544e69e9,fix-grenade,# TEST,,1,0
openstack%2Fansible-role-collect-logs~master~Ib05e6d7cc53132e68c131163c65f75b2b6b27bb0,openstack/ansible-role-collect-logs,master,Ib05e6d7cc53132e68c131163c65f75b2b6b27bb0,DNM: boring stuff,ABANDONED,2020-01-21 13:01:16.000000000,2020-01-21 20:24:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 13:01:16.000000000', 'files': ['molecule/sova/playbook.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/83e6c237d2f0c8d3d4b06539df3c3b88a0e90f73', 'message': 'DNM: boring stuff\n\nChange-Id: Ib05e6d7cc53132e68c131163c65f75b2b6b27bb0\n'}]",0,703606,83e6c237d2f0c8d3d4b06539df3c3b88a0e90f73,4,2,1,24162,,,0,"DNM: boring stuff

Change-Id: Ib05e6d7cc53132e68c131163c65f75b2b6b27bb0
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/06/703606/1 && git format-patch -1 --stdout FETCH_HEAD,"['molecule/sova/playbook.yml', 'zuul.d/layout.yaml']",2,83e6c237d2f0c8d3d4b06539df3c3b88a0e90f73,ffs,, templates: - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-multinode-container-full - openstack-tox-linters - openstack-tox-linters post: jobs: - publish-openstack-python-branch-tarball,1,10
openstack%2Fansible-role-collect-logs~master~I7621584ffc760e71c6759a9991f7fc8269417a05,openstack/ansible-role-collect-logs,master,I7621584ffc760e71c6759a9991f7fc8269417a05,WIP: Enable functional testing,ABANDONED,2019-10-31 12:10:52.000000000,2020-01-21 20:24:28.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-31 12:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5fb92d9c7d97a039ad87a3e2cbb7b90f191cc7be', 'message': 'WIP: Enable functional testing\n\nMainly activates molecule job.\n\nChange-Id: I7621584ffc760e71c6759a9991f7fc8269417a05\n'}, {'number': 2, 'created': '2019-10-31 13:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3bb902177f6582debfc2d33f0280098fddcddb6b', 'message': 'WIP: Enable functional testing\n\nMainly activates molecule job.\n\nChange-Id: I7621584ffc760e71c6759a9991f7fc8269417a05\n'}, {'number': 3, 'created': '2019-10-31 13:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/762d66b6ace28ed653bf18b016f2366f9496c6c3', 'message': 'WIP: Enable functional testing\n\nMainly activates molecule job.\n\nChange-Id: I7621584ffc760e71c6759a9991f7fc8269417a05\n'}, {'number': 4, 'created': '2019-10-31 14:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/51c100fba43420cb631fc39c58278e76d9f75dec', 'message': 'WIP: Enable functional testing\n\nMainly activates molecule job.\n\nChange-Id: I7621584ffc760e71c6759a9991f7fc8269417a05\n'}, {'number': 5, 'created': '2019-10-31 14:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d810ebc7d398402b504a3b6fffe96762d97d9f94', 'message': 'WIP: Enable functional testing\n\nMainly activates molecule job.\n\nChange-Id: I7621584ffc760e71c6759a9991f7fc8269417a05\n'}, {'number': 6, 'created': '2019-10-31 14:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/13953d61ab4f2df70b3866ad8b1d79bf1182d6c1', 'message': 'WIP: Enable functional testing\n\nMainly activates molecule job.\n\nChange-Id: I7621584ffc760e71c6759a9991f7fc8269417a05\n'}, {'number': 7, 'created': '2019-11-01 10:06:16.000000000', 'files': ['molecule/default/INSTALL.rst', 'molecule/default/molecule.yml', 'zuul.d/layout.yaml', 'tox.ini', 'molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3dc0959e17f8702eaafbcb2758bbbdf6df1bc002', 'message': 'WIP: Enable functional testing\n\nMainly activates molecule job.\n\nChange-Id: I7621584ffc760e71c6759a9991f7fc8269417a05\n'}]",0,692356,3dc0959e17f8702eaafbcb2758bbbdf6df1bc002,14,4,7,24162,,,0,"WIP: Enable functional testing

Mainly activates molecule job.

Change-Id: I7621584ffc760e71c6759a9991f7fc8269417a05
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/56/692356/5 && git format-patch -1 --stdout FETCH_HEAD,"['molecule/default/INSTALL.rst', 'molecule/default/molecule.yml', 'zuul.d/layout.yaml', 'tox.ini', 'molecule/default/playbook.yml']",5,5fb92d9c7d97a039ad87a3e2cbb7b90f191cc7be,,"--- - name: Converge hosts: all tasks: - name: ""Include ansible-role-collect-logs"" include_role: name: ""ansible-role-collect-logs"" ",,88,1
openstack%2Ftempest~master~I4f7dec41f6cf985471cabc6ae0c1005048d95ab4,openstack/tempest,master,I4f7dec41f6cf985471cabc6ae0c1005048d95ab4,DNM: Test running devstack with uncapped pip,ABANDONED,2019-11-27 10:39:04.000000000,2020-01-21 20:24:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-27 10:39:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest/commit/90fdcb3f9b6a56c165a678e36ee41fc58d72beec', 'message': 'DNM: Test running devstack with uncapped pip\n\nChange-Id: I4f7dec41f6cf985471cabc6ae0c1005048d95ab4\nDepends-On: https://review.opendev.org/561597\n'}]",0,696277,90fdcb3f9b6a56c165a678e36ee41fc58d72beec,3,1,1,13252,,,0,"DNM: Test running devstack with uncapped pip

Change-Id: I4f7dec41f6cf985471cabc6ae0c1005048d95ab4
Depends-On: https://review.opendev.org/561597
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/696277/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,90fdcb3f9b6a56c165a678e36ee41fc58d72beec,test-pip-uncap,# TEST,,1,0
openstack%2Ftripleo-heat-templates~master~Ib6836a7593d165466be34c63a20463a3b7b817a8,openstack/tripleo-heat-templates,master,Ib6836a7593d165466be34c63a20463a3b7b817a8,Assign service role for ironic user,MERGED,2020-01-18 12:17:26.000000000,2020-01-21 20:22:44.000000000,2020-01-21 20:22:44.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-18 12:17:26.000000000', 'files': ['deployment/ironic/ironic-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cd4e6c4ff3edfc7d38995a2ba9f1fc54cb17ded', 'message': 'Assign service role for ironic user\n\nWe expect service role is assigned to a user who use service\nuser token feature.\n\nCurrently ironic uses it to communicate with glance, so we\nshould assign the role to ironic user in keystone identity.\n\nChange-Id: Ib6836a7593d165466be34c63a20463a3b7b817a8\n'}]",0,703233,9cd4e6c4ff3edfc7d38995a2ba9f1fc54cb17ded,19,5,1,9816,,,0,"Assign service role for ironic user

We expect service role is assigned to a user who use service
user token feature.

Currently ironic uses it to communicate with glance, so we
should assign the role to ironic user in keystone identity.

Change-Id: Ib6836a7593d165466be34c63a20463a3b7b817a8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/703233/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-api-container-puppet.yaml'],1,9cd4e6c4ff3edfc7d38995a2ba9f1fc54cb17ded,service-token-roles, roles: - admin - service,,3,0
openstack%2Fansible-role-collect-logs~master~I11031211d5e8f314a221747cbbef4751d5350e27,openstack/ansible-role-collect-logs,master,I11031211d5e8f314a221747cbbef4751d5350e27,Fallback to ~ when HOME is not defined,ABANDONED,2020-01-21 12:18:15.000000000,2020-01-21 20:09:37.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-21 12:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/82678544c84e8ada5a9e9d1ab2fdfe5831266629', 'message': 'Fallback to ~ when HOME is not defined\n\nAvoid error when HOME is not defined (~ as fallback)\n\nChange-Id: I11031211d5e8f314a221747cbbef4751d5350e27\n'}, {'number': 2, 'created': '2020-01-21 17:42:11.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/87e5760f54488977922a7f9510a1e7c2889c7ebf', 'message': 'Fallback to ~ when HOME is not defined\n\nAvoid error when HOME is not defined (~ as fallback)\n\nChange-Id: I11031211d5e8f314a221747cbbef4751d5350e27\n'}]",0,703597,87e5760f54488977922a7f9510a1e7c2889c7ebf,13,8,2,24162,,,0,"Fallback to ~ when HOME is not defined

Avoid error when HOME is not defined (~ as fallback)

Change-Id: I11031211d5e8f314a221747cbbef4751d5350e27
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/97/703597/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,82678544c84e8ada5a9e9d1ab2fdfe5831266629,fix/bits,"local_working_dir: ""{{ lookup('env', 'HOME') or '~' }}/.quickstart""","local_working_dir: ""{{ lookup('env', 'HOME') }}/.quickstart""",1,1
openstack%2Fnetworking-ovn~master~Id2ac188a97e43f1996fee8db9a232d6035c62a82,openstack/networking-ovn,master,Id2ac188a97e43f1996fee8db9a232d6035c62a82,Un-quote metadata address if it is IPv6,ABANDONED,2019-07-31 16:21:36.000000000,2020-01-21 20:04:10.000000000,,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 16:21:36.000000000', 'files': ['devstack/lib/networking-ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8ac27899270de1463ee9cc898051cc5b096f4e5e', 'message': 'Un-quote metadata address if it is IPv6\n\nIn the devstack lib/neutron-legacy code, the Nova metadata\nhost address is un-quoted if it is IPv6, i.e. 2001:db8::1,\nnot [2001:db8::1].  We should be doing the same here.\n\nChange-Id: Id2ac188a97e43f1996fee8db9a232d6035c62a82\n'}]",0,673865,8ac27899270de1463ee9cc898051cc5b096f4e5e,5,3,1,1131,,,0,"Un-quote metadata address if it is IPv6

In the devstack lib/neutron-legacy code, the Nova metadata
host address is un-quoted if it is IPv6, i.e. 2001:db8::1,
not [2001:db8::1].  We should be doing the same here.

Change-Id: Id2ac188a97e43f1996fee8db9a232d6035c62a82
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/65/673865/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/networking-ovn'],1,8ac27899270de1463ee9cc898051cc5b096f4e5e,unqoute-ipv6-metadata,OVN_META_DATA_HOST=${OVN_META_DATA_HOST:-$(ipv6_unquote $SERVICE_HOST)} iniset $OVN_META_CONF DEFAULT nova_metadata_host $OVN_META_DATA_HOST, iniset $OVN_META_CONF DEFAULT nova_metadata_host $SERVICE_HOST,2,1
openstack%2Ftripleo-ansible~master~I632a3ef5ec137df10f647335f6354589c2316fd0,openstack/tripleo-ansible,master,I632a3ef5ec137df10f647335f6354589c2316fd0,Add handling of signal 15 in kill script,MERGED,2020-01-17 17:15:16.000000000,2020-01-21 20:04:08.000000000,2020-01-21 20:04:08.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-17 17:15:16.000000000', 'files': ['tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_kill.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06dc258a28784db98e44a3de488c204f01b97613', 'message': 'Add handling of signal 15 in kill script\n\nThe reason bug #1860155 was triggered was because the kill script did\nnot have a stanza for handling the signal that was passed in, which is\nsignal 15.  Since signal 15 is unhandled, keepalived processes will\nstill stick around.  Add handling for signal 15.\n\nChange-Id: I632a3ef5ec137df10f647335f6354589c2316fd0\nRelated-bug: #1860155\n'}]",5,703128,06dc258a28784db98e44a3de488c204f01b97613,23,8,1,13995,,,0,"Add handling of signal 15 in kill script

The reason bug #1860155 was triggered was because the kill script did
not have a stanza for handling the signal that was passed in, which is
signal 15.  Since signal 15 is unhandled, keepalived processes will
still stick around.  Add handling for signal 15.

Change-Id: I632a3ef5ec137df10f647335f6354589c2316fd0
Related-bug: #1860155
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/703128/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_kill.j2'],1,06dc258a28784db98e44a3de488c204f01b97613,bug/1860155,"signal_container() { SIGNAL=$3 if [ -z ""$SIGNAL"" ]; then SIGNAL=""HUP"" fi add_date ""Sending signal '$SIGNAL' to $1 ($2)"" $CLI kill --signal $SIGNAL $2 signal_container $CT_NAME $CT_ID 15) signal_container $CT_NAME $CT_ID 15 ;;","hup_container() { add_date ""Sending HUP signal to $1 ($2)"" $CLI kill --signal HUP $2 hup_container $CT_NAME $CT_ID",11,4
openstack%2Fpython-openstackclient~master~Ic9b2b47848a600e87a3674289ae7ae8c3e091fee,openstack/python-openstackclient,master,Ic9b2b47848a600e87a3674289ae7ae8c3e091fee,Fix functional tests for py3,MERGED,2019-10-29 20:56:01.000000000,2020-01-21 19:53:38.000000000,2019-10-31 17:47:40.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-10-29 20:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/315b233af8d89be6fb3c1a8b0262c3b767a1aa21', 'message': 'Fix functional tests for py3\n\nA hashlib.md5() can only be update()d with an encoded string in py3. Fix\nthe functional tests to do that.\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n'}, {'number': 2, 'created': '2019-10-30 22:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/62ac2fa3067d7e09b7695f8a4d588829d5db3b22', 'message': ""Fix functional tests for py3\n\nFix various things so the functional tests will work under python3:\n\n- A hashlib.md5() can only be update()d with an encoded string in py3.\n- There's no dict.iteritems(), change to dict.items() (which is already\n  an iterator).\n- Open temp files with 'w+' mode rather than the default 'w+b' (as an\n  alternative to encoding all the write and expected-read payloads as\n  bytes).\n- (This is a weird one) Explicitly raise SkipTest from unittest (rather\n  than unittest2, which is where cls.skipException landed). Not sure why\n  this is busted, but this moves the ball.\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n""}, {'number': 3, 'created': '2019-10-31 00:17:53.000000000', 'files': ['openstackclient/tests/functional/compute/v2/test_keypair.py', 'openstackclient/tests/functional/identity/v2/common.py', 'openstackclient/tests/functional/object/v1/test_object.py', 'openstackclient/tests/functional/compute/v2/test_agent.py', 'openstackclient/tests/functional/identity/v3/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81', 'message': ""Fix functional tests for py3\n\nFix various things so the functional tests will work under python3:\n\n- A hashlib.md5() can only be update()d with an encoded string in py3.\n- There's no dict.iteritems(), change to dict.items() (which is already\n  an iterator).\n- Open temp files with 'w+' mode rather than the default 'w+b' (as an\n  alternative to encoding all the write and expected-read payloads as\n  bytes).\n- (This is a weird one) Explicitly raise SkipTest from unittest (rather\n  than unittest2, which is where cls.skipException landed). Not sure why\n  this is busted, but this moves the ball.\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n""}]",5,691980,f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81,23,7,3,14070,,,0,"Fix functional tests for py3

Fix various things so the functional tests will work under python3:

- A hashlib.md5() can only be update()d with an encoded string in py3.
- There's no dict.iteritems(), change to dict.items() (which is already
  an iterator).
- Open temp files with 'w+' mode rather than the default 'w+b' (as an
  alternative to encoding all the write and expected-read payloads as
  bytes).
- (This is a weird one) Explicitly raise SkipTest from unittest (rather
  than unittest2, which is where cls.skipException landed). Not sure why
  this is busted, but this moves the ball.

Change-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/80/691980/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/compute/v2/test_agent.py'],1,315b233af8d89be6fb3c1a8b0262c3b767a1aa21,fix-functional-for-py3, MD5HASH1.update('agent_1'.encode('utf-8')) MD5HASH2.update('agent_2'.encode('utf-8')), MD5HASH1.update('agent_1') MD5HASH2.update('agent_2'),2,2
openstack%2Fpython-keystoneclient~stable%2Fpike~I0e44d9896c5970f0ca07438c372aec826aeb5c77,openstack/python-keystoneclient,stable/pike,I0e44d9896c5970f0ca07438c372aec826aeb5c77,Make tests pass in 2020,MERGED,2020-01-13 17:06:02.000000000,2020-01-21 19:47:09.000000000,2020-01-21 19:47:09.000000000,"[{'_account_id': 1446}, {'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 14892}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-13 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/56143df0534ed2342c456d68703569edc3cd0266', 'message': 'Make tests pass in 2020\n\nWithout this patch, build failed after 2019-12-31 with\nTraceback (most recent call last):\n  File ""keystoneclient/tests/unit/v3/test_auth.py"", line 226, in test_authenticate_success_password_unscoped\n    self.assertRequestBodyIs(json=self.TEST_REQUEST_BODY)\n  File ""keystoneclient/tests/unit/utils.py"", line 72, in assertRequestBodyIs\n    self.assertEqual(json, val)\n\nNOTE: in addition to the orginal backport, this patch adds the following\nchanges. The changes has to be combined into a single patch in order to\navoid circular dependencies.\n\n1. fixed bandit complains in keystoneclient/common/cms.py. The literal \'sha256\'\nis the default hash algorithm, not a sensitive password. Marking it as false\npositive so bandit can stop chirping.\n\n2. combined with cherry pick from commit\nf2d3fec9b254f9c47e97ddf48e3c5f7614b87f1b to avoid circular dependency. Without\ncombining them, neither backport will pass all the gates since pep8 has\nswitched over to use python3 now.\n\nChange-Id: I0e44d9896c5970f0ca07438c372aec826aeb5c77\n(cherry picked from commit f2d3fec9b254f9c47e97ddf48e3c5f7614b87f1b)\n(cherry picked from commit acc21ff06154e16de16583fe6994207d689ed054)\n(cherry picked from commit 9da2e0bdd83d481091814a8c6f40ab3ff39ffa9c)\n'}, {'number': 2, 'created': '2020-01-14 01:27:28.000000000', 'files': ['keystoneclient/tests/unit/auth/test_identity_v2.py', 'keystoneclient/tests/unit/auth/test_identity_v3.py', 'keystoneclient/tests/unit/v3/test_auth.py', 'keystoneclient/tests/unit/test_session.py', 'keystoneclient/tests/unit/v2_0/test_auth.py', 'keystoneclient/tests/unit/client_fixtures.py', 'keystoneclient/common/cms.py', 'keystoneclient/tests/unit/test_discovery.py', 'keystoneclient/session.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/bcc00a10a6a5e42f261ad88feaec8019d68f25f8', 'message': 'Make tests pass in 2020\n\nWithout this patch, build failed after 2019-12-31 with\nTraceback (most recent call last):\n  File ""keystoneclient/tests/unit/v3/test_auth.py"", line 226, in test_authenticate_success_password_unscoped\n    self.assertRequestBodyIs(json=self.TEST_REQUEST_BODY)\n  File ""keystoneclient/tests/unit/utils.py"", line 72, in assertRequestBodyIs\n    self.assertEqual(json, val)\n\nNOTE: in addition to the orginal backport, this patch adds the following\nchanges. The changes has to be combined into a single patch in order to\navoid circular dependencies.\n\n1. fixed bandit complains in keystoneclient/common/cms.py. The literal \'sha256\'\nis the default hash algorithm, not a sensitive password. Marking it as false\npositive so bandit can stop chirping.\n\n2. combined with cherry pick from commit\nf2d3fec9b254f9c47e97ddf48e3c5f7614b87f1b to avoid circular dependency. Without\ncombining them, neither backport will pass all the gates since pep8 has\nswitched over to use python3 now.\n\n3. combined with cherry pick from commit\nb29f478f28c4989156cfe87392cbd308e3f55c1e to avoid circular dependency. Without\ncombining them, neither backport will pass all the gates since bandit will\nhave a false positive on the hash algorithm.\n\nChange-Id: I0e44d9896c5970f0ca07438c372aec826aeb5c77\n(cherry picked from commit f2d3fec9b254f9c47e97ddf48e3c5f7614b87f1b)\n(cherry picked from commit acc21ff06154e16de16583fe6994207d689ed054)\n(cherry picked from commit b29f478f28c4989156cfe87392cbd308e3f55c1e)\n(cherry picked from commit 9da2e0bdd83d481091814a8c6f40ab3ff39ffa9c)\n'}]",0,702262,bcc00a10a6a5e42f261ad88feaec8019d68f25f8,11,8,2,1916,,,0,"Make tests pass in 2020

Without this patch, build failed after 2019-12-31 with
Traceback (most recent call last):
  File ""keystoneclient/tests/unit/v3/test_auth.py"", line 226, in test_authenticate_success_password_unscoped
    self.assertRequestBodyIs(json=self.TEST_REQUEST_BODY)
  File ""keystoneclient/tests/unit/utils.py"", line 72, in assertRequestBodyIs
    self.assertEqual(json, val)

NOTE: in addition to the orginal backport, this patch adds the following
changes. The changes has to be combined into a single patch in order to
avoid circular dependencies.

1. fixed bandit complains in keystoneclient/common/cms.py. The literal 'sha256'
is the default hash algorithm, not a sensitive password. Marking it as false
positive so bandit can stop chirping.

2. combined with cherry pick from commit
f2d3fec9b254f9c47e97ddf48e3c5f7614b87f1b to avoid circular dependency. Without
combining them, neither backport will pass all the gates since pep8 has
switched over to use python3 now.

3. combined with cherry pick from commit
b29f478f28c4989156cfe87392cbd308e3f55c1e to avoid circular dependency. Without
combining them, neither backport will pass all the gates since bandit will
have a false positive on the hash algorithm.

Change-Id: I0e44d9896c5970f0ca07438c372aec826aeb5c77
(cherry picked from commit f2d3fec9b254f9c47e97ddf48e3c5f7614b87f1b)
(cherry picked from commit acc21ff06154e16de16583fe6994207d689ed054)
(cherry picked from commit b29f478f28c4989156cfe87392cbd308e3f55c1e)
(cherry picked from commit 9da2e0bdd83d481091814a8c6f40ab3ff39ffa9c)
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/62/702262/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/unit/auth/test_identity_v2.py', 'keystoneclient/tests/unit/auth/test_identity_v3.py', 'keystoneclient/tests/unit/v3/test_auth.py', 'keystoneclient/tests/unit/test_session.py', 'keystoneclient/tests/unit/v2_0/test_auth.py', 'keystoneclient/tests/unit/client_fixtures.py', 'keystoneclient/common/cms.py', 'keystoneclient/tests/unit/test_discovery.py']",8,56143df0534ed2342c456d68703569edc3cd0266,2020_fix-stable/pike," ""expires"": ""2999-01-01T00:00:10.000123Z"", ""expires_at"": ""2999-01-01T00:00:10.000123Z"","," ""expires"": ""2020-01-01T00:00:10.000123Z"", ""expires_at"": ""2020-01-01T00:00:10.000123Z"",",23,23
openstack%2Fnova~master~I2431dc3db94da44001eefdead50607eab662d16f,openstack/nova,master,I2431dc3db94da44001eefdead50607eab662d16f,Add ironic hypervisor doc,MERGED,2020-01-10 16:29:43.000000000,2020-01-21 19:42:05.000000000,2020-01-21 19:37:35.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15519}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-01-10 16:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/030812af90c68f6762397304b5d19bb31acd56a1', 'message': 'Add ironic hypervisor doc\n\nNova documentation was missing information documentation about\nIronic virt driver.\n\nChange-Id: I2431dc3db94da44001eefdead50607eab662d16f\nCloses-Bug: #1852446\n'}, {'number': 2, 'created': '2020-01-13 16:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7191fd3d75cf5aa6b4b64f8440ace2258f9efc80', 'message': 'Add ironic hypervisor doc\n\nNova documentation was missing information documentation about\nIronic virt driver.\n\nChange-Id: I2431dc3db94da44001eefdead50607eab662d16f\nCloses-Bug: #1852446\n'}, {'number': 3, 'created': '2020-01-14 09:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b2353443b092368c7abc4d4e29b14d815c51c00', 'message': 'Add ironic hypervisor doc\n\nNova documentation was missing information documentation about\nIronic virt driver.\n\nChange-Id: I2431dc3db94da44001eefdead50607eab662d16f\nCloses-Bug: #1852446\n'}, {'number': 4, 'created': '2020-01-16 13:00:31.000000000', 'files': ['doc/source/admin/configuration/hypervisors.rst', 'doc/source/admin/configuration/hypervisor-ironic.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1efd5ec2328b82092d8cc46574b29fa315b9acfd', 'message': 'Add ironic hypervisor doc\n\nNova documentation was missing information documentation about\nIronic virt driver.\n\nChange-Id: I2431dc3db94da44001eefdead50607eab662d16f\nCloses-Bug: #1852446\n'}]",42,701998,1efd5ec2328b82092d8cc46574b29fa315b9acfd,49,12,4,15519,,,0,"Add ironic hypervisor doc

Nova documentation was missing information documentation about
Ironic virt driver.

Change-Id: I2431dc3db94da44001eefdead50607eab662d16f
Closes-Bug: #1852446
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/701998/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/hypervisors.rst', 'doc/source/admin/configuration/hypervisor-ironic.rst']",2,030812af90c68f6762397304b5d19bb31acd56a1,ironic_hypervisor,"Ironic ====== Introduction ------------ The ironic hypervisor driver offers a wrap of the Ironic API, such that Nova may provision baremetal resources using the same user-facing API for instance management. This is the only driver in nova where the `compute_node` table record is `1:M` with the `compute services` table record for the given host, meaning a nova-compute service can manage multiple ComputeNodes, and the ComputeNodes for the ironic driver managed compute service uses the ironic node uuid for the compute node hypervisor_hostname (nodename) and uuid fields. The relationships of ironic node : compute node : instance is 1:1:1. Configuration ------------- - `Configure the Compute service to use the Bare Metal service <https://docs.openstack.org/ironic/latest/install/configure-compute.html>`_. - `Create flavors for use with the Bare Metal service <https://docs.openstack.org/ironic/latest/install/configure-nova-flavors.html>`_. - `Conductors Groups <https://docs.openstack.org/ironic/latest/admin/conductor-groups.html>`_. Scaling and Performance Issues ------------------------------ - The `update_available_resource` periodic task reports all the resources managed by Ironic. Depending the number of nodes, it can take a lot of time. The nova-compute will not perform any other operations when this task is running. Known limitations / Missing features ------------------------------------ * Migrate * Resize ",,45,0
openstack%2Fcinder~master~Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e,openstack/cinder,master,Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e,Fujitsu Driver: Change the calculation of TPP's capacity,MERGED,2019-11-05 08:17:34.000000000,2020-01-21 19:40:00.000000000,2020-01-21 19:34:50.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26387}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30566}, {'_account_id': 30688}, {'_account_id': 31305}]","[{'number': 1, 'created': '2019-11-05 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3daf6de57997fe8d8611823405d151a302a2684d', 'message': ""Fujitsu Driver: Change the calculation of TPP's capacity\n\nChange the calculation of TPP's provisioned capacity.\n\nChange-Id: Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e\n""}, {'number': 2, 'created': '2019-11-13 10:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3a1c7fd598ec7e24226ee494ac0f8e4793e1a1f', 'message': ""Fujitsu Driver: Change the calculation of TPP's capacity\n\nChange the calculation of TPP's provisioned capacity.\n\nChange-Id: Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e\n""}, {'number': 3, 'created': '2019-11-14 01:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/794ce3384974b026f9901c955b212bbe5659c1b5', 'message': ""Fujitsu Driver: Change the calculation of TPP's capacity\n\nChange the calculation of TPP's provisioned capacity.\n\nChange-Id: Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e\n""}, {'number': 4, 'created': '2019-11-26 03:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3b628310e930bfaa8ea0b5e255315236590c9eb', 'message': ""Fujitsu Driver: Change the calculation of TPP's capacity\n\nChange the calculation of TPP's provisioned capacity.\n\nChange-Id: Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e\n""}, {'number': 5, 'created': '2019-12-13 02:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5a7f0577369040dcccc5410332713f07d93e601', 'message': ""Fujitsu Driver: Change the calculation of TPP's capacity\n\nChange the calculation of TPP's provisioned capacity.\n\nChange-Id: Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e\n""}, {'number': 6, 'created': '2020-01-08 03:19:28.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4013fed06972871681a2109194a28457ea1ff344', 'message': ""Fujitsu Driver: Change the calculation of TPP's capacity\n\nChange the calculation of TPP's provisioned capacity.\n\nChange-Id: Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e\n""}]",4,692954,4013fed06972871681a2109194a28457ea1ff344,294,40,6,26387,,,0,"Fujitsu Driver: Change the calculation of TPP's capacity

Change the calculation of TPP's provisioned capacity.

Change-Id: Ied54f1c7f0e7c638367f24d6a3065c7966c4b30e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/692954/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",5,3daf6de57997fe8d8611823405d151a302a2684d,fujitsu-driver-update,"from cinder.volume.drivers.fujitsu.eternus_dx import eternus_dx_cli self.fjdxcli = {} self._check_user() # If the ratio is less than the value on ETERNUS, # useable_gb may be negative. Avoid over-allocation. # Get pools info from CIM instance(include info about instance path). if ptype == 'TPP': param_dict = { 'pool-name': poolname } rc, errordesc, data = self._exec_eternus_cli( 'show_pool_provision', **param_dict) if rc != 0: msg = (_('_find_pools, show_pool_provision, ' 'pool name: %(pool_name)s, ' 'Return code: %(rc)lu, ' 'Error: %(errordesc)s, ' 'Message: %(job)s.') % {'pool_name': poolname, 'rc': rc, 'errordesc': errordesc, 'job': data}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) pool.provisioned_capacity_gb = data def _check_user(self): """"""Check whether user's role is accessible to ETERNUS and Software."""""" ret = True rc, errordesc, job = self._exec_eternus_cli('check_user_role') if rc != 0: msg = (_('_check_user, ' 'Return code: %(rc)lu, ' 'Error: %(errordesc)s, ' 'Message: %(job)s.') % {'rc': rc, 'errordesc': errordesc, 'job': job}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if job != 'Software': msg = (_('_check_user, ' 'Specified user(%(user)s) does not have ' 'Software role: %(role)s.') % {'user': self._get_drvcfg('EternusUser'), 'role': job}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return ret def _exec_eternus_cli(self, command, retry=CONSTANTS.TIMES_MIN, retry_interval=CONSTANTS.RETRY_INTERVAL, retry_code=[32787], filename=None, timeout=None, **param_dict): """"""Execute ETERNUS CLI."""""" LOG.debug('_exec_eternus_cli, ' 'command: %(a)s, ' 'filename: %(f)s, ' 'timeout: %(t)s, ' 'parameters: %(b)s.', {'a': command, 'f': filename, 't': timeout, 'b': param_dict}) result = None rc = None retdata = None errordesc = None filename = self.configuration.cinder_eternus_config_file storage_ip = self._get_drvcfg('EternusIP') if not self.fjdxcli.get(filename): user = self._get_drvcfg('EternusUser') password = self._get_drvcfg('EternusPassword') self.fjdxcli[filename] = ( eternus_dx_cli.FJDXCLI(user, storage_ip, password=password)) for retry_num in range(retry): # Execute ETERNUS CLI and get return value. try: out_dict = self.fjdxcli[filename].done(command, **param_dict) result = out_dict.get('result') rc_str = out_dict.get('rc') retdata = out_dict.get('message') except Exception as ex: msg = (_('_exec_eternus_cli, ' 'unexpected error: %(ex)s.') % {'ex': ex}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Check ssh result. if result == 255: LOG.info('_exec_eternus_cli, retry, ' 'command: %(command)s, ' 'option: %(option)s, ' 'ip: %(ip)s, ' 'SSH Result: %(result)s, ' 'retdata: %(retdata)s, ' 'TryNum: %(rn)s.', {'command': command, 'option': param_dict, 'ip': storage_ip, 'result': result, 'retdata': retdata, 'rn': (retry_num + 1)}) time.sleep(retry_interval) continue elif result != 0: msg = (_('_exec_eternus_cli, ' 'unexpected error, ' 'command: %(command)s, ' 'option: %(option)s, ' 'ip: %(ip)s, ' 'resuslt: %(result)s, ' 'retdata: %(retdata)s.') % {'command': command, 'option': param_dict, 'ip': storage_ip, 'result': result, 'retdata': retdata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Check CLI return code. if rc_str.isdigit(): # SMI-S style return code. rc = int(rc_str) try: errordesc = CONSTANTS.RETCODE_dic[str(rc)] except Exception: errordesc = 'Undefined Error!!' if rc in retry_code: LOG.info('_exec_eternus_cli, retry, ' 'ip: %(ip)s, ' 'RetryCode: %(rc)s, ' 'TryNum: %(rn)s.', {'ip': storage_ip, 'rc': rc, 'rn': (retry_num + 1)}) time.sleep(retry_interval) continue if rc == 4: if ('Authentication failed' in retdata and retry_num + 1 < retry): LOG.warning('_exec_eternus_cli, retry, ip: %(ip)s, ' 'Message: %(message)s, ' 'TryNum: %(rn)s.', {'ip': storage_ip, 'message': retdata, 'rn': (retry_num + 1)}) time.sleep(1) continue break else: # CLI style return code. LOG.warning('_exec_eternus_cli, ' 'WARNING!! ' 'ip: %(ip)s, ' 'ReturnCode: %(rc_str)s, ' 'ReturnData: %(retdata)s.', {'ip': storage_ip, 'rc_str': rc_str, 'retdata': retdata}) errordesc = rc_str rc = 4 # Failed. break else: if 0 < result: msg = (_('_exec_eternus_cli, ' 'cannot connect to ETERNUS. ' 'SSH Result: %(result)s, ' 'retdata: %(retdata)s.') % {'result': result, 'retdata': retdata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) else: LOG.warning('_exec_eternus_cli, Retry was exceeded.') ret = (rc, errordesc, retdata) LOG.debug('_exec_eternus_cli, ' 'command: %(a)s, ' 'parameters: %(b)s, ' 'ip: %(ip)s, ' 'Return code: %(rc)s, ' 'Error: %(errordesc)s.', {'a': command, 'b': param_dict, 'ip': storage_ip, 'rc': rc, 'errordesc': errordesc}) return ret", # Get pools info form CIM instance(include info about instance path).,525,2
openstack%2Fneutron~master~I138d16055f460e20678bb8f76d5c64e6565063ea,openstack/neutron,master,I138d16055f460e20678bb8f76d5c64e6565063ea,[OVN] Re-enable test_port_security_macspoofing_port,MERGED,2020-01-13 16:01:23.000000000,2020-01-21 19:39:56.000000000,2020-01-21 19:34:48.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9592}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-13 16:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/548b7c368309ebf12b0c2cf7709b4cec568d299d', 'message': '[OVN] Re-enable test_port_security_macspoofing_port\n\nThis patch is re-enabling test_port_security_macspoofing_port as the\nreferrenced bug should be fixed already.\n\nChange-Id: I138d16055f460e20678bb8f76d5c64e6565063ea\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2020-01-13 16:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1baf782abae00b867aef8bd0bafc27fafe63add', 'message': '[OVN] Re-enable test_port_security_macspoofing_port\n\nThis patch is re-enabling test_port_security_macspoofing_port as the\nreferrenced bug should be fixed already.\n\nChange-Id: I138d16055f460e20678bb8f76d5c64e6565063ea\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 3, 'created': '2020-01-14 08:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08c3cc80118d3d1e6b2ab7e88a69d6284555204e', 'message': '[OVN] Re-enable test_port_security_macspoofing_port\n\nThis patch is re-enabling test_port_security_macspoofing_port as the\nreferrenced bug should be fixed already.\n\nChange-Id: I138d16055f460e20678bb8f76d5c64e6565063ea\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 4, 'created': '2020-01-14 13:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d14471c05685a8b3bad2b81f4972f57802e62fe7', 'message': '[OVN] Re-enable test_port_security_macspoofing_port\n\nThis patch is re-enabling test_port_security_macspoofing_port as the\nreferrenced bug should be fixed already.\n\nChange-Id: I138d16055f460e20678bb8f76d5c64e6565063ea\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 5, 'created': '2020-01-17 12:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15dff7ad8b91f46a63db1326de0260aa1fa03e50', 'message': '[OVN] Re-enable test_port_security_macspoofing_port\n\nThis patch is re-enabling test_port_security_macspoofing_port as the\nreferrenced bug should be fixed already.\n\nChange-Id: I138d16055f460e20678bb8f76d5c64e6565063ea\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 6, 'created': '2020-01-20 09:56:29.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e395322fbffe5464980ef716c333e088631d4dd5', 'message': '[OVN] Re-enable test_port_security_macspoofing_port\n\nThis patch is re-enabling test_port_security_macspoofing_port as the\nreferrenced bug should be fixed already.\n\nChange-Id: I138d16055f460e20678bb8f76d5c64e6565063ea\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,702250,e395322fbffe5464980ef716c333e088631d4dd5,33,8,6,23804,,,0,"[OVN] Re-enable test_port_security_macspoofing_port

This patch is re-enabling test_port_security_macspoofing_port as the
referrenced bug should be fixed already.

Change-Id: I138d16055f460e20678bb8f76d5c64e6565063ea
Related-bug: #1728886
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/702250/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,548b7c368309ebf12b0c2cf7709b4cec568d299d,bug/1728886,," # TODO(slaweq): remove test_port_security_macspoofing_port test from # blacklist when bug https://bugs.launchpad.net/tempest/+bug/1728886 # will be fixed tempest_black_regex: ""(?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)"" (?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)|\",0,5
openstack%2Frequirements~stable%2Fstein~Ifb805954ff36420004d552a690046d8ddf3bed5c,openstack/requirements,stable/stein,Ifb805954ff36420004d552a690046d8ddf3bed5c,demarcate python-memcached requirements,MERGED,2020-01-14 01:20:13.000000000,2020-01-21 19:37:32.000000000,2020-01-21 19:37:32.000000000,"[{'_account_id': 1916}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-14 01:20:13.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d9e0f30f0fea60f3a020a4e5b27147dc9dc5de66', 'message': ""demarcate python-memcached requirements\n\nTo support Python3, we need python-memcached 1.58 or above. However,\nprojects such as keystonemiddleware[1] have python-memcached 1.56\nin its lower-constraints.txt. For stable/stein, Python3 is now the\ndefult[2]. However, we generally avoid changing lower constraints in\nthe stable branches so we don't inadvertently break the downstream\nconsumers. Therefore, we need to separate python-memcached requirement\nfor the respective python versions.\n\n[1] https://github.com/openstack/keystonemiddleware/blob/stable/stein/lower-constraints.txt#L61\n[2] https://governance.openstack.org/tc/goals/selected/stein/python3-first.html\n\nChange-Id: Ifb805954ff36420004d552a690046d8ddf3bed5c\n""}]",1,702319,d9e0f30f0fea60f3a020a4e5b27147dc9dc5de66,14,6,1,1916,,,0,"demarcate python-memcached requirements

To support Python3, we need python-memcached 1.58 or above. However,
projects such as keystonemiddleware[1] have python-memcached 1.56
in its lower-constraints.txt. For stable/stein, Python3 is now the
defult[2]. However, we generally avoid changing lower constraints in
the stable branches so we don't inadvertently break the downstream
consumers. Therefore, we need to separate python-memcached requirement
for the respective python versions.

[1] https://github.com/openstack/keystonemiddleware/blob/stable/stein/lower-constraints.txt#L61
[2] https://governance.openstack.org/tc/goals/selected/stein/python3-first.html

Change-Id: Ifb805954ff36420004d552a690046d8ddf3bed5c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/702319/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d9e0f30f0fea60f3a020a4e5b27147dc9dc5de66,constrain_python_memcached,python-memcached>1.55;python_version=='2.7' # PSF python-memcached>1.57;python_version>='3.4' # PSF,python-memcached # PSF,2,1
openstack%2Fbarbican~master~I3d85ecd51aaccfd14aa6ab57a535b874dcef134a,openstack/barbican,master,I3d85ecd51aaccfd14aa6ab57a535b874dcef134a,"DNM!! Just confirming root cause  Revert ""Add Secret Consumer Controllers and their tests""",ABANDONED,2020-01-20 17:58:56.000000000,2020-01-21 19:17:57.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27665}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-01-20 17:58:56.000000000', 'files': ['barbican/api/controllers/secrets.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/tests/api/controllers/test_consumers.py', 'barbican/model/models.py', 'barbican/api/controllers/consumers.py', 'barbican/tests/utils.py', 'functionaltests/api/v1/models/secret_models.py', 'barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0d677b00852558da4715e20aa8e270bd6f79f442', 'message': 'DNM!!\nJust confirming root cause \nRevert ""Add Secret Consumer Controllers and their tests""\n\nThis reverts commit 21ea22b7cb745e7f040728a0afd9e18c7ce78ff9.\n\nChange-Id: I3d85ecd51aaccfd14aa6ab57a535b874dcef134a\n'}]",0,703473,0d677b00852558da4715e20aa8e270bd6f79f442,3,6,1,9592,,,0,"DNM!!
Just confirming root cause 
Revert ""Add Secret Consumer Controllers and their tests""

This reverts commit 21ea22b7cb745e7f040728a0afd9e18c7ce78ff9.

Change-Id: I3d85ecd51aaccfd14aa6ab57a535b874dcef134a
",git fetch https://review.opendev.org/openstack/barbican refs/changes/73/703473/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/api/controllers/secrets.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/tests/api/controllers/test_consumers.py', 'barbican/model/models.py', 'barbican/api/controllers/consumers.py', 'barbican/tests/utils.py', 'functionaltests/api/v1/models/secret_models.py', 'barbican/tests/api/test_resources.py']",8,0d677b00852558da4715e20aa8e270bd6f79f442,secret-consumers," algorithm=None, bit_length=None, mode=None, encrypted_datum=None, content_type=None): info = {'id': id_ref, 'name': name, 'algorithm': algorithm, 'bit_length': bit_length, 'mode': mode}def create_consumer(container_id, project_id, id_ref):class WhenCreatingConsumersUsingConsumersResource(FunctionalTest): WhenCreatingConsumersUsingConsumersResource, selfclass WhenGettingOrDeletingConsumersUsingConsumerResource(FunctionalTest): WhenGettingOrDeletingConsumersUsingConsumerResource, self self.consumer = create_consumer( self.consumer2 = create_consumer(class WhenPerformingUnallowedOperationsOnConsumers(FunctionalTest): WhenPerformingUnallowedOperationsOnConsumers, self self.consumer = create_consumer( self.consumer2 = create_consumer(class WhenOwnershipMismatch(FunctionalTest): WhenOwnershipMismatch, self self.consumer = create_consumer(self.container.id, self.project_internal_id, id_ref='id2') self.consumer2 = create_consumer(self.container.id, self.project_internal_id, id_ref='id3')"," algorithm=None, bit_length=None, mode=None, encrypted_datum=None, content_type=None, project_id=None): info = { 'id': id_ref, 'name': name, 'algorithm': algorithm, 'bit_length': bit_length, 'mode': mode, 'project_id': project_id, }def create_container_consumer(container_id, project_id, id_ref):def create_secret_consumer(secret_id, project_id, id_ref): """"""Generate a SecretConsumerMetadatum entity instance."""""" consumer = models.SecretConsumerMetadatum( secret_id, project_id, ""service"", ""resource_type"", ""resource_id"", ) consumer.id = id_ref return consumer class WhenCreatingContainerConsumersUsingResource(FunctionalTest): WhenCreatingContainerConsumersUsingResource, selfclass WhenGettingOrDeletingContainerConsumersUsingResource(FunctionalTest): WhenGettingOrDeletingContainerConsumersUsingResource, self self.consumer = create_container_consumer( self.consumer2 = create_container_consumer(class WhenPerformingUnallowedOperationsOnContainerConsumers(FunctionalTest): WhenPerformingUnallowedOperationsOnContainerConsumers, self self.consumer = create_container_consumer( self.consumer2 = create_container_consumer(class WhenOwnershipMismatchForContainerConsumer(FunctionalTest): WhenOwnershipMismatchForContainerConsumer, self self.consumer = create_container_consumer(self.container.id, self.project_internal_id, id_ref='id2') self.consumer2 = create_container_consumer(self.container.id, self.project_internal_id, id_ref='id3') class WhenCreatingSecretConsumersUsingResource(FunctionalTest): def setUp(self): super( WhenCreatingSecretConsumersUsingResource, self ).setUp() self.app = webtest.TestApp(app.build_wsgi_app(self.root)) self.app.extra_environ = get_barbican_env(self.external_project_id) @property def root(self): self._init() class RootController(object): secrets = controllers.secrets.SecretsController() return RootController() def _init(self): self.external_project_id = 'keystoneid1234' self.project_internal_id = 'projectid1234' # Set up mocked project self.project = models.Project() self.project.id = self.project_internal_id self.project.external_id = self.external_project_id # Set up mocked secret self.secret = models.Secret() self.secret.id = utils.generate_test_valid_uuid() self.secret.project = self.project self.secret.project_id = self.project_internal_id # Set up consumer ref self.consumer_ref = { ""service"": ""service"", ""resource_type"": ""resource_type"", ""resource_id"": ""resource_id"", } # Set up mocked project repo self.project_repo = mock.MagicMock() self.project_repo.get.return_value = self.project self.setup_project_repository_mock(self.project_repo) # Set up mocked quota enforcer self.quota_patch = mock.patch( 'barbican.common.quota.QuotaEnforcer.enforce', return_value=None) self.quota_patch.start() self.addCleanup(self.quota_patch.stop) # Set up mocked secret repo self.secret_repo = mock.MagicMock() self.secret_repo.get_secret_by_id.return_value = self.secret self.setup_secret_repository_mock(self.secret_repo) # Set up mocked secret meta repo self.secret_meta_repo = mock.MagicMock() self.secret_meta_repo.get_metadata_for_secret.return_value = None self.setup_secret_meta_repository_mock(self.secret_meta_repo) # Set up mocked secret consumer repo self.consumer_repo = mock.MagicMock() self.consumer_repo.create_from.return_value = None self.setup_secret_consumer_repository_mock(self.consumer_repo) def test_should_add_new_consumer(self): resp = self.app.post_json( '/secrets/{0}/consumers/'.format(self.secret.id), self.consumer_ref ) self.assertEqual(200, resp.status_int) self.assertNotIn(self.external_project_id, resp.headers['Location']) args, kwargs = self.consumer_repo.create_or_update_from.call_args consumer = args[0] self.assertIsInstance(consumer, models.SecretConsumerMetadatum) def test_should_fail_consumer_bad_json(self): resp = self.app.post( '/secrets/{0}/consumers/'.format(self.secret.id), '', expect_errors=True ) self.assertEqual(415, resp.status_int) def test_should_404_when_secret_ref_doesnt_exist(self): self.secret_repo.get_secret_by_id.return_value = None resp = self.app.post_json( '/secrets/{0}/consumers/'.format('bad_id'), self.consumer_ref, expect_errors=True ) self.assertEqual(404, resp.status_int) class WhenGettingOrDeletingSecretConsumersUsingResource(FunctionalTest): def setUp(self): super( WhenGettingOrDeletingSecretConsumersUsingResource, self ).setUp() self.app = webtest.TestApp(app.build_wsgi_app(self.root)) self.app.extra_environ = get_barbican_env(self.external_project_id) @property def root(self): self._init() class RootController(object): secrets = controllers.secrets.SecretsController() return RootController() def _init(self): self.external_project_id = 'keystoneid1234' self.project_internal_id = 'projectid1234' # Set up mocked project self.project = models.Project() self.project.id = self.project_internal_id self.project.external_id = self.external_project_id # Set up mocked secret self.secret = models.Secret() self.secret.id = utils.generate_test_valid_uuid() self.secret.project = self.project self.secret.project_id = self.project_internal_id # Set up mocked consumers self.consumer = create_secret_consumer( self.secret.id, self.project_internal_id, id_ref=utils.generate_test_valid_uuid()) self.consumer2 = create_secret_consumer( self.secret.id, self.project_internal_id, id_ref=utils.generate_test_valid_uuid()) self.consumer_ref = { ""service"": self.consumer.service, ""resource_type"": self.consumer.resource_type, ""resource_id"": self.consumer.resource_type, } # Set up mocked project repo self.project_repo = mock.MagicMock() self.project_repo.get.return_value = self.project self.setup_project_repository_mock(self.project_repo) # Set up mocked secret repo self.secret_repo = mock.MagicMock() self.secret_repo.get_secret_by_id.return_value = self.secret self.setup_secret_repository_mock(self.secret_repo) # Set up mocked secret meta repo self.secret_meta_repo = mock.MagicMock() self.secret_meta_repo.get_metadata_for_secret.return_value = None self.setup_secret_meta_repository_mock(self.secret_meta_repo) # Set up mocked secret consumer repo self.consumer_repo = mock.MagicMock() self.consumer_repo.get_by_values.return_value = self.consumer self.consumer_repo.delete_entity_by_id.return_value = None self.setup_secret_consumer_repository_mock(self.consumer_repo) def test_should_get_consumer(self): ret_val = ([self.consumer], 0, 0, 1) self.consumer_repo.get_by_secret_id.return_value = ret_val resp = self.app.get('/secrets/{0}/consumers/'.format( self.secret.id )) self.assertEqual(200, resp.status_int) self.consumer_repo.get_by_secret_id.assert_called_once_with( self.secret.id, limit_arg=None, offset_arg=0, suppress_exception=True ) self.assertEqual( self.consumer.service, resp.json[""consumers""][0][""service""], ) self.assertEqual( self.consumer.resource_type, resp.json[""consumers""][0][""resource_type""] ) self.assertEqual( self.consumer.resource_id, resp.json[""consumers""][0][""resource_id""] ) def test_should_404_when_secret_ref_doesnt_exist(self): self.secret_repo.get_secret_by_id.return_value = None resp = self.app.get('/secrets/{0}/consumers/'.format( 'bad_id' ), expect_errors=True) self.assertEqual(404, resp.status_int) def test_should_get_consumer_by_id(self): self.consumer_repo.get.return_value = self.consumer resp = self.app.get('/secrets/{0}/consumers/{1}/'.format( self.secret.id, self.consumer.id )) self.assertEqual(200, resp.status_int) def test_should_404_with_bad_consumer_id(self): self.consumer_repo.get.return_value = None resp = self.app.get('/secrets/{0}/consumers/{1}/'.format( self.secret.id, 'bad_id' ), expect_errors=True) self.assertEqual(404, resp.status_int) def test_should_get_no_consumers(self): self.consumer_repo.get_by_secret_id.return_value = ([], 0, 0, 0) resp = self.app.get('/secrets/{0}/consumers/'.format( self.secret.id )) self.assertEqual(200, resp.status_int) def test_should_delete_consumer(self): self.app.delete_json('/secrets/{0}/consumers/'.format( self.secret.id ), self.consumer_ref) self.consumer_repo.delete_entity_by_id.assert_called_once_with( self.consumer.id, self.external_project_id) def test_should_fail_deleting_consumer_bad_json(self): resp = self.app.delete( '/secrets/{0}/consumers/'.format(self.secret.id), '', expect_errors=True ) self.assertEqual(415, resp.status_int) def test_should_404_on_delete_when_consumer_not_found(self): old_return = self.consumer_repo.get_by_values.return_value self.consumer_repo.get_by_values.return_value = None resp = self.app.delete_json('/secrets/{0}/consumers/'.format( self.secret.id ), self.consumer_ref, expect_errors=True) self.consumer_repo.get_by_values.return_value = old_return self.assertEqual(404, resp.status_int) # Error response should have json content type self.assertEqual(""application/json"", resp.content_type) def test_should_404_on_delete_when_consumer_not_found_later(self): self.consumer_repo.delete_entity_by_id.side_effect = excep.NotFound() resp = self.app.delete_json('/secrets/{0}/consumers/'.format( self.secret.id ), self.consumer_ref, expect_errors=True) self.consumer_repo.delete_entity_by_id.side_effect = None self.assertEqual(404, resp.status_int) # Error response should have json content type self.assertEqual(""application/json"", resp.content_type) def test_should_delete_consumers_on_secret_delete(self): consumers = [self.consumer, self.consumer2] ret_val = (consumers, 0, 0, 1) self.consumer_repo.get_by_secret_id.return_value = ret_val resp = self.app.delete( '/secrets/{0}/'.format(self.secret.id) ) self.assertEqual(204, resp.status_int) # Verify consumers were deleted calls = [] for consumer in consumers: calls.append(mock.call(consumer.id, self.external_project_id)) self.consumer_repo.delete_entity_by_id.assert_has_calls( calls, any_order=True ) def test_should_pass_on_secret_delete_with_missing_consumers(self): consumers = [self.consumer, self.consumer2] ret_val = (consumers, 0, 0, 1) self.consumer_repo.get_by_secret_id.return_value = ret_val self.consumer_repo.delete_entity_by_id.side_effect = excep.NotFound resp = self.app.delete( '/secrets/{0}/'.format(self.secret.id) ) self.assertEqual(204, resp.status_int) # Verify consumers were deleted calls = [] for consumer in consumers: calls.append(mock.call(consumer.id, self.external_project_id)) self.consumer_repo.delete_entity_by_id.assert_has_calls( calls, any_order=True ) class WhenPerformingUnallowedOperationsOnSecretConsumers(FunctionalTest): def setUp(self): super( WhenPerformingUnallowedOperationsOnSecretConsumers, self ).setUp() self.app = webtest.TestApp(app.build_wsgi_app(self.root)) self.app.extra_environ = get_barbican_env(self.external_project_id) @property def root(self): self._init() class RootController(object): secrets = controllers.secrets.SecretsController() return RootController() def _init(self): self.external_project_id = 'keystoneid1234' self.project_internal_id = 'projectid1234' # Set up mocked project self.project = models.Project() self.project.id = self.project_internal_id self.project.external_id = self.external_project_id # Set up mocked secret self.secret = models.Secret() self.secret.id = utils.generate_test_valid_uuid() self.secret.project_id = self.project_internal_id # Set up mocked secret consumers self.consumer = create_secret_consumer( self.secret.id, self.project_internal_id, id_ref=utils.generate_test_valid_uuid()) self.consumer_ref = { ""service"": self.consumer.service, ""resource_type"": self.consumer.resource_type, ""resource_id"": self.consumer.resource_type, } # Set up mocked project repo self.project_repo = mock.MagicMock() self.project_repo.get.return_value = self.project self.setup_project_repository_mock(self.project_repo) # Set up secret repo self.secret_repo = mock.MagicMock() self.secret_repo.get_secret_by_id.return_value = self.secret self.setup_secret_repository_mock(self.secret_repo) # Set up secret consumer repo self.consumer_repo = mock.MagicMock() self.consumer_repo.get_by_values.return_value = self.consumer self.consumer_repo.delete_entity_by_id.return_value = None self.setup_secret_consumer_repository_mock(self.consumer_repo) def test_should_not_allow_put_on_consumers(self): ret_val = ([self.consumer], 0, 0, 1) self.consumer_repo.get_by_secret_id.return_value = ret_val resp = self.app.put_json( '/secrets/{0}/consumers/'.format(self.secret.id), self.consumer_ref, expect_errors=True ) self.assertEqual(405, resp.status_int) def test_should_not_allow_post_on_consumer_by_id(self): self.consumer_repo.get.return_value = self.consumer resp = self.app.post_json( '/secrets/{0}/consumers/{1}/'.format(self.secret.id, self.consumer.id), self.consumer_ref, expect_errors=True ) self.assertEqual(405, resp.status_int) def test_should_not_allow_put_on_consumer_by_id(self): self.consumer_repo.get.return_value = self.consumer resp = self.app.put_json( '/secrets/{0}/consumers/{1}/'.format(self.secret.id, self.consumer.id), self.consumer_ref, expect_errors=True ) self.assertEqual(405, resp.status_int) def test_should_not_allow_delete_on_consumer_by_id(self): self.consumer_repo.get.return_value = self.consumer resp = self.app.delete( '/secrets/{0}/consumers/{1}/'.format(self.secret.id, self.consumer.id), expect_errors=True ) self.assertEqual(405, resp.status_int) class WhenOwnershipMismatchForSecretConsumer(FunctionalTest): def setUp(self): super( WhenOwnershipMismatchForSecretConsumer, self ).setUp() self.app = webtest.TestApp(app.build_wsgi_app(self.root)) self.app.extra_environ = get_barbican_env(self.external_project_id) @property def root(self): self._init() class RootController(object): secrets = controllers.secrets.SecretsController() return RootController() def _init(self): self.external_project_id = 'keystoneid1234' self.project_internal_id = 'projectid1234' # Set up mocked project self.project = models.Project() self.project.id = self.project_internal_id self.project.external_id = self.external_project_id # Set up mocked secret self.secret = models.Secret() self.secret.id = utils.generate_test_valid_uuid() self.secret.project = models.Project() self.secret.project.external_id = ""differentProjectId"" # Set up mocked consumer self.consumer = create_secret_consumer(self.secret.id, self.project_internal_id, id_ref='consumerid1234') self.consumer_ref = { ""service"": self.consumer.service, ""resource_type"": self.consumer.resource_type, ""resource_id"": self.consumer.resource_type, } # Set up mocked project repo self.project_repo = mock.MagicMock() self.project_repo.get.return_value = self.project self.setup_project_repository_mock(self.project_repo) # Set up mocked secret repo self.secret_repo = mock.MagicMock() self.secret_repo.get.return_value = self.secret self.secret_repo.get_secret_by_id.return_value = self.secret self.setup_secret_repository_mock(self.secret_repo) # Set up mocked secret consumer repo self.consumer_repo = mock.MagicMock() self.consumer_repo.get_by_values.return_value = self.consumer self.consumer_repo.delete_entity_by_id.return_value = None self.setup_secret_consumer_repository_mock(self.consumer_repo) def test_consumer_check_ownership_mismatch(self): resp = self.app.delete_json( '/secrets/{0}/consumers/'.format(self.secret.id), self.consumer_ref, expect_errors=True) self.assertEqual(403, resp.status_int)",61,1221
openstack%2Fec2-api~master~I90f81fc9358ecee74dfa7569eeee4cf083a82421,openstack/ec2-api,master,I90f81fc9358ecee74dfa7569eeee4cf083a82421,DNM: Test cleanup of ec2utils in nova,ABANDONED,2019-06-05 17:19:15.000000000,2020-01-21 18:59:32.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 17:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4fc75e019e41b5cc8e83f4d895648a27abbd40cf', 'message': 'DNM: Test cleanup of ec2utils in nova\n\nChange-Id: I90f81fc9358ecee74dfa7569eeee4cf083a82421\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/662506\n'}, {'number': 2, 'created': '2019-06-06 13:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8bda1f1b5073cf773af0220aecac3a199b54d214', 'message': 'DNM: Test cleanup of ec2utils in nova\n\nChange-Id: I90f81fc9358ecee74dfa7569eeee4cf083a82421\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/662506\n'}, {'number': 3, 'created': '2019-06-06 13:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/1432f46212a991af4a93850bfce757694067edda', 'message': 'DNM: Test cleanup of ec2utils in nova\n\nChange-Id: I90f81fc9358ecee74dfa7569eeee4cf083a82421\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/662506\n'}, {'number': 4, 'created': '2019-06-07 10:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/3a6c37c986925c731fb54893d58eead5a1c9ad35', 'message': 'DNM: Test cleanup of ec2utils in nova\n\nChange-Id: I90f81fc9358ecee74dfa7569eeee4cf083a82421\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/662506\n'}, {'number': 5, 'created': '2019-06-07 14:13:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/5ae497d9f6553a060cc7027fad08251f950a78dc', 'message': 'DNM: Test cleanup of ec2utils in nova\n\nChange-Id: I90f81fc9358ecee74dfa7569eeee4cf083a82421\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/662506\n'}]",0,663386,5ae497d9f6553a060cc7027fad08251f950a78dc,13,2,5,15334,,,0,"DNM: Test cleanup of ec2utils in nova

Change-Id: I90f81fc9358ecee74dfa7569eeee4cf083a82421
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Depends-On: https://review.opendev.org/662506
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/86/663386/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4fc75e019e41b5cc8e83f4d895648a27abbd40cf,bug/1831870, - openstack/nova,,1,0
openstack%2Fos-vif~master~I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85,openstack/os-vif,master,I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85,[Follow Up] OVS DPDK port representors support,MERGED,2019-06-18 12:29:21.000000000,2020-01-21 18:57:31.000000000,2020-01-21 18:21:36.000000000,"[{'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25241}, {'_account_id': 25733}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-06-18 12:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/dfccaa37af7e3c33675697bda2185e6b39ffa068', 'message': '[Follow Up] OVS DPDK port representors support\n\nSet VF MAC address in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif would be responsible for processing the\nDPDK port and setting its MAC.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 2, 'created': '2019-12-24 10:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/89d56e21e30c23668a48f337ccdfebfde1e3aec7', 'message': '[Follow Up] OVS DPDK port representors support\n\nSet VF MAC address in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif would be responsible for processing the\nDPDK port and setting its MAC.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 3, 'created': '2019-12-24 15:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c7113c903e22cfcfb5c01506b26a34887acf4467', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, pass a random generated MAC for the port before deleting it\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 4, 'created': '2019-12-24 15:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/84dcc43451e151125cd52a2163acdf5f6da6f2f4', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, update the MAC with a random generated one for the port\nbefore deleting it\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 5, 'created': '2019-12-30 13:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/661c55facc1031cb5d342df1760c64f617a41f37', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 6, 'created': '2020-01-02 09:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4bd2b2ab9205bbe1a21defd664d55e781aed8272', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 7, 'created': '2020-01-05 07:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/356b2e511ce726b418157328edb7e3ad43c82129', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 8, 'created': '2020-01-05 08:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/6a5f98eb8c9a50946ec8073bfa6cc217d57912be', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 9, 'created': '2020-01-07 08:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a8e765ee7f875f1d0d38f58c8bcbfb79b20d310f', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 10, 'created': '2020-01-14 09:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ea07e2797db1a2e2fcff60525ea2eea5bb58f649', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 11, 'created': '2020-01-15 10:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/3b5ab8e936dae7cd09b08c067b16c4bcd423baf8', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 12, 'created': '2020-01-15 18:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/27b631e8871c7d615999f15bdd0abdd816e08b59', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}, {'number': 13, 'created': '2020-01-15 20:42:58.000000000', 'files': ['vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/ovsdb/impl_vsctl.py', 'vif_plug_ovs/tests/unit/ovsdb/test_impl_vsctl.py', 'os_vif/tests/unit/test_utils.py', 'os_vif/utils.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/399e3550886d091dcf022051da578d5a2c219654', 'message': '[Follow Up] OVS DPDK port representors support\n\nPass VF MAC address to ovs to set in case of netdev VIFHostDevice.\n\nIn case of DPDK representor port, Nova will pass through the VF PCI\nas a hostdev and os-vif should pass the MAC to ovs as it would be\nresponsible for setting its MAC.\nMoreover, when not using dpdk, libvirt does the mac cleanup,\nsince the VF is managed by libvirt, but when using DPDK,\nlibvirt does not manage the VF so we need to cleanup MAC address\nin os-vif.\n\nChange-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85\nCloses-Bug: #1829734\n'}]",67,665965,399e3550886d091dcf022051da578d5a2c219654,92,8,13,22948,,,0,"[Follow Up] OVS DPDK port representors support

Pass VF MAC address to ovs to set in case of netdev VIFHostDevice.

In case of DPDK representor port, Nova will pass through the VF PCI
as a hostdev and os-vif should pass the MAC to ovs as it would be
responsible for setting its MAC.
Moreover, when not using dpdk, libvirt does the mac cleanup,
since the VF is managed by libvirt, but when using DPDK,
libvirt does not manage the VF so we need to cleanup MAC address
in os-vif.

Change-Id: I5368c318cc0cfd7b5644d3da0dccbce7a48d6a85
Closes-Bug: #1829734
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/65/665965/12 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/ovs.py', 'os_vif/internal/ip/linux/impl_pyroute2.py', 'vif_plug_ovs/linux_net.py']",3,dfccaa37af7e3c33675697bda2185e6b39ffa068,bug/1829734,"@privsep.vif_plug.entrypoint def set_vf_mac_address(pf_ifname, vf_num, address): ip_lib.set_vf_address(pf_ifname, vf_num, address) ",,28,0
openstack%2Fcinder~master~I923a9b36ba53d1367c2c49aeb26ada89c5e0e407,openstack/cinder,master,I923a9b36ba53d1367c2c49aeb26ada89c5e0e407,"remotefs: remove invalid ""external"" arg on lock method",MERGED,2019-11-13 15:41:09.000000000,2020-01-21 18:40:55.000000000,2020-01-21 18:36:08.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-11-13 15:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c427f6277db2e86e32a427283bc3324d9b273930', 'message': 'remotefs: remove invalid ""external"" arg on lock method\n\nThis is not implemented correctly (can\'t be used), and\nhas no users, so just remove it.\n\nChange-Id: I923a9b36ba53d1367c2c49aeb26ada89c5e0e407\n'}, {'number': 2, 'created': '2019-11-13 15:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f292f42a67446b54c5c11237a59f95186fb7d7c4', 'message': 'remotefs: remove invalid ""external"" arg on lock method\n\nThis is not implemented correctly (can\'t be used), and\nhas no users, so just remove it.\n\nChange-Id: I923a9b36ba53d1367c2c49aeb26ada89c5e0e407\n'}, {'number': 3, 'created': '2019-11-13 17:21:10.000000000', 'files': ['cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3493a0dab2eebe4c260b117a44e237e9a1a69b16', 'message': 'remotefs: remove invalid ""external"" arg on lock method\n\nThis is not implemented correctly (can\'t be used), and\nhas no users, so just remove it.\n\nChange-Id: I923a9b36ba53d1367c2c49aeb26ada89c5e0e407\n'}]",0,694100,3493a0dab2eebe4c260b117a44e237e9a1a69b16,53,31,3,4523,,,0,"remotefs: remove invalid ""external"" arg on lock method

This is not implemented correctly (can't be used), and
has no users, so just remove it.

Change-Id: I923a9b36ba53d1367c2c49aeb26ada89c5e0e407
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/694100/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,c427f6277db2e86e32a427283bc3324d9b273930,bug/1840712,def locked_volume_id_operation(f): external=False),"def locked_volume_id_operation(f, external=False): external=external)",2,2
openstack%2Fdevstack~master~If4fb16555e15082a4d97cffdf3cfa608a682997d,openstack/devstack,master,If4fb16555e15082a4d97cffdf3cfa608a682997d,"Revert ""Do not use pip 10 or higher""",MERGED,2018-04-16 12:08:30.000000000,2020-01-21 18:39:47.000000000,2020-01-21 18:36:06.000000000,"[{'_account_id': 1653}, {'_account_id': 4146}, {'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11536}, {'_account_id': 12640}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 19134}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2018-04-16 12:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/330a89a30961bfeded46f12a764d39769612254b', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using latest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 2, 'created': '2018-04-16 12:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/29ccdcf08af367d2ee4ee8619b84f92e6a045cc3', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using latest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 3, 'created': '2018-04-17 00:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/75d5a7eca61757d7bfdecd6962e06be44166697e', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 4, 'created': '2018-04-20 00:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9c89f414b5e2585128e26803fad58b81eddf8bcd', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 5, 'created': '2018-04-20 01:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9669406fee82c96335efe0bc564d777515b9fa5e', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 6, 'created': '2018-04-20 02:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/48974b2de7dc4d8d39c0a845113d8d8548b84e5f', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 7, 'created': '2018-04-20 03:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/04572cdb4b11726641021117f790906158e283c3', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 8, 'created': '2018-04-20 03:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/61f2a3ee1b50a0d30c1dc29447d1de23edecf1db', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 9, 'created': '2018-04-20 05:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/52a85eaa01f673ce4f2a7a0a2bc42d32c60e6ef2', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 10, 'created': '2019-02-18 13:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8a7270bec56e057f5fef397aa651a7aed4be5df9', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 11, 'created': '2019-02-20 14:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1babea3bd12ca560f07a295b7fa4053611020a17', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 12, 'created': '2019-02-20 14:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/00d0aac14835050f112ac7e3eee286c2b66e3af5', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 13, 'created': '2019-02-20 15:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e8985c49dd5c47ca573f83b21fd95a93ab48474f', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 14, 'created': '2019-02-21 14:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2581c7cfe2983b8203916d2e6d1a5821d6afc8a3', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nAdded workarounds that might want to get split into their own patch\nbefore merging:\n\n- Don\'t install python-psutil\n- Don\'t run peakmem_tracker\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 15, 'created': '2019-03-01 12:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f450a20cbeae1b3e69df083362b537e7ba0631cf', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nAdded workarounds that might want to get split into their own patch\nbefore merging:\n\n- Don\'t install python-psutil\n- Don\'t run peakmem_tracker\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 16, 'created': '2019-03-01 17:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f6002b9fff201706c330466442763d4cc3e930b8', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nAdded workarounds that might want to get split into their own patch\nbefore merging:\n\n- Don\'t install python-psutil\n- Don\'t run peakmem_tracker\n\nDepends-On: https://review.openstack.org/640461\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 17, 'created': '2019-04-03 12:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/603bdee16d2c1e7ec5a7196f0eca263b990af3f9', 'message': 'Revert ""Do not use pip 10 or higher""\n\nWith workarounds in place, let us see how we can get back to using\nlatest pip again.\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nAdded workarounds that might want to get split into their own patch\nbefore merging:\n\n- Don\'t install python-psutil\n- Don\'t run peakmem_tracker\n\nDepends-On: https://review.openstack.org/640461\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 18, 'created': '2019-04-03 13:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f90cee95ce1bc72a00ea0b84c8a0e88c744616a1', 'message': 'Revert ""Do not use pip 10 or higher""\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c except\nfor RHEL7 based distros.\n\nAdded workarounds that might want to get split into their own patch\nbefore merging:\n\n- Don\'t install python-psutil\n- Don\'t run peakmem_tracker\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 19, 'created': '2019-09-25 02:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/feab01d4efffd9deaceda801705c20711b217ecf', 'message': 'Revert ""Do not use pip 10 or higher""\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c except\nfor RHEL7 based distros.\n\nAdded workarounds that might want to get split into their own patch\nbefore merging:\n\n- Don\'t install python-psutil\n- Don\'t run peakmem_tracker\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 20, 'created': '2019-09-26 12:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c9715a3d23b536a0a3ecf4edcad8177520946a54', 'message': 'Revert ""Do not use pip 10 or higher""\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c except\nfor RHEL7 based distros.\n\nAdded workarounds that might want to get split into their own patch\nbefore merging:\n\n- Don\'t install python-psutil\n- Don\'t run peakmem_tracker\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}, {'number': 21, 'created': '2019-11-21 15:40:06.000000000', 'files': ['files/rpms-suse/dstat', 'files/rpms/dstat', 'files/debs/dstat', '.zuul.yaml', 'tools/install_pip.sh', 'tools/cap-pip.txt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/279a7589b03db69fd1b85d947cd0171dacef94ee', 'message': 'Revert ""Do not use pip 10 or higher""\n\nThis reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.\n\nAdded workarounds that might want to get split into their own patch\nbefore merging:\n\n- Don\'t install python-psutil\n- Don\'t run peakmem_tracker\n\nChange-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d\n'}]",0,561597,279a7589b03db69fd1b85d947cd0171dacef94ee,112,18,21,13252,,,0,"Revert ""Do not use pip 10 or higher""

This reverts commit f99d1771ba1882dfbb69186212a197edae3ef02c.

Added workarounds that might want to get split into their own patch
before merging:

- Don't install python-psutil
- Don't run peakmem_tracker

Change-Id: If4fb16555e15082a4d97cffdf3cfa608a682997d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/97/561597/20 && git format-patch -1 --stdout FETCH_HEAD,['tools/cap-pip.txt'],1,330a89a30961bfeded46f12a764d39769612254b,561597,pip!=8,"pip!=8,<10",1,1
openstack%2Ftripleo-ansible~master~I1d2fdc56c6191ce3f55d39f9c5ae51ed63e402a7,openstack/tripleo-ansible,master,I1d2fdc56c6191ce3f55d39f9c5ae51ed63e402a7,DNM!! testing,ABANDONED,2020-01-21 15:47:31.000000000,2020-01-21 18:24:14.000000000,,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 15:47:31.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6333f6809887ac5d871e26157f0b92aff8c2ae4', 'message': 'DNM!! testing\n\nRevert ""Programatically generate ssh hosts lines""\n\nThis reverts commit 0a87cadd277bf116013f573fd4f82edf220ec597.\n\nChange-Id: I1d2fdc56c6191ce3f55d39f9c5ae51ed63e402a7\n'}]",0,703645,c6333f6809887ac5d871e26157f0b92aff8c2ae4,4,4,1,9592,,,0,"DNM!! testing

Revert ""Programatically generate ssh hosts lines""

This reverts commit 0a87cadd277bf116013f573fd4f82edf220ec597.

Change-Id: I1d2fdc56c6191ce3f55d39f9c5ae51ed63e402a7
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/703645/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'],1,c6333f6809887ac5d871e26157f0b92aff8c2ae4,bug/1856893," {%- for host in groups['overcloud'] | intersect(play_hosts) %} [{{ ctlplane_ip }}]*,[{{ host }}.{{ cloud_domain }}]*,[{{ host }}]* {%- if (enabled_networks and enabled_networks | length > 0 and 'role_networks' in hostvars[host] and hostvars[host]['role_networks'] and hostvars[host]['role_networks'] | length > 0) %}, {%- for network in enabled_networks %} {%- if network in hostvars[host]['role_networks'] %} [{{ hostvars[host][networks[network]['name'] ~ '_ip'] }}]*,[{{ host }}.{{ network.lower() }}]*,{% if 1 %}{% endif %} [{{ host }}.{{ network.lower() }}.{{ cloud_domain }}]*{% if not loop.last %},{% endif %} {%- endif -%} {%- endfor -%} {%- endif -%} {{ ' ssh-rsa ' ~ hostvars[host]['ansible_ssh_host_key_rsa_public'] }}"," {% for host in (groups['overcloud'] | intersect(play_hosts)) %} {% set hostdata = hostvars[host] %} {% if ('ansible_ssh_host_key_rsa_public' in hostdata) or (ansible_ssh_host_key_rsa_public is defined) %} {% if (cloud_domain is defined) and (ctlplane_ip is defined) %} {% set line = '[' ~ ctlplane_ip ~ ']*,[' ~ host ~ '.' ~ cloud_domain ~ ']*,[' ~ host ~ ']*' %} {% set role_networks = hostdata['role_networks'] | default([]) %} {% if ((enabled_networks is defined) and ((enabled_networks | length) > 0) and ((role_networks | length) > 0)) %} {% set line = line ~ ',' %} {% for network in enabled_networks %} {% if network in role_networks %} {% set line = line ~ '[' ~ hostdata[(networks[network][""name""] ~ '_ip')] ~ ']*,[' ~ host ~ '.' ~ network.lower() ~ ']*,' %} {% set line = line ~ '[' ~ host ~ '.' ~ network.lower() ~ '.' ~ cloud_domain ~ ']*' %} {% if not loop.last %} {% set line = line ~ ',' %} {% endif %} {% endif %} {% endfor %} {% endif %} {% set line = line ~ ' ssh-rsa ' ~ hostdata['ansible_ssh_host_key_rsa_public'] | default(ansible_ssh_host_key_rsa_public) %} {{ line }} {% endif %} {% endif %}",12,22
openstack%2Fcharm-neutron-dynamic-routing~master~I70ca12e77245ffcfc4aca5582f4bfac347ed6bed,openstack/charm-neutron-dynamic-routing,master,I70ca12e77245ffcfc4aca5582f4bfac347ed6bed,[WIP][RFC][PoC] Fix for NDR testing race conditon,ABANDONED,2020-01-17 23:16:29.000000000,2020-01-21 18:22:08.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-17 23:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/d0e5f1b9e7ace398d31d59a5a792f7a80e6ef4ad', 'message': '[WIP][RFC][PoC] Fix for NDR testing race conditon\n\nThis is WIP and request for comments proof of concept PR.\n\nThe root cause seems to be upstream in the dragent. It may never\nhave been envisioned to run the agent by itself the way the charm does.\n\nSo that even if neutron-api completes its amqp relation first,\nneutron-dynamic-routing can still see\noslo_messaging.exceptions.MessagingTimeout errors. Some opertion\nmust occur against neutron before dragent is truly ready. i.e. some post\ndeploy openstack command. So it is outside the purview of the charm.\n\nThis change adds the amqp relation to neutron-dynamic-routing late.\nPost-deploy after networks have been configured.\n\nChange-Id: I70ca12e77245ffcfc4aca5582f4bfac347ed6bed\nPartial-Bug: #1841459\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/155\n'}, {'number': 2, 'created': '2020-01-18 01:19:46.000000000', 'files': ['src/tests/bundles/bionic-queens-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'src/tests/bundles/bionic-train-functional.yaml', 'src/tests/bundles/disco-stein-functional.yaml', 'src/tests/bundles/xenial-ocata-functional.yaml', 'src/tests/bundles/xenial-pike-functional.yaml', 'src/tests/bundles/bionic-stein-functional.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-rocky-functional.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/4d5ff46c0fdc29737790103329fd429cf7f096dd', 'message': '[WIP][RFC][PoC] Fix for NDR testing race conditon\n\nThis is WIP and request for comments proof of concept PR.\n\nThe root cause seems to be upstream in the dragent. It may never\nhave been envisioned to run the agent by itself the way the charm does.\n\nSo that even if neutron-api completes its amqp relation first,\nneutron-dynamic-routing can still see\noslo_messaging.exceptions.MessagingTimeout errors. Some opertion\nmust occur against neutron before dragent is truly ready. i.e. some post\ndeploy openstack command. So it is outside the purview of the charm.\n\nThis change adds the amqp relation to neutron-dynamic-routing late.\nPost-deploy after networks have been configured.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/155\nChange-Id: I70ca12e77245ffcfc4aca5582f4bfac347ed6bed\nPartial-Bug: #1841459\n'}]",0,703207,4d5ff46c0fdc29737790103329fd429cf7f096dd,8,3,2,20805,,,0,"[WIP][RFC][PoC] Fix for NDR testing race conditon

This is WIP and request for comments proof of concept PR.

The root cause seems to be upstream in the dragent. It may never
have been envisioned to run the agent by itself the way the charm does.

So that even if neutron-api completes its amqp relation first,
neutron-dynamic-routing can still see
oslo_messaging.exceptions.MessagingTimeout errors. Some opertion
must occur against neutron before dragent is truly ready. i.e. some post
deploy openstack command. So it is outside the purview of the charm.

This change adds the amqp relation to neutron-dynamic-routing late.
Post-deploy after networks have been configured.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/155
Change-Id: I70ca12e77245ffcfc4aca5582f4bfac347ed6bed
Partial-Bug: #1841459
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/07/703207/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-queens-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'src/tests/bundles/bionic-train-functional.yaml', 'src/tests/bundles/disco-stein-functional.yaml', 'src/tests/bundles/xenial-ocata-functional.yaml', 'src/tests/bundles/bionic-stein-functional.yaml', 'src/tests/bundles/xenial-pike-functional.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-rocky-functional.yaml']",9,d0e5f1b9e7ace398d31d59a5a792f7a80e6ef4ad,bug/1841459,,"- [neutron-dynamic-routing, rabbitmq-server]",4,8
openstack%2Ftripleo-common~stable%2Ftrain~Ic8da92d98656bcea7db5701b44eeadc1d5c87198,openstack/tripleo-common,stable/train,Ic8da92d98656bcea7db5701b44eeadc1d5c87198,Improve error messaging around auth failures,MERGED,2020-01-20 15:24:15.000000000,2020-01-21 18:16:28.000000000,2020-01-21 18:13:19.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 15:24:15.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3e227efe6c3e8d6c08dbaa2e4762b428afa103bb', 'message': ""Improve error messaging around auth failures\n\nRather than just dumping the raw HTTPError exception, we should provide\nsome additional guidance for the end user in the specific case that it's\nstill returning 401 when we attempt to authenticate. Because we retry\nauthentication to reissue tokens, if the authentication ultimately fails\nwith 401 then it points to bad credentials or the container/registry is\nnot actually available. Some registries return 401 instead of a 404.\n\nChange-Id: Ic8da92d98656bcea7db5701b44eeadc1d5c87198\nCloses-Bug: #1860040\n(cherry picked from commit d15d8df6ce4ab2329c1161676e2ceb8bc4467497)\n""}]",0,703423,3e227efe6c3e8d6c08dbaa2e4762b428afa103bb,11,4,1,14985,,,0,"Improve error messaging around auth failures

Rather than just dumping the raw HTTPError exception, we should provide
some additional guidance for the end user in the specific case that it's
still returning 401 when we attempt to authenticate. Because we retry
authentication to reissue tokens, if the authentication ultimately fails
with 401 then it points to bad credentials or the container/registry is
not actually available. Some registries return 401 instead of a 404.

Change-Id: Ic8da92d98656bcea7db5701b44eeadc1d5c87198
Closes-Bug: #1860040
(cherry picked from commit d15d8df6ce4ab2329c1161676e2ceb8bc4467497)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/703423/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,3e227efe6c3e8d6c08dbaa2e4762b428afa103bb,bug/1860040-stable/train," try: session = self.authenticate( image_url, username=username, password=password) except requests.exceptions.HTTPError as e: if e.response.status_code == 401: raise ImageUploaderException( 'Unable to authenticate. This may indicate ' 'missing registry credentials or the provided ' 'container or namespace does not exist. %s' % e) raise try: session = self.authenticate( url, username=username, password=password) except requests.exceptions.HTTPError as e: if e.response.status_code == 401: raise ImageUploaderException( 'Unable to authenticate. This may indicate ' 'missing registry credentials or the provided ' 'container or namespace does not exist. %s' % e) raise try: target_session = self.authenticate( t.target_image_url, username=target_username, password=target_password ) except requests.exceptions.HTTPError as e: if e.response.status_code == 401: raise ImageUploaderException( 'Unable to authenticate. This may indicate ' 'missing registry credentials or the provided ' 'container or namespace does not exist. %s' % e) raise try: source_session = self.authenticate( t.source_image_url, username=source_username, password=source_password ) except requests.exceptions.HTTPError as e: if e.response.status_code == 401: raise ImageUploaderException( 'Unable to authenticate. This may indicate ' 'missing registry credentials or the provided ' 'container or namespace does not exist. %s' % e) raise try: session = self.authenticate( image_url, username=username, password=password) except requests.exceptions.HTTPError as e: if e.response.status_code == 401: raise ImageUploaderException( 'Unable to authenticate. This may indicate ' 'missing registry credentials or the provided ' 'container or namespace does not exist. %s' % e) raise"," session = self.authenticate( image_url, username=username, password=password) session = self.authenticate( url, username=username, password=password) target_session = self.authenticate( t.target_image_url, username=target_username, password=target_password ) source_session = self.authenticate( t.source_image_url, username=source_username, password=source_password ) session = self.authenticate( image_url, username=username, password=password)",94,16
openstack%2Ftripleo-common~stable%2Fstein~I26bb26411f22c34ead1b2bfb2a616ddf65f69489,openstack/tripleo-common,stable/stein,I26bb26411f22c34ead1b2bfb2a616ddf65f69489,Derive network config fails,MERGED,2020-01-21 08:20:01.000000000,2020-01-21 18:14:56.000000000,2020-01-21 18:13:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 08:20:01.000000000', 'files': ['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a71a78cf01c996c9a918cd7defbfea38fe6c2536', 'message': 'Derive network config fails\n\nDerive network config fails for a role when using\nany interface routes with list_concat_unique in network\nconfiguration and no user inputs provided.\n\nChange-Id: I26bb26411f22c34ead1b2bfb2a616ddf65f69489\nCloses-Bug: #1856124\n(cherry picked from commit 81e823c6222b580ca78f4cfa92008e08b9926e1e)\n(cherry picked from commit 9e5bcae62c8bbcd952253a5611c49dd848a091d7)\n'}]",0,703551,a71a78cf01c996c9a918cd7defbfea38fe6c2536,9,6,1,22865,,,0,"Derive network config fails

Derive network config fails for a role when using
any interface routes with list_concat_unique in network
configuration and no user inputs provided.

Change-Id: I26bb26411f22c34ead1b2bfb2a616ddf65f69489
Closes-Bug: #1856124
(cherry picked from commit 81e823c6222b580ca78f4cfa92008e08b9926e1e)
(cherry picked from commit 9e5bcae62c8bbcd952253a5611c49dd848a091d7)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/703551/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py']",2,a71a78cf01c996c9a918cd7defbfea38fe6c2536,derive-network-config-issue-stable/train-stable/stein," # Default temporary value is used when no user input for any # interface routes for the role networks to find network config. role_networks = processed_data['template'].get('resources', {}).get( self.role_name + 'GroupVars', {}).get('properties', {}).get( 'value', {}).get('role_networks', []) for nw in role_networks: rt = nw + 'InterfaceRoutes' if rt not in processed_data['environment']['parameter_defaults']: processed_data['environment']['parameter_defaults'][rt] = [[]] ",,155,0
openstack%2Ftripleo-common~stable%2Fqueens~I26bb26411f22c34ead1b2bfb2a616ddf65f69489,openstack/tripleo-common,stable/queens,I26bb26411f22c34ead1b2bfb2a616ddf65f69489,Derive network config fails,MERGED,2020-01-21 08:20:29.000000000,2020-01-21 18:13:22.000000000,2020-01-21 18:13:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 08:20:29.000000000', 'files': ['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55d0701f58e7d4de575f2319e89560b23e49554b', 'message': 'Derive network config fails\n\nDerive network config fails for a role when using\nany interface routes with list_concat_unique in network\nconfiguration and no user inputs provided.\n\nChange-Id: I26bb26411f22c34ead1b2bfb2a616ddf65f69489\nCloses-Bug: #1856124\n(cherry picked from commit 81e823c6222b580ca78f4cfa92008e08b9926e1e)\n(cherry picked from commit 9e5bcae62c8bbcd952253a5611c49dd848a091d7)\n'}]",0,703553,55d0701f58e7d4de575f2319e89560b23e49554b,7,6,1,22865,,,0,"Derive network config fails

Derive network config fails for a role when using
any interface routes with list_concat_unique in network
configuration and no user inputs provided.

Change-Id: I26bb26411f22c34ead1b2bfb2a616ddf65f69489
Closes-Bug: #1856124
(cherry picked from commit 81e823c6222b580ca78f4cfa92008e08b9926e1e)
(cherry picked from commit 9e5bcae62c8bbcd952253a5611c49dd848a091d7)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/703553/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py']",2,55d0701f58e7d4de575f2319e89560b23e49554b,derive-network-config-issue-stable/train-stable/stein-stable/rocky-stable/queens," # Default temporary value is used when no user input for any # interface routes for the role networks to find network config. role_networks = processed_data['template'].get('resources', {}).get( self.role_name + 'GroupVars', {}).get('properties', {}).get( 'value', {}).get('role_networks', []) for nw in role_networks: rt = nw + 'InterfaceRoutes' if rt not in processed_data['environment']['parameter_defaults']: processed_data['environment']['parameter_defaults'][rt] = [[]] ",,155,0
openstack%2Ftripleo-common~stable%2Frocky~I26bb26411f22c34ead1b2bfb2a616ddf65f69489,openstack/tripleo-common,stable/rocky,I26bb26411f22c34ead1b2bfb2a616ddf65f69489,Derive network config fails,MERGED,2020-01-21 08:20:15.000000000,2020-01-21 18:13:21.000000000,2020-01-21 18:13:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 08:20:15.000000000', 'files': ['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fc56cb1192f4ff16a6a20d74d63b6d0c81a0ab91', 'message': 'Derive network config fails\n\nDerive network config fails for a role when using\nany interface routes with list_concat_unique in network\nconfiguration and no user inputs provided.\n\nChange-Id: I26bb26411f22c34ead1b2bfb2a616ddf65f69489\nCloses-Bug: #1856124\n(cherry picked from commit 81e823c6222b580ca78f4cfa92008e08b9926e1e)\n(cherry picked from commit 9e5bcae62c8bbcd952253a5611c49dd848a091d7)\n'}]",0,703552,fc56cb1192f4ff16a6a20d74d63b6d0c81a0ab91,8,6,1,22865,,,0,"Derive network config fails

Derive network config fails for a role when using
any interface routes with list_concat_unique in network
configuration and no user inputs provided.

Change-Id: I26bb26411f22c34ead1b2bfb2a616ddf65f69489
Closes-Bug: #1856124
(cherry picked from commit 81e823c6222b580ca78f4cfa92008e08b9926e1e)
(cherry picked from commit 9e5bcae62c8bbcd952253a5611c49dd848a091d7)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/703552/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py']",2,fc56cb1192f4ff16a6a20d74d63b6d0c81a0ab91,derive-network-config-issue-stable/train-stable/stein-stable/rocky," # Default temporary value is used when no user input for any # interface routes for the role networks to find network config. role_networks = processed_data['template'].get('resources', {}).get( self.role_name + 'GroupVars', {}).get('properties', {}).get( 'value', {}).get('role_networks', []) for nw in role_networks: rt = nw + 'InterfaceRoutes' if rt not in processed_data['environment']['parameter_defaults']: processed_data['environment']['parameter_defaults'][rt] = [[]] ",,155,0
openstack%2Fkuryr-kubernetes~master~I4d9f754e30e66825711d21d9e5f711f8dc870783,openstack/kuryr-kubernetes,master,I4d9f754e30e66825711d21d9e5f711f8dc870783,Update lbaasv2 driver to use OpenStackSDK.,MERGED,2019-11-29 07:51:08.000000000,2020-01-21 18:08:53.000000000,2020-01-21 18:06:30.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-29 07:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/380fab7a155b8c7b02d066dd79614035d0e48b7b', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 2, 'created': '2019-11-29 14:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f4f50d6fcb77eff10005f9d360426842e4e90258', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 3, 'created': '2019-12-03 12:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8aba7b9c67dfabe1860c2e643db361d094fa7a03', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 4, 'created': '2019-12-04 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/13b555c2b537e084e302db8ffef8828fdbcd0f96', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 5, 'created': '2019-12-16 07:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bfc6dd035a18272e206dfb25785a6fba689958e7', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 6, 'created': '2019-12-17 13:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/47ebe37d8c25e7763513a59c3db09d361cd11914', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 7, 'created': '2019-12-17 18:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a124da844b11b020b6566fbf7b5189e9290c9b32', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 8, 'created': '2019-12-19 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f1e11b187cb1c007681e7e14db8efca4587f1672', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 9, 'created': '2019-12-23 17:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b50913a10568e80c786a823e7567841e7384d733', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 10, 'created': '2020-01-03 08:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4c38514d47d2cad7948c3d0c7dbfd400a8e63bd3', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 11, 'created': '2020-01-13 09:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9788f18cd5dcfbcb7f0efe9ab2cf5d147b04d2d5', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 12, 'created': '2020-01-14 09:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2ad800b3b37e4fac48fa9294f46f629c98d49441', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 13, 'created': '2020-01-17 08:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a82a4d787b28591273f6383760f2377f32d3ce8c', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 14, 'created': '2020-01-20 09:08:12.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/687642eef5778d1e65b311f0a601f44a0cf53069', 'message': 'Update lbaasv2 driver to use OpenStackSDK.\n\nChange-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783\nImplements: blueprint switch-to-openstacksdk\n'}]",17,696654,687642eef5778d1e65b311f0a601f44a0cf53069,71,6,14,13692,,,0,"Update lbaasv2 driver to use OpenStackSDK.

Change-Id: I4d9f754e30e66825711d21d9e5f711f8dc870783
Implements: blueprint switch-to-openstacksdk
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/54/696654/10 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py']",2,380fab7a155b8c7b02d066dd79614035d0e48b7b,bp/switch-to-openstacksdk,"from openstack import exceptions as os_exc os_net = clients.get_network_client() os_net.delete_security_group(sg_id) except os_exc.SDKException: os_net = clients.get_network_client() sg = os_net.create_security_group( name=loadbalancer.name, project_id=loadbalancer.project_id) c_utils.tag_neutron_resources('security-groups', [sg.id]) os_net.update_port(vip_port.id, security_groups=[sg.id]) os_net.create_security_group_rule(direction='ingress', port_range_min=listener.port, port_range_max=listener.port, protocol=listener.protocol, security_group_id=sg.id, description=listener.name) except os_exc.ConflictException: LOG.exception('Failed when creating security group rule for ' 'listener %s.', listener.name) except os_exc.SDKException: pass os_net = clients.get_network_client() lb_sg = vip_port.security_group_ids[0] lbaas_sg_rules = os_net.security_group_rules(security_group_id=lb_sg) rules = os_net.list_security_group_rules(security_group_id=sg) for rule in rules: if (rule.protocol == protocol.lower() and rule.direction == 'ingress'): min_port = rule.port_range_min max_port = rule.port_range_max os_net.create_security_group_rule( direction='ingress', port_range_min=port, port_range_max=port, protocol=protocol, remote_ip_prefix=rule.remote_ip_prefix, security_group_id=lb_sg, description=sg_rule_name) except os_exc.ConflictException: LOG.exception('Failed when creating security ' 'group rule for listener %s.', sg_rule_name) except os_exc.SDKException: pass for rule in lbaas_sg_rules: if (rule.protocol != protocol.lower() or rule.port_range_min != port or rule.direction != 'ingress'): os_net.delete_security_group_rule(rule.id) os_net.create_security_group_rule(direction='ingress', port_range_min=port, port_range_max=port, protocol=protocol, security_group_id=lb_sg, description=sg_rule_name) except os_exc.ConflictException: LOG.exception('Failed when creating security group rule for ' 'listener %s.', sg_rule_name) except os_exc.SDKException: pass os_net = clients.get_network_client() LOG.debug(""Deleting sg rule: %r"", rule.id) os_net.delete_security_group_rule(rule.id) os_net = clients.get_network_client() listener_rules = os_net.security_group_rules( for rule in listener_rules: if not (rule.remote_group_id or rule.remote_ip_prefix): os_net.delete_security_group_rule(rule.id) os_net = clients.get_network_client() sg = os_net.create_security_group( name=loadbalancer.name, project_id=loadbalancer.project_id) c_utils.tag_neutron_resources('security-groups', [sg.id]) loadbalancer.security_groups.append(sg.id) os_net.update_port( vip_port.id, security_groups=loadbalancer.security_groups) else: sg_id = self._get_vip_port(loadbalancer).security_group_ids[0] os_net.create_security_group_rule( direction='ingress', port_range_min=listener.port, port_range_max=listener.port, protocol=listener.protocol, security_group_id=sg_id, remote_group_id=sg, description=listener.name) except os_exc.ConflictException: LOG.exception('Failed when creating security group ' 'rule for listener %s.', listener.name) except os_exc.SDKException: pass os_net.create_security_group_rule( direction='ingress', port_range_min=listener.port, port_range_max=listener.port, protocol=listener.protocol, security_group_id=sg_id, remote_ip_prefix=service_subnet_cidr, description=listener.name) os_net.create_security_group_rule( direction='ingress', port_range_min=listener.port, port_range_max=listener.port, protocol=listener.protocol, security_group_id=sg_id, remote_ip_prefix=worker_subnet_cidr, description=listener.name) except os_exc.ConflictExceptionas: LOG.exception('Failed when creating security group rule to ' 'enable routes for listener %s.', listener.name) except os_exc.SDKException: pass os_net = clients.get_network_client() sg_id = self._get_vip_port(loadbalancer).security_group_ids[0] if sg_id: rules = os_net.security_group_rules(security_group_id=sg_id, description=listener.name) try: os_net.delete_security_group_rule(next(rules).id) except StopIteration: os_net = clients.get_network_client() ports = os_net.ports(fixed_ips=fixed_ips) except os_exc.SDKException: try: return next(ports) except StopIteration: return None loadbalancer.port_id = self._get_vip_port(loadbalancer).id except os_exc.HttpException as e: except (os_exc.ConflictException, os_exc.BadRequestException): except os_exc.NotFoundException: except os_exc.ResourceNotFound: os_net = clients.get_network_client() if lb_name: sgs = os_net.security_groups(name=lb_name, project_id=loadbalancer.project_id) sg_id = next(sgs).id except StopIteration: sgs = os_net.security_groups(name=loadbalancer.name, project_id=loadbalancer.project_id) for sg in sgs: if sg.id in loadbalancer.security_groups: return sg.id except os_exc.SDKException: except os_exc.ResourceNotFound: except os_exc.SDKException:","from neutronclient.common import exceptions as n_exc from openstack import exceptions as o_exc neutron = clients.get_neutron_client() neutron.delete_security_group(sg_id) except n_exc.NotFound: LOG.debug('Security group %s already deleted', sg_id) except n_exc.NeutronClientException: neutron = clients.get_neutron_client() sg = neutron.create_security_group({ 'security_group': { 'name': loadbalancer.name, 'project_id': loadbalancer.project_id, }, }) sg_id = sg['security_group']['id'] c_utils.tag_neutron_resources('security-groups', [sg_id]) neutron.update_port( vip_port.get('id'), {'port': { 'security_groups': [sg_id]}}) neutron.create_security_group_rule({ 'security_group_rule': { 'direction': 'ingress', 'port_range_min': listener.port, 'port_range_max': listener.port, 'protocol': listener.protocol, 'security_group_id': sg_id, 'description': listener.name, }, }) except n_exc.NeutronClientException as ex: if ex.status_code != requests.codes.conflict: LOG.exception('Failed when creating security group rule ' 'for listener %s.', listener.name) neutron = clients.get_neutron_client() lb_sg = vip_port.get('security_groups')[0] lbaas_sg_rules = neutron.list_security_group_rules( security_group_id=lb_sg) rules = neutron.list_security_group_rules( security_group_id=sg) for rule in rules['security_group_rules']: if (rule['protocol'] == protocol.lower() and rule['direction'] == 'ingress'): min_port = rule.get('port_range_min') max_port = rule.get('port_range_max') neutron.create_security_group_rule({ 'security_group_rule': { 'direction': 'ingress', 'port_range_min': port, 'port_range_max': port, 'protocol': protocol, 'remote_ip_prefix': rule[ 'remote_ip_prefix'], 'security_group_id': lb_sg, 'description': sg_rule_name, }, }) except n_exc.NeutronClientException as ex: if ex.status_code != requests.codes.conflict: LOG.exception('Failed when creating security ' 'group rule for listener %s.', sg_rule_name) for rule in lbaas_sg_rules['security_group_rules']: if (rule.get('protocol') != protocol.lower() or rule.get('port_range_min') != port or rule.get('direction') != 'ingress'): neutron.delete_security_group_rule(rule['id']) neutron.create_security_group_rule({ 'security_group_rule': { 'direction': 'ingress', 'port_range_min': port, 'port_range_max': port, 'protocol': protocol, 'security_group_id': lb_sg, 'description': sg_rule_name, }, }) except n_exc.NeutronClientException as ex: if ex.status_code != requests.codes.conflict: LOG.exception('Failed when creating security ' 'group rule for listener %s.', sg_rule_name) neutron = clients.get_neutron_client() LOG.debug(""Deleting sg rule: %r"", rule['id']) neutron.delete_security_group_rule(rule['id']) neutron = clients.get_neutron_client() listener_rules = neutron.list_security_group_rules( for rule in listener_rules['security_group_rules']: if not (rule.get('remote_group_id') or rule.get('remote_ip_prefix')): neutron.delete_security_group_rule(rule['id']) neutron = clients.get_neutron_client() sg = neutron.create_security_group({ 'security_group': { 'name': loadbalancer.name, 'project_id': loadbalancer.project_id, }, }) sg_id = sg['security_group']['id'] c_utils.tag_neutron_resources('security-groups', [sg_id]) loadbalancer.security_groups.append(sg_id) neutron.update_port( vip_port.get('id'), {'port': { 'security_groups': loadbalancer.security_groups}}) else: sg_id = self._get_vip_port(loadbalancer).get('security_groups')[0] neutron.create_security_group_rule({ 'security_group_rule': { 'direction': 'ingress', 'port_range_min': listener.port, 'port_range_max': listener.port, 'protocol': listener.protocol, 'security_group_id': sg_id, 'remote_group_id': sg, 'description': listener.name, }, }) except n_exc.NeutronClientException as ex: if ex.status_code != requests.codes.conflict: LOG.exception('Failed when creating security group ' 'rule for listener %s.', listener.name) neutron.create_security_group_rule({ 'security_group_rule': { 'direction': 'ingress', 'port_range_min': listener.port, 'port_range_max': listener.port, 'protocol': listener.protocol, 'security_group_id': sg_id, 'remote_ip_prefix': service_subnet_cidr, 'description': listener.name, }, }) neutron.create_security_group_rule({ 'security_group_rule': { 'direction': 'ingress', 'port_range_min': listener.port, 'port_range_max': listener.port, 'protocol': listener.protocol, 'security_group_id': sg_id, 'remote_ip_prefix': worker_subnet_cidr, 'description': listener.name, }, }) except n_exc.NeutronClientException as ex: if ex.status_code != requests.codes.conflict: LOG.exception('Failed when creating security group rule ' 'to enable routes for listener %s.', listener.name) neutron = clients.get_neutron_client() sg_id = self._get_vip_port(loadbalancer).get('security_groups')[0] if sg_id: rules = neutron.list_security_group_rules( security_group_id=sg_id, description=listener.name) rules = rules['security_group_rules'] if len(rules): neutron.delete_security_group_rule(rules[0]['id']) else: neutron = clients.get_neutron_client() ports = neutron.list_ports(fixed_ips=fixed_ips) except n_exc.NeutronClientException: if ports['ports']: return ports['ports'][0] return None loadbalancer.port_id = self._get_vip_port(loadbalancer).get(""id"") except o_exc.HttpException as e: except (o_exc.ConflictException, o_exc.BadRequestException): except o_exc.NotFoundException: except o_exc.NotFoundException: neutron = clients.get_neutron_client() if lb_name: sgs = neutron.list_security_groups( name=lb_name, project_id=loadbalancer.project_id) sg_id = sgs['security_groups'][0]['id'] except IndexError: sgs = neutron.list_security_groups( name=loadbalancer.name, project_id=loadbalancer.project_id) for sg in sgs['security_groups']: sg_id = sg['id'] if sg_id in loadbalancer.security_groups: return sg_id except n_exc.NeutronClientException: except o_exc.NotFoundException: except o_exc.SDKException:",163,200
openstack%2Fbarbican~master~I3637cd174ee3d7b31b148c3b86f7c8e0ab4472c9,openstack/barbican,master,I3637cd174ee3d7b31b148c3b86f7c8e0ab4472c9,Add Secret Consumer Controllers and their tests,MERGED,2019-09-25 13:56:56.000000000,2020-01-21 17:56:05.000000000,2020-01-17 15:12:33.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27665}, {'_account_id': 27954}]","[{'number': 1, 'created': '2019-09-25 13:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/de60b6ed41c68fcf35055a61c02bf340fcaffdb0', 'message': 'Add Secret Consumer Controllers and their tests\n\nThis patch is part of a series to implement the Secret Consumers spec:\nhttps://specs.openstack.org/openstack/barbican-specs/specs/train/secret-consumers.html\n\nChange-Id: I3637cd174ee3d7b31b148c3b86f7c8e0ab4472c9\nSigned-off-by: Moises Guimaraes de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2019-09-26 13:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/94c3536bc6baac4a9f20c7e491e0f10667d293e6', 'message': 'Add Secret Consumer Controllers and their tests\n\nThis patch is part of a series to implement the Secret Consumers spec:\nhttps://specs.openstack.org/openstack/barbican-specs/specs/train/secret-consumers.html\n\nFix _do_extra_dict_fields() in models.Secret to returns consumers.\n\nChange-Id: I3637cd174ee3d7b31b148c3b86f7c8e0ab4472c9\nSigned-off-by: Moises Guimaraes de Medeiros <moguimar@redhat.com>\n'}, {'number': 3, 'created': '2019-09-26 14:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/497cc961933fa73f8d8244d8a35017868b1240f9', 'message': 'Add Secret Consumer Controllers and their tests\n\nThis patch is part of a series to implement the Secret Consumers spec:\nhttps://specs.openstack.org/openstack/barbican-specs/specs/train/secret-consumers.html\n\nFix _do_extra_dict_fields() in models.Secret to returns consumers.\n\nChange-Id: I3637cd174ee3d7b31b148c3b86f7c8e0ab4472c9\nSigned-off-by: Moises Guimaraes de Medeiros <moguimar@redhat.com>\n'}, {'number': 4, 'created': '2019-09-27 12:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/bb0c35177006295e7bf23b881267f2d4b097fa81', 'message': 'Add Secret Consumer Controllers and their tests\n\nThis patch is part of a series to implement the Secret Consumers spec:\nhttps://specs.openstack.org/openstack/barbican-specs/specs/train/secret-consumers.html\n\nFix _do_extra_dict_fields() in models.Secret to returns consumers.\n\nChange-Id: I3637cd174ee3d7b31b148c3b86f7c8e0ab4472c9\nSigned-off-by: Moises Guimaraes de Medeiros <moguimar@redhat.com>\n'}, {'number': 5, 'created': '2019-09-30 12:51:49.000000000', 'files': ['barbican/api/controllers/secrets.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/tests/api/controllers/test_consumers.py', 'barbican/model/models.py', 'barbican/api/controllers/consumers.py', 'barbican/tests/utils.py', 'functionaltests/api/v1/models/secret_models.py', 'barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/21ea22b7cb745e7f040728a0afd9e18c7ce78ff9', 'message': 'Add Secret Consumer Controllers and their tests\n\nThis patch is part of a series to implement the Secret Consumers spec:\nhttps://specs.openstack.org/openstack/barbican-specs/specs/train/secret-consumers.html\n\nFix _do_extra_dict_fields() in models.Secret to returns consumers.\n\nChange-Id: I3637cd174ee3d7b31b148c3b86f7c8e0ab4472c9\nSigned-off-by: Moises Guimaraes de Medeiros <moguimar@redhat.com>\n'}]",4,684753,21ea22b7cb745e7f040728a0afd9e18c7ce78ff9,27,6,5,27954,,,0,"Add Secret Consumer Controllers and their tests

This patch is part of a series to implement the Secret Consumers spec:
https://specs.openstack.org/openstack/barbican-specs/specs/train/secret-consumers.html

Fix _do_extra_dict_fields() in models.Secret to returns consumers.

Change-Id: I3637cd174ee3d7b31b148c3b86f7c8e0ab4472c9
Signed-off-by: Moises Guimaraes de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/barbican refs/changes/53/684753/5 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/api/controllers/secrets.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/api/controllers/consumers.py', 'barbican/tests/utils.py', 'barbican/tests/api/test_resources.py']",5,de60b6ed41c68fcf35055a61c02bf340fcaffdb0,secret-consumers," algorithm=None, bit_length=None, mode=None, encrypted_datum=None, content_type=None, project_id=None): info = { 'id': id_ref, 'name': name, 'algorithm': algorithm, 'bit_length': bit_length, 'mode': mode, 'project_id': project_id, }def create_secret_consumer(secret_id, project_id, id_ref): """"""Generate a SecretConsumerMetadatum entity instance."""""" consumer = models.SecretConsumerMetadatum( secret_id, project_id, ""service"", ""resource_type"", ""resource_id"", ) consumer.id = id_ref return consumer class WhenGettingOrDeletingSecretConsumersUsingResource(FunctionalTest): def setUp(self): super( WhenGettingOrDeletingSecretConsumersUsingResource, self ).setUp() self.app = webtest.TestApp(app.build_wsgi_app(self.root)) self.app.extra_environ = get_barbican_env(self.external_project_id) @property def root(self): self._init() class RootController(object): secrets = controllers.secrets.SecretsController() return RootController() def _init(self): self.external_project_id = 'keystoneid1234' self.project_internal_id = 'projectid1234' # Set up mocked project self.project = models.Project() self.project.id = self.project_internal_id self.project.external_id = self.external_project_id # Set up mocked secret self.secret = models.Secret() self.secret.id = utils.generate_test_valid_uuid() self.secret.project = self.project self.secret.project_id = self.project_internal_id # Set up mocked consumers self.consumer = create_secret_consumer( self.secret.id, self.project_internal_id, id_ref=utils.generate_test_valid_uuid()) self.consumer2 = create_secret_consumer( self.secret.id, self.project_internal_id, id_ref=utils.generate_test_valid_uuid()) self.consumer_ref = { ""service"": self.consumer.service, ""resource_type"": self.consumer.resource_type, ""resource_id"": self.consumer.resource_type, } # Set up mocked project repo self.project_repo = mock.MagicMock() self.project_repo.get.return_value = self.project self.setup_project_repository_mock(self.project_repo) # Set up mocked secret repo self.secret_repo = mock.MagicMock() self.secret_repo.get_secret_by_id.return_value = self.secret self.setup_secret_repository_mock(self.secret_repo) # Set up mocked secret meta repo self.secret_meta_repo = mock.MagicMock() self.secret_meta_repo.get_metadata_for_secret.return_value = None self.setup_secret_meta_repository_mock(self.secret_meta_repo) # Set up mocked secret consumer repo self.consumer_repo = mock.MagicMock() self.consumer_repo.get_by_values.return_value = self.consumer self.consumer_repo.delete_entity_by_id.return_value = None self.setup_secret_consumer_repository_mock(self.consumer_repo) def test_should_get_consumer(self): ret_val = ([self.consumer], 0, 0, 1) self.consumer_repo.get_by_secret_id.return_value = ret_val resp = self.app.get('/secrets/{0}/consumers/'.format( self.secret.id )) self.assertEqual(200, resp.status_int) self.consumer_repo.get_by_secret_id.assert_called_once_with( self.secret.id, limit_arg=None, offset_arg=0, suppress_exception=True ) self.assertEqual( self.consumer.service, resp.json[""consumers""][0][""service""], ) self.assertEqual( self.consumer.resource_type, resp.json[""consumers""][0][""resource_type""] ) self.assertEqual( self.consumer.resource_id, resp.json[""consumers""][0][""resource_id""] ) def test_should_404_when_secret_ref_doesnt_exist(self): self.secret_repo.get_secret_by_id.return_value = None resp = self.app.get('/secrets/{0}/consumers/'.format( 'bad_id' ), expect_errors=True) self.assertEqual(404, resp.status_int) def test_should_get_consumer_by_id(self): self.consumer_repo.get.return_value = self.consumer resp = self.app.get('/secrets/{0}/consumers/{1}/'.format( self.secret.id, self.consumer.id )) self.assertEqual(200, resp.status_int) def test_should_404_with_bad_consumer_id(self): self.consumer_repo.get.return_value = None resp = self.app.get('/secrets/{0}/consumers/{1}/'.format( self.secret.id, 'bad_id' ), expect_errors=True) self.assertEqual(404, resp.status_int) def test_should_get_no_consumers(self): self.consumer_repo.get_by_secret_id.return_value = ([], 0, 0, 0) resp = self.app.get('/secrets/{0}/consumers/'.format( self.secret.id )) self.assertEqual(200, resp.status_int) def test_should_delete_consumer(self): self.app.delete_json('/secrets/{0}/consumers/'.format( self.secret.id ), self.consumer_ref) self.consumer_repo.delete_entity_by_id.assert_called_once_with( self.consumer.id, self.external_project_id) def test_should_fail_deleting_consumer_bad_json(self): resp = self.app.delete( '/secrets/{0}/consumers/'.format(self.secret.id), '', expect_errors=True ) self.assertEqual(415, resp.status_int) def test_should_404_on_delete_when_consumer_not_found(self): old_return = self.consumer_repo.get_by_values.return_value self.consumer_repo.get_by_values.return_value = None resp = self.app.delete_json('/secrets/{0}/consumers/'.format( self.secret.id ), self.consumer_ref, expect_errors=True) self.consumer_repo.get_by_values.return_value = old_return self.assertEqual(404, resp.status_int) # Error response should have json content type self.assertEqual(""application/json"", resp.content_type) def test_should_404_on_delete_when_consumer_not_found_later(self): self.consumer_repo.delete_entity_by_id.side_effect = excep.NotFound() resp = self.app.delete_json('/secrets/{0}/consumers/'.format( self.secret.id ), self.consumer_ref, expect_errors=True) self.consumer_repo.delete_entity_by_id.side_effect = None self.assertEqual(404, resp.status_int) # Error response should have json content type self.assertEqual(""application/json"", resp.content_type) def test_should_delete_consumers_on_secret_delete(self): consumers = [self.consumer, self.consumer2] ret_val = (consumers, 0, 0, 1) self.consumer_repo.get_by_secret_id.return_value = ret_val resp = self.app.delete( '/secrets/{0}/'.format(self.secret.id) ) self.assertEqual(204, resp.status_int) # Verify consumers were deleted calls = [] for consumer in consumers: calls.append(mock.call(consumer.id, self.external_project_id)) self.consumer_repo.delete_entity_by_id.assert_has_calls( calls, any_order=True ) def test_should_pass_on_secret_delete_with_missing_consumers(self): consumers = [self.consumer, self.consumer2] ret_val = (consumers, 0, 0, 1) self.consumer_repo.get_by_secret_id.return_value = ret_val self.consumer_repo.delete_entity_by_id.side_effect = excep.NotFound resp = self.app.delete( '/secrets/{0}/'.format(self.secret.id) ) self.assertEqual(204, resp.status_int) # Verify consumers were deleted calls = [] for consumer in consumers: calls.append(mock.call(consumer.id, self.external_project_id)) self.consumer_repo.delete_entity_by_id.assert_has_calls( calls, any_order=True ) class WhenPerformingUnallowedOperationsOnSecretConsumers(FunctionalTest): def setUp(self): super( WhenPerformingUnallowedOperationsOnSecretConsumers, self ).setUp() self.app = webtest.TestApp(app.build_wsgi_app(self.root)) self.app.extra_environ = get_barbican_env(self.external_project_id) @property def root(self): self._init() class RootController(object): secrets = controllers.secrets.SecretsController() return RootController() def _init(self): self.external_project_id = 'keystoneid1234' self.project_internal_id = 'projectid1234' # Set up mocked project self.project = models.Project() self.project.id = self.project_internal_id self.project.external_id = self.external_project_id # Set up mocked secret self.secret = models.Secret() self.secret.id = utils.generate_test_valid_uuid() self.secret.project_id = self.project_internal_id # Set up mocked secret consumers self.consumer = create_secret_consumer( self.secret.id, self.project_internal_id, id_ref=utils.generate_test_valid_uuid()) self.consumer_ref = { ""service"": self.consumer.service, ""resource_type"": self.consumer.resource_type, ""resource_id"": self.consumer.resource_type, } # Set up mocked project repo self.project_repo = mock.MagicMock() self.project_repo.get.return_value = self.project self.setup_project_repository_mock(self.project_repo) # Set up secret repo self.secret_repo = mock.MagicMock() self.secret_repo.get_secret_by_id.return_value = self.secret self.setup_secret_repository_mock(self.secret_repo) # Set up secret consumer repo self.consumer_repo = mock.MagicMock() self.consumer_repo.get_by_values.return_value = self.consumer self.consumer_repo.delete_entity_by_id.return_value = None self.setup_secret_consumer_repository_mock(self.consumer_repo) def test_should_not_allow_put_on_consumers(self): ret_val = ([self.consumer], 0, 0, 1) self.consumer_repo.get_by_secret_id.return_value = ret_val resp = self.app.put_json( '/secrets/{0}/consumers/'.format(self.secret.id), self.consumer_ref, expect_errors=True ) self.assertEqual(405, resp.status_int) def test_should_not_allow_post_on_consumer_by_id(self): self.consumer_repo.get.return_value = self.consumer resp = self.app.post_json( '/secrets/{0}/consumers/{1}/'.format(self.secret.id, self.consumer.id), self.consumer_ref, expect_errors=True ) self.assertEqual(405, resp.status_int) def test_should_not_allow_put_on_consumer_by_id(self): self.consumer_repo.get.return_value = self.consumer resp = self.app.put_json( '/secrets/{0}/consumers/{1}/'.format(self.secret.id, self.consumer.id), self.consumer_ref, expect_errors=True ) self.assertEqual(405, resp.status_int) def test_should_not_allow_delete_on_consumer_by_id(self): self.consumer_repo.get.return_value = self.consumer resp = self.app.delete( '/secrets/{0}/consumers/{1}/'.format(self.secret.id, self.consumer.id), expect_errors=True ) self.assertEqual(405, resp.status_int) class WhenOwnershipMismatchSecretConsumer(FunctionalTest): def setUp(self): super( WhenOwnershipMismatchSecretConsumer, self ).setUp() self.app = webtest.TestApp(app.build_wsgi_app(self.root)) self.app.extra_environ = get_barbican_env(self.external_project_id) @property def root(self): self._init() class RootController(object): secrets = controllers.secrets.SecretsController() return RootController() def _init(self): self.external_project_id = 'keystoneid1234' self.project_internal_id = 'projectid1234' # Set up mocked project self.project = models.Project() self.project.id = self.project_internal_id self.project.external_id = self.external_project_id # Set up mocked secret self.secret = models.Secret() self.secret.id = utils.generate_test_valid_uuid() self.secret.project = models.Project() self.secret.project.external_id = ""differentProjectId"" # Set up mocked consumer self.consumer = create_secret_consumer(self.secret.id, self.project_internal_id, id_ref='consumerid1234') self.consumer_ref = { ""service"": self.consumer.service, ""resource_type"": self.consumer.resource_type, ""resource_id"": self.consumer.resource_type, } # Set up mocked project repo self.project_repo = mock.MagicMock() self.project_repo.get.return_value = self.project self.setup_project_repository_mock(self.project_repo) # Set up mocked secret repo self.secret_repo = mock.MagicMock() self.secret_repo.get.return_value = self.secret self.secret_repo.get_secret_by_id.return_value = self.secret self.setup_secret_repository_mock(self.secret_repo) # Set up mocked secret consumer repo self.consumer_repo = mock.MagicMock() self.consumer_repo.get_by_values.return_value = self.consumer self.consumer_repo.delete_entity_by_id.return_value = None self.setup_secret_consumer_repository_mock(self.consumer_repo) def test_consumer_check_ownership_mismatch(self): resp = self.app.delete_json( '/secrets/{0}/consumers/'.format(self.secret.id), self.consumer_ref, expect_errors=True) self.assertEqual(403, resp.status_int)"," algorithm=None, bit_length=None, mode=None, encrypted_datum=None, content_type=None): info = {'id': id_ref, 'name': name, 'algorithm': algorithm, 'bit_length': bit_length, 'mode': mode}",707,14
openstack%2Fkolla~master~Iaa67b65edc88fdcbebd4bdbfe25fe66e6cde3c65,openstack/kolla,master,Iaa67b65edc88fdcbebd4bdbfe25fe66e6cde3c65,"Revert ""Pin rabbitmq-server to 3.7.10""",ABANDONED,2019-02-01 13:06:10.000000000,2020-01-21 17:56:00.000000000,,"[{'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}]","[{'number': 1, 'created': '2019-02-01 13:06:10.000000000', 'files': ['docker/rabbitmq/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/36b20484b2b146a78ef578c4b993499d6c9f6566', 'message': 'Revert ""Pin rabbitmq-server to 3.7.10""\n\nThis reverts commit cfbcf830f04604b3628e999acc78a45dcebd27c2.\n\nChange-Id: Iaa67b65edc88fdcbebd4bdbfe25fe66e6cde3c65\n'}]",0,634402,36b20484b2b146a78ef578c4b993499d6c9f6566,9,6,1,13039,,,0,"Revert ""Pin rabbitmq-server to 3.7.10""

This reverts commit cfbcf830f04604b3628e999acc78a45dcebd27c2.

Change-Id: Iaa67b65edc88fdcbebd4bdbfe25fe66e6cde3c65
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/634402/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/rabbitmq/Dockerfile.j2'],1,36b20484b2b146a78ef578c4b993499d6c9f6566,bug/1814233, 'rabbitmq-server',# NOTE(mandre) Remove rabbitmq-server pinning once package dependencies are met # https://bugs.launchpad.net/kolla/+bug/1814233 'rabbitmq-server-3.7.10',1,3
openstack%2Fironic-python-agent-builder~master~Ide0d23d3834c52edcbc569c05ce95ba78e1bf73d,openstack/ironic-python-agent-builder,master,Ide0d23d3834c52edcbc569c05ce95ba78e1bf73d,DIB: replace targetcli with target-restore on RHEL/CentOS 8,MERGED,2020-01-09 12:26:41.000000000,2020-01-21 17:53:09.000000000,2020-01-21 17:51:21.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-09 12:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/e566ee9554c3d45c4c1e1a759276c396e93df09c', 'message': 'DNM try removing libX11\n\nChange-Id: Ide0d23d3834c52edcbc569c05ce95ba78e1bf73d\n'}, {'number': 2, 'created': '2020-01-10 12:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/5947fb1f3ad604eb25af77e7939eba2593c10774', 'message': 'DIB: stop installing targetcli on RHEL/CentOS 8\n\nThese systems use LIO via python-rtslib, and targetcli depends\non libX11 and other GUI packages.\n\nChange-Id: Ide0d23d3834c52edcbc569c05ce95ba78e1bf73d\n'}, {'number': 3, 'created': '2020-01-10 12:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ca2587df9462e01b7dd72064b5d021df17f6e95b', 'message': 'DIB: stop installing targetcli on RHEL/CentOS 8\n\nThese systems use LIO via python-rtslib, and targetcli depends\non libX11 and other GUI packages.\n\nChange-Id: Ide0d23d3834c52edcbc569c05ce95ba78e1bf73d\n'}, {'number': 4, 'created': '2020-01-10 16:26:00.000000000', 'files': ['dib/ironic-python-agent-ramdisk/pkg-map'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/07cdd87bed9d425d874755f138e6a73e18214ec5', 'message': 'DIB: replace targetcli with target-restore on RHEL/CentOS 8\n\nThese systems use LIO via python-rtslib, and targetcli depends\non libX11 and other GUI packages. The target-restore package\n(coming from python-rtslib) is enough to create the necessary\ndirectories (e.g. /etc/target).\n\nChange-Id: Ide0d23d3834c52edcbc569c05ce95ba78e1bf73d\n'}]",0,701719,07cdd87bed9d425d874755f138e6a73e18214ec5,30,5,4,10239,,,0,"DIB: replace targetcli with target-restore on RHEL/CentOS 8

These systems use LIO via python-rtslib, and targetcli depends
on libX11 and other GUI packages. The target-restore package
(coming from python-rtslib) is enough to create the necessary
directories (e.g. /etc/target).

Change-Id: Ide0d23d3834c52edcbc569c05ce95ba78e1bf73d
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/19/701719/3 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/post-install.d/99-remove-extra-packages'],1,e566ee9554c3d45c4c1e1a759276c396e93df09c,targetcli,dnf remove -y libX11 ,,2,0
openstack%2Fironic~stable%2Ftrain~Ibd93bb255d5664a431f9be9c39c9fc8c67ff7608,openstack/ironic,stable/train,Ibd93bb255d5664a431f9be9c39c9fc8c67ff7608,Fix entry paths for cleaning and deployment,MERGED,2020-01-20 08:12:03.000000000,2020-01-21 17:19:16.000000000,2020-01-21 17:16:38.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 08:12:03.000000000', 'files': ['releasenotes/notes/fix-fast-track-entry-path-467c20f97aeb2f4b.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d661f34915198b19c0b913a6cf60f422ddead79c', 'message': 'Fix entry paths for cleaning and deployment\n\nThe explicit removal of agent_url to prevent conflicts...\nturned out to be another issue with fast_track.\n\nChange-Id: Ibd93bb255d5664a431f9be9c39c9fc8c67ff7608\nStory: 2007080\nTask: 37991\n(cherry picked from commit 0a94391e34b7d1caa4e99c81ddf4f651f457795e)\n'}]",0,703337,d661f34915198b19c0b913a6cf60f422ddead79c,28,7,1,23851,,,0,"Fix entry paths for cleaning and deployment

The explicit removal of agent_url to prevent conflicts...
turned out to be another issue with fast_track.

Change-Id: Ibd93bb255d5664a431f9be9c39c9fc8c67ff7608
Story: 2007080
Task: 37991
(cherry picked from commit 0a94391e34b7d1caa4e99c81ddf4f651f457795e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/703337/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-fast-track-entry-path-467c20f97aeb2f4b.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py']",3,d661f34915198b19c0b913a6cf60f422ddead79c,691413-stable/train," @mock.patch('ironic.drivers.modules.fake.FakeDeploy.deploy') @mock.patch('ironic.conductor.utils.remove_agent_url') @mock.patch('ironic.conductor.utils.is_fast_track') def test_do_node_deploy_fast_track(self, mock_is_fast_track, mock_remove_agent_url, mock_deploy, mock_iwdi): # TODO(rloo): delete this after the deprecation period for supporting # non deploy_steps. # Mocking FakeDeploy.deploy before starting the service, causes # it not to be a deploy_step. mock_iwdi.return_value = False mock_is_fast_track.return_value = True self._start_service() mock_deploy.return_value = states.DEPLOYDONE node = obj_utils.create_test_node( self.context, driver='fake-hardware', driver_internal_info={'agent_url': 'meow'}, provision_state=states.AVAILABLE, target_provision_state=states.NOSTATE) self.service.do_node_deploy(self.context, node.uuid) self._stop_service() node.refresh() self.assertEqual(states.ACTIVE, node.provision_state) self.assertEqual(states.NOSTATE, node.target_provision_state) # last_error should be None. self.assertIsNone(node.last_error) # Verify reservation has been cleared. self.assertIsNone(node.reservation) mock_deploy.assert_called_once_with(mock.ANY) mock_iwdi.assert_called_once_with(self.context, node.instance_info) self.assertFalse(node.driver_internal_info['is_whole_disk_image']) mock_is_fast_track.assert_called_once_with(mock.ANY) mock_remove_agent_url.assert_not_called() @mock.patch('ironic.conductor.utils.remove_agent_url') @mock.patch('ironic.conductor.utils.is_fast_track') @mock.patch('ironic.conductor.manager.ConductorManager._spawn_worker', autospec=True) @mock.patch('ironic.drivers.modules.network.flat.FlatNetwork.validate', autospec=True) @mock.patch('ironic.drivers.modules.fake.FakePower.validate', autospec=True) def test_do_node_clean_ok_fast_track( self, mock_power_valid, mock_network_valid, mock_spawn, mock_is_fast_track, mock_remove_agent_url): node = obj_utils.create_test_node( self.context, driver='fake-hardware', provision_state=states.MANAGEABLE, driver_internal_info={'agent_url': 'meow'}) mock_is_fast_track.return_value = True self._start_service() clean_steps = [self.deploy_raid] self.service.do_node_clean(self.context, node.uuid, clean_steps) mock_power_valid.assert_called_once_with(mock.ANY, mock.ANY) mock_network_valid.assert_called_once_with(mock.ANY, mock.ANY) mock_spawn.assert_called_with( self.service, self.service._do_node_clean, mock.ANY, clean_steps) node.refresh() # Node will be moved to CLEANING self.assertEqual(states.CLEANING, node.provision_state) self.assertEqual(states.MANAGEABLE, node.target_provision_state) self.assertNotIn('clean_steps', node.driver_internal_info) mock_is_fast_track.assert_called_once_with(mock.ANY) mock_remove_agent_url.assert_not_called() ",,81,3
openstack%2Fossa~master~Ib48e5439fbc053f2fc36b9de6b8aad7dd4e721f6,openstack/ossa,master,Ib48e5439fbc053f2fc36b9de6b8aad7dd4e721f6,Fix typos in ossa,MERGED,2018-02-08 03:25:21.000000000,2020-01-21 17:13:55.000000000,2020-01-21 17:12:03.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-08 03:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/7f66991b5ad0cc8b3cc37a85bd4eb6a9f482d161', 'message': 'Fix typos in ossa\n\nChange-Id: Ib48e5439fbc053f2fc36b9de6b8aad7dd4e721f6\n'}, {'number': 2, 'created': '2020-01-21 16:48:48.000000000', 'files': ['ossa/OSSA-2017-003.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/0a4266dd2ff13e837d78b4d57d9282c2a20c00b7', 'message': 'Fix typos in ossa\n\nChange-Id: Ib48e5439fbc053f2fc36b9de6b8aad7dd4e721f6\n'}]",0,542001,0a4266dd2ff13e837d78b4d57d9282c2a20c00b7,9,2,2,27678,,,0,"Fix typos in ossa

Change-Id: Ib48e5439fbc053f2fc36b9de6b8aad7dd4e721f6
",git fetch https://review.opendev.org/openstack/ossa refs/changes/01/542001/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2017-003.yaml'],1,7f66991b5ad0cc8b3cc37a85bd4eb6a9f482d161,baiossa," malicious federation mapping, an administrator may conduct a persistent XSS"," malicious federation mapping, an adminstrator may conduct a persistent XSS",1,1
openstack%2Fsushy~master~I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b,openstack/sushy,master,I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b,Implements adapter checking,MERGED,2019-07-10 01:50:17.000000000,2020-01-21 17:09:38.000000000,2019-08-14 12:53:58.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-10 01:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/19de938b304eb476507b1aeefcceca26d9c1bf20', 'message': 'Adds support for allowing a sushy object to be initialized when a vendor does not implement all base resources.\nImplements adapter checking\nCloses Story: 35777\n\nChange-Id: I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b\n'}, {'number': 2, 'created': '2019-07-10 18:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a1eb8e615a88b76a339b47050d229c41ec279243', 'message': 'Implements adapter checking\n\nAdds support for allowing a sushy object to be initialized when a vendor does not implement all base resources.\nCloses Story: 35777\n\nChange-Id: I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b\n'}, {'number': 3, 'created': '2019-07-10 18:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/3f3d24cd658c8d2f30ea29b64a2ae6a4dcdc2f6d', 'message': 'Implements adapter checking\n\nAdds support for allowing a sushy object to be initialized when a vendor does not implement all base resources.\nCloses Story: 35777\n\nChange-Id: I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b\n'}, {'number': 4, 'created': '2019-07-10 18:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a97010b5c792c007598d75033a84c627adbd6bc0', 'message': 'Implements adapter checking\n\nAdds support for allowing a sushy object to be initialized when a vendor does not implement all base resources.\nStory: 2006195\nTask: 35777\n\nChange-Id: I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b\n'}, {'number': 5, 'created': '2019-07-10 19:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/50b3212531da57fa3655aa7f78711097f43361eb', 'message': 'Implements adapter checking\n\nAdds support for allowing a sushy object to be initialized when a vendor does not implement all base resources.\nStory: 2006195\nTask: 35777\n\nChange-Id: I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b\n'}, {'number': 6, 'created': '2019-08-02 21:09:25.000000000', 'files': ['sushy/resources/base.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/72fd054da0b007e84b81728e7357c2d76c45e666', 'message': 'Implements adapter checking\n\nAdds support for allowing a sushy object to be initialized when a\nvendor does not implement all base resources.\n\nStory: 2006195\nTask: 35777\nChange-Id: I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b\n'}]",3,669963,72fd054da0b007e84b81728e7357c2d76c45e666,20,4,6,26143,,,0,"Implements adapter checking

Adds support for allowing a sushy object to be initialized when a
vendor does not implement all base resources.

Story: 2006195
Task: 35777
Change-Id: I59b6553d8d5aa60ad4e79df9507c9fe9fc1dc86b
",git fetch https://review.opendev.org/openstack/sushy refs/changes/63/669963/6 && git format-patch -1 --stdout FETCH_HEAD,['sushy/resources/base.py'],1,19de938b304eb476507b1aeefcceca26d9c1bf20,story/2006195," # Get the value based on the name, defaulting to an empty dict value = body.get(name, {}) # Check to ensure that value is implemented by OEM if value is not None and value != {} and value.lower() != 'none': value = self._adapter(value)", value = self._adapter(body[name]),5,1
openstack%2Ftripleo-ansible~master~Ie88a49b990edd619ea89f952f2dd0a64fe6d3863,openstack/tripleo-ansible,master,Ie88a49b990edd619ea89f952f2dd0a64fe6d3863,Rework fact to support legacy jinja,ABANDONED,2020-01-21 03:13:36.000000000,2020-01-21 17:07:39.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 03:13:36.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34d2ed3190b137c431e1b6e405c12e589408fd4f', 'message': 'Rework fact to support legacy jinja\n\nThis change will allow the fact `containers_changed` to function when run\nunder all versions of jinja 2.\n\nChange-Id: Ie88a49b990edd619ea89f952f2dd0a64fe6d3863\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",10,703532,34d2ed3190b137c431e1b6e405c12e589408fd4f,11,5,1,7353,,,0,"Rework fact to support legacy jinja

This change will allow the fact `containers_changed` to function when run
under all versions of jinja 2.

Change-Id: Ie88a49b990edd619ea89f952f2dd0a64fe6d3863
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/703532/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'],1,34d2ed3190b137c431e1b6e405c12e589408fd4f,," containers_changed: |- {% set container_datas = [] %} {% for item in create_async_results.results %} {% if (item.get('changed', false) | bool) and ('container_data' in item) %} {% set _ = container_datas.append(item['container_data']) %} {% endif %} {% endfor %} {{ container_datas | list_of_keys }}"," containers_changed: >- {{ create_async_results.results | selectattr('changed', 'equalto', true) | map(attribute='container_data') | list | list_of_keys }}",8,3
openstack%2Fkolla~stable%2Frocky~I6e322a4bc9c077bcdbc0bb500a517eb3f131fd5b,openstack/kolla,stable/rocky,I6e322a4bc9c077bcdbc0bb500a517eb3f131fd5b,[rocky] Bump versions,MERGED,2020-01-20 09:50:15.000000000,2020-01-21 17:06:00.000000000,2020-01-21 17:05:59.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-20 09:50:15.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/de08f3ddad74cd5d55867af5531a141494b287ee', 'message': '[rocky] Bump versions\n\nChange-Id: I6e322a4bc9c077bcdbc0bb500a517eb3f131fd5b\n'}]",0,703354,de08f3ddad74cd5d55867af5531a141494b287ee,11,4,1,30491,,,0,"[rocky] Bump versions

Change-Id: I6e322a4bc9c077bcdbc0bb500a517eb3f131fd5b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/54/703354/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,de08f3ddad74cd5d55867af5531a141494b287ee,," 'neutron-fwaas-13.0.3.tar.gz')},"," 'neutron-fwaas-13.0.2.tar.gz')},",1,1
openstack%2Fswift~master~I30e3beb8707b88c36bd3cdc7a0887d069e943ba6,openstack/swift,master,I30e3beb8707b88c36bd3cdc7a0887d069e943ba6,py3: Fix formpost unicode filename issues,MERGED,2020-01-08 05:21:14.000000000,2020-01-21 17:03:11.000000000,2020-01-21 05:21:14.000000000,"[{'_account_id': 597}, {'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 23279}]","[{'number': 1, 'created': '2020-01-08 05:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5fbfe2319b698b6b94aacc5432465dd5935e7582', 'message': 'py3: Fix formpost unicode filename issues\n\nPreviously, we took the native string filename attribute and put it\ndirectly in the (WSGI string) PATH_INFO field. Now, we convert it to\na WSGI string first.\n\nChange-Id: I30e3beb8707b88c36bd3cdc7a0887d069e943ba6\nCloses-Bug: #1858259\n'}, {'number': 2, 'created': '2020-01-08 16:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7d382067b0e0fae2634eef15999af9443ceaf0f5', 'message': 'py3: Fix formpost unicode filename issues\n\nPreviously, we took the native string filename attribute and put it\ndirectly in the (WSGI string) PATH_INFO field. Now, we convert it to\na WSGI string first.\n\nChange-Id: I30e3beb8707b88c36bd3cdc7a0887d069e943ba6\nCloses-Bug: #1858259\n'}, {'number': 3, 'created': '2020-01-16 00:53:38.000000000', 'files': ['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9483630ae130c5b2616f8617da25bcb51b647208', 'message': 'py3: Fix formpost unicode filename issues\n\nPreviously, we took the native string filename attribute and put it\ndirectly in the (WSGI string) PATH_INFO field. Now, we convert it to\na WSGI string first.\n\nChange-Id: I30e3beb8707b88c36bd3cdc7a0887d069e943ba6\nCloses-Bug: #1858259\n'}]",7,701497,9483630ae130c5b2616f8617da25bcb51b647208,23,5,3,15343,,,0,"py3: Fix formpost unicode filename issues

Previously, we took the native string filename attribute and put it
directly in the (WSGI string) PATH_INFO field. Now, we convert it to
a WSGI string first.

Change-Id: I30e3beb8707b88c36bd3cdc7a0887d069e943ba6
Closes-Bug: #1858259
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/701497/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py']",2,5fbfe2319b698b6b94aacc5432465dd5935e7582,701497,"from swift.common.constraints import valid_api_versionfrom swift.common.swob import HTTPUnauthorized, wsgi_to_str, str_to_wsgi subenv['PATH_INFO'] += str_to_wsgi( attributes['filename'] or 'filename') if len(parts) < 4 or parts[0] or not valid_api_version(parts[1]) \ or not parts[2] or not parts[3]:","from swift.common.swob import HTTPUnauthorized, wsgi_to_str subenv['PATH_INFO'] += attributes['filename'] or 'filename' if len(parts) < 4 or parts[0] or parts[1] != 'v1' or not parts[2] or \ not parts[3]:",21,9
openstack%2Fossa~master~I1404fb327b9caf607e081906923c0c31cde77291,openstack/ossa,master,I1404fb327b9caf607e081906923c0c31cde77291,Update and replace http with https for doc links,MERGED,2019-12-25 08:00:22.000000000,2020-01-21 17:01:42.000000000,2020-01-21 17:00:09.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-25 08:00:22.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/308afa2a86b89b28b44ef7eababff7c42c5b8dc5', 'message': 'Update and replace http with https for doc links\n\nChange-Id: I1404fb327b9caf607e081906923c0c31cde77291\n'}]",0,700542,308afa2a86b89b28b44ef7eababff7c42c5b8dc5,7,2,1,30883,,,0,"Update and replace http with https for doc links

Change-Id: I1404fb327b9caf607e081906923c0c31cde77291
",git fetch https://review.opendev.org/openstack/ossa refs/changes/42/700542/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,308afa2a86b89b28b44ef7eababff7c42c5b8dc5,,https://security.openstack.org,http://security.openstack.org,1,1
openstack%2Ftripleo-validations~master~I098242d77ab7061cb0dc775c222572d10144a248,openstack/tripleo-validations,master,I098242d77ab7061cb0dc775c222572d10144a248,Adds basic molecule testing for ceph validations,MERGED,2020-01-06 13:28:04.000000000,2020-01-21 16:57:31.000000000,2020-01-21 16:57:31.000000000,"[{'_account_id': 6796}, {'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-06 13:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/526c1dbb7acb2691e79790663d99dc9cb8d35725', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}, {'number': 2, 'created': '2020-01-06 14:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ccf6f028b47ea74963926c91939af4c4ec26807e', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}, {'number': 3, 'created': '2020-01-07 12:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ad44b0bdaabc158510eb1cc0ebfb382f020243b9', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}, {'number': 4, 'created': '2020-01-08 07:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9bc837d040ce00ee7be10afc2633467e9f970785', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}, {'number': 5, 'created': '2020-01-08 10:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6f1443085f388899f80b2e03dc747a2a331c337e', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}, {'number': 6, 'created': '2020-01-16 14:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d00b5884f1837dc9d4859ebddeef667c114bbec7', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}, {'number': 7, 'created': '2020-01-16 14:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a57d1c36cb1576a11a5f0bdca1d364f7b0dd9280', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}, {'number': 8, 'created': '2020-01-16 14:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/429b3a323e98c7fc24474b34d5e3345add1100b9', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}, {'number': 9, 'created': '2020-01-17 15:27:31.000000000', 'files': ['roles/ceph/molecule/default/playbook.yml', 'zuul.d/molecule.yaml', 'roles/ceph/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile.j2', 'roles/ceph/molecule/default/Dockerfile.j2', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/prepare.yml', 'roles/ceph/molecule/ceph-ansible-installed/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e89202be34629ae4596f5f78db73c51b17f4de34', 'message': 'Adds basic molecule testing for ceph validations\n\nFor now, only the tasks from ceph-ansible-installed are checked.\n\nChange-Id: I098242d77ab7061cb0dc775c222572d10144a248\n'}]",1,701219,e89202be34629ae4596f5f78db73c51b17f4de34,36,7,9,28223,,,0,"Adds basic molecule testing for ceph validations

For now, only the tasks from ceph-ansible-installed are checked.

Change-Id: I098242d77ab7061cb0dc775c222572d10144a248
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/19/701219/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ceph/molecule/default/playbook.yml', 'roles/ceph/molecule/default/Dockerfile.j2', 'roles/ceph/molecule/default/molecule.yml', 'roles/ceph/molecule/default/prepare.yml']",4,526c1dbb7acb2691e79790663d99dc9cb8d35725,molecule/ceph,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all gather_facts: no tasks: - name: install hiera package: name: hiera state: installed - name: prepare directory tree for hiera file: path: /etc/puppet state: directory - name: populate a hiera config copy: dest: /etc/puppet/hiera.yaml content: | :backends: - yaml - json :yaml: :datadir: ""/etc/puppet/"" :hierarchy: - ""common"" - name: populate hiera content copy: dest: /etc/puppet/common.yaml content: | enabled_services: - ceph_mon ",,204,0
openstack%2Ftripleo-docs~master~I1f27402364ba1ecdb61b0796d543226ea7205c8f,openstack/tripleo-docs,master,I1f27402364ba1ecdb61b0796d543226ea7205c8f,Document the existence of tripleo-container-manage Ansible role,MERGED,2020-01-20 18:57:19.000000000,2020-01-21 16:55:14.000000000,2020-01-21 16:52:36.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 18:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5bffd6596a456d75bad9492a7ac64bb774756f9c', 'message': 'Document the existence of tripleo-container-manage Ansible role\n\nChange-Id: I1f27402364ba1ecdb61b0796d543226ea7205c8f\nDepends-On: https://review.opendev.org/703481\n'}, {'number': 2, 'created': '2020-01-20 19:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6957da487da7cd4027ab5e88a62df02c80800125', 'message': 'Document the existence of tripleo-container-manage Ansible role\n\nChange-Id: I1f27402364ba1ecdb61b0796d543226ea7205c8f\nDepends-On: https://review.opendev.org/703481\n'}, {'number': 3, 'created': '2020-01-20 20:44:40.000000000', 'files': ['deploy-guide/source/deployment/architecture.rst', 'deploy-guide/source/deployment/ansible_config_download.rst', 'doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/contributor/new_developers.rst', 'doc/source/upgrade/developer/upgrades/minor_update.rst', 'deploy-guide/source/deployment/tips_tricks.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6a3eb65d745b18d46ea65958509e428641ee29f6', 'message': 'Document the existence of tripleo-container-manage Ansible role\n\nChange-Id: I1f27402364ba1ecdb61b0796d543226ea7205c8f\nDepends-On: https://review.opendev.org/703481\n'}]",0,703483,6a3eb65d745b18d46ea65958509e428641ee29f6,14,4,3,3153,,,0,"Document the existence of tripleo-container-manage Ansible role

Change-Id: I1f27402364ba1ecdb61b0796d543226ea7205c8f
Depends-On: https://review.opendev.org/703481
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/83/703483/3 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deployment/architecture.rst', 'deploy-guide/source/deployment/ansible_config_download.rst', 'doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/contributor/new_developers.rst', 'doc/source/upgrade/developer/upgrades/minor_update.rst', 'deploy-guide/source/deployment/tips_tricks.rst']",6,5bffd6596a456d75bad9492a7ac64bb774756f9c,container-manage," $ watch -n 0.5 sudo podman ps -a --filter label=managed_by=tripleo_ansible .. admonition:: Stein and Train :class: stable :: Debugging with tripleo-container-manage Ansible role ---------------------------------------------------- The debugging manual for tripleo-container-manage is documented in the role_ directly. .. _role: https://docs.openstack.org/tripleo-ansible/latest/roles/role-tripleo-container-manage.html#debug .. note:: During Ussuri cycle, Paunch has been replaced by the tripleo-container-manage_ Ansible role. Therefore, the following block is deprecated in favor of the new role which contains a Debug manual. ",,51,17
openstack%2Fansible-role-collect-logs~master~If3c3b9275ce3df574511a18e3455741069bb6d26,openstack/ansible-role-collect-logs,master,If3c3b9275ce3df574511a18e3455741069bb6d26,Fix set -o pipefail failures on non RHEL distros,MERGED,2020-01-21 09:57:40.000000000,2020-01-21 16:51:00.000000000,2020-01-21 16:51:00.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-21 09:57:40.000000000', 'files': ['tasks/collect.yml', 'tasks/create-docs.yml', 'tasks/publish.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/4e79dbd4058ef48ce59561124e6c6e0bf9289b36', 'message': ""Fix set -o pipefail failures on non RHEL distros\n\nDistros like debian and ubuntu, are using dash as default shell, who\ndoesn't have set -o pipefail, however, these distros also have bash\ninstalled, and can be used.\nAccording https://github.com/ansible/ansible-lint/issues/497 the way to\nfix it right now, is to use /bin/bash in the shell command that requires\nthe set -o pipefail. This is already done in other components like\nceph-ansible for example, and would allow us to use collect-logs in\nother distros. This is also required to have collect-logs running in OSA\njobs, since they test different distros.\n\nChange-Id: If3c3b9275ce3df574511a18e3455741069bb6d26\n""}]",0,703570,4e79dbd4058ef48ce59561124e6c6e0bf9289b36,13,9,1,8367,,,0,"Fix set -o pipefail failures on non RHEL distros

Distros like debian and ubuntu, are using dash as default shell, who
doesn't have set -o pipefail, however, these distros also have bash
installed, and can be used.
According https://github.com/ansible/ansible-lint/issues/497 the way to
fix it right now, is to use /bin/bash in the shell command that requires
the set -o pipefail. This is already done in other components like
ceph-ansible for example, and would allow us to use collect-logs in
other distros. This is also required to have collect-logs running in OSA
jobs, since they test different distros.

Change-Id: If3c3b9275ce3df574511a18e3455741069bb6d26
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/70/703570/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/collect.yml', 'tasks/create-docs.yml', 'tasks/publish.yml']",3,4e79dbd4058ef48ce59561124e6c6e0bf9289b36,pipefail-fix, args: executable: /bin/bash args: executable: /bin/bash,,8,0
openstack%2Fnova~master~I49e3473b57194538cce07cc5d11db54c363d0c47,openstack/nova,master,I49e3473b57194538cce07cc5d11db54c363d0c47,Test fix for bug 1860021,ABANDONED,2020-01-16 19:05:41.000000000,2020-01-21 16:49:19.000000000,,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-16 19:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/062c6d724ecad437381f3ada42f4c3d8326bb628', 'message': 'Test fix for bug 1860021\n\nDepends-On: https://review.opendev.org/702960\nChange-Id: I49e3473b57194538cce07cc5d11db54c363d0c47\nRelated-Bug: #1860021\n'}, {'number': 2, 'created': '2020-01-19 02:38:23.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/6c676042815ff47cafc34773c5909f1babfcb6f7', 'message': 'Test fix for bug 1860021\n\nDepends-On: https://review.opendev.org/#/c/703131/\nChange-Id: I49e3473b57194538cce07cc5d11db54c363d0c47\nRelated-Bug: #1860021\n'}]",0,702961,6c676042815ff47cafc34773c5909f1babfcb6f7,34,9,2,14070,,,0,"Test fix for bug 1860021

Depends-On: https://review.opendev.org/#/c/703131/
Change-Id: I49e3473b57194538cce07cc5d11db54c363d0c47
Related-Bug: #1860021
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/702961/2 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,062c6d724ecad437381f3ada42f4c3d8326bb628,bug/1860021,,,0,0
openstack%2Frpm-packaging~stable%2Frocky~I3b1dc233ab4df996711fa8ee799d0c7eedbf4790,openstack/rpm-packaging,stable/rocky,I3b1dc233ab4df996711fa8ee799d0c7eedbf4790,add X.509 certificate check plugin for monasca-agent,ABANDONED,2019-11-21 00:12:22.000000000,2020-01-21 16:37:47.000000000,,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 10311}, {'_account_id': 12156}, {'_account_id': 13294}, {'_account_id': 14892}, {'_account_id': 16222}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-21 00:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ae6c2d1f5e7dd6838d7d71aa9e61849e0abdaaf1', 'message': 'add X.509 certificate check plugin for monasca-agent\n\nWe need this in order to monitor the internal TLS certificates. Since\nbackporting feature to stable/pike is not feasible, the next option is\nto patch RPM.\n\nChange-Id: I3b1dc233ab4df996711fa8ee799d0c7eedbf4790\n'}, {'number': 2, 'created': '2019-12-12 01:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d8da1722e78a321e2edb941ebb7f56423e5778b1', 'message': 'add X.509 certificate check plugin for monasca-agent\n\nWe need this in order to monitor the internal TLS certificates. Since\nbackporting feature to stable/pike is not feasible, the next option is\nto patch RPM.\n\nChange-Id: I3b1dc233ab4df996711fa8ee799d0c7eedbf4790\n'}, {'number': 3, 'created': '2019-12-19 15:57:06.000000000', 'files': ['openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/monasca-agent/0001-add-X.509-certificate-check-plugin.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/648f69868009f26f950bd677822941ab029e1e33', 'message': 'add X.509 certificate check plugin for monasca-agent\n\nWe need this in order to monitor the internal TLS certificates. Since\nbackporting feature to stable/rocky is not feasible, the next option is\nto patch RPM.\n\nChange-Id: I3b1dc233ab4df996711fa8ee799d0c7eedbf4790\n'}]",0,695328,648f69868009f26f950bd677822941ab029e1e33,38,12,3,1916,,,0,"add X.509 certificate check plugin for monasca-agent

We need this in order to monitor the internal TLS certificates. Since
backporting feature to stable/rocky is not feasible, the next option is
to patch RPM.

Change-Id: I3b1dc233ab4df996711fa8ee799d0c7eedbf4790
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/28/695328/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/monasca-agent/0001-add-X.509-certificate-check-plugin.patch']",2,ae6c2d1f5e7dd6838d7d71aa9e61849e0abdaaf1,add_x509_cert_check_rocky,"From ba1df75cfb360d8c4343e3556e4068f6bffad57e Mon Sep 17 00:00:00 2001 From: Guang Yee <guang.yee@suse.com> Date: Tue, 22 Oct 2019 23:44:32 -0700 Subject: [PATCH] add X.509 certificate check plugin Currently we don't have any capability to monitor the internal TLS/SSL certificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for distribution, etc. The cert_check plugin is not adequate for this purpose becaue it can only check on certficates over HTTPS endpoints. Furthermore, checking on these internal certificates over the network is cumbersome because the agent plugin would have to speak specific protocols. This patch adds a cert_file_check plugin to detect the certificate expiry (in days from now) for the given X.509 certificate file in PEM format. Similar to cert_check plugin, this plugin will a metric 'cert_file.cert_expire_days' which contains the number of days from now the given certificate will be expired. If the certificate has already expired, this will be a negative number. Change-Id: Id95cc7115823f972e234417223ab5906b57447cc Story: 2006753 (cherry picked from commit e1d73c4b5de577e663084bda9d3f5185c433af84) --- docs/Plugins.md | 75 +++++++++ .../collector/checks_d/cert_file_check.py | 68 +++++++++ .../detection/plugins/cert_file_check.py | 73 +++++++++ setup.cfg | 2 + test-requirements.txt | 2 + tests/checks_d/test_cert_file_check.py | 144 ++++++++++++++++++ tests/detection/test_cert_file_check.py | 65 ++++++++ 7 files changed, 429 insertions(+) create mode 100644 monasca_agent/collector/checks_d/cert_file_check.py create mode 100644 monasca_setup/detection/plugins/cert_file_check.py create mode 100644 tests/checks_d/test_cert_file_check.py create mode 100644 tests/detection/test_cert_file_check.py diff --git a/docs/Plugins.md b/docs/Plugins.md index e9e1fcb..bb9dbe7 100644 --- a/docs/Plugins.md +++ b/docs/Plugins.md @@ -30,6 +30,7 @@ - [Check_MK_Local](#check_mk_local) - [Ceph](#ceph) - [Certificate Expiration (HTTPS)](#certificate-expiration-https) + - [Certificate Expiration (PEM File)](#certificate-expiration-file) - [Congestion](#congestion) - [Couch](#couch) - [Couchbase](#couchbase) @@ -143,6 +144,7 @@ The following plugins are delivered via setup as part of the standard plugin che | cacti | | | | cAdvisor_host | | | | cert_check | | | +| cert_file_check | | | | check_mk_local | | | | couch | | | | couchbase | | | @@ -323,6 +325,7 @@ These are the detection plugins included with the Monasca Agent. See [Customiza | ceilometer | ServicePlugin | | ceph | Plugin | | cert_check | ArgsPlugin | +| cert_file_check | ArgsPlugin | | check_mk_local | Plugin | | cinder | ServicePlugin | | cloudkitty | ServicePlugin | @@ -866,6 +869,78 @@ These options can be set if desired: * collect_period: Integer time in seconds between outputting the metric. Since the metric is in days, it makes sense to output it at a slower rate. The default is 3600, once per hour * timeout: Float time in seconds before timing out the connect to the url. Increase if needed for very slow servers, but making this too long will increase the time this plugin takes to run if the server for the url is down. The default is 1.0 seconds +## Certificate Expiration (PEM file) +An extension to the Agent provides the ability to determine the expiration date +of the PEM formatted X.509 certificate in a file. The metric is days until the +certificate expires. If the given certificate has already expired, it will +return a negative number. For example, if the certificate has already expired +5 days prior to the check, -5 will be returned. + +Notice that the days till expiration value is calculated based on every 24 +hours block, rounded down. For example, if the certificate will be expiring in +23 hours, the days till expiration value will be 0. Here are some more +examples. + +| Certificate Expiration Date | Plugin Execution Date | cert_file.cert_expire_days | +| --------------------------- | --------------------- | -------------------------- | +| Nov 1 23:00:50 2019 GMT | Oct 29 23:01:00 2019 GMT | 2 | +| Nov 1 23:00:50 2019 GMT | Oct 30 23:01:00 2019 GMT | 1 | +| Nov 1 23:00:50 2019 GMT | Nov 1 10:00:50 2019 GMT | 0 | +| Nov 1 23:00:50 2019 GMT | Nov 1 23:01:50 2019 GMT | 0 | +| Nov 1 23:00:50 2019 GMT | Nov 2 23:01:50 2019 GMT | -1 | +| Nov 1 23:00:50 2019 GMT | Nov 3 23:23:00 2019 GMT | -2 | + +The following dimensions are included with the metric by default: +``` + cert_file: cert_file +``` + +### Configuration +A YAML file (cert_file_check.yaml) contains the list of cert_files to check. + +The configuration of the certificate expiration check is done in YAML, and consists of two keys: + +* init_config +* instances + +The init_config section lists the global configuration settings, such as the +period (in seconds) at which to output the metric. The default value for +collect_period is 1 hour (3600 seconds). To change it to emit metric every +24 hours, set it to 86400. + +```yaml +init_config: + collect_period: 3600 +``` + +The instances section contains the urls to check. + +```yaml +instances: +- built_by: CertificateFileCheck + cert_file: /etc/myservice/myservice.pem +- built_by: CertificateFileCheck + cert_file: /etc/ssl/myotherservice.pem +``` + +The certicate expiration checks return the following metrics + +| Metric Name | Dimensions | Semantics | +| ----------- | ---------- | --------- | +| cert_file.cert_expire_days | cert_file=supplied certificate file being checked | The number of days until the certificate expires + + +There is a detection plugin that should be used to configure this extension. It is invoked as: + + $ monasca-setup -d CertificateFileCheck -a ""cert_files=/etc/myservice/myservice.pem,/etc/myotherservice/myotherservice.pem"" + +The cert_files option is a comma separated list of certificate files to check. + +These options can be set if desired: +* collect_period: Integer time in seconds between outputting the metric. +Since the metric is in days, it makes sense to output it at a slower rate. +The default is 3600, once per hour + ## Congestion This section describes the congestion check performed by monasca-agent. diff --git a/monasca_agent/collector/checks_d/cert_file_check.py b/monasca_agent/collector/checks_d/cert_file_check.py new file mode 100644 index 0000000..811e113 --- /dev/null +++ b/monasca_agent/collector/checks_d/cert_file_check.py @@ -0,0 +1,68 @@ +# Copyright 2019 SUSE LLC +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +from datetime import datetime + +from cryptography.hazmat.backends import default_backend +from cryptography import x509 + +from monasca_agent.collector.checks import AgentCheck + + +class CertificateFileCheck(AgentCheck): + """"""Check the given certificate file and output a metric + which is the number of days until it expires + """""" + + def __init__(self, name, init_config, agent_config, instances=None): + super(CertificateFileCheck, self).__init__(name, init_config, + agent_config, instances) + + def check(self, instance): + cert_file = instance.get('cert_file', None) + + if cert_file is None: + self.log.warning('Instance have no ""cert_file"" configured.') + return + + dimensions = self._set_dimensions(None, instance) + dimensions['cert_file'] = cert_file + self.log.info('cert_file = %s' % cert_file) + expire_in_days = self.get_expire_in_days(cert_file) + if expire_in_days is not None: + self.gauge('cert_file.cert_expire_days', expire_in_days, + dimensions=dimensions) + self.log.debug('%d days till expiration for %s' % (expire_in_days, + cert_file)) + + def get_expire_in_days(self, cert_file): + """"""Take the path the the TLS certificate file and returns the number + of till the certificate expires. If the certificate has already + expired, it will return a negative number. For example, + if the certificate has already expired 5 days prior to the check, + -5 will be returned. + """""" + try: + with open(cert_file, 'r') as cf: + pem_data = cf.read().encode('ascii') + + cert = x509.load_pem_x509_certificate(pem_data, default_backend()) + return (cert.not_valid_after - datetime.utcnow()).days + except IOError: + self.log.warning( + 'Unable to read certificate from %s' % (cert_file)) + except ValueError: + self.log.warning( + 'Unable to load certificate from %s. Invalid content.' % ( + cert_file)) diff --git a/monasca_setup/detection/plugins/cert_file_check.py b/monasca_setup/detection/plugins/cert_file_check.py new file mode 100644 index 0000000..988f080 --- /dev/null +++ b/monasca_setup/detection/plugins/cert_file_check.py @@ -0,0 +1,73 @@ +# Copyright 2019 SUSE LLC +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +import logging + +import monasca_setup.agent_config +import monasca_setup.detection + +log = logging.getLogger(__name__) + +DEFAULT_COLLECT_PERIOD = 3600 + + +class CertificateFileCheck(monasca_setup.detection.ArgsPlugin): + """"""Setup a X.509 certificate file check according to the passed in args. + + Outputs one metric: cert_file.cert_expire_days which is the number of + days until the certificate expires + + Despite being a detection plugin, this plugin does no detection and + will be a NOOP without arguments. Expects one argument, 'cert_files' + which is a comma-separated list of PEM-formatted X.509 certificate + files. + + Examples: + + monasca-setup -d CertificateFileCheck -a ""cert_files=cert1.pem,cert2.pem"" + + These arguments are optional: + collect_period: Integer time in seconds between outputting the metric. + Since the metric is in days, it makes sense to output + it at a slower rate. The default is once per hour + """""" + + def _detect(self): + """"""Run detection, set self.available True if cert_files are detected + """""" + self.available = self._check_required_args(['cert_files']) + + def build_config(self): + """"""Build the config as a Plugins object and return. + """""" + config = monasca_setup.agent_config.Plugins() + instances = [] + init_config = {'collect_period': DEFAULT_COLLECT_PERIOD} + if 'collect_period' in self.args: + collect_period = int(self.args['collect_period']) + init_config['collect_period'] = collect_period + for cert_file in self.args['cert_files'].split(','): + cert_file = cert_file.strip() + # Allow comma terminated lists + if not cert_file: + continue + log.info(""\tAdding X.509 Certificate expiration check for {}"".format(cert_file)) + instance = self._build_instance([]) + instance.update({'cert_file': cert_file, 'name': cert_file}) + instances.append(instance) + + config['cert_file_check'] = {'init_config': init_config, + 'instances': instances} + + return config diff --git a/setup.cfg b/setup.cfg index 98be114..f35af5c 100644 --- a/setup.cfg +++ b/setup.cfg @@ -59,6 +59,8 @@ libvirt = ovs = python-novaclient>=9.1.0 # Apache-2.0 python-neutronclient>=6.3.0 # Apache-2.0 +cert_file_check = + cryptography>=2.8 # BSD/Apache-2.0 [global] setup-hooks = diff --git a/test-requirements.txt b/test-requirements.txt index 92747b7..e42d267 100644 --- a/test-requirements.txt +++ b/test-requirements.txt @@ -9,3 +9,5 @@ oslotest>=3.2.0 # Apache-2.0 prometheus_client os-testr>=1.0.0 # Apache-2.0 docutils>=0.11 # OSI-Approved Open Source, Public Domain +freezegun>=0.3.6 # Apache-2.0 + diff --git a/tests/checks_d/test_cert_file_check.py b/tests/checks_d/test_cert_file_check.py new file mode 100644 index 0000000..539159f --- /dev/null +++ b/tests/checks_d/test_cert_file_check.py @@ -0,0 +1,144 @@ +# Copyright 2019 SUSE LLC +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +import datetime +import logging +import mock +import os +import shutil +import tempfile +import unittest + +from cryptography import x509 +from cryptography.x509.oid import NameOID +from cryptography.hazmat.primitives import hashes +from cryptography.hazmat.backends import default_backend +from cryptography.hazmat.primitives import serialization +from cryptography.hazmat.primitives.asymmetric import rsa +import freezegun + +from monasca_agent.collector.checks_d import cert_file_check + +LOG = logging.getLogger('monasca_agent.collector.checks.check.cert_file_check') + + +def generate_selfsigned_cert(expired_in): + key = rsa.generate_private_key( + public_exponent=65537, + key_size=1024, + backend=default_backend() + ) + issuer = subject = x509.Name([ + x509.NameAttribute(NameOID.COMMON_NAME, u'foo') + ]) + now = datetime.datetime.utcnow() + cert = ( + x509.CertificateBuilder() + .subject_name(issuer) + .issuer_name(subject) + .public_key(key.public_key()) + .serial_number(1) + .not_valid_before(now) + .not_valid_after(now + datetime.timedelta(days=expired_in)) + .sign(key, hashes.SHA256(), default_backend()) + ) + cert_pem = cert.public_bytes(encoding=serialization.Encoding.PEM) + + return cert_pem.decode('ascii') + + +class TestCertificateFileCheck(unittest.TestCase): + + def setUp(self): + super(TestCertificateFileCheck, self).setUp() + self.cert_file_check_obj = cert_file_check.CertificateFileCheck( + name='cert_file_check', + init_config={}, + instances=[], + agent_config={} + ) + + def test_cert_file_is_none(self): + with mock.patch.object(LOG, 'warning') as mock_log: + self.cert_file_check_obj.check({'foo': 'bar'}) + mock_log.assert_called_with( + 'Instance have no ""cert_file"" configured.') + + def test_unable_to_read_file(self): + tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') + try: + bogus_cert_file = os.path.join(tmp_certdir, 'foo') + with mock.patch.object(LOG, 'warning') as mock_log: + self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) + mock_log.assert_called_with( + 'Unable to read certificate from %s' % (bogus_cert_file)) + finally: + shutil.rmtree(tmp_certdir) + + def test_unable_to_load_file(self): + tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') + try: + bogus_cert_file = os.path.join(tmp_certdir, 'foo') + # create a non-PEM formatted certificate file + with open(bogus_cert_file, 'w') as f: + f.write('foo') + + with mock.patch.object(LOG, 'warning') as mock_log: + self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) + mock_log.assert_called_with( + 'Unable to load certificate from %s. Invalid content.' % ( + bogus_cert_file)) + finally: + shutil.rmtree(tmp_certdir) + + def test_check(self): + tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') + try: + cert_file = os.path.join(tmp_certdir, 'foo') + # create a self-signed cert that expires in 10 days from now + with open(cert_file, 'w') as f: + f.write(generate_selfsigned_cert(10)) + + with mock.patch.object(cert_file_check.CertificateFileCheck, + 'gauge') as mock_gauge: + self.cert_file_check_obj.check({'cert_file': cert_file}) + args, kwargs = mock_gauge.call_args + # make sure the plugin correctly detect the given cert will be + # expiring in equal or less than 10 days from now + self.assertEqual('cert_file.cert_expire_days', args[0]) + self.assertLessEqual(args[1], 10) + finally: + shutil.rmtree(tmp_certdir) + + def test_check_expired_cert(self): + tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') + try: + cert_file = os.path.join(tmp_certdir, 'foo') + # create a self-signed cert that has expired 10 days ago + with open(cert_file, 'w') as f: + f.write(generate_selfsigned_cert(10)) + + now = datetime.datetime.utcnow() + back_to_the_future = now + datetime.timedelta(days=20) + with freezegun.freeze_time(back_to_the_future): + with mock.patch.object(cert_file_check.CertificateFileCheck, + 'gauge') as mock_gauge: + self.cert_file_check_obj.check({'cert_file': cert_file}) + args, kwargs = mock_gauge.call_args + # make sure the plugin correctly detect that the given + # cert has already expired + self.assertEqual('cert_file.cert_expire_days', args[0]) + self.assertLessEqual(args[1], -9) + finally: + shutil.rmtree(tmp_certdir) diff --git a/tests/detection/test_cert_file_check.py b/tests/detection/test_cert_file_check.py new file mode 100644 index 0000000..ad1225e --- /dev/null +++ b/tests/detection/test_cert_file_check.py @@ -0,0 +1,65 @@ +# Copyright 2019 SUSE LLC +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +import logging +import unittest + +from mock import patch + +from monasca_setup.detection.plugins.cert_file_check import CertificateFileCheck + +LOG = logging.getLogger('monasca_setup.detection.plugins.cert_check') + + +class TestCertFileCheck(unittest.TestCase): + + def setUp(self): + unittest.TestCase.setUp(self) + with patch.object(CertificateFileCheck, '_detect') as mock_detect: + self.cert_obj = CertificateFileCheck('temp_dir') + self.assertTrue(mock_detect.called) + self.cert_obj.args = {'cert_files': '/etc/myservice/myserver.pem'} + + def test_detect(self): + self.cert_obj.available = False + with patch.object(self.cert_obj, '_check_required_args', + return_value=True) as mock_check_required_args: + self.cert_obj._detect() + self.assertTrue(self.cert_obj.available) + self.assertTrue(mock_check_required_args.called) + + def _build_config(self): + with patch.object(self.cert_obj, '_build_instance', + return_value={}) as mock_build_instance: + result = self.cert_obj.build_config() + self.assertTrue(mock_build_instance.called) + self.assertEqual( + result['cert_file_check']['instances'][0]['cert_file'], + '/etc/myservice/myserver.pem') + self.assertEqual(result['cert_file_check']['instances'][0]['name'], + '/etc/myservice/myserver.pem') + return result + + def test_build_config_without_args(self): + result = self._build_config() + self.assertEqual( + result['cert_file_check']['init_config']['collect_period'], + 3600) + + def test_build_config_with_args(self): + self.cert_obj.args.update({'collect_period': 1200}) + result = self._build_config() + self.assertEqual( + result['cert_file_check']['init_config']['collect_period'], + 1200) -- 2.17.1 ",,545,1
openstack%2Fansible-collections-openstack~master~Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d,openstack/ansible-collections-openstack,master,Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d,Run functional devstack job on ansible collection,MERGED,2020-01-20 12:51:01.000000000,2020-01-21 16:37:27.000000000,2020-01-21 16:37:26.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 4162}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 22578}, {'_account_id': 27900}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-20 12:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/63e6509ebc7959b4ad18b5eb4cbca166d871b33e', 'message': 'WIP: new parent job for collection\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 2, 'created': '2020-01-20 13:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/526d85655d1c53ad3dbc52bf0a3d17d7192b36cf', 'message': 'WIP: new parent job for collection\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 3, 'created': '2020-01-20 13:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6933c2f1a23701d3c816a76bf26bbd92826a6b87', 'message': 'WIP: new parent job for collection\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 4, 'created': '2020-01-20 15:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2e781866e2c64790f8149de1ec4eb6a3abac7f62', 'message': 'WIP: new parent job for collection\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 5, 'created': '2020-01-20 16:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fff574176ab4df128192b8dd58bb5bf4786a8122', 'message': 'WIP: new parent job for collection\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 6, 'created': '2020-01-20 16:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/90f9e0a3f2a627b900a3d7d52a22f34fa59d50ae', 'message': 'WIP: new parent job for collection\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 7, 'created': '2020-01-20 18:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5bbf4a658c4ba275c091aca0c646a10552bccdc3', 'message': 'WIP: new parent job for collection\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 8, 'created': '2020-01-20 19:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/935da0f0f4a775f1b190f6958c7e7bbd066e1bc3', 'message': 'WIP: new parent job for collection\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 9, 'created': '2020-01-20 20:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a0c86fd15776030c0cec579b3d684b0780227713', 'message': 'Run functional devstack job on ansible collection\n\nPorting of job that was running on patches in Ansible.\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 10, 'created': '2020-01-20 21:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f600a2ebd30c16d529cf89e91c9acdf25832612b', 'message': 'Run functional devstack job on ansible collection\n\nPorting of job that was running on patches in Ansible.\n\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}, {'number': 11, 'created': '2020-01-20 22:26:01.000000000', 'files': ['ci/roles/user_group/tasks/main.yml', 'ci/roles/router/defaults/main.yml', 'ci/roles/keystone_role/tasks/main.yml', 'ci/roles/keystone_domain/tasks/main.yml', 'ci/roles/client_config/tasks/main.yml', 'ci/roles/server/defaults/main.yaml', 'zuul.yaml', 'ci/roles/port/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/group/defaults/main.yml', 'ci/roles/image/tasks/main.yml', 'ci/roles/object/tasks/main.yml', 'ci/roles/server/tasks/main.yml', 'ci/roles/router/tasks/main.yml', 'tests/sanity/ignore-2.9.txt', 'ci/run-ansible-tests-collection.sh', 'tests/sanity/ignore-2.10.txt', 'ci/roles/auth/tasks/main.yml', 'ci/roles/keypair/defaults/main.yml', 'ci/roles/volume/tasks/main.yml', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/subnet/tasks/main.yml', 'ci/roles/keystone_role/defaults/main.yml', 'ci/roles/keystone_domain/defaults/main.yml', 'ci/roles/network/tasks/main.yml', 'ci/roles/group/tasks/main.yml', 'ci/roles/image/defaults/main.yml', 'ci/roles/keypair/tasks/main.yml', 'ci/roles/nova_flavor/tasks/main.yml', 'ci/roles/port/defaults/main.yml', 'ci/roles/user/tasks/main.yml', 'ci/roles/security_group/defaults/main.yml', 'ci/playbooks/devstack/post.yaml', 'ci/roles/network/defaults/main.yml', 'ci/roles/subnet/defaults/main.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7c52b83b529abb7ef195d28a8d13795b6ff63f88', 'message': 'Run functional devstack job on ansible collection\n\nPorting of job that was running on patches in Ansible.\n\nChange-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d\n'}]",0,703383,7c52b83b529abb7ef195d28a8d13795b6ff63f88,34,12,11,10969,,,0,"Run functional devstack job on ansible collection

Porting of job that was running on patches in Ansible.

Change-Id: Ifa5a6b40d6a0f1de9f2cbc917a55c2d0e8ac421d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/83/703383/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/user_group/tasks/main.yml', 'ci/roles/router/defaults/main.yml', 'ci/roles/keystone_role/tasks/main.yml', 'ci/roles/keystone_domain/tasks/main.yml', 'ci/roles/client_config/tasks/main.yml', 'ci/roles/server/defaults/main.yaml', 'zuul.yaml', 'ci/roles/port/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/group/defaults/main.yml', 'ci/roles/image/tasks/main.yml', 'ci/roles/object/tasks/main.yml', 'ci/roles/server/tasks/main.yml', 'ci/roles/router/tasks/main.yml', 'tests/sanity/ignore-2.9.txt', 'ci/run-ansible-tests-collection.sh', 'tests/sanity/ignore-2.10.txt', 'ci/roles/auth/tasks/main.yml', 'ci/roles/keypair/defaults/main.yml', 'ci/roles/volume/tasks/main.yml', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/subnet/tasks/main.yml', 'ci/roles/keystone_role/defaults/main.yml', 'ci/roles/keystone_domain/defaults/main.yml', 'ci/roles/network/tasks/main.yml', 'ci/roles/group/tasks/main.yml', 'ci/roles/image/defaults/main.yml', 'ci/roles/keypair/tasks/main.yml', 'ci/roles/nova_flavor/tasks/main.yml', 'ci/roles/port/defaults/main.yml', 'ci/roles/user/tasks/main.yml', 'ci/roles/security_group/defaults/main.yml', 'ci/playbooks/devstack/post.yaml', 'ci/roles/network/defaults/main.yml', 'ci/roles/subnet/defaults/main.yml', 'tox.ini']",36,63e6509ebc7959b4ad18b5eb4cbca166d871b33e,newpar, [testenv:ansible] # Need to pass some env vars for the Ansible playbooks passenv = HOME USER ANSIBLE_VAR_* deps = {[testenv]deps} ansible commands = {toxinidir}/ci/run-ansible-tests.sh -e {envdir} {posargs},,1048,1
openstack%2Fpuppet-designate~master~Iad16376047628bd16470dd4fd17fd260b927aa6c,openstack/puppet-designate,master,Iad16376047628bd16470dd4fd17fd260b927aa6c,Configure keystone_authtoken/service_token_roles,MERGED,2020-01-20 00:23:09.000000000,2020-01-21 15:56:02.000000000,2020-01-21 15:54:12.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 00:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/e1ff806d78866f9f2e77c8f069a959985fdb813e', 'message': 'Configure keystone_authtoken/service_token_roles\n\nThis patch introduces a new hieradata to configure service_token_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: Iad16376047628bd16470dd4fd17fd260b927aa6c\n'}, {'number': 2, 'created': '2020-01-20 10:00:04.000000000', 'files': ['spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-service_token_roles-9578988f67c26e13.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/7eae76e4969d437d6d93bc4b2f8725427d3f3e7a', 'message': 'Configure keystone_authtoken/service_token_roles\n\nThis patch introduces a new hieradata to configure service_token_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: Iad16376047628bd16470dd4fd17fd260b927aa6c\n'}]",2,703312,7eae76e4969d437d6d93bc4b2f8725427d3f3e7a,12,4,2,9816,,,0,"Configure keystone_authtoken/service_token_roles

This patch introduces a new hieradata to configure service_token_roles
in keystone authtoken middleware configuration, so that we can use
a customized role for user who uses service token feature.

Change-Id: Iad16376047628bd16470dd4fd17fd260b927aa6c
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/12/703312/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-service_token_roles-9578988f67c26e13.yaml']",3,e1ff806d78866f9f2e77c8f069a959985fdb813e,service-token-roles,--- features: - | New hieradta designate::keystone::authtoken::service_token_roles is introduced so that specific role can be assigned to the servide user who can use service token feature. ,,21,0
openstack%2Fnetworking-ovn~stable%2Fstein~Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,openstack/networking-ovn,stable/stein,Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,Exclude all device_ids that belong to Neutron DHCP Agent,MERGED,2020-01-17 20:29:25.000000000,2020-01-21 15:49:21.000000000,2020-01-21 15:46:51.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-01-17 20:29:25.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/509e2833eee9583bd6994bacc8de1c7bd06e51bf', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 15bf8f265b14c3a1e2c89a17a77cee69cad22b9d)\n""}]",0,703192,509e2833eee9583bd6994bacc8de1c7bd06e51bf,9,4,1,11952,,,0,"Exclude all device_ids that belong to Neutron DHCP Agent

It looks like sometimes, the device_id for ports created
by Neutron DHCP Agent can be in the form of:

- dhcp-$hostuuid-$networkid
- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)

Current code is only taking the first form into account when
skipping Neutron DHCP Agent ports. This patch is changing it
to include both forms.

Closes-Bug: #1848521
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 15bf8f265b14c3a1e2c89a17a77cee69cad22b9d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/703192/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py']",4,509e2833eee9583bd6994bacc8de1c7bd06e51bf,bug/1848521, # Do not touch the Neutron DHCP agents ports if utils.is_neutron_dhcp_agent_port(port):, # Ports with a device_id like 'dhcp<host_id>-<network_id>' # belong to Neutron DHCP agent so we'll skip those for OVN # metadata. if port['device_id'].startswith('dhcp'):,35,8
openstack%2Ftripleo-ansible~master~I3696238b26d8567bc3145a22b2b9ec944cb14d13,openstack/tripleo-ansible,master,I3696238b26d8567bc3145a22b2b9ec944cb14d13,Programatically generate ssh hosts lines,MERGED,2019-12-17 21:07:01.000000000,2020-01-21 15:47:31.000000000,2019-12-23 17:27:10.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 21:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3753b388a83c4bbe34371713a9ccf3f1ad351719', 'message': ""Programatically generate ssh hosts lines\n\nThis change will ensure that the ssh hosts lines we create are\nprogramatically generated. This will ensure we're not running\ninto errors caused by missing or bad facts or generating lines\nthat do not make sense caused by bad string slicing or one off\njinja errors.\n\nChange-Id: I3696238b26d8567bc3145a22b2b9ec944cb14d13\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2019-12-17 23:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/04b2b75ad5d263e7998449e4c2a08074cea4fe1b', 'message': ""Programatically generate ssh hosts lines\n\nThis change will ensure that the ssh hosts lines we create are\nprogramatically generated. This will ensure we're not running\ninto errors caused by missing or bad facts or generating lines\nthat do not make sense caused by bad string slicing or one off\njinja errors.\n\nChange-Id: I3696238b26d8567bc3145a22b2b9ec944cb14d13\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2019-12-18 20:14:50.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0a87cadd277bf116013f573fd4f82edf220ec597', 'message': ""Programatically generate ssh hosts lines\n\nThis change will ensure that the ssh hosts lines we create are\nprogramatically generated. This will ensure we're not running\ninto errors caused by missing or bad facts or generating lines\nthat do not make sense caused by bad string slicing or one off\njinja errors.\n\nRelated-Bug: #1837644\nRelated-Bug: #1855149\nCloses-Bug: #1856893\nChange-Id: I3696238b26d8567bc3145a22b2b9ec944cb14d13\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",2,699502,0a87cadd277bf116013f573fd4f82edf220ec597,21,4,3,7353,,,0,"Programatically generate ssh hosts lines

This change will ensure that the ssh hosts lines we create are
programatically generated. This will ensure we're not running
into errors caused by missing or bad facts or generating lines
that do not make sense caused by bad string slicing or one off
jinja errors.

Related-Bug: #1837644
Related-Bug: #1855149
Closes-Bug: #1856893
Change-Id: I3696238b26d8567bc3145a22b2b9ec944cb14d13
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/699502/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'],1,3753b388a83c4bbe34371713a9ccf3f1ad351719,bug/1856893," {% for host in groups['overcloud'] | intersect(play_hosts) %} {% if 'ansible_ssh_host_key_rsa_public' in hostvars[host] %} {% set line = '[' ~ ctlplane_ip ~ ']*,[' ~ host '.' ~ cloud_domain ~ ']*,[' ~ host ']*' %} {% if (enabled_networks and enabled_networks | length > 0 and 'role_networks' in hostvars[host] and hostvars[host]['role_networks'] and hostvars[host]['role_networks'] | length > 0) %} {% set line = line ~ ',' %} {% for network in enabled_networks %} {% if network in hostvars[host]['role_networks'] %} {% set line = line ~ '[' ~ hostvars[host][(networks[network][""name""] ~ '_ip')] ~ ']*,[' ~ host ~ '.' ~ network.lower() ~ ']*,' %} {% set line = line ~ '[' ~ host ~ '.' ~ network.lower() ~ '.' ~ cloud_domain ~ ']*' %} {% if not loop.last %} {% set line = line ~ ',' %} {% endif %} {% endif %} {% endfor %} {% endif %} {% set line = line ~ ' ssh-rsa ' ~ hostvars[host]['ansible_ssh_host_key_rsa_public'] %} {{ line }} {% endif %}"," {%- for host in groups['overcloud'] | intersect(play_hosts) %} [{{ ctlplane_ip }}]*,[{{ host }}.{{ cloud_domain }}]*,[{{ host }}]* {%- if (enabled_networks and enabled_networks | length > 0 and 'role_networks' in hostvars[host] and hostvars[host]['role_networks'] and hostvars[host]['role_networks'] | length > 0) %}, {%- for network in enabled_networks %} {%- if network in hostvars[host]['role_networks'] %} [{{ hostvars[host][networks[network]['name'] ~ '_ip'] }}]*,[{{ host }}.{{ network.lower() }}]*,{% if 1 %}{% endif %} [{{ host }}.{{ network.lower() }}.{{ cloud_domain }}]*{% if not loop.last %},{% endif %} {%- endif -%} {%- endfor -%} {%- endif -%} {{ ' ssh-rsa ' ~ hostvars[host]['ansible_ssh_host_key_rsa_public'] }}",19,12
openstack%2Fnetworking-ovn~stable%2Fqueens~Iddd89725e617b22c35e30ae7f20a7f87de296cdb,openstack/networking-ovn,stable/queens,Iddd89725e617b22c35e30ae7f20a7f87de296cdb,Fix revision number race condition with attaching router interfaces,MERGED,2020-01-10 12:55:29.000000000,2020-01-21 15:44:51.000000000,2020-01-21 15:44:51.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-10 12:55:29.000000000', 'files': ['networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/db/test_revision.py', 'networking_ovn/db/revision.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4804513907f7669669af273e57ceb821dc242578', 'message': 'Fix revision number race condition with attaching router interfaces\n\nThere\'s a special case in the update_port_precommit() method to handle\nthe case where an existing port is being added to a router. The method\nwill try to create an entry in the ovn_revision_numbers table but, if\nthat entry is already present a DBDuplicateEntry exception will be\nraised and the whole update method will fail.\n\nThe update_port_precommit() is the only method at present that have this\nspecial handler, for all other resources creating a new record in the\novn_revision_numbers table happens at the create_*_precommit() methods\n(this include create_port_precommit() as well).\n\nThis patch is fixing the problem by adding a new parameter to the\nreate_initial_revision() method called ""may_exist"". When set to True the\ncode will not raise an DBDuplicateEntry if the record already exists. By\ndefault this method is False.\n\nCloses-Bug: #1800875\nChange-Id: Iddd89725e617b22c35e30ae7f20a7f87de296cdb\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b5642d93a6c0ce0141fb5f61a3d853b026b7b67d)\n'}]",0,701951,4804513907f7669669af273e57ceb821dc242578,7,3,1,8655,,,0,"Fix revision number race condition with attaching router interfaces

There's a special case in the update_port_precommit() method to handle
the case where an existing port is being added to a router. The method
will try to create an entry in the ovn_revision_numbers table but, if
that entry is already present a DBDuplicateEntry exception will be
raised and the whole update method will fail.

The update_port_precommit() is the only method at present that have this
special handler, for all other resources creating a new record in the
ovn_revision_numbers table happens at the create_*_precommit() methods
(this include create_port_precommit() as well).

This patch is fixing the problem by adding a new parameter to the
reate_initial_revision() method called ""may_exist"". When set to True the
code will not raise an DBDuplicateEntry if the record already exists. By
default this method is False.

Closes-Bug: #1800875
Change-Id: Iddd89725e617b22c35e30ae7f20a7f87de296cdb
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b5642d93a6c0ce0141fb5f61a3d853b026b7b67d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/51/701951/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/db/test_revision.py', 'networking_ovn/db/revision.py']",3,4804513907f7669669af273e57ceb821dc242578,bug/1800875-stable/rocky-stable/queens," revision_number=ovn_const.INITIAL_REV_NUM, may_exist=False): db_func = session.merge if may_exist else session.add db_func(row)", revision_number=ovn_const.INITIAL_REV_NUM): session.add(row),21,3
openstack%2Fgovernance~master~I33c561645165dd30866e2f1827c8310d3a46306a,openstack/governance,master,I33c561645165dd30866e2f1827c8310d3a46306a,Begin the 'W' release naming process,MERGED,2020-01-14 13:11:54.000000000,2020-01-21 15:39:36.000000000,2020-01-21 15:37:41.000000000,"[{'_account_id': 308}, {'_account_id': 4257}, {'_account_id': 7198}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 13:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c423abd69b6cf67d6577f1367adeed794f4db4af', 'message': ""Begin the 'W' release naming process\n\nThis kicks off the naming for the W release. This is the first release\nthat broadens the scope of release names from being restricted to the\ngeogrphic region, to allowing any name that begins with the appropriate\nletter.\n\nName nominations will use the patter we have established and are\ndetailed in:\n\nhttps://wiki.openstack.org/wiki/Release_Naming/W_Proposals\n\nChange-Id: I33c561645165dd30866e2f1827c8310d3a46306a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2020-01-14 14:39:51.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/007459b4e2b8bde74029dd6c70c61360861ae497', 'message': ""Begin the 'W' release naming process\n\nThis kicks off the naming for the W release. This is the first release\nthat broadens the scope of release names from being restricted to the\ngeogrphic region, to allowing any name that begins with the appropriate\nletter.\n\nName nominations will use the pattern we have established and are\ndetailed in:\n\nhttps://wiki.openstack.org/wiki/Release_Naming/W_Proposals\n\nChange-Id: I33c561645165dd30866e2f1827c8310d3a46306a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",5,702414,007459b4e2b8bde74029dd6c70c61360861ae497,31,10,2,11904,,,0,"Begin the 'W' release naming process

This kicks off the naming for the W release. This is the first release
that broadens the scope of release names from being restricted to the
geogrphic region, to allowing any name that begins with the appropriate
letter.

Name nominations will use the pattern we have established and are
detailed in:

https://wiki.openstack.org/wiki/Release_Naming/W_Proposals

Change-Id: I33c561645165dd30866e2f1827c8310d3a46306a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/14/702414/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,c423abd69b6cf67d6577f1367adeed794f4db4af,formal-vote," Technical Committee, and the poll should be run in a manner that allows#. The name must be a single word with a maximum length of 10 characters.W Sean McGinnis 2020-01-20 2020-02-17 2020-02-23 *any* [*]_ .. [*] Starting with the W release, the naming criteria changed from referring to the physical or human geography of the region encompassing the location of the OpenStack Summit, to any name proposed by the community that starts with the designated release letter."," Technical Committee, and the poll should be run in a maner that allows#. The name must be a single word with a maximum of 10 characters.",8,2
openstack%2Frequirements~master~I85916e5a0c4443c92a319a075d003227627ec599,openstack/requirements,master,I85916e5a0c4443c92a319a075d003227627ec599,Pin g-r for neutron-lib to 1.18.0 for python2,ABANDONED,2020-01-16 21:12:11.000000000,2020-01-21 15:36:21.000000000,,"[{'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-16 21:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e96b14d61b200a1c967d3d329ea6b81b395f3f82', 'message': 'Pin neutron-lib to 1.18.0 for python2\n\nneutron-lib 2.0.0 is python3 only, pin for python2 so\nstable/rocky and older jobs can run.\n\nChange-Id: I85916e5a0c4443c92a319a075d003227627ec599\nPartial-bug: #1860033\n'}, {'number': 2, 'created': '2020-01-16 21:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b5cd5de1d3335ec86528fb6c50666f4d9c0f1640', 'message': 'Pin g-c for neutron-lib to 1.18.0 for python2\n\nneutron-lib 2.0.0 is python3 only, pin for python2 so\nstable/rocky and older jobs can run.\n\nChange-Id: I85916e5a0c4443c92a319a075d003227627ec599\nPartial-bug: #1860033\n'}, {'number': 3, 'created': '2020-01-16 21:24:06.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4a1d535ada2277420e7e910bde82264a3a3c5efa', 'message': 'Pin g-r for neutron-lib to 1.18.0 for python2\n\nneutron-lib 2.0.0 is python3 only, pin for python2 so\nstable/rocky and older jobs can run.\n\nChange-Id: I85916e5a0c4443c92a319a075d003227627ec599\nPartial-bug: #1860033\n'}]",2,702986,4a1d535ada2277420e7e910bde82264a3a3c5efa,19,4,3,1131,,,0,"Pin g-r for neutron-lib to 1.18.0 for python2

neutron-lib 2.0.0 is python3 only, pin for python2 so
stable/rocky and older jobs can run.

Change-Id: I85916e5a0c4443c92a319a075d003227627ec599
Partial-bug: #1860033
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/702986/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e96b14d61b200a1c967d3d329ea6b81b395f3f82,bug/1860033,neutron-lib===1.18.0;python_version=='2.7' neutron-lib===2.0.0;python_version=='3.4' neutron-lib===2.0.0;python_version=='3.5' neutron-lib===2.0.0;python_version=='3.6' neutron-lib===2.0.0;python_version=='3.7',neutron-lib===2.0.0,5,1
openstack%2Fironic~master~I1dd046c2e5fca211a84290bac8daa7550b21614f,openstack/ironic,master,I1dd046c2e5fca211a84290bac8daa7550b21614f,Allow reading root_device from instance_info,MERGED,2020-01-03 17:00:09.000000000,2020-01-21 15:31:58.000000000,2020-01-20 15:59:02.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-03 17:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbb33f155564d1b1115d8bed641d195688162cdd', 'message': '[WIP] Allow reading root_device from instance_info\n\nFor the future deployment API we need to be able to set root_device\nper deployment in addition to per node. This change adds it.\n\nChange-Id: I1dd046c2e5fca211a84290bac8daa7550b21614f\nStory: #2006910\nTask: #37556\n'}, {'number': 2, 'created': '2020-01-08 14:55:52.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'releasenotes/notes/instance-info-root-device-0a5190240fcc8fd8.yaml', 'ironic/drivers/modules/ansible/deploy.py', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/42dc9787e52670bb1e1baa36f08703dd802804f4', 'message': 'Allow reading root_device from instance_info\n\nFor the future deployment API we need to be able to set root_device\nper deployment in addition to per node. This change adds it.\n\nChange-Id: I1dd046c2e5fca211a84290bac8daa7550b21614f\nDepends-On: https://review.opendev.org/701043\nStory: #2006910\nTask: #37556\n'}]",3,701048,42dc9787e52670bb1e1baa36f08703dd802804f4,38,9,2,10239,,,0,"Allow reading root_device from instance_info

For the future deployment API we need to be able to set root_device
per deployment in addition to per node. This change adds it.

Change-Id: I1dd046c2e5fca211a84290bac8daa7550b21614f
Depends-On: https://review.opendev.org/701043
Story: #2006910
Task: #37556
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/701048/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/ansible/deploy.py']",4,cbb33f155564d1b1115d8bed641d195688162cdd,story/2006910, root_device = deploy_utils.get_root_device_for_deploy(node), root_device = node.properties.get('root_device'),9,3
openstack%2Fnova~master~Iab6245bc5ed8f95dae9c384b96e6bef0add7dca6,openstack/nova,master,Iab6245bc5ed8f95dae9c384b96e6bef0add7dca6,functional: Stop setting Flavor.id,MERGED,2020-01-21 09:51:00.000000000,2020-01-21 15:27:22.000000000,2020-01-21 15:24:00.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-21 09:51:00.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/765e4e52bffa66922808e8a4ca3c75a145049500', 'message': 'functional: Stop setting Flavor.id\n\nIn change I475ea0fa5f2d5b197118f0ced5a0ff6907411972, we changed how we\ngenerated flavor names and IDs to stop basing them on existing flavors.\nHowever, the call to \'randint(10000)\' that we used instead has proven\nproblematic since there is a high chance of collisions that will only\nincrease as the number of tests increase. We could switch back to the\nprevious scheme but that\'s unnecessary since there\'s actually no reason\nwe need to set \'Flavor.id\' in the first place...so don\'t.\n\nA now-unused remnant of the ""old way"" is also removed, since it was\nspotted while fixing this.\n\nChange-Id: Iab6245bc5ed8f95dae9c384b96e6bef0add7dca6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1860417\n'}]",0,703568,765e4e52bffa66922808e8a4ca3c75a145049500,14,8,1,15334,,,0,"functional: Stop setting Flavor.id

In change I475ea0fa5f2d5b197118f0ced5a0ff6907411972, we changed how we
generated flavor names and IDs to stop basing them on existing flavors.
However, the call to 'randint(10000)' that we used instead has proven
problematic since there is a high chance of collisions that will only
increase as the number of tests increase. We could switch back to the
previous scheme but that's unnecessary since there's actually no reason
we need to set 'Flavor.id' in the first place...so don't.

A now-unused remnant of the ""old way"" is also removed, since it was
spotted while fixing this.

Change-Id: Iab6245bc5ed8f95dae9c384b96e6bef0add7dca6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-bug: #1860417
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/703568/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,765e4e52bffa66922808e8a4ca3c75a145049500,functional-test-cleanup,," if not id: id = random.randint(0, 10000) def get_unused_flavor_name_id(self): flavors = self.api.get_flavors() flavor_names = list() flavor_ids = list() [(flavor_names.append(flavor['name']), flavor_ids.append(flavor['id'])) for flavor in flavors] return (generate_new_element(flavor_names, 'flavor'), int(generate_new_element(flavor_ids, '', True)))",0,13
openstack%2Fmonasca-agent~stable%2Frocky~Id95cc7115823f972e234417223ab5906b57447cc,openstack/monasca-agent,stable/rocky,Id95cc7115823f972e234417223ab5906b57447cc,add X.509 certificate check plugin,MERGED,2020-01-16 15:34:49.000000000,2020-01-21 15:24:56.000000000,2020-01-21 15:24:56.000000000,"[{'_account_id': 1916}, {'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-16 15:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/8fc3ac68c0a1c812a78c121914a923c84ed31a6f', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n(cherry picked from commit e1d73c4b5de577e663084bda9d3f5185c433af84)\n(cherry picked from commit 583e5727c4b1a0e982e350ea781ac59b2250c4d8)\n""}, {'number': 2, 'created': '2020-01-16 15:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/237b378160407b2f7a83150ad758cf73d84600eb', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n(cherry picked from commit e1d73c4b5de577e663084bda9d3f5185c433af84)\n""}, {'number': 3, 'created': '2020-01-17 12:10:43.000000000', 'files': ['test-requirements.txt', 'monasca_setup/detection/plugins/cert_file_check.py', 'tests/detection/test_cert_file_check.py', 'docs/Plugins.md', 'setup.cfg', 'tests/checks_d/test_cert_file_check.py', 'monasca_agent/collector/checks_d/cert_file_check.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/498d0549f94973640f7475512414b982e622dede', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n(cherry picked from commit e1d73c4b5de577e663084bda9d3f5185c433af84)\n""}]",0,702896,498d0549f94973640f7475512414b982e622dede,13,4,3,1916,,,0,"add X.509 certificate check plugin

Currently we don't have any capability to monitor the internal TLS/SSL
certificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for
distribution, etc. The cert_check plugin is not adequate for this purpose
becaue it can only check on certficates over HTTPS endpoints. Furthermore,
checking on these internal certificates over the network is cumbersome
because the agent plugin would have to speak specific protocols.

This patch adds a cert_file_check plugin to detect the certificate expiry
(in days from now) for the given X.509 certificate file in PEM format.
Similar to cert_check plugin, this plugin will a metric
'cert_file.cert_expire_days' which contains the number of days from now the
given certificate will be expired. If the certificate has already expired,
this will be a negative number.

Change-Id: Id95cc7115823f972e234417223ab5906b57447cc
Story: 2006753
(cherry picked from commit e1d73c4b5de577e663084bda9d3f5185c433af84)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/96/702896/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'monasca_setup/detection/plugins/cert_file_check.py', 'tests/detection/test_cert_file_check.py', 'docs/Plugins.md', 'setup.cfg', 'monasca_agent/collector/checks_d/cert_file_check.py', 'tests/checks_d/test_cert_file_check.py']",7,8fc3ac68c0a1c812a78c121914a923c84ed31a6f,,"# Copyright 2019 SUSE LLC # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime import logging import mock import os import shutil import tempfile import unittest from cryptography import x509 from cryptography.x509.oid import NameOID from cryptography.hazmat.primitives import hashes from cryptography.hazmat.backends import default_backend from cryptography.hazmat.primitives import serialization from cryptography.hazmat.primitives.asymmetric import rsa import freezegun from monasca_agent.collector.checks_d import cert_file_check LOG = logging.getLogger('monasca_agent.collector.checks.check.cert_file_check') def generate_selfsigned_cert(expired_in): key = rsa.generate_private_key( public_exponent=65537, key_size=1024, backend=default_backend() ) issuer = subject = x509.Name([ x509.NameAttribute(NameOID.COMMON_NAME, u'foo') ]) now = datetime.datetime.utcnow() cert = ( x509.CertificateBuilder() .subject_name(issuer) .issuer_name(subject) .public_key(key.public_key()) .serial_number(1) .not_valid_before(now) .not_valid_after(now + datetime.timedelta(days=expired_in)) .sign(key, hashes.SHA256(), default_backend()) ) cert_pem = cert.public_bytes(encoding=serialization.Encoding.PEM) return cert_pem.decode('ascii') class TestCertificateFileCheck(unittest.TestCase): def setUp(self): super(TestCertificateFileCheck, self).setUp() self.cert_file_check_obj = cert_file_check.CertificateFileCheck( name='cert_file_check', init_config={}, instances=[], agent_config={} ) def test_cert_file_is_none(self): with mock.patch.object(LOG, 'warning') as mock_log: self.cert_file_check_obj.check({'foo': 'bar'}) mock_log.assert_called_with( 'Instance have no ""cert_file"" configured.') def test_unable_to_read_file(self): tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') try: bogus_cert_file = os.path.join(tmp_certdir, 'foo') with mock.patch.object(LOG, 'warning') as mock_log: self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) mock_log.assert_called_with( 'Unable to read certificate from %s' % (bogus_cert_file)) finally: shutil.rmtree(tmp_certdir) def test_unable_to_load_file(self): tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') try: bogus_cert_file = os.path.join(tmp_certdir, 'foo') # create a non-PEM formatted certificate file with open(bogus_cert_file, 'w') as f: f.write('foo') with mock.patch.object(LOG, 'warning') as mock_log: self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) mock_log.assert_called_with( 'Unable to load certificate from %s. Invalid content.' % ( bogus_cert_file)) finally: shutil.rmtree(tmp_certdir) def test_check(self): tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') try: cert_file = os.path.join(tmp_certdir, 'foo') # create a self-signed cert that expires in 10 days from now with open(cert_file, 'w') as f: f.write(generate_selfsigned_cert(10)) with mock.patch.object(cert_file_check.CertificateFileCheck, 'gauge') as mock_gauge: self.cert_file_check_obj.check({'cert_file': cert_file}) args, kwargs = mock_gauge.call_args # make sure the plugin correctly detect the given cert will be # expiring in equal or less than 10 days from now self.assertEqual('cert_file.cert_expire_days', args[0]) self.assertLessEqual(args[1], 10) finally: shutil.rmtree(tmp_certdir) def test_check_expired_cert(self): tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') try: cert_file = os.path.join(tmp_certdir, 'foo') # create a self-signed cert that has expired 10 days ago with open(cert_file, 'w') as f: f.write(generate_selfsigned_cert(10)) now = datetime.datetime.utcnow() back_to_the_future = now + datetime.timedelta(days=20) with freezegun.freeze_time(back_to_the_future): with mock.patch.object(cert_file_check.CertificateFileCheck, 'gauge') as mock_gauge: self.cert_file_check_obj.check({'cert_file': cert_file}) args, kwargs = mock_gauge.call_args # make sure the plugin correctly detect that the given # cert has already expired self.assertEqual('cert_file.cert_expire_days', args[0]) self.assertLessEqual(args[1], -9) finally: shutil.rmtree(tmp_certdir) ",,429,0
openstack%2Fnova~master~I2d26658d89d9f32c11f34b9218abb2037e0ff036,openstack/nova,master,I2d26658d89d9f32c11f34b9218abb2037e0ff036,DNM: Serialize datetime in NovaObjectSerializer,ABANDONED,2019-08-08 09:41:38.000000000,2020-01-21 15:23:43.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-08 09:41:38.000000000', 'files': ['nova/objects/base.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1ed80ad2c49911933322745d0097389bfd1a4fc', 'message': 'DNM: Serialize datetime in NovaObjectSerializer\n\nImageMeta is passed to RPC as a primitive dict instead as an ovo. But\nthe primitive dict contains datetime objects which is not serialized by\nthe NovaObjectSerializer. This patch removes the manual json\nserialization and deserialization of the ImageMeta from pre_resize() RPC\ncall and adds datetime serialization to the NovaObjectSerialzier as an\nexperiment to see what breaks.\n\nChange-Id: I2d26658d89d9f32c11f34b9218abb2037e0ff036\nRelated-Bug: #1529084\n'}]",1,675281,a1ed80ad2c49911933322745d0097389bfd1a4fc,13,10,1,9708,,,0,"DNM: Serialize datetime in NovaObjectSerializer

ImageMeta is passed to RPC as a primitive dict instead as an ovo. But
the primitive dict contains datetime objects which is not serialized by
the NovaObjectSerializer. This patch removes the manual json
serialization and deserialization of the ImageMeta from pre_resize() RPC
call and adds datetime serialization to the NovaObjectSerialzier as an
experiment to see what breaks.

Change-Id: I2d26658d89d9f32c11f34b9218abb2037e0ff036
Related-Bug: #1529084
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/675281/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/base.py', 'nova/compute/rpcapi.py']",2,a1ed80ad2c49911933322745d0097389bfd1a4fc,,, # FIXME(sbauza): Serialize/Unserialize the legacy dict because of # oslo.messaging #1529084 to transform datetime values into strings. # tl;dr: datetimes in dicts are not accepted as correct values by the # rpc fake driver. image_p = jsonutils.loads(jsonutils.dumps(image_p)),12,5
openstack%2Fkuryr-kubernetes~master~I0d5f6ffd47fe0a1ae998aa4a61a9240ce0accd40,openstack/kuryr-kubernetes,master,I0d5f6ffd47fe0a1ae998aa4a61a9240ce0accd40,Ensure lb SG is not updated on member creation,MERGED,2020-01-17 13:18:40.000000000,2020-01-21 14:59:32.000000000,2020-01-21 14:57:21.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-01-17 13:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/efefad22cb82a7672661f81b8c6bb047adc89551', 'message': 'Ensure lb SG is not updated on member creation\n\nWhe enforce_sg_rules is not set member creation should not trigger\nloadbalancer security group rules update. This patch ensures the\naction is not triggered in such a case.\n\nImplements: blueprint octavia-acls\nChange-Id: I0d5f6ffd47fe0a1ae998aa4a61a9240ce0accd40\n'}, {'number': 2, 'created': '2020-01-17 15:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a2bc14ca4485e0c206167103776e735ec226f2e1', 'message': 'Ensure lb SG is not updated on member creation\n\nWhe enforce_sg_rules is not set member creation should not trigger\nloadbalancer security group rules update. This patch ensures the\naction is not triggered in such a case.\n\nCloses-Bug: 1860145\nChange-Id: I0d5f6ffd47fe0a1ae998aa4a61a9240ce0accd40\n'}, {'number': 3, 'created': '2020-01-21 08:47:40.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8efde71bafcf28f3007e5ea7674c6e2edae357b8', 'message': 'Ensure lb SG is not updated on member creation\n\nWhen enforce_sg_rules is not set the member creation should not trigger\nloadbalancer security group rules update. This patch ensures the\naction is not triggered in such a case.\n\nCloses-Bug: 1860145\nChange-Id: I0d5f6ffd47fe0a1ae998aa4a61a9240ce0accd40\n'}]",2,703074,8efde71bafcf28f3007e5ea7674c6e2edae357b8,30,6,3,23567,,,0,"Ensure lb SG is not updated on member creation

When enforce_sg_rules is not set the member creation should not trigger
loadbalancer security group rules update. This patch ensures the
action is not triggered in such a case.

Closes-Bug: 1860145
Change-Id: I0d5f6ffd47fe0a1ae998aa4a61a9240ce0accd40
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/74/703074/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,efefad22cb82a7672661f81b8c6bb047adc89551,ovn-acls, if (network_policy and CONF.octavia_defaults.enforce_sg_rules and listener_port):, if network_policy and listener_port:,2,1
openstack%2Ftripleo-upgrade~stable%2Fstein~I1230c3a6ab32dbfcdc90e944a8ec7397d95d588b,openstack/tripleo-upgrade,stable/stein,I1230c3a6ab32dbfcdc90e944a8ec7397d95d588b,Ensure that oc_roles_hosts is looped properly,ABANDONED,2020-01-21 13:06:13.000000000,2020-01-21 14:59:16.000000000,,[{'_account_id': 6816}],"[{'number': 1, 'created': '2020-01-21 13:06:13.000000000', 'files': ['tasks/upgrade/create-overcloud-upgrade-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f5c8e588fed547e1f747ab9495f686d42a235031', 'message': 'Ensure that oc_roles_hosts is looped properly\n\nThe variable oc_roles_hosts is a dict, and with Ansible\n2.7+ if we loop through it we need to convert it into\na list using the dict2items filter as advised in [a].\n\nThis change does not apply to train or ussuri, so this\nfix is applied directly to stein.\n\n[a] https://docs.ansible.com/ansible/2.7/user_guide/playbooks_loops.html#with-dict\n\nChange-Id: I1230c3a6ab32dbfcdc90e944a8ec7397d95d588b\n'}]",0,703608,f5c8e588fed547e1f747ab9495f686d42a235031,3,1,1,6816,,,0,"Ensure that oc_roles_hosts is looped properly

The variable oc_roles_hosts is a dict, and with Ansible
2.7+ if we loop through it we need to convert it into
a list using the dict2items filter as advised in [a].

This change does not apply to train or ussuri, so this
fix is applied directly to stein.

[a] https://docs.ansible.com/ansible/2.7/user_guide/playbooks_loops.html#with-dict

Change-Id: I1230c3a6ab32dbfcdc90e944a8ec7397d95d588b
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/08/703608/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/create-overcloud-upgrade-hosts-scripts.yaml'],1,f5c8e588fed547e1f747ab9495f686d42a235031,," role_hosts: ""{{ oc_roles_hosts[role] | dict2items }}"" loop: ""{{ oc_roles_hosts[role] | dict2items }}"" loop: ""{{ oc_roles_hosts[role] | dict2items }}"""," role_hosts: ""{{ oc_roles_hosts[role] }}"" loop: ""{{ oc_roles_hosts[role] }}"" loop: ""{{ oc_roles_hosts[role] }}""",3,3
openstack%2Fkolla~master~I2ab2164086ac021f0bda356b51e378e594219d59,openstack/kolla,master,I2ab2164086ac021f0bda356b51e378e594219d59,Make the validation of PIP constraints configurable in Horizon,ABANDONED,2020-01-15 16:37:15.000000000,2020-01-21 14:47:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}, {'_account_id': 30695}]","[{'number': 1, 'created': '2020-01-15 16:37:15.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9fa48c98459cc88020bbc9cef5637584dc6a11eb', 'message': 'Make the validation of PIP constraints configurable in Horizon\n\nThe current solution for the PIP Horizon constraints validations is to\nremove the horizon entry from the upper-constraints file (that is\nbreaking the container build when we are developing a newer version),\nbut this solution removes the horizon entry even when we want to release\na container that is based on a closed version of Horizon; when working\nwith released Horizon version, the new Horizon version will be updated\nin the upper-constraints; therefore, during the release process, this\nconstraint is not be used (with the current Docker file), but the idea\nof its introduction (the use of the Horizon version in the constraints\nfile) is that we use it to validate the release dependencies.\n\nTherefore, we propose to instead of removing the horizon version\nconstraint from the validation, we make the validation of constraints\nconfigurable. Therefore, we can disable it in dev builds and enable it\nin release builds, otherwise, there is no reason to maintain the horizon\nversion entry in the OpenStack requirements as the horizon builds always\nignore it.\n\nTo configure the use of constraints in PIP install while building the\nHorizon container, we will need to use a template override that sets the\n`horizon_use_pip_validate_constraints`. We need to set the variable to\n`True` (if we want to validate the constraints), or `False` (if we do\nnot). The default value if the variable is not set is `True`. To use a\ntemplate override while building the container, we must call the\nbuild.py with the parameter `--template-override /path/to/template.j2`,\nor we can use the configuration in the kolla-build.cfg file.\n\nChange-Id: I2ab2164086ac021f0bda356b51e378e594219d59\n'}]",0,702699,9fa48c98459cc88020bbc9cef5637584dc6a11eb,11,4,1,30695,,,0,"Make the validation of PIP constraints configurable in Horizon

The current solution for the PIP Horizon constraints validations is to
remove the horizon entry from the upper-constraints file (that is
breaking the container build when we are developing a newer version),
but this solution removes the horizon entry even when we want to release
a container that is based on a closed version of Horizon; when working
with released Horizon version, the new Horizon version will be updated
in the upper-constraints; therefore, during the release process, this
constraint is not be used (with the current Docker file), but the idea
of its introduction (the use of the Horizon version in the constraints
file) is that we use it to validate the release dependencies.

Therefore, we propose to instead of removing the horizon version
constraint from the validation, we make the validation of constraints
configurable. Therefore, we can disable it in dev builds and enable it
in release builds, otherwise, there is no reason to maintain the horizon
version entry in the OpenStack requirements as the horizon builds always
ignore it.

To configure the use of constraints in PIP install while building the
Horizon container, we will need to use a template override that sets the
`horizon_use_pip_validate_constraints`. We need to set the variable to
`True` (if we want to validate the constraints), or `False` (if we do
not). The default value if the variable is not set is `True`. To use a
template override while building the container, we must call the
build.py with the parameter `--template-override /path/to/template.j2`,
or we can use the configuration in the kolla-build.cfg file.

Change-Id: I2ab2164086ac021f0bda356b51e378e594219d59
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/702699/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,9fa48c98459cc88020bbc9cef5637584dc6a11eb,upstream/feature/turn-use-of-constraint-configurable-in-pip-install," && {{ macros.install_pip(horizon_pip_packages | customizable(""pip_packages""), constraints = horizon_use_pip_validate_constraints is not defined or horizon_use_pip_validate_constraints) }} \ {{ macros.install_pip(horizon_plugins_pip_packages, constraints = horizon_use_pip_validate_constraints is not defined or horizon_use_pip_validate_constraints) }}; \","# NOTE(hrw): to install horizon from unpacked sources we cannot have it in upper-constraints.txt && sed -i /^horizon=/d /requirements/upper-constraints.txt \ && {{ macros.install_pip(horizon_pip_packages | customizable(""pip_packages"")) }} \ {{ macros.install_pip(horizon_plugins_pip_packages) }}; \",2,4
openstack%2Fkolla~stable%2Ftrain~I186735fe8098ec30d22ede48224a8fece3df8147,openstack/kolla,stable/train,I186735fe8098ec30d22ede48224a8fece3df8147,[train] Bump versions,MERGED,2020-01-20 09:49:24.000000000,2020-01-21 14:47:15.000000000,2020-01-21 14:43:53.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-20 09:49:24.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f8b48998e5d600f24513848b600e84176ce90223', 'message': '[train] Bump versions\n\nChange-Id: I186735fe8098ec30d22ede48224a8fece3df8147\n'}]",0,703353,f8b48998e5d600f24513848b600e84176ce90223,8,3,1,30491,,,0,"[train] Bump versions

Change-Id: I186735fe8098ec30d22ede48224a8fece3df8147
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/703353/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,f8b48998e5d600f24513848b600e84176ce90223,," 'mistral-dashboard-9.0.1.tar.gz')}, 'vmware-nsx-15.0.0.tar.gz')},"," 'mistral-dashboard-9.0.0.tar.gz')}, 'vmware-nsx-14.0.0.tar.gz')},",2,2
openstack%2Fironic-python-agent-builder~master~I636a2ecc4bf5b0106247f06e9dc45c91f254fda3,openstack/ironic-python-agent-builder,master,I636a2ecc4bf5b0106247f06e9dc45c91f254fda3,[DNM] Test CI,ABANDONED,2020-01-17 09:33:57.000000000,2020-01-21 14:42:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-17 09:33:57.000000000', 'files': ['dib/ironic-python-agent-ramdisk/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/817a13726e3eb61c7d9b97ab67395ee58e8dc119', 'message': '[DNM] Test CI\n\nChange-Id: I636a2ecc4bf5b0106247f06e9dc45c91f254fda3\n'}]",0,703043,817a13726e3eb61c7d9b97ab67395ee58e8dc119,4,2,1,23851,,,0,"[DNM] Test CI

Change-Id: I636a2ecc4bf5b0106247f06e9dc45c91f254fda3
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/43/703043/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/package-installs.yaml'],1,817a13726e3eb61c7d9b97ab67395ee58e8dc119,test-ci,gcc:,gcc:,1,1
openstack%2Fcharm-deployment-guide~master~I4ede1034b917b19d60701b1df66e65efd919404d,openstack/charm-deployment-guide,master,I4ede1034b917b19d60701b1df66e65efd919404d,Improvements to appendix Q,MERGED,2020-01-20 17:38:38.000000000,2020-01-21 14:36:19.000000000,2020-01-21 14:34:25.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 17:38:38.000000000', 'files': ['deploy-guide/source/app-manila-ganesha.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b24fc2f305fc9c1133a794e7b4ab857e3cb70241', 'message': 'Improvements to appendix Q\n\nChange-Id: I4ede1034b917b19d60701b1df66e65efd919404d\n'}]",0,703467,b24fc2f305fc9c1133a794e7b4ab857e3cb70241,7,2,1,30561,,,0,"Improvements to appendix Q

Change-Id: I4ede1034b917b19d60701b1df66e65efd919404d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/67/703467/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-manila-ganesha.rst'],1,b24fc2f305fc9c1133a794e7b4ab857e3cb70241,fixup-appendix-q,"As of the 20.02 OpenStack Charms release, with OpenStack Rocky or later, support for integrating Manila with CephFS to provide shared filesystems is available. Three new charms are needed to deploy this solution: 'manila', 'manila-ganesha', and 'ceph-fs'. The 'manila' charm provides the Manila API service to the OpenStack deployment, the 'ceph-fs' charm provides the Ceph services required to provide CephFS, and the 'manila-ganesha' charm integrates these two via a Manila managed NFS gateway (Ganesha) to provide access controlled NFS mounts to OpenStack instances.One way to add Manila Ganesha is to do so during the bundle deployment of a new OpenStack cloud. This is done by means of a bundle overlay, such as `manila-ganesha-overlay.yaml`: source: cloud:bionic-train openstack-origin: cloud:bionic-train openstack-origin: cloud:bionic-train The machine mappings will almost certainly need to be changed. To deploy OpenStack with Manila Ganesha: juju deploy ./base.yaml --overlay ./manila-ganesha-overlay.yaml Where `base.yaml` is a bundle to deploy OpenStack. See :doc:`Install OpenStack from a bundle <install-openstack-bundle>`.The charm uses a space called 'tenant-storage' and it should be accessible.. _grant access: https://docs.openstack.org/manila/latest/admin/cephfs_driver.html#allow-access-to-cephfs-nfs-share ","As of the 20.02 charm release, with OpenStack Rocky or later, support for integrating Manila with CephFS to provide shared filesystems is available. Three new charms are needeed to deploy this solution: manila, manila-ganesha, and ceph-fs. The manila charm provides the manila API service to the OpenStack deployment, the ceph-fs charm provides the Ceph services required to provide CephFS, and the manila-ganesha charm integrates these two via a Manila managed NFS gateway (Ganesha) to provide access controlled NFS mounts to OpenStack instances.One way to add Manila Ganesha is to do so during the bundle deployment of a new OpenStack cloud. This is done by means of a bundle overlay, such as `manila-ganesha-overlay.yaml`: source: cloud:bionic-rocky openstack-origin: cloud:bionic-rocky openstack-origin: cloud:bionic-rocky The machine mappings will almost certainly need to be changed. To use the overlay with an existing model remember to use the `--map-machines` switch to juju. To deploy OpenStack with Manila-Ganesha: juju deploy base.yaml --overlay manila-ganesha-overlay.yaml --map-machines=existingThe charm uses a space called `tenant-storage` and it should be accessible.. _grant access: https://docs.openstack.org/manila/latest/admin/cephfs_driver.html#allow-access-to-cephfs-nfs-share",23,20
openstack%2Fcharm-manila-ganesha~master~I145e61e6550953a149088507dd9182066f724c48,openstack/charm-manila-ganesha,master,I145e61e6550953a149088507dd9182066f724c48,Rationalise README with CDG appendix Q,MERGED,2020-01-15 20:06:37.000000000,2020-01-21 14:34:21.000000000,2020-01-21 14:34:20.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-15 20:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/32d055279b685994e9d91252fd157c2b67cbf140', 'message': 'Rationalise README with CDG appendix Q\n\nStreamline the charm README as per policy when a\nrelated appendix exists in the CDG.\n\nSome general improvements.\n\nThe bug section has been commented out as the\nLaunchpad project is not fully set up.\n\nChange-Id: I145e61e6550953a149088507dd9182066f724c48\n'}, {'number': 2, 'created': '2020-01-17 17:19:06.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/a99baa9f69df3375b486c238768d832b22723ed8', 'message': 'Rationalise README with CDG appendix Q\n\nStreamline the charm README as per policy when a\nrelated appendix exists in the CDG.\n\nSome general improvements.\n\nChange-Id: I145e61e6550953a149088507dd9182066f724c48\n'}]",0,702743,a99baa9f69df3375b486c238768d832b22723ed8,10,3,2,30561,,,0,"Rationalise README with CDG appendix Q

Streamline the charm README as per policy when a
related appendix exists in the CDG.

Some general improvements.

Change-Id: I145e61e6550953a149088507dd9182066f724c48
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/43/702743/2 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,32d055279b685994e9d91252fd157c2b67cbf140,rationalise-readme-with-cdg-appendix-q,"This charm provides Ganesha with CephFS as a storage backend for Manila, OpenStack's shared filesystem service. ## Usage Manila (charm 'manila') and this 'manila-ganesha' charm rely on services provided by the following charms: 'percona-cluster' (MySQL), 'rabbitmq-server', and 'keystone'. A charmed CephFS solution is also needed for the backend: 'ceph-fs' ('ceph-mon' is typically already included with OpenStack). High availability is a separate topic.This charm can optionally dedicate a provider's physical network to serving Ganesha NFS shares. It does so through its support for Juju spaces. The charm uses a space called 'tenant-storage'. ## Deployment One way to deploy Manila Ganesha is to use a bundle overlay when deploying OpenStack via a bundle: juju deploy ./base.yaml --overlay ./manila-ganesha-overlay.yaml See appendix [Manila Ganesha: Ceph-backed Shared Filesystem Service][cdg-appendix-q] in the OpenStack [Charms Deployment Guide][cdg] to see what such an overlay may look like as well as for more general information on using Manila Ganesha with charmed OpenStack. For general charm questions refer to the OpenStack [Charm Guide][cg]. <!-- ## Bugs Please report bugs on [Launchpad][lp-bugs-charm-manila-ganesha]. For general charm questions refer to the OpenStack [Charm Guide][cg]. --> <!-- LINKS --> [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [cdg-appendix-q]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-manila-ganesha.html [lp-bugs-charm-manila-ganesha]: https://bugs.launchpad.net/charm-manila-ganesha/+filebug","This charm provides Ganesha with CephFS as a storage backend for Manila, OpenStack's shared filesystem service. # Usage Manila (plus manila-ganesha) relies on services from the mysql/percona, rabbitmq-server, keystone charms, and a storage backend charm. The following yaml file will create a small, unconfigured, OpenStack system with the necessary components to start testing with Manila. Note that these target the 'next' OpenStack charms which are essentially 'edge' charms. ```yaml # Juju 2.0 deploy bundle for development ('next') charms # UOSCI relies on this for OS-on-OS deployment testing series: bionic automatically-retry-hooks: False services: ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 options: source: *source osd-devices: /dev/sdb ceph-fs: charm: cs:~openstack-charmers-next/ceph-fs num_units: 2 options: source: *source mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 constraints: mem=1G options: dataset-size: 50% root-password: mysql rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 constraints: mem=1G keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 constraints: mem=1G options: admin-password: openstack admin-token: ubuntutesting preferred-api-version: ""2"" glance: charm: cs:~openstack-charmers-next/glance num_units: 1 constraints: mem=1G nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 constraints: mem=1G options: network-manager: Neutron nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 constraints: mem=4G neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 constraints: mem=1G options: bridge-mappings: physnet1:br-ex instance-mtu: 1300 neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 constraints: mem=1G options: neutron-security-groups: True flat-network-providers: physnet1 neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 constraints: mem=1G options: block-device: vdb glance-api-version: 2 overwrite: 'true' ephemeral-unmount: /mnt manila: charm: cs:~openstack-charmers-next/manila num_units: 1 options: debug: True manila-ganesha: charm: cs:~openstack-charmers-next/manila-ganesha options: debug: True relations: - [ ceph-mon, ceph-osd ] - [ ceph-mon, ceph-fs ] - [ ceph-mon, manila-ganesha ] - [ keystone, mysql ] - [ manila, mysql ] - [ manila, rabbitmq-server ] - [ manila, keystone ] - [ manila, manila-generic ] - [ glance, keystone] - [ glance, mysql ] - [ glance, ""cinder:image-service"" ] - [ nova-compute, ""rabbitmq-server:amqp"" ] - [ nova-compute, glance ] - [ nova-cloud-controller, rabbitmq-server ] - [ nova-cloud-controller, mysql ] - [ nova-cloud-controller, keystone ] - [ nova-cloud-controller, glance ] - [ nova-cloud-controller, nova-compute ] - [ cinder, keystone ] - [ cinder, mysql ] - [ cinder, rabbitmq-server ] - [ cinder, nova-cloud-controller ] - [ ""neutron-gateway:amqp"", ""rabbitmq-server:amqp"" ] - [ neutron-gateway, nova-cloud-controller ] - [ neutron-api, mysql ] - [ neutron-api, rabbitmq-server ] - [ neutron-api, nova-cloud-controller ] - [ neutron-api, neutron-openvswitch ] - [ neutron-api, keystone ] - [ neutron-api, neutron-gateway ] - [ neutron-openvswitch, nova-compute ] - [ neutron-openvswitch, rabbitmq-server ] - [ neutron-openvswitch, manila ] ``` and then (with juju 2.x): ```bash juju deploy manila.yaml ``` Note that this OpenStack system will need to be configured (in terms of networking, images, etc.) before testing can commence.This charm can optionally dedicate a provider's physical network to serving Ganesha NFS shares. It does so through its support for Juju spaces. The charm uses a space called `tenant-storage` and it should be accessible (routed is ok) to all tenants that expect to access the Manila shares. The easiest way to ensure this access is to create a provider network in OpenStack that is mapped to the same network layer as this space is. For example, the storage space is mapped to VLAN 120, then an OpenStack administrator should create a provider network that maps to the same VLAN. For example: openstack network create \ --provider-network-type vlan \ --provider-segment 120 \ --share \ --provider-physical-network physnet1 \ tenant-storage openstack subnet create tenant \ --network=tenant-storage \ --subnet-range 10.1.10.0/22 \ --gateway 10.1.10.1 \ --allocation-pool start=10.1.10.50,end=10.1.13.254 When creating the space in MAAS that corresponds to this network, be sure that DHCP is disabled in this space. If MAAS performs any additional allocations in this space, ensure that the range configured for the subnet in Neutron does not overlap with the MAAS subnets. If dedicating a network space is not desired, it is also possible to use Ganesha over a routed network. Manila's IP access restrictions will still be used to secure access to Ganesha even if the network is not a Neutron managed network. # Bugs Please report bugs on [Launchpad](https://bugs.launchpad.net/charm-manila-ganesha/+filebug). For general questions please refer to the OpenStack [Charm Guide](https://github.com/openstack/charm-guide).",33,172
openstack%2Fproject-config~master~Idd0638357aa4ed751a7e862c0e514e10b468ee9a,openstack/project-config,master,Idd0638357aa4ed751a7e862c0e514e10b468ee9a,Fix use of 'comment-added' event type,MERGED,2020-01-21 13:34:21.000000000,2020-01-21 14:29:47.000000000,2020-01-21 14:29:47.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 13:34:21.000000000', 'files': ['gerritbot/channels.yaml', 'tools/irc_tests.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/703f1077885158e4dbda7f97a5f012448e84c80c', 'message': ""Fix use of 'comment-added' event type\n\nIn [0] an event type of 'comments-added' was used for the ironic\nchannel, but the correct event type is 'comment-added'.\n\n[0] https://review.opendev.org/698091\n\nChange-Id: Idd0638357aa4ed751a7e862c0e514e10b468ee9a\n""}]",0,703614,703f1077885158e4dbda7f97a5f012448e84c80c,7,3,1,13252,,,0,"Fix use of 'comment-added' event type

In [0] an event type of 'comments-added' was used for the ironic
channel, but the correct event type is 'comment-added'.

[0] https://review.opendev.org/698091

Change-Id: Idd0638357aa4ed751a7e862c0e514e10b468ee9a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/703614/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'tools/irc_tests.py']",2,703f1077885158e4dbda7f97a5f012448e84c80c,fix-ironic-gerritbot," VALID_EVENTS = (""change-merged"", ""comment-added"","," VALID_EVENTS = (""change-merged"", ""comments-added"",",2,2
openstack%2Fneutron~master~I181da9981ec95da8cef36ba2bb667b5a4ec9db22,openstack/neutron,master,I181da9981ec95da8cef36ba2bb667b5a4ec9db22,Install OVN for functional tests,MERGED,2019-12-05 11:09:45.000000000,2020-01-21 14:18:12.000000000,2020-01-20 03:48:39.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-05 11:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57ecd1d3a5f11d2e08345fbfa62f8bcfe9ca7412', 'message': 'DO NOT MERGE: [OVN] Install OVN for functional tests\n\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-12-05 11:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4dd836bf45f2141932519b055c891a65698ec8d', 'message': 'DO NOT MERGE: [OVN] Install OVN for functional tests\n\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-12-05 11:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae2747bb9f5bca10a398168b09e7df44185f8e40', 'message': 'DO NOT MERGE: [OVN] Install OVN for functional tests\n\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2019-12-05 11:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/950cdfc2ee3765c3c1fe3e1f5629c1d6001b5e22', 'message': 'DO NOT MERGE: [OVN] Install OVN for functional tests\n\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2019-12-05 13:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c00ab64178f8e24cb68343b5ab01a3b913f629a', 'message': 'DO NOT MERGE: [OVN] Install OVN for functional tests\n\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2019-12-05 14:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b506c446c3b31029d072bc8848f77004e6de91e3', 'message': 'DO NOT MERGE: [OVN] Install OVN for functional tests\n\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2019-12-05 17:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/590be3fa0cfeef5b746ac6138e6e25099429bef5', 'message': '[OVN] Install OVN for functional tests\n\nThis patch is changing the tools/configure_for_func_testing.sh script to\ninstall OVN when setting up the environment for functional tests.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2019-12-06 13:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/331723ba7156781940c5d758c4f2a4762bcb69c5', 'message': '[OVN] Install OVN for functional tests\n\nThis patch is changing the tools/configure_for_func_testing.sh script to\ninstall OVN when setting up the environment for functional tests.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2019-12-11 14:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb002409752250a58dcd8c6c3ad3163779e4b38b', 'message': '[OVN] Install OVN for functional tests\n\nThis patch is changing the tools/configure_for_func_testing.sh script to\ninstall OVN when setting up the environment for functional tests.\n\nThe ""ovn"" driver in master needs the latest released version of OVN\n(2.12), unfortunately this version is not yet present in the ubuntu\nrepository so, for ubuntu we will first install a PPA to get access to\nthis newer version of OVN.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2019-12-11 15:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f196d3feadb165dc3e282b9a028d357746156d0', 'message': '[OVN] Install OVN for functional tests\n\nThis patch is changing the tools/configure_for_func_testing.sh script to\ninstall OVN when setting up the environment for functional tests.\n\nThe ""ovn"" driver in master needs the latest released version of OVN\n(2.12), unfortunately this version is not yet present in the ubuntu\nrepository so, for ubuntu we will first install a PPA to get access to\nthis newer version of OVN.\n\nDepends-On: https://review.opendev.org/698506\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2020-01-14 09:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d039fb7daf9da2f4d6d2f559220bd2b1f1f27c3', 'message': '[OVN] Install OVN for functional tests\n\nThis patch is changing the tools/configure_for_func_testing.sh script to\ninstall OVN when setting up the environment for functional tests.\n\nThe ""ovn"" driver in master needs the latest released version of OVN\n(2.12), unfortunately this version is not yet present in the ubuntu\nrepository so, for ubuntu we will first install a PPA to get access to\nthis newer version of OVN.\n\nDepends-On: https://review.opendev.org/698506\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 12, 'created': '2020-01-16 15:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06896302106ff12e5e4d4b8a53952258427a8934', 'message': 'Install OVN for functional tests\n\nThis patch is changing the tools/configure_for_func_testing.sh script to\ninstall OVN when setting up the environment for functional tests.\n\nThe ""ovn"" driver in master needs the latest released version of OVN\n(2.12), unfortunately this version is not yet present in the ubuntu\nrepository so we need to compile it from source.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 13, 'created': '2020-01-16 22:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/613d5dfa0382a96a2ce7039f7fd7e5be4ee21962', 'message': 'Install OVN for functional tests\n\nThis patch is changing the tools/configure_for_func_testing.sh script to\ninstall OVN when setting up the environment for functional tests.\n\nThe ""ovn"" driver in master needs the latest released version of OVN\n(2.12), unfortunately this version is not yet present in the ubuntu\nrepository so we need to compile it from source.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 14, 'created': '2020-01-17 10:16:08.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00a74d1137abe78a0f34a73144ee7e2ccc486a32', 'message': 'Install OVN for functional tests\n\nThis patch is changing the tools/configure_for_func_testing.sh script to\ninstall OVN when setting up the environment for functional tests.\n\nThe ""ovn"" driver in master needs the latest released version of OVN\n(2.12), unfortunately this version is not yet present in the ubuntu\nrepository so we need to compile it from source.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",6,697440,00a74d1137abe78a0f34a73144ee7e2ccc486a32,51,10,14,6773,,,0,"Install OVN for functional tests

This patch is changing the tools/configure_for_func_testing.sh script to
install OVN when setting up the environment for functional tests.

The ""ovn"" driver in master needs the latest released version of OVN
(2.12), unfortunately this version is not yet present in the ubuntu
repository so we need to compile it from source.

Partially-Implements: blueprint neutron-ovn-merge
Change-Id: I181da9981ec95da8cef36ba2bb667b5a4ec9db22
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/697440/9 && git format-patch -1 --stdout FETCH_HEAD,"['tools/configure_for_func_testing.sh', '.zuul.yaml']",2,57ecd1d3a5f11d2e08345fbfa62f8bcfe9ca7412,bp/neutron-ovn-merge," #templates: # - neutron-tempest-plugin-jobs # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python3-ussuri-jobs # - publish-openstack-docs-pti # - periodic-stable-jobs # - check-requirements # - release-notes-jobs-python3 # - neutron-fullstack # - neutron-rally-task # - neutron-tempest-dvr # - neutron-tempest-linuxbridge # - neutron-grenade-multinode # - neutron-grenade-dvr-multinode # - tempest-integrated-networking: # # We don't run the job on things like neutron docs-only changes # irrelevant-files: &tempest-irrelevant-files # - ^(test-|)requirements.txt$ # - ^.*\.rst$ # - ^doc/.*$ # - ^neutron/locale/.*$ # - ^neutron/tests/unit/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^tox.ini$ # - ^vagrant/.*$ # - ^migration/.*$ # - tempest-multinode-full-py3: # voting: false # irrelevant-files: *tempest-irrelevant-files # - neutron-tempest-dvr-ha-multinode-full # - neutron-tempest-iptables_hybrid # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # irrelevant-files: *tempest-irrelevant-files # - tempest-slow-py3: # irrelevant-files: *tempest-irrelevant-files # #- neutron-ovn-tempest-ovs-release # - networking-midonet-tempest-aio-ml2-centos-7: # voting: false # irrelevant-files: *tempest-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *tempest-irrelevant-files # - openstacksdk-functional-devstack-networking: # voting: false # - neutron-functional-with-uwsgi: # voting: false # - neutron-fullstack-with-uwsgi: # voting: false # - neutron-tempest-with-uwsgi: # voting: false # - neutron-centos-7-tripleo-standalone # #- neutron-ovn-rally-task # # TripleO jobs that deploy OVN. # # Note we don't use a project-template here, so it's easier # # to disable voting on one specific job if things go wrong. # # In Stein and beyond, fs010 will run using # # networking-ovn-tripleo-ci-centos-7-containers-multinode. # # If you need any support to debug these jobs in case of # # failures, please reach us on #tripleo IRC channel. # #- neutron-ovn-tripleo-ci-centos-7-containers-multinode # - neutron-ovn-tempest-slow: # voting: false # - neutron-ovn-tempest-full-multinode-ovs-master: # voting: false #gate: # jobs: # - neutron-functional # - neutron-fullstack # - tempest-integrated-networking # - neutron-tempest-dvr # - neutron-tempest-linuxbridge # - neutron-tempest-iptables_hybrid # - neutron-grenade-multinode # - neutron-grenade-dvr-multinode # - tempest-slow-py3: # irrelevant-files: *tempest-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *tempest-irrelevant-files # #- neutron-ovn-tempest-ovs-release # #- neutron-ovn-rally-task # #- neutron-ovn-tripleo-ci-centos-7-containers-multinode #experimental: # jobs: # - neutron-ovn-tempest-ovs-master # - neutron-ovn-grenade #periodic: # jobs: # - neutron-functional # - neutron-tempest-postgres-full # - neutron-tempest-with-os-ken-master # - neutron-ovn-tempest-ovs-master-fedora#- job: # name: neutron-fullstack # parent: neutron-functional # vars: # tox_envlist: dsvm-fullstack # zuul_copy_output: # # We need to copy directory with logs to have it in job artifacts also, # # /opt/stack/logs is default logs directory defined in neutron's # # tox.ini file # '{{ devstack_base_dir }}/logs/dsvm-fullstack-logs': logs # #- job: # name: neutron-rally-task # parent: rally-task-neutron # timeout: 10800 # vars: # devstack_localrc: # USE_PYTHON3: true # OSPROFILER_COLLECTOR: redis # OSPROFILER_HMAC_KEYS: ""neutron-hmac-key-used-in-zuul-ci"" # rally_task: rally-jobs/task-neutron.yaml # devstack_plugins: # osprofiler: https://opendev.org/openstack/osprofiler # rally-openstack: https://opendev.org/openstack/rally-openstack # neutron: https://opendev.org/openstack/neutron # devstack_services: # neutron-trunk: true # devstack_local_conf: # post-config: # $NEUTRON_CONF: # DEFAULT: # enable_code_profiling: True # required-projects: # - openstack/rally # - openstack/rally-openstack # - openstack/osprofiler # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$ # - ^neutron/locale/.*$ # - ^neutron/tests/unit/.*$ # - ^releasenotes/.*$ # - ^tools/.*$ # - ^tox.ini$ # #- job: # name: neutron-ovn-rally-task # parent: rally-task-at-devstack # required-projects: # - name: openstack/devstack # - name: openstack/devstack-gate # - name: openstack/rally # - name: openstack/rally-openstack # - name: openstack/networking-ovn # irrelevant-files: *tempest-irrelevant-files # vars: # devstack_plugins: # rally-openstack: https://opendev.org/openstack/rally-openstack # networking-ovn: https://opendev.org/openstack/networking-ovn # zuul_copy_output: # '{{ devstack_base_dir }}/data/ovs': 'logs' # extensions_to_txt: # db: true # devstack_services: # ovn-northd: true # ovn-controller: true # ovs-vswitchd: true # ovsdb-server: true # networking-ovn-metadata-agent: true # br-ex-tcpdump: true # br-int-flows: true # q-dhcp: false # q-l3: false # q-agt: false # q-meta: false # q-metering: false # devstack_localrc: # USE_PYTHON3: true # PHYSICAL_NETWORK: public # Q_USE_PROVIDERNET_FOR_PUBLIC: true # ENABLE_CHASSIS_AS_GW: true # OVN_L3_CREATE_PUBLIC_NETWORK: true # OVN_BRANCH: master # devstack_local_conf: # post-config: # ""${RALLY_CONF_DIR}/${RALLY_CONF_FILE}"": # openstack: # neutron_bind_l2_agent_types: ""OVN Controller Gateway agent"" # rally_task: rally-jobs/task-neutron.yaml # timeout: 7800 # #- job: # name: neutron-tempest-dvr # parent: tempest-integrated-networking # timeout: 10800 # required-projects: # - openstack/devstack-gate # - openstack/neutron # - openstack/tempest # vars: # tempest_concurrency: 4 # devstack_localrc: # Q_DVR_MODE: dvr_snat # irrelevant-files: *tempest-irrelevant-files # #- job: # name: neutron-tempest-linuxbridge # parent: tempest-integrated-networking # timeout: 10800 # required-projects: # - openstack/devstack-gate # - openstack/neutron # - openstack/tempest # vars: # tempest_concurrency: 4 # devstack_localrc: # Q_AGENT: linuxbridge # irrelevant-files: # - ^(test-|)requirements.txt$ # - ^.*\.rst$ # - ^doc/.*$ # - ^neutron/locale/.*$ # - ^neutron/tests/.*$ # - ^neutron/tests/unit/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^tox.ini$ # #- job: # name: neutron-grenade-multinode # parent: legacy-dsvm-base-multinode # run: playbooks/legacy/neutron-grenade-multinode/run.yaml # post-run: playbooks/legacy/neutron-grenade-multinode/post.yaml # timeout: 10800 # required-projects: # - openstack/grenade # - openstack/devstack-gate # - openstack/neutron # irrelevant-files: *tempest-irrelevant-files # #- job: # name: neutron-grenade-dvr-multinode # parent: legacy-dsvm-base-multinode # run: playbooks/legacy/neutron-grenade-dvr-multinode/run.yaml # post-run: playbooks/legacy/neutron-grenade-dvr-multinode/post.yaml # timeout: 7500 # required-projects: # - openstack/grenade # - openstack/devstack-gate # - openstack/neutron # irrelevant-files: *tempest-irrelevant-files # #- job: # name: neutron-ovn-grenade # parent: legacy-dsvm-base # run: playbooks/legacy/neutron-ovn-grenade/run.yaml # post-run: playbooks/legacy/neutron-ovn-grenade/post.yaml # timeout: 9000 # irrelevant-files: *tempest-irrelevant-files # required-projects: # - openstack/grenade # - openstack/devstack-gate # - openstack/neutron-tempest-plugin # - openstack/tempest # - openstack/networking-ovn # #- job: # name: neutron-tempest-dvr-ha-multinode-full # parent: tempest-multinode-full-py3 # nodeset: openstack-three-node-bionic # timeout: 10800 # roles: # - zuul: openstack/neutron-tempest-plugin # required-projects: # - openstack/devstack-gate # - openstack/neutron # - openstack/tempest # pre-run: playbooks/dvr-multinode-scenario-pre-run.yaml # irrelevant-files: *tempest-irrelevant-files # voting: false # vars: # devstack_local_conf: # post-config: # $NEUTRON_CONF: # DEFAULT: # router_distributed: True # l3_ha: True # # NOTE(slaweq): We can get rid of this hardcoded absolute path when # # devstack-tempest job will be switched to use lib/neutron instead of # # lib/neutron-legacy # ""/$NEUTRON_CORE_PLUGIN_CONF"": # ml2: # mechanism_drivers: openvswitch,l2population # agent: # enable_distributed_routing: True # l2_population: True # tunnel_types: vxlan # arp_responder: True # ovs: # tunnel_bridge: br-tun # bridge_mappings: public:br-ex # $NEUTRON_L3_CONF: # DEFAULT: # agent_mode: dvr # agent: # availability_zone: nova # $NEUTRON_DHCP_CONF: # agent: # availability_zone: nova # group-vars: # subnode: # devstack_services: # q-agt: true # q-l3: true # q-meta: true # devstack_localrc: # USE_PYTHON3: true # devstack_local_conf: # post-config: # $NEUTRON_CONF: # DEFAULT: # router_distributed: True # # NOTE(slaweq): We can get rid of this hardcoded absolute path when # # devstack-tempest job will be switched to use lib/neutron instead of # # lib/neutron-legacy # ""/$NEUTRON_CORE_PLUGIN_CONF"": # agent: # enable_distributed_routing: True # l2_population: True # tunnel_types: vxlan # arp_responder: True # ovs: # tunnel_bridge: br-tun # bridge_mappings: public:br-ex # $NEUTRON_L3_CONF: # DEFAULT: # agent_mode: dvr_snat # agent: # availability_zone: nova # #- job: # name: neutron-tempest-iptables_hybrid # parent: tempest-integrated-networking # timeout: 10800 # required-projects: # - openstack/devstack-gate # - openstack/neutron # - openstack/tempest # vars: # tempest_concurrency: 4 # devstack_plugins: # neutron: https://opendev.org/openstack/neutron.git # devstack_services: # tls-proxy: false # tempest: true # neutron-dns: true # neutron-qos: true # neutron-segments: true # neutron-trunk: true # neutron-uplink-status-propagation: true # devstack_local_conf: # post-config: # $NEUTRON_CONF: # QUOTAS: # quota_router: 100 # quota_floatingip: 500 # quota_security_group: 100 # quota_security_group_rule: 1000 # # NOTE(slaweq): We can get rid of this hardcoded absolute path when # # devstack-tempest job will be switched to use lib/neutron instead of # # lib/neutron-legacy # ""/$NEUTRON_CORE_PLUGIN_CONF"": # ml2_type_vlan: # network_vlan_ranges: foo:1:10 # agent: # enable_distributed_routing: True # l2_population: True # tunnel_types: vxlan,gre # arp_responder: True # securitygroup: # firewall_driver: iptables_hybrid # $NEUTRON_L3_CONF: # agent: # availability_zone: nova # $NEUTRON_DHCP_CONF: # agent: # availability_zone: nova # test-config: # $TEMPEST_CONFIG: # neutron_plugin_options: # provider_vlans: foo, # agent_availability_zone: nova # image_is_advanced: true # available_type_drivers: flat,geneve,vlan,gre,local,vxlan # irrelevant-files: *tempest-irrelevant-files # #- job: # # TODO(slaweq): remove this job definition when all other projects will use # # grenade-py3 instead # name: neutron-grenade # parent: legacy-dsvm-base # run: playbooks/legacy/neutron-grenade/run.yaml # post-run: playbooks/legacy/neutron-grenade/post.yaml # timeout: 10800 # required-projects: # - openstack/grenade # - openstack/devstack-gate # - openstack/neutron # irrelevant-files: *tempest-irrelevant-files # #- job: # name: neutron-tempest-postgres-full # parent: tempest-integrated-networking # timeout: 7800 # required-projects: # - openstack/devstack-gate # - openstack/neutron # - openstack/tempest # vars: # devstack_services: # postgresql: true # mysql: false # irrelevant-files: *tempest-irrelevant-files # #- job: # name: neutron-tempest-with-os-ken-master # parent: tempest-integrated-networking # timeout: 7800 # required-projects: # - openstack/devstack-gate # - openstack/neutron # - openstack/tempest # - openstack/os-ken # #- job: # name: neutron-fullstack-with-uwsgi # parent: neutron-fullstack # vars: # devstack_localrc: # NEUTRON_DEPLOY_MOD_WSGI: true # #- job: # name: neutron-functional-with-uwsgi # parent: neutron-functional # vars: # devstack_localrc: # NEUTRON_DEPLOY_MOD_WSGI: true # #- job: # name: neutron-tempest-with-uwsgi # parent: tempest-integrated-networking # description: Run neutron Tempest tests with uwsgi # timeout: 8400 # vars: # devstack_localrc: # NEUTRON_DEPLOY_MOD_WSGI: true # irrelevant-files: *tempest-irrelevant-files # #- job: # name: neutron-centos-7-tripleo-standalone # parent: tripleo-ci-base-standalone # nodeset: single-centos-7-node # voting: false # vars: # featureset: '052' # featureset_override: # standalone_environment_files: # - 'environments/services/neutron-ovs.yaml' # tempest_test_whitelist: # - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' # irrelevant-files: *tempest-irrelevant-files # #- job: # name: neutron-ovn-tripleo-ci-centos-7-containers-multinode # parent: tripleo-ci-base-multinode # vars: # nodes: 1ctlr # featureset: '010' # irrelevant-files: *tempest-irrelevant-files # #- job: # name: neutron-ovn-grenade # parent: legacy-dsvm-base # run: playbooks/legacy/grenade-dsvm-networking-ovn/run.yaml # post-run: playbooks/legacy/grenade-dsvm-networking-ovn/post.yaml # timeout: 9000 # irrelevant-files: *tempest-irrelevant-files # required-projects: # - openstack/grenade # - openstack/devstack-gate # - openstack/neutron-tempest-plugin # - openstack/tempest # - openstack/networking-ovn # #- job: # name: neutron-ovn-base # description: Base job for devstack/tempest to test Neutron with ovn driver. # # TODO(slaweq): consider changing parent to be tempest-integrated-networking # # job instead of devstack-tempest # parent: devstack-tempest # timeout: 10800 # required-projects: # - openstack/devstack-gate # - openstack/networking-ovn # - openstack/neutron # - openstack/neutron-tempest-plugin # - openstack/octavia # - openstack/tempest # irrelevant-files: *tempest-irrelevant-files # vars: # tox_envlist: all-plugin # tempest_test_regex: ""^(?!.*\ # (?:.*\\[.*slow.*\\])|\ # (?:tempest.api.network.admin.test_quotas.QuotasTest.test_lbaas_quotas.*)|\ # (?:tempest.api.network.test_load_balancer.*)|\ # (?:tempest.scenario.test_load_balancer.*)|\ # (?:tempest.api.network.admin.test_load_balancer.*)|\ # (?:tempest.api.network.admin.test_lbaas.*)|\ # (?:tempest.api.network.test_fwaas_extensions.*)|\ # (?:tempest.api.network.test_metering_extensions.*)|\ # (?:tempest.thirdparty.boto.test_s3.*)|\ # (?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)|\ # (?:tempest.api.identity*)|\ # (?:tempest.api.image*)|\ # (?:tempest.api.volume*)|\ # (?:tempest.api.compute.images*)|\ # (?:tempest.api.compute.keypairs*)|\ # (?:tempest.api.compute.certificates*)|\ # (?:tempest.api.compute.flavors*)|\ # (?:tempest.api.compute.test_quotas*)|\ # (?:tempest.api.compute.test_versions*)|\ # (?:tempest.api.compute.volumes*)|\ # (?:tempest.api.compute.admin.test_flavor*)|\ # (?:tempest.api.compute.admin.test_volume*)|\ # (?:tempest.api.compute.admin.test_hypervisor*)|\ # (?:tempest.api.compute.admin.test_aggregate*)|\ # (?:tempest.api.compute.admin.test_quota*)|\ # (?:tempest.scenario.test_volume*))\ # ((^neutron_tempest_plugin.api)|\ # (^neutron_tempest_plugin.scenario)|\ # (tempest.(api|scenario|thirdparty))).*$"" # tempest_concurrency: 2 # devstack_localrc: # Q_USE_PROVIDERNET_FOR_PUBLIC: true # PHYSICAL_NETWORK: public # ENABLE_CHASSIS_AS_GW: true # OVN_L3_CREATE_PUBLIC_NETWORK: true # OVN_DBS_LOG_LEVEL: dbg # USE_PYTHON3: True # DOWNLOAD_DEFAULT_IMAGES: false # IMAGE_URLS: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" # DEFAULT_IMAGE_NAME: cirros-0.4.0-x86_64-disk # DEFAULT_IMAGE_FILE_NAME: cirros-0.4.0-x86_64-disk.img # ADVANCED_IMAGE_NAME: ubuntu-16.04-server-cloudimg-amd64-disk1 # ADVANCED_INSTANCE_TYPE: ds512M # ADVANCED_INSTANCE_USER: ubuntu # BUILD_TIMEOUT: 784 # devstack_plugins: # networking-ovn: https://opendev.org/openstack/networking-ovn # neutron-tempest-plugin: https://opendev.org/openstack/neutron-tempest-plugin # octavia: https://opendev.org/openstack/octavia # zuul_copy_output: # '{{ devstack_base_dir }}/data/ovs': 'logs' # extensions_to_txt: # db: true # devstack_services: # br-ex-tcpdump: true # br-int-flows: true # c-api: true # c-sch: true # c-vol: true # dstat: true # g-api: true # g-reg: true # keystone: true # n-api-meta: true # n-api: true # n-cauth: true # n-cond-cell1: true # n-cpu: true # n-novnc-cell1: true # n-sch: true # n-super-cond: true # networking-ovn-metadata-agent: true # o-api: true # o-hk: true # ovn-controller: true # ovn-northd: true # ovn-octavia: true # ovs-vswitchd: true # ovsdb-server: true # placement-api: true # q-svc: true # q-dns: true # c-bak: false # etcd: false # peakmem_tracker: false # q-agt: false # q-dhcp: false # q-l3: false # q-meta: false # q-metering: false # s-account: false # s-container-sync: false # s-container: false # s-object: false # s-proxy: false # #- job: # name: neutron-ovn-tempest-ovs-master # description: Job testing for devstack/tempest testing Neutron with ovn driver and OVN master branch # parent: neutron-ovn-base # vars: # devstack_localrc: # OVN_BRANCH: master # #- job: # name: neutron-ovn-tempest-ovs-release # description: Job testing for devstack/tempest testing Neutron with ovn driver and latest released OVN branch # parent: neutron-ovn-base # vars: # devstack_localrc: # OVN_BRANCH: branch-2.12 # #- job: # name: neutron-ovn-tempest-ovs-master-fedora # description: Job testing for devstack/tempest testing Neutron with ovn driver and OVN master branch and Fedora # parent: neutron-ovn-tempest-ovs-master # nodeset: devstack-single-node-fedora-latest # #- job: # name: neutron-ovn-multinode-base # description: Base multinode job for devstack/tempest to test Neutron with ovn driver. # abstract: true # parent: tempest-multinode-full-py3 # timeout: 10800 # required-projects: # - openstack/devstack-gate # - openstack/networking-ovn # - openstack/neutron # - openstack/neutron-tempest-plugin # - openstack/octavia # - openstack/tempest # irrelevant-files: *tempest-irrelevant-files # roles: # - zuul: zuul/zuul-jobs # - zuul: openstack/neutron-tempest-plugin # pre-run: playbooks/multinode-setup.yaml # vars: # devstack_localrc: # Q_USE_PROVIDERNET_FOR_PUBLIC: true # PHYSICAL_NETWORK: public # ENABLE_CHASSIS_AS_GW: true # OVN_L3_CREATE_PUBLIC_NETWORK: true # OVN_DBS_LOG_LEVEL: dbg # DOWNLOAD_DEFAULT_IMAGES: false # IMAGE_URLS: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" # DEFAULT_IMAGE_NAME: cirros-0.4.0-x86_64-disk # DEFAULT_IMAGE_FILE_NAME: cirros-0.4.0-x86_64-disk.img # ADVANCED_IMAGE_NAME: ubuntu-16.04-server-cloudimg-amd64-disk1 # ADVANCED_INSTANCE_TYPE: ds512M # ADVANCED_INSTANCE_USER: ubuntu # BUILD_TIMEOUT: 784 # devstack_plugins: # networking-ovn: https://opendev.org/openstack/networking-ovn # neutron-tempest-plugin: https://opendev.org/openstack/neutron-tempest-plugin # octavia: https://opendev.org/openstack/octavia # zuul_copy_output: # '{{ devstack_base_dir }}/data/ovs': 'logs' # extensions_to_txt: # db: true # devstack_services: # c-bak: false # etcd: false # br-ex-tcpdump: true # br-int-flows: true # networking-ovn-metadata-agent: true # o-api: true # o-hk: true # ovn-controller: true # ovn-northd: true # ovn-octavia: true # ovs-vswitchd: true # ovsdb-server: true # placement-api: true # peakmem_tracker: false # q-svc: true # q-agt: false # q-dhcp: false # q-l3: false # q-meta: false # q-metering: false # # When running python3 Swift should be disabled for now # s-account: false # s-container: false # s-object: false # s-proxy: false # group-vars: # subnode: # devstack_services: # ovn-controller: true # ovn-northd: false # ovn-octavia: false # ovs-vswitchd: true # ovsdb-server: true # # NOTE(slaweq): it's just to check if this will force devstack to # # configure neutron and ML2 plugin on subnodes # q-fake: true # q-svc: false # q-agt: false # q-dhcp: false # q-l3: false # q-meta: false # q-metering: false # networking-ovn-metadata-agent: true # devstack_localrc: # Q_USE_PROVIDERNET_FOR_PUBLIC: true # PHYSICAL_NETWORK: public # ENABLE_CHASSIS_AS_GW: false # OVN_DBS_LOG_LEVEL: dbg # USE_PYTHON3: True # # #- job: # name: neutron-ovn-tempest-slow # parent: neutron-ovn-multinode-base # vars: # tox_envlist: slow-serial # tempest_test_regex: """" # # TODO(slaweq): remove test_port_security_macspoofing_port test from # # blacklist when bug https://bugs.launchpad.net/tempest/+bug/1728886 # # will be fixed # tempest_black_regex: ""(?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)"" # #- job: # # TODO(slaweq): propose job with ovs-release and move -master one to # # experimental queue # name: neutron-ovn-tempest-full-multinode-ovs-master # parent: neutron-ovn-multinode-base # vars: # tox_envlist: all-plugin # tempest_test_regex: ""^(?!.*\ # (?:.*\\[.*slow.*\\])|\ # (?:tempest.api.network.admin.test_quotas.QuotasTest.test_lbaas_quotas.*)|\ # (?:tempest.api.network.test_load_balancer.*)|\ # (?:tempest.scenario.test_load_balancer.*)|\ # (?:tempest.api.network.admin.test_load_balancer.*)|\ # (?:tempest.api.network.admin.test_lbaas.*)|\ # (?:tempest.api.network.test_fwaas_extensions.*)|\ # (?:tempest.api.network.test_metering_extensions.*)|\ # (?:tempest.thirdparty.boto.test_s3.*)|\ # (?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)|\ # (?:tempest.api.identity*)|\ # (?:tempest.api.image*)|\ # (?:tempest.api.volume*)|\ # (?:tempest.api.compute.images*)|\ # (?:tempest.api.compute.keypairs*)|\ # (?:tempest.api.compute.certificates*)|\ # (?:tempest.api.compute.flavors*)|\ # (?:tempest.api.compute.test_quotas*)|\ # (?:tempest.api.compute.test_versions*)|\ # (?:tempest.api.compute.volumes*)|\ # (?:tempest.api.compute.admin.test_flavor*)|\ # (?:tempest.api.compute.admin.test_volume*)|\ # (?:tempest.api.compute.admin.test_hypervisor*)|\ # (?:tempest.api.compute.admin.test_aggregate*)|\ # (?:tempest.api.compute.admin.test_quota*)|\ # (?:tempest.scenario.test_volume*))\ # ((^neutron_tempest_plugin.api)|\ # (^neutron_tempest_plugin.scenario)|\ # (tempest.(api|scenario|thirdparty))).*$"" # # TODO(slaweq): live_migration related test from the blacklist when bug # # https://bugzilla.redhat.com/show_bug.cgi?id=1716335 will be fixed # tempest_black_regex: ""\ # (^tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test)|\ # (^tempest.api.compute.admin.test_live_migration.LiveMigrationTest)"" # devstack_localrc: # OVN_BRANCH: master # group-vars: # subnode: # devstack_localrc: # OVN_BRANCH: master"," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-ussuri-jobs - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-fullstack - neutron-rally-task - neutron-tempest-dvr - neutron-tempest-linuxbridge - neutron-grenade-multinode - neutron-grenade-dvr-multinode - tempest-integrated-networking: # We don't run the job on things like neutron docs-only changes irrelevant-files: &tempest-irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: *tempest-irrelevant-files - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files #- neutron-ovn-tempest-ovs-release - networking-midonet-tempest-aio-ml2-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - openstacksdk-functional-devstack-networking: voting: false - neutron-functional-with-uwsgi: voting: false - neutron-fullstack-with-uwsgi: voting: false - neutron-tempest-with-uwsgi: voting: false - neutron-centos-7-tripleo-standalone #- neutron-ovn-rally-task # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. #- neutron-ovn-tripleo-ci-centos-7-containers-multinode - neutron-ovn-tempest-slow: voting: false - neutron-ovn-tempest-full-multinode-ovs-master: voting: false gate: jobs: - neutron-functional - neutron-fullstack - tempest-integrated-networking - neutron-tempest-dvr - neutron-tempest-linuxbridge - neutron-tempest-iptables_hybrid - neutron-grenade-multinode - neutron-grenade-dvr-multinode - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files #- neutron-ovn-tempest-ovs-release #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-7-containers-multinode experimental: jobs: - neutron-ovn-tempest-ovs-master - neutron-ovn-grenade periodic: jobs: - neutron-functional - neutron-tempest-postgres-full - neutron-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora- job: name: neutron-fullstack parent: neutron-functional vars: tox_envlist: dsvm-fullstack zuul_copy_output: # We need to copy directory with logs to have it in job artifacts also, # /opt/stack/logs is default logs directory defined in neutron's # tox.ini file '{{ devstack_base_dir }}/logs/dsvm-fullstack-logs': logs - job: name: neutron-rally-task parent: rally-task-neutron timeout: 10800 vars: devstack_localrc: USE_PYTHON3: true OSPROFILER_COLLECTOR: redis OSPROFILER_HMAC_KEYS: ""neutron-hmac-key-used-in-zuul-ci"" rally_task: rally-jobs/task-neutron.yaml devstack_plugins: osprofiler: https://opendev.org/openstack/osprofiler rally-openstack: https://opendev.org/openstack/rally-openstack neutron: https://opendev.org/openstack/neutron devstack_services: neutron-trunk: true devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: enable_code_profiling: True required-projects: - openstack/rally - openstack/rally-openstack - openstack/osprofiler irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^tools/.*$ - ^tox.ini$ - job: name: neutron-ovn-rally-task parent: rally-task-at-devstack required-projects: - name: openstack/devstack - name: openstack/devstack-gate - name: openstack/rally - name: openstack/rally-openstack - name: openstack/networking-ovn irrelevant-files: *tempest-irrelevant-files vars: devstack_plugins: rally-openstack: https://opendev.org/openstack/rally-openstack networking-ovn: https://opendev.org/openstack/networking-ovn zuul_copy_output: '{{ devstack_base_dir }}/data/ovs': 'logs' extensions_to_txt: db: true devstack_services: ovn-northd: true ovn-controller: true ovs-vswitchd: true ovsdb-server: true networking-ovn-metadata-agent: true br-ex-tcpdump: true br-int-flows: true q-dhcp: false q-l3: false q-agt: false q-meta: false q-metering: false devstack_localrc: USE_PYTHON3: true PHYSICAL_NETWORK: public Q_USE_PROVIDERNET_FOR_PUBLIC: true ENABLE_CHASSIS_AS_GW: true OVN_L3_CREATE_PUBLIC_NETWORK: true OVN_BRANCH: master devstack_local_conf: post-config: ""${RALLY_CONF_DIR}/${RALLY_CONF_FILE}"": openstack: neutron_bind_l2_agent_types: ""OVN Controller Gateway agent"" rally_task: rally-jobs/task-neutron.yaml timeout: 7800 - job: name: neutron-tempest-dvr parent: tempest-integrated-networking timeout: 10800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest vars: tempest_concurrency: 4 devstack_localrc: Q_DVR_MODE: dvr_snat irrelevant-files: *tempest-irrelevant-files - job: name: neutron-tempest-linuxbridge parent: tempest-integrated-networking timeout: 10800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest vars: tempest_concurrency: 4 devstack_localrc: Q_AGENT: linuxbridge irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - job: name: neutron-grenade-multinode parent: legacy-dsvm-base-multinode run: playbooks/legacy/neutron-grenade-multinode/run.yaml post-run: playbooks/legacy/neutron-grenade-multinode/post.yaml timeout: 10800 required-projects: - openstack/grenade - openstack/devstack-gate - openstack/neutron irrelevant-files: *tempest-irrelevant-files - job: name: neutron-grenade-dvr-multinode parent: legacy-dsvm-base-multinode run: playbooks/legacy/neutron-grenade-dvr-multinode/run.yaml post-run: playbooks/legacy/neutron-grenade-dvr-multinode/post.yaml timeout: 7500 required-projects: - openstack/grenade - openstack/devstack-gate - openstack/neutron irrelevant-files: *tempest-irrelevant-files - job: name: neutron-ovn-grenade parent: legacy-dsvm-base run: playbooks/legacy/neutron-ovn-grenade/run.yaml post-run: playbooks/legacy/neutron-ovn-grenade/post.yaml timeout: 9000 irrelevant-files: *tempest-irrelevant-files required-projects: - openstack/grenade - openstack/devstack-gate - openstack/neutron-tempest-plugin - openstack/tempest - openstack/networking-ovn - job: name: neutron-tempest-dvr-ha-multinode-full parent: tempest-multinode-full-py3 nodeset: openstack-three-node-bionic timeout: 10800 roles: - zuul: openstack/neutron-tempest-plugin required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest pre-run: playbooks/dvr-multinode-scenario-pre-run.yaml irrelevant-files: *tempest-irrelevant-files voting: false vars: devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: router_distributed: True l3_ha: True # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy ""/$NEUTRON_CORE_PLUGIN_CONF"": ml2: mechanism_drivers: openvswitch,l2population agent: enable_distributed_routing: True l2_population: True tunnel_types: vxlan arp_responder: True ovs: tunnel_bridge: br-tun bridge_mappings: public:br-ex $NEUTRON_L3_CONF: DEFAULT: agent_mode: dvr agent: availability_zone: nova $NEUTRON_DHCP_CONF: agent: availability_zone: nova group-vars: subnode: devstack_services: q-agt: true q-l3: true q-meta: true devstack_localrc: USE_PYTHON3: true devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: router_distributed: True # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy ""/$NEUTRON_CORE_PLUGIN_CONF"": agent: enable_distributed_routing: True l2_population: True tunnel_types: vxlan arp_responder: True ovs: tunnel_bridge: br-tun bridge_mappings: public:br-ex $NEUTRON_L3_CONF: DEFAULT: agent_mode: dvr_snat agent: availability_zone: nova - job: name: neutron-tempest-iptables_hybrid parent: tempest-integrated-networking timeout: 10800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest vars: tempest_concurrency: 4 devstack_plugins: neutron: https://opendev.org/openstack/neutron.git devstack_services: tls-proxy: false tempest: true neutron-dns: true neutron-qos: true neutron-segments: true neutron-trunk: true neutron-uplink-status-propagation: true devstack_local_conf: post-config: $NEUTRON_CONF: QUOTAS: quota_router: 100 quota_floatingip: 500 quota_security_group: 100 quota_security_group_rule: 1000 # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy ""/$NEUTRON_CORE_PLUGIN_CONF"": ml2_type_vlan: network_vlan_ranges: foo:1:10 agent: enable_distributed_routing: True l2_population: True tunnel_types: vxlan,gre arp_responder: True securitygroup: firewall_driver: iptables_hybrid $NEUTRON_L3_CONF: agent: availability_zone: nova $NEUTRON_DHCP_CONF: agent: availability_zone: nova test-config: $TEMPEST_CONFIG: neutron_plugin_options: provider_vlans: foo, agent_availability_zone: nova image_is_advanced: true available_type_drivers: flat,geneve,vlan,gre,local,vxlan irrelevant-files: *tempest-irrelevant-files - job: # TODO(slaweq): remove this job definition when all other projects will use # grenade-py3 instead name: neutron-grenade parent: legacy-dsvm-base run: playbooks/legacy/neutron-grenade/run.yaml post-run: playbooks/legacy/neutron-grenade/post.yaml timeout: 10800 required-projects: - openstack/grenade - openstack/devstack-gate - openstack/neutron irrelevant-files: *tempest-irrelevant-files - job: name: neutron-tempest-postgres-full parent: tempest-integrated-networking timeout: 7800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest vars: devstack_services: postgresql: true mysql: false irrelevant-files: *tempest-irrelevant-files - job: name: neutron-tempest-with-os-ken-master parent: tempest-integrated-networking timeout: 7800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest - openstack/os-ken - job: name: neutron-fullstack-with-uwsgi parent: neutron-fullstack vars: devstack_localrc: NEUTRON_DEPLOY_MOD_WSGI: true - job: name: neutron-functional-with-uwsgi parent: neutron-functional vars: devstack_localrc: NEUTRON_DEPLOY_MOD_WSGI: true - job: name: neutron-tempest-with-uwsgi parent: tempest-integrated-networking description: Run neutron Tempest tests with uwsgi timeout: 8400 vars: devstack_localrc: NEUTRON_DEPLOY_MOD_WSGI: true irrelevant-files: *tempest-irrelevant-files - job: name: neutron-centos-7-tripleo-standalone parent: tripleo-ci-base-standalone nodeset: single-centos-7-node voting: false vars: featureset: '052' featureset_override: standalone_environment_files: - 'environments/services/neutron-ovs.yaml' tempest_test_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' irrelevant-files: *tempest-irrelevant-files - job: name: neutron-ovn-tripleo-ci-centos-7-containers-multinode parent: tripleo-ci-base-multinode vars: nodes: 1ctlr featureset: '010' irrelevant-files: *tempest-irrelevant-files - job: name: neutron-ovn-grenade parent: legacy-dsvm-base run: playbooks/legacy/grenade-dsvm-networking-ovn/run.yaml post-run: playbooks/legacy/grenade-dsvm-networking-ovn/post.yaml timeout: 9000 irrelevant-files: *tempest-irrelevant-files required-projects: - openstack/grenade - openstack/devstack-gate - openstack/neutron-tempest-plugin - openstack/tempest - openstack/networking-ovn - job: name: neutron-ovn-base description: Base job for devstack/tempest to test Neutron with ovn driver. # TODO(slaweq): consider changing parent to be tempest-integrated-networking # job instead of devstack-tempest parent: devstack-tempest timeout: 10800 required-projects: - openstack/devstack-gate - openstack/networking-ovn - openstack/neutron - openstack/neutron-tempest-plugin - openstack/octavia - openstack/tempest irrelevant-files: *tempest-irrelevant-files vars: tox_envlist: all-plugin tempest_test_regex: ""^(?!.*\ (?:.*\\[.*slow.*\\])|\ (?:tempest.api.network.admin.test_quotas.QuotasTest.test_lbaas_quotas.*)|\ (?:tempest.api.network.test_load_balancer.*)|\ (?:tempest.scenario.test_load_balancer.*)|\ (?:tempest.api.network.admin.test_load_balancer.*)|\ (?:tempest.api.network.admin.test_lbaas.*)|\ (?:tempest.api.network.test_fwaas_extensions.*)|\ (?:tempest.api.network.test_metering_extensions.*)|\ (?:tempest.thirdparty.boto.test_s3.*)|\ (?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)|\ (?:tempest.api.identity*)|\ (?:tempest.api.image*)|\ (?:tempest.api.volume*)|\ (?:tempest.api.compute.images*)|\ (?:tempest.api.compute.keypairs*)|\ (?:tempest.api.compute.certificates*)|\ (?:tempest.api.compute.flavors*)|\ (?:tempest.api.compute.test_quotas*)|\ (?:tempest.api.compute.test_versions*)|\ (?:tempest.api.compute.volumes*)|\ (?:tempest.api.compute.admin.test_flavor*)|\ (?:tempest.api.compute.admin.test_volume*)|\ (?:tempest.api.compute.admin.test_hypervisor*)|\ (?:tempest.api.compute.admin.test_aggregate*)|\ (?:tempest.api.compute.admin.test_quota*)|\ (?:tempest.scenario.test_volume*))\ ((^neutron_tempest_plugin.api)|\ (^neutron_tempest_plugin.scenario)|\ (tempest.(api|scenario|thirdparty))).*$"" tempest_concurrency: 2 devstack_localrc: Q_USE_PROVIDERNET_FOR_PUBLIC: true PHYSICAL_NETWORK: public ENABLE_CHASSIS_AS_GW: true OVN_L3_CREATE_PUBLIC_NETWORK: true OVN_DBS_LOG_LEVEL: dbg USE_PYTHON3: True DOWNLOAD_DEFAULT_IMAGES: false IMAGE_URLS: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" DEFAULT_IMAGE_NAME: cirros-0.4.0-x86_64-disk DEFAULT_IMAGE_FILE_NAME: cirros-0.4.0-x86_64-disk.img ADVANCED_IMAGE_NAME: ubuntu-16.04-server-cloudimg-amd64-disk1 ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_USER: ubuntu BUILD_TIMEOUT: 784 devstack_plugins: networking-ovn: https://opendev.org/openstack/networking-ovn neutron-tempest-plugin: https://opendev.org/openstack/neutron-tempest-plugin octavia: https://opendev.org/openstack/octavia zuul_copy_output: '{{ devstack_base_dir }}/data/ovs': 'logs' extensions_to_txt: db: true devstack_services: br-ex-tcpdump: true br-int-flows: true c-api: true c-sch: true c-vol: true dstat: true g-api: true g-reg: true keystone: true n-api-meta: true n-api: true n-cauth: true n-cond-cell1: true n-cpu: true n-novnc-cell1: true n-sch: true n-super-cond: true networking-ovn-metadata-agent: true o-api: true o-hk: true ovn-controller: true ovn-northd: true ovn-octavia: true ovs-vswitchd: true ovsdb-server: true placement-api: true q-svc: true q-dns: true c-bak: false etcd: false peakmem_tracker: false q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false s-account: false s-container-sync: false s-container: false s-object: false s-proxy: false - job: name: neutron-ovn-tempest-ovs-master description: Job testing for devstack/tempest testing Neutron with ovn driver and OVN master branch parent: neutron-ovn-base vars: devstack_localrc: OVN_BRANCH: master - job: name: neutron-ovn-tempest-ovs-release description: Job testing for devstack/tempest testing Neutron with ovn driver and latest released OVN branch parent: neutron-ovn-base vars: devstack_localrc: OVN_BRANCH: branch-2.12 - job: name: neutron-ovn-tempest-ovs-master-fedora description: Job testing for devstack/tempest testing Neutron with ovn driver and OVN master branch and Fedora parent: neutron-ovn-tempest-ovs-master nodeset: devstack-single-node-fedora-latest - job: name: neutron-ovn-multinode-base description: Base multinode job for devstack/tempest to test Neutron with ovn driver. abstract: true parent: tempest-multinode-full-py3 timeout: 10800 required-projects: - openstack/devstack-gate - openstack/networking-ovn - openstack/neutron - openstack/neutron-tempest-plugin - openstack/octavia - openstack/tempest irrelevant-files: *tempest-irrelevant-files roles: - zuul: zuul/zuul-jobs - zuul: openstack/neutron-tempest-plugin pre-run: playbooks/multinode-setup.yaml vars: devstack_localrc: Q_USE_PROVIDERNET_FOR_PUBLIC: true PHYSICAL_NETWORK: public ENABLE_CHASSIS_AS_GW: true OVN_L3_CREATE_PUBLIC_NETWORK: true OVN_DBS_LOG_LEVEL: dbg DOWNLOAD_DEFAULT_IMAGES: false IMAGE_URLS: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" DEFAULT_IMAGE_NAME: cirros-0.4.0-x86_64-disk DEFAULT_IMAGE_FILE_NAME: cirros-0.4.0-x86_64-disk.img ADVANCED_IMAGE_NAME: ubuntu-16.04-server-cloudimg-amd64-disk1 ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_USER: ubuntu BUILD_TIMEOUT: 784 devstack_plugins: networking-ovn: https://opendev.org/openstack/networking-ovn neutron-tempest-plugin: https://opendev.org/openstack/neutron-tempest-plugin octavia: https://opendev.org/openstack/octavia zuul_copy_output: '{{ devstack_base_dir }}/data/ovs': 'logs' extensions_to_txt: db: true devstack_services: c-bak: false etcd: false br-ex-tcpdump: true br-int-flows: true networking-ovn-metadata-agent: true o-api: true o-hk: true ovn-controller: true ovn-northd: true ovn-octavia: true ovs-vswitchd: true ovsdb-server: true placement-api: true peakmem_tracker: false q-svc: true q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false # When running python3 Swift should be disabled for now s-account: false s-container: false s-object: false s-proxy: false group-vars: subnode: devstack_services: ovn-controller: true ovn-northd: false ovn-octavia: false ovs-vswitchd: true ovsdb-server: true # NOTE(slaweq): it's just to check if this will force devstack to # configure neutron and ML2 plugin on subnodes q-fake: true q-svc: false q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false networking-ovn-metadata-agent: true devstack_localrc: Q_USE_PROVIDERNET_FOR_PUBLIC: true PHYSICAL_NETWORK: public ENABLE_CHASSIS_AS_GW: false OVN_DBS_LOG_LEVEL: dbg USE_PYTHON3: True - job: name: neutron-ovn-tempest-slow parent: neutron-ovn-multinode-base vars: tox_envlist: slow-serial tempest_test_regex: """" # TODO(slaweq): remove test_port_security_macspoofing_port test from # blacklist when bug https://bugs.launchpad.net/tempest/+bug/1728886 # will be fixed tempest_black_regex: ""(?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)"" - job: # TODO(slaweq): propose job with ovs-release and move -master one to # experimental queue name: neutron-ovn-tempest-full-multinode-ovs-master parent: neutron-ovn-multinode-base vars: tox_envlist: all-plugin tempest_test_regex: ""^(?!.*\ (?:.*\\[.*slow.*\\])|\ (?:tempest.api.network.admin.test_quotas.QuotasTest.test_lbaas_quotas.*)|\ (?:tempest.api.network.test_load_balancer.*)|\ (?:tempest.scenario.test_load_balancer.*)|\ (?:tempest.api.network.admin.test_load_balancer.*)|\ (?:tempest.api.network.admin.test_lbaas.*)|\ (?:tempest.api.network.test_fwaas_extensions.*)|\ (?:tempest.api.network.test_metering_extensions.*)|\ (?:tempest.thirdparty.boto.test_s3.*)|\ (?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)|\ (?:tempest.api.identity*)|\ (?:tempest.api.image*)|\ (?:tempest.api.volume*)|\ (?:tempest.api.compute.images*)|\ (?:tempest.api.compute.keypairs*)|\ (?:tempest.api.compute.certificates*)|\ (?:tempest.api.compute.flavors*)|\ (?:tempest.api.compute.test_quotas*)|\ (?:tempest.api.compute.test_versions*)|\ (?:tempest.api.compute.volumes*)|\ (?:tempest.api.compute.admin.test_flavor*)|\ (?:tempest.api.compute.admin.test_volume*)|\ (?:tempest.api.compute.admin.test_hypervisor*)|\ (?:tempest.api.compute.admin.test_aggregate*)|\ (?:tempest.api.compute.admin.test_quota*)|\ (?:tempest.scenario.test_volume*))\ ((^neutron_tempest_plugin.api)|\ (^neutron_tempest_plugin.scenario)|\ (tempest.(api|scenario|thirdparty))).*$"" # TODO(slaweq): live_migration related test from the blacklist when bug # https://bugzilla.redhat.com/show_bug.cgi?id=1716335 will be fixed tempest_black_regex: ""\ (^tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test)|\ (^tempest.api.compute.admin.test_live_migration.LiveMigrationTest)"" devstack_localrc: OVN_BRANCH: master group-vars: subnode: devstack_localrc: OVN_BRANCH: master",792,778
openstack%2Ftempest~master~Ie33c8a2f2bcaf5c43d4f7fedf65b24889f4d6270,openstack/tempest,master,Ie33c8a2f2bcaf5c43d4f7fedf65b24889f4d6270,"Revert ""Close ssh client after executing a command""",ABANDONED,2020-01-03 11:36:09.000000000,2020-01-21 14:10:41.000000000,,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6469}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 24791}, {'_account_id': 29244}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-03 11:36:09.000000000', 'files': ['tempest/lib/common/ssh.py', 'tempest/tests/lib/test_ssh.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/efb53425be7be61b629c9273dbe534d4efe439b4', 'message': 'Revert ""Close ssh client after executing a command""\n\nThis causes failures in neutron tests, see e.g. [0]\n\n[0] https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ddb/682369/13/check/neutron-tempest-plugin-scenario-openvswitch-train/ddb7875/testr_results.html.gz\n\nThis reverts commit 690bae27c8df1a9c04ae0c0555e30db50c27c691.\n\nChange-Id: Ie33c8a2f2bcaf5c43d4f7fedf65b24889f4d6270\n'}]",0,701015,efb53425be7be61b629c9273dbe534d4efe439b4,12,12,1,13252,,,0,"Revert ""Close ssh client after executing a command""

This causes failures in neutron tests, see e.g. [0]

[0] https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ddb/682369/13/check/neutron-tempest-plugin-scenario-openvswitch-train/ddb7875/testr_results.html.gz

This reverts commit 690bae27c8df1a9c04ae0c0555e30db50c27c691.

Change-Id: Ie33c8a2f2bcaf5c43d4f7fedf65b24889f4d6270
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/701015/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/ssh.py', 'tempest/tests/lib/test_ssh.py']",2,efb53425be7be61b629c9273dbe534d4efe439b4,," chan_mock, poll_mock, _ = self._set_mocks_for_select([0, 0, 0], True) chan_mock, poll_mock, select_mock = ( return chan_mock, poll_mock, select_mock chan_mock, poll_mock, _ = self._set_mocks_for_select([1, 0, 0]) chan_mock, poll_mock, _ = self._set_mocks_for_select([1, 0, 0])"," chan_mock, poll_mock, _, _ = ( self._set_mocks_for_select([0, 0, 0], True)) chan_mock, poll_mock, select_mock, client_mock = ( client_mock.close.assert_called_once_with() return chan_mock, poll_mock, select_mock, client_mock chan_mock, poll_mock, _, _ = ( self._set_mocks_for_select([1, 0, 0])) chan_mock, poll_mock, _, _ = ( self._set_mocks_for_select([1, 0, 0]))",10,17
openstack%2Ftripleo-ci~master~Ie0fdf06715ab9080ffb55f45acbf8b1b8ea8256d,openstack/tripleo-ci,master,Ie0fdf06715ab9080ffb55f45acbf8b1b8ea8256d,Added tempest related directory info in CI log README,MERGED,2020-01-21 08:41:48.000000000,2020-01-21 13:43:18.000000000,2020-01-21 13:43:18.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 08:41:48.000000000', 'files': ['docs/tripleo-quickstart-logs.html'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e8fa33326ac62aec86c999440c65aa63b48ae246', 'message': 'Added tempest related directory info in CI log README\n\nDue to change of running tempest to os_tempest, the tempest logs\nand configuration files got changed. For making debugging easier,\nIt updates the correct tempest related directory to the CI log\ngenerated README.html file.\n\nChange-Id: Ie0fdf06715ab9080ffb55f45acbf8b1b8ea8256d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,703555,e8fa33326ac62aec86c999440c65aa63b48ae246,10,8,1,12393,,,0,"Added tempest related directory info in CI log README

Due to change of running tempest to os_tempest, the tempest logs
and configuration files got changed. For making debugging easier,
It updates the correct tempest related directory to the CI log
generated README.html file.

Change-Id: Ie0fdf06715ab9080ffb55f45acbf8b1b8ea8256d
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/703555/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/tripleo-quickstart-logs.html'],1,e8fa33326ac62aec86c999440c65aa63b48ae246,tempest,<li><a href='undercloud/var/log/tempest/'>undercloud/var/log/tempest/</a> - Tempest run results logs </li> <li><a href='undercloud/home/zuul/tempest/etc/'>undercloud/home/zuul/tempest/etc/</a> - tempest.conf and tempest blacklist and whitelist tests </li>,,4,0
openstack%2Fnova~stable%2Fstein~I67f341bf895d6cc5d503da274c089d443295199e,openstack/nova,stable/stein,I67f341bf895d6cc5d503da274c089d443295199e,libvirt: Add a rbd_connect_timeout configurable,ABANDONED,2019-07-04 12:41:28.000000000,2020-01-21 13:39:33.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-04 12:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a27ed51cb31912a5159f0cad804fdc447c6b0407', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)\n'}, {'number': 2, 'created': '2019-12-02 17:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4035e024c7d8a35cdfa7f566f85e6a0e144dca6c', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)\n'}, {'number': 3, 'created': '2020-01-09 13:20:45.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1834048-8b19ae1c5048b801.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d843ffd19e1e39a2864fb3186d1d3db4bcbcbcbe', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)\n'}]",1,669167,d843ffd19e1e39a2864fb3186d1d3db4bcbcbcbe,23,7,3,10135,,,0,"libvirt: Add a rbd_connect_timeout configurable

Previously the initial call to connect to a RBD cluster via the RADOS
API could hang indefinitely if network or other environmental related
issues were encountered.

When encountered during a call to update_available_resource this can
result in the local n-cpu service reporting as UP while never being able
to break out of a subsequent RPC timeout loop as documented in bug

This change adds a simple timeout configurable to be used when initially
connecting to the cluster [1][2][3]. The default timeout of 5 seconds
being sufficiently small enough to ensure that if encountered the n-cpu
service will be able to be marked as DOWN before a RPC timeout is seen.

[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect
[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect
[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect

Closes-bug: #1834048
Change-Id: I67f341bf895d6cc5d503da274c089d443295199e
(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/669167/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1834048-8b19ae1c5048b801.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py']",6,a27ed51cb31912a5159f0cad804fdc447c6b0407,bug/1834048," self.rbd_connect_timeout = CONF.libvirt.rbd_connect_timeout rbd_user=self.rbd_user, rbd_connect_timeout=self.rbd_connect_timeout)", rbd_user=self.rbd_user),32,7
openstack%2Fnova~stable%2Frocky~I67f341bf895d6cc5d503da274c089d443295199e,openstack/nova,stable/rocky,I67f341bf895d6cc5d503da274c089d443295199e,libvirt: Add a rbd_connect_timeout configurable,ABANDONED,2019-07-04 12:41:51.000000000,2020-01-21 13:39:30.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-04 12:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f29cea0d4d692060c92cdd6e48d93f0f029cb4b', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)\n(cherry picked from commit a27ed51cb31912a5159f0cad804fdc447c6b0407)\n'}, {'number': 2, 'created': '2019-12-02 17:12:35.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1834048-8b19ae1c5048b801.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/001a68249298d59f09d99352f973b661043b62b9', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)\n(cherry picked from commit a27ed51cb31912a5159f0cad804fdc447c6b0407)\n'}]",0,669168,001a68249298d59f09d99352f973b661043b62b9,14,6,2,10135,,,0,"libvirt: Add a rbd_connect_timeout configurable

Previously the initial call to connect to a RBD cluster via the RADOS
API could hang indefinitely if network or other environmental related
issues were encountered.

When encountered during a call to update_available_resource this can
result in the local n-cpu service reporting as UP while never being able
to break out of a subsequent RPC timeout loop as documented in bug

This change adds a simple timeout configurable to be used when initially
connecting to the cluster [1][2][3]. The default timeout of 5 seconds
being sufficiently small enough to ensure that if encountered the n-cpu
service will be able to be marked as DOWN before a RPC timeout is seen.

[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect
[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect
[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect

Closes-bug: #1834048
Change-Id: I67f341bf895d6cc5d503da274c089d443295199e
(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)
(cherry picked from commit a27ed51cb31912a5159f0cad804fdc447c6b0407)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/669168/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1834048-8b19ae1c5048b801.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py']",6,0f29cea0d4d692060c92cdd6e48d93f0f029cb4b,bug/1834048," self.rbd_connect_timeout = CONF.libvirt.rbd_connect_timeout rbd_user=self.rbd_user, rbd_connect_timeout=self.rbd_connect_timeout)", rbd_user=self.rbd_user),32,7
openstack%2Fnova~stable%2Fqueens~I67f341bf895d6cc5d503da274c089d443295199e,openstack/nova,stable/queens,I67f341bf895d6cc5d503da274c089d443295199e,libvirt: Add a rbd_connect_timeout configurable,ABANDONED,2019-07-04 12:42:27.000000000,2020-01-21 13:39:28.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-04 12:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3692f7773c3d25cb9d9ab1a6fd91aea7b95d782f', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)\n(cherry picked from commit a27ed51cb31912a5159f0cad804fdc447c6b0407)\n(cherry picked from commit 0f29cea0d4d692060c92cdd6e48d93f0f029cb4b)\n'}, {'number': 2, 'created': '2019-12-02 17:12:38.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1834048-8b19ae1c5048b801.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1d0850484ce798dbaf262091413dda96ba699b1', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)\n(cherry picked from commit a27ed51cb31912a5159f0cad804fdc447c6b0407)\n(cherry picked from commit 0f29cea0d4d692060c92cdd6e48d93f0f029cb4b)\n'}]",0,669169,f1d0850484ce798dbaf262091413dda96ba699b1,14,6,2,10135,,,0,"libvirt: Add a rbd_connect_timeout configurable

Previously the initial call to connect to a RBD cluster via the RADOS
API could hang indefinitely if network or other environmental related
issues were encountered.

When encountered during a call to update_available_resource this can
result in the local n-cpu service reporting as UP while never being able
to break out of a subsequent RPC timeout loop as documented in bug

This change adds a simple timeout configurable to be used when initially
connecting to the cluster [1][2][3]. The default timeout of 5 seconds
being sufficiently small enough to ensure that if encountered the n-cpu
service will be able to be marked as DOWN before a RPC timeout is seen.

[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect
[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect
[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect

Closes-bug: #1834048
Change-Id: I67f341bf895d6cc5d503da274c089d443295199e
(cherry picked from commit 03f7dc29b75d1099ef44a034ed7e23d2a4444ac6)
(cherry picked from commit a27ed51cb31912a5159f0cad804fdc447c6b0407)
(cherry picked from commit 0f29cea0d4d692060c92cdd6e48d93f0f029cb4b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/669169/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1834048-8b19ae1c5048b801.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py']",6,3692f7773c3d25cb9d9ab1a6fd91aea7b95d782f,bug/1834048," self.rbd_connect_timeout = CONF.libvirt.rbd_connect_timeout rbd_user=self.rbd_user, rbd_connect_timeout=self.rbd_connect_timeout)", rbd_user=self.rbd_user),32,7
openstack%2Fproject-config~master~I251e9e5ea760fe5da1a8fbca7cee365dd3ae563b,openstack/project-config,master,I251e9e5ea760fe5da1a8fbca7cee365dd3ae563b,IRC #openstack-ironic gerritbot CI failed messages,MERGED,2019-12-09 21:27:40.000000000,2020-01-21 13:31:29.000000000,2020-01-21 08:43:20.000000000,"[{'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-09 21:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d813c9be65c9cac792286aa3b0bbfb05f3f011c4', 'message': 'IRC #openstack-ironic gerritbot CI failed messages\n\nWhen a gerrit comment of type Verified with value -2 is posted, send a\nmessage to the #openstack-ironic channel.\n\nThis will raise awareness of CI job failures preventing changes from\nlanding, and is proposed as a trial for later refinement.\n\nChange-Id: I251e9e5ea760fe5da1a8fbca7cee365dd3ae563b\nDepends-On: https://review.opendev.org/#/c/698089/\n'}, {'number': 2, 'created': '2020-01-17 19:53:44.000000000', 'files': ['gerritbot/channels.yaml', 'tools/irc_tests.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/abefaaea4496833bf4c37ec045f5aec427b19339', 'message': 'IRC #openstack-ironic gerritbot CI failed messages\n\nWhen a gerrit comment of type Verified with value -2 is posted, send a\nmessage to the #openstack-ironic channel.\n\nThis will raise awareness of CI job failures preventing changes from\nlanding, and is proposed as a trial for later refinement.\n\nUpdate irc_tests.py for the dependend change to pass tests.\n\nChange-Id: I251e9e5ea760fe5da1a8fbca7cee365dd3ae563b\nDepends-On: https://review.opendev.org/#/c/698089/\n'}]",4,698091,abefaaea4496833bf4c37ec045f5aec427b19339,21,7,2,4571,,,0,"IRC #openstack-ironic gerritbot CI failed messages

When a gerrit comment of type Verified with value -2 is posted, send a
message to the #openstack-ironic channel.

This will raise awareness of CI job failures preventing changes from
landing, and is proposed as a trial for later refinement.

Update irc_tests.py for the dependend change to pass tests.

Change-Id: I251e9e5ea760fe5da1a8fbca7cee365dd3ae563b
Depends-On: https://review.opendev.org/#/c/698089/
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/698091/2 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,d813c9be65c9cac792286aa3b0bbfb05f3f011c4,ironic-irc-minus-2, - comments-added - x-vrif-minus-2,,2,0
openstack%2Fopenstack-ansible~master~I954f56fb380e230b36516d6cb44fd372b892e8a9,openstack/openstack-ansible,master,I954f56fb380e230b36516d6cb44fd372b892e8a9,Mark opensuse-15 jobs as non voting.,ABANDONED,2019-10-17 21:36:09.000000000,2020-01-21 13:19:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-17 21:36:09.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/49d04235eab65d8897e0a3065ba1582357118887', 'message': 'Mark opensuse-15 jobs as non voting.\n\nRepos for opensuse-15 jobs seem to be missing packages we need:\n\nhttp://paste.openstack.org/show/784551/\n\nChange-Id: I954f56fb380e230b36516d6cb44fd372b892e8a9\n'}]",0,689274,49d04235eab65d8897e0a3065ba1582357118887,4,2,1,25023,,,0,"Mark opensuse-15 jobs as non voting.

Repos for opensuse-15 jobs seem to be missing packages we need:

http://paste.openstack.org/show/784551/

Change-Id: I954f56fb380e230b36516d6cb44fd372b892e8a9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/689274/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,49d04235eab65d8897e0a3065ba1582357118887,, - openstack-ansible-deploy-aio_metal-opensuse-15: voting: false - openstack-ansible-deploy-aio_metal-opensuse-15: voting: false - openstack-ansible-linters-ubuntu-bionic , - openstack-ansible-deploy-aio_metal-opensuse-15 - openstack-ansible-deploy-aio_metal-opensuse-15 - openstack-ansible-linters-ubuntu-bionic,5,3
openstack%2Fopenstack-ansible~master~I3c1ecd2562c2b8daf213ccc134221b9bca691fcb,openstack/openstack-ansible,master,I3c1ecd2562c2b8daf213ccc134221b9bca691fcb,[DNM] test tip of master for neutron,ABANDONED,2019-10-30 20:36:47.000000000,2020-01-21 13:19:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-30 20:36:47.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1be9adb47d01fb1fb2551b9e1a749bdc1a675c29', 'message': '[DNM] test tip of master for neutron\n\nChange-Id: I3c1ecd2562c2b8daf213ccc134221b9bca691fcb\n'}]",0,692219,1be9adb47d01fb1fb2551b9e1a749bdc1a675c29,3,1,1,25023,,,0,"[DNM] test tip of master for neutron

Change-Id: I3c1ecd2562c2b8daf213ccc134221b9bca691fcb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/692219/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,1be9adb47d01fb1fb2551b9e1a749bdc1a675c29,,neutron_git_install_branch: 843b5ffd9a8ee3f4d9d8830f43aa3d517cc11e07,neutron_git_install_branch: 3bddc2ebb6897b17ed50999fda528d7a2a480199 # HEAD as of 24.10.2019,1,1
openstack%2Fos-ken~master~Ifc65c94c00990bc50a5ae3789b71ae8c24b99e94,openstack/os-ken,master,Ifc65c94c00990bc50a5ae3789b71ae8c24b99e94,Drop Python2 support and testing,MERGED,2020-01-18 12:50:56.000000000,2020-01-21 13:15:20.000000000,2020-01-21 13:11:31.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-18 12:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/b4e1692748cca2bb249409690773280cee3fd65a', 'message': 'Drop Python2 support and testing\n\nRemove Python2 CI testing and set the minimum Python version required\nin setup.cfg.\n\nChange-Id: Ifc65c94c00990bc50a5ae3789b71ae8c24b99e94\n'}, {'number': 2, 'created': '2020-01-18 19:29:37.000000000', 'files': ['run_tests.sh', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/3134ffe712a49b2b9519368d91ba38b57ebc1088', 'message': 'Drop Python2 support and testing\n\nRemove Python2 CI testing and set the minimum Python version required\nin setup.cfg.\n\nChange-Id: Ifc65c94c00990bc50a5ae3789b71ae8c24b99e94\n'}]",4,703238,3134ffe712a49b2b9519368d91ba38b57ebc1088,16,4,2,16688,,,0,"Drop Python2 support and testing

Remove Python2 CI testing and set the minimum Python version required
in setup.cfg.

Change-Id: Ifc65c94c00990bc50a5ae3789b71ae8c24b99e94
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/38/703238/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,b4e1692748cca2bb249409690773280cee3fd65a,drop-py27-support,"envlist = py37,pep8basepython = python3","envlist = py27,py37,pep8install_command = pip install {opts} {packages}basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",5,15
openstack%2Fkuryr-kubernetes~master~Ie1d7fb2d7d62c1a43a32d513fdcbbb265bebff98,openstack/kuryr-kubernetes,master,Ie1d7fb2d7d62c1a43a32d513fdcbbb265bebff98,Fix more problem of changing size during dict iteration,MERGED,2020-01-16 10:58:35.000000000,2020-01-21 12:40:02.000000000,2020-01-21 11:40:41.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-01-16 10:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bda1d64d3c3744ba6df3b5a5442be2121d2c6bdb', 'message': 'Fix more problem of changing size during dict iteration\n\nChange-Id: Ie1d7fb2d7d62c1a43a32d513fdcbbb265bebff98\nCloses-Bug: 1859005\n'}, {'number': 2, 'created': '2020-01-20 09:08:12.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c7b8816c350fc3394044e76524153cad07215336', 'message': 'Fix more problem of changing size during dict iteration\n\nChange-Id: Ie1d7fb2d7d62c1a43a32d513fdcbbb265bebff98\nCloses-Bug: 1859005\n'}]",0,702841,c7b8816c350fc3394044e76524153cad07215336,39,5,2,23567,,,0,"Fix more problem of changing size during dict iteration

Change-Id: Ie1d7fb2d7d62c1a43a32d513fdcbbb265bebff98
Closes-Bug: 1859005
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/41/702841/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,bda1d64d3c3744ba6df3b5a5442be2121d2c6bdb,bp/switch-to-openstacksdk," for sg_key, ports in list(pool_ports.items()): for sg_group, ports in list(pool_ports.items()): for sg_group, date in list(pool_updates.items()): for sg_group, ports in list(pool_ports.items()): for sg_group, date in list(pool_updates.items()):"," for sg_key, ports in pool_ports.items(): for sg_group, ports in pool_ports.items(): for sg_group, date in pool_updates.items(): for sg_group, ports in pool_ports.items(): for sg_group, date in pool_updates.items():",5,5
openstack%2Ftosca-parser~master~I60a8b832285d032c4740928b2c41e57fd3f262a6,openstack/tosca-parser,master,I60a8b832285d032c4740928b2c41e57fd3f262a6,Fail to parse if relationship is not defined in requirements.,MERGED,2019-10-15 06:54:58.000000000,2020-01-21 12:36:48.000000000,2020-01-21 12:33:56.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-10-15 06:54:58.000000000', 'files': ['toscaparser/elements/nodetype.py', 'toscaparser/tests/test_toscatpl.py', 'toscaparser/tests/data/test_nodetype_without_relationship.yaml'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/370856d9bb44ef519345d32a01e44d8c4f0c1826', 'message': 'Fail to parse if relationship is not defined in requirements.\n\nChange-Id: I60a8b832285d032c4740928b2c41e57fd3f262a6\nStory: #2006722\nTask: #37104\n'}]",0,688633,370856d9bb44ef519345d32a01e44d8c4f0c1826,9,4,1,27180,,,0,"Fail to parse if relationship is not defined in requirements.

Change-Id: I60a8b832285d032c4740928b2c41e57fd3f262a6
Story: #2006722
Task: #37104
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/33/688633/1 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/elements/nodetype.py', 'toscaparser/tests/test_toscatpl.py', 'toscaparser/tests/data/test_nodetype_without_relationship.yaml']",3,370856d9bb44ef519345d32a01e44d8c4f0c1826,bug/2006722,﻿tosca_definitions_version: tosca_simple_yaml_1_0 description: > Test NodeType which requirements has no relationship. node_types: sample.SC: derived_from: tosca.nodes.SoftwareComponent requirements: - custom_host: capability: tosca.capabilities.Attachment node: tosca.nodes.Compute topology_template: node_templates: SampleSC1: type: sample.SC requirements: - custom_host: Compute1 Compute1: type: tosca.nodes.Compute SC2: type: tosca.nodes.SoftwareComponent requirements: - host: Compute2 Compute2: type: tosca.nodes.Compute ,,62,3
openstack%2Fovsdbapp~master~I9994c6e914bdb1deb5952c193e521f83ad74363d,openstack/ovsdbapp,master,I9994c6e914bdb1deb5952c193e521f83ad74363d,Make ovndir configurable,MERGED,2019-12-17 11:54:08.000000000,2020-01-21 12:22:55.000000000,2020-01-16 17:30:51.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-17 11:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/35ba186a770e11b373132507726ee5b62e82a527', 'message': 'Make ovndir configurable\n\nChange tools/setup-ovs.sh to take an OVS_BRANCH env\nvariable to use a specific branch.\n\nAlso, make OvsOvnVenvFixture work with an ovndir before\nor after OVN repository split.\n\nChange-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d\nCloses-Bug: 1856676\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 2, 'created': '2019-12-17 19:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/491d20ba36ae54ea051b0f4b6c4756918e46f568', 'message': 'Make ovndir configurable\n\nChange tools/setup-ovs.sh to take an OVS_BRANCH env\nvariable to use a specific branch.\n\nAlso, make OvsOvnVenvFixture work with an ovndir before\nor after OVN repository split.\n\nChange-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d\nCloses-Bug: 1856676\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 3, 'created': '2019-12-19 16:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/87a6991691844ca01eb28d0a63f73366d957cedd', 'message': 'Make ovndir configurable\n\nChange tools/setup-ovs.sh to take an OVS_BRANCH env\nvariable to use a specific branch.\n\nAlso, make OvsOvnVenvFixture work with an ovndir before\nor after OVN repository split.\n\nChange-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d\nCloses-Bug: 1856676\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 4, 'created': '2020-01-06 11:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/08ef9e4ce65b6a4df7ea1c7a51c5caa5a0e3fe8a', 'message': 'Make ovndir configurable\n\nChange tools/setup-ovs.sh to take an OVS_BRANCH env\nvariable to use a specific branch.\n\nAlso, make OvsOvnVenvFixture work with an ovndir before\nor after OVN repository split.\n\nChange-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d\nCloses-Bug: 1856676\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 5, 'created': '2020-01-13 23:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2e43397cb074e34e3edf292e05e95ec5b470b932', 'message': 'Make ovndir configurable\n\nChange tools/setup-ovs.sh to take an OVS_BRANCH env\nvariable to use a specific branch.\n\nAlso, make OvsOvnVenvFixture work with an ovndir before\nor after OVN repository split.\n\nChange-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d\nCloses-Bug: 1856676\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 6, 'created': '2020-01-14 11:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/18eb60de2b0c400545eb79cb6df8c37ffaba21e8', 'message': 'Make ovndir configurable\n\nChange tools/setup-ovs.sh to take an OVS_BRANCH env\nvariable to use a specific branch.\n\nAlso, make OvsOvnVenvFixture work with an ovndir before\nor after OVN repository split.\n\nChange-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d\nCloses-Bug: 1856676\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 7, 'created': '2020-01-16 11:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/92e8761672bc5215e3f74e189b7f83cad0e8a563', 'message': 'Make ovndir configurable\n\nChange tools/setup-ovs.sh to take an OVS_BRANCH env\nvariable to use a specific branch.\n\nAlso, make OvsOvnVenvFixture work with an ovndir before\nor after OVN repository split.\n\nChange-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d\nCloses-Bug: 1856676\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 8, 'created': '2020-01-16 11:14:01.000000000', 'files': ['ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/5d70d45f2d014cf265b68844122eadd541f5c3cf', 'message': 'Make ovndir configurable\n\nChange tools/setup-ovs.sh to take an OVS_BRANCH env\nvariable to use a specific branch.\n\nAlso, make OvsOvnVenvFixture work with an ovndir before\nor after OVN repository split.\n\nChange-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d\nCloses-Bug: 1856676\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",9,699397,5d70d45f2d014cf265b68844122eadd541f5c3cf,43,5,8,11952,,,0,"Make ovndir configurable

Change tools/setup-ovs.sh to take an OVS_BRANCH env
variable to use a specific branch.

Also, make OvsOvnVenvFixture work with an ovndir before
or after OVN repository split.

Change-Id: I9994c6e914bdb1deb5952c193e521f83ad74363d
Closes-Bug: 1856676
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/97/699397/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/venv.py', 'tools/setup-ovs.sh']",2,35ba186a770e11b373132507726ee5b62e82a527,,"OVS_BRANCH=${OVS_BRANCH:-master} OVN_BRANCH=${OVN_BRANCH:-$OVS_BRANCH} function use_new_ovn_repository { # IF OVN_BRANCH is ""master"" or branch-2.13 (or higher), use the new # OVN repository if [ ""$OVN_BRANCH"" == ""master"" ] || \ [ $(echo $OVN_BRANCH | sed -e 's/^branch-\([0-9]*\)\.//') -ge 13 ]; then return 0 else return 1 fi } echo ""Building OVS branch $OVS_BRANCH in $OVS_SRCDIR"" (cd $OVS_SRCDIR && git checkout $OVS_BRANCH && ./boot.sh && PYTHON=/usr/bin/python ./configure && make -j$(($(nproc) + 1)))if use_new_ovn_repository; then if [ ""$OVN_SRCDIR"" -a ! -d ""$OVN_SRCDIR"" ]; then echo ""Building OVN branch $OVN_BRANCH in $OVN_SRCDIR"" mkdir -p $OVN_SRCDIR git clone git://github.com/ovn-org/ovn.git $OVN_SRCDIR (cd $OVN_SRCDIR && git checkout $OVN_BRANCH && ./boot.sh && PYTHON=/usr/bin/python ./configure --with-ovs-source=$OVS_SRCDIR && make -j$(($(nproc) + 1))) fi"," echo ""Building OVS in $OVS_SRCDIR"" (cd $OVS_SRCDIR && ./boot.sh && PYTHON=/usr/bin/python ./configure && make -j$(($(nproc) + 1)))if [ ""$OVN_SRCDIR"" -a ! -d ""$OVN_SRCDIR"" ]; then echo ""Building OVN in $OVN_SRCDIR"" mkdir -p $OVN_SRCDIR git clone git://github.com/ovn-org/ovn.git $OVN_SRCDIR (cd $OVN_SRCDIR && ./boot.sh && PYTHON=/usr/bin/python ./configure --with-ovs-source=$OVS_SRCDIR && make -j$(($(nproc) + 1)))",31,8
openstack%2Fnova~master~I0ef4b954b7f4ae65b6c0f96580c5f9472a2b873c,openstack/nova,master,I0ef4b954b7f4ae65b6c0f96580c5f9472a2b873c,Skip cpu comparison on AArch64,MERGED,2018-08-08 09:15:11.000000000,2020-01-21 12:17:58.000000000,2019-12-06 23:05:39.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23950}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-08-08 09:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5a3af100c1c91a9937a42573cd07298811e9142', 'message': 'Skip CPU comparison in Aarch64\n\nCloses-bug: #1756118\n\nChange-Id: I0ef4b954b7f4ae65b6c0f96580c5f9472a2b873c\nSigned-off-by: Kevin Zhao <kevinzs2048@gmail.com>\n'}, {'number': 2, 'created': '2019-12-05 10:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa9b5e25093b5f46710ac16096dd2c2957cbacbf', 'message': 'Host CPU compatibility check does not make sense on AArch64; skip CPU\ncomparison\n\nCloses-bug: #1756118\n\nChange-Id: I0ef4b954b7f4ae65b6c0f96580c5f9472a2b873c\nSigned-off-by: Kevin Zhao <kevinzs2048@gmail.com>\n'}, {'number': 3, 'created': '2019-12-05 10:48:29.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4bb54ae86981d186e41dcc325d171ab951beb7b6', 'message': 'Skip cpu comparison on AArch64\n\nHost CPU compatibility check does not make sense on AArch64,\nthis patch skips CPU comparison.\n\nCloses-bug: #1756118\n\nChange-Id: I0ef4b954b7f4ae65b6c0f96580c5f9472a2b873c\nSigned-off-by: Kevin Zhao <kevinzs2048@gmail.com>\n'}]",3,589769,4bb54ae86981d186e41dcc325d171ab951beb7b6,40,19,3,22076,,,0,"Skip cpu comparison on AArch64

Host CPU compatibility check does not make sense on AArch64,
this patch skips CPU comparison.

Closes-bug: #1756118

Change-Id: I0ef4b954b7f4ae65b6c0f96580c5f9472a2b873c
Signed-off-by: Kevin Zhao <kevinzs2048@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/589769/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,f5a3af100c1c91a9937a42573cd07298811e9142,bug_1756118," if cpu.arch == fields.Architecture.AARCH64: LOG.debug(""Libvirt doesn't know how to detect the host CPU "" ""model on AArch64. Skipping CPU comparison"") return",,4,0
openstack%2Fbifrost~master~I7b4dd2a0bbbf2856f96d59c6b56628c2c75e4032,openstack/bifrost,master,I7b4dd2a0bbbf2856f96d59c6b56628c2c75e4032,Try shorthand format for console,MERGED,2020-01-20 23:44:31.000000000,2020-01-21 11:51:36.000000000,2020-01-21 11:45:54.000000000,"[{'_account_id': 8125}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-20 23:44:31.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/146bb4f5f0614d1174d585c5416086e48aeab784', 'message': 'Try shorthand format for console\n\nSeems tinycore is not reporting to the console...\nso we need to try and capture that output. Changing\nto ttyS0 instead of a full define path.\n\nChange-Id: I7b4dd2a0bbbf2856f96d59c6b56628c2c75e4032\n'}]",0,703522,146bb4f5f0614d1174d585c5416086e48aeab784,9,4,1,11655,,,0,"Try shorthand format for console

Seems tinycore is not reporting to the console...
so we need to try and capture that output. Changing
to ttyS0 instead of a full define path.

Change-Id: I7b4dd2a0bbbf2856f96d59c6b56628c2c75e4032
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/22/703522/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'],1,146bb4f5f0614d1174d585c5416086e48aeab784,700912,pxe_append_params = console=ttyS0,pxe_append_params = console=/dev/ttyS0,1,1
openstack%2Fbifrost~master~I425445fc3c716d085ba9c93fa253b649ee7c0438,openstack/bifrost,master,I425445fc3c716d085ba9c93fa253b649ee7c0438,Vagrant: run ansible-playbook from venv,MERGED,2020-01-16 14:57:33.000000000,2020-01-21 11:46:34.000000000,2020-01-21 11:44:35.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-16 14:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4ef33cf13967caba8232da905ddd20cebfb2d703', 'message': ""Vagrant: run ansible-playbook from venv\n\nThe VENV env variable is defined but not used, if we don't specify\nthe correct path for the ansible-playbook binary, the task will\nfail.\n\nChange-Id: I425445fc3c716d085ba9c93fa253b649ee7c0438\n""}, {'number': 2, 'created': '2020-01-20 01:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/dfbd111a66f1207d487dc234d6987ead29754ea8', 'message': ""Vagrant: run ansible-playbook from venv\n\nThe VENV env variable is defined but not used, if we don't specify\nthe correct path for the ansible-playbook binary, the task will\nfail.\n\nChange-Id: I425445fc3c716d085ba9c93fa253b649ee7c0438\n""}, {'number': 3, 'created': '2020-01-21 11:18:37.000000000', 'files': ['tools/vagrant_dev_env/vagrant.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3b1fd3c01dd35a149f585c4b640b9b351a0d1045', 'message': ""Vagrant: run ansible-playbook from venv\n\nThe VENV env variable is defined but not used, if we don't specify\nthe correct path for the ansible-playbook binary, the task will\nfail.\n\nChange-Id: I425445fc3c716d085ba9c93fa253b649ee7c0438\n""}]",0,702885,3b1fd3c01dd35a149f585c4b640b9b351a0d1045,12,3,3,23851,,,0,"Vagrant: run ansible-playbook from venv

The VENV env variable is defined but not used, if we don't specify
the correct path for the ansible-playbook binary, the task will
fail.

Change-Id: I425445fc3c716d085ba9c93fa253b649ee7c0438
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/85/702885/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/vagrant_dev_env/vagrant.yml'],1,4ef33cf13967caba8232da905ddd20cebfb2d703,700912," command: ${VENV}/bin/ansible-playbook -vvvv -i inventory/target install.yaml -e network_interface={{network_interface}} -e ansible_python_interpreter=""/usr/bin/python3"" -e download_ipa=true -e use_cirros=true -e enable_venv=true"," command: ansible-playbook -vvvv -i inventory/target install.yaml -e network_interface={{network_interface}} -e ansible_python_interpreter=""/usr/bin/python3"" -e download_ipa=true -e use_cirros=true -e enable_venv=true",1,1
openstack%2Fheat~master~If31a888e5867ac6941ff0d515d4b88894fb97572,openstack/heat,master,If31a888e5867ac6941ff0d515d4b88894fb97572,Add support for Octavia's Flavor and FlavorProfile resources,MERGED,2020-01-10 09:38:23.000000000,2020-01-21 11:45:53.000000000,2020-01-21 11:42:58.000000000,"[{'_account_id': 4257}, {'_account_id': 6469}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-01-10 09:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4cc0ef8deda7f8846f57bbd53c486a8ea895de02', 'message': ""Add support for Octavia's Flavor and FlavorProfile resources\n\nAdded OS::Octavia::Flavor and OS::Octavia::FlavorProfile support.\nAdded flavor parameter in OS::Octavia::LoadBalancer.\n\nFlavor and FlavorProfile allow to configure/tune Load Balancer\ncapabilities (enable/disable HA, etc...)\n\nStory: 2007081\nTask: 37993\n\nChange-Id: If31a888e5867ac6941ff0d515d4b88894fb97572\n""}, {'number': 2, 'created': '2020-01-10 10:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dde27c145ecc8bb3b50c97042428b3f0dd508548', 'message': ""Add support for Octavia's Flavor and FlavorProfile resources\n\nAdded OS::Octavia::Flavor and OS::Octavia::FlavorProfile support.\nAdded flavor parameter in OS::Octavia::LoadBalancer.\n\nFlavor and FlavorProfile allow to configure/tune Load Balancer\ncapabilities (enable/disable HA, etc...)\n\nStory: 2007081\nTask: 37993\n\nChange-Id: If31a888e5867ac6941ff0d515d4b88894fb97572\n""}, {'number': 3, 'created': '2020-01-10 13:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/94c809bf134637af5936fae69948d7c3f3196cbe', 'message': ""Add support for Octavia's Flavor and FlavorProfile resources\n\nAdded OS::Octavia::Flavor and OS::Octavia::FlavorProfile support.\nAdded flavor parameter in OS::Octavia::LoadBalancer.\n\nFlavor and FlavorProfile allow to configure/tune Load Balancer\ncapabilities (enable/disable HA, etc...)\n\nStory: 2007081\nTask: 37993\n\nChange-Id: If31a888e5867ac6941ff0d515d4b88894fb97572\n""}, {'number': 4, 'created': '2020-01-16 14:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bd7d94d0edefe4e62ed74a38ff5ddf9b230ab576', 'message': ""Add support for Octavia's Flavor and FlavorProfile resources\n\nAdded OS::Octavia::Flavor and OS::Octavia::FlavorProfile support.\nAdded flavor parameter in OS::Octavia::LoadBalancer.\n\nFlavor and FlavorProfile allow to configure/tune Load Balancer\ncapabilities (enable/disable HA, etc...)\n\nStory: 2007081\nTask: 37993\n\nChange-Id: If31a888e5867ac6941ff0d515d4b88894fb97572\n""}, {'number': 5, 'created': '2020-01-17 09:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/783783b83092311f0d6835368ad38a798b59b728', 'message': ""Add support for Octavia's Flavor and FlavorProfile resources\n\nAdded OS::Octavia::Flavor and OS::Octavia::FlavorProfile support.\nAdded flavor parameter in OS::Octavia::LoadBalancer.\n\nFlavor and FlavorProfile allow to configure/tune Load Balancer\ncapabilities (enable/disable HA, etc...)\n\nStory: 2007081\nTask: 37993\n\nChange-Id: If31a888e5867ac6941ff0d515d4b88894fb97572\n""}, {'number': 6, 'created': '2020-01-20 18:08:05.000000000', 'files': ['heat/engine/resources/openstack/octavia/flavor.py', 'heat/engine/resources/openstack/octavia/flavor_profile.py', 'heat/policies/resource_types.py', 'heat/tests/openstack/octavia/test_flavor_profile.py', 'heat/tests/openstack/octavia/inline_templates.py', 'lower-constraints.txt', 'heat/tests/openstack/octavia/test_flavor.py', 'heat/tests/openstack/octavia/test_loadbalancer.py', 'requirements.txt', 'heat/engine/clients/os/octavia.py', 'releasenotes/notes/add-octavia-flavor-flavorprofile-support-90ef922d19591c60.yaml', 'setup.cfg', 'heat/engine/resources/openstack/octavia/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/68a82193150fd5036b82f8ee6bb7ec2c5ddba69a', 'message': ""Add support for Octavia's Flavor and FlavorProfile resources\n\nAdded OS::Octavia::Flavor and OS::Octavia::FlavorProfile support.\nAdded flavor parameter in OS::Octavia::LoadBalancer.\n\nFlavor and FlavorProfile allow to configure/tune Load Balancer\ncapabilities (enable/disable HA, etc...)\n\nStory: 2007081\nTask: 37993\n\nChange-Id: If31a888e5867ac6941ff0d515d4b88894fb97572\n""}]",30,701910,68a82193150fd5036b82f8ee6bb7ec2c5ddba69a,28,5,6,29244,,,0,"Add support for Octavia's Flavor and FlavorProfile resources

Added OS::Octavia::Flavor and OS::Octavia::FlavorProfile support.
Added flavor parameter in OS::Octavia::LoadBalancer.

Flavor and FlavorProfile allow to configure/tune Load Balancer
capabilities (enable/disable HA, etc...)

Story: 2007081
Task: 37993

Change-Id: If31a888e5867ac6941ff0d515d4b88894fb97572
",git fetch https://review.opendev.org/openstack/heat refs/changes/10/701910/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/octavia/flavor.py', 'heat/engine/resources/openstack/octavia/flavor_profile.py', 'heat/tests/openstack/octavia/test_flavor_profile.py', 'heat/tests/openstack/octavia/inline_templates.py', 'heat/engine/clients/os/octavia.py', 'releasenotes/notes/add-octavia-flavor-flavorprofile-support-90ef922d19591c60.yaml', 'setup.cfg', 'heat/engine/resources/openstack/octavia/loadbalancer.py', 'heat/tests/openstack/octavia/test_flavor.py', 'heat/tests/openstack/octavia/test_loadbalancer.py']",10,4cc0ef8deda7f8846f57bbd53c486a8ea895de02,,"from heat.engine.clients.os.octavia import OctaviaClientPlugin self.patchobject(OctaviaClientPlugin, 'get_flavor', return_value='f123') 'flavor_id': 'f123',",,482,4
openstack%2Fbifrost~master~I2af15686b1eb6d3698c3c39b028bac27a5c2bf50,openstack/bifrost,master,I2af15686b1eb6d3698c3c39b028bac27a5c2bf50,Add a listen-address to the dnsmasq bind,MERGED,2020-01-20 01:33:47.000000000,2020-01-21 11:45:03.000000000,2020-01-21 11:45:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-20 01:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/02e3a3d396b49d97dc7a681aa35ec20cc0bc4222', 'message': ""Add a listen-address to the dnsmasq bind\n\nSeems Ubuntu Bionic doesn't like binding to just an interface,\nbut the address attachment works perfectly with an explict\naddress defined!\n\nChange-Id: I2af15686b1eb6d3698c3c39b028bac27a5c2bf50\n""}, {'number': 2, 'created': '2020-01-20 01:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7641e7d7e4b8e9339a3a138b575b89740154d429', 'message': ""Add a listen-address to the dnsmasq bind\n\nSeems Ubuntu Bionic doesn't like binding to just an interface,\nbut the address attachment works perfectly with an explict\naddress defined!\n\nChange-Id: I2af15686b1eb6d3698c3c39b028bac27a5c2bf50\n""}, {'number': 3, 'created': '2020-01-20 21:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/735f692753ba728922671aa85b2c9d14d91175f9', 'message': ""Add a listen-address to the dnsmasq bind\n\nSeems Ubuntu Bionic doesn't like binding to just an interface,\nbut the address attachment works perfectly with an explict\naddress defined!\n\nChange-Id: I2af15686b1eb6d3698c3c39b028bac27a5c2bf50\n""}, {'number': 4, 'created': '2020-01-20 21:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9230e0ef751973cf48ba49edadc98bcd7731ca9f', 'message': ""Add a listen-address to the dnsmasq bind\n\nSeems Ubuntu Bionic doesn't like binding to just an interface,\nbut the address attachment works perfectly with an explict\naddress defined!\n\nChange-Id: I2af15686b1eb6d3698c3c39b028bac27a5c2bf50\n""}, {'number': 5, 'created': '2020-01-20 22:51:28.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/dnsmasq.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/dc6c45c80579fc9c637ac88c5acdd52d97283e04', 'message': ""Add a listen-address to the dnsmasq bind\n\nSeems Ubuntu Bionic doesn't like binding to just an interface,\nbut the address attachment works perfectly with an explict\naddress defined!\n\nChange-Id: I2af15686b1eb6d3698c3c39b028bac27a5c2bf50\n""}]",2,703314,dc6c45c80579fc9c637ac88c5acdd52d97283e04,17,5,5,11655,,,0,"Add a listen-address to the dnsmasq bind

Seems Ubuntu Bionic doesn't like binding to just an interface,
but the address attachment works perfectly with an explict
address defined!

Change-Id: I2af15686b1eb6d3698c3c39b028bac27a5c2bf50
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/14/703314/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/dnsmasq.conf.j2'],1,02e3a3d396b49d97dc7a681aa35ec20cc0bc4222,700912,listen-address=http://{{ hostvars[inventory_hostname]['ansible_' + ans_network_interface]['ipv4']['address'] }},,1,0
openstack%2Fblazar~master~I84e64e1ba60341408c400bef7c351ec0ebab2ef1,openstack/blazar,master,I84e64e1ba60341408c400bef7c351ec0ebab2ef1,tox: Keeping going with docs,MERGED,2019-10-24 03:13:01.000000000,2020-01-21 11:43:08.000000000,2020-01-21 11:41:34.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 27822}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-10-24 03:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/aa2514a88715150a403821b279d2c49420e85d40', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I84e64e1ba60341408c400bef7c351ec0ebab2ef1\n""}, {'number': 2, 'created': '2019-10-24 03:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a578617b9fd361ceab035b0102af892482b17ae8', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I84e64e1ba60341408c400bef7c351ec0ebab2ef1\n""}, {'number': 3, 'created': '2020-01-20 21:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ff48e200eb6d8e909295a6ac3d0199be7e148c31', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I84e64e1ba60341408c400bef7c351ec0ebab2ef1\n""}, {'number': 4, 'created': '2020-01-21 08:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/11750bea114bbba818cff64050b87206b50fd688', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I84e64e1ba60341408c400bef7c351ec0ebab2ef1\n""}, {'number': 5, 'created': '2020-01-21 09:43:42.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/056b2efb143dc3f5793975034e930277733b7245', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I84e64e1ba60341408c400bef7c351ec0ebab2ef1\n""}]",1,690786,056b2efb143dc3f5793975034e930277733b7245,18,5,5,28614,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I84e64e1ba60341408c400bef7c351ec0ebab2ef1
",git fetch https://review.opendev.org/openstack/blazar refs/changes/86/690786/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,aa2514a88715150a403821b279d2c49420e85d40,docs-keep-going,, sphinx-build -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html sphinx-build -WE -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html,4,6
openstack%2Fbifrost~master~Ia8ed7127d06de9658809b6ff241dcd9602c09207,openstack/bifrost,master,Ia8ed7127d06de9658809b6ff241dcd9602c09207,Remove CI credential setup,MERGED,2020-01-11 23:43:43.000000000,2020-01-21 11:32:12.000000000,2020-01-21 11:29:23.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-11 23:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7c5754b5b8748d7099906249c6ea61f580cf6063', 'message': 'WIP: Remove openstack ci mysql credentials\n\nChange-Id: Ia8ed7127d06de9658809b6ff241dcd9602c09207\n'}, {'number': 2, 'created': '2020-01-13 17:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8aa1fab9763429fd2862c5dc798cacc4960019b4', 'message': 'Remove CI credential setup\n\nThis no longer seems necessary, so lets stop trying to have database\ncredentials that are OpenStack specific.\n\nChange-Id: Ia8ed7127d06de9658809b6ff241dcd9602c09207\n'}, {'number': 3, 'created': '2020-01-18 00:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/37aa2b19f2afbd3079e4355efe00eff3c3148795', 'message': 'Remove CI credential setup\n\nThis no longer seems necessary, so lets stop trying to have database\ncredentials that are OpenStack specific.\n\nChange-Id: Ia8ed7127d06de9658809b6ff241dcd9602c09207\n'}, {'number': 4, 'created': '2020-01-20 21:18:27.000000000', 'files': ['playbooks/roles/bifrost-openstack-ci-prep/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/80386cd125bf358e36de4e0b8e4b9fc7729800a7', 'message': 'Remove CI credential setup\n\nThis no longer seems necessary, so lets stop trying to have database\ncredentials that are OpenStack specific.\n\nChange-Id: Ia8ed7127d06de9658809b6ff241dcd9602c09207\n'}]",0,702107,80386cd125bf358e36de4e0b8e4b9fc7729800a7,17,5,4,11655,,,0,"Remove CI credential setup

This no longer seems necessary, so lets stop trying to have database
credentials that are OpenStack specific.

Change-Id: Ia8ed7127d06de9658809b6ff241dcd9602c09207
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/07/702107/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-openstack-ci-prep/tasks/main.yml'],1,7c5754b5b8748d7099906249c6ea61f580cf6063,700912,"#- name: ""Set facts for OpenStack CI"" # set_fact: # mysql_username: ""openstack_citest"" # mysql_password: ""openstack_citest"" # disable_dnsmasq_dns: True","- name: ""Set facts for OpenStack CI"" set_fact: mysql_username: ""openstack_citest"" mysql_password: ""openstack_citest"" disable_dnsmasq_dns: True",5,5
openstack%2Fbifrost~master~I213f0db2e8d56590ba4b58908e538156edee0b1f,openstack/bifrost,master,I213f0db2e8d56590ba4b58908e538156edee0b1f,Python3/Ansible conditional quarks,MERGED,2020-01-08 18:32:46.000000000,2020-01-21 11:30:55.000000000,2020-01-21 11:28:25.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-08 18:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/dd0c3698789934516474e818bf44e41b1de38a8c', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 2, 'created': '2020-01-08 19:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/46fbdbd1b4c07fafa27f0048ca7ca5e990dddcc8', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 3, 'created': '2020-01-09 17:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/09dd422c59b66c3f1b5e9e257041cad451a75225', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 4, 'created': '2020-01-10 16:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1c32e7ec0c77ba01910e0dee95bc4d05ac01d727', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 5, 'created': '2020-01-10 17:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/28c905ee328759f3411115bd4908742c7d4ad024', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 6, 'created': '2020-01-10 18:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9dc633a57b67b60a6c8fe795d7e80c13bfba55f0', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 7, 'created': '2020-01-10 19:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6f5af7796361829c51b2c2ade7b98f459a3efdba', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 8, 'created': '2020-01-10 23:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c4ac717cdcf156516266b050dd9cb1e3b4a9691d', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 9, 'created': '2020-01-18 00:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0bf385acec6d3bb08628e085b124a59f190a7a0c', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}, {'number': 10, 'created': '2020-01-20 21:18:27.000000000', 'files': ['playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/pip_install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/pip_install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/355e998f1f197cdfe26ed4b14782f7983c831387', 'message': 'Python3/Ansible conditional quarks\n\nAttempts to clean up conditionals such that they are properly interpreted\nand executed as intended.\n\nChange-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f\n'}]",5,701590,355e998f1f197cdfe26ed4b14782f7983c831387,30,5,10,11655,,,0,"Python3/Ansible conditional quarks

Attempts to clean up conditionals such that they are properly interpreted
and executed as intended.

Change-Id: I213f0db2e8d56590ba4b58908e538156edee0b1f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/90/701590/7 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/pip_install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/pip_install.yml']",4,dd0c3698789934516474e818bf44e41b1de38a8c,700912," when: enable_venv when: (source_install is not defined or source_install | bool == false ) and enable_venv | default(false) | bool executable: /usr/bin/pip3 when: (source_install is not defined or source_install | bool == false ) and enable_venv | default(false) | bool == false- name: ""Install from {{ sourcedir | default(package) }} using pip"" command: pip3 install {{ sourcedir | default(package) }} {{ extra_args | default('') }} when: source_install is defined and source_install | default(true) | bool"," when: enable_venv|bool when: (source_install is not defined or source_install == false) and enable_venv|bool when: (source_install is not defined or source_install == false) and not enable_venv|bool- name: ""Install from {{ sourcedir }} using pip"" command: pip3 install --system {{ sourcedir }} {{ extra_args | default('') }} when: source_install is defined and (source_install | bool == true)",51,43
openstack%2Fbifrost~master~Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7,openstack/bifrost,master,Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7,Hopefully final venv fixes,MERGED,2020-01-09 22:09:33.000000000,2020-01-21 11:28:26.000000000,2020-01-21 11:28:25.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-09 22:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fb386a13322e20430161747de6191ce4939e8df5', 'message': 'Hopefully final venv fixes\n\nAlso uncapped the proliantutils maximum as upper\nconstraints is in place.\n\nSet the ansible python interpreter as well for the\nmain process launch, which magically resolved\nvenv dependency issues.\n\nChange-Id: Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7\n'}, {'number': 2, 'created': '2020-01-10 16:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/52c5cc26117cce24af281f16f2f154d76313d308', 'message': 'Hopefully final venv fixes\n\nAlso uncapped the proliantutils maximum as upper\nconstraints is in place.\n\nSet the ansible python interpreter as well for the\nmain process launch, which magically resolved\nvenv dependency issues.\n\nChange-Id: Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7\n'}, {'number': 3, 'created': '2020-01-10 17:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9ac2130f66a77827fcec8297f7f938296dfefb2b', 'message': 'Hopefully final venv fixes\n\nAlso uncapped the proliantutils maximum as upper\nconstraints is in place.\n\nSet the ansible python interpreter as well for the\nmain process launch, which magically resolved\nvenv dependency issues.\n\nChange-Id: Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7\n'}, {'number': 4, 'created': '2020-01-10 18:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ed4ec781697c8c515cc64e0dff91500832240718', 'message': 'Hopefully final venv fixes\n\nAlso uncapped the proliantutils maximum as upper\nconstraints is in place.\n\nSet the ansible python interpreter as well for the\nmain process launch, which magically resolved\nvenv dependency issues.\n\nChange-Id: Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7\n'}, {'number': 5, 'created': '2020-01-10 23:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b510166d6808609eb797f41abffaa1880f6fae77', 'message': 'Hopefully final venv fixes\n\nAlso uncapped the proliantutils maximum as upper\nconstraints is in place.\n\nSet the ansible python interpreter as well for the\nmain process launch, which magically resolved\nvenv dependency issues.\n\nChange-Id: Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7\n'}, {'number': 6, 'created': '2020-01-18 00:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8401abde88744d9c0b90212014ac5e099928fd28', 'message': 'Hopefully final venv fixes\n\nAlso uncapped the proliantutils maximum as upper\nconstraints is in place.\n\nSet the ansible python interpreter as well for the\nmain process launch, which magically resolved\nvenv dependency issues.\n\nChange-Id: Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7\n'}, {'number': 7, 'created': '2020-01-20 21:18:27.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6677bb39f6a6c8daf5cf12c1459d885e8f79bed7', 'message': 'Hopefully final venv fixes\n\nAlso uncapped the proliantutils maximum as upper\nconstraints is in place.\n\nSet the ansible python interpreter as well for the\nmain process launch, which magically resolved\nvenv dependency issues.\n\nChange-Id: Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7\n'}]",0,701846,6677bb39f6a6c8daf5cf12c1459d885e8f79bed7,21,4,7,11655,,,0,"Hopefully final venv fixes

Also uncapped the proliantutils maximum as upper
constraints is in place.

Set the ansible python interpreter as well for the
main process launch, which magically resolved
venv dependency issues.

Change-Id: Iae06a87e7dbcf76e4be7453e57ec5fd75389caa7
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/46/701846/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'scripts/test-bifrost.sh']",2,fb386a13322e20430161747de6191ce4939e8df5,700912," -e ansible_python_interpreter=""${ANSIBLE_PYTHON_INTERP}"" \",,2,3
openstack%2Fironic-python-agent~master~I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e,openstack/ironic-python-agent,master,I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e,Set rd.md.uuid kernel parameter when deploying on software raid,MERGED,2019-10-03 11:00:44.000000000,2020-01-21 11:00:23.000000000,2019-10-28 11:43:04.000000000,"[{'_account_id': 136}, {'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 30927}]","[{'number': 1, 'created': '2019-10-03 11:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9ae145c20c7285fed1a0baff1a9de69b3063533f', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently required that\nthe deployed image assembles the md arrays automatically so that the rootfs can\nbe mounted. In order to remove this requirement/limitation on the deployed image\nwe can add rd.md.uuid to the kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n""}, {'number': 2, 'created': '2019-10-03 11:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/be08887e27acf5cd70e08b91ec221df7966ba4d6', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently\nrequired that the deployed image assembles the md arrays automatically\nso that the rootfs can be mounted. In order to remove this\nrequirement/limitation on the deployed image we can add rd.md.uuid to\nthe kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n""}, {'number': 3, 'created': '2019-10-03 14:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/36e471621db6fd1eabeb11574fcd1c8789f86b09', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently\nrequired that the deployed image assembles the md arrays automatically\nso that the rootfs can be mounted. In order to remove this\nrequirement/limitation on the deployed image we can add rd.md.uuid to\nthe kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n""}, {'number': 4, 'created': '2019-10-04 13:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/646886c15a72e2e527abcd2d15eb6b552b1fe920', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently\nrequired that the deployed image assembles the md arrays automatically\nso that the rootfs can be mounted. In order to remove this\nrequirement/limitation on the deployed image we can add rd.md.uuid to\nthe kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n""}, {'number': 5, 'created': '2019-10-04 13:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a24820efe3f3807bef2d5d3bad73d34c14b31005', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently\nrequired that the deployed image assembles the md arrays automatically\nso that the rootfs can be mounted. In order to remove this\nrequirement/limitation on the deployed image we can add rd.md.uuid to\nthe kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n""}, {'number': 6, 'created': '2019-10-04 15:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9df14614c879f316bb38e4b8c72d341f56efb525', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently\nrequired that the deployed image assembles the md arrays automatically\nso that the rootfs can be mounted. In order to remove this\nrequirement/limitation on the deployed image we can add rd.md.uuid to\nthe kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n""}, {'number': 7, 'created': '2019-10-04 21:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d09e489a6e3f5ee6fa05ed836b4f8d9bda15bb4a', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently\nrequired that the deployed image assembles the md arrays automatically\nso that the rootfs can be mounted. In order to remove this\nrequirement/limitation on the deployed image we can add rd.md.uuid to\nthe kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n""}, {'number': 8, 'created': '2019-10-17 11:15:54.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/19754780971f2316021ac0d8459d31fa77d239eb', 'message': ""Set rd.md.uuid kernel parameter when deploying on software raid\n\nWhen deploying an image to a software raid array, it is currently\nrequired that the deployed image assembles the md arrays automatically\nso that the rootfs can be mounted. In order to remove this\nrequirement/limitation on the deployed image we can add rd.md.uuid to\nthe kernel command line with the raid array's uuid.\n\nStory: 2006648\nTask: 36884\nChange-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e\n""}]",1,686382,19754780971f2316021ac0d8459d31fa77d239eb,34,8,8,30927,,,0,"Set rd.md.uuid kernel parameter when deploying on software raid

When deploying an image to a software raid array, it is currently
required that the deployed image assembles the md arrays automatically
so that the rootfs can be mounted. In order to remove this
requirement/limitation on the deployed image we can add rd.md.uuid to
the kernel command line with the raid array's uuid.

Story: 2006648
Task: 36884
Change-Id: I42cb198753ecd84b7eaef6b5aa7c2064535bfe0e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/82/686382/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,9ae145c20c7285fed1a0baff1a9de69b3063533f,story-2006648-rd.md.uuid,"import re # Set the rd.md.uuid kernel parameter if the root device is an md device if hardware.is_md_device(device): LOG.debug(""Setting rd.md.uuid for %s"", device) try: out, _ = utils.execute('mdadm', '--detail', device, use_standard_locale=True) except processutils.ProcessExecutionError as e: msg = ('Could not get UUID of %(dev)s: %(err)s' % {'dev': device, 'err': e}) raise errors.CommandExecutionError(msg) md_uuid = re.findall(r'UUID : (.*)', out)[0] with open('%s/etc/default/grub' % path, 'r') as g: contents = g.read() with open('%s/etc/default/grub' % path, 'w') as g: g.write(re.sub(r'GRUB_CMDLINE_LINUX_DEFAULT=""(.*)""', r'GRUB_CMDLINE_LINUX_DEFAULT=""\1 rd.md.uuid=' + re.escape(md_uuid) + r'""', contents)) ",,23,2
openstack%2Fbifrost~stable%2Ftrain~Ie5f62655248c40885fdcd6fa87180a6952f145fc,openstack/bifrost,stable/train,Ie5f62655248c40885fdcd6fa87180a6952f145fc,"Use upper-constraints for ironicclient, sushy and DIB",MERGED,2020-01-17 14:06:22.000000000,2020-01-21 10:40:16.000000000,2020-01-21 10:37:43.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-17 14:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0191e24af9b9158e33f7c8ad554fb423645201cd', 'message': 'Use upper-constraints for ironicclient and sushy\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n(cherry picked from commit 230b1a8bd754899fc1a97fa5035f0ea46b891718)\n'}, {'number': 2, 'created': '2020-01-17 14:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/328043e1e23e80e6e476d039e2b8db313f91d1a8', 'message': 'Use upper-constraints for ironicclient, sushy and DIB\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nTo make it work with packages that are constrained themselves,\nthis patch splits the source-based installation into two steps:\ninstalling requirements (constrained) and installing the project\nitself (unconstrained).\n\nConflicts:\n\tplaybooks/roles/bifrost-ironic-install/tasks/pip_install.yml\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n(cherry picked from commit e56c819430c9565285a664baf04873340669ca27)\n'}, {'number': 3, 'created': '2020-01-17 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/14eb6435f220eaf4591167c35fc7ef1a90f28b51', 'message': 'Use upper-constraints for ironicclient, sushy and DIB\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nTo make it work with packages that are constrained themselves,\nthis patch splits the source-based installation into two steps:\ninstalling requirements (constrained) and installing the project\nitself (unconstrained).\n\nConflicts:\n\tplaybooks/roles/bifrost-ironic-install/tasks/pip_install.yml\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n(cherry picked from commit ae3794b8d30ec3cb27d6b6fe10a6d7c1910e171f)\n'}, {'number': 4, 'created': '2020-01-17 15:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/730f9f8c479ebadc2a02f0353a91bd631bcb2e05', 'message': 'Use upper-constraints for ironicclient, sushy and DIB\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nTo make it work with packages that are constrained themselves,\nthis patch splits the source-based installation into two steps:\ninstalling requirements (constrained) and installing the project\nitself (unconstrained).\n\nConflicts:\n\tplaybooks/roles/bifrost-ironic-install/tasks/pip_install.yml\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n(cherry picked from commit a9e38d4e00ad59bdecbd186ec4bd773b22dcd5e5)\n'}, {'number': 5, 'created': '2020-01-17 16:26:22.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/pip_install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/893061af30ff245abd06745dbb27a2752a87a58c', 'message': 'Use upper-constraints for ironicclient, sushy and DIB\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nTo make it work with packages that are constrained themselves,\nthis patch splits the source-based installation into two steps:\ninstalling requirements (constrained) and installing the project\nitself (unconstrained).\n\nConflicts:\n\tplaybooks/roles/bifrost-ironic-install/tasks/pip_install.yml\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n(cherry picked from commit 564de9d264bf41bc1fa66cc82ba8fa132cd0f63f)\n'}]",0,703086,893061af30ff245abd06745dbb27a2752a87a58c,19,3,5,10239,,,0,"Use upper-constraints for ironicclient, sushy and DIB

The goal of upper-constraints is to avoid breakages with versions
known not to work. Lack of upper-constraints for ironicclient is
currently breaking stable branches by pulling packages that are
not Python 2 compatible.

If we need recent versions of ironicclient, we should use source
installation instead.

To make it work with packages that are constrained themselves,
this patch splits the source-based installation into two steps:
installing requirements (constrained) and installing the project
itself (unconstrained).

Conflicts:
	playbooks/roles/bifrost-ironic-install/tasks/pip_install.yml

Change-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc
(cherry picked from commit 564de9d264bf41bc1fa66cc82ba8fa132cd0f63f)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/86/703086/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/install.yml'],1,0191e24af9b9158e33f7c8ad554fb423645201cd,," extra_args=""-c {{ upper_constraints_file }}"" extra_args=""-c {{ upper_constraints_file }}""", # NOTE(TheJulia): We do not explicitly define an upper constraints file # to be utilized in order to allow newer versions to be installed. # NOTE(TheJulia): We do not explicitly define an upper constraints file # to be utilized in order to allow newer versions to be installed.,2,4
openstack%2Fneutron-fwaas~master~If62215c5dcfc5b0ab257d50dfa5c481a9586dfb2,openstack/neutron-fwaas,master,If62215c5dcfc5b0ab257d50dfa5c481a9586dfb2,Stop running PY27 test & complete removal of py27 support,ABANDONED,2020-01-21 10:08:32.000000000,2020-01-21 10:36:39.000000000,,[{'_account_id': 21798}],"[{'number': 1, 'created': '2020-01-21 10:08:32.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8174e41774c05231700a4428616893cbc0af22b6', 'message': 'Stop running PY27 test & complete removal of py27 support\n\nChange-Id: If62215c5dcfc5b0ab257d50dfa5c481a9586dfb2\n'}]",0,703576,8174e41774c05231700a4428616893cbc0af22b6,3,1,1,20363,,,0,"Stop running PY27 test & complete removal of py27 support

Change-Id: If62215c5dcfc5b0ab257d50dfa5c481a9586dfb2
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/76/703576/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,8174e41774c05231700a4428616893cbc0af22b6,rm_py27,"envlist = py37,pep8,pylint","envlist = py27,py37,pep8,pylint",2,1
openstack%2Frenderspec~master~Ida03f9cca7d276ed8a449d21c0ba58330916e7d9,openstack/renderspec,master,Ida03f9cca7d276ed8a449d21c0ba58330916e7d9,Drop py27 support,MERGED,2020-01-12 08:28:35.000000000,2020-01-21 10:18:15.000000000,2020-01-21 10:14:29.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-12 08:28:35.000000000', 'files': ['renderspec/__init__.py', 'renderspec/versions.py', 'requirements.txt', 'renderspec/contextfuncs.py', 'renderspec/utils.py', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/c9a5abaa8efd59bd3a3fa2e4faa717be82befc06', 'message': 'Drop py27 support\n\nThis bumps jobs to the current usurri template and drops compatibility\ncode for Python 2.7.\n\nChange-Id: Ida03f9cca7d276ed8a449d21c0ba58330916e7d9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,702112,c9a5abaa8efd59bd3a3fa2e4faa717be82befc06,8,3,1,11904,,,0,"Drop py27 support

This bumps jobs to the current usurri template and drops compatibility
code for Python 2.7.

Change-Id: Ida03f9cca7d276ed8a449d21c0ba58330916e7d9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/12/702112/1 && git format-patch -1 --stdout FETCH_HEAD,"['renderspec/__init__.py', 'renderspec/versions.py', 'requirements.txt', 'renderspec/contextfuncs.py', 'renderspec/utils.py', '.zuul.yaml', 'setup.cfg', 'tox.ini']",8,c9a5abaa8efd59bd3a3fa2e4faa717be82befc06,drop-py2-support,"envlist = py37,pypy,pep8basepython = python3","envlist = py27,py37,pypy,pep8basepython = python3basepython = python3basepython = python3",6,22
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ibe107b03e57680f4e31330e406e70bac2681f8c2,openstack/tripleo-heat-templates,stable/rocky,Ibe107b03e57680f4e31330e406e70bac2681f8c2,DO NOT MERGE,ABANDONED,2019-12-02 10:00:00.000000000,2020-01-21 10:12:07.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 10:00:00.000000000', 'files': ['docker/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/443c0b0cc819f40940e4148c9c0bc2dd5f3eeb8f', 'message': 'DO NOT MERGE\n\nTesting Rocky undercloud upgrade\n\nDepends-On: https://review.opendev.org/#/c/695234\nChange-Id: Ibe107b03e57680f4e31330e406e70bac2681f8c2\n'}]",0,696845,443c0b0cc819f40940e4148c9c0bc2dd5f3eeb8f,10,3,1,20775,,,0,"DO NOT MERGE

Testing Rocky undercloud upgrade

Depends-On: https://review.opendev.org/#/c/695234
Change-Id: Ibe107b03e57680f4e31330e406e70bac2681f8c2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/696845/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-api.yaml'],1,443c0b0cc819f40940e4148c9c0bc2dd5f3eeb8f,,,,2,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I66f7561d0e35732f77faa634c76b37847717205f,openstack/tripleo-heat-templates,stable/rocky,I66f7561d0e35732f77faa634c76b37847717205f,DNM - Check,ABANDONED,2019-12-10 11:30:13.000000000,2020-01-21 10:12:01.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-10 11:30:13.000000000', 'files': ['docker/services/neutron-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b4fde926ddfb049f46714b51e179bb55968e04c', 'message': 'DNM - Check\n\nDepends-On: https://review.opendev.org/#/c/698219/\nChange-Id: I66f7561d0e35732f77faa634c76b37847717205f\n'}]",0,698220,5b4fde926ddfb049f46714b51e179bb55968e04c,10,3,1,20775,,,0,"DNM - Check

Depends-On: https://review.opendev.org/#/c/698219/
Change-Id: I66f7561d0e35732f77faa634c76b37847717205f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/698220/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-api.yaml'],1,5b4fde926ddfb049f46714b51e179bb55968e04c,,,,2,0
openstack%2Frenderspec~master~I54c6ada7c4ad7147bf7f8547e249eb6998a05145,openstack/renderspec,master,I54c6ada7c4ad7147bf7f8547e249eb6998a05145,Drop use of unittest2,MERGED,2020-01-12 08:19:34.000000000,2020-01-21 10:11:51.000000000,2020-01-21 10:10:34.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-12 08:19:34.000000000', 'files': ['tests.py'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/dd2c0fca028bb1b077a077bd21a4bf4487dc52c3', 'message': ""Drop use of unittest2\n\nunittest2 was needed for Python <= 2.6 and hasn't been needed for quite\nawhile now. See unittest2 note at:\n\nhttps://docs.python.org/2.7/library/unittest.html\n\nThis cleans up use to just use the standard unittest package.\n\nChange-Id: I54c6ada7c4ad7147bf7f8547e249eb6998a05145\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,702111,dd2c0fca028bb1b077a077bd21a4bf4487dc52c3,8,3,1,11904,,,0,"Drop use of unittest2

unittest2 was needed for Python <= 2.6 and hasn't been needed for quite
awhile now. See unittest2 note at:

https://docs.python.org/2.7/library/unittest.html

This cleans up use to just use the standard unittest package.

Change-Id: I54c6ada7c4ad7147bf7f8547e249eb6998a05145
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/11/702111/1 && git format-patch -1 --stdout FETCH_HEAD,['tests.py'],1,dd2c0fca028bb1b077a077bd21a4bf4487dc52c3,unittest2,import unittest,try: import unittest2 as unittest except ImportError: import unittest,1,4
openstack%2Fheat~master~I47bbd21fa273c338f0dc7715580192d0f70f0b17,openstack/heat,master,I47bbd21fa273c338f0dc7715580192d0f70f0b17,Change uuid.uuid4 with uuidutils.generate_uuid(),ABANDONED,2018-07-17 10:23:12.000000000,2020-01-21 10:05:16.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-07-17 10:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e9db3e6e2800eb487ff4efee96c1823d71ce2cc5', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 2, 'created': '2018-07-18 05:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/75a416c880941e57390bb605469e5d7255ddf75b', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\n\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 3, 'created': '2018-07-18 05:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0c670ac9d121e2c48282d29f2a1e05345a1c4d8e', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\n\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 4, 'created': '2018-07-23 05:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4713c8ff11803a85c6c783e7f7f61901aec2a9c5', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\n\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 5, 'created': '2018-07-24 05:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9476f48c16ea14bcf8f72ed7d3ad9afbca8ac527', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\n\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 6, 'created': '2018-07-30 05:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0db7e4ce37df6aa5aacbbe125f82c97d68d1b39a', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 7, 'created': '2018-07-30 09:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e8f551eac12a30f3cf95769d1485e7b69b8cb50c', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 8, 'created': '2018-07-30 11:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1aee424b8dd2bf13a99ec3d12caffcd5d72b144d', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 9, 'created': '2018-07-31 03:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3784f30675fc88f3e356db5c6a0eeb2d437ef664', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\n\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 10, 'created': '2018-08-10 05:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/379327a4e375366c302c5abeacdbc697edffe7d6', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\n\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}, {'number': 11, 'created': '2018-08-21 06:09:39.000000000', 'files': ['heat/engine/service_software_config.py', 'heat/tests/engine/test_check_resource.py', 'heat/tests/engine/service/test_software_config.py', 'heat/tests/openstack/heat/test_swiftsignal.py', 'heat/db/sqlalchemy/migrate_repo/versions/071_mitaka.py', 'heat/tests/aws/test_instance_network.py', 'heat/tests/openstack/heat/test_software_deployment.py', 'heat/tests/clients/test_sahara_client.py', 'heat/tests/engine/service/test_stack_snapshot.py', 'heat/tests/test_engine_service.py', 'heat/tests/engine/service/test_stack_update.py', 'heat/tests/utils.py', 'heat/tests/openstack/heat/test_multi_part.py', 'heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/test_event.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/engine/resources/openstack/heat/none_resource.py', 'heat/tests/db/test_migrations.py', 'heat/tests/clients/test_cinder_client.py', 'heat/tests/clients/test_nova_client.py', 'heat/tests/test_vpc.py', 'heat/tests/aws/test_instance.py', 'heat/tests/openstack/trove/test_instance.py', 'heat/tests/test_provider_template.py', 'heat/tests/test_stack_resource.py', 'heat/common/service_utils.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py', 'heat/tests/test_resource.py', 'heat/tests/openstack/heat/test_cloud_config.py', 'heat/tests/test_function.py', 'heat/tests/aws/test_waitcondition.py', 'heat/tests/openstack/heat/test_waitcondition.py', 'heat/tests/test_common_service_utils.py', 'heat/engine/resources/server_base.py', 'heat/tests/test_server_tags.py', 'heat/db/sqlalchemy/models.py', 'heat/tests/test_engine_api_utils.py', 'heat/tests/clients/test_glance_client.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/15c1b4f0f8dcb50f7277b7a2b97a68128aababb0', 'message': 'Change uuid.uuid4 with uuidutils.generate_uuid()\n\nOslo has a wrapper for generating uuids.\nUsing that function when generating uuids for\nuniformity between the projects.\n\nChange-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17\nStory: #1656744\nTask: #18676\n'}]",29,583188,15c1b4f0f8dcb50f7277b7a2b97a68128aababb0,43,5,11,27621,,,0,"Change uuid.uuid4 with uuidutils.generate_uuid()

Oslo has a wrapper for generating uuids.
Using that function when generating uuids for
uniformity between the projects.

Change-Id: I47bbd21fa273c338f0dc7715580192d0f70f0b17
Story: #1656744
Task: #18676
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/583188/9 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/service_software_config.py', 'heat/tests/engine/test_check_resource.py', 'heat/tests/engine/service/test_software_config.py', 'heat/common/short_id.py', 'heat/tests/openstack/heat/test_swiftsignal.py', 'heat/db/sqlalchemy/migrate_repo/versions/071_mitaka.py', 'heat/tests/aws/test_instance_network.py', 'heat/tests/openstack/heat/test_software_deployment.py', 'heat/tests/clients/test_sahara_client.py', 'heat/tests/engine/service/test_stack_snapshot.py', 'heat/tests/test_engine_service.py', 'heat/tests/engine/service/test_stack_update.py', 'heat/tests/openstack/heat/test_multi_part.py', 'heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/test_event.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/engine/resources/openstack/heat/none_resource.py', 'heat/tests/db/test_migrations.py', 'heat/tests/clients/test_cinder_client.py', 'heat/tests/clients/test_nova_client.py', 'heat/tests/test_vpc.py', 'heat/tests/aws/test_instance.py', 'heat/tests/openstack/trove/test_instance.py', 'heat/tests/test_provider_template.py', 'heat/tests/test_stack_resource.py', 'heat/common/service_utils.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py', 'heat/tests/test_resource.py', 'heat/tests/openstack/heat/test_cloud_config.py', 'heat/tests/test_function.py', 'heat/tests/aws/test_waitcondition.py', 'heat/tests/openstack/heat/test_waitcondition.py', 'heat/tests/test_common_service_utils.py', 'heat/engine/resources/server_base.py', 'heat/tests/test_server_tags.py', 'heat/db/sqlalchemy/models.py', 'heat/tests/test_engine_api_utils.py', 'heat/tests/clients/test_glance_client.py']",38,e9db3e6e2800eb487ff4efee96c1823d71ce2cc5,583188,from oslo_utils import uuidutils img_id = str(uuidutils.generate_uuid()),import uuid img_id = str(uuid.uuid4()),192,197
openstack%2Fblazar-dashboard~master~Ic6c2f140a0e916e3258267c336eea39fc09a336a,openstack/blazar-dashboard,master,Ic6c2f140a0e916e3258267c336eea39fc09a336a,translation: drop babel extractor definitions,MERGED,2019-12-26 17:10:59.000000000,2020-01-21 10:00:37.000000000,2020-01-21 09:57:52.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-26 17:10:59.000000000', 'files': ['babel-django.cfg', 'babel-djangojs.cfg'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/cb94a0001d28a97c9381514a811dc3bb7a951e26', 'message': 'translation: drop babel extractor definitions\n\nbabel extractors are now registered via python entry points,\nso there is no need to declare babel extractors in babel configs.\n\nThis change is important to make translation work in Django 2.2.\ndjango-babel does not work with Django 2.2 and looks unmaintained\nfor over two years. The horizon team is thinking to switch the extractor\nto enmerkar (a fork of django-babel) to make extraction of translation\nstring work again near future. It is important to drop the extractor\ndefinition to make the transition smooth.\n\nChange-Id: Ic6c2f140a0e916e3258267c336eea39fc09a336a\n'}]",3,700633,cb94a0001d28a97c9381514a811dc3bb7a951e26,13,6,1,841,,,0,"translation: drop babel extractor definitions

babel extractors are now registered via python entry points,
so there is no need to declare babel extractors in babel configs.

This change is important to make translation work in Django 2.2.
django-babel does not work with Django 2.2 and looks unmaintained
for over two years. The horizon team is thinking to switch the extractor
to enmerkar (a fork of django-babel) to make extraction of translation
string work again near future. It is important to drop the extractor
definition to make the transition smooth.

Change-Id: Ic6c2f140a0e916e3258267c336eea39fc09a336a
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/33/700633/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel-django.cfg', 'babel-djangojs.cfg']",2,cb94a0001d28a97c9381514a811dc3bb7a951e26,babel-config,,"[extractors] # We use a custom extractor to find translatable strings in AngularJS # templates. The extractor is included in horizon.utils for now. # For details on how this works, see # http://babel.pocoo.org/en/latest/messages.html#referencing-extraction-methods angular = horizon.utils.babel_extract_angular:extract_angular # We need to look into all static folders for HTML files. # The **/static ensures that we also search within # /openstack_dashboard/dashboards/XYZ/static which will ensure # that plugins are also translated.",0,15
openstack%2Fblazar-dashboard~master~Ib28727f18d3ff2c86f5dc9ab3dc49bb031650b55,openstack/blazar-dashboard,master,Ib28727f18d3ff2c86f5dc9ab3dc49bb031650b55,tox: Keeping going with docs,MERGED,2019-10-24 03:26:30.000000000,2020-01-21 09:58:07.000000000,2020-01-21 09:55:46.000000000,"[{'_account_id': 15197}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-24 03:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/2daf758ffb74796b85b1115ca087b501d347d468', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ib28727f18d3ff2c86f5dc9ab3dc49bb031650b55\n""}, {'number': 2, 'created': '2020-01-20 21:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/e55336d9bc623ed65bcc2d60e3dc12b937175e66', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ib28727f18d3ff2c86f5dc9ab3dc49bb031650b55\n""}, {'number': 3, 'created': '2020-01-20 21:43:30.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/0447828e8ffdbf3ff0d4c6ea0cbf6e2f4fcf8929', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ib28727f18d3ff2c86f5dc9ab3dc49bb031650b55\n""}]",0,690787,0447828e8ffdbf3ff0d4c6ea0cbf6e2f4fcf8929,13,5,3,28614,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ib28727f18d3ff2c86f5dc9ab3dc49bb031650b55
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/87/690787/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,2daf758ffb74796b85b1115ca087b501d347d468,docs-keep-going, sphinx-build -W --keep-going -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Fblazar-dashboard~master~I48967b4e792dccade818389bf43707cde2e15c2b,openstack/blazar-dashboard,master,I48967b4e792dccade818389bf43707cde2e15c2b,Remove six usage,MERGED,2020-01-11 15:27:04.000000000,2020-01-21 09:57:52.000000000,2020-01-21 09:57:52.000000000,"[{'_account_id': 841}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-11 15:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/43b565cf73fc960a3463501979b888e83469edf6', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: I48967b4e792dccade818389bf43707cde2e15c2b\n""}, {'number': 2, 'created': '2020-01-11 15:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/f06a2c2049f93bd5830217caa495ae673bed7184', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\n\nNeeded-By: https://review.opendev.org/701743\nChange-Id: I48967b4e792dccade818389bf43707cde2e15c2b\n""}, {'number': 3, 'created': '2020-01-11 15:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/6e925dc538ad62092a4cf1711ca5d29f0919b1d3', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: I48967b4e792dccade818389bf43707cde2e15c2b\n""}, {'number': 4, 'created': '2020-01-16 09:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/f9caf779e9efc5b5a4038336d64e138ccf79e340', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: I48967b4e792dccade818389bf43707cde2e15c2b\n""}, {'number': 5, 'created': '2020-01-16 10:22:18.000000000', 'files': ['blazar_dashboard/test/test_data/exceptions.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/d4136cf02410e64972346301edcbd5ceb9c2962e', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: I48967b4e792dccade818389bf43707cde2e15c2b\n""}]",0,702078,d4136cf02410e64972346301edcbd5ceb9c2962e,16,5,5,6547,,,0,"Remove six usage

This repo does not support Python 2 anymore, so we don't need
six for compatibility between Python2 and 3, convert six usage to Python
3 code.

Change-Id: I48967b4e792dccade818389bf43707cde2e15c2b
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/78/702078/4 && git format-patch -1 --stdout FETCH_HEAD,['blazar_dashboard/test/test_data/exceptions.py'],1,43b565cf73fc960a3463501979b888e83469edf6,remove-six, return str(self.message),import six return six.text_type(self.message),1,2
openstack%2Fpython-blazarclient~master~I22e930f9876ca29750093a78e4bf3a7d4a479eb9,openstack/python-blazarclient,master,I22e930f9876ca29750093a78e4bf3a7d4a479eb9,tox: Keeping going with docs and cleanup setup.cfg,MERGED,2019-10-24 03:39:03.000000000,2020-01-21 09:55:46.000000000,2020-01-21 09:54:08.000000000,"[{'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-24 03:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/e44eb2196df97d6a74b11738c7d0797455e4859c', 'message': ""tox: Keeping going with docs and cleanup setup.cfg\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. pbr hasn't need the hook configuration since forever [2]\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://opendev.org/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n\nChange-Id: I22e930f9876ca29750093a78e4bf3a7d4a479eb9\n""}, {'number': 2, 'created': '2020-01-20 21:46:33.000000000', 'files': ['doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/912c96d408e6784800175082bb06cbff99b9665a', 'message': ""tox: Keeping going with docs and cleanup setup.cfg\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. pbr hasn't need the hook configuration since forever [2]\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://opendev.org/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n\nChange-Id: I22e930f9876ca29750093a78e4bf3a7d4a479eb9\n""}]",0,690792,912c96d408e6784800175082bb06cbff99b9665a,12,5,2,28614,,,0,"tox: Keeping going with docs and cleanup setup.cfg

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. pbr hasn't need the hook configuration since forever [2]

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045
[2] https://opendev.org/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2

Change-Id: I22e930f9876ca29750093a78e4bf3a7d4a479eb9
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/92/690792/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg', 'tox.ini']",3,e44eb2196df97d6a74b11738c7d0797455e4859c,docs-keep-going,commands = sphinx-build -a -W -E -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -a -W -E -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,6
openstack%2Fneutron-tempest-plugin~master~Idcfcfd134ecce0207605080fb1f778c8732b9043,openstack/neutron-tempest-plugin,master,Idcfcfd134ecce0207605080fb1f778c8732b9043,Test assignment of security group to the same resource twice,ABANDONED,2020-01-13 16:25:56.000000000,2020-01-21 09:54:17.000000000,,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 31450}]","[{'number': 1, 'created': '2020-01-13 16:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7db226fb268e75f36ec80a0a95481103ee489dbd', 'message': 'Test assignment of security group to the same resource twice\n\nTwo negative tests has been added to test assignment of the already assigned\nsecurity group to the following resources:\n - port\n - server\n\nChange-Id: Idcfcfd134ecce0207605080fb1f778c8732b9043\n'}, {'number': 2, 'created': '2020-01-13 18:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/85f8a6db51b814527c3a74d168fb66b0f702e1da', 'message': 'Test assignment of security group to the same resource twice\n\nTwo negative tests has been added to test assignment of the already assigned\nsecurity group to the following resources:\n - port\n - server\n\nChange-Id: Idcfcfd134ecce0207605080fb1f778c8732b9043\n'}, {'number': 3, 'created': '2020-01-13 18:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9d795bc04c316c8438d9b02a17e93b1d5b071c8e', 'message': 'Test assignment of security group to the same resource twice\n\nTwo negative tests has been added to test assignment of the already assigned\nsecurity group to the following resources:\n - port\n - server\n\nChange-Id: Idcfcfd134ecce0207605080fb1f778c8732b9043\n'}, {'number': 4, 'created': '2020-01-14 10:13:55.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7e0a3388fff953aea0eec021a2c3583e25eb53fa', 'message': 'Test assignment of security group to the same resource twice\n\nTwo negative tests has been added to test assignment of the already assigned\nsecurity group to the following resources:\n - port\n - server\n\nChange-Id: Idcfcfd134ecce0207605080fb1f778c8732b9043\n'}]",7,702254,7e0a3388fff953aea0eec021a2c3583e25eb53fa,18,5,4,31450,,,0,"Test assignment of security group to the same resource twice

Two negative tests has been added to test assignment of the already assigned
security group to the following resources:
 - port
 - server

Change-Id: Idcfcfd134ecce0207605080fb1f778c8732b9043
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/54/702254/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups_negative.py'],1,7db226fb268e75f36ec80a0a95481103ee489dbd,assign_security_group_twice,"from tempest.common import waitersfrom tempest.lib.common.utils import data_utils from neutron_tempest_plugin import config @decorators.attr(type='negative') @decorators.idempotent_id('867d67c3-7e26-4288-a27b-e3d0649ee54b') def test_assign_sg_to_port_twice(self): net = self.create_network() port = self.create_port(net) sg = self.create_security_group() duplicate_port_query = {'security_groups': [sg['id'], sg['id']]} self.assertRaises(lib_exc.BadRequest, self.update_port, port, **duplicate_port_query) @decorators.attr(type='negative') @decorators.idempotent_id('9e5dbbd5-4f4a-4033-9251-f49a62ebb386') def test_assign_sg_to_server_twice(self): sg = self.create_security_group() srv = self._create_server(sec_group=sg) srv_ops = self.os_primary.compute.ServersClient() self.assertRaises(lib_exc.BadRequest, srv_ops.action, srv['id'], ""addSecurityGroup"", **{'name': sg['id']}) def _create_server(self, network=None, sec_group=None): sg = sec_group or self.create_security_group() net = network or self.create_network() self.create_subnet(net) srv_ops = self.os_primary.compute.ServersClient() srv_details = {'flavorRef': config.CONF.compute.flavor_ref, 'imageRef': config.CONF.compute.image_ref, 'name': data_utils.rand_name('server'), 'security_groups': [{'name': sg['id']}], 'networks': [{'uuid': net['id']}]} srv = srv_ops.create_server(**srv_details)['server'] waiters.wait_for_server_status(srv_ops, srv['id'], 'ACTIVE') self.addCleanup(waiters.wait_for_server_termination, srv_ops, srv['id'], ignore_error=False) self.addCleanup(srv_ops.delete_server, srv['id']) return srv ",,44,0
openstack%2Ftripleo-heat-templates~master~I52c52b62f1c21214b98c98773c8647609cb81d52,openstack/tripleo-heat-templates,master,I52c52b62f1c21214b98c98773c8647609cb81d52,roles: Remove use of NovaVcpuPinSet from ComputeRealTime,MERGED,2020-01-16 16:17:06.000000000,2020-01-21 09:42:22.000000000,2020-01-21 04:39:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-16 16:17:06.000000000', 'files': ['environments/compute-real-time-example.yaml', 'roles/ComputeRealTime.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d91a99af32d6ad4a72eedaf20b91bf0871ad62d8', 'message': ""roles: Remove use of NovaVcpuPinSet from ComputeRealTime\n\nThis has been deprecated and replaced by 'NovaComputeCpuDedicatedSet'\nand 'NovaComputeCpuSharedSet', as seen in change\nIbba4273526392985ede6da2ef3fec66a61407777. Update the ComputeRealTime\nrole to reflect this.\n\nChange-Id: I52c52b62f1c21214b98c98773c8647609cb81d52\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1860009\n""}]",0,702910,d91a99af32d6ad4a72eedaf20b91bf0871ad62d8,10,5,1,15334,,,0,"roles: Remove use of NovaVcpuPinSet from ComputeRealTime

This has been deprecated and replaced by 'NovaComputeCpuDedicatedSet'
and 'NovaComputeCpuSharedSet', as seen in change
Ibba4273526392985ede6da2ef3fec66a61407777. Update the ComputeRealTime
role to reflect this.

Change-Id: I52c52b62f1c21214b98c98773c8647609cb81d52
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1860009
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/702910/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/compute-real-time-example.yaml', 'roles/ComputeRealTime.yaml']",2,d91a99af32d6ad4a72eedaf20b91bf0871ad62d8,bug/1860009," KernelArgs: """" # these must be set in an environment file or IsolCpusList: """" # similar according to the hardware of NovaComputeCpuDedicatedSet: """" # real-time nodes NovaComputeCpuSharedSet: """" #"," KernelArgs: """" # these must be set in an environment file or similar IsolCpusList: """" # according to the hardware of real-time nodes NovaVcpuPinSet: """" #",16,11
openstack%2Fkolla-ansible~master~I12ce4661afb3c255136cdc1aabe7cbd25560d625,openstack/kolla-ansible,master,I12ce4661afb3c255136cdc1aabe7cbd25560d625,CentOS 8: Support variable image tag suffix,MERGED,2020-01-09 17:32:54.000000000,2020-01-21 09:31:41.000000000,2020-01-21 09:29:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-01-09 17:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5201ba9911c668cb90c9cef28542ca606bd1d1d1', 'message': ""CentOS 8: Support variable image tag suffix\n\nFor the CentOS 7 to 8 transition, we will have a period where both\nCentOS 7 and 8 images are available. We differentiate these images via a\ntag - the CentOS 8 images will have a tag of train-centos8 (or\nmaster-centos8 temporarily).\n\nTo achieve this, and maintain backwards compatibility for the\nopenstack_release variable, we introduce a new 'openstack_tag' variable.\nThis variable is based on openstack_release, but has a suffix of\n'openstack_tag_suffix', which is empty except on CentOS 8 where is has a\nvalue of '-centos8'.\n\nChange-Id: I12ce4661afb3c255136cdc1aabe7cbd25560d625\nPartially-Implements: blueprint centos-rhel-8\n""}, {'number': 2, 'created': '2020-01-09 19:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4a751c8c4a30a762a096482e845cd4a4efc166d', 'message': ""CentOS 8: Support variable image tag suffix\n\nFor the CentOS 7 to 8 transition, we will have a period where both\nCentOS 7 and 8 images are available. We differentiate these images via a\ntag - the CentOS 8 images will have a tag of train-centos8 (or\nmaster-centos8 temporarily).\n\nTo achieve this, and maintain backwards compatibility for the\nopenstack_release variable, we introduce a new 'openstack_tag' variable.\nThis variable is based on openstack_release, but has a suffix of\n'openstack_tag_suffix', which is empty except on CentOS 8 where is has a\nvalue of '-centos8'.\n\nChange-Id: I12ce4661afb3c255136cdc1aabe7cbd25560d625\nPartially-Implements: blueprint centos-rhel-8\n""}, {'number': 3, 'created': '2020-01-10 10:59:28.000000000', 'files': ['ansible/roles/rally/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'releasenotes/notes/openstack-tag-bfe4e862ade8549b.yaml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9755c924bee5976a894aba4ff2d438899c1bcc45', 'message': ""CentOS 8: Support variable image tag suffix\n\nFor the CentOS 7 to 8 transition, we will have a period where both\nCentOS 7 and 8 images are available. We differentiate these images via a\ntag - the CentOS 8 images will have a tag of train-centos8 (or\nmaster-centos8 temporarily).\n\nTo achieve this, and maintain backwards compatibility for the\nopenstack_release variable, we introduce a new 'openstack_tag' variable.\nThis variable is based on openstack_release, but has a suffix of\n'openstack_tag_suffix', which is empty except on CentOS 8 where it has a\nvalue of '-centos8'.\n\nChange-Id: I12ce4661afb3c255136cdc1aabe7cbd25560d625\nPartially-Implements: blueprint centos-rhel-8\n""}]",0,701778,9755c924bee5976a894aba4ff2d438899c1bcc45,14,4,3,14826,,,0,"CentOS 8: Support variable image tag suffix

For the CentOS 7 to 8 transition, we will have a period where both
CentOS 7 and 8 images are available. We differentiate these images via a
tag - the CentOS 8 images will have a tag of train-centos8 (or
master-centos8 temporarily).

To achieve this, and maintain backwards compatibility for the
openstack_release variable, we introduce a new 'openstack_tag' variable.
This variable is based on openstack_release, but has a suffix of
'openstack_tag_suffix', which is empty except on CentOS 8 where it has a
value of '-centos8'.

Change-Id: I12ce4661afb3c255136cdc1aabe7cbd25560d625
Partially-Implements: blueprint centos-rhel-8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/701778/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rally/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'releasenotes/notes/openstack-tag-bfe4e862ade8549b.yaml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",75,5201ba9911c668cb90c9cef28542ca606bd1d1d1,bp/centos-rhel-8,"vmtp_tag: ""{{ openstack_tag }}""","vmtp_tag: ""{{ openstack_release }}""",95,79
openstack%2Fblazar-specs~master~I262c6035ce1307409d2fdea730d69c5e162bc668,openstack/blazar-specs,master,I262c6035ce1307409d2fdea730d69c5e162bc668,[ussuri][goal] Drop python 2.7 support,MERGED,2019-12-13 00:48:32.000000000,2020-01-21 09:28:07.000000000,2020-01-21 09:26:05.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-12-13 00:48:32.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/blazar-specs/commit/38fc69b0f178564c17ced1a544f140b814b8cb6b', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo has py2 specific requirement which is removed\nor tox optimization.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I262c6035ce1307409d2fdea730d69c5e162bc668\n'}]",0,698819,38fc69b0f178564c17ced1a544f140b814b8cb6b,11,4,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support

OpenStack is dropping the py2.7 support in ussuri cycle.

specs repo has py2 specific requirement which is removed
or tox optimization.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I262c6035ce1307409d2fdea730d69c5e162bc668
",git fetch https://review.opendev.org/openstack/blazar-specs refs/changes/19/698819/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,38fc69b0f178564c17ced1a544f140b814b8cb6b,drop-py27-support,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD",0,1
openstack%2Fblazar~master~Ifc32a244678e1be55ce831e1029c9c7d87e8c452,openstack/blazar,master,Ifc32a244678e1be55ce831e1029c9c7d87e8c452,Enable notifications in DevStack,NEW,2019-02-25 16:47:44.000000000,2020-01-21 08:43:06.000000000,,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-25 16:47:44.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/blazar/commit/93fa3ba0018c01e79deef5e084334b4fa83289f9', 'message': 'Enable notifications in DevStack\n\nChange-Id: Ifc32a244678e1be55ce831e1029c9c7d87e8c452\n'}]",0,639156,93fa3ba0018c01e79deef5e084334b4fa83289f9,10,8,1,15197,,,0,"Enable notifications in DevStack

Change-Id: Ifc32a244678e1be55ce831e1029c9c7d87e8c452
",git fetch https://review.opendev.org/openstack/blazar refs/changes/56/639156/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,93fa3ba0018c01e79deef5e084334b4fa83289f9,enable-notifications-devstack, iniset $BLAZAR_CONF_FILE oslo_messaging_notifications driver messagingv2,,1,0
openstack%2Fnetworking-ovn~master~I23453de5bbb0d21e7e82a4a7e62ed6d38083edb7,openstack/networking-ovn,master,I23453de5bbb0d21e7e82a4a7e62ed6d38083edb7,Re-enable test_port_security_macspoofing_port,ABANDONED,2019-12-19 15:16:14.000000000,2020-01-21 08:42:41.000000000,,"[{'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-12-19 15:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e78a799ee52e64fb4932a3c36147929b0d595611', 'message': 'WIP: Re-enable test_port_security_macspoofing_port\n\nChange-Id: I23453de5bbb0d21e7e82a4a7e62ed6d38083edb7\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2019-12-19 17:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eb7c08cacf8d237e1be2f03c24f11a3966d211c7', 'message': 'WIP: Re-enable test_port_security_macspoofing_port\n\nChange-Id: I23453de5bbb0d21e7e82a4a7e62ed6d38083edb7\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 3, 'created': '2020-01-03 09:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b17ace68b22d45959f81e3353e2b169a7cda0567', 'message': 'Re-enable test_port_security_macspoofing_port\n\nChange-Id: I23453de5bbb0d21e7e82a4a7e62ed6d38083edb7\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 4, 'created': '2020-01-03 09:48:46.000000000', 'files': ['devstack/devstackgaterc', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0e757b26dc20da9528cddfbeb4b67cd68a4a15a6', 'message': 'Re-enable test_port_security_macspoofing_port\n\nChange-Id: I23453de5bbb0d21e7e82a4a7e62ed6d38083edb7\nRelated-bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,700006,0e757b26dc20da9528cddfbeb4b67cd68a4a15a6,9,3,4,23804,,,0,"Re-enable test_port_security_macspoofing_port

Change-Id: I23453de5bbb0d21e7e82a4a7e62ed6d38083edb7
Related-bug: #1728886
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/06/700006/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'zuul.d/networking-ovn-jobs.yaml']",2,e78a799ee52e64fb4932a3c36147929b0d595611,bug/1728886,," # TODO(slaweq): remove test_port_security_macspoofing_port test from # blacklist when bug https://bugs.launchpad.net/tempest/+bug/1728886 # will be fixed tempest_black_regex: ""(?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)""",0,7
openstack%2Fpython-tackerclient~master~I7bdf6636c1327b0cec9170f1c740e7d15556acda,openstack/python-tackerclient,master,I7bdf6636c1327b0cec9170f1c740e7d15556acda,Add Admin guide and Contributing notes link to README,ABANDONED,2019-10-05 01:42:33.000000000,2020-01-21 08:30:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 26588}, {'_account_id': 30092}]","[{'number': 1, 'created': '2019-10-05 01:42:33.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/88ad66775b3598d1c6bb4308b6a4c3a3c59c8504', 'message': 'Add Admin guide and Contributing notes link to README\n\nChange-Id: I7bdf6636c1327b0cec9170f1c740e7d15556acda\n'}]",0,686856,88ad66775b3598d1c6bb4308b6a4c3a3c59c8504,5,3,1,30092,,,0,"Add Admin guide and Contributing notes link to README

Change-Id: I7bdf6636c1327b0cec9170f1c740e7d15556acda
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/56/686856/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,88ad66775b3598d1c6bb4308b6a4c3a3c59c8504,,* Tacker Admin guide: https://docs.openstack.org/tacker/latest/admin/index.html* Contributing: https://docs.openstack.org/tacker/latest/contributor/index.html,,2,0
openstack%2Ftripleo-common~stable%2Ftrain~I26bb26411f22c34ead1b2bfb2a616ddf65f69489,openstack/tripleo-common,stable/train,I26bb26411f22c34ead1b2bfb2a616ddf65f69489,Derive network config fails,MERGED,2020-01-20 07:23:05.000000000,2020-01-21 08:20:01.000000000,2020-01-20 18:39:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 07:23:05.000000000', 'files': ['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9e5bcae62c8bbcd952253a5611c49dd848a091d7', 'message': 'Derive network config fails\n\nDerive network config fails for a role when using\nany interface routes with list_concat_unique in network\nconfiguration and no user inputs provided.\n\nChange-Id: I26bb26411f22c34ead1b2bfb2a616ddf65f69489\nCloses-Bug: #1856124\n(cherry picked from commit 81e823c6222b580ca78f4cfa92008e08b9926e1e)\n'}]",0,703332,9e5bcae62c8bbcd952253a5611c49dd848a091d7,9,6,1,22865,,,0,"Derive network config fails

Derive network config fails for a role when using
any interface routes with list_concat_unique in network
configuration and no user inputs provided.

Change-Id: I26bb26411f22c34ead1b2bfb2a616ddf65f69489
Closes-Bug: #1856124
(cherry picked from commit 81e823c6222b580ca78f4cfa92008e08b9926e1e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/703332/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py']",2,9e5bcae62c8bbcd952253a5611c49dd848a091d7,derive-network-config-issue-stable/train," # Default temporary value is used when no user input for any # interface routes for the role networks to find network config. role_networks = processed_data['template'].get('resources', {}).get( self.role_name + 'GroupVars', {}).get('properties', {}).get( 'value', {}).get('role_networks', []) for nw in role_networks: rt = nw + 'InterfaceRoutes' if rt not in processed_data['environment']['parameter_defaults']: processed_data['environment']['parameter_defaults'][rt] = [[]] ",,155,0
openstack%2Fkolla~master~Ie136940c883b15a082e0f538a1c46134edbb10cc,openstack/kolla,master,Ie136940c883b15a082e0f538a1c46134edbb10cc,Add note about vmware-nsx to version-check,MERGED,2020-01-20 09:58:35.000000000,2020-01-21 08:19:57.000000000,2020-01-21 08:18:21.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-20 09:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5ad134718269a0f0e90939733fec9f4bc802b67b', 'message': 'Add note about vmware-nsx to version-check\n\nChange-Id: Ie136940c883b15a082e0f538a1c46134edbb10cc\n'}, {'number': 2, 'created': '2020-01-20 11:51:08.000000000', 'files': ['tools/version-check.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d9fa85629a8c50ec84c6a2e6268c085a64791fba', 'message': 'Add note about vmware-nsx to version-check\n\nChange-Id: Ie136940c883b15a082e0f538a1c46134edbb10cc\n'}]",0,703357,d9fa85629a8c50ec84c6a2e6268c085a64791fba,11,3,2,30491,,,0,"Add note about vmware-nsx to version-check

Change-Id: Ie136940c883b15a082e0f538a1c46134edbb10cc
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/703357/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/version-check.py'],1,5ad134718269a0f0e90939733fec9f4bc802b67b,," 'neutron-base-plugin-vmware-nsx': 'vmware-nsx is not managed by ' 'openstack/releases project (need to ' 'check PyPI, they sync major versions ' 'with neutron)',",,4,0
openstack%2Ftrove-dashboard~master~Ia04b22a61dab28a986216ae2f4f49106ee843fa0,openstack/trove-dashboard,master,Ia04b22a61dab28a986216ae2f4f49106ee843fa0,s/assertItemsEqual/assertCountEqual/g,MERGED,2020-01-20 16:47:04.000000000,2020-01-21 08:11:03.000000000,2020-01-21 08:11:03.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-20 16:47:04.000000000', 'files': ['trove_dashboard/content/database_configurations/tests.py', 'trove_dashboard/content/databases/logs/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/3ac29e7f86229fed06256c38e8aa1f208185322f', 'message': 's/assertItemsEqual/assertCountEqual/g\n\nassertItemsEqual was renamed to assertCountEqual in Python 3, and the\ntestsuite is failing now - rename it.\nSee also https://six.readthedocs.io/#six.assertCountEqual\n\nThis unbreaks the testsuite.\n\nChange-Id: Ia04b22a61dab28a986216ae2f4f49106ee843fa0\n'}]",0,703449,3ac29e7f86229fed06256c38e8aa1f208185322f,7,3,1,1736,,,0,"s/assertItemsEqual/assertCountEqual/g

assertItemsEqual was renamed to assertCountEqual in Python 3, and the
testsuite is failing now - rename it.
See also https://six.readthedocs.io/#six.assertCountEqual

This unbreaks the testsuite.

Change-Id: Ia04b22a61dab28a986216ae2f4f49106ee843fa0
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/49/703449/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/database_configurations/tests.py', 'trove_dashboard/content/databases/logs/tests.py']",2,3ac29e7f86229fed06256c38e8aa1f208185322f,remove-six," self.assertCountEqual(self.logs.list(), table_data)"," self.assertItemsEqual(self.logs.list(), table_data)",2,2
openstack%2Foctavia~master~I67cf32aac8aa8d8123ec8ca1ab433ff23fb1ffa2,openstack/octavia,master,I67cf32aac8aa8d8123ec8ca1ab433ff23fb1ffa2,Allow the Octavia wsgi to accept argv parameters,MERGED,2020-01-08 01:13:32.000000000,2020-01-21 08:09:14.000000000,2020-01-21 08:07:23.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-08 01:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9707bf9cd5cc8eec5f22f00efc288169362a5c8c', 'message': ""Allow the Octavia wsgi to accept argv parameters\n\nCurrently we only allow argv parameters to be passed into our wsgi\napp. This means that some wsgi wrappers (such as pbr's script)\nmay not allow the octavia API to accept parameters such as\n--config-file.\nThis patch attempts to pull in the sys.argv if none was passed into\nthe wsgi setup_app method.\n\nChange-Id: I67cf32aac8aa8d8123ec8ca1ab433ff23fb1ffa2\n""}, {'number': 2, 'created': '2020-01-08 18:10:53.000000000', 'files': ['octavia/tests/functional/api/test_root_controller.py', 'octavia/api/app.py', 'octavia/tests/functional/api/v2/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c6fbe7efe2977e5b07f5f5661f0306d4bdd306b', 'message': ""Allow the Octavia wsgi to accept argv parameters\n\nCurrently we only allow argv parameters to be passed into our wsgi\napp. This means that some wsgi wrappers (such as pbr's script)\nmay not allow the octavia API to accept parameters such as\n--config-file.\nThis patch attempts to pull in the sys.argv if none was passed into\nthe wsgi setup_app method.\n\nChange-Id: I67cf32aac8aa8d8123ec8ca1ab433ff23fb1ffa2\n""}]",0,701485,7c6fbe7efe2977e5b07f5f5661f0306d4bdd306b,12,5,2,11628,,,0,"Allow the Octavia wsgi to accept argv parameters

Currently we only allow argv parameters to be passed into our wsgi
app. This means that some wsgi wrappers (such as pbr's script)
may not allow the octavia API to accept parameters such as
--config-file.
This patch attempts to pull in the sys.argv if none was passed into
the wsgi setup_app method.

Change-Id: I67cf32aac8aa8d8123ec8ca1ab433ff23fb1ffa2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/85/701485/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/app.py'],1,9707bf9cd5cc8eec5f22f00efc288169362a5c8c,,import sys if argv is None: argv = sys.argv,,4,0
openstack%2Fcyborg~master~I9e80dcfed54147c942f90c696e483fa6db842dde,openstack/cyborg,master,I9e80dcfed54147c942f90c696e483fa6db842dde,Use ResourceNotFound replace RP and Image NotFound,MERGED,2020-01-07 07:24:20.000000000,2020-01-21 08:04:56.000000000,2020-01-21 08:03:16.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 27458}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2020-01-07 07:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/94c780930c60b1721a420d9440014fcc2bb27c5e', 'message': 'Use ResourceNotFound replace RP and Image NotFound\n\nThis is a series of optimization for exception.\n\nIn fact, we only need to use the ResourceNotFound exception\nto fit NotFound Exception.\n\nChange-Id: I9e80dcfed54147c942f90c696e483fa6db842dde\nStory: 2007045\nTask: 37968\n'}, {'number': 2, 'created': '2020-01-08 11:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b8db5a470a2ab80eedc59dd9333486f340f6c4b4', 'message': 'Use ResourceNotFound replace RP and Image NotFound\n\nThis is a series of optimization for exception.\n\nIn fact, we only need to use the ResourceNotFound exception\nto fit NotFound Exception.\n\nChange-Id: I9e80dcfed54147c942f90c696e483fa6db842dde\nStory: 2007045\nTask: 37968\n'}, {'number': 3, 'created': '2020-01-08 12:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9b59507dc4a0048173188673d74dbcd547f98037', 'message': 'Use ResourceNotFound replace RP and Image NotFound\n\nThis is a series of optimization for exception.\n\nIn fact, we only need to use the ResourceNotFound exception\nto fit NotFound Exception.\n\nThis patch also adds dependency package cursive which is used\nin [1].\n\n[1]. https://github.com/openstack/cyborg/blob/6740c3c0c50280f09ab0e32c9e033240fc65c8d7/cyborg/image/glance.py#L30\n\nChange-Id: I9e80dcfed54147c942f90c696e483fa6db842dde\nStory: 2007045\nTask: 37968\n'}, {'number': 4, 'created': '2020-01-08 14:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4fdf142a1985cac699e50ab89d7d091d2239fa07', 'message': 'Use ResourceNotFound replace RP and Image NotFound\n\nThis is a series of optimization for exception.\n\nIn fact, we only need to use the ResourceNotFound exception\nto fit NotFound Exception.\n\nThis patch also adds dependency package cursive which is used\nin [1].\n\n[1]. https://github.com/openstack/cyborg/blob/6740c3c0c50280f09ab0e32c9e033240fc65c8d7/cyborg/image/glance.py#L30\n\nChange-Id: I9e80dcfed54147c942f90c696e483fa6db842dde\nStory: 2007045\nTask: 37968\n'}, {'number': 5, 'created': '2020-01-17 09:08:22.000000000', 'files': ['cyborg/tests/unit/image/__init__.py', 'requirements.txt', 'cyborg/image/glance.py', 'test-requirements.txt', 'cyborg/tests/unit/image/test_glance.py', 'cyborg/common/exception.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4bf582a849955d863fd0615af834c750397bb10d', 'message': 'Use ResourceNotFound replace RP and Image NotFound\n\nThis is a series of optimization for exception.\n\nIn fact, we only need to use the ResourceNotFound exception\nto fit NotFound Exception.\n\nThis patch also adds dependency package cursive which is used\nin [1].\n\n[1]. https://github.com/openstack/cyborg/blob/6740c3c0c50280f09ab0e32c9e033240fc65c8d7/cyborg/image/glance.py#L30\n\nChange-Id: I9e80dcfed54147c942f90c696e483fa6db842dde\nStory: 2007045\nTask: 37968\n'}]",19,701332,4bf582a849955d863fd0615af834c750397bb10d,29,10,5,28748,,,0,"Use ResourceNotFound replace RP and Image NotFound

This is a series of optimization for exception.

In fact, we only need to use the ResourceNotFound exception
to fit NotFound Exception.

This patch also adds dependency package cursive which is used
in [1].

[1]. https://github.com/openstack/cyborg/blob/6740c3c0c50280f09ab0e32c9e033240fc65c8d7/cyborg/image/glance.py#L30

Change-Id: I9e80dcfed54147c942f90c696e483fa6db842dde
Story: 2007045
Task: 37968
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/32/701332/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/image/glance.py', 'cyborg/common/exception.py']",2,94c780930c60b1721a420d9440014fcc2bb27c5e,modify_RP_image_notFound,,"class ResourceProviderNotFound(NotFound): msg_fmt = _(""No such resource provider %(name_or_uuid)s."") class ImageNotFound(NotFound): msg_fmt = _(""Image %(image_id)s could not be found."") ",3,9
openstack%2Fheat-dashboard~master~Ie197efeb0080c5ad7f223823ff8b1888ff7dc0de,openstack/heat-dashboard,master,Ie197efeb0080c5ad7f223823ff8b1888ff7dc0de,Drop Django 1.11 support,MERGED,2020-01-01 20:28:55.000000000,2020-01-21 08:03:28.000000000,2020-01-21 08:01:25.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2020-01-01 20:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/b5788ca9387db2a36f194b3d76514a25f12faffb', 'message': 'Drop Django 1.11 support\n\nDjango 1.11 ends its extended support in April 2020 (which is before\nUssuri release), so horizon drops Django 1.11 support in Ussuri.\n\ntox envs for non-primary Django versions are no longer needed in tox.ini\nas testing environments for non-primary Django versions are setup in\nthe zuul jobs now.\n\nhorizon>=17.1.0 is required to use Django 2.2. requirements.txt and\nlower-constraints.txt are updated accordingly. for more info. please\nrefer [1].\nDepends-On: https://review.opendev.org/#/c/700733/\n[1] https://etherpad.openstack.org/p/Enable_Django22_support_in_Horizon_Plugin\n\nChange-Id: Ie197efeb0080c5ad7f223823ff8b1888ff7dc0de\n'}, {'number': 2, 'created': '2020-01-02 19:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/5d3fe96b996286ba95229054bb63c73f9e4e3131', 'message': 'Drop Django 1.11 support\n\nDjango 1.11 ends its extended support in April 2020 (which is before\nUssuri release), so horizon drops Django 1.11 support in Ussuri.\n\ntox envs for non-primary Django versions are no longer needed in tox.ini\nas testing environments for non-primary Django versions are setup in\nthe zuul jobs now.\n\nhorizon>=17.1.0 is required to use Django 2.2. requirements.txt and\nlower-constraints.txt are updated accordingly. for more info. please\nrefer [1].\nDepends-On: https://review.opendev.org/#/c/700733/\n[1] https://etherpad.openstack.org/p/Enable_Django22_support_in_Horizon_Plugin\n\nChange-Id: Ie197efeb0080c5ad7f223823ff8b1888ff7dc0de\n'}, {'number': 3, 'created': '2020-01-02 20:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/6740bc11fc8f537f3d56509c8af1944c62d7208e', 'message': 'Drop Django 1.11 support\n\nDjango 1.11 ends its extended support in April 2020 (which is before\nUssuri release), so horizon drops Django 1.11 support in Ussuri.\n\ntox envs for non-primary Django versions are no longer needed in tox.ini\nas testing environments for non-primary Django versions are setup in\nthe zuul jobs now.\n\nhorizon>=17.1.0 is required to use Django 2.2. requirements.txt and\nlower-constraints.txt are updated accordingly. for more info. please\nrefer [1].\nDepends-On: https://review.opendev.org/#/c/700733/\n[1] https://etherpad.openstack.org/p/Enable_Django22_support_in_Horizon_Plugin\n\nChange-Id: Ie197efeb0080c5ad7f223823ff8b1888ff7dc0de\n'}, {'number': 4, 'created': '2020-01-21 06:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/abbe36dd1708dc0af7711d173c744edef28768f7', 'message': 'Drop Django 1.11 support\n\nDjango 1.11 ends its extended support in April 2020 (which is before\nUssuri release), so horizon drops Django 1.11 support in Ussuri.\n\ntox envs for non-primary Django versions are no longer needed in tox.ini\nas testing environments for non-primary Django versions are setup in\nthe zuul jobs now.\n\nhorizon>=17.1.0 is required to use Django 2.2. requirements.txt and\nlower-constraints.txt are updated accordingly. for more info. please\nrefer [1].\nDepends-On: https://review.opendev.org/#/c/700733/\n[1] https://etherpad.openstack.org/p/Enable_Django22_support_in_Horizon_Plugin\n\nChange-Id: Ie197efeb0080c5ad7f223823ff8b1888ff7dc0de\n'}, {'number': 5, 'created': '2020-01-21 07:08:33.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/6b1e86431849f893a7cabfedbc60488963b18a5a', 'message': 'Drop Django 1.11 support\n\nDjango 1.11 ends its extended support in April 2020 (which is before\nUssuri release), so horizon drops Django 1.11 support in Ussuri.\n\ntox envs for non-primary Django versions are no longer needed in tox.ini\nas testing environments for non-primary Django versions are setup in\nthe zuul jobs now.\n\nhorizon>=17.1.0 is required to use Django 2.2. requirements.txt and\nlower-constraints.txt are updated accordingly. for more info. please\nrefer [1].\nDepends-On: https://review.opendev.org/#/c/700733/\n[1] https://etherpad.openstack.org/p/Enable_Django22_support_in_Horizon_Plugin\n\nChange-Id: Ie197efeb0080c5ad7f223823ff8b1888ff7dc0de\n'}]",1,700844,6b1e86431849f893a7cabfedbc60488963b18a5a,26,5,5,29313,,,0,"Drop Django 1.11 support

Django 1.11 ends its extended support in April 2020 (which is before
Ussuri release), so horizon drops Django 1.11 support in Ussuri.

tox envs for non-primary Django versions are no longer needed in tox.ini
as testing environments for non-primary Django versions are setup in
the zuul jobs now.

horizon>=17.1.0 is required to use Django 2.2. requirements.txt and
lower-constraints.txt are updated accordingly. for more info. please
refer [1].
Depends-On: https://review.opendev.org/#/c/700733/
[1] https://etherpad.openstack.org/p/Enable_Django22_support_in_Horizon_Plugin

Change-Id: Ie197efeb0080c5ad7f223823ff8b1888ff7dc0de
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/44/700844/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,b5788ca9387db2a36f194b3d76514a25f12faffb,drop-django111-support,"envlist = py36,py37,pep8,releasenotes","envlist = py36,py37,py3-{dj111,dj22},pep8,releasenotes dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3",4,6
openstack%2Ftripleo-common~master~Ie48143ea33b21a8c9154d1c0552e8fc1272edfc4,openstack/tripleo-common,master,Ie48143ea33b21a8c9154d1c0552e8fc1272edfc4,Drop the nuetron-server-ovn and odl images,MERGED,2020-01-07 16:19:23.000000000,2020-01-21 07:55:34.000000000,2020-01-21 07:54:08.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-07 16:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d0f5fd04115eb9c575a0f4083813e439cc5c7e47', 'message': 'Drop the nuetron-server-ovn image\n\nThe neutron-server-ovn image has been dropped by our upstream, kolla.\nThis change reacts to that development and pivots our ovn deployments\nto use the ""neutron-server"" container image, where the OVN code base\nhas been relocated.\n\nDepends-On: Ib2dbdd7e7d34f56985b7a5b2494c3b89034688cb\nChange-Id: Ie48143ea33b21a8c9154d1c0552e8fc1272edfc4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-08 13:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7e6bf0cb933ef809e762b021d3e644426a0c3349', 'message': 'Drop the nuetron-server-ovn image\n\nThe neutron-server-ovn image has been dropped by our upstream, kolla.\nThis change reacts to that development and pivots our ovn deployments\nto use the ""neutron-server"" container image, where the OVN code base\nhas been relocated.\n\nDepends-On: Ib2dbdd7e7d34f56985b7a5b2494c3b89034688cb\nChange-Id: Ie48143ea33b21a8c9154d1c0552e8fc1272edfc4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-01-08 16:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dd43a93b66f81ec81fa0cd7096a369a8751c3536', 'message': 'Drop the nuetron-server-ovn and odl images\n\nThe neutron-server-ovn image has been dropped by our upstream, kolla.\nThis change reacts to that development and pivots our ovn deployments\nto use the ""neutron-server"" container image, where the OVN code base\nhas been relocated.\n\n> Tests have been removed and updated to reflect the new image layout.\n\nDepends-On: Ib2dbdd7e7d34f56985b7a5b2494c3b89034688cb\nChange-Id: Ie48143ea33b21a8c9154d1c0552e8fc1272edfc4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-01-16 17:47:38.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/actions/test_parameters.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'tripleo_common/tests/test_update.py', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a6ce2a8f92fa8865b5e7164ef970f19573b618ce', 'message': 'Drop the nuetron-server-ovn and odl images\n\nThe neutron-server-ovn image has been dropped by our upstream, kolla.\nThis change reacts to that development and pivots our ovn deployments\nto use the ""neutron-server"" container image, where the OVN code base\nhas been relocated.\n\n> Tests have been removed and updated to reflect the new image layout.\n\nDepends-On: Ib2dbdd7e7d34f56985b7a5b2494c3b89034688cb\nChange-Id: Ie48143ea33b21a8c9154d1c0552e8fc1272edfc4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",5,701397,a6ce2a8f92fa8865b5e7164ef970f19573b618ce,33,6,4,7353,,,0,"Drop the nuetron-server-ovn and odl images

The neutron-server-ovn image has been dropped by our upstream, kolla.
This change reacts to that development and pivots our ovn deployments
to use the ""neutron-server"" container image, where the OVN code base
has been relocated.

> Tests have been removed and updated to reflect the new image layout.

Depends-On: Ib2dbdd7e7d34f56985b7a5b2494c3b89034688cb
Change-Id: Ie48143ea33b21a8c9154d1c0552e8fc1272edfc4
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/701397/3 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2']",2,d0f5fd04115eb9c575a0f4083813e439cc5c7e47,,"- imagename: ""{{namespace}}/{{name_prefix}}neutron-server{{name_suffix}}:{{tag}}""","- imagename: ""{{namespace}}/{{name_prefix}}neutron-server-ovn{{name_suffix}}:{{tag}}""",1,3
openstack%2Fneutron-tempest-plugin~master~Id50f2330a1a8c5229a2b5802140475300b0a14a5,openstack/neutron-tempest-plugin,master,Id50f2330a1a8c5229a2b5802140475300b0a14a5,Disassociate not assigned security group from server,ABANDONED,2020-01-15 12:13:34.000000000,2020-01-21 07:50:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 31450}]","[{'number': 1, 'created': '2020-01-15 12:13:34.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4b8993e8f8d9e1c9a9880872f15651b073ba21b5', 'message': 'Disassociate not assigned security group from server\n\nTry to disassociate existing security grop that is not assigned to the server\nfrom that specific server.\n\nChange-Id: Id50f2330a1a8c5229a2b5802140475300b0a14a5\n'}]",0,702654,4b8993e8f8d9e1c9a9880872f15651b073ba21b5,9,2,1,31450,,,0,"Disassociate not assigned security group from server

Try to disassociate existing security grop that is not assigned to the server
from that specific server.

Change-Id: Id50f2330a1a8c5229a2b5802140475300b0a14a5
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/54/702654/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups_negative.py'],1,4b8993e8f8d9e1c9a9880872f15651b073ba21b5,disassociate_security_group," @decorators.idempotent_id('fccec769-5807-4350-8bd3-8a640e23931a') def test_disassociate_not_assigned_sec_group_from_server(self): sg = self.create_security_group() server = self._create_server() server_client = self.os_primary.compute.ServersClient() self.assertRaises(lib_exc.NotFound, server_client.action, server['id'], 'removeSecurityGroup', **{'name': sg['id']}) ",,9,0
openstack%2Fneutron-tempest-plugin~master~I4460ee494fe0d82423cc3e1cc828c4bb89ef1fa0,openstack/neutron-tempest-plugin,master,I4460ee494fe0d82423cc3e1cc828c4bb89ef1fa0,Remove a nonexistent security group from server,ABANDONED,2020-01-15 12:44:09.000000000,2020-01-21 07:50:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 31450}]","[{'number': 1, 'created': '2020-01-15 12:44:09.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f8e98d8d2eb21c9e61eb87251b8e809e4b440306', 'message': 'Remove a nonexistent security group from server\n\nChange-Id: I4460ee494fe0d82423cc3e1cc828c4bb89ef1fa0\n'}]",0,702658,f8e98d8d2eb21c9e61eb87251b8e809e4b440306,9,2,1,31450,,,0,"Remove a nonexistent security group from server

Change-Id: I4460ee494fe0d82423cc3e1cc828c4bb89ef1fa0
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/58/702658/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups_negative.py'],1,f8e98d8d2eb21c9e61eb87251b8e809e4b440306,disassociate_security_group," @decorators.idempotent_id('100d68bb-3159-4a4c-bc85-465ce7ef0a15') def test_disassociate_nonexistent_sec_group_from_server(self): random_id = data_utils.rand_uuid() server = self._create_server() server_client = self.os_primary.compute.ServersClient() self.assertRaises(lib_exc.NotFound, server_client.action, server['id'], 'removeSecurityGroup', **{'name': random_id}) ",,9,0
openstack%2Fkolla~master~I6d0ced90d511405f600e7c4677b1b7083a6adbd2,openstack/kolla,master,I6d0ced90d511405f600e7c4677b1b7083a6adbd2,To-revert: Temporarily disable Ubuntu bifrost image building,MERGED,2020-01-20 07:51:00.000000000,2020-01-21 07:48:22.000000000,2020-01-20 11:30:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-20 07:51:00.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/347bd599e597f382b0b6b8ddebedad5a90a67f55', 'message': 'To-revert: Temporarily disable Ubuntu bifrost image building\n\nWe want to support it but it is blocking gate atm due to py3\non Ubuntu.\nNot affecting C7 due to no py3.\n\nChange-Id: I6d0ced90d511405f600e7c4677b1b7083a6adbd2\nRelated-bug: #1860229\n'}]",0,703336,347bd599e597f382b0b6b8ddebedad5a90a67f55,12,7,1,30491,,,0,"To-revert: Temporarily disable Ubuntu bifrost image building

We want to support it but it is blocking gate atm due to py3
on Ubuntu.
Not affecting C7 due to no py3.

Change-Id: I6d0ced90d511405f600e7c4677b1b7083a6adbd2
Related-bug: #1860229
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/703336/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,347bd599e597f382b0b6b8ddebedad5a90a67f55,temporary-disable-ubuntu-bifrost," ""bifrost-base"", # FIXME(yoctozepto): we want to support it but it is # blocking gate atm due to py3 on Ubuntu # see https://bugs.launchpad.net/kolla/+bug/1860229",,3,0
openstack%2Fmasakari-dashboard~master~Iabdbb4f934a3fd94f9894c90a62d758d751e6b67,openstack/masakari-dashboard,master,Iabdbb4f934a3fd94f9894c90a62d758d751e6b67,Switch to Ussuri jobs,ABANDONED,2019-11-12 07:37:11.000000000,2020-01-21 07:45:36.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 23317}]","[{'number': 1, 'created': '2019-11-12 07:37:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/9cb660d6ba6138ed05af446d105b353c3f28a021', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Iabdbb4f934a3fd94f9894c90a62d758d751e6b67\n'}]",0,693779,9cb660d6ba6138ed05af446d105b353c3f28a021,10,3,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: Iabdbb4f934a3fd94f9894c90a62d758d751e6b67
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/79/693779/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9cb660d6ba6138ed05af446d105b353c3f28a021,dev, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fdevstack~master~I7c8cf538ec88bd4056b0109f19671e3d65f5da3a,openstack/devstack,master,I7c8cf538ec88bd4056b0109f19671e3d65f5da3a,inc/python: Remove ability to mark packages as non-Python3,MERGED,2019-10-09 15:16:41.000000000,2020-01-21 07:42:38.000000000,2020-01-21 07:40:39.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e46df43b56f2d1c38c9b9b710c36151676f85b92', 'message': ""inc/python: Remove ability to mark packages as non-Python3\n\nEverything in OpenStack *must* be Python 3 supporting now, which means\nit's time to remove the functionality that allows us to blacklist\npackages that didn't support Python 3.\n\nChange-Id: I7c8cf538ec88bd4056b0109f19671e3d65f5da3a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-01-17 11:19:43.000000000', 'files': ['inc/python', 'stackrc', 'tests/test_python.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6b6bdc7111aa6f953a29c5ffc8854039336ce660', 'message': ""inc/python: Remove ability to mark packages as non-Python3\n\nEverything in OpenStack *must* be Python 3 supporting now, which means\nit's time to remove the functionality that allows us to blacklist\npackages that didn't support Python 3.\n\nChange-Id: I7c8cf538ec88bd4056b0109f19671e3d65f5da3a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,687584,6b6bdc7111aa6f953a29c5ffc8854039336ce660,13,5,2,15334,,,0,"inc/python: Remove ability to mark packages as non-Python3

Everything in OpenStack *must* be Python 3 supporting now, which means
it's time to remove the functionality that allows us to blacklist
packages that didn't support Python 3.

Change-Id: I7c8cf538ec88bd4056b0109f19671e3d65f5da3a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/84/687584/2 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'stackrc', 'tests/test_python.sh']",3,e46df43b56f2d1c38c9b9b710c36151676f85b92,python3-everywhere,,"#!/usr/bin/env bash # Tests for DevStack INI functions TOP=$(cd $(dirname ""$0"")/.. && pwd) source $TOP/functions-common source $TOP/inc/python source $TOP/tests/unittest.sh echo ""Testing Python 3 functions"" # Initialize variables manipulated by functions under test. export DISABLED_PYTHON3_PACKAGES="""" assert_true ""should be enabled by default"" python3_enabled_for testpackage1 assert_false ""should not be disabled yet"" python3_disabled_for testpackage2 disable_python3_package testpackage2 assert_equal ""$DISABLED_PYTHON3_PACKAGES"" ""testpackage2"" ""unexpected result"" assert_true ""should be disabled"" python3_disabled_for testpackage2 report_results ",5,104
openstack%2Fheat-dashboard~master~Ife42a20edbfd9049e9e1e12e51257004e0711258,openstack/heat-dashboard,master,Ife42a20edbfd9049e9e1e12e51257004e0711258,Revert accidental tox.ini change,MERGED,2020-01-20 17:20:30.000000000,2020-01-21 07:14:13.000000000,2020-01-21 07:12:29.000000000,"[{'_account_id': 841}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-20 17:20:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/d1c8c6282e1aec35e29489df71489b3e19ca1b37', 'message': 'Revert accidental tox.ini change\n\nChange I95c81cfd6ab9bc7384c585ef5aa625dad9a57caf added a change\nto temporarily disable the tox version check for testing - revert this\npart.\n\nChange-Id: Ife42a20edbfd9049e9e1e12e51257004e0711258\n'}]",0,703459,d1c8c6282e1aec35e29489df71489b3e19ca1b37,9,4,1,6547,,,0,"Revert accidental tox.ini change

Change I95c81cfd6ab9bc7384c585ef5aa625dad9a57caf added a change
to temporarily disable the tox version check for testing - revert this
part.

Change-Id: Ife42a20edbfd9049e9e1e12e51257004e0711258
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/59/703459/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d1c8c6282e1aec35e29489df71489b3e19ca1b37,revert-tox,minversion = 3.1.1,#minversion = 3.1.1,1,1
openstack%2Fadjutant-ui~master~Ie55fac5dad4920b3888d065901b892361ec0e4d4,openstack/adjutant-ui,master,Ie55fac5dad4920b3888d065901b892361ec0e4d4,translation: drop babel extractor definitions,ABANDONED,2019-12-26 17:11:40.000000000,2020-01-21 07:12:44.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-26 17:11:40.000000000', 'files': ['babel-django.cfg', 'babel-djangojs.cfg'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/58bf0711c0af2a3f841fcf0d714fa9a2565eb502', 'message': 'translation: drop babel extractor definitions\n\nbabel extractors are now registered via python entry points,\nso there is no need to declare babel extractors in babel configs.\n\nThis change is important to make translation work in Django 2.2.\ndjango-babel does not work with Django 2.2 and looks unmaintained\nfor over two years. The horizon team is thinking to switch the extractor\nto enmerkar (a fork of django-babel) to make extraction of translation\nstring work again near future. It is important to drop the extractor\ndefinition to make the transition smooth.\n\nChange-Id: Ie55fac5dad4920b3888d065901b892361ec0e4d4\n'}]",0,700635,58bf0711c0af2a3f841fcf0d714fa9a2565eb502,7,4,1,841,,,0,"translation: drop babel extractor definitions

babel extractors are now registered via python entry points,
so there is no need to declare babel extractors in babel configs.

This change is important to make translation work in Django 2.2.
django-babel does not work with Django 2.2 and looks unmaintained
for over two years. The horizon team is thinking to switch the extractor
to enmerkar (a fork of django-babel) to make extraction of translation
string work again near future. It is important to drop the extractor
definition to make the transition smooth.

Change-Id: Ie55fac5dad4920b3888d065901b892361ec0e4d4
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/35/700635/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel-django.cfg', 'babel-djangojs.cfg']",2,58bf0711c0af2a3f841fcf0d714fa9a2565eb502,babel-config,,[extractors] # We use a custom extractor to find translatable strings in AngularJS # templates. The extractor is included in horizon.utils for now. # See http://babel.pocoo.org/docs/messages/#referencing-extraction-methods for # details on how this works. angular = horizon.utils.babel_extract_angular:extract_angular # We need to look into all static folders for HTML files. # The **/static ensures that we also search within # /openstack_dashboard/dashboards/XYZ/static which will ensure # that plugins are also translated.,0,15
openstack%2Fpaunch~stable%2Ftrain~I0cbcf2569a41f8ac3a5cc0201dcac3ca20ff70bb,openstack/paunch,stable/train,I0cbcf2569a41f8ac3a5cc0201dcac3ca20ff70bb,Keep existing and non updated containers,ABANDONED,2019-11-29 10:25:50.000000000,2020-01-21 07:08:49.000000000,,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 10:25:50.000000000', 'files': ['paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/c23bc5f2c8575f378bbc27b2ce0294b2cc0afcb4', 'message': ""Keep existing and non updated containers\n\nThis patch aim to fix an issue when we re-run the container\ncreation. If the container doesn't need to be updated, exist in\nthe config, we need to avoid the creation and keep it.\n\nCloses-Bug: #1853812\nChange-Id: I289df7a87fbefa251a1472d892ff80449c478f49\n\n(cherry picked from commit 872d47673b99a8d1e1e423b58be57b35ab6a20ab)\n\nChange-Id: I0cbcf2569a41f8ac3a5cc0201dcac3ca20ff70bb\n""}]",0,696679,c23bc5f2c8575f378bbc27b2ce0294b2cc0afcb4,6,5,1,20775,,,0,"Keep existing and non updated containers

This patch aim to fix an issue when we re-run the container
creation. If the container doesn't need to be updated, exist in
the config, we need to avoid the creation and keep it.

Closes-Bug: #1853812
Change-Id: I289df7a87fbefa251a1472d892ff80449c478f49

(cherry picked from commit 872d47673b99a8d1e1e423b58be57b35ab6a20ab)

Change-Id: I0cbcf2569a41f8ac3a5cc0201dcac3ca20ff70bb
",git fetch https://review.opendev.org/openstack/paunch refs/changes/79/696679/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,c23bc5f2c8575f378bbc27b2ce0294b2cc0afcb4,lp/1853812-stable/train, keep = self.delete_missing_and_updated() if container in keep: self.log.debug('Skipping existing container: %s' % container) continue keep_list = [] else: keep_list.append(container) return keep_list, self.delete_missing_and_updated(),9,3
openstack%2Fgrenade~master~Ie09b0b68a4cb6aab9f810f7a9bcc485efa37a6d0,openstack/grenade,master,Ie09b0b68a4cb6aab9f810f7a9bcc485efa37a6d0,Cinder: Run online migrations,ABANDONED,2019-10-04 16:54:16.000000000,2020-01-21 06:34:55.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 16:54:16.000000000', 'files': ['projects/70_cinder/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/0a072d43f1009bface73e669417805de4516d638', 'message': 'Cinder: Run online migrations\n\nRun online migrations during cinder upgrade.\n\nChange-Id: Ie09b0b68a4cb6aab9f810f7a9bcc485efa37a6d0\n'}]",0,686772,0a072d43f1009bface73e669417805de4516d638,4,2,1,27615,,,0,"Cinder: Run online migrations

Run online migrations during cinder upgrade.

Change-Id: Ie09b0b68a4cb6aab9f810f7a9bcc485efa37a6d0
",git fetch https://review.opendev.org/openstack/grenade refs/changes/72/686772/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/70_cinder/upgrade.sh'],1,0a072d43f1009bface73e669417805de4516d638,,"if [[ ""$FORCE_ONLINE_MIGRATIONS"" == ""True"" ]]; then # Run ""online"" migrations that can complete before we start $CINDER_BIN_DIR/cinder-manage db online_data_migrations || die $LINENO ""Failed to run online_data_migrations"" fi ",,5,0
openstack%2Ftripleo-quickstart-extras~master~I0fd4526d667622064438095bd8991964b386ae43,openstack/tripleo-quickstart-extras,master,I0fd4526d667622064438095bd8991964b386ae43,Fix a typo for error message,MERGED,2019-12-25 09:28:42.000000000,2020-01-21 06:31:18.000000000,2020-01-21 06:31:18.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23317}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-12-25 09:28:42.000000000', 'files': ['roles/validate-tempest/files/check-skip-list/check_skip.py'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bf9143af0cc26ddd6f858c3f763d3d3e2720e33c', 'message': 'Fix a typo for error message\n\nChange-Id: I0fd4526d667622064438095bd8991964b386ae43\n'}]",0,700556,bf9143af0cc26ddd6f858c3f763d3d3e2720e33c,10,4,1,23317,,,0,"Fix a typo for error message

Change-Id: I0fd4526d667622064438095bd8991964b386ae43
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/56/700556/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/files/check-skip-list/check_skip.py'],1,bf9143af0cc26ddd6f858c3f763d3d3e2720e33c,, self.log.error('An error occurred when trying to download ', self.log.error('An error ocurred when trying to download ',1,1
openstack%2Ftripleo-ansible~master~Iac40deee253fd27c075fc452ad4412ada163e485,openstack/tripleo-ansible,master,Iac40deee253fd27c075fc452ad4412ada163e485,Add more doc for tripleo-container-manage,MERGED,2020-01-20 18:55:19.000000000,2020-01-21 05:55:23.000000000,2020-01-20 20:06:20.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 18:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68115a01aef7f3f5d4e90c0858eab757e2c869ff', 'message': 'Add more doc for tripleo-container-manage\n\nChange-Id: Iac40deee253fd27c075fc452ad4412ada163e485\n'}, {'number': 2, 'created': '2020-01-20 19:01:59.000000000', 'files': ['doc/source/roles/role-tripleo-container-manage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10f1ab7ab9138098740e801325a8379752d084d5', 'message': 'Add more doc for tripleo-container-manage\n\nChange-Id: Iac40deee253fd27c075fc452ad4412ada163e485\n'}]",0,703481,10f1ab7ab9138098740e801325a8379752d084d5,10,3,2,3153,,,0,"Add more doc for tripleo-container-manage

Change-Id: Iac40deee253fd27c075fc452ad4412ada163e485
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/703481/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-tripleo-container-manage.rst'],1,68115a01aef7f3f5d4e90c0858eab757e2c869ff,doc,"| tripleo_container_manage_config_overrides | {} | Allows to override any | | | | container configuration | +------------------------------------------------+-----------------------------+----------------------------+ Debug ~~~~~ The role allows you to perform specific actions on a given container. This can be used to: * Run a container with a specific one-off configuration. * Output the container commands that are run to to manage containers lifecycle. * Output the changes that would have been made on containers by Ansible. .. note:: To manage a single container, you need to know 2 things: * At which step the container is deployed. * The name of the generated JSON file for container config. Here is an example of a playbook to manage HAproxy container at step 1 which overrides the image setting in one-off. .. code-block:: YAML - hosts: localhost become: true tasks: - name: Manage step_1 containers using tripleo-ansible block: - name: ""Manage HAproxy container at step 1 with tripleo-ansible"" include_role: name: tripleo-container-manage vars: tripleo_container_manage_systemd_order: true tripleo_container_manage_config_patterns: 'hashed-haproxy.json' tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_1"" tripleo_container_manage_config_id: ""tripleo_step1"" tripleo_container_manage_config_overrides: haproxy: image: docker.io/tripleomaster/centos-binary-haproxy:hotfix If Ansible is run in check mode, no container will be removed nor created,.. code-block:: bash $ ansible-playbook haproxy.yaml --check Adding the diff mode will output the changes what would have been made on containers by Ansible. .. code-block:: bash $ ansible-playbook haproxy.yaml --check --diff The ``tripleo_container_manage_config_overrides`` parameter is optional and can be used to override a specific container attribute like the image or the container user. The parameter takes a dictionary where each key is the container name and its parameters that we want to override. These parameters have to exist and are the ones that define the container configuration in TripleO Heat Templates. Note that it doesn't write down the overrides in the JSON file so if an update / upgrade is executed, the container will be re-configured with the configuration that is in the JSON file."," Check mode ~~~~~~~~~~ If Ansible is in check mode, no container will be removed nor created,Example with one container ~~~~~~~~~~~~~~~~~~~~~~~~~~ To manage a single container, you need to know 2 things: * At which step the container is deployed. * The name of the generated JSON file for container config. Here is an example of a playbook to manage HAproxy container at step 1: .. code-block:: YAML - name: Manage step_1 containers using tripleo-ansible block: - name: ""Manage HAproxy container at step 1 with tripleo-ansible"" include_role: name: tripleo-container-manage vars: tripleo_container_manage_systemd_order: true tripleo_container_manage_config_patterns: 'hashed-haproxy.json' tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_1"" tripleo_container_manage_config_id: ""tripleo_step1""",55,21
openstack%2Fdiskimage-builder~master~Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5,openstack/diskimage-builder,master,Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5,dib-lint: test elements have README.rst file,MERGED,2015-04-27 15:45:12.000000000,2020-01-21 05:52:11.000000000,2020-01-21 05:50:42.000000000,"[{'_account_id': 3}, {'_account_id': 2475}, {'_account_id': 2889}, {'_account_id': 3068}, {'_account_id': 4190}, {'_account_id': 6449}, {'_account_id': 6469}, {'_account_id': 6488}, {'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 10035}, {'_account_id': 10118}, {'_account_id': 16272}, {'_account_id': 21741}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2015-04-27 15:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d4d3b113a19e3f6f0d54abd3f2091da331e4d066', 'message': ""Test elements have README.rst file\n\nAdd a basic test to ensure that all elements under /elements/ have a\nREADME.rst file. This way they will be exhaustively listed in the Sphinx\ndocumentation.\n\nInject the test run to the 'docs' env since there is no point in running\nit for each python version.\n\nChange-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5\n""}, {'number': 2, 'created': '2015-04-27 21:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e36acc6cc5b710e5ffa43090202fb63174b89cfc', 'message': ""Test elements have README.rst file\n\nAdd a basic test to ensure that all elements under /elements/ have a\nREADME.rst file. This way they will be exhaustively listed in the Sphinx\ndocumentation.\n\nInject the test to be run in the 'docs' tox venv since there is no point\nin running it for each python version. Note the file does not have the\n'test_' prefix to prevent it from being discovered by discover.\n\nChange-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5\n""}, {'number': 3, 'created': '2015-05-06 18:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dbc69b19a5f5a44a567b610a39553032764a4b54', 'message': ""Test elements have README.rst file\n\nAdd a basic test to ensure that all elements under /elements/ have a\nREADME.rst file. This way they will be exhaustively listed in the Sphinx\ndocumentation.\n\nInject the test to be run in the 'docs' tox venv since there is no point\nin running it for each python version. Note the file does not have the\n'test_' prefix to prevent it from being discovered by discover.\n\nChange-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5\n""}, {'number': 4, 'created': '2017-10-15 18:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/30808527b32939f70b2f9610f68711531661e499', 'message': ""Test elements have README.rst file\n\nAdd a basic test to ensure that all elements under /elements/ have a\nREADME.rst file. This way they will be exhaustively listed in the Sphinx\ndocumentation.\n\nInject the test to be run in the 'docs' tox venv since there is no point\nin running it for each python version. Note the file does not have the\n'test_' prefix to prevent it from being discovered by discover.\n\nChange-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5\n""}, {'number': 5, 'created': '2017-10-16 10:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7852d4e43f4e5f53e84454ad0e07758f65843823', 'message': ""dib-lint: test elements have README.rst file\n\nAdd a basic test to ensure that all elements have a README.rst file.\nThis way they will be exhaustively listed in the Sphinx documentation.\n\nAdd dummy README.rst for 'disable-selinux' and 'rpm-distro' elements.\n\nChange-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5\n""}, {'number': 6, 'created': '2017-10-21 08:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a933e7356e07579d76b1129ba7d3639a0a281024', 'message': ""dib-lint: test elements have README.rst file\n\nAdd a basic test to ensure that all elements have a README.rst file.\nThis way they will be exhaustively listed in the Sphinx documentation.\n\nAdd dummy README.rst for 'disable-selinux' and 'rpm-distro' elements.\n\nChange-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5\n""}, {'number': 7, 'created': '2017-10-21 08:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2839e20a86c6ea76d96bfde0950ede0af591a971', 'message': ""dib-lint: test elements have README.rst file\n\nAdd a basic test to ensure that all elements have a README.rst file.\nThis way they will be exhaustively listed in the Sphinx documentation.\n\nAdd dummy README.rst for 'disable-selinux' and 'rpm-distro' elements.\n\nChange-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5\n""}, {'number': 8, 'created': '2020-01-20 10:48:24.000000000', 'files': ['bin/dib-lint', 'diskimage_builder/elements/rpm-distro/README.rst', 'diskimage_builder/elements/disable-selinux/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/168127b60ac314c7226bb7e8bee758cb7911de59', 'message': ""dib-lint: test elements have README.rst file\n\nAdd a basic test to ensure that all elements have a README.rst file.\nThis way they will be exhaustively listed in the Sphinx documentation.\n\nAdd dummy README.rst for 'disable-selinux' and 'rpm-distro' elements.\n\nChange-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5\n""}]",2,177832,168127b60ac314c7226bb7e8bee758cb7911de59,56,16,8,2475,,,0,"dib-lint: test elements have README.rst file

Add a basic test to ensure that all elements have a README.rst file.
This way they will be exhaustively listed in the Sphinx documentation.

Add dummy README.rst for 'disable-selinux' and 'rpm-distro' elements.

Change-Id: Ia5252ddd89b5ae5c6e9a12a66ef10f912fd54da5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/32/177832/8 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_docs.py', 'tox.ini', 'tests/__init__.py']",3,d4d3b113a19e3f6f0d54abd3f2091da331e4d066,177832,,,33,1
openstack%2Ftripleo-operator-ansible~master~Iec1c2a3afa9c6e2ef0011036749f294a1d9b9508,openstack/tripleo-operator-ansible,master,Iec1c2a3afa9c6e2ef0011036749f294a1d9b9508,Add container image prepare role,MERGED,2020-01-15 22:00:45.000000000,2020-01-21 05:46:13.000000000,2020-01-21 05:46:13.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-15 22:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9602da47471e2b76bf2f3a0f267c15ac765507ce', 'message': 'Add container image prepare role\n\nAdds tripleo-container-image-prepare role to execute the tripleo\ncontainer image prepare process.\n\nChange-Id: Iec1c2a3afa9c6e2ef0011036749f294a1d9b9508\n'}, {'number': 2, 'created': '2020-01-15 22:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/dc6dc7f8cc57b74fe535fba7603e55c1be040083', 'message': 'Add container image prepare role\n\nAdds tripleo-container-image-prepare role to execute the tripleo\ncontainer image prepare process.\n\nChange-Id: Iec1c2a3afa9c6e2ef0011036749f294a1d9b9508\n'}, {'number': 3, 'created': '2020-01-20 17:48:45.000000000', 'files': ['roles/tripleo_container_image_prepare/README.md', 'roles/tripleo_container_image_prepare/defaults/main.yml', 'roles/tripleo_container_image_prepare/tasks/main.yml', 'roles/tripleo_container_image_prepare/meta/main.yml', 'roles/tripleo_container_image_prepare/tests/test.yml', 'roles/tripleo_container_image_prepare/tests/inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/bf90885e135499d44f7805e198272331037f660a', 'message': 'Add container image prepare role\n\nAdds tripleo_container_image_prepare role to execute the tripleo\ncontainer image prepare process.\n\nChange-Id: Iec1c2a3afa9c6e2ef0011036749f294a1d9b9508\n'}]",0,702756,bf90885e135499d44f7805e198272331037f660a,15,4,3,14985,,,0,"Add container image prepare role

Adds tripleo_container_image_prepare role to execute the tripleo
container image prepare process.

Change-Id: Iec1c2a3afa9c6e2ef0011036749f294a1d9b9508
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/56/702756/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-container-image-prepare/meta/main.yml', 'roles/tripleo-container-image-prepare/tests/inventory', 'roles/tripleo-container-image-prepare/tests/test.yml', 'roles/tripleo-container-image-prepare/tasks/main.yml', 'roles/tripleo-container-image-prepare/README.md', 'roles/tripleo-container-image-prepare/defaults/main.yml']",6,9602da47471e2b76bf2f3a0f267c15ac765507ce,tripleo-operator-ansible,--- # defaults file for tripleo-container-image-prepare tripleo_container_image_prepare_become: true tripleo_container_image_prepare_cleanup: tripleo_container_image_prepare_debug: false tripleo_container_image_prepare_dry_run: false tripleo_container_image_prepare_environemnt_files: [] tripleo_container_image_prepare_environment_directory: [] tripleo_container_image_prepare_output_env_file: tripleo_container_image_prepare_roles_file: tripleo_container_image_prepare_timeout: 1800 ,,137,0
openstack%2Fneutron~master~I664f721e9b7edbf3358749e3d31e8e1632123b05,openstack/neutron,master,I664f721e9b7edbf3358749e3d31e8e1632123b05,[OVN] Add missing pyOpenSSL requirement,MERGED,2020-01-13 15:49:03.000000000,2020-01-21 05:23:02.000000000,2020-01-21 05:21:11.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-13 15:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/539ada67b58397f2e69fb81900004a888f445ea2', 'message': 'Add missing pyOpenSSL requirement\n\nIn OVN we can configure connection to NBDB and SBDB to be under\nSSL. We forgot to add this requirement during move.\n\nThere is a TestPortBindingOverSsl functional test case that\nis failing because of this missing requirement.\n\nRelated-Blueprint: neutron-ovn-merge\nChange-Id: I664f721e9b7edbf3358749e3d31e8e1632123b05\n'}, {'number': 2, 'created': '2020-01-14 09:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d9878b3e7831cf78a035a5973f9afe01b228945', 'message': '[OVN] Add missing pyOpenSSL requirement\n\nIn OVN we can configure connection to NBDB and SBDB to be under\nSSL. We forgot to add this requirement during move.\n\nThere is a TestPortBindingOverSsl functional test case that\nis failing because of this missing requirement.\n\nRelated-Blueprint: neutron-ovn-merge\nChange-Id: I664f721e9b7edbf3358749e3d31e8e1632123b05\n'}, {'number': 3, 'created': '2020-01-14 09:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32a4a7dbed8a1d368dc7bc9d7293921c5e85d564', 'message': '[OVN] Add missing pyOpenSSL requirement\n\nIn OVN we can configure connection to NBDB and SBDB to be under\nSSL. We forgot to add this requirement during move.\n\nThere is a TestPortBindingOverSsl functional test case that\nis failing because of this missing requirement.\n\nRelated-Blueprint: neutron-ovn-merge\nChange-Id: I664f721e9b7edbf3358749e3d31e8e1632123b05\n'}, {'number': 4, 'created': '2020-01-16 11:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8885b080fb6c51dd6ceecd002c8a2ff74d12e7b2', 'message': '[OVN] Add missing pyOpenSSL requirement\n\nIn OVN we can configure connection to NBDB and SBDB to be under\nSSL. We forgot to add this requirement during move.\n\nThere is a TestPortBindingOverSsl functional test case that\nis failing because of this missing requirement.\n\nRelated-Blueprint: neutron-ovn-merge\nChange-Id: I664f721e9b7edbf3358749e3d31e8e1632123b05\n'}, {'number': 5, 'created': '2020-01-16 11:19:02.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3acf0812a2efccb71628c21dd172578976d6cef5', 'message': '[OVN] Add missing pyOpenSSL requirement\n\nIn OVN we can configure connection to NBDB and SBDB to be under\nSSL. We forgot to add this requirement during move.\n\nThere is a TestPortBindingOverSsl functional test case that\nis failing because of this missing requirement.\n\nRelated-Blueprint: neutron-ovn-merge\nChange-Id: I664f721e9b7edbf3358749e3d31e8e1632123b05\n'}]",2,702248,3acf0812a2efccb71628c21dd172578976d6cef5,60,8,5,24791,,,0,"[OVN] Add missing pyOpenSSL requirement

In OVN we can configure connection to NBDB and SBDB to be under
SSL. We forgot to add this requirement during move.

There is a TestPortBindingOverSsl functional test case that
is failing because of this missing requirement.

Related-Blueprint: neutron-ovn-merge
Change-Id: I664f721e9b7edbf3358749e3d31e8e1632123b05
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/702248/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,539ada67b58397f2e69fb81900004a888f445ea2,bp/neutron-ovn-merge,pyOpenSSL>=17.1.0 # Apache-2.0,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3f81128cf2fc748a2d4c8df023686424a6de50b8,openstack/tripleo-heat-templates,stable/train,I3f81128cf2fc748a2d4c8df023686424a6de50b8,Use list join for rendering rear config file in heat,MERGED,2019-11-25 10:07:58.000000000,2020-01-21 04:51:05.000000000,2020-01-21 04:51:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8932}, {'_account_id': 9592}, {'_account_id': 11085}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 10:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42c2223d3e796a03c6122ef6f0eb25717958c2d4', 'message': 'Use list join for rendering rear config file in heat\n\nCurrently we are rendering the ReaR config file as:\nBACKUP_PROG_EXCLUDE=( \'/data/*\' \'/tmp/*\' \'{u\'""\'""\'get_param\'""\'""\': u\'""\'""\'BackupAndRestoreStorageFolder\'""\'""\'}\' )\n\nWe need to use heat list_join instead to merge the parameters.\n\nChange-Id: I3f81128cf2fc748a2d4c8df023686424a6de50b8\n'}, {'number': 2, 'created': '2019-11-25 10:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d2ac8f35b4d63353cd4a0d9bdc9095ad143151e', 'message': 'Use list join for rendering rear config file in heat\n\nCurrently we are rendering the ReaR config file as:\nBACKUP_PROG_EXCLUDE=( \'/data/*\' \'/tmp/*\' \'{u\'""\'""\'get_param\'""\'""\': u\'""\'""\'BackupAndRestoreStorageFolder\'""\'""\'}\' )\n\nWe need to use heat list_join instead to merge the parameters.\nCloses-Bug: #1853819\n(cherry picked from commit bc4219d274a57a8152e2a6b131e38899425b579c)\nChange-Id: I3f81128cf2fc748a2d4c8df023686424a6de50b8\n'}, {'number': 3, 'created': '2020-01-09 14:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/471ef29585cb1c56223a85dca41d32c04536d4fa', 'message': 'Use list join for rendering rear config file in heat\n\nCurrently we are rendering the ReaR config file as:\nBACKUP_PROG_EXCLUDE=( \'/data/*\' \'/tmp/*\' \'{u\'""\'""\'get_param\'""\'""\': u\'""\'""\'BackupAndRestoreStorageFolder\'""\'""\'}\' )\n\nWe need to use heat list_join instead to merge the parameters.\nCloses-Bug: #1853819\n(cherry picked from commit bc4219d274a57a8152e2a6b131e38899425b579c)\nChange-Id: I3f81128cf2fc748a2d4c8df023686424a6de50b8\n'}, {'number': 4, 'created': '2020-01-20 18:00:12.000000000', 'files': ['deployment/backup-and-restore/rear-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7a0aff19b0ea87f85a1c8f7313d98162ef07ee6', 'message': 'Use list join for rendering rear config file in heat\n\nCurrently we are rendering the ReaR config file as:\nBACKUP_PROG_EXCLUDE=( \'/data/*\' \'/tmp/*\' \'{u\'""\'""\'get_param\'""\'""\': u\'""\'""\'BackupAndRestoreStorageFolder\'""\'""\'}\' )\n\nWe need to use heat list_join instead to merge the parameters.\nCloses-Bug: #1853819\n(cherry picked from commit bc4219d274a57a8152e2a6b131e38899425b579c)\nChange-Id: I3f81128cf2fc748a2d4c8df023686424a6de50b8\n'}]",0,695875,f7a0aff19b0ea87f85a1c8f7313d98162ef07ee6,23,9,4,20775,,,0,"Use list join for rendering rear config file in heat

Currently we are rendering the ReaR config file as:
BACKUP_PROG_EXCLUDE=( '/data/*' '/tmp/*' '{u'""'""'get_param'""'""': u'""'""'BackupAndRestoreStorageFolder'""'""'}' )

We need to use heat list_join instead to merge the parameters.
Closes-Bug: #1853819
(cherry picked from commit bc4219d274a57a8152e2a6b131e38899425b579c)
Change-Id: I3f81128cf2fc748a2d4c8df023686424a6de50b8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/695875/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/backup-and-restore/rear-baremetal-ansible.yaml'],1,42c2223d3e796a03c6122ef6f0eb25717958c2d4,bug/1853819," default: ['/data/*', '/tmp/*'] tripleo_backup_and_restore_exclude_paths_common: list_concat_unique: - {get_param: BackupAndRestoreExcludePathsCommon} - - str_replace: template: 'folder/*' params: folder: {get_param: BackupAndRestoreNFSStorageFolder}"," default: ['/data/*', '/tmp/*', {get_param: BackupAndRestoreStorageFolder}] tripleo_backup_and_restore_exclude_paths_common: {get_param: BackupAndRestoreExcludePathsCommon}",9,2
openstack%2Ftripleo-common~master~Ifd28fd60e4bc1218acc24381d13534c227f2877e,openstack/tripleo-common,master,Ifd28fd60e4bc1218acc24381d13534c227f2877e,container_update: Retry removing containers.,MERGED,2020-01-16 16:34:44.000000000,2020-01-21 04:41:19.000000000,2020-01-21 04:39:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-16 16:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b4616e3391049229720a715bb0ee2c90c508a5ab', 'message': 'container_update: Retry removing containers.\n\nChange-Id: Ifd28fd60e4bc1218acc24381d13534c227f2877e\nRelated-Bug: #1856086\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2020-01-16 21:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a96ef0634db864aba2a161c9075253fc8c248fea', 'message': 'container_update: Retry removing containers.\n\nChange-Id: Ifd28fd60e4bc1218acc24381d13534c227f2877e\nRelated-Bug: #1856086\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2020-01-17 15:30:57.000000000', 'files': ['scripts/container-update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ef77f081a21e8483b143558dbf5ace5d909a368f', 'message': 'container_update: Retry removing containers.\n\nChange-Id: Ifd28fd60e4bc1218acc24381d13534c227f2877e\nRelated-Bug: #1856086\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,702919,ef77f081a21e8483b143558dbf5ace5d909a368f,15,4,3,25877,,,0,"container_update: Retry removing containers.

Change-Id: Ifd28fd60e4bc1218acc24381d13534c227f2877e
Related-Bug: #1856086
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/702919/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/container-update.py'],1,b4616e3391049229720a715bb0ee2c90c508a5ab,Ifd28fd60e4bc1218acc24381d13534c227f2877e,"import tenacity@tenacity.retry( reraise=True, retry=tenacity.retry_if_exception_type(RuntimeError), stop=tenacity.stop_after_attempt(3), wait=tenacity.wait_fixed(1) ) if 'No such container' in cmd_stderr: log.warn('Container that does not exist cannot be deleted: ' '%s' % container) else: log.error('Error removing container: %s' % container) log.error(cmd_stderr) raise RuntimeError(cmd_stdout, cmd_stderr, returncode)", if cmd_stderr and \ cmd_stderr != 'Error response from daemon: ' \ 'No such container: {}\n'.format(name): log.debug(cmd_stderr),16,4
openstack%2Fpuppet-tripleo~stable%2Ftrain~I6a06269f55a38071c34d2a95109d213fe7e2452c,openstack/puppet-tripleo,stable/train,I6a06269f55a38071c34d2a95109d213fe7e2452c,HA: Honour all hiera override variables in mysql_bundle,MERGED,2020-01-17 06:09:53.000000000,2020-01-21 04:39:37.000000000,2020-01-21 04:39:37.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-17 06:09:53.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7aec7fc5cf422da88d682beff8102e52c532baf7', 'message': 'HA: Honour all hiera override variables in mysql_bundle\n\nDuring a major upgrade, upgrade tasks can rebuild a new pacemaker\ncluster by adding nodes one at a time. This is implemented by\nusing two special hiera variables mysql_node_names_override and\nmysql_short_node_names_override.\n\nMake sure the mysql_bundle puppet module uses both variables\nwhen such cluster rebuild is in progress.\n\nChange-Id: I6a06269f55a38071c34d2a95109d213fe7e2452c\nCloses-Bug: #1859961\nCo-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>\n(cherry picked from commit 0a64eebb6454483e823c4cf12c55832935c2319f)\n'}]",0,703016,7aec7fc5cf422da88d682beff8102e52c532baf7,25,5,1,20172,,,0,"HA: Honour all hiera override variables in mysql_bundle

During a major upgrade, upgrade tasks can rebuild a new pacemaker
cluster by adding nodes one at a time. This is implemented by
using two special hiera variables mysql_node_names_override and
mysql_short_node_names_override.

Make sure the mysql_bundle puppet module uses both variables
when such cluster rebuild is in progress.

Change-Id: I6a06269f55a38071c34d2a95109d213fe7e2452c
Closes-Bug: #1859961
Co-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>
(cherry picked from commit 0a64eebb6454483e823c4cf12c55832935c2319f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/16/703016/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,7aec7fc5cf422da88d682beff8102e52c532baf7,bug/1859961-stable/train," $galera_node_names_lookup = downcase(hiera('mysql_short_node_names_override', hiera('mysql_short_node_names', $::hostname)))"," $galera_node_names_lookup = downcase(hiera('mysql_short_node_names', $::hostname))",2,1
openstack%2Faodh~master~I2f78ca7406737c6e181a1ff5fe416925019c5720,openstack/aodh,master,I2f78ca7406737c6e181a1ff5fe416925019c5720,Use config options when creating keystone session,MERGED,2020-01-20 00:58:25.000000000,2020-01-21 04:08:48.000000000,2020-01-21 04:07:26.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 30447}]","[{'number': 1, 'created': '2020-01-20 00:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/1e5a0ee044e8b4d5074e46594c435c1682aed5b0', 'message': ""Use config options when creating keystone session\n\nUse the config options in 'service_credentials' section to get Keystone\nsession, so that options like 'cafile', 'insecure', etc. could be used.\n\nRelated Story: #2007181\nRelated Task: #38297\nChange-Id: I2f78ca7406737c6e181a1ff5fe416925019c5720\n""}, {'number': 2, 'created': '2020-01-20 04:32:28.000000000', 'files': ['aodh/evaluator/loadbalancer.py', 'aodh/api/controllers/v2/alarms.py', 'aodh/keystone_client.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/58dd647097d47064dbe4210b3e9f44584d1b085b', 'message': ""Use config options when creating keystone session\n\nUse the config options in 'service_credentials' section to get Keystone\nsession, so that options like 'cafile', 'insecure', etc. could be used.\n\nRelated Story: #2007181\nRelated Task: #38297\nChange-Id: I2f78ca7406737c6e181a1ff5fe416925019c5720\n""}]",0,703313,58dd647097d47064dbe4210b3e9f44584d1b085b,15,4,2,6732,,,0,"Use config options when creating keystone session

Use the config options in 'service_credentials' section to get Keystone
session, so that options like 'cafile', 'insecure', etc. could be used.

Related Story: #2007181
Related Task: #38297
Change-Id: I2f78ca7406737c6e181a1ff5fe416925019c5720
",git fetch https://review.opendev.org/openstack/aodh refs/changes/13/703313/2 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/api/controllers/v2/alarms.py', 'aodh/evaluator/loadbalancer.py', 'aodh/keystone_client.py']",3,1e5a0ee044e8b4d5074e46594c435c1682aed5b0,fix-load-session," sess = ka_loading.load_session_from_conf_options(conf, CFG_GROUP, auth=auth_plugin)def get_client_on_behalf_user(conf, auth_plugin): sess = ka_loading.load_session_from_conf_options(conf, CFG_GROUP, auth=auth_plugin) client = get_client_on_behalf_user(conf, auth_plugin)def delete_trust_id(conf, trust_id, auth_plugin): client = get_client_on_behalf_user(conf, auth_plugin) interface=conf.service_credentials.interface,"," sess = session.Session(auth=auth_plugin)def get_client_on_behalf_user(auth_plugin): sess = session.Session(auth=auth_plugin) client = get_client_on_behalf_user(auth_plugin)def delete_trust_id(trust_id, auth_plugin): client = get_client_on_behalf_user(auth_plugin) interface=""internal"",",14,10
openstack%2Faodh~stable%2Ftrain~I2f78ca7406737c6e181a1ff5fe416925019c5720,openstack/aodh,stable/train,I2f78ca7406737c6e181a1ff5fe416925019c5720,Use config options when creating keystone session,MERGED,2020-01-21 01:22:11.000000000,2020-01-21 04:08:39.000000000,2020-01-21 04:07:30.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 01:22:11.000000000', 'files': ['aodh/evaluator/loadbalancer.py', 'aodh/api/controllers/v2/alarms.py', 'aodh/keystone_client.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/5415b96d1e58615fa80fee2eb74dc9cda90d8e2a', 'message': ""Use config options when creating keystone session\n\nUse the config options in 'service_credentials' section to get Keystone\nsession, so that options like 'cafile', 'insecure', etc. could be used.\n\nRelated Story: #2007181\nRelated Task: #38297\nChange-Id: I2f78ca7406737c6e181a1ff5fe416925019c5720\n""}]",0,703530,5415b96d1e58615fa80fee2eb74dc9cda90d8e2a,7,2,1,6732,,,0,"Use config options when creating keystone session

Use the config options in 'service_credentials' section to get Keystone
session, so that options like 'cafile', 'insecure', etc. could be used.

Related Story: #2007181
Related Task: #38297
Change-Id: I2f78ca7406737c6e181a1ff5fe416925019c5720
",git fetch https://review.opendev.org/openstack/aodh refs/changes/30/703530/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/api/controllers/v2/alarms.py', 'aodh/evaluator/loadbalancer.py', 'aodh/keystone_client.py']",3,5415b96d1e58615fa80fee2eb74dc9cda90d8e2a,fix-load-session-stable/train," sess = ka_loading.load_session_from_conf_options(conf, CFG_GROUP, auth=auth_plugin)def get_client_on_behalf_user(conf, auth_plugin): sess = ka_loading.load_session_from_conf_options(conf, CFG_GROUP, auth=auth_plugin) client = get_client_on_behalf_user(conf, auth_plugin)def delete_trust_id(conf, trust_id, auth_plugin): client = get_client_on_behalf_user(conf, auth_plugin) interface=conf.service_credentials.interface,","from keystoneauth1 import session sess = session.Session(auth=auth_plugin)def get_client_on_behalf_user(auth_plugin): sess = session.Session(auth=auth_plugin) client = get_client_on_behalf_user(auth_plugin)def delete_trust_id(trust_id, auth_plugin): client = get_client_on_behalf_user(auth_plugin) interface=""internal"",",14,11
openstack%2Fpuppet-ironic~master~If7e71bb3acaaa6f74279031730b18a7f129edb51,openstack/puppet-ironic,master,If7e71bb3acaaa6f74279031730b18a7f129edb51,Customize roles assigned to ironic user,MERGED,2020-01-18 12:10:25.000000000,2020-01-21 03:04:44.000000000,2020-01-21 03:03:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-18 12:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d5104546db08a5aee9802bd8c3d253596c2e1d46', 'message': 'Customize roles assigned to ironic user\n\nThis patch introduces a new hieradata ironic::keystone::auth::roles,\nto configure customized role assigned to ironic user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: If7e71bb3acaaa6f74279031730b18a7f129edb51\n'}, {'number': 2, 'created': '2020-01-18 13:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/cfb704651b9c590d397942edfdc1562dc4187724', 'message': 'Customize roles assigned to ironic user\n\nThis patch introduces a new hieradata ironic::keystone::auth::roles,\nto configure customized role assigned to ironic user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: If7e71bb3acaaa6f74279031730b18a7f129edb51\n'}, {'number': 3, 'created': '2020-01-19 02:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/dcc74e5e57fae16d7259cab9a249ee07cd01e42c', 'message': 'Customize roles assigned to ironic user\n\nThis patch introduces a new hieradata ironic::keystone::auth::roles,\nto configure customized role assigned to ironic user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: If7e71bb3acaaa6f74279031730b18a7f129edb51\n'}, {'number': 4, 'created': '2020-01-20 09:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3b93df38f399d87d535749d2e5dee068a4ece57d', 'message': 'Customize roles assigned to ironic user\n\nThis patch introduces a new hieradata ironic::keystone::auth::roles,\nto configure customized role assigned to ironic user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: If7e71bb3acaaa6f74279031730b18a7f129edb51\n'}, {'number': 5, 'created': '2020-01-20 09:56:21.000000000', 'files': ['spec/classes/ironic_keystone_auth_spec.rb', 'releasenotes/notes/keystone-user-roles-9a21ef5f9a74777e.yaml', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a9da71c39df8fdd3ce88c677291fea04a20c4f90', 'message': 'Customize roles assigned to ironic user\n\nThis patch introduces a new hieradata ironic::keystone::auth::roles,\nto configure customized role assigned to ironic user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: If7e71bb3acaaa6f74279031730b18a7f129edb51\n'}]",2,703232,a9da71c39df8fdd3ce88c677291fea04a20c4f90,21,5,5,9816,,,0,"Customize roles assigned to ironic user

This patch introduces a new hieradata ironic::keystone::auth::roles,
to configure customized role assigned to ironic user.

This is required to configure service token feature, as it requires
special role is assigned to the user who uses the feature.

Change-Id: If7e71bb3acaaa6f74279031730b18a7f129edb51
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/32/703232/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_keystone_auth_spec.rb', 'releasenotes/notes/keystone-user-roles-9a21ef5f9a74777e.yaml', 'manifests/keystone/auth.pp']",3,d5104546db08a5aee9802bd8c3d253596c2e1d46,customized-user-role,"# [*roles*] # (Optional) List of roles assigned to the ironic service user # Defaults to ['admin'] # $roles = ['admin'] roles => $roles,",,23,0
openstack%2Fmanila-tempest-plugin~master~Ic685d1b9574daf7e6c9b90d5636f1b614a70b0da,openstack/manila-tempest-plugin,master,Ic685d1b9574daf7e6c9b90d5636f1b614a70b0da,Use a single keypair for multiple instances,MERGED,2020-01-01 13:58:36.000000000,2020-01-21 02:56:26.000000000,2020-01-21 02:56:26.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-01-01 13:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/edb86b76c18544382b3af0d8090ba8d279f90feb', 'message': 'Use a single keypair for multiple instances\n\nWhen I ran manila scenario tests, some tests failed due to\nssh key authentication. I noticed that tests with single\ninstance pass, however, tests with more than one instance\n(e.g. ""test_read_write_two_vms"" test) fail.\nI figured out that there is a mismatch between both instance keys.\nI tried to use a single key for both instances and the test passed.\n\nChange-Id: Ic685d1b9574daf7e6c9b90d5636f1b614a70b0da\nRelated-bug: #1858024\n'}, {'number': 2, 'created': '2020-01-09 09:06:55.000000000', 'files': ['releasenotes/notes/bug-1858024-fa76d4c5b27f099b.yaml', 'manila_tempest_tests/tests/scenario/manager_share.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0cd6c999d4985e10be2566c631312720efe8413c', 'message': 'Use a single keypair for multiple instances\n\nWhen I ran manila scenario tests, some tests failed due to\nssh key authentication. I noticed that tests with single\ninstance pass, however, tests with more than one instance\n(e.g. ""test_read_write_two_vms"" test) fail.\nI figured out that every instance initialization creates a\nunique keypair.\nAn unnecessary resource duplication, when a single user boots\nmore than one instance. Depending on test flow this may also\ncause keypair mismatch.\n\nChange-Id: Ic685d1b9574daf7e6c9b90d5636f1b614a70b0da\nRelated-bug: #1858024\n'}]",1,700833,0cd6c999d4985e10be2566c631312720efe8413c,21,7,2,19262,,,0,"Use a single keypair for multiple instances

When I ran manila scenario tests, some tests failed due to
ssh key authentication. I noticed that tests with single
instance pass, however, tests with more than one instance
(e.g. ""test_read_write_two_vms"" test) fail.
I figured out that every instance initialization creates a
unique keypair.
An unnecessary resource duplication, when a single user boots
more than one instance. Depending on test flow this may also
cause keypair mismatch.

Change-Id: Ic685d1b9574daf7e6c9b90d5636f1b614a70b0da
Related-bug: #1858024
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/33/700833/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/scenario/manager_share.py'],1,edb86b76c18544382b3af0d8090ba8d279f90feb,bug/1858024," # In case of multiple instances, use a single keypair to prevent a keys # mismatch. if not hasattr(self, 'keypair'): self.keypair = self.create_keypair()", self.keypair = self.create_keypair(),4,1
openstack%2Ftacker~stable%2Fqueens~I1d49f9442dbc34794e01fbefb4ef82af21171956,openstack/tacker,stable/queens,I1d49f9442dbc34794e01fbefb4ef82af21171956,Add VNF to monitor after restarting tacker service,ABANDONED,2019-01-15 09:22:04.000000000,2020-01-21 02:46:14.000000000,,"[{'_account_id': 1011}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-01-15 09:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f3196dfb4ff2deb8c06a468beaa2a276c0ff89eb', 'message': ""Add VNF to monitor after restarting tacker service\n\nIf you restart tacker service, it doesn't monitor previously\ncreated VNFs.\n\nThis patch will read all VNFs from db and add to monitor\nduring initialization of VFNM plugin.\n\nChange-Id: I1d49f9442dbc34794e01fbefb4ef82af21171956\nCloses-Bug: #1616712\n(cherry picked from commit 5ae9dd03c7ce43ed8a54b1d4f428231988b471fd)\n""}, {'number': 2, 'created': '2019-02-08 02:24:43.000000000', 'files': ['tacker/vnfm/plugin.py', 'tacker/vnfm/monitor.py', 'tox.ini', 'tacker/tests/unit/vnfm/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e00f2c0a4fc0c2ef3b299630b0d6e452b4da22af', 'message': ""Add VNF to monitor after restarting tacker service\n\nIf you restart tacker service, it doesn't monitor previously\ncreated VNFs.\n\nThis patch will read all VNFs from db and add to monitor\nduring initialization of VFNM plugin.\n\nChange-Id: I1d49f9442dbc34794e01fbefb4ef82af21171956\nCloses-Bug: #1616712\n(cherry picked from commit 5ae9dd03c7ce43ed8a54b1d4f428231988b471fd)\n""}]",0,630914,e00f2c0a4fc0c2ef3b299630b0d6e452b4da22af,12,4,2,20182,,,0,"Add VNF to monitor after restarting tacker service

If you restart tacker service, it doesn't monitor previously
created VNFs.

This patch will read all VNFs from db and add to monitor
during initialization of VFNM plugin.

Change-Id: I1d49f9442dbc34794e01fbefb4ef82af21171956
Closes-Bug: #1616712
(cherry picked from commit 5ae9dd03c7ce43ed8a54b1d4f428231988b471fd)
",git fetch https://review.opendev.org/openstack/tacker refs/changes/14/630914/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/plugin.py', 'tacker/tests/unit/vnfm/test_plugin.py']",2,f3196dfb4ff2deb8c06a468beaa2a276c0ff89eb,bug/1616712,"class TestVNFMPluginMonitor(db_base.SqlTestCase): def setUp(self): super(TestVNFMPluginMonitor, self).setUp() self._mock_vnf_manager() def _mock_vnf_manager(self): self._vnf_manager = mock.Mock(wraps=FakeDriverManager()) self._vnf_manager.__contains__ = mock.Mock( return_value=True) fake_vnf_manager = mock.Mock() fake_vnf_manager.return_value = self._vnf_manager self._mock( 'tacker.common.driver_manager.DriverManager', fake_vnf_manager) @mock.patch('tacker.db.vnfm.vnfm_db.VNFMPluginDb.get_vnfs') @mock.patch('tacker.vnfm.monitor.VNFMonitor.__run__') def test_init_monitoring(self, mock_run, mock_get_vnfs): vnf_id = uuidutils.generate_uuid() vnfs = [{ 'id': vnf_id, 'vnf': { 'id': vnf_id, 'status': 'ACTIVE', 'name': 'fake_vnf', 'attributes': { 'monitoring_policy': '{""vdus"": ' '{""VDU1"": {""ping"": {""actions"": {""failure"": ""respawn""},' '""name"": ""ping"", ""parameters"": {""count"": 3,' '""interval"": 1, ""monitoring_delay"": 45, ""timeout"": 2},' '""monitoring_params"": {""count"": 3, ""interval"": 1,' '""monitoring_delay"": 45, ""timeout"": 2}}}}}'} }, 'name': 'fake_vnf', 'tenant_id': 'ad7ebc56538745a08ef7c5e97f8bd437', 'description': 'fake_vnf_description', 'instance_id': 'da85ea1a-4ec4-4201-bbb2-8d9249eca7ec', 'vnfd_id': 'eb094833-995e-49f0-a047-dfb56aaf7c4e', 'vim_id': '6261579e-d6f3-49ad-8bc3-a9cb974778ff', 'placement_attr': {'region': 'RegionOne'}, 'status': 'ACTIVE', 'attributes': { 'monitoring_policy': '{""vdus"": ' '{""VDU1"": {""ping"": {""actions"": {""failure"": ""respawn""},' '""name"": ""ping"", ""parameters"": {""count"": 3,' '""interval"": 1, ""monitoring_delay"": 45, ""timeout"": 2},' '""monitoring_params"": {""count"": 3, ""interval"": 1,' '""monitoring_delay"": 45, ""timeout"": 2}}}}}'}, 'mgmt_url': '{""VDU1"": ""a.b.c.d""}', 'deleted_at': datetime.min, 'management_ip_addresses': 'a.b.c.d' }] mock_get_vnfs.return_value = vnfs vnfm_plugin = plugin.VNFMPlugin() hosting_vnfs = vnfm_plugin._vnf_monitor._hosting_vnfs.values() hosting_vnf = hosting_vnfs[0]['vnf'] self.assertEqual('{""VDU1"": ""a.b.c.d""}', hosting_vnf['mgmt_url']) self.assertEqual(1, len(hosting_vnfs)) ",,73,0
openstack%2Fpython-tackerclient~master~I84de0140463d6bd834d3bcc22f6a6cea1fef9130,openstack/python-tackerclient,master,I84de0140463d6bd834d3bcc22f6a6cea1fef9130,Show proper error message for non-existing vnf package,MERGED,2019-10-16 09:23:23.000000000,2020-01-21 02:42:13.000000000,2020-01-21 02:40:41.000000000,"[{'_account_id': 16237}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-10-16 09:23:23.000000000', 'files': ['tackerclient/tests/unit/osc/v1/test_vnf_package.py', 'tackerclient/v1_0/client.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/727129d9586fa7a594927b418005c1f10278d17e', 'message': 'Show proper error message for non-existing vnf package\n\nWhen you pass non-existing vnf package uuid to ``vnf package upload``\ncommand as shown below, it doesn\'t show user-friendly message as it\'s\nshown in case ``vnf package show`` command.\n\n  $openstack vnf package upload --path sample_vnf_pkg.zip dummy-id\n  ""404-tackerFault""\n\nThis patch fixes this issue and now it will output below error message:\n\n  $openstack vnf package upload --path sample_vnf_pkg.zip dummy-id\n  Can not find requested vnf package: dummy-id\n\nChange-Id: I84de0140463d6bd834d3bcc22f6a6cea1fef9130\nCloses-Bug: #1799683\n'}]",0,688886,727129d9586fa7a594927b418005c1f10278d17e,10,4,1,29236,,,0,"Show proper error message for non-existing vnf package

When you pass non-existing vnf package uuid to ``vnf package upload``
command as shown below, it doesn't show user-friendly message as it's
shown in case ``vnf package show`` command.

  $openstack vnf package upload --path sample_vnf_pkg.zip dummy-id
  ""404-tackerFault""

This patch fixes this issue and now it will output below error message:

  $openstack vnf package upload --path sample_vnf_pkg.zip dummy-id
  Can not find requested vnf package: dummy-id

Change-Id: I84de0140463d6bd834d3bcc22f6a6cea1fef9130
Closes-Bug: #1799683
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/86/688886/1 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/tests/unit/osc/v1/test_vnf_package.py', 'tackerclient/v1_0/client.py']",2,727129d9586fa7a594927b418005c1f10278d17e,bug/1799683," if ('application/json' in resp.headers.get('Content-Type', 'application/json')): self.format = 'json' ",,35,0
openstack%2Fironic-python-agent-builder~master~I100576c639649a69a8e95463ca87bedda4bbadc3,openstack/ironic-python-agent-builder,master,I100576c639649a69a8e95463ca87bedda4bbadc3,Fix and return the CentOS 7 job,MERGED,2020-01-20 11:39:17.000000000,2020-01-21 02:23:36.000000000,2020-01-21 02:21:16.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-01-20 11:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/70f27f2e64009554a34d088ad5f8ad6c7b598132', 'message': 'Fix and return the CentOS 7 job\n\nThis job is used on stable branches and is currently broken. This\nchange introduces a workaround for older DIB and re-enables the job.\n\nChange-Id: I100576c639649a69a8e95463ca87bedda4bbadc3\n'}, {'number': 2, 'created': '2020-01-20 15:09:08.000000000', 'files': ['.zuul.yaml', 'roles/ipa-build-dib-image/tasks/install.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/683feac160782744fd852053a5adde19fd992a3d', 'message': 'Fix and return the CentOS 7 job\n\nThis job is used on stable branches and is currently broken. This\nchange introduces a workaround for older DIB and re-enables the job.\n\nChange-Id: I100576c639649a69a8e95463ca87bedda4bbadc3\n'}]",0,703371,683feac160782744fd852053a5adde19fd992a3d,10,3,2,10239,,,0,"Fix and return the CentOS 7 job

This job is used on stable branches and is currently broken. This
change introduces a workaround for older DIB and re-enables the job.

Change-Id: I100576c639649a69a8e95463ca87bedda4bbadc3
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/71/703371/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'roles/ipa-build-dib-image/tasks/install.yaml']",2,70f27f2e64009554a34d088ad5f8ad6c7b598132,centos7," # NOTE(dtantsur): work around the issue in older DIB versions when some # elements try to use the default Python instead of the one DIB is using, # failing with ""No module named yaml"" - name: Install PyYAML in Python 2 pip: name: PyYAML extra_args: -c ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/requirements'].src_dir }}/upper-constraints.txt"" executable: pip2 become: true ignore_errors: true",,13,0
openstack%2Fpython-tackerclient~master~I74266f66cd9755208ddc2cc3a36c103c2bb95555,openstack/python-tackerclient,master,I74266f66cd9755208ddc2cc3a36c103c2bb95555,Drop python 2.7 support and testing,MERGED,2019-10-31 06:27:08.000000000,2020-01-21 01:58:41.000000000,2020-01-21 01:56:15.000000000,"[{'_account_id': 8556}, {'_account_id': 16237}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-10-31 06:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/6639b4c5911eb0f648e0da41bd1fbad99de80757', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-tackerclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I74266f66cd9755208ddc2cc3a36c103c2bb95555\n'}, {'number': 2, 'created': '2019-12-13 23:46:08.000000000', 'files': ['releasenotes/notes/drop-py-2-7-b2052825c4b92b52.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/5ff4c334e96c5c2308b713ffe75a67914b69cfeb', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-tackerclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I74266f66cd9755208ddc2cc3a36c103c2bb95555\n'}]",0,692270,5ff4c334e96c5c2308b713ffe75a67914b69cfeb,13,5,2,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-tackerclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I74266f66cd9755208ddc2cc3a36c103c2bb95555
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/70/692270/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-b2052825c4b92b52.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,6639b4c5911eb0f648e0da41bd1fbad99de80757,drop-py27-support,"envlist = py37,py36,pep8,docs","envlist = py37,py36,py27,pep8,docs",8,5
openstack%2Fkarbor-dashboard~stable%2Ftrain~I627e783f2a0523c5d3c2ffc1b8674e52228d14f5,openstack/karbor-dashboard,stable/train,I627e783f2a0523c5d3c2ffc1b8674e52228d14f5,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:06:02.000000000,2020-01-21 01:49:02.000000000,2020-01-21 01:49:02.000000000,"[{'_account_id': 1736}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:06:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/86f2d028032c511743bc5c492456b7d3acca591f', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I627e783f2a0523c5d3c2ffc1b8674e52228d14f5\n'}]",0,686604,86f2d028032c511743bc5c492456b7d3acca591f,7,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I627e783f2a0523c5d3c2ffc1b8674e52228d14f5
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/04/686604/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,86f2d028032c511743bc5c492456b7d3acca591f,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fkarbor-dashboard~stable%2Ftrain~I53aaa77f848768d774a33aa0691d9c14ebe48358,openstack/karbor-dashboard,stable/train,I53aaa77f848768d774a33aa0691d9c14ebe48358,Update .gitreview for stable/train,MERGED,2019-10-04 13:05:59.000000000,2020-01-21 01:45:55.000000000,2020-01-21 01:45:55.000000000,"[{'_account_id': 841}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:05:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/dcca46d2960dada640b65cbbba2d90311d361181', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I53aaa77f848768d774a33aa0691d9c14ebe48358\n'}]",0,686603,dcca46d2960dada640b65cbbba2d90311d361181,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I53aaa77f848768d774a33aa0691d9c14ebe48358
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/03/686603/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,dcca46d2960dada640b65cbbba2d90311d361181,create-train,defaultbranch=stable/train,,1,0
openstack%2Fkarbor-dashboard~stable%2Fstein~I6e2d30e91373e1cc742a4f3c02d32a90b714d7e4,openstack/karbor-dashboard,stable/stein,I6e2d30e91373e1cc742a4f3c02d32a90b714d7e4,Fix horizon dependency,MERGED,2020-01-09 09:07:20.000000000,2020-01-21 01:45:54.000000000,2020-01-21 01:45:54.000000000,"[{'_account_id': 841}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-09 09:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/7feef9c5841147bd3bd16209dfedfd847aa66615', 'message': ""Fix horizon dependency\n\nThis commit moves horizon to requirements.txt.\n\nhorizon was added to uper-constraints in stable branches recently,\nso installing from the tarball no longer works. upper-constraints\nin stable branches picks up the right version of horizon, so there\nis no need for the upper bound of the horizon version.\n\nIn addition, the link of the horizon tarball was not updated after\nthe stable branch was created. I don't know why it works for stable/train\nbut I believe this commit mitigates the situation as the upper-constraints\nfile in the requirements repo picks up the right version of horizon.\n\nThis commit is proposed directly as the similar change in the master\nbranch happened as part of Django 1.11 drop.\n\nChange-Id: I6e2d30e91373e1cc742a4f3c02d32a90b714d7e4\n(cherry picked from commit f33ce0e0afe491e992b3070fe2df374e92428d11)\n""}, {'number': 2, 'created': '2020-01-09 11:44:39.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/a53e70d3c95a74e071306bb9e819548002872683', 'message': ""Fix horizon dependency\n\nThis commit moves horizon to requirements.txt.\n\nhorizon was added to uper-constraints in stable branches recently,\nso installing from the tarball no longer works. upper-constraints\nin stable branches picks up the right version of horizon, so there\nis no need for the upper bound of the horizon version.\n\nIn addition, the link of the horizon tarball was not updated after\nthe stable branch was created. I don't know why it works for stable/train\nbut I believe this commit mitigates the situation as the upper-constraints\nfile in the requirements repo picks up the right version of horizon.\n\nThis commit is proposed directly as the similar change in the master\nbranch happened as part of Django 1.11 drop.\n\nstable/stein only:\nsphinx entry in test-requirements.txt did not match global-requirements.\nThis commit updates it to match the current global-requirements.\n\nChange-Id: I6e2d30e91373e1cc742a4f3c02d32a90b714d7e4\n(cherry picked from commit f33ce0e0afe491e992b3070fe2df374e92428d11)\n""}]",0,701694,a53e70d3c95a74e071306bb9e819548002872683,9,3,2,841,,,0,"Fix horizon dependency

This commit moves horizon to requirements.txt.

horizon was added to uper-constraints in stable branches recently,
so installing from the tarball no longer works. upper-constraints
in stable branches picks up the right version of horizon, so there
is no need for the upper bound of the horizon version.

In addition, the link of the horizon tarball was not updated after
the stable branch was created. I don't know why it works for stable/train
but I believe this commit mitigates the situation as the upper-constraints
file in the requirements repo picks up the right version of horizon.

This commit is proposed directly as the similar change in the master
branch happened as part of Django 1.11 drop.

stable/stein only:
sphinx entry in test-requirements.txt did not match global-requirements.
This commit updates it to match the current global-requirements.

Change-Id: I6e2d30e91373e1cc742a4f3c02d32a90b714d7e4
(cherry picked from commit f33ce0e0afe491e992b3070fe2df374e92428d11)
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/94/701694/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,7feef9c5841147bd3bd16209dfedfd847aa66615,fix-requirements-stable/stein,,# Include horizon as test requirement http://tarballs.openstack.org/horizon/horizon-master.tar.gz#egg=horizon,1,2
openstack%2Floci~master~Ib40190427c69dad7c62a402d4c663eb464d3c4f5,openstack/loci,master,Ib40190427c69dad7c62a402d4c663eb464d3c4f5,Enable leap15 build disabled due to repo issues,ABANDONED,2020-01-20 20:27:30.000000000,2020-01-21 01:38:29.000000000,,"[{'_account_id': 8863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 20:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/65ef67e929c42feeb99f61525b804ca79b4aea1f', 'message': 'test\n\nChange-Id: Ib40190427c69dad7c62a402d4c663eb464d3c4f5\n'}, {'number': 2, 'created': '2020-01-20 20:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ccc4696554c6b83a60ee1a6b0256497ddf8a2016', 'message': 'test\n\nChange-Id: Ib40190427c69dad7c62a402d4c663eb464d3c4f5\n'}, {'number': 3, 'created': '2020-01-20 20:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6f5bec1d61ee5c8fbb756d0166c1d0e12ef219d9', 'message': 'test\n\nChange-Id: Ib40190427c69dad7c62a402d4c663eb464d3c4f5\n'}, {'number': 4, 'created': '2020-01-20 20:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/1e26dc4f4707eaf19637fa9b856b62de353a3591', 'message': 'test\n\nChange-Id: Ib40190427c69dad7c62a402d4c663eb464d3c4f5\n'}, {'number': 5, 'created': '2020-01-20 20:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/1ede319599129cbbc753f2dda44c52a6dfe9b44e', 'message': 'test\n\nChange-Id: Ib40190427c69dad7c62a402d4c663eb464d3c4f5\n'}, {'number': 6, 'created': '2020-01-20 21:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/06c60f692b93ed1331290e05e563aeffe31f9168', 'message': 'Enable leap15 build disabled due to repo issues\n\nChange-Id: Ib40190427c69dad7c62a402d4c663eb464d3c4f5\n'}, {'number': 7, 'created': '2020-01-20 22:18:02.000000000', 'files': ['playbooks/vars.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/0c11c1819f2ba405e1c58df6ab8da30bc79dcbb1', 'message': 'Enable leap15 build disabled due to repo issues\n\nChange-Id: Ib40190427c69dad7c62a402d4c663eb464d3c4f5\n'}]",0,703498,0c11c1819f2ba405e1c58df6ab8da30bc79dcbb1,14,2,7,8863,,,0,"Enable leap15 build disabled due to repo issues

Change-Id: Ib40190427c69dad7c62a402d4c663eb464d3c4f5
",git fetch https://review.opendev.org/openstack/loci refs/changes/98/703498/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/push.yaml', 'playbooks/vars.yaml', 'playbooks/loci-builder.yaml']",3,65ef67e929c42feeb99f61525b804ca79b4aea1f,, when: &condition {{ condition }} when: *condition when: *condition when: *condition, when: > supported_releases is undefined or item.release in supported_releases when: > supported_releases is undefined or item.release in supported_releases when: > supported_releases is undefined or item.release in supported_releases when: > supported_releases is undefined or item.release in supported_releases,27,39
openstack%2Ftripleo-common~master~If6d2b22e20c66e5ebdef952746c8aba7c2d54537,openstack/tripleo-common,master,If6d2b22e20c66e5ebdef952746c8aba7c2d54537,Dynamically set the number of Ansible forks.,MERGED,2020-01-17 21:56:02.000000000,2020-01-21 00:36:07.000000000,2020-01-21 00:34:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-17 21:56:02.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/87d45ac42c3346cf8c295bc0ae798ae4c489be7f', 'message': 'Dynamically set the number of Ansible forks.\n\nBecause our usage of Ansible is CPU-bound, the recommended\nvalue is 10 x CPU_CORES.\n\nChange-Id: If6d2b22e20c66e5ebdef952746c8aba7c2d54537\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,703200,87d45ac42c3346cf8c295bc0ae798ae4c489be7f,13,6,1,25877,,,0,"Dynamically set the number of Ansible forks.

Because our usage of Ansible is CPU-bound, the recommended
value is 10 x CPU_CORES.

Change-Id: If6d2b22e20c66e5ebdef952746c8aba7c2d54537
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/703200/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py']",2,87d45ac42c3346cf8c295bc0ae798ae4c489be7f,," @mock.patch(""multiprocessing.cpu_count"") def test_override_ansible_cfg_empty(self, cpu_count): cpu_count.return_value = 4 self.assertEqual('40', ansible_cfg.get('defaults', 'forks'))"," def test_override_ansible_cfg_empty(self): self.assertEqual('50', ansible_cfg.get('defaults', 'forks'))",6,4
openstack%2Fpython-troveclient~master~I9192857a690585cb3f365b15707dfa98e521e788,openstack/python-troveclient,master,I9192857a690585cb3f365b15707dfa98e521e788,Fix resize flavor for instance,MERGED,2020-01-20 21:29:38.000000000,2020-01-21 00:18:04.000000000,2020-01-21 00:16:26.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 21:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/ffa9ac1cf4ff9e0e5ed2ae81481176f4d7d72365', 'message': 'Fix resize flavor for instance\n\nChange-Id: I9192857a690585cb3f365b15707dfa98e521e788\nStory: #2007188\nTask: #38315\n'}, {'number': 2, 'created': '2020-01-20 22:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/49e329a5d74c75c1f953e62db28f28bff6f4afca', 'message': 'Fix resize flavor for instance\n\nChange-Id: I9192857a690585cb3f365b15707dfa98e521e788\nStory: #2007188\nTask: #38315\n'}, {'number': 3, 'created': '2020-01-20 22:15:22.000000000', 'files': ['troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/f859692cc3f3f9ad72546d6b94f991a1558d78af', 'message': 'Fix resize flavor for instance\n\nChange-Id: I9192857a690585cb3f365b15707dfa98e521e788\nStory: #2007188\nTask: #38315\n'}]",0,703507,f859692cc3f3f9ad72546d6b94f991a1558d78af,10,2,3,6732,,,0,"Fix resize flavor for instance

Change-Id: I9192857a690585cb3f365b15707dfa98e521e788
Story: #2007188
Task: #38315
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/07/703507/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",2,ffa9ac1cf4ff9e0e5ed2ae81481176f4d7d72365,fix-resize-flavor," mock_find.return_value = 'fake_instance_id' self.instance_client.resize_instance.assert_called_with( 'fake_instance_id', 'flavor_id')"," mock_find.side_effect = ['instance1', 'flavor_id'] self.instance_client.resize_instance.assert_called_with('instance1', 'flavor_id')",15,24
openstack%2Fdesignate~stable%2Fstein~If57d79e0ac70189f0e387830e5a2473eb472eb12,openstack/designate,stable/stein,If57d79e0ac70189f0e387830e5a2473eb472eb12,Use stable branch scenario job,MERGED,2020-01-20 15:32:55.000000000,2020-01-20 23:59:50.000000000,2020-01-20 23:56:50.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-01-20 15:32:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/9a2bac0db2f5a3b3d5f39a6747d545e5586a9c31', 'message': 'Use stable branch scenario job\n\nWe need to use neutron-tempest-plugin-designate-scenario from the\nmatching stable branch.\n\nChange-Id: If57d79e0ac70189f0e387830e5a2473eb472eb12\n'}]",0,703426,9a2bac0db2f5a3b3d5f39a6747d545e5586a9c31,11,2,1,13252,,,0,"Use stable branch scenario job

We need to use neutron-tempest-plugin-designate-scenario from the
matching stable branch.

Change-Id: If57d79e0ac70189f0e387830e5a2473eb472eb12
",git fetch https://review.opendev.org/openstack/designate refs/changes/26/703426/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9a2bac0db2f5a3b3d5f39a6747d545e5586a9c31,fix-scenario-job-stein, - neutron-tempest-plugin-designate-scenario-stein, - neutron-tempest-plugin-designate-scenario,1,1
openstack%2Ftempest~master~I64bd02b6ccef9e18d9b55f656fe3c224e1aba6d9,openstack/tempest,master,I64bd02b6ccef9e18d9b55f656fe3c224e1aba6d9,Add releasenote to tag the end of support for Queens,MERGED,2020-01-18 21:12:09.000000000,2020-01-20 23:21:39.000000000,2020-01-20 23:19:54.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-01-18 21:12:09.000000000', 'files': ['releasenotes/notes/intermediate-ussuri-release-8aebeca312a6718c.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd328a4f2165a60eb8b7585ec1af3145939383c3', 'message': 'Add releasenote to tag the end of support for Queens\n\nThis relesenote also mark end of support for Queens release\nin Tempest as Queens is in EM state[1].\n\n[1] https://releases.openstack.org/\n\nChange-Id: I64bd02b6ccef9e18d9b55f656fe3c224e1aba6d9\n'}]",0,703255,fd328a4f2165a60eb8b7585ec1af3145939383c3,10,8,1,8556,,,0,"Add releasenote to tag the end of support for Queens

This relesenote also mark end of support for Queens release
in Tempest as Queens is in EM state[1].

[1] https://releases.openstack.org/

Change-Id: I64bd02b6ccef9e18d9b55f656fe3c224e1aba6d9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/703255/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/intermediate-ussuri-release-8aebeca312a6718c.yaml'],1,fd328a4f2165a60eb8b7585ec1af3145939383c3,,"--- prelude: > This is an intermediate release during the Ussuri development cycle to mark the end of support for EM Queens in Tempest. After this release, Tempest will support below OpenStack Releases: * Train * Stein * Rocky Current development of Tempest is for OpenStack Ussuri development cycle. This is the last release of Tempest to officially support python2.7. ",,14,0
openstack%2Ftempest~master~I899d18ee33bd2b94d81f65b62a2b32f643a2d262,openstack/tempest,master,I899d18ee33bd2b94d81f65b62a2b32f643a2d262,Add release notes page for version 22.1.0,MERGED,2020-01-18 21:30:41.000000000,2020-01-20 23:19:07.000000000,2020-01-20 23:17:34.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-01-18 21:30:41.000000000', 'files': ['releasenotes/source/v22.1.0.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3553026a8e94c2813039dc3c709e38762c8d2e32', 'message': 'Add release notes page for version 22.1.0\n\nTempest 22.1.0 has been released in Train but releasenote\npage was not added for that.\n\nChange-Id: I899d18ee33bd2b94d81f65b62a2b32f643a2d262\n'}]",0,703257,3553026a8e94c2813039dc3c709e38762c8d2e32,10,7,1,8556,,,0,"Add release notes page for version 22.1.0

Tempest 22.1.0 has been released in Train but releasenote
page was not added for that.

Change-Id: I899d18ee33bd2b94d81f65b62a2b32f643a2d262
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/703257/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/v22.1.0.rst', 'releasenotes/source/index.rst']",2,3553026a8e94c2813039dc3c709e38762c8d2e32,, v22.1.0,,7,0
openstack%2Fironic~master~I78b0c62c2291b5a30a6d1f32140eca3a607bfac2,openstack/ironic,master,I78b0c62c2291b5a30a6d1f32140eca3a607bfac2,Fix incorrect ibmc_address parsing on Python 3.8,MERGED,2020-01-20 15:02:32.000000000,2020-01-20 23:09:07.000000000,2020-01-20 23:06:54.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 15:02:32.000000000', 'files': ['ironic/drivers/modules/ibmc/utils.py', 'releasenotes/notes/ibmc-38-169438974508f62e.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2bf981982cd14825d10568e5cd80f90cfe4f0aae', 'message': 'Fix incorrect ibmc_address parsing on Python 3.8\n\nThe urlsplit function has changed its semantics somewhere between\nPython 3.6 and 3.8, resulting in ibmc_address=host:port no longer\nbeing accepted. This change fixes it by taking a more dumb approach\nto handling the default schema.\n\nStory: #2007033\nTask: #37836\nChange-Id: I78b0c62c2291b5a30a6d1f32140eca3a607bfac2\n'}]",3,703411,2bf981982cd14825d10568e5cd80f90cfe4f0aae,15,7,1,10239,,,0,"Fix incorrect ibmc_address parsing on Python 3.8

The urlsplit function has changed its semantics somewhere between
Python 3.6 and 3.8, resulting in ibmc_address=host:port no longer
being accepted. This change fixes it by taking a more dumb approach
to handling the default schema.

Story: #2007033
Task: #37836
Change-Id: I78b0c62c2291b5a30a6d1f32140eca3a607bfac2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/703411/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ibmc/utils.py', 'releasenotes/notes/ibmc-38-169438974508f62e.yaml']",2,2bf981982cd14825d10568e5cd80f90cfe4f0aae,ibmc,--- fixes: - | Fixes incorrect parsing of ``ibmc_address`` with a port but without a schema in the ``ibmc`` hardware type on Python 3.8. ,,7,3
openstack%2Fpuppet-tripleo~stable%2Fstein~I6398871a0a8c235e626748206dda617dadb06895,openstack/puppet-tripleo,stable/stein,I6398871a0a8c235e626748206dda617dadb06895,Remove unused manila_share_nodes_count variable,MERGED,2020-01-15 16:22:58.000000000,2020-01-20 22:35:59.000000000,2020-01-20 22:35:59.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-15 16:22:58.000000000', 'files': ['manifests/profile/pacemaker/manila/share_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dc40cbb5fc75c624b5d25cbdf7a7bc6e10187882', 'message': 'Remove unused manila_share_nodes_count variable\n\nThe manila_share_nodes_count variable is defined, but not used\nanywhere. In some services this is used for the replica count,\nbut manila (similar to cinder) has a hard-coded replica count\nof 1 and therefore this variable is not needed.\n\nChange-Id: I6398871a0a8c235e626748206dda617dadb06895\n(cherry picked from commit 9ca6d5a1943e6be6f81b1a1dda94fdc071f043b6)\n'}]",0,702692,dc40cbb5fc75c624b5d25cbdf7a7bc6e10187882,15,6,1,6816,,,0,"Remove unused manila_share_nodes_count variable

The manila_share_nodes_count variable is defined, but not used
anywhere. In some services this is used for the replica count,
but manila (similar to cinder) has a hard-coded replica count
of 1 and therefore this variable is not needed.

Change-Id: I6398871a0a8c235e626748206dda617dadb06895
(cherry picked from commit 9ca6d5a1943e6be6f81b1a1dda94fdc071f043b6)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/92/702692/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/manila/share_bundle.pp'],1,dc40cbb5fc75c624b5d25cbdf7a7bc6e10187882,bug/1838971-stable/stein,," $manila_share_nodes_count = count(hiera('manila_share_short_node_names', [])) ",0,2
openstack%2Fpuppet-tripleo~stable%2Fstein~I6a06269f55a38071c34d2a95109d213fe7e2452c,openstack/puppet-tripleo,stable/stein,I6a06269f55a38071c34d2a95109d213fe7e2452c,HA: Honour all hiera override variables in mysql_bundle,MERGED,2020-01-17 07:51:11.000000000,2020-01-20 22:35:58.000000000,2020-01-20 22:35:58.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-17 07:51:11.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/450c23519480e10912677505c59ef7a9a1ea6b58', 'message': 'HA: Honour all hiera override variables in mysql_bundle\n\nDuring a major upgrade, upgrade tasks can rebuild a new pacemaker\ncluster by adding nodes one at a time. This is implemented by\nusing two special hiera variables mysql_node_names_override and\nmysql_short_node_names_override.\n\nMake sure the mysql_bundle puppet module uses both variables\nwhen such cluster rebuild is in progress.\n\nChange-Id: I6a06269f55a38071c34d2a95109d213fe7e2452c\nCloses-Bug: #1859961\nCo-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>\n(cherry picked from commit 0a64eebb6454483e823c4cf12c55832935c2319f)\n'}]",0,703029,450c23519480e10912677505c59ef7a9a1ea6b58,13,5,1,20172,,,0,"HA: Honour all hiera override variables in mysql_bundle

During a major upgrade, upgrade tasks can rebuild a new pacemaker
cluster by adding nodes one at a time. This is implemented by
using two special hiera variables mysql_node_names_override and
mysql_short_node_names_override.

Make sure the mysql_bundle puppet module uses both variables
when such cluster rebuild is in progress.

Change-Id: I6a06269f55a38071c34d2a95109d213fe7e2452c
Closes-Bug: #1859961
Co-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>
(cherry picked from commit 0a64eebb6454483e823c4cf12c55832935c2319f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/29/703029/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,450c23519480e10912677505c59ef7a9a1ea6b58,bug/1859961-stable/train-stable/stein," $galera_node_names_lookup = downcase(hiera('mysql_short_node_names_override', hiera('mysql_short_node_names', $::hostname)))"," $galera_node_names_lookup = downcase(hiera('mysql_short_node_names', $::hostname))",2,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ia41bf10ea65edd51cafee5416697628f972c693e,openstack/tripleo-heat-templates,stable/stein,Ia41bf10ea65edd51cafee5416697628f972c693e,clustercheck: use fqdn instead of ip for bind address,MERGED,2020-01-20 13:56:46.000000000,2020-01-20 22:35:56.000000000,2020-01-20 22:35:56.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 13:56:46.000000000', 'files': ['deployment/pacemaker/clustercheck-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/190adb2b9fdad6229503d1cbd40fd6a1792271b1', 'message': 'clustercheck: use fqdn instead of ip for bind address\n\nClustercheck service is accessible via port 9200 on the Mysql network\n(e.g. internal API). The bind address specified in the config currently\nuses IP address. This breaks the OpenStack healthcheck because curl\nrefuses to fetch a URI with unquoted IPv6 address.\n\nUse an fqdn as the bind address in the config to make sure the service\nis reachable no matter the type of network used.\n\nChange-Id: Ia41bf10ea65edd51cafee5416697628f972c693e\nCloses-Bug: #1860124\n(cherry picked from commit 643c4028b89e5ede856c85fbba83a8acdc39af20)\n'}]",0,703397,190adb2b9fdad6229503d1cbd40fd6a1792271b1,8,5,1,3153,,,0,"clustercheck: use fqdn instead of ip for bind address

Clustercheck service is accessible via port 9200 on the Mysql network
(e.g. internal API). The bind address specified in the config currently
uses IP address. This breaks the OpenStack healthcheck because curl
refuses to fetch a URI with unquoted IPv6 address.

Use an fqdn as the bind address in the config to make sure the service
is reachable no matter the type of network used.

Change-Id: Ia41bf10ea65edd51cafee5416697628f972c693e
Closes-Bug: #1860124
(cherry picked from commit 643c4028b89e5ede856c85fbba83a8acdc39af20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/703397/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/clustercheck-container-puppet.yaml'],1,190adb2b9fdad6229503d1cbd40fd6a1792271b1,bug/1860124-stable/stein," config_settings: map_merge: - get_attr: [MysqlPuppetBase, role_data, config_settings] - tripleo::profile::pacemaker::clustercheck::bind_address: str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]}"," config_settings: {get_attr: [MysqlPuppetBase, role_data, config_settings]}",9,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I35230c6dfd8bc7ea2c45f7d2e1e5b5f4316a9375,openstack/tripleo-heat-templates,stable/train,I35230c6dfd8bc7ea2c45f7d2e1e5b5f4316a9375,depends_on: add .service to avoid errors in logs,MERGED,2020-01-20 01:40:21.000000000,2020-01-20 22:35:54.000000000,2020-01-20 22:35:54.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-01-20 01:40:21.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b10f7e2f0d813db5184b194c20a6f983814ba1e2', 'message': 'depends_on: add .service to avoid errors in logs\n\nMake sure we depends on a systemd service by having the .service in the\nservice name that we depend on.\n\nOtherwise it leads to errors in /var/log/messages:\n  Failed to add dependency on openvswitch, ignoring: Invalid argument\n\nChange-Id: I35230c6dfd8bc7ea2c45f7d2e1e5b5f4316a9375\n(cherry picked from commit 5bfbcd32e044e2016065eab503063af507ff979a)\n'}]",0,703317,b10f7e2f0d813db5184b194c20a6f983814ba1e2,8,4,1,3153,,,0,"depends_on: add .service to avoid errors in logs

Make sure we depends on a systemd service by having the .service in the
service name that we depend on.

Otherwise it leads to errors in /var/log/messages:
  Failed to add dependency on openvswitch, ignoring: Invalid argument

Change-Id: I35230c6dfd8bc7ea2c45f7d2e1e5b5f4316a9375
(cherry picked from commit 5bfbcd32e044e2016065eab503063af507ff979a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/703317/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml']",6,b10f7e2f0d813db5184b194c20a6f983814ba1e2,wants-stable/train, - openvswitch.service, - openvswitch,6,6
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia41bf10ea65edd51cafee5416697628f972c693e,openstack/tripleo-heat-templates,stable/train,Ia41bf10ea65edd51cafee5416697628f972c693e,clustercheck: use fqdn instead of ip for bind address,MERGED,2020-01-20 13:56:30.000000000,2020-01-20 22:35:52.000000000,2020-01-20 22:35:52.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 13:56:30.000000000', 'files': ['deployment/pacemaker/clustercheck-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82e2f9deacd999bc87369361f4e20915e35d05fd', 'message': 'clustercheck: use fqdn instead of ip for bind address\n\nClustercheck service is accessible via port 9200 on the Mysql network\n(e.g. internal API). The bind address specified in the config currently\nuses IP address. This breaks the OpenStack healthcheck because curl\nrefuses to fetch a URI with unquoted IPv6 address.\n\nUse an fqdn as the bind address in the config to make sure the service\nis reachable no matter the type of network used.\n\nChange-Id: Ia41bf10ea65edd51cafee5416697628f972c693e\nCloses-Bug: #1860124\n(cherry picked from commit 643c4028b89e5ede856c85fbba83a8acdc39af20)\n'}]",0,703396,82e2f9deacd999bc87369361f4e20915e35d05fd,7,4,1,3153,,,0,"clustercheck: use fqdn instead of ip for bind address

Clustercheck service is accessible via port 9200 on the Mysql network
(e.g. internal API). The bind address specified in the config currently
uses IP address. This breaks the OpenStack healthcheck because curl
refuses to fetch a URI with unquoted IPv6 address.

Use an fqdn as the bind address in the config to make sure the service
is reachable no matter the type of network used.

Change-Id: Ia41bf10ea65edd51cafee5416697628f972c693e
Closes-Bug: #1860124
(cherry picked from commit 643c4028b89e5ede856c85fbba83a8acdc39af20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/703396/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/clustercheck-container-puppet.yaml'],1,82e2f9deacd999bc87369361f4e20915e35d05fd,bug/1860124-stable/train," config_settings: map_merge: - get_attr: [MysqlPuppetBase, role_data, config_settings] - tripleo::profile::pacemaker::clustercheck::bind_address: str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]}"," config_settings: {get_attr: [MysqlPuppetBase, role_data, config_settings]}",9,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9387885a57f8532b414485bc2919eb33aeadf52b,openstack/tripleo-heat-templates,stable/stein,I9387885a57f8532b414485bc2919eb33aeadf52b,Add 'never' to the tags set for the Ceph systemd units migration task,MERGED,2020-01-15 13:08:02.000000000,2020-01-20 22:35:51.000000000,2020-01-20 22:35:50.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-15 13:08:02.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/422074e451d5131ac32f383deff4efa5b0cfe48d', 'message': ""Add 'never' to the tags set for the Ceph systemd units migration task\n\nThe systemd units migration should only happen once, when explicitly\ncalled by tripleoclient using --tags ceph_systemd\n\nAlso renames the old ceph-systemd tag into ceph_systemd tag for\nconsistency and to prevent issues when passing the tag name as argument\nfrom the command line.\n\nChange-Id: I9387885a57f8532b414485bc2919eb33aeadf52b\nCloses-Bug: 1859009\n(cherry picked from commit 49c8f9d48ccc5696fb8924f296a88e36c57bc40d)\n""}]",0,702662,422074e451d5131ac32f383deff4efa5b0cfe48d,15,5,1,6796,,,0,"Add 'never' to the tags set for the Ceph systemd units migration task

The systemd units migration should only happen once, when explicitly
called by tripleoclient using --tags ceph_systemd

Also renames the old ceph-systemd tag into ceph_systemd tag for
consistency and to prevent issues when passing the tag name as argument
from the command line.

Change-Id: I9387885a57f8532b414485bc2919eb33aeadf52b
Closes-Bug: 1859009
(cherry picked from commit 49c8f9d48ccc5696fb8924f296a88e36c57bc40d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/702662/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,422074e451d5131ac32f383deff4efa5b0cfe48d,, tags: - never - ceph_systemd, tags: ceph-systemd,3,1
openstack%2Ftripleo-heat-templates~master~I3ba4eb6e3352e117450fc0130de3e547df93fe84,openstack/tripleo-heat-templates,master,I3ba4eb6e3352e117450fc0130de3e547df93fe84,Use ansible to install client packages,MERGED,2020-01-15 19:49:11.000000000,2020-01-20 22:35:45.000000000,2020-01-20 22:35:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-15 19:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa651649be9de32e7c2d10ebac31302608cfe0d0', 'message': 'Use ansible to install client packages\n\nThis change deprecates the puppet process to install the openstack\nservice clients and transitions to the ansible role for installing\nclient packages.\n\nStory: 2005984\nTask: 34437\n\nChange-Id: I3ba4eb6e3352e117450fc0130de3e547df93fe84\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-16 14:16:37.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/standalone.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'deployment/clients/openstack-clients-baremetal-ansible.yaml', 'deployment/deprecated/clients/openstack-clients-baremetal-puppet.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0b1055b10de371f672b6900b7d3163815b12655', 'message': 'Use ansible to install client packages\n\nThis change deprecates the puppet process to install the openstack\nservice clients and transitions to the ansible role for installing\nclient packages.\n\nStory: 2005984\nTask: 34437\n\nChange-Id: I3ba4eb6e3352e117450fc0130de3e547df93fe84\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,702738,c0b1055b10de371f672b6900b7d3163815b12655,12,4,2,7353,,,0,"Use ansible to install client packages

This change deprecates the puppet process to install the openstack
service clients and transitions to the ansible role for installing
client packages.

Story: 2005984
Task: 34437

Change-Id: I3ba4eb6e3352e117450fc0130de3e547df93fe84
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/702738/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/clients/openstack-clients-baremetal-ansible.yaml', 'deployment/deprecated/clients/openstack-clients-baremetal-puppet.yaml']",2,fa651649be9de32e7c2d10ebac31302608cfe0d0,THT2TA,,,40,0
openstack%2Ftripleo-ci~master~I347d261eb938a7712b628f4d7afc8601978cff6a,openstack/tripleo-ci,master,I347d261eb938a7712b628f4d7afc8601978cff6a,do not rename files in logs,ABANDONED,2020-01-20 18:15:33.000000000,2020-01-20 22:34:49.000000000,,[],"[{'number': 1, 'created': '2020-01-20 18:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/72bdb706a85be5035f401d84713e929fd0e95dd3', 'message': 'do not rename files in logs\n\nrelated-change: https://review.opendev.org/#/c/701284\n\nRelated-Bug: #1858830\nChange-Id: I347d261eb938a7712b628f4d7afc8601978cff6a\n'}, {'number': 2, 'created': '2020-01-20 20:41:57.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ce4d7777ee3238c9133ffd43fb17cf089c5d5cc', 'message': 'do not rename files in logs\n\nrelated-change: https://review.opendev.org/#/c/701284\n\nRelated-Bug: #1858830\nChange-Id: I347d261eb938a7712b628f4d7afc8601978cff6a\n'}]",0,703475,2ce4d7777ee3238c9133ffd43fb17cf089c5d5cc,3,0,2,9592,,,0,"do not rename files in logs

related-change: https://review.opendev.org/#/c/701284

Related-Bug: #1858830
Change-Id: I347d261eb938a7712b628f4d7afc8601978cff6a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/75/703475/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,72bdb706a85be5035f401d84713e929fd0e95dd3,,artcl_txt_rename: false,artcl_txt_rename: true,1,1
openstack%2Fnetworking-ovn~master~Ifaed77bbe6c36a63c18e568ec1d6ec5450dc8e03,openstack/networking-ovn,master,Ifaed77bbe6c36a63c18e568ec1d6ec5450dc8e03,Cache OvnProviderHelper object in OvnProviderDriver,ABANDONED,2019-12-16 11:17:07.000000000,2020-01-20 22:02:44.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-16 11:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/95a72ce41484e14f8f3f4f2186e9387483fc2730', 'message': ""Cache OvnProviderHelper object in OvnProviderDriver\n\nEvery time when a request comes from Octavia API and\nis passed down to provider driver Octavia creates new\ninstance of Provider driver. This is good approach\nwhile an API layer don't want to wait for previous API\nactions to be end first, if centralized driver approach\nwill be used.\n\nOn different angle we have OvnProviderDriver and its\narchitecutre that was not created to work in dynamic\nthreads environment, but has centralized design.\nActual architecture looks like:\n\nOvnProviderDriver object starts OvnPrividerHelper object\nthat manipulates OVN Databases. In OvnProviderHelper there is\na Queue.Queue object that stores actions to be executed\non databases with proper order. In addition OvnProviderHelper\nstarts dedicated thread that picks up actions from Queue\nand execute those on OVN NorthBound database.\n\nThat solution does not scale while using it with Octavia\napproach. There is a problem with thread leaking, because\nin OvnProviderHelper we don't stop runner thread and we thread\nit as daemon.\n\nIn addition on each API call the OVN Driver and dependent\ncomponents objects are created, this is big overhead.\n\nTo mitigate those architectural issues there is a possibility\nto cache created OVNProviderHelper object and use one\ninstance of it for one Octavia API worker process.\n\nThis change must be cherry-picked to stable branches.\n\nAs next steps OVNProvider driver should be decomposed to:\n   * Provider Agent as described in [1]\n   * Provider Driver without Queue mechanism\n\n[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html#provider-agents\n\nChange-Id: Ifaed77bbe6c36a63c18e568ec1d6ec5450dc8e03\nCloses-Bug: 1856550\n""}, {'number': 2, 'created': '2019-12-16 11:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e1f32bad236ec056e8faf8994c998a1bf850d6c4', 'message': ""Cache OvnProviderHelper object in OvnProviderDriver\n\nEvery time when a request comes from Octavia API and\nis passed down to provider driver Octavia creates new\ninstance of Provider driver. This is good approach\nwhile an API layer don't want to wait for previous API\nactions to be end first, if centralized driver approach\nwill be used.\n\nOn different angle we have OvnProviderDriver and its\narchitecutre that was not created to work in dynamic\nthreads environment, but has centralized design.\nActual architecture looks like:\n\nOvnProviderDriver object starts OvnPrividerHelper object\nthat manipulates OVN Databases. In OvnProviderHelper there is\na Queue.Queue object that stores actions to be executed\non databases with proper order. In addition OvnProviderHelper\nstarts dedicated thread that picks up actions from Queue\nand execute those on OVN NorthBound database.\n\nThat solution does not scale while using it with Octavia\napproach. There is a problem with thread leaking, because\nin OvnProviderHelper we don't stop runner thread and we thread\nit as daemon.\n\nIn addition on each API call the OVN Driver and dependent\ncomponents objects are created, this is big overhead.\n\nTo mitigate those architectural issues there is a possibility\nto cache created OVNProviderHelper object and use one\ninstance of it for one Octavia API worker process.\n\nThis change must be cherry-picked to stable branches.\n\nAs next steps OVNProvider driver should be decomposed to:\n   * Provider Agent as described in [1]\n   * Provider Driver without Queue mechanism\n\n[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html#provider-agents\n\nChange-Id: Ifaed77bbe6c36a63c18e568ec1d6ec5450dc8e03\nCloses-Bug: 1856550\n""}, {'number': 3, 'created': '2019-12-17 09:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7540e04f8e2556ac28440908750cf85126c23e0f', 'message': ""Cache OvnProviderHelper object in OvnProviderDriver\n\nEvery time when a request comes from Octavia API and\nis passed down to provider driver Octavia creates new\ninstance of Provider driver. This is good approach\nwhile an API layer don't want to wait for previous API\nactions to be end first, if centralized driver approach\nwill be used.\n\nOn different angle we have OvnProviderDriver and its\narchitecutre that was not created to work in dynamic\nthreads environment, but has centralized design.\nActual architecture looks like:\n\nOvnProviderDriver object starts OvnPrividerHelper object\nthat manipulates OVN Databases. In OvnProviderHelper there is\na Queue.Queue object that stores actions to be executed\non databases with proper order. In addition OvnProviderHelper\nstarts dedicated thread that picks up actions from Queue\nand execute those on OVN NorthBound database.\n\nThat solution does not scale while using it with Octavia\napproach. There is a problem with thread leaking, because\nin OvnProviderHelper we don't stop runner thread and we thread\nit as daemon.\n\nIn addition on each API call the OVN Driver and dependent\ncomponents objects are created, this is big overhead.\n\nTo mitigate those architectural issues there is a possibility\nto cache created OVNProviderHelper object and use one\ninstance of it for one Octavia API worker process.\n\nThis change must be cherry-picked to stable branches.\n\nAs next steps OVNProvider driver should be decomposed to:\n   * Provider Agent as described in [1]\n   * Provider Driver without Queue mechanism\n\n[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html#provider-agents\n\nChange-Id: Ifaed77bbe6c36a63c18e568ec1d6ec5450dc8e03\nCloses-Bug: 1856550\n""}, {'number': 4, 'created': '2020-01-09 13:15:15.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/65bc2cbb084c755f3a4fddcfdc0e9e71efbae557', 'message': ""Cache OvnProviderHelper object in OvnProviderDriver\n\nEvery time when a request comes from Octavia API and\nis passed down to provider driver Octavia creates new\ninstance of Provider driver. This is good approach\nwhile an API layer don't want to wait for previous API\nactions to be end first, if centralized driver approach\nwill be used.\n\nOn different angle we have OvnProviderDriver and its\narchitecutre that was not created to work in dynamic\nthreads environment, but has centralized design.\nActual architecture looks like:\n\nOvnProviderDriver object starts OvnPrividerHelper object\nthat manipulates OVN Databases. In OvnProviderHelper there is\na Queue.Queue object that stores actions to be executed\non databases with proper order. In addition OvnProviderHelper\nstarts dedicated thread that picks up actions from Queue\nand execute those on OVN NorthBound database.\n\nThat solution does not scale while using it with Octavia\napproach. There is a problem with thread leaking, because\nin OvnProviderHelper we don't stop runner thread and we thread\nit as daemon.\n\nIn addition on each API call the OVN Driver and dependent\ncomponents objects are created, this is big overhead.\n\nTo mitigate those architectural issues there is a possibility\nto cache created OVNProviderHelper object and use one\ninstance of it for one Octavia API worker process.\n\nThis change must be cherry-picked to stable branches.\n\nAs next steps OVNProvider driver should be decomposed to:\n   * Provider Agent as described in [1]\n   * Provider Driver without Queue mechanism\n\n[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html#provider-agents\n\nChange-Id: Ifaed77bbe6c36a63c18e568ec1d6ec5450dc8e03\nCloses-Bug: 1856550\n""}]",8,699188,65bc2cbb084c755f3a4fddcfdc0e9e71efbae557,31,7,4,24791,,,0,"Cache OvnProviderHelper object in OvnProviderDriver

Every time when a request comes from Octavia API and
is passed down to provider driver Octavia creates new
instance of Provider driver. This is good approach
while an API layer don't want to wait for previous API
actions to be end first, if centralized driver approach
will be used.

On different angle we have OvnProviderDriver and its
architecutre that was not created to work in dynamic
threads environment, but has centralized design.
Actual architecture looks like:

OvnProviderDriver object starts OvnPrividerHelper object
that manipulates OVN Databases. In OvnProviderHelper there is
a Queue.Queue object that stores actions to be executed
on databases with proper order. In addition OvnProviderHelper
starts dedicated thread that picks up actions from Queue
and execute those on OVN NorthBound database.

That solution does not scale while using it with Octavia
approach. There is a problem with thread leaking, because
in OvnProviderHelper we don't stop runner thread and we thread
it as daemon.

In addition on each API call the OVN Driver and dependent
components objects are created, this is big overhead.

To mitigate those architectural issues there is a possibility
to cache created OVNProviderHelper object and use one
instance of it for one Octavia API worker process.

This change must be cherry-picked to stable branches.

As next steps OVNProvider driver should be decomposed to:
   * Provider Agent as described in [1]
   * Provider Driver without Queue mechanism

[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html#provider-agents

Change-Id: Ifaed77bbe6c36a63c18e568ec1d6ec5450dc8e03
Closes-Bug: 1856550
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/88/699188/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,95a72ce41484e14f8f3f4f2186e9387483fc2730,bug/1856550, _ovn_helper = None if not OvnProviderDriver._ovn_helper: OvnProviderDriver._ovn_helper = OvnProviderHelper(), self._ovn_helper = OvnProviderHelper(),4,1
openstack%2Fnetworking-ovn~master~I2ee13b75713e7538d1b4f70207a90a95315eb914,openstack/networking-ovn,master,I2ee13b75713e7538d1b4f70207a90a95315eb914,Add support for multiple L4 protocols withing same LB,ABANDONED,2019-07-17 13:33:36.000000000,2020-01-20 22:00:49.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-17 13:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/235ef86564ae16b112d97113b4d0eaa58fa67757', 'message': 'VIP Add support for double listeners on the same LB\n\nWe want to have double listeners on the same LB.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 2, 'created': '2019-07-19 15:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ab205b44d54fe3dde93b8009c0708316dc542a51', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nLoad_Balancer row should be selected is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 3, 'created': '2019-07-22 12:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/19e8a76e34de1cf1adb20246e6513e6385e5a43c', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nLoad_Balancer row should be selected is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 4, 'created': '2019-10-07 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2c56448caac305c3ae6a4d14a14a7db7c954ef1b', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 5, 'created': '2019-10-09 11:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/91eced20a691d1bac73de78f4401cb1838dbab63', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 6, 'created': '2019-10-09 14:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/267d0218222075d2234d667eb5ebabe8b6bd32ab', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 7, 'created': '2019-10-10 09:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2de478f1f023cacd0796a35f9f0497a8b294d197', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 8, 'created': '2019-10-10 15:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7ae302a40c630aa05500f519a17a78701b06f19a', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 9, 'created': '2019-10-14 13:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/416697e7ee934822a63879d082712bb5a1fd3506', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 10, 'created': '2019-10-18 11:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a7453d3d311164bb4491d7d6115983fe58784788', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 11, 'created': '2019-10-18 14:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/54d04428721eeddabeca8ed4033c687621c17962', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 12, 'created': '2019-11-19 10:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2b5a67650d725c4026b784eb8fb23c8a85725171', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 13, 'created': '2019-11-19 12:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6126511feb835f0f0343962cb114e5c08dfdfafc', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 14, 'created': '2019-11-19 14:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3551044016af79adc15e9645f9030d30fc2d134e', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 15, 'created': '2019-11-19 15:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ca13e23acc838fe1da4e629573202363d9bb216f', 'message': 'WIP Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN we should define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 16, 'created': '2019-11-20 13:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2cdee303936e01186664b682b287beccb56fd301', 'message': 'Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN now we define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 17, 'created': '2019-11-25 12:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/798c8a69ec144d460c2d1397e9f6c0dd0cbe5179', 'message': 'Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN now we define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 18, 'created': '2019-11-25 12:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/485860ff9caf32896873ef293c4b240e8659e960', 'message': 'Add support for double listeners on the same LB\n\nIn case Octavia loadbalancer having two or more listeners\ndefined we should support it in OVN side.\n\nIn OVN now we define separately Load_Balancer rows\nper each Octavia Loadbalancer Listener. For now we support\nonly UDP and TCP listeners. The selection of which\nwhich Load_Balancer row should be used is done by protocol key.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 19, 'created': '2019-11-25 12:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7efe74a8289e2635f8b0d1c61dfb79c30707f35e', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 20, 'created': '2019-11-25 12:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b892994a428de56f85f6b317c07940c1a8549f48', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 21, 'created': '2019-11-25 13:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a7885d8ec59e09a207e217b58b08fbd3aa6c87e4', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 22, 'created': '2019-11-26 10:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c3ea76ef8651dc777f835c67ef13aa3824070f1a', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 23, 'created': '2019-11-26 15:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/926ef4f38d662779d1eca5668ed3147b3f7ffa3a', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 24, 'created': '2019-12-10 12:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b0d76c3d81e51d1a8e5b7437a679e70b31e08ee6', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 25, 'created': '2019-12-10 12:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4a80719a776bfe2a65954e0d9ddd4a464a8dd727', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 26, 'created': '2019-12-10 15:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aa0e06e66d4b4c2802ab112ec85f4e23fda58b6a', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nPartial-Bug: #1789157\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 27, 'created': '2019-12-10 15:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/034119f0faf3e0b957c4252630b236daf41db96b', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nPartial-Bug: #1789157\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 28, 'created': '2019-12-12 15:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/40d3ff4bf54162654419cd15f26c55b5efc38e62', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nPartial-Bug: #1789157\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 29, 'created': '2019-12-17 12:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5605b8a6687331b482c746e30f400c7140f4a73b', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nPartial-Bug: #1789157\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 30, 'created': '2019-12-17 12:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d73e19754cf1135b141e12d7e5f024ac316c82c5', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nPartial-Bug: #1789157\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}, {'number': 31, 'created': '2020-01-09 13:15:23.000000000', 'files': ['releasenotes/notes/ovn-octavia-provider-driver-multiple-protocols-4a93e184b8f374c7.yaml', 'networking_ovn/octavia/ovn_driver.py', 'doc/source/contributor/design/loadbalancer.rst', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ad6e58d6969b2898d2d4ba4d2f9888f4e36171ca', 'message': 'Add support for multiple L4 protocols withing same LB\n\nThis change introduces a way of providing multiple listeners and pools\non the same Load Balancer, but with different L4 protocols.\n\nIn case there are more than one unique protocol defined in Octavia pools\nor Octavia listeners the OVN driver now adds another Load_Balancer row\nper protocol, but with the same name. The selection of which OVN\nLoad_Balancer should be used is done by a protocol key.\n\nThis change also adds possibility to expose two listeners on the same\nport, but with different L4 protocol. The common use-case is providing\na DNS service that listens both on UDP and TCP sockets.\n\nPartial-Bug: #1789157\nChange-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914\n'}]",52,671293,ad6e58d6969b2898d2d4ba4d2f9888f4e36171ca,90,7,31,24791,,,0,"Add support for multiple L4 protocols withing same LB

This change introduces a way of providing multiple listeners and pools
on the same Load Balancer, but with different L4 protocols.

In case there are more than one unique protocol defined in Octavia pools
or Octavia listeners the OVN driver now adds another Load_Balancer row
per protocol, but with the same name. The selection of which OVN
Load_Balancer should be used is done by a protocol key.

This change also adds possibility to expose two listeners on the same
port, but with different L4 protocol. The common use-case is providing
a DNS service that listens both on UDP and TCP sockets.

Partial-Bug: #1789157
Change-Id: I2ee13b75713e7538d1b4f70207a90a95315eb914
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/93/671293/26 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,235ef86564ae16b112d97113b4d0eaa58fa67757,bug/1789157,"OVN_NATIVE_DEFAULT_PROTOCOL = constants.PROTOCOL_TCP def _find_ovn_lb(self, lb_id, protocol=None): lbs = self.ovn_nbdb_api.db_find_rows('Load_Balancer', ('name', '=', lb_id)).execute() if not protocol: return lbs for lb in lbs: if lb.protocol[0].upper() == protocol.upper(): return lb # TODO(mjozefcz): Add protocol info to this exception. raise idlutils.RowNotFound(table='Load_Balancer', col='name', match=lb_id) ovn_lb = self._find_ovn_lb(lb_id, protocol=listener_protocol) def lb_create(self, loadbalancer, protocol=None): if loadbalancer.get('vip_port_id'): # In case we don't have vip_network_id port = network_driver.neutron_client.show_port( loadbalancer['vip_port_id'])['port'] elif loadbalancer.get('vip_network_id') and loadbalancer.get('vip_address'): # TODO(mjozefcz): Fix this below... ports = network_driver.neutron_client.list_ports( network_id=loadbalancer['vip_network_id']) for p in ports['ports']: for ip in p['fixed_ips']: if ip['ip_address'] == loadbalancer['vip_address']: port = p break # If protocol set make sure its lowercase protocol = protocol.lower() if protocol else None 'Load_Balancer', name=loadbalancer['id'], protocol=protocol, LB_EXT_IDS_VIP_PORT_ID_KEY: loadbalancer.get('vip_port_id') or port['id'], ovn_lb = self._find_ovn_lb( loadbalancer['id'], protocol=protocol) ovn_lb = ovn_lb if protocol else ovn_lb[0] ovn_lb, network_id=port['network_id'], ls_name = ovn_utils.ovn_name(port['network_id']) ovn_lbs = None try: ovn_lbs = self._find_ovn_lb(loadbalancer['id']) if not ovn_lbs: # TODO(mjozefcz): move it to other func? for ovn_lb in ovn_lbs: status = self._lb_delete(loadbalancer, ovn_lb, status) def _lb_delete(self, loadbalancer, ovn_lb, status): """"""Helper"""""" commands = [] if loadbalancer['cascade']: status['members'] = [] status['pools'] = [] status['listeners'] = [] # Delete all pools for key, value in ovn_lb.external_ids.items(): if key.startswith(LB_EXT_IDS_POOL_PREFIX): pool_id = key.split('_')[1] # Delete all members in the pool if value and len(value.split(',')) > 0: for mem_info in value.split(','): status['members'].append({ 'id': mem_info.split('_')[1], 'provisioning_status': constants.DELETED}) status['pools'].append( {""id"": pool_id, ""provisioning_status"": constants.DELETED}) if key.startswith(LB_EXT_IDS_LISTENER_PREFIX): status['listeners'].append({ 'id': key.split('_')[1], 'provisioning_status': constants.DELETED, 'operating_status': constants.OFFLINE}) # Clear the status dict of any key having [] value # Python 3.6 doesnt allow deleting an element in a # dict while iterating over it. So first get a list of keys. # https://cito.github.io/blog/never-iterate-a-changing-dict/ status = {key: value for key, value in status.items() if value} ls_refs = ovn_lb.external_ids.get(LB_EXT_IDS_LS_REFS_KEY, {}) if ls_refs: try: ls_refs = jsonutils.loads(ls_refs) except ValueError: ls_refs = {} for ls_name in ls_refs.keys(): ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) if ovn_ls: commands.append( self.ovn_nbdb_api.ls_lb_del(ovn_ls.uuid, ovn_lb.uuid) ) # Delete LB from all Networks the LB is indirectly associated for ls in self._find_lb_in_table(ovn_lb, 'Logical_Switch'): commands.append( self.ovn_nbdb_api.ls_lb_del(ls.uuid, ovn_lb.uuid, if_exists=True)) lr_ref = ovn_lb.external_ids.get(LB_EXT_IDS_LR_REF_KEY, {}) if lr_ref: for lr in self.ovn_nbdb_api.tables[ 'Logical_Router'].rows.values(): if lr.name == lr_ref: commands.append(self.ovn_nbdb_api.lr_lb_del( lr.uuid, ovn_lb.uuid)) break # Delete LB from all Routers the LB is indirectly associated for lr in self._find_lb_in_table(ovn_lb, 'Logical_Router'): commands.append( self.ovn_nbdb_api.lr_lb_del(lr.uuid, ovn_lb.uuid, if_exists=True)) # Save the port ID before deleting the LoadBalancer port_id = ovn_lb.external_ids[LB_EXT_IDS_VIP_PORT_ID_KEY] commands.append(self.ovn_nbdb_api.lb_del(ovn_lb.uuid)) self._execute_commands(commands) # We need to delete the vip port but not fail LB delete if port # delete fails. Can happen when Port deleted manually by user. self.delete_vip_port(port_id) return status ovn_lbs = self._find_ovn_lb( listener['loadbalancer_id']) required_protocol = [ovn_lb for ovn_lb in ovn_lbs if listener['protocol'] in ovn_lb.protocol] no_protocol = [ovn_lb for ovn_lb in ovn_lbs if not ovn_lb.protocol] if not required_protocol and not no_protocol: # NOTE(mjozefcz): Looks like loadbalancer with given protocol # doesn't exist. Try to add it with required protocol # by copy the existing one data. lb_info = {'id': listener['loadbalancer_id'], 'protocol': listener['protocol'], 'vip_address': ovn_lbs[0].external_ids.get(LB_EXT_IDS_VIP_KEY), 'vip_port_id': ovn_lbs[0].external_ids.get(LB_EXT_IDS_VIP_PORT_ID_KEY), 'admin_state_up': listener['admin_state_up']} self.lb_create(lb_info, protocol=listener['protocol']) if required_protocol: # In case LB with needed protocol set ovn_lb = required_protocol[0] elif no_protocol: # In case LB without protocol set ovn_lb = no_protocol[0] else: # Looks like we've just added new LB ovn_lb = self._find_ovn_lb( listener['loadbalancer_id'], protocol=listener['protocol']) ovn_lb = self._find_ovn_lb( listener['loadbalancer_id'], protocol=listener['protocol']) ovn_lb = self._find_ovn_lb( pool['loadbalancer_id'], pool['protocol']) ovn_lb = self._find_ovn_lb( pool['loadbalancer_id'], pool['protocol']) ovn_lb = self._find_ovn_lb( pool['loadbalancer_id'], protocol=pool['protocol']) 'protocol': pool.protocol, 'protocol': pool.protocol, # NOTE(mjozefcz): Verify this method. 'protocol': new_pool.protocol, def listener_create(self, listener): self._check_for_supported_protocols(listener.protocol) # Add listener then. 'protocol_port': listener.protocol_port, 'protocol': listener.protocol}"," def _find_ovn_lb(self, lb_id): return self.ovn_nbdb_api.lookup('Load_Balancer', lb_id) ovn_lb = self._find_ovn_lb(lb_id) def lb_create(self, loadbalancer): # Get the port id of the vip and store it in the external_ids. # This is required to delete the port when the loadbalancer is # deleted. ports = network_driver.neutron_client.list_ports( network_id=loadbalancer['vip_network_id']) for p in ports['ports']: for ip in p['fixed_ips']: if ip['ip_address'] == loadbalancer['vip_address']: port = p break 'Load_Balancer', name=loadbalancer['id'], protocol='tcp', LB_EXT_IDS_VIP_PORT_ID_KEY: port['id'], ovn_lb = self._find_ovn_lb(loadbalancer['id']) ovn_lb, network_id=loadbalancer['vip_network_id'], ls_name = ovn_utils.ovn_name(loadbalancer['vip_network_id']) commands = [] ovn_lb = None try: ovn_lb = self._find_ovn_lb(loadbalancer['id']) if not ovn_lb: if loadbalancer['cascade']: status['members'] = [] status['pools'] = [] status['listeners'] = [] # Delete all pools for key, value in ovn_lb.external_ids.items(): if key.startswith(LB_EXT_IDS_POOL_PREFIX): pool_id = key.split('_')[1] # Delete all members in the pool if value and len(value.split(',')) > 0: for mem_info in value.split(','): status['members'].append({ 'id': mem_info.split('_')[1], 'provisioning_status': constants.DELETED}) status['pools'].append( {""id"": pool_id, ""provisioning_status"": constants.DELETED}) if key.startswith(LB_EXT_IDS_LISTENER_PREFIX): status['listeners'].append({ 'id': key.split('_')[1], 'provisioning_status': constants.DELETED, 'operating_status': constants.OFFLINE}) # Clear the status dict of any key having [] value # Python 3.6 doesnt allow deleting an element in a # dict while iterating over it. So first get a list of keys. # https://cito.github.io/blog/never-iterate-a-changing-dict/ status = {key: value for key, value in status.items() if value} ls_refs = ovn_lb.external_ids.get(LB_EXT_IDS_LS_REFS_KEY, {}) if ls_refs: try: ls_refs = jsonutils.loads(ls_refs) except ValueError: ls_refs = {} # Delete the VIP Port self.delete_vip_port(ovn_lb.external_ids[ LB_EXT_IDS_VIP_PORT_ID_KEY]) for ls_name in ls_refs.keys(): ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) if ovn_ls: commands.append( self.ovn_nbdb_api.ls_lb_del(ovn_ls.uuid, ovn_lb.uuid) ) # Delete LB from all Networks the LB is indirectly associated for ls in self._find_lb_in_table(ovn_lb, 'Logical_Switch'): commands.append( self.ovn_nbdb_api.ls_lb_del(ls.uuid, ovn_lb.uuid, if_exists=True)) lr_ref = ovn_lb.external_ids.get(LB_EXT_IDS_LR_REF_KEY, {}) if lr_ref: for lr in self.ovn_nbdb_api.tables[ 'Logical_Router'].rows.values(): if lr.name == lr_ref: commands.append(self.ovn_nbdb_api.lr_lb_del( lr.uuid, ovn_lb.uuid)) break # Delete LB from all Routers the LB is indirectly associated for lr in self._find_lb_in_table(ovn_lb, 'Logical_Router'): commands.append( self.ovn_nbdb_api.lr_lb_del(lr.uuid, ovn_lb.uuid, if_exists=True)) # Save the port ID before deleting the LoadBalancer port_id = ovn_lb.external_ids[LB_EXT_IDS_VIP_PORT_ID_KEY] commands.append(self.ovn_nbdb_api.lb_del(ovn_lb.uuid)) self._execute_commands(commands) # We need to delete the vip port but not fail LB delete if port # delete fails. Can happen when Port deleted manually by user. network_driver = get_network_driver() network_driver.neutron_client.delete_port(port_id) ovn_lb = self._find_ovn_lb(listener['loadbalancer_id']) ovn_lb = self._find_ovn_lb(listener['loadbalancer_id']) ovn_lb = self._find_ovn_lb(pool['loadbalancer_id']) ovn_lb = self._find_ovn_lb(pool['loadbalancer_id']) ovn_lb = self._find_ovn_lb(pool['loadbalancer_id']) # Listener def _check_listener_protocol(self, listener): self._check_for_supported_protocols(listener.protocol) if not self._ovn_helper.check_lb_protocol( listener.loadbalancer_id, listener.protocol): msg = (_('The loadbalancer %(lb)s does not support %(proto)s ' 'protocol') % { 'lb': listener.loadbalancer_id, 'proto': listener.protocol}) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) def listener_create(self, listener): self._check_listener_protocol(listener) 'protocol_port': listener.protocol_port}",161,113
openstack%2Fnetworking-ovn~master~I44f6de4c9a2b1c6054417dbb7f647a6af8339660,openstack/networking-ovn,master,I44f6de4c9a2b1c6054417dbb7f647a6af8339660,Don't fail in case subnet or Logical Switch not found,ABANDONED,2019-12-12 15:43:42.000000000,2020-01-20 22:00:42.000000000,,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-12-12 15:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e1a23427575489f88fcf4278cd89fd6b4e4a03fe', 'message': ""[WIP] Don't fail in case subnet or Logical Switch not found\n\nIn case of subnet not found all the related actions could\nnot be taken. This patch prevent this situation to happen.\nThis could be possible that LB is going to be deleted after\nthe subnet (for example remove of the LoadBalancer in Error\nstate).\n\nThe same could happend with Logical Switch. Sometimes the\nmember network is delated in meantime and then we tries to\nthe members. It means we would need to remove LB to LS and\nLB to LR associations, but it could not happend because of\nmissing LS. In those terms now we just pass the flow\nand remove the LS to LR counters in external_ids.\n\nChange-Id: I44f6de4c9a2b1c6054417dbb7f647a6af8339660\nCloses-Bug: <TODO>\n""}, {'number': 2, 'created': '2019-12-19 12:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/23a2e3e3a0cdb5a44c010cef87b3872197ceea62', 'message': ""Don't fail in case subnet or Logical Switch not found\n\nIn case of subnet not found all the related actions could\nnot be taken. This patch prevent this situation to happen.\nThis could be possible that LB is going to be deleted after\nthe subnet (for example remove of the LoadBalancer in Error\nstate).\n\nThe same could happend with Logical Switch. Sometimes the\nmember network is delated in meantime and then we tries to\nthe members. It means we would need to remove LB to LS and\nLB to LR associations, but it could not happend because of\nmissing LS. In those terms now we just pass the flow\nand remove the LS to LR counters in external_ids.\n\nChange-Id: I44f6de4c9a2b1c6054417dbb7f647a6af8339660\nCloses-Bug: 1857009\n""}, {'number': 3, 'created': '2020-01-08 08:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/824abc92b9601792eb30dd0c4892556ed4090835', 'message': ""Don't fail in case subnet or Logical Switch not found\n\nIn case of subnet not found all the related actions could\nnot be taken. This patch prevent this situation to happen.\nThis could be possible that LB is going to be deleted after\nthe subnet (for example remove of the LoadBalancer in Error\nstate).\n\nThe same could happend with Logical Switch. Sometimes the\nmember network is delated in meantime and then we tries to\nthe members. It means we would need to remove LB to LS and\nLB to LR associations, but it could not happend because of\nmissing LS. In those terms now we just pass the flow\nand remove the LS to LR counters in external_ids.\n\nChange-Id: I44f6de4c9a2b1c6054417dbb7f647a6af8339660\nCloses-Bug: 1857009\n""}, {'number': 4, 'created': '2020-01-09 13:15:46.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e817d96478efc1a9bf14f4df9cd0460587d60845', 'message': ""Don't fail in case subnet or Logical Switch not found\n\nIn case of subnet not found all the related actions could\nnot be taken. This patch prevent this situation to happen.\nThis could be possible that LB is going to be deleted after\nthe subnet (for example remove of the LoadBalancer in Error\nstate).\n\nThe same could happend with Logical Switch. Sometimes the\nmember network is delated in meantime and then we tries to\nthe members. It means we would need to remove LB to LS and\nLB to LR associations, but it could not happend because of\nmissing LS. In those terms now we just pass the flow\nand remove the LS to LR counters in external_ids.\n\nChange-Id: I44f6de4c9a2b1c6054417dbb7f647a6af8339660\nCloses-Bug: 1857009\n""}]",5,698745,e817d96478efc1a9bf14f4df9cd0460587d60845,17,5,4,24791,,,0,"Don't fail in case subnet or Logical Switch not found

In case of subnet not found all the related actions could
not be taken. This patch prevent this situation to happen.
This could be possible that LB is going to be deleted after
the subnet (for example remove of the LoadBalancer in Error
state).

The same could happend with Logical Switch. Sometimes the
member network is delated in meantime and then we tries to
the members. It means we would need to remove LB to LS and
LB to LR associations, but it could not happend because of
missing LS. In those terms now we just pass the flow
and remove the LS to LR counters in external_ids.

Change-Id: I44f6de4c9a2b1c6054417dbb7f647a6af8339660
Closes-Bug: 1857009
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/45/698745/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,e1a23427575489f88fcf4278cd89fd6b4e4a03fe,bug/1857009," try: subnet = network_driver.get_subnet(subnet_id) ls_name = ovn_utils.ovn_name(subnet.network_id) except n_exc.NotFound: LOG.exception('Subnet not found while trying to ' 'fetch its data.') ls_name = None ovn_ls = None if ls_name: try: ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) except idlutils.RowNotFound: LOG.warning(""LogicalSwitch %s could not be found. "", ovn_ls.uuid) ovn_ls = None if associate and ls_name: if ovn_ls: commands.append(self.ovn_nbdb_api.ls_lb_add( ovn_ls.uuid, ovn_lb.uuid, may_exist=True)) if ovn_ls: commands.append(self.ovn_nbdb_api.ls_lb_del( ovn_ls.uuid, ovn_lb.uuid, if_exists=True)) ls = [] for port in router.ports: if port.gateway_chassis: continue for sid in port.external_ids.get( ovn_const.OVN_SUBNET_EXT_IDS_KEY, '').split(' '): try: ls.append(ovn_utils.ovn_name( netdriver.get_subnet(sid).network_id)) except n_exc.NotFound: LOG.exception('Subnet not found while trying to ' 'fetch its data.') return ls ""delete LB from it"", ls_name)"," subnet = network_driver.get_subnet(subnet_id) ls_name = ovn_utils.ovn_name(subnet.network_id) ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) if not ovn_ls: return commands if associate: commands.append(self.ovn_nbdb_api.ls_lb_add( ovn_ls.uuid, ovn_lb.uuid, may_exist=True)) commands.append(self.ovn_nbdb_api.ls_lb_del( ovn_ls.uuid, ovn_lb.uuid, if_exists=True)) # NOTE(mjozefcz): We skip here ports connected to # provider networks (with gateway_chassis set). try: return [ovn_utils.ovn_name(netdriver.get_subnet(sid).network_id) for port in router.ports for sid in port.external_ids.get( ovn_const.OVN_SUBNET_EXT_IDS_KEY, '').split(' ') if not port.gateway_chassis] except Exception: LOG.exception('Unknown exception occurred') return [] ""delete LB from it"", ovn_ls.uuid)",37,23
openstack%2Fhorizon~master~I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb,openstack/horizon,master,I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb,Remove flavor disk size ckeck when create instance from volume,MERGED,2019-09-06 08:04:37.000000000,2020-01-20 22:00:08.000000000,2020-01-20 21:58:03.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27386}, {'_account_id': 27399}, {'_account_id': 29313}, {'_account_id': 30562}]","[{'number': 1, 'created': '2019-09-06 08:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3afa20191870f8298b2e935304b5f03858d7b9a2', 'message': ""Delete flavor disk size ckeck when create instance from volume\n\nNo longer check flavor disk size larger or equal than image's mix disk when\nyou create instance from volume, because it's already checked when creating\nvolume.\n\nChange-Id: I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb\nCloses-Bug: #1563529\n""}, {'number': 2, 'created': '2019-09-18 06:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8411f899964866a3e64b513cb1c9e3d50bd838df', 'message': ""Delete flavor disk size ckeck when create instance from volume\n\nNo longer check flavor disk size larger or equal than image's mix disk when\nyou create instance from volume, because it's already checked when creating\nvolume.\n\nChange-Id: I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb\nCloses-Bug: #1563529\n""}, {'number': 3, 'created': '2019-09-24 00:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dd11cf9dd2dc92c435229acb6a4c435f1aac9ae9', 'message': ""Delete flavor disk size ckeck when create instance from volume\n\nNo longer check flavor disk size larger or equal than image's min disk\nwhen creating instance from volume, because it's enough.\n\nChange-Id: I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb\nCloses-Bug: #1563529\n""}, {'number': 4, 'created': '2019-09-24 02:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/62626e74bb9efe914fa262c243be346c75d56750', 'message': ""Delete flavor disk size ckeck when create instance from volume\n\nNo longer check flavor disk size larger or equal than image's min disk\nwhen creating instance from volume, because it's enough.\n\nChange-Id: I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb\nCloses-Bug: #1563529\n""}, {'number': 5, 'created': '2019-12-09 11:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c925cb00fb247a19d41567bcf2094d0392f365f6', 'message': ""Delete flavor disk size check when create instance from volume\n\nNo longer check flavor disk size larger or equal than image's min disk\nwhen creating instance from volume, because it's enough.\n\nChange-Id: I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb\nCloses-Bug: #1563529\n""}, {'number': 6, 'created': '2020-01-06 07:04:35.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/flavor/flavor.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d7e3eac0f99277237ce9bb400083bbee76889b5', 'message': ""Remove flavor disk size ckeck when create instance from volume\n\nNo longer check flavor disk size larger or equal than image's mix disk when\nyou create instance from volume, because it's already checked when creating\nvolume.\n\nChange-Id: I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb\nCloses-Bug: #1563529\n""}]",7,680603,5d7e3eac0f99277237ce9bb400083bbee76889b5,33,7,6,30562,,,0,"Remove flavor disk size ckeck when create instance from volume

No longer check flavor disk size larger or equal than image's mix disk when
you create instance from volume, because it's already checked when creating
volume.

Change-Id: I8e4fc074aafe7e880ceb7ab06d8ef565709beeeb
Closes-Bug: #1563529
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/680603/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/flavor/flavor.controller.js'],1,3afa20191870f8298b2e935304b5f03858d7b9a2,bug/1563529, source.min_disk = 0;, source.min_disk = source.volume_image_metadata.min_disk;,1,1
openstack%2Fmanila-ui~master~I7bc44dc95273ed01b2724e1dd706e0c44e5abdaf,openstack/manila-ui,master,I7bc44dc95273ed01b2724e1dd706e0c44e5abdaf,Imported Translations from Zanata,MERGED,2020-01-17 07:47:30.000000000,2020-01-20 21:50:06.000000000,2020-01-20 21:47:21.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-17 07:47:30.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/5d9de224a0b7248ac8c26f54c943191d0913b3d1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7bc44dc95273ed01b2724e1dd706e0c44e5abdaf\n'}]",0,703028,5d9de224a0b7248ac8c26f54c943191d0913b3d1,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7bc44dc95273ed01b2724e1dd706e0c44e5abdaf
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/28/703028/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/de/LC_MESSAGES/django.po']",2,5d9de224a0b7248ac8c26f54c943191d0913b3d1,zanata/translations,"# Andreas Jaeger <jaegerandi@gmail.com>, 2020. #zanata""POT-Creation-Date: 2020-01-15 11:00+0000\n""""PO-Revision-Date: 2020-01-16 04:04+0000\n""msgid ""Unable to retrieve share quotas."" msgstr ""Freigaben-Kontingente können nicht abgerufen werden."" ","""POT-Creation-Date: 2019-09-16 12:05+0000\n""""PO-Revision-Date: 2019-09-16 09:21+0000\n""",8,7
openstack%2Fmanila~master~I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979,openstack/manila,master,I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979,Fix over-quota exception of snapshot creation,MERGED,2020-01-15 09:54:03.000000000,2020-01-20 21:46:30.000000000,2020-01-16 00:48:30.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 18816}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-01-15 09:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d588380810d8c752a86ecce447fc7d99ae89f160', 'message': 'Fix over-quota exception of snapshot creation\n\nReport consumed snapshot gigabytes instead of share gigabytes\n\nChange-Id: I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979\nCloses-Bug: #1859775\n'}, {'number': 2, 'created': '2020-01-15 12:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d8b5181d26018c4cecdc548c496ecfa870893538', 'message': 'Fix over-quota exception of snapshot creation\n\nReport consumed snapshot gigabytes instead of share gigabytes\n\nChange-Id: I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979\nCloses-Bug: #1859775\n'}, {'number': 3, 'created': '2020-01-15 12:35:31.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/share/api.py', 'releasenotes/notes/bug-1859775-snapshot-over-quota-exception-bb6691612af03ddf.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/5c858bc528bc47929b3519ccc6148c76bde734f0', 'message': 'Fix over-quota exception of snapshot creation\n\nReport consumed snapshot gigabytes instead of share gigabytes\n\nChange-Id: I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979\nCloses-Bug: #1859775\nCo-authored-by: Maurice Escher <maurice.escher@sap.com>\n'}]",0,702618,5c858bc528bc47929b3519ccc6148c76bde734f0,32,12,3,18816,,,0,"Fix over-quota exception of snapshot creation

Report consumed snapshot gigabytes instead of share gigabytes

Change-Id: I917d3c68fc2014d4bdeefbf7c473ebc2bf6d8979
Closes-Bug: #1859775
Co-authored-by: Maurice Escher <maurice.escher@sap.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/18/702618/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py']",2,d588380810d8c752a86ecce447fc7d99ae89f160,bug/1859775," LOG.warning(msg, { 's_pid': context.project_id, 's_size': size, 'd_consumed': _consumed('snapshot_gigabytes'), 'd_quota': quotas['snapshot_gigabytes']})"," LOG.warning(msg, {'s_pid': context.project_id, 's_size': size, 'd_consumed': _consumed('gigabytes'), 'd_quota': quotas['snapshot_gigabytes']})",6,5
openstack%2Fopenstacksdk~master~Ibbaf36b89d33117c26c3997d2a120fd6c7871e66,openstack/openstacksdk,master,Ibbaf36b89d33117c26c3997d2a120fd6c7871e66,Add commands for new ansible modules job,ABANDONED,2020-01-19 22:09:38.000000000,2020-01-20 21:42:08.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-19 22:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d37164fbe6518caf4e880c8136ff8c57995d3304', 'message': 'Add commands for new ansible modules job\n\nChange-Id: Ibbaf36b89d33117c26c3997d2a120fd6c7871e66\n'}, {'number': 2, 'created': '2020-01-19 23:00:55.000000000', 'files': ['openstack/tests/ansible/run-collection.yml', 'extras/run-ansible-tests-collection.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a766753c65821d7a0f8fc1595776fcf9a778e9a6', 'message': 'Add commands for new ansible modules job\n\nChange-Id: Ibbaf36b89d33117c26c3997d2a120fd6c7871e66\n'}]",0,703307,a766753c65821d7a0f8fc1595776fcf9a778e9a6,5,2,2,10969,,,0,"Add commands for new ansible modules job

Change-Id: Ibbaf36b89d33117c26c3997d2a120fd6c7871e66
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/07/703307/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/ansible/run-collection.yml', 'extras/run-ansible-tests-collection.sh']",2,d37164fbe6518caf4e880c8136ff8c57995d3304,newjob,"#!/bin/bash ############################################################################# # run-ansible-tests.sh # # Script used to setup a tox environment for running Ansible. This is meant # to be called by tox (via tox.ini). To run the Ansible tests, use: # # tox -e ansible [TAG ...] # or # tox -e ansible -- -c cloudX [TAG ...] # or to use the development version of Ansible: # tox -e ansible -- -d -c cloudX [TAG ...] # # USAGE: # run-ansible-tests.sh -e ENVDIR [-d] [-c CLOUD] [TAG ...] # # PARAMETERS: # -d Use Ansible source repo development branch. # -e ENVDIR Directory of the tox environment to use for testing. # -c CLOUD Name of the cloud to use for testing. # Defaults to ""devstack-admin"". # [TAG ...] Optional list of space-separated tags to control which # modules are tested. # # EXAMPLES: # # Run all Ansible tests # run-ansible-tests.sh -e ansible # # # Run auth, keypair, and network tests against cloudX # run-ansible-tests.sh -e ansible -c cloudX auth keypair network ############################################################################# CLOUD=""devstack-admin"" ENVDIR= USE_DEV=0 while getopts ""c:de:"" opt do case $opt in d) USE_DEV=1 ;; c) CLOUD=${OPTARG} ;; e) ENVDIR=${OPTARG} ;; ?) echo ""Invalid option: -${OPTARG}"" exit 1;; esac done if [ -z ${ENVDIR} ] then echo ""Option -e is required"" exit 1 fi shift $((OPTIND-1)) TAGS=$( echo ""$*"" | tr ' ' , ) # We need to source the current tox environment so that Ansible will # be setup for the correct python environment. source $ENVDIR/bin/activate if [ ${USE_DEV} -eq 1 ] then if [ -d ${ENVDIR}/ansible ] then echo ""Using existing Ansible source repo"" else echo ""Installing Ansible source repo at $ENVDIR"" git clone --recursive https://github.com/ansible/ansible.git ${ENVDIR}/ansible fi source $ENVDIR/ansible/hacking/env-setup fi # Run the shade Ansible tests tag_opt="""" if [ ! -z ${TAGS} ] then tag_opt=""--tags ${TAGS}"" fi # Loop through all ANSIBLE_VAR_ environment variables to allow passing the further for var in $(env | grep -e '^ANSIBLE_VAR_'); do VAR_NAME=${var%%=*} # split variable name from value ANSIBLE_VAR_NAME=${VAR_NAME#ANSIBLE_VAR_} # cut ANSIBLE_VAR_ prefix from variable name ANSIBLE_VAR_NAME=${ANSIBLE_VAR_NAME,,} # lowercase ansible variable ANSIBLE_VAR_VALUE=${!VAR_NAME} # Get the variable value ANSIBLE_VARS+=""${ANSIBLE_VAR_NAME}=${ANSIBLE_VAR_VALUE} "" # concat variables done # Until we have a module that lets us determine the image we want from # within a playbook, we have to find the image here and pass it in. # We use the openstack client instead of nova client since it can use clouds.yaml. IMAGE=`openstack --os-cloud=${CLOUD} image list -f value -c Name | grep cirros | grep -v -e ramdisk -e kernel` if [ $? -ne 0 ] then echo ""Failed to find Cirros image"" exit 1 fi ansible-playbook -vvv ./openstack/tests/ansible/run-collection.yml -e ""cloud=${CLOUD} image=${IMAGE} ${ANSIBLE_VARS}"" ${tag_opt} ",,128,0
openstack%2Fkolla~master~Ibe82479d5225961758a96f763d9bb674731aab23,openstack/kolla,master,Ibe82479d5225961758a96f763d9bb674731aab23,Debian: ceph-osd wants smartmontools from backports,MERGED,2020-01-20 09:38:25.000000000,2020-01-20 21:42:06.000000000,2020-01-20 21:37:53.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-20 09:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/691341410f7793e25e6ce15a92f3974e7d7512e0', 'message': 'Debian: ceph-osd wants smartmontools from backports\n\nChange-Id: Ibe82479d5225961758a96f763d9bb674731aab23\n'}, {'number': 2, 'created': '2020-01-20 11:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf69a5e20468acf19c78fb668b67bcae814a7b53', 'message': 'Debian: ceph-osd wants smartmontools from backports\n\nChange-Id: Ibe82479d5225961758a96f763d9bb674731aab23\n'}, {'number': 3, 'created': '2020-01-20 11:36:45.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ef1f639ef82a7a3184bb4f1e8eaedcbbaf2b7c88', 'message': 'Debian: ceph-osd wants smartmontools from backports\n\nChange-Id: Ibe82479d5225961758a96f763d9bb674731aab23\n'}]",3,703349,ef1f639ef82a7a3184bb4f1e8eaedcbbaf2b7c88,26,6,3,24072,,,0,"Debian: ceph-osd wants smartmontools from backports

Change-Id: Ibe82479d5225961758a96f763d9bb674731aab23
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/703349/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,691341410f7793e25e6ce15a92f3974e7d7512e0,, # ceph-osd requires smartmontools from backports Package: smartmontools Pin: version 7.* Pin-Priority: 1000,,5,0
openstack%2Fopenstacksdk~master~I33ff15a22d7bc7777c6da400905bcd7ad371ca0c,openstack/openstacksdk,master,I33ff15a22d7bc7777c6da400905bcd7ad371ca0c,Fail a job for ansible modules with message,ABANDONED,2020-01-19 22:48:25.000000000,2020-01-20 21:41:38.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-19 22:48:25.000000000', 'files': ['extras/run-ansible-tests.sh'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b98ee2d4522b583f5f5c95b0cd9157358c0e9cac', 'message': 'Fail a job for ansible modules with message\n\nIn order prevent merging patches to Openstack Ansible modules\nvia Github fail the CI job that runs there with appropriate\nmessage about movign the code.\n\nChange-Id: I33ff15a22d7bc7777c6da400905bcd7ad371ca0c\n'}]",0,703310,b98ee2d4522b583f5f5c95b0cd9157358c0e9cac,5,2,1,10969,,,0,"Fail a job for ansible modules with message

In order prevent merging patches to Openstack Ansible modules
via Github fail the CI job that runs there with appropriate
message about movign the code.

Change-Id: I33ff15a22d7bc7777c6da400905bcd7ad371ca0c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/10/703310/1 && git format-patch -1 --stdout FETCH_HEAD,['extras/run-ansible-tests.sh'],1,b98ee2d4522b583f5f5c95b0cd9157358c0e9cac,failjob,"echo "" Thanks for submitting patch for Openstack Ansible modules! We moved Openstack Ansible modules to Openstack repositories. Next patches should be submitted not with Ansible Github but with Openstack Gerrit: https://review.opendev.org/#/q/project:openstack/ansible-collections-openstack Please submit your code there from now. Thanks for your contribution and sorry for inconvienience. "" exit 1"," CLOUD=""devstack-admin"" ENVDIR= USE_DEV=0 while getopts ""c:de:"" opt do case $opt in d) USE_DEV=1 ;; c) CLOUD=${OPTARG} ;; e) ENVDIR=${OPTARG} ;; ?) echo ""Invalid option: -${OPTARG}"" exit 1;; esac done if [ -z ${ENVDIR} ] then echo ""Option -e is required"" exit 1 fi shift $((OPTIND-1)) TAGS=$( echo ""$*"" | tr ' ' , ) # We need to source the current tox environment so that Ansible will # be setup for the correct python environment. source $ENVDIR/bin/activate if [ ${USE_DEV} -eq 1 ] then if [ -d ${ENVDIR}/ansible ] then echo ""Using existing Ansible source repo"" else echo ""Installing Ansible source repo at $ENVDIR"" git clone --recursive https://github.com/ansible/ansible.git ${ENVDIR}/ansible fi source $ENVDIR/ansible/hacking/env-setup fi # Run the shade Ansible tests tag_opt="""" if [ ! -z ${TAGS} ] then tag_opt=""--tags ${TAGS}"" fi # Loop through all ANSIBLE_VAR_ environment variables to allow passing the further for var in $(env | grep -e '^ANSIBLE_VAR_'); do VAR_NAME=${var%%=*} # split variable name from value ANSIBLE_VAR_NAME=${VAR_NAME#ANSIBLE_VAR_} # cut ANSIBLE_VAR_ prefix from variable name ANSIBLE_VAR_NAME=${ANSIBLE_VAR_NAME,,} # lowercase ansible variable ANSIBLE_VAR_VALUE=${!VAR_NAME} # Get the variable value ANSIBLE_VARS+=""${ANSIBLE_VAR_NAME}=${ANSIBLE_VAR_VALUE} "" # concat variables done # Until we have a module that lets us determine the image we want from # within a playbook, we have to find the image here and pass it in. # We use the openstack client instead of nova client since it can use clouds.yaml. IMAGE=`openstack --os-cloud=${CLOUD} image list -f value -c Name | grep cirros | grep -v -e ramdisk -e kernel` if [ $? -ne 0 ] then echo ""Failed to find Cirros image"" exit 1 fi ansible-playbook -vvv ./openstack/tests/ansible/run.yml -e ""cloud=${CLOUD} image=${IMAGE} ${ANSIBLE_VARS}"" ${tag_opt}",9,68
openstack%2Fkolla~master~Iccccc91b0a44f92bcbb2442638a93e7624da112b,openstack/kolla,master,Iccccc91b0a44f92bcbb2442638a93e7624da112b,Make tools bash compatible,MERGED,2020-01-20 14:00:03.000000000,2020-01-20 21:40:45.000000000,2020-01-20 21:37:50.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-20 14:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d48d6be41324400099daadf0ee1c8070a84809be', 'message': 'Make tools py3 compatible\n\nChange-Id: Iccccc91b0a44f92bcbb2442638a93e7624da112b\n'}, {'number': 2, 'created': '2020-01-20 15:15:26.000000000', 'files': ['tools/cleanup-images', 'tools/validate-all-dockerfiles.sh', 'tools/validate-binary-build.sh', 'tools/validate-all-yaml.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e21a142111f75ef52df1c7774a4fae808ebe2087', 'message': 'Make tools bash compatible\n\nChange-Id: Iccccc91b0a44f92bcbb2442638a93e7624da112b\n'}]",1,703398,e21a142111f75ef52df1c7774a4fae808ebe2087,12,4,2,30523,,,0,"Make tools bash compatible

Change-Id: Iccccc91b0a44f92bcbb2442638a93e7624da112b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/703398/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/cleanup-images', 'tools/validate-all-yaml.sh']",2,d48d6be41324400099daadf0ee1c8070a84809be,,"REAL_PATH=$(python -c ""import os,sys;print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys;print os.path.realpath('$0')"")",2,2
openstack%2Fkolla-ansible~stable%2Ftrain~I09844e0807a93d9edd8d014276b0174d77a993a0,openstack/kolla-ansible,stable/train,I09844e0807a93d9edd8d014276b0174d77a993a0,Fix fernet-node-sync error catching,MERGED,2020-01-10 08:55:02.000000000,2020-01-20 21:39:27.000000000,2020-01-20 21:37:52.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-10 08:55:02.000000000', 'files': ['ansible/roles/keystone/templates/fernet-node-sync.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff26dc747a5bed9e91f7ec9bcf5c81f31259f6cb', 'message': 'Fix fernet-node-sync error catching\n\nChange-Id: I09844e0807a93d9edd8d014276b0174d77a993a0\n'}]",0,701905,ff26dc747a5bed9e91f7ec9bcf5c81f31259f6cb,11,4,1,30491,,,0,"Fix fernet-node-sync error catching

Change-Id: I09844e0807a93d9edd8d014276b0174d77a993a0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/701905/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/fernet-node-sync.sh.j2'],1,ff26dc747a5bed9e91f7ec9bcf5c81f31259f6cb,fetch_fernet_fail-stable/train,set -o errexit set -o pipefail ,,3,0
openstack%2Fkuryr-kubernetes~master~Ifcebf7660861738128606342dc6dab00186878b5,openstack/kuryr-kubernetes,master,Ifcebf7660861738128606342dc6dab00186878b5,Avoid KeyError when deleting NPs,MERGED,2020-01-17 10:49:35.000000000,2020-01-20 21:25:41.000000000,2020-01-20 18:47:44.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24791}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-01-17 10:49:35.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/453e0d8f35af23f42ef5f72f9f401c5be47488c3', 'message': 'Avoid KeyError when deleting NPs\n\nIt seems that when an namespace deletion fails for some reason and\nit is retried, if there are other NPs created, some of the unused\nports can be reused and moved from one sg_key to another, therefore\nraising the KeyError on the retry.\n\nThis patch ensure that if the sg_key was already deleted, the retry\nskips it instead of failing\n\nChange-Id: Ifcebf7660861738128606342dc6dab00186878b5\nCloses-Bug: 1860106\n'}]",0,703054,453e0d8f35af23f42ef5f72f9f401c5be47488c3,16,7,1,23567,,,0,"Avoid KeyError when deleting NPs

It seems that when an namespace deletion fails for some reason and
it is retried, if there are other NPs created, some of the unused
ports can be reused and moved from one sg_key to another, therefore
raising the KeyError on the retry.

This patch ensure that if the sg_key was already deleted, the retry
skips it instead of failing

Change-Id: Ifcebf7660861738128606342dc6dab00186878b5
Closes-Bug: 1860106
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/54/703054/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,453e0d8f35af23f42ef5f72f9f401c5be47488c3,1860106," try: del self._available_ports_pools[pool_key][sg_key] except KeyError: LOG.debug(""SG already removed from the pool. Ports "" ""already re-used, no need to change their "" ""associated SGs."") continue", del self._available_ports_pools[pool_key][sg_key],7,1
openstack%2Fproject-config~master~Ie32b5ec48da643aa248867c28cee520923c9e607,openstack/project-config,master,Ie32b5ec48da643aa248867c28cee520923c9e607,Pass ZUUL_CACHE_NO_HARDLINKS to prevent hardlinking,ABANDONED,2016-02-23 15:33:45.000000000,2020-01-20 21:19:27.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-02-23 15:33:45.000000000', 'files': ['zuul/openstack_functions.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f2aaf4d35edc4b748af9b1158f4402753ac78a92', 'message': 'Pass ZUUL_CACHE_NO_HARDLINKS to prevent hardlinking\n\nWhen zuul-cloner clones from a git cache that is on the same filesystem,\ngit clone hardlinks git objects.  That feature is going to be made\noptional instead of hardcoded by introducing --cache-no-hardlinks option\nand the ZUUL_CACHE_NO_HARDLINKS=1 variable.\n\nMake Zuul to set ZUUL_CACHE_NO_HARDLINKS=1 so we do not have to update\nall Jenkins job and repositories to pass --cache-no-hardlinks.  The env\nvariable is a noop for the currently deployed Zuul version.\n\nReference:\nIb8796f9dc5ccfeac4a3c9b3d30629c7db0f84739\n\nChange-Id: Ie32b5ec48da643aa248867c28cee520923c9e607\n'}]",0,283637,f2aaf4d35edc4b748af9b1158f4402753ac78a92,3,1,1,2475,,,0,"Pass ZUUL_CACHE_NO_HARDLINKS to prevent hardlinking

When zuul-cloner clones from a git cache that is on the same filesystem,
git clone hardlinks git objects.  That feature is going to be made
optional instead of hardcoded by introducing --cache-no-hardlinks option
and the ZUUL_CACHE_NO_HARDLINKS=1 variable.

Make Zuul to set ZUUL_CACHE_NO_HARDLINKS=1 so we do not have to update
all Jenkins job and repositories to pass --cache-no-hardlinks.  The env
variable is a noop for the currently deployed Zuul version.

Reference:
Ib8796f9dc5ccfeac4a3c9b3d30629c7db0f84739

Change-Id: Ie32b5ec48da643aa248867c28cee520923c9e607
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/283637/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/openstack_functions.py'],1,f2aaf4d35edc4b748af9b1158f4402753ac78a92,, # Instruct zuul-cloner to never hardlink when git cloning from mirror params['ZUUL_CACHE_NO_HARDLINKS'] = 1,,2,0
openstack%2Floci~master~I789e7cec12c1c58d3606aebad05186c6b772f0f2,openstack/loci,master,I789e7cec12c1c58d3606aebad05186c6b772f0f2,test,ABANDONED,2020-01-20 17:09:20.000000000,2020-01-20 21:14:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-01-20 17:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8f057b3b4098d96e7b46439c4fee340a994b92be', 'message': 'test\n\nChange-Id: I789e7cec12c1c58d3606aebad05186c6b772f0f2\n'}, {'number': 2, 'created': '2020-01-20 17:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6c023f54ec5c14f8f916e1761f0bcaa338fee96f', 'message': 'test\n\nChange-Id: I789e7cec12c1c58d3606aebad05186c6b772f0f2\n'}, {'number': 3, 'created': '2020-01-20 18:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4d08006491556996e94473e96eb9bd5b08dc9f3f', 'message': 'test\n\nChange-Id: I789e7cec12c1c58d3606aebad05186c6b772f0f2\n'}, {'number': 4, 'created': '2020-01-20 18:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/1af036c2793a1dbef8031b84ca7557ed68ea3613', 'message': 'test\n\nChange-Id: I789e7cec12c1c58d3606aebad05186c6b772f0f2\n'}, {'number': 5, 'created': '2020-01-20 19:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/d81b8ae8a1a28b2a85d5e65d812707d0ba0a605a', 'message': 'test\n\nChange-Id: I789e7cec12c1c58d3606aebad05186c6b772f0f2\n'}, {'number': 6, 'created': '2020-01-20 19:48:27.000000000', 'files': ['playbooks/vars.yaml', 'playbooks/push.yaml', 'playbooks/loci-builder.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/1b0bc432de2eac05db56233b65c371ee0cb5efbf', 'message': 'test\n\nChange-Id: I789e7cec12c1c58d3606aebad05186c6b772f0f2\n'}]",0,703455,1b0bc432de2eac05db56233b65c371ee0cb5efbf,9,1,6,8863,,,0,"test

Change-Id: I789e7cec12c1c58d3606aebad05186c6b772f0f2
",git fetch https://review.opendev.org/openstack/loci refs/changes/55/703455/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/placement.yaml', 'playbooks/loci-builder.yaml']",2,8f057b3b4098d96e7b46439c4fee340a994b92be,, when: > supported_releases is undefined or item.release in supported_releases when: > supported_releases is undefined or item.release in supported_releases when: > supported_releases is undefined or item.release in supported_releases when: > supported_releases is undefined or item.release in supported_releases,,13,0
openstack%2Fopenstacksdk~master~I4260c0bdfcef087e81f690f0a19d2fc7883d1070,openstack/openstacksdk,master,I4260c0bdfcef087e81f690f0a19d2fc7883d1070,Create a new job for testing collections,ABANDONED,2020-01-19 23:34:04.000000000,2020-01-20 21:02:48.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-01-19 23:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3752166b0de87a8442860d59fd7d18a3b58cf0ab', 'message': 'Create a new job for testing collections\n\nChange-Id: I4260c0bdfcef087e81f690f0a19d2fc7883d1070\n'}, {'number': 2, 'created': '2020-01-20 00:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a046d3503185ea15d1d2662c6b77735a0bee8a3d', 'message': 'Create a new job for testing collections\n\nChange-Id: I4260c0bdfcef087e81f690f0a19d2fc7883d1070\n'}, {'number': 3, 'created': '2020-01-20 01:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/674d8300bf7005479ec1b5437659b2d089e02f4e', 'message': 'Create a new job for testing collections\n\nChange-Id: I4260c0bdfcef087e81f690f0a19d2fc7883d1070\n'}, {'number': 4, 'created': '2020-01-20 03:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4b115c72b5fd2ace92c026cf7259fa4886219ce4', 'message': 'Create a new job for testing collections\n\nChange-Id: I4260c0bdfcef087e81f690f0a19d2fc7883d1070\n'}, {'number': 5, 'created': '2020-01-20 06:51:44.000000000', 'files': ['openstack/tests/ansible/roles/server/tasks/main.yml', 'openstack/tests/ansible/roles/security_group/tasks/main.yml', 'openstack/tests/ansible/roles/object/tasks/main.yml', '.zuul.yaml', 'openstack/tests/ansible/roles/port/tasks/main.yml', 'openstack/tests/ansible/roles/volume/tasks/main.yml', 'openstack/tests/ansible/roles/image/tasks/main.yml', 'openstack/tests/ansible/roles/keystone_role/tasks/main.yml', 'openstack/tests/ansible/roles/auth/tasks/main.yml', 'openstack/tests/ansible/run-collection.yml', 'extras/run-ansible-tests-collection.sh', 'openstack/tests/ansible/roles/keypair/tasks/main.yml', 'openstack/tests/ansible/roles/network/tasks/main.yml', 'openstack/tests/ansible/roles/user_group/tasks/main.yml', 'openstack/tests/ansible/roles/keystone_domain/tasks/main.yml', 'openstack/tests/ansible/roles/nova_flavor/tasks/main.yml', 'openstack/tests/ansible/roles/client_config/tasks/main.yml', 'openstack/tests/ansible/roles/group/tasks/main.yml', 'openstack/tests/ansible/roles/user/tasks/main.yml', 'openstack/tests/ansible/roles/subnet/tasks/main.yml', 'tox.ini', 'openstack/tests/ansible/roles/router/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f6cba6093a7bbb81708c9b40ce2ef9123885bc5', 'message': 'Create a new job for testing collections\n\nChange-Id: I4260c0bdfcef087e81f690f0a19d2fc7883d1070\n'}]",0,703311,2f6cba6093a7bbb81708c9b40ce2ef9123885bc5,12,3,5,10969,,,0,"Create a new job for testing collections

Change-Id: I4260c0bdfcef087e81f690f0a19d2fc7883d1070
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/11/703311/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/ansible/run-collection.yml', 'extras/run-ansible-tests-collection.sh', '.zuul.yaml', 'tox.ini']",4,3752166b0de87a8442860d59fd7d18a3b58cf0ab,separate,[testenv:ansible-collection] # Need to pass some env vars for the Ansible playbooks passenv = HOME USER ANSIBLE_VAR_* deps = {[testenv]deps} ansible commands = {toxinidir}/extras/run-ansible-tests-collection.sh -e {envdir} {posargs} ,,154,0
openstack%2Fbifrost~master~Ie5f62655248c40885fdcd6fa87180a6952f145fc,openstack/bifrost,master,Ie5f62655248c40885fdcd6fa87180a6952f145fc,"Use upper-constraints for ironicclient, sushy and DIB",MERGED,2020-01-17 12:47:12.000000000,2020-01-20 20:57:00.000000000,2020-01-20 20:55:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-17 12:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/230b1a8bd754899fc1a97fa5035f0ea46b891718', 'message': 'Use upper-constraints for ironicclient and sushy\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n'}, {'number': 2, 'created': '2020-01-17 14:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e56c819430c9565285a664baf04873340669ca27', 'message': 'Use upper-constraints for ironicclient, sushy and DIB\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nTo make it work with packages that are constrained themselves,\nthis patch splits the source-based installation into two steps:\ninstalling requirements (constrained) and installing the project\nitself (unconstrained).\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n'}, {'number': 3, 'created': '2020-01-17 15:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ae3794b8d30ec3cb27d6b6fe10a6d7c1910e171f', 'message': 'Use upper-constraints for ironicclient, sushy and DIB\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nTo make it work with packages that are constrained themselves,\nthis patch splits the source-based installation into two steps:\ninstalling requirements (constrained) and installing the project\nitself (unconstrained).\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n'}, {'number': 4, 'created': '2020-01-17 15:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a9e38d4e00ad59bdecbd186ec4bd773b22dcd5e5', 'message': 'Use upper-constraints for ironicclient, sushy and DIB\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nTo make it work with packages that are constrained themselves,\nthis patch splits the source-based installation into two steps:\ninstalling requirements (constrained) and installing the project\nitself (unconstrained).\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n'}, {'number': 5, 'created': '2020-01-17 16:25:31.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/pip_install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/564de9d264bf41bc1fa66cc82ba8fa132cd0f63f', 'message': 'Use upper-constraints for ironicclient, sushy and DIB\n\nThe goal of upper-constraints is to avoid breakages with versions\nknown not to work. Lack of upper-constraints for ironicclient is\ncurrently breaking stable branches by pulling packages that are\nnot Python 2 compatible.\n\nIf we need recent versions of ironicclient, we should use source\ninstallation instead.\n\nTo make it work with packages that are constrained themselves,\nthis patch splits the source-based installation into two steps:\ninstalling requirements (constrained) and installing the project\nitself (unconstrained).\n\nChange-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc\n'}]",1,703069,564de9d264bf41bc1fa66cc82ba8fa132cd0f63f,24,4,5,10239,,,0,"Use upper-constraints for ironicclient, sushy and DIB

The goal of upper-constraints is to avoid breakages with versions
known not to work. Lack of upper-constraints for ironicclient is
currently breaking stable branches by pulling packages that are
not Python 2 compatible.

If we need recent versions of ironicclient, we should use source
installation instead.

To make it work with packages that are constrained themselves,
this patch splits the source-based installation into two steps:
installing requirements (constrained) and installing the project
itself (unconstrained).

Change-Id: Ie5f62655248c40885fdcd6fa87180a6952f145fc
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/69/703069/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/install.yml'],1,230b1a8bd754899fc1a97fa5035f0ea46b891718,constraints," extra_args=""-c {{ upper_constraints_file }}"" extra_args=""-c {{ upper_constraints_file }}""", # NOTE(TheJulia): We do not explicitly define an upper constraints file # to be utilized in order to allow newer versions to be installed. # NOTE(TheJulia): We do not explicitly define an upper constraints file # to be utilized in order to allow newer versions to be installed.,2,4
openstack%2Fnova~stable%2Fqueens~I7de14456d04370c842b4c35597dca3a628a826a2,openstack/nova,stable/queens,I7de14456d04370c842b4c35597dca3a628a826a2,Improve metadata server performance with large security groups,MERGED,2019-12-05 16:42:46.000000000,2020-01-20 20:51:41.000000000,2020-01-20 20:51:41.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10980}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-05 16:42:46.000000000', 'files': ['nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/00d438adb325610a04af9f8f18cdb1c622df5418', 'message': ""Improve metadata server performance with large security groups\n\nDon't include the rules in the SG fetch in the metadata server, since\nwe don't need them there, and with >1000 rules, it starts to get\nreally slow, especially in Pike and later.\n\nCloses-Bug: #1851430\n\nCo-Authored-By: Doug Wiegley <dougwig@parkside.io>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I7de14456d04370c842b4c35597dca3a628a826a2\n(cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f)\n(cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2)\n(cherry picked from commit fec95a2e4f763e15193504483383f918feb3e636)\n(cherry picked from commit 38b2f68a17533e839819e654825613aefd4effd4)\n""}]",0,697518,00d438adb325610a04af9f8f18cdb1c622df5418,10,7,1,6873,,,0,"Improve metadata server performance with large security groups

Don't include the rules in the SG fetch in the metadata server, since
we don't need them there, and with >1000 rules, it starts to get
really slow, especially in Pike and later.

Closes-Bug: #1851430

Co-Authored-By: Doug Wiegley <dougwig@parkside.io>
Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2
(cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f)
(cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2)
(cherry picked from commit fec95a2e4f763e15193504483383f918feb3e636)
(cherry picked from commit 38b2f68a17533e839819e654825613aefd4effd4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/697518/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py']",2,00d438adb325610a04af9f8f18cdb1c622df5418,faster-sg-pull," def _get_secgroups_from_port_list(self, ports, neutron, fields=None): if fields: sg_search_opts['fields'] = fields If detailed is False only the security group name is returned. # If detailed is True, we want all fields from the security groups # including the potentially slow-to-join security_group_rules field. # But if detailed is False, only get the id and name fields since # that's all we'll use below. fields = None if detailed else ['id', 'name'] security_groups = self._get_secgroups_from_port_list( ports, neutron, fields=fields) security groups associated with an instance, otherwise just the security group name."," def _get_secgroups_from_port_list(self, ports, neutron): security_groups = self._get_secgroups_from_port_list(ports, neutron) security groups associated with an instance.",45,11
openstack%2Fansible-collections-openstack~master~Ib90e337ccef72db9bf9588abeee5f7189e24ae17,openstack/ansible-collections-openstack,master,Ib90e337ccef72db9bf9588abeee5f7189e24ae17,WIP: functional devstack ansible job,ABANDONED,2020-01-19 22:13:12.000000000,2020-01-20 20:40:23.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-19 22:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3bb05d4600f8413e9ade22f1df55314988487921', 'message': 'WIP: functional devstack ansible job\n\nDepends-On: https://review.opendev.org/#/c/703307/\nChange-Id: Ib90e337ccef72db9bf9588abeee5f7189e24ae17\n'}, {'number': 2, 'created': '2020-01-19 23:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/531b6b5efe977fa8d8b119993691faf05c72c1b1', 'message': 'WIP: functional devstack ansible job\n\nDepends-On: https://review.opendev.org/#/c/703307/\nChange-Id: Ib90e337ccef72db9bf9588abeee5f7189e24ae17\n'}, {'number': 3, 'created': '2020-01-19 23:03:13.000000000', 'files': ['zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/13135a9e009669b717dd0d0c72ebc4a8970114e1', 'message': 'WIP: functional devstack ansible job\n\nDepends-On: https://review.opendev.org/#/c/703307/\nChange-Id: Ib90e337ccef72db9bf9588abeee5f7189e24ae17\n'}]",0,703308,13135a9e009669b717dd0d0c72ebc4a8970114e1,8,2,3,10969,,,0,"WIP: functional devstack ansible job

Depends-On: https://review.opendev.org/#/c/703307/
Change-Id: Ib90e337ccef72db9bf9588abeee5f7189e24ae17
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/08/703308/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.yaml', 'tox.ini']",2,3bb05d4600f8413e9ade22f1df55314988487921,new," [testenv:ansible] # Need to pass some env vars for the Ansible playbooks passenv = * commands = ansible-galaxy collection build --force {toxinidir} --output-path {toxinidir}/build_artifact /bin/bash -c ""ansible-galaxy collection install $(ls {toxinidir}/build_artifact/openstack-cloud-*) --force -p {toxinidir}"" {toxinidir}/extras/run-ansible-tests-collection.sh -e {envdir} {posargs}",,20,0
openstack%2Fansible-collections-openstack~master~I69f1b2e78fa4ebc84fefc3982e5b348197287f00,openstack/ansible-collections-openstack,master,I69f1b2e78fa4ebc84fefc3982e5b348197287f00,WIP: run ci job with new def,ABANDONED,2020-01-20 08:58:19.000000000,2020-01-20 20:40:02.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 08:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2295aaba654a30f9e6194731295f1c80fb6bc4ad', 'message': 'WIP: run ci job with new def\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: I69f1b2e78fa4ebc84fefc3982e5b348197287f00\n'}, {'number': 2, 'created': '2020-01-20 11:08:00.000000000', 'files': ['ci/roles/user_group/tasks/main.yml', 'ci/roles/router/defaults/main.yml', 'ci/roles/keystone_role/tasks/main.yml', 'ci/roles/keystone_domain/tasks/main.yml', 'ci/roles/client_config/tasks/main.yml', 'ci/roles/server/defaults/main.yaml', 'zuul.yaml', 'ci/roles/port/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/group/defaults/main.yml', 'ci/roles/image/tasks/main.yml', 'ci/roles/object/tasks/main.yml', 'ci/roles/server/tasks/main.yml', 'ci/roles/router/tasks/main.yml', 'tests/sanity/ignore-2.9.txt', 'ci/run-ansible-tests-collection.sh', 'tests/sanity/ignore-2.10.txt', 'ci/roles/auth/tasks/main.yml', 'ci/roles/keypair/defaults/main.yml', 'ci/roles/volume/tasks/main.yml', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/subnet/tasks/main.yml', 'ci/roles/keystone_role/defaults/main.yml', 'ci/roles/keystone_domain/defaults/main.yml', 'ci/roles/network/tasks/main.yml', 'ci/roles/group/tasks/main.yml', 'ci/roles/image/defaults/main.yml', 'ci/roles/keypair/tasks/main.yml', 'ci/roles/nova_flavor/tasks/main.yml', 'ci/roles/port/defaults/main.yml', 'ci/roles/user/tasks/main.yml', 'ci/roles/security_group/defaults/main.yml', 'ci/roles/network/defaults/main.yml', 'ci/roles/subnet/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dc09025f2112a3e10e14d67d34e32a545e09c1eb', 'message': 'WIP: run ci job with new def\n\nDepends-On: https://review.opendev.org/#/c/703342\nChange-Id: I69f1b2e78fa4ebc84fefc3982e5b348197287f00\n'}]",0,703345,dc09025f2112a3e10e14d67d34e32a545e09c1eb,9,2,2,10969,,,0,"WIP: run ci job with new def

Depends-On: https://review.opendev.org/#/c/703342
Change-Id: I69f1b2e78fa4ebc84fefc3982e5b348197287f00
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/45/703345/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/user_group/tasks/main.yml', 'ci/roles/router/defaults/main.yml', 'ci/roles/keystone_role/tasks/main.yml', 'ci/roles/keystone_domain/tasks/main.yml', 'ci/roles/client_config/tasks/main.yml', 'ci/roles/server/defaults/main.yaml', 'zuul.yaml', 'ci/roles/port/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/group/defaults/main.yml', 'ci/roles/image/tasks/main.yml', 'ci/roles/object/tasks/main.yml', 'ci/roles/server/tasks/main.yml', 'ci/roles/router/tasks/main.yml', 'ci/run-ansible-tests-collection.sh', 'ci/roles/auth/tasks/main.yml', 'ci/roles/keypair/defaults/main.yml', 'ci/roles/volume/tasks/main.yml', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/subnet/tasks/main.yml', 'ci/roles/keystone_role/defaults/main.yml', 'ci/roles/keystone_domain/defaults/main.yml', 'ci/roles/network/tasks/main.yml', 'ci/roles/group/tasks/main.yml', 'ci/roles/image/defaults/main.yml', 'ci/roles/keypair/tasks/main.yml', 'ci/roles/nova_flavor/tasks/main.yml', 'ci/roles/port/defaults/main.yml', 'ci/roles/user/tasks/main.yml', 'ci/roles/security_group/defaults/main.yml', 'ci/roles/network/defaults/main.yml', 'ci/roles/subnet/defaults/main.yml', 'tox.ini']",33,2295aaba654a30f9e6194731295f1c80fb6bc4ad,, [testenv:ansible-collection] # Need to pass some env vars for the Ansible playbooks passenv = HOME USER ANSIBLE_VAR_* deps = {[testenv]deps} ansible commands = {toxinidir}/ci/run-ansible-tests-collection.sh -e {envdir} {posargs},,993,0
openstack%2Fansible-collections-openstack~master~I6c3a2ccb76ef094526efda6eea02d38635b71eed,openstack/ansible-collections-openstack,master,I6c3a2ccb76ef094526efda6eea02d38635b71eed,Add CI job from openstacksdk repo,ABANDONED,2020-01-20 06:54:40.000000000,2020-01-20 20:39:39.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 06:54:40.000000000', 'files': ['zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5a4b0ea207343b71f0e3767ffff015438919d57d', 'message': 'Add CI job from openstacksdk repo\n\nDepends-On: https://review.opendev.org/#/c/703311\nChange-Id: I6c3a2ccb76ef094526efda6eea02d38635b71eed\n'}]",0,703327,5a4b0ea207343b71f0e3767ffff015438919d57d,5,2,1,10969,,,0,"Add CI job from openstacksdk repo

Depends-On: https://review.opendev.org/#/c/703311
Change-Id: I6c3a2ccb76ef094526efda6eea02d38635b71eed
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/27/703327/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.yaml'],1,5a4b0ea207343b71f0e3767ffff015438919d57d,cijob, - ansible-collections-openstack-functional-devstack - ansible-collections-openstack-functional-devstack,,2,0
openstack%2Fpuppet-neutron~master~I411b1a1e1e55fc13c7b376d63893a93c6537e6b9,openstack/puppet-neutron,master,I411b1a1e1e55fc13c7b376d63893a93c6537e6b9,"Revert ""Remove br-tun check from beaker""",MERGED,2019-03-29 22:32:11.000000000,2020-01-20 20:36:30.000000000,2020-01-20 20:36:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-29 22:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5f23535dc68cc0671e5c60f8e8cedad20ea248d2', 'message': 'Revert ""Remove br-tun check from beaker""\n\nThis reverts commit d5cc8d3eaa4b9e13fed88a300f3b5f46ac272575.\n\nChange-Id: I411b1a1e1e55fc13c7b376d63893a93c6537e6b9\nDepends-On: https://review.openstack.org/#/c/648737/\n'}, {'number': 2, 'created': '2019-06-13 21:40:35.000000000', 'files': ['spec/acceptance/basic_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/61daaaabb8a46ab272a212ad437a7d7c5dc3a096', 'message': 'Revert ""Remove br-tun check from beaker""\n\nThis reverts commit d5cc8d3eaa4b9e13fed88a300f3b5f46ac272575.\n\nChange-Id: I411b1a1e1e55fc13c7b376d63893a93c6537e6b9\nDepends-On: https://review.openstack.org/#/c/648737/\n'}]",0,648790,61daaaabb8a46ab272a212ad437a7d7c5dc3a096,16,4,2,14985,,,0,"Revert ""Remove br-tun check from beaker""

This reverts commit d5cc8d3eaa4b9e13fed88a300f3b5f46ac272575.

Change-Id: I411b1a1e1e55fc13c7b376d63893a93c6537e6b9
Depends-On: https://review.openstack.org/#/c/648737/
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/90/648790/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_neutron_spec.rb'],1,5f23535dc68cc0671e5c60f8e8cedad20ea248d2,rpc_response_max_timeout, expect(r.stdout).to match(/br-tun/), # TODO(aschultz): renable this after timeout is sorted #expect(r.stdout).to match(/br-tun/),1,2
openstack%2Fproject-config~master~Id021ba5fd55bf6d43e99f9f3a7121aee8b0d0a6f,openstack/project-config,master,Id021ba5fd55bf6d43e99f9f3a7121aee8b0d0a6f,Don't cache downloaded wheels in our wheels mirror,MERGED,2020-01-20 19:33:34.000000000,2020-01-20 20:28:28.000000000,2020-01-20 20:28:28.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 19:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/083320a92e32cfcd1063890cc1c286e5d7a32358', 'message': ""Don't cache downloaded wheels in our wheels mirror\n\nIn the build-wheels role, parse stdout from all the build logs to\nbuild up a unique list of all wheels downloaded from PyPI and delete\nthem from the wheelhouse, since this is only meant to provide built\nwheels which are absent from PyPI. Those will be retrieved from our\ncaching proxy of PyPI served from the same mirror hosts anyway.\n\nChange-Id: Id021ba5fd55bf6d43e99f9f3a7121aee8b0d0a6f\n""}, {'number': 2, 'created': '2020-01-20 20:07:54.000000000', 'files': ['roles/build-wheels/files/wheel-build.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/988b9754bbaf6cb63bd8a19e71069e3716ac3efb', 'message': ""Don't cache downloaded wheels in our wheels mirror\n\nIn the build-wheels role, parse stdout from all the build logs to\nbuild up a unique list of all wheels downloaded from PyPI and delete\nthem from the wheelhouse, since this is only meant to provide built\nwheels which are absent from PyPI. Those will be retrieved from our\ncaching proxy of PyPI served from the same mirror hosts anyway.\n\nChange-Id: Id021ba5fd55bf6d43e99f9f3a7121aee8b0d0a6f\n""}]",1,703487,988b9754bbaf6cb63bd8a19e71069e3716ac3efb,11,4,2,5263,,,0,"Don't cache downloaded wheels in our wheels mirror

In the build-wheels role, parse stdout from all the build logs to
build up a unique list of all wheels downloaded from PyPI and delete
them from the wheelhouse, since this is only meant to provide built
wheels which are absent from PyPI. Those will be retrieved from our
caching proxy of PyPI served from the same mirror hosts anyway.

Change-Id: Id021ba5fd55bf6d43e99f9f3a7121aee8b0d0a6f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/703487/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-wheels/files/wheel-build.sh'],1,083320a92e32cfcd1063890cc1c286e5d7a32358,wheel-mirror,"# Parse stdout from all the build logs to build up a unique list of all # wheels downloaded from PyPI and delete them from the wheelhouse, since # this is only meant to provide built wheels which are absent from PyPI. find ${LOGS}/build/ -name stdout -exec grep 'Downloading from URL' {} \; \ | sed -n 's,.*Downloading from URL .*/\([^/]*\.whl\)#.*,\1,p' \ | sort -u > ${LOGS}/remove-wheels.txt pushd ${WHEELHOUSE_DIR} cat ../${LOGS}/remove-wheels.txt | xargs rm popd ",,10,0
openstack%2Fkolla~master~I8fa3fcad88b35743e042d8a62ccee722b08af673,openstack/kolla,master,I8fa3fcad88b35743e042d8a62ccee722b08af673,Fixes swift-object-expirer for Debian and Ubuntu binary images.,MERGED,2020-01-20 10:36:22.000000000,2020-01-20 20:13:23.000000000,2020-01-20 19:00:18.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-20 10:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5c6abebcaec1f32a8f334835a05f574aa412f15e', 'message': ""Fixes swift-object-expirer for Debian and Ubuntu binary images.\n\nAdds missing 'swift-object-expirer' package.\n\nChange-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673\nCloses-Bug: #1859607\n""}, {'number': 2, 'created': '2020-01-20 10:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b96d24a0677ea0c24702b9edd71a69e73ab573f1', 'message': ""Fixes swift-object-expirer for Debian and Ubuntu binary images.\n\nAdds missing 'swift-object-expirer' package.\n\nChange-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673\nCloses-Bug: #1859607\n""}, {'number': 3, 'created': '2020-01-20 11:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/68e3a0c8b70323ef9ec3ade2b5aa566a777d78b7', 'message': ""Fixes swift-object-expirer for Debian and Ubuntu binary images.\n\nAdds missing 'swift-object-expirer' package.\n\nChange-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673\nCloses-Bug: #1859607\n""}, {'number': 4, 'created': '2020-01-20 12:21:41.000000000', 'files': ['docker/swift/swift-object-expirer/Dockerfile.j2', 'releasenotes/notes/swift-object-expirer-fix-b837de80cea4fb8e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/190a6f7a264c1ea8c0c565d2b75fb73fdc29d500', 'message': ""Fixes swift-object-expirer for Debian and Ubuntu binary images.\n\nReplaces 'swift-object' package with 'swift-object-expirer' package.\n\nChange-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673\nCloses-Bug: #1859607\n""}]",4,703364,190a6f7a264c1ea8c0c565d2b75fb73fdc29d500,22,5,4,30523,,,0,"Fixes swift-object-expirer for Debian and Ubuntu binary images.

Replaces 'swift-object' package with 'swift-object-expirer' package.

Change-Id: I8fa3fcad88b35743e042d8a62ccee722b08af673
Closes-Bug: #1859607
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/703364/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-object-expirer/Dockerfile.j2', 'releasenotes/notes/swift-object-expirer-fix-b837de80cea4fb8e.yaml']",2,5c6abebcaec1f32a8f334835a05f574aa412f15e,bug/1859607,--- fixes: - | Fixes swift-object-expirer for Debian and Ubuntu binary images. ,,8,1
openstack%2Fneutron~master~I0b899a33943550a53822d1d057cdee525cbbc6ec,openstack/neutron,master,I0b899a33943550a53822d1d057cdee525cbbc6ec,[OVN] Change DevStack to use the local OVN driver,MERGED,2020-01-07 13:57:44.000000000,2020-01-20 19:56:59.000000000,2020-01-20 19:53:46.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-01-07 13:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d107345d66db3b790262d83680b07095dc75b5b', 'message': '[OVN] Change DevStack to use the local OVN driver\n\nThis patch is changing DevStack to deploy with the local OVN driver\n(instead of the networking-ovn old repo).\n\nA few tweaks were needed in the code in order to get it to work, more\nprecisely:\n\n* OVN metadata configuration was pointing to some module variables that\n  didn\'t exist.\n* OVN metadata configuration generation was missing\n\nBelow is the following configuration needed in the local.conf to deploy\nOVN:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\n\nenable_service ovn-northd\nenable_service ovn-controller\nenable_service neutron-ovn-metadata-agent\n\ndisable_service n-net\nenable_service q-svc\n\ndisable_service q-agt\ndisable_service q-l3\ndisable_service q-dhcp\ndisable_service q-meta\n\nChange-Id: I0b899a33943550a53822d1d057cdee525cbbc6ec\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-01-07 15:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a12c3d94fa25b139f2703fcaabd3097d04d540ef', 'message': '[OVN] Change DevStack to use the local OVN driver\n\nThis patch is changing DevStack to deploy with the local OVN driver\n(instead of the networking-ovn old repo).\n\nA few tweaks were needed in the code in order to get it to work, more\nprecisely:\n\n* OVN metadata configuration was pointing to some module variables that\n  didn\'t exist.\n* OVN metadata configuration generation was missing\n\nBelow is the following configuration needed in the local.conf to deploy\nOVN:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\n\nenable_service ovn-northd\nenable_service ovn-controller\nenable_service neutron-ovn-metadata-agent\n\ndisable_service n-net\nenable_service q-svc\n\ndisable_service q-agt\ndisable_service q-l3\ndisable_service q-dhcp\ndisable_service q-meta\n\nChange-Id: I0b899a33943550a53822d1d057cdee525cbbc6ec\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-01-08 10:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad84740231d1835befa6a777e781b583f1f6cff5', 'message': '[OVN] Change DevStack to use the local OVN driver\n\nThis patch is changing DevStack to deploy with the local OVN driver\n(instead of the networking-ovn old repo).\n\nA few tweaks were needed in the code in order to get it to work, more\nprecisely:\n\n* OVN metadata configuration was pointing to some module variables that\n  didn\'t exist.\n* OVN metadata configuration generation was missing\n* Uses the _plugin_context attribute in the delete_port() method from\n  OVNClient. For some reason, the PortContext object does not have a\n  session\n\nBelow is the following configuration needed in the local.conf to deploy\nOVN:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\n\nenable_service ovn-northd\nenable_service ovn-controller\nenable_service neutron-ovn-metadata-agent\n\ndisable_service n-net\nenable_service q-svc\n\ndisable_service q-agt\ndisable_service q-l3\ndisable_service q-dhcp\ndisable_service q-meta\n\nChange-Id: I0b899a33943550a53822d1d057cdee525cbbc6ec\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-01-08 13:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c391cada651ef0a5ae9d01b90af29a7dcf42d79', 'message': '[OVN] Change DevStack to use the local OVN driver\n\nThis patch is changing DevStack to deploy with the local OVN driver\n(instead of the networking-ovn old repo).\n\nA few tweaks were needed in the code in order to get it to work, more\nprecisely:\n\n* OVN metadata configuration was pointing to some module variables that\n  didn\'t exist.\n* OVN metadata configuration generation was missing\n\nBelow is the following configuration needed in the local.conf to deploy\nOVN:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\n\nenable_service ovn-northd\nenable_service ovn-controller\nenable_service neutron-ovn-metadata-agent\n\ndisable_service n-net\nenable_service q-svc\n\ndisable_service q-agt\ndisable_service q-l3\ndisable_service q-dhcp\ndisable_service q-meta\n\nChange-Id: I0b899a33943550a53822d1d057cdee525cbbc6ec\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-01-16 09:28:43.000000000', 'files': ['neutron/agent/ovn/metadata_agent.py', 'etc/oslo-config-generator/neutron_ovn_metadata_agent.ini', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/48ab58b46efa53d0ea0e94ebe67f0f1699949bd8', 'message': '[OVN] Change DevStack to use the local OVN driver\n\nThis patch is changing DevStack to deploy with the local OVN driver\n(instead of the networking-ovn old repo).\n\nA few tweaks were needed in the code in order to get it to work, more\nprecisely:\n\n* OVN metadata configuration was pointing to some module variables that\n  didn\'t exist.\n* OVN metadata configuration generation was missing\n\nBelow is the following configuration needed in the local.conf to deploy\nOVN:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\n\nenable_service ovn-northd\nenable_service ovn-controller\nenable_service neutron-ovn-metadata-agent\n\ndisable_service n-net\nenable_service q-svc\n\ndisable_service q-agt\ndisable_service q-l3\ndisable_service q-dhcp\ndisable_service q-meta\n\nChange-Id: I0b899a33943550a53822d1d057cdee525cbbc6ec\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",12,701366,48ab58b46efa53d0ea0e94ebe67f0f1699949bd8,90,14,5,6773,,,0,"[OVN] Change DevStack to use the local OVN driver

This patch is changing DevStack to deploy with the local OVN driver
(instead of the networking-ovn old repo).

A few tweaks were needed in the code in order to get it to work, more
precisely:

* OVN metadata configuration was pointing to some module variables that
  didn't exist.
* OVN metadata configuration generation was missing

Below is the following configuration needed in the local.conf to deploy
OVN:

[[local|localrc]]

enable_plugin neutron https://opendev.org/openstack/neutron

Q_AGENT=ovn
Q_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger
Q_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve
Q_ML2_TENANT_NETWORK_TYPE=""geneve""

enable_service ovn-northd
enable_service ovn-controller
enable_service neutron-ovn-metadata-agent

disable_service n-net
enable_service q-svc

disable_service q-agt
disable_service q-l3
disable_service q-dhcp
disable_service q-meta

Change-Id: I0b899a33943550a53822d1d057cdee525cbbc6ec
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/701366/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata_agent.py', 'etc/oslo-config-generator/neutron_ovn_metadata_agent.ini', 'devstack/lib/ovn_agent']",3,3d107345d66db3b790262d83680b07095dc75b5b,bp/neutron-ovn-merge,"OVN_META_CONF=$NEUTRON_CONF_DIR/neutron_ovn_metadata_agent.iniNEUTRON_OVN_BIN_DIR=$(get_python_exec_prefix) NEUTRON_OVN_METADATA_BINARY=""neutron-ovn-metadata-agent""ML2_L3_PLUGIN=""neutron.services.ovn_l3.plugin.OVNL3RouterPlugin,trunk"" if is_service_enabled neutron-ovn-metadata-agent; then if is_service_enabled neutron-ovn-metadata-agent ; then if is_service_enabled neutron-ovn-metadata-agent && is_service_enabled ovn-controller; then mkdir -p $NEUTRON_DIR/etc/neutron/plugins/ml2 (cd $NEUTRON_DIR && exec ./tools/generate_config_file_samples.sh) cp $NEUTRON_DIR/etc/neutron_ovn_metadata_agent.ini.sample $OVN_META_CONF if is_service_enabled neutron-ovn-metadata-agent; then _start_process ""devstack@neutron-ovn-metadata-agent.service"" if is_service_enabled neutron-ovn-metadata-agent; then run_process neutron-ovn-metadata-agent ""$NEUTRON_OVN_BIN_DIR/$NEUTRON_OVN_METADATA_BINARY --config-file $OVN_META_CONF"" if is_service_enabled neutron-ovn-metadata-agent; then sudo pkill -9 -f haproxy || : stop_process neutron-ovn-metadata-agent","# TODO(lucasagomes): Remove this after the networking-ovn code is # merged into Neutron # networking-ovn neutron driver NETWORKING_OVN_REPO=${NETWORKING_OVN_REPO:-${GIT_BASE}/openstack/networking-ovn.git} NETWORKING_OVN_BRANCH=${NETWORKING_OVN_BRANCH:-$TARGET_BRANCH} OVN_META_CONF=$NEUTRON_CONF_DIR/networking_ovn_metadata_agent.ini# TODO(lucasagomes): These paths will change once the networking-ovn # code is merged into Neutron NETWORKING_OVN_BIN_DIR=$(get_python_exec_prefix) NETWORKING_OVN_METADATA_BINARY=""networking-ovn-metadata-agent"" NETWORKING_OVN_DIR=$DEST/networking-ovn# TODO(lucasagomes): Modify this after the networking-ovn code is # merged into Neutron ML2_L3_PLUGIN=""networking_ovn.l3.l3_ovn.OVNL3RouterPlugin,trunk"" # TODO(lucasagomes): Remove this after the networking-ovn code is # merged into Neutron git_clone $NETWORKING_OVN_REPO $NETWORKING_OVN_DIR $NETWORKING_OVN_BRANCH setup_develop $NETWORKING_OVN_DIR if is_service_enabled networking-ovn-metadata-agent; then if is_service_enabled networking-ovn-metadata-agent ; then if is_service_enabled networking-ovn-metadata-agent && is_service_enabled ovn-controller; then mkdir -p $NETWORKING_OVN_DIR/etc/neutron/plugins/ml2 (cd $NETWORKING_OVN_DIR && exec ./tools/generate_config_file_samples.sh) cp $NETWORKING_OVN_DIR/etc/networking_ovn_metadata_agent.ini.sample $OVN_META_CONF if is_service_enabled networking-ovn-metadata-agent; then _start_process ""devstack@networking-ovn-metadata-agent.service"" if is_service_enabled networking-ovn-metadata-agent; then run_process networking-ovn-metadata-agent ""$NETWORKING_OVN_BIN_DIR/$NETWORKING_OVN_METADATA_BINARY --config-file $OVN_META_CONF"" if is_service_enabled networking-ovn-metadata-agent; then sudo pkill -9 -f haproxy || : stop_process networking-ovn-metadata-agent",29,38
openstack%2Foslo.concurrency~master~I03b9b179c4cb6ea5a9a8d8c74af3502a0243ace6,openstack/oslo.concurrency,master,I03b9b179c4cb6ea5a9a8d8c74af3502a0243ace6,Stop configuring install_command in tox.,MERGED,2020-01-15 08:54:13.000000000,2020-01-20 19:30:24.000000000,2020-01-20 19:26:40.000000000,"[{'_account_id': 708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-15 08:54:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/485fe226ec2839895aa1e648a28422ca8729b27d', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nAlso these changes introduce a new explicit env var related to eventlet\ntesting to avoid misunderstand.\n\nChange-Id: I03b9b179c4cb6ea5a9a8d8c74af3502a0243ace6\n""}]",0,702596,485fe226ec2839895aa1e648a28422ca8729b27d,8,3,1,28522,,,0,"Stop configuring install_command in tox.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Also these changes introduce a new explicit env var related to eventlet
testing to avoid misunderstand.

Change-Id: I03b9b179c4cb6ea5a9a8d8c74af3502a0243ace6
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/96/702596/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,485fe226ec2839895aa1e648a28422ca8729b27d,base_python, env TEST_EVENTLET=0 lockutils-wrapper stestr run --slowest {posargs},install_command = pip install {opts} {packages} lockutils-wrapper stestr run --slowest {posargs},1,2
openstack%2Fironic-python-agent-builder~master~Ic6ab011370b08d06a5c914736949ead2cb498e56,openstack/ironic-python-agent-builder,master,Ic6ab011370b08d06a5c914736949ead2cb498e56,Start installing DIB from Zuul-cloned sources in the CI,MERGED,2020-01-20 14:20:22.000000000,2020-01-20 19:28:00.000000000,2020-01-20 19:24:03.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 14:20:22.000000000', 'files': ['.zuul.yaml', 'roles/ipa-build-dib-image/tasks/install.yaml', 'roles/ipa-build-dib-image/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/79f597e183e1f5b6be570653b5895c35f7f8a7d8', 'message': 'Start installing DIB from Zuul-cloned sources in the CI\n\nWe need to be able to pick up fixes quicker than now and to use\ndepends-on with DIB changes. This change achieves it.\n\nChange-Id: Ic6ab011370b08d06a5c914736949ead2cb498e56\n'}]",2,703400,79f597e183e1f5b6be570653b5895c35f7f8a7d8,9,3,1,10239,,,0,"Start installing DIB from Zuul-cloned sources in the CI

We need to be able to pick up fixes quicker than now and to use
depends-on with DIB changes. This change achieves it.

Change-Id: Ic6ab011370b08d06a5c914736949ead2cb498e56
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/00/703400/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'roles/ipa-build-dib-image/tasks/install.yaml', 'roles/ipa-build-dib-image/defaults/main.yaml']",3,79f597e183e1f5b6be570653b5895c35f7f8a7d8,dib,dib_from_source: true,,17,7
openstack%2Fkolla~master~Idddf51730821644948f51577807f5beaa18c6262,openstack/kolla,master,Idddf51730821644948f51577807f5beaa18c6262,CI: Fix symlinks to failed logs,MERGED,2020-01-15 09:56:09.000000000,2020-01-20 19:22:25.000000000,2020-01-20 15:27:06.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-15 09:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f23c7db7294d5beaf3b6395a0d099ab54c851812', 'message': 'CI: Unb0rk failed logs\n\nStop renaming files. Swift should be able to serve text/plain files\nbased on content, not extension.\n\nFailed logs were b0rken because we stopped gzipping log files and\nimproperly rewrote the logic there.\n\nChange-Id: Idddf51730821644948f51577807f5beaa18c6262\n'}, {'number': 2, 'created': '2020-01-20 09:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e145bd50537f433f918e62534a6f64458300dcb1', 'message': 'CI: Fix symlinks to failed logs\n\nStop renaming files. Swift should be able to serve text/plain files\nbased on content, not extension.\n\nFailed logs symlinks were broken because we stopped gzipping log\nfiles and improperly rewrote the logic there.\n\nChange-Id: Idddf51730821644948f51577807f5beaa18c6262\n'}, {'number': 3, 'created': '2020-01-20 09:30:27.000000000', 'files': ['tests/playbooks/post.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a0182f15acbabc88df0aa660abce81d61f528da', 'message': 'CI: Fix symlinks to failed logs\n\nStop renaming files. Swift should be able to serve text/plain files\nbased on content, not extension.\n\nFailed logs symlinks were broken because we stopped gzipping log\nfiles and improperly rewrote the logic there.\n\nChange-Id: Idddf51730821644948f51577807f5beaa18c6262\n'}]",1,702620,4a0182f15acbabc88df0aa660abce81d61f528da,17,4,3,30491,,,0,"CI: Fix symlinks to failed logs

Stop renaming files. Swift should be able to serve text/plain files
based on content, not extension.

Failed logs symlinks were broken because we stopped gzipping log
files and improperly rewrote the logic there.

Change-Id: Idddf51730821644948f51577807f5beaa18c6262
",git fetch https://review.opendev.org/openstack/kolla refs/changes/20/702620/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/post.yml'],1,f23c7db7294d5beaf3b6395a0d099ab54c851812,ci-unb0rk-failed-logs,," # rename files to .txt; this is so that when displayed via # logs.openstack.org clicking results in the browser shows the # files, rather than trying to send it to another app or make you # download it, etc. # firstly, rename all .log files to .txt files for f in $(find . -name ""*.log""); do mv $f ${f/.log/.txt} done # append .txt to all kolla config file find kolla_configs -type f -exec mv '{}' '{}'.txt \;",0,13
openstack%2Fnova~master~I329f0fd589a4b2e0426485f09f6782f94275cc07,openstack/nova,master,I329f0fd589a4b2e0426485f09f6782f94275cc07,nova-net: Remove layer of indirection in 'nova.network',MERGED,2019-11-29 17:19:06.000000000,2020-01-20 19:19:54.000000000,2020-01-20 19:17:01.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-29 17:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04b23d3e6b894022062769a0ba53d6d828102f9a', 'message': ""Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-11-29 17:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ac05e8b2c98adf1b14640eddfb85d32f5247a14', 'message': ""Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-11-30 11:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0173106905548526ac36729f8efcff6f25600f42', 'message': ""Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-11-30 16:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03a89d7a4e27d587b6883edc483fd446d18b0e31', 'message': ""Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-12-03 18:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/176a0993ba36259ca9b009e7c3ccd275073a357f', 'message': ""Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-12-06 19:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e14ee09676b141a43177cb12ccc2e2a64a498854', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-12-10 11:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02d5929a3e0528239ae9c898a1790377d1cccf70', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-12-12 10:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18a9c75ae82fcd801136ce32d200fb210cf2f884', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-12-16 10:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/823ccddb9e5e118917904ad691df7715e256061a', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-12-24 12:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5a0492faf40c03c642832a9cbfd9020fd346614', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and it's name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2020-01-06 13:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2491ce79e1a12756788fc4ccd40a288e84699578', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and its name is neutron.\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2020-01-06 14:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca2efbe293725090aaf1dba1115a3965399d68ea', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and its name is neutron. This\nmirrors what we did with the old nova-volume code way back in 2012 [1].\n\n[1] https://review.opendev.org/#/c/14731/\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 13, 'created': '2020-01-06 17:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f58be593ed50d57e006c2d7dee9a893d37cce3bf', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and its name is neutron. This\nmirrors what we did with the old nova-volume code way back in 2012 [1].\n\n[1] https://review.opendev.org/#/c/14731/\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 14, 'created': '2020-01-08 13:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3fab5667f375ee69a01c735893ec1f69ca00de5', 'message': ""nova-net: Rename 'nova.network.neutronv2' -> 'nova.network'\n\nThere is only one true networking API and its name is neutron. This\nmirrors what we did with the old nova-volume code way back in 2012 [1].\n\n[1] https://review.opendev.org/#/c/14731/\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 15, 'created': '2020-01-15 10:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/977810d378cc56ae63b5e90bcbc6bd2bd933938c', 'message': ""nova-net: Remove layer of indirection in 'nova.network'\n\nAt some point in the past, there was only nova-network and its code\ncould be found in 'nova.network'. Neutron was added and eventually found\nitself (mostly!) in the 'nova.network.neutronv2' submodule. With\nnova-network now gone, we can remove one layer of indirection and move\nthe code from 'nova.network.neutronv2' back up to 'nova.network',\nmirroring what we did with the old nova-volume code way back in 2012\n[1]. To ensure people don't get nova-network and 'nova.network'\nconfused, 'neutron' is retained in filenames.\n\n[1] https://review.opendev.org/#/c/14731/\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 16, 'created': '2020-01-15 10:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90af23d0858eb44f87d4e1f4f8b81518ae5e86ce', 'message': ""nova-net: Remove layer of indirection in 'nova.network'\n\nAt some point in the past, there was only nova-network and its code\ncould be found in 'nova.network'. Neutron was added and eventually found\nitself (mostly!) in the 'nova.network.neutronv2' submodule. With\nnova-network now gone, we can remove one layer of indirection and move\nthe code from 'nova.network.neutronv2' back up to 'nova.network',\nmirroring what we did with the old nova-volume code way back in 2012\n[1]. To ensure people don't get nova-network and 'nova.network'\nconfused, 'neutron' is retained in filenames.\n\n[1] https://review.opendev.org/#/c/14731/\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 17, 'created': '2020-01-15 14:58:32.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/stubs.py', 'nova/network/constants.py', 'nova/tests/unit/notifications/test_base.py', 'nova/api/metadata/handler.py', 'nova/api/openstack/common.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/functional/test_metadata.py', 'nova/notifications/base.py', 'nova/tests/functional/api_sample_tests/test_floating_ip_pools.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py', 'nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/conductor/tasks/live_migrate.py', 'nova/network/__init__.py', 'nova/tests/unit/test_profiler.py', 'nova/virt/vmwareapi/vmops.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/network/neutron.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/api/metadata/base.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/network/test_neutron.py', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/functional/api_sample_tests/test_attach_interfaces.py', 'nova/tests/unit/test_metadata.py', 'nova/network/base_api.py', 'nova/tests/unit/api/openstack/compute/test_networks.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/compute/api.py', 'nova/conductor/tasks/cross_cell_migrate.py', 'nova/tests/unit/api/openstack/test_common.py', 'nova/network/neutronv2/__init__.py', 'nova/network/security_group/neutron_driver.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/fixtures.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/networks.py', 'nova/conductor/manager.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fadeedcdeaa949ae85938e78e2f34e75b9383721', 'message': ""nova-net: Remove layer of indirection in 'nova.network'\n\nAt some point in the past, there was only nova-network and its code\ncould be found in 'nova.network'. Neutron was added and eventually found\nitself (mostly!) in the 'nova.network.neutronv2' submodule. With\nnova-network now gone, we can remove one layer of indirection and move\nthe code from 'nova.network.neutronv2' back up to 'nova.network',\nmirroring what we did with the old nova-volume code way back in 2012\n[1]. To ensure people don't get nova-network and 'nova.network'\nconfused, 'neutron' is retained in filenames.\n\n[1] https://review.opendev.org/#/c/14731/\n\nChange-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,696745,fadeedcdeaa949ae85938e78e2f34e75b9383721,137,14,17,15334,,,0,"nova-net: Remove layer of indirection in 'nova.network'

At some point in the past, there was only nova-network and its code
could be found in 'nova.network'. Neutron was added and eventually found
itself (mostly!) in the 'nova.network.neutronv2' submodule. With
nova-network now gone, we can remove one layer of indirection and move
the code from 'nova.network.neutronv2' back up to 'nova.network',
mirroring what we did with the old nova-volume code way back in 2012
[1]. To ensure people don't get nova-network and 'nova.network'
confused, 'neutron' is retained in filenames.

[1] https://review.opendev.org/#/c/14731/

Change-Id: I329f0fd589a4b2e0426485f09f6782f94275cc07
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/696745/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/stubs.py', 'nova/network/constants.py', 'nova/tests/unit/notifications/test_base.py', 'nova/tests/unit/network/test_api.py', 'nova/api/metadata/handler.py', 'nova/api/openstack/common.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/functional/test_metadata.py', 'nova/notifications/base.py', 'nova/tests/functional/api_sample_tests/test_floating_ip_pools.py', 'nova/network/api.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py', 'nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/conductor/tasks/live_migrate.py', 'nova/network/__init__.py', 'nova/tests/unit/test_profiler.py', 'nova/virt/vmwareapi/vmops.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/api/metadata/base.py', 'nova/tests/functional/test_servers.py', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/functional/api_sample_tests/test_attach_interfaces.py', 'nova/tests/unit/test_metadata.py', 'nova/network/base_api.py', 'nova/tests/unit/api/openstack/compute/test_networks.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/compute/api.py', 'nova/conductor/tasks/cross_cell_migrate.py', 'nova/tests/unit/api/openstack/test_common.py', 'nova/network/neutronv2/__init__.py', 'nova/network/security_group/neutron_driver.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/fixtures.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/networks.py', 'nova/conductor/manager.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py']",54,04b23d3e6b894022062769a0ba53d6d828102f9a,bp/remove-nova-network-ussuri, fixtures.MockPatch('nova.network.api.API.list_ports')).mock fixtures.MockPatch('nova.network.api.API.list_ports')).mock, fixtures.MockPatch( 'nova.network.neutronv2.api.API.list_ports')).mock fixtures.MockPatch( 'nova.network.neutronv2.api.API.list_ports')).mock,320,666
openstack%2Foslo.concurrency~master~I2ab1eb99a61695bfbc7ecc66f215b1cb991007dd,openstack/oslo.concurrency,master,I2ab1eb99a61695bfbc7ecc66f215b1cb991007dd,tox: Trivial cleanup,MERGED,2019-12-20 09:53:16.000000000,2020-01-20 19:18:16.000000000,2020-01-20 19:15:05.000000000,"[{'_account_id': 708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-20 09:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/2faeb55a9d0aba8dcf0a18ae9b3ca530f575caf0', 'message': ""tox: Trivial cleanup\n\nMove 'basepython' to the top-level 'testenv'.\n\nChange-Id: I2ab1eb99a61695bfbc7ecc66f215b1cb991007dd\n""}, {'number': 2, 'created': '2020-01-08 19:16:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/fc2106146013bb0881aaf5ce8f8eca45a48ef167', 'message': ""tox: Trivial cleanup\n\nMove 'basepython' to the top-level 'testenv'.\n\nChange-Id: I2ab1eb99a61695bfbc7ecc66f215b1cb991007dd\n""}]",6,700133,fc2106146013bb0881aaf5ce8f8eca45a48ef167,16,4,2,28522,,,0,"tox: Trivial cleanup

Move 'basepython' to the top-level 'testenv'.

Change-Id: I2ab1eb99a61695bfbc7ecc66f215b1cb991007dd
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/33/700133/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2faeb55a9d0aba8dcf0a18ae9b3ca530f575caf0,base_python,basepython = python3,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,1,6
openstack%2Ftripleo-common~stable%2Ftrain~I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3,openstack/tripleo-common,stable/train,I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3,Derive new nova compute parameters,MERGED,2020-01-20 07:21:22.000000000,2020-01-20 19:15:58.000000000,2020-01-20 19:14:10.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 07:21:22.000000000', 'files': ['workbooks/derive_params_formulas.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7852bff6394c518c9179b63ce58ce6e14dde6fa6', 'message': 'Derive new nova compute parameters\n\nDerive NovaComputeCpuDedicatedSet and NovaComputeCpuSharedSet\nparameters based on host introspection and remove the deriving\nNovaVcpuPinSet parameter.\n\nChange-Id: I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3\nCloses-Bug: #1858678\n(cherry picked from commit 95138e9d4e8ee012616fcb7ad89be0eef1632960)\n'}]",0,703330,7852bff6394c518c9179b63ce58ce6e14dde6fa6,8,5,1,22865,,,0,"Derive new nova compute parameters

Derive NovaComputeCpuDedicatedSet and NovaComputeCpuSharedSet
parameters based on host introspection and remove the deriving
NovaVcpuPinSet parameter.

Change-Id: I6bd73fde6f1d78ceb89eb5cd04ac06d1b95263a3
Closes-Bug: #1858678
(cherry picked from commit 95138e9d4e8ee012616fcb7ad89be0eef1632960)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/703330/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/derive_params_formulas.yaml'],1,7852bff6394c518c9179b63ce58ce6e14dde6fa6,derive-nova-conf-params-stable/train," host_parameters: <% dict(concat($.role_name, 'Parameters') => dict('NovaComputeCpuDedicatedSet' => $.get('nova_cpus', ''), 'NovaComputeCpuSharedSet' => $.get('host_cpus', ''), 'NovaReservedHostMemory' => $.get('host_mem', ''), 'KernelArgs' => $.get('kernel_args', ''), 'IsolCpusList' => $.get('isol_cpus', ''))) %>"," host_parameters: <% dict(concat($.role_name, 'Parameters') => dict('NovaVcpuPinSet' => $.get('nova_cpus', ''), 'NovaReservedHostMemory' => $.get('host_mem', ''), 'KernelArgs' => $.get('kernel_args', ''), 'IsolCpusList' => $.get('isol_cpus', ''))) %>",1,1
openstack%2Ftripleo-common~master~I80fba80bf7d8c77f018f78eae9e983e7e2114640,openstack/tripleo-common,master,I80fba80bf7d8c77f018f78eae9e983e7e2114640,container_update: Use Paunch for removing containers.,ABANDONED,2020-01-03 16:05:19.000000000,2020-01-20 18:54:54.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-03 16:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d5914c90ace63d73c3e0315316fbeb9c0446e10b', 'message': 'container_update: Use Paunch for removing containers.\n\nThis consolidates the logic into one central location.\n\nChange-Id: I80fba80bf7d8c77f018f78eae9e983e7e2114640\nRelated-Bug: #1856086\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2020-01-03 21:10:42.000000000', 'files': ['scripts/container-update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/193e8149924cd5cf7500d3480fda41f99d372314', 'message': 'container_update: Use Paunch for removing containers.\n\nThis consolidates the logic into one central location.\n\nChange-Id: I80fba80bf7d8c77f018f78eae9e983e7e2114640\nRelated-Bug: #1856086\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",3,701039,193e8149924cd5cf7500d3480fda41f99d372314,13,6,2,25877,,,0,"container_update: Use Paunch for removing containers.

This consolidates the logic into one central location.

Change-Id: I80fba80bf7d8c77f018f78eae9e983e7e2114640
Related-Bug: #1856086
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/701039/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/container-update.py'],1,d5914c90ace63d73c3e0315316fbeb9c0446e10b,,"from paunch import runner as containers_runner RUNNER = containers_runner.PodmanRunner( 'container-update', cont_cmd='docker', log=log ) RUNNER.remove_container(name)"," log.info('Removing container: %s' % name) subproc = subprocess.Popen(['/usr/bin/docker', 'rm', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() if cmd_stdout: log.debug(cmd_stdout) if cmd_stderr and \ cmd_stderr != 'Error response from daemon: ' \ 'No such container: {}\n'.format(name): log.debug(cmd_stderr)",8,12
openstack%2Fpython-openstackclient~stable%2Fstein~Ic9b2b47848a600e87a3674289ae7ae8c3e091fee,openstack/python-openstackclient,stable/stein,Ic9b2b47848a600e87a3674289ae7ae8c3e091fee,Fix functional tests for py3,MERGED,2020-01-07 01:18:31.000000000,2020-01-20 18:39:59.000000000,2020-01-20 18:37:05.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 1916}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 14892}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-07 01:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2ee94cc02136b73f056ddf2b55e7c3f5364bf395', 'message': ""Fix functional tests for py3\n\nFix various things so the functional tests will work under python3:\n\n- A hashlib.md5() can only be update()d with an encoded string in py3.\n- There's no dict.iteritems(), change to dict.items() (which is already\n  an iterator).\n- Open temp files with 'w+' mode rather than the default 'w+b' (as an\n  alternative to encoding all the write and expected-read payloads as\n  bytes).\n- (This is a weird one) Explicitly raise SkipTest from unittest (rather\n  than unittest2, which is where cls.skipException landed). Not sure why\n  this is busted, but this moves the ball.\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n(cherry picked from commit f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81)\n""}, {'number': 2, 'created': '2020-01-10 15:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a95a3a45f02b27b1dbaf5a94ab48ab2a8d9536c1', 'message': ""Fix functional tests for py3\n\nFix various things so the functional tests will work under python3:\n\n- A hashlib.md5() can only be update()d with an encoded string in py3.\n- There's no dict.iteritems(), change to dict.items() (which is already\n  an iterator).\n- Open temp files with 'w+' mode rather than the default 'w+b' (as an\n  alternative to encoding all the write and expected-read payloads as\n  bytes).\n- (This is a weird one) Explicitly raise SkipTest from unittest (rather\n  than unittest2, which is where cls.skipException landed). Not sure why\n  this is busted, but this moves the ball.\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n(cherry picked from commit f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81)\n(cherry picked from commit b866202f54afddca66a77cd989b082e193a96956)\n""}, {'number': 3, 'created': '2020-01-10 21:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/eb7e6d5ac566f2a6734f14d04353bc4bea34c3d3', 'message': ""Fix functional tests for py3\n\nFix various things so the functional tests will work under python3:\n\n- A hashlib.md5() can only be update()d with an encoded string in py3.\n- There's no dict.iteritems(), change to dict.items() (which is already\n  an iterator).\n- Open temp files with 'w+' mode rather than the default 'w+b' (as an\n  alternative to encoding all the write and expected-read payloads as\n  bytes).\n- (This is a weird one) Explicitly raise SkipTest from unittest (rather\n  than unittest2, which is where cls.skipException landed). Not sure why\n  this is busted, but this moves the ball.\n\nConflict/issue with raising SkipTest on this branch.\n\n(cherry picked from commit f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81)\n(cherry picked from commit b866202f54afddca66a77cd989b082e193a96956)\n\nIncludes squash of:\nBefore writing object data to stdout, re-open it in binary mode\n\nOtherwise, you can hit TypeErrors on Python3.\n\nCloses-Bug: 1775482\n(cherry picked from commit 415b48056d9d021e04ec972029040a89a6b13928)\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n""}, {'number': 4, 'created': '2020-01-10 21:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2fe1e5d168eda008ba6950d0905eedbb6fa41a0e', 'message': ""Fix functional tests for py3\n\nFix various things so the functional tests will work under python3:\n\n- A hashlib.md5() can only be update()d with an encoded string in py3.\n- There's no dict.iteritems(), change to dict.items() (which is already\n  an iterator).\n- Open temp files with 'w+' mode rather than the default 'w+b' (as an\n  alternative to encoding all the write and expected-read payloads as\n  bytes).\n- (This is a weird one) Explicitly raise SkipTest from unittest (rather\n  than unittest2, which is where cls.skipException landed). Not sure why\n  this is busted, but this moves the ball.\n\nConflict/issue with raising SkipTest on this branch.\n\n(cherry picked from commit f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81)\n(cherry picked from commit b866202f54afddca66a77cd989b082e193a96956)\n\nIncludes squash of:\nBefore writing object data to stdout, re-open it in binary mode\n\nOtherwise, you can hit TypeErrors on Python3.\n\nCloses-Bug: 1775482\n(cherry picked from commit 415b48056d9d021e04ec972029040a89a6b13928)\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n""}, {'number': 5, 'created': '2020-01-10 23:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a172f20e3fbcda8d82529e300924663641ac8660', 'message': ""Fix functional tests for py3\n\nFix various things so the functional tests will work under python3:\n\n- A hashlib.md5() can only be update()d with an encoded string in py3.\n- There's no dict.iteritems(), change to dict.items() (which is already\n  an iterator).\n- Open temp files with 'w+' mode rather than the default 'w+b' (as an\n  alternative to encoding all the write and expected-read payloads as\n  bytes).\n- (This is a weird one) Explicitly raise SkipTest from unittest (rather\n  than unittest2, which is where cls.skipException landed). Not sure why\n  this is busted, but this moves the ball.\n\nConflict/issue with raising SkipTest on this branch.\n\n(cherry picked from commit f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81)\n(cherry picked from commit b866202f54afddca66a77cd989b082e193a96956)\n\nIncludes squash of:\nBefore writing object data to stdout, re-open it in binary mode\n\nOtherwise, you can hit TypeErrors on Python3.\n\nCloses-Bug: 1775482\n(cherry picked from commit 415b48056d9d021e04ec972029040a89a6b13928)\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n""}, {'number': 6, 'created': '2020-01-12 07:51:20.000000000', 'files': ['openstackclient/tests/functional/compute/v2/test_keypair.py', 'openstackclient/api/object_store_v1.py', 'openstackclient/tests/unit/object/v1/test_object_all.py', 'openstackclient/tests/functional/object/v1/test_object.py', 'openstackclient/tests/functional/compute/v2/test_agent.py', 'openstackclient/tests/functional/identity/v3/common.py', 'releasenotes/notes/bug-1775482-7ed2a9a8765b313e.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/29ec8c8134072b9b3eb6ff89320506bef9ec358a', 'message': ""Fix functional tests for py3\n\nFix various things so the functional tests will work under python3:\n\n- A hashlib.md5() can only be update()d with an encoded string in py3.\n- There's no dict.iteritems(), change to dict.items() (which is already\n  an iterator).\n- Open temp files with 'w+' mode rather than the default 'w+b' (as an\n  alternative to encoding all the write and expected-read payloads as\n  bytes).\n- (This is a weird one) Explicitly raise SkipTest from unittest (rather\n  than unittest2, which is where cls.skipException landed). Not sure why\n  this is busted, but this moves the ball.\n\nConflict/issue with raising SkipTest on this branch.\n\n(cherry picked from commit f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81)\n(cherry picked from commit b866202f54afddca66a77cd989b082e193a96956)\n\nIncludes squash of:\nBefore writing object data to stdout, re-open it in binary mode\n\nOtherwise, you can hit TypeErrors on Python3.\n\nCloses-Bug: 1775482\n(cherry picked from commit 415b48056d9d021e04ec972029040a89a6b13928)\n\nChange-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee\n""}]",5,701306,29ec8c8134072b9b3eb6ff89320506bef9ec358a,36,10,6,14892,,,0,"Fix functional tests for py3

Fix various things so the functional tests will work under python3:

- A hashlib.md5() can only be update()d with an encoded string in py3.
- There's no dict.iteritems(), change to dict.items() (which is already
  an iterator).
- Open temp files with 'w+' mode rather than the default 'w+b' (as an
  alternative to encoding all the write and expected-read payloads as
  bytes).
- (This is a weird one) Explicitly raise SkipTest from unittest (rather
  than unittest2, which is where cls.skipException landed). Not sure why
  this is busted, but this moves the ball.

Conflict/issue with raising SkipTest on this branch.

(cherry picked from commit f1d742f32adeb662a3fdf8fa3ef3bc391e71ed81)
(cherry picked from commit b866202f54afddca66a77cd989b082e193a96956)

Includes squash of:
Before writing object data to stdout, re-open it in binary mode

Otherwise, you can hit TypeErrors on Python3.

Closes-Bug: 1775482
(cherry picked from commit 415b48056d9d021e04ec972029040a89a6b13928)

Change-Id: Ic9b2b47848a600e87a3674289ae7ae8c3e091fee
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/701306/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/compute/v2/test_keypair.py', 'openstackclient/tests/functional/identity/v2/common.py', 'openstackclient/tests/functional/object/v1/test_object.py', 'openstackclient/tests/functional/compute/v2/test_agent.py', 'openstackclient/tests/functional/identity/v3/common.py']",5,2ee94cc02136b73f056ddf2b55e7c3f5364bf395,fix-functional-for-py3-stable/stein," for k, v in d.items():"," for k, v in d.iteritems():",8,7
openstack%2Fheat-dashboard~master~I43f76bc07d846341c1f5da69614e2be51ee05e30,openstack/heat-dashboard,master,I43f76bc07d846341c1f5da69614e2be51ee05e30,Remove six usage (1/2),MERGED,2020-01-11 15:40:22.000000000,2020-01-20 18:17:37.000000000,2020-01-20 18:15:19.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-11 15:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/8571b75f664033770f47ee8b9dd0b0bf86dd239e', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: I43f76bc07d846341c1f5da69614e2be51ee05e30\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 2, 'created': '2020-01-11 17:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/f1e029ca9cb546dcea5c6db8adf45c76396cc90e', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: I43f76bc07d846341c1f5da69614e2be51ee05e30\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 3, 'created': '2020-01-11 17:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/a7d42e40afbc672bada6d9d4968e56460385eba1', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: I43f76bc07d846341c1f5da69614e2be51ee05e30\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 4, 'created': '2020-01-11 19:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/bda64dc48c246c5c2ce3289cacc35e2484623a8d', 'message': ""Remove six usage (1/2)\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nThis changes everything besides urllib.\n\nChange-Id: I43f76bc07d846341c1f5da69614e2be51ee05e30\nNeeded-By: https://review.opendev.org/701743\n""}, {'number': 5, 'created': '2020-01-11 19:54:32.000000000', 'files': ['heat_dashboard/test/test_data/exceptions.py', 'heat_dashboard/test/tests/api/test_heat.py', 'heat_dashboard/test/tests/content/test_stacks.py', 'heat_dashboard/content/stacks/mappings.py', 'heat_dashboard/api/heat.py', 'heat_dashboard/content/stacks/forms.py', 'heat_dashboard/test/helpers.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/7103caa0699e05ec9321d12485aabe1ce00bd36e', 'message': ""Remove six usage (1/2)\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nThis changes everything besides urllib.\n\nChange-Id: I43f76bc07d846341c1f5da69614e2be51ee05e30\nNeeded-By: https://review.opendev.org/701743\n""}]",4,702080,7103caa0699e05ec9321d12485aabe1ce00bd36e,23,4,5,6547,,,0,"Remove six usage (1/2)

This repo does not support Python 2 anymore, so we don't need
six for compatibility between Python2 and 3, convert six usage to Python
3 code.

This changes everything besides urllib.

Change-Id: I43f76bc07d846341c1f5da69614e2be51ee05e30
Needed-By: https://review.opendev.org/701743
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/80/702080/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat_dashboard/test/test_data/exceptions.py', 'heat_dashboard/test/tests/api/test_heat.py', 'heat_dashboard/test/tests/content/test_stacks.py', 'heat_dashboard/content/stacks/mappings.py', 'heat_dashboard/api/heat.py', 'heat_dashboard/content/stacks/forms.py', 'heat_dashboard/test/helpers.py']",7,8571b75f664033770f47ee8b9dd0b0bf86dd239e,remove-six," loc = str(response._headers.get('location', None)[1]) if message and message not in str(errors): rows = list(filter(lambda x: x.id == row_id, table.data)) actions = list(filter(lambda x: x.name == action_name, row_actions)) actions = list(filter(lambda x: x.name == action_name, table_actions))","import six from six import moves loc = six.text_type(response._headers.get('location', None)[1]) if message and message not in six.text_type(errors): rows = list(moves.filter(lambda x: x.id == row_id, table.data)) actions = list(moves.filter(lambda x: x.name == action_name, row_actions)) actions = list(moves.filter(lambda x: x.name == action_name, table_actions))",24,35
openstack%2Fheat~master~I1de9154e5e2ba9f246b2785f18ce7891e69ec25c,openstack/heat,master,I1de9154e5e2ba9f246b2785f18ce7891e69ec25c,Support tls_enabled for Octavia pool,MERGED,2019-05-10 10:18:22.000000000,2020-01-20 18:14:38.000000000,2020-01-20 18:11:21.000000000,"[{'_account_id': 4257}, {'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 10:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e95857f610197f4331e17b1b52ede6903be73ef5', 'message': ""Support tls_enabled for Octavia pool\n\nAdding support `tls_enabled` property for the resource `OS::Octavia::Pool`, the\nproperty is allowed to be updated as well. The property 'tls_enabled' was\nintroduced in Octavia since Stein release. The default value is False if it\nis not specified in Heat template.\n\nStory: 2005646\n\nChange-Id: I1de9154e5e2ba9f246b2785f18ce7891e69ec25c\n""}, {'number': 2, 'created': '2019-12-19 02:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/065a2686db9d1f146bdd7db36667c3d5a5cac5d5', 'message': ""Support tls_enabled for Octavia pool\n\nAdding support `tls_enabled` property for the resource `OS::Octavia::Pool`, the\nproperty is allowed to be updated as well. The property 'tls_enabled' was\nintroduced in Octavia since Stein release. The default value is False if it\nis not specified in Heat template.\n\nTask: 30926\nStory: 2005646\n\nChange-Id: I1de9154e5e2ba9f246b2785f18ce7891e69ec25c\n""}, {'number': 3, 'created': '2019-12-19 02:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e2e6de0378bbf04233921b765315dc2c106f85e1', 'message': ""Support tls_enabled for Octavia pool\n\nAdding support `tls_enabled` property for the resource `OS::Octavia::Pool`, the\nproperty is allowed to be updated as well. The property 'tls_enabled' was\nintroduced in Octavia since Stein release. The default value is False if it\nis not specified in Heat template.\n\nTask: 30926\nStory: 2005646\n\nChange-Id: I1de9154e5e2ba9f246b2785f18ce7891e69ec25c\n""}, {'number': 4, 'created': '2019-12-19 03:02:47.000000000', 'files': ['heat/tests/openstack/octavia/test_pool.py', 'heat/engine/resources/openstack/octavia/pool.py', 'releasenotes/notes/octavia-pool-tls-enabled-373a8c74f7c7664b.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/caf97f242a5dd75477a3fa2154c742609aa43119', 'message': ""Support tls_enabled for Octavia pool\n\nAdding support `tls_enabled` property for the resource `OS::Octavia::Pool`, the\nproperty is allowed to be updated as well. The property 'tls_enabled' was\nintroduced in Octavia since Stein release. The default value is False if it\nis not specified in Heat template.\n\nTask: 30926\nStory: 2005646\n\nChange-Id: I1de9154e5e2ba9f246b2785f18ce7891e69ec25c\n""}]",4,658324,caf97f242a5dd75477a3fa2154c742609aa43119,30,5,4,6484,,,0,"Support tls_enabled for Octavia pool

Adding support `tls_enabled` property for the resource `OS::Octavia::Pool`, the
property is allowed to be updated as well. The property 'tls_enabled' was
introduced in Octavia since Stein release. The default value is False if it
is not specified in Heat template.

Task: 30926
Story: 2005646

Change-Id: I1de9154e5e2ba9f246b2785f18ce7891e69ec25c
",git fetch https://review.opendev.org/openstack/heat refs/changes/24/658324/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/octavia/test_pool.py', 'heat/engine/resources/openstack/octavia/pool.py', 'releasenotes/notes/octavia-pool-tls-enabled-373a8c74f7c7664b.yaml']",3,e95857f610197f4331e17b1b52ede6903be73ef5,story/2005646,"--- features: - Support ``tls_enabled`` property for the resource ``OS::Octavia::Pool``, the property is allowed to be updated as well. The property 'tls_enabled' was introduced in Octavia since Stein release. The default value is False if it is not specified in Heat template. ",,16,2
openstack%2Ftripleo-ansible~master~Id36a15da4cf83697250c81e1650a9639f590b87f,openstack/tripleo-ansible,master,Id36a15da4cf83697250c81e1650a9639f590b87f,Normalize role names when generating roles,MERGED,2020-01-20 14:57:06.000000000,2020-01-20 18:03:34.000000000,2020-01-20 18:03:34.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-20 14:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/139a34b19b808d821c05433422ecb63ca22440ee', 'message': 'Normalize role names when generating roles\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change ensures that we\'re no longer generating roles\nthat have a ""-"" within them. The role-addition.yml playbook will now\nnormalize the name and replace any ""-"" with an ""_"".\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id36a15da4cf83697250c81e1650a9639f590b87f\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-20 15:33:36.000000000', 'files': ['role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3d86e2a930f4391b2a28a6668f7bd944aa9c9a0', 'message': 'Normalize role names when generating roles\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change ensures that we\'re no longer generating roles\nthat have a ""-"" within them. The role-addition.yml playbook will now\nnormalize the name and replace any ""-"" with an ""_"".\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: Id36a15da4cf83697250c81e1650a9639f590b87f\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,703409,c3d86e2a930f4391b2a28a6668f7bd944aa9c9a0,11,4,2,7353,,,0,"Normalize role names when generating roles

Roles can no longer have a ""-"" in them according to the upstream ansible
documentation[0]. This change ensures that we're no longer generating roles
that have a ""-"" within them. The role-addition.yml playbook will now
normalize the name and replace any ""-"" with an ""_"".

[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory

Change-Id: Id36a15da4cf83697250c81e1650a9639f590b87f
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/703409/2 && git format-patch -1 --stdout FETCH_HEAD,['role-addition.yml'],1,139a34b19b808d821c05433422ecb63ca22440ee,renaming-all-the-things," - name: Normalize the role name set_fact: _role_name: ""{{ role_name | replace('-', '_' ) }}"" --init-path=tripleo_ansible/roles {{ _role_name }} args: creates: ""tripleo_ansible/roles/{{ _role_name }}"" {% set new_job_name = ""tripleo-ansible-centos-7-molecule-"" ~ _role_name %} ""^tripleo_ansible/roles/"" ~ _role_name ~ ""/.*"" ""tripleo_role_name"": _role_name {% set opening = 'Role - ' ~ _role_name %} :role: tripleo_ansible/roles/{{ _role_name }} dest: ""doc/source/roles/role-{{ _role_name }}.rst"""," --init-path=tripleo_ansible/roles {{ role_name }} args: creates: ""tripleo_ansible/roles/{{ role_name }}"" {% set new_job_name = ""tripleo-ansible-centos-7-molecule-"" ~ role_name %} ""^tripleo_ansible/roles/"" ~ role_name ~ ""/.*"" ""tripleo_role_name"": role_name {% set opening = 'Role - ' ~ role_name %} :role: tripleo_ansible/roles/{{ role_name }} dest: ""doc/source/roles/role-{{ role_name }}.rst""",12,8
openstack%2Fmistral~master~I5a8977d27f779b88cc29afb78e92d95fd51d9202,openstack/mistral,master,I5a8977d27f779b88cc29afb78e92d95fd51d9202,"DNM... testing Revert ""Fix keycloak authentication""",ABANDONED,2020-01-20 17:20:01.000000000,2020-01-20 17:58:16.000000000,,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-01-20 17:20:01.000000000', 'files': ['requirements.txt', 'mistral/context.py', 'mistral/config.py', 'mistral/tests/unit/api/v2/test_keycloak_auth.py', 'lower-constraints.txt', 'mistral/auth/keycloak.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/cea8129cdb66bd3a199b22ddcf0dce4e46eafe1c', 'message': 'DNM... testing Revert ""Fix keycloak authentication""\n\nThis reverts commit c888a46ccc46346deee8d483a706918341bc0a7f.\n\nChange-Id: I5a8977d27f779b88cc29afb78e92d95fd51d9202\n'}]",0,703458,cea8129cdb66bd3a199b22ddcf0dce4e46eafe1c,2,7,1,9592,,,0,"DNM... testing Revert ""Fix keycloak authentication""

This reverts commit c888a46ccc46346deee8d483a706918341bc0a7f.

Change-Id: I5a8977d27f779b88cc29afb78e92d95fd51d9202
",git fetch https://review.opendev.org/openstack/mistral refs/changes/58/703458/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'mistral/context.py', 'mistral/config.py', 'mistral/tests/unit/api/v2/test_keycloak_auth.py', 'lower-constraints.txt', 'mistral/auth/keycloak.py']",6,cea8129cdb66bd3a199b22ddcf0dce4e46eafe1c,bug/1857871," def authenticate(self, req): certfile = CONF.keycloak_oidc.certfile keyfile = CONF.keycloak_oidc.keyfile cafile = CONF.keycloak_oidc.cafile or self.get_system_ca_file() insecure = CONF.keycloak_oidc.insecure decoded = jwt.decode(access_token, algorithms=['RS256'], verify=False) user_info_endpoint = user_info_endpoint_url else: user_info_endpoint = ( (""%s"" + user_info_endpoint_url) % (CONF.keycloak_oidc.auth_url, realm_name)) verify = None if urllib.parse.urlparse(user_info_endpoint).scheme == ""https"": verify = False if insecure else cafile cert = (certfile, keyfile) if certfile and keyfile else None try: resp = requests.get( user_info_endpoint, headers={""Authorization"": ""Bearer %s"" % access_token}, verify=verify, cert=cert ) except requests.ConnectionError: msg = _(""Can't connect to keycloak server with address '%s'."" ) % CONF.keycloak_oidc.auth_url LOG.error(msg) raise exc.MistralException(message=msg) if resp.status_code == 401: LOG.warning(""HTTP response from OIDC provider:"" "" [%s] with WWW-Authenticate: [%s]"", pprint.pformat(resp.text), resp.headers.get(""WWW-Authenticate"")) else: LOG.debug(""HTTP response from OIDC provider: %s"", pprint.pformat(resp.text)) resp.raise_for_status() LOG.debug( ""HTTP response from OIDC provider: %s"", pprint.pformat(resp.json()) ) # Suse, FreeBSD/OpenBSD, MacOSX, and the bundled ca ca_path = ['/etc/ssl/certs/ca-certificates.crt', '/etc/pki/tls/certs/ca-bundle.crt', '/etc/ssl/ca-bundle.pem', '/etc/ssl/cert.pem', '/System/Library/OpenSSL/certs/cacert.pem', requests.certs.where()]","from cachetools import cached from cachetools import LRUCache import jsonfrom jwt import algorithms as jwt_algos def authenticate(self, req): decoded = jwt.decode( access_token, algorithms=['RS256'], verify=False ) audience = decoded.get('aud') self.send_request_to_auth_server( url=user_info_endpoint_url, access_token=access_token ) else: public_key = self.get_public_key(realm_name) keycloak_iss = None try: if CONF.keycloak_oidc.keycloak_iss: keycloak_iss = CONF.keycloak_oidc.keycloak_iss % realm_name jwt.decode( access_token, public_key, audience=audience, issuer=keycloak_iss, algorithms=['RS256'], verify=True ) except Exception: LOG.exception('The request access token is invalid.') raise exc.UnauthorizedException() # Suse, FreeBSD/OpenBSD, MacOSX, and the bundled ca. ca_path = [ '/etc/ssl/certs/ca-certificates.crt', '/etc/pki/tls/certs/ca-bundle.crt', '/etc/ssl/ca-bundle.pem', '/etc/ssl/cert.pem', '/System/Library/OpenSSL/certs/cacert.pem', requests.certs.where() ] @cached(LRUCache(maxsize=32)) def get_public_key(self, realm_name): keycloak_key_url = ( CONF.keycloak_oidc.auth_url + CONF.keycloak_oidc.public_cert_url % realm_name ) response_json = self.send_request_to_auth_server(keycloak_key_url) keys = response_json.get('keys') if not keys: raise exc.MistralException( 'Unexpected response structure from the keycloak server.' ) public_key = jwt_algos.RSAAlgorithm.from_jwk( json.dumps(keys[0]) ) return public_key def send_request_to_auth_server(self, url, access_token=None): certfile = CONF.keycloak_oidc.certfile keyfile = CONF.keycloak_oidc.keyfile cafile = CONF.keycloak_oidc.cafile or self.get_system_ca_file() insecure = CONF.keycloak_oidc.insecure verify = None if urllib.parse.urlparse(url).scheme == ""https"": verify = False if insecure else cafile cert = (certfile, keyfile) if certfile and keyfile else None headers = {} if access_token: headers[""Authorization""] = ""Bearer %s"" % access_token try: resp = requests.get( url, headers=headers, verify=verify, cert=cert ) except requests.ConnectionError: msg = _( ""Can't connect to the keycloak server with address '%s'."" ) % url LOG.exception(msg) raise exc.MistralException(message=msg) if resp.status_code == 401: LOG.warning( ""HTTP response from OIDC provider:"" "" [%s] with WWW-Authenticate: [%s]"", pprint.pformat(resp.text), resp.headers.get(""WWW-Authenticate"") ) else: LOG.debug( ""HTTP response from the OIDC provider: %s"", pprint.pformat(resp.json()) ) resp.raise_for_status() return resp.json()",103,232
openstack%2Fproject-config~master~I41de5a1f57eed0a165bcd93ab1585003c3d478fb,openstack/project-config,master,I41de5a1f57eed0a165bcd93ab1585003c3d478fb,Stop forcing universal wheel releases,MERGED,2020-01-20 17:34:22.000000000,2020-01-20 17:57:43.000000000,2020-01-20 17:57:43.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 17:34:22.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c3da4458ee785beccec65e2c018c2f5b285af2a2', 'message': ""Stop forcing universal wheel releases\n\nWe added the --universal flag to always be included in python release\njobs in I09cf4e64194395417c1bfa95237b04bd316c18fa to make sure projects\nthat did not set it in their setup.cfg would still get universal wheels.\nThis worked well while we had both py2 and py3 support, but now that we\nhave transitioned to just py3, we do not still want this to happen.\n\nWe would still like it to happen on stable releases that do still\nsupport py2, but that really is up to the project to set the flag in\nsetup.cfg. Removing this from the job definition is a trade off, but\nit's considered slightly better that we do not have universal wheels for\nour new deliverables since not having it for stable will just mean\nslightly longer install times.\n\nChange-Id: I41de5a1f57eed0a165bcd93ab1585003c3d478fb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,703464,c3da4458ee785beccec65e2c018c2f5b285af2a2,7,3,1,11904,,,0,"Stop forcing universal wheel releases

We added the --universal flag to always be included in python release
jobs in I09cf4e64194395417c1bfa95237b04bd316c18fa to make sure projects
that did not set it in their setup.cfg would still get universal wheels.
This worked well while we had both py2 and py3 support, but now that we
have transitioned to just py3, we do not still want this to happen.

We would still like it to happen on stable releases that do still
support py2, but that really is up to the project to set the flag in
setup.cfg. Removing this from the job definition is a trade off, but
it's considered slightly better that we do not have universal wheels for
our new deliverables since not having it for stable will just mean
slightly longer install times.

Change-Id: I41de5a1f57eed0a165bcd93ab1585003c3d478fb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/703464/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c3da4458ee785beccec65e2c018c2f5b285af2a2,univeral,," bdist_wheel_xargs: ""--universal"" bdist_wheel_xargs: ""--universal""",0,2
openstack%2Ftripleo-heat-templates~master~I80bd347c4210f9ee7f06febe26a130269ab56b85,openstack/tripleo-heat-templates,master,I80bd347c4210f9ee7f06febe26a130269ab56b85,Add swiftoperator role on ceph-rgw template,MERGED,2020-01-13 14:41:13.000000000,2020-01-20 17:57:35.000000000,2020-01-20 17:57:35.000000000,"[{'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-01-13 14:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95db176caa22ad4b20ce7f5691c5ef3af65ca6d8', 'message': ""Add swiftoperator role on ceph-rgw template\n\nWhen deploying an Overcloud with Swift a role named\nswiftoperator is created.\nThis change make sure we have swiftoperator role\nwhen Ceph Object Gateway is created as well (as it's\nreplacement for swift).\n\nChange-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85\n""}, {'number': 2, 'created': '2020-01-13 17:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fb3bf2b98377d811cf3ae7806f128315f01fb1f', 'message': ""Add swiftoperator role on ceph-rgw template\n\nWhen deploying an Overcloud with Swift a role named\nswiftoperator is created.\nThis change make sure we have swiftoperator role\nwhen Ceph Object Gateway is created as well (as it's\nreplacement for swift).\n\nChange-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85\n""}, {'number': 3, 'created': '2020-01-14 08:38:39.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f', 'message': ""Add swiftoperator role on ceph-rgw template\n\nWhen deploying an Overcloud with Swift a role named\nswiftoperator is created.\nThis change make sure we have swiftoperator role\nwhen Ceph Object Gateway is created as well (as it's\nreplacement for swift).\n\nChange-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85\n""}]",6,702230,f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f,25,6,3,25402,,,0,"Add swiftoperator role on ceph-rgw template

When deploying an Overcloud with Swift a role named
swiftoperator is created.
This change make sure we have swiftoperator role
when Ceph Object Gateway is created as well (as it's
replacement for swift).

Change-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/702230/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-rgw.yaml'],1,95db176caa22ad4b20ce7f5691c5ef3af65ca6d8,, - swiftoperator,,1,0
openstack%2Fpaunch~stable%2Fqueens~I8a495d2c98617bb5edbe13ccf737d6c630eea7ad,openstack/paunch,stable/queens,I8a495d2c98617bb5edbe13ccf737d6c630eea7ad,Fix discovering container names,MERGED,2020-01-14 15:06:07.000000000,2020-01-20 17:55:41.000000000,2020-01-20 17:55:40.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-14 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/aed3f235702f821f1819cbdcf856d16b64c9dce3', 'message': ""Fix discovering container names\n\n(a partial backport limited to action 'run')\nMake discover_container_name returning None, if the ps command failed\nor returned nothing useful.\n\n* For 'run', if no container name has been discovered, use its\n  predictable (fixed) container service name.\n\nRelated-Bug: #1839929\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I8a495d2c98617bb5edbe13ccf737d6c630eea7ad\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 3dcbe5e68c50a09a503ab52a03e082949bfed594)\n""}, {'number': 2, 'created': '2020-01-15 13:45:50.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/builder/compose1.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/f8ede6b3627aa7c52e0969ee251b01bf901922c8', 'message': ""Fix discovering container names\n\n(a partial backport limited to action 'run')\nMake discover_container_name returning None, if the ps command failed\nor returned nothing useful.\n\n* For 'run', if no container name has been discovered, use its\n  predictable (fixed) container service name.\n\nRelated-Bug: #1839929\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I8a495d2c98617bb5edbe13ccf737d6c630eea7ad\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 3dcbe5e68c50a09a503ab52a03e082949bfed594)\n""}]",0,702457,f8ede6b3627aa7c52e0969ee251b01bf901922c8,20,8,2,6926,,,0,"Fix discovering container names

(a partial backport limited to action 'run')
Make discover_container_name returning None, if the ps command failed
or returned nothing useful.

* For 'run', if no container name has been discovered, use its
  predictable (fixed) container service name.

Related-Bug: #1839929

Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I8a495d2c98617bb5edbe13ccf737d6c630eea7ad
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 3dcbe5e68c50a09a503ab52a03e082949bfed594)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/57/702457/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/builder/compose1.py']",3,aed3f235702f821f1819cbdcf856d16b64c9dce3,1790792_maybe," c_name = self.runner.discover_container_name( container, self.config_id) or container c_name", self.runner.unique_container_name(container),5,4
openstack%2Fpaunch~stable%2Fqueens~If4d8c268218bf83abed877a699fc583fb55ccbed,openstack/paunch,stable/queens,If4d8c268218bf83abed877a699fc583fb55ccbed,Check if container is running before doing an exec,MERGED,2020-01-14 15:06:07.000000000,2020-01-20 17:55:40.000000000,2020-01-20 17:55:40.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-14 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/e191f5a8bdde66078b959acb40395a9a95ec5c86', 'message': 'Check if container is running before doing an exec\n\n(a partial backport limited only to discover_container_name)\n\nIt only consolidates the discover_container_name method in order to get\nmore chance to actually get a name.\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nCloses-Bug: #1839559\nChange-Id: If4d8c268218bf83abed877a699fc583fb55ccbed\n(cherry picked from commit 983ab98f61f530eec7cac31e3a0556bf6722e2a0)\n'}, {'number': 2, 'created': '2020-01-15 13:45:50.000000000', 'files': ['paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/d66ba71100d81b88f9700b3e053a4014848e5d49', 'message': 'Check if container is running before doing an exec\n\n(a partial backport limited only to discover_container_name)\n\nIt only consolidates the discover_container_name method in order to get\nmore chance to actually get a name.\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nCloses-Bug: #1839559\nChange-Id: If4d8c268218bf83abed877a699fc583fb55ccbed\n(cherry picked from commit 983ab98f61f530eec7cac31e3a0556bf6722e2a0)\n'}]",0,702456,d66ba71100d81b88f9700b3e053a4014848e5d49,19,7,2,6926,,,0,"Check if container is running before doing an exec

(a partial backport limited only to discover_container_name)

It only consolidates the discover_container_name method in order to get
more chance to actually get a name.

Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Closes-Bug: #1839559
Change-Id: If4d8c268218bf83abed877a699fc583fb55ccbed
(cherry picked from commit 983ab98f61f530eec7cac31e3a0556bf6722e2a0)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/56/702456/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/runner.py'],1,e191f5a8bdde66078b959acb40395a9a95ec5c86,1790792_maybe," if returncode == 0: names = cmd_stdout.split() if names: return names[0] self.log.warning('Did not find container with ""%s"" - retrying without ' 'config_id' % cmd) cmd = [ self.docker_cmd, 'ps', '-a', '--filter', 'label=container_name=%s' % container, '--format', '{{.Names}}' ] (cmd_stdout, cmd_stderr, returncode) = self.execute(cmd, self.log) if returncode == 0: names = cmd_stdout.split() if names: return names[0] self.log.warning('Did not find container with ""%s""' % cmd)", if returncode != 0: return container names = cmd_stdout.split() if names: return names[0],23,5
