id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpaunch~stable%2Ftrain~If129bbc1ff32941d06ff480f26870b10840591e0,openstack/paunch,stable/train,If129bbc1ff32941d06ff480f26870b10840591e0,Fix action Apply ignoring managed-by arg,MERGED,2019-11-29 09:48:05.000000000,2019-11-29 21:11:31.000000000,2019-11-29 21:10:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 09:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/51ed8f2efcfe7a7cadb0cbd3f39f658743275a5b', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 000a68b39312eb297bb7a2f91a5e4adfd840b5d3)\n'}, {'number': 2, 'created': '2019-11-29 10:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/89f23f8f669603b76264a4f828072cb244bc2d17', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 000a68b39312eb297bb7a2f91a5e4adfd840b5d3)\n'}, {'number': 3, 'created': '2019-11-29 10:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/64675b43afb15f7c316d84b5b6abda00cac445ea', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 000a68b39312eb297bb7a2f91a5e4adfd840b5d3)\n'}, {'number': 4, 'created': '2019-11-29 12:23:54.000000000', 'files': ['paunch/cmd.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/1620395464c95bc90c97f470a8faedc6a549d52d', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 12ccf36b0e7f9b233b8b71a21fe24b241ecb639b)\n'}]",0,696673,1620395464c95bc90c97f470a8faedc6a549d52d,16,5,4,6926,,,0,"Fix action Apply ignoring managed-by arg

From the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the
action apply was ignoring the passed --managed-by values and was always
taking defaults ('paunch').

Fix this and provide no upgrade/update impact, which is for whatever
--managed-by value given to paunch, perform all checks and searches
also for that historically ""wrong"" value 'paunch':

* if a container needs to be (re)started by a new 'managed-by', make sure
  it can be found by the default 'paunch' value as well, then reset its
  managed-by to the desired value.

Closes-bug: #1853812

Change-Id: If129bbc1ff32941d06ff480f26870b10840591e0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 12ccf36b0e7f9b233b8b71a21fe24b241ecb639b)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/73/696673/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/cmd.py', 'paunch/runner.py']",2,51ed8f2efcfe7a7cadb0cbd3f39f658743275a5b,," results = cmd_stdout.split() if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=paunch', '--format', fmt ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return set() results += cmd_stdout.split() return set(results) results = cmd_stdout.split() if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-q', '-a', '--filter', 'label=managed_by=paunch', '--filter', 'label=config_id=%s' % conf_id ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return [] results += cmd_stdout.split() return [c for c in results] results = cmd_stdout.split(""\n"") if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=paunch' ] if conf_id: cmd.extend(( '--filter', 'label=config_id=%s' % conf_id )) cmd.extend(( '--format', '{{.Names}} %s' % fmt )) cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return results += cmd_stdout.split(""\n"") for line in results:"," if returncode != 0: return set() return set(cmd_stdout.split()) if returncode != 0: return [] return [c for c in cmd_stdout.split()] if returncode != 0: return for line in cmd_stdout.split(""\n""):",49,10
openstack%2Fsenlin~master~I6ab0a8237af1431baa75e7aaf09cabab526e53fd,openstack/senlin,master,I6ab0a8237af1431baa75e7aaf09cabab526e53fd,Stop testing python2.7,ABANDONED,2019-10-28 05:54:44.000000000,2019-11-29 21:05:40.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-10-28 05:54:44.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/4ada43d43e8a6cc2133563fdb6428e9fd4939658', 'message': 'Stop testing python2.7\n\nChange-Id: I6ab0a8237af1431baa75e7aaf09cabab526e53fd\n'}]",0,691589,4ada43d43e8a6cc2133563fdb6428e9fd4939658,5,3,1,30384,,,0,"Stop testing python2.7

Change-Id: I6ab0a8237af1431baa75e7aaf09cabab526e53fd
",git fetch https://review.opendev.org/openstack/senlin refs/changes/89/691589/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,4ada43d43e8a6cc2133563fdb6428e9fd4939658,,"envlist = py37,pep8,functional","envlist = py27,py37,pep8,functional",1,3
openstack%2Fnova~master~Ie033e6f328a8be903c56b45fdfb019b0046f23ad,openstack/nova,master,Ie033e6f328a8be903c56b45fdfb019b0046f23ad,Follow up I18d73212f9d98bc75974a024cf6fd872fdfb1ca4,MERGED,2019-11-29 17:08:45.000000000,2019-11-29 21:00:17.000000000,2019-11-29 20:56:17.000000000,"[{'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-29 17:08:45.000000000', 'files': ['doc/source/install/get-started-compute.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc1402666fb6d202bded23a06e4156bbccf62b94', 'message': 'Follow up I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\n\nMultiple cells is not a requirement for using the API metadata\nservice so this fixes the change based on the nova-network multi-host\nchange [1].\n\n[1] https://review.opendev.org/#/c/686816/12/doc/source/install/get-started-compute.rst@29\n\nChange-Id: Ie033e6f328a8be903c56b45fdfb019b0046f23ad\n'}]",0,696740,dc1402666fb6d202bded23a06e4156bbccf62b94,12,6,1,6873,,,0,"Follow up I18d73212f9d98bc75974a024cf6fd872fdfb1ca4

Multiple cells is not a requirement for using the API metadata
service so this fixes the change based on the nova-network multi-host
change [1].

[1] https://review.opendev.org/#/c/686816/12/doc/source/install/get-started-compute.rst@29

Change-Id: Ie033e6f328a8be903c56b45fdfb019b0046f23ad
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/696740/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/get-started-compute.rst'],1,dc1402666fb6d202bded23a06e4156bbccf62b94,bp/remove-nova-network-ussuri," Accepts metadata requests from instances. For more information, refer to :doc:`/admin/metadata-service`."," Accepts metadata requests from instances. The ``nova-api-metadata`` service is used when running a multi-cell deployment. For more information, refer to :ref:`cells-v2-layout-metadata-api`.",2,3
openstack%2Fneutron~master~I9fc200de376668b662cd8c2bfba01483dc9bb677,openstack/neutron,master,I9fc200de376668b662cd8c2bfba01483dc9bb677,"Revert ""Revise log when create port failed""",MERGED,2019-11-28 04:16:12.000000000,2019-11-29 20:58:02.000000000,2019-11-29 20:56:11.000000000,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18480}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-28 04:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bba04dfa948eab4f670fb4b07fd70c594b6984c0', 'message': 'Revert ""Revise log when create port failed""\n\nAfter this patch, during delete subnets with fixed ip, there are high chances a subnet can\'t be found(because it just deleted) while deleting another subnet and Raise BadRequest instead of Notfound.\nThe behavior change led to heat gate failure, since Heat expect to see NotFound exception instead of BadRequest. \nAlso the error message is really confusing while delete subnets (you can check out more detail in https://storyboard.openstack.org/#!/story/2006962)\n\nhence, I think to revert this patch will make sense to maintain the behavior before a proper solution comes out. \n\nStory: 2006962\nTask: 37652\nThis reverts commit cae66a4d8d13deda74db806d733c2ac39ea2e849.\n\nChange-Id: I9fc200de376668b662cd8c2bfba01483dc9bb677\n'}, {'number': 2, 'created': '2019-11-28 07:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59ff636f6a5713f862dc4179bdfa474b270bc258', 'message': 'Revert ""Revise log when create port failed""\n\nAfter this patch, during delete subnets with fixed ip, there are high\nchances a subnet can\'t be found(because it just deleted) while\ndeleting another subnet and Raise BadRequest instead of Notfound.\nThe behavior change led to heat gate failure, since Heat expect to\nsee NotFound exception instead of BadRequest. \nAlso the error message is really confusing while delete subnets\n(you can check out more detail in\nhttps://storyboard.openstack.org/#!/story/2006962)\n\nhence, I think to revert this patch will make sense to maintain the\nbehavior before a proper solution comes out. \n\nStory: 2006962\nTask: 37652\nThis reverts commit cae66a4d8d13deda74db806d733c2ac39ea2e849.\n\nChange-Id: I9fc200de376668b662cd8c2bfba01483dc9bb677\n'}, {'number': 3, 'created': '2019-11-29 14:27:10.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/22d2bb94f71d81116046dcf56d8e51e66b6548b6', 'message': 'Revert ""Revise log when create port failed""\n\nAfter this patch, during delete subnets with fixed ip, there are high\nchances a subnet can\'t be found(because it just deleted) while\ndeleting another subnet and Raise BadRequest instead of Notfound.\nThe behavior change led to heat gate failure, since Heat expect to\nsee NotFound exception instead of BadRequest. \nAlso the error message is really confusing while delete subnets\n(you can check out more detail in\nhttps://storyboard.openstack.org/#!/story/2006962)\n\nhence, I think to revert this patch will make sense to maintain the\nbehavior before a proper solution comes out. \n\nStory: 2006962\nTask: 37652\nThis reverts commit cae66a4d8d13deda74db806d733c2ac39ea2e849.\n\nChange-Id: I9fc200de376668b662cd8c2bfba01483dc9bb677\n'}]",2,696447,22d2bb94f71d81116046dcf56d8e51e66b6548b6,32,11,3,12404,,,0,"Revert ""Revise log when create port failed""

After this patch, during delete subnets with fixed ip, there are high
chances a subnet can't be found(because it just deleted) while
deleting another subnet and Raise BadRequest instead of Notfound.
The behavior change led to heat gate failure, since Heat expect to
see NotFound exception instead of BadRequest. 
Also the error message is really confusing while delete subnets
(you can check out more detail in
https://storyboard.openstack.org/#!/story/2006962)

hence, I think to revert this patch will make sense to maintain the
behavior before a proper solution comes out. 

Story: 2006962
Task: 37652
This reverts commit cae66a4d8d13deda74db806d733c2ac39ea2e849.

Change-Id: I9fc200de376668b662cd8c2bfba01483dc9bb677
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/696447/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py']",5,bba04dfa948eab4f670fb4b07fd70c594b6984c0,log-error2," context = mock.Mock() _test_fixed_ips_for_port(context,", _test_fixed_ips_for_port(,17,16
openstack%2Fcharm-octavia~master~I33d362840efc8fe2f64e41678a1790557ed268dd,openstack/charm-octavia,master,I33d362840efc8fe2f64e41678a1790557ed268dd,Add support to openstack multi region configuration,MERGED,2019-11-27 17:32:12.000000000,2019-11-29 18:56:05.000000000,2019-11-29 18:56:05.000000000,"[{'_account_id': 10068}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31335}]","[{'number': 1, 'created': '2019-11-27 17:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bb60e4e2d4325dfed2c067d24cb09800abaa2907', 'message': 'When using Octavia with more than one Openstack Region, it does not found\nresources (network, neutron port and ip). It is necessary to specify the\nregion it should search for network and other resources with tag\ncharm-octavia.\n\nThis patch add support to specify region to search for tagged resources.\n\nChange-Id: I33d362840efc8fe2f64e41678a1790557ed268dd\n'}, {'number': 2, 'created': '2019-11-28 18:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/50f1bd81eba910119c3c8d6c285854b962aedd8e', 'message': 'Add suport to openstack multi region configuration\n\nWhen using Octavia with more than one Openstack Region, it does not found\nresources (network, neutron port and ip). It is necessary to specify the\nregion it should search for network and other resources with tag\ncharm-octavia.\n\nThis patch add support to specify region to search for tagged resources.\n\nChange-Id: I33d362840efc8fe2f64e41678a1790557ed268dd\nCloses-Bug: #1854365\n'}, {'number': 3, 'created': '2019-11-29 16:02:07.000000000', 'files': ['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/templates/rocky/octavia.conf', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3e63d79199e69841789ca0042b5302beffaf0111', 'message': 'Add support to openstack multi region configuration\n\nWhen using Octavia with more than one Openstack Region, it does not found\nresources (network, neutron port and ip). It is necessary to specify the\nregion it should search for network and other resources with tag\ncharm-octavia.\n\nThis patch add support to specify region to search for tagged resources.\n\nChange-Id: I33d362840efc8fe2f64e41678a1790557ed268dd\nCloses-Bug: #1854365\n'}]",7,696368,3e63d79199e69841789ca0042b5302beffaf0111,19,5,3,31335,,,0,"Add support to openstack multi region configuration

When using Octavia with more than one Openstack Region, it does not found
resources (network, neutron port and ip). It is necessary to specify the
region it should search for network and other resources with tag
charm-octavia.

This patch add support to specify region to search for tagged resources.

Change-Id: I33d362840efc8fe2f64e41678a1790557ed268dd
Closes-Bug: #1854365
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/68/696368/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/rocky/octavia.conf', 'src/lib/charm/openstack/api_crud.py']",2,bb60e4e2d4325dfed2c067d24cb09800abaa2907,bug/1854365," nc = neutron_client.Client(session=session, region_name=ch_core.hookenv.config('region') ) nc = neutron_client.Client(session=session, region_name=ch_core.hookenv.config('region') ) nc = neutron_client.Client(session=session, region_name=ch_core.hookenv.config('region') ) nc = neutron_client.Client(session=session, region_name=ch_core.hookenv.config('region') )", nc = neutron_client.Client(session=session) nc = neutron_client.Client(session=session) nc = neutron_client.Client(session=session) nc = neutron_client.Client(session=session),35,4
openstack%2Fnova~master~Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8,openstack/nova,master,Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8,Introduce scope_types in os-services,MERGED,2019-03-22 01:16:44.000000000,2019-11-29 18:52:30.000000000,2019-11-29 18:50:11.000000000,"[{'_account_id': 782}, {'_account_id': 5046}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-03-22 01:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a0b02c163e7c2736973f5367ca9a345fa706ec7', 'message': 'WIP: Make os-services policies granular\n\nAdd granularity in os-services API policies so that each API\noperation can be controlled with RBAC separatly.\n\nThis is needed to adopt the new defaults roles also or any\noperator defined read, write roles.\n\nOld rules are maintained with same defaults so that any deployement\noverridden thoe policy rules will keep working as it is.\n\nPartial implement blueprint policy-default-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n'}, {'number': 2, 'created': '2019-03-22 01:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e94b796c6d30ccf7ef723dd8f4498bc51324ee8', 'message': 'WIP: Make os-services policies granular\n\nAdd granularity in os-services API policies so that each API\noperation can be controlled with RBAC separatly.\n\nThis is needed to adopt the new defaults roles also or any\noperator defined read, write roles.\n\nOld rules are maintained with same defaults so that any deployement\noverridden thoe policy rules will keep working as it is.\n\nPartial implement blueprint policy-default-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n'}, {'number': 3, 'created': '2019-03-22 02:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fed1aef8cb523ccdb76ef4422a13eb81dfc9266', 'message': 'WIP: Make os-services policies granular\n\nAdd granularity in os-services API policies so that each API\noperation can be controlled with RBAC separatly.\n\nThis is needed to adopt the new defaults roles also or any\noperator defined read, write roles.\n\nOld rules are maintained with same defaults so that any deployement\noverridden thoe policy rules will keep working as it is.\n\nPartial implement blueprint policy-default-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n'}, {'number': 4, 'created': '2019-03-22 02:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a52aa277ff0a2b85975b76d144d42cf719cce87f', 'message': 'WIP: Make os-services policies granular\n\nAdd granularity in os-services API policies so that each API\noperation can be controlled with RBAC separatly.\n\nThis is needed to adopt the new defaults roles also or any\noperator defined read, write roles.\n\nOld rules are maintained with same defaults so that any deployement\noverridden thoe policy rules will keep working as it is.\n\nPartial implement blueprint policy-default-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n'}, {'number': 5, 'created': '2019-03-27 02:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3597e94e8368c45df0245aff4a34fa5073edf74c', 'message': 'WIP: Make os-services policies granular\n\nThis part of Nova RBAC improvement includes:\n\n1. Granular Policy: Add granularity in os-services API policies\nso that each API operation can be controlled with RBAC separatly.\n\n2. Standardize policy naming: New policies name will be as per\nstandard policy name suggested in oslo.policy\n- https://docs.openstack.org/oslo.policy/latest/user/usage.html#naming-policies\n\nNext step will be to adopt the new defaults roles reader, member, admin.\n\nMigration Plan for Operator:\n\n- Backward compatibility:\n  Old rules are maintained with same defaults so that any deployement\n  overridden those policy rules will keep working as it is.\n\n- Deprecation Plan:\n  Because these policy updates are huge and almost effecting all the nova\n  policies, We are defining the two cycle transition plan which used to be\n  one cycle for policy and config option modification.\n\n- Below warning can be seen by operator to migrate the old policies\n  to new one:\n\n   /opt/stack/nova/.tox/py27/local/lib/python2.7/site-packages/oslo_policy/policy.py:665: UserWarning: Policy ""os_compute_api:os-services"":""rule:admin_api"" was deprecated in 19.0.0 in favor of ""compute:services:disable"":""rule:admin_api"". Reason:\n    Since Stein release, nova API policies are more granular and introducing\n    new default roles with scope_type capabilities. These new changes improve\n    the security level, manageability. New policies are more rich in term of\n    handling access at system and project level with read, write roles. Nova\n    APIs are consuming these new policies improvements and automatically\n    migrate the old overridden policies. Old policies are silently going to\n    be ignored in nova 21.0.0 (OpenStack U) release.\n    . Either ensure your deployment is ready for the new default or copy/paste the deprecated policy into your policy file and maintain it manually.\n\nPartial implement blueprint policy-default-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n'}, {'number': 6, 'created': '2019-06-04 04:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfd85f606e994035bcb630779aea206aeba7fc42', 'message': 'WIP:Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. \'system\': policy with \'system\' scope means user with\n\'system-scoped\' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level for example os-hypervisiors,\nos-services etc. By adding scope_type as \'system\' to API policy\nmeans project-level scoped token cannot access these API.\n\n2. \'project\': policy with \'project\' scope means user with\n\'project-scoped\' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level for example GET /servers.\n\nAny policy need permission for both scope \'system\' and \'project\'\ncan be added with both scope, for example: scope_type[\'system\', \'project\']\n\nThis commit introduce scope_type for os-services API policies.\n\nTo adopt new defaults as reader and writer role os-services\npolicies needs to be granular. This commit also adds granularity\nin os-services API policies\n\nNext step will be to adopt the new defaults roles reader, member, admin.\n\nMigration Plan for Operator:\n\n- Backward compatibility:\n  Old rules are maintained with same defaults so that existing deployement\n  will keep working as it is.\n\n- Deprecation Plan:\n  Because these policy updates are huge and almost effecting all the nova\n  policies, We are defining the two cycle transition plan which used to be\n  one cycle for policy and config option modification.\n\n- Below warning can be seen by operator to migrate the old policies\n  to new one:\n\n   /opt/stack/nova/.tox/py27/local/lib/python2.7/site-packages/oslo_policy/policy.py:665: UserWarning: Policy ""os_compute_api:os-services"":""rule:admin_api"" was deprecated in 19.0.0 in favor of ""compute:services:disable"":""rule:admin_api"". Reason:\n    Since Train release, nova API policies are more granular and introducing\n    new default roles with scope_type capabilities. These new changes improve\n    the security level, manageability. New policies are more rich in term of\n    handling access at system and project level with read, write roles. Nova\n    APIs are consuming these new policies improvements and automatically\n    migrate the old overridden policies. Old policies are silently going to\n    be ignored in nova 21.0.0 (OpenStack U) release.\n    . Either ensure your deployment is ready for the new default or copy/paste the deprecated policy into your policy file and maintain it manually.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n'}, {'number': 7, 'created': '2019-06-04 07:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fc5722eed9cb83dfa61be969f530ba2bd9ca3f1', 'message': 'WIP:Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. \'system\': policy with \'system\' scope means user with\n\'system-scoped\' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level for example os-hypervisiors,\nos-services etc. By adding scope_type as \'system\' to API policy\nmeans project-level scoped token cannot access these API.\n\n2. \'project\': policy with \'project\' scope means user with\n\'project-scoped\' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level for example GET /servers.\n\nAny policy need permission for both scope \'system\' and \'project\'\ncan be added with both scope, for example: scope_type[\'system\', \'project\']\n\nThis commit introduce scope_type for os-services API policies.\n\nTo adopt new defaults as reader and writer role os-services\npolicies needs to be granular. This commit also adds granularity\nin os-services API policies\n\nNext step will be to adopt the new defaults roles reader, member, admin.\n\nMigration Plan for Operator:\n\n- Backward compatibility:\n  Old rules are maintained with same defaults so that existing deployement\n  will keep working as it is.\n\n- Deprecation Plan:\n  Because these policy updates are huge and almost effecting all the nova\n  policies, We are defining the two cycle transition plan which used to be\n  one cycle for policy and config option modification.\n\n- Below warning can be seen by operator to migrate the old policies\n  to new one:\n\n   /opt/stack/nova/.tox/py27/local/lib/python2.7/site-packages/oslo_policy/policy.py:665: UserWarning: Policy ""os_compute_api:os-services"":""rule:admin_api"" was deprecated in 19.0.0 in favor of ""compute:services:disable"":""rule:admin_api"". Reason:\n    Since Train release, nova API policies are more granular and introducing\n    new default roles with scope_type capabilities. These new changes improve\n    the security level, manageability. New policies are more rich in term of\n    handling access at system and project level with read, write roles. Nova\n    APIs are consuming these new policies improvements and automatically\n    migrate the old overridden policies. Old policies are silently going to\n    be ignored in nova 21.0.0 (OpenStack U) release.\n    . Either ensure your deployment is ready for the new default or copy/paste the deprecated policy into your policy file and maintain it manually.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n'}, {'number': 8, 'created': '2019-07-04 17:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a4764729bba62fac4ec1c4b5ac9c7635b9432fd', 'message': ""WIP:Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level for example os-hypervisiors,\nos-services etc. By adding scope_type as 'system' to API policy\nmeans project-level scoped token cannot access these API.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level for example GET /servers.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nNext step will be to adopt the new defaults roles reader, member, admin.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}, {'number': 9, 'created': '2019-08-01 16:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/219ea93f1a909885a07ba7e7746246df54eed46f', 'message': ""Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nAll the os-service policy are scopped as 'system' because\nnova services operation should not be given access to\nproject scopped token.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}, {'number': 10, 'created': '2019-08-08 06:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adeb34a77622322689079cb1bede005f1948f280', 'message': ""Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nAll the os-service policy are scopped as 'system' because\nnova services operation should not be given access to\nproject scopped token.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}, {'number': 11, 'created': '2019-08-15 08:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95531517b726a0bc379bc8d9b2fc39abf5943eb5', 'message': ""Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nAll the os-service policy are scopped as 'system' because\nnova services operation should not be given access to\nproject scopped token.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}, {'number': 12, 'created': '2019-10-18 07:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/467431570b4f9afba16437eee882b399b031ebe9', 'message': ""Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nAll the os-service policy are scopped as 'system' because\nnova services operation should not be given access to\nproject scopped token.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}, {'number': 13, 'created': '2019-10-18 07:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/495f653a13a18ea4712bf3f136131605050084b3', 'message': ""Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nAll the os-service policy are scopped as 'system' because\nnova services operation should not be given access to\nproject scopped token.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}, {'number': 14, 'created': '2019-10-18 08:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a23726e4ce3c4e156d48e82d3085ba0ab56fe52', 'message': ""Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nAll the os-service policy are scopped as 'system' because\nnova services operation should not be given access to\nproject scopped token.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}, {'number': 15, 'created': '2019-10-29 15:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f41f4a0a506722126f0ff584530166a11e7f0e7', 'message': ""Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nAll the os-service policy are scopped as 'system' because\nnova services operation should not be given access to\nproject scopped token.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}, {'number': 16, 'created': '2019-11-25 17:45:36.000000000', 'files': ['nova/tests/unit/policies/test_services.py', 'nova/policies/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0012785501f4a31d39e491903f60b058c4ee6413', 'message': ""Introduce scope_types in os-services\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nThis commit introduce scope_type for os-services API policies.\n\nAll the os-service policy are scopped as 'system' because\nnova services operation should not be given access to\nproject scopped token.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8\n""}]",15,645427,0012785501f4a31d39e491903f60b058c4ee6413,179,20,16,8556,,,0,"Introduce scope_types in os-services

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

There are two type of scope:
1. 'system': policy with 'system' scope means user with
'system-scoped' token have permission to access otherwise not.
This scope type can be applied to API policies which need
access permission at system level.

2. 'project': policy with 'project' scope means user with
'project-scoped' token have permission to access.
This scope type can be applied to API policies which need
access permission at project level.

Any policy need permission for both scope 'system' and 'project'
can be added with both scope, for example: scope_type['system', 'project']

This commit introduce scope_type for os-services API policies.

All the os-service policy are scopped as 'system' because
nova services operation should not be given access to
project scopped token.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: Ia6ad47e4e411c8c6f50c98807ee97f99297d97b8
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/645427/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/services.py', 'nova/api/openstack/compute/services.py']",2,4a0b02c163e7c2736973f5367ca9a345fa706ec7,bp/policy-defaults-refresh, context.can(services_policies.SERVICE % 'list') context.can(services_policies.SERVICE % 'enable') context.can(services_policies.SERVICE % 'disable') context.can(services_policies.SERVICE % 'disable-log-reason') context.can(services_policies.SERVICE % 'force-down') context.can(services_policies.SERVICE % 'update'), context.can(services_policies.BASE_POLICY_NAME),112,1
openstack%2Fcharm-nova-compute~master~I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a,openstack/charm-nova-compute,master,I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a,Allows to configure a dedicated migration network.,MERGED,2019-08-08 19:16:27.000000000,2019-11-29 18:51:01.000000000,2019-11-13 18:23:47.000000000,"[{'_account_id': 2276}, {'_account_id': 2424}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-08 19:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d214407015cf259672576a695e83e480c6872e17', 'message': ""Allows to configure a dedicated migration network.\n\nThis commits adds a new configuration flag (libvirt-\nmigration-network) that allows to pass an existing\nCIDR formatted network that (if existing\nat the target unit) will be selected as the inbound address\nto be used as the live migration target.\n\nFor the case of any openstack release >= ocata,\nthe live_migration_inbound_addr variable will be set\nas well as the libvirt_migration_scheme (set to SSH\nby default).\n\nFor older releases, the behavior remains as before,\nas the only remaining option is to setup libvirt\nto bind in a insecure tcp connection, so we keep it\nas the current live_migration_uri.\n\nThe reason of not using a separated space relies\non the back-compability of the change, this needs\nto be applied on existing clouds where updating\nthe bindings on deployed application\nisn't possible due to LP: #1796653.\n\nChange-Id: I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a\nCloses-Bug: #1831181\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n""}, {'number': 2, 'created': '2019-08-08 19:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0a2f5c9840cfed2e36a6f5e1a8e73eb973947be0', 'message': ""Allows to configure a dedicated migration network.\n\nThis commits adds a new configuration flag (libvirt-\nmigration-network) that allows to pass an existing\nCIDR formatted network that (if existing\nat the target unit) will be selected as the inbound address\nto be used as the live migration target.\n\nFor the case of any openstack release >= ocata,\nthe live_migration_inbound_addr variable will be set\nas well as the libvirt_migration_scheme (set to SSH\nby default).\n\nFor older releases, the behavior remains as before,\nas the only remaining option is to setup libvirt\nto bind in a insecure tcp connection, so we keep it\nas the current live_migration_uri.\n\nThe reason of not using a separated space relies\non the back-compability of the change, this needs\nto be applied on existing clouds where updating\nthe bindings on deployed application\nisn't possible due to LP: #1796653.\n\nChange-Id: I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a\nCloses-Bug: #1680531\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n""}, {'number': 3, 'created': '2019-08-08 19:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/6f40c5359e65caec189176070289e6ba65647eb6', 'message': ""Allows to configure a dedicated migration network.\n\nThis commits adds a new configuration flag (libvirt-\nmigration-network) that allows to pass an existing\nCIDR formatted network that (if existing\nat the target unit) will be selected as the inbound address\nto be used as the live migration target.\n\nFor the case of any openstack release >= ocata,\nthe live_migration_inbound_addr variable will be set\nas well as the libvirt_migration_scheme (set to SSH\nby default).\n\nFor older releases, the behavior remains as before,\nas the only remaining option is to setup libvirt\nto bind in a insecure tcp connection, so we keep it\nas the current live_migration_uri.\n\nThe reason of not using a separated space relies\non the back-compability of the change, this needs\nto be applied on existing clouds where updating\nthe bindings on deployed application\nisn't possible due to LP: #1796653.\n\nChange-Id: I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a\nCloses-Bug: #1680531\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n""}, {'number': 4, 'created': '2019-08-17 03:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c80208cedd475d8d01acbeff21cda503419bcf6b', 'message': ""Allows to configure a dedicated migration network.\n\nThis commits adds a new configuration flag (libvirt-\nmigration-network) that allows to pass an existing\nCIDR formatted network that (if existing\nat the target unit) will be selected as the inbound address\nto be used as the live migration target.\n\nFor the case of any openstack release >= ocata,\nthe live_migration_inbound_addr variable will be set\nas well as the libvirt_migration_scheme (set to SSH\nby default).\n\nFor older releases, the behavior remains as before,\nas the only remaining option is to setup libvirt\nto bind in a insecure tcp connection, so we keep it\nas the current live_migration_uri.\n\nThe reason of not using a separated space relies\non the back-compability of the change, this needs\nto be applied on existing clouds where updating\nthe bindings on deployed application\nisn't possible due to LP: #1796653.\n\nChange-Id: I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a\nCloses-Bug: #1680531\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n""}, {'number': 5, 'created': '2019-08-19 16:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/70525d3beab6cf76e9e0c85c6c6ba9641175676e', 'message': ""Allows to configure a dedicated migration network.\n\nThis commits adds a new extra binding (migration) and\nits corresponding fallback configuration flag (libvirt-\nmigration-network) that allows to specify a space or an\nexisting CIDR formatted network (if the config flag is pre-\nferred) that will be seleced as the inbound address to be used\nas a the live migration target.\n\nFor the case of any openstack release >= ocata,\nthe live_migration_inbound_addr variable will be set\nas well as the libvirt_migration_scheme (set to SSH\nby default).\n\nFor older releases, the behavior remains as before,\nas the only remaining option is to setup libvirt\nto bind in a insecure tcp connection, so we keep it\nas the current live_migration_uri.\n\nThe reason of not using an extra-binding exclusively relies\non the back-compability of the change, this needs\nto be applied on existing clouds where updating\nthe bindings on deployed application\nisn't possible due to LP: #1796653.\n\nFor fresh/new deployments, the migration extra-binding\nhas been defined and used with precedence over the\nlibvirt-migration-network variable.\n\nChange-Id: I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a\nCloses-Bug: #1680531\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n""}, {'number': 6, 'created': '2019-10-02 19:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/bf1475d9586f480ef32b77aa7f6469d9252d4de9', 'message': ""Allows to configure a dedicated migration network.\n\nThis commits adds a new extra binding (migration) and\nits corresponding fallback configuration flag (libvirt-\nmigration-network) that allows to specify a space or an\nexisting CIDR formatted network (if the config flag is pre-\nferred) that will be seleced as the inbound address to be used\nas a the live migration target.\n\nFor the case of any openstack release >= ocata,\nthe live_migration_inbound_addr variable will be set\nas well as the libvirt_migration_scheme (set to SSH\nby default).\n\nFor older releases, the behavior remains as before,\nas the only remaining option is to setup libvirt\nto bind in a insecure tcp connection, so we keep it\nas the current live_migration_uri.\n\nThe reason of not using an extra-binding exclusively relies\non the back-compability of the change, this needs\nto be applied on existing clouds where updating\nthe bindings on deployed application\nisn't possible due to LP: #1796653.\n\nFor fresh/new deployments, the migration extra-binding\nhas been defined and used with precedence over the\nlibvirt-migration-network variable.\n\nChange-Id: I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a\nCloses-Bug: #1680531\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n""}, {'number': 7, 'created': '2019-10-22 19:34:40.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/ocata/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'metadata.yaml', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0905a447ad66e553beff1ec3f12a984494ce7785', 'message': ""Allows to configure a dedicated migration network.\n\nThis commits adds a new extra binding (migration) and\nits corresponding fallback configuration flag (libvirt-\nmigration-network) that allows to specify a space or an\nexisting CIDR formatted network (if the config flag is pre-\nferred) that will be seleced as the inbound address to be used\nas a the live migration target.\n\nFor the case of any openstack release >= ocata,\nthe live_migration_inbound_addr variable will be set\nas well as the libvirt_migration_scheme (set to SSH\nby default).\n\nFor older releases, the behavior remains as before,\nas the only remaining option is to setup libvirt\nto bind in a insecure tcp connection, so we keep it\nas the current live_migration_uri.\n\nThe reason of not using an extra-binding exclusively relies\non the back-compability of the change, this needs\nto be applied on existing clouds where updating\nthe bindings on deployed application\nisn't possible due to LP: #1796653.\n\nFor fresh/new deployments, the migration extra-binding\nhas been defined and used with precedence over the\nlibvirt-migration-network variable.\n\nChange-Id: I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a\nCloses-Bug: #1680531\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n""}]",7,675450,0905a447ad66e553beff1ec3f12a984494ce7785,43,8,7,2276,,,0,"Allows to configure a dedicated migration network.

This commits adds a new extra binding (migration) and
its corresponding fallback configuration flag (libvirt-
migration-network) that allows to specify a space or an
existing CIDR formatted network (if the config flag is pre-
ferred) that will be seleced as the inbound address to be used
as a the live migration target.

For the case of any openstack release >= ocata,
the live_migration_inbound_addr variable will be set
as well as the libvirt_migration_scheme (set to SSH
by default).

For older releases, the behavior remains as before,
as the only remaining option is to setup libvirt
to bind in a insecure tcp connection, so we keep it
as the current live_migration_uri.

The reason of not using an extra-binding exclusively relies
on the back-compability of the change, this needs
to be applied on existing clouds where updating
the bindings on deployed application
isn't possible due to LP: #1796653.

For fresh/new deployments, the migration extra-binding
has been defined and used with precedence over the
libvirt-migration-network variable.

Change-Id: I2f8c0a1e822ad6a90e23cd8009e181b8f86d765a
Closes-Bug: #1680531
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/50/675450/5 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/ocata/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",7,d214407015cf259672576a695e83e480c6872e17,bug/1796653," 'get_address_in_network' def test_libvirt_context_without_migration_network(self): self.kv.return_value = FakeUnitdata(**{'host_uuid': self.host_uuid}) self.lsb_release.return_value = {'DISTRIB_CODENAME': 'xenial'} self.test_config.set('enable-live-migration', True) self.os_release.return_value = 'ocata' self.assertTrue(context.NovaComputeLibvirtContext()()[ 'live_migration_uri'] == 'qemu+ssh://%s/system') def test_libvirt_context_with_migration_network(self): self.kv.return_value = FakeUnitdata(**{'host_uuid': self.host_uuid}) self.lsb_release.return_value = {'DISTRIB_CODENAME': 'xenial'} self.get_address_in_network.return_value = '10.5.0.5' self.test_config.set('enable-live-migration', True) self.test_config.set('libvirt-migration-network', '10.5.0.0/16') self.os_release.return_value = 'queens' self.assertTrue('live_migration_uri' not in context.NovaComputeLibvirtContext()().keys()) self.assertTrue(context.NovaComputeLibvirtContext()()[ 'live_migration_scheme'] == 'ssh') self.assertTrue(context.NovaComputeLibvirtContext()()[ 'live_migration_inbound_addr'] == '10.5.0.5') ",,64,2
openstack%2Fnova~master~I3652506650156abb2f5a4e012064081a0fa95f43,openstack/nova,master,I3652506650156abb2f5a4e012064081a0fa95f43,Add test coverage of existing os-services policies,MERGED,2019-07-04 13:51:40.000000000,2019-11-29 18:33:50.000000000,2019-11-29 18:28:24.000000000,"[{'_account_id': 782}, {'_account_id': 5046}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-04 13:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c5fb66aea16730a178977859f3943b3cc0d1e51', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 2, 'created': '2019-08-01 10:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6485f7ec3d31130932bf9b16e0151b4c468ccaf5', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 3, 'created': '2019-08-01 14:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10509cf1797fd1aaeea126085ac38409e9dfcc7e', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 4, 'created': '2019-08-01 14:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e0bc6e725f6da1f3dcaa4fb4f76e27c1eccd501', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 5, 'created': '2019-08-08 06:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37eca032035d62ca5cd837e22c09e5409753bc84', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 6, 'created': '2019-08-15 08:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b96788aa951446770e624e95fc4561fe16029ac', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 7, 'created': '2019-08-15 08:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51e237e8291abe49cf9e93e91edacd38b3b35102', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 8, 'created': '2019-10-18 07:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79528bb78c718e80dcfca3b6e9c3e0a6ac9202f1', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 9, 'created': '2019-10-18 07:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e4c67935238e684495ce8611a54c881be77b075', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 10, 'created': '2019-10-18 08:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/998b628c88fa75050ddf28bb0e41b900df3e55c9', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 11, 'created': '2019-10-29 15:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd11df037895833b44d8858727d0d64ef0ccc909', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}, {'number': 12, 'created': '2019-11-25 17:30:18.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/policies/test_services.py', 'nova/tests/unit/policies/base.py', 'nova/tests/unit/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68f195928ee9b43d8e42d28c7309e17af48eb91c', 'message': 'Add test coverage of existing os-services policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-services policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing\n\nChange-Id: I3652506650156abb2f5a4e012064081a0fa95f43\n'}]",11,669181,68f195928ee9b43d8e42d28c7309e17af48eb91c,101,19,12,8556,,,0,"Add test coverage of existing os-services policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin role
- policy check fail with context having any other role than admin

As discussed in policy-defaults-refresh [1], to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.
When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing os-services policies.

Partial implement blueprint policy-defaults-refresh

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/policy-default-refresh.html#testing

Change-Id: I3652506650156abb2f5a4e012064081a0fa95f43
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/669181/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_services.py', 'nova/tests/unit/policies/base.py', 'nova/tests/unit/policies/__init__.py']",3,1c5fb66aea16730a178977859f3943b3cc0d1e51,bp/policy-defaults-refresh,,,133,0
openstack%2Fnova~stable%2Frocky~I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe,openstack/nova,stable/rocky,I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe,Fix false ERROR message at compute restart,MERGED,2019-11-15 15:46:37.000000000,2019-11-29 18:28:19.000000000,2019-11-29 18:28:19.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26220}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-15 15:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40eaaf080c2e76a1e6afd0254606f0cd2d9bc03f', 'message': 'Fix false ERROR message at compute restart\n\nIf an empty compute is restarted a false ERROR message was printed in\nthe log as the placement report client does not distinguish between\nerror from placement from empty allocation dict from placement.\n\nThis patch changes get_allocations_for_resource_provider to return None\nin case of error instead of an empty dict. This is in line with\n@safe_connect that would made the call return None as well. The\n_error_out_instances_whose_build_was_interrupted also changed to check\nfor None instead of empty dict before reporting the ERROR. The only\nother caller of get_allocations_for_resource_provider has already\nchecking for None and converting it to an empty dict so from that caller\nperspective this is compatible change on the report client.\n\nThis is stable only change as get_allocations_for_resource_provider was\nimproved during stein to raise on placement error.\n\nChange-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe\nCloses-Bug: #1852759\n'}, {'number': 2, 'created': '2019-11-27 12:55:03.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/64f797a0514b0276540d4f6c28cb290383088e35', 'message': 'Fix false ERROR message at compute restart\n\nIf an empty compute is restarted a false ERROR message was printed in\nthe log as the placement report client does not distinguish between\nerror from placement from empty allocation dict from placement.\n\nThis patch changes get_allocations_for_resource_provider to return None\nin case of error instead of an empty dict. This is in line with\n@safe_connect that would make the call return None as well. The\n_error_out_instances_whose_build_was_interrupted also is changed to check\nfor None instead of empty dict before reporting the ERROR. The only\nother caller of get_allocations_for_resource_provider was already\nchecking for None and converting it to an empty dict so from that caller\nperspective this is compatible change on the report client.\n\nThis is stable only change as get_allocations_for_resource_provider was\nimproved during stein[1] to raise on placement error.\n\n[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1\n\nChange-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe\nCloses-Bug: #1852759\n'}]",14,694581,64f797a0514b0276540d4f6c28cb290383088e35,24,12,2,9708,,,0,"Fix false ERROR message at compute restart

If an empty compute is restarted a false ERROR message was printed in
the log as the placement report client does not distinguish between
error from placement from empty allocation dict from placement.

This patch changes get_allocations_for_resource_provider to return None
in case of error instead of an empty dict. This is in line with
@safe_connect that would make the call return None as well. The
_error_out_instances_whose_build_was_interrupted also is changed to check
for None instead of empty dict before reporting the ERROR. The only
other caller of get_allocations_for_resource_provider was already
checking for None and converting it to an empty dict so from that caller
perspective this is compatible change on the report client.

This is stable only change as get_allocations_for_resource_provider was
improved during stein[1] to raise on placement error.

[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1

Change-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe
Closes-Bug: #1852759
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/694581/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py']",3,40eaaf080c2e76a1e6afd0254606f0cd2d9bc03f,bug/1852759, if allocations is None:, if not allocations:,36,2
openstack%2Ftripleo-ansible~master~If728788293dd64622cf95da840b60e271197e9a0,openstack/tripleo-ansible,master,If728788293dd64622cf95da840b60e271197e9a0,tripleo-container-manage: remove no_log for create/exec tasks,MERGED,2019-11-26 23:42:19.000000000,2019-11-29 18:20:58.000000000,2019-11-29 18:20:57.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 23:42:19.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89e4adf2ae816244cc9b7b48e86b7ca5511f07d3', 'message': ""tripleo-container-manage: remove no_log for create/exec tasks\n\n1. Remove no_log for the create and exec tasks. It's always useful to\n   see what is being run.\n\n2. Enable podman_container debug, so we see what commands are being run.\n\nChange-Id: If728788293dd64622cf95da840b60e271197e9a0\n""}]",0,696206,89e4adf2ae816244cc9b7b48e86b7ca5511f07d3,8,5,1,3153,,,0,"tripleo-container-manage: remove no_log for create/exec tasks

1. Remove no_log for the create and exec tasks. It's always useful to
   see what is being run.

2. Enable podman_container debug, so we see what commands are being run.

Change-Id: If728788293dd64622cf95da840b60e271197e9a0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/696206/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",2,89e4adf2ae816244cc9b7b48e86b7ca5511f07d3,no_log,," no_log: ""{{ not (tripleo_container_manage_debug | bool) }}"" no_log: ""{{ not (tripleo_container_manage_debug | bool) }}""",1,4
openstack%2Ftripleo-ansible~stable%2Ftrain~Id8985795fc8fac5a10466486d404799e9c65cc65,openstack/tripleo-ansible,stable/train,Id8985795fc8fac5a10466486d404799e9c65cc65,Cast single value list as a string for config id,MERGED,2019-11-25 15:25:06.000000000,2019-11-29 18:20:57.000000000,2019-11-29 18:20:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-25 15:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9708560171df23751796e53ac9751886b3d5eb90', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nCloses-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 09439fc43c7e0d00a3ac2cc594d7b852648e1f85)\n'}, {'number': 2, 'created': '2019-11-26 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3207fb13f84a20725803858630e1496653288cc3', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nCloses-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 09439fc43c7e0d00a3ac2cc594d7b852648e1f85)\n'}, {'number': 3, 'created': '2019-11-26 11:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1cf6f52bef0ce47441218a5c50cd6e476c9a6f09', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nCloses-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 09439fc43c7e0d00a3ac2cc594d7b852648e1f85)\n'}, {'number': 4, 'created': '2019-11-26 14:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42156e5757a318da11d392c055393c8d8084697b', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nRelated-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 5bc81a826d11a4f6b1e8bea778f89257d6cbbab7)\n'}, {'number': 5, 'created': '2019-11-28 13:49:22.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/paunch.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a039e6a812b830cb77f59713befc54a2bc6fb51', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nRelated-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 5bc81a826d11a4f6b1e8bea778f89257d6cbbab7)\n'}]",0,695929,4a039e6a812b830cb77f59713befc54a2bc6fb51,34,8,5,6926,,,0,"Cast single value list as a string for config id

When passing containers config-id into the paunch module,
convert it into a single value (string) for backwards compatibility
of paunch, and unlocking upgrade paths as well.

Paunch as a library only ""understands"" such single values for
config ids yet. This can be fixed later although.

Related-bug: #1853812

Change-Id: Id8985795fc8fac5a10466486d404799e9c65cc65
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 5bc81a826d11a4f6b1e8bea778f89257d6cbbab7)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/695929/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/paunch.py'],1,9708560171df23751796e53ac9751886b3d5eb90,, if (type(self.module.params['config_id']) == list and len(self.module.params['config_id']) == 1): self.config_id = self.module.params['config_id'][0] else: self.config_id = self.module.params['config_id'], self.config_id = self.module.params['config_id'],5,1
openstack%2Ftripleo-ansible~master~Id8985795fc8fac5a10466486d404799e9c65cc65,openstack/tripleo-ansible,master,Id8985795fc8fac5a10466486d404799e9c65cc65,Cast single value list as a string for config id,MERGED,2019-11-25 14:49:58.000000000,2019-11-29 18:11:43.000000000,2019-11-29 18:11:43.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-25 14:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09439fc43c7e0d00a3ac2cc594d7b852648e1f85', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nRelated-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-11-26 08:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0b582a7e4dbd51f5e8967140e94fe172db05ba5', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nRelated-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-11-26 11:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5bc81a826d11a4f6b1e8bea778f89257d6cbbab7', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nRelated-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-11-28 13:48:17.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/paunch.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e88785f124ffd255bb191f8489ece977625a9ab2', 'message': 'Cast single value list as a string for config id\n\nWhen passing containers config-id into the paunch module,\nconvert it into a single value (string) for backwards compatibility\nof paunch, and unlocking upgrade paths as well.\n\nPaunch as a library only ""understands"" such single values for\nconfig ids yet. This can be fixed later although.\n\nRelated-bug: #1853812\n\nChange-Id: Id8985795fc8fac5a10466486d404799e9c65cc65\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,695921,e88785f124ffd255bb191f8489ece977625a9ab2,35,12,4,6926,,,0,"Cast single value list as a string for config id

When passing containers config-id into the paunch module,
convert it into a single value (string) for backwards compatibility
of paunch, and unlocking upgrade paths as well.

Paunch as a library only ""understands"" such single values for
config ids yet. This can be fixed later although.

Related-bug: #1853812

Change-Id: Id8985795fc8fac5a10466486d404799e9c65cc65
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/695921/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/paunch.py'],1,09439fc43c7e0d00a3ac2cc594d7b852648e1f85,, if (type(self.module.params['config_id']) == list and len(self.module.params['config_id']) == 1): self.config_id = self.module.params['config_id'][0] else: self.config_id = self.module.params['config_id'], self.config_id = self.module.params['config_id'],5,1
openstack%2Fneutron-fwaas~master~I316f7b6d6208a086f82a67214f3cdf5afce2e0e5,openstack/neutron-fwaas,master,I316f7b6d6208a086f82a67214f3cdf5afce2e0e5,The iptables rules are covered when add a port from the FW group Edit.,ABANDONED,2019-11-29 17:52:49.000000000,2019-11-29 17:54:49.000000000,,[{'_account_id': 10068}],"[{'number': 1, 'created': '2019-11-29 17:52:49.000000000', 'files': ['neutron_fwaas/tests/fullstack/__init__.py', 'test-requirements.txt', 'neutron_fwaas/services/logapi/common/log_db_api.py', 'neutron_fwaas/tests/contrib/gate_hook_tempest.sh', 'releasenotes/source/liberty.rst', 'neutron_fwaas/_i18n.py', 'doc/source/configuration/samples/neutron_fwaas.rst', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/logapi/agents/l3/fwg_log.py', 'releasenotes/notes/ovs-firewall-driver-c347ea0a560b7e38.yaml', 'releasenotes/notes/fwaas-config-9c780ccfb0e7887f.yaml', 'neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/fwaas_v2.py', 'neutron_fwaas/locale/en_GB/LC_MESSAGES/neutron_fwaas.po', 'neutron_fwaas/services/logapi/exceptions.py', 'releasenotes/source/newton.rst', 'devstack/lib/l3_agent', 'neutron_fwaas/privileged/netlink_lib.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/rules.py', 'neutron_fwaas/tests/unit/privileged/test_utils.py', 'releasenotes/notes/bug-1746404-493a66faac333403.yaml', 'neutron_fwaas/cmd/v1_to_v2_db_migration.py', 'neutron_fwaas/services/logapi/rpc/log_server.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/pike/contract/fd38cd995cc0_shared_attribute_for_firewall_resources.py', 'doc/source/configuration/index.rst', 'neutron_fwaas/services/logapi/fwg_validate.py', 'releasenotes/notes/adding-new-tables-for-future-consumption-ffd537c1f82e2e01.yaml', 'tools/check_unit_test_structure.sh', 'neutron_fwaas/privileged/__init__.py', 'releasenotes/source/mitaka.rst', 'neutron_fwaas/tests/unit/services/logapi/common/test_fwg_callback.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_netlink_conntrack.py', 'releasenotes/notes/remove_fwaas_v1-15c6e19484f46d1b.yaml', 'releasenotes/notes/varmour-fwaas-driver-removal-f7aa304a4544134a.yaml', 'neutron_fwaas/tests/unit/cmd/upgrade_checks/test_checks.py', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/bug-1702242-c917c832ac2fa4e1.yaml', 'neutron_fwaas/tests/unit/services/logapi/rpc/test_log_server.py', 'neutron_fwaas/opts.py', 'neutron_fwaas/db/models/head.py', 'requirements.txt', 'bindep.txt', 'doc/source/contributor/index.rst', 'neutron_fwaas/tests/fullstack/resources/client.py', 'neutron_fwaas/tests/functional/db/test_migrations.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_firewall.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/newton/expand/d6a12e637e28_neutron_fwaas_v2_0.py', 'releasenotes/notes/enable-quotas-a3d0a21743bb1985.yaml', 'releasenotes/source/pike.rst', '.zuul.yaml', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/fake_data.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_rules.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_log_db_api.py', 'neutron_fwaas/tests/fullstack/base.py', 'doc/source/index.rst', 'neutron_fwaas/tests/unit/services/logapi/agents/l3/test_fwg_log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/test_driver_api.py', 'releasenotes/notes/config-file-generation-265c5256668a26bf.yaml', 'neutron_fwaas/services/logapi/common/port_callback.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-legacy', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_agent_api.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/__init__.py', 'neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py', 'neutron_fwaas/version.py', 'README.rst', 'setup.py', 'neutron_fwaas/common/exceptions.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'devstack/settings', 'CONTRIBUTING.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/f24e0d5e5bff_uniq_firewallgroupportassociation0port.py', 'neutron_fwaas/tests/contrib/functional-testing.filters', 'devstack/lib/l2_agent', 'releasenotes/notes/bug-1799358-360c6ab27a32e0ac.yaml', 'LICENSE', 'neutron_fwaas/db/migration/alembic_migrations/versions/start_neutron_fwaas.py', 'neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/noop/noop_driver.py', 'neutron_fwaas/policies/firewall_group.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/netlink_conntrack.py', 'releasenotes/notes/vyatta-fwaas-driver-removal-e38e6ecde5105084.yaml', 'neutron_fwaas/tests/base.py', 'releasenotes/source/index.rst', 'neutron_fwaas/services/logapi/agents/drivers/iptables/log.py', 'etc/neutron/rootwrap.d/fwaas-privsep.filters', 'doc/source/configuration/neutron_fwaas.rst', 'neutron_fwaas/policies/__init__.py', 'neutron_fwaas/common/resources.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_port_callback.py', 'releasenotes/source/ocata.rst', 'tools/configure_for_fwaas_func_testing.sh', '.gitignore', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_service.py', 'releasenotes/notes/validation_if_port_is_supported-639d0df705eb67f9.yaml', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/firewall.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/540142f314f4_fwaas_router_insertion.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/conntrack_base.py', 'neutron_fwaas/tests/fullstack/resources/config.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/test_fwaas_v2.py', 'doc/source/configuration/policy.rst', 'etc/oslo-config-generator/fwaas_driver.ini', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/services/logapi/base.py', 'neutron_fwaas/tests/unit/services/logapi/test_fwg_validate.py', 'devstack/plugin.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/driver_base.py', 'releasenotes/source/queens.rst', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_agent_api.py', 'TESTING.rst', 'releasenotes/source/conf.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/CONTRACT_HEAD', '.pylintrc', 'neutron_fwaas/tests/fullstack/README', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/tests/fullstack/resources/machine.py', '.coveragerc', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py', 'tools/configure_for_func_testing.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/exceptions.py', 'neutron_fwaas/tests/contrib/filters.template', 'lower-constraints.txt', 'neutron_fwaas/tests/fullstack/resources/process.py', 'tools/deploy_rootwrap.sh', 'neutron_fwaas/tests/contrib/README', 'neutron_fwaas/common/fwaas_constants.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/mitaka/contract/458aa42b14b_fw_table_alter.py', 'neutron_fwaas/tests/fullstack/resources/environment.py', 'neutron_fwaas/privileged/netlink_constants.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/test_noop_driver.py', 'doc/source/install/index.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_service.py', 'neutron_fwaas/privileged/tests/functional/utils.py', 'neutron_fwaas/services/logapi/constants.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-base', 'releasenotes/notes/coexistence-between-sg-and-fwg-1f77a755539a9463.yaml', 'neutron_fwaas/policies/firewall_policy.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/driver.py', 'tools/generate_config_file_samples.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron_fwaas/tests/contrib/hooks/iptables_verify', 'neutron_fwaas/db/migration/alembic_migrations/env.py', '.stestr.conf', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_driver.py', 'neutron_fwaas/tests/functional/privileged/test_netlink_lib.py', 'babel.cfg', 'neutron_fwaas/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base_v2.py', 'neutron_fwaas/tests/functional/privileged/test_dummy.py', 'releasenotes/notes/mcafee-fwaas-driver-removal-8915271e5d4288cf.yaml', 'doc/source/contributor/modules.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/4202e3047e47_add_index_tenant_id.py', 'doc/source/configuration/samples/fwaas_driver.rst', 'HACKING.rst', '.gitreview', 'doc/source/configuration/policy-sample.rst', 'neutron_fwaas/policies/firewall_rule.py', 'releasenotes/notes/cisco-fwaas-driver-move-8f46325d13c93543.yaml', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/contract/67c8e8d61d5_initial.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base.py', 'doc/source/contributor/fwaas_v2.rst', 'neutron_fwaas/cmd/upgrade_checks/checks.py', 'neutron_fwaas/policies/base.py', 'neutron_fwaas/tests/unit/privileged/test_netlink_lib.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'releasenotes/source/rocky.rst', 'etc/oslo-config-generator/neutron_fwaas.conf', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/expand/4b47ea298795_add_reject_rule.py', 'neutron_fwaas/tests/unit/privileged/netfilter_log/test_libnetfilter_log.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/kilo_release.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'releasenotes/notes/auto-association-default-firewall-group-7e9faf1afca1df85.yaml', 'etc/README.txt', 'neutron_fwaas/privileged/utils.py', '.mailmap', 'doc/source/contributor/devstack.rst', 'tools/clean.sh', 'setup.cfg', 'tox.ini', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py', 'doc/source/configuration/fwaas_driver.rst', 'etc/oslo-policy-generator/policy.conf', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'releasenotes/notes/fwaas-v2-logging-79cbaa43ff17f47f.yaml', 'doc/source/contributor/contributing.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/constants.py', 'neutron_fwaas/services/logapi/common/fwg_callback.py', 'neutron_fwaas/tests/fullstack/utils.py', 'neutron_fwaas/tests/fullstack/test_l3_agent.py', 'releasenotes/source/stein.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/newton/contract/f83a0b2964d0_rename_tenant_to_project.py', 'neutron_fwaas/tests/contrib/gate_hook.sh', 'neutron_fwaas/tests/functional/privileged/test_utils.py', 'doc/source/conf.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/expand/c40fbb377ad_initial.py', 'devstack/README.rst', 'tools/ostestr_compat_shim.sh', 'releasenotes/source/unreleased.rst', 'neutron_fwaas/db/migration/alembic_migrations/script.py.mako', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v2', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v1', 'neutron_fwaas/privileged/tests/functional/dummy.py', '.testr.conf', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py', 'doc/requirements.txt', 'neutron_fwaas/db/migration/alembic_migrations/versions/796c68dffbb_cisco_csr_fwaas.py', 'releasenotes/notes/fwaas_v2-374471c215af0ca0.yaml', 'neutron_fwaas/tests/contrib/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f01e7228ba9be92c663891a39d68b2ddfec58644', 'message': 'The iptables rules are covered when add a port from the FW group Edit.\n\nCreating a firewall group with policies and 1 interface ports.\nThe chain of iptables for neutron-l3-agent-FORWARD is\nChain neutron-l3-agent-FORWARD (1 references)\npkts bytes target prot opt in out source destination\n1000K 84M neutron-l3-agent-scope all -- * * 0.0.0.0/0 0.0.0.0/0\n31 2596 neutron-l3-agent-iv4c863a246 all -- * qr-82367b84-06 0.0.0.0/0 0.0.0.0/0\n31 2596 neutron-l3-agent-ov4c863a246 all -- qr-82367b84-06 * 0.0.0.0/0 0.0.0.0/0\n0 0 neutron-l3-agent-fwaas-defau all -- * qr-82367b84-06 0.0.0.0/0 0.0.0.0/0\n0 0 neutron-l3-agent-fwaas-defau all -- qr-82367b84-06 * 0.0.0.0/0 0.0.0.0/0\n\nNow add 1 of the ports using:\nopenstack firewall group set --port\nThe chain of iptables for neutron-l3-agent-FORWARD is\nChain neutron-l3-agent-FORWARD (1 references)\npkts bytes target prot opt in out source destination\n1001K 84M neutron-l3-agent-scope all -- * * 0.0.0.0/0 0.0.0.0/0\n0 0 neutron-l3-agent-iv4c863a246 all -- * qr-59aa1514-36 0.0.0.0/0 0.0.0.0/0\n0 0 neutron-l3-agent-ov4c863a246 all -- qr-59aa1514-36 * 0.0.0.0/0 0.0.0.0/0\n0 0 neutron-l3-agent-fwaas-defau all -- * qr-59aa1514-36 0.0.0.0/0 0.0.0.0/0\n0 0 neutron-l3-agent-fwaas-defau all -- qr-59aa1514-36 * 0.0.0.0/0 0.0.0.0/0\n\nChange-Id: I316f7b6d6208a086f82a67214f3cdf5afce2e0e5\nCloses-Bug: #1843359\n'}]",0,696753,f01e7228ba9be92c663891a39d68b2ddfec58644,3,1,1,31202,,,0,"The iptables rules are covered when add a port from the FW group Edit.

Creating a firewall group with policies and 1 interface ports.
The chain of iptables for neutron-l3-agent-FORWARD is
Chain neutron-l3-agent-FORWARD (1 references)
pkts bytes target prot opt in out source destination
1000K 84M neutron-l3-agent-scope all -- * * 0.0.0.0/0 0.0.0.0/0
31 2596 neutron-l3-agent-iv4c863a246 all -- * qr-82367b84-06 0.0.0.0/0 0.0.0.0/0
31 2596 neutron-l3-agent-ov4c863a246 all -- qr-82367b84-06 * 0.0.0.0/0 0.0.0.0/0
0 0 neutron-l3-agent-fwaas-defau all -- * qr-82367b84-06 0.0.0.0/0 0.0.0.0/0
0 0 neutron-l3-agent-fwaas-defau all -- qr-82367b84-06 * 0.0.0.0/0 0.0.0.0/0

Now add 1 of the ports using:
openstack firewall group set --port
The chain of iptables for neutron-l3-agent-FORWARD is
Chain neutron-l3-agent-FORWARD (1 references)
pkts bytes target prot opt in out source destination
1001K 84M neutron-l3-agent-scope all -- * * 0.0.0.0/0 0.0.0.0/0
0 0 neutron-l3-agent-iv4c863a246 all -- * qr-59aa1514-36 0.0.0.0/0 0.0.0.0/0
0 0 neutron-l3-agent-ov4c863a246 all -- qr-59aa1514-36 * 0.0.0.0/0 0.0.0.0/0
0 0 neutron-l3-agent-fwaas-defau all -- * qr-59aa1514-36 0.0.0.0/0 0.0.0.0/0
0 0 neutron-l3-agent-fwaas-defau all -- qr-59aa1514-36 * 0.0.0.0/0 0.0.0.0/0

Change-Id: I316f7b6d6208a086f82a67214f3cdf5afce2e0e5
Closes-Bug: #1843359
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/53/696753/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/fullstack/__init__.py', 'test-requirements.txt', 'neutron_fwaas/services/logapi/common/log_db_api.py', 'neutron_fwaas/tests/contrib/gate_hook_tempest.sh', 'releasenotes/source/liberty.rst', 'neutron_fwaas/_i18n.py', 'doc/source/configuration/samples/neutron_fwaas.rst', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/logapi/agents/l3/fwg_log.py', 'releasenotes/notes/ovs-firewall-driver-c347ea0a560b7e38.yaml', 'releasenotes/notes/fwaas-config-9c780ccfb0e7887f.yaml', 'neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/fwaas_v2.py', 'neutron_fwaas/locale/en_GB/LC_MESSAGES/neutron_fwaas.po', 'neutron_fwaas/services/logapi/exceptions.py', 'releasenotes/source/newton.rst', 'devstack/lib/l3_agent', 'neutron_fwaas/privileged/netlink_lib.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/rules.py', 'neutron_fwaas/tests/unit/privileged/test_utils.py', 'releasenotes/notes/bug-1746404-493a66faac333403.yaml', 'neutron_fwaas/cmd/v1_to_v2_db_migration.py', 'neutron_fwaas/services/logapi/rpc/log_server.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/pike/contract/fd38cd995cc0_shared_attribute_for_firewall_resources.py', 'doc/source/configuration/index.rst', 'neutron_fwaas/services/logapi/fwg_validate.py', 'releasenotes/notes/adding-new-tables-for-future-consumption-ffd537c1f82e2e01.yaml', 'tools/check_unit_test_structure.sh', 'neutron_fwaas/privileged/__init__.py', 'releasenotes/source/mitaka.rst', 'neutron_fwaas/tests/unit/services/logapi/common/test_fwg_callback.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_netlink_conntrack.py', 'releasenotes/notes/remove_fwaas_v1-15c6e19484f46d1b.yaml', 'releasenotes/notes/varmour-fwaas-driver-removal-f7aa304a4544134a.yaml', 'neutron_fwaas/tests/unit/cmd/upgrade_checks/test_checks.py', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/bug-1702242-c917c832ac2fa4e1.yaml', 'neutron_fwaas/tests/unit/services/logapi/rpc/test_log_server.py', 'neutron_fwaas/opts.py', 'neutron_fwaas/db/models/head.py', 'requirements.txt', 'bindep.txt', 'doc/source/contributor/index.rst', 'neutron_fwaas/tests/fullstack/resources/client.py', 'neutron_fwaas/tests/functional/db/test_migrations.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_firewall.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/newton/expand/d6a12e637e28_neutron_fwaas_v2_0.py', 'releasenotes/notes/enable-quotas-a3d0a21743bb1985.yaml', 'releasenotes/source/pike.rst', '.zuul.yaml', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/fake_data.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_rules.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_log_db_api.py', 'neutron_fwaas/tests/fullstack/base.py', 'doc/source/index.rst', 'neutron_fwaas/tests/unit/services/logapi/agents/l3/test_fwg_log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/test_driver_api.py', 'releasenotes/notes/config-file-generation-265c5256668a26bf.yaml', 'neutron_fwaas/services/logapi/common/port_callback.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-legacy', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_agent_api.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/__init__.py', 'neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py', 'neutron_fwaas/version.py', 'README.rst', 'setup.py', 'neutron_fwaas/common/exceptions.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'devstack/settings', 'CONTRIBUTING.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/f24e0d5e5bff_uniq_firewallgroupportassociation0port.py', 'neutron_fwaas/tests/contrib/functional-testing.filters', 'devstack/lib/l2_agent', 'releasenotes/notes/bug-1799358-360c6ab27a32e0ac.yaml', 'LICENSE', 'neutron_fwaas/db/migration/alembic_migrations/versions/start_neutron_fwaas.py', 'neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/noop/noop_driver.py', 'neutron_fwaas/policies/firewall_group.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/netlink_conntrack.py', 'releasenotes/notes/vyatta-fwaas-driver-removal-e38e6ecde5105084.yaml', 'neutron_fwaas/tests/base.py', 'releasenotes/source/index.rst', 'neutron_fwaas/services/logapi/agents/drivers/iptables/log.py', 'etc/neutron/rootwrap.d/fwaas-privsep.filters', 'doc/source/configuration/neutron_fwaas.rst', 'neutron_fwaas/policies/__init__.py', 'neutron_fwaas/common/resources.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_port_callback.py', 'releasenotes/source/ocata.rst', 'tools/configure_for_fwaas_func_testing.sh', '.gitignore', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_service.py', 'releasenotes/notes/validation_if_port_is_supported-639d0df705eb67f9.yaml', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/firewall.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/540142f314f4_fwaas_router_insertion.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/conntrack_base.py', 'neutron_fwaas/tests/fullstack/resources/config.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/test_fwaas_v2.py', 'doc/source/configuration/policy.rst', 'etc/oslo-config-generator/fwaas_driver.ini', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/services/logapi/base.py', 'neutron_fwaas/tests/unit/services/logapi/test_fwg_validate.py', 'devstack/plugin.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/driver_base.py', 'releasenotes/source/queens.rst', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_agent_api.py', 'TESTING.rst', 'releasenotes/source/conf.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/CONTRACT_HEAD', '.pylintrc', 'neutron_fwaas/tests/fullstack/README', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/tests/fullstack/resources/machine.py', '.coveragerc', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py', 'tools/configure_for_func_testing.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/exceptions.py', 'neutron_fwaas/tests/contrib/filters.template', 'lower-constraints.txt', 'neutron_fwaas/tests/fullstack/resources/process.py', 'tools/deploy_rootwrap.sh', 'neutron_fwaas/tests/contrib/README', 'neutron_fwaas/common/fwaas_constants.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/mitaka/contract/458aa42b14b_fw_table_alter.py', 'neutron_fwaas/tests/fullstack/resources/environment.py', 'neutron_fwaas/privileged/netlink_constants.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/test_noop_driver.py', 'doc/source/install/index.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_service.py', 'neutron_fwaas/privileged/tests/functional/utils.py', 'neutron_fwaas/services/logapi/constants.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-base', 'releasenotes/notes/coexistence-between-sg-and-fwg-1f77a755539a9463.yaml', 'neutron_fwaas/policies/firewall_policy.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/driver.py', 'tools/generate_config_file_samples.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron_fwaas/tests/contrib/hooks/iptables_verify', 'neutron_fwaas/db/migration/alembic_migrations/env.py', '.stestr.conf', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_driver.py', 'neutron_fwaas/tests/functional/privileged/test_netlink_lib.py', 'babel.cfg', 'neutron_fwaas/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base_v2.py', 'neutron_fwaas/tests/functional/privileged/test_dummy.py', 'releasenotes/notes/mcafee-fwaas-driver-removal-8915271e5d4288cf.yaml', 'doc/source/contributor/modules.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/4202e3047e47_add_index_tenant_id.py', 'doc/source/configuration/samples/fwaas_driver.rst', 'HACKING.rst', '.gitreview', 'doc/source/configuration/policy-sample.rst', 'neutron_fwaas/policies/firewall_rule.py', 'releasenotes/notes/cisco-fwaas-driver-move-8f46325d13c93543.yaml', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/contract/67c8e8d61d5_initial.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base.py', 'doc/source/contributor/fwaas_v2.rst', 'neutron_fwaas/cmd/upgrade_checks/checks.py', 'neutron_fwaas/policies/base.py', 'neutron_fwaas/tests/unit/privileged/test_netlink_lib.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'releasenotes/source/rocky.rst', 'etc/oslo-config-generator/neutron_fwaas.conf', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/expand/4b47ea298795_add_reject_rule.py', 'neutron_fwaas/tests/unit/privileged/netfilter_log/test_libnetfilter_log.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/kilo_release.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'releasenotes/notes/auto-association-default-firewall-group-7e9faf1afca1df85.yaml', 'etc/README.txt', 'neutron_fwaas/privileged/utils.py', '.mailmap', 'doc/source/contributor/devstack.rst', 'tools/clean.sh', 'setup.cfg', 'tox.ini', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py', 'doc/source/configuration/fwaas_driver.rst', 'etc/oslo-policy-generator/policy.conf', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'releasenotes/notes/fwaas-v2-logging-79cbaa43ff17f47f.yaml', 'doc/source/contributor/contributing.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/constants.py', 'neutron_fwaas/services/logapi/common/fwg_callback.py', 'neutron_fwaas/tests/fullstack/utils.py', 'neutron_fwaas/tests/fullstack/test_l3_agent.py', 'releasenotes/source/stein.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/newton/contract/f83a0b2964d0_rename_tenant_to_project.py', 'neutron_fwaas/tests/contrib/gate_hook.sh', 'neutron_fwaas/tests/functional/privileged/test_utils.py', 'doc/source/conf.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/expand/c40fbb377ad_initial.py', 'devstack/README.rst', 'tools/ostestr_compat_shim.sh', 'releasenotes/source/unreleased.rst', 'neutron_fwaas/db/migration/alembic_migrations/script.py.mako', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v2', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v1', 'neutron_fwaas/privileged/tests/functional/dummy.py', '.testr.conf', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py', 'doc/requirements.txt', 'neutron_fwaas/db/migration/alembic_migrations/versions/796c68dffbb_cisco_csr_fwaas.py', 'releasenotes/notes/fwaas_v2-374471c215af0ca0.yaml', 'neutron_fwaas/tests/contrib/post_test_hook.sh']",214,f01e7228ba9be92c663891a39d68b2ddfec58644,TOPIC-BRANCH,"#!/usr/bin/env bash set -xe FWAAS_DIR=""$BASE/new/neutron-fwaas"" NEUTRON_DIR=""$BASE/new/neutron"" TEMPEST_DIR=""$BASE/new/tempest"" SCRIPTS_DIR=""/usr/os-testr-env/bin"" venv=${1:-""dsvm-functional""} function generate_testr_results { # Give job user rights to access tox logs sudo -H -u $owner chmod o+rw . sudo -H -u $owner chmod o+rw -R .stestr if [ -f "".stestr/0"" ] ; then .tox/$venv/bin/subunit-1to2 < .stestr/0 > ./stestr.subunit $SCRIPTS_DIR/subunit2html ./stestr.subunit testr_results.html gzip -9 ./stestr.subunit gzip -9 ./testr_results.html sudo mv ./*.gz /opt/stack/logs/ fi } function dsvm_functional_prep_func { : } if [[ ""$venv"" == dsvm-functional* ]] then owner=stack sudo_env= # Set owner permissions according to job's requirements. cd $FWAAS_DIR sudo chown -R $owner:stack $FWAAS_DIR sudo chown -R $owner:stack $NEUTRON_DIR # Prep the environment according to job's requirements. $prep_func # Run tests echo ""Running neutron-fwaas $venv test suite"" set +e sudo -H -u $owner $sudo_env tox -e $venv testr_exit_code=$? set -e # Collect and parse results generate_testr_results exit $testr_exit_code fi ","#!/usr/bin/env bash set -xe FWAAS_DIR=""$BASE/new/neutron-fwaas"" NEUTRON_DIR=""$BASE/new/neutron"" TEMPEST_DIR=""$BASE/new/tempest"" SCRIPTS_DIR=""/usr/os-testr-env/bin"" venv=${1:-""dsvm-functional""} function generate_testr_results { # Give job user rights to access tox logs sudo -H -u $owner chmod o+rw . sudo -H -u $owner chmod o+rw -R .stestr if [ -f "".stestr/0"" ] ; then .tox/$venv/bin/subunit-1to2 < .stestr/0 > ./stestr.subunit $SCRIPTS_DIR/subunit2html ./stestr.subunit testr_results.html gzip -9 ./stestr.subunit gzip -9 ./testr_results.html sudo mv ./*.gz /opt/stack/logs/ fi } function dsvm_functional_prep_func { : } if [[ ""$venv"" == dsvm-functional* ]] then owner=stack sudo_env= # Set owner permissions according to job's requirements. cd $FWAAS_DIR sudo chown -R $owner:stack $FWAAS_DIR sudo chown -R $owner:stack $NEUTRON_DIR # Prep the environment according to job's requirements. $prep_func # Run tests echo ""Running neutron-fwaas $venv test suite"" set +e sudo -H -u $owner $sudo_env tox -e $venv testr_exit_code=$? set -e # Collect and parse results generate_testr_results exit $testr_exit_code fi",25137,25153
openstack%2Ftrove~master~I6a06926f833d11691e0995f5baf373a25327564e,openstack/trove,master,I6a06926f833d11691e0995f5baf373a25327564e,Fix devstack guest image build for Postgresql.,NEW,2019-11-20 00:01:15.000000000,2019-11-29 17:16:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-11-20 00:01:15.000000000', 'files': ['integration/scripts/files/elements/ubuntu-postgresql/install.d/30-postgresql', 'integration/scripts/files/elements/ubuntu-postgresql/pre-install.d/10-postgresql-repo'], 'web_link': 'https://opendev.org/openstack/trove/commit/d3db61f20f081d79425484004b97eb48d2b5964c', 'message': 'Fix devstack guest image build for Postgresql.\n\nUse DIB_RELEASE not RELEASE for repo based operations on the guest image.\n\nChange-Id: I6a06926f833d11691e0995f5baf373a25327564e\n'}]",2,695116,d3db61f20f081d79425484004b97eb48d2b5964c,3,2,1,10864,,,0,"Fix devstack guest image build for Postgresql.

Use DIB_RELEASE not RELEASE for repo based operations on the guest image.

Change-Id: I6a06926f833d11691e0995f5baf373a25327564e
",git fetch https://review.opendev.org/openstack/trove refs/changes/16/695116/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-postgresql/install.d/30-postgresql', 'integration/scripts/files/elements/ubuntu-postgresql/pre-install.d/10-postgresql-repo']",2,d3db61f20f081d79425484004b97eb48d2b5964c,fix-devstack-image-build-postgres,"[ -n ""${DIB_RELEASE}"" ] || die ""DIB_RELEASE must be set to a valid Ubuntu release (e.g. trusty)""deb http://apt.postgresql.org/pub/repos/apt/ ${DIB_RELEASE}-pgdg main","[ -n ""${RELEASE}"" ] || die ""RELEASE must be set to a valid Ubuntu release (e.g. trusty)""deb http://apt.postgresql.org/pub/repos/apt/ ${RELEASE}-pgdg main",3,4
openstack%2Fnova~master~Iaca4325c9b4d7b63c5bc811bdba2db0d10db61f6,openstack/nova,master,Iaca4325c9b4d7b63c5bc811bdba2db0d10db61f6,Add sequence diagrams to resize/cold migrate contrib doc,MERGED,2019-11-22 20:16:00.000000000,2019-11-29 17:08:21.000000000,2019-11-29 17:02:27.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-22 20:16:00.000000000', 'files': ['doc/source/contributor/resize-and-cold-migrate.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/49422f87d20edd2dd9f4eccb4447fb8cd4671e1c', 'message': 'Add sequence diagrams to resize/cold migrate contrib doc\n\nThis adds high level sequence diagrams for the resize flows\nincluding confirm and revert.\n\nChange-Id: Iaca4325c9b4d7b63c5bc811bdba2db0d10db61f6\n'}]",20,695759,49422f87d20edd2dd9f4eccb4447fb8cd4671e1c,17,9,1,6873,,,0,"Add sequence diagrams to resize/cold migrate contrib doc

This adds high level sequence diagrams for the resize flows
including confirm and revert.

Change-Id: Iaca4325c9b4d7b63c5bc811bdba2db0d10db61f6
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/695759/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/resize-and-cold-migrate.rst'],1,49422f87d20edd2dd9f4eccb4447fb8cd4671e1c,contributor-doc-resize-cold-migrate,"Sequence Diagrams ~~~~~~~~~~~~~~~~~ The following diagrams are current as of the 21.0.0 (Ussuri) release. Resize ------ This is the sequence of calls to get the server to ``VERIFY_RESIZE`` status. .. seqdiag:: seqdiag { API; Conductor; Scheduler; Source; Destination; edge_length = 300; span_height = 15; activation = none; default_note_color = white; API -> Conductor [label = ""cast"", note = ""resize_instance/migrate_server""]; Conductor => Scheduler [label = ""call"", note = ""select_destinations""]; Conductor -> Destination [label = ""cast"", note = ""prep_resize""]; Source <- Destination [label = ""cast"", leftnote = ""resize_instance""]; Source -> Destination [label = ""cast"", note = ""finish_resize""]; } Confirm resize -------------- This is the sequence of calls when confirming `or deleting`_ a server in ``VERIFY_RESIZE`` status. Note that in the below diagram, if confirming a resize while deleting a server the API synchronously calls the source compute service. .. seqdiag:: seqdiag { API; Source; edge_length = 300; span_height = 15; activation = none; default_note_color = white; API -> Source [label = ""cast (or call if deleting)"", note = ""confirm_resize""]; } Revert resize ------------- This is the sequence of calls when reverting a server in ``VERIFY_RESIZE`` status. .. seqdiag:: seqdiag { API; Source; Destination; edge_length = 300; span_height = 15; activation = none; default_note_color = white; API -> Destination [label = ""cast"", note = ""revert_resize""]; Source <- Destination [label = ""cast"", leftnote = ""finish_revert_resize""]; }.. _or deleting: https://opendev.org/openstack/nova/src/tag/19.0.0/nova/compute/api.py#L2135",Sequence Diagram ~~~~~~~~~~~~~~~~ .. todo:: Add something like the :doc:`/reference/live-migration` diagram.,65,3
openstack%2Fnova~master~I17e0e45117a3312c11d6c7f2762dd416b6067979,openstack/nova,master,I17e0e45117a3312c11d6c7f2762dd416b6067979,compute: Use long_rpc_timeout in reserve_block_device_name,MERGED,2019-11-08 13:40:42.000000000,2019-11-29 17:06:44.000000000,2019-11-29 17:02:22.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-08 13:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/190d19316a973326ddfdfdc1477a5dffbad8e7a6', 'message': 'compute: Use long_rpc_timeout in reserve_block_device_name\n\nGiven the instance.uuid lock taken on the remote compute, calls to\nreserve_block_device_name can take a large amount of time to complete\nwhen attaching multiple volumes. To help avoid timeouts during such\nattempts this change switches to using the long_rpc_timeout for the\noverall timeout for each call.\n\nRelated-Bug: #1844296\nChange-Id: I17e0e45117a3312c11d6c7f2762dd416b6067979\n'}, {'number': 2, 'created': '2019-11-08 16:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/648c05f7bee025087c2f9d8e2f9cda6e2c13e13f', 'message': 'compute: Use long_rpc_timeout in reserve_block_device_name\n\nGiven the instance.uuid lock taken on the remote compute, calls to\nreserve_block_device_name can take a large amount of time to complete\nwhen attaching multiple volumes. To help avoid timeouts during such\nattempts this change switches to using the long_rpc_timeout for the\noverall timeout for each call.\n\nRelated-Bug: #1844296\nChange-Id: I17e0e45117a3312c11d6c7f2762dd416b6067979\n'}, {'number': 3, 'created': '2019-11-26 08:50:34.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/conf/rpc.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1b63c7a83f4cd4e49aa0e6336dcc19d798b09f75', 'message': 'compute: Use long_rpc_timeout in reserve_block_device_name\n\nGiven the instance.uuid lock taken on the remote compute, calls to\nreserve_block_device_name can take a large amount of time to complete\nwhen attaching multiple volumes. To help avoid timeouts during such\nattempts this change switches to using the long_rpc_timeout for the\noverall timeout for each call.\n\nRelated-Bug: #1844296\nChange-Id: I17e0e45117a3312c11d6c7f2762dd416b6067979\n'}]",1,693537,1b63c7a83f4cd4e49aa0e6336dcc19d798b09f75,39,16,3,10135,,,0,"compute: Use long_rpc_timeout in reserve_block_device_name

Given the instance.uuid lock taken on the remote compute, calls to
reserve_block_device_name can take a large amount of time to complete
when attaching multiple volumes. To help avoid timeouts during such
attempts this change switches to using the long_rpc_timeout for the
overall timeout for each call.

Related-Bug: #1844296
Change-Id: I17e0e45117a3312c11d6c7f2762dd416b6067979
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/693537/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/compute/rpcapi.py']",2,190d19316a973326ddfdfdc1477a5dffbad8e7a6,bug/1844296," version=version, call_monitor_timeout=CONF.rpc_response_timeout, timeout=CONF.long_rpc_timeout)", version=version),5,1
openstack%2Freleases~master~I9bd287974c52fd32102fd1c1c62f662f478f0d11,openstack/releases,master,I9bd287974c52fd32102fd1c1c62f662f478f0d11,Release openstacksdk 0.38.0,MERGED,2019-11-27 16:54:35.000000000,2019-11-29 17:06:35.000000000,2019-11-29 17:06:34.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 10273}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-11-27 16:54:35.000000000', 'files': ['deliverables/ussuri/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b873ad94a408ab3872122ddecb1b70d7a9bc2775', 'message': ""Release openstacksdk 0.38.0\n\nThis picks up a number of features:\n\nIdac1b8f4610825ca7fdf62eec4f0453398e43346\nAdd application credential CRUD support\n\nIac034b7d8afe22a57de9f1fa9b37f3b2bf5fa0da\nAdd support for Node tainted field\n\nI860cf08712bd5869f448eaab06eb6a637e0708fd\nAdd clustering update_action\n\nI6417735b0fb784d500f9d33adca4fcd92cdf7966\nAdd router add/remove route operations\n\n...and at least a couple of bug fixes:\n\nI6f628787dcf458ff9149dbb3502e7beeded70d9e\nbaremetal node: 'error' is a failed state\n\nIe0cffc402747d070c1eae1d9b423a046936d917d\nKeep connection backrefs with weakref.proxy\n\nChange-Id: I9bd287974c52fd32102fd1c1c62f662f478f0d11\n""}]",0,696359,b873ad94a408ab3872122ddecb1b70d7a9bc2775,12,8,1,14070,,,0,"Release openstacksdk 0.38.0

This picks up a number of features:

Idac1b8f4610825ca7fdf62eec4f0453398e43346
Add application credential CRUD support

Iac034b7d8afe22a57de9f1fa9b37f3b2bf5fa0da
Add support for Node tainted field

I860cf08712bd5869f448eaab06eb6a637e0708fd
Add clustering update_action

I6417735b0fb784d500f9d33adca4fcd92cdf7966
Add router add/remove route operations

...and at least a couple of bug fixes:

I6f628787dcf458ff9149dbb3502e7beeded70d9e
baremetal node: 'error' is a failed state

Ie0cffc402747d070c1eae1d9b423a046936d917d
Keep connection backrefs with weakref.proxy

Change-Id: I9bd287974c52fd32102fd1c1c62f662f478f0d11
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/696359/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/openstacksdk.yaml'],1,b873ad94a408ab3872122ddecb1b70d7a9bc2775,openstacksdk-0.38.0, - version: 0.38.0 projects: - repo: openstack/openstacksdk hash: b503f1ff570d77298df83f676e1e4ac287ad770e,,4,0
openstack%2Fnova~master~I60298ea3b22d9dfec2cd7a3e9950ed04aedc6bf5,openstack/nova,master,I60298ea3b22d9dfec2cd7a3e9950ed04aedc6bf5,Fix incorrect command examples,MERGED,2019-11-25 00:45:33.000000000,2019-11-29 16:50:56.000000000,2019-11-29 16:44:20.000000000,"[{'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-25 00:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bd8f8f453f37e636c428173eab4bc332355b8b7', 'message': ""Fix incorrect command examples\n\nThe command of 'openstack resource provider show <HOST1_UUID>' does not\nreturn the uuid. This patch fixes it. Then following commands use\n'host_id' instead of 'server_id'.\n\nChange-Id: I60298ea3b22d9dfec2cd7a3e9950ed04aedc6bf5\nCloses-Bug: #1853745\n""}, {'number': 2, 'created': '2019-11-26 02:38:48.000000000', 'files': ['doc/source/reference/isolate-aggregates.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/0195939588da595868d20d4185af77ee4a2debd5', 'message': ""Fix incorrect command examples\n\nThe command of 'openstack resource provider show <HOST1_UUID>' does not\nreturn the uuid. This patch fixes it. Then following commands use\n'host_id' instead of 'server_id'.\n\nChange-Id: I60298ea3b22d9dfec2cd7a3e9950ed04aedc6bf5\nCloses-Bug: #1853745\n""}]",2,695832,0195939588da595868d20d4185af77ee4a2debd5,19,7,2,23950,,,0,"Fix incorrect command examples

The command of 'openstack resource provider show <HOST1_UUID>' does not
return the uuid. This patch fixes it. Then following commands use
'host_id' instead of 'server_id'.

Change-Id: I60298ea3b22d9dfec2cd7a3e9950ed04aedc6bf5
Closes-Bug: #1853745
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/695832/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/isolate-aggregates.rst'],1,5bd8f8f453f37e636c428173eab4bc332355b8b7,bug_1853745, # host_id=$(openstack resource provider show <HOST1_UUID> -f value -c uuid) # traits=$(openstack --os-placement-api-version 1.6 resource provider trait list -f value $host_id | sed 's/^/--trait /') # openstack --os-placement-api-version 1.6 resource provider trait set $traits --trait CUSTOM_LICENSED_WINDOWS $host_id # openstack --os-compute-api-version 2.53 aggregate set --property trait:CUSTOM_LICENSED_WINDOWS=required ABC, # host_id=$(openstack resource provider show <HOST1_UUID>) # traits=$(openstack --os-placement-api-version 1.6 resource provider trait list -f value $server_id | sed 's/^/--trait /') # openstack --os-placement-api-version 1.6 resource provider trait set $traits --trait CUSTOM_LICENSED_WINDOWS $server_id openstack --os-compute-api-version 2.53 aggregate set --property trait:CUSTOM_LICENSED_WINDOWS=required ABC,4,4
openstack%2Fnova~master~Idc45d5ebc26e3a8a94fc5ec13c07465b9dd460e6,openstack/nova,master,Idc45d5ebc26e3a8a94fc5ec13c07465b9dd460e6,Force config drive in nova-next multinode job,MERGED,2019-11-21 13:29:59.000000000,2019-11-29 16:49:01.000000000,2019-11-29 16:44:15.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-21 13:29:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/fcb64bd0f8117a66f62487f4999497bf882c4a39', 'message': 'Force config drive in nova-next multinode job\n\nWe made the nova-next job multinode in Ussuri and we\nsometimes see intermittent failures setting up guests\nin tempest tests that move a guest from one host to\nanother, e.g. test_shelve_volume_backed_instance. If\nthis is due to slow nodes or slow network connections\nbetween the subnode and the primary where the metadata\nAPI server is running, the guest setup can fail which\nresults in SSH failures in the tempest tests which are\ngenerally not easy to debug.\n\nThis makes the nova-next job force the use of a config\ndrive for the servers that are created so we can take\nthe metadata API server out of the mix for these types\nof SSH failures with this specific job.\n\nChange-Id: Idc45d5ebc26e3a8a94fc5ec13c07465b9dd460e6\nRelated-Bug: #1853453\n'}]",0,695431,fcb64bd0f8117a66f62487f4999497bf882c4a39,20,11,1,6873,,,0,"Force config drive in nova-next multinode job

We made the nova-next job multinode in Ussuri and we
sometimes see intermittent failures setting up guests
in tempest tests that move a guest from one host to
another, e.g. test_shelve_volume_backed_instance. If
this is due to slow nodes or slow network connections
between the subnode and the primary where the metadata
API server is running, the guest setup can fail which
results in SSH failures in the tempest tests which are
generally not easy to debug.

This makes the nova-next job force the use of a config
drive for the servers that are created so we can take
the metadata API server out of the mix for these types
of SSH failures with this specific job.

Change-Id: Idc45d5ebc26e3a8a94fc5ec13c07465b9dd460e6
Related-Bug: #1853453
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/695431/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fcb64bd0f8117a66f62487f4999497bf882c4a39,bug/1853453, # Added in Ussuri. FORCE_CONFIG_DRIVE: True FORCE_CONFIG_DRIVE: True,,3,0
openstack%2Fsahara~stable%2Fpike~If8ff04b6a59f98700f1aa3988fe740959a0ec4b0,openstack/sahara,stable/pike,If8ff04b6a59f98700f1aa3988fe740959a0ec4b0,Run sahara-scenario using Python 3,MERGED,2019-11-26 17:02:57.000000000,2019-11-29 16:34:47.000000000,2019-11-29 16:34:47.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 17:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f6b61e941a2fb62a9eb096eea234d64fc4f0e96f', 'message': 'Run sahara-scenario using Python 3\n\nThe sahara-tests repository is removing Python 2 support in master,\nAs Python 3.5 is supported, sahara-tests-scenario jobs can safely\nuse it to run sahara-scenario also on this stable branch.\n\nChange-Id: If8ff04b6a59f98700f1aa3988fe740959a0ec4b0\n(cherry picked from commit 8677168b80aeee669d468a09bfb754498f81f5c2)\n'}, {'number': 2, 'created': '2019-11-28 15:17:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/91cfae79061b7135eebf52462e1c6fedf76129cd', 'message': 'Run sahara-scenario using Python 3\n\nThe sahara-tests repository is removing Python 2 support in master,\nAs Python 3.5 is supported, sahara-tests-scenario jobs can safely\nuse it to run sahara-scenario also on this stable branch.\n\nChange-Id: If8ff04b6a59f98700f1aa3988fe740959a0ec4b0\n(cherry picked from commit 8677168b80aeee669d468a09bfb754498f81f5c2)\n'}]",0,696132,91cfae79061b7135eebf52462e1c6fedf76129cd,12,3,2,10459,,,0,"Run sahara-scenario using Python 3

The sahara-tests repository is removing Python 2 support in master,
As Python 3.5 is supported, sahara-tests-scenario jobs can safely
use it to run sahara-scenario also on this stable branch.

Change-Id: If8ff04b6a59f98700f1aa3988fe740959a0ec4b0
(cherry picked from commit 8677168b80aeee669d468a09bfb754498f81f5c2)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/32/696132/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f6b61e941a2fb62a9eb096eea234d64fc4f0e96f,, - sahara-tests-scenario - sahara-tests-scenario-modwsgi: - sahara-tests-scenario, - sahara-tests-scenario: vars: sahara_scenario_tox_env: venv-py2 - sahara-tests-scenario-modwsgi: vars: sahara_scenario_tox_env: venv-py2 - sahara-tests-scenario: vars: sahara_scenario_tox_env: venv-py2,2,8
openstack%2Foslo.concurrency~master~I4179e8732dba7367bd0c835cbd11939ca7b8cc42,openstack/oslo.concurrency,master,I4179e8732dba7367bd0c835cbd11939ca7b8cc42,Spiff up docs for *_with_prefix,MERGED,2019-11-04 21:32:55.000000000,2019-11-29 16:27:34.000000000,2019-11-29 16:25:39.000000000,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-04 21:32:55.000000000', 'files': ['oslo_concurrency/lockutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/c08159119e605dea76580032ca85834d1de21d3e', 'message': 'Spiff up docs for *_with_prefix\n\nFollowing up on comments in [1], clarify and unify the docs for the\nfollowing lockutils methods:\n\n- lock_with_prefix\n- synchronized_with_prefix\n- remove_external_lock_file_with_prefix\n\n[1] I4e723ee3be1e57c543684390b607c84388c6e930\n\nChange-Id: I4179e8732dba7367bd0c835cbd11939ca7b8cc42\n'}]",0,692908,c08159119e605dea76580032ca85834d1de21d3e,11,4,1,14070,,,0,"Spiff up docs for *_with_prefix

Following up on comments in [1], clarify and unify the docs for the
following lockutils methods:

- lock_with_prefix
- synchronized_with_prefix
- remove_external_lock_file_with_prefix

[1] I4e723ee3be1e57c543684390b607c84388c6e930

Change-Id: I4179e8732dba7367bd0c835cbd11939ca7b8cc42
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/08/692908/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_concurrency/lockutils.py'],1,c08159119e605dea76580032ca85834d1de21d3e,enhance_prefix_docs," _prefix = 'nova' lock = lockutils.lock_with_prefix(_prefix) lock_cleanup = lockutils.remove_external_lock_file_with_prefix(_prefix) Eventually clean up with:: lock_cleanup('mylock') :param lock_file_prefix: A string used to provide lock files on disk with a meaningful prefix. Will be separated from the lock name with a hyphen, which may optionally be included in the lock_file_prefix (e.g. ``'nova'`` and ``'nova-'`` are equivalent). _prefix = 'nova' synchronized = lockutils.synchronized_with_prefix(_prefix) lock_cleanup = lockutils.remove_external_lock_file_with_prefix(_prefix) Eventually clean up with:: lock_cleanup('mylock') :param lock_file_prefix: A string used to provide lock files on disk with a meaningful prefix. Will be separated from the lock name with a hyphen, which may optionally be included in the lock_file_prefix (e.g. ``'nova'`` and ``'nova-'`` are equivalent). _prefix = 'nova' synchronized = lockutils.synchronized_with_prefix(_prefix) lock = lockutils.lock_with_prefix(_prefix) lock_cleanup = lockutils.remove_external_lock_file_with_prefix(_prefix) ... def baz(self, *args): ... with utils.lock('mylock'): ... ... <eventually call lock_cleanup('mylock') to clean up>", lock = lockutils.lock_with_prefix('nova-') The lock_file_prefix argument is used to provide lock files on disk with a meaningful prefix. synchronized = lockutils.synchronized_with_prefix('nova-') The lock_file_prefix argument is used to provide lock files on disk with a meaningful prefix. synchronized = lockutils.synchronized_with_prefix('nova-') synchronized_remove = lockutils.remove_external_lock_file_with_prefix( 'nova-') ... <eventually call synchronized_remove('mylock') to cleanup>,34,11
openstack%2Foslo.concurrency~master~I4e723ee3be1e57c543684390b607c84388c6e930,openstack/oslo.concurrency,master,I4e723ee3be1e57c543684390b607c84388c6e930,Add lock_with_prefix convenience utility,MERGED,2019-09-17 21:24:20.000000000,2019-11-29 16:15:18.000000000,2019-11-29 16:14:06.000000000,"[{'_account_id': 6928}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-17 21:24:20.000000000', 'files': ['oslo_concurrency/lockutils.py', 'oslo_concurrency/tests/unit/test_lockutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/fec03875e93b6c047c46bac5a503af8a32b7710f', 'message': ""Add lock_with_prefix convenience utility\n\nThere's a convenience wrapper around the lockutils.synchronized\ndecorator that lets oslo.concurrency consumers set up a prefix to use\nfor all lock files (presumably to obviate collisions with other\nconsumers when using jejune lock names, like 'lock'). This commit adds\nan equivalent wrapper around lockutils.lock, the context manager\ncounterpart to the lockutils.synchronized decorator.\n\nNote that the unit test added for lock_with_prefix is pretty bare; but\nit follows the precedent set by the existing tests. Future commits\nshould make all these tests more thorough/robust.\n\nChange-Id: I4e723ee3be1e57c543684390b607c84388c6e930\n""}]",0,682751,fec03875e93b6c047c46bac5a503af8a32b7710f,15,5,1,14070,,,0,"Add lock_with_prefix convenience utility

There's a convenience wrapper around the lockutils.synchronized
decorator that lets oslo.concurrency consumers set up a prefix to use
for all lock files (presumably to obviate collisions with other
consumers when using jejune lock names, like 'lock'). This commit adds
an equivalent wrapper around lockutils.lock, the context manager
counterpart to the lockutils.synchronized decorator.

Note that the unit test added for lock_with_prefix is pretty bare; but
it follows the precedent set by the existing tests. Future commits
should make all these tests more thorough/robust.

Change-Id: I4e723ee3be1e57c543684390b607c84388c6e930
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/51/682751/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_concurrency/lockutils.py', 'oslo_concurrency/tests/unit/test_lockutils.py']",2,fec03875e93b6c047c46bac5a503af8a32b7710f,lock_with_prefix," def test_lock_with_prefix(self): # TODO(efried): Embetter this test self.config(lock_path=tempfile.mkdtemp(), group='oslo_concurrency') foo = lockutils.lock_with_prefix('mypfix-') with foo('mylock', external=True): # We can't check much pass ",,32,0
openstack%2Ftripleo-heat-templates~master~I2b5be3c38dd9eeec4c01327774c9a56c0a313c70,openstack/tripleo-heat-templates,master,I2b5be3c38dd9eeec4c01327774c9a56c0a313c70,Fix Octavia post update and upgrade tasks,ABANDONED,2019-11-26 21:14:24.000000000,2019-11-29 15:54:26.000000000,,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 21:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1e372102794b59bd2eadade0315d141838bb53e', 'message': 'Fix Octavia post update and upgrade tasks\n\nPost deploy tasks for external deployments run as part of\nexternal_post_deploy_tasks, not tasks in post_upgrade_tasks and\npost_update_tasks.\n\nChange-Id: I2b5be3c38dd9eeec4c01327774c9a56c0a313c70\n'}, {'number': 2, 'created': '2019-11-27 11:21:10.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/336b69c158e19e660c3fcdb32da1bdef7945704c', 'message': 'Fix Octavia post update and upgrade tasks\n\nPost deploy tasks for external deployments run as part of\nexternal_post_deploy_tasks, not tasks in post_upgrade_tasks and\npost_update_tasks. Additionally, moved tasks to\noctavia-deployment-config.j2.yaml as this is where external tasks are\ndefined.\n\nChange-Id: I2b5be3c38dd9eeec4c01327774c9a56c0a313c70\n'}]",0,696189,336b69c158e19e660c3fcdb32da1bdef7945704c,13,4,2,6469,,,0,"Fix Octavia post update and upgrade tasks

Post deploy tasks for external deployments run as part of
external_post_deploy_tasks, not tasks in post_upgrade_tasks and
post_update_tasks. Additionally, moved tasks to
octavia-deployment-config.j2.yaml as this is where external tasks are
defined.

Change-Id: I2b5be3c38dd9eeec4c01327774c9a56c0a313c70
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/696189/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",3,c1e372102794b59bd2eadade0315d141838bb53e,bug/1854069, external_post_deploy_tasks:," post_upgrade_tasks: when: step|int == 5 file: path: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia/conf.d/common"" state: absent post_update_tasks: - name: remove directory /etc/octavia/conf.d/common when: step|int == 5",3,24
openstack%2Fcharm-tempest~master~I739835fe71da6a727f51b3c42389372ac139d039,openstack/charm-tempest,master,I739835fe71da6a727f51b3c42389372ac139d039,Fix python3 invocation for charm to charm-env,MERGED,2019-11-08 17:55:35.000000000,2019-11-29 15:34:02.000000000,2019-11-29 15:34:01.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 17:55:35.000000000', 'files': ['src/actions/run-tempest.py'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/1e546550f2298dabda091f753ecb710b84f5a341', 'message': 'Fix python3 invocation for charm to charm-env\n\nCloses bug: #1760949\n\nChange-Id: I739835fe71da6a727f51b3c42389372ac139d039\n'}]",0,693567,1e546550f2298dabda091f753ecb710b84f5a341,9,4,1,20870,,,0,"Fix python3 invocation for charm to charm-env

Closes bug: #1760949

Change-Id: I739835fe71da6a727f51b3c42389372ac139d039
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/67/693567/1 && git format-patch -1 --stdout FETCH_HEAD,['src/actions/run-tempest.py'],1,1e546550f2298dabda091f753ecb710b84f5a341,bug/1760949,#!/usr/local/sbin/charm-env python3,#!/usr/bin/env python3,1,1
openstack%2Fopenstackdocstheme~master~Ib1bf459fda30846635f97878e6ddb05fac0317e3,openstack/openstackdocstheme,master,Ib1bf459fda30846635f97878e6ddb05fac0317e3,Move version dropdown to title line,MERGED,2019-11-20 14:40:34.000000000,2019-11-29 15:29:40.000000000,2019-11-29 15:28:38.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-20 14:40:34.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/layout.html', 'openstackdocstheme/theme/openstackdocs/titlerow.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/a4dbd767bfe07cfa89ef0ed683599776e2e0410f', 'message': 'Move version dropdown to title line\n\nRather than use a specific line for the version dropdown, integrate it\nin the docs-actions on the right of the title.\n\nCopy some style elements (previously inherited from docs-byline) to\nversion-dropdown to preserve style. Play with padding and margins to\nachieve proper alignement of actions.\n\nChange-Id: Ib1bf459fda30846635f97878e6ddb05fac0317e3\n'}]",0,695207,a4dbd767bfe07cfa89ef0ed683599776e2e0410f,8,3,1,308,,,0,"Move version dropdown to title line

Rather than use a specific line for the version dropdown, integrate it
in the docs-actions on the right of the title.

Copy some style elements (previously inherited from docs-byline) to
version-dropdown to preserve style. Play with padding and margins to
achieve proper alignement of actions.

Change-Id: Ib1bf459fda30846635f97878e6ddb05fac0317e3
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/07/695207/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/layout.html', 'openstackdocstheme/theme/openstackdocs/titlerow.html']",3,a4dbd767bfe07cfa89ef0ed683599776e2e0410f,title-improvements," {%- block otherversions %} {%- if other_versions %} <div class=""version-dropdown""> <span>{{ _('version') }}</span> <div class=""version-dropdown-content""> {%- for ver in other_versions: %} <p><a href=""../{{pathto(ver, 1) }}"" rel=""nofollow"">{{ ver }}</a></p> {%- endfor %} </div> </div> {%- endif %} {%- endblock %}",,22,19
openstack%2Fpython-novaclient~master~Ic263943b1d6110925b9c9849c01b0d52d41a8351,openstack/python-novaclient,master,Ic263943b1d6110925b9c9849c01b0d52d41a8351,doc: Update Testing document,MERGED,2019-11-26 00:23:50.000000000,2019-11-29 15:23:51.000000000,2019-11-29 15:22:34.000000000,"[{'_account_id': 679}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 00:23:50.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/eb98178ea88c77881f7c763b068408f769956eb2', 'message': ""doc: Update Testing document\n\nPython 2 support has been dropped since\nIf678d77b8da69121b0075bfbc4216531be25da6a.\n\nUpdate the 'Testing' document.\n\nChange-Id: Ic263943b1d6110925b9c9849c01b0d52d41a8351\n""}]",0,695995,eb98178ea88c77881f7c763b068408f769956eb2,8,3,1,7634,,,0,"doc: Update Testing document

Python 2 support has been dropped since
If678d77b8da69121b0075bfbc4216531be25da6a.

Update the 'Testing' document.

Change-Id: Ic263943b1d6110925b9c9849c01b0d52d41a8351
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/95/695995/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,eb98178ea88c77881f7c763b068408f769956eb2,update_doc,``tox -e py37`` Traditional unit testing (Python 3.7). Live functional testing against an existing OpenStack instance. (Python 3.7),``tox -e py27`` Traditional unit testing (Python 2.7). ``tox -e py36`` Traditional unit testing (Python 3.6). Live functional testing against an existing OpenStack instance. (Python 2.7) ``tox -e functional-py36`` Live functional testing against an existing OpenStack instance. (Python 3.6),3,9
openstack%2Fnova~master~I11b401a3f874226fdc20a0ee0bd518192f70fa1d,openstack/nova,master,I11b401a3f874226fdc20a0ee0bd518192f70fa1d,Add contributor doc for resize and cold migrate,MERGED,2019-11-22 00:45:56.000000000,2019-11-29 15:22:43.000000000,2019-11-29 15:20:10.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-22 00:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e084096b96c5a3f031c6a83cc6e01c8ee00ec80', 'message': 'Add contributor doc for resize and cold migrate\n\nResize and cold migrate can be confusing since they are\nvery similar operations and share mostly the same code paths\nbut there are some notable differences. This adds a contributor\ndoc, similar to the evacuate-vs-rebuild contributor doc, to\ntry and explain things at a high level and provide enough links\nso contributors can follow along and see where things fit into\nthe puzzle.\n\nA sequence diagram is sorely need for this as well but that will\ncome in a separate change.\n\nChange-Id: I11b401a3f874226fdc20a0ee0bd518192f70fa1d\n'}, {'number': 2, 'created': '2019-11-22 00:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e404b1de2f854e4851c89d31d5849cf146bf24a1', 'message': 'Add contributor doc for resize and cold migrate\n\nResize and cold migrate can be confusing since they are\nvery similar operations and share mostly the same code paths\nbut there are some notable differences. This adds a contributor\ndoc, similar to the evacuate-vs-rebuild contributor doc, to\ntry and explain things at a high level and provide enough links\nso contributors can follow along and see where things fit into\nthe puzzle.\n\nA sequence diagram is sorely needed for this as well but that will\ncome in a separate change.\n\nChange-Id: I11b401a3f874226fdc20a0ee0bd518192f70fa1d\n'}, {'number': 3, 'created': '2019-11-22 20:16:00.000000000', 'files': ['doc/source/contributor/resize-and-cold-migrate.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e781f6f3409a7dd6f01fa41ea4f8efc18722b8d', 'message': 'Add contributor doc for resize and cold migrate\n\nResize and cold migrate can be confusing since they are\nvery similar operations and share mostly the same code paths\nbut there are some notable differences. This adds a contributor\ndoc, similar to the evacuate-vs-rebuild contributor doc, to\ntry and explain things at a high level and provide enough links\nso contributors can follow along and see where things fit into\nthe puzzle.\n\nA sequence diagram is sorely needed for this as well but that will\ncome in a separate change.\n\nChange-Id: I11b401a3f874226fdc20a0ee0bd518192f70fa1d\n'}]",42,695609,1e781f6f3409a7dd6f01fa41ea4f8efc18722b8d,29,9,3,6873,,,0,"Add contributor doc for resize and cold migrate

Resize and cold migrate can be confusing since they are
very similar operations and share mostly the same code paths
but there are some notable differences. This adds a contributor
doc, similar to the evacuate-vs-rebuild contributor doc, to
try and explain things at a high level and provide enough links
so contributors can follow along and see where things fit into
the puzzle.

A sequence diagram is sorely needed for this as well but that will
come in a separate change.

Change-Id: I11b401a3f874226fdc20a0ee0bd518192f70fa1d
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/695609/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,1e084096b96c5a3f031c6a83cc6e01c8ee00ec80,contributor-doc-resize-cold-migrate, * :doc:`/contributor/resize-and-cold-migrate`: Describes the differences and similarities between resize and cold migrate operations. resize-and-cold-migrate,,3,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I47defcb18ac6b6059e22cd294e9461b69f015471,openstack/openstack-ansible-openstack_hosts,master,I47defcb18ac6b6059e22cd294e9461b69f015471,Fix host kernel modules when using linux-hwe on ubuntu,MERGED,2019-10-08 10:58:32.000000000,2019-11-29 15:13:46.000000000,2019-10-09 15:52:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-08 10:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/374eb638d3b8f9b3473daa4f22c3d8ed49bef3a1', 'message': 'Fix host kernel modules when using linux-hwe on ubuntu\n\nCurrently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0\nIn newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into\nnf_conntrack.\n\nThis fixes setup hosts playbook on systems that use linux-hwe\n\nChange-Id: I47defcb18ac6b6059e22cd294e9461b69f015471\n'}, {'number': 2, 'created': '2019-10-08 12:36:48.000000000', 'files': ['vars/ubuntu-18.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/78db2a57da6a2aea9345fee1cea3a9915c2e65e5', 'message': 'Fix host kernel modules when using linux-hwe on ubuntu\n\nCurrently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0\nIn newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into\nnf_conntrack.\n\nThis fixes setup hosts playbook on systems that use linux-hwe\n\nDepends-On: https://review.opendev.org/687142/\nChange-Id: I47defcb18ac6b6059e22cd294e9461b69f015471\n'}]",0,687265,78db2a57da6a2aea9345fee1cea3a9915c2e65e5,12,4,2,22018,,,0,"Fix host kernel modules when using linux-hwe on ubuntu

Currently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0
In newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into
nf_conntrack.

This fixes setup hosts playbook on systems that use linux-hwe

Depends-On: https://review.opendev.org/687142/
Change-Id: I47defcb18ac6b6059e22cd294e9461b69f015471
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/65/687265/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,374eb638d3b8f9b3473daa4f22c3d8ed49bef3a1,," #NOTE: 4.19 kernel merged nf_conntrack_ipv{4,6} into nf_conntrack - name: ""{{ (hostvars[inventory_hostname]['ansible_kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv4', '') }}"" - name: ""{{ (hostvars[inventory_hostname]['ansible_kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv6', '') }}""", - name: nf_conntrack_ipv4 - name: nf_conntrack_ipv6,3,2
openstack%2Fopenstackdocstheme~master~I8fadbe74d6a79035be987e63df649d1464cbaaa4,openstack/openstackdocstheme,master,I8fadbe74d6a79035be987e63df649d1464cbaaa4,Improve docs title style,MERGED,2019-11-20 13:04:57.000000000,2019-11-29 15:06:29.000000000,2019-11-29 15:04:42.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-20 13:04:57.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/layout.html', 'openstackdocstheme/theme/openstackdocs/titlerow.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/83efd8115dd062ce5b25699bd7b2e4f3e325021e', 'message': 'Improve docs title style\n\nThe style used for docs title suffers from several issues:\n\n- the title has the same size (h2) than headers in the content\n- \'last updated\' info appears twice and is not *that* important\n- Content starts a bit too close from the last-updated top block\n\nThis change raises the title to h1 level, and skips the top ""last\nupdated"" row unless there are several versions of the document to pick\nfrom.\n\nIn order to keep proper separation between title and content, it\nintroduces a new style (title-row) and applies it to the title.\n\nChange-Id: I8fadbe74d6a79035be987e63df649d1464cbaaa4\n'}]",0,695186,83efd8115dd062ce5b25699bd7b2e4f3e325021e,8,3,1,308,,,0,"Improve docs title style

The style used for docs title suffers from several issues:

- the title has the same size (h2) than headers in the content
- 'last updated' info appears twice and is not *that* important
- Content starts a bit too close from the last-updated top block

This change raises the title to h1 level, and skips the top ""last
updated"" row unless there are several versions of the document to pick
from.

In order to keep proper separation between title and content, it
introduces a new style (title-row) and applies it to the title.

Change-Id: I8fadbe74d6a79035be987e63df649d1464cbaaa4
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/86/695186/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/layout.html', 'openstackdocstheme/theme/openstackdocs/titlerow.html']",3,83efd8115dd062ce5b25699bd7b2e4f3e325021e,title-improvements,"<div class=""row docs-title""> <h1>{{ title }}</h1> <h1>OpenStack API Documentation</h1>","<div class=""row""> <h2>{{ title }}</h2> <h2>OpenStack API Documentation</h2>",12,7
openstack%2Fcharm-deployment-guide~master~Iec6ea3f0bd1d0b477c65061cbcdf2467995d6cef,openstack/charm-deployment-guide,master,Iec6ea3f0bd1d0b477c65061cbcdf2467995d6cef,Remove duplicate wording about cells and other services,MERGED,2019-10-30 17:26:59.000000000,2019-11-29 15:02:50.000000000,2019-11-29 15:01:09.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 31204}]","[{'number': 1, 'created': '2019-10-30 17:26:59.000000000', 'files': ['deploy-guide/source/app-nova-cells.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/fc850cc5a3593ee4ad1a679fd9f6efd7b43c2f38', 'message': 'Remove duplicate wording about cells and other services\n\nChange-Id: Iec6ea3f0bd1d0b477c65061cbcdf2467995d6cef\nCloses-Bug: 1850677\n'}]",0,692197,fc850cc5a3593ee4ad1a679fd9f6efd7b43c2f38,8,3,1,11805,,,0,"Remove duplicate wording about cells and other services

Change-Id: Iec6ea3f0bd1d0b477c65061cbcdf2467995d6cef
Closes-Bug: 1850677
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/97/692197/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-nova-cells.rst'],1,fc850cc5a3593ee4ad1a679fd9f6efd7b43c2f38,bug/1850677,it is v2 specific.,"it is v2 specific. Also, this is a *Nova* cell, other services such as",1,1
openstack%2Foslo-specs~master~Iad18df4b717e373250fe071de40bf60df60ac091,openstack/oslo-specs,master,Iad18df4b717e373250fe071de40bf60df60ac091,Start README.rst with a better title,MERGED,2019-11-28 01:40:47.000000000,2019-11-29 14:58:15.000000000,2019-11-29 14:57:04.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30408}]","[{'number': 1, 'created': '2019-11-28 01:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/ecda84cad89414672c49f43a5248f1b8c66cc0f6', 'message': 'Start README.rst with a better title\n\nNow that we are using gitea the contents of our README.rst are\nmore prominently displayed. Starting it with a ""Team and repository\ntags"" title is a bit confusing. This change makes it start with the\nname of the project instead.\n\nChange-Id: Iad18df4b717e373250fe071de40bf60df60ac091\n'}, {'number': 2, 'created': '2019-11-29 07:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/e74308e16a07bb1cf92c7d857b6a79922e4ea9b2', 'message': 'Start README.rst with a better title\n\nNow that we are using gitea the contents of our README.rst are\nmore prominently displayed. Starting it with a ""Team and repository\ntags"" title is a bit confusing. This change makes it start with the\nname of the project instead.\n\nChange-Id: Iad18df4b717e373250fe071de40bf60df60ac091\n'}, {'number': 3, 'created': '2019-11-29 08:45:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/dc9b0295315169c3b814a5d68dffdcf6eecfd85c', 'message': 'Start README.rst with a better title\n\nNow that we are using gitea the contents of our README.rst are\nmore prominently displayed. Starting it with a ""Team and repository\ntags"" title is a bit confusing. This change makes it start with the\nname of the project instead.\n\nChange-Id: Iad18df4b717e373250fe071de40bf60df60ac091\n'}]",4,696426,dc9b0295315169c3b814a5d68dffdcf6eecfd85c,15,4,3,30408,,,0,"Start README.rst with a better title

Now that we are using gitea the contents of our README.rst are
more prominently displayed. Starting it with a ""Team and repository
tags"" title is a bit confusing. This change makes it start with the
name of the project instead.

Change-Id: Iad18df4b717e373250fe071de40bf60df60ac091
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/26/696426/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ecda84cad89414672c49f43a5248f1b8c66cc0f6,dev,=============================== oslo-specs ===============================,======================== Team and repository tags ======================================================= oslo-specs =============================== ,3,7
openstack%2Fwhereto~master~I38f750bb7652061cd53600f431b88a5d4085964b,openstack/whereto,master,I38f750bb7652061cd53600f431b88a5d4085964b,Switch to Ussuri jobs,ABANDONED,2019-10-22 06:05:17.000000000,2019-11-29 14:55:56.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-22 06:05:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whereto/commit/bc73ee25d0e103d2dd4a22e07e429e9a80228adf', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I38f750bb7652061cd53600f431b88a5d4085964b\n'}]",0,689956,bc73ee25d0e103d2dd4a22e07e429e9a80228adf,5,3,1,30077,,,0,"Switch to Ussuri jobs

Change-Id: I38f750bb7652061cd53600f431b88a5d4085964b
",git fetch https://review.opendev.org/openstack/whereto refs/changes/56/689956/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bc73ee25d0e103d2dd4a22e07e429e9a80228adf,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fnova~master~I1aebf86c05c7b8c1562d0071d45de2fe53f4588b,openstack/nova,master,I1aebf86c05c7b8c1562d0071d45de2fe53f4588b,docs: Blast most references to nova-network,MERGED,2019-10-04 18:22:20.000000000,2019-11-29 14:55:16.000000000,2019-11-29 14:51:13.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-04 18:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/890cf426549b09aadd4f257dc1405f2eef2d150d', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-10-05 12:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12b07224d0d94b9699a4456ce3cc14c0dca32b3d', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-10-05 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ced39caef19bcc0bc603ccf21c228b55b86d8a27', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-10-05 19:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1e478eeeaba1028ce8569f4b5d4bb8afd7ca1c7', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2019-10-09 15:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09f6c68bdf2ee657b35212ffb2aac78f63162c28', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2019-11-13 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba8c018b838e3c74dcd2d41913d7918f62a42477', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2019-11-15 15:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2bee845c916a1fa2bfe796710f70cfad425a5c8', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2019-11-18 16:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c0c9aff266d99497d07ee12bcdc6bdd5bd030dc', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2019-11-22 16:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b6b91b15d16c189e98c4f9fcb56c2c8b029deeb', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 10, 'created': '2019-11-22 16:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccd60713ef25d1f600676071a7e2c232ae4cac5b', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 11, 'created': '2019-11-23 13:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ee16ff117871a9c60076b172fc309aa78b1e923', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 12, 'created': '2019-11-25 16:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f03fbf0997d38bacd89bd7407bd6fa606835e168', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 13, 'created': '2019-11-27 09:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a80d6252d9991139dc54fa3b2e821053efe384a', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 14, 'created': '2019-11-27 18:26:47.000000000', 'files': ['doc/source/admin/configuration/hypervisor-xen-libvirt.rst', 'doc/source/admin/security-groups.rst', 'doc/source/admin/index.rst', 'doc/source/admin/configuration/logs.rst', 'doc/source/contributor/project-scope.rst', 'doc/source/user/quotas.rst', 'doc/source/user/support-matrix.ini', 'doc/source/user/upgrade.rst', 'doc/source/contributor/api.rst', 'doc/source/admin/node-down.rst', 'doc/source/user/flavors.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/29b9f788de3e2d889e522ac419cb06ef54ce9269', 'message': 'docs: Blast most references to nova-network\n\nThe only ones remaining are some real crufty SVGs and references to\nthings that still exist because nova-network was once a thing.\n\nChange-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",23,686817,29b9f788de3e2d889e522ac419cb06ef54ce9269,103,11,14,15334,,,0,"docs: Blast most references to nova-network

The only ones remaining are some real crufty SVGs and references to
things that still exist because nova-network was once a thing.

Change-Id: I1aebf86c05c7b8c1562d0071d45de2fe53f4588b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/686817/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/hypervisor-xen-libvirt.rst', 'doc/source/admin/security-groups.rst', 'doc/source/admin/configuration/logs.rst', 'doc/source/admin/system-admin.rst', 'doc/source/contributor/project-scope.rst', 'doc/source/install/get-started-compute.rst', 'doc/source/user/support-matrix.ini', 'doc/source/admin/quotas.rst', 'doc/source/user/upgrade.rst', 'doc/source/contributor/api.rst', 'doc/source/admin/node-down.rst', 'doc/source/user/flavors.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst']",13,890cf426549b09aadd4f257dc1405f2eef2d150d,bp/remove-nova-network-ussuri,"The figure does not show how networking fits into the architecture. For#. Configure the Networking service (neutron). See :ref:`vmware-networking`. security groups are supported.The VMware driver supports networking the Networking Service (neutron). Depending on your installation, complete these configuration steps before you provision VMs: #. Before provisioning VMs, create a port group with the same name as the","The figure does not show how networking fits into the architecture. Both ``nova-network`` and the OpenStack Networking Service are supported. For#. Configure networking with either ``nova-network`` or the Networking service. See :ref:`vmware-networking`. security groups are supported. If you use ``nova-network``, security groups are not supported.The VMware driver supports networking with the ``nova-network`` service or the Networking Service. Depending on your installation, complete these configuration steps before you provision VMs: #. **The nova-network service with the FlatManager or FlatDHCPManager**. Create a port group with the same name as the ``flat_network_bridge`` value in the ``nova.conf`` file. The default value is ``br100``. If you specify another value, the new value must be a valid Linux bridge identifier that adheres to Linux bridge naming conventions. All VM NICs are attached to this port group. Ensure that the flat interface of the node that runs the ``nova-network`` service has a path to this network. .. note:: When configuring the port binding for this port group in vCenter, specify ``ephemeral`` for the port binding type. For more information, see `Choosing a port binding type in ESX/ESXi <http://kb.vmware.com/ selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC &amp;externalId=1022312>`_ in the VMware Knowledge Base. #. **The nova-network service with the VlanManager**. Set the ``vlan_interface`` configuration option to match the ESX host interface that handles VLAN-tagged VM traffic. OpenStack Compute automatically creates the corresponding port groups. #. If you are using the OpenStack Networking Service: Before provisioning VMs, create a port group with the same name as the",28,168
openstack%2Freleases~master~I60d368a635f829af73ae2f9db7b35293caeca40f,openstack/releases,master,I60d368a635f829af73ae2f9db7b35293caeca40f,Release magnum-ui 5.2.1 for Train,MERGED,2019-11-27 14:34:11.000000000,2019-11-29 14:35:02.000000000,2019-11-29 14:35:02.000000000,"[{'_account_id': 308}, {'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-27 14:34:11.000000000', 'files': ['deliverables/train/magnum-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3624a050811f3f38d2a2a2bdf325a67242a2e200', 'message': 'Release magnum-ui 5.2.1 for Train\n\nChange-Id: I60d368a635f829af73ae2f9db7b35293caeca40f\n'}]",0,696313,3624a050811f3f38d2a2a2bdf325a67242a2e200,10,7,1,30927,,,0,"Release magnum-ui 5.2.1 for Train

Change-Id: I60d368a635f829af73ae2f9db7b35293caeca40f
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/696313/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/magnum-ui.yaml'],1,3624a050811f3f38d2a2a2bdf325a67242a2e200,, - version: 5.2.1 projects: - repo: openstack/magnum-ui hash: 5763f3b40a44a9b9badb74a8157148a4a255af14,,4,0
openstack%2Fmonasca-statsd~master~I522d737c5202a7c7ac292547679b71fcddad3091,openstack/monasca-statsd,master,I522d737c5202a7c7ac292547679b71fcddad3091,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:32:31.000000000,2019-11-29 14:07:21.000000000,2019-11-29 14:07:21.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/a90132be21b9ab146bc04022ca5976e35105a545', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-statsd is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I522d737c5202a7c7ac292547679b71fcddad3091\n'}, {'number': 2, 'created': '2019-11-16 16:55:43.000000000', 'files': ['releasenotes/notes/drop-py-2-7-c9e3758f73d5cf29.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/20463329439293958e87d8deebeb9f51ac7dfd5a', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-statsd is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I522d737c5202a7c7ac292547679b71fcddad3091\n'}]",0,694592,20463329439293958e87d8deebeb9f51ac7dfd5a,9,2,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-statsd is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I522d737c5202a7c7ac292547679b71fcddad3091
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/92/694592/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-c9e3758f73d5cf29.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,a90132be21b9ab146bc04022ca5976e35105a545,drop-py27-support,"envlist = py37,pep8,cover","envlist = py27,py37,pep8,cover",7,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id4f24e171867adc445eca55b3908360c8f3f6f30,openstack/tripleo-heat-templates,stable/train,Id4f24e171867adc445eca55b3908360c8f3f6f30,Make sure glance_api_tls_proxy logs are persisted on the host,MERGED,2019-11-29 06:42:15.000000000,2019-11-29 13:53:23.000000000,2019-11-29 13:31:54.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 06:42:15.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a764b832e2fc17bd3087d08c129a3b53d2bf083b', 'message': 'Make sure glance_api_tls_proxy logs are persisted on the host\n\nThe logs for the glance_api_tls_proxy containers are not persisted on\nthe host and hence get lost at the restart of the container.  Said\ncontainer has httpd inside of it so we need to make sure that the httpd\nlogs are persisted on the host just like the other containers that use\nhttpd.\n\nTested this review and I correctly get the logs persisted on a\nTLS-everywhere environment:\n[root@controller-0 ~]# ls -l /var/log/containers/httpd/glance/\ntotal 1040\n-rw-r--r--. 1 root root   5864 Nov 28 10:07 error_log\n-rw-r--r--. 1 root root 544043 Nov 28 11:17 glance-api-proxy_access_ssl.log\n-rw-r--r--. 1 root root   4360 Nov 28 10:07 glance-api-proxy_error_ssl.log\n\nNB: Slight conflict on deployment/glance/glance-api-logging-file-container.yaml\n\nChange-Id: Id4f24e171867adc445eca55b3908360c8f3f6f30\nCloses-Bug: #1854343\n(cherry picked from commit f22dce44779a3b2d0f08c991d388b2c55829664a)\n'}]",0,696640,a764b832e2fc17bd3087d08c129a3b53d2bf083b,9,4,1,20172,,,0,"Make sure glance_api_tls_proxy logs are persisted on the host

The logs for the glance_api_tls_proxy containers are not persisted on
the host and hence get lost at the restart of the container.  Said
container has httpd inside of it so we need to make sure that the httpd
logs are persisted on the host just like the other containers that use
httpd.

Tested this review and I correctly get the logs persisted on a
TLS-everywhere environment:
[root@controller-0 ~]# ls -l /var/log/containers/httpd/glance/
total 1040
-rw-r--r--. 1 root root   5864 Nov 28 10:07 error_log
-rw-r--r--. 1 root root 544043 Nov 28 11:17 glance-api-proxy_access_ssl.log
-rw-r--r--. 1 root root   4360 Nov 28 10:07 glance-api-proxy_error_ssl.log

NB: Slight conflict on deployment/glance/glance-api-logging-file-container.yaml

Change-Id: Id4f24e171867adc445eca55b3908360c8f3f6f30
Closes-Bug: #1854343
(cherry picked from commit f22dce44779a3b2d0f08c991d388b2c55829664a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/696640/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml']",2,a764b832e2fc17bd3087d08c129a3b53d2bf083b,train_glance," - /var/log/containers/httpd/glance:/var/log/httpd:z - { 'path': /var/log/containers/httpd/glance, 'setype': svirt_sandbox_file_t, 'mode': '0750' }",,3,0
openstack%2Fkuryr-kubernetes~master~I6d087a0374ff7a52b6c3b250951ccbc25c6aba63,openstack/kuryr-kubernetes,master,I6d087a0374ff7a52b6c3b250951ccbc25c6aba63,Do not merge - test xtrace fixes,ABANDONED,2019-11-28 15:29:45.000000000,2019-11-29 13:44:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-28 15:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/322d2d3706315afd8020502c73e8171c519667e6', 'message': 'Do not merge - test xtrace fix\n\nChange-Id: I6d087a0374ff7a52b6c3b250951ccbc25c6aba63\nDepends-On: https://review.opendev.org/#/c/696598/\n'}, {'number': 2, 'created': '2019-11-28 16:08:52.000000000', 'files': ['cni_ds_init'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce1b206721578736bd9083394302fd3f8209c9a7', 'message': 'Do not merge - test xtrace fixes\n\nChange-Id: I6d087a0374ff7a52b6c3b250951ccbc25c6aba63\nDepends-On: https://review.opendev.org/#/c/696598/\n'}]",0,696599,ce1b206721578736bd9083394302fd3f8209c9a7,5,1,2,11600,,,0,"Do not merge - test xtrace fixes

Change-Id: I6d087a0374ff7a52b6c3b250951ccbc25c6aba63
Depends-On: https://review.opendev.org/#/c/696598/
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/99/696599/1 && git format-patch -1 --stdout FETCH_HEAD,['cni_ds_init'],1,322d2d3706315afd8020502c73e8171c519667e6,test-xtrace,# FOO,,1,0
openstack%2Fhorizon~master~Ia4d1367ccd309a074a0ea84a555d7de6c07971a6,openstack/horizon,master,Ia4d1367ccd309a074a0ea84a555d7de6c07971a6,Fix tenant floating_ip_allocation call in neutron rest api.,MERGED,2019-06-07 00:14:18.000000000,2019-11-29 13:43:51.000000000,2019-06-12 10:35:48.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 00:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eae4951c1d11a4581eb29c80baa9f4bcc34afb3a', 'message': 'Fix tenant floating_ip_allocation call in neutron rest api.\n\nThe call to allocate a new floating IP was incorrecting calling\ntenant_floating_ip_allocate, this is used by neutron-lbaas-dashboard.\n\nChange-Id: Ia4d1367ccd309a074a0ea84a555d7de6c07971a6\nCloses-bug: #1831954\n'}, {'number': 2, 'created': '2019-06-07 00:47:55.000000000', 'files': ['openstack_dashboard/api/rest/network.py', 'openstack_dashboard/test/unit/api/rest/test_network.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/92d832028df65cb95030b2a585764a62dc1c0b75', 'message': 'Fix tenant floating_ip_allocation call in neutron rest api.\n\nThe call to allocate a new floating IP was incorrecting calling\ntenant_floating_ip_allocate, this is used by neutron-lbaas-dashboard.\n\nChange-Id: Ia4d1367ccd309a074a0ea84a555d7de6c07971a6\nCloses-bug: #1831954\n'}]",1,663805,92d832028df65cb95030b2a585764a62dc1c0b75,14,4,2,3031,,,0,"Fix tenant floating_ip_allocation call in neutron rest api.

The call to allocate a new floating IP was incorrecting calling
tenant_floating_ip_allocate, this is used by neutron-lbaas-dashboard.

Change-Id: Ia4d1367ccd309a074a0ea84a555d7de6c07971a6
Closes-bug: #1831954
",git fetch https://review.opendev.org/openstack/horizon refs/changes/05/663805/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/rest/network.py'],1,eae4951c1d11a4581eb29c80baa9f4bcc34afb3a,bug/1831954," None, **params)"," None, params)",1,1
openstack%2Fsahara~stable%2Fpike~Ib2499312df6ad0514a6d67214a84b975fb8c1425,openstack/sahara,stable/pike,Ib2499312df6ad0514a6d67214a84b975fb8c1425,Enforce python 2 for documentation build,MERGED,2019-11-28 15:17:02.000000000,2019-11-29 13:43:50.000000000,2019-11-29 13:42:24.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 15:17:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f3457283ca91446170aaf959b304a8b03806fe50', 'message': 'Enforce python 2 for documentation build\n\nThe global goal which changed the building system has been\nintroduced in the rocky cycle.\nWithout this change, the docs target fails on modern systems\nwith python3. As queens is approaching Extended Maintenance,\nthis is probably the safest option.\n\nChange-Id: Ib2499312df6ad0514a6d67214a84b975fb8c1425\n(cherry picked from commit 99a76f281eee9a41597178217ae48f4cfb4c090d)\n'}]",0,696595,f3457283ca91446170aaf959b304a8b03806fe50,7,2,1,10459,,,0,"Enforce python 2 for documentation build

The global goal which changed the building system has been
introduced in the rocky cycle.
Without this change, the docs target fails on modern systems
with python3. As queens is approaching Extended Maintenance,
this is probably the safest option.

Change-Id: Ib2499312df6ad0514a6d67214a84b975fb8c1425
(cherry picked from commit 99a76f281eee9a41597178217ae48f4cfb4c090d)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/95/696595/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f3457283ca91446170aaf959b304a8b03806fe50,,basepython = python2.7 rm -rf doc/build/html rm -rf api-ref/build/html, rm -rf doc/html doc/build rm -rf api-ref/build api-ref/html,3,2
openstack%2Ftripleo-heat-templates~master~I2852c8285a0e72d855bfed216b53de6bdeeabe68,openstack/tripleo-heat-templates,master,I2852c8285a0e72d855bfed216b53de6bdeeabe68,Don't set all_nodes data as group_vars in check mode,MERGED,2019-11-28 03:07:18.000000000,2019-11-29 13:32:54.000000000,2019-11-29 00:39:36.000000000,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 03:07:18.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0362abcbd100f11508d21a576fe0573a28c0a808', 'message': 'Don\'t set all_nodes data as group_vars in check mode\n\nSince the ""render all_nodes data as group_vars"" tasks are skipped when\nansible check is true, we should not run the ""set all_nodes data as\ngroup_vars"" tasks as well. It was missed and now failing when --check is\nused (see bug report).\n\nChange-Id: I2852c8285a0e72d855bfed216b53de6bdeeabe68\nCloses-Bug: #1854246\n'}]",0,696442,0362abcbd100f11508d21a576fe0573a28c0a808,14,5,1,3153,,,0,"Don't set all_nodes data as group_vars in check mode

Since the ""render all_nodes data as group_vars"" tasks are skipped when
ansible check is true, we should not run the ""set all_nodes data as
group_vars"" tasks as well. It was missed and now failing when --check is
used (see bug report).

Change-Id: I2852c8285a0e72d855bfed216b53de6bdeeabe68
Closes-Bug: #1854246
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/696442/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,0362abcbd100f11508d21a576fe0573a28c0a808,bug/1854246, when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool,,7,0
openstack%2Fsahara~stable%2Fpike~Ic7cd7396d32603967997be0425b15e0d4ba413af,openstack/sahara,stable/pike,Ic7cd7396d32603967997be0425b15e0d4ba413af,Fix requirements (bandit),MERGED,2019-11-28 15:17:02.000000000,2019-11-29 13:28:22.000000000,2019-11-29 13:26:58.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 15:17:02.000000000', 'files': ['test-requirements.txt', 'test-requirements-bandit.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/cedc42d0b98356c487a76552883b2a50e21c005e', 'message': 'Fix requirements (bandit)\n\n- bandit 1.6.0 introduced a regression in the handling of patterns.\n  Some fixes have been proposed, but newer versions introduce\n  more checks so they are not working as well (up to the current 1.6.2).\n  The version is excluded there because is not handled by global\n  requirements.\n\n  Remove the separate requirement file for bandit, because\n  bandit has been part of test-requirements.txt in the last 3 years.\n  There is noneed for a separate requirements file anymore.\n  Even more, the bandit tox environment could be probably removed.\n\nThis is a partial backport of Ief8e392fcd2d66a73593abcfda06fc7dbe2e53a6\n(only the part relevant for older releases).\n\n(partially cherry picked from commit 5a3705dc5f71cf7f3f807325ad8e3ff92e879f51)\nChange-Id: Ic7cd7396d32603967997be0425b15e0d4ba413af\n'}]",0,696594,cedc42d0b98356c487a76552883b2a50e21c005e,7,2,1,10459,,,0,"Fix requirements (bandit)

- bandit 1.6.0 introduced a regression in the handling of patterns.
  Some fixes have been proposed, but newer versions introduce
  more checks so they are not working as well (up to the current 1.6.2).
  The version is excluded there because is not handled by global
  requirements.

  Remove the separate requirement file for bandit, because
  bandit has been part of test-requirements.txt in the last 3 years.
  There is noneed for a separate requirements file anymore.
  Even more, the bandit tox environment could be probably removed.

This is a partial backport of Ief8e392fcd2d66a73593abcfda06fc7dbe2e53a6
(only the part relevant for older releases).

(partially cherry picked from commit 5a3705dc5f71cf7f3f807325ad8e3ff92e879f51)
Change-Id: Ic7cd7396d32603967997be0425b15e0d4ba413af
",git fetch https://review.opendev.org/openstack/sahara refs/changes/94/696594/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'test-requirements-bandit.txt', 'tox.ini']",3,cedc42d0b98356c487a76552883b2a50e21c005e,,deps = -r{toxinidir}/test-requirements.txt,deps = -r{toxinidir}/test-requirements-bandit.txt,2,3
openstack%2Fkolla-ansible~stable%2Frocky~I1dce61a9c40a407882cfcd520ca491b4dee734ae,openstack/kolla-ansible,stable/rocky,I1dce61a9c40a407882cfcd520ca491b4dee734ae,Delete influxdb admin port,MERGED,2019-11-26 10:21:16.000000000,2019-11-29 12:59:27.000000000,2019-11-29 12:58:19.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24061}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-26 10:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb43514c0e866252f9b3ddf8b095fbbcde59cfe2', 'message': 'Delete influxdb admin port\n\nFrom version 1.3, the web admin interface is no longer available\nin InfluxDB.\nhttps://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal\n\nChange-Id: I1dce61a9c40a407882cfcd520ca491b4dee734ae\n(cherry picked from commit df6b98d79331593c38213ef45bb94ff622f0d158)\n'}, {'number': 2, 'created': '2019-11-26 11:35:10.000000000', 'files': ['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/group_vars/all.yml', 'ansible/roles/influxdb/templates/influxdb.conf.j2', 'ansible/roles/influxdb/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db4f7dd08e26c4716469bfaf101d79bd1e8dc2c7', 'message': 'Delete influxdb admin port\n\nFrom version 1.3, the web admin interface is no longer available\nin InfluxDB.\nhttps://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal\n\nChange-Id: I1dce61a9c40a407882cfcd520ca491b4dee734ae\n(cherry picked from commit df6b98d79331593c38213ef45bb94ff622f0d158)\n'}]",0,696055,db4f7dd08e26c4716469bfaf101d79bd1e8dc2c7,13,5,2,17669,,,0,"Delete influxdb admin port

From version 1.3, the web admin interface is no longer available
in InfluxDB.
https://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal

Change-Id: I1dce61a9c40a407882cfcd520ca491b4dee734ae
(cherry picked from commit df6b98d79331593c38213ef45bb94ff622f0d158)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/696055/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/group_vars/all.yml', 'ansible/roles/influxdb/templates/influxdb.conf.j2', 'ansible/roles/influxdb/tasks/precheck.yml']",4,eb43514c0e866252f9b3ddf8b095fbbcde59cfe2,,,"- name: Checking free port for Influxdb Admin wait_for: host: ""{{ api_interface_address }}"" port: ""{{ influxdb_admin_port }}"" connect_timeout: 1 timeout: 1 state: stopped when: - container_facts['influxdb'] is not defined - inventory_hostname in groups['influxdb'] ",0,23
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I458e00fac26949a472aafd1985eb47ee979d681f,openstack/kuryr-kubernetes,stable/train,I458e00fac26949a472aafd1985eb47ee979d681f,Ensure pools population does not happen until pools are recovered,MERGED,2019-11-28 10:45:48.000000000,2019-11-29 12:50:08.000000000,2019-11-29 12:48:36.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 10:45:48.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cb7bbd13a2a03e121d588b999a10e22d55539937', 'message': 'Ensure pools population does not happen until pools are recovered\n\nThis patch ensures there is no pool repopulation triggered before\nthe pools are recovered upon a kuryr-controller restart\n\nCloses-Bug: 1854064\n\nChange-Id: I458e00fac26949a472aafd1985eb47ee979d681f\n(cherry picked from commit 14ee23d520fa296a1d23f881262bfdfb3e78ffed)\n'}]",0,696492,cb7bbd13a2a03e121d588b999a10e22d55539937,9,3,1,23567,,,0,"Ensure pools population does not happen until pools are recovered

This patch ensures there is no pool repopulation triggered before
the pools are recovered upon a kuryr-controller restart

Closes-Bug: 1854064

Change-Id: I458e00fac26949a472aafd1985eb47ee979d681f
(cherry picked from commit 14ee23d520fa296a1d23f881262bfdfb3e78ffed)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/92/696492/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",2,cb7bbd13a2a03e121d588b999a10e22d55539937,sync-pools-stable/train," m_driver._recovered_pools = True @ddt.data((neutron_vif.NeutronPodVIFDriver), (nested_vlan_vif.NestedVlanPodVIFDriver)) def test__populate_pool_not_ready(self, m_vif_driver): cls = vif_pool.BaseVIFPool m_driver = mock.MagicMock(spec=cls) cls_vif_driver = m_vif_driver vif_driver = mock.MagicMock(spec=cls_vif_driver) m_driver._drv_vif = vif_driver pod = mock.sentinel.pod project_id = str(uuid.uuid4()) subnets = mock.sentinel.subnets security_groups = 'test-sg' pool_key = (mock.sentinel.host_addr, project_id) m_driver._recovered_pools = False self.assertRaises(exceptions.ResourceNotReady, cls._populate_pool, m_driver, pool_key, pod, subnets, tuple(security_groups)) m_driver._drv_vif.request_vifs.assert_not_called() m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True def test_delete_network_pools_not_ready(self): cls = vif_pool.NeutronVIFPool m_driver = mock.MagicMock(spec=cls) neutron = self.useFixture(k_fix.MockNeutronClient()).client net_id = mock.sentinel.net_id m_driver._recovered_pools = False self.assertRaises(exceptions.ResourceNotReady, cls.delete_network_pools, m_driver, net_id) m_driver._trigger_return_to_pool.assert_not_called() m_driver._get_pool_key_net.assert_not_called() neutron.delete_port.assert_not_called() m_driver._recovered_pools = True m_driver._recovered_pools = True def test_delete_network_pools_not_ready(self): cls = vif_pool.NestedVIFPool m_driver = mock.MagicMock(spec=cls) cls_vif_driver = nested_vlan_vif.NestedVlanPodVIFDriver vif_driver = mock.MagicMock(spec=cls_vif_driver) m_driver._drv_vif = vif_driver neutron = self.useFixture(k_fix.MockNeutronClient()).client net_id = mock.sentinel.net_id m_driver._recovered_pools = False self.assertRaises(exceptions.ResourceNotReady, cls.delete_network_pools, m_driver, net_id) m_driver._trigger_return_to_pool.assert_not_called() m_driver._get_pool_key_net.assert_not_called() m_driver._get_trunk_id.assert_not_called() m_driver._drv_vif._remove_subports.assert_not_called() neutron.delete_port.assert_not_called() m_driver._recovered_pools = True m_driver._recovered_pools = True",,88,7
openstack%2Ftripleo-upgrade~stable%2Fstein~I4a1459344794f5d602dc1b781d15a591ea2ac135,openstack/tripleo-upgrade,stable/stein,I4a1459344794f5d602dc1b781d15a591ea2ac135,Workarounds: remove --reverse from patch options,MERGED,2019-11-14 22:45:52.000000000,2019-11-29 12:45:37.000000000,2019-11-29 12:45:37.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-14 22:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/801afc7cf6eeb0f272e4a0fb06faf84baff3c7d8', 'message': 'Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit fc859f3180a6432d3c9d8ca8b4817d0ee34cbf54)\n'}, {'number': 2, 'created': '2019-11-18 10:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d2156be9a3ca8cdb0196b339bc9cdb8adf45a5db', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 99c57ca8b0c78f94d319800f9478c0381bf221ac)\n""}, {'number': 3, 'created': '2019-11-21 13:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/633d9fe16adbe0a7da3135410da087aed949c176', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 082f0ace47086b567dba37d6bcdb1a822e8319d7)\n""}, {'number': 4, 'created': '2019-11-25 11:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7bd1bcffafc132e829dfa643ee5ca505a8529e80', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 082f0ace47086b567dba37d6bcdb1a822e8319d7)\n""}, {'number': 5, 'created': '2019-11-26 11:25:58.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4445025ea3f34d68f5590139242a3260919bce50', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit a4fa67c1f91c655eb97ae634566aad03bd4a00e5)\n""}]",0,694416,4445025ea3f34d68f5590139242a3260919bce50,17,4,5,11166,,,0,"Workarounds: remove --reverse from patch options

The --reverse option causes patch to fail even if the diff is
just few lines off. The reverse option to check if patch was
applied is not a good idea with yaml. It's fairly easy to create
reverse patch for patch that wasn't applied.

Change-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135
(cherry picked from commit a4fa67c1f91c655eb97ae634566aad03bd4a00e5)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/16/694416/3 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,801afc7cf6eeb0f272e4a0fb06faf84baff3c7d8,, if sudo patch --dry-run --force -d ${patch_dir} -p1 < ${temp_dir}/patch.txt >/dev/null 2>&1, if sudo patch --dry-run --reverse --force -d ${patch_dir} -p1 < ${temp_dir}/patch.txt >/dev/null 2>&1,1,1
openstack%2Fkuryr-kubernetes~master~Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61,openstack/kuryr-kubernetes,master,Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61,Bump OpenStackSDK version to 0.17,MERGED,2019-10-23 12:48:31.000000000,2019-11-29 12:22:42.000000000,2019-11-29 12:21:29.000000000,"[{'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-23 12:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/80193c6132e0cf9c73f75c9563cc884707793a20', 'message': 'Update driver to use OpenStackSDK.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 2, 'created': '2019-10-23 17:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d4c1617fdf0c8c482a19be3d511be7e7a5ef4d6c', 'message': 'Update driver to use OpenStackSDK.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 3, 'created': '2019-10-24 10:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/48979a3afd6e41d5670bb7d59b7dc06bd7a83727', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 4, 'created': '2019-11-12 06:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c79e70b0fdb116e4709e5abf88cfd518dd15e2ff', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 5, 'created': '2019-11-13 15:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/23abc1c30646cbe5f9f41cee5b796a192f4b19df', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 6, 'created': '2019-11-14 16:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/730d635fddbb84b1117c910e65d6be657fc5575e', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 7, 'created': '2019-11-14 16:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bcbef755d338c0f9f9a916a7bfec1a03996e8779', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 8, 'created': '2019-11-14 16:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/76929cfd731e0f85921c593631445174685d26e7', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 9, 'created': '2019-11-19 13:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a4a708de8a97c96c7dc33232a7498468eea3eb36', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 10, 'created': '2019-11-19 16:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f58e5003d2d003791aa9cb28825bef57e3330bbc', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 11, 'created': '2019-11-27 12:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aec9a3ea433714e1fc4920df99b43f651f2736f9', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 12, 'created': '2019-11-28 12:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4165abf4a0d49dfb1aaa198d4d7b6052b70925fa', 'message': 'Update drivers to use OpenStackSDK 1/2.\n\nAll drivers but one are updated to use OpenStackSDK instead of neutron\nclient. The one is nested_macvlan_vif, since it is using retry mechanism\nfor failed port pairs[1].\n\nThis is first part of drivers update. Following driver modules has been\nupdated:\n\n- lbaasv2\n- namespace_security_groups\n- namespace_subnet\n- network_policy\n- public_ip\n- vif_pool\n\n[1] https://review.opendev.org/#/c/655406/\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}, {'number': 13, 'created': '2019-11-29 07:51:08.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7bc2cd23d3a0cf646e424378c9d56803eb2184b0', 'message': 'Bump OpenStackSDK version to 0.17\n\nWe need at least 0.17, since there is a lot of improvements since 0.13,\nwhich we need for smooth transition from clients use to OpenStackSDK.\n\nChange-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61\nImplements: blueprint switch-to-openstacksdk\n'}]",69,690562,7bc2cd23d3a0cf646e424378c9d56803eb2184b0,61,6,13,13692,,,0,"Bump OpenStackSDK version to 0.17

We need at least 0.17, since there is a lot of improvements since 0.13,
which we need for smooth transition from clients use to OpenStackSDK.

Change-Id: Ia86fe9ae075a7feba2f15c0804f6b9b37af12e61
Implements: blueprint switch-to-openstacksdk
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/62/690562/5 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_neutron_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/drivers/public_ip.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py', 'kuryr_kubernetes/controller/drivers/sriov.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lb_public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",22,80193c6132e0cf9c73f75c9563cc884707793a20,bp/switch-to-openstacksdk,"import ddt import munch from openstack import exceptions as os_exc port_obj = munch.Munch({ 'binding:vnic_type': 'normal'}) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.networks.return_value = [munch.Munch({'id': net_id})] os_net.networks.assert_called() os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.networks.return_value = [] os_net.networks.assert_called() os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.networks.return_value = [munch.Munch({'id': net_id})] os_net.networks.assert_called() os_net.delete_port.assert_called_once_with(port['id']) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.networks.return_value = [munch.Munch({'id': net_id})] os_net.networks.assert_called() os_net.delete_port.assert_called_once_with(port['id']) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.networks.assert_not_called() os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.networks.assert_not_called() os_net.delete_port.assert_called_once_with(port.id) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, name=get_pod_name(pod), device_id=pod['metadata']['uid']) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, name=get_pod_name(pod), device_id=pod['metadata']['uid']) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, security_groups=list(security_groups)) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, security_groups=list(security_groups)) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, name=constants.KURYR_PORT_NAME, device_id='') os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net.delete_port.assert_called_once_with(port_id) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.side_effect = os_exc.SDKException os_net.update_port.assert_called_once_with( port_id, name=constants.KURYR_PORT_NAME, device_id='') os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net.delete_port.assert_called_once_with(port_id) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_port.assert_called_once_with(port_id) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_port.assert_called_once_with(port_id) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, name=get_pod_name(pod)) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, name=get_pod_name(pod)) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, security_groups=list(security_groups)) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_called_once_with( port_id, security_groups=list(security_groups)) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client (os_net.update_port .assert_called_once_with(port_id, name=constants.KURYR_PORT_NAME)) os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() os_net.delete_port.assert_called_once_with(port_id) m_driver._drv_vif._remove_subport.assert_called_once_with(os_net, os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.side_effect = os_exc.SDKException os_net.update_port.assert_called_once_with( port_id, name=constants.KURYR_PORT_NAME) os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() m_driver._drv_vif._remove_subport.assert_called_once_with(os_net, os_net.delete_port.assert_called_once_with(port_id) os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.update_port.assert_not_called() m_driver._drv_vif._remove_subport.assert_called_once_with(os_net, os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.get_port.return_value = port_obj os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_port.assert_called_once() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client m_driver._get_trunk_id.assert_called_once_with(os_net, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(os_net, os_net.delete_port.assert_called_once_with(port_id) os_net = self.useFixture(k_fix.MockNetworkClient()).client m_driver._drv_vif._remove_subports.side_effect = os_exc.SDKException m_driver._get_trunk_id.assert_called_once_with(os_net, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(os_net, os_net.delete_port.assert_not_called() os_net = self.useFixture(k_fix.MockNetworkClient()).client m_driver._get_trunk_id.assert_called_once_with(os_net, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(os_net, os_net.delete_port.assert_called_once_with(port_id)","import ddtfrom neutronclient.common import exceptions as n_exc port_obj = { 'binding:vnic_type': 'normal'} neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.list_networks.return_value = {'networks': [{'id': net_id}]} neutron.list_networks.assert_called() neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.list_networks.return_value = {'networks': []} neutron.list_networks.assert_called() neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.list_networks.return_value = {'networks': [{'id': net_id}]} neutron.list_networks.assert_called() neutron.delete_port.assert_called_once_with(port['id']) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.list_networks.return_value = {'networks': [{'id': net_id}]} neutron.list_networks.assert_called() neutron.delete_port.assert_called_once_with(port['id']) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.list_networks.assert_not_called() neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.list_networks.assert_not_called() neutron.delete_port.assert_called_once_with(port['id']) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'name': get_pod_name(pod), 'device_id': pod['metadata']['uid'] } }) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'name': get_pod_name(pod), 'device_id': pod['metadata']['uid'] } }) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'security_groups': list(security_groups), } }) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'security_groups': list(security_groups), } }) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'name': constants.KURYR_PORT_NAME, 'device_id': '', } }) neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron.delete_port.assert_called_once_with(port_id) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.side_effect = n_exc.NeutronClientException neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'name': constants.KURYR_PORT_NAME, 'device_id': '', } }) neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.side_effect = n_exc.PortNotFoundClient neutron.update_port.assert_not_called() neutron.delete_port.assert_called_once_with(port_id) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.assert_called_once_with(port_id) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.side_effect = n_exc.PortNotFoundClient neutron.delete_port.assert_called_once_with(port_id) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'name': get_pod_name(pod), } }) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'name': get_pod_name(pod), } }) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'security_groups': list(security_groups), } }) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'security_groups': list(security_groups), } }) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'name': constants.KURYR_PORT_NAME, } }) neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() neutron.delete_port.assert_called_once_with(port_id) m_driver._drv_vif._remove_subport.assert_called_once_with(neutron, neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.side_effect = n_exc.NeutronClientException neutron.update_port.assert_called_once_with( port_id, { ""port"": { 'name': constants.KURYR_PORT_NAME, } }) neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.side_effect = n_exc.PortNotFoundClient neutron.update_port.assert_not_called() m_driver._drv_vif._remove_subport.assert_called_once_with(neutron, neutron.delete_port.assert_called_once_with(port_id) neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_port.assert_not_called() m_driver._drv_vif._remove_subport.assert_called_once_with(neutron, neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.show_port.return_value = {'port': port_obj} neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.assert_called_once() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client m_driver._get_trunk_id.assert_called_once_with(neutron, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(neutron, neutron.delete_port.assert_called_once_with(port_id) neutron = self.useFixture(k_fix.MockNeutronClient()).client m_driver._drv_vif._remove_subports.side_effect = ( n_exc.NeutronClientException) m_driver._get_trunk_id.assert_called_once_with(neutron, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(neutron, neutron.delete_port.assert_not_called() neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.delete_port.side_effect = n_exc.PortNotFoundClient m_driver._get_trunk_id.assert_called_once_with(neutron, pool_key) m_driver._drv_vif._remove_subports.assert_called_once_with(neutron, neutron.delete_port.assert_called_once_with(port_id)",1063,1266
openstack%2Fceilometer~stable%2Ftrain~If4799a1b17001c0535413a26ec5d2f427e52f168,openstack/ceilometer,stable/train,If4799a1b17001c0535413a26ec5d2f427e52f168,Fix samples with dots in sample name,MERGED,2019-11-04 23:51:04.000000000,2019-11-29 12:22:19.000000000,2019-11-29 12:21:09.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 31052}]","[{'number': 1, 'created': '2019-11-04 23:51:04.000000000', 'files': ['ceilometer/publisher/prometheus.py', 'ceilometer/tests/unit/publisher/test_prometheus.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6b6fc539cc2d087d3384168fc76ffc90813d2d3e', 'message': 'Fix samples with dots in sample name\n\nThis patch fixes Prometheus publisher behavior when Ceilometer\nmetric names contain dots by replacing them with underscores.\nPrometheus does not accept metrics with dots.\n\nChange-Id: If4799a1b17001c0535413a26ec5d2f427e52f168\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\n'}]",0,692926,6b6fc539cc2d087d3384168fc76ffc90813d2d3e,11,3,1,21961,,,0,"Fix samples with dots in sample name

This patch fixes Prometheus publisher behavior when Ceilometer
metric names contain dots by replacing them with underscores.
Prometheus does not accept metrics with dots.

Change-Id: If4799a1b17001c0535413a26ec5d2f427e52f168
Signed-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/26/692926/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/publisher/prometheus.py', 'ceilometer/tests/unit/publisher/test_prometheus.py']",2,6b6fc539cc2d087d3384168fc76ffc90813d2d3e,," sample.Sample( name='delta.epsilon', type=sample.TYPE_GAUGE, unit='', volume=7, user_id='test', project_id='test', resource_id=resource_id, timestamp=datetime.datetime.now().isoformat(), resource_metadata={'name': 'TestPublish'}, ),# TYPE delta_epsilon gauge delta_epsilon{resource_id=""%s""} 7 """""" % (self.resource_id, self.resource_id, self.resource_id, self.resource_id)# TYPE delta_epsilon gauge delta_epsilon{resource_id=""%s""} 7 """""" % (self.resource_id, self.resource_id, self.resource_id, self.resource_id)",""""""" % (self.resource_id, self.resource_id, self.resource_id)"""""" % (self.resource_id, self.resource_id, self.resource_id)",24,7
openstack%2Ftripleo-ansible~master~I2491ccd9f1bbe1d9cd2848301956803c5935a6f3,openstack/tripleo-ansible,master,I2491ccd9f1bbe1d9cd2848301956803c5935a6f3,Make sure role_networks is used from current processed node,MERGED,2019-11-28 14:35:21.000000000,2019-11-29 12:14:15.000000000,2019-11-29 00:17:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 14:35:21.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc570e74f210ad6226e8fbb5fbebbfee0801f3c4', 'message': ""Make sure role_networks is used from current processed node\n\nWhen e.g. ceph storage role is used and a ceph storage node is the first node\nto run on during deployment [1] the facts get set using this host. As a result\nrole_networks [2] will always only contain Storage and StorageMgmt :\n\nTASK [tripleo-ssh-known-hosts : Set ssh_known_hosts fact]\n******************************************************************************\nThursday 28 November 2019 14:16:00 +0000 (0:00:00.747) 0:00:13.681 *****\nok: [ceph-0]\n\nTherefore all nodes will only get additional hostnames set in the\nssh_known_hosts file for the Storage and StorageMgmt network even if the they\ndon't have this network in their role, like the compute [4] StorageMgmt:\n\n[192.168.24.42]*,[compute-0.redhat.local]*,[compute-0]*,[172.17.3.29]*,[compute-0.storage]*,[compute-0.storage.redhat.local]*,[192.168.24.8]*,[compute-0.storagemgmt]*,[compute-0.storagemgmt.redhat.local]*,\nssh-rsa\n\nIn such a situation live migration is broken due to host key verification\nfailure\n\n[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml#L47\n[2] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml#L54\n[3] https://github.com/openstack/tripleo-heat-templates/blob/master/roles/CephStorage.yaml#L7-L11\n[4] https://github.com/openstack/tripleo-heat-templates/blob/master/roles/Compute.yaml#L11-L17\n\nChange-Id: I2491ccd9f1bbe1d9cd2848301956803c5935a6f3\nCloses-Bug: #1854368\n""}]",0,696586,bc570e74f210ad6226e8fbb5fbebbfee0801f3c4,11,6,1,17216,,,0,"Make sure role_networks is used from current processed node

When e.g. ceph storage role is used and a ceph storage node is the first node
to run on during deployment [1] the facts get set using this host. As a result
role_networks [2] will always only contain Storage and StorageMgmt :

TASK [tripleo-ssh-known-hosts : Set ssh_known_hosts fact]
******************************************************************************
Thursday 28 November 2019 14:16:00 +0000 (0:00:00.747) 0:00:13.681 *****
ok: [ceph-0]

Therefore all nodes will only get additional hostnames set in the
ssh_known_hosts file for the Storage and StorageMgmt network even if the they
don't have this network in their role, like the compute [4] StorageMgmt:

[192.168.24.42]*,[compute-0.redhat.local]*,[compute-0]*,[172.17.3.29]*,[compute-0.storage]*,[compute-0.storage.redhat.local]*,[192.168.24.8]*,[compute-0.storagemgmt]*,[compute-0.storagemgmt.redhat.local]*,
ssh-rsa

In such a situation live migration is broken due to host key verification
failure

[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml#L47
[2] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml#L54
[3] https://github.com/openstack/tripleo-heat-templates/blob/master/roles/CephStorage.yaml#L7-L11
[4] https://github.com/openstack/tripleo-heat-templates/blob/master/roles/Compute.yaml#L11-L17

Change-Id: I2491ccd9f1bbe1d9cd2848301956803c5935a6f3
Closes-Bug: #1854368
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/696586/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'],1,bc570e74f210ad6226e8fbb5fbebbfee0801f3c4,1854368," {%- if enabled_networks | length > 0 and hostvars[host]['role_networks'] is defined and hostvars[host]['role_networks'] | length > 0 %}, {%- if network in hostvars[host]['role_networks'] %}"," {%- if enabled_networks | length > 0 and role_networks and role_networks | length > 0 %}, {%- if network in role_networks %}",2,2
openstack%2Fnova~master~I5b8fa4233d297722c3af08176901d12887bae3de,openstack/nova,master,I5b8fa4233d297722c3af08176901d12887bae3de,Mask the token used to allow access to consoles,MERGED,2015-09-04 18:48:29.000000000,2019-11-29 11:40:44.000000000,2019-11-28 19:16:16.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1865}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5538}, {'_account_id': 5754}, {'_account_id': 6608}, {'_account_id': 6873}, {'_account_id': 7461}, {'_account_id': 7473}, {'_account_id': 8213}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9311}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 12898}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16839}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18603}, {'_account_id': 18695}, {'_account_id': 19853}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2015-09-04 18:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/497cd76f7eba961e9186cd0c03e0fe9cff2b7423', 'message': 'Mask the token used to allow access to vnc console\n\nUse oslo_utils strutils.mask_password to mask token field\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 2, 'created': '2015-09-07 14:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42444bdd62e0ee84b2ec77926883b0312339254d', 'message': 'Mask the token used to allow access to vnc console\n\nUse oslo_utils strutils.mask_password to mask token field\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 3, 'created': '2015-09-08 14:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86a4dbad81efdd9fa7648f5efbdd33dba4013672', 'message': 'Mask the token used to allow access to vnc console\n\nUse oslo_utils strutils.mask_password to mask token field\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 4, 'created': '2015-09-08 14:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d275371f7845a429c8244a43ed1c90bebc93a6d6', 'message': 'Mask the token used to allow access to vnc console\n\nUse oslo_utils strutils.mask_password to mask token field\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 5, 'created': '2015-09-09 14:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd1cf49f3695a545cc0347fad1f0f9e12e8ff01c', 'message': 'Mask the token used to allow access to vnc console\n\nUse oslo_utils strutils.mask_password to mask token field\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 6, 'created': '2015-09-09 17:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e3f447f28118e0a3daeef9b7a91018fb1a43ead', 'message': 'Mask the token used to allow access to vnc console\n\nUse oslo_utils strutils.mask_password to mask token field\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 7, 'created': '2015-10-14 10:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0104999a53a1b2150979fb8a0141ae2c81775c3', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 8, 'created': '2015-12-08 01:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e60e9bcb48f4ddc386732927203f79d622d306c', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 9, 'created': '2015-12-08 09:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61ddd5c9ce0c4d44bd977329b630f61ac0c7832c', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 10, 'created': '2016-01-15 16:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/186238285b4c12b54b9f069bed0d1a9db83b08f4', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 11, 'created': '2016-01-26 13:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9727aa3b6f3ee6d9fe77ab43aab4b81e9df13f32', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 12, 'created': '2016-01-26 15:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c44381ca4f948af57cdc1e7616ff15dc3406ba3', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 13, 'created': '2016-01-27 07:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3dd88e0bfd7150a89f38e40b1dd5d6ea9cd198b', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 14, 'created': '2016-01-27 12:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e18a8929f582a37a724a644578d87ef3fe205dc5', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 15, 'created': '2016-01-27 14:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b33d8daccc8dc6b5f34bf640376390ef082ca8e1', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 16, 'created': '2016-03-15 11:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae290590316ff1bf409bf8f20e5c85c8c28c9386', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 17, 'created': '2016-05-03 15:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9967bcd8428b82e356efb22d86e6e7208911b4e1', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 18, 'created': '2016-05-03 15:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8e16d8e7a7c65598448d606a4f06b0b84396686', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 19, 'created': '2016-05-11 06:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c957973cb2a1afb37b4aaf4b6c9071a9685fc3cc', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 20, 'created': '2016-05-11 09:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/881315de58cccb90aa9b40b049575055696be51a', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 21, 'created': '2016-07-20 14:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba87fbfeda4ef0d426cf648208a354747e0b0ac8', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 22, 'created': '2016-07-29 11:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9d15ee56a21261f1d20d6ec3c97464d106fb9ed', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 23, 'created': '2016-09-20 07:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfa7714a28cc5adbb26265f5e40a9f2fac9ad9ef', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 24, 'created': '2016-12-05 06:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f47564762c7bf1c646e4b196c5d84e3e1f6a5dcb', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 25, 'created': '2016-12-05 08:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fef1e8fdfb414478f43702e13e8466e8efc97d0d', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 26, 'created': '2017-01-16 03:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41250c39d5cda7e1a97d9f4fa076ae8980d78e10', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 27, 'created': '2017-01-16 05:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f723907069080e7da25749fb8996275e29de011f', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 28, 'created': '2017-05-24 04:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a21cc47f6a58ad89b7ef9979d0c365acf5119ea6', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 29, 'created': '2017-06-28 02:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdcf0e140cef2fd018cbc8d2ee23c1dc09512578', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 30, 'created': '2017-07-24 01:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65b561d634cde485095bff36399ea52cf11772db', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 31, 'created': '2017-07-24 03:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d79c76424bc4e3cffc8dccf374264f3ce657a4d3', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 32, 'created': '2017-11-02 02:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39584aaf316ae5123ea623622b49004231669297', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 33, 'created': '2017-11-02 06:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd2a65751b1ffecc1421eedce1d4f9d94385e20', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 34, 'created': '2017-11-08 00:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/470c14224582b3266cb9f694b6ddd02b8fe045bd', 'message': 'Mask the token used to allow access to consoles\n\nUse oslo_utils strutils.mask_password to mask token field with a\ntruncated token so that debug is still feasible at scale.\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nDepends-On: Ia07ca4b6f42577d45a53749511cfb6af1492678a\nCloses-Bug: #1492140\n'}, {'number': 35, 'created': '2019-08-23 14:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e54ed9fe5a84131f7b4658362beaf0ca8ba479bc', 'message': 'Mask the token used to allow access to consoles\n\nTruncate the novncproxy token when logged. This patch does not depend on\noslo_utils strutils.mask_password to mask token field for\nbackportability.\n\nWhen backported this patch needs to be extended to handle the same issue\nin the consoleauth service.\n\nCo-Authored-By:paul-carlton2 <paul.carlton2@hp.com>\nCo-Authored-By:Tristan Cacqueray <tdecacqu@redhat.com>\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nCloses-Bug: #1492140\n'}, {'number': 36, 'created': '2019-09-25 09:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26213aa10e90d870cfd5a2b4f1c03cd2aee5e1c2', 'message': 'Mask the token used to allow access to consoles\n\nTruncate the novncproxy token when logged. This patch does not depend on\noslo_utils strutils.mask_password to mask token field for\nbackportability.\n\nWhen backported this patch needs to be extended to handle the same issue\nin the consoleauth service.\n\nCo-Authored-By:paul-carlton2 <paul.carlton2@hp.com>\nCo-Authored-By:Tristan Cacqueray <tdecacqu@redhat.com>\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nCloses-Bug: #1492140\n'}, {'number': 37, 'created': '2019-10-16 12:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95a0fcd16e318f023dff382cf152f5a6705b4180', 'message': 'Mask the token used to allow access to consoles\n\nTruncate the novncproxy token when logged. This patch does not depend on\noslo_utils strutils.mask_password to mask token field for\nbackportability.\n\nWhen backported this patch needs to be extended to handle the same issue\nin the consoleauth service.\n\nCo-Authored-By:paul-carlton2 <paul.carlton2@hp.com>\nCo-Authored-By:Tristan Cacqueray <tdecacqu@redhat.com>\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nCloses-Bug: #1492140\n'}, {'number': 38, 'created': '2019-11-13 12:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d659d3bc94b0e7cbcbb4278b5abf09659a6dd7b2', 'message': 'Mask the token used to allow access to consoles\n\nTruncate the novncproxy token when logged. This patch does not depend on\noslo_utils strutils.mask_password to mask token field for\nbackportability.\n\nWhen backported this patch needs to be extended to handle the same issue\nin the consoleauth service.\n\nCo-Authored-By:paul-carlton2 <paul.carlton2@hp.com>\nCo-Authored-By:Tristan Cacqueray <tdecacqu@redhat.com>\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nCloses-Bug: #1492140\n'}, {'number': 39, 'created': '2019-11-27 13:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85bb756b1246f4f66d1659cd56d9754b41de6ff8', 'message': 'Mask the token used to allow access to consoles\n\nHide the novncproxy token from the logs.\n\nWhen backported this patch needs to be extended to handle the same issue\nin the consoleauth service.\n\nCo-Authored-By:paul-carlton2 <paul.carlton2@hp.com>\nCo-Authored-By:Tristan Cacqueray <tdecacqu@redhat.com>\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nCloses-Bug: #1492140\n'}, {'number': 40, 'created': '2019-11-27 16:24:35.000000000', 'files': ['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/26d4047e17eba9bc271f8868f1d0ffeec97b555e', 'message': 'Mask the token used to allow access to consoles\n\nHide the novncproxy token from the logs.\n\nWhen backported this patch needs to be extended to handle the same issue\nin the consoleauth service.\n\nCo-Authored-By:paul-carlton2 <paul.carlton2@hp.com>\nCo-Authored-By:Tristan Cacqueray <tdecacqu@redhat.com>\n\nChange-Id: I5b8fa4233d297722c3af08176901d12887bae3de\nCloses-Bug: #1492140\n'}]",111,220622,26d4047e17eba9bc271f8868f1d0ffeec97b555e,575,41,40,6608,,,0,"Mask the token used to allow access to consoles

Hide the novncproxy token from the logs.

When backported this patch needs to be extended to handle the same issue
in the consoleauth service.

Co-Authored-By:paul-carlton2 <paul.carlton2@hp.com>
Co-Authored-By:Tristan Cacqueray <tdecacqu@redhat.com>

Change-Id: I5b8fa4233d297722c3af08176901d12887bae3de
Closes-Bug: #1492140
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/220622/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/websocketproxy.py', 'nova/consoleauth/manager.py']",2,497cd76f7eba961e9186cd0c03e0fe9cff2b7423,bug/1492140,"from oslo_utils import strutils {'token': '***', 'token_dict': strutils.mask_password(token_dict)}) {'token': '***', 'token_valid': token_valid})"," {'token': token, 'token_dict': token_dict}) {'token': token, 'token_valid': token_valid})",7,3
openstack%2Fkolla-ansible~stable%2Fstein~I1dce61a9c40a407882cfcd520ca491b4dee734ae,openstack/kolla-ansible,stable/stein,I1dce61a9c40a407882cfcd520ca491b4dee734ae,Delete influxdb admin port,MERGED,2019-11-26 10:15:03.000000000,2019-11-29 11:35:14.000000000,2019-11-29 11:33:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24061}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-26 10:15:03.000000000', 'files': ['ansible/roles/influxdb/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/influxdb/templates/influxdb.conf.j2', 'ansible/roles/influxdb/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3cfa80946585f1baa11b6fe292facb0733dfb36', 'message': 'Delete influxdb admin port\n\nFrom version 1.3, the web admin interface is no longer available\nin InfluxDB.\nhttps://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal\n\nChange-Id: I1dce61a9c40a407882cfcd520ca491b4dee734ae\n(cherry picked from commit df6b98d79331593c38213ef45bb94ff622f0d158)\n'}]",0,696052,a3cfa80946585f1baa11b6fe292facb0733dfb36,8,4,1,17669,,,0,"Delete influxdb admin port

From version 1.3, the web admin interface is no longer available
in InfluxDB.
https://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal

Change-Id: I1dce61a9c40a407882cfcd520ca491b4dee734ae
(cherry picked from commit df6b98d79331593c38213ef45bb94ff622f0d158)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/696052/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/influxdb/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/influxdb/templates/influxdb.conf.j2', 'ansible/roles/influxdb/tasks/precheck.yml']",4,a3cfa80946585f1baa11b6fe292facb0733dfb36,abandoned_port-stable/stein,,"- name: Checking free port for Influxdb Admin wait_for: host: ""{{ api_interface_address }}"" port: ""{{ influxdb_admin_port }}"" connect_timeout: 1 timeout: 1 state: stopped when: - container_facts['influxdb'] is not defined - inventory_hostname in groups['influxdb'] ",0,21
openstack%2Fkolla-ansible~stable%2Frocky~Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab,openstack/kolla-ansible,stable/rocky,Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab,Fix hard-coded admin project name and username in blazar task,MERGED,2019-11-27 16:17:34.000000000,2019-11-29 11:34:39.000000000,2019-11-29 11:33:03.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 29269}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-27 16:17:34.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad0e7700f14af4d50a79d37bc815663ab36a4843', 'message': 'Fix hard-coded admin project name and username in blazar task\n\nIn one of the blazar ansible tasks in ""bootstrap.yml"", the admin\nproject name and username are hard-coded as ""admin"". OpenStack\nusers can define their admin project name and username differently\nand the hard-coded names would cause authentication errors.\n\nIn addition, keystone identity api version 3 uses ""os-project-name""\ninstead of ""os-tenant-name"". Although ""os-tenant-name"" might be\nstill accepatable, it\'s better to keep the latest.\n\nChange-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab\nCloses-bug: #1853462\n(cherry picked from commit f2d32d2e0134030a3a9f40fb8ec769b1ae71e199)\n'}]",0,696346,ad0e7700f14af4d50a79d37bc815663ab36a4843,9,4,1,14826,,,0,"Fix hard-coded admin project name and username in blazar task

In one of the blazar ansible tasks in ""bootstrap.yml"", the admin
project name and username are hard-coded as ""admin"". OpenStack
users can define their admin project name and username differently
and the hard-coded names would cause authentication errors.

In addition, keystone identity api version 3 uses ""os-project-name""
instead of ""os-tenant-name"". Although ""os-tenant-name"" might be
still accepatable, it's better to keep the latest.

Change-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab
Closes-bug: #1853462
(cherry picked from commit f2d32d2e0134030a3a9f40fb8ec769b1ae71e199)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/696346/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/tasks/bootstrap.yml'],1,ad0e7700f14af4d50a79d37bc815663ab36a4843,blazar-fix-stable/rocky, --os-auth-url {{ openstack_auth.auth_url }} --os-project-domain-name {{ openstack_auth.domain_name }} --os-project-name {{ openstack_auth.project_name }} --os-username {{ openstack_auth.username }} --os-password {{ openstack_auth.password }} --os-user-domain-name {{ openstack_auth.user_domain_name }}, --os-auth-url {{ keystone_admin_url }} --os-project-domain-name default --os-tenant-name admin --os-username admin --os-password {{ keystone_admin_password }} --os-user-domain-name default,6,6
openstack%2Fkolla-ansible~stable%2Ftrain~Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab,openstack/kolla-ansible,stable/train,Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab,Fix hard-coded admin project name and username in blazar task,MERGED,2019-11-27 16:17:04.000000000,2019-11-29 11:34:22.000000000,2019-11-29 11:33:04.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 29269}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-27 16:17:04.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6e3ffd555fd737477725efd985227bfcf5af332', 'message': 'Fix hard-coded admin project name and username in blazar task\n\nIn one of the blazar ansible tasks in ""bootstrap.yml"", the admin\nproject name and username are hard-coded as ""admin"". OpenStack\nusers can define their admin project name and username differently\nand the hard-coded names would cause authentication errors.\n\nIn addition, keystone identity api version 3 uses ""os-project-name""\ninstead of ""os-tenant-name"". Although ""os-tenant-name"" might be\nstill accepatable, it\'s better to keep the latest.\n\nChange-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab\nCloses-bug: #1853462\n(cherry picked from commit f2d32d2e0134030a3a9f40fb8ec769b1ae71e199)\n'}]",0,696344,e6e3ffd555fd737477725efd985227bfcf5af332,9,4,1,14826,,,0,"Fix hard-coded admin project name and username in blazar task

In one of the blazar ansible tasks in ""bootstrap.yml"", the admin
project name and username are hard-coded as ""admin"". OpenStack
users can define their admin project name and username differently
and the hard-coded names would cause authentication errors.

In addition, keystone identity api version 3 uses ""os-project-name""
instead of ""os-tenant-name"". Although ""os-tenant-name"" might be
still accepatable, it's better to keep the latest.

Change-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab
Closes-bug: #1853462
(cherry picked from commit f2d32d2e0134030a3a9f40fb8ec769b1ae71e199)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/696344/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/tasks/bootstrap.yml'],1,e6e3ffd555fd737477725efd985227bfcf5af332,blazar-fix-stable/train, --os-auth-url {{ openstack_auth.auth_url }} --os-project-domain-name {{ openstack_auth.domain_name }} --os-project-name {{ openstack_auth.project_name }} --os-username {{ openstack_auth.username }} --os-password {{ openstack_auth.password }} --os-user-domain-name {{ openstack_auth.user_domain_name }}, --os-auth-url {{ keystone_admin_url }} --os-project-domain-name default --os-tenant-name admin --os-username admin --os-password {{ keystone_admin_password }} --os-user-domain-name default,6,6
openstack%2Fkolla-ansible~stable%2Fstein~Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab,openstack/kolla-ansible,stable/stein,Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab,Fix hard-coded admin project name and username in blazar task,MERGED,2019-11-27 16:17:18.000000000,2019-11-29 11:34:16.000000000,2019-11-29 11:33:01.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 29269}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-27 16:17:18.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcea46f13d24855e482f5b32ce7797033d67fa05', 'message': 'Fix hard-coded admin project name and username in blazar task\n\nIn one of the blazar ansible tasks in ""bootstrap.yml"", the admin\nproject name and username are hard-coded as ""admin"". OpenStack\nusers can define their admin project name and username differently\nand the hard-coded names would cause authentication errors.\n\nIn addition, keystone identity api version 3 uses ""os-project-name""\ninstead of ""os-tenant-name"". Although ""os-tenant-name"" might be\nstill accepatable, it\'s better to keep the latest.\n\nChange-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab\nCloses-bug: #1853462\n(cherry picked from commit f2d32d2e0134030a3a9f40fb8ec769b1ae71e199)\n'}]",0,696345,bcea46f13d24855e482f5b32ce7797033d67fa05,9,4,1,14826,,,0,"Fix hard-coded admin project name and username in blazar task

In one of the blazar ansible tasks in ""bootstrap.yml"", the admin
project name and username are hard-coded as ""admin"". OpenStack
users can define their admin project name and username differently
and the hard-coded names would cause authentication errors.

In addition, keystone identity api version 3 uses ""os-project-name""
instead of ""os-tenant-name"". Although ""os-tenant-name"" might be
still accepatable, it's better to keep the latest.

Change-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab
Closes-bug: #1853462
(cherry picked from commit f2d32d2e0134030a3a9f40fb8ec769b1ae71e199)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/696345/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/tasks/bootstrap.yml'],1,bcea46f13d24855e482f5b32ce7797033d67fa05,blazar-fix-stable/stein, --os-auth-url {{ openstack_auth.auth_url }} --os-project-domain-name {{ openstack_auth.domain_name }} --os-project-name {{ openstack_auth.project_name }} --os-username {{ openstack_auth.username }} --os-password {{ openstack_auth.password }} --os-user-domain-name {{ openstack_auth.user_domain_name }}, --os-auth-url {{ keystone_admin_url }} --os-project-domain-name default --os-tenant-name admin --os-username admin --os-password {{ keystone_admin_password }} --os-user-domain-name default,6,6
openstack%2Floci~master~I8f42c6f87263398afb097eb76290dc9a0edea0b8,openstack/loci,master,I8f42c6f87263398afb097eb76290dc9a0edea0b8,requirements: do not remove anything from the image,ABANDONED,2019-01-21 16:36:01.000000000,2019-11-29 11:18:15.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-01-21 16:36:01.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/80c0f056ebd28f1153c829ea5bf40abf15330ef6', 'message': ""requirements: do not remove anything from the image\n\nRequirements image is meant to build wheels for all next images. By default\nsome of files are removed. They are supposed to be only those we did not\nbuild...\n\nBut also those which are attempted to be built several times are dropped.\n\nOn AArch64 it means 'cffi' so each image build fails:\n\nCollecting cffi===1.11.5 (from -c /tmp/wheels/upper-constraints.txt (line 517))\nCould not find a version that satisfies the requirement cffi===1.11.5 (from -c /tmp/wheels/upper-constraints.txt (line 517)) (from versions: )\nNo matching distribution found for cffi===1.11.5 (from -c /tmp/wheels/upper-constraints.txt (line 517))\nThe command '/bin/sh -c /opt/loci/scripts/install.sh' returned a non-zero code: 1\n\nSide effects?\n\n1. requirements image grows from 225 to 316 megabytes\n2. other images nearly do not fetch from pypi\n\nChange-Id: I8f42c6f87263398afb097eb76290dc9a0edea0b8\n""}]",0,632129,80c0f056ebd28f1153c829ea5bf40abf15330ef6,10,3,1,24072,,,0,"requirements: do not remove anything from the image

Requirements image is meant to build wheels for all next images. By default
some of files are removed. They are supposed to be only those we did not
build...

But also those which are attempted to be built several times are dropped.

On AArch64 it means 'cffi' so each image build fails:

Collecting cffi===1.11.5 (from -c /tmp/wheels/upper-constraints.txt (line 517))
Could not find a version that satisfies the requirement cffi===1.11.5 (from -c /tmp/wheels/upper-constraints.txt (line 517)) (from versions: )
No matching distribution found for cffi===1.11.5 (from -c /tmp/wheels/upper-constraints.txt (line 517))
The command '/bin/sh -c /opt/loci/scripts/install.sh' returned a non-zero code: 1

Side effects?

1. requirements image grows from 225 to 316 megabytes
2. other images nearly do not fetch from pypi

Change-Id: I8f42c6f87263398afb097eb76290dc9a0edea0b8
",git fetch https://review.opendev.org/openstack/loci refs/changes/29/632129/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,80c0f056ebd28f1153c829ea5bf40abf15330ef6,,,"# Remove native-binary wheels, we only want to keep wheels that we # compiled ourselves. awk -F'[ ,]+' '/^Skipping/ {gsub(""-"",""_"");print $2}' /tmp/wheels.txt | xargs -r -n1 bash -c 'ls /$1-*' _ | sort -u | xargs -t -r rm ",0,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I2491ccd9f1bbe1d9cd2848301956803c5935a6f3,openstack/tripleo-ansible,stable/train,I2491ccd9f1bbe1d9cd2848301956803c5935a6f3,Make sure role_networks is used from current processed node,MERGED,2019-11-29 05:26:54.000000000,2019-11-29 11:14:42.000000000,2019-11-29 11:14:42.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 05:26:54.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/61567894a2f3e67d1047172ea32a4ff4d168b7ba', 'message': ""Make sure role_networks is used from current processed node\n\nWhen e.g. ceph storage role is used and a ceph storage node is the first node\nto run on during deployment [1] the facts get set using this host. As a result\nrole_networks [2] will always only contain Storage and StorageMgmt :\n\nTASK [tripleo-ssh-known-hosts : Set ssh_known_hosts fact]\n******************************************************************************\nThursday 28 November 2019 14:16:00 +0000 (0:00:00.747) 0:00:13.681 *****\nok: [ceph-0]\n\nTherefore all nodes will only get additional hostnames set in the\nssh_known_hosts file for the Storage and StorageMgmt network even if the they\ndon't have this network in their role, like the compute [4] StorageMgmt:\n\n[192.168.24.42]*,[compute-0.redhat.local]*,[compute-0]*,[172.17.3.29]*,[compute-0.storage]*,[compute-0.storage.redhat.local]*,[192.168.24.8]*,[compute-0.storagemgmt]*,[compute-0.storagemgmt.redhat.local]*,\nssh-rsa\n\nIn such a situation live migration is broken due to host key verification\nfailure\n\n[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml#L47\n[2] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml#L54\n[3] https://github.com/openstack/tripleo-heat-templates/blob/master/roles/CephStorage.yaml#L7-L11\n[4] https://github.com/openstack/tripleo-heat-templates/blob/master/roles/Compute.yaml#L11-L17\n\nChange-Id: I2491ccd9f1bbe1d9cd2848301956803c5935a6f3\nCloses-Bug: #1854368\n(cherry picked from commit bc570e74f210ad6226e8fbb5fbebbfee0801f3c4)\n""}]",0,696637,61567894a2f3e67d1047172ea32a4ff4d168b7ba,9,6,1,17216,,,0,"Make sure role_networks is used from current processed node

When e.g. ceph storage role is used and a ceph storage node is the first node
to run on during deployment [1] the facts get set using this host. As a result
role_networks [2] will always only contain Storage and StorageMgmt :

TASK [tripleo-ssh-known-hosts : Set ssh_known_hosts fact]
******************************************************************************
Thursday 28 November 2019 14:16:00 +0000 (0:00:00.747) 0:00:13.681 *****
ok: [ceph-0]

Therefore all nodes will only get additional hostnames set in the
ssh_known_hosts file for the Storage and StorageMgmt network even if the they
don't have this network in their role, like the compute [4] StorageMgmt:

[192.168.24.42]*,[compute-0.redhat.local]*,[compute-0]*,[172.17.3.29]*,[compute-0.storage]*,[compute-0.storage.redhat.local]*,[192.168.24.8]*,[compute-0.storagemgmt]*,[compute-0.storagemgmt.redhat.local]*,
ssh-rsa

In such a situation live migration is broken due to host key verification
failure

[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml#L47
[2] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml#L54
[3] https://github.com/openstack/tripleo-heat-templates/blob/master/roles/CephStorage.yaml#L7-L11
[4] https://github.com/openstack/tripleo-heat-templates/blob/master/roles/Compute.yaml#L11-L17

Change-Id: I2491ccd9f1bbe1d9cd2848301956803c5935a6f3
Closes-Bug: #1854368
(cherry picked from commit bc570e74f210ad6226e8fbb5fbebbfee0801f3c4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/696637/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'],1,61567894a2f3e67d1047172ea32a4ff4d168b7ba,1854368-stable/train," {%- if enabled_networks | length > 0 and hostvars[host]['role_networks'] is defined and hostvars[host]['role_networks'] | length > 0 %}, {%- if network in hostvars[host]['role_networks'] %}"," {%- if enabled_networks | length > 0 and role_networks and role_networks | length > 0 %}, {%- if network in role_networks %}",2,2
openstack%2Fnetworking-bgpvpn~master~I52fb104a9ebeef3a51dcf014434d7f8bc28abcc9,openstack/networking-bgpvpn,master,I52fb104a9ebeef3a51dcf014434d7f8bc28abcc9,Update the constraints url,MERGED,2019-09-20 09:38:46.000000000,2019-11-29 10:55:54.000000000,2019-11-29 10:54:46.000000000,"[{'_account_id': 8313}, {'_account_id': 12021}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-20 09:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/daa2a70036a190cd07c11b8a48346097fedfd852', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I52fb104a9ebeef3a51dcf014434d7f8bc28abcc9\n'}, {'number': 2, 'created': '2019-10-08 07:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/01e829f0fa14ff95b1f694354ca0922f2335b97f', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I52fb104a9ebeef3a51dcf014434d7f8bc28abcc9\n'}, {'number': 3, 'created': '2019-10-09 01:34:55.000000000', 'files': ['doc/source/install/index.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/07a59503ff406402e391b43c18f6d19aebbe814e', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I52fb104a9ebeef3a51dcf014434d7f8bc28abcc9\n'}]",1,683340,07a59503ff406402e391b43c18f6d19aebbe814e,22,6,3,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I52fb104a9ebeef3a51dcf014434d7f8bc28abcc9
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/40/683340/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,daa2a70036a190cd07c11b8a48346097fedfd852,constraints_url,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fpaunch~stable%2Ftrain~I0aea59a513c7ba7de2575425c2829ac5d2d9cca4,openstack/paunch,stable/train,I0aea59a513c7ba7de2575425c2829ac5d2d9cca4,Keep existing and non updated containers,ABANDONED,2019-11-27 13:33:49.000000000,2019-11-29 10:26:37.000000000,,"[{'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 13:33:49.000000000', 'files': ['paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/26ca161e640958b57ca1a680f111a2919c45e06c', 'message': ""Keep existing and non updated containers\n\nThis patch aim to fix an issue when we re-run the container\ncreation. If the container doesn't need to be updated, exist in\nthe config, we need to avoid the creation and keep it.\n\nCloses-Bug: #1853812\nChange-Id: I289df7a87fbefa251a1472d892ff80449c478f49\n\n(cherry picked from commit 872d47673b99a8d1e1e423b58be57b35ab6a20ab)\n\nChange-Id: I0aea59a513c7ba7de2575425c2829ac5d2d9cca4\n""}]",0,696304,26ca161e640958b57ca1a680f111a2919c45e06c,5,4,1,20775,,,0,"Keep existing and non updated containers

This patch aim to fix an issue when we re-run the container
creation. If the container doesn't need to be updated, exist in
the config, we need to avoid the creation and keep it.

Closes-Bug: #1853812
Change-Id: I289df7a87fbefa251a1472d892ff80449c478f49

(cherry picked from commit 872d47673b99a8d1e1e423b58be57b35ab6a20ab)

Change-Id: I0aea59a513c7ba7de2575425c2829ac5d2d9cca4
",git fetch https://review.opendev.org/openstack/paunch refs/changes/04/696304/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,26ca161e640958b57ca1a680f111a2919c45e06c,lp/1853812-stable/train, keep = self.delete_missing_and_updated() if container in keep: self.log.debug('Skipping existing container: %s' % container) continue keep_list = [] else: keep_list.append(container) return keep_list, self.delete_missing_and_updated(),9,3
openstack%2Fpaunch~master~I0aea59a513c7ba7de2575425c2829ac5d2d9cca4,openstack/paunch,master,I0aea59a513c7ba7de2575425c2829ac5d2d9cca4,Keep existing and non updated containers,ABANDONED,2019-11-29 10:22:10.000000000,2019-11-29 10:23:00.000000000,,[{'_account_id': 16515}],"[{'number': 1, 'created': '2019-11-29 10:22:10.000000000', 'files': ['paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/9a2b038bd617c4bdb587b565d629fc90a88ded5a', 'message': ""Keep existing and non updated containers\n\nThis patch aim to fix an issue when we re-run the container\ncreation. If the container doesn't need to be updated, exist in\nthe config, we need to avoid the creation and keep it.\n\nCloses-Bug: #1853812\nChange-Id: I289df7a87fbefa251a1472d892ff80449c478f49\n\n(cherry picked from commit 872d47673b99a8d1e1e423b58be57b35ab6a20ab)\n\nChange-Id: I0aea59a513c7ba7de2575425c2829ac5d2d9cca4\n""}]",0,696678,9a2b038bd617c4bdb587b565d629fc90a88ded5a,2,1,1,20775,,,0,"Keep existing and non updated containers

This patch aim to fix an issue when we re-run the container
creation. If the container doesn't need to be updated, exist in
the config, we need to avoid the creation and keep it.

Closes-Bug: #1853812
Change-Id: I289df7a87fbefa251a1472d892ff80449c478f49

(cherry picked from commit 872d47673b99a8d1e1e423b58be57b35ab6a20ab)

Change-Id: I0aea59a513c7ba7de2575425c2829ac5d2d9cca4
",git fetch https://review.opendev.org/openstack/paunch refs/changes/78/696678/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,9a2b038bd617c4bdb587b565d629fc90a88ded5a,lp/1853812-stable/train, keep = self.delete_missing_and_updated() if container in keep: self.log.debug('Skipping existing container: %s' % container) continue keep_list = [] else: keep_list.append(container) return keep_list, self.delete_missing_and_updated(),9,3
openstack%2Freleases~master~Ie98af5a0fcf4fb8bcd05051de75a84755fbc0b88,openstack/releases,master,Ie98af5a0fcf4fb8bcd05051de75a84755fbc0b88,Remove unused imports in tools and commands,MERGED,2019-11-27 16:06:45.000000000,2019-11-29 10:15:09.000000000,2019-11-29 10:15:09.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-27 16:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fabd1a79bc99c6de71854226b05d619fba0a471c', 'message': ""Rmove unused imports in tools and commands\n\nFor some obvious reasons pep8 check doesn't detect these unused changes.\n\nChange-Id: Ie98af5a0fcf4fb8bcd05051de75a84755fbc0b88\n""}, {'number': 2, 'created': '2019-11-27 16:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/052fd55d3701091030ec78d6d716b2ad0a066572', 'message': ""Rmove unused imports in tools and commands\n\nFor some non obvious reasons pep8 check doesn't detect these unused changes.\n\nChange-Id: Ie98af5a0fcf4fb8bcd05051de75a84755fbc0b88\n""}, {'number': 3, 'created': '2019-11-27 16:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b47fb86a90c19bf882b37f3b62de526d49a48ae6', 'message': ""Rmove unused imports in tools and commands\n\nFor some non obvious reasons pep8 check doesn't detect these unused imports.\n\nChange-Id: Ie98af5a0fcf4fb8bcd05051de75a84755fbc0b88\n""}, {'number': 4, 'created': '2019-11-27 16:45:48.000000000', 'files': ['openstack_releases/cmds/list_changes.py', 'openstack_releases/cmds/new_release.py', 'openstack_releases/cmds/make_tracking_pad.py', 'tools/verify_branches_and_late_releases.py', 'openstack_releases/cmds/interactive_release.py', 'openstack_releases/cmds/propose_final_releases.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/cmds/init_series.py', 'tools/list_weeks.py', 'openstack_releases/cmds/missing.py', 'openstack_releases/cmds/mail.py', 'openstack_releases/cmds/get_deliverable_owner.py', 'tools/discover_branch_points.py', 'openstack_releases/cmds/check_diff_start.py', 'openstack_releases/cmds/list_constraints.py', 'openstack_releases/cmds/propose_library_branches.py', 'tools/tag_history_from_git.py', 'openstack_releases/cmds/check_schema.py', 'openstack_releases/cmds/edit_deliverable.py', 'openstack_releases/cmds/list_deliverables.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/2064f3e29f8bae7341fc4d1813ac4b164155ff02', 'message': ""Remove unused imports in tools and commands\n\nFor some non obvious reasons pep8 check doesn't detect these unused imports.\n\nChange-Id: Ie98af5a0fcf4fb8bcd05051de75a84755fbc0b88\n""}]",1,696340,2064f3e29f8bae7341fc4d1813ac4b164155ff02,13,4,4,28522,,,0,"Remove unused imports in tools and commands

For some non obvious reasons pep8 check doesn't detect these unused imports.

Change-Id: Ie98af5a0fcf4fb8bcd05051de75a84755fbc0b88
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/696340/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/list_changes.py', 'openstack_releases/cmds/new_release.py', 'openstack_releases/cmds/make_tracking_pad.py', 'tools/verify_branches_and_late_releases.py', 'openstack_releases/cmds/interactive_release.py', 'openstack_releases/cmds/propose_final_releases.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/cmds/init_series.py', 'tools/list_weeks.py', 'openstack_releases/cmds/missing.py', 'openstack_releases/cmds/mail.py', 'openstack_releases/cmds/get_deliverable_owner.py', 'tools/discover_branch_points.py', 'openstack_releases/cmds/check_diff_start.py', 'openstack_releases/cmds/list_constraints.py', 'openstack_releases/cmds/propose_library_branches.py', 'tools/tag_history_from_git.py', 'openstack_releases/cmds/check_schema.py', 'openstack_releases/cmds/edit_deliverable.py', 'openstack_releases/cmds/list_deliverables.py']",20,fabd1a79bc99c6de71854226b05d619fba0a471c,remove_imports,,from __future__ import print_function ,0,42
openstack%2Fcharm-gnocchi~master~I32a01267e065e8535c4b3f2202b071f2f0193437,openstack/charm-gnocchi,master,I32a01267e065e8535c4b3f2202b071f2f0193437,Make use of default ``config.rendered`` handler,MERGED,2019-11-29 07:09:26.000000000,2019-11-29 10:14:23.000000000,2019-11-29 10:14:23.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-29 07:09:26.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py', 'unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/529441eec937f5a4e92b1c4e2410be15d76aab12', 'message': 'Make use of default ``config.rendered`` handler\n\nChange-Id: I32a01267e065e8535c4b3f2202b071f2f0193437\n'}]",0,696644,529441eec937f5a4e92b1c4e2410be15d76aab12,9,4,1,13686,,,0,"Make use of default ``config.rendered`` handler

Change-Id: I32a01267e065e8535c4b3f2202b071f2f0193437
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/44/696644/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/gnocchi.py', 'unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py']",3,529441eec937f5a4e92b1c4e2410be15d76aab12,use-config-rendered," 'config.rendered',",@reactive.when_not_all(*required_interfaces) def disable_services(): with charm.provide_charm_instance() as charm_class: charm_class.disable_services() charm_class.enable_services() charm_class.assess_status(),4,22
openstack%2Freleases~master~I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153,openstack/releases,master,I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153,Add --interactive to new-releases,MERGED,2019-06-07 04:43:21.000000000,2019-11-29 10:12:13.000000000,2019-11-29 10:12:13.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-06-07 04:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2eb4f5549d922d77010163ec3bd06ca50612af3b', 'message': ""Add --interactive to new-releases\n\nShamelessly steal^Wcopy some of the code from interactive-release so\nthat after validating the release we list the changes that will be\nreleased.  This gives us the ability to decide that the release\ncontains no functional changes and elect to not create that release.\n\nNOTE: I chose not to use interactive-release as it seems not to\ncorrectly handle first releases in a series (because it doesn't load all\nrelease history.  It also doesn't use some of the new features (like\nseries_status).  Adding --interactive to new-release gets us a long way\nto deprecating interactive-release but we aren't quire there yet.\n\nChange-Id: I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153\n""}, {'number': 2, 'created': '2019-10-24 20:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/960c3bd36e297cbda1ba7ad2d948f02e193f4871', 'message': ""Add --interactive to new-releases\n\nShamelessly steal^Wcopy some of the code from interactive-release so\nthat after validating the release we list the changes that will be\nreleased.  This gives us the ability to decide that the release\ncontains no functional changes and elect to not create that release.\n\nNOTE: I chose not to use interactive-release as it seems not to\ncorrectly handle first releases in a series (because it doesn't load all\nrelease history.  It also doesn't use some of the new features (like\nseries_status).  Adding --interactive to new-release gets us a long way\nto deprecating interactive-release but we aren't quire there yet.\n\nChange-Id: I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153\n""}, {'number': 3, 'created': '2019-10-24 20:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d987e772b4f0e3711750fa507ff7567f8554827f', 'message': ""Add --interactive to new-releases\n\nShamelessly steal^Wcopy some of the code from interactive-release so\nthat after validating the release we list the changes that will be\nreleased.  This gives us the ability to decide that the release\ncontains no functional changes and elect to not create that release.\n\nNOTE: I chose not to use interactive-release as it seems not to\ncorrectly handle first releases in a series (because it doesn't load all\nrelease history.  It also doesn't use some of the new features (like\nseries_status).  Adding --interactive to new-release gets us a long way\nto deprecating interactive-release but we aren't quire there yet.\n\nChange-Id: I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153\n""}, {'number': 4, 'created': '2019-10-24 20:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e5164317ba936de49d74a75a564e2285ae52d505', 'message': ""Add --interactive to new-releases\n\nShamelessly steal^Wcopy some of the code from interactive-release so\nthat after validating the release we list the changes that will be\nreleased.  This gives us the ability to decide that the release\ncontains no functional changes and elect to not create that release.\n\nNOTE: I chose not to use interactive-release as it seems not to\ncorrectly handle first releases in a series (because it doesn't load all\nrelease history.  It also doesn't use some of the new features (like\nseries_status).  Adding --interactive to new-release gets us a long way\nto deprecating interactive-release but we aren't quire there yet.\n\nChange-Id: I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153\n""}, {'number': 5, 'created': '2019-11-15 04:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b18dfd6765fa1acc3d01373531a5675e66b48768', 'message': ""Add --interactive to new-releases\n\nShamelessly steal^Wcopy some of the code from interactive-release so\nthat after validating the release we list the changes that will be\nreleased.  This gives us the ability to decide that the release\ncontains no functional changes and elect to not create that release.\n\nNOTE: I chose not to use interactive-release as it seems not to\ncorrectly handle first releases in a series (because it doesn't load all\nrelease history.  It also doesn't use some of the new features (like\nseries_status).  Adding --interactive to new-release gets us a long way\nto deprecating interactive-release but we aren't quire there yet.\n\nChange-Id: I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153\n""}, {'number': 6, 'created': '2019-11-18 01:34:38.000000000', 'files': ['openstack_releases/cmds/new_release.py', 'openstack_releases/gitutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/4cf2670c1fb36bfe93c4a3ea81f4aa10cfa42fd1', 'message': ""Add --interactive to new-releases\n\nShamelessly steal^Wcopy some of the code from interactive-release so\nthat after validating the release we list the changes that will be\nreleased.  This gives us the ability to decide that the release\ncontains no functional changes and elect to not create that release.\n\nNOTE: I chose not to use interactive-release as it seems not to\ncorrectly handle first releases in a series (because it doesn't load all\nrelease history.  It also doesn't use some of the new features (like\nseries_status).  Adding --interactive to new-release gets us a long way\nto deprecating interactive-release but we aren't quire there yet.\n\nChange-Id: I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153\n""}]",10,663839,4cf2670c1fb36bfe93c4a3ea81f4aa10cfa42fd1,31,8,6,12898,,,0,"Add --interactive to new-releases

Shamelessly steal^Wcopy some of the code from interactive-release so
that after validating the release we list the changes that will be
released.  This gives us the ability to decide that the release
contains no functional changes and elect to not create that release.

NOTE: I chose not to use interactive-release as it seems not to
correctly handle first releases in a series (because it doesn't load all
release history.  It also doesn't use some of the new features (like
series_status).  Adding --interactive to new-release gets us a long way
to deprecating interactive-release but we aren't quire there yet.

Change-Id: I25bbb4d7df9ae618500dd37f4b0cbc32c0bbd153
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/663839/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/new_release.py', 'openstack_releases/gitutils.py']",2,2eb4f5549d922d77010163ec3bd06ca50612af3b,feature/new_tools,"def changes_since(workdir, repo, ref): ""Return a str containing the SHA and description of all changes since ref."" try: changes = processutils.check_output( ['git', 'log', '--decorate', '--no-merges', '--pretty=oneline', ""%s..HEAD"" % ref], cwd=os.path.join(workdir, repo), ).decode('utf-8').strip() except processutils.CalledProcessError as err: LOG.error('Could not find {}: {}'.format(ref, err)) changes = '' return changes ",,47,1
openstack%2Fcharm-guide~master~I106f140581b02c111c98bd1293768af0cfba886b,openstack/charm-guide,master,I106f140581b02c111c98bd1293768af0cfba886b,Add 20.02 draft release notes doc for further iteration,MERGED,2019-11-26 19:30:38.000000000,2019-11-29 09:58:01.000000000,2019-11-29 09:56:57.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-11-26 19:30:38.000000000', 'files': ['doc/source/2002.rst', 'doc/source/release-notes.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/38ebb90d0b3cfaaeab2c0464d4632fe776eb5cf8', 'message': 'Add 20.02 draft release notes doc for further iteration\n\nChange-Id: I106f140581b02c111c98bd1293768af0cfba886b\n'}]",0,696172,38ebb90d0b3cfaaeab2c0464d4632fe776eb5cf8,9,3,1,20635,,,0,"Add 20.02 draft release notes doc for further iteration

Change-Id: I106f140581b02c111c98bd1293768af0cfba886b
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/72/696172/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/2002.rst', 'doc/source/release-notes.rst']",2,38ebb90d0b3cfaaeab2c0464d4632fe776eb5cf8,20.02-relnotes, * `20.02 release <2002.html>`__ * `19.10 release <1910.html>`__ * `19.07 release <1907.html>`__ 2002, * `19.10 release <1910.html>`__ * `19.07 release <1907.html>`__,308,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I29eb1a19a5856aed3d50daf368567156139a6fed,openstack/tripleo-heat-templates,stable/train,I29eb1a19a5856aed3d50daf368567156139a6fed,"Revert ""deploy-steps-tasks: replace paunch CLI by ansible-paunch module""",ABANDONED,2019-11-25 14:00:05.000000000,2019-11-29 09:54:26.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-25 14:00:05.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ea7d200161ba913c14192646113071a0827b42e', 'message': 'Revert ""deploy-steps-tasks: replace paunch CLI by ansible-paunch module""\n\nThis reverts commit 548fcc7b496dd831f2128ed06c678c801ec3435e.\n\nPaunch should remain as a CLI tool for Train.\n\nCloses-bug: #1853812\n\nChange-Id: I29eb1a19a5856aed3d50daf368567156139a6fed\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,695904,2ea7d200161ba913c14192646113071a0827b42e,14,8,1,6926,,,0,"Revert ""deploy-steps-tasks: replace paunch CLI by ansible-paunch module""

This reverts commit 548fcc7b496dd831f2128ed06c678c801ec3435e.

Paunch should remain as a CLI tool for Train.

Closes-bug: #1853812

Change-Id: I29eb1a19a5856aed3d50daf368567156139a6fed
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/695904/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,2ea7d200161ba913c14192646113071a0827b42e,," - name: Start containers for step {{ step }} command: >- paunch {% if enable_debug|bool %}--debug{% else %}-v{% endif %} apply --default-runtime ""{{ container_cli }}"" --container-log-path ""{{ container_log_stdout_path }}"" {% if container_healthcheck_disabled|bool and container_cli == 'podman' %}--healthcheck-disabled{% endif %} --file /var/lib/tripleo-config/hashed-container-startup-config-step_{{ step }}.json --config-id tripleo_step{{ step }} --managed-by tripleo-{{ tripleo_role_name }} changed_when: false no_log: true when: outputs.rc is defined"," - name: Start containers for step {{ step }} using paunch paunch: config: ""/var/lib/tripleo-config/hashed-container-startup-config-step_{{ step }}.json"" config_id: ""tripleo_step{{ step }}"" action: apply container_cli: ""{{ container_cli }}"" container_log_stdout_path: ""{{ container_log_stdout_path }}"" healthcheck_disabled: ""{{ container_healthcheck_disabled | bool }}"" managed_by: ""tripleo-{{ tripleo_role_name }}"" debug: ""{{ enable_debug | bool }}"" when: enable_paunch|default(true) when: - enable_paunch|default(true) - outputs.rc is defined",11,14
openstack%2Fsahara-dashboard~stable%2Ftrain~I9b9cb28a6b004064a002535e30ab45aa4c7c6b83,openstack/sahara-dashboard,stable/train,I9b9cb28a6b004064a002535e30ab45aa4c7c6b83,Imported Translations from Zanata,MERGED,2019-11-28 07:22:54.000000000,2019-11-29 09:52:34.000000000,2019-11-29 09:50:58.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 07:22:54.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/c093bcb3cb9719430a57462cb6cf558958a19b57', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9b9cb28a6b004064a002535e30ab45aa4c7c6b83\n'}]",0,696460,c093bcb3cb9719430a57462cb6cf558958a19b57,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9b9cb28a6b004064a002535e30ab45aa4c7c6b83
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/60/696460/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/ko_KR/LC_MESSAGES/django.po']",8,c093bcb3cb9719430a57462cb6cf558958a19b57,zanata/translations,"""POT-Creation-Date: 2019-09-27 11:30+0000\n""""PO-Revision-Date: 2019-11-28 03:50+0000\n""msgid ""Boot Volume AZ"" msgstr ""  AZ"" msgid ""Boot Volume locality"" msgstr ""  "" msgid ""Boot Volume type"" msgstr ""  "" msgid ""Boot volume availability Zone"" msgstr ""   "" msgid ""Boot volume availability zone"" msgstr ""   "" msgid ""Boot volume local to instance"" msgstr ""   "" msgid ""Boot volume locality"" msgstr ""  "" msgid ""Create boot volume in this availability zone."" msgstr ""     "" msgid ""Unable to retrieve Nova availability zones."" msgstr ""Nova     ."" msgid ""Unable to retrieve volumes availability zones."" msgstr ""     ."" ","""POT-Creation-Date: 2019-04-22 11:41+0000\n""""PO-Revision-Date: 2019-05-01 11:14+0000\n""",32,592
openstack%2Fpuppet-tripleo~stable%2Ftrain~I1e31761fd2129f57f61707d1920db835df7f7346,openstack/puppet-tripleo,stable/train,I1e31761fd2129f57f61707d1920db835df7f7346,Explicitly convert stonith_level fact to int,MERGED,2019-11-28 17:06:44.000000000,2019-11-29 09:50:24.000000000,2019-11-29 09:50:24.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 17:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/12960e97fa3607c0b0ee6d9e1d99928a42296386', 'message': 'Explicitly convert stonith_level fact to int\n\nApparently the implicit conversion done via \'0 + string\' is not robust\nenough. Adding a ""to_i"" to make sure we don\'t break if output is empty.\n\nChange-Id: I1e31761fd2129f57f61707d1920db835df7f7346\n'}, {'number': 2, 'created': '2019-11-28 20:36:26.000000000', 'files': ['lib/facter/stonith_levels.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/602547e0a6efc99def103edbd767a6bbb71e8221', 'message': 'Explicitly convert stonith_level fact to int\n\nApparently the implicit conversion done via \'0 + string\' is not robust\nenough. Adding a ""to_i"" to make sure we don\'t break if output is empty.\n\nChange-Id: I1e31761fd2129f57f61707d1920db835df7f7346\n(cherry picked from commit 3991edcae0b6c80c9e3a05ea51ea7c2708233931)\n'}]",0,696613,602547e0a6efc99def103edbd767a6bbb71e8221,12,5,2,30126,,,0,"Explicitly convert stonith_level fact to int

Apparently the implicit conversion done via '0 + string' is not robust
enough. Adding a ""to_i"" to make sure we don't break if output is empty.

Change-Id: I1e31761fd2129f57f61707d1920db835df7f7346
(cherry picked from commit 3991edcae0b6c80c9e3a05ea51ea7c2708233931)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/13/696613/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/facter/stonith_levels.rb'],1,12960e97fa3607c0b0ee6d9e1d99928a42296386,," stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {}).to_i"," stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {})",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0d13c9ee2490aa765d546961c9a1fc14e931c0c7,openstack/tripleo-heat-templates,stable/train,I0d13c9ee2490aa765d546961c9a1fc14e931c0c7,Move 'Ensure network service is enabled' after os-net-config has run,MERGED,2019-11-28 20:35:54.000000000,2019-11-29 09:42:58.000000000,2019-11-29 09:42:58.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 20:35:54.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/222281878dbe6ace95b9d64509bb268219310f07', 'message': 'Move \'Ensure network service is enabled\' after os-net-config has run\n\nThis has been observed downstream via https://bugzilla.redhat.com/show_bug.cgi?id=1777529\nThe scenario is as follows:\n1) Undercloud VM is configured with a bunch of interfaces in dhcp\n2) One NIC (eth0 in this case) is on a network without a dhcp server\n3) Said NIC is configured in undercloud.conf to be part of the\n   br-ctlplane bridge\n\nIn the above scenario the undercloud install will fail with the\nfollowing error:\n ""Unable to start service network: Job for network.service failed because the control process exited with error code....""\n\nThe reason is that eth0 times out when asking for dhcp and so the whole\nnetwork.service start command fails.\n\nWe can just move the network service enablement *after* os-net-config\nhas run. This fixes this scenario (I just tested it) and it still\ncovers for enabling the network service in order to maintain network\nconnectivity at reboot, which was the reason for adding this code in the\nfirst place anyway.\n\nChange-Id: I0d13c9ee2490aa765d546961c9a1fc14e931c0c7\n(cherry picked from commit b7e28c9a854aa277cb2aa6a159d98c82b47a053d)\n'}]",0,696625,222281878dbe6ace95b9d64509bb268219310f07,8,3,1,3153,,,0,"Move 'Ensure network service is enabled' after os-net-config has run

This has been observed downstream via https://bugzilla.redhat.com/show_bug.cgi?id=1777529
The scenario is as follows:
1) Undercloud VM is configured with a bunch of interfaces in dhcp
2) One NIC (eth0 in this case) is on a network without a dhcp server
3) Said NIC is configured in undercloud.conf to be part of the
   br-ctlplane bridge

In the above scenario the undercloud install will fail with the
following error:
 ""Unable to start service network: Job for network.service failed because the control process exited with error code....""

The reason is that eth0 times out when asking for dhcp and so the whole
network.service start command fails.

We can just move the network service enablement *after* os-net-config
has run. This fixes this scenario (I just tested it) and it still
covers for enabling the network service in order to maintain network
connectivity at reboot, which was the reason for adding this code in the
first place anyway.

Change-Id: I0d13c9ee2490aa765d546961c9a1fc14e931c0c7
(cherry picked from commit b7e28c9a854aa277cb2aa6a159d98c82b47a053d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/696625/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,222281878dbe6ace95b9d64509bb268219310f07,, # os-net-config currently relies on the legacy network # so we need to ensure it's enabled on boot. This should # be removed when we switch to NetworkManager or replaced # with something that ensures NetworkManager is enabled. - name: Ensure network service is enabled systemd: name: network enabled: yes state: started , # os-net-config currently relies on the legacy network # so we need to ensure it's enabled on boot. This should # be removed when we switch to NetworkManager or replaced # with something that ensures NetworkManager is enabled. - name: Ensure network service is enabled systemd: name: network enabled: yes state: started ,10,10
openstack%2Fdevstack-plugin-container~master~Idcc702bd7775e04c2b36ec5babb38f909feead8c,openstack/devstack-plugin-container,master,Idcc702bd7775e04c2b36ec5babb38f909feead8c,Use separate vars to save xtrace info,ABANDONED,2019-11-28 15:28:43.000000000,2019-11-29 09:39:16.000000000,,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 15:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/f841ca9ac578ff201c3dc5f80dc6f1799a390750', 'message': ""Use separate vars to save xtrace info\n\nSeems like Barbican DevStack plugin uses the same env var to save it's\nplugin.sh xtrace info - XTRACE. This causes issues when the two\ninterfere and we lose debug info.\n\nThis commit solves this by using separate variables.\n\nChange-Id: Idcc702bd7775e04c2b36ec5babb38f909feead8c\n""}, {'number': 2, 'created': '2019-11-28 16:08:16.000000000', 'files': ['devstack/lib/crio', 'devstack/plugin.sh', 'devstack/lib/k8s'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/3ba4e2cdab78808d3ec5140601762bac22490462', 'message': ""Use separate vars to save xtrace info\n\nSeems like DevStack plugins plugin.sh are not expected to change xtrace\nand when this project's plugin.sh is exectured we sometimes lose xtrace\ninfo.\n\nThis commit solves this by removing plugin.sh xtrace manipulations and\nalso using separate variables for all the files it sources.\n\nChange-Id: Idcc702bd7775e04c2b36ec5babb38f909feead8c\n""}]",2,696598,3ba4e2cdab78808d3ec5140601762bac22490462,10,3,2,11600,,,0,"Use separate vars to save xtrace info

Seems like DevStack plugins plugin.sh are not expected to change xtrace
and when this project's plugin.sh is exectured we sometimes lose xtrace
info.

This commit solves this by removing plugin.sh xtrace manipulations and
also using separate variables for all the files it sources.

Change-Id: Idcc702bd7775e04c2b36ec5babb38f909feead8c
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/98/696598/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/crio', 'devstack/plugin.sh', 'devstack/lib/k8s']",3,f841ca9ac578ff201c3dc5f80dc6f1799a390750,fix-xtrace,_XTRACE_K8S=$(set +o | grep xtrace)$_XTRACE_K8S,_XTRACE_DOCKER=$(set +o | grep xtrace)$_XTRACE_DOCKER,6,6
openstack%2Fopenstack-planet~master~I85d30836af74faef51b4619c02339a53a976e6be,openstack/openstack-planet,master,I85d30836af74faef51b4619c02339a53a976e6be,Add VEXXHOST to Planet OpenStack,MERGED,2019-11-27 22:48:36.000000000,2019-11-29 09:33:13.000000000,2019-11-29 09:33:13.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 22:48:36.000000000', 'files': ['images/VEXXHOST.png', 'planet.ini'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/128261686b38a002bc2ef6850213dfd384bff7b2', 'message': 'Add VEXXHOST to Planet OpenStack\n\nChange-Id: I85d30836af74faef51b4619c02339a53a976e6be\n'}]",0,696415,128261686b38a002bc2ef6850213dfd384bff7b2,8,4,1,31336,,,0,"Add VEXXHOST to Planet OpenStack

Change-Id: I85d30836af74faef51b4619c02339a53a976e6be
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/15/696415/1 && git format-patch -1 --stdout FETCH_HEAD,"['images/VEXXHOST.png', 'planet.ini']",2,128261686b38a002bc2ef6850213dfd384bff7b2,, [https://vexxhost.com/blog/category/openstack/feed/] name = VEXXHOST Inc. face = VEXXHOST.png nick = VEXXHOST,,5,0
openstack%2Frpm-packaging~master~Ifd06511d9b95cce48e7b3bba08c51e482e7f2b0e,openstack/rpm-packaging,master,Ifd06511d9b95cce48e7b3bba08c51e482e7f2b0e,python-tripleoclient: convert to python3,ABANDONED,2019-11-28 18:42:21.000000000,2019-11-29 09:02:55.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 18:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/40729bc527f26540776aecd97a188463e9f27633', 'message': 'python-tripleoclient: convert to python3\n\nChange-Id: Ifd06511d9b95cce48e7b3bba08c51e482e7f2b0e\n'}, {'number': 2, 'created': '2019-11-29 08:59:15.000000000', 'files': ['openstack/python-tripleoclient/python-tripleoclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d4ee07bb4a52a1926044487509dbbb3f29468535', 'message': 'python-tripleoclient: convert to python3\n\nChange-Id: Ifd06511d9b95cce48e7b3bba08c51e482e7f2b0e\n'}]",0,696623,d4ee07bb4a52a1926044487509dbbb3f29468535,6,3,2,13294,,,0,"python-tripleoclient: convert to python3

Change-Id: Ifd06511d9b95cce48e7b3bba08c51e482e7f2b0e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/696623/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-tripleoclient/python-tripleoclient.spec.j2'],1,40729bc527f26540776aecd97a188463e9f27633,,{% set pypi_name = 'python-tripleoclient' %} {% set upstream_version = upstream_version('12.2.0') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://launchpad.net/{{ pypi_name }} Source0: {{ source }}BuildRequires: {{ py3('cliff') }} BuildRequires: {{ py3('cryptography') }} BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('python-heatclient') }} BuildRequires: {{ py3('python-ironic-inspector-client') }} BuildRequires: {{ py3('python-ironicclient') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('python-openstackclient') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('passlib') }} BuildRequires: {{ py3('psutil') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }} BuildRequires: {{ py3('python-zaqarclient') }}Requires: {{ py3('Babel') }} Requires: {{ py3('cliff') }} Requires: {{ py3('cryptography') }} Requires: {{ py3('python-heatclient') }} Requires: {{ py3('python-ironic-inspector-client') }} Requires: {{ py3('python-ironicclient') }} Requires: {{ py3('python-mistralclient') }} Requires: {{ py3('python-openstackclient') }} Requires: {{ py3('osc-lib') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('passlib') }} Requires: {{ py3('pbr') }} Requires: {{ py3('psutil') }} Requires: {{ py3('simplejson') }} Requires: {{ py3('six') }} Requires: {{ py3('websocket-client') }} Requires: {{ py3('python-zaqarclient') }}%package -n python3-tripleoclient Summary: OpenstackClient plugin for tripleoclient %description -n python3-tripleoclient python-tripleoclient is a Python plugin to OpenstackClient for TripleO. This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%autosetup -p1 -n {{ pypi_name }}-%{version} %py_req_cleanup%{py3_build} PYTHONPATH=. %sphinx_build -b html doc/source doc/build/html PYTHONPATH=. %sphinx_build -b man doc/source doc/build/man%{py3_install}%{__python3} -m stestr.cli run%{python3_sitelib}/tripleoclient %{python3_sitelib}/*.egg-info,%global sname python-tripleoclientName: {{ py2name('python-tripleoclient') }} Version: 12.2.0 Release: 0URL: https://launchpad.net/%{sname} Source0: https://files.pythonhosted.org/packages/source/p/%{sname}/%{sname}-%{version}.tar.gzBuildRequires: {{ py2pkg('cliff') }} BuildRequires: {{ py2pkg('cryptography') }} BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('fixtures') }} BuildRequires: {{ py2pkg('python-heatclient') }} BuildRequires: {{ py2pkg('python-ironic-inspector-client') }} BuildRequires: {{ py2pkg('python-ironicclient') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('python-openstackclient') }} BuildRequires: {{ py2pkg('passlib') }} BuildRequires: {{ py2pkg('psutil') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} BuildRequires: {{ py2pkg('python-zaqarclient') }}Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('cliff') }} Requires: {{ py2pkg('cryptography') }} Requires: {{ py2pkg('python-heatclient') }} Requires: {{ py2pkg('ipaddress') }} Requires: {{ py2pkg('python-ironic-inspector-client') }} Requires: {{ py2pkg('python-ironicclient') }} Requires: {{ py2pkg('python-mistralclient') }} Requires: {{ py2pkg('python-openstackclient') }} Requires: {{ py2pkg('osc-lib') }} Requires: {{ py2pkg('passlib') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('psutil') }} Requires: {{ py2pkg('simplejson') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('websocket-client') }} Requires: {{ py2pkg('python-zaqarclient') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%autosetup -p1 -n %{sname}-%{version}%{py2_build} PYTHONPATH=. sphinx-build -b html doc/source doc/build/html PYTHONPATH=. sphinx-build -b man doc/source doc/build/man%{py2_install}%{__python2} -m stestr.cli run%{python2_sitelib}/tripleoclient %{python2_sitelib}/*.egg-info,63,49
openstack%2Fstorlets~master~I27f131c53b7cb6f98cb1470c918d583a98547789,openstack/storlets,master,I27f131c53b7cb6f98cb1470c918d583a98547789,Remove unused PUT path in test_half_storlet,MERGED,2019-11-14 23:46:35.000000000,2019-11-29 08:48:05.000000000,2019-11-29 08:46:06.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 23:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/1a931835dc0e244ab528f562df0e959e407f7b9c', 'message': 'Remove unused PUT path in test_half_storlet\n\nChange-Id: I27f131c53b7cb6f98cb1470c918d583a98547789\n'}, {'number': 2, 'created': '2019-11-15 00:12:24.000000000', 'files': ['tests/functional/java/test_half_storlet.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/26bb09343f27e2d568bb7ba04d125b0a93355683', 'message': 'Remove unused PUT path in test_half_storlet\n\nChange-Id: I27f131c53b7cb6f98cb1470c918d583a98547789\n'}]",0,694429,26bb09343f27e2d568bb7ba04d125b0a93355683,10,2,2,15343,,,0,"Remove unused PUT path in test_half_storlet

Change-Id: I27f131c53b7cb6f98cb1470c918d583a98547789
",git fetch https://review.opendev.org/openstack/storlets refs/changes/29/694429/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/functional/java/test_half_storlet.py'],1,1a931835dc0e244ab528f562df0e959e407f7b9c,,," if op == 'PUT': # PUT a random file response = dict() uploaded_content = ''.join( random.choice(string.ascii_uppercase + string.digits) for _ in range(1024)).encode('ascii') random_md = ''.join(random.choice(string.ascii_uppercase + string.digits) for _ in range(32)) # content_length = 1024 content_length = None headers = {'X-Run-Storlet': self.storlet_name, 'X-Object-Meta-Testkey': random_md} headers.update(self.additional_headers) c.put_object(self.url, self.token, self.container, 'half_random_source', uploaded_content, content_length, None, None, ""application/octet-stream"", headers, None, None, querystring, response) resp_headers, saved_content = c.get_object(self.url, self.token, self.container, 'half_random_source', response_dict=dict()) if params is not None and params.get('double', None) == 'true': self.assertEqual(uploaded_content, saved_content[:1024]) self.assertEqual(uploaded_content, saved_content[1024:]) else: self.assertEqual(uploaded_content, saved_content) if params is not None and params.get('execute', None) is not None: self.assertEqual( '42', resp_headers['X-Object-Meta-Execution result'.lower()]) self.assertEqual(random_md, resp_headers['X-Object-Meta-Testkey'.lower()]) ",0,37
openstack%2Fkuryr-kubernetes~master~I54e723f5d2aa6e4e8b6444a855451e8bf72fc9dd,openstack/kuryr-kubernetes,master,I54e723f5d2aa6e4e8b6444a855451e8bf72fc9dd,Fix misprints in sriov binding driver,MERGED,2019-11-28 13:59:46.000000000,2019-11-29 07:40:46.000000000,2019-11-28 18:47:34.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 28396}]","[{'number': 1, 'created': '2019-11-28 13:59:46.000000000', 'files': ['kuryr_kubernetes/cni/binding/sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0660413038571a9cf5a675afe3c178ac57bc2943', 'message': 'Fix misprints in sriov binding driver\n\nThis patch fixes misprints in sriov binding\ndriver. Exactly wrong word ""owerride"" is changed\nto correct ""override"".\n\nChange-Id: I54e723f5d2aa6e4e8b6444a855451e8bf72fc9dd\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}]",3,696579,0660413038571a9cf5a675afe3c178ac57bc2943,9,5,1,24604,,,0,"Fix misprints in sriov binding driver

This patch fixes misprints in sriov binding
driver. Exactly wrong word ""owerride"" is changed
to correct ""override"".

Change-Id: I54e723f5d2aa6e4e8b6444a855451e8bf72fc9dd
Signed-off-by: Danil Golov <d.golov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/79/696579/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/binding/sriov.py'],1,0660413038571a9cf5a675afe3c178ac57bc2943,," override = ""/sys/bus/pci/devices/{}/driver_override"".format(pci) with open(override, 'w') as override_fd: override_fd.write(""\00"") with open(override, 'w') as override_fd: override_fd.write(driver)"," owerride = ""/sys/bus/pci/devices/{}/driver_override"".format(pci) with open(owerride, 'w') as owerride_fd: owerride_fd.write(""\00"") with open(owerride, 'w') as owerride_fd: owerride_fd.write(driver)",5,5
openstack%2Fcharm-neutron-api~master~Ia296fb8a72a8554d8350ee80e6d2b52cc40e2549,openstack/charm-neutron-api,master,Ia296fb8a72a8554d8350ee80e6d2b52cc40e2549,Add OVN integration gate test,MERGED,2019-11-07 12:17:06.000000000,2019-11-29 07:39:55.000000000,2019-11-29 07:39:55.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 12:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/4c9647b638d04ce69b5482d913683a4b27bf5c2c', 'message': 'Add OVN integration gate test\n\nChange-Id: Ia296fb8a72a8554d8350ee80e6d2b52cc40e2549\n'}, {'number': 2, 'created': '2019-11-13 05:42:35.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/bionic-train-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c01f0cd11362badce592c50851d0be5d4dda6ef0', 'message': 'Add OVN integration gate test\n\nChange-Id: Ia296fb8a72a8554d8350ee80e6d2b52cc40e2549\n'}]",0,693345,c01f0cd11362badce592c50851d0be5d4dda6ef0,53,4,2,13686,,,0,"Add OVN integration gate test

Change-Id: Ia296fb8a72a8554d8350ee80e6d2b52cc40e2549
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/45/693345/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'test-requirements.txt', 'tests/bundles/bionic-train-ovn.yaml']",3,4c9647b638d04ce69b5482d913683a4b27bf5c2c,ovn-charm,"variables: openstack-origin: &openstack-origin cloud:bionic-train series: &series bionic machines: 0: constraints: ""mem=3072M"" 1: {} 2: {} 3: {} 4: {} 5: {} 6: {} 7: {} 8: {} 9: {} 10: constraints: ""root-disk=20G mem=4G"" 11: constraints: ""root-disk=20G mem=4G"" 12: {} # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: percona-cluster: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: source: *openstack-origin to: - '0' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '1' vault: charm: cs:~openstack-charmers-next/vault num_units: 1 to: - '2' ovn-central: charm: cs:~openstack-charmers-next/ovn-central num_units: 3 options: source: *openstack-origin to: - '3' - '4' - '5' neutron-api-plugin-ovn: charm: cs:~openstack-charmers-next/neutron-api-plugin-ovn neutron-api: charm: cs:~openstack-charmers-next/neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: false flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin to: - '6' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '7' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '8' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin to: - '9' ovn-chassis: charm: cs:~openstack-charmers-next/ovn-chassis nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 2 options: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: *openstack-origin to: - '10' - '11' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '12' relations: - - neutron-api:shared-db - percona-cluster:shared-db - - neutron-api:amqp - rabbitmq-server:amqp - - neutron-api:neutron-api - nova-cloud-controller:neutron-api - - neutron-api:identity-service - keystone:identity-service - - keystone:shared-db - percona-cluster:shared-db - - nova-cloud-controller:shared-db - percona-cluster:shared-db - - nova-cloud-controller:amqp - rabbitmq-server:amqp - - nova-compute:amqp - rabbitmq-server:amqp - - nova-cloud-controller:identity-service - keystone:identity-service - - nova-cloud-controller:cloud-compute - nova-compute:cloud-compute - - glance:identity-service - keystone:identity-service - - glance:shared-db - percona-cluster:shared-db - - glance:amqp - rabbitmq-server:amqp - - nova-compute:image-service - glance:image-service - - nova-cloud-controller:image-service - glance:image-service - - placement:shared-db - percona-cluster:shared-db - - placement:identity-service - keystone:identity-service - - placement:placement - nova-cloud-controller:placement - - neutron-api-plugin-ovn:neutron-plugin - neutron-api:neutron-plugin-api-subordinate - - vault:shared-db - percona-cluster:shared-db - - ovn-central:certificates - vault:certificates - - ovn-central:ovsdb-cms - neutron-api-plugin-ovn:ovsdb-cms - - neutron-api:certificates - vault:certificates - - ovn-chassis:nova-compute - nova-compute:neutron-plugin - - ovn-chassis:certificates - vault:certificates - - ovn-chassis:ovsdb - ovn-central:ovsdb - - vault:certificates - neutron-api-plugin-ovn:certificates - - vault:certificates - glance:certificates - - vault:certificates - keystone:certificates - - vault:certificates - nova-cloud-controller:certificates - - vault:certificates - placement:certificates ",,214,15
openstack%2Fmurano~master~Ie4a2342889d33b48d35b41f71a76b7243909fdcd,openstack/murano,master,Ie4a2342889d33b48d35b41f71a76b7243909fdcd,Switch to Ussuri jobs,ABANDONED,2019-10-22 04:16:49.000000000,2019-11-29 07:21:19.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-22 04:16:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/e8177526a74c3a4182f6bbdc2c92bea40eedf8b0', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ie4a2342889d33b48d35b41f71a76b7243909fdcd\n'}]",0,689925,e8177526a74c3a4182f6bbdc2c92bea40eedf8b0,12,4,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Ie4a2342889d33b48d35b41f71a76b7243909fdcd
",git fetch https://review.opendev.org/openstack/murano refs/changes/25/689925/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e8177526a74c3a4182f6bbdc2c92bea40eedf8b0,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo-specs~master~I4355b385d8b485a88ad90d50c28e8068bf3f9108,openstack/oslo-specs,master,I4355b385d8b485a88ad90d50c28e8068bf3f9108,* already modify,ABANDONED,2019-11-29 07:06:04.000000000,2019-11-29 07:11:39.000000000,,[],"[{'number': 1, 'created': '2019-11-29 07:06:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/b7e1c0a3290dc632fcd0328ceb63c20fb4c670c4', 'message': '* already modify\n\nChange-Id: I4355b385d8b485a88ad90d50c28e8068bf3f9108\n'}]",0,696643,b7e1c0a3290dc632fcd0328ceb63c20fb4c670c4,2,0,1,30408,,,0,"* already modify

Change-Id: I4355b385d8b485a88ad90d50c28e8068bf3f9108
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/43/696643/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b7e1c0a3290dc632fcd0328ceb63c20fb4c670c4,dev,====================,==============================================================,2,2
openstack%2Fwatcher~master~Icfce3764aa9e1aabf5e78443cf7ce102de63a052,openstack/watcher,master,Icfce3764aa9e1aabf5e78443cf7ce102de63a052,Start README.rst with a better title,MERGED,2019-11-28 01:57:00.000000000,2019-11-29 06:43:34.000000000,2019-11-29 06:42:09.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-11-28 01:57:00.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/5171d84b8da98c69d883a2c9fd636c9e2325e81f', 'message': 'Start README.rst with a better title\n\nNow that we are using gitea the contents of our README.rst are\nmore prominently displayed. Starting it with a ""Team and repository\ntags"" title is a bit confusing. This change makes it start with the\nname of the project instead.\n\nChange-Id: Icfce3764aa9e1aabf5e78443cf7ce102de63a052\n'}]",0,696429,5171d84b8da98c69d883a2c9fd636c9e2325e81f,8,3,1,30408,,,0,"Start README.rst with a better title

Now that we are using gitea the contents of our README.rst are
more prominently displayed. Starting it with a ""Team and repository
tags"" title is a bit confusing. This change makes it start with the
name of the project instead.

Change-Id: Icfce3764aa9e1aabf5e78443cf7ce102de63a052
",git fetch https://review.opendev.org/openstack/watcher refs/changes/29/696429/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5171d84b8da98c69d883a2c9fd636c9e2325e81f,dev,======= Watcher =======,======================== Team and repository tags =============================== Watcher ======= ,3,7
openstack%2Fopenstack-helm~master~Id01af23c5308edabf635ccd321721ff104fd58e3,openstack/openstack-helm,master,Id01af23c5308edabf635ccd321721ff104fd58e3,Remove netpol and fix missing ldap config override,MERGED,2019-11-15 17:24:39.000000000,2019-11-29 06:15:23.000000000,2019-11-29 06:12:49.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-11-15 17:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/815ca8c045c035fb6f51cc56d7a02bc0d77bf065', 'message': 'Remove netpol and fix missing ldap config override\n\nThis change removes the netpol values from the keystone/ldap script,\nthose are now part of the appropriate chart and can be deployed as such.\n\nThis also fixes the path to the ldap domain config override that was\npointing to a file that no longer exists.\n\nChange-Id: Id01af23c5308edabf635ccd321721ff104fd58e3\n'}, {'number': 2, 'created': '2019-11-29 04:20:34.000000000', 'files': ['tools/deployment/developer/ldap/080-keystone.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f2bc128a0b2e6cfae306788db75e75cd71c9ce47', 'message': 'Remove netpol and fix missing ldap config override\n\nThis change removes the netpol values from the keystone/ldap script,\nthose are now part of the appropriate chart and can be deployed as such.\n\nThis also fixes the path to the ldap domain config override that was\npointing to a file that no longer exists.\n\nChange-Id: Id01af23c5308edabf635ccd321721ff104fd58e3\n'}]",0,694606,f2bc128a0b2e6cfae306788db75e75cd71c9ce47,11,4,2,21420,,,0,"Remove netpol and fix missing ldap config override

This change removes the netpol values from the keystone/ldap script,
those are now part of the appropriate chart and can be deployed as such.

This also fixes the path to the ldap domain config override that was
pointing to a file that no longer exists.

Change-Id: Id01af23c5308edabf635ccd321721ff104fd58e3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/06/694606/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/developer/ldap/080-keystone.sh'],1,815ca8c045c035fb6f51cc56d7a02bc0d77bf065,fix-keystone-ldap, --values=./keystone/values_overrides/ldap.yaml \,tee /tmp/ldap.yaml <<EOF manifests: network_policy: true network_policy: ldap: ingress: - from: - podSelector: matchLabels: application: keystone - podSelector: matchLabels: application: ldap - podSelector: matchLabels: application: ingress ports: - protocol: TCP port: 389 EOF --values=/tmp/ldap.yaml \ --values=./tools/overrides/keystone/ldap_domain_config.yaml \ --set manifests.network_policy=true \,1,24
openstack%2Frequirements~master~I5eae83e655fd56f68dc50f7b6b0d6853c58606d8,openstack/requirements,master,I5eae83e655fd56f68dc50f7b6b0d6853c58606d8,Updated from generate-constraints,ABANDONED,2019-11-29 06:11:46.000000000,2019-11-29 06:14:39.000000000,,[],"[{'number': 1, 'created': '2019-11-29 06:11:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/53e57b3a2d7fe08555a7705592e6f641dc0ca5ed', 'message': 'Updated from generate-constraints\n\nChange-Id: I5eae83e655fd56f68dc50f7b6b0d6853c58606d8\n'}]",0,696638,53e57b3a2d7fe08555a7705592e6f641dc0ca5ed,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I5eae83e655fd56f68dc50f7b6b0d6853c58606d8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/696638/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,53e57b3a2d7fe08555a7705592e6f641dc0ca5ed,openstack/requirements/constraints,tabulate===0.8.6certifi===2019.11.28thriftpy2===0.4.9;python_version=='2.7'tinyrpc===1.0.4boto3===1.10.28edgegrid-python===1.1.1botocore===1.13.28ndg-httpsclient===0.5.1jaeger-client===4.2.0,edgegrid-python===1.1.1tabulate===0.8.5certifi===2019.9.11thriftpy2===0.4.8;python_version=='2.7'tinyrpc===1.0.3boto3===1.10.8botocore===1.13.8ndg-httpsclient===0.5.1;python_version=='2.7'jaeger-client===4.1.0,9,9
openstack%2Fpanko~master~I6b1364954c231a477d493d4a518c080f87058123,openstack/panko,master,I6b1364954c231a477d493d4a518c080f87058123,Fix error config registration of elasticsearch,MERGED,2019-11-28 08:43:52.000000000,2019-11-29 06:01:39.000000000,2019-11-29 06:00:03.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 24849}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-28 08:43:52.000000000', 'files': ['panko/storage/__init__.py', 'panko/opts.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/e9e8be6cc0a7bdc06beaba4f7c3d168fee16a634', 'message': 'Fix error config registration of elasticsearch\n\nConfiguration options must be registered before using them.\nIn impl_elasticsearch.py, using conf.database.es_index_name\nor using conf.database.es_index_name are all wrong that will\nlead the api server to be invalid.\n\nChange-Id: I6b1364954c231a477d493d4a518c080f87058123\nSigned-off-by: yuanrunsen <yuanrunsen@unitedstack.com>\n'}]",0,696477,e9e8be6cc0a7bdc06beaba4f7c3d168fee16a634,8,5,1,30679,,,0,"Fix error config registration of elasticsearch

Configuration options must be registered before using them.
In impl_elasticsearch.py, using conf.database.es_index_name
or using conf.database.es_index_name are all wrong that will
lead the api server to be invalid.

Change-Id: I6b1364954c231a477d493d4a518c080f87058123
Signed-off-by: yuanrunsen <yuanrunsen@unitedstack.com>
",git fetch https://review.opendev.org/openstack/panko refs/changes/77/696477/1 && git format-patch -1 --stdout FETCH_HEAD,"['panko/storage/__init__.py', 'panko/opts.py']",2,e9e8be6cc0a7bdc06beaba4f7c3d168fee16a634,, help='Interval (in seconds) between retries of connection.')," help='Interval (in seconds) between retries of connection.'), cfg.BoolOpt('es_ssl_enabled', default=False, help=""Enable HTTPS connection in the Elasticsearch "" ""connection""), cfg.StrOpt('es_index_name', default='events', help='The name of the index in Elasticsearch'),",8,8
openstack%2Ftripleo-ansible~master~Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124,openstack/tripleo-ansible,master,Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124,Make sure we add all_nodes_extra_map_data to all_nodes,MERGED,2019-11-23 22:43:13.000000000,2019-11-29 05:26:06.000000000,2019-11-28 23:38:06.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-11-23 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c50b3f01f72e637ef21a42031a8091983194b04c', 'message': 'cellv2 add service ~ _node_names from all_nodes_extra_map_data\n\nRefactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/\nfixed the filtered AllNodesConfig to be exported as\nAllNodesExtraMapData. Now when all_nodes_extra_map_data includes\nservice ~ _node_names information it needs to be added in the hiera\nfor additional cell.\n\nChange-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124\n'}, {'number': 2, 'created': '2019-11-24 17:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2a81c770e47b0163176670302a4e47d55a28bfe', 'message': 'cellv2 add service ~ _node_names from all_nodes_extra_map_data\n\nRefactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/\nfixed the filtered AllNodesConfig to be exported as\nAllNodesExtraMapData. Now when all_nodes_extra_map_data includes\nservice ~ _node_names information it needs to be added in the hiera\nfor additional cell.\n\nAlso this change addes Prefer redis_vip from all_nodes_extra_map_data.\nWhen all_nodes_extra_map_data includes a value for redis_vip that\nvalue should be preferred over any other.\n\nChange-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124\n'}, {'number': 3, 'created': '2019-11-24 22:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8636368a9096c8df6c4424309bf94fc4fa22324a', 'message': 'cellv2 add service ~ _node_names from all_nodes_extra_map_data\n\nRefactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/\nfixed the filtered AllNodesConfig to be exported as\nAllNodesExtraMapData. Now when all_nodes_extra_map_data includes\ninformation for services which are not enabled on the cell controllers\nthe information is still required to point to the correct endpoint.\nThis make sure we add all the information from all_nodes_extra_map_data\nto the hieradata.\n\nAlso this change addes Prefer redis_vip from all_nodes_extra_map_data.\nWhen all_nodes_extra_map_data includes a value for redis_vip that\nvalue should be preferred over any other.\n\nChange-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124\n'}, {'number': 4, 'created': '2019-11-24 22:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/954b7abc91621af7002974f82df822fb916a4c2e', 'message': 'Make sure we add all_nodes_extra_map_data to all_nodes\n\nRefactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/\nfixed the filtered AllNodesConfig to be exported as\nAllNodesExtraMapData. Now when all_nodes_extra_map_data includes\ninformation for services which are not enabled on the cell controllers\nthe information is still required to point to the correct endpoint.\nThis make sure we add all the information from all_nodes_extra_map_data\nto the hieradata.\n\nAlso this change addes Prefer redis_vip from all_nodes_extra_map_data.\nWhen all_nodes_extra_map_data includes a value for redis_vip that\nvalue should be preferred over any other.\n\nChange-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124\n'}, {'number': 5, 'created': '2019-11-25 13:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc19cb478b8ea40c45466787e8960a037ad5550c', 'message': 'Make sure we add all_nodes_extra_map_data to all_nodes\n\nRefactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/\nfixed the filtered AllNodesConfig to be exported as\nAllNodesExtraMapData. Now when all_nodes_extra_map_data includes\ninformation for services which are not enabled on the cell controllers\nthe information is still required to point to the correct endpoint.\nThis make sure we add all the information from all_nodes_extra_map_data\nto the hieradata.\n\nAlso this change addes Prefer redis_vip from all_nodes_extra_map_data.\nWhen all_nodes_extra_map_data includes a value for redis_vip that\nvalue should be preferred over any other.\n\nCloses-Bug: #1853472\n\nChange-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124\n'}, {'number': 6, 'created': '2019-11-26 12:22:07.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7385d5e4c5d61db913e322c35da924e89b556ba8', 'message': 'Make sure we add all_nodes_extra_map_data to all_nodes\n\nRefactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/\nfixed the filtered AllNodesConfig to be exported as\nAllNodesExtraMapData. Now when all_nodes_extra_map_data includes\ninformation for services which are not enabled on the cell controllers\nthe information is still required to point to the correct endpoint.\nThis make sure we add all the information from all_nodes_extra_map_data\nto the hieradata in case of nova_additional_cell.\n\nAlso this change addes Prefer redis_vip from all_nodes_extra_map_data.\nWhen all_nodes_extra_map_data includes a value for redis_vip that\nvalue should be preferred over any other.\n\nCloses-Bug: #1853472\n\nChange-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124\n'}]",2,695805,7385d5e4c5d61db913e322c35da924e89b556ba8,45,9,6,17216,,,0,"Make sure we add all_nodes_extra_map_data to all_nodes

Refactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/
fixed the filtered AllNodesConfig to be exported as
AllNodesExtraMapData. Now when all_nodes_extra_map_data includes
information for services which are not enabled on the cell controllers
the information is still required to point to the correct endpoint.
This make sure we add all the information from all_nodes_extra_map_data
to the hieradata in case of nova_additional_cell.

Also this change addes Prefer redis_vip from all_nodes_extra_map_data.
When all_nodes_extra_map_data includes a value for redis_vip that
value should be preferred over any other.

Closes-Bug: #1853472

Change-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/695805/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'],1,c50b3f01f72e637ef21a42031a8091983194b04c,cellv2-node_names,"{% if all_nodes_extra_map_data[service ~ '_node_names'] is defined %} {% set _ = all_nodes.__setitem__((service ~ '_node_names'), all_nodes_extra_map_data[service ~ '_node_names']) %} {% endif %}",,3,0
openstack%2Fneutron~master~If1f0b0453d90eed27051fd516b95da32d4aa2afe,openstack/neutron,master,If1f0b0453d90eed27051fd516b95da32d4aa2afe,[OVN] Disable ovn jobs temporary,MERGED,2019-11-27 10:11:29.000000000,2019-11-29 04:21:18.000000000,2019-11-29 01:55:18.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-27 10:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d2a7c39a59cba532230ff00b94a0ea4cf00ca46', 'message': '[OVN] Disable job ""networking-ovn-tempest-dsvm-ovs-release""\n\nDuring the OVN repository migration, the zuul job\n""networking-ovn-tempest-dsvm-ovs-release"" cannot be executed due to\nthe DB redefinition. Once the OVN plugin is totally migrated to\nNeutron, this job can be integrated as a in-tree backend tempest\njob.\n\nChange-Id: If1f0b0453d90eed27051fd516b95da32d4aa2afe\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 2, 'created': '2019-11-28 20:43:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e5ce97bb9489496596abe5aa99ba7c2a646d00d', 'message': '[OVN] Disable ovn jobs temporary\n\nDuring the OVN repository migration, the zuul jobs relaset to ovn\ncannot be executed due to the DB redefinition. Once the OVN plugin is\ntotally migrated to Neutron, this job can be integrated as a in-tree\nbackend tempest job.\n\nChange-Id: If1f0b0453d90eed27051fd516b95da32d4aa2afe\nPartially-Implements: blueprint neutron-ovn-merge\n'}]",3,696272,1e5ce97bb9489496596abe5aa99ba7c2a646d00d,36,8,2,16688,,,0,"[OVN] Disable ovn jobs temporary

During the OVN repository migration, the zuul jobs relaset to ovn
cannot be executed due to the DB redefinition. Once the OVN plugin is
totally migrated to Neutron, this job can be integrated as a in-tree
backend tempest job.

Change-Id: If1f0b0453d90eed27051fd516b95da32d4aa2afe
Partially-Implements: blueprint neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/696272/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8d2a7c39a59cba532230ff00b94a0ea4cf00ca46,bp/neutron-ovn-merge, #- networking-ovn-tempest-dsvm-ovs-release: # irrelevant-files: *tempest-irrelevant-files, - networking-ovn-tempest-dsvm-ovs-release: irrelevant-files: *tempest-irrelevant-files,2,2
openstack%2Fswift~master~Ica1b2f0129ca1398c0d8478f70af934ed908f494,openstack/swift,master,Ica1b2f0129ca1398c0d8478f70af934ed908f494,DLO Delete of whole object,NEW,2017-12-13 17:01:36.000000000,2019-11-29 04:10:12.000000000,,"[{'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 28111}]","[{'number': 1, 'created': '2017-12-13 17:01:36.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/storage-object-services.inc', 'doc/source/api/large_objects.rst', 'test/unit/common/middleware/test_dlo.py', 'swift/common/middleware/dlo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8c1c360379e1bf949ff3a8cb756f499265d9b2d7', 'message': 'DLO Delete of whole object\n\nImplement the support for deletion of a whole DLO\nobject (segments + manifest), similar to the deletion\nof a SLO with the multipart-delete query parameter.\n\nTo distinguish between SLO and DLO deletion, the user shall\nuse the header ""x-object-delete-manifest"" if he wishes to delete\na DLO.\n\nChange-Id: Ica1b2f0129ca1398c0d8478f70af934ed908f494\nCloses-Bug: #1682116\n'}]",0,527744,8c1c360379e1bf949ff3a8cb756f499265d9b2d7,4,4,1,17245,,,0,"DLO Delete of whole object

Implement the support for deletion of a whole DLO
object (segments + manifest), similar to the deletion
of a SLO with the multipart-delete query parameter.

To distinguish between SLO and DLO deletion, the user shall
use the header ""x-object-delete-manifest"" if he wishes to delete
a DLO.

Change-Id: Ica1b2f0129ca1398c0d8478f70af934ed908f494
Closes-Bug: #1682116
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/527744/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/storage-object-services.inc', 'doc/source/api/large_objects.rst', 'test/unit/common/middleware/test_dlo.py', 'swift/common/middleware/dlo.py']",5,8c1c360379e1bf949ff3a8cb756f499265d9b2d7,bug/1682116," If you delete a manifest file simply with the DELETE method, only the manifest file gets deleted, but not the segments. If you wish to delete the whole DLO (manifest + segments), please include the ``X-Delete-Object-Manifest`` header with value ``true`` in your request:: curl -X DELETE -H 'X-Auth-Token: <token>' \ -H 'X-Delete-Object-Manifest: true' \ http://<storage_url>/container/myobjectfrom itertools import chain HTTPRequestedRangeNotSatisfiable, HTTPBadRequest, HTTPConflict, HTTPOk,\ HTTPException RateLimitedIterator, quote, close_if_possible, closing_if_possible,\ config_true_valuefrom swift.common.middleware.bulk import ACCEPTABLE_FORMATS, Bulk class DLOContext(WSGIContext): def __init__(self, dlo, logger): super(DLOContext, self).__init__(dlo.app) def _get_container_listing(self, req, version, account, container, prefix, marker='', agent='DLO MultipartGET'): agent=('%(orig)s ' + agent), swift_source='DLO') class GetContext(DLOContext): def __init__(self, dlo, logger): super(GetContext, self).__init__(dlo, logger) class DeleteContext(DLOContext): def __init__(self, dlo, logger): super(DeleteContext, self).__init__(dlo, logger) def _segment_listing_iterator(self, req, version, account, container, prefix, segments): """""" Generate segment names suitable for Bulk Deleter. This means in the form {'name': segmentname} . """""" marker = '' while True: for segment in segments: seg_name = segment['name'] if isinstance(seg_name, six.text_type): seg_name = seg_name.encode(""utf-8"") yield {'name': (""/"" + ""/"".join((container, seg_name)))} if len(segments) < constraints.CONTAINER_LISTING_LIMIT: # a short page means that we're done with the listing break marker = segments[-1]['name'] error_response, segments = self._get_container_listing( req, version, account, container, prefix, marker, agent='DLO MultipartDELETE') if error_response: with closing_if_possible(error_response.app_iter): if error_response.status_int == 404: # Container might have be deleted in parallel. return else: raise HTTPException(status=error_response.status_int) def handle_multipart_delete(self, req, version, account, container, obj): """""" Will delete all the segments of the DLO manifest and the manifest file. :param req: a :class:`~swift.common.swob.Request` with an obj in path :returns: swob.Response whose app_iter set to Bulk.handle_delete_iter """""" req.headers['Content-Type'] = None # Ignore content-type from client resp = HTTPOk(request=req) try: out_content_type = req.accept.best_match(ACCEPTABLE_FORMATS) except ValueError: out_content_type = None # Ignore invalid header if out_content_type: resp.content_type = out_content_type subreq = make_subrequest( req.environ, path='/'.join(['', version, account, container, obj]), method='HEAD', agent=('%(orig)s ' + 'DLO MultipartDELETE'), swift_source='DLO') subresp = subreq.get_response(self.app) with closing_if_possible(subresp.app_iter): if not is_success(subresp.status_int): return subresp if 'x-object-manifest' not in subresp.headers: return HTTPBadRequest( request=req, body=('Not a DLO manifest.')) x_object_manifest = subresp.headers['x-object-manifest'] seg_container, obj_prefix = x_object_manifest.split('/', 1) seg_container = unquote(seg_container) obj_prefix = unquote(obj_prefix) error_response, segments = self._get_container_listing( req, version, account, seg_container, obj_prefix, agent='DLO MultipartDELETE') if error_response: close_if_possible(error_response.app_iter) return HTTPConflict( request=req, body=(""Got status %d listing container /%s/%s"" % (error_response.status_int, account, seg_container))) objs_to_delete = chain( self._segment_listing_iterator( req, version, account, seg_container, obj_prefix, segments), ({'name': container + '/' + obj},)) resp.app_iter = self.bulk_deleter.handle_delete_iter( req, objs_to_delete=objs_to_delete, user_agent='MultipartDELETE', swift_source='DLO', out_content_type=out_content_type) return resp concurrency = min(1000, max(0, int(conf.get( 'concurrency', '2')))) delete_concurrency = int(conf.get( 'delete_concurrency', concurrency)) DLOContext.bulk_deleter = Bulk( app, {}, delete_concurrency=delete_concurrency, logger=self.logger) elif (req.method == 'DELETE' and config_true_value( req.headers.get('x-delete-object-manifest', 'f'))): return DeleteContext(self, self.logger).handle_multipart_delete( req, vrs, account, container, obj)(env, start_response) "," HTTPRequestedRangeNotSatisfiable, HTTPBadRequest, HTTPConflict RateLimitedIterator, quote, close_if_possible, closing_if_possible class GetContext(WSGIContext): def __init__(self, dlo, logger): super(GetContext, self).__init__(dlo.app) def _get_container_listing(self, req, version, account, container, prefix, marker=''): agent=('%(orig)s ' + 'DLO MultipartGET'), swift_source='DLO')",391,7
openstack%2Fmagnum~stable%2Fstein~I5a5a95385c4143cce21c60073ae168336c4b2f27,openstack/magnum,stable/stein,I5a5a95385c4143cce21c60073ae168336c4b2f27,Set a fixed cipher suite set for Traefik,MERGED,2019-11-28 13:43:46.000000000,2019-11-29 03:45:10.000000000,2019-11-29 03:44:02.000000000,"[{'_account_id': 6484}, {'_account_id': 9995}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-11-28 13:43:46.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c332393878233b62274825e71a5d4963eb53caff', 'message': 'Set a fixed cipher suite set for Traefik\n\nExplicitly set the support cipher suite for Ingress TLS using Traefik,\nfollowing Mozilla intermediate minus DES3:\nhttps://wiki.mozilla.org/Security/Server_Side_TLS#Intermediate_compatibility_.28default.29\n\nMove the Traefik configuration to a ConfigMap for more flexbility than\nprovided by command line arguments.\n\nChange-Id: I5a5a95385c4143cce21c60073ae168336c4b2f27\nStory: 2005326\nTask: 30254\n(cherry picked from commit 470fc261d50e4f62858dd5367ef51c22fa944748)\n'}]",0,696573,c332393878233b62274825e71a5d4963eb53caff,10,6,1,28022,,,0,"Set a fixed cipher suite set for Traefik

Explicitly set the support cipher suite for Ingress TLS using Traefik,
following Mozilla intermediate minus DES3:
https://wiki.mozilla.org/Security/Server_Side_TLS#Intermediate_compatibility_.28default.29

Move the Traefik configuration to a ConfigMap for more flexbility than
provided by command line arguments.

Change-Id: I5a5a95385c4143cce21c60073ae168336c4b2f27
Story: 2005326
Task: 30254
(cherry picked from commit 470fc261d50e4f62858dd5367ef51c22fa944748)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/73/696573/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh'],1,c332393878233b62274825e71a5d4963eb53caff,traefik-toml,"kind: ConfigMap apiVersion: v1 metadata: name: ingress-traefik namespace: kube-system labels: k8s-app: ingress-traefik-backend data: traefik.toml: |- logLevel = ""INFO"" defaultEntryPoints = [""http"", ""https""] [api] [kubernetes] [entryPoints] [entryPoints.http] address = "":80"" [entryPoints.https] address = "":443"" [entryPoints.https.tls] cipherSuites = [ ""TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305"", ""TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305"", ""TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384"", ""TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"", ""TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"", ""TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"", ""TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256"", ""TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256"", ""TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA"", ""TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA"", ""TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA"", ""TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA"", ""TLS_RSA_WITH_AES_256_GCM_SHA384"", ""TLS_RSA_WITH_AES_128_GCM_SHA256"", ""TLS_RSA_WITH_AES_128_CBC_SHA256"", ""TLS_RSA_WITH_AES_256_CBC_SHA"", ""TLS_RSA_WITH_AES_128_CBC_SHA"" ] ---",,39,0
openstack%2Fopenstack-ansible~master~Id7bee67cfe0cb364118133c8dc58b19e47321c40,openstack/openstack-ansible,master,Id7bee67cfe0cb364118133c8dc58b19e47321c40,DNM: test ara >1.0 static generation,ABANDONED,2019-09-18 18:32:23.000000000,2019-11-29 03:17:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-18 18:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/57ec8950a35cf1d323d82a3ba1a21a84f4ab8cbb', 'message': ""DNM: test ara >1.0 static generation\n\nstatic generation hasn't landed in a release yet so test it from the\nmaster branch.\n\nChange-Id: Id7bee67cfe0cb364118133c8dc58b19e47321c40\n""}, {'number': 2, 'created': '2019-09-18 20:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2921153e40adfb5d2ea09043652afc4ea71fff86', 'message': ""DNM: test ara >1.0 static generation\n\nstatic generation hasn't landed in a release yet so test it from the\nmaster branch.\n\nChange-Id: Id7bee67cfe0cb364118133c8dc58b19e47321c40\n""}, {'number': 3, 'created': '2019-11-07 16:20:38.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/042aa7594e83622508f2b83512a09c309a6ed85b', 'message': ""DNM: test ara >1.0 static generation\n\nstatic generation hasn't landed in a release yet so test it from the\nmaster branch.\n\nChange-Id: Id7bee67cfe0cb364118133c8dc58b19e47321c40\n""}]",0,682961,042aa7594e83622508f2b83512a09c309a6ed85b,6,1,3,9061,,,0,"DNM: test ara >1.0 static generation

static generation hasn't landed in a release yet so test it from the
master branch.

Change-Id: Id7bee67cfe0cb364118133c8dc58b19e47321c40
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/61/682961/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,57ec8950a35cf1d323d82a3ba1a21a84f4ab8cbb,," # ${PIP_COMMAND} install --isolated ${PIP_OPTS} ""ara<1.0.0;python_version<'3.0'"" ""ara[server];python_version>='3.0'"" ""${ANSIBLE_PACKAGE:-ansible}"" ${PIP_COMMAND} install --isolated ${PIP_OPTS} ""ara<1.0.0;python_version<'3.0'"" ""git+https://github.com/ansible-community/ara#egg=ara[server];python_version>='3.0'"" ""${ANSIBLE_PACKAGE:-ansible}"""," ${PIP_COMMAND} install --isolated ${PIP_OPTS} ""ara<1.0.0;python_version<'3.0'"" ""ara[server];python_version>='3.0'"" ""${ANSIBLE_PACKAGE:-ansible}""",2,1
openstack%2Fpuppet-tripleo~master~I377511aa0be7efbf58cd2a70e8b9a774bb679f61,openstack/puppet-tripleo,master,I377511aa0be7efbf58cd2a70e8b9a774bb679f61,Corrected default value for container_cli,MERGED,2019-11-28 08:13:38.000000000,2019-11-29 02:48:09.000000000,2019-11-29 02:48:09.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 08:13:38.000000000', 'files': ['files/certmonger-metrics-qdr-refresh.sh', 'files/certmonger-rabbitmq-refresh.sh', 'files/certmonger-redis-refresh.sh', 'files/certmonger-neutron-dhcpd-refresh.sh', 'files/certmonger-haproxy-refresh.sh', 'files/certmonger-novnc-proxy-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/86eab6ce8cb65915b3a3eea26d7195084260ba8b', 'message': ""Corrected default value for container_cli\n\nSince Stein (OSP-15), we're using podman by default. We therefore must\nreflect this in certmonger refresh secripts.\n\nChange-Id: I377511aa0be7efbf58cd2a70e8b9a774bb679f61\n""}]",0,696468,86eab6ce8cb65915b3a3eea26d7195084260ba8b,13,8,1,28223,,,0,"Corrected default value for container_cli

Since Stein (OSP-15), we're using podman by default. We therefore must
reflect this in certmonger refresh secripts.

Change-Id: I377511aa0be7efbf58cd2a70e8b9a774bb679f61
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/696468/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/certmonger-metrics-qdr-refresh.sh', 'files/certmonger-rabbitmq-refresh.sh', 'files/certmonger-redis-refresh.sh', 'files/certmonger-neutron-dhcpd-refresh.sh', 'files/certmonger-haproxy-refresh.sh', 'files/certmonger-novnc-proxy-refresh.sh']",6,86eab6ce8cb65915b3a3eea26d7195084260ba8b,certmonger-default-podman,container_cli=$(hiera -c /etc/puppet/hiera.yaml container_cli podman),container_cli=$(hiera -c /etc/puppet/hiera.yaml container_cli docker),6,6
openstack%2Fneutron~stable%2Frocky~I3e89aca8bedfd2912effe2490718223f7d03133e,openstack/neutron,stable/rocky,I3e89aca8bedfd2912effe2490718223f7d03133e,Fix race condition when getting cmdline,MERGED,2019-11-24 14:33:32.000000000,2019-11-29 02:43:40.000000000,2019-11-29 02:43:39.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-24 14:33:32.000000000', 'files': ['neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0304936d216091741ccf5493d10806b9cd9a5dbf', 'message': 'Fix race condition when getting cmdline\n\nEven though we check for the existence of the process before, it may\nstill terminate before we get to read its command line, so catch the\nerror that can occur here.\n\nBackport: Amended test using tools.OpenFixture() as the move of this\ncode to neutron-lib only happened later\n\nChange-Id: I3e89aca8bedfd2912effe2490718223f7d03133e\nCloses-Bug: 1844500\n(cherry picked from commit 3330bc01cbdecb12be9c30d78f648710f374d23e)\n(cherry picked from commit 41206ebc319315dedcbca06f85efc9c8aaf2efbe)\n'}]",0,695820,0304936d216091741ccf5493d10806b9cd9a5dbf,18,6,1,13252,,,0,"Fix race condition when getting cmdline

Even though we check for the existence of the process before, it may
still terminate before we get to read its command line, so catch the
error that can occur here.

Backport: Amended test using tools.OpenFixture() as the move of this
code to neutron-lib only happened later

Change-Id: I3e89aca8bedfd2912effe2490718223f7d03133e
Closes-Bug: 1844500
(cherry picked from commit 3330bc01cbdecb12be9c30d78f648710f374d23e)
(cherry picked from commit 41206ebc319315dedcbca06f85efc9c8aaf2efbe)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/695820/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py']",2,0304936d216091741ccf5493d10806b9cd9a5dbf,bug/1844500-stable/rocky," def test_cmdline_process_disappearing(self): self.process_is_running_mock.return_value = True mock_open = self.useFixture( tools.OpenFixture('/proc/%s/cmdline' % self.pid, 'process') ).mock_open mock_open.side_effect = IOError() cmdline = utils.get_cmdline_from_pid(self.pid) mock_open.assert_called_once_with('/proc/%s/cmdline' % self.pid, 'r') self.assertEqual([], cmdline) ",,26,11
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I70361801c71738f2d95930aea99914316d9f0d11,openstack/tripleo-heat-templates,stable/train,I70361801c71738f2d95930aea99914316d9f0d11,Force redis::ulimit to be an integer,MERGED,2019-11-27 23:16:15.000000000,2019-11-29 02:19:52.000000000,2019-11-29 02:19:52.000000000,"[{'_account_id': 8449}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 23:16:15.000000000', 'files': ['deployment/database/redis-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8002eb7df22c98b06d7d212bf5748d3f9389880f', 'message': ""Force redis::ulimit to be an integer\n\nThe upstream change at:\nhttps://github.com/voxpupuli/puppet-redis/commit/502ff38c8c035fa143e32dd4ee61b3ec68db461c\n\nmade redis::ulimit an integer and will now error out if passed a string.\nHistorically in THT we passed RedisFDLimit directly to the redis::ulimit\nhiera key as a string. Let's just change RedisFDLimit to a number. The\nonly affected people will be those that A) tweaked this parameter and\nB) actually wrapped the param into quotes so to force it as a string.\nGiven that this number is likely non-significance, we choose this route\nand we avoid an extra YAQL invocation to do a conversion in THT.\n\nChange-Id: I70361801c71738f2d95930aea99914316d9f0d11\nCloses-Bug: #1854136\n(cherry picked from commit b82725f5e097e962bc9181fb18ee32a13c5ad649)\n""}]",0,696417,8002eb7df22c98b06d7d212bf5748d3f9389880f,17,4,1,14985,,,0,"Force redis::ulimit to be an integer

The upstream change at:
https://github.com/voxpupuli/puppet-redis/commit/502ff38c8c035fa143e32dd4ee61b3ec68db461c

made redis::ulimit an integer and will now error out if passed a string.
Historically in THT we passed RedisFDLimit directly to the redis::ulimit
hiera key as a string. Let's just change RedisFDLimit to a number. The
only affected people will be those that A) tweaked this parameter and
B) actually wrapped the param into quotes so to force it as a string.
Given that this number is likely non-significance, we choose this route
and we avoid an extra YAQL invocation to do a conversion in THT.

Change-Id: I70361801c71738f2d95930aea99914316d9f0d11
Closes-Bug: #1854136
(cherry picked from commit b82725f5e097e962bc9181fb18ee32a13c5ad649)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/696417/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-base-puppet.yaml'],1,8002eb7df22c98b06d7d212bf5748d3f9389880f,, type: number, type: string,1,1
openstack%2Fneutron~stable%2Ftrain~I185031e5b9cfbd391e5fba34a71ff9070a4b5382,openstack/neutron,stable/train,I185031e5b9cfbd391e5fba34a71ff9070a4b5382,Switch to stable/train neutron-tempest-plugin jobs in train branch,MERGED,2019-09-27 08:12:57.000000000,2019-11-29 01:28:45.000000000,2019-11-29 01:26:36.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-09-27 08:12:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbbf6f3ace1d1d12fcb08749b84389ad5af025ca', 'message': 'Switch to stable/train neutron-tempest-plugin jobs in train branch\n\nDepends-On: https://review.opendev.org/#/c/685213/\nChange-Id: I185031e5b9cfbd391e5fba34a71ff9070a4b5382\n'}]",0,685222,bbbf6f3ace1d1d12fcb08749b84389ad5af025ca,31,7,1,11975,,,0,"Switch to stable/train neutron-tempest-plugin jobs in train branch

Depends-On: https://review.opendev.org/#/c/685213/
Change-Id: I185031e5b9cfbd391e5fba34a71ff9070a4b5382
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/685222/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bbbf6f3ace1d1d12fcb08749b84389ad5af025ca,train-release, - neutron-tempest-plugin-jobs-train, - neutron-tempest-plugin-jobs,1,1
openstack%2Fneutron~master~I988e506e9593e7c0856ef9e2955ec04b37f2ba3b,openstack/neutron,master,I988e506e9593e7c0856ef9e2955ec04b37f2ba3b,[OVN] Sync requirements with OVN,MERGED,2019-11-27 08:38:12.000000000,2019-11-29 01:28:42.000000000,2019-11-29 01:26:31.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-27 08:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/290120f26a22d4c0ff41a9506a7d25d4006c2bd6', 'message': '[OVN] Sync requirements with OVN\n\nThis patch sync requirements from OVN requirements.\n\nChange-Id: I988e506e9593e7c0856ef9e2955ec04b37f2ba3b\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 2, 'created': '2019-11-27 11:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fc42259dade07bf6ba2ba5c5f58a840b9c55f2b', 'message': '[OVN] Sync requirements with OVN\n\nThis patch sync requirements from OVN requirements.\n\nChange-Id: I988e506e9593e7c0856ef9e2955ec04b37f2ba3b\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 3, 'created': '2019-11-27 12:23:59.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/92679666284d8816065ca17ce19451142d75c990', 'message': '[OVN] Sync requirements with OVN\n\nThis patch sync requirements from OVN requirements.\n\nChange-Id: I988e506e9593e7c0856ef9e2955ec04b37f2ba3b\nRelated-Blueprint: neutron-ovn-merge\n'}]",11,696244,92679666284d8816065ca17ce19451142d75c990,37,6,3,24791,,,0,"[OVN] Sync requirements with OVN

This patch sync requirements from OVN requirements.

Change-Id: I988e506e9593e7c0856ef9e2955ec04b37f2ba3b
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/696244/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,290120f26a22d4c0ff41a9506a7d25d4006c2bd6,bp/neutron-ovn-merge,asn1crypto==0.23.0chardet==3.0.4cryptography==2.1doc8==0.6.0idna==2.6os-testr==1.0.0ovsdbapp==0.17.0pyOpenSSL==17.1.0tenacity==4.4.0tooz==1.58.0,ovsdbapp==0.9.1tenacity==3.2.1,19,5
openstack%2Fcinder-tempest-plugin~master~Ic2c88acfba606592dd12677cc70649ff545c1222,openstack/cinder-tempest-plugin,master,Ic2c88acfba606592dd12677cc70649ff545c1222,Update README.md for running cinder tests in tempest,MERGED,2019-10-16 06:08:43.000000000,2019-11-29 01:26:34.000000000,2019-11-29 01:26:34.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5690}, {'_account_id': 7198}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 31055}]","[{'number': 1, 'created': '2019-10-16 06:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/06e3a02d27efefa5d5d1b6700aae2750d0464700', 'message': 'Update readme all-plugin\n\nChange-Id: Ic2c88acfba606592dd12677cc70649ff545c1222\n'}, {'number': 2, 'created': '2019-10-30 06:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5399f756008e70cf90e15ccd14a9489357cbe9cc', 'message': 'Update readme all-plugin, remove n-cpu\n\nTwo changes to README.md are made:\n1. Fixed command line for calling cinder-tempest-plugin tests\n2. Removed n-cpu from decription\n\nChange-Id: Ic2c88acfba606592dd12677cc70649ff545c1222\n'}, {'number': 3, 'created': '2019-10-31 06:00:57.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/147b7f342e21d9ea8f4a6be3a7046bd7c8b83104', 'message': 'Update README.md for running cinder tests in tempest\n\nTwo changes to README.md are made:\n1. Fixed command line for calling cinder-tempest-plugin tests using plugin name\n2. Removed usage of deprecated tox command [all-plugin -> all].\nhttps://github.com/openstack/tempest/blob/master/tox.ini#L55\n\nChange-Id: Ic2c88acfba606592dd12677cc70649ff545c1222\n'}]",10,688853,147b7f342e21d9ea8f4a6be3a7046bd7c8b83104,24,10,3,31055,,,0,"Update README.md for running cinder tests in tempest

Two changes to README.md are made:
1. Fixed command line for calling cinder-tempest-plugin tests using plugin name
2. Removed usage of deprecated tox command [all-plugin -> all].
https://github.com/openstack/tempest/blob/master/tox.ini#L55

Change-Id: Ic2c88acfba606592dd12677cc70649ff545c1222
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/53/688853/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,06e3a02d27efefa5d5d1b6700aae2750d0464700,, $ tox -e all-plugin -- cinder_tempest_plugin, $ tox -e all-plugin -- volume,1,1
openstack%2Fmonasca-log-api~master~Id961a0a35711855281d552748d931aa69d215e3f,openstack/monasca-log-api,master,Id961a0a35711855281d552748d931aa69d215e3f,Switch to Ussuri jobs,ABANDONED,2019-11-14 07:01:25.000000000,2019-11-29 01:05:50.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 07:01:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/541f196165697fdf9f15f1127116181ad3fbde98', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id961a0a35711855281d552748d931aa69d215e3f\n'}]",0,694205,541f196165697fdf9f15f1127116181ad3fbde98,4,2,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: Id961a0a35711855281d552748d931aa69d215e3f
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/05/694205/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,541f196165697fdf9f15f1127116181ad3fbde98,dev, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fironic~master~Iea32b98a57713b70b535eb524b165cbeb141199f,openstack/ironic,master,Iea32b98a57713b70b535eb524b165cbeb141199f,Make redfish CI jobs pulling sushy-tools from git,MERGED,2019-11-12 15:30:06.000000000,2019-11-28 23:40:43.000000000,2019-11-28 15:54:39.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-12 15:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0cd6b26c3719b932e355b06f226b0623fee90708', 'message': 'Make redfish CI jobs pulling sushy* from git\n\nOtherwise Depends-On sushy* does not seem to work.\n\nDepends-On: https://review.opendev.org/693561\nChange-Id: Iea32b98a57713b70b535eb524b165cbeb141199f\n'}, {'number': 2, 'created': '2019-11-13 14:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f8e3c22a5350ec946dec6fe4f3e8634e5beaf766', 'message': 'Make redfish CI jobs pulling sushy-tools from git\n\nOtherwise Depends-On sushy-tools does not seem to work.\n\nDepends-On: https://review.opendev.org/693561\nChange-Id: Iea32b98a57713b70b535eb524b165cbeb141199f\n'}, {'number': 3, 'created': '2019-11-19 12:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfa5a98bf4842f64bd7affc5f3d66f96c8d4e2f8', 'message': 'Make redfish CI jobs pulling sushy-tools from git\n\nOtherwise Depends-On sushy-tools does not seem to work.\n\nDepends-On: https://review.opendev.org/693561\nChange-Id: Iea32b98a57713b70b535eb524b165cbeb141199f\n'}, {'number': 4, 'created': '2019-11-19 15:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0a5a750c1909a3a69e162d051e022981f1c7ea9', 'message': 'Make redfish CI jobs pulling sushy-tools from git\n\nOtherwise Depends-On sushy-tools does not seem to work.\n\nDepends-On: https://review.opendev.org/693561\nChange-Id: Iea32b98a57713b70b535eb524b165cbeb141199f\n'}, {'number': 5, 'created': '2019-11-19 16:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfdcb60eedcb28a5caf4af3741ca3a6fd3c59216', 'message': 'Make redfish CI jobs pulling sushy-tools from git\n\nOtherwise Depends-On sushy-tools does not seem to work.\n\nDepends-On: https://review.opendev.org/693561\nChange-Id: Iea32b98a57713b70b535eb524b165cbeb141199f\n'}, {'number': 6, 'created': '2019-11-28 11:24:24.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3eb1ca6338d5bcc5caa2fa1f908e2c17f3441c23', 'message': 'Make redfish CI jobs pulling sushy-tools from git\n\nOtherwise Depends-On sushy-tools does not seem to work.\n\nDepends-On: https://review.opendev.org/693561\nChange-Id: Iea32b98a57713b70b535eb524b165cbeb141199f\n'}]",3,693866,3eb1ca6338d5bcc5caa2fa1f908e2c17f3441c23,36,8,6,26340,,,0,"Make redfish CI jobs pulling sushy-tools from git

Otherwise Depends-On sushy-tools does not seem to work.

Depends-On: https://review.opendev.org/693561
Change-Id: Iea32b98a57713b70b535eb524b165cbeb141199f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/693866/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,0cd6b26c3719b932e355b06f226b0623fee90708,42-redfish-jobs-require-sushy-tools, required-projects: - openstack/sushy - openstack/sushy-tools,,3,0
openstack%2Ftripleo-quickstart~master~I3b3d59daf8ff4b8ceb4456b4a264a190942a0081,openstack/tripleo-quickstart,master,I3b3d59daf8ff4b8ceb4456b4a264a190942a0081,Port fs027 job to os_tempest,MERGED,2019-11-18 07:03:25.000000000,2019-11-28 23:35:11.000000000,2019-11-28 23:34:11.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-18 07:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d0803aa5aa36011d409c94d7a3ceefb27b210c73', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-11-18 11:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8a90c3c9c3635c90c46747a115d0836955a4bc7a', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-11-19 06:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/db52e49d430d4d94f1db6c34d3934df37f86a8c6', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-11-21 11:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7fae2543c1585c5b7d4a90a4e5610a56a33a426', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-11-21 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3b3803dd1a013f4a5d2b2e4681ff754d22ecbe2a', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-11-22 09:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fdd7bffe930114e8fcb7b84c8aa553d9c7cf0bb5', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-11-25 06:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aef655ad05c7e851416872aa117dad0c7a287d35', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-11-25 10:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cb1d43ec3163e28a461721a22ab6fa8cbfcdceee', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2019-11-26 04:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/77d6d5c26d78072e08612e0e0d9b65ebd9d691e7', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2019-11-26 04:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ec493d48c54cdea585a31b1382dee389e1ebe356', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2019-11-26 08:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5af0facb8dbe3c18934fa006ab20de30096297be', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2019-11-26 11:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4a5caff3ed10afca0bf5d5dba0bf28b4b49ceed9', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2019-11-26 14:47:52.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dfdf9dc11ebea55748c7782b1f1664c58ee2f6c4', 'message': 'Port fs027 job to os_tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1403\n\nDepends-On: https://review.opendev.org/#/c/694907/\n\nChange-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,694719,dfdf9dc11ebea55748c7782b1f1664c58ee2f6c4,65,9,13,12393,,,0,"Port fs027 job to os_tempest

https://tree.taiga.io/project/tripleo-ci-board/task/1403

Depends-On: https://review.opendev.org/#/c/694907/

Change-Id: I3b3d59daf8ff4b8ceb4456b4a264a190942a0081
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/19/694719/7 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,d0803aa5aa36011d409c94d7a3ceefb27b210c73,fs027,"# os_tempest configuration run_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} false {%- else -%} true {%- endif -%} use_os_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} true {%- else -%} false {%- endif -%} tempest_install_method: distro tempest_cloud_name: 'undercloud' # There is no external network used for so disabling neutron tempest_service_available_neutron: false tempest_test_whitelist: ""{{ tempest_whitelist }}"" tempest_test_blacklist: ""{{ test_black_regex }}"" ",,23,0
openstack%2Ftripleo-heat-templates~master~Id4f24e171867adc445eca55b3908360c8f3f6f30,openstack/tripleo-heat-templates,master,Id4f24e171867adc445eca55b3908360c8f3f6f30,Make sure glance_api_tls_proxy logs are persisted on the host,MERGED,2019-11-28 11:17:54.000000000,2019-11-28 23:34:10.000000000,2019-11-28 23:34:10.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-28 11:17:54.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f22dce44779a3b2d0f08c991d388b2c55829664a', 'message': 'Make sure glance_api_tls_proxy logs are persisted on the host\n\nThe logs for the glance_api_tls_proxy containers are not persisted on\nthe host and hence get lost at the restart of the container.  Said\ncontainer has httpd inside of it so we need to make sure that the httpd\nlogs are persisted on the host just like the other containers that use\nhttpd.\n\nTested this review and I correctly get the logs persisted on a\nTLS-everywhere environment:\n[root@controller-0 ~]# ls -l /var/log/containers/httpd/glance/\ntotal 1040\n-rw-r--r--. 1 root root   5864 Nov 28 10:07 error_log\n-rw-r--r--. 1 root root 544043 Nov 28 11:17 glance-api-proxy_access_ssl.log\n-rw-r--r--. 1 root root   4360 Nov 28 10:07 glance-api-proxy_error_ssl.log\n\nChange-Id: Id4f24e171867adc445eca55b3908360c8f3f6f30\nCloses-Bug: #1854343\n'}]",0,696520,f22dce44779a3b2d0f08c991d388b2c55829664a,10,6,1,20172,,,0,"Make sure glance_api_tls_proxy logs are persisted on the host

The logs for the glance_api_tls_proxy containers are not persisted on
the host and hence get lost at the restart of the container.  Said
container has httpd inside of it so we need to make sure that the httpd
logs are persisted on the host just like the other containers that use
httpd.

Tested this review and I correctly get the logs persisted on a
TLS-everywhere environment:
[root@controller-0 ~]# ls -l /var/log/containers/httpd/glance/
total 1040
-rw-r--r--. 1 root root   5864 Nov 28 10:07 error_log
-rw-r--r--. 1 root root 544043 Nov 28 11:17 glance-api-proxy_access_ssl.log
-rw-r--r--. 1 root root   4360 Nov 28 10:07 glance-api-proxy_error_ssl.log

Change-Id: Id4f24e171867adc445eca55b3908360c8f3f6f30
Closes-Bug: #1854343
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/696520/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml']",2,f22dce44779a3b2d0f08c991d388b2c55829664a,glance_tls_log," - /var/log/containers/httpd/glance:/var/log/httpd:z - { 'path': /var/log/containers/httpd/glance, 'setype': svirt_sandbox_file_t, 'mode': '0750' }",,3,0
openstack%2Fnova~master~Ic749c49e227e41732dbe04acea303b303acd264a,openstack/nova,master,Ic749c49e227e41732dbe04acea303b303acd264a,block_device: Copy original volume_type when missing for snapshot based volumes,MERGED,2019-11-15 10:01:53.000000000,2019-11-28 23:24:54.000000000,2019-11-28 23:21:34.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-15 10:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/603131f2d34fc6fea29ba7224269f8574331c843', 'message': 'WIP block_device: Use original volume_type when creating volumes from snapshots\n\nCloses-Bug: #\nChange-Id: Ic749c49e227e41732dbe04acea303b303acd264a\n'}, {'number': 2, 'created': '2019-11-21 17:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/726e1a0bfd8b667ade86e542f202cb3b42e1fa5f', 'message': 'block_device: Copy original volume_type when missing for snapshot based volumes\n\nAttempts to launch an instance from an encrypted volume snapshot would\npreviously fail if a volume_type was not specified in the\nblock_device_mapping of the boot request.\n\nTo avoid such failures DriverVolSnapshotBlockDevice will now attempt to\nlookup and use the volume_type of the original volume that the snapshot\nis based on. This should allow the eventual volume creation request\nbased on the snapshot to succeed in cases where a volume_type is\nrequired but not provided in the boot request.\n\nCloses-Bug: #1853495\nChange-Id: Ic749c49e227e41732dbe04acea303b303acd264a\n'}, {'number': 3, 'created': '2019-11-21 18:13:20.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5679a0bf99c17ff336fa520c9cdfad5156c6c9d2', 'message': 'block_device: Copy original volume_type when missing for snapshot based volumes\n\nAttempts to launch an instance from an encrypted volume snapshot would\npreviously fail if a volume_type was not specified in the\nblock_device_mapping of the boot request.\n\nTo avoid such failures DriverVolSnapshotBlockDevice will now attempt to\nlookup and use the volume_type of the original volume that the snapshot\nis based on. This should allow the eventual volume creation request\nbased on the snapshot to succeed in cases where a volume_type is\nrequired but not provided in the boot request.\n\nCloses-Bug: #1853495\nChange-Id: Ic749c49e227e41732dbe04acea303b303acd264a\n'}]",9,694497,5679a0bf99c17ff336fa520c9cdfad5156c6c9d2,34,13,3,10135,,,0,"block_device: Copy original volume_type when missing for snapshot based volumes

Attempts to launch an instance from an encrypted volume snapshot would
previously fail if a volume_type was not specified in the
block_device_mapping of the boot request.

To avoid such failures DriverVolSnapshotBlockDevice will now attempt to
lookup and use the volume_type of the original volume that the snapshot
is based on. This should allow the eventual volume creation request
based on the snapshot to succeed in cases where a volume_type is
required but not provided in the boot request.

Closes-Bug: #1853495
Change-Id: Ic749c49e227e41732dbe04acea303b303acd264a
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/694497/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,603131f2d34fc6fea29ba7224269f8574331c843,bug/1853495," # NOTE(lyarwood): Use the original volume_type if one isn't set. if not self.volume_type and snapshot.volume_id: orig_volume = volume_api.get(context, snapshot.volume_id) self.volume_type = orig_volume.volume_type ",,6,0
openstack%2Fsahara-extra~master~Ib096b763835837544da0cd6e013de83b3125889b,openstack/sahara-extra,master,Ib096b763835837544da0cd6e013de83b3125889b,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-17 14:27:07.000000000,2019-11-28 22:46:56.000000000,2019-11-28 22:46:56.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-11-17 14:27:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/29feb954d060346e072fd8452ea4f2abec49bd1e', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nsahara-extra is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ib096b763835837544da0cd6e013de83b3125889b\n'}]",0,694693,29feb954d060346e072fd8452ea4f2abec49bd1e,7,4,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

sahara-extra is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ib096b763835837544da0cd6e013de83b3125889b
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/93/694693/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,29feb954d060346e072fd8452ea4f2abec49bd1e,drop-py27-support,basepython = python3,basepython = python3basepython = python3,1,2
openstack%2Fsahara-image-elements~master~I5680fecb667038e3fcededaa89df815c07a913c7,openstack/sahara-image-elements,master,I5680fecb667038e3fcededaa89df815c07a913c7,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-17 14:27:09.000000000,2019-11-28 22:20:58.000000000,2019-11-28 22:20:58.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-11-17 14:27:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/1e3f59084bfb64231aebfc891e0a4d7372dfd057', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nsahara-image-elements is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I5680fecb667038e3fcededaa89df815c07a913c7\n'}]",0,694694,1e3f59084bfb64231aebfc891e0a4d7372dfd057,7,4,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

sahara-image-elements is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I5680fecb667038e3fcededaa89df815c07a913c7
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/94/694694/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1e3f59084bfb64231aebfc891e0a4d7372dfd057,drop-py27-support,basepython = python3,basepython = python3basepython = python3,1,2
openstack%2Fneutron~master~I794138300950169cf0cf31136aaf6a2d5456b7e8,openstack/neutron,master,I794138300950169cf0cf31136aaf6a2d5456b7e8,"DNM: Revert ""Switch to use cast method in dhcp_ready_on_ports method""",ABANDONED,2019-11-27 15:54:32.000000000,2019-11-28 21:32:10.000000000,,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 26970}]","[{'number': 1, 'created': '2019-11-27 15:54:32.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d99f9bb6862edb104ec14903ea9c2eb67f88c65', 'message': 'DNM: Revert ""Switch to use cast method in dhcp_ready_on_ports method""\n\nThis reverts commit 1a686fb401eca1843b81292fc88c13a2e6fd274d.\n\nChange-Id: I794138300950169cf0cf31136aaf6a2d5456b7e8\n'}]",0,696334,8d99f9bb6862edb104ec14903ea9c2eb67f88c65,6,12,1,9545,,,0,"DNM: Revert ""Switch to use cast method in dhcp_ready_on_ports method""

This reverts commit 1a686fb401eca1843b81292fc88c13a2e6fd274d.

Change-Id: I794138300950169cf0cf31136aaf6a2d5456b7e8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/696334/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,8d99f9bb6862edb104ec14903ea9c2eb67f88c65,bug/1850864," def test__dhcp_ready_ports_doesnt_log_exception_on_timeout(self): dhcp = dhcp_agent.DhcpAgent(HOSTNAME) dhcp.dhcp_ready_ports = set(range(4)) with mock.patch.object(dhcp.plugin_rpc, 'dhcp_ready_on_ports', side_effect=oslo_messaging.MessagingTimeout): # exit after 2 iterations with mock.patch.object(dhcp_agent.eventlet, 'sleep', side_effect=[0, 0, RuntimeError]): with mock.patch.object(dhcp_agent.LOG, 'exception') as lex: with testtools.ExpectedException(RuntimeError): dhcp._dhcp_ready_ports_loop() self.assertFalse(lex.called) ",,19,2
openstack%2Ftripleo-heat-templates~master~I0d13c9ee2490aa765d546961c9a1fc14e931c0c7,openstack/tripleo-heat-templates,master,I0d13c9ee2490aa765d546961c9a1fc14e931c0c7,Move 'Ensure network service is enabled' after os-net-config has run,MERGED,2019-11-28 10:43:28.000000000,2019-11-28 20:35:54.000000000,2019-11-28 20:26:17.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-28 10:43:28.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7e28c9a854aa277cb2aa6a159d98c82b47a053d', 'message': 'Move \'Ensure network service is enabled\' after os-net-config has run\n\nThis has been observed downstream via https://bugzilla.redhat.com/show_bug.cgi?id=1777529\nThe scenario is as follows:\n1) Undercloud VM is configured with a bunch of interfaces in dhcp\n2) One NIC (eth0 in this case) is on a network without a dhcp server\n3) Said NIC is configured in undercloud.conf to be part of the\n   br-ctlplane bridge\n\nIn the above scenario the undercloud install will fail with the\nfollowing error:\n ""Unable to start service network: Job for network.service failed because the control process exited with error code....""\n\nThe reason is that eth0 times out when asking for dhcp and so the whole\nnetwork.service start command fails.\n\nWe can just move the network service enablement *after* os-net-config\nhas run. This fixes this scenario (I just tested it) and it still\ncovers for enabling the network service in order to maintain network\nconnectivity at reboot, which was the reason for adding this code in the\nfirst place anyway.\n\nChange-Id: I0d13c9ee2490aa765d546961c9a1fc14e931c0c7\n'}]",0,696491,b7e28c9a854aa277cb2aa6a159d98c82b47a053d,10,5,1,20172,,,0,"Move 'Ensure network service is enabled' after os-net-config has run

This has been observed downstream via https://bugzilla.redhat.com/show_bug.cgi?id=1777529
The scenario is as follows:
1) Undercloud VM is configured with a bunch of interfaces in dhcp
2) One NIC (eth0 in this case) is on a network without a dhcp server
3) Said NIC is configured in undercloud.conf to be part of the
   br-ctlplane bridge

In the above scenario the undercloud install will fail with the
following error:
 ""Unable to start service network: Job for network.service failed because the control process exited with error code....""

The reason is that eth0 times out when asking for dhcp and so the whole
network.service start command fails.

We can just move the network service enablement *after* os-net-config
has run. This fixes this scenario (I just tested it) and it still
covers for enabling the network service in order to maintain network
connectivity at reboot, which was the reason for adding this code in the
first place anyway.

Change-Id: I0d13c9ee2490aa765d546961c9a1fc14e931c0c7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/696491/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,b7e28c9a854aa277cb2aa6a159d98c82b47a053d,, # os-net-config currently relies on the legacy network # so we need to ensure it's enabled on boot. This should # be removed when we switch to NetworkManager or replaced # with something that ensures NetworkManager is enabled. - name: Ensure network service is enabled systemd: name: network enabled: yes state: started , # os-net-config currently relies on the legacy network # so we need to ensure it's enabled on boot. This should # be removed when we switch to NetworkManager or replaced # with something that ensures NetworkManager is enabled. - name: Ensure network service is enabled systemd: name: network enabled: yes state: started ,10,10
openstack%2Fpuppet-tripleo~master~I1e31761fd2129f57f61707d1920db835df7f7346,openstack/puppet-tripleo,master,I1e31761fd2129f57f61707d1920db835df7f7346,Explicitly convert stonith_level fact to int,MERGED,2019-11-27 15:52:42.000000000,2019-11-28 20:26:16.000000000,2019-11-28 20:26:15.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 15:52:42.000000000', 'files': ['lib/facter/stonith_levels.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3991edcae0b6c80c9e3a05ea51ea7c2708233931', 'message': 'Explicitly convert stonith_level fact to int\n\nApparently the implicit conversion done via \'0 + string\' is not robust\nenough. Adding a ""to_i"" to make sure we don\'t break if output is empty.\n\nChange-Id: I1e31761fd2129f57f61707d1920db835df7f7346\n'}]",0,696333,3991edcae0b6c80c9e3a05ea51ea7c2708233931,9,4,1,30126,,,0,"Explicitly convert stonith_level fact to int

Apparently the implicit conversion done via '0 + string' is not robust
enough. Adding a ""to_i"" to make sure we don't break if output is empty.

Change-Id: I1e31761fd2129f57f61707d1920db835df7f7346
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/33/696333/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/facter/stonith_levels.rb'],1,3991edcae0b6c80c9e3a05ea51ea7c2708233931,," stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {}).to_i"," stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {})",1,1
openstack%2Fneutron~master~Ie1c66c773ee2d217b25bd915189e56254744a3d4,openstack/neutron,master,Ie1c66c773ee2d217b25bd915189e56254744a3d4,Rehome networking-ovn CI jobs to neutron repository,MERGED,2019-11-26 14:18:35.000000000,2019-11-28 19:45:57.000000000,2019-11-28 19:42:17.000000000,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-26 14:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6350f45af1290c57498efc2cc100f890cabdb695', 'message': 'Rehome networking-ovn CI jobs to neutron repository\n\nAs networking-ovn driver is going to be in neutron tree now, lets move\nalso networking-ovn jobs definitions to the neutron repo.\n\nChange-Id: Ie1c66c773ee2d217b25bd915189e56254744a3d4\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 2, 'created': '2019-11-26 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5d95032dcd2fc08c5ea8f92ed3429d15ffdda47', 'message': 'Rehome networking-ovn CI jobs to neutron repository\n\nAs networking-ovn driver is going to be in neutron tree now, lets move\nalso networking-ovn jobs definitions to the neutron repo.\n\nChange-Id: Ie1c66c773ee2d217b25bd915189e56254744a3d4\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 3, 'created': '2019-11-27 09:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa67bcd43eae1659c88a20f29f814c3515fce6ae', 'message': 'Rehome networking-ovn CI jobs to neutron repository\n\nAs networking-ovn driver is going to be in neutron tree now, lets move\nalso networking-ovn jobs definitions to the neutron repo.\n\nChange-Id: Ie1c66c773ee2d217b25bd915189e56254744a3d4\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 4, 'created': '2019-11-27 09:38:16.000000000', 'files': ['playbooks/legacy/neutron-ovn-grenade/run.yaml', '.zuul.yaml', 'playbooks/multinode-setup.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst', 'playbooks/legacy/neutron-ovn-grenade/post.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c6d3e073ecba61a89a222b7495f8625c775f13b', 'message': 'Rehome networking-ovn CI jobs to neutron repository\n\nAs networking-ovn driver is going to be in neutron tree now, lets move\nalso networking-ovn jobs definitions to the neutron repo.\n\nChange-Id: Ie1c66c773ee2d217b25bd915189e56254744a3d4\nRelated-Blueprint: neutron-ovn-merge\n'}]",2,696094,9c6d3e073ecba61a89a222b7495f8625c775f13b,27,6,4,11975,,,0,"Rehome networking-ovn CI jobs to neutron repository

As networking-ovn driver is going to be in neutron tree now, lets move
also networking-ovn jobs definitions to the neutron repo.

Change-Id: Ie1c66c773ee2d217b25bd915189e56254744a3d4
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/696094/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-networking-ovn/post.yaml', 'playbooks/legacy/grenade-dsvm-networking-ovn/run.yaml', '.zuul.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",4,6350f45af1290c57498efc2cc100f890cabdb695,bp/neutron-ovn-merge," |neutron-ovn-tempest-ovs-release |Various tempest api, scenario | 3.6 | 1 | ovn | ovn | --- | False | False | True | Yes | | |and neutron_tempest_plugi tests | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ovs-master |Various tempest api, scenario | 3.6 | 1 | ovn | ovn | --- | False | False | True | No | | |and neutron_tempest_plugi tests | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-slow |tempest slow tests | 3.6 | 2 | ovn | ovn | --- | False | False | True | No | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-multinode-ovs-master |Various tempest api, scenario | 3.6 | 2 | ovn | ovn | --- | False | False | True | No | | |and neutron_tempest_plugi tests | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ | neutron-ovn-grenade | 3.6 | 1 | ovn | ovn | --- | False | False | True | False | +--------------------------------+---------+-------+-------------+-------------+----------+-------+--------+------------+-------------+",,508,2
openstack%2Fnova~stable%2Fpike~I958005b6a3e2b90ca6fe6046e4dbcc5991581245,openstack/nova,stable/pike,I958005b6a3e2b90ca6fe6046e4dbcc5991581245,Changing scheduler sync event from INFO to DEBUG,MERGED,2019-07-04 10:05:33.000000000,2019-11-28 19:16:10.000000000,2019-11-28 19:16:10.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-04 10:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e49006cb07008804c403d990b5cfb05efb9ca24', 'message': ""Changing scheduler sync event from INFO to DEBUG\n\nWe don't need to log every single sync event, this can get\npretty spammy, especially when you have computes in the hundreds.\n\nChange-Id: I958005b6a3e2b90ca6fe6046e4dbcc5991581245\n(cherry picked from commit e86ac82bbdd365eb0085697ba3b634c55c4016e7)\n""}, {'number': 2, 'created': '2019-09-17 19:46:48.000000000', 'files': ['nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/467f3ce66e07be7e2a16cc5132213102514c902f', 'message': ""Changing scheduler sync event from INFO to DEBUG\n\nWe don't need to log every single sync event, this can get\npretty spammy, especially when you have computes in the hundreds.\n\nChange-Id: I958005b6a3e2b90ca6fe6046e4dbcc5991581245\n(cherry picked from commit e86ac82bbdd365eb0085697ba3b634c55c4016e7)\n(cherry picked from commit 1c56895dc19ebd47f74344dbdf9e2101d52dbe8e)\n""}]",0,669127,467f3ce66e07be7e2a16cc5132213102514c902f,21,8,2,6593,,,0,"Changing scheduler sync event from INFO to DEBUG

We don't need to log every single sync event, this can get
pretty spammy, especially when you have computes in the hundreds.

Change-Id: I958005b6a3e2b90ca6fe6046e4dbcc5991581245
(cherry picked from commit e86ac82bbdd365eb0085697ba3b634c55c4016e7)
(cherry picked from commit 1c56895dc19ebd47f74344dbdf9e2101d52dbe8e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/669127/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/host_manager.py'],1,4e49006cb07008804c403d990b5cfb05efb9ca24,," LOG.debug(""Successfully synced instances from host '%s'."", host_name)"," LOG.info(_LI(""Successfully synced instances from host '%s'.""), host_name)",2,2
openstack%2Fkolla-ansible~stable%2Ftrain~I306c57305b9088159dd18af4aa373bbc39a8b881,openstack/kolla-ansible,stable/train,I306c57305b9088159dd18af4aa373bbc39a8b881,Use valid_interfaces instead of os_interface for placement,MERGED,2019-11-27 15:19:30.000000000,2019-11-28 19:04:09.000000000,2019-11-28 19:02:45.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-27 15:19:30.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec912bc716285c987aaf5867042f5475c8280f1a', 'message': 'Use valid_interfaces instead of os_interface for placement\n\nThe [placement].os_interface option was replaced by\n[placement].valid_interfaces in Queens and was removed in Rocky.\n\nChange-Id: I306c57305b9088159dd18af4aa373bbc39a8b881\nCloses-Bug: #1853621\n(cherry picked from commit 96590822def9e41b14041b017d8af322ad515546)\n'}]",0,696323,ec912bc716285c987aaf5867042f5475c8280f1a,11,4,1,14826,,,0,"Use valid_interfaces instead of os_interface for placement

The [placement].os_interface option was replaced by
[placement].valid_interfaces in Queens and was removed in Rocky.

Change-Id: I306c57305b9088159dd18af4aa373bbc39a8b881
Closes-Bug: #1853621
(cherry picked from commit 96590822def9e41b14041b017d8af322ad515546)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/696323/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2']",2,ec912bc716285c987aaf5867042f5475c8280f1a,placement-interface-stable/train,valid_interfaces = internal,os_interface = internal,2,2
openstack%2Fkayobe~master~Id7b574cbc6bb5195eee16cfc8443075712ce3254,openstack/kayobe,master,Id7b574cbc6bb5195eee16cfc8443075712ce3254,CI: Remove workaround for upgrading from Rocky,MERGED,2019-11-26 14:52:58.000000000,2019-11-28 18:54:55.000000000,2019-11-28 18:53:49.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-11-26 14:52:58.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c619579fc125f9d5088210a7832e2603521e797c', 'message': 'CI: Remove workaround for upgrading from Rocky\n\nWe no longer need to cd to the kayobe repo path, since all tested\nversions of kayobe support pip installation.\n\nChange-Id: Id7b574cbc6bb5195eee16cfc8443075712ce3254\n'}]",0,696102,c619579fc125f9d5088210a7832e2603521e797c,8,3,1,14826,,,0,"CI: Remove workaround for upgrading from Rocky

We no longer need to cd to the kayobe repo path, since all tested
versions of kayobe support pip installation.

Change-Id: Id7b574cbc6bb5195eee16cfc8443075712ce3254
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/02/696102/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,c619579fc125f9d5088210a7832e2603521e797c,,," # FIXME: For upgrades to work, we must change the working directory to the kayobe # source checkout. This can be removed once the previous version is based on # the rocky release. if [ ! -d ""${KAYOBE_VENV_PATH}/share/kayobe/ansible"" ]; then cd ""${KAYOBE_SOURCE_PATH}"" fi",0,6
openstack%2Fopenstack-helm-infra~master~I027c91ee48df8eb5b4b2bf3fd28036b8eca47238,openstack/openstack-helm-infra,master,I027c91ee48df8eb5b4b2bf3fd28036b8eca47238,Fixing typo in exporter-deployment.yaml PUBLISH_PORT,MERGED,2019-11-28 15:26:29.000000000,2019-11-28 18:49:28.000000000,2019-11-28 18:48:16.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-11-28 15:26:29.000000000', 'files': ['rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9492a8cde07033858b5b22f7a388d9c02b8201e5', 'message': 'Fixing typo in exporter-deployment.yaml PUBLISH_PORT\n\nThe patch fixes typo in PUBLISH_PORT and adds quotes for\nPUBLISH_PORT because of the fact that it is string values\notherwise it leads to the error below:\n\nerror updating the release: rpc error: code = Unknown desc = release\nrabbitmq failed: Deployment in version ""v1"" cannot be handled as\na Deployment: v1.Deployment.Spec: v1.DeploymentSpec.Template: v1.PodTemplateSpec.Spec:\nv1.PodSpec.Containers: []v1.Container: v1.Container.Env: []v1.EnvVar: v1.EnvVar.Value:\nReadString: expects "" or n, but found 9, error found in #10 byte of ...|,""value"":9095},{""nam|...,\nbigger context ...|value"":""no_sort""},{""name"":""PUBLISH_PORT"",""value"":9095},{""name"":""LOG_LEVEL"",""value"":""info""},{""name"":""|...\n\nChange-Id: I027c91ee48df8eb5b4b2bf3fd28036b8eca47238\n'}]",0,696597,9492a8cde07033858b5b22f7a388d9c02b8201e5,10,9,1,29954,,,0,"Fixing typo in exporter-deployment.yaml PUBLISH_PORT

The patch fixes typo in PUBLISH_PORT and adds quotes for
PUBLISH_PORT because of the fact that it is string values
otherwise it leads to the error below:

error updating the release: rpc error: code = Unknown desc = release
rabbitmq failed: Deployment in version ""v1"" cannot be handled as
a Deployment: v1.Deployment.Spec: v1.DeploymentSpec.Template: v1.PodTemplateSpec.Spec:
v1.PodSpec.Containers: []v1.Container: v1.Container.Env: []v1.EnvVar: v1.EnvVar.Value:
ReadString: expects "" or n, but found 9, error found in #10 byte of ...|,""value"":9095},{""nam|...,
bigger context ...|value"":""no_sort""},{""name"":""PUBLISH_PORT"",""value"":9095},{""name"":""LOG_LEVEL"",""value"":""info""},{""name"":""|...

Change-Id: I027c91ee48df8eb5b4b2bf3fd28036b8eca47238
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/696597/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml'],1,9492a8cde07033858b5b22f7a388d9c02b8201e5,," value: {{ tuple ""prometheus_rabbitmq_exporter"" ""internal"" ""metrics"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" | quote }}"," value: {{ tuple ""prometheus_rabbitmq_exporter"" ""internal"" ""metrics"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }}",1,1
openstack%2Fkolla-ansible~stable%2Ftrain~Icf3ffb261605ffe5d8f2618c2ed4cb97db97dd49,openstack/kolla-ansible,stable/train,Icf3ffb261605ffe5d8f2618c2ed4cb97db97dd49,CI/Debian: Push images after building,MERGED,2019-11-25 17:34:54.000000000,2019-11-28 18:16:25.000000000,2019-11-28 18:15:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-25 17:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0bcd7e3d47ab57be2ed689dca5f968e4d43c0c1f', 'message': 'CI/Debian: Push images after building\n\nThis fixes Debian job failures during image building.\n\nSee https://github.com/docker/for-linux/issues/711\nfor upstream details.\n\nChange-Id: Icf3ffb261605ffe5d8f2618c2ed4cb97db97dd49\n(cherry picked from commit 6ab144aae405db6d3ab672c58b7675b49b86d009)\n'}, {'number': 2, 'created': '2019-11-26 11:34:08.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de9e0392c736acd77b4c4a7a47b86582adbef7b5', 'message': 'CI/Debian: Push images after building\n\nThis fixes Debian job failures during image building.\n\nSee https://github.com/docker/for-linux/issues/711\nfor upstream details.\n\nChange-Id: Icf3ffb261605ffe5d8f2618c2ed4cb97db97dd49\n(cherry picked from commit 6ab144aae405db6d3ab672c58b7675b49b86d009)\n'}]",0,695962,de9e0392c736acd77b4c4a7a47b86582adbef7b5,10,3,2,30491,,,0,"CI/Debian: Push images after building

This fixes Debian job failures during image building.

See https://github.com/docker/for-linux/issues/711
for upstream details.

Change-Id: Icf3ffb261605ffe5d8f2618c2ed4cb97db97dd49
(cherry picked from commit 6ab144aae405db6d3ab672c58b7675b49b86d009)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/695962/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,0bcd7e3d47ab57be2ed689dca5f968e4d43c0c1f,ci-debian-pushing-stable/train," # NOTE(yoctozepto): we cannot build and push at the same time on debian # buster see https://github.com/docker/for-linux/issues/711. PUSH=""true"" if [[ ""debian"" == $BASE_DISTRO ]]; then PUSH=""false"" fipush = ${PUSH} # NOTE(yoctozepto): due to debian buster we push after images are built # see https://github.com/docker/for-linux/issues/711 if [[ ""debian"" == $BASE_DISTRO ]]; then for img in $(sudo docker image ls --format '{{ .Repository }}:{{ .Tag }}' | grep lokolla/); do sudo docker push $img; done fi",push = true,14,1
openstack%2Fkolla~master~Ifa664ff2d65a7cbc969c4b1c279eae1ac21225d7,openstack/kolla,master,Ifa664ff2d65a7cbc969c4b1c279eae1ac21225d7,horizon: do not build neutron-vpnaas-dashboard for CentOS 7,MERGED,2019-11-28 09:00:29.000000000,2019-11-28 18:07:21.000000000,2019-11-28 18:06:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-28 09:00:29.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d866c63a32a494b8643b166c3b1e36e463a7502f', 'message': ""horizon: do not build neutron-vpnaas-dashboard for CentOS 7\n\nThis plugin moved to Python 3 only:\n\nChange-Id: Ifa664ff2d65a7cbc969c4b1c279eae1ac21225d7\nINFO:kolla.common.utils.horizon:[91mERROR: Package 'neutron-vpnaas-dashboard' requires a different Python: 2.7.5 not in '>=3.6'\n""}]",0,696480,d866c63a32a494b8643b166c3b1e36e463a7502f,15,6,1,24072,,,0,"horizon: do not build neutron-vpnaas-dashboard for CentOS 7

This plugin moved to Python 3 only:

Change-Id: Ifa664ff2d65a7cbc969c4b1c279eae1ac21225d7
INFO:kolla.common.utils.horizon:[91mERROR: Package 'neutron-vpnaas-dashboard' requires a different Python: 2.7.5 not in '>=3.6'
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/696480/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,d866c63a32a494b8643b166c3b1e36e463a7502f,, {# NOTE(hrw) some plugins already moved to Python 3 and CentOS 7 uses Python 2 #} && rm -rf /plugins/searchlight-ui* /plugins/neutron-vpnaas-dashboard* \, {# NOTE(hrw) searchlight moved to Python 3 and CentOS 7 uses Python 2 #} && rm -rf /plugins/searchlight-ui* \,2,2
openstack%2Fopenstack-ansible~master~Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a,openstack/openstack-ansible,master,Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a,Update inventory group/user_secrets for inspector change in Ironic,MERGED,2019-09-06 00:45:53.000000000,2019-11-28 17:38:12.000000000,2019-11-28 17:11:30.000000000,"[{'_account_id': 7414}, {'_account_id': 16011}, {'_account_id': 17130}, {'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-06 00:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af32ed2468c1fe668be27e5a8c0080b225548b6a', 'message': 'Update user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nDepends-On: I2ee09d9cc20f9b8e4430c55129cd8bac9435299d\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 2, 'created': '2019-09-06 16:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1f44b790457b80903e78dccff470acc73099c29f', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nDepends-On: I2ee09d9cc20f9b8e4430c55129cd8bac9435299d\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 3, 'created': '2019-09-06 18:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1371b4751f7884a3d3ba834cd43cadcde7a680bc', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nDepends-On: I2ee09d9cc20f9b8e4430c55129cd8bac9435299d\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 4, 'created': '2019-09-11 02:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2437ab23582a96ef9d04984ae0259b5e94e4e5c4', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nDepends-On: I2ee09d9cc20f9b8e4430c55129cd8bac9435299d\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 5, 'created': '2019-09-11 02:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0bb440cf25169a3b7e952e4e4cb465e6f8b73768', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nDepends-On: I2ee09d9cc20f9b8e4430c55129cd8bac9435299d\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 6, 'created': '2019-09-11 02:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd356e28f1d8b72aafb8793dd0def0bf86de15c2', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nDepends-On: I2ee09d9cc20f9b8e4430c55129cd8bac9435299d\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 7, 'created': '2019-09-11 16:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5938b4a455ae554e19f225b109f8d686647fae8a', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nDepends-On: I2ee09d9cc20f9b8e4430c55129cd8bac9435299d\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 8, 'created': '2019-09-20 15:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4cd87a23a9f9455247e39fc7ef04d3303da4e91a', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 9, 'created': '2019-09-20 17:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fbe412f4ec29feddce127e182b1b3fc0d216ef58', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 10, 'created': '2019-09-20 20:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/84ebc5fbad772df153cb1d4e3f2816d5cc613192', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 11, 'created': '2019-09-20 22:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/302cb1e9744cc2cf3d7ceb696b21b1ffc0530bfe', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 12, 'created': '2019-09-21 02:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/41b0e930c7458b01c62df91afefc487acd40184a', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 13, 'created': '2019-09-21 02:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/618f5257e1103639fca1a4242efc18887b462c91', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 14, 'created': '2019-10-09 22:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a6a816445867a4e8b842e325a257b57a34fc9f98', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 15, 'created': '2019-11-14 16:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d8ababeb74c5e43fe682fe424d976ccf3f978188', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}, {'number': 16, 'created': '2019-11-14 17:19:14.000000000', 'files': ['etc/openstack_deploy/user_secrets.yml', 'inventory/env.d/ironic.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'etc/openstack_deploy/conf.d/ironic.yml.aio', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/97d448f22d3068737180dc65f2576941ea7fbac0', 'message': 'Update inventory group/user_secrets for inspector change in Ironic\n\nThis adds two new secrets for the new inspector configuratiion.\n\nChange-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a\n'}]",2,680553,97d448f22d3068737180dc65f2576941ea7fbac0,55,7,16,21314,,,0,"Update inventory group/user_secrets for inspector change in Ironic

This adds two new secrets for the new inspector configuratiion.

Change-Id: Iaed7027a6a8d5e158300c9d5aa21ec4c4f1ea81a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/680553/6 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/user_secrets.yml'],1,af32ed2468c1fe668be27e5a8c0080b225548b6a,osa-train, #Ironic Inspector options: ironic_inspector_container_mysql_password: ironic_inspector_service_password:,,5,0
openstack%2Ftripleo-heat-templates~master~Ia9860107c35e543a05775596076873ea950b7400,openstack/tripleo-heat-templates,master,Ia9860107c35e543a05775596076873ea950b7400,Use '0' instead of root in container-puppet.py,MERGED,2019-11-26 16:20:04.000000000,2019-11-28 17:27:25.000000000,2019-11-28 17:27:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 16:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac65b1ce3189a03bf0a5d557f7e91b4886ba1479', 'message': ""WIP Use '0' instead of root\n\nLong sad explanation here\n\nChange-Id: Ia9860107c35e543a05775596076873ea950b7400\n""}, {'number': 2, 'created': '2019-11-27 10:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22ec1bfa84d4cf4b9cbe1f8fc8da512e226afb9f', 'message': 'Use \'0\' instead of root in container-puppet.py\n\nEven though the number of user lookups have been reduced from two to one\nvia https://github.com/containers/libpod/pull/1978, we still see the\nfollowing error from time to time:\ntime=""2019-11-22T19:19:33Z"" level=debug msg=""ExitCode msg: \\""unable to find user root: no matching entries in passwd file\\""""\ntime=""2019-11-22T19:19:33Z"" level=error msg=""unable to find user root: no matching entries in passwd file""\n\nThe TLDR; is that podman/docker, when passed a --user=<name> parameter,\nwill parse the /etc/passwd file inside the container and detect the\nuid/gid to switch to. The problem seems to be that sometimes this\n/etc/passwd is either read as empty or non-existant when we try and\nparse it (the root-cause of which is the real underlying bug).\n\nSince it seems that root-causing this will take a rather large amount of\ntime, we can just pass the UID directly which will not fail when\nthe parsing code cannot find the specified user in /etc/passwd, as it\nsimply uses the provided UID:\nhttps://github.com/containers/libpod/blob/master/vendor/github.com/opencontainers/runc/libcontainer/user/user.go#L333\n\nTested this by running a reproducer on three machines for a total\nof ~800 runs and had 0 occurrences of this error. Previously I could\nreproduce this issue in about 30 to 60 runs at most.\n\nRelated rhbz: 1776766\nRelated-Bug: #1803544\n\nChange-Id: Ia9860107c35e543a05775596076873ea950b7400\n'}, {'number': 3, 'created': '2019-11-27 23:18:40.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/393e96b5b9e8affd35b48fb45f0a75b253629074', 'message': 'Use \'0\' instead of root in container-puppet.py\n\nEven though the number of user lookups have been reduced from two to one\nvia https://github.com/containers/libpod/pull/1978, we still see the\nfollowing error from time to time:\ntime=""2019-11-22T19:19:33Z"" level=debug msg=""ExitCode msg: \\""unable to find user root: no matching entries in passwd file\\""""\ntime=""2019-11-22T19:19:33Z"" level=error msg=""unable to find user root: no matching entries in passwd file""\n\nThe TLDR; is that podman/docker, when passed a --user=<name> parameter,\nwill parse the /etc/passwd file inside the container and detect the\nuid/gid to switch to. The problem seems to be that sometimes this\n/etc/passwd is either read as empty or non-existant when we try and\nparse it (the root-cause of which is the real underlying bug).\n\nSince it seems that root-causing this will take a rather large amount of\ntime, we can just pass the UID directly which will not fail when\nthe parsing code cannot find the specified user in /etc/passwd, as it\nsimply uses the provided UID:\nhttps://github.com/containers/libpod/blob/master/vendor/github.com/opencontainers/runc/libcontainer/user/user.go#L333\n\nTested this by running a reproducer on three machines for a total\nof ~800 runs and had 0 occurrences of this error. Previously I could\nreproduce this issue in about 30 to 60 runs at most.\n\nRelated rhbz: 1776766\nRelated-Bug: #1803544\n\nChange-Id: Ia9860107c35e543a05775596076873ea950b7400\n'}]",2,696120,393e96b5b9e8affd35b48fb45f0a75b253629074,23,8,3,20172,,,0,"Use '0' instead of root in container-puppet.py

Even though the number of user lookups have been reduced from two to one
via https://github.com/containers/libpod/pull/1978, we still see the
following error from time to time:
time=""2019-11-22T19:19:33Z"" level=debug msg=""ExitCode msg: \""unable to find user root: no matching entries in passwd file\""""
time=""2019-11-22T19:19:33Z"" level=error msg=""unable to find user root: no matching entries in passwd file""

The TLDR; is that podman/docker, when passed a --user=<name> parameter,
will parse the /etc/passwd file inside the container and detect the
uid/gid to switch to. The problem seems to be that sometimes this
/etc/passwd is either read as empty or non-existant when we try and
parse it (the root-cause of which is the real underlying bug).

Since it seems that root-causing this will take a rather large amount of
time, we can just pass the UID directly which will not fail when
the parsing code cannot find the specified user in /etc/passwd, as it
simply uses the provided UID:
https://github.com/containers/libpod/blob/master/vendor/github.com/opencontainers/runc/libcontainer/user/user.go#L333

Tested this by running a reproducer on three machines for a total
of ~800 runs and had 0 occurrences of this error. Previously I could
reproduce this issue in about 30 to 60 runs at most.

Related rhbz: 1776766
Related-Bug: #1803544

Change-Id: Ia9860107c35e543a05775596076873ea950b7400
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/696120/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,ac65b1ce3189a03bf0a5d557f7e91b4886ba1479,sigh," '0',"," 'root',",1,1
openstack%2Ftripleo-ci~master~Ic0cd34e936a51ec79a65f5f64ee9841894191c80,openstack/tripleo-ci,master,Ic0cd34e936a51ec79a65f5f64ee9841894191c80,Add ironic-python-agent-builder to the dib elements path,MERGED,2019-11-21 21:03:17.000000000,2019-11-28 17:27:24.000000000,2019-11-28 17:27:24.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-11-21 21:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c00d712a536065bf58c95c8e0fd7d30c8c183f17', 'message': 'Add ironic-python-agent-builder to the dib elements path\n\nSince https://review.opendev.org/#/c/679748/ merged,\nopenstack-ironic-python-agent-builder is needed to\nbuild the ironic-python-agent-centos-7 image.\n\nChange-Id: Ic0cd34e936a51ec79a65f5f64ee9841894191c80\n'}, {'number': 2, 'created': '2019-11-21 22:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2b8c5c4e494ca570c85f67fc0d3ca43ffe755e0', 'message': 'Add ironic-python-agent-builder to the dib elements path\n\nSince https://review.opendev.org/#/c/679748/ merged,\nopenstack-ironic-python-agent-builder is needed to\nbuild the ironic-python-agent-centos-7 image.\n\nChange-Id: Ic0cd34e936a51ec79a65f5f64ee9841894191c80\n'}, {'number': 3, 'created': '2019-11-22 13:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9d414c13eebc6f1982743c6b9163d1aed1fc3de2', 'message': 'Add ironic-python-agent-builder to the dib elements path\n\nSince https://review.opendev.org/#/c/679748/ merged,\nopenstack-ironic-python-agent-builder is needed to\nbuild the ironic-python-agent-centos-7 image.\n\nChange-Id: Ic0cd34e936a51ec79a65f5f64ee9841894191c80\n'}, {'number': 4, 'created': '2019-11-22 14:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/39c0802118b5e53406d6a4e0fdc5d4d980139fac', 'message': 'Add ironic-python-agent-builder to the dib elements path\n\nSince https://review.opendev.org/#/c/679748/ merged,\nopenstack-ironic-python-agent-builder is needed to\nbuild the ironic-python-agent-centos-7 image.\n\nopendev.org/openstack/ironic-python-agent-builder\nwas added as a new required-project.\n\nChange-Id: Ic0cd34e936a51ec79a65f5f64ee9841894191c80\n'}, {'number': 5, 'created': '2019-11-25 18:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28e18fed75d90cb6f6d4236f0203988b9dddee7b', 'message': 'Add ironic-python-agent-builder to the dib elements path\n\nSince https://review.opendev.org/#/c/679748/ merged,\nopenstack-ironic-python-agent-builder is needed to\nbuild the ironic-python-agent-centos-7 image.\n\nopendev.org/openstack/ironic-python-agent-builder\nwas added as a new required-project.\n\nChange-Id: Ic0cd34e936a51ec79a65f5f64ee9841894191c80\n'}, {'number': 6, 'created': '2019-11-26 14:09:23.000000000', 'files': ['roles/oooci-build-images/templates/build-images.sh.j2', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d16a39528fe9abee96ba8a6e08274f9c2c074cc2', 'message': 'Add ironic-python-agent-builder to the dib elements path\n\nSince https://review.opendev.org/#/c/679748/ merged,\nopenstack-ironic-python-agent-builder is needed to\nbuild the ironic-python-agent-centos-7 image.\n\nopendev.org/openstack/ironic-python-agent-builder\nwas added as a new required-project.\n\nChange-Id: Ic0cd34e936a51ec79a65f5f64ee9841894191c80\n'}]",8,695575,d16a39528fe9abee96ba8a6e08274f9c2c074cc2,64,11,6,9976,,,0,"Add ironic-python-agent-builder to the dib elements path

Since https://review.opendev.org/#/c/679748/ merged,
openstack-ironic-python-agent-builder is needed to
build the ironic-python-agent-centos-7 image.

opendev.org/openstack/ironic-python-agent-builder
was added as a new required-project.

Change-Id: Ic0cd34e936a51ec79a65f5f64ee9841894191c80
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/75/695575/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/templates/build-images.sh.j2'],1,c00d712a536065bf58c95c8e0fd7d30c8c183f17,fix-dib-elements-path,"ELEMENTS+=""{{ openstack_git_root }}/heat-agents:"" ELEMENTS+=""/usr/share/ironic-python-agent-builder/dib/""","ELEMENTS+=""{{ openstack_git_root }}/heat-agents""",2,1
openstack%2Fkayobe~master~Ib3133820a3d3ca3027ea2f9bc9b6907929cff8ed,openstack/kayobe,master,Ib3133820a3d3ca3027ea2f9bc9b6907929cff8ed,tox: Keeping going with docs,MERGED,2019-10-27 06:39:25.000000000,2019-11-28 17:22:23.000000000,2019-11-28 17:20:42.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-27 06:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ee670138ca8fe888252ad925d55481869fa839d5', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ib3133820a3d3ca3027ea2f9bc9b6907929cff8ed\n'}, {'number': 2, 'created': '2019-10-27 06:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/96d5a20c10b4cebb5dceaad2c9f8355cfa7f2039', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ib3133820a3d3ca3027ea2f9bc9b6907929cff8ed\n""}, {'number': 3, 'created': '2019-11-11 13:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/18e3dbcb91cbc0436beecb21f2c6a30d74b143cd', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ib3133820a3d3ca3027ea2f9bc9b6907929cff8ed\n""}, {'number': 4, 'created': '2019-11-11 13:49:58.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d23ed9258814b2321e758ace53c62c90fadcda0f', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Cleanup the folders before run commands\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ib3133820a3d3ca3027ea2f9bc9b6907929cff8ed\n""}]",2,691505,d23ed9258814b2321e758ace53c62c90fadcda0f,17,5,4,30356,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. Cleanup the folders before run commands

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ib3133820a3d3ca3027ea2f9bc9b6907929cff8ed
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/691505/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,ee670138ca8fe888252ad925d55481869fa839d5,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fcharm-layer-openstack~master~I510efbcc2d8b889fe5c41679c8ab391bf1374bd4,openstack/charm-layer-openstack,master,I510efbcc2d8b889fe5c41679c8ab391bf1374bd4,Add default handler for ``config.rendered`` state,MERGED,2019-11-28 07:52:41.000000000,2019-11-28 17:18:54.000000000,2019-11-28 17:18:54.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 07:52:41.000000000', 'files': ['reactive/layer_openstack.py'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/90eb19ec97cc67b4d06d27739deb5f18175ab24c', 'message': 'Add default handler for ``config.rendered`` state\n\nDepends-On: I5b8839dc875e413ce3c6611f540fb4919ae86d70\nChange-Id: I510efbcc2d8b889fe5c41679c8ab391bf1374bd4\nCloses-Bug: #1854313\n'}]",0,696465,90eb19ec97cc67b4d06d27739deb5f18175ab24c,11,5,1,13686,,,0,"Add default handler for ``config.rendered`` state

Depends-On: I5b8839dc875e413ce3c6611f540fb4919ae86d70
Change-Id: I510efbcc2d8b889fe5c41679c8ab391bf1374bd4
Closes-Bug: #1854313
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/65/696465/1 && git format-patch -1 --stdout FETCH_HEAD,['reactive/layer_openstack.py'],1,90eb19ec97cc67b4d06d27739deb5f18175ab24c,bug/1854313," @reactive.when('charms.openstack.do-default-config-rendered') @reactive.when_not('config.rendered') def default_config_not_rendered(): """"""Disable services until charm code has set the config.rendered state."""""" with charm.provide_charm_instance() as instance: instance.disable_services() instance.assess_status() @reactive.when('charms.openstack.do-default-config-rendered', 'config.rendered') def default_config_rendered(): """"""Enable services when charm code has set the config.rendered state."""""" with charm.provide_charm_instance() as instance: instance.enable_services() instance.assess_status()",,18,0
openstack%2Fnetworking-ovn~stable%2Frocky~I991f935891e5bbc6cb6b610be788fa5ca1f3ac1d,openstack/networking-ovn,stable/rocky,I991f935891e5bbc6cb6b610be788fa5ca1f3ac1d,Update local.conf.sample to match stable/rocky,MERGED,2019-10-11 09:59:31.000000000,2019-11-28 16:53:49.000000000,2019-11-28 16:53:48.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 09:59:31.000000000', 'files': ['devstack/local.conf.sample'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8e5559ebbe8536c65314114d49891f5945864cc1', 'message': 'Update local.conf.sample to match stable/rocky\n\nThis patch is adjusting the local.conf.sample file to match the\nstable/rocky release. Without these changes, using the local.conf.sample\nfile to deploy devstack will fail.\n\nChange-Id: I991f935891e5bbc6cb6b610be788fa5ca1f3ac1d\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,688094,8e5559ebbe8536c65314114d49891f5945864cc1,11,3,1,6773,,,0,"Update local.conf.sample to match stable/rocky

This patch is adjusting the local.conf.sample file to match the
stable/rocky release. Without these changes, using the local.conf.sample
file to deploy devstack will fail.

Change-Id: I991f935891e5bbc6cb6b610be788fa5ca1f3ac1d
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/94/688094/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.sample'],1,8e5559ebbe8536c65314114d49891f5945864cc1,,enable_plugin networking-ovn https://git.openstack.org/openstack/networking-ovn stable/rockyenable_plugin neutron https://git.openstack.org/openstack/neutron stable/rocky,enable_plugin networking-ovn https://git.openstack.org/openstack/networking-ovnenable_plugin neutron https://git.openstack.org/openstack/neutron,2,2
openstack%2Fcharms.openstack~master~I5b8839dc875e413ce3c6611f540fb4919ae86d70,openstack/charms.openstack,master,I5b8839dc875e413ce3c6611f540fb4919ae86d70,Add default handler for ``config.rendered`` state,MERGED,2019-11-28 07:52:15.000000000,2019-11-28 16:52:48.000000000,2019-11-28 16:52:48.000000000,"[{'_account_id': 12549}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 07:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/04a3293c7604fb3ac59a96778ba560d5b2a8e9c5', 'message': 'Add default handler for ``config.rendered`` state\n\nReplace forward declaration of ``haproxy_enabled`` method in\n``OpenStackCharm`` class with a ``full_service_list`` property\nthat descendants override to add their specialities to.\n\nNeeded-By: I510efbcc2d8b889fe5c41679c8ab391bf1374bd4\nChange-Id: I5b8839dc875e413ce3c6611f540fb4919ae86d70\nCloses-Bug: #1854313\n'}, {'number': 2, 'created': '2019-11-28 08:30:37.000000000', 'files': ['charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/f3c61339ac69baeb7b3dc94ed3c9eed03200a40f', 'message': 'Add default handler for ``config.rendered`` state\n\nReplace forward declaration of ``haproxy_enabled`` method in\n``OpenStackCharm`` class with a ``full_service_list`` property\nthat descendants override to add their specialities to.\n\nNeeded-By: I510efbcc2d8b889fe5c41679c8ab391bf1374bd4\nChange-Id: I5b8839dc875e413ce3c6611f540fb4919ae86d70\nCloses-Bug: #1854313\n'}]",0,696464,f3c61339ac69baeb7b3dc94ed3c9eed03200a40f,9,3,2,13686,,,0,"Add default handler for ``config.rendered`` state

Replace forward declaration of ``haproxy_enabled`` method in
``OpenStackCharm`` class with a ``full_service_list`` property
that descendants override to add their specialities to.

Needed-By: I510efbcc2d8b889fe5c41679c8ab391bf1374bd4
Change-Id: I5b8839dc875e413ce3c6611f540fb4919ae86d70
Closes-Bug: #1854313
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/64/696464/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'unit_tests/charms_openstack/charm/test_classes.py']",3,04a3293c7604fb3ac59a96778ba560d5b2a8e9c5,bug/1854313," def make_open_stack_charm(): charm = chm.OpenStackAPICharm(['interface1', 'interface2']) charm.services = ['svc1', 'sv2'] return charm super(TestOpenStackAPICharm, self).setUp(make_open_stack_charm, def test_restart_services(self): self.patch_object(chm.os_utils, 'manage_payload_services') self.target.restart_services() svcs = ['svc1', 'sv2', 'memcached'] self.manage_payload_services.assert_has_calls([ mock.call('stop', svcs), mock.call('start', svcs)]) def make_open_stack_charm(): charm = chm.HAOpenStackCharm() charm.services = ['svc1', 'sv2'] return charm super(TestHAOpenStackCharm, self).setUp(make_open_stack_charm, def test_restart_services(self): self.patch_target('haproxy_enabled', return_value=True) self.patch_object(chm.os_utils, 'manage_payload_services') self.target.restart_services() svcs = ['svc1', 'sv2', 'memcached', 'haproxy'] self.manage_payload_services.assert_has_calls([ mock.call('stop', svcs), mock.call('start', svcs)]) "," self.patch_target('haproxy_enabled', return_value=False) def test_restart_services_haproxy(self): self.patch_target('haproxy_enabled', return_value=True) self.patch_object(chm.os_utils, 'manage_payload_services') self.target.restart_services() svcs = ['svc1', 'sv2', 'haproxy'] self.manage_payload_services.assert_has_calls([ mock.call('stop', svcs), mock.call('start', svcs)]) super(TestOpenStackAPICharm, self).setUp(chm.OpenStackAPICharm, super(TestHAOpenStackCharm, self).setUp(chm.HAOpenStackCharm,",93,32
openstack%2Fneutron~master~I8c7b8df934c8b53ea5bc02dc8134db838f5e105a,openstack/neutron,master,I8c7b8df934c8b53ea5bc02dc8134db838f5e105a,Add upgrade check for networking-ovn db version,MERGED,2019-11-27 20:40:51.000000000,2019-11-28 16:50:43.000000000,2019-11-28 16:48:25.000000000,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-27 20:40:51.000000000', 'files': ['neutron/cmd/upgrade_checks/checks.py', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fa881f870d123f2fa78ac2dcb4c161636387861', 'message': ""Add upgrade check for networking-ovn db version\n\nWhen ovn code will be in neutron tree already, during the upgrade\nwe need to be sure that networking-ovn wasn't installed previously or\nif it was installed, it's db version is the latest one.\nOtherwise neutron's alembic migration script will not work properly as\nit will check that ovn tables exists so it will skip creating them, even\nif those tables aren't in proper shape (from latest networking-ovn\nhead).\n\nChange-Id: I8c7b8df934c8b53ea5bc02dc8134db838f5e105a\nRelated-Blueprint: neutron-ovn-merge\n""}]",5,696404,9fa881f870d123f2fa78ac2dcb4c161636387861,12,7,1,11975,,,0,"Add upgrade check for networking-ovn db version

When ovn code will be in neutron tree already, during the upgrade
we need to be sure that networking-ovn wasn't installed previously or
if it was installed, it's db version is the latest one.
Otherwise neutron's alembic migration script will not work properly as
it will check that ovn tables exists so it will skip creating them, even
if those tables aren't in proper shape (from latest networking-ovn
head).

Change-Id: I8c7b8df934c8b53ea5bc02dc8134db838f5e105a
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/696404/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/upgrade_checks/checks.py', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py']",2,9fa881f870d123f2fa78ac2dcb4c161636387861,bp/neutron-ovn-merge," def test_ovn_db_revision_check_no_networking_ovn_installed(self): with mock.patch.object(checks, ""table_exists"", return_value=False),\ mock.patch.object( checks, ""get_ovn_db_revisions"") as get_ovn_db_revisions: result = checks.CoreChecks.ovn_db_revision_check(mock.Mock()) self.assertEqual(Code.SUCCESS, result.code) get_ovn_db_revisions.assert_not_called() def test_ovn_db_revision_check_networking_ovn_latest_revision(self): revisions = [ checks.LAST_NETWORKING_OVN_EXPAND_HEAD, checks.LAST_NETWORKING_OVN_CONTRACT_HEAD] with mock.patch.object(checks, ""table_exists"", return_value=True),\ mock.patch.object( checks, ""get_ovn_db_revisions"", return_value=revisions) as get_ovn_db_revisions: result = checks.CoreChecks.ovn_db_revision_check(mock.Mock()) self.assertEqual(Code.SUCCESS, result.code) get_ovn_db_revisions.assert_called_once_with() def test_ovn_db_revision_check_networking_ovn_not_latest_revision(self): revisions = [""some_older_revision""] with mock.patch.object(checks, ""table_exists"", return_value=True),\ mock.patch.object( checks, ""get_ovn_db_revisions"", return_value=revisions) as get_ovn_db_revisions: result = checks.CoreChecks.ovn_db_revision_check(mock.Mock()) self.assertEqual(Code.FAILURE, result.code) get_ovn_db_revisions.assert_called_once_with()",,73,1
openstack%2Fkolla-ansible~master~I4fca319ccc3de7188f8b7b44c9c71321e3899467,openstack/kolla-ansible,master,I4fca319ccc3de7188f8b7b44c9c71321e3899467,CI: Refactor a lot,MERGED,2019-11-20 13:25:54.000000000,2019-11-28 16:47:47.000000000,2019-11-28 12:16:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-20 13:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1be493dbb276ddff9702f5befe0d896d6192aed6', 'message': 'WIP: CI: Test deployment of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 2, 'created': '2019-11-20 13:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c07bc5cbb43dc17fa161095c0abff3de1cf19e7', 'message': 'WIP: CI: Test deployment of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 3, 'created': '2019-11-20 14:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71940465344d9fad4ae49624aeb758447bf76479', 'message': 'WIP: CI: Test deployment of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\nRelated-bug: #1853201\nDepends-on: https://review.opendev.org/695190\n'}, {'number': 4, 'created': '2019-11-20 17:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89d9fbdfd4d13e2b530e2c6a653f04105b959398', 'message': 'CI: Test deployment of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\nRelated-bug: #1853201\nRelated-bug: #1853336\nDepends-on: https://review.opendev.org/695190\nDepends-on: https://review.opendev.org/695245\n'}, {'number': 5, 'created': '2019-11-20 18:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9612fab7354baabfd2151f0be2d18498164475d', 'message': 'CI: Test deployment of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\nRelated-bug: #1853201\nRelated-bug: #1853336\nDepends-on: https://review.opendev.org/695190\nDepends-on: https://review.opendev.org/695245\n'}, {'number': 6, 'created': '2019-11-21 09:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9b914a558f828da544c85b8d438aee72cffff09', 'message': 'CI: Test deployment of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\nRelated-bug: #1853201\nRelated-bug: #1853336\nDepends-on: https://review.opendev.org/695190\nDepends-on: https://review.opendev.org/695245\n'}, {'number': 7, 'created': '2019-11-21 10:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9cde5ab663a45c8a3dbd1fa50c8ce1fe37583a59', 'message': 'CI: Test deployment of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\nRelated-bug: #1853201\nRelated-bug: #1853336\nDepends-on: https://review.opendev.org/695190\nDepends-on: https://review.opendev.org/695245\n'}, {'number': 8, 'created': '2019-11-21 11:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a724fc52d2e361298583534e6813abd9cb8fc06b', 'message': 'CI: Test deployment of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\nRelated-bug: #1853201\nRelated-bug: #1853336\nDepends-on: https://review.opendev.org/695190\nDepends-on: https://review.opendev.org/695245\n'}, {'number': 9, 'created': '2019-11-21 17:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26bbefaaa86c25bf78d54c8cd7d505e1e6f33739', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 10, 'created': '2019-11-21 19:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/afacc7754542bf2ad9884305ede013741c0e4a9c', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 11, 'created': '2019-11-23 17:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa80188a477c7d02f7a69efb30ad644565414e2a', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nMove gate setup script to ./tests/\n\nRemove useless tox setupenv.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 12, 'created': '2019-11-23 17:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/474c1f5671e4de3e882622ee88fbfc3deb2d4681', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 13, 'created': '2019-11-23 17:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/35077099b9a0a17d30634815d12e11505afbc2df', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 14, 'created': '2019-11-23 17:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f20c29d52e769b90d1465de1e023fcd7f6d0e467', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 15, 'created': '2019-11-23 17:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8f86b3001c470f635e07adf230b19d1b471115d', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 16, 'created': '2019-11-23 17:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b6cc6688b6fa9bda38af045e58989d15c376edb', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 17, 'created': '2019-11-23 20:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc8d966db266b55fbc4fb52f312cd3cf415a2e78', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 18, 'created': '2019-11-24 09:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b7715c64f9ada930f2c19d53927ba3b4a2e3bb2a', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 19, 'created': '2019-11-24 09:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad6b5665c39af8954c506a5f8e35b000f909cee8', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 20, 'created': '2019-11-24 12:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c277958f38e65da5b1c1ce2183078625dbf11f29', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon) and increase\nits timeout to 5 minutes (CentOS 7 slow as always).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 21, 'created': '2019-11-26 07:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c336a17d7ea7c23e69ef13dbc4e21cd6113d68fc', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon) and increase\nits timeout to 5 minutes (CentOS 7 slow as always).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 22, 'created': '2019-11-26 16:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0e4554dc036568efc3c83148e37b15e7d01865b', 'message': 'CI: Cleanups, refactors and testing of Qinling\n\nSeparate upgrade logic to is_upgrade job var.\n\nRename scenarios to match.\n\nRename ACTION to SCENARIO as it really is.\n\nSeparate testing of dashboard (aka Horizon) and increase\nits timeout to 5 minutes (CentOS 7 slow as always).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nAdd tests of Qinling.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}, {'number': 23, 'created': '2019-11-26 16:32:28.000000000', 'files': ['tests/deploy.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'tests/test-dashboard.sh', 'tests/test-core-openstack.sh', 'tools/setup_gate.sh', 'zuul.d/project.yaml', 'tools/dump_info.sh', 'tox.ini', 'zuul.d/jobs.yaml', 'tests/init-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2fc684164cb5169492d6e0c007ad006f814492c', 'message': 'CI: Refactor a lot\n\nSeparate upgrade logic to is_upgrade job var and rename\nscenarios to match.\n\nRename ""ACTION"" to ""SCENARIO"" (as it is a scenario).\n\nSeparate testing of dashboard (aka Horizon) and increase\nits timeout to 5 minutes (CentOS 7 slow as always).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n'}]",29,695192,a2fc684164cb5169492d6e0c007ad006f814492c,80,4,23,30491,,,0,"CI: Refactor a lot

Separate upgrade logic to is_upgrade job var and rename
scenarios to match.

Rename ""ACTION"" to ""SCENARIO"" (as it is a scenario).

Separate testing of dashboard (aka Horizon) and increase
its timeout to 5 minutes (CentOS 7 slow as always).

Separate initialization of core OpenStack.

Use gate setup script from ./tests/

Remove useless tox setupenv.

Do not deploy Heat when not really necessary.

Change-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/695192/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-qinling.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tools/setup_gate.sh']",6,1be493dbb276ddff9702f5befe0d896d6192aed6,ci-refactor," if [[ $ACTION == qinling ]]; then ~/openstackclient-venv/bin/pip install python-qinlingclient fi if [[ $ACTION == ""qinling"" ]]; then GATE_IMAGES+="",qinling,etcd"" fi ",,77,53
openstack%2Foctavia-lib~master~I412626410710eb4778ce00feb067640a6e725c47,openstack/octavia-lib,master,I412626410710eb4778ce00feb067640a6e725c47,OpenStack is dropping the py2.7 support in ussuri cycle.,ABANDONED,2019-10-30 08:49:35.000000000,2019-11-28 16:45:29.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-10-30 08:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/053c141cb25a89a303244a5e3bac312cb910d83d', 'message': 'OpenStack is dropping the py2.7 support in ussuri cycle.\n\noctavia-lib is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I412626410710eb4778ce00feb067640a6e725c47\n'}, {'number': 2, 'created': '2019-11-08 05:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/495b4f731df0380a7dbb7520f6d2baaa494a5401', 'message': 'OpenStack is dropping the py2.7 support in ussuri cycle.\n\noctavia-lib is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I412626410710eb4778ce00feb067640a6e725c47\n'}, {'number': 3, 'created': '2019-11-19 07:26:03.000000000', 'files': ['zuul.d/projects.yaml', 'setup.cfg', 'releasenotes/notes/drop-py-2-7-692dc013a5dc5049.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/3d1166a5a5106ee159e8e48886aac449b86234fa', 'message': 'OpenStack is dropping the py2.7 support in ussuri cycle.\n\noctavia-lib is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I412626410710eb4778ce00feb067640a6e725c47\n'}]",9,692077,3d1166a5a5106ee159e8e48886aac449b86234fa,13,4,3,30619,,,0,"OpenStack is dropping the py2.7 support in ussuri cycle.

octavia-lib is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I412626410710eb4778ce00feb067640a6e725c47
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/77/692077/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'doc/requirements.txt', 'setup.cfg', 'releasenotes/notes/drop-py-2-7-692dc013a5dc5049.yaml', 'tox.ini']",5,053c141cb25a89a303244a5e3bac312cb910d83d,692077,"envlist = docs,py37,pep8","envlist = docs,py27,py37,pep8",6,5
openstack%2Fcharm-guide~master~I894bc0f7ab929d5930740aaab9d15e77db74b42a,openstack/charm-guide,master,I894bc0f7ab929d5930740aaab9d15e77db74b42a,Fix link to upgrade method in 19.10 RNs,MERGED,2019-11-22 18:31:46.000000000,2019-11-28 16:44:35.000000000,2019-11-28 16:42:45.000000000,"[{'_account_id': 20635}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 18:31:46.000000000', 'files': ['doc/source/1910.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bdbb3deb1bff729b42456597ab97efce31fa2e1b', 'message': 'Fix link to upgrade method in 19.10 RNs\n\nChange-Id: I894bc0f7ab929d5930740aaab9d15e77db74b42a\n'}]",0,695753,bdbb3deb1bff729b42456597ab97efce31fa2e1b,8,3,1,30561,,,0,"Fix link to upgrade method in 19.10 RNs

Change-Id: I894bc0f7ab929d5930740aaab9d15e77db74b42a
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/53/695753/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/1910.rst'],1,bdbb3deb1bff729b42456597ab97efce31fa2e1b,fix-upgrade-method-link-in-1910-rns,upgraded. Here we upgrade all units simultaneously but see the `Paused-single-unit`_ method in the `OpenStack Charms Deployment Guide`_ for a more controlled approach:.. _Paused-single-unit: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html#paused-single-unit,upgraded. Here we upgrade all units simultaneously but see `HA with pause/resume`_ in the `OpenStack Charms Deployment Guide`_ for a more controlled approach:.. _HA with pause/resume: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html#ha-with-pause-resume,4,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I1fecb562e1315ebfc0406b3ac25b8dac6dfca607,openstack/tripleo-ansible,stable/train,I1fecb562e1315ebfc0406b3ac25b8dac6dfca607,Add LVM2 package install to bootstrap,MERGED,2019-11-27 23:12:49.000000000,2019-11-28 16:43:43.000000000,2019-11-28 16:43:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 23:12:49.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc3e2e0fba4f9f536abadea95c31b6ecb9c81623', 'message': 'Add LVM2 package install to bootstrap\n\nThis package is needed by ceph and should already be part of our\nbootstrap process on pre-deployed hosts.\n\nChange-Id: I1fecb562e1315ebfc0406b3ac25b8dac6dfca607\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 19f33cf53d9e20f154f70d44464aacf67293e20e)\n'}]",0,696416,dc3e2e0fba4f9f536abadea95c31b6ecb9c81623,12,4,1,14985,,,0,"Add LVM2 package install to bootstrap

This package is needed by ceph and should already be part of our
bootstrap process on pre-deployed hosts.

Change-Id: I1fecb562e1315ebfc0406b3ac25b8dac6dfca607
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 19f33cf53d9e20f154f70d44464aacf67293e20e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/696416/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml']",2,dc3e2e0fba4f9f536abadea95c31b6ecb9c81623,fix-ci-stable/train, - lvm2 - openstack-heat-agents - os-net-config - puppet-tripleo, - openstack-heat-agents - puppet-tripleo - os-net-config,6,4
openstack%2Fmagnum~stable%2Frocky~I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156,openstack/magnum,stable/rocky,I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156,k8s_fedora: Label master nodes with kubectl,MERGED,2019-11-27 09:19:07.000000000,2019-11-28 15:58:15.000000000,2019-11-28 15:58:15.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-11-27 09:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/53d1fee2bf180ad04993c23f3cc20b9cae13bbb7', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n\nConflicts:\n        magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh\n\n(cherry picked from commit 6b0fa1805f954c13d64c2905e7e9f3e4ba33c5ae)\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\n(cherry picked from commit 3afd376c5e1550021bf2a0e854e0a370c849a1fc)\n(cherry picked from commit 49791feb580d009ef0bff75d46630e4ebe8c34f9)\n'}, {'number': 2, 'created': '2019-11-27 11:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f32993363f0ce1a2a0dd62e14b999321841b4991', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n'}, {'number': 3, 'created': '2019-11-27 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5f85d441c2d0903280b8d74b17201b00f72803d1', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\n(cherry picked from commit 6b0fa1805f954c13d64c2905e7e9f3e4ba33c5ae)\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n'}, {'number': 4, 'created': '2019-11-27 14:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/276fdba0ca437042cf2ecbf7833b23c2219d943e', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n(cherry picked from commit 9dc92654d269e4d4b78c83d01854306f852e2812)\n'}, {'number': 5, 'created': '2019-11-27 15:07:33.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7aa12a550db9fd50bb89631646903d2d868fcc00', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n(cherry picked from commit 9dc92654d269e4d4b78c83d01854306f852e2812)\n'}]",2,696253,7aa12a550db9fd50bb89631646903d2d868fcc00,19,4,5,21785,,,0,"k8s_fedora: Label master nodes with kubectl

Due to [0], we can not label nodes with
node-role.kubernetes.io/master="""". We need to do it with the kubernetes
API.

[0] https://github.com/kubernetes/kubernetes/issues/75457

story: 2006459
task: 36872

Change-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156
Signed-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>
(cherry picked from commit 9dc92654d269e4d4b78c83d01854306f852e2812)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/53/696253/4 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",2,53d1fee2bf180ad04993c23f3cc20b9cae13bbb7,rocky-7.1.1,"done # Label self as master until [ ""ok"" = ""$(curl --silent http://127.0.0.1:8080/healthz)"" ] && \ kubectl patch node ${INSTANCE_NAME} \ --patch '{""metadata"": {""labels"": {""node-role.kubernetes.io/master"": """"}}}' do echo ""Trying to label master node with node-role.kubernetes.io/master=\""\"""" sleep 5s done ",done,10,2
openstack%2Fmagnum~stable%2Frocky~I2ba32844b822ffc14da043e6ef7d071bb62a22ee,openstack/magnum,stable/rocky,I2ba32844b822ffc14da043e6ef7d071bb62a22ee,k8s: stop introspecting instance name,MERGED,2019-11-27 15:07:33.000000000,2019-11-28 15:49:18.000000000,2019-11-28 15:49:18.000000000,"[{'_account_id': 1004}, {'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-11-27 15:07:33.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-master.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-minion.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ca7eed7ac09fc02d2feca32acf951ca9c59f56f0', 'message': 'k8s: stop introspecting instance name\n\nWe kept introspecting the name of the instance with the assumption\nthat the network always existed under .novalocal\n\nThis is not always the case, with certain variables changed inside\nNeutron it is possible to control this, therefore, leading in failing\ndeploys.\n\nWith this change, we pass the instance name directly to the cluster\nand therefore we always have the accurate name.\n\nTask: 36160\nStory: 2006371\n\nChange-Id: I2ba32844b822ffc14da043e6ef7d071bb62a22ee\n(cherry picked from commit 2f2d05c826a35dbc89199f49560bb68cd14f49f4)\n'}]",0,696320,ca7eed7ac09fc02d2feca32acf951ca9c59f56f0,9,5,1,28022,,,0,"k8s: stop introspecting instance name

We kept introspecting the name of the instance with the assumption
that the network always existed under .novalocal

This is not always the case, with certain variables changed inside
Neutron it is possible to control this, therefore, leading in failing
deploys.

With this change, we pass the instance name directly to the cluster
and therefore we always have the accurate name.

Task: 36160
Story: 2006371

Change-Id: I2ba32844b822ffc14da043e6ef7d071bb62a22ee
(cherry picked from commit 2f2d05c826a35dbc89199f49560bb68cd14f49f4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/20/696320/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-master.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-minion.yaml']",10,ca7eed7ac09fc02d2feca32acf951ca9c59f56f0,rocky-7.1.1, --hostname-override=${INSTANCE_NAME} \, HOSTNAME_OVERRIDE=$(hostname --short | sed 's/\.novalocal//') --hostname-override=${HOSTNAME_OVERRIDE} \,13,20
openstack%2Frally-openstack~master~Ia16de2d5aca1888df3473aa70aa4bc5d36300a45,openstack/rally-openstack,master,Ia16de2d5aca1888df3473aa70aa4bc5d36300a45,Propose rally-openstack 1.6.0,MERGED,2019-11-28 14:20:42.000000000,2019-11-28 15:43:49.000000000,2019-11-28 15:43:49.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 14:20:42.000000000', 'files': ['CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/da5385f10f812d8cd3d405dbdd0dd8524a0a7da6', 'message': 'Propose rally-openstack 1.6.0\n\nChange-Id: Ia16de2d5aca1888df3473aa70aa4bc5d36300a45\n'}]",0,696583,da5385f10f812d8cd3d405dbdd0dd8524a0a7da6,6,2,1,9545,,,0,"Propose rally-openstack 1.6.0

Change-Id: Ia16de2d5aca1888df3473aa70aa4bc5d36300a45
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/83/696583/1 && git format-patch -1 --stdout FETCH_HEAD,['CHANGELOG.rst'],1,da5385f10f812d8cd3d405dbdd0dd8524a0a7da6,vmtasks,"[1.6.0] - 2019-11-29 -------------------- Please note that Python 2.7 will reach the end of its life on January 1st, 2020. A future version of Rally will drop support for Python 2.7, it will happen soon. Also, the same will happen with support of Python 3.4 and Python 3.5 Added ~~~~~ Scenarios: * NeutronNetworks.create_and_bind_ports * BarbicanOrders.list * BarbicanOrders.create_key_and_delete * BarbicanOrders.create_certificate_and_delete * BarbicanOrders.create_asymmetric_and_deleteFixed ~~~~~ * Handling of errors while cleaning up octavia resources * Missing project_id key for several Octavia API calls `Launchpad-bug #1819284 <https://launchpad.net/bugs/1833235>`_ ",unreleased ----------,26,5
openstack%2Frally-openstack~master~I1cf53a75f702787808daebf85231d43bfe57daea,openstack/rally-openstack,master,I1cf53a75f702787808daebf85231d43bfe57daea,Get back VMTasks scenarios,MERGED,2019-11-27 16:00:58.000000000,2019-11-28 15:43:49.000000000,2019-11-28 15:43:49.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 16:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/72f6121d281c5ab98d230712d8c096c6f18c56c3', 'message': 'Get back VMTasks scenarios\n\nChange-Id: I1cf53a75f702787808daebf85231d43bfe57daea\n'}, {'number': 2, 'created': '2019-11-28 11:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/75ee1251cc197b40e7bbbc506e5793079340dbc1', 'message': 'Get back VMTasks scenarios\n\nChange-Id: I1cf53a75f702787808daebf85231d43bfe57daea\n'}, {'number': 3, 'created': '2019-11-28 12:36:39.000000000', 'files': ['rally-jobs/neutron.yaml', 'rally_openstack/contexts/network/allow_ssh.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/60dac07aea397ae7894c681e7c17306bab082457', 'message': 'Get back VMTasks scenarios\n\nWe need to check existing security group rules in proper way at\nallow_ash context\n\nChange-Id: I1cf53a75f702787808daebf85231d43bfe57daea\n'}]",0,696336,60dac07aea397ae7894c681e7c17306bab082457,11,2,3,9545,,,0,"Get back VMTasks scenarios

We need to check existing security group rules in proper way at
allow_ash context

Change-Id: I1cf53a75f702787808daebf85231d43bfe57daea
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/36/696336/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/neutron.yaml', 'rally_openstack/contexts/network/allow_ssh.py', 'CHANGELOG.rst']",3,72f6121d281c5ab98d230712d8c096c6f18c56c3,vmtasks,* Improved check for existing rules at *allow_ssh* context. ,,140,6
openstack%2Fsahara~master~I166675f2e30cac6a1c1bc5974c96c9c4c4e416bf,openstack/sahara,master,I166675f2e30cac6a1c1bc5974c96c9c4c4e416bf,"WIP Reenabe py3, drop py2",ABANDONED,2019-10-28 09:07:02.000000000,2019-11-28 15:21:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-28 09:07:02.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/a4f141b201b743be425dfdbd579960ebfd8536ab', 'message': ""WIP Reenabe py3, drop py2\n\nThis change is a placeholder for now, it requires several changes:\n- the job definition in sahara-tests should switch to py3 for\n  ussuri/master by default;\n- the image building jobs should be ported to CentOS 8,\n  or at worst on the latest CentOS 7 with py3.\n\nWhat I'd like to avoid is reviews which do not know about\nthe status breaking what we have (especially some of the jobs).\nChange-Id: I166675f2e30cac6a1c1bc5974c96c9c4c4e416bf\n""}]",0,691635,a4f141b201b743be425dfdbd579960ebfd8536ab,3,1,1,10459,,,0,"WIP Reenabe py3, drop py2

This change is a placeholder for now, it requires several changes:
- the job definition in sahara-tests should switch to py3 for
  ussuri/master by default;
- the image building jobs should be ported to CentOS 8,
  or at worst on the latest CentOS 7 with py3.

What I'd like to avoid is reviews which do not know about
the status breaking what we have (especially some of the jobs).
Change-Id: I166675f2e30cac6a1c1bc5974c96c9c4c4e416bf
",git fetch https://review.opendev.org/openstack/sahara refs/changes/35/691635/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,a4f141b201b743be425dfdbd579960ebfd8536ab,zuul-py3,"envlist = py37,pep8,genpolicybasepython = python3basepython = python2","envlist = py27,py37,pep8,genpolicybasepython = python3[testenv:debug-py27] basepython = python2.7 commands = oslo_debug_helper -t sahara/tests/unit {posargs} basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",6,23
openstack%2Fironic~stable%2Frocky~I968606a300bc43675d7bd07f73de37967ef80c26,openstack/ironic,stable/rocky,I968606a300bc43675d7bd07f73de37967ef80c26,Add timeout when querying agent's command statuses,ABANDONED,2019-11-28 09:39:27.000000000,2019-11-28 15:06:32.000000000,,"[{'_account_id': 10118}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-28 09:39:27.000000000', 'files': ['releasenotes/notes/get-commands-status-timeout-ecbac91ea149e755.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a343cadb7d6a60029c9b81c342153a53413c343b', 'message': ""Add timeout when querying agent's command statuses\n\nOtherwise the node can get locked up for a significant amount of time.\nIt conforms to the behaviour of all other (POST) HTTP requests done to\nagent.\n\nStory: 2006946\nTask: 37626\nChange-Id: I968606a300bc43675d7bd07f73de37967ef80c26\n(cherry picked from commit 33a84d94eb4d495312e3ba750b194213737a8933)\n""}]",0,696485,a343cadb7d6a60029c9b81c342153a53413c343b,6,5,1,23851,,,0,"Add timeout when querying agent's command statuses

Otherwise the node can get locked up for a significant amount of time.
It conforms to the behaviour of all other (POST) HTTP requests done to
agent.

Story: 2006946
Task: 37626
Change-Id: I968606a300bc43675d7bd07f73de37967ef80c26
(cherry picked from commit 33a84d94eb4d495312e3ba750b194213737a8933)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/696485/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/get-commands-status-timeout-ecbac91ea149e755.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,a343cadb7d6a60029c9b81c342153a53413c343b,get-commands-status-timeout-stable/train-stable/stein-stable/rocky,"from ironic import confCONF = conf.CONF agent_url = self.node.driver_internal_info.get('agent_url') mock_get.assert_called_once_with( '%(agent_url)s/%(api_version)s/commands' % { 'agent_url': agent_url, 'api_version': CONF.agent.agent_api_version}, timeout=CONF.agent.command_timeout)",,17,1
openstack%2Fnetworking-ovn~stable%2Fstein~I828d04dca62dfd913460048694d49fdba3956001,openstack/networking-ovn,stable/stein,I828d04dca62dfd913460048694d49fdba3956001,Enable tempest DNS tests,MERGED,2019-11-13 10:22:47.000000000,2019-11-28 15:00:36.000000000,2019-11-28 14:56:46.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-13 10:22:47.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/extensions.py', 'doc/source/admin/features.rst', 'devstack/local.conf.sample', 'devstack/override-defaults', 'devstack/lib/networking-ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c68b04acc75bbab0f87270d9613e7373b23e9218', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nAfter OVS 2.12 release with merged patch [1] this test should be enabled:\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\n\n[1] https://patchwork.ozlabs.org/patch/1102717/\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n(cherry picked from commit 349f68e7f377e51a4dc51d97a7f6172d976f2be8)\n'}]",0,694031,c68b04acc75bbab0f87270d9613e7373b23e9218,12,4,1,24791,,,0,"Enable tempest DNS tests

This patch is enabling the tempest DNS tests in our gate which was
previously being skipped.

The ""dns-integration"" integration is being enabled as a supported
extension and q-dns has been enabled by default in gate.

The following tests are now expect to run in gate:

neutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain
neutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name
neutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name

After OVS 2.12 release with merged patch [1] this test should be enabled:
neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name

[1] https://patchwork.ozlabs.org/patch/1102717/

Co-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>

Change-Id: I828d04dca62dfd913460048694d49fdba3956001
(cherry picked from commit 349f68e7f377e51a4dc51d97a7f6172d976f2be8)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/31/694031/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/extensions.py', 'doc/source/admin/features.rst', 'devstack/local.conf.sample', 'devstack/override-defaults', 'devstack/lib/networking-ovn', 'zuul.d/networking-ovn-jobs.yaml']",7,c68b04acc75bbab0f87270d9613e7373b23e9218,dns-tests-stable/stein," # TODO(mjozefcz): Remove this blacklist when OVS 2.12 will be released and # https://patchwork.ozlabs.org/patch/1102717/ merged. tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest)"" q-dns: true",,20,2
openstack%2Fnetworking-ovn~stable%2Ftrain~Ie3fcb1a30236b3b8edf6b25d9e3110858426cf42,openstack/networking-ovn,stable/train,Ie3fcb1a30236b3b8edf6b25d9e3110858426cf42,Added OSP16 & train to pluging spec.,ABANDONED,2019-11-26 07:57:11.000000000,2019-11-28 13:55:22.000000000,,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 29350}]","[{'number': 1, 'created': '2019-11-26 07:57:11.000000000', 'files': ['plugin.spec'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/84e83e90f70d2dcdeeb908e85f93875df210ba43', 'message': 'Added OSP16 & train to pluging spec.\n\nChange-Id: Ie3fcb1a30236b3b8edf6b25d9e3110858426cf42\n'}]",0,696029,84e83e90f70d2dcdeeb908e85f93875df210ba43,6,6,1,19118,,,0,"Added OSP16 & train to pluging spec.

Change-Id: Ie3fcb1a30236b3b8edf6b25d9e3110858426cf42
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/29/696029/1 && git format-patch -1 --stdout FETCH_HEAD,['plugin.spec'],1,84e83e90f70d2dcdeeb908e85f93875df210ba43,," - ""16"" - train",,2,0
openstack%2Fkolla~master~Ic1ec732d9e1671cc336cd003610a7eab2fcbe8e6,openstack/kolla,master,Ic1ec732d9e1671cc336cd003610a7eab2fcbe8e6,Start README.rst with a better title,MERGED,2019-11-28 02:00:55.000000000,2019-11-28 13:51:25.000000000,2019-11-28 13:49:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-28 02:00:55.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1dd003a24b874b5f3715e7c661489f6ab2718bcc', 'message': 'Start README.rst with a better title\n\nNow that we are using gitea the contents of our README.rst are\nmore prominently displayed. Starting it with a ""Team and repository\ntags"" title is a bit confusing. This change makes it start with the\nname of the project instead.\n\nChange-Id: Ic1ec732d9e1671cc336cd003610a7eab2fcbe8e6\n'}]",0,696431,1dd003a24b874b5f3715e7c661489f6ab2718bcc,8,3,1,30408,,,0,"Start README.rst with a better title

Now that we are using gitea the contents of our README.rst are
more prominently displayed. Starting it with a ""Team and repository
tags"" title is a bit confusing. This change makes it start with the
name of the project instead.

Change-Id: Ic1ec732d9e1671cc336cd003610a7eab2fcbe8e6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/696431/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1dd003a24b874b5f3715e7c661489f6ab2718bcc,dev,============== Kolla Overview ==============,======================== Team and repository tags ====================================== Kolla Overview ==============,3,6
openstack%2Fhorizon~master~Iaf3d33d3200f2fed934bde4d7373674de722a9e1,openstack/horizon,master,Iaf3d33d3200f2fed934bde4d7373674de722a9e1,Pin jQuery to < 2; fixing unusable dashboard JS ('indexOf' of undefined),MERGED,2019-11-06 09:46:37.000000000,2019-11-28 13:33:16.000000000,2019-11-28 13:31:03.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-06 09:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f04565c6341def772a986b248274b6dfe98a68b3', 'message': ""Pin jQuery to < 2; fixing unusable dashboard JS ('indexOf' of undefined)\n\nOtherwise we get lots of:\n\n    Uncaught TypeError: Cannot read property 'indexOf' of undefined\n\nAnd the dashboard is completely unusable.\n\n(Actually, <3 works, but the project-requirements-change.py Zuul check\ndoesn't pass when this isn't <2.)\n\nChange-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1\n""}, {'number': 2, 'created': '2019-11-28 07:05:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8a984300eb71317109717b7fbcb9c388d336e764', 'message': ""Pin jQuery to < 2; fixing unusable dashboard JS ('indexOf' of undefined)\n\nOtherwise we get lots of:\n\n    Uncaught TypeError: Cannot read property 'indexOf' of undefined\n\nAnd the dashboard is completely unusable.\n\n(Actually, <3 works, but the project-requirements-change.py Zuul check\ndoesn't pass when this isn't <2.)\n\nCloses-Bug: #1794028\nChange-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1\n""}]",0,693148,8a984300eb71317109717b7fbcb9c388d336e764,30,5,2,31241,,,0,"Pin jQuery to < 2; fixing unusable dashboard JS ('indexOf' of undefined)

Otherwise we get lots of:

    Uncaught TypeError: Cannot read property 'indexOf' of undefined

And the dashboard is completely unusable.

(Actually, <3 works, but the project-requirements-change.py Zuul check
doesn't pass when this isn't <2.)

Closes-Bug: #1794028
Change-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/693148/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f04565c6341def772a986b248274b6dfe98a68b3,master-fix-jquery-dependency,"XStatic-jQuery>=1.8.2.1,<2 # MIT License",XStatic-jQuery>=1.8.2.1 # MIT License,1,1
openstack%2Fnova~stable%2Fstein~I613ad054f77b1a0a9d2e7718c0c531d11525283c,openstack/nova,stable/stein,I613ad054f77b1a0a9d2e7718c0c531d11525283c,Join migration_context and flavor in Migration.instance,MERGED,2019-11-26 13:40:43.000000000,2019-11-28 13:33:13.000000000,2019-11-27 13:25:33.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-26 13:40:43.000000000', 'files': ['nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/objects/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/603171bd5c5ce354086ce32e980f9bb8383069bf', 'message': ""Join migration_context and flavor in Migration.instance\n\nThis builds on Ifc7dcde8a659710acecb1967da15c632c69d675c\nby joining the Migration.instance migration_context and\nflavor to avoid lazy-loading those later.\n\nWhen tracking an incoming migration, the ResourceTracker\n_pair_instances_to_migrations can hit a KeyError since it's\nnot yet tracking the instance on that dest host yet. Then\n_update_usage_from_migrations will lazy-load the Migration.instance\nfield and access the migration_context and flavor fields on the\ninstance, which get lazy-loaded, which kind of defeats part of\nthe purpose of that optimization.\n\nChange-Id: I613ad054f77b1a0a9d2e7718c0c531d11525283c\nRelated-Bug: #1540526\n(cherry picked from commit c15e36e5849b6baddebb4b39475a6bf03ec5908b)\n(cherry picked from commit e2b4e3346e20615473328e7ae90b5083500961ca)\n""}]",0,696083,603171bd5c5ce354086ce32e980f9bb8383069bf,18,7,1,6873,,,0,"Join migration_context and flavor in Migration.instance

This builds on Ifc7dcde8a659710acecb1967da15c632c69d675c
by joining the Migration.instance migration_context and
flavor to avoid lazy-loading those later.

When tracking an incoming migration, the ResourceTracker
_pair_instances_to_migrations can hit a KeyError since it's
not yet tracking the instance on that dest host yet. Then
_update_usage_from_migrations will lazy-load the Migration.instance
field and access the migration_context and flavor fields on the
instance, which get lazy-loaded, which kind of defeats part of
the purpose of that optimization.

Change-Id: I613ad054f77b1a0a9d2e7718c0c531d11525283c
Related-Bug: #1540526
(cherry picked from commit c15e36e5849b6baddebb4b39475a6bf03ec5908b)
(cherry picked from commit e2b4e3346e20615473328e7ae90b5083500961ca)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/696083/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/objects/migration.py']",3,603171bd5c5ce354086ce32e980f9bb8383069bf,bug/1540526," self._context, self.instance_uuid, expected_attrs=['migration_context', 'flavor'])"," self._context, self.instance_uuid)",11,6
openstack%2Fceilometer~stable%2Ftrain~Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,openstack/ceilometer,stable/train,Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,Add loadbalancer resource type.,MERGED,2019-11-12 20:12:00.000000000,2019-11-28 13:30:40.000000000,2019-11-28 13:23:26.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 20:12:00.000000000', 'files': ['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6f77f2d53e5bcd51da4c46c2d1bec3d708ccaef6', 'message': 'Add loadbalancer resource type.\n\nAdds the loadbalancer resource type for usage\nwith the network.services.lb.* metrics.\n\nChange-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\nCloses-Bug: #1848286\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n(cherry picked from commit cd9e199076b1e3cb8ef6e6bc3e7844b0d23f7e48)\n'}]",0,693916,6f77f2d53e5bcd51da4c46c2d1bec3d708ccaef6,35,2,1,2276,,,0,"Add loadbalancer resource type.

Adds the loadbalancer resource type for usage
with the network.services.lb.* metrics.

Change-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f
Closes-Bug: #1848286
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
(cherry picked from commit cd9e199076b1e3cb8ef6e6bc3e7844b0d23f7e48)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/16/693916/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml']",2,6f77f2d53e5bcd51da4c46c2d1bec3d708ccaef6,bug/1848286-stable/train, - resource_type: loadbalancer metrics: network.services.lb.outgoing.bytes: network.services.lb.incoming.bytes: network.services.lb.pool: network.services.lb.listener: network.services.lb.member: network.services.lb.health_monitor: network.services.lb.loadbalancer: network.services.lb.total.connections: network.services.lb.active.connections:,,18,0
openstack%2Foctavia-tempest-plugin~master~Ie3650056a20685fdd7f8dbc0c8646785bd38e27c,openstack/octavia-tempest-plugin,master,Ie3650056a20685fdd7f8dbc0c8646785bd38e27c,Add Barbican HTTP and TLS-terminated HTTPS load balancing on the same IP and backend test scenario,NEW,2019-11-28 12:09:06.000000000,2019-11-28 13:23:15.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 29681}]","[{'number': 1, 'created': '2019-11-28 12:09:06.000000000', 'files': ['octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a5f794a529708b2e79d629a2eff6337becabc8bf', 'message': 'Add Barbican HTTP and TLS-terminated HTTPS load balancing on the same IP and backend test scenario\n\nUpdate test_tls_barbican test\nto support HTTP and TLS-terminated HTTPS load balancing on the same IP and backend - have both an HTTP and TERMINATED_HTTPS listener that use the same back-end pool (and therefore, probably respond with the exact same content regardless of whether the web client uses the HTTP or HTTPS protocol to connect).\n\nChange-Id: Ie3650056a20685fdd7f8dbc0c8646785bd38e27c\n'}]",0,696528,a5f794a529708b2e79d629a2eff6337becabc8bf,4,3,1,29681,,,0,"Add Barbican HTTP and TLS-terminated HTTPS load balancing on the same IP and backend test scenario

Update test_tls_barbican test
to support HTTP and TLS-terminated HTTPS load balancing on the same IP and backend - have both an HTTP and TERMINATED_HTTPS listener that use the same back-end pool (and therefore, probably respond with the exact same content regardless of whether the web client uses the HTTP or HTTPS protocol to connect).

Change-Id: Ie3650056a20685fdd7f8dbc0c8646785bd38e27c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/28/696528/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'],1,a5f794a529708b2e79d629a2eff6337becabc8bf,," @decorators.idempotent_id('ADD_ID') def test_basic_tls__multiple_listener_traffic(self): # Create HTTP Listener listener_http_name = data_utils.rand_name(""lb_member_listener1-http"") listener_http_kwargs = { const.NAME: listener_http_name, const.PROTOCOL: const.HTTP, const.PROTOCOL_PORT: '80', const.LOADBALANCER_ID: self.lb_id, const.DEFAULT_POOL_ID: self.pool_id, } listener_http = self.mem_listener_client.create_listener(**listener_http_kwargs) self.listener_http_id = listener_http[const.ID] self.addCleanup( self.mem_listener_client.cleanup_listener, self.listener_http_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) # Create TERMINATED_HTTPS Listener listener_tls_name = data_utils.rand_name(""lb_member_listener2-tls"") listener_tls_kwargs = { const.NAME: listener_tls_name, const.PROTOCOL: const.TERMINATED_HTTPS, const.PROTOCOL_PORT: '443', const.LOADBALANCER_ID: self.lb_id, const.DEFAULT_POOL_ID: self.pool_id, const.DEFAULT_TLS_CONTAINER_REF: self.server_secret_ref, } listener_tls = self.mem_listener_client.create_listener(**listener_tls_kwargs) self.listener_tls_id = listener_tls[const.ID] self.addCleanup( self.mem_listener_client.cleanup_listener, self.listener_tls_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) # Test HTTP listener load balancing. self.check_members_balanced(self.lb_vip_address, protocol='http', verify=False, protocol_port=80) # Test HTTPS listener load balancing. # Note: certificate validation tests will follow this test self.check_members_balanced(self.lb_vip_address, protocol='https', verify=False, protocol_port=443) def _verify_cb(connection, x509, errno, errdepth, retcode): """"""Callback for certificate validation."""""" # don't validate names of root certificates if errdepth != 0: return True if errno == 0: received_cn = x509.get_subject().commonName received_name = self._get_cert_name(received_cn) expected_cn = '{}.example.com'.format(self.server_uuid) msg = ('ERROR: Received certificate ""{received_name}"" with CN ' '{received_cn} is not the expected certificate ' '""default"" with CN {expected_cn}.'.format( received_name=received_name, received_cn=received_cn, expected_cn=expected_cn)) # Make sure the certificate is the one we generated self.assertEqual(expected_cn, received_cn, message=msg) else: LOG.error('Certificate with CN: {0} failed validation with ' 'OpenSSL verify errno {1}'.format( x509.get_subject().commonName, errno)) return False return True context = SSL.Context(SSL.SSLv23_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() ",,93,0
openstack%2Fmonasca-log-api~master~I3909027440b3af91d5c4fb964e862dedceaa6bed,openstack/monasca-log-api,master,I3909027440b3af91d5c4fb964e862dedceaa6bed,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 15:36:04.000000000,2019-11-28 13:17:14.000000000,2019-11-28 13:12:06.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 15:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/c121cfa204c3ef409f75594848a33accb615209e', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-log-api is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I3909027440b3af91d5c4fb964e862dedceaa6bed\n'}, {'number': 2, 'created': '2019-11-16 14:23:09.000000000', 'files': ['releasenotes/notes/drop-py-2-7-02f3af38da6f6634.yaml', 'test-requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/98f8469157778464b11e48edb24ea270a7c022ef', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-log-api is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I3909027440b3af91d5c4fb964e862dedceaa6bed\n'}]",0,694578,98f8469157778464b11e48edb24ea270a7c022ef,12,2,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-log-api is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: I3909027440b3af91d5c4fb964e862dedceaa6bed
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/78/694578/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-02f3af38da6f6634.yaml', 'test-requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini']",5,c121cfa204c3ef409f75594848a33accb615209e,drop-py27-support,"envlist = py37,pep8,cover","envlist = py27,py37,pep8,cover",10,15
openstack%2Fnetworking-ovn~master~I931ba4f7ca193b022ab00c1e3a78dead9bee9c4a,openstack/networking-ovn,master,I931ba4f7ca193b022ab00c1e3a78dead9bee9c4a,Added OSP16 & train to pluging spec.,MERGED,2019-11-26 07:51:22.000000000,2019-11-28 13:11:52.000000000,2019-11-27 20:57:44.000000000,"[{'_account_id': 6773}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 29350}]","[{'number': 1, 'created': '2019-11-26 07:51:22.000000000', 'files': ['plugin.spec'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b53b9aa65744b843d6f1de1b7d1b96f0adc33d56', 'message': 'Added OSP16 & train to pluging spec.\n\nChange-Id: I931ba4f7ca193b022ab00c1e3a78dead9bee9c4a\n'}]",0,696027,b53b9aa65744b843d6f1de1b7d1b96f0adc33d56,21,6,1,19118,,,0,"Added OSP16 & train to pluging spec.

Change-Id: I931ba4f7ca193b022ab00c1e3a78dead9bee9c4a
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/27/696027/1 && git format-patch -1 --stdout FETCH_HEAD,['plugin.spec'],1,b53b9aa65744b843d6f1de1b7d1b96f0adc33d56,osp16_migration," - ""16"" - train",,2,0
openstack%2Fneutron-vpnaas~master~I69fa9da5d6b92fc30b64037b025c61eaf292872a,openstack/neutron-vpnaas,master,I69fa9da5d6b92fc30b64037b025c61eaf292872a,Use list of self.processes keys in Python2/3,MERGED,2019-11-20 03:53:20.000000000,2019-11-28 13:04:18.000000000,2019-11-28 13:02:59.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 03:53:20.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/e2122edb8fe5af625e2946e76ffa576be288b36a', 'message': 'Use list of self.processes keys in Python2/3\n\nChange-Id: I69fa9da5d6b92fc30b64037b025c61eaf292872a\nCloses-Bug: #1853223\n'}]",0,695130,e2122edb8fe5af625e2946e76ffa576be288b36a,11,8,1,12860,,,0,"Use list of self.processes keys in Python2/3

Change-Id: I69fa9da5d6b92fc30b64037b025c61eaf292872a
Closes-Bug: #1853223
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/30/695130/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/services/vpn/device_drivers/ipsec.py'],1,e2122edb8fe5af625e2946e76ffa576be288b36a,bug/1853223," for process_id, process in list(self.processes.items()):"," for process_id, process in self.processes.items():",1,1
openstack%2Fheat-tempest-plugin~master~I844650911b63ff05832e3b972ced4dc310e8398f,openstack/heat-tempest-plugin,master,I844650911b63ff05832e3b972ced4dc310e8398f,Remove dns servers from server_signal template,NEW,2019-11-25 12:06:01.000000000,2019-11-28 13:03:42.000000000,,"[{'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 16771}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 12:06:01.000000000', 'files': ['heat_tempest_plugin/tests/scenario/templates/test_server_signal.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/bc325312b7509627c12d2b748ea019547a1b9de7', 'message': 'Remove dns servers from server_signal template\n\nThere is no way to overwrite dns servers list, so\nremove them to use cluster network settings directly.\n\nChange-Id: I844650911b63ff05832e3b972ced4dc310e8398f\n'}]",0,695890,bc325312b7509627c12d2b748ea019547a1b9de7,10,4,1,16771,,,0,"Remove dns servers from server_signal template

There is no way to overwrite dns servers list, so
remove them to use cluster network settings directly.

Change-Id: I844650911b63ff05832e3b972ced4dc310e8398f
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/90/695890/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/tests/scenario/templates/test_server_signal.yaml'],1,bc325312b7509627c12d2b748ea019547a1b9de7,,," dns_servers: type: comma_delimited_list default: [""8.8.8.8"", ""8.8.4.4""] dns_nameservers: {get_param: dns_servers}",0,4
openstack%2Fkuryr-kubernetes~master~Ide0c7d2480469bca711039ee5b7d12f92078a8b6,openstack/kuryr-kubernetes,master,Ide0c7d2480469bca711039ee5b7d12f92078a8b6,Add support for different loadbalancer algorithms,MERGED,2019-11-26 14:15:50.000000000,2019-11-28 12:52:32.000000000,2019-11-28 12:50:54.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-26 14:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/99c9c19d468839c7c3540b8a0f2219a22a65797e', 'message': 'Add support for different loadbalancer algorithms\n\nChange-Id: Ide0c7d2480469bca711039ee5b7d12f92078a8b6\n'}, {'number': 2, 'created': '2019-11-27 11:30:08.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'devstack/local.conf.ovn.sample', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/config.py', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/14103941dcf88181a5bbab59cd0a033e0a9d5b46', 'message': 'Add support for different loadbalancer algorithms\n\nChange-Id: Ide0c7d2480469bca711039ee5b7d12f92078a8b6\n'}]",0,696093,14103941dcf88181a5bbab59cd0a033e0a9d5b46,21,5,2,23567,,,0,"Add support for different loadbalancer algorithms

Change-Id: Ide0c7d2480469bca711039ee5b7d12f92078a8b6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/93/696093/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.ovn.sample', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/config.py', 'devstack/plugin.sh', 'devstack/settings']",5,99c9c19d468839c7c3540b8a0f2219a22a65797e,ovn-lb-algorithm,KURYR_LB_ALGORITHM=${KURYR_LB_ALGORITHM:-ROUND_ROBIN},,9,1
openstack%2Fmonasca-notification~master~Ic69f559bc0bcd791fa33a978cd27cf1de10dba2d,openstack/monasca-notification,master,Ic69f559bc0bcd791fa33a978cd27cf1de10dba2d,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:07:17.000000000,2019-11-28 12:44:28.000000000,2019-11-28 12:40:09.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/068a40e5866c453b8f7b0822aa6a41ea816ddb9e', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-notification is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: Ic69f559bc0bcd791fa33a978cd27cf1de10dba2d\n'}, {'number': 2, 'created': '2019-11-16 16:58:14.000000000', 'files': ['releasenotes/notes/drop-py-2-7-285e126a13e4b5a7.yaml', 'test-requirements.txt', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/fc8c53f2213879661b3a4b83dfbe84f8e0067d58', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-notification is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: Ic69f559bc0bcd791fa33a978cd27cf1de10dba2d\n'}]",0,694587,fc8c53f2213879661b3a4b83dfbe84f8e0067d58,12,2,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-notification is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: Ic69f559bc0bcd791fa33a978cd27cf1de10dba2d
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/87/694587/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-285e126a13e4b5a7.yaml', 'test-requirements.txt', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",6,068a40e5866c453b8f7b0822aa6a41ea816ddb9e,drop-py27-support,"envlist = py37,pep8,cover","envlist = py27,py37,pep8,cover",7,8
openstack%2Fmagnum~stable%2Frocky~I2b6fa6f6c839d86b935feb9e1fa9f044d1835b34,openstack/magnum,stable/rocky,I2b6fa6f6c839d86b935feb9e1fa9f044d1835b34,Fix proportional autoscaler image,MERGED,2019-11-21 09:08:02.000000000,2019-11-28 12:23:57.000000000,2019-11-28 12:23:57.000000000,"[{'_account_id': 2463}, {'_account_id': 20498}, {'_account_id': 21785}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-11-21 09:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2d817957061ffe12766e6174683cc0a62d9826b8', 'message': 'Fix proportional autoscaler image\n\nThe proportional autoscaler was not taken from\nthe real gcr.io/google_containers but but from\ndocker.io/googlecontainer.\n\nstory: 2003993\ntask: 30492\n\nChange-Id: I2b6fa6f6c839d86b935feb9e1fa9f044d1835b34\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit c0e51198a3116d2ddc81edba220b56ebea528fd8)\n'}, {'number': 2, 'created': '2019-11-27 14:15:33.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e430da9be22c375937015c0e5676f6c8583aa7c8', 'message': 'Fix proportional autoscaler image\n\nThe proportional autoscaler was not taken from\nthe real gcr.io/google_containers but but from\ndocker.io/googlecontainer.\n\nstory: 2003993\ntask: 30492\n\nChange-Id: I2b6fa6f6c839d86b935feb9e1fa9f044d1835b34\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit c0e51198a3116d2ddc81edba220b56ebea528fd8)\n'}]",0,695371,e430da9be22c375937015c0e5676f6c8583aa7c8,18,5,2,21785,,,0,"Fix proportional autoscaler image

The proportional autoscaler was not taken from
the real gcr.io/google_containers but but from
docker.io/googlecontainer.

story: 2003993
task: 30492

Change-Id: I2b6fa6f6c839d86b935feb9e1fa9f044d1835b34
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit c0e51198a3116d2ddc81edba220b56ebea528fd8)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/71/695371/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'],1,2d817957061ffe12766e6174683cc0a62d9826b8,2003993-stable/rocky,_autoscaler_prefix=${CONTAINER_INFRA_PREFIX:-gcr.io/google_containers/},_autoscaler_prefix=${CONTAINER_INFRA_PREFIX:-docker.io/googlecontainer/},1,1
openstack%2Fnova~stable%2Fstein~I559883b9f4d9ced0a20444c76f94540d3231cdd9,openstack/nova,stable/stein,I559883b9f4d9ced0a20444c76f94540d3231cdd9,Added openssh-client into bindep,MERGED,2019-10-29 07:02:35.000000000,2019-11-28 12:21:01.000000000,2019-11-28 12:16:12.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-29 07:02:35.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/6272046bc82deb3ffe94da9abf0e4ad79a59af70', 'message': ""Added openssh-client into bindep\n\nCurrently containers with Nova doesn't include openssh-client package,\nwhich is required to perform tempest test e.g.:\ntempest.api.compute.admin.test_migrations.MigrationsAdminTest.test_cold_migration.\nThis package is installed by default in cloud images, but its not\nincluded in container images.\n\nChange-Id: I559883b9f4d9ced0a20444c76f94540d3231cdd9\n(cherry picked from commit f37623089ea854b9d31d471de2fdb0bb003a4d45)\n""}]",1,691809,6272046bc82deb3ffe94da9abf0e4ad79a59af70,25,19,1,20676,,,0,"Added openssh-client into bindep

Currently containers with Nova doesn't include openssh-client package,
which is required to perform tempest test e.g.:
tempest.api.compute.admin.test_migrations.MigrationsAdminTest.test_cold_migration.
This package is installed by default in cloud images, but its not
included in container images.

Change-Id: I559883b9f4d9ced0a20444c76f94540d3231cdd9
(cherry picked from commit f37623089ea854b9d31d471de2fdb0bb003a4d45)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/691809/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,6272046bc82deb3ffe94da9abf0e4ad79a59af70,,openssh-client [platform:dpkg] openssh-clients [platform:rpm],,2,0
openstack%2Fmagnum~stable%2Frocky~Iab131745854b0b908be17bd17c7510cd54dde1f5,openstack/magnum,stable/rocky,Iab131745854b0b908be17bd17c7510cd54dde1f5,Using Fedora Atomic 29 as default image,MERGED,2019-11-27 09:42:59.000000000,2019-11-28 12:03:09.000000000,2019-11-28 12:03:09.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 09:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/aa650f90eec01d0d43eacfbe9825a5d201ce9539', 'message': ""Using Fedora Atomic 29 as default image\n\nFedora Atomic 27 has end of life for a while, it's time to replace it\nwith Fedora Atomic 29 now.\n\nTask: 36356\nStory: 2006441\n\nChange-Id: Iab131745854b0b908be17bd17c7510cd54dde1f5\n(cherry picked from commit 703de97cd469f8d077c247e55034f723343c50d0)\n""}, {'number': 2, 'created': '2019-11-27 10:38:25.000000000', 'files': ['magnum/tests/contrib/gate_hook.sh', 'devstack/lib/magnum', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9c79084af67848aada1b3974dac2ed9a6dd9d89c', 'message': ""Using Fedora Atomic 29 as default image\n\nFedora Atomic 27 has end of life for a while, it's time to replace it\nwith Fedora Atomic 29 now.\n\nTask: 36356\nStory: 2006441\n\nChange-Id: Iab131745854b0b908be17bd17c7510cd54dde1f5\n(cherry picked from commit 703de97cd469f8d077c247e55034f723343c50d0)\n""}]",0,696262,9c79084af67848aada1b3974dac2ed9a6dd9d89c,9,3,2,28022,,,0,"Using Fedora Atomic 29 as default image

Fedora Atomic 27 has end of life for a while, it's time to replace it
with Fedora Atomic 29 now.

Task: 36356
Story: 2006441

Change-Id: Iab131745854b0b908be17bd17c7510cd54dde1f5
(cherry picked from commit 703de97cd469f8d077c247e55034f723343c50d0)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/62/696262/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,aa650f90eec01d0d43eacfbe9825a5d201ce9539,fa29-rocky,,,0,0
openstack%2Fnetworking-ovn~master~I7a6f0f68a26381226686b410edb00dc6a56b5efb,openstack/networking-ovn,master,I7a6f0f68a26381226686b410edb00dc6a56b5efb,Fix agent extension support after hashring merge,MERGED,2019-11-18 19:58:39.000000000,2019-11-28 11:58:12.000000000,2019-11-28 11:55:42.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-18 19:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/920915aae79dbde71534aa3db7f0e8458c089e09', 'message': ""Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on one server, producing a complete cache on that server.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn't fire.\n\nThis patch deletes the in-memory cache of agents and their last\nupdate times and instead stores the last update times in the OVSDB\nso they will be available to each worker.\n\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n""}, {'number': 2, 'created': '2019-11-19 01:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8d058e6405f1fa89499818c6ba5c0b5fe3703bca', 'message': ""Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on one server, producing a complete cache on that server.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn't fire.\n\nThis patch deletes the in-memory cache of agents and their last\nupdate times and instead stores the last update times in the OVSDB\nso they will be available to each worker.\n\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n""}, {'number': 3, 'created': '2019-11-20 20:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0a7aebcc79482c41bedc14b1ab945f82d0d699a2', 'message': ""Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on one server, producing a complete cache on that server.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn't fire.\n\nThis patch deletes the in-memory cache of agents and their last\nupdate times and instead stores the last update times in the OVSDB\nso they will be available to each worker.\n\nNOTE: If ovn-controller is gracefully stopped, it deletes the Chassis\nand the agents will not show as dead. They will disappear, hence the\noriginal cache. We could cache Chassis entries in ovsdb somewhere,\nbut that gets a little messy.\n\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n""}, {'number': 4, 'created': '2019-11-20 21:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1c996d11f1bf525b4a88596e1c724bdef5d2fd9b', 'message': ""Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on one server, producing a complete cache on that server.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn't fire.\n\nThis patch deletes the in-memory cache of agents and their last\nupdate times and instead stores the last update times in the OVSDB\nso they will be available to each worker.\n\nNOTE: If ovn-controller is gracefully stopped, it deletes the Chassis\nand the agents will not show as dead. They will disappear, hence the\noriginal cache. We could cache Chassis entries in ovsdb somewhere,\nbut that gets a little messy.\n\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n""}, {'number': 5, 'created': '2019-11-21 00:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9821deb2babfbe7aa23ea1a384b01c0f7a70a694', 'message': ""Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on each server, producing complete caches on those servers.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn't fire.\n\nThis patch deletes the in-memory cache of agents and their last\nupdate times and instead stores the last update times in the OVSDB\nso they will be available to each worker.\n\nNOTE: If ovn-controller is gracefully stopped, it deletes the Chassis\nand the agents will not show as dead. They will disappear, hence the\noriginal cache. We could cache Chassis entries in ovsdb somewhere,\nbut that gets a little messy.\n\nCloses-Bug: #1853386\nCloses-Bug: #1833394\n\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n""}, {'number': 6, 'created': '2019-11-21 19:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a854355184fa8dee2b23b5d6b90171514bc71ccc', 'message': ""Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on one server, producing a complete cache on that server.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn't fire.\n\nThis patch deletes the in-memory cache of agents and their last\nupdate times and instead stores the last update times in the OVSDB\nso they will be available to each worker.\n\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n""}, {'number': 7, 'created': '2019-11-21 22:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/428b07f8f80089afc73a036b274fc01c2c522211', 'message': ""Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on one server, producing a complete cache on that server.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn't fire.\n\nThis patch deletes the in-memory cache of agents and their last\nupdate times and instead stores the last update times in the OVSDB\nso they will be available to each worker.\n\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n""}, {'number': 8, 'created': '2019-11-25 17:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/abdd7297deb02fe043a64e367efa8f18b08cd7f6', 'message': 'Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on each server, producing complete caches on those servers.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn\'t fire.\n\nThis patch deletes the in-memory AgentStats cache and instead stores\nthe values in the OVSDB and caches the chassis is memory based off of\nthe table contents instead of event triggers. This cache is required\ninc ase ovn-controller is gracefully and temporarily shut down to keep\nthe Chassis from disappearing instead of showing up as ""down"".\n\nCloses-Bug: #1853386\nCloses-Bug: #1833394\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n'}, {'number': 9, 'created': '2019-11-26 16:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c117761262f57f7a85ea0932a7f82b5d68787b14', 'message': 'Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on each server, producing complete caches on those servers.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn\'t fire.\n\nThis patch deletes the in-memory AgentStats cache and instead stores\nthe values in the OVSDB and caches the chassis is memory based off of\nthe table contents instead of event triggers. This cache is required\ninc ase ovn-controller is gracefully and temporarily shut down to keep\nthe Chassis from disappearing instead of showing up as ""down"".\n\nCloses-Bug: #1853386\nCloses-Bug: #1833394\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n'}, {'number': 10, 'created': '2019-11-26 16:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d506e5b489c51f4cb72867b6b27a1c06d4bd1a50', 'message': 'Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on each server, producing complete caches on those servers.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn\'t fire.\n\nThis patch deletes the in-memory AgentStats cache and instead stores\nthe values in the OVSDB and caches the chassis is memory based off of\nthe table contents instead of event triggers. This cache is required\ninc ase ovn-controller is gracefully and temporarily shut down to keep\nthe Chassis from disappearing instead of showing up as ""down"".\n\nCloses-Bug: #1853386\nCloses-Bug: #1833394\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n'}, {'number': 11, 'created': '2019-11-27 15:52:37.000000000', 'files': ['networking_ovn/agent/stats.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/agent/test_stats.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/70c3d06656e15e11a0daf9c3732a21c8ce601c4d', 'message': 'Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on each server, producing complete caches on those servers.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn\'t fire.\n\nThis patch deletes the in-memory AgentStats cache and instead stores\nthe values in the OVSDB and caches the chassis is memory based off of\nthe table contents instead of event triggers. This cache is required\nin case ovn-controller is gracefully and temporarily shut down to keep\nthe Chassis from disappearing instead of showing up as ""down"".\n\nCloses-Bug: #1853386\nCloses-Bug: #1833394\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n'}]",21,694840,70c3d06656e15e11a0daf9c3732a21c8ce601c4d,53,8,11,5756,,,0,"Fix agent extension support after hashring merge

The agent API extension support made use of a cache that was filled
by processing events. Before hashring support, all events were
processed on each server, producing complete caches on those servers.
After distributing those events via the hashring, the cache for each
process would only have a partial list of the hash, so lookups for
agents would often fail. In addition, class on which the events were
registered was no longer being used, so the events wouldn't fire.

This patch deletes the in-memory AgentStats cache and instead stores
the values in the OVSDB and caches the chassis is memory based off of
the table contents instead of event triggers. This cache is required
in case ovn-controller is gracefully and temporarily shut down to keep
the Chassis from disappearing instead of showing up as ""down"".

Closes-Bug: #1853386
Closes-Bug: #1833394
Change-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/40/694840/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/stats.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/agent/test_stats.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py', 'networking_ovn/tests/functional/test_metadata_agent.py']",10,920915aae79dbde71534aa3db7f0e8458c089e09,,,"from networking_ovn.agent import stats def test_updating_metadata_doesnt_update_controller_stats(self): self.nb_cfg = None def read_stats(): try: self.nb_cfg = stats.AgentStats.get_stat(chassis.uuid).nb_cfg except ovn_exc.AgentStatsNotFound: return False return True chassis = self.sb_api.lookup('Chassis', self.chassis_name) self.assertNotIn(ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY, chassis.external_ids) exc = AssertionError('AgentStats for chassis %(chassis_uuid)s not ' 'found' % {'chassis_uuid': chassis.uuid}) n_utils.wait_until_true(read_stats, timeout=5, exception=exc) new_nb_cfg = self.nb_cfg + 1 row_event = MetadataAgentHealthEvent(chassis.name, new_nb_cfg) self.handler.watch_event(row_event) self.sb_api.update_metadata_health_status( chassis.name, new_nb_cfg).execute(check_error=True) self.assertTrue(row_event.wait()) self.assertEqual(stats.AgentStats.get_stat(chassis.uuid).nb_cfg, self.nb_cfg) ",39,177
openstack%2Fkolla-ansible~master~I32da11b600f6c15284c6a7241bf83bc7ae3aa3c7,openstack/kolla-ansible,master,I32da11b600f6c15284c6a7241bf83bc7ae3aa3c7,Optimize reconfigure action for memcached,ABANDONED,2019-11-28 11:51:24.000000000,2019-11-28 11:55:50.000000000,,[],"[{'number': 1, 'created': '2019-11-28 11:51:24.000000000', 'files': ['ansible/roles/swift/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c78c1f58badfa2bd419a62e2ebe2e453f21fa679', 'message': 'Optimize reconfigure action for memcached\n\nChange-Id: I32da11b600f6c15284c6a7241bf83bc7ae3aa3c7\nCloses-Bug: #1842637\nPartially-implements: blueprint better-reconfigure\n'}]",0,696524,c78c1f58badfa2bd419a62e2ebe2e453f21fa679,2,0,1,19779,,,0,"Optimize reconfigure action for memcached

Change-Id: I32da11b600f6c15284c6a7241bf83bc7ae3aa3c7
Closes-Bug: #1842637
Partially-implements: blueprint better-reconfigure
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/696524/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/defaults/main.yml'],1,c78c1f58badfa2bd419a62e2ebe2e453f21fa679,bug/1842637," container_name: swift_proxy_server image: ""{{ swift_proxy_server_image_full }}"" volumes: - ""{{ node_config_directory }}/swift/:/var/lib/kolla/swift/:ro"" - ""{{ node_config_directory }}/swift-proxy-server/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" swift-rsyncd: container_name: swift_rsyncd group: swift-rsyncd enabled: true image: ""{{ swift_rsyncd_image_full }}"" volumes: - ""{{ node_config_directory }}/swift-rsyncd/:{{ container_config_directory }}/:ro"" - ""{{ swift_devices_mount_point }}:{{ swift_devices_mount_point }}:shared"" - ""/etc/localtime:/etc/localtime:ro"" swift-account-server: container_name: swift_account_server group: swift-account-server enabled: true image: ""{{ swift_account_image_full }}"" volumes: - ""{{ node_config_directory }}/swift/:/var/lib/kolla/swift/:ro"" - ""{{ node_config_directory }}/swift-account-server/:{{ container_config_directory }}/:ro"" - ""{{ swift_devices_mount_point }}:{{ swift_devices_mount_point }}:shared"" - ""/etc/localtime:/etc/localtime:ro"" swift-account-auditor: container_name: swift_account_auditor group: swift-account-auditor enabled: true image: ""{{ swift_account_image_full }}"" volumes: - ""{{ node_config_directory }}/swift/:/var/lib/kolla/swift/:ro"" - ""{{ node_config_directory }}/swift-account-auditor/:{{ container_config_directory }}/:ro"" - ""{{ swift_devices_mount_point }}:{{ swift_devices_mount_point }}:shared"" - ""/etc/localtime:/etc/localtime:ro"" swift-account-replication-server: container_name: swift_account_replication_server group: swift-account-replication-server enabled: true image: ""{{ swift_account_image_full }}"" volumes: - ""{{ node_config_directory }}/swift/:/var/lib/kolla/swift/:ro"" - ""{{ node_config_directory }}/swift-account-replication-server/:{{ container_config_directory }}/:ro"" - ""{{ swift_devices_mount_point }}:{{ swift_devices_mount_point }}:shared"" - ""/etc/localtime:/etc/localtime:ro"" swift-account-replicator: container_name: swift_account_replicator group: swift-account-replicator enabled: true image: ""{{ swift_account_image_full }}"" volumes: - ""{{ node_config_directory }}/swift/:/var/lib/kolla/swift/:ro"" - ""{{ node_config_directory }}/swift-account-replicator/:{{ container_config_directory }}/:ro"" - ""{{ swift_devices_mount_point }}:{{ swift_devices_mount_point }}:shared"" - ""/etc/localtime:/etc/localtime:ro""",,55,1
openstack%2Fkuryr-kubernetes~stable%2Ftrain~Ibf0662f71c3837f97c2e9ce815a48a0955c50e89,openstack/kuryr-kubernetes,stable/train,Ibf0662f71c3837f97c2e9ce815a48a0955c50e89,Fix deletion of ports on a pool,MERGED,2019-11-27 17:00:20.000000000,2019-11-28 11:55:39.000000000,2019-11-28 11:53:39.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-27 17:00:20.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ac78921b5e10b39a57a627ef8fbc7552bc044d48', 'message': 'Fix deletion of ports on a pool\n\nWe should ensure the ports pools dict that is being\ninterated do not change over time, causing the deletion\nof the ports to fail. A dict copy is made to avoid this.\n\nChange-Id: Ibf0662f71c3837f97c2e9ce815a48a0955c50e89\nCloses-bug: 1853281\n(cherry picked from commit 1067b9bf3e17829148182bbfcf108f06a5b483d9)\n'}]",0,696361,ac78921b5e10b39a57a627ef8fbc7552bc044d48,9,3,1,27032,,,0,"Fix deletion of ports on a pool

We should ensure the ports pools dict that is being
interated do not change over time, causing the deletion
of the ports to fail. A dict copy is made to avoid this.

Change-Id: Ibf0662f71c3837f97c2e9ce815a48a0955c50e89
Closes-bug: 1853281
(cherry picked from commit 1067b9bf3e17829148182bbfcf108f06a5b483d9)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/61/696361/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,ac78921b5e10b39a57a627ef8fbc7552bc044d48,bug/1853281-stable/train," available_ports_pools = self._available_ports_pools.copy() for pool_key, ports in available_ports_pools.items(): available_ports_pools = self._available_ports_pools.copy() for pool_key, ports in available_ports_pools.items():"," for pool_key, ports in self._available_ports_pools.items(): for pool_key, ports in self._available_ports_pools.items():",4,2
openstack%2Fkuryr-kubernetes~stable%2Ftrain~Ie2cacc86e745bbd7da7254f7adfd9b41370936ab,openstack/kuryr-kubernetes,stable/train,Ie2cacc86e745bbd7da7254f7adfd9b41370936ab,Prevent Kuryr restart due to connection issue,MERGED,2019-11-27 16:47:25.000000000,2019-11-28 11:54:18.000000000,2019-11-28 11:52:52.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-27 16:47:25.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pipeline.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/30ba5655284e3104748d8ca926121bd543f3934d', 'message': 'Prevent Kuryr restart due to connection issue\n\nIn case the connection to Keystone is broken Kuryr controller is instantly\nrestarted. This may result in leftovers loadbalancers as a Kubernetes\nservice deletion can happen while the lbaas is still in PENDING_CREATE\nand if the controller is restarted, the deletion event will be gone.\nIn this commit we give Kuryr a chance to retry the event before restarting.\n\nChange-Id: Ie2cacc86e745bbd7da7254f7adfd9b41370936ab\nCloses-bug: 1853460\n(cherry picked from commit 11ccc6611811cc1397ace28780415c93ffa8b467)\n'}]",0,696355,30ba5655284e3104748d8ca926121bd543f3934d,9,4,1,27032,,,0,"Prevent Kuryr restart due to connection issue

In case the connection to Keystone is broken Kuryr controller is instantly
restarted. This may result in leftovers loadbalancers as a Kubernetes
service deletion can happen while the lbaas is still in PENDING_CREATE
and if the controller is restarted, the deletion event will be gone.
In this commit we give Kuryr a chance to retry the event before restarting.

Change-Id: Ie2cacc86e745bbd7da7254f7adfd9b41370936ab
Closes-bug: 1853460
(cherry picked from commit 11ccc6611811cc1397ace28780415c93ffa8b467)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/696355/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/pipeline.py'],1,30ba5655284e3104748d8ca926121bd543f3934d,bug/695182-stable/train,"from requests import exceptions as requests_exc from keystoneauth1 import exceptions as key_exc consumer, exceptions=( exceptions.ResourceNotReady, key_exc.connection.ConnectFailure, requests_exc.ConnectionError)))"," consumer, exceptions=exceptions.ResourceNotReady))",8,1
openstack%2Fproject-config~master~I6d5e668bee9e37b96578f4f319db79fb30526682,openstack/project-config,master,I6d5e668bee9e37b96578f4f319db79fb30526682,"Revert ""zuul layout: include openstacksdk in zuul tenant for jobs""",MERGED,2019-11-28 10:42:24.000000000,2019-11-28 11:49:34.000000000,2019-11-28 11:49:34.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 10:42:24.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aa1e6e493ecb54d81d821ca305535e4ff9ce1f5e', 'message': 'Revert ""zuul layout: include openstacksdk in zuul tenant for jobs""\n\nThis reverts commit 0ec384f04e2fd12958042053e3b2b7807c5b7620.\n\nIt turns out this project has many, many dependencies which makes a\nton of zuul errors.  Trying a different approach.\n\nChange-Id: I6d5e668bee9e37b96578f4f319db79fb30526682\n'}]",0,696489,aa1e6e493ecb54d81d821ca305535e4ff9ce1f5e,7,2,1,7118,,,0,"Revert ""zuul layout: include openstacksdk in zuul tenant for jobs""

This reverts commit 0ec384f04e2fd12958042053e3b2b7807c5b7620.

It turns out this project has many, many dependencies which makes a
ton of zuul errors.  Trying a different approach.

Change-Id: I6d5e668bee9e37b96578f4f319db79fb30526682
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/696489/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,aa1e6e493ecb54d81d821ca305535e4ff9ce1f5e,zuul-imports,, - openstack/openstacksdk,0,1
openstack%2Fneutron~master~Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d,openstack/neutron,master,Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d,Convert Pyroute2 byte results to strings,MERGED,2019-10-02 16:19:10.000000000,2019-11-28 11:48:51.000000000,2019-10-16 17:38:40.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-02 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/719aaf2ef5efa0b40bcc773e2ddc7ef55628b198', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n'}, {'number': 2, 'created': '2019-10-03 13:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4082c14cc2499281be6b88e0c64f3158772cb8a', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n'}, {'number': 3, 'created': '2019-10-09 09:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46a7f4db60b838a73991822b58363ad587a0ffb0', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n'}, {'number': 4, 'created': '2019-10-10 09:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8817a62bf1812dc73a99983a000d9a4556c04be', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n'}, {'number': 5, 'created': '2019-10-10 17:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d76a10fc3becb33f55942ede6788076c3ae989b1', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n'}, {'number': 6, 'created': '2019-10-10 22:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b429e9cd07200e7ad59e3f7378e7fa510a387f1b', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n'}, {'number': 7, 'created': '2019-10-13 05:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb515400c763cf2a341d0adea105a392ecef7aa0', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n'}, {'number': 8, 'created': '2019-10-15 17:25:17.000000000', 'files': ['neutron/tests/unit/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/592b44629905d68b39ec92604b882627f4844908', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n'}]",7,686206,592b44629905d68b39ec92604b882627f4844908,76,9,8,16688,,,0,"Convert Pyroute2 byte results to strings

Pyroute2 can return information structures with values as bytes
instead of strings. In order to unify the output, those byte
parameters will be converted to string. This is needed in case of
having dictionaries with keys as bytes instead of strings.

Change-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d
Closes-Bug: #1846360
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/686206/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",2,719aaf2ef5efa0b40bcc773e2ddc7ef55628b198,bug/1846360," return {key.decode('utf-8') if isinstance(key, six.binary_type) else key: make_serializable(data) for key, data in value.items()} return (value.decode('utf-8') if isinstance(value, six.binary_type) else value) for rule in make_serializable(rules):"," return {key: make_serializable(data) for key, data in value.items()} return value for rule in rules:",23,3
openstack%2Ftripleo-quickstart-extras~master~Id80070fc6fa68e95ad111baee421779a76f67e02,openstack/tripleo-quickstart-extras,master,Id80070fc6fa68e95ad111baee421779a76f67e02,Added support running os_tempest on undercloud,MERGED,2019-11-19 06:08:54.000000000,2019-11-28 11:42:09.000000000,2019-11-28 11:42:09.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-19 06:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2d83392fe977ebab0dc4f863fa875ddb5e1b4b9c', 'message': 'Add undercloud-validate tag for running os_tempest\n\nIn order to run tempest using os_tempest on undercloud,\nwe need to add undercloud-validate tag for the same.\n\nChange-Id: Id80070fc6fa68e95ad111baee421779a76f67e02\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-11-25 06:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac34c44f946c48a0de759f35f98dda2269343388', 'message': 'Added support running os_tempest on undercloud\n\nIn order to run tempest using os_tempest on undercloud,\nwe need to add undercloud-validate tag for the same.\n\nIt also fixes tempest playbook to pull the correct\nskiplist for undercloud.\n\nChange-Id: Id80070fc6fa68e95ad111baee421779a76f67e02\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-11-25 10:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ddd972a1d003d8f4c3769f0d198972a024109614', 'message': 'Added support running os_tempest on undercloud\n\nIn order to run tempest using os_tempest on undercloud,\nwe need to add undercloud-validate tag for the same.\n\nIt also fixes tempest playbook to pull the correct\nskiplist for undercloud.\n\nChange-Id: Id80070fc6fa68e95ad111baee421779a76f67e02\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-11-25 10:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ea9232da407df7cdb7f99a0fab1ffd8cfff31606', 'message': 'Added support running os_tempest on undercloud\n\nIn order to run tempest using os_tempest on undercloud,\nwe need to add undercloud-validate tag for the same.\n\nIt also fixes tempest playbook to pull the correct\nskiplist for undercloud.\n\nChange-Id: Id80070fc6fa68e95ad111baee421779a76f67e02\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-11-26 04:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bce2e6cb3b657c1b90326bdf20bc39ca3c1815eb', 'message': 'Added support running os_tempest on undercloud\n\nIn order to run tempest using os_tempest on undercloud,\nwe need to add undercloud-validate tag for the same.\n\nChange-Id: Id80070fc6fa68e95ad111baee421779a76f67e02\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-11-26 08:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8a3ec8c42eda17b9bf8fc5be40f333f55ef03ac3', 'message': 'Added support running os_tempest on undercloud\n\nIn order to run tempest using os_tempest on undercloud,\nwe need to add undercloud-validate tag for the same.\n\nDonot load skip list for undercloud as it is taken care\nin featureset file itself in order to avoid breakage\nagainst mistral project.\n\nhttps://review.opendev.org/694719\n\nChange-Id: Id80070fc6fa68e95ad111baee421779a76f67e02\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-11-26 14:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/634ea1dffc3715cea9da9702e586e362c0905e5e', 'message': 'Added support running os_tempest on undercloud\n\nIn order to run tempest using os_tempest on undercloud,\nwe need to add undercloud-validate tag for the same.\n\nDonot load skip list for undercloud as it is taken care\nin featureset file itself in order to avoid breakage\nagainst mistral project.\n\nhttps://review.opendev.org/694719\n\nChange-Id: Id80070fc6fa68e95ad111baee421779a76f67e02\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-11-26 19:06:47.000000000', 'files': ['playbooks/multinode-validate.yml', 'playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7e9265f7989568dd5e48ebd0d8e0d486af3952aa', 'message': 'Added support running os_tempest on undercloud\n\nIn order to run tempest using os_tempest on undercloud,\nwe need to add undercloud-validate tag for the same.\n\nDonot load skip list for undercloud as it is taken care\nin featureset file itself in order to avoid breakage\nagainst mistral project.\n\nhttps://review.opendev.org/694719\n\nChange-Id: Id80070fc6fa68e95ad111baee421779a76f67e02\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",1,694907,7e9265f7989568dd5e48ebd0d8e0d486af3952aa,47,8,8,12393,,,0,"Added support running os_tempest on undercloud

In order to run tempest using os_tempest on undercloud,
we need to add undercloud-validate tag for the same.

Donot load skip list for undercloud as it is taken care
in featureset file itself in order to avoid breakage
against mistral project.

https://review.opendev.org/694719

Change-Id: Id80070fc6fa68e95ad111baee421779a76f67e02
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/07/694907/8 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-validate.yml'],1,2d83392fe977ebab0dc4f863fa875ddb5e1b4b9c,ostempest, - undercloud-validate,,1,0
openstack%2Fcookbook-openstack-network~master~I5d1af49a56a86a66a1d2509b4ca306b6e0cdf77c,openstack/cookbook-openstack-network,master,I5d1af49a56a86a66a1d2509b4ca306b6e0cdf77c,Revert deploying fwaas v2 by default,MERGED,2019-11-27 09:50:42.000000000,2019-11-28 11:41:33.000000000,2019-11-28 11:41:33.000000000,"[{'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 09:50:42.000000000', 'files': ['attributes/default.rb', 'recipes/fwaas.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/ed27001087d37d3b48c5f67761f81fd931b852d7', 'message': 'Revert deploying fwaas v2 by default\n\nCustomer testing has show fwaas v2 to be rather buggy, revert to running\nwith fwaas v1 now. The fwaas project seems to be lacking maintainers\ncurrently, see whether that situation improves until the next cycle.\nOtherwise we may need to drop the service completely, as fwaas v1 has\nbeen removed for Train.\n\nChange-Id: I5d1af49a56a86a66a1d2509b4ca306b6e0cdf77c\n'}]",0,696266,ed27001087d37d3b48c5f67761f81fd931b852d7,6,2,1,13252,,,0,"Revert deploying fwaas v2 by default

Customer testing has show fwaas v2 to be rather buggy, revert to running
with fwaas v1 now. The fwaas project seems to be lacking maintainers
currently, see whether that situation improves until the next cycle.
Otherwise we may need to drop the service completely, as fwaas v1 has
been removed for Train.

Change-Id: I5d1af49a56a86a66a1d2509b4ca306b6e0cdf77c
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/66/696266/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'recipes/fwaas.rb']",2,ed27001087d37d3b48c5f67761f81fd931b852d7,no-fwaas-v2,node.default['openstack']['network_l3']['conf'].tap do |conf| conf['AGENT']['extensions'] = 'fwaas',# Note(jh): Need node.normal here in order to take effect even if this # recipe is included after the l3-agent recipe node.normal['openstack']['network_l3']['conf'].tap do |conf| conf['AGENT']['extensions'] = 'fwaas_v2' conf['fwaas']['driver'] = 'iptables_v2' conf['fwaas']['agent_version'] = 'v2' conf['fwaas']['enabled'] = 'True',3,9
openstack%2Fkuryr-kubernetes~master~I458e00fac26949a472aafd1985eb47ee979d681f,openstack/kuryr-kubernetes,master,I458e00fac26949a472aafd1985eb47ee979d681f,Ensure pools population does not happen until pools are recovered,MERGED,2019-11-26 13:19:20.000000000,2019-11-28 11:39:06.000000000,2019-11-28 10:32:51.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-26 13:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d9154002380e677090295cb1a9a79a1173177f28', 'message': 'Ensure pools population does not happen until pools are recovered\n\nThis patch ensures there is no pool repopulation triggered before\nthe pools are recovered upon a kuryr-controller restart\n\nChange-Id: I458e00fac26949a472aafd1985eb47ee979d681f\n'}, {'number': 2, 'created': '2019-11-26 14:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0bd82470b8025511f9486ee6de31950d1cbf8077', 'message': 'Ensure pools population does not happen until pools are recovered\n\nThis patch ensures there is no pool repopulation triggered before\nthe pools are recovered upon a kuryr-controller restart\n\nCloses-Bug: 1854064\n\nChange-Id: I458e00fac26949a472aafd1985eb47ee979d681f\n'}, {'number': 3, 'created': '2019-11-27 11:50:23.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/14ee23d520fa296a1d23f881262bfdfb3e78ffed', 'message': 'Ensure pools population does not happen until pools are recovered\n\nThis patch ensures there is no pool repopulation triggered before\nthe pools are recovered upon a kuryr-controller restart\n\nCloses-Bug: 1854064\n\nChange-Id: I458e00fac26949a472aafd1985eb47ee979d681f\n'}]",0,696082,14ee23d520fa296a1d23f881262bfdfb3e78ffed,20,6,3,23567,,,0,"Ensure pools population does not happen until pools are recovered

This patch ensures there is no pool repopulation triggered before
the pools are recovered upon a kuryr-controller restart

Closes-Bug: 1854064

Change-Id: I458e00fac26949a472aafd1985eb47ee979d681f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/82/696082/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",2,d9154002380e677090295cb1a9a79a1173177f28,sync-pools, m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True,,31,7
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I45f2cc3664dffa53a733218c38f22ee2ea2ff714,openstack/kuryr-kubernetes,stable/train,I45f2cc3664dffa53a733218c38f22ee2ea2ff714,Avoid race between member addition and namespace deletion,MERGED,2019-11-27 15:26:27.000000000,2019-11-28 11:38:07.000000000,2019-11-28 11:35:57.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 15:26:27.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/36c98a9377553f97be8b4a407e2dd4c48aad175f', 'message': 'Avoid race between member addition and namespace deletion\n\nWhen a member is being added to the loadbalancer (as loadbalancer\ncreation may take some time) it may happen that the namespace\ndeletion action has been already triggered. This impact the L2 mode\nas the members need to get their subnet from the kuryrnet crd object\nif namespace subnet driver is being used. This patch handles that\nexception and skips the member addition since there is no need to\nadd it if it is being deleted.\n\nChange-Id: I45f2cc3664dffa53a733218c38f22ee2ea2ff714\nCloses-Bug: 1853604\n(cherry picked from commit 07e09ce20afef27296f16d46e22744bbf107a661)\n'}]",0,696326,36c98a9377553f97be8b4a407e2dd4c48aad175f,9,4,1,23567,,,0,"Avoid race between member addition and namespace deletion

When a member is being added to the loadbalancer (as loadbalancer
creation may take some time) it may happen that the namespace
deletion action has been already triggered. This impact the L2 mode
as the members need to get their subnet from the kuryrnet crd object
if namespace subnet driver is being used. This patch handles that
exception and skips the member addition since there is no need to
add it if it is being deleted.

Change-Id: I45f2cc3664dffa53a733218c38f22ee2ea2ff714
Closes-Bug: 1853604
(cherry picked from commit 07e09ce20afef27296f16d46e22744bbf107a661)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/26/696326/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,36c98a9377553f97be8b4a407e2dd4c48aad175f,bug/1853604-stable/train," try: member_subnet_id = self._get_pod_subnet(target_ref, target_ip) except k_exc.K8sResourceNotFound: LOG.debug(""Member namespace has been deleted. No "" ""need to add the members as it is "" ""going to be deleted"") continue"," member_subnet_id = self._get_pod_subnet(target_ref, target_ip)",8,2
openstack%2Fironic-python-agent~master~Ib891b3c97f0bfb02af3b59581a451c4b25e03b85,openstack/ironic-python-agent,master,Ib891b3c97f0bfb02af3b59581a451c4b25e03b85,RAID 5/6,MERGED,2019-11-17 23:36:18.000000000,2019-11-28 11:20:23.000000000,2019-11-28 11:18:02.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-17 23:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/37f6d61887865dd011aa5e790fda5935d5230e18', 'message': 'WIP: RAID 5/6\n\nLooks like adding RAID 5/6 support may be easier than most\ncould immagine. The code, as written appears to be safe and\nlogical creating a RAID 5 or RAID 6 volume.\n\nNot that we can really test this in CI, but it seems only\nvalidation code needs to be changed to loosen the constraint.\n\nChange-Id: Ib891b3c97f0bfb02af3b59581a451c4b25e03b85\n'}, {'number': 2, 'created': '2019-11-18 00:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1f82ef9826c0ac69537ce52da93fe5b7af337e6a', 'message': 'WIP: RAID 5/6\n\nLooks like adding RAID 5/6 support may be easier than most\ncould immagine. The code, as written appears to be safe and\nlogical creating a RAID 5 or RAID 6 volume.\n\nNot that we can really test this in CI, but it seems only\nvalidation code needs to be changed to loosen the constraint.\n\nChange-Id: Ib891b3c97f0bfb02af3b59581a451c4b25e03b85\n'}, {'number': 3, 'created': '2019-11-23 01:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f7a0e501c417b7518943609dd24f1745c7ded2ff', 'message': 'RAID 5/6\n\nLooks like adding RAID 5/6 support may be easier than most\ncould immagine. The code, as written appears to be safe and\nlogical creating a RAID 5 or RAID 6 volume.\n\nNot that we can really test this in CI, but it seems only\nvalidation code needs to be changed to loosen the constraint.\n\nChange-Id: Ib891b3c97f0bfb02af3b59581a451c4b25e03b85\n'}, {'number': 4, 'created': '2019-11-27 20:30:31.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/raid5-6-support-0807597c3633a26c.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e4659c94cfffae88c8cc7879cd7130c8ed24e757', 'message': 'RAID 5/6\n\nLooks like adding RAID 5/6 support may be easier than most\ncould immagine. The code, as written appears to be safe and\nlogical creating a RAID 5 or RAID 6 volume.\n\nNot that we can really test this in CI, but it seems only\nvalidation code needs to be changed to loosen the constraint.\n\nChange-Id: Ib891b3c97f0bfb02af3b59581a451c4b25e03b85\n'}]",0,694705,e4659c94cfffae88c8cc7879cd7130c8ed24e757,18,4,4,11655,,,0,"RAID 5/6

Looks like adding RAID 5/6 support may be easier than most
could immagine. The code, as written appears to be safe and
logical creating a RAID 5 or RAID 6 volume.

Not that we can really test this in CI, but it seems only
validation code needs to be changed to loosen the constraint.

Change-Id: Ib891b3c97f0bfb02af3b59581a451c4b25e03b85
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/05/694705/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,37f6d61887865dd011aa5e790fda5935d5230e18,raid5,"SUPPORTED_SOFTWARE_RAID_LEVELS = frozenset(['0', '1', '1+0', '5', '6']) physical_device_count = len(self.list_all_block_devices()) if current_level == '5' and physical_device_count < 3: msg = (""Software RAID configuration is not possible for "" ""RAID level 5 with only %s block devices found."" % physical_device_count) raid_errors.append(msg) if current_level == '6' and physical_device_count < 4: msg = (""Software RAID configuration is not possible for "" ""RAID level 6 with only %s block devices found."" % physical_device_count) raid_errors.append(msg)","SUPPORTED_SOFTWARE_RAID_LEVELS = frozenset(['0', '1', '1+0'])",12,2
openstack%2Fnetworking-ovn~master~Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa,openstack/networking-ovn,master,Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa,Fallback to default network_driver value if octavia not present,MERGED,2019-11-25 09:18:09.000000000,2019-11-28 10:56:45.000000000,2019-11-27 12:57:17.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 09:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f7ffad1b4fe7f8217db838b209a133b944c34260', 'message': ""Fallback to default network_driver value if octavia not present\n\nIn OVN Octavia driver we don't fallback to default network_driver\nconfiguration option value in case of missing octavia module.\n\nWe wouldn't add this module to requirements, so better is to\nfallback. This will prevent functional test failures.\n\nChange-Id: Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa\nCloses-Bug: 1853810\n""}, {'number': 2, 'created': '2019-11-25 13:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/108da384a3cffc6f37f537273814e02979752b16', 'message': ""Fallback to default network_driver value if octavia not present\n\nIn OVN Octavia driver we don't fallback to default network_driver\nconfiguration option value in case of missing octavia module.\n\nWe wouldn't add this module to requirements, so better is to\nfallback. This will prevent functional test failures.\n\nChange-Id: Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa\nCloses-Bug: 1853810\n""}, {'number': 3, 'created': '2019-11-26 09:15:52.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5804e2bb0d03b0a7eeb5705d6bd5983c056cded0', 'message': ""Fallback to default network_driver value if octavia not present\n\nIn OVN Octavia driver we don't fallback to default network_driver\nconfiguration option value in case of missing octavia module.\n\nWe wouldn't add this module to requirements, so better is to\nfallback. This will prevent functional test failures.\n\nChange-Id: Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa\nCloses-Bug: 1853810\n""}]",0,695858,5804e2bb0d03b0a7eeb5705d6bd5983c056cded0,15,3,3,24791,,,0,"Fallback to default network_driver value if octavia not present

In OVN Octavia driver we don't fallback to default network_driver
configuration option value in case of missing octavia module.

We wouldn't add this module to requirements, so better is to
fallback. This will prevent functional test failures.

Change-Id: Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa
Closes-Bug: 1853810
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/58/695858/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,f7ffad1b4fe7f8217db838b209a133b944c34260,bug/1853810," try: CONF.import_group('controller_worker', 'octavia.common.config') name = CONF.controller_worker.network_driver, except ImportError: name = 'network_noop_driver' name=name,"," CONF.import_group('controller_worker', 'octavia.common.config') name=CONF.controller_worker.network_driver,",6,2
openstack%2Fcharm-neutron-openvswitch~master~If4d3b3cd79767b37fe6b74a1d6d399076c122bc8,openstack/charm-neutron-openvswitch,master,If4d3b3cd79767b37fe6b74a1d6d399076c122bc8,Don't enable DVR services when deployed in container,MERGED,2019-09-17 10:37:41.000000000,2019-11-28 10:32:39.000000000,2019-11-28 09:54:40.000000000,"[{'_account_id': 13686}, {'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-09-17 10:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/06f0cf02a46d7dbcbd49db6cdff1c3b1f2482aa8', 'message': ""Don't enable DVR services when deployed in container\n\nChange-Id: If4d3b3cd79767b37fe6b74a1d6d399076c122bc8\nCloses-Bug: #1843557\n""}, {'number': 2, 'created': '2019-09-17 13:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/e8aca8c77d223a66efa13baf0974e160cd563426', 'message': ""Don't enable DVR services when deployed in container\n\nAlso set upper constraint for ``python-cinderclient`` in the\nfunctional test requirements as it relies on the v1 client\nwhich has been removed.  We will not fix this in Amulet, charm\npending migration to the Zaza framework.\n\nChange-Id: If4d3b3cd79767b37fe6b74a1d6d399076c122bc8\nCloses-Bug: #1843557\n""}, {'number': 3, 'created': '2019-10-01 14:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/37912b9d2199f2f936f5280916fd2e7514b5e87b', 'message': ""Don't enable DVR services when deployed in container\n\nAlso set upper constraint for ``python-cinderclient`` in the\nfunctional test requirements as it relies on the v1 client\nwhich has been removed.  We will not fix this in Amulet, charm\npending migration to the Zaza framework.\n\nChange-Id: If4d3b3cd79767b37fe6b74a1d6d399076c122bc8\nCloses-Bug: #1843557\n""}, {'number': 4, 'created': '2019-10-01 16:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/44222993d893b9f2c30bdc82e577f556e74a6ede', 'message': ""Don't enable DVR services when deployed in container\n\nAlso set upper constraint for ``python-cinderclient`` in the\nfunctional test requirements as it relies on the v1 client\nwhich has been removed.  We will not fix this in Amulet, charm\npending migration to the Zaza framework.\n\nChange-Id: If4d3b3cd79767b37fe6b74a1d6d399076c122bc8\nCloses-Bug: #1843557\n""}, {'number': 5, 'created': '2019-11-27 14:20:40.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/4b2935d5a69841d8879dc849a4fba00b348b9b1e', 'message': ""Don't enable DVR services when deployed in container\n\nAlso set upper constraint for ``python-cinderclient`` in the\nfunctional test requirements as it relies on the v1 client\nwhich has been removed.  We will not fix this in Amulet, charm\npending migration to the Zaza framework.\n\nChange-Id: If4d3b3cd79767b37fe6b74a1d6d399076c122bc8\nCloses-Bug: #1843557\n""}]",2,682602,4b2935d5a69841d8879dc849a4fba00b348b9b1e,28,6,5,13686,,,0,"Don't enable DVR services when deployed in container

Also set upper constraint for ``python-cinderclient`` in the
functional test requirements as it relies on the v1 client
which has been removed.  We will not fix this in Amulet, charm
pending migration to the Zaza framework.

Change-Id: If4d3b3cd79767b37fe6b74a1d6d399076c122bc8
Closes-Bug: #1843557
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/02/682602/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py']",3,06f0cf02a46d7dbcbd49db6cdff1c3b1f2482aa8,bug/1843557," return not is_container() and context.NeutronAPIContext()().get( 'enable_dvr', False) return not is_container() and context.NeutronAPIContext()().get( 'enable_l3ha', False) return not is_container() and (use_dvr() or enable_local_dhcp()) return not is_container() and config('enable-local-dhcp-and-metadata')"," return context.NeutronAPIContext()().get('enable_dvr', False) return context.NeutronAPIContext()().get('enable_l3ha', False) return use_dvr() or enable_local_dhcp() return config('enable-local-dhcp-and-metadata')",63,23
openstack%2Fqinling~stable%2Fstein~Ie1db022aba3d7b1d3b0ed4485ab9e715b87434b5,openstack/qinling,stable/stein,Ie1db022aba3d7b1d3b0ed4485ab9e715b87434b5,Fix the CLI in Quick Start Guide,MERGED,2019-11-28 05:33:02.000000000,2019-11-28 10:28:21.000000000,2019-11-28 10:27:03.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 05:33:02.000000000', 'files': ['doc/source/quick_start.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/0bb88ce95822ea7d201a300f123cec97e3e4e88f', 'message': 'Fix the CLI in Quick Start Guide\n\nFix CLI example to include --function argument\nStory: 2006957\nTask: 37647\n\nChange-Id: Ie1db022aba3d7b1d3b0ed4485ab9e715b87434b5\n(cherry picked from commit a48673d54d07a08899a3faf25a7eaf0fec770639)\n'}]",0,696449,0bb88ce95822ea7d201a300f123cec97e3e4e88f,7,3,1,17927,,,0,"Fix the CLI in Quick Start Guide

Fix CLI example to include --function argument
Story: 2006957
Task: 37647

Change-Id: Ie1db022aba3d7b1d3b0ed4485ab9e715b87434b5
(cherry picked from commit a48673d54d07a08899a3faf25a7eaf0fec770639)
",git fetch https://review.opendev.org/openstack/qinling refs/changes/49/696449/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/quick_start.rst'],1,0bb88ce95822ea7d201a300f123cec97e3e4e88f,fix-cli-stable/stein, $ openstack function execution create --function c9195311-9aa7-4748-bd4b-1b0f9c28d858, $ openstack function execution create c9195311-9aa7-4748-bd4b-1b0f9c28d858,1,1
openstack%2Fopenstack-ansible-ceph_client~stable%2Ftrain~I120a6e66351db62bbd6e270495f455a5e34b4a2b,openstack/openstack-ansible-ceph_client,stable/train,I120a6e66351db62bbd6e270495f455a5e34b4a2b,Change group to ceph from cephkeys,MERGED,2019-11-27 16:50:33.000000000,2019-11-28 10:26:53.000000000,2019-11-28 10:25:49.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-27 16:50:33.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/93d7ca8ef07e5ce512979da8853ff82d9ffbd5bb', 'message': ""Change group to ceph from cephkeys\n\nWhen ceph-ansible is used, it tends to use `ceph` group for ceph.conf[1]\nThis make problems for libvirt and cinder/ceph\nas their users are not in ceph group, so don't have access to configs.\n\nThis also updates ceph_stable_release to nautilus\n\n[1] https://github.com/ceph/ceph-ansible/blob/bc701860d541b9f752d0f8cfcbed43979aafb70e/roles/ceph-config/tasks/main.yml#L66-L94\n\nChange-Id: I120a6e66351db62bbd6e270495f455a5e34b4a2b\n(cherry picked from commit cffa6b5d101e7efa7565cde723f9f2f8445ad0b5)\n""}]",0,696357,93d7ca8ef07e5ce512979da8853ff82d9ffbd5bb,8,3,1,28619,,,0,"Change group to ceph from cephkeys

When ceph-ansible is used, it tends to use `ceph` group for ceph.conf[1]
This make problems for libvirt and cinder/ceph
as their users are not in ceph group, so don't have access to configs.

This also updates ceph_stable_release to nautilus

[1] https://github.com/ceph/ceph-ansible/blob/bc701860d541b9f752d0f8cfcbed43979aafb70e/roles/ceph-config/tasks/main.yml#L66-L94

Change-Id: I120a6e66351db62bbd6e270495f455a5e34b4a2b
(cherry picked from commit cffa6b5d101e7efa7565cde723f9f2f8445ad0b5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/57/696357/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,93d7ca8ef07e5ce512979da8853ff82d9ffbd5bb,ceph_group-stable/train,ceph_stable_release: nautiluscephkeys_access_group: ceph,ceph_stable_release: luminouscephkeys_access_group: cephkeys,2,2
openstack%2Fironic-ui~master~Iaedcd8e73871583e4dc16860a81eb7351ffae0a2,openstack/ironic-ui,master,Iaedcd8e73871583e4dc16860a81eb7351ffae0a2,Drop python 2.7 support and testing,MERGED,2019-11-23 14:00:10.000000000,2019-11-28 10:13:36.000000000,2019-11-28 10:10:54.000000000,"[{'_account_id': 1736}, {'_account_id': 10206}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-23 14:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/6fada834a89a59c3fd096b3ec8ecc724df0cab9c', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-ui is ready with python 3 and ok to drop\nthe python 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: Iaedcd8e73871583e4dc16860a81eb7351ffae0a2\n'}, {'number': 2, 'created': '2019-11-27 07:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/7dc652f37412e626b7eae39f7c45e29e3061cc35', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-ui is ready with python 3 and ok to drop\nthe python 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: Iaedcd8e73871583e4dc16860a81eb7351ffae0a2\n'}, {'number': 3, 'created': '2019-11-27 17:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/b4a31effc91c3ed1aa9f756c897e0ab4c609eb41', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-ui is ready with python 3 and ok to drop\nthe python 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: Iaedcd8e73871583e4dc16860a81eb7351ffae0a2\n'}, {'number': 4, 'created': '2019-11-27 17:49:57.000000000', 'files': ['manage.py', '.zuul.yaml', 'package.json', 'ironic_ui/karma.conf.js', 'doc/requirements.txt', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python2-0bf548c3946068af.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/318ed8bc9d5a97991e878db765242089a5ef2787', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-ui is ready with python 3 and ok to drop\nthe python 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: Iaedcd8e73871583e4dc16860a81eb7351ffae0a2\n'}]",3,695801,318ed8bc9d5a97991e878db765242089a5ef2787,25,6,4,10206,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

ironic-ui is ready with python 3 and ok to drop
the python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: Iaedcd8e73871583e4dc16860a81eb7351ffae0a2
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/01/695801/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python2-0bf548c3946068af.yaml']",4,6fada834a89a59c3fd096b3ec8ecc724df0cab9c,drop-py27-support,--- upgrade: - | Python 2.7 support has been dropped. Last release of ironic-ui to support Python 2.7 is OpenStack Train. The minimum version of Python now supported by ironic-ui is Python 3.6. ,,8,15
openstack%2Fcloudkitty~master~If9aca985ebc04cc155d30aa49302413005a7ce97,openstack/cloudkitty,master,If9aca985ebc04cc155d30aa49302413005a7ce97,Switch import's behaviour to absolute imports for json module,MERGED,2019-11-27 18:44:19.000000000,2019-11-28 09:08:16.000000000,2019-11-28 09:06:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-11-27 18:44:19.000000000', 'files': ['cloudkitty/utils/json.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0f0c3327e611be4da6c39c8964cf65beed5b04d9', 'message': ""Switch import's behaviour to absolute imports for json module\n\nDownstream [1], when packaging cloudkitty, we hit the issue of\njson module importing itself, instead of standard library's\nversion.\nThis switch fixes the issue.\n\n[1] https://review.rdoproject.org/r/#/c/23860/\n\nChange-Id: If9aca985ebc04cc155d30aa49302413005a7ce97\n""}]",0,696388,0f0c3327e611be4da6c39c8964cf65beed5b04d9,7,2,1,31068,,,0,"Switch import's behaviour to absolute imports for json module

Downstream [1], when packaging cloudkitty, we hit the issue of
json module importing itself, instead of standard library's
version.
This switch fixes the issue.

[1] https://review.rdoproject.org/r/#/c/23860/

Change-Id: If9aca985ebc04cc155d30aa49302413005a7ce97
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/88/696388/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/utils/json.py'],1,0f0c3327e611be4da6c39c8964cf65beed5b04d9,,from __future__ import absolute_import,,1,0
openstack%2Fcharm-manila-ganesha~master~Id64135605ef152518f6b6eaa947ab2727961ada6,openstack/charm-manila-ganesha,master,Id64135605ef152518f6b6eaa947ab2727961ada6,Add a dedicated network space binding for tenant access,MERGED,2019-11-22 16:41:27.000000000,2019-11-28 08:48:02.000000000,2019-11-28 08:48:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/3c92c87c298d588fbd78fc4cda9c9e6d5e3f6d20', 'message': 'Add a dedicated network space binding for tenant access\n\nChange-Id: Id64135605ef152518f6b6eaa947ab2727961ada6\n'}, {'number': 2, 'created': '2019-11-27 10:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/709f4f0a8e69ad48dd0f9f1b518a97b7c8b11c56', 'message': 'Add a dedicated network space binding for tenant access\n\nChange-Id: Id64135605ef152518f6b6eaa947ab2727961ada6\n'}, {'number': 3, 'created': '2019-11-27 10:41:46.000000000', 'files': ['src/metadata.yaml', 'src/lib/charm/openstack/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/e7095de8074a58c53f35e94b3efbf5c6af1fedf4', 'message': 'Add a dedicated network space binding for tenant access\n\nChange-Id: Id64135605ef152518f6b6eaa947ab2727961ada6\n'}]",0,695720,e7095de8074a58c53f35e94b3efbf5c6af1fedf4,15,4,3,20634,,,0,"Add a dedicated network space binding for tenant access

Change-Id: Id64135605ef152518f6b6eaa947ab2727961ada6
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/20/695720/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/metadata.yaml', 'src/lib/charm/openstack/manila_ganesha.py']",2,3c92c87c298d588fbd78fc4cda9c9e6d5e3f6d20,feature/dedicated-space,import charmhelpers.contrib.network.ip as ch_net_ip return ch_net_ip.get_relation_ip('tenant-storage'),from charms_openstack.ip import resolve_address return resolve_address(),4,2
openstack%2Fpuppet-nova~master~I57789d555319887a32c0fc7cf05c7e0b20c7d5c7,openstack/puppet-nova,master,I57789d555319887a32c0fc7cf05c7e0b20c7d5c7,Remove references to nova-network packages and services,MERGED,2019-11-27 09:02:45.000000000,2019-11-28 08:40:07.000000000,2019-11-28 08:40:07.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 09:02:45.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/715043f3e162308608fc9d06585bdba166194829', 'message': 'Remove references to nova-network packages and services\n\nnova-network is finally being removed from nova. Deployment of\nnova-network service was removed from puppet-nova [1] but there are\nstill references to packages and services that does not longer exist.\n\n[1] https://review.opendev.org/#/c/658403/\n\nChange-Id: I57789d555319887a32c0fc7cf05c7e0b20c7d5c7\n'}]",0,696248,715043f3e162308608fc9d06585bdba166194829,8,4,1,16312,,,0,"Remove references to nova-network packages and services

nova-network is finally being removed from nova. Deployment of
nova-network service was removed from puppet-nova [1] but there are
still references to packages and services that does not longer exist.

[1] https://review.opendev.org/#/c/658403/

Change-Id: I57789d555319887a32c0fc7cf05c7e0b20c7d5c7
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/48/696248/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,715043f3e162308608fc9d06585bdba166194829,,, $network_package_name = 'openstack-nova-network' $network_service_name = 'openstack-nova-network' $network_package_name = 'nova-network' $network_service_name = 'nova-network',0,4
openstack%2Fnetworking-sfc~master~I22629c59da983f47ef8b1862afb9a62bdfd78b02,openstack/networking-sfc,master,I22629c59da983f47ef8b1862afb9a62bdfd78b02,[Functional tests] Fix SIGHUP handling tests,MERGED,2019-09-26 09:09:38.000000000,2019-11-28 08:40:06.000000000,2019-09-26 16:07:50.000000000,"[{'_account_id': 841}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 09:09:38.000000000', 'files': ['networking_sfc/tests/functional/test_service.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0644862c8beedd902a7d739be524699edc9b61d3', 'message': '[Functional tests] Fix SIGHUP handling tests\n\nTests in networking_sfc.functional.test_server module are testing how\nservice is handling SIGHUP signal.\n\nRecently this was changed in Oslo.service with [1] and our tests\nwere failing because they were still expecting that after sending\nSIGHUP to the process, stop() and than start() method will be called.\n\nBut as our services uses ""mutate"" as restart method, since [1] such\nprocess don\'t executes stop() and start() after SIGHUP. It now executes\nonly reset() method.\nSimilar change was recently done in Neutron\'s functional tests in [2].\nThis patch reflects that change in networking-sfc functional tests.\n\n[1] https://review.opendev.org/#/c/641907/\n[2] https://review.opendev.org/#/c/680001/\n\nChange-Id: I22629c59da983f47ef8b1862afb9a62bdfd78b02\nCloses-Bug: #1842659\n'}]",0,684977,0644862c8beedd902a7d739be524699edc9b61d3,10,4,1,11975,,,0,"[Functional tests] Fix SIGHUP handling tests

Tests in networking_sfc.functional.test_server module are testing how
service is handling SIGHUP signal.

Recently this was changed in Oslo.service with [1] and our tests
were failing because they were still expecting that after sending
SIGHUP to the process, stop() and than start() method will be called.

But as our services uses ""mutate"" as restart method, since [1] such
process don't executes stop() and start() after SIGHUP. It now executes
only reset() method.
Similar change was recently done in Neutron's functional tests in [2].
This patch reflects that change in networking-sfc functional tests.

[1] https://review.opendev.org/#/c/641907/
[2] https://review.opendev.org/#/c/680001/

Change-Id: I22629c59da983f47ef8b1862afb9a62bdfd78b02
Closes-Bug: #1842659
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/77/684977/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/tests/functional/test_service.py'],1,0644862c8beedd902a7d739be524699edc9b61d3,bug/1842659," def _fake_reset(self): with open(self.temp_file, 'ab') as f: f.write(test_server.FAKE_RESET_MSG) expected_msg = ( test_server.FAKE_START_MSG * workers + test_server.FAKE_RESET_MSG * (workers + 1))", expected_msg = test_server.FAKE_START_MSG * workers * 2,7,1
openstack%2Frequirements~master~I2706c5f294ca8458138a4934db016ee401613f4e,openstack/requirements,master,I2706c5f294ca8458138a4934db016ee401613f4e,Updated from generate-constraints,ABANDONED,2019-11-28 06:14:39.000000000,2019-11-28 08:33:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-28 06:14:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/04f9944386ee189d8bc7a926f2620e563d497d48', 'message': 'Updated from generate-constraints\n\nChange-Id: I2706c5f294ca8458138a4934db016ee401613f4e\n'}]",0,696453,04f9944386ee189d8bc7a926f2620e563d497d48,3,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I2706c5f294ca8458138a4934db016ee401613f4e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/696453/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,04f9944386ee189d8bc7a926f2620e563d497d48,openstack/requirements/constraints,tabulate===0.8.6thriftpy2===0.4.9;python_version=='2.7'tinyrpc===1.0.4boto3===1.10.28edgegrid-python===1.1.1botocore===1.13.28ndg-httpsclient===0.5.1jaeger-client===4.2.0,edgegrid-python===1.1.1tabulate===0.8.5thriftpy2===0.4.8;python_version=='2.7'tinyrpc===1.0.3boto3===1.10.8botocore===1.13.8ndg-httpsclient===0.5.1;python_version=='2.7'jaeger-client===4.1.0,8,8
openstack%2Fneutron-fwaas~master~Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2,openstack/neutron-fwaas,master,Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2,Add 'none' to L3AgentExtensionAPI due to API changes,MERGED,2019-04-16 02:03:20.000000000,2019-11-28 08:33:09.000000000,2019-09-24 17:11:22.000000000,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 20363}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26970}]","[{'number': 1, 'created': '2019-04-16 02:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/744202d01eda68755f5ba7a84ab99b0d5d41d15f', 'message': ""Add 'none' to L3AgentExtensionAPI due to API changes\n\nL3AgentExtensionAPI now takes the new parameter 'router_factory'.\nThis API change breaks the test cases, so pass None to initialize\nthe class to aovid the failure.\n\nDepends-On: https://review.openstack.org/#/c/620349/\nChange-Id: Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2\n""}, {'number': 2, 'created': '2019-09-22 12:05:36.000000000', 'files': ['neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/578b12f35e3d81f9885ebb631fc194d7e9b57a97', 'message': ""Add 'none' to L3AgentExtensionAPI due to API changes\n\nL3AgentExtensionAPI now takes the new parameter 'router_factory'.\nThis API change breaks the test cases, so pass None to initialize\nthe class to aovid the failure.\n\nDepends-On: https://review.openstack.org/#/c/620349/\nChange-Id: Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2\n""}]",0,652812,578b12f35e3d81f9885ebb631fc194d7e9b57a97,15,7,2,26970,,,0,"Add 'none' to L3AgentExtensionAPI due to API changes

L3AgentExtensionAPI now takes the new parameter 'router_factory'.
This API change breaks the test cases, so pass None to initialize
the class to aovid the failure.

Depends-On: https://review.openstack.org/#/c/620349/
Change-Id: Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/12/652812/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py']",2,744202d01eda68755f5ba7a84ab99b0d5d41d15f,," api_object = l3_agent_api.L3AgentExtensionAPI(router_info, None) api_object = l3_agent_api.L3AgentExtensionAPI(router_info, None)", api_object = l3_agent_api.L3AgentExtensionAPI(router_info) api_object = l3_agent_api.L3AgentExtensionAPI(router_info),3,3
openstack%2Fcinder~master~I6d5d34ac802ecf6239f2d7e1a2a13c58ce5db263,openstack/cinder,master,I6d5d34ac802ecf6239f2d7e1a2a13c58ce5db263,NEC driver: fix a non-disruptive backup error,MERGED,2019-11-12 11:28:21.000000000,2019-11-28 07:51:37.000000000,2019-11-27 18:43:38.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 28403}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-12 11:28:21.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/04f8e46659a4b29db3aec9832c608b350c3a63cc', 'message': ""NEC driver: fix a non-disruptive backup error\n\nWhen attaching a snapshot to a node,\nNEC driver automatically creates and attaches LUN-0\nif the node does not have it yet.\nThe LUN-0 is reserved for storage functions control.\n\nCurrently, the driver does not update a LUN list after creating LUN-0\nand selects the already used LUN to attach the snapshot.\nThat causes a non-disruptive backup error.\n\nThis patch adds the LUN list update.\nThe list is stored in `ldset' variable.\n\nChange-Id: I6d5d34ac802ecf6239f2d7e1a2a13c58ce5db263\nCloses-Bug: #1852201\n""}]",0,693816,04f8e46659a4b29db3aec9832c608b350c3a63cc,54,32,1,28403,,,0,"NEC driver: fix a non-disruptive backup error

When attaching a snapshot to a node,
NEC driver automatically creates and attaches LUN-0
if the node does not have it yet.
The LUN-0 is reserved for storage functions control.

Currently, the driver does not update a LUN list after creating LUN-0
and selects the already used LUN to attach the snapshot.
That causes a non-disruptive backup error.

This patch adds the LUN list update.
The list is stored in `ldset' variable.

Change-Id: I6d5d34ac802ecf6239f2d7e1a2a13c58ce5db263
Closes-Bug: #1852201
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/693816/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py']",2,04f8e46659a4b29db3aec9832c608b350c3a63cc,bug/1852201," # NEC Storage cannot create an LV with LUN 0. # Create a CV with LUN 0 to use the other LUN for an LV. ldset = validate_ldset_exist(ldsets, connector)",,25,0
openstack%2Fironic~master~I968606a300bc43675d7bd07f73de37967ef80c26,openstack/ironic,master,I968606a300bc43675d7bd07f73de37967ef80c26,Add timeout when querying agent's command statuses,MERGED,2019-11-26 11:57:09.000000000,2019-11-28 07:11:33.000000000,2019-11-28 07:09:07.000000000,"[{'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 11:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d193062f122a38674b6b45fbbe751f6b54dde000', 'message': ""Add timeout when querying agent's command statuses\n\nOtherwise the node can get locked up for a significant amount of time.\nIt conforms to the behavious with all other (POST) HTTP requests done\nto agent.\n\nStory: 2006946\nTask: 37626\nChange-Id: I968606a300bc43675d7bd07f73de37967ef80c26\n""}, {'number': 2, 'created': '2019-11-26 11:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae9aec2aaae71c95d4d0834b765bda46c567f312', 'message': ""Add timeout when querying agent's command statuses\n\nOtherwise the node can get locked up for a significant amount of time.\nIt conforms to the behavious with all other (POST) HTTP requests done\nto agent.\n\nStory: 2006946\nTask: 37626\nChange-Id: I968606a300bc43675d7bd07f73de37967ef80c26\n""}, {'number': 3, 'created': '2019-11-26 12:16:37.000000000', 'files': ['releasenotes/notes/get-commands-status-timeout-ecbac91ea149e755.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/33a84d94eb4d495312e3ba750b194213737a8933', 'message': ""Add timeout when querying agent's command statuses\n\nOtherwise the node can get locked up for a significant amount of time.\nIt conforms to the behaviour of all other (POST) HTTP requests done to\nagent.\n\nStory: 2006946\nTask: 37626\nChange-Id: I968606a300bc43675d7bd07f73de37967ef80c26\n""}]",1,696072,33a84d94eb4d495312e3ba750b194213737a8933,24,10,3,12356,,,0,"Add timeout when querying agent's command statuses

Otherwise the node can get locked up for a significant amount of time.
It conforms to the behaviour of all other (POST) HTTP requests done to
agent.

Story: 2006946
Task: 37626
Change-Id: I968606a300bc43675d7bd07f73de37967ef80c26
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/696072/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/get-commands-status-timeout-ecbac91ea149e755.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,d193062f122a38674b6b45fbbe751f6b54dde000,get-commands-status-timeout,"from ironic import confCONF = conf.CONF mock_get.assert_called_once_with( '%(agent_url)s/%(api_version)s/commands' % { 'agent_url': self.node.driver_internal_info.get('agent_url'), 'api_version': CONF.agent.agent_api_version}, timeout=CONF.agent.command_timeout)",,16,1
openstack%2Fproject-config~master~I9598c49853ba6e46370e983caecc2026f981e5db,openstack/project-config,master,I9598c49853ba6e46370e983caecc2026f981e5db,Normalize projects.yaml,MERGED,2019-11-28 06:08:45.000000000,2019-11-28 06:49:43.000000000,2019-11-28 06:49:43.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 06:08:45.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd962e2e73b540b37aeec43ea55f070a6297b38b', 'message': 'Normalize projects.yaml\n\nChange-Id: I9598c49853ba6e46370e983caecc2026f981e5db\n'}]",0,696450,cd962e2e73b540b37aeec43ea55f070a6297b38b,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I9598c49853ba6e46370e983caecc2026f981e5db
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/696450/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,cd962e2e73b540b37aeec43ea55f070a6297b38b,project-yaml-normalization,, upstream: https://opendev.org/openstack/neutron-interconnection.git,0,1
openstack%2Fpuppet-cloudkitty~master~I821e362e8af91dab586e2066f8e2aa8ef93dcde6,openstack/puppet-cloudkitty,master,I821e362e8af91dab586e2066f8e2aa8ef93dcde6,Fix a typo,MERGED,2019-11-27 09:31:12.000000000,2019-11-28 06:33:02.000000000,2019-11-28 06:33:02.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 09:31:12.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/9b0f7ac93acdc215444210120d7a90517afa75c4', 'message': 'Fix a typo\n\nChange-Id: I821e362e8af91dab586e2066f8e2aa8ef93dcde6\n'}]",0,696258,9b0f7ac93acdc215444210120d7a90517afa75c4,7,2,1,23317,,,0,"Fix a typo

Change-Id: I821e362e8af91dab586e2066f8e2aa8ef93dcde6
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/58/696258/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,9b0f7ac93acdc215444210120d7a90517afa75c4,,# (optional) gives you the opportunity to add custom process options or to,# (optional) gives you the oportunity to add custom process options or to,1,1
openstack%2Fcinder~master~I7f391233a7f5c383b883b6a14312220dafd0dbd9,openstack/cinder,master,I7f391233a7f5c383b883b6a14312220dafd0dbd9,Use volume utils to clone encryption,MERGED,2019-07-26 02:42:20.000000000,2019-11-28 06:27:42.000000000,2019-11-28 04:59:52.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 28471}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30356}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-07-26 02:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b3e4159b2bfe5ee3b3d4bba34310624546bdd60', 'message': 'Use volume utils to clone encryption\n\nChange-Id: I7f391233a7f5c383b883b6a14312220dafd0dbd9\n'}, {'number': 2, 'created': '2019-07-26 02:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c93b6af78d8f33d4fa98a6d6a2457a21ea254a1', 'message': 'Use volume utils to clone encryption\n\nChange-Id: I7f391233a7f5c383b883b6a14312220dafd0dbd9\n'}, {'number': 3, 'created': '2019-11-08 01:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f80f382a8d3d42019be0c835618079d9acbcd558', 'message': 'Use volume utils to clone encryption\n\nChange-Id: I7f391233a7f5c383b883b6a14312220dafd0dbd9\n'}, {'number': 4, 'created': '2019-11-08 01:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/421634941660ed049f107b147356acf67cfbb6ef', 'message': 'Use volume utils to clone encryption\n\nChange-Id: I7f391233a7f5c383b883b6a14312220dafd0dbd9\n'}, {'number': 5, 'created': '2019-11-08 01:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2290028d5859d851058d12a138979063a30715e5', 'message': 'Use volume utils to clone encryption\n\nclone_encryption_key was introduced in volume_utils from this\npatch https://review.opendev.org/#/c/523225/. We should use\nthis utils rather than the method of key manager.\n\nChange-Id: I7f391233a7f5c383b883b6a14312220dafd0dbd9\n'}, {'number': 6, 'created': '2019-11-12 09:52:43.000000000', 'files': ['cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a788b7b5e7492e2f3bd9817dc1d39cdee18d987', 'message': 'Use volume utils to clone encryption\n\nclone_encryption_key was introduced in volume_utils from this\npatch https://review.opendev.org/#/c/523225/. We should use\nthis utils rather than the method of key manager.\n\nChange-Id: I7f391233a7f5c383b883b6a14312220dafd0dbd9\n'}]",2,672844,1a788b7b5e7492e2f3bd9817dc1d39cdee18d987,161,45,6,25837,,,0,"Use volume utils to clone encryption

clone_encryption_key was introduced in volume_utils from this
patch https://review.opendev.org/#/c/523225/. We should use
this utils rather than the method of key manager.

Change-Id: I7f391233a7f5c383b883b6a14312220dafd0dbd9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/672844/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/volume_actions.py'],1,7b3e4159b2bfe5ee3b3d4bba34310624546bdd60,use_vol_utils_to_clone_encryption,"from cinder.volume import utils as vol_utils encryption_key_id = vol_utils.clone_encryption_key( context, self._key_mgr, volume.encryption_key_id)"," encryption_key_id = self._key_manager.store( context, self._key_manager.get(context, volume.encryption_key_id)) ",3,4
openstack%2Fmasakari-dashboard~master~Iff4bb3e088bb522ee336b324b0756efe84e2fde4,openstack/masakari-dashboard,master,Iff4bb3e088bb522ee336b324b0756efe84e2fde4,Use Horizon project template for django jobs,MERGED,2019-10-30 12:12:39.000000000,2019-11-28 05:36:30.000000000,2019-11-28 05:34:27.000000000,"[{'_account_id': 841}, {'_account_id': 1011}, {'_account_id': 1736}, {'_account_id': 3085}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 27302}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-30 12:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/d450d2b4884c4d4f95ddad9f0fd1f195f8c904d4', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: Iff4bb3e088bb522ee336b324b0756efe84e2fde4\n""}, {'number': 2, 'created': '2019-10-30 15:01:32.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/a232649ab33279053b4a33f6023d013f20dcc5df', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\nExplicit testenv definitions (py27, py36, py37) are dropped\nas tox handles them automatically and they are unnecessary.\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: Iff4bb3e088bb522ee336b324b0756efe84e2fde4\n""}]",0,692118,a232649ab33279053b4a33f6023d013f20dcc5df,18,8,2,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

Explicit testenv definitions (py27, py36, py37) are dropped
as tox handles them automatically and they are unnecessary.

[1] https://review.opendev.org/#/c/681969/

Change-Id: Iff4bb3e088bb522ee336b324b0756efe84e2fde4
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/18/692118/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,d450d2b4884c4d4f95ddad9f0fd1f195f8c904d4,django22,"envlist = pep8,py27,py36,py37,py3-{dj111,dj22}commands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 python manage.py test {posargs} --settings=masakaridashboard.test.settings --verbosity 2","envlist = pep8,py27,py36,py37commands = python manage.py test {posargs} --settings=masakaridashboard.test.settings --verbosity 2",6,2
openstack%2Fqinling~master~Ie1db022aba3d7b1d3b0ed4485ab9e715b87434b5,openstack/qinling,master,Ie1db022aba3d7b1d3b0ed4485ab9e715b87434b5,Fix the CLI in Quick Start Guide,MERGED,2019-11-28 03:40:02.000000000,2019-11-28 05:33:02.000000000,2019-11-28 05:24:16.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 03:40:02.000000000', 'files': ['doc/source/quick_start.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/a48673d54d07a08899a3faf25a7eaf0fec770639', 'message': 'Fix the CLI in Quick Start Guide\n\nFix CLI example to include --function argument\nStory: 2006957\nTask: 37647\n\nChange-Id: Ie1db022aba3d7b1d3b0ed4485ab9e715b87434b5\n'}]",0,696444,a48673d54d07a08899a3faf25a7eaf0fec770639,8,3,1,17927,,,0,"Fix the CLI in Quick Start Guide

Fix CLI example to include --function argument
Story: 2006957
Task: 37647

Change-Id: Ie1db022aba3d7b1d3b0ed4485ab9e715b87434b5
",git fetch https://review.opendev.org/openstack/qinling refs/changes/44/696444/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/quick_start.rst'],1,a48673d54d07a08899a3faf25a7eaf0fec770639,fix-cli, $ openstack function execution create --function c9195311-9aa7-4748-bd4b-1b0f9c28d858, $ openstack function execution create c9195311-9aa7-4748-bd4b-1b0f9c28d858,1,1
openstack%2Fcinderlib~master~I04a29597e7515526fb8505c76c3d7e3026b2d9c8,openstack/cinderlib,master,I04a29597e7515526fb8505c76c3d7e3026b2d9c8,Enhance extend functionality,MERGED,2019-10-23 19:02:42.000000000,2019-11-28 05:00:56.000000000,2019-11-28 04:59:54.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14624}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 19:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/6c897864df6dd28fad7e32fa287a31a107537300', 'message': ""Enhance extend functionality\n\nCinderlib's volume extend functionality would extend the volume in the\nbackend yet ignore any refresh of the view of the volume if it was\nattached.\n\nIt also didn't provide a way to refresh the view of an extended volume\ngiven a Connection instance.\n\nThis patch adds the funtionality to automatically refresh the view when\nextending a locally attached volume as well as to do the refresh using a\nConnection instance.\n\nThe refresh is done making the appropriate extend_volume call to\nos-brick's connector.\n\nChange-Id: I04a29597e7515526fb8505c76c3d7e3026b2d9c8\n""}, {'number': 2, 'created': '2019-10-24 11:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/09dc5306572b3eb0af51e7f820c07fe726d304d4', 'message': ""Enhance extend functionality\n\nCinderlib's volume extend functionality would extend the volume in the\nbackend yet ignore any refresh of the view of the volume if it was\nattached.\n\nIt also didn't provide a way to refresh the view of an extended volume\ngiven a Connection instance.\n\nThis patch adds the funtionality to automatically refresh the view when\nextending a locally attached volume as well as to do the refresh using a\nConnection instance.\n\nThe refresh is done making the appropriate extend_volume call to\nos-brick's connector.\n\nChange-Id: I04a29597e7515526fb8505c76c3d7e3026b2d9c8\n""}, {'number': 3, 'created': '2019-11-14 13:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/591c05c001cc3eb3a33c68fab909222e74c60344', 'message': ""Enhance extend functionality\n\nCinderlib's volume extend functionality would extend the volume in the\nbackend yet ignore any refresh of the view of the volume if it was\nattached.\n\nIt also didn't provide a way to refresh the view of an extended volume\ngiven a Connection instance.\n\nThis patch adds the funtionality to automatically refresh the view when\nextending a locally attached volume as well as to do the refresh using a\nConnection instance.\n\nThe refresh is done making the appropriate extend_volume call to\nos-brick's connector.\n\nThe OS-Brick RBD connector doesn't have the method because there's\nnothing for it to do, but to provide a consistent API we add the method\nto our NOS-Brick to return the new size like other connectors do.\n\nChange-Id: I04a29597e7515526fb8505c76c3d7e3026b2d9c8\n""}, {'number': 4, 'created': '2019-11-15 12:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/25aaf645df2340ef05310fb10e829c53c4dfb00f', 'message': ""Enhance extend functionality\n\nCinderlib's volume extend functionality would extend the volume in the\nbackend yet ignore any refresh of the view of the volume if it was\nattached.\n\nIt also didn't provide a way to refresh the view of an extended volume\ngiven a Connection instance.\n\nThis patch adds the funtionality to automatically refresh the view when\nextending a locally attached volume as well as to do the refresh using a\nConnection instance.\n\nThe refresh is done making the appropriate extend_volume call to\nos-brick's connector.\n\nThe OS-Brick RBD connector doesn't have the method because there's\nnothing for it to do, but to provide a consistent API we add the method\nto our NOS-Brick to return the new size like other connectors do.\n\nChange-Id: I04a29597e7515526fb8505c76c3d7e3026b2d9c8\n""}, {'number': 5, 'created': '2019-11-18 18:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/5c00dba6585fb070b60c467c1fc9cec1dbe5a02a', 'message': ""Enhance extend functionality\n\nCinderlib's volume extend functionality would extend the volume in the\nbackend yet ignore any refresh of the view of the volume if it was\nattached.\n\nIt also didn't provide a way to refresh the view of an extended volume\ngiven a Connection instance.\n\nThis patch adds the funtionality to automatically refresh the view when\nextending a locally attached volume as well as to do the refresh using a\nConnection instance.\n\nThe refresh is done making the appropriate extend_volume call to\nos-brick's connector.\n\nThe OS-Brick RBD connector doesn't have the method because there's\nnothing for it to do, but to provide a consistent API we add the method\nto our NOS-Brick to return the new size like other connectors do.\n\nChange-Id: I04a29597e7515526fb8505c76c3d7e3026b2d9c8\n""}, {'number': 6, 'created': '2019-11-19 02:25:34.000000000', 'files': ['cinderlib/objects.py', 'doc/source/topics/connections.rst', 'cinderlib/tests/unit/objects/test_volume.py', 'cinderlib/tests/unit/objects/test_connection.py', 'cinderlib/tests/unit/test_nos_brick.py', 'releasenotes/notes/enhance-extend-687d8e9c4a58e517.yaml', 'doc/source/topics/volumes.rst', 'cinderlib/tests/functional/test_basic.py', 'cinderlib/nos_brick.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/6f989af09b58274b9e8979ceb1df52e724b590a5', 'message': ""Enhance extend functionality\n\nCinderlib's volume extend functionality would extend the volume in the\nbackend yet ignore any refresh of the view of the volume if it was\nattached.\n\nIt also didn't provide a way to refresh the view of an extended volume\ngiven a Connection instance.\n\nThis patch adds the funtionality to automatically refresh the view when\nextending a locally attached volume as well as to do the refresh using a\nConnection instance.\n\nThe refresh is done making the appropriate extend_volume call to\nos-brick's connector.\n\nThe OS-Brick RBD connector doesn't have the method because there's\nnothing for it to do, but to provide a consistent API we add the method\nto our NOS-Brick to return the new size like other connectors do.\n\nChange-Id: I04a29597e7515526fb8505c76c3d7e3026b2d9c8\n""}]",1,690713,6f989af09b58274b9e8979ceb1df52e724b590a5,24,5,6,9535,,,0,"Enhance extend functionality

Cinderlib's volume extend functionality would extend the volume in the
backend yet ignore any refresh of the view of the volume if it was
attached.

It also didn't provide a way to refresh the view of an extended volume
given a Connection instance.

This patch adds the funtionality to automatically refresh the view when
extending a locally attached volume as well as to do the refresh using a
Connection instance.

The refresh is done making the appropriate extend_volume call to
os-brick's connector.

The OS-Brick RBD connector doesn't have the method because there's
nothing for it to do, but to provide a consistent API we add the method
to our NOS-Brick to return the new size like other connectors do.

Change-Id: I04a29597e7515526fb8505c76c3d7e3026b2d9c8
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/13/690713/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/objects.py', 'doc/source/topics/connections.rst', 'cinderlib/tests/unit/objects/test_volume.py', 'cinderlib/tests/unit/objects/test_connection.py', 'releasenotes/notes/enhance-extend-687d8e9c4a58e517.yaml', 'doc/source/topics/volumes.rst', 'cinderlib/tests/functional/test_basic.py']",7,6c897864df6dd28fad7e32fa287a31a107537300,extend-attached-node," def test_extend_attached(self): vol = self._create_vol(self.backend) original_size = vol.size # Attach, get size, and leave volume attached result_original_size = self._get_vol_size(vol, do_detach=False) self.assertSize(original_size, result_original_size) new_size = vol.size + 1 # Extending the volume should also extend the local view of the volume vol.extend(new_size) self.assertEqual(new_size, vol.size) # Get size of attached volume and detach it result_new_size = self._get_vol_size(vol) self.assertSize(new_size, result_new_size) ",,105,0
openstack%2Fneutron~master~Ia36635014e827b4a321dbdce22f605c76cc88390,openstack/neutron,master,Ia36635014e827b4a321dbdce22f605c76cc88390,Revise log when create port failed,MERGED,2019-09-20 03:25:11.000000000,2019-11-28 04:16:12.000000000,2019-11-17 12:49:58.000000000,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18480}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-20 03:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfbf3b8e73ea5551427af072864f62da85df37b3', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 2, 'created': '2019-09-23 12:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00a035ec2ecef5f49c468c27281315a461ca4a84', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 3, 'created': '2019-09-24 01:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e60dcc5603e36b1714c3d6c7c4503e98d5aedc33', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 4, 'created': '2019-09-24 05:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c275cc06d7c86d3a5e8842f977eed51552e51e86', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 5, 'created': '2019-09-26 02:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71f35afa6a24600d6cf5cc31b73bb43872f9642b', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 6, 'created': '2019-09-26 05:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59adbac5c9d176a4ebb30c3a69df6e75e284b87f', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 7, 'created': '2019-09-26 11:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dee1a970b477217a881a1fe70e8b94f6c5c02369', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 8, 'created': '2019-10-11 08:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f06200f6c5f80067fd816589e6d8fbd3f9ecbeb0', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 9, 'created': '2019-11-11 02:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8b2383f8e4e0fcf6507a0a38b6bbeaed3e04aa7', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 10, 'created': '2019-11-11 02:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2128614f2a19aa77d8c86975600471fe0439ad68', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}, {'number': 11, 'created': '2019-11-11 23:17:42.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cae66a4d8d13deda74db806d733c2ac39ea2e849', 'message': ""Revise log when create port failed\n\nLog network_id passed from api rather than subnet['network_id']\n\nChange-Id: Ia36635014e827b4a321dbdce22f605c76cc88390\nCloses-Bug: #1844607\n""}]",6,683273,cae66a4d8d13deda74db806d733c2ac39ea2e849,103,10,11,18480,,,0,"Revise log when create port failed

Log network_id passed from api rather than subnet['network_id']

Change-Id: Ia36635014e827b4a321dbdce22f605c76cc88390
Closes-Bug: #1844607
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/683273/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_backend_mixin.py', 'neutron/db/ipam_pluggable_backend.py']",2,dfbf3b8e73ea5551427af072864f62da85df37b3,log-error2," subnet = self._get_subnet_for_fixed_ip(fixed, subnets, network_id)"," subnet = self._get_subnet_for_fixed_ip(context, fixed, subnets)",3,5
openstack%2Frequirements~master~Ifcdeac2b9bc41317b89ab553198774c1dced992d,openstack/requirements,master,Ifcdeac2b9bc41317b89ab553198774c1dced992d,update constraint for os-net-config to new release 12.0.0,MERGED,2019-11-27 19:43:11.000000000,2019-11-28 04:11:29.000000000,2019-11-28 04:10:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 19:43:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5e798fe882b38bc5c01332d5da0010d33326447d', 'message': 'update constraint for os-net-config to new release 12.0.0\n\nChange-Id: Ifcdeac2b9bc41317b89ab553198774c1dced992d\nmeta:version: 12.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,696398,5e798fe882b38bc5c01332d5da0010d33326447d,11,2,1,11131,,,0,"update constraint for os-net-config to new release 12.0.0

Change-Id: Ifcdeac2b9bc41317b89ab553198774c1dced992d
meta:version: 12.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>
meta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/696398/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5e798fe882b38bc5c01332d5da0010d33326447d,new-release,os-net-config===12.0.0,os-net-config===11.3.0,1,1
openstack%2Fkarbor~master~Id0ff46be2da8f9d92ddc2f6f452ea9c119e02323,openstack/karbor,master,Id0ff46be2da8f9d92ddc2f6f452ea9c119e02323,Drop python2.7 support,ABANDONED,2019-10-28 03:34:02.000000000,2019-11-28 03:31:23.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 30407}]","[{'number': 1, 'created': '2019-10-28 03:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/31cbd6f8e6f906a3295a99776a39cc9dd57b6050', 'message': ""Drop python2.7 support\n\nTrain was the last release supporting python2. Let's rip the bandaid\noff.\n\nChange-Id: Id0ff46be2da8f9d92ddc2f6f452ea9c119e02323\n""}, {'number': 2, 'created': '2019-10-28 08:58:14.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/b8dea8c3a83da3d5d71e78a8ab6e94a26e011cbd', 'message': ""Drop python2.7 support\n\nTrain was the last release supporting python2. Let's rip the bandaid\noff.\n\nChange-Id: Id0ff46be2da8f9d92ddc2f6f452ea9c119e02323\n""}]",2,691570,b8dea8c3a83da3d5d71e78a8ab6e94a26e011cbd,7,3,2,30407,,,0,"Drop python2.7 support

Train was the last release supporting python2. Let's rip the bandaid
off.

Change-Id: Id0ff46be2da8f9d92ddc2f6f452ea9c119e02323
",git fetch https://review.opendev.org/openstack/karbor refs/changes/70/691570/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,31cbd6f8e6f906a3295a99776a39cc9dd57b6050,,"envlist = py37,pypy,pep8basepython = python3","envlist = py27,py37,pypy,pep8basepython = python2.7basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",2,15
openstack%2Fkayobe~master~I0cb7af6d4bae1a3e262f70304c301ec459871e9b,openstack/kayobe,master,I0cb7af6d4bae1a3e262f70304c301ec459871e9b,Drop python2.7 support,ABANDONED,2019-10-28 06:01:19.000000000,2019-11-28 03:31:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-28 06:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c4eb400eafe9032fa29b27a1284bb7717ec99fad', 'message': ""Drop python2.7 support\n\nTrain was the last release supporting python2. Let's rip the bandaid\noff.\n\nChange-Id: I0cb7af6d4bae1a3e262f70304c301ec459871e9b\n""}, {'number': 2, 'created': '2019-10-28 09:15:02.000000000', 'files': ['test-requirements.txt', '.travis.yml', 'doc/source/development/testing.rst', 'zuul.d/project.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fd36b18ccdd4c86de8afab4746b005236b171606', 'message': ""Drop python2.7 support\n\nTrain was the last release supporting python2. Let's rip the bandaid\noff.\n\nChange-Id: I0cb7af6d4bae1a3e262f70304c301ec459871e9b\n""}]",0,691590,fd36b18ccdd4c86de8afab4746b005236b171606,6,1,2,30407,,,0,"Drop python2.7 support

Train was the last release supporting python2. Let's rip the bandaid
off.

Change-Id: I0cb7af6d4bae1a3e262f70304c301ec459871e9b
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/691590/2 && git format-patch -1 --stdout FETCH_HEAD,"['.travis.yml', 'doc/source/development/testing.rst', 'zuul.d/project.yaml', 'setup.cfg', 'tox.ini']",5,c4eb400eafe9032fa29b27a1284bb7717ec99fad,drop-py2,"envlist = py3,pep8basepython = python3","envlist = py3,py27,pep8basepython = python3basepython = python3basepython = python2basepython = python2basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",6,19
openstack%2Fmagnum~master~I2608cb49126ae02a78a2168e91b268d906159dbd,openstack/magnum,master,I2608cb49126ae02a78a2168e91b268d906159dbd,Drop python2.7 support,ABANDONED,2019-10-28 06:54:13.000000000,2019-11-28 03:30:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-28 06:54:13.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1242da7799bafcd81e4050b7388113a386e3fa94', 'message': ""Drop python2.7 support\n\nTrain was the last release supporting python2. Let's rip the bandaid\noff.\n\nChange-Id: I2608cb49126ae02a78a2168e91b268d906159dbd\n""}]",0,691614,1242da7799bafcd81e4050b7388113a386e3fa94,4,2,1,30407,,,0,"Drop python2.7 support

Train was the last release supporting python2. Let's rip the bandaid
off.

Change-Id: I2608cb49126ae02a78a2168e91b268d906159dbd
",git fetch https://review.opendev.org/openstack/magnum refs/changes/14/691614/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,1242da7799bafcd81e4050b7388113a386e3fa94,,"envlist = py37,pep8basepython = 3","envlist = py27,py37,pep8basepython = python3basepython = python2.7basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",2,21
openstack%2Fceilometer~master~I08b508b63c0f7a95f2114f81cb702309c5e50a6d,openstack/ceilometer,master,I08b508b63c0f7a95f2114f81cb702309c5e50a6d,test submission,ABANDONED,2019-11-28 03:02:54.000000000,2019-11-28 03:04:14.000000000,,[],"[{'number': 1, 'created': '2019-11-28 03:02:54.000000000', 'files': ['ceilometer/test.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f5bd4fed1fad3f0b5458accc30aae7225abacd67', 'message': 'test submission\n\nChange-Id: I08b508b63c0f7a95f2114f81cb702309c5e50a6d\n'}]",0,696441,f5bd4fed1fad3f0b5458accc30aae7225abacd67,2,0,1,30601,,,0,"test submission

Change-Id: I08b508b63c0f7a95f2114f81cb702309c5e50a6d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/41/696441/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/test.py'],1,f5bd4fed1fad3f0b5458accc30aae7225abacd67,,# test file # code submission test ,,2,0
openstack%2Fcinder~master~I3dc6a55ee5ed496a37885a139fba11d1134e971f,openstack/cinder,master,I3dc6a55ee5ed496a37885a139fba11d1134e971f,NEC driver: fix an undefined variable,MERGED,2019-11-01 11:08:06.000000000,2019-11-28 02:44:16.000000000,2019-11-27 18:43:33.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28403}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-11-01 11:08:06.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/16dbad18ccb98e1e89dc9d1d2369fdb893d855b0', 'message': 'NEC driver: fix an undefined variable\n\nCurrently, NEC driver references an undefined variable in message\nformatting.\nThat causes volume creation failure when 4 or more volumes are created\nfrom same image in parallel.\n\nThis patch removes the reference.\n\nChange-Id: I3dc6a55ee5ed496a37885a139fba11d1134e971f\nCloses-Bug: #1850913\n'}]",0,692528,16dbad18ccb98e1e89dc9d1d2369fdb893d855b0,37,28,1,28403,,,0,"NEC driver: fix an undefined variable

Currently, NEC driver references an undefined variable in message
formatting.
That causes volume creation failure when 4 or more volumes are created
from same image in parallel.

This patch removes the reference.

Change-Id: I3dc6a55ee5ed496a37885a139fba11d1134e971f
Closes-Bug: #1850913
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/692528/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py']",2,16dbad18ccb98e1e89dc9d1d2369fdb893d855b0,bug/1850913, 'ldname=%s') % source_name)," '%(msg)s. ldname=%(ldname)s') % {'msg': msg, 'ldname': source_name})",8,2
openstack%2Fneutron-fwaas-dashboard~master~I6a0fa5005f7f509e784cb85844f0574904b673cd,openstack/neutron-fwaas-dashboard,master,I6a0fa5005f7f509e784cb85844f0574904b673cd,Drop python 2.7 support and testing,MERGED,2019-10-30 05:17:54.000000000,2019-11-28 02:27:49.000000000,2019-11-28 02:25:57.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-30 05:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/01ba50837a34021893b456e13dad3165944b4433', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6a0fa5005f7f509e784cb85844f0574904b673cd\n'}, {'number': 2, 'created': '2019-10-30 06:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/8731b1252dbdf901a106cc3c21cc29cd0866a52c', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6a0fa5005f7f509e784cb85844f0574904b673cd\n'}, {'number': 3, 'created': '2019-10-30 10:49:12.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-aeac41c824c80d4a.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/4571ce712463f66cbb99b8645ad55aeac6f86e99', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6a0fa5005f7f509e784cb85844f0574904b673cd\n'}]",1,692026,4571ce712463f66cbb99b8645ad55aeac6f86e99,18,4,3,29313,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

vitrage-dashboard is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I6a0fa5005f7f509e784cb85844f0574904b673cd
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/26/692026/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-aeac41c824c80d4a.yaml', 'setup.cfg', 'tox.ini']",4,01ba50837a34021893b456e13dad3165944b4433,drop-py27-support,"envlist = py37,py3-{dj111,dj22},pep8","envlist = py27,py37,py3-{dj111,dj22},pep8",7,4
openstack%2Fmonasca-common~master~Icc3e24325f3bc3109cf7180e3690506bb6969e34,openstack/monasca-common,master,Icc3e24325f3bc3109cf7180e3690506bb6969e34,Switch to Ussuri jobs,ABANDONED,2019-11-14 06:48:42.000000000,2019-11-28 02:20:41.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 06:48:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/8aaacb1f3661ef170685f5e8a442d10e53159648', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Icc3e24325f3bc3109cf7180e3690506bb6969e34\n'}]",0,694202,8aaacb1f3661ef170685f5e8a442d10e53159648,4,2,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: Icc3e24325f3bc3109cf7180e3690506bb6969e34
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/02/694202/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8aaacb1f3661ef170685f5e8a442d10e53159648,dev, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fos-brick~stable%2Fstein~Ifc4dee0a51bafd6aa9865ec66c46c10087daa667,openstack/os-brick,stable/stein,Ifc4dee0a51bafd6aa9865ec66c46c10087daa667,Remove VxFlexOS connector external dependencies,MERGED,2019-10-29 18:12:45.000000000,2019-11-28 02:03:41.000000000,2019-11-27 23:11:30.000000000,"[{'_account_id': 7160}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31016}]","[{'number': 1, 'created': '2019-10-29 18:12:45.000000000', 'files': ['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/privileged/scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5de1afe883f9d38a6d55cb3b54b6761850edcb01', 'message': 'Remove VxFlexOS connector external dependencies\n\nThe OpenStack os-brick library uses hardcoded paths to binary files to\ninteract with the VxFlexOS SDC. This leads to problems when using\ncontainerized OpenStack (Kolla & Red Hat). Due to the fact that VxFlexOS\nSDC binary files has to be used inside containers (nova, cinder, etc.)\nthe overcloud deployment must be performed in 3 stages:\n  1) deploy overcloud without additional volume mounts\n  2) install the VxFlexOS client on the controller and compute nodes\n  3) update overcloud with additional volume mounts\n\nUsing these changes overcloud can be deployed without update step after\ninitial deployment since os-brick does not have external dependencies\nand uses python built-in libraries. The scini device through which the\nVxFlexOS client interacts is presented in the containers by default\nbecause /dev directory from the host is mounted in all containers.\n\nChange-Id: Ifc4dee0a51bafd6aa9865ec66c46c10087daa667\nCloses-Bug: #1846483\n(cherry picked from commit 2d694361fe66736c59ca96a2a54c368638445de6)\n'}]",1,691937,5de1afe883f9d38a6d55cb3b54b6761850edcb01,26,13,1,10379,,,0,"Remove VxFlexOS connector external dependencies

The OpenStack os-brick library uses hardcoded paths to binary files to
interact with the VxFlexOS SDC. This leads to problems when using
containerized OpenStack (Kolla & Red Hat). Due to the fact that VxFlexOS
SDC binary files has to be used inside containers (nova, cinder, etc.)
the overcloud deployment must be performed in 3 stages:
  1) deploy overcloud without additional volume mounts
  2) install the VxFlexOS client on the controller and compute nodes
  3) update overcloud with additional volume mounts

Using these changes overcloud can be deployed without update step after
initial deployment since os-brick does not have external dependencies
and uses python built-in libraries. The scini device through which the
VxFlexOS client interacts is presented in the containers by default
because /dev directory from the host is mounted in all containers.

Change-Id: Ifc4dee0a51bafd6aa9865ec66c46c10087daa667
Closes-Bug: #1846483
(cherry picked from commit 2d694361fe66736c59ca96a2a54c368638445de6)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/37/691937/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/privileged/scaleio.py']",3,5de1afe883f9d38a6d55cb3b54b6761850edcb01,bug/1846483,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from binascii import hexlify from contextlib import contextmanager from fcntl import ioctl import os import struct import uuid from os_brick import privileged SCINI_DEVICE_PATH = '/dev/scini' @contextmanager def open_scini_device(): """"""Open scini device for low-level I/O using contextmanager. File descriptor will be closed after all operations performed if it was opened successfully. :return: scini device file descriptor :rtype: int """""" fd = None try: fd = os.open(SCINI_DEVICE_PATH, os.O_RDWR) yield fd finally: if fd: os.close(fd) @privileged.default.entrypoint def get_guid(op_code): """"""Query ScaleIO sdc GUID via ioctl request. :param op_code: operational code :type op_code: int :return: ScaleIO sdc GUID :rtype: str """""" with open_scini_device() as fd: out = ioctl(fd, op_code, struct.pack('QQQ', 0, 0, 0)) # The first 8 bytes contain a return code that is not used # so they can be discarded. out_to_hex = hexlify(out[8:]).decode() return str(uuid.UUID(out_to_hex)) @privileged.default.entrypoint def rescan_vols(op_code): """"""Rescan ScaleIO volumes via ioctl request. :param op_code: operational code :type op_code: int """""" with open_scini_device() as fd: ioctl(fd, op_code, struct.pack('Q', 0)) ",,132,72
openstack%2Ftripleo-ansible~master~Ib808527e7ab9cd78cabc6d65b335658690a7c8b1,openstack/tripleo-ansible,master,Ib808527e7ab9cd78cabc6d65b335658690a7c8b1,Fix parsing of system-uuid for ceph node config,ABANDONED,2019-11-28 01:54:59.000000000,2019-11-28 02:00:41.000000000,,[],"[{'number': 1, 'created': '2019-11-28 01:54:59.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-uuid/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/877e1ab7025738aa64dccab43c9472c2c4efd8f2', 'message': 'Fix parsing of system-uuid for ceph node config\n\nThe shell command is escaped with single quotes, therefore\nthe backslash at the end is not needed and prevents the\nhost_vars from being populated.\n\nError from ansible run:\n    ""stderr_lines"": [\n        ""awk: cmd. line:1: match($0, /[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/) \\\\     { print substr($0, RSTART, RLENGTH) }"",\n        ""awk: cmd. line:1:                                                                                          ^ backslash not last character on line"",\n        ""awk: cmd. line:1: match($0, /[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/) \\\\     { print substr($0, RSTART, RLENGTH) }"",\n        ""awk: cmd. line:1:                                                                                          ^ syntax error""\n    ],\n\nChange-Id: Ib808527e7ab9cd78cabc6d65b335658690a7c8b1\n'}]",0,696428,877e1ab7025738aa64dccab43c9472c2c4efd8f2,2,0,1,30598,,,0,"Fix parsing of system-uuid for ceph node config

The shell command is escaped with single quotes, therefore
the backslash at the end is not needed and prevents the
host_vars from being populated.

Error from ansible run:
    ""stderr_lines"": [
        ""awk: cmd. line:1: match($0, /[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/) \\     { print substr($0, RSTART, RLENGTH) }"",
        ""awk: cmd. line:1:                                                                                          ^ backslash not last character on line"",
        ""awk: cmd. line:1: match($0, /[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/) \\     { print substr($0, RSTART, RLENGTH) }"",
        ""awk: cmd. line:1:                                                                                          ^ syntax error""
    ],

Change-Id: Ib808527e7ab9cd78cabc6d65b335658690a7c8b1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/696428/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-uuid/tasks/prepare.yml'],1,877e1ab7025738aa64dccab43c9472c2c4efd8f2,," awk 'match($0, /[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/)"," awk 'match($0, /[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/) \",1,1
openstack%2Frequirements~master~Ia47a8acf00a7524b2b18408f51ada36bf8e82eca,openstack/requirements,master,Ia47a8acf00a7524b2b18408f51ada36bf8e82eca,update constraint for os-apply-config to new release 11.0.0,MERGED,2019-11-27 19:45:41.000000000,2019-11-28 01:52:49.000000000,2019-11-28 01:51:46.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 19:45:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/86a8c04acd2bd4cec02c2aa98d5f5c9954b73d78', 'message': 'update constraint for os-apply-config to new release 11.0.0\n\nChange-Id: Ia47a8acf00a7524b2b18408f51ada36bf8e82eca\nmeta:version: 11.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,696400,86a8c04acd2bd4cec02c2aa98d5f5c9954b73d78,9,2,1,11131,,,0,"update constraint for os-apply-config to new release 11.0.0

Change-Id: Ia47a8acf00a7524b2b18408f51ada36bf8e82eca
meta:version: 11.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>
meta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/696400/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,86a8c04acd2bd4cec02c2aa98d5f5c9954b73d78,new-release,os-apply-config===11.0.0,os-apply-config===10.5.0,1,1
openstack%2Frequirements~master~I8d34c609df176b78cf7c37d0e58edaeee6476476,openstack/requirements,master,I8d34c609df176b78cf7c37d0e58edaeee6476476,update constraint for tripleo-common to new release 12.0.0,MERGED,2019-11-27 19:44:44.000000000,2019-11-28 01:46:11.000000000,2019-11-28 01:44:48.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 19:44:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/66cbf322585dca60b5a2216ca57ae535daa14cfc', 'message': 'update constraint for tripleo-common to new release 12.0.0\n\nChange-Id: I8d34c609df176b78cf7c37d0e58edaeee6476476\nmeta:version: 12.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,696399,66cbf322585dca60b5a2216ca57ae535daa14cfc,7,2,1,11131,,,0,"update constraint for tripleo-common to new release 12.0.0

Change-Id: I8d34c609df176b78cf7c37d0e58edaeee6476476
meta:version: 12.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>
meta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/696399/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,66cbf322585dca60b5a2216ca57ae535daa14cfc,new-release,tripleo-common===12.0.0,tripleo-common===11.3.1,1,1
openstack%2Fwatcher~master~I268bcf57ec977bd8132a9f1573b28b681cb4ce1e,openstack/watcher,master,I268bcf57ec977bd8132a9f1573b28b681cb4ce1e,Change self.node to self.nodes in model_root,MERGED,2019-11-27 07:28:54.000000000,2019-11-28 01:40:08.000000000,2019-11-28 01:39:02.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-11-27 07:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/fa5feb126998b93e01d307935c26078b787df87a', 'message': 'Change self.node to self.nodes in model_root\n\nnetworkx removed G.node in version 2.4[1]\n\n[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html\n\nChange-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e\nCloses-Bug: #1854132\n'}, {'number': 2, 'created': '2019-11-27 07:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b8a7fba0010aef36f777909066b06e74adbdf38d', 'message': 'Change self.node to self.nodes in model_root\n\nnetworkx removed G.node in version 2.4[1]\n\n[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html\n\nChange-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e\nCloses-Bug: #1854132\n'}, {'number': 3, 'created': '2019-11-27 07:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/fff77e9839ce2f1c6f2f430ab929b7acc6e4ba7e', 'message': 'Change self.node to self.nodes in model_root\n\nnetworkx removed G.node in version 2.4[1]\n\n[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html\n\nChange-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e\nCloses-Bug: #1854132\n'}, {'number': 4, 'created': '2019-11-27 08:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5665ebf059d4980a8a4220329d50496a4cd2128b', 'message': 'Change self.node to self.nodes in model_root\n\nnetworkx removed G.node in version 2.4[1]\nG.node was replaced by G.nodes since version 2.0[2],\nso the lower constraint version is 2.0.\n[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html\n[2]: https://networkx.github.io/documentation/stable/release/release_2.0.html\nChange-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e\nCloses-Bug: #1854132\n'}, {'number': 5, 'created': '2019-11-27 08:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f9b20b90f6641d46420e47f5beec1a13d02d0c47', 'message': 'Change self.node to self.nodes in model_root\n\nnetworkx removed G.node in version 2.4[1]\nG.node was replaced by G.nodes since version 2.0[2],\nso the lower constraint version is 2.0.\nlib task_flow also invokes lib networkx,\ntask_flow version is also needed to be updated.\n[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html\n[2]: https://networkx.github.io/documentation/stable/release/release_2.0.html\nChange-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e\nCloses-Bug: #1854132\n'}, {'number': 6, 'created': '2019-11-27 09:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f02b2b7de5e4831f0e00665b7897ba3a2ff2b2b6', 'message': 'Change self.node to self.nodes in model_root\n\nnetworkx removed G.node in version 2.4[1]\nG.node was replaced by G.nodes since version 2.0[2],\nso the lower constraint version is 2.0.\nlib task_flow also invokes lib networkx,\ntask_flow version is also needed to be updated.\n[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html\n[2]: https://networkx.github.io/documentation/stable/release/release_2.0.html\nChange-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e\nCloses-Bug: #1854132\n'}, {'number': 7, 'created': '2019-11-27 09:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/239c438238a5c2cc91055d87f080ceb03bb1b82a', 'message': 'Change self.node to self.nodes in model_root\n\nnetworkx removed G.node in version 2.4[1]\nG.node was replaced by G.nodes since version 2.0[2],\nso the lower constraint version is 2.0.\nlib task_flow also invokes lib networkx,\ntask_flow version is also needed to be updated.\n[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html\n[2]: https://networkx.github.io/documentation/stable/release/release_2.0.html\nChange-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e\nCloses-Bug: #1854132\n'}, {'number': 8, 'created': '2019-11-27 09:20:36.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'watcher/decision_engine/model/model_root.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/4a269ba0395b1f83433f53d27a81662357334af2', 'message': 'Change self.node to self.nodes in model_root\n\nnetworkx removed G.node in version 2.4[1]\nG.node was replaced by G.nodes since version 2.0[2],\nand supports Python 2.7, 3.5, 3.6 and 3.7 from 2.2\nso the lower constraint version is 2.2.\nlib task_flow also invokes lib networkx,\ntask_flow version is also needed to be updated.\n[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html\n[2]: https://networkx.github.io/documentation/stable/release/release_2.0.html\nChange-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e\nCloses-Bug: #1854132\n'}]",0,696239,4a269ba0395b1f83433f53d27a81662357334af2,15,3,8,21692,,,0,"Change self.node to self.nodes in model_root

networkx removed G.node in version 2.4[1]
G.node was replaced by G.nodes since version 2.0[2],
and supports Python 2.7, 3.5, 3.6 and 3.7 from 2.2
so the lower constraint version is 2.2.
lib task_flow also invokes lib networkx,
task_flow version is also needed to be updated.
[1]: https://networkx.github.io/documentation/stable/release/release_2.4.html
[2]: https://networkx.github.io/documentation/stable/release/release_2.0.html
Change-Id: I268bcf57ec977bd8132a9f1573b28b681cb4ce1e
Closes-Bug: #1854132
",git fetch https://review.opendev.org/openstack/watcher refs/changes/39/696239/8 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/model/model_root.py'],1,fa5feb126998b93e01d307935c26078b787df87a,bug/1854132, return self.nodes[uuid]['attr'] return self.nodes[uuid]['attr'] return self.nodes[name]['attr'] return self.nodes[uuid]['attr'], return self.node[uuid]['attr'] return self.node[uuid]['attr'] return self.node[name]['attr'] return self.node[uuid]['attr'],4,4
openstack%2Fcinder~stable%2Ftrain~I2a3fa8909a9104c464fd0bbc83c61ded94f81765,openstack/cinder,stable/train,I2a3fa8909a9104c464fd0bbc83c61ded94f81765,Pure Storage - Fix disconnect error in clustered environments,MERGED,2019-11-07 22:33:35.000000000,2019-11-28 01:35:16.000000000,2019-11-27 20:27:34.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13425}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-11-07 22:33:35.000000000', 'files': ['cinder/volume/drivers/pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8c0cd0d6416d0e152bd864e858828ffca746a15', 'message': 'Pure Storage - Fix disconnect error in clustered environments\n\nWhen arrays are configured into a synchrous cluster relationship\na disconnect of a volume that is of a non-replicated type will\ncause a failure. This will also happen when attempting a volume\nretype over multiple backends.\n\nChange-Id: I2a3fa8909a9104c464fd0bbc83c61ded94f81765\nCloses-Bug: #1850697\n(cherry picked from commit 2eabeacfb32f30d57cb4424dffde2b890a734bcc)\n'}]",0,693437,b8c0cd0d6416d0e152bd864e858828ffca746a15,115,20,1,13425,,,0,"Pure Storage - Fix disconnect error in clustered environments

When arrays are configured into a synchrous cluster relationship
a disconnect of a volume that is of a non-replicated type will
cause a failure. This will also happen when attempting a volume
retype over multiple backends.

Change-Id: I2a3fa8909a9104c464fd0bbc83c61ded94f81765
Closes-Bug: #1850697
(cherry picked from commit 2eabeacfb32f30d57cb4424dffde2b890a734bcc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/693437/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/pure.py'],1,b8c0cd0d6416d0e152bd864e858828ffca746a15,bug/1850697-stable/train," # Now disconnect from the current array connector, remove_remote_hosts=False)"," # Now disconnect from the current array, removing any left over # remote hosts that we maybe couldn't reach. connector, remove_remote_hosts=True)",2,3
openstack%2Frequirements~master~I80eb63c2ed01659990ca5506be7e0e246c9586ba,openstack/requirements,master,I80eb63c2ed01659990ca5506be7e0e246c9586ba,Add new dependency for tabulate library,MERGED,2019-11-13 15:24:54.000000000,2019-11-28 00:42:06.000000000,2019-11-28 00:39:41.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 15:24:54.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9bbb17864bc64a0165be068e19189ea4a7b85f83', 'message': ""Add new dependency for tabulate library\n\n* Is the library actively maintained?\n\nThere have been three releases so far in 2019 and the last commit to the\nrepo was 2 days ago. Issues appear to be addressed at a reasonable rate.\n\n* Is the library good code?\n\nCode appears to be fine, and there are unit tests tox targets for all of\nour supported Python versions.\n\n* Is the library python 3 compatible?\n\nYes, package metadata declares 2.7, 3.5, 3.6, and 3.7. Tox also has\ntargets for all of these versions. Contains compatibility code for the\nplaces where it needs to handle things differently between versions.\n\n* Is the library license compatible?\n\nYes, library is under the MIT permissive license.\n\n* Is the library already packaged in the distros we target (Ubuntu\nlatest / Fedora latest)?\n\nFedora has python3-tabulate. RHEL has python[2|34|36]-tabulate. Ubuntu\nhas python2-tabulate and python3-tabulate.\n\n* Is the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\nYes, this would be an alternative to PrettyTable. PrettyTable has not\nhad a release since 2013 and is starting to emit DeprecationWarnings due\nto Python changes. Various attempts have been made to get a fork going,\nbut it doesn't appear any of them have been very successful.\n\n* Is the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\nThere are quite a few OpenStack projects using PrettyTable that would\n(and probably should) switch over to using tabulate. Some existing\nprojects using PrettyTable that would be candidates for switching are\ncliff, cinder, election, glance, and many more.\n\n* If the library release is managed by the Openstack release process\ndoes it use the cycle-with-intermediary release type?\n\nN/A\n\nChange-Id: I80eb63c2ed01659990ca5506be7e0e246c9586ba\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,694093,9bbb17864bc64a0165be068e19189ea4a7b85f83,11,4,1,11904,,,0,"Add new dependency for tabulate library

* Is the library actively maintained?

There have been three releases so far in 2019 and the last commit to the
repo was 2 days ago. Issues appear to be addressed at a reasonable rate.

* Is the library good code?

Code appears to be fine, and there are unit tests tox targets for all of
our supported Python versions.

* Is the library python 3 compatible?

Yes, package metadata declares 2.7, 3.5, 3.6, and 3.7. Tox also has
targets for all of these versions. Contains compatibility code for the
places where it needs to handle things differently between versions.

* Is the library license compatible?

Yes, library is under the MIT permissive license.

* Is the library already packaged in the distros we target (Ubuntu
latest / Fedora latest)?

Fedora has python3-tabulate. RHEL has python[2|34|36]-tabulate. Ubuntu
has python2-tabulate and python3-tabulate.

* Is the function of this library already covered by other libraries in
global-requirements.txt?

Yes, this would be an alternative to PrettyTable. PrettyTable has not
had a release since 2013 and is starting to emit DeprecationWarnings due
to Python changes. Various attempts have been made to get a fork going,
but it doesn't appear any of them have been very successful.

* Is the library required for OpenStack project or related dev or
infrastructure setup? (Answer to this should be Yes, of course) Which?

There are quite a few OpenStack projects using PrettyTable that would
(and probably should) switch over to using tabulate. Some existing
projects using PrettyTable that would be candidates for switching are
cliff, cinder, election, glance, and many more.

* If the library release is managed by the Openstack release process
does it use the cycle-with-intermediary release type?

N/A

Change-Id: I80eb63c2ed01659990ca5506be7e0e246c9586ba
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/694093/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,9bbb17864bc64a0165be068e19189ea4a7b85f83,tabulate,tabulate===0.8.5,,2,0
openstack%2Frequirements~master~I41097c9239a0b384fb1d6e8e7201c583cf61109f,openstack/requirements,master,I41097c9239a0b384fb1d6e8e7201c583cf61109f,update constraint for os-collect-config to new release 11.0.0,MERGED,2019-11-27 19:37:11.000000000,2019-11-28 00:41:10.000000000,2019-11-28 00:39:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 19:37:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/81639e9698d5955623e77ed6344478c9bee9f95e', 'message': 'update constraint for os-collect-config to new release 11.0.0\n\nChange-Id: I41097c9239a0b384fb1d6e8e7201c583cf61109f\nmeta:version: 11.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,696394,81639e9698d5955623e77ed6344478c9bee9f95e,8,2,1,11131,,,0,"update constraint for os-collect-config to new release 11.0.0

Change-Id: I41097c9239a0b384fb1d6e8e7201c583cf61109f
meta:version: 11.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>
meta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/696394/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,81639e9698d5955623e77ed6344478c9bee9f95e,new-release,os-collect-config===11.0.0,os-collect-config===10.5.0,1,1
openstack%2Frequirements~master~I4ffded7b0b57a961dde806e7744bd4d57d6b027d,openstack/requirements,master,I4ffded7b0b57a961dde806e7744bd4d57d6b027d,update constraint for paunch to new release 6.0.0,MERGED,2019-11-27 19:39:02.000000000,2019-11-28 00:39:40.000000000,2019-11-28 00:39:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 19:39:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eca39fa4a9e311b87dd7b9f91c04103a9a387d4d', 'message': 'update constraint for paunch to new release 6.0.0\n\nChange-Id: I4ffded7b0b57a961dde806e7744bd4d57d6b027d\nmeta:version: 6.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,696396,eca39fa4a9e311b87dd7b9f91c04103a9a387d4d,7,2,1,11131,,,0,"update constraint for paunch to new release 6.0.0

Change-Id: I4ffded7b0b57a961dde806e7744bd4d57d6b027d
meta:version: 6.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>
meta:release:Co-Authored-By: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/696396/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eca39fa4a9e311b87dd7b9f91c04103a9a387d4d,new-release,paunch===6.0.0,paunch===5.3.0,1,1
openstack%2Frequirements~master~Id0a8de7917bb91608b16953ed63722ac2d061ac3,openstack/requirements,master,Id0a8de7917bb91608b16953ed63722ac2d061ac3,Add new dependency for akamai API library,MERGED,2019-11-04 13:52:12.000000000,2019-11-28 00:17:15.000000000,2019-11-28 00:16:13.000000000,"[{'_account_id': 6577}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-04 13:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/05a8416628029893f7ad05bdfa4b8fc439ca09de', 'message': ""Add new dependency for akamai API library\n\n* Is the library actively maintained?\n\nThis library has not a lot of commits per day, because implements\nAuthentication handler for requests that provides the Akamai {OPEN}\nEdgegrid Authentication scheme to work with Akamai API.\nSo it's stable enough and last merged pull request was in this year\n(28 Feb 2019).\n\n* Is the library good code?\n\nYes. It's simple enough and has a batch of tests for the existing code.\nhttps://github.com/akamai/AkamaiOPEN-edgegrid-python/tree/master/akamai/edgegrid/test\n\n* Is the library python 3 compatible?\n\nYes. According the history it has necessary support:\nit's support pytho3 since 1.0.4 version\nhttps://github.com/akamai/AkamaiOPEN-edgegrid-python/blob/master/HISTORY.rst#104-2014-11-05\n\n* Is the library license compatible?\n\nYes, library is under an Apache 2.0 license.\n\n* Is the library already packaged in the distros we target (Ubuntu\nlatest / Fedora latest)?\n\nIt has not package for Ubuntu, but there is a package for Fedora.\nhttps://koji.fedoraproject.org/koji/packageinfo?packageID=28118\n\n* Is the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\nThere is no alternative libraries can be used to authenticate with Akamai Edge.\n\n* Is the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\nIt's used for implementation one of backends for Designate project.\nMoreover akamai fast dns api v1 is deprecated, therefore a new back-end\ndriver is needed in Openstack Designate to support akamai fast dns v2.\n\n* If the library release is managed by the Openstack release process\ndoes it use the cycle-with-intermediary release type?\n\nN/A\n\nChange-Id: Id0a8de7917bb91608b16953ed63722ac2d061ac3\n""}, {'number': 2, 'created': '2019-11-05 20:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1fe8c560e14612d4176f69e1cf552f3d13a4a3b6', 'message': ""Add new dependency for akamai API library\n\n* Is the library actively maintained?\n\nThis library has not a lot of commits per day, because implements\nAuthentication handler for requests that provides the Akamai {OPEN}\nEdgegrid Authentication scheme to work with Akamai API.\nSo it's stable enough and last merged pull request was in this year\n(28 Feb 2019).\n\n* Is the library good code?\n\nYes. It's simple enough and has a batch of tests for the existing code.\nhttps://github.com/akamai/AkamaiOPEN-edgegrid-python/tree/master/akamai/edgegrid/test\n\n* Is the library python 3 compatible?\n\nYes. According the history it has necessary support:\nit's support pytho3 since 1.0.4 version\nhttps://github.com/akamai/AkamaiOPEN-edgegrid-python/blob/master/HISTORY.rst#104-2014-11-05\n\n* Is the library license compatible?\n\nYes, library is under an Apache 2.0 license.\n\n* Is the library already packaged in the distros we target (Ubuntu\nlatest / Fedora latest)?\n\nIt has not package for Ubuntu, but there is a package for Fedora.\nhttps://koji.fedoraproject.org/koji/packageinfo?packageID=28118\n\n* Is the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\nThere is no alternative libraries can be used to authenticate with Akamai Edge.\n\n* Is the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\nIt's used for implementation one of backends for Designate project.\nMoreover akamai fast dns api v1 is deprecated, therefore a new back-end\ndriver is needed in Openstack Designate to support akamai fast dns v2.\n\n* If the library release is managed by the Openstack release process\ndoes it use the cycle-with-intermediary release type?\n\nN/A\n\nChange-Id: Id0a8de7917bb91608b16953ed63722ac2d061ac3\n""}, {'number': 3, 'created': '2019-11-10 16:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ceacdf653b714a02fcfe2b9edbfdbe23065e43e3', 'message': ""Add new dependency for akamai API library\n\n* Is the library actively maintained?\n\nThis library has not a lot of commits per day, because implements\nAuthentication handler for requests that provides the Akamai {OPEN}\nEdgegrid Authentication scheme to work with Akamai API.\nSo it's stable enough and last merged pull request was in this year\n(28 Feb 2019).\n\n* Is the library good code?\n\nYes. It's simple enough and has a batch of tests for the existing code.\nhttps://github.com/akamai/AkamaiOPEN-edgegrid-python/tree/master/akamai/edgegrid/test\n\n* Is the library python 3 compatible?\n\nYes. According the history it has necessary support:\nit's support pytho3 since 1.0.4 version\nhttps://github.com/akamai/AkamaiOPEN-edgegrid-python/blob/master/HISTORY.rst#104-2014-11-05\n\n* Is the library license compatible?\n\nYes, library is under an Apache 2.0 license.\n\n* Is the library already packaged in the distros we target (Ubuntu\nlatest / Fedora latest)?\n\nIt has not package for Ubuntu, but there is a package for Fedora.\nhttps://koji.fedoraproject.org/koji/packageinfo?packageID=28118\n\n* Is the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\nThere is no alternative libraries can be used to authenticate with Akamai Edge.\n\n* Is the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\nIt's used for implementation one of backends for Designate project.\nMoreover akamai fast dns api v1 is deprecated, therefore a new back-end\ndriver is needed in Openstack Designate to support akamai fast dns v2.\n\n* If the library release is managed by the Openstack release process\ndoes it use the cycle-with-intermediary release type?\n\nN/A\n\nChange-Id: Id0a8de7917bb91608b16953ed63722ac2d061ac3\n""}, {'number': 4, 'created': '2019-11-11 14:43:48.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/847f59c69a1416212f215d2a3c13563b12508abc', 'message': ""Add new dependency for akamai API library\n\n* Is the library actively maintained?\n\nThis library has not a lot of commits per day, because implements\nAuthentication handler for requests that provides the Akamai {OPEN}\nEdgegrid Authentication scheme to work with Akamai API.\nSo it's stable enough and last merged pull request was in this year\n(28 Feb 2019).\n\n* Is the library good code?\n\nYes. It's simple enough and has a batch of tests for the existing code.\nhttps://github.com/akamai/AkamaiOPEN-edgegrid-python/tree/master/akamai/edgegrid/test\n\n* Is the library python 3 compatible?\n\nYes. According the history it has necessary support:\nit's support pytho3 since 1.0.4 version\nhttps://github.com/akamai/AkamaiOPEN-edgegrid-python/blob/master/HISTORY.rst#104-2014-11-05\n\n* Is the library license compatible?\n\nYes, library is under an Apache 2.0 license.\n\n* Is the library already packaged in the distros we target (Ubuntu\nlatest / Fedora latest)?\n\nIt has not package for Ubuntu, but there is a package for Fedora.\nhttps://koji.fedoraproject.org/koji/packageinfo?packageID=28118\n\n* Is the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\nThere is no alternative libraries can be used to authenticate with Akamai Edge.\n\n* Is the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\nIt's used for implementation one of backends for Designate project.\nMoreover akamai fast dns api v1 is deprecated, therefore a new back-end\ndriver is needed in Openstack Designate to support akamai fast dns v2.\n\n* If the library release is managed by the Openstack release process\ndoes it use the cycle-with-intermediary release type?\n\nN/A\n\nChange-Id: Id0a8de7917bb91608b16953ed63722ac2d061ac3\n""}]",2,692819,847f59c69a1416212f215d2a3c13563b12508abc,22,7,4,6577,,,0,"Add new dependency for akamai API library

* Is the library actively maintained?

This library has not a lot of commits per day, because implements
Authentication handler for requests that provides the Akamai {OPEN}
Edgegrid Authentication scheme to work with Akamai API.
So it's stable enough and last merged pull request was in this year
(28 Feb 2019).

* Is the library good code?

Yes. It's simple enough and has a batch of tests for the existing code.
https://github.com/akamai/AkamaiOPEN-edgegrid-python/tree/master/akamai/edgegrid/test

* Is the library python 3 compatible?

Yes. According the history it has necessary support:
it's support pytho3 since 1.0.4 version
https://github.com/akamai/AkamaiOPEN-edgegrid-python/blob/master/HISTORY.rst#104-2014-11-05

* Is the library license compatible?

Yes, library is under an Apache 2.0 license.

* Is the library already packaged in the distros we target (Ubuntu
latest / Fedora latest)?

It has not package for Ubuntu, but there is a package for Fedora.
https://koji.fedoraproject.org/koji/packageinfo?packageID=28118

* Is the function of this library already covered by other libraries in
global-requirements.txt?

There is no alternative libraries can be used to authenticate with Akamai Edge.

* Is the library required for OpenStack project or related dev or
infrastructure setup? (Answer to this should be Yes, of course) Which?

It's used for implementation one of backends for Designate project.
Moreover akamai fast dns api v1 is deprecated, therefore a new back-end
driver is needed in Openstack Designate to support akamai fast dns v2.

* If the library release is managed by the Openstack release process
does it use the cycle-with-intermediary release type?

N/A

Change-Id: Id0a8de7917bb91608b16953ed63722ac2d061ac3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/692819/3 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,05a8416628029893f7ad05bdfa4b8fc439ca09de,,edgegrid-python # Apache-2.0,,1,0
openstack%2Ftripleo-ansible~master~I609920a96c725c49f1623f60f8295d89ae4f3141,openstack/tripleo-ansible,master,I609920a96c725c49f1623f60f8295d89ae4f3141,use version parsing from distutils,MERGED,2019-11-27 18:36:09.000000000,2019-11-28 00:16:00.000000000,2019-11-28 00:16:00.000000000,"[{'_account_id': 7353}, {'_account_id': 8161}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 18:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46f3e8be8a33e8f3e15dddef975d75d7fa729f6a', 'message': 'use version parsing from pbr\n\nwe already depend on pbr.  Using the SemanticVersion.from_pip_string\ninstead of a new dep\n\nChange-Id: I609920a96c725c49f1623f60f8295d89ae4f3141\n'}, {'number': 2, 'created': '2019-11-27 18:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/102f65c0e76acaac6c5b6c4868cef3d0b02175c3', 'message': 'use version parsing from pbr\n\nwe already depend on pbr.  Using the SemanticVersion.from_pip_string\ninstead of a new dep\n\nChange-Id: I609920a96c725c49f1623f60f8295d89ae4f3141\n'}, {'number': 3, 'created': '2019-11-27 19:06:09.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c83219fbbc4078bfb8e666bd3186c22e809437a', 'message': 'use version parsing from distutils\n\nuse LooseVersion for version comparisons\n\nChange-Id: I609920a96c725c49f1623f60f8295d89ae4f3141\n'}]",1,696386,8c83219fbbc4078bfb8e666bd3186c22e809437a,12,5,3,16282,,,0,"use version parsing from distutils

use LooseVersion for version comparisons

Change-Id: I609920a96c725c49f1623f60f8295d89ae4f3141
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/696386/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,46f3e8be8a33e8f3e15dddef975d75d7fa729f6a,,from pbr.version.SemanticVersion import from_pip_string as version_parse if minv and version_parse(minv) > version_parse(self.podman_version): if maxv and version_parse(maxv) < version_parse(self.podman_version):,from packaging import version if minv and version.parse(minv) > version.parse( self.podman_version): if maxv and version.parse(maxv) < version.parse( self.podman_version):,3,5
openstack%2Fcinder~master~I09a08b45b25291882ee8d9037f7b3e43c307a6cf,openstack/cinder,master,I09a08b45b25291882ee8d9037f7b3e43c307a6cf,NEC driver: replace deprecated xml library,MERGED,2019-10-25 08:39:45.000000000,2019-11-28 00:10:38.000000000,2019-11-27 16:56:06.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28403}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-25 08:39:45.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/357379b0a8ce5227713545ac8f2ce7edf026433c', 'message': ""NEC driver: replace deprecated xml library\n\nCurrently, NEC driver uses 'defusedxml.lxml' for parsing xml.\nBut it is no longer supported and will be removed in a future release.\n\nThis patch replaces the deprecated xml library into\n'defusedxml.ElementTree'.\n\nThis patch also adds test data for xml parsing.\n\nChange-Id: I09a08b45b25291882ee8d9037f7b3e43c307a6cf\nCloses-Bug: #1829010\n""}]",1,691262,357379b0a8ce5227713545ac8f2ce7edf026433c,44,31,1,28403,,,0,"NEC driver: replace deprecated xml library

Currently, NEC driver uses 'defusedxml.lxml' for parsing xml.
But it is no longer supported and will be removed in a future release.

This patch replaces the deprecated xml library into
'defusedxml.ElementTree'.

This patch also adds test data for xml parsing.

Change-Id: I09a08b45b25291882ee8d9037f7b3e43c307a6cf
Closes-Bug: #1829010
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/691262/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py']",2,357379b0a8ce5227713545ac8f2ce7edf026433c,bug/1829010,"from defusedxml import ElementTree root = ElementTree.fromstring(xml) vendor_name = root.findall('./VendorName')[0].text product_map = root.findall('./ProductMap/Product') section = root.findall('./CMD_REQUEST')[0] for section in root.findall( for xmlobj in root.findall('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Pool""]/' 'OBJECT[@name=""Pool""]'): for section in xmlobj.findall('./SECTION[@name=' '""Virtual Capacity Pool ' 'Information""]'): for section in root.findall('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Logical Disk""]/' 'OBJECT[@name=""Logical Disk""]/' 'SECTION[@name=""LD Detail Information""]'): for xmlobj in root.findall('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Access Control""]/' 'OBJECT[@name=""LD Set(iSCSI)""]'): for unit in xmlobj.findall('./SECTION[@name=""Portal""]/' 'UNIT[@name=""Portal""]'): for unit in xmlobj.findall('./SECTION[@name=""Initiator List""]/' 'UNIT[@name=""Initiator List""]'): for section in xmlobj.findall('./SECTION[@name=' '""LUN/LD List""]'): for section in xmlobj.findall('./SECTION[@name=' '""Target Information For ' 'Multi-Target Mode""]'): for xmlobj in root.findall('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Access Control""]/' 'OBJECT[@name=""LD Set(FC)""]'): for section in xmlobj.findall('./SECTION[@name=""Path List""]'): for section in xmlobj.findall('./SECTION[@name=""LUN/LD List""]'): for section in root.findall('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Controller""]/' 'OBJECT[@name=""Host Port""]/' 'SECTION[@name=""Host Director' '/Host Port Information""]'): root = ElementTree.fromstring(xml)","from defusedxml import lxml root = lxml.fromstring(xml) vendor_name = root.xpath('./VendorName')[0].text product_map = root.xpath('./ProductMap/Product') section = root.xpath('./CMD_REQUEST')[0] for section in root.xpath( for xmlobj in root.xpath('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Pool""]/' 'OBJECT[@name=""Pool""]'): for section in xmlobj.xpath('./SECTION[@name=' '""Virtual Capacity Pool ' 'Information""]'): for section in root.xpath('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Logical Disk""]/' 'OBJECT[@name=""Logical Disk""]/' 'SECTION[@name=""LD Detail Information""]'): for xmlobj in root.xpath('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Access Control""]/' 'OBJECT[@name=""LD Set(iSCSI)""]'): for unit in xmlobj.xpath('./SECTION[@name=""Portal""]/' 'UNIT[@name=""Portal""]'): for unit in xmlobj.xpath('./SECTION[@name=""Initiator List""]/' 'UNIT[@name=""Initiator List""]'): for section in xmlobj.xpath('./SECTION[@name=""LUN/LD List""]'): for section in xmlobj.xpath('./SECTION[@name=' '""Target Information For ' 'Multi-Target Mode""]'): for xmlobj in root.xpath('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Access Control""]/' 'OBJECT[@name=""LD Set(FC)""]'): for section in xmlobj.xpath('./SECTION[@name=""Path List""]'): for section in xmlobj.xpath('./SECTION[@name=""LUN/LD List""]'): for section in root.xpath('./' 'CMD_REQUEST/' 'CHAPTER[@name=""Controller""]/' 'OBJECT[@name=""Host Port""]/' 'SECTION[@name=""Host Director' '/Host Port Information""]'): root = lxml.fromstring(xml)",67,43
openstack%2Fneutron~stable%2Fstein~If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6,openstack/neutron,stable/stein,If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6,"NetcatTester.stop_processes skip ""No such process"" exception",MERGED,2019-11-22 10:54:17.000000000,2019-11-27 23:34:05.000000000,2019-11-27 23:32:40.000000000,"[{'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-22 10:54:17.000000000', 'files': ['neutron/tests/functional/tests/common/test_net_helpers.py', 'neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8e9ba70f8f52d3f3af29288d13fe6e45b4695a2', 'message': 'NetcatTester.stop_processes skip ""No such process"" exception\n\nIf any of the processes, client or server, spawned by NetcatTester is\nnot present during the stop command (kill signal sent), by default the\nmethod will not raise an exception.\n\nChange-Id: If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6\nCloses-Bug: #1852869\n(cherry picked from commit 728d8ee4b1b9fd6a99ebbd66a0e30e81a078a5b5)\n'}]",0,695657,d8e9ba70f8f52d3f3af29288d13fe6e45b4695a2,16,7,1,16688,,,0,"NetcatTester.stop_processes skip ""No such process"" exception

If any of the processes, client or server, spawned by NetcatTester is
not present during the stop command (kill signal sent), by default the
method will not raise an exception.

Change-Id: If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6
Closes-Bug: #1852869
(cherry picked from commit 728d8ee4b1b9fd6a99ebbd66a0e30e81a078a5b5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/695657/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/tests/common/test_net_helpers.py', 'neutron/tests/common/net_helpers.py']",2,d8e9ba70f8f52d3f3af29288d13fe6e45b4695a2,bug/1852869-stable/train-stable/stein,"from neutron_lib import exceptions as n_exc def stop_processes(self, skip_errors=None): skip_errors = (['No such process'] if skip_errors is None else skip_errors) try: if proc.poll() is None: proc.kill() proc.wait() except n_exc.ProcessExecutionError as exc: for skip_error in skip_errors: if skip_error in str(exc): break else: raise exc", def stop_processes(self): if proc.poll() is None: proc.kill() proc.wait(),89,4
openstack%2Foctavia-tempest-plugin~master~I1ab6112a11a713b5033f7c9f1a23b55a5647649a,openstack/octavia-tempest-plugin,master,I1ab6112a11a713b5033f7c9f1a23b55a5647649a,Handle NotImplemented flavor exception,MERGED,2019-08-13 09:08:58.000000000,2019-11-27 23:25:20.000000000,2019-11-27 23:23:58.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-13 09:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/47d90c9fec212430fa430183944fa0486381235a', 'message': ""Add an option to enable/disable testing flavors\n\nThe change [0] add flavor to load_balancer CRUD\noperation in scenario tests. The OVN doesn't support\nflavors yet so we need an option to disable this\nfunctionallity.\n\nTask: 36270\nStory: 2006264\n[0] https://review.opendev.org/#/c/631353\n\nChange-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a\n""}, {'number': 2, 'created': '2019-09-30 13:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/dfc7a8a3a199998bac2dfccf992c450ce033e604', 'message': ""Add an option to enable/disable testing flavors\n\nThe change [0] add flavor to load_balancer CRUD\noperation in scenario tests. The OVN doesn't support\nflavors yet so we need an option to disable this\nfunctionallity.\n\nTask: 36270\nStory: 2006264\n[0] https://review.opendev.org/#/c/631353\n\nChange-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a\n""}, {'number': 3, 'created': '2019-10-03 09:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b7a808c9db1c3cc28e39b74ba4e133ef2005aa5d', 'message': ""Add an option to enable/disable testing flavors\n\nThe change [0] add flavor to load_balancer CRUD\noperation in scenario tests. The OVN doesn't support\nflavors yet so we need an option to disable this\nfunctionallity.\n\nTask: 36270\nStory: 2006264\n[0] https://review.opendev.org/#/c/631353\n\nChange-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a\n""}, {'number': 4, 'created': '2019-10-14 09:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/213d5f924472d14620d7c58166460934d3bbdf03', 'message': ""Handle NotImplemented flavor exception\n\nThe change [0] add flavor to load_balancer CRUD\noperation in scenario tests. The OVN doesn't support\nflavors yet so we need to handle this exception.\n\nTask: 36270\nStory: 2006264\n[0] https://review.opendev.org/#/c/631353\n\nChange-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a\n""}, {'number': 5, 'created': '2019-10-24 09:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3e940a955b8ce587bc839f715243eef75a3894df', 'message': ""Handle NotImplemented flavor exception\n\nThe change [0] add flavor to load_balancer CRUD\noperation in scenario tests. The OVN doesn't support\nflavors yet so we need to handle this exception.\n\nTask: 36270\nStory: 2006264\n[0] https://review.opendev.org/#/c/631353\n\nChange-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a\n""}, {'number': 6, 'created': '2019-11-06 07:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/460e45ccf374e5f693a43a61573672f21dc9106d', 'message': ""Handle NotImplemented flavor exception\n\nThe change [0] add flavor to load_balancer CRUD\noperation in scenario tests. The OVN doesn't support\nflavors yet so we need to handle this exception.\n\nTask: 36270\nStory: 2006264\n[0] https://review.opendev.org/#/c/631353\n\nChange-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a\n""}, {'number': 7, 'created': '2019-11-06 07:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9255702c507ec02dbc95dd2ff8202af9c85d5a17', 'message': ""Handle NotImplemented flavor exception\n\nThe change [0] add flavor to load_balancer CRUD\noperation in scenario tests. The OVN doesn't support\nflavors yet so we need to handle this exception.\n\nTask: 36270\nStory: 2006264\n[0] https://review.opendev.org/#/c/631353\n\nChange-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a\n""}, {'number': 8, 'created': '2019-11-06 07:23:06.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1c8e476f3b8cb0669a1295ad5ea9ae3b5b2975ac', 'message': ""Handle NotImplemented flavor exception\n\nThe change [0] add flavor to load_balancer CRUD\noperation in scenario tests. The OVN doesn't support\nflavors yet so we need to handle this exception.\n\nTask: 36270\nStory: 2006264\n[0] https://review.opendev.org/#/c/631353\n\nChange-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a\n""}]",7,676135,1c8e476f3b8cb0669a1295ad5ea9ae3b5b2975ac,41,12,8,24791,,,0,"Handle NotImplemented flavor exception

The change [0] add flavor to load_balancer CRUD
operation in scenario tests. The OVN doesn't support
flavors yet so we need to handle this exception.

Task: 36270
Story: 2006264
[0] https://review.opendev.org/#/c/631353

Change-Id: I1ab6112a11a713b5033f7c9f1a23b55a5647649a
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/35/676135/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/scenario/v2/test_load_balancer.py']",2,47d90c9fec212430fa430183944fa0486381235a,source_ip_port_octavia_ovn," cls.api_version, '2.6') and CONF.load_balancer.test_flavors: self.api_version, '2.6') and CONF.load_balancer.test_flavors:"," cls.api_version, '2.6'): self.api_version, '2.6'):",4,2
openstack%2Ftripleo-heat-templates~master~I70361801c71738f2d95930aea99914316d9f0d11,openstack/tripleo-heat-templates,master,I70361801c71738f2d95930aea99914316d9f0d11,Force redis::ulimit to be an integer,MERGED,2019-11-27 11:18:54.000000000,2019-11-27 23:16:15.000000000,2019-11-27 22:58:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 11:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/025f70f0bbaa8401d3dac0130b5467ec67af0006', 'message': ""Force redis::ulimit to be an integer\n\nThe upstream change at:\nhttps://github.com/voxpupuli/puppet-redis/commit/502ff38c8c035fa143e32dd4ee61b3ec68db461c\n\nmade redis::ulimit an integer and will now error out if passed a string.\nHistorically in THT we passed RedisFDLimit directly to the redis::ulimit\nhiera key as a string. Since changing the RedisFDLimit parameter to a\nnumber might break existing templates, let's simply convert it to an\ninteger via a YAQL expression.\n\nChange-Id: I70361801c71738f2d95930aea99914316d9f0d11\nCloses-Bug: #1854136\n""}, {'number': 2, 'created': '2019-11-27 16:10:35.000000000', 'files': ['deployment/database/redis-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b82725f5e097e962bc9181fb18ee32a13c5ad649', 'message': ""Force redis::ulimit to be an integer\n\nThe upstream change at:\nhttps://github.com/voxpupuli/puppet-redis/commit/502ff38c8c035fa143e32dd4ee61b3ec68db461c\n\nmade redis::ulimit an integer and will now error out if passed a string.\nHistorically in THT we passed RedisFDLimit directly to the redis::ulimit\nhiera key as a string. Let's just change RedisFDLimit to a number. The\nonly affected people will be those that A) tweaked this parameter and\nB) actually wrapped the param into quotes so to force it as a string.\nGiven that this number is likely non-significance, we choose this route\nand we avoid an extra YAQL invocation to do a conversion in THT.\n\nChange-Id: I70361801c71738f2d95930aea99914316d9f0d11\nCloses-Bug: #1854136\n""}]",5,696285,b82725f5e097e962bc9181fb18ee32a13c5ad649,24,11,2,20172,,,0,"Force redis::ulimit to be an integer

The upstream change at:
https://github.com/voxpupuli/puppet-redis/commit/502ff38c8c035fa143e32dd4ee61b3ec68db461c

made redis::ulimit an integer and will now error out if passed a string.
Historically in THT we passed RedisFDLimit directly to the redis::ulimit
hiera key as a string. Let's just change RedisFDLimit to a number. The
only affected people will be those that A) tweaked this parameter and
B) actually wrapped the param into quotes so to force it as a string.
Given that this number is likely non-significance, we choose this route
and we avoid an extra YAQL invocation to do a conversion in THT.

Change-Id: I70361801c71738f2d95930aea99914316d9f0d11
Closes-Bug: #1854136
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/696285/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-base-puppet.yaml'],1,025f70f0bbaa8401d3dac0130b5467ec67af0006,, redis::ulimit: yaql: expression: int($.data.ulimit) data: ulimit: {get_param: RedisFDLimit}, redis::ulimit: {get_param: RedisFDLimit},5,1
openstack%2Ftripleo-ansible~master~I1fecb562e1315ebfc0406b3ac25b8dac6dfca607,openstack/tripleo-ansible,master,I1fecb562e1315ebfc0406b3ac25b8dac6dfca607,Add LVM2 package install to bootstrap,MERGED,2019-11-27 17:36:50.000000000,2019-11-27 23:12:49.000000000,2019-11-27 23:11:08.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 17:36:50.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19f33cf53d9e20f154f70d44464aacf67293e20e', 'message': 'Add LVM2 package install to bootstrap\n\nThis package is needed by ceph and should already be part of our\nbootstrap process on pre-deployed hosts.\n\nChange-Id: I1fecb562e1315ebfc0406b3ac25b8dac6dfca607\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,696369,19f33cf53d9e20f154f70d44464aacf67293e20e,12,6,1,7353,,,0,"Add LVM2 package install to bootstrap

This package is needed by ceph and should already be part of our
bootstrap process on pre-deployed hosts.

Change-Id: I1fecb562e1315ebfc0406b3ac25b8dac6dfca607
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/696369/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml']",2,19f33cf53d9e20f154f70d44464aacf67293e20e,fix-ci, - lvm2 - openstack-heat-agents - os-net-config - puppet-tripleo, - openstack-heat-agents - puppet-tripleo - os-net-config,6,4
openstack%2Ftrove~master~Ic141900cd5c2c8ee0185af72cf81678cf3a3afe3,openstack/trove,master,Ic141900cd5c2c8ee0185af72cf81678cf3a3afe3,Allow change periodic interval in database update,NEW,2019-09-13 08:54:31.000000000,2019-11-27 22:24:09.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 08:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3d77f8c8222b055cdb6f3a2ffd962a145890cd18', 'message': 'Allow change periodic interval in database update\n\nOperator/ developer, they can change this parameter\nfor guest-agent.service. Depend on networks and\ninfrastructure to change suitable value.\n\nChange-Id: Ic141900cd5c2c8ee0185af72cf81678cf3a3afe3\n'}, {'number': 2, 'created': '2019-10-17 10:08:03.000000000', 'files': ['etc/trove/trove-guestagent.conf.sample', 'trove/guestagent/datastore/manager.py', 'trove/common/cfg.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6f1b0fb0a909a7e644fa0d54a11de8d50102385b', 'message': 'Allow change periodic interval in database update\n\nOperator/ developer, they can change this parameter\nfor guest-agent.service. Depend on networks and\ninfrastructure to change suitable value.\n\nChange-Id: Ic141900cd5c2c8ee0185af72cf81678cf3a3afe3\n'}]",1,681996,6f1b0fb0a909a7e644fa0d54a11de8d50102385b,5,2,2,25254,,,0,"Allow change periodic interval in database update

Operator/ developer, they can change this parameter
for guest-agent.service. Depend on networks and
infrastructure to change suitable value.

Change-Id: Ic141900cd5c2c8ee0185af72cf81678cf3a3afe3
",git fetch https://review.opendev.org/openstack/trove refs/changes/96/681996/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/trove/trove-guestagent.conf.sample', 'trove/guestagent/datastore/manager.py', 'trove/common/cfg.py']",3,3d77f8c8222b055cdb6f3a2ffd962a145890cd18,support_interval_check," cfg.IntOpt('query_database_status_interval', default=60, help='Time (in seconds) given to a node after a state change ' 'to check database status in periodic internal.'),",,9,1
openstack%2Fcinder~stable%2Ftrain~I0c26c400f08d91c8c125c69e06e4c90302bcdbb1,openstack/cinder,stable/train,I0c26c400f08d91c8c125c69e06e4c90302bcdbb1,Increase cpu limit for image conversion,MERGED,2019-11-07 16:15:50.000000000,2019-11-27 21:43:09.000000000,2019-11-27 18:15:12.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-11-07 16:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c24e5f9196f0e56f27976f9ca6529899784191e', 'message': 'Increase cpu limit for image conversion\n\nThe 8 second timeout is not always sufficient for\nlarge images.\n\nBump to 30s, which matches what Nova currently\nuses for this same limit.\n\nChange-Id: I0c26c400f08d91c8c125c69e06e4c90302bcdbb1\nCloses-Bug: #1705340\n'}, {'number': 2, 'created': '2019-11-12 15:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/799ae7a01f38d22ec4244e5c41b2d7fd51241b4b', 'message': 'Increase cpu limit for image conversion\n\nThe 8 second timeout is not always sufficient for\nlarge images.\n\nBump to 30s, which matches what Nova currently\nuses for this same limit.\n\nChange-Id: I0c26c400f08d91c8c125c69e06e4c90302bcdbb1\nCloses-Bug: #1705340\n(cherry picked from commit 3566c5145ad676c7eb5952807f3ef1c44c142b74)\n'}, {'number': 3, 'created': '2019-11-25 09:55:35.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa6f7d3d319647bee17ebc9a390ae26c14f3650f', 'message': 'Increase cpu limit for image conversion\n\nThe 8 second timeout is not always sufficient for\nlarge images.\n\nBump to 30s, which matches what Nova currently\nuses for this same limit.\n\nChange-Id: I0c26c400f08d91c8c125c69e06e4c90302bcdbb1\nCloses-Bug: #1705340\n(cherry picked from commit 3566c5145ad676c7eb5952807f3ef1c44c142b74)\n'}]",0,693382,fa6f7d3d319647bee17ebc9a390ae26c14f3650f,111,18,3,4523,,,0,"Increase cpu limit for image conversion

The 8 second timeout is not always sufficient for
large images.

Bump to 30s, which matches what Nova currently
uses for this same limit.

Change-Id: I0c26c400f08d91c8c125c69e06e4c90302bcdbb1
Closes-Bug: #1705340
(cherry picked from commit 3566c5145ad676c7eb5952807f3ef1c44c142b74)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/693382/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,3c24e5f9196f0e56f27976f9ca6529899784191e,," cpu_time=30,"," cpu_time=8,",1,1
openstack%2Fheat~stable%2Frocky~I6de88e687ff95432ddbd0547a7f5759e18d7749e,openstack/heat,stable/rocky,I6de88e687ff95432ddbd0547a7f5759e18d7749e,Fix the wrong time unit for OS::Octavia::HealthMonitor,MERGED,2019-09-30 03:35:31.000000000,2019-11-27 21:27:26.000000000,2019-11-27 21:27:26.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 03:35:31.000000000', 'files': ['heat/engine/resources/openstack/octavia/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ef7c9c05c39ad33dd5b55ce2d1423a4e77ad6242', 'message': ""Fix the wrong time unit for OS::Octavia::HealthMonitor\n\nUnit of both 'delay' and 'timeout' should be seconds based on Octavia\nAPI doc\nhttps://docs.openstack.org/api-ref/load-balancer/v2/index.html?expanded=create-health-monitor-detail#id105\n\nChange-Id: I6de88e687ff95432ddbd0547a7f5759e18d7749e\nStory: 2006637\nTask: 36852\n(cherry picked from commit ad841b4483eeba9dfd0ccd8f8b4c5d5fd3e15cc1)\n""}]",0,685638,ef7c9c05c39ad33dd5b55ce2d1423a4e77ad6242,10,2,1,12404,,,0,"Fix the wrong time unit for OS::Octavia::HealthMonitor

Unit of both 'delay' and 'timeout' should be seconds based on Octavia
API doc
https://docs.openstack.org/api-ref/load-balancer/v2/index.html?expanded=create-health-monitor-detail#id105

Change-Id: I6de88e687ff95432ddbd0547a7f5759e18d7749e
Story: 2006637
Task: 36852
(cherry picked from commit ad841b4483eeba9dfd0ccd8f8b4c5d5fd3e15cc1)
",git fetch https://review.opendev.org/openstack/heat refs/changes/38/685638/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/octavia/health_monitor.py'],1,ef7c9c05c39ad33dd5b55ce2d1423a4e77ad6242,fix-unit-stable/stein-stable/rocky, _('The minimum time in seconds between regular connections ' _('Maximum number of seconds for a monitor to wait for a ', _('The minimum time in milliseconds between regular connections ' _('Maximum number of milliseconds for a monitor to wait for a ',2,2
openstack%2Fcyborg~master~I04346681531fce21613516cd10afe634f80ce0d3,openstack/cyborg,master,I04346681531fce21613516cd10afe634f80ce0d3,DNM: Make sure pep8 is running in the gate,ABANDONED,2019-11-27 20:45:02.000000000,2019-11-27 21:03:49.000000000,,[{'_account_id': 14070}],"[{'number': 1, 'created': '2019-11-27 20:45:02.000000000', 'files': ['cyborg/accelerator/common/utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/10e1e0e1cb6091c89f46213c5c4fe7faccdf7eae', 'message': 'DNM: Make sure pep8 is running in the gate\n\nChange-Id: I04346681531fce21613516cd10afe634f80ce0d3\n'}]",0,696405,10e1e0e1cb6091c89f46213c5c4fe7faccdf7eae,4,1,1,14070,,,0,"DNM: Make sure pep8 is running in the gate

Change-Id: I04346681531fce21613516cd10afe634f80ce0d3
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/05/696405/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/common/utils.py'],1,10e1e0e1cb6091c89f46213c5c4fe7faccdf7eae,,,,1,0
openstack%2Ftripleo-ci~master~I01f052d8203180992dedf3917616c773e4bd5c18,openstack/tripleo-ci,master,I01f052d8203180992dedf3917616c773e4bd5c18,lint: fix role detection in ansible-lint,MERGED,2019-11-26 09:17:03.000000000,2019-11-27 20:55:45.000000000,2019-11-27 20:55:44.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-11-26 09:17:03.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6633e1fef3aef9e03a7cf54ba1d6dac1e064c187', 'message': 'lint: fix role detection in ansible-lint\n\nBump ansible-lint to 4.1.1a6 as the previous version had a bug which\nmade it detect only some roles. This version finds 7 roles instead of\n3. They are in good shape so no other change is needed.\n\nChange-Id: I01f052d8203180992dedf3917616c773e4bd5c18\n'}]",0,696041,6633e1fef3aef9e03a7cf54ba1d6dac1e064c187,14,9,1,24162,,,0,"lint: fix role detection in ansible-lint

Bump ansible-lint to 4.1.1a6 as the previous version had a bug which
made it detect only some roles. This version finds 7 roles instead of
3. They are in good shape so no other change is needed.

Change-Id: I01f052d8203180992dedf3917616c773e4bd5c18
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/696041/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,6633e1fef3aef9e03a7cf54ba1d6dac1e064c187,, rev: v4.1.1a6, rev: v4.1.1a5,1,1
openstack%2Ftripleo-upgrade~stable%2Frocky~I4a1459344794f5d602dc1b781d15a591ea2ac135,openstack/tripleo-upgrade,stable/rocky,I4a1459344794f5d602dc1b781d15a591ea2ac135,Workarounds: remove --reverse from patch options,MERGED,2019-11-14 22:46:25.000000000,2019-11-27 20:55:45.000000000,2019-11-27 20:55:45.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-14 22:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8fbdbd1b0dc1943f29a4aa9e0e8975da88e247c9', 'message': 'Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit fc859f3180a6432d3c9d8ca8b4817d0ee34cbf54)\n'}, {'number': 2, 'created': '2019-11-18 10:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7e7dedda08a63b8ebd1f6963e037d05274e3a162', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 99c57ca8b0c78f94d319800f9478c0381bf221ac)\n""}, {'number': 3, 'created': '2019-11-18 23:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a1dd9356cc9229a04f860e242e7aaabc2f37f7e4', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 99c57ca8b0c78f94d319800f9478c0381bf221ac)\n""}, {'number': 4, 'created': '2019-11-21 13:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d8ff36594387ec4904a54811095466961882e998', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 082f0ace47086b567dba37d6bcdb1a822e8319d7)\n""}, {'number': 5, 'created': '2019-11-25 11:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4082c614040afe214310c95cfe924bb69da46d95', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 082f0ace47086b567dba37d6bcdb1a822e8319d7)\n""}, {'number': 6, 'created': '2019-11-26 11:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d08666f8b2f13d8e31d9ea566cfde12eeb5b2ca5', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit a4fa67c1f91c655eb97ae634566aad03bd4a00e5)\n""}, {'number': 7, 'created': '2019-11-27 14:20:37.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f908b89cac37e398b80d88ec175939746a4d76b4', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit a4fa67c1f91c655eb97ae634566aad03bd4a00e5)\n""}]",0,694417,f908b89cac37e398b80d88ec175939746a4d76b4,19,3,7,11166,,,0,"Workarounds: remove --reverse from patch options

The --reverse option causes patch to fail even if the diff is
just few lines off. The reverse option to check if patch was
applied is not a good idea with yaml. It's fairly easy to create
reverse patch for patch that wasn't applied.

Change-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135
(cherry picked from commit a4fa67c1f91c655eb97ae634566aad03bd4a00e5)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/17/694417/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,8fbdbd1b0dc1943f29a4aa9e0e8975da88e247c9,, if sudo patch --dry-run --force -d ${patch_dir} -p1 < ${temp_dir}/patch.txt >/dev/null 2>&1, if sudo patch --dry-run --reverse --force -d ${patch_dir} -p1 < ${temp_dir}/patch.txt >/dev/null 2>&1,1,1
openstack%2Ftripleo-heat-templates~master~Idc8813792b5c6d4d4226491f81de2965beeaadbe,openstack/tripleo-heat-templates,master,Idc8813792b5c6d4d4226491f81de2965beeaadbe,"Revert ""Drop the SELinux flags for openvswitch /var/run directory""",MERGED,2019-11-26 12:26:45.000000000,2019-11-27 20:55:43.000000000,2019-11-27 20:55:43.000000000,"[{'_account_id': 4978}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-26 12:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72218b47536183e58d2a814eb389989e710a1693', 'message': 'Revert ""Drop the SELinux flags for openvswitch /var/run directory""\n\nThis reverts commit af80a0d914d9663079ad30c7dcdf73e1060c33e7.\n\nChange-Id: Idc8813792b5c6d4d4226491f81de2965beeaadbe\nReason: the added SELinux rule actually allows openvswitch to write in container_file_t - not the contrary. We therefore still need the "":z"" flag. A possible follow-up would be to drop the ""shared"" flag (useless) and remove the duplicated mount.\n'}, {'number': 2, 'created': '2019-11-26 12:32:11.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ce103186d241872a401c26c37f45326a42ba5b8', 'message': 'Revert ""Drop the SELinux flags for openvswitch /var/run directory""\n\nThis reverts commit af80a0d914d9663079ad30c7dcdf73e1060c33e7.\n\nReason: the added SELinux rule actually allows openvswitch to write in\ncontainer_file_t - not the contrary. We therefore still need the "":z"" flag.\nA possible follow-up would be to drop the ""shared"" flag (useless) and\nremove the duplicated mount.\n\nChange-Id: Idc8813792b5c6d4d4226491f81de2965beeaadbe\n'}]",0,696074,1ce103186d241872a401c26c37f45326a42ba5b8,16,8,2,28223,,,0,"Revert ""Drop the SELinux flags for openvswitch /var/run directory""

This reverts commit af80a0d914d9663079ad30c7dcdf73e1060c33e7.

Reason: the added SELinux rule actually allows openvswitch to write in
container_file_t - not the contrary. We therefore still need the "":z"" flag.
A possible follow-up would be to drop the ""shared"" flag (useless) and
remove the duplicated mount.

Change-Id: Idc8813792b5c6d4d4226491f81de2965beeaadbe
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/696074/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml']",5,72218b47536183e58d2a814eb389989e710a1693,selinux/ovs," - /run/openvswitch:/run/openvswitch:shared,z", - /run/openvswitch:/run/openvswitch,10,9
openstack%2Fnetworking-ovn~stable%2Fstein~Iaf807ab4bdbb41dc80702283d9689ccdd499fa31,openstack/networking-ovn,stable/stein,Iaf807ab4bdbb41dc80702283d9689ccdd499fa31,ovn-metadata-agent: dsvm-functional issues due to str conversion,MERGED,2019-11-22 18:20:44.000000000,2019-11-27 20:53:40.000000000,2019-11-27 20:51:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 18:20:44.000000000', 'files': ['networking_ovn/agent/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ee124454987fc5a191266ebff4fd1d77ef83567f', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1843944\n(cherry picked from commit 2832cee9756f03aaaeed2c6da0bfbe50fb16df54)\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\n'}]",0,695751,ee124454987fc5a191266ebff4fd1d77ef83567f,10,5,1,11952,,,0,"ovn-metadata-agent: dsvm-functional issues due to str conversion

Fix string to byte convertion issues that were causing failure on the following tests:

TestMetadataAgent.test_agent_resync_on_non_existing_bridge
TestMetadataAgent.test_metadata_agent_healthcheck
TestMetadataAgent.test_agent_registration_at_chassis_create_event
TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats

networking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event
---------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    b'Traceback (most recent call last):'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp'
    b'    self.agent = self._start_metadata_agent()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent'
    b'    agt.start()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start'
    b'    self.sync()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped'
    b'    return f(*args, **kwargs)'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync'
    b'    unused_namespaces = [ns for ns in system_namespaces if'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>'
    b'    ns.startswith(NS_PREFIX) and'
    b'TypeError: startswith first arg must be bytes or a tuple of bytes, not str'
    b''

Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Closes-Bug: #1843944
(cherry picked from commit 2832cee9756f03aaaeed2c6da0bfbe50fb16df54)
Change-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/51/695751/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/agent.py'],1,ee124454987fc5a191266ebff4fd1d77ef83567f,str_test_agent_registration_at_chassis_create_event," system_namespaces = tuple( ns.decode('utf-8') if isinstance(ns, bytes) else ns for ns in ip_lib.list_network_namespaces())", system_namespaces = ip_lib.list_network_namespaces(),3,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I554d62265ecf0e890f9545d871afe85c0344f747,openstack/networking-ovn,stable/train,I554d62265ecf0e890f9545d871afe85c0344f747,Remove escape characters from container command,MERGED,2019-11-14 16:23:51.000000000,2019-11-27 20:52:41.000000000,2019-11-27 20:51:30.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-14 16:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7a7fc1599a14f58bbde5ab91c211092817b4de0c', 'message': 'Remove escape characters from container command\n\nAnsible outputs JSON-encoded strings which does not work with\ncontainer clis (ex. docker). Write to a temp file instead.\n\nChange-Id: I554d62265ecf0e890f9545d871afe85c0344f747\nCloses-Bug: #1847707\n(cherry picked from commit 63243f6cb082631758a12e7f1f558784fae2abe6)\n'}, {'number': 2, 'created': '2019-11-25 15:18:53.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0351f5f83614505c7e0a37dafbd533111b9ab30d', 'message': 'Remove escape characters from container command\n\nAnsible outputs JSON-encoded strings which does not work with\ncontainer clis (ex. docker). Write to a temp file instead.\n\nChange-Id: I554d62265ecf0e890f9545d871afe85c0344f747\nCloses-Bug: #1847707\n(cherry picked from commit 63243f6cb082631758a12e7f1f558784fae2abe6)\n'}]",0,694344,0351f5f83614505c7e0a37dafbd533111b9ab30d,14,6,2,8833,,,0,"Remove escape characters from container command

Ansible outputs JSON-encoded strings which does not work with
container clis (ex. docker). Write to a temp file instead.

Change-Id: I554d62265ecf0e890f9545d871afe85c0344f747
Closes-Bug: #1847707
(cherry picked from commit 63243f6cb082631758a12e7f1f558784fae2abe6)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/44/694344/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,7a7fc1599a14f58bbde5ab91c211092817b4de0c,," f_cmd=""/tmp/container-cmd-{{ item.key }}.sh"" echo ""#!/bin/sh"" > $f_cmd echo ""set -x"" >> $f_cmd echo ""set -e"" >> $f_cmd echo $cmd /cleanup.sh >> $f_cmd chmod a+x $f_cmd $f_cmd", $cmd /cleanup.sh,7,1
openstack%2Fnetworking-ovn~stable%2Fstein~I3d927343eb50e4528bbab5c37d782647e7d86146,openstack/networking-ovn,stable/stein,I3d927343eb50e4528bbab5c37d782647e7d86146,Update local.conf.sample to match stable/stein,MERGED,2019-10-11 10:00:47.000000000,2019-11-27 20:52:41.000000000,2019-11-27 20:51:28.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 10:00:47.000000000', 'files': ['devstack/local.conf.sample'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eb2b20386b606fbd96a973354cd564a65bf4554b', 'message': 'Update local.conf.sample to match stable/stein\n\nThis patch is adjusting the local.conf.sample file to match the\nstable/stein release. Without these changes, using the local.conf.sample\nfile to deploy devstack will fail.\n\nChange-Id: I3d927343eb50e4528bbab5c37d782647e7d86146\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,688095,eb2b20386b606fbd96a973354cd564a65bf4554b,8,3,1,6773,,,0,"Update local.conf.sample to match stable/stein

This patch is adjusting the local.conf.sample file to match the
stable/stein release. Without these changes, using the local.conf.sample
file to deploy devstack will fail.

Change-Id: I3d927343eb50e4528bbab5c37d782647e7d86146
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/95/688095/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.sample'],1,eb2b20386b606fbd96a973354cd564a65bf4554b,,enable_plugin networking-ovn https://git.openstack.org/openstack/networking-ovn stable/steinenable_plugin neutron https://git.openstack.org/openstack/neutron stable/stein,enable_plugin networking-ovn https://git.openstack.org/openstack/networking-ovnenable_plugin neutron https://git.openstack.org/openstack/neutron,2,2
openstack%2Fnetworking-ovn~stable%2Fstein~I211713908352fd6328ff066c4ed792c99ab38296,openstack/networking-ovn,stable/stein,I211713908352fd6328ff066c4ed792c99ab38296,[metadata-agent] Fix issue with TLS/SSL connections,MERGED,2019-11-07 08:28:29.000000000,2019-11-27 20:51:29.000000000,2019-11-27 20:51:29.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 08:28:29.000000000', 'files': ['networking_ovn/agent/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/084dcd10ea03c68c5dadbc922db2cb225ae80918', 'message': '[metadata-agent] Fix issue with TLS/SSL connections\n\nWhen working with TLS/SSL connections, we need to configure\nthe private key and certificates prior to retrieving\nthe schema from ovsdb-servers. This patch is fixing it.\n\nChange-Id: I211713908352fd6328ff066c4ed792c99ab38296\nCloses-Bug: #1850160\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 9c1dd65c8c94fe4217dbe1f96ad38ca77a9f318b)\n'}]",0,693312,084dcd10ea03c68c5dadbc922db2cb225ae80918,8,3,1,23804,,,0,"[metadata-agent] Fix issue with TLS/SSL connections

When working with TLS/SSL connections, we need to configure
the private key and certificates prior to retrieving
the schema from ovsdb-servers. This patch is fixing it.

Change-Id: I211713908352fd6328ff066c4ed792c99ab38296
Closes-Bug: #1850160
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 9c1dd65c8c94fe4217dbe1f96ad38ca77a9f318b)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/12/693312/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/ovsdb.py'],1,084dcd10ea03c68c5dadbc922db2cb225ae80918,bug/1850160-stable/stein, ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA), ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA),1,1
openstack%2Fheat~stable%2Fpike~I0f7d222d5f95aa8e8ed73ae0d7a100470271e113,openstack/heat,stable/pike,I0f7d222d5f95aa8e8ed73ae0d7a100470271e113,Do deepcopy when copying templates,MERGED,2019-10-14 18:57:59.000000000,2019-11-27 20:48:32.000000000,2019-11-27 20:48:32.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 14567}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 18:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ace28ba2a9856c4663617e482f765916b0cf0117', 'message': 'Do deepcopy when copying templates\n\ntest_template is defined as a dict, so do a deepcopy\ninstead.\n\nChange-Id: I0f7d222d5f95aa8e8ed73ae0d7a100470271e113\nCloses-Bug: #1766448\n(cherry picked from commit 685f95b49de6800d8ed6eebeb32ea3a1dc64fc26)\n'}, {'number': 2, 'created': '2019-10-15 12:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9b1ab5e1526e4f79e57c15e363eb7ad410ca5174', 'message': 'Do deepcopy when copying templates\n\ntest_template is defined as a dict, so do a deepcopy\ninstead.\n\nChange-Id: I0f7d222d5f95aa8e8ed73ae0d7a100470271e113\nCloses-Bug: #1766448\n(cherry picked from commit 685f95b49de6800d8ed6eebeb32ea3a1dc64fc26)\n'}, {'number': 3, 'created': '2019-11-11 18:40:52.000000000', 'files': ['heat_integrationtests/functional/test_update_restricted.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f7bd21eaacd436b66de96ada520138272fdec21f', 'message': 'Do deepcopy when copying templates\n\ntest_template is defined as a dict, so do a deepcopy\ninstead.\n\nChange-Id: I0f7d222d5f95aa8e8ed73ae0d7a100470271e113\nCloses-Bug: #1766448\n(cherry picked from commit 685f95b49de6800d8ed6eebeb32ea3a1dc64fc26)\n'}]",0,688538,f7bd21eaacd436b66de96ada520138272fdec21f,22,5,3,14567,,,0,"Do deepcopy when copying templates

test_template is defined as a dict, so do a deepcopy
instead.

Change-Id: I0f7d222d5f95aa8e8ed73ae0d7a100470271e113
Closes-Bug: #1766448
(cherry picked from commit 685f95b49de6800d8ed6eebeb32ea3a1dc64fc26)
",git fetch https://review.opendev.org/openstack/heat refs/changes/38/688538/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/functional/test_update_restricted.py'],1,ace28ba2a9856c4663617e482f765916b0cf0117,1669608_pike_backport,import copy update_template = copy.deepcopy(test_template) update_template = copy.deepcopy(test_template) update_template = copy.deepcopy(test_template), update_template = test_template.copy() update_template = test_template.copy() update_template = test_template.copy(),4,3
openstack%2Foctavia~master~If5fbfc34ff0e91608f402811aa2b78c9cbcb00ec,openstack/octavia,master,If5fbfc34ff0e91608f402811aa2b78c9cbcb00ec,Remove unnecessary interface configurations,MERGED,2018-07-06 23:02:57.000000000,2019-11-27 20:34:30.000000000,2019-11-27 20:32:18.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30619}]","[{'number': 1, 'created': '2018-07-06 23:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3f0cb61b3d9cf43615033ea889bd2e66dd41ef3f', 'message': 'Remove unnecessary interface configurations\n\nThe image building process adds some unnecessary network interface\nconfiguration files to /etc/network/interfaces.d. This element cleans those\nout as they are not needed because cloud-init will create the required\nconfiguration file.\n\nChange-Id: If5fbfc34ff0e91608f402811aa2b78c9cbcb00ec\n'}, {'number': 2, 'created': '2019-06-20 21:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7eae357c12053e00a0a7ea84a1523b9c4fe46aa2', 'message': 'Remove unnecessary interface configurations\n\nThe image building process adds some unnecessary network interface\nconfiguration files to /etc/network/interfaces.d. This element cleans those\nout as they are not needed because cloud-init will create the required\nconfiguration file.\n\nChange-Id: If5fbfc34ff0e91608f402811aa2b78c9cbcb00ec\n'}, {'number': 3, 'created': '2019-06-20 21:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/098c7f94bef639f1d586ad03581efc1bdce5a05d', 'message': 'Remove unnecessary interface configurations\n\nThe image building process adds some unnecessary network interface\nconfiguration files to /etc/network/interfaces.d. This element cleans those\nout as they are not needed because cloud-init will create the required\nconfiguration file.\n\nChange-Id: If5fbfc34ff0e91608f402811aa2b78c9cbcb00ec\n'}, {'number': 4, 'created': '2019-06-20 21:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3ae796149f7fdbaa2aea4db39d7e3839c7d17858', 'message': 'Remove unnecessary interface configurations\n\nThe image building process adds some unnecessary network interface\nconfiguration files to /etc/network/interfaces.d. This element cleans those\nout as they are not needed because cloud-init will create the required\nconfiguration file.\n\nChange-Id: If5fbfc34ff0e91608f402811aa2b78c9cbcb00ec\n'}, {'number': 5, 'created': '2019-11-21 00:02:43.000000000', 'files': ['diskimage-create/diskimage-create.sh', 'elements/remove-default-ints/post-install.d/91-remove-default-ints', 'elements/remove-default-ints/README.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ad61bb451ecdc738d6057cf1b2f736a33630774', 'message': 'Remove unnecessary interface configurations\n\nThe image building process adds some unnecessary network interface\nconfiguration files to /etc/network/interfaces.d. This element cleans those\nout as they are not needed because cloud-init will create the required\nconfiguration file.\n\nChange-Id: If5fbfc34ff0e91608f402811aa2b78c9cbcb00ec\n'}]",5,580778,7ad61bb451ecdc738d6057cf1b2f736a33630774,29,7,5,11628,,,0,"Remove unnecessary interface configurations

The image building process adds some unnecessary network interface
configuration files to /etc/network/interfaces.d. This element cleans those
out as they are not needed because cloud-init will create the required
configuration file.

Change-Id: If5fbfc34ff0e91608f402811aa2b78c9cbcb00ec
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/580778/5 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/diskimage-create.sh', 'elements/remove-default-ints/post-install.d/91-remove-default-ints', 'elements/remove-default-ints/README.rst']",3,3f0cb61b3d9cf43615033ea889bd2e66dd41ef3f,rm-extra-ints,"This element removes any default network interfaces from the interface configuration in the image. These are not needed in the amphora as cloud-init will create the required default interface configuration files. For Ubuntu ""trusty"" and ""xenial"" this element with remove the network configuration files from /etc/network/interfaces.d. ",,15,0
openstack%2Foctavia-tempest-plugin~master~I4bbd103e34997dd6b1bb64cb5d69b5135c6e26ea,openstack/octavia-tempest-plugin,master,I4bbd103e34997dd6b1bb64cb5d69b5135c6e26ea,Add TLS SNI scenario tests,MERGED,2019-10-24 01:48:26.000000000,2019-11-27 20:34:12.000000000,2019-11-27 20:32:19.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 29681}, {'_account_id': 30042}]","[{'number': 1, 'created': '2019-10-24 01:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e507d367831c5d0ec14edae2e4a77bcba4b8cc60', 'message': 'Add TLS SNI scenario tests\n\nChange-Id: I4bbd103e34997dd6b1bb64cb5d69b5135c6e26ea\n'}, {'number': 2, 'created': '2019-10-24 05:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a5f3c7a1fe6cce92fd5b7395641bead8bf8e13ce', 'message': 'Add TLS SNI scenario tests\n\nDepends-On: https://review.opendev.org/690444\nChange-Id: I4bbd103e34997dd6b1bb64cb5d69b5135c6e26ea\n'}, {'number': 3, 'created': '2019-10-25 21:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a65338bdd1ce55dbda621c73b01a86e67a8be53a', 'message': 'Add TLS SNI scenario tests\n\nThis patch adds scenario tests that exercise the SNI capabilities\nof the Octavia TLS offloading.\n\nChange-Id: I4bbd103e34997dd6b1bb64cb5d69b5135c6e26ea\n'}, {'number': 4, 'created': '2019-10-25 22:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6225cf41af537dfa6c7998989f1a8bc3b45f0634', 'message': 'Add TLS SNI scenario tests\n\nThis patch adds scenario tests that exercise the SNI capabilities\nof the Octavia TLS offloading.\n\nDepends-On: https://review.opendev.org/690444\nChange-Id: I4bbd103e34997dd6b1bb64cb5d69b5135c6e26ea\n'}, {'number': 5, 'created': '2019-11-08 22:23:10.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/402de7d80c2dc6097fb783fa37bd29e29df7837d', 'message': 'Add TLS SNI scenario tests\n\nThis patch adds scenario tests that exercise the SNI capabilities\nof the Octavia TLS offloading.\n\nDepends-On: https://review.opendev.org/690444\nChange-Id: I4bbd103e34997dd6b1bb64cb5d69b5135c6e26ea\n'}]",3,690778,402de7d80c2dc6097fb783fa37bd29e29df7837d,25,7,5,11628,,,0,"Add TLS SNI scenario tests

This patch adds scenario tests that exercise the SNI capabilities
of the Octavia TLS offloading.

Depends-On: https://review.opendev.org/690444
Change-Id: I4bbd103e34997dd6b1bb64cb5d69b5135c6e26ea
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/78/690778/5 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'],1,e507d367831c5d0ec14edae2e4a77bcba4b8cc60,SNI-tests," def _generate_load_certificate(cls, barbican_mgr, ca_cert, ca_key, name): new_cert, new_key = cert_utils.generate_server_cert_and_key( ca_cert, ca_key, name) LOG.debug('%s Cert: %s', name, new_cert.public_bytes( serialization.Encoding.PEM)) LOG.debug('%s private Key: %s', name, new_key.private_bytes( encoding=serialization.Encoding.PEM, format=serialization.PrivateFormat.TraditionalOpenSSL, encryption_algorithm=serialization.NoEncryption())) new_public_key = new_key.public_key() LOG.debug('%s public Key: %s', name, new_public_key.public_bytes( encoding=serialization.Encoding.PEM, format=serialization.PublicFormat.SubjectPublicKeyInfo)) # Create the pkcs12 bundle pkcs12 = cert_utils.generate_pkcs12_bundle(new_cert, new_key) LOG.debug('%s PKCS12 bundle: %s', name, base64.b64encode(pkcs12)) new_secret_ref = barbican_mgr.store_secret(pkcs12) cls.addClassResourceCleanup(barbican_mgr.delete_secret, new_secret_ref) # Set the barbican ACL if the Octavia API version doesn't do it # automatically. if not cls.mem_lb_client.is_version_supported( cls.api_version, '2.1'): user_list = cls.os_admin.users_v3_client.list_users( name=CONF.load_balancer.octavia_svc_username) msg = 'Only one user named ""{0}"" should exist, {1} found.'.format( CONF.load_balancer.octavia_svc_username, len(user_list['users'])) assert 1 == len(user_list['users']), msg barbican_mgr.add_acl(new_secret_ref, user_list['users'][0]['id']) return new_cert, new_key, new_secret_ref @classmethod # Create a server cert and key # This will be used as the ""default certificate"" in SNI tests. cls.server_uuid = uuidutils.generate_uuid() LOG.debug('Server (default) UUID: %s' % cls.server_uuid) server_cert, server_key, cls.server_secret_ref = ( cls._generate_load_certificate(barbican_mgr, cls.ca_cert, ca_key, cls.server_uuid)) # Create the SNI1 cert and key cls.SNI1_uuid = uuidutils.generate_uuid() LOG.debug('SNI1 UUID: %s' % cls.SNI1_uuid) SNI1_cert, SNI1_key, cls.SNI1_secret_ref = ( cls._generate_load_certificate(barbican_mgr, cls.ca_cert, ca_key, cls.SNI1_uuid)) # Create the SNI2 cert and key cls.SNI2_uuid = uuidutils.generate_uuid() LOG.debug('SNI2 UUID: %s' % cls.SNI2_uuid) SNI2_cert, SNI2_key, cls.SNI2_secret_ref = ( cls._generate_load_certificate(barbican_mgr, cls.ca_cert, ca_key, cls.SNI2_uuid)) const.DEFAULT_TLS_CONTAINER_REF: self.server_secret_ref, @decorators.idempotent_id('08405802-4411-4454-b008-8607408f424a') def test_basic_tls_SNI_traffic(self): listener_name = data_utils.rand_name(""lb_member_listener1-tls-sni"") listener_kwargs = { const.NAME: listener_name, const.PROTOCOL: const.TERMINATED_HTTPS, const.PROTOCOL_PORT: '443', const.LOADBALANCER_ID: self.lb_id, const.DEFAULT_POOL_ID: self.pool_id, const.DEFAULT_TLS_CONTAINER_REF: self.server_secret_ref, const.SNI_CONTAINER_REFS: [self.SNI1_secret_ref, self.SNI2_secret_ref], } listener = self.mem_listener_client.create_listener(**listener_kwargs) self.listener_id = listener[const.ID] self.addCleanup( self.mem_listener_client.cleanup_listener, self.listener_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) # Test HTTPS listener load balancing. # Note: certificate validation tests will follow this test self.check_members_balanced(self.lb_vip_address, protocol='https', verify=False) def _verify_server_cb(connection, x509, errno, errdepth, retcode): return _verify_cb(connection, x509, errno, errdepth, retcode, name=self.server_uuid) def _verify_SNI1_cb(connection, x509, errno, errdepth, retcode): return _verify_cb(connection, x509, errno, errdepth, retcode, name=self.SNI1_uuid) def _verify_SNI2_cb(connection, x509, errno, errdepth, retcode): return _verify_cb(connection, x509, errno, errdepth, retcode, name=self.SNI2_uuid) def _verify_cb(connection, x509, errno, errdepth, retcode, name): """"""Callback for certificate validation."""""" # don't validate names of root certificates if errdepth != 0: return True if errno == 0: # Make sure the certificate is the one we generated self.assertEqual('{}.example.com'.format(name), x509.get_subject().commonName) else: LOG.error('Certificate with CN: {0} failed validation with ' 'OpenSSL verify errno {1}'.format( x509.get_subject().commonName, errno)) return False return True # Test that the default certificate is used with no SNI host request context = SSL.Context(SSL.SSLv23_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_server_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() # Test that the default certificate is used with bogus SNI host request context = SSL.Context(SSL.TLSv1_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_server_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.set_tlsext_host_name('bogus.example.com'.encode()) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() # Test that the SNI1 certificate is used when SNI1 host is specified context = SSL.Context(SSL.TLSv1_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_SNI1_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.set_tlsext_host_name( '{}.example.com'.format(self.SNI1_uuid).encode()) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() # Test that the SNI2 certificate is used when SNI2 host is specified context = SSL.Context(SSL.SSLv23_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_SNI2_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.set_tlsext_host_name( '{}.example.com'.format(self.SNI2_uuid).encode()) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() @decorators.idempotent_id('bfac9bf4-8cd0-4519-8d99-5ad0c75abf5c') def test_basic_tls_SNI_multi_listener_traffic(self): """"""Make sure certificates are only used on the correct listeners."""""" listener_name = data_utils.rand_name(""lb_member_listener1-tls-sni"") listener_kwargs = { const.NAME: listener_name, const.PROTOCOL: const.TERMINATED_HTTPS, const.PROTOCOL_PORT: '443', const.LOADBALANCER_ID: self.lb_id, const.DEFAULT_POOL_ID: self.pool_id, const.DEFAULT_TLS_CONTAINER_REF: self.server_secret_ref, const.SNI_CONTAINER_REFS: [self.SNI1_secret_ref], } listener = self.mem_listener_client.create_listener(**listener_kwargs) self.listener_id = listener[const.ID] self.addCleanup( self.mem_listener_client.cleanup_listener, self.listener_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) # Test HTTPS listener load balancing. # Note: certificate validation tests will follow this test self.check_members_balanced(self.lb_vip_address, protocol='https', verify=False) listener2_name = data_utils.rand_name(""lb_member_listener2-tls-sni"") listener2_kwargs = { const.NAME: listener2_name, const.PROTOCOL: const.TERMINATED_HTTPS, const.PROTOCOL_PORT: '8443', const.LOADBALANCER_ID: self.lb_id, const.DEFAULT_POOL_ID: self.pool_id, const.DEFAULT_TLS_CONTAINER_REF: self.SNI2_secret_ref, } listener2 = self.mem_listener_client.create_listener( **listener2_kwargs) self.listener2_id = listener2[const.ID] self.addCleanup( self.mem_listener_client.cleanup_listener, self.listener2_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) # Test HTTPS listener load balancing. # Note: certificate validation tests will follow this test # self.check_members_balanced(self.lb_vip_address, protocol='https', # verify=False) def _verify_server_cb(connection, x509, errno, errdepth, retcode): return _verify_cb(connection, x509, errno, errdepth, retcode, name=self.server_uuid) def _verify_SNI1_cb(connection, x509, errno, errdepth, retcode): return _verify_cb(connection, x509, errno, errdepth, retcode, name=self.SNI1_uuid) def _verify_SNI2_cb(connection, x509, errno, errdepth, retcode): return _verify_cb(connection, x509, errno, errdepth, retcode, name=self.SNI2_uuid) def _verify_cb(connection, x509, errno, errdepth, retcode, name): """"""Callback for certificate validation."""""" # don't validate names of root certificates if errdepth != 0: return True if errno == 0: # Make sure the certificate is the one we generated self.assertEqual('{}.example.com'.format(name), x509.get_subject().commonName) else: LOG.error('Certificate with CN: {0} failed validation with ' 'OpenSSL verify errno {1}'.format( x509.get_subject().commonName, errno)) return False return True # Test that the default certificate is used with no SNI host request context = SSL.Context(SSL.SSLv23_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_server_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() # Test that the SNI1 certificate is used when SNI1 host is specified context = SSL.Context(SSL.TLSv1_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_SNI1_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.set_tlsext_host_name( '{}.example.com'.format(self.SNI1_uuid).encode()) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() # Test that the default certificate is used when SNI2 host is specified context = SSL.Context(SSL.SSLv23_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_server_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.set_tlsext_host_name( '{}.example.com'.format(self.SNI2_uuid).encode()) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() # Test that the SNI2 certificate is used with no SNI host request # on listener 2 context = SSL.Context(SSL.SSLv23_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_SNI2_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() # Test that the SNI2 certificate is used with listener 1 host request # on listener 2 context = SSL.Context(SSL.SSLv23_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_SNI2_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.set_tlsext_host_name( '{}.example.com'.format(self.server_uuid).encode()) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake() # Test that the SNI2 certificate is used with SNI1 host request # on listener 2 context = SSL.Context(SSL.SSLv23_METHOD) context.set_verify(SSL.VERIFY_PEER | SSL.VERIFY_FAIL_IF_NO_PEER_CERT, _verify_SNI2_cb) ca_store = context.get_cert_store() ca_store.add_cert(X509.from_cryptography(self.ca_cert)) sock = socket.socket() sock = SSL.Connection(context, sock) sock.set_tlsext_host_name( '{}.example.com'.format(self.SNI1_uuid).encode()) sock.connect((self.lb_vip_address, 443)) # Validate the certificate is signed by the ca_cert we created sock.do_handshake()"," # Create a server cert and key cls.server_uuid = uuidutils.generate_uuid() server_cert, server_key = cert_utils.generate_server_cert_and_key( cls.ca_cert, ca_key, cls.server_uuid) LOG.debug('Server Cert: %s' % server_cert.public_bytes( serialization.Encoding.PEM)) LOG.debug('Server private Key: %s' % server_key.private_bytes( encoding=serialization.Encoding.PEM, format=serialization.PrivateFormat.TraditionalOpenSSL, encryption_algorithm=serialization.NoEncryption())) server_public_key = server_key.public_key() LOG.debug('Server public Key: %s' % server_public_key.public_bytes( encoding=serialization.Encoding.PEM, format=serialization.PublicFormat.SubjectPublicKeyInfo)) # Create the pkcs12 bundle pkcs12 = cert_utils.generate_pkcs12_bundle(server_cert, server_key) LOG.debug('Server PKCS12 bundle: %s' % base64.b64encode(pkcs12)) cls.secret_ref = barbican_mgr.store_secret(pkcs12) cls.addClassResourceCleanup(barbican_mgr.delete_secret, cls.secret_ref) # Set the barbican ACL if the Octavia API version doesn't do it # automatically. if not cls.mem_lb_client.is_version_supported( cls.api_version, '2.1'): user_list = cls.os_admin.users_v3_client.list_users( name=CONF.load_balancer.octavia_svc_username) msg = 'Only one user named ""{0}"" should exist, {1} found.'.format( CONF.load_balancer.octavia_svc_username, len(user_list['users'])) assert 1 == len(user_list['users']), msg barbican_mgr.add_acl(cls.secret_ref, user_list['users'][0]['id']) const.DEFAULT_TLS_CONTAINER_REF: self.secret_ref,",344,34
openstack%2Fcinder~master~I376bd708ecc864f29c35b7225f875bb20a98cd3c,openstack/cinder,master,I376bd708ecc864f29c35b7225f875bb20a98cd3c,Remove Python 2 support from testing and gate jobs,MERGED,2019-11-20 23:01:41.000000000,2019-11-27 20:31:40.000000000,2019-11-27 20:27:36.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23950}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-20 23:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/056f181849bf6351770d6c1e4fb4d767ac56d23c', 'message': ""[WIP] Remove Python 2 support from testing and gate jobs\n\ntox:\n- bumped tox minversion to 3.1.0 to get 'ignore_basepython_conflict'\n- tox 'ignore_basepython_conflict' allows us to factor basepython=\n  python3 to the [testenv] but override it when using '-e py37'\n  (that way you actually get python 3.7 instead of whatever the system\n  has for python3)\ngate:\n- (that's the WIP part)\n\nCloses-bug: #1853372\n\nChange-Id: I376bd708ecc864f29c35b7225f875bb20a98cd3c\n""}, {'number': 2, 'created': '2019-11-21 15:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9edb1f785eb93dcfcb58e93d60096ff25361fb3e', 'message': ""Remove Python 2 support from testing and gate jobs\n\ntox:\n- bumped tox minversion to 3.1.0 to get 'ignore_basepython_conflict'\n- tox 'ignore_basepython_conflict' allows us to factor basepython=\n  python3 to the [testenv] but override it when using '-e py37'\n  (that way you actually get python 3.7 instead of whatever the system\n  has for python3)\ngate:\n- adjusted tempest-dsvm-lvm-lio-barbican to use python 3 for devstack\n- Change I52b03caee0ba700da3a15035201ea6cd91baa06b has devstack\n  running py3 by default, so the only issue would be gate jobs that\n  override that, so this patch doesn't worry about them\n\nCloses-bug: #1853372\n\nChange-Id: I376bd708ecc864f29c35b7225f875bb20a98cd3c\n""}, {'number': 3, 'created': '2019-11-21 17:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b84702bc83bb5caa451d8590695e67aef314f1f', 'message': ""Remove Python 2 support from testing and gate jobs\n\ntox:\n- bumped tox minversion to 3.1.0 to get 'ignore_basepython_conflict'\n- tox 'ignore_basepython_conflict' allows us to factor basepython=\n  python3 to the [testenv] but override it when using '-e py37'\n  (that way you actually get python 3.7 instead of whatever the system\n  has for python3)\ngate:\n- adjusted tempest-dsvm-lvm-lio-barbican to use python 3 for devstack\n- removed openstack-python-jobs template\n- Change I52b03caee0ba700da3a15035201ea6cd91baa06b has devstack\n  running py3 by default, so the only issue would be gate jobs that\n  override that, so this patch doesn't worry about them\n\nLeft py2 requirements and did not adjust setup.cfg to require py3 to\nprevent breakage for any projects still installing cinder under py2.\nThese can be changed by a follow up patch in January.\n\nCo-authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nCloses-bug: #1853372\n\nChange-Id: I376bd708ecc864f29c35b7225f875bb20a98cd3c\n""}, {'number': 4, 'created': '2019-11-22 21:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/306935190e1a2bf5672b5f1d234f69fd0948fad4', 'message': ""Remove Python 2 support from testing and gate jobs\n\ntox:\n- bumped tox minversion to 3.1.0 to get 'ignore_basepython_conflict'\n- tox 'ignore_basepython_conflict' allows us to factor basepython=\n  python3 to the [testenv] but override it when using '-e py37'\n  (that way you actually get python 3.7 instead of whatever the system\n  has for python3)\ngate:\n- adjusted tempest-dsvm-lvm-lio-barbican to use python 3 for devstack\n- changed integrated-gate to integrated-gate-py3 (note: integrated-\n  gate-storage is already python3)\n- changed openstack-tox-functional to openstack-tox-functional-py37\n  and made it voting\n- removed openstack-python-jobs template\n- Change I52b03caee0ba700da3a15035201ea6cd91baa06b has devstack\n  running py3 by default, so the only issue would be gate jobs that\n  override that, so this patch doesn't worry about them\n\nDid not analyze the experimental jobs; they're mostly legacy jobs\nand we can check to make sure they're all python3 when they get\nconverted to zuul v3 jobs.\n\nLeft py2 requirements and did not adjust setup.cfg to require py3.\nThis prevents breakage for any projects still installing cinder under\npy2.  These can be changed by a follow up patch in January.\n\nCo-authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nCloses-bug: #1853372\n\nChange-Id: I376bd708ecc864f29c35b7225f875bb20a98cd3c\n""}, {'number': 5, 'created': '2019-11-25 18:31:58.000000000', 'files': ['playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml', 'releasenotes/notes/drop-py2-377a91a5b66165ab.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c93000b2cd0faaf5c3da14c8d2f7c91762a4c1a2', 'message': ""Remove Python 2 support from testing and gate jobs\n\ntox:\n- bumped tox minversion to 3.1.0 to get 'ignore_basepython_conflict'\n- tox 'ignore_basepython_conflict' allows us to factor basepython=\n  python3 to the [testenv] but override it when using '-e py37'\n  (that way you actually get python 3.7 instead of whatever the system\n  has for python3)\ngate:\n- adjusted tempest-dsvm-lvm-lio-barbican to use python 3 for devstack\n- removed openstack-python-jobs template as these tests are covered\n  in py3 by openstack-python3-ussuri-jobs\n- dropped integrated-gate template as these tests are covered by the\n  integrated-gate-storage template, which is already python3\n- dropped tempest-full jobs as these are covered in py3 by tempest-\n  integrated-storage\n- changed openstack-tox-functional to openstack-tox-functional-py37\n  and made it voting\n\nThe legacy-grenade-dsvm-cinder-mn-sub-* jobs are converted to py3\nin a different patch, https://review.opendev.org/#/c/695787/\n\nLeft py2 requirements and did not adjust setup.cfg to require py3.\nThis prevents breakage for any projects still installing cinder under\npy2.  These can be changed by a follow up patch in January.\n\nCo-authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nCloses-bug: #1853372\n\nChange-Id: I376bd708ecc864f29c35b7225f875bb20a98cd3c\n""}]",14,695317,c93000b2cd0faaf5c3da14c8d2f7c91762a4c1a2,131,37,5,5314,,,0,"Remove Python 2 support from testing and gate jobs

tox:
- bumped tox minversion to 3.1.0 to get 'ignore_basepython_conflict'
- tox 'ignore_basepython_conflict' allows us to factor basepython=
  python3 to the [testenv] but override it when using '-e py37'
  (that way you actually get python 3.7 instead of whatever the system
  has for python3)
gate:
- adjusted tempest-dsvm-lvm-lio-barbican to use python 3 for devstack
- removed openstack-python-jobs template as these tests are covered
  in py3 by openstack-python3-ussuri-jobs
- dropped integrated-gate template as these tests are covered by the
  integrated-gate-storage template, which is already python3
- dropped tempest-full jobs as these are covered in py3 by tempest-
  integrated-storage
- changed openstack-tox-functional to openstack-tox-functional-py37
  and made it voting

The legacy-grenade-dsvm-cinder-mn-sub-* jobs are converted to py3
in a different patch, https://review.opendev.org/#/c/695787/

Left py2 requirements and did not adjust setup.cfg to require py3.
This prevents breakage for any projects still installing cinder under
py2.  These can be changed by a follow up patch in January.

Co-authored-by: Sean McGinnis <sean.mcginnis@gmail.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Closes-bug: #1853372

Change-Id: I376bd708ecc864f29c35b7225f875bb20a98cd3c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/695317/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,056f181849bf6351770d6c1e4fb4d767ac56d23c,bug/1853372,"minversion = 3.1.0# python runtimes: https://governance.openstack.org/tc/reference/runtimes/ussuri.html envlist = py37,py36,compliance,pep8 # this allows tox to infer the base python from the environment name # and override any basepython configured in this file ignore_basepython_conflict=truebasepython = python3","minversion = 2.5envlist = py37,py27,compliance,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",7,21
openstack%2Fbarbican~stable%2Fstein~I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,openstack/barbican,stable/stein,I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,Don't use branch matching,MERGED,2019-10-18 13:48:15.000000000,2019-11-27 20:30:54.000000000,2019-11-27 20:24:15.000000000,"[{'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 13:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b0a6b30adbc6be37dd65aed5630b34d18968b61b', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}, {'number': 2, 'created': '2019-11-21 12:33:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/deca49e3e97780d52cbee4b8a3443973f37cc8dd', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}]",0,689461,deca49e3e97780d52cbee4b8a3443973f37cc8dd,19,6,2,6547,,,0,"Don't use branch matching

This is not needed since we have implicit branch matches - and even
hurts since the master version is used on stable branches

Remove here - this ensures that future stable branches and master are
fine.

Change-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd
(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/61/689461/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b0a6b30adbc6be37dd65aed5630b34d18968b61b,branches-stable/stein,, # start running with Pike branches: ^(?!stable/ocata).*$ # Start testing with pike branches: ^(?!stable/ocata).*$,0,4
openstack%2Fbarbican~stable%2Fstein~I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9,openstack/barbican,stable/stein,I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9,Make broken fedora_latest job n-v,MERGED,2019-11-21 00:07:33.000000000,2019-11-27 20:29:17.000000000,2019-11-27 20:24:14.000000000,"[{'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 00:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/70370d77621b792d71ee6da994d331f2414a62ee', 'message': 'Make broken fedora_latest job n-v\n\nbarbican-dogtag-devstack-functional-fedora-latest is broken\nfor all stable branch till stable/stein.\n\nThat job was made n-v in train cycle along with other updates\nbut that was not backported to other stable branches.\n- https://review.opendev.org/#/c/662543/16\n\nI do not know if all the changes of above patch can be backported\nwhich still does not make this job working, so i am making this job\nn-v only and later we can backport the complete working fix from master.\n\nChange-Id: I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9\n'}, {'number': 2, 'created': '2019-11-21 12:32:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/bb40485d94756b8e4cfc3814189445e429160720', 'message': 'Make broken fedora_latest job n-v\n\nbarbican-dogtag-devstack-functional-fedora-latest is broken\nfor all stable branch till stable/stein.\n\nThat job was made n-v in train cycle along with other updates\nbut that was not backported to other stable branches.\n- https://review.opendev.org/#/c/662543/16\n\nI do not know if all the changes of above patch can be backported\nwhich still does not make this job working, so i am making this job\nn-v only and later we can backport the complete working fix from master.\n\nChange-Id: I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9\n'}]",2,695325,bb40485d94756b8e4cfc3814189445e429160720,16,5,2,8556,,,0,"Make broken fedora_latest job n-v

barbican-dogtag-devstack-functional-fedora-latest is broken
for all stable branch till stable/stein.

That job was made n-v in train cycle along with other updates
but that was not backported to other stable branches.
- https://review.opendev.org/#/c/662543/16

I do not know if all the changes of above patch can be backported
which still does not make this job working, so i am making this job
n-v only and later we can backport the complete working fix from master.

Change-Id: I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9
",git fetch https://review.opendev.org/openstack/barbican refs/changes/25/695325/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,70370d77621b792d71ee6da994d331f2414a62ee,, # non-voting until https://pagure.io/dogtagpki/issue/3108 is fixed # and more work done in https://review.opendev.org/#/c/662543/ voting: false,,3,0
openstack%2Foctavia~stable%2Ftrain~I7153ed9a6214ce352b2ac115001f7f6134d95b39,openstack/octavia,stable/train,I7153ed9a6214ce352b2ac115001f7f6134d95b39,Fix filtering with API tags,MERGED,2019-11-27 15:22:06.000000000,2019-11-27 20:11:46.000000000,2019-11-27 20:09:23.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 15:22:06.000000000', 'files': ['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/19202863e2e459a0c81a872df7dc745aad4d15ea', 'message': 'Fix filtering with API tags\n\nWhen filtering API calls using tags along with other filter parameters\nthe API could fail with an ""Entity has no property"" errors.\nAlso when filtering with tags that contain a comma separated list,\nthe API would mis-interpret the list of tags as a single string.\nThis patch resolves both of these issues and adds functional test\ncoverage for these use cases.\n\nChange-Id: I7153ed9a6214ce352b2ac115001f7f6134d95b39\nStory: 2006914\nTask: 37559\n(cherry picked from commit a736f98a7fffa8494ea4f00ecfbb929e8ccae860)\n'}]",0,696324,19202863e2e459a0c81a872df7dc745aad4d15ea,9,3,1,11628,,,0,"Fix filtering with API tags

When filtering API calls using tags along with other filter parameters
the API could fail with an ""Entity has no property"" errors.
Also when filtering with tags that contain a comma separated list,
the API would mis-interpret the list of tags as a single string.
This patch resolves both of these issues and adds functional test
coverage for these use cases.

Change-Id: I7153ed9a6214ce352b2ac115001f7f6134d95b39
Story: 2006914
Task: 37559
(cherry picked from commit a736f98a7fffa8494ea4f00ecfbb929e8ccae860)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/696324/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",2,19202863e2e459a0c81a872df7dc745aad4d15ea,," params={'tags': ['test_tag2,test_tag3']} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual( [lb2.get('id')], [lb.get('id') for lb in lbs] ) lbs = self.get( self.LBS_PATH, def test_get_all_tags_mixed_filters(self): lb1 = self.create_load_balancer( uuidutils.generate_uuid(), name='lb1', project_id=self.project_id, vip_address='10.0.0.1', tags=['test_tag1', 'test_tag2'] ).get(self.root_tag) self.create_load_balancer( uuidutils.generate_uuid(), name='lb2', project_id=self.project_id, tags=['test_tag2', 'test_tag3'] ).get(self.root_tag) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1', 'tags': 'test_tag1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1', 'tags': 'test_tag3'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag3', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) lbs = self.get( self.LBS_PATH, params={'name': 'bogus-lb', 'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) ",,110,19
openstack%2Fos-brick~master~Ie146e136254672d4bfad7f6fc1797e778157ca35,openstack/os-brick,master,Ie146e136254672d4bfad7f6fc1797e778157ca35,Switch to Ussuri jobs,MERGED,2019-10-22 04:22:56.000000000,2019-11-27 20:02:13.000000000,2019-11-27 19:58:34.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25678}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-10-22 04:22:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/744b443d40ba1461101780b250a5de9e923dd36d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ie146e136254672d4bfad7f6fc1797e778157ca35\n'}]",0,689926,744b443d40ba1461101780b250a5de9e923dd36d,19,14,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Ie146e136254672d4bfad7f6fc1797e778157ca35
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/26/689926/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,744b443d40ba1461101780b250a5de9e923dd36d,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fnova~stable%2Fstein~I6991a231366908920847fa1b8375ece8d8b35268,openstack/nova,stable/stein,I6991a231366908920847fa1b8375ece8d8b35268,[stable-only] Disable cinder-backup service in nova-next job,MERGED,2019-10-23 14:47:20.000000000,2019-11-27 19:53:16.000000000,2019-11-27 18:15:08.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-23 14:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30c81c7c53d2ec9240cbdab2798acc82d9017a3d', 'message': ""[stable-only] Disable cinder-backup service in nova-next job\n\nWe don't run any tests that require the cinder backup\nservice in the nova-next job nor do we care to so save\nsome time in stacking and space on the node, and avoid\nspurious volume backup test failures, by not\ninstalling that service.\n\nNote that this was done in Train with commit\n4188d08c20b67b4de834c60b41ec5987a9bd0136 but this is not\na cherry-pick because Ie3dc90862c895a8bd9bff4511a16254945f45478\nwhich converted the nova-next job to zuulv3 format is not\nin stable/stein.\n\nChange-Id: I6991a231366908920847fa1b8375ece8d8b35268\n""}, {'number': 2, 'created': '2019-11-27 11:04:44.000000000', 'files': ['playbooks/legacy/nova-next/run.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad873b67b3da7e5063f5f512cc193a438cfc268f', 'message': ""[stable-only] Disable cinder-backup service in nova-next job\n\nWe don't run any tests that require the cinder backup\nservice in the nova-next job nor do we care to so save\nsome time in stacking and space on the node, and avoid\nspurious volume backup test failures, by not\ninstalling that service.\n\nNote that this was done in Train with commit\n4188d08c20b67b4de834c60b41ec5987a9bd0136 but this is not\na cherry-pick because Ie3dc90862c895a8bd9bff4511a16254945f45478\nwhich converted the nova-next job to zuulv3 format is not\nin stable/stein.\n\nChange-Id: I6991a231366908920847fa1b8375ece8d8b35268\n""}]",1,690593,ad873b67b3da7e5063f5f512cc193a438cfc268f,28,10,2,6873,,,0,"[stable-only] Disable cinder-backup service in nova-next job

We don't run any tests that require the cinder backup
service in the nova-next job nor do we care to so save
some time in stacking and space on the node, and avoid
spurious volume backup test failures, by not
installing that service.

Note that this was done in Train with commit
4188d08c20b67b4de834c60b41ec5987a9bd0136 but this is not
a cherry-pick because Ie3dc90862c895a8bd9bff4511a16254945f45478
which converted the nova-next job to zuulv3 format is not
in stable/stein.

Change-Id: I6991a231366908920847fa1b8375ece8d8b35268
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/690593/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/nova-next/run.yaml'],1,30c81c7c53d2ec9240cbdab2798acc82d9017a3d,nova-next-disable-c-bak, # Disable non-essential services that we don't need for this job. disable_service c-bak ,,3,0
openstack%2Fvitrage-dashboard~master~I21499eedca87193f78bcf633c21380d757c788f6,openstack/vitrage-dashboard,master,I21499eedca87193f78bcf633c21380d757c788f6,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-10-30 05:12:14.000000000,2019-11-27 19:50:23.000000000,2019-11-27 19:45:48.000000000,"[{'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-30 05:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/a4ace48eb2f8d6290ca1cf136135a4a8720b69af', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I21499eedca87193f78bcf633c21380d757c788f6\n'}, {'number': 2, 'created': '2019-10-30 06:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/e3a56a7bed4412246bdb87b4378576e9ffb1d2d7', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I21499eedca87193f78bcf633c21380d757c788f6\n'}, {'number': 3, 'created': '2019-11-16 17:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/af2e13ec20a5997fe6a220f536499999713300cb', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I21499eedca87193f78bcf633c21380d757c788f6\n'}, {'number': 4, 'created': '2019-11-20 06:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/07fe986443da71aeae6c0e543cdf352c6de934af', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I21499eedca87193f78bcf633c21380d757c788f6\n'}, {'number': 5, 'created': '2019-11-20 08:10:32.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-53892de5b1c6cf5b.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/c9fb559b572334a2514a791aa931f5ea97b3be85', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I21499eedca87193f78bcf633c21380d757c788f6\n'}]",0,692025,c9fb559b572334a2514a791aa931f5ea97b3be85,24,6,5,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

vitrage-dashboard is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I21499eedca87193f78bcf633c21380d757c788f6
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/25/692025/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-53892de5b1c6cf5b.yaml', 'setup.cfg', 'tox.ini']",5,a4ace48eb2f8d6290ca1cf136135a4a8720b69af,drop-py27-support,"envlist = py37,pep8,npm","envlist = py27,py37,pep8,npm",7,5
openstack%2Fneutron-vpnaas-dashboard~master~Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f,openstack/neutron-vpnaas-dashboard,master,Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-10-30 05:41:41.000000000,2019-11-27 19:42:30.000000000,2019-11-27 19:38:20.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-30 05:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/aaf59cf2ec7777248f85889c8d6235db9daaa893', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f\n'}, {'number': 2, 'created': '2019-10-30 06:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/33f70b0d2311a031b6c8d99a37ba3bdadd993231', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f\n'}, {'number': 3, 'created': '2019-10-30 10:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/d0c52e3c8bc703fdbd54a4d5cec6a622bae454e6', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f\n'}, {'number': 4, 'created': '2019-11-15 01:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/c694da7347524bd6fc92caf602e55238196fe2bf', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\n\nChange-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f\n'}, {'number': 5, 'created': '2019-11-21 05:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/a68f9d680132cb2cff9dfab921c50c34732fe298', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\n\nChange-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f\n'}, {'number': 6, 'created': '2019-11-21 05:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/a5b9dcdf8d1b790d45b1f270e03216a7b437d384', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nvitrage-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\n\nChange-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f\n'}, {'number': 7, 'created': '2019-11-22 16:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/dca67023bfe469f61a586529657650551463eccc', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nneutron-vpnass-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAlso this patch update minimum tox version in tox.ini file.\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\n\nChange-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f\n'}, {'number': 8, 'created': '2019-11-27 08:01:44.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-bfbdac2889ac051a.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/e4989797fbe23154104fc76e79f8ee95b53c83c2', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nneutron-vpnass-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAlso this patch update minimum tox version in tox.ini file.\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\n\nChange-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f\n'}]",18,692031,e4989797fbe23154104fc76e79f8ee95b53c83c2,36,7,8,29313,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

neutron-vpnass-dashboard is ready with python 3 and ok to drop the
python 2.7 support.

Also this patch update minimum tox version in tox.ini file.
Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/

Change-Id: Iabd2e1dfb73ec03bf3ed7f8a2a6c6493f036242f
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/31/692031/8 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-bfbdac2889ac051a.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,aaf59cf2ec7777248f85889c8d6235db9daaa893,drop-py27-support,"envlist = py37,py3-{dj111,dj22},pep8","envlist = py27,py37,py3-{dj111,dj22},pep8",7,5
openstack%2Fcinder~master~I6866fa622a0108b88361b475f8b80b07f6f50a4f,openstack/cinder,master,I6866fa622a0108b88361b475f8b80b07f6f50a4f,update review site link,MERGED,2019-11-05 10:58:15.000000000,2019-11-27 19:35:59.000000000,2019-11-27 19:34:19.000000000,"[{'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-05 10:58:15.000000000', 'files': ['doc/source/contributor/gerrit.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/51c19dc8188fad6a3a710061b6ab8ef813c43cf2', 'message': 'update review site link\n\nChange-Id: I6866fa622a0108b88361b475f8b80b07f6f50a4f\n'}]",0,692980,51c19dc8188fad6a3a710061b6ab8ef813c43cf2,29,23,1,31027,,,0,"update review site link

Change-Id: I6866fa622a0108b88361b475f8b80b07f6f50a4f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/692980/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/gerrit.rst'],1,51c19dc8188fad6a3a710061b6ab8ef813c43cf2,branch01,site is https://review.opendev.org,site is https://review.openstack.org,1,1
openstack%2Fcinder~stable%2Ftrain~I5bd185d04dbda673a5882d61aaab7acdd99b74a6,openstack/cinder,stable/train,I5bd185d04dbda673a5882d61aaab7acdd99b74a6,RemoteFS: Use dest vol id instead of source id in snapshot temp name,MERGED,2019-11-16 00:59:44.000000000,2019-11-27 19:35:58.000000000,2019-11-27 19:34:16.000000000,"[{'_account_id': 5314}, {'_account_id': 7130}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-11-16 00:59:44.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f230b6bd75c73eb7507f4252e5801b6cfb3b78c', 'message': ""RemoteFS: Use dest vol id instead of source id in snapshot temp name\n\nUse the destination volume id instead of the source volume id\nin the temporary snapshot file name.  This is likely not strictly\nneeded after Change I64e041fe, which ensures that multiple clone\nvolume operations won't run simultaneously from the same source\nvolume, but is still a good idea to ensure that there is less\nthat can go wrong in a failure scenario.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nRelated-Bug: #1851512\nCloses-Bug: #1840712\n(cherry picked from commit f3ed9d436bdac7368068853991e9314fbccc0a00)\n""}]",0,694654,2f230b6bd75c73eb7507f4252e5801b6cfb3b78c,21,16,1,4523,,,0,"RemoteFS: Use dest vol id instead of source id in snapshot temp name

Use the destination volume id instead of the source volume id
in the temporary snapshot file name.  This is likely not strictly
needed after Change I64e041fe, which ensures that multiple clone
volume operations won't run simultaneously from the same source
volume, but is still a good idea to ensure that there is less
that can go wrong in a failure scenario.

Change-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6
Related-Bug: #1851512
Closes-Bug: #1840712
(cherry picked from commit f3ed9d436bdac7368068853991e9314fbccc0a00)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/694654/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",2,2f230b6bd75c73eb7507f4252e5801b6cfb3b78c,bug/1840712," 'display_name': 'tmp-snap-%s' % volume.id,"," 'display_name': 'tmp-snap-%s' % src_vref.id,",2,2
openstack%2Foctavia~stable%2Fstein~I7153ed9a6214ce352b2ac115001f7f6134d95b39,openstack/octavia,stable/stein,I7153ed9a6214ce352b2ac115001f7f6134d95b39,Fix filtering with API tags,MERGED,2019-11-27 15:22:48.000000000,2019-11-27 19:33:35.000000000,2019-11-27 19:30:47.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 15:22:48.000000000', 'files': ['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/567a388b95e18eaeff0830259efceeb9b861b2e5', 'message': 'Fix filtering with API tags\n\nWhen filtering API calls using tags along with other filter parameters\nthe API could fail with an ""Entity has no property"" errors.\nAlso when filtering with tags that contain a comma separated list,\nthe API would mis-interpret the list of tags as a single string.\nThis patch resolves both of these issues and adds functional test\ncoverage for these use cases.\n\nChange-Id: I7153ed9a6214ce352b2ac115001f7f6134d95b39\nStory: 2006914\nTask: 37559\n(cherry picked from commit a736f98a7fffa8494ea4f00ecfbb929e8ccae860)\n'}]",0,696325,567a388b95e18eaeff0830259efceeb9b861b2e5,8,3,1,11628,,,0,"Fix filtering with API tags

When filtering API calls using tags along with other filter parameters
the API could fail with an ""Entity has no property"" errors.
Also when filtering with tags that contain a comma separated list,
the API would mis-interpret the list of tags as a single string.
This patch resolves both of these issues and adds functional test
coverage for these use cases.

Change-Id: I7153ed9a6214ce352b2ac115001f7f6134d95b39
Story: 2006914
Task: 37559
(cherry picked from commit a736f98a7fffa8494ea4f00ecfbb929e8ccae860)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/696325/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",2,567a388b95e18eaeff0830259efceeb9b861b2e5,," params={'tags': ['test_tag2,test_tag3']} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual( [lb2.get('id')], [lb.get('id') for lb in lbs] ) lbs = self.get( self.LBS_PATH, def test_get_all_tags_mixed_filters(self): lb1 = self.create_load_balancer( uuidutils.generate_uuid(), name='lb1', project_id=self.project_id, vip_address='10.0.0.1', tags=['test_tag1', 'test_tag2'] ).get(self.root_tag) self.create_load_balancer( uuidutils.generate_uuid(), name='lb2', project_id=self.project_id, tags=['test_tag2', 'test_tag3'] ).get(self.root_tag) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1', 'tags': 'test_tag1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1', 'tags': 'test_tag3'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag3', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) lbs = self.get( self.LBS_PATH, params={'name': 'bogus-lb', 'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) ",,110,19
openstack%2Freleases~master~I02e38bcf10b8eea56bb40511868d862f3db70bbc,openstack/releases,master,I02e38bcf10b8eea56bb40511868d862f3db70bbc,First Ussuri tags for TripleO,MERGED,2019-11-26 18:04:50.000000000,2019-11-27 19:20:08.000000000,2019-11-27 19:20:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-26 18:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/727f8a6ce7f7124bd4a83f83fbfb925b11fe00a4', 'message': 'DNM, bump releases in tripleo for dependency updates\n\nFirst updated release tags for the Ussuri cycle.\nBump to allow for updated dependencies.\n\nChange-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc\n'}, {'number': 2, 'created': '2019-11-27 10:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5d4ccff7a048a60b9b55587107147b2c3163e341', 'message': 'First Ussuri tags for TripleO\n\nFirst updated release tags for the Ussuri cycle.\nBump to allow for updated dependencies.\n\nCo-Authored-By: Wes Hayutin <weshayutin@gmail.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc\n'}, {'number': 3, 'created': '2019-11-27 14:44:39.000000000', 'files': ['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/tripleo-image-elements.yaml', 'deliverables/ussuri/paunch.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/tripleo-puppet-elements.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/tripleo-common.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/os-collect-config.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/os-apply-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f66c9c155fa143cda18f86cad82d32c6c406cc7e', 'message': 'First Ussuri tags for TripleO\n\nFirst updated release tags for the Ussuri cycle.\nBump to allow for updated dependencies.\n\nCo-Authored-By: Wes Hayutin <weshayutin@gmail.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc\n'}]",1,696147,f66c9c155fa143cda18f86cad82d32c6c406cc7e,16,6,3,9592,,,0,"First Ussuri tags for TripleO

First updated release tags for the Ussuri cycle.
Bump to allow for updated dependencies.

Co-Authored-By: Wes Hayutin <weshayutin@gmail.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: I02e38bcf10b8eea56bb40511868d862f3db70bbc
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/696147/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/tripleo-image-elements.yaml', 'deliverables/ussuri/paunch.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/tripleo-puppet-elements.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/tripleo-common.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/os-collect-config.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/os-apply-config.yaml']",12,727f8a6ce7f7124bd4a83f83fbfb925b11fe00a4,,releases: - version: 10.6.0 projects: - repo: openstack/os-apply-config hash: 7ced221ab1561e8a184151fba8ae3c7a7627f5e3,,60,0
openstack%2Fkolla-ansible~stable%2Ftrain~I2fdca1a6a78e78623733a387a2d8c7e29d449083,openstack/kolla-ansible,stable/train,I2fdca1a6a78e78623733a387a2d8c7e29d449083,Fix 'nova_cephx_raw_key' is undefined,MERGED,2019-11-27 16:09:36.000000000,2019-11-27 19:13:18.000000000,2019-11-27 19:11:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30927}]","[{'number': 1, 'created': '2019-11-27 16:09:36.000000000', 'files': ['ansible/roles/nova-cell/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/424382db39e77e472d8f1e3a426658b617570694', 'message': ""Fix 'nova_cephx_raw_key' is undefined\n\nWhen using external ceph without nova integration, kolla-ansible fails\nbecause 'nova_cephx_raw_key' is undefined.\nThis patch fixes the issue by applying the 'default' filter to\nprevent failure on undefined.\nThe change in behavior was introduced by [1].\n\n[1] https://review.opendev.org/689753\ncommit 44709f413246a05b891f250e88c43226e1f1b0c9\n\nChange-Id: I2fdca1a6a78e78623733a387a2d8c7e29d449083\nCloses-Bug: #1853862\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n(cherry picked from commit 6ff633723067ecfa3644645e7cf8fd2216be616a)\n""}]",0,696341,424382db39e77e472d8f1e3a426658b617570694,8,4,1,14826,,,0,"Fix 'nova_cephx_raw_key' is undefined

When using external ceph without nova integration, kolla-ansible fails
because 'nova_cephx_raw_key' is undefined.
This patch fixes the issue by applying the 'default' filter to
prevent failure on undefined.
The change in behavior was introduced by [1].

[1] https://review.opendev.org/689753
commit 44709f413246a05b891f250e88c43226e1f1b0c9

Change-Id: I2fdca1a6a78e78623733a387a2d8c7e29d449083
Closes-Bug: #1853862
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
(cherry picked from commit 6ff633723067ecfa3644645e7cf8fd2216be616a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/696341/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/tasks/external_ceph.yml'],1,424382db39e77e472d8f1e3a426658b617570694,bug/1853862-stable/train," # NOTE(yoctozepto): 'default' filter required due to eager evaluation of item content # which will be undefined if the applicable condition is False result: ""{{ nova_cephx_raw_key | default }}"" result: ""{{ cinder_cephx_raw_key | default }}"""," result: ""{{ nova_cephx_raw_key }}"" result: ""{{ cinder_cephx_raw_key }}""",4,2
openstack%2Fopenstacksdk~stable%2Ftrain~Ie0cffc402747d070c1eae1d9b423a046936d917d,openstack/openstacksdk,stable/train,Ie0cffc402747d070c1eae1d9b423a046936d917d,Keep connection backrefs with weakref.proxy,MERGED,2019-11-27 01:57:16.000000000,2019-11-27 19:00:51.000000000,2019-11-27 18:59:01.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-11-27 01:57:16.000000000', 'files': ['openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bcd37088bdd60f265fc27c0880ea3ac61ab4ac3c', 'message': ""Keep connection backrefs with weakref.proxy\n\nWe're storing references to the connection object on\nproxy objects and the senlin folks are seeing memory\nleaks. Storing them in weakrefs.\n\nChange-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d\n(cherry picked from commit 0e8e36163716a53b4c1c2931408ced72951513be)\n""}]",0,696219,bcd37088bdd60f265fc27c0880ea3ac61ab4ac3c,8,3,1,22623,,,0,"Keep connection backrefs with weakref.proxy

We're storing references to the connection object on
proxy objects and the senlin folks are seeing memory
leaks. Storing them in weakrefs.

Change-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d
(cherry picked from commit 0e8e36163716a53b4c1c2931408ced72951513be)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/19/696219/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/connection.py'],1,bcd37088bdd60f265fc27c0880ea3ac61ab4ac3c,,import weakref self.session._sdk_connection = weakref.proxy(self), self.session._sdk_connection = self,2,1
openstack%2Fopenstacksdk~stable%2Fqueens~Ie0cffc402747d070c1eae1d9b423a046936d917d,openstack/openstacksdk,stable/queens,Ie0cffc402747d070c1eae1d9b423a046936d917d,Keep connection backrefs with weakref.proxy,MERGED,2019-11-27 02:06:55.000000000,2019-11-27 18:59:02.000000000,2019-11-27 18:59:02.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-11-27 02:06:55.000000000', 'files': ['openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1462454923d04a2d9c260edeb0f040eaa8b4a91c', 'message': ""Keep connection backrefs with weakref.proxy\n\nWe're storing references to the connection object on\nproxy objects and the senlin folks are seeing memory\nleaks. Storing them in weakrefs.\n\nChange-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d\n(cherry picked from commit 0e8e36163716a53b4c1c2931408ced72951513be)\n""}]",0,696222,1462454923d04a2d9c260edeb0f040eaa8b4a91c,7,3,1,22623,,,0,"Keep connection backrefs with weakref.proxy

We're storing references to the connection object on
proxy objects and the senlin folks are seeing memory
leaks. Storing them in weakrefs.

Change-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d
(cherry picked from commit 0e8e36163716a53b4c1c2931408ced72951513be)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/22/696222/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/connection.py'],1,1462454923d04a2d9c260edeb0f040eaa8b4a91c,,import weakref self.session._sdk_connection = weakref.proxy(self), self.session._sdk_connection = self,2,1
openstack%2Frally-openstack~master~I3b41f3ead99a0598f0293d6f914d2a0036448443,openstack/rally-openstack,master,I3b41f3ead99a0598f0293d6f914d2a0036448443,Update u-c to use latest rally,MERGED,2019-11-25 15:23:57.000000000,2019-11-27 18:58:33.000000000,2019-11-27 18:58:33.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 15:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5bd803fdc2e66dd592e60a781f2ff01033521a9c', 'message': 'Update u-c to use latest rally\n\nChange-Id: I3b41f3ead99a0598f0293d6f914d2a0036448443\n'}, {'number': 2, 'created': '2019-11-27 14:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b33ac1b727defcfc538eb9f92682bafd65972fb4', 'message': 'Update u-c to use latest rally\n\nChange-Id: I3b41f3ead99a0598f0293d6f914d2a0036448443\n'}, {'number': 3, 'created': '2019-11-27 16:05:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ab1d43412499c6dd27b5b4554d47faf636e3499a', 'message': 'Update u-c to use latest rally\n\nChange-Id: I3b41f3ead99a0598f0293d6f914d2a0036448443\n'}]",0,695928,ab1d43412499c6dd27b5b4554d47faf636e3499a,12,2,3,9545,,,0,"Update u-c to use latest rally

Change-Id: I3b41f3ead99a0598f0293d6f914d2a0036448443
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/28/695928/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5bd803fdc2e66dd592e60a781f2ff01033521a9c,update_rally,rally===2.1.0,rally===2.0.0,1,1
openstack%2Fcinder~master~If6dc705db18e138ed13fe3e9a5eecd366c33fe89,openstack/cinder,master,If6dc705db18e138ed13fe3e9a5eecd366c33fe89,Remove unnecessary saving of host and availability_zone,MERGED,2019-11-12 09:20:16.000000000,2019-11-27 18:49:43.000000000,2019-11-27 18:43:41.000000000,"[{'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-12 09:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/55fac6ddab705c7aa9c479a7c2261105017b6099', 'message': ""Remove unnecessary saving of host\n\nWhen doing backup creation, we already use method\n`_get_available_backup_service_host` to select and save the host;\nand in restoring or deleting operation, the host of backup will\nnever be modified. So it's safe to remove them.\n\nChange-Id: If6dc705db18e138ed13fe3e9a5eecd366c33fe89\n""}, {'number': 2, 'created': '2019-11-13 03:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb95e72c70170352e9b5670a321d999df3d38a6c', 'message': ""Remove unnecessary saving of host and availability_zone\n\n1. When doing backup creation, we have already used method\n   `_get_available_backup_service_host`(in cinder/backup/api.py)\n   to check the availability zone and select the host, and then\n   save them in the API service.\n2. When in the restoring or deleting operation, the host of backup\n   will never be modified.\nSo it's safe to remove them all.\n\nChange-Id: If6dc705db18e138ed13fe3e9a5eecd366c33fe89\n""}, {'number': 3, 'created': '2019-11-13 03:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a832939c4538eecadb0a7eee147790254aa343d', 'message': ""Remove unnecessary saving of host and availability_zone\n\n1. When doing backup creation, we have already used method\n   `_get_available_backup_service_host`(in cinder/backup/api.py)\n   to check the availability zone and select the host, and then\n   save them in the API service.\n2. When in the restoring or deleting operation, the host of backup\n   will never be modified.\nSo it's safe to remove them all.\n\nChange-Id: If6dc705db18e138ed13fe3e9a5eecd366c33fe89\n""}, {'number': 4, 'created': '2019-11-13 05:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd914a52ae43754582dd63091ae1677da1ef80d5', 'message': ""Remove unnecessary saving of host and availability_zone\n\n1. When doing backup creation, we have already used method\n   `_get_available_backup_service_host`(in cinder/backup/api.py)\n   to check and select availability zone and host, and then\n   save them in DB across the API service.\n2. When in restore and delete operation, the host of backup\n   will never be modified.\nSo it's safe to remove them from the manager code, since we are not\nactually changing the contents. This removes an unnecessary DB\nrequest in backup create, restore, and delete operations.\n\nChange-Id: If6dc705db18e138ed13fe3e9a5eecd366c33fe89\n""}, {'number': 5, 'created': '2019-11-13 05:54:24.000000000', 'files': ['cinder/backup/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5b6443adc4bcb1f169f64b45298c37216a2f201', 'message': ""Remove unnecessary saving of host and availability_zone\n\n1. When doing backup creation, we have already used method\n   `_get_available_backup_service_host`(in cinder/backup/api.py)\n   to check and select availability zone and host, and then\n   save them in DB across the API service.\n2. When in restore and delete operation, the host of backup\n   will never be modified.\nSo it's safe to remove them from the manager code, since we are not\nactually changing the contents. This removes an unnecessary DB\nrequest in backup create, restore, and delete operations.\n\nChange-Id: If6dc705db18e138ed13fe3e9a5eecd366c33fe89\n""}]",6,693792,b5b6443adc4bcb1f169f64b45298c37216a2f201,104,37,5,25837,,,0,"Remove unnecessary saving of host and availability_zone

1. When doing backup creation, we have already used method
   `_get_available_backup_service_host`(in cinder/backup/api.py)
   to check and select availability zone and host, and then
   save them in DB across the API service.
2. When in restore and delete operation, the host of backup
   will never be modified.
So it's safe to remove them from the manager code, since we are not
actually changing the contents. This removes an unnecessary DB
request in backup create, restore, and delete operations.

Change-Id: If6dc705db18e138ed13fe3e9a5eecd366c33fe89
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/693792/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/manager.py'],1,55fac6ddab705c7aa9c479a7c2261105017b6099,rm_backup_host,, backup.host = self.host backup.host = self.host backup.save() backup.host = self.host backup.save(),0,6
openstack%2Fcinder~stable%2Fstein~I16319ab394e75cbe5d8898afcb1d1043f898f315,openstack/cinder,stable/stein,I16319ab394e75cbe5d8898afcb1d1043f898f315,Fix VxFlexOS documentation,MERGED,2019-11-20 16:04:17.000000000,2019-11-27 18:46:01.000000000,2019-11-27 18:43:45.000000000,"[{'_account_id': 7160}, {'_account_id': 9535}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 18883}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 31016}]","[{'number': 1, 'created': '2019-11-20 16:04:17.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7faeddb4c6bf42e080ae69966189b6c0b897833', 'message': 'Fix VxFlexOS documentation\n\nRemove unnecessary instructions for containerized deployment\nusing VxFlex OS driver. Old instructions are not working and\nwill not be applicable after the bug will be resolved.\n\nChange-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315\nCloses-Bug: #1846483\n(cherry picked from commit 6271bb316b389a69780c3b8cc8d1a78caefc74b7)\n'}]",0,695231,f7faeddb4c6bf42e080ae69966189b6c0b897833,22,19,1,10379,,,0,"Fix VxFlexOS documentation

Remove unnecessary instructions for containerized deployment
using VxFlex OS driver. Old instructions are not working and
will not be applicable after the bug will be resolved.

Change-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315
Closes-Bug: #1846483
(cherry picked from commit 6271bb316b389a69780c3b8cc8d1a78caefc74b7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/695231/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst'],1,f7faeddb4c6bf42e080ae69966189b6c0b897833,bug/1846483,"Red Hat OpenStack version 13 and above, install the Storage Data Client (SDC) on all nodes after deploying the overcloud.","Red Hat OpenStack version 12 and above, there is an additional step that must be performed. Before deploying the overcloud ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ After ensuring that the Storage Data Client (SDC) is installed on all nodes and before deploying the overcloud, modify the TripleO Heat Template for the nova-compute and cinder-volume containers to add volume mappings for directories containing the SDC components. These files can normally be found at ``/usr/share/openstack-tripleo-heat-templates/docker/services/nova-compute.yaml`` and ``/usr/share/openstack-tripleo-heat-templates/docker/services/cinder-volume.yaml`` Two lines need to be inserted into the list of mapped volumes in each container. .. code-block:: yaml /opt/emc/scaleio:/opt/emc/scaleio /bin/emc/scaleio:/bin/emc/scaleio .. end The changes to the two heat templates are identical, as an example the original nova-compute file should have section that resembles the following: .. code-block:: yaml ... docker_config: step_4: nova_compute: image: &nova_compute_image {get_param: DockerNovaComputeImage} ipc: host net: host privileged: true user: nova restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /etc/iscsi:/etc/iscsi - /run:/run - /var/lib/nova:/var/lib/nova:shared - /var/lib/libvirt:/var/lib/libvirt - /var/log/containers/nova:/var/log/nova - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS ... .. end After modifying the nova-compute file, the section should resemble: .. code-block:: yaml ... docker_config: step_4: nova_compute: image: &nova_compute_image {get_param: DockerNovaComputeImage} ipc: host net: host privileged: true user: nova restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /etc/iscsi:/etc/iscsi - /run:/run - /var/lib/nova:/var/lib/nova:shared - /var/lib/libvirt:/var/lib/libvirt - /var/log/containers/nova:/var/log/nova - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci - /opt/emc/scaleio:/opt/emc/scaleio - /bin/emc/scaleio:/bin/emc/scaleio environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS ... .. end Once the nova-compute file is modified, make an identical change to the cinder-volume file. Deploy the overcloud ~~~~~~~~~~~~~~~~~~~~ Once the above changes have been made, deploy the overcloud as usual.",2,110
openstack%2Frally-openstack~master~I9f843f04fb7a7613cb1b274a969bb71bda8e9564,openstack/rally-openstack,master,I9f843f04fb7a7613cb1b274a969bb71bda8e9564,Fix cinder volume transfer,MERGED,2019-11-27 12:12:51.000000000,2019-11-27 18:45:43.000000000,2019-11-27 18:45:43.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 12:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d0cba251b9c1ec9650c5d4b7e7656ef3b883ad2a', 'message': '[dnm] test cinder transfer\n\nChange-Id: I9f843f04fb7a7613cb1b274a969bb71bda8e9564\n'}, {'number': 2, 'created': '2019-11-27 12:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c4c3c12cdfd551c5aaaa8584cc8a7cd7471af524', 'message': '[dnm] test cinder transfer\n\nChange-Id: I9f843f04fb7a7613cb1b274a969bb71bda8e9564\n'}, {'number': 3, 'created': '2019-11-27 13:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6b99a31c73cd9fa134fb520fbb19256f0eeb9f01', 'message': '[dnm] test cinder transfer\n\nChange-Id: I9f843f04fb7a7613cb1b274a969bb71bda8e9564\n'}, {'number': 4, 'created': '2019-11-27 14:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1edba82a240a8857193bab71455fa34d1c2b71dd', 'message': 'Fix cinder volume transfer\n\nChange-Id: I9f843f04fb7a7613cb1b274a969bb71bda8e9564\n'}, {'number': 5, 'created': '2019-11-27 16:05:43.000000000', 'files': ['rally_openstack/services/storage/cinder_common.py', 'rally-jobs/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/54fc6904ed4777c8b8d3b5318ded58c3e083ae47', 'message': 'Fix cinder volume transfer\n\nChange-Id: I9f843f04fb7a7613cb1b274a969bb71bda8e9564\n'}]",0,696295,54fc6904ed4777c8b8d3b5318ded58c3e083ae47,13,2,5,9545,,,0,"Fix cinder volume transfer

Change-Id: I9f843f04fb7a7613cb1b274a969bb71bda8e9564
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/95/696295/5 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/zuul.yaml', 'rally_openstack/services/storage/cinder_common.py', 'rally_openstack/scenarios/cinder/volumes.py', 'rally_openstack/services/storage/block.py']",4,d0cba251b9c1ec9650c5d4b7e7656ef3b883ad2a,fix_ci," print(""KEY %s"" % self.atomic_actions())",,3,58
openstack%2Frally-openstack~master~I4cb59a1c20a16328f8fb442d63ba5ed0f35b851e,openstack/rally-openstack,master,I4cb59a1c20a16328f8fb442d63ba5ed0f35b851e,Temporary turn off failing tests,MERGED,2019-11-27 14:37:30.000000000,2019-11-27 18:45:27.000000000,2019-11-27 18:45:27.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 14:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/928affc3e1d7de22f908e0e67bee5e4408346999', 'message': 'Temporary turn off failing tests\n\nChange-Id: I4cb59a1c20a16328f8fb442d63ba5ed0f35b851e\n'}, {'number': 2, 'created': '2019-11-27 16:00:58.000000000', 'files': ['rally-jobs/neutron.yaml', 'rally-jobs/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/55014fc5bed0c29529a1c3efd3aac2364a4d0b5a', 'message': 'Temporary turn off failing tests\n\nSeveral neutron and cinder related issues are blocking our gates.\n\nChange-Id: I4cb59a1c20a16328f8fb442d63ba5ed0f35b851e\n'}]",0,696314,55014fc5bed0c29529a1c3efd3aac2364a4d0b5a,8,2,2,9545,,,0,"Temporary turn off failing tests

Several neutron and cinder related issues are blocking our gates.

Change-Id: I4cb59a1c20a16328f8fb442d63ba5ed0f35b851e
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/14/696314/2 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/neutron.yaml', 'rally-jobs/cinder.yaml']",2,928affc3e1d7de22f908e0e67bee5e4408346999,fix_ci,," title: CinderVolumes.create_and_accept_transfer tests workloads: - scenario: CinderVolumes.create_and_accept_transfer: size: 1 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 - description: ""Create volume from image and accept transfer."" scenario: CinderVolumes.create_and_accept_transfer: size: 1 image: name: {{image_name}} runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 -",0,51
openstack%2Fcinder~master~I2bb5e8dbab7015af69f3886c7260d105f082838e,openstack/cinder,master,I2bb5e8dbab7015af69f3886c7260d105f082838e,Fix source link.,MERGED,2019-10-17 01:33:10.000000000,2019-11-27 18:43:35.000000000,2019-11-27 18:43:35.000000000,"[{'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-17 01:33:10.000000000', 'files': ['doc/source/contributor/gerrit.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6f4ead7de439632acf17c38b6786305ccbb49e8', 'message': 'Fix source link.\n\nChange-Id: I2bb5e8dbab7015af69f3886c7260d105f082838e\n'}]",0,689064,e6f4ead7de439632acf17c38b6786305ccbb49e8,31,27,1,30717,,,0,"Fix source link.

Change-Id: I2bb5e8dbab7015af69f3886c7260d105f082838e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/689064/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/gerrit.rst'],1,e6f4ead7de439632acf17c38b6786305ccbb49e8,,site is https://review.opendev.org.. _Gerrit: https://review.opendev.org/#/q/project:openstack/cinder+status:open,site is https://review.openstack.org.. _Gerrit: https://review.openstack.org/#/q/project:openstack/cinder+status:open,2,2
openstack%2Frequirements~stable%2Ftrain~I8ce7e7d81d74b2a9a9cddffa4e12b6ba73c26ca3,openstack/requirements,stable/train,I8ce7e7d81d74b2a9a9cddffa4e12b6ba73c26ca3,update constraint for python-zunclient to new release 3.5.1,MERGED,2019-11-27 09:42:53.000000000,2019-11-27 18:39:53.000000000,2019-11-27 18:39:53.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 09:42:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a5a11d9bba2ea89f21c4c9d05a9e3cfd8a04edae', 'message': 'update constraint for python-zunclient to new release 3.5.1\n\nChange-Id: I8ce7e7d81d74b2a9a9cddffa4e12b6ba73c26ca3\nmeta:version: 3.5.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hongbin Lu <hongbin034@gmail.com>\nmeta:release:Commit: Hongbin Lu <hongbin034@gmail.com>\nmeta:release:Change-Id: Ic3f7b0395fc16407b95ff4367c92bb982b6decf0\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,696261,a5a11d9bba2ea89f21c4c9d05a9e3cfd8a04edae,8,3,1,11131,,,0,"update constraint for python-zunclient to new release 3.5.1

Change-Id: I8ce7e7d81d74b2a9a9cddffa4e12b6ba73c26ca3
meta:version: 3.5.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hongbin Lu <hongbin034@gmail.com>
meta:release:Commit: Hongbin Lu <hongbin034@gmail.com>
meta:release:Change-Id: Ic3f7b0395fc16407b95ff4367c92bb982b6decf0
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/696261/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a5a11d9bba2ea89f21c4c9d05a9e3cfd8a04edae,new-release,python-zunclient===3.5.1,python-zunclient===3.5.0,1,1
openstack%2Frequirements~master~I8c021b04448dd9acbd3b3b0bc7e976889a266f1c,openstack/requirements,master,I8c021b04448dd9acbd3b3b0bc7e976889a266f1c,update constraint for osc-placement to new release 1.8.0,MERGED,2019-11-27 12:27:09.000000000,2019-11-27 18:27:53.000000000,2019-11-27 18:26:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 12:27:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8e9f87301b85799a3e156c0439e70a3eea0aa64c', 'message': 'update constraint for osc-placement to new release 1.8.0\n\nChange-Id: I8c021b04448dd9acbd3b3b0bc7e976889a266f1c\nmeta:version: 1.8.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Change-Id: I1020bfa5b1b1c82c25cdc15c14d0d63bbabe035b\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Eric Fried <openstack@fried.cc>\nmeta:release:Code-Review+1: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>\nmeta:release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,696297,8e9f87301b85799a3e156c0439e70a3eea0aa64c,7,2,1,11131,,,0,"update constraint for osc-placement to new release 1.8.0

Change-Id: I8c021b04448dd9acbd3b3b0bc7e976889a266f1c
meta:version: 1.8.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Change-Id: I1020bfa5b1b1c82c25cdc15c14d0d63bbabe035b
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Eric Fried <openstack@fried.cc>
meta:release:Code-Review+1: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>
meta:release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/696297/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8e9f87301b85799a3e156c0439e70a3eea0aa64c,new-release,osc-placement===1.8.0,osc-placement===1.7.0,1,1
openstack%2Fos-brick~master~Ibe723f6db5a9a8deb17aabe5b9991744977da2b4,openstack/os-brick,master,Ibe723f6db5a9a8deb17aabe5b9991744977da2b4,Blacklist eventlet 0.25.0,MERGED,2019-09-05 08:42:11.000000000,2019-11-27 18:22:46.000000000,2019-11-27 18:21:32.000000000,"[{'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18955}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25678}, {'_account_id': 27710}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-05 08:42:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/686791c21fbd2b639c4b02ce427cbe6a82ca64c1', 'message': 'Blacklist eventlet 0.25.0\n\nmore details https://review.opendev.org/#/c/678078/\n\nChange-Id: Ibe723f6db5a9a8deb17aabe5b9991744977da2b4\n'}]",0,680336,686791c21fbd2b639c4b02ce427cbe6a82ca64c1,23,18,1,27822,,,0,"Blacklist eventlet 0.25.0

more details https://review.opendev.org/#/c/678078/

Change-Id: Ibe723f6db5a9a8deb17aabe5b9991744977da2b4
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/36/680336/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,686791c21fbd2b639c4b02ce427cbe6a82ca64c1,eventlet,"eventlet!=0.18.3,!=0.20.1,!=0.21.0,!=0.23.0,!=0.25.0,>=0.18.2 # MIT","eventlet!=0.18.3,!=0.20.1,>=0.18.2 # MIT",1,1
openstack%2Fkolla-ansible~master~I799993728112a525e34cfbc4e786a10f0ed03be9,openstack/kolla-ansible,master,I799993728112a525e34cfbc4e786a10f0ed03be9,Split out OVS/Linuxbridge agent configs from ml2_conf.ini,MERGED,2019-11-21 08:27:20.000000000,2019-11-27 18:17:12.000000000,2019-11-27 18:14:42.000000000,"[{'_account_id': 11975}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-21 08:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84956ef5e3aaf77dd487dac54f7eb2b4b3cfbf1a', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 2, 'created': '2019-11-21 09:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef426e73a7e5a430fc766989f21e1d0002071af4', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 3, 'created': '2019-11-21 09:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a6964bf3a6c66ad531935992bdd7919981c3cc3', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 4, 'created': '2019-11-21 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0df96d09f0858c87c79099d43a2ac1172113eab', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 5, 'created': '2019-11-21 10:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5710e07a7749e790730cf53993f2e43fd94b5c5', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 6, 'created': '2019-11-21 10:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52bcf47e1286ddf8e30bf1d1fdbea5a83f61e2eb', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 7, 'created': '2019-11-21 11:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af8c3cf00f25a103c89de404c182f8f30fa15693', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 8, 'created': '2019-11-21 11:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a66a44fd1c2d63baf310ad76f78a659d17c4a8b', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 9, 'created': '2019-11-26 12:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77e0a641f40d0bb273e79b896747a84b23c29067', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 10, 'created': '2019-11-26 12:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b16fc7ffcd1238e04bc3deaf2ea5d3c1a7755c2a', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 11, 'created': '2019-11-26 13:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a36926a2f6fc7e8afb93bc4f1a971089e7bab687', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 12, 'created': '2019-11-26 17:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11aaceb45c95b4065df4d476d96bf59ee43b591a', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 13, 'created': '2019-11-26 18:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d75a3046e0b57f5d9cbcab832890e815f96fc460', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 14, 'created': '2019-11-27 06:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a0acbb2aa875de5a6a7abcc62a9e73c0c89dedd', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 15, 'created': '2019-11-27 10:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec902e85ff900fd7c80c6705462193db6003757d', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 16, 'created': '2019-11-27 10:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2012296f6cbc4eb46fd6e8b1b922c717a012fc30', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 17, 'created': '2019-11-27 13:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/955f4e29cb9bcf9f81ee80d68ca2db18e49f47e6', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}, {'number': 18, 'created': '2019-11-27 13:42:55.000000000', 'files': ['ansible/roles/neutron/templates/neutron-openvswitch-agent-xenapi.json.j2', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/templates/linuxbridge_agent.ini.j2', 'ansible/roles/neutron/templates/openvswitch_agent.ini.j2', 'ansible/roles/neutron/tasks/config.yml', 'doc/source/reference/networking/neutron.rst', 'releasenotes/notes/split_ovs_lb_agents_config-96f1f90e7d678209.yaml', 'ansible/roles/neutron/templates/openvswitch_agent_xenapi.ini.j2', 'ansible/roles/neutron/templates/neutron-linuxbridge-agent.json.j2', 'ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/roles/neutron/templates/neutron-openvswitch-agent.json.j2', 'ansible/roles/neutron/tasks/config-neutron-fake.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0947974ff64cd758608b224669b19d58e8e63163', 'message': 'Split out OVS/Linuxbridge agent configs from ml2_conf.ini\n\nChange-Id: I799993728112a525e34cfbc4e786a10f0ed03be9\n'}]",39,695367,0947974ff64cd758608b224669b19d58e8e63163,53,5,18,22629,,,0,"Split out OVS/Linuxbridge agent configs from ml2_conf.ini

Change-Id: I799993728112a525e34cfbc4e786a10f0ed03be9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/695367/15 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron-linuxbridge-agent.json.j2', 'ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/roles/neutron/templates/neutron-openvswitch-agent.json.j2', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/templates/linuxbridge_agent.ini.j2', 'ansible/roles/neutron/templates/openvswitch_agent.ini.j2', 'ansible/roles/neutron/tasks/config.yml']",7,84956ef5e3aaf77dd487dac54f7eb2b4b3cfbf1a,simplify_neutron,"- name: Copying over linuxbridge_agent.ini become: true vars: service_name: ""{{ item.key }}"" services_need_linuxbridge_agent_ini: - ""neutron-linuxbridge-agent"" merge_configs: sources: - ""{{ role_path }}/templates/linuxbridge_agent.ini.j2"" - ""{{ node_custom_config }}/neutron/linuxbridge_agent.ini"" - ""{{ node_custom_config }}/neutron/{{ inventory_hostname }}/linuxbridge_agent.ini"" dest: ""{{ node_config_directory }}/{{ service_name }}/linuxbridge_agent.ini"" mode: ""0660"" when: - item.key in services_need_linuxbridge_agent_ini - item.value.enabled | bool - item.value.host_in_groups | bool with_dict: ""{{ neutron_services }}"" notify: - ""Restart {{ item.key }} container"" - name: Copying over openvswitch_agent.ini become: true vars: service_name: ""{{ item.key }}"" services_need_openvswitch_agent_ini: - ""neutron-openvswitch-agent"" merge_configs: sources: - ""{{ role_path }}/templates/openvswitch_agent.ini.j2"" - ""{{ node_custom_config }}/neutron/openvswitch_agent.ini"" - ""{{ node_custom_config }}/neutron/{{ inventory_hostname }}/openvswitch_agent.ini"" dest: ""{{ node_config_directory }}/{{ service_name }}/openvswitch_agent.ini"" mode: ""0660"" when: - item.key in services_need_openvswitch_agent_ini - item.value.enabled | bool - item.value.host_in_groups | bool with_dict: ""{{ neutron_services }}"" notify: - ""Restart {{ item.key }} container"" ",,122,67
openstack%2Fironic~master~I3cc36d79ffabf31607d503dada9e7512c639647c,openstack/ironic,master,I3cc36d79ffabf31607d503dada9e7512c639647c,Drop python 2.7 support and testing,MERGED,2019-11-20 14:53:16.000000000,2019-11-27 18:16:31.000000000,2019-11-27 14:10:33.000000000,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-20 14:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c65421451fa64cfe4e7d80669bbac9aad4bad3fd', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nnetworking-hyperv is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I3cc36d79ffabf31607d503dada9e7512c639647c\n'}, {'number': 2, 'created': '2019-11-20 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1fb394f05f0a36f1b11d436d82735be3a39689c', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nIronic is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I3cc36d79ffabf31607d503dada9e7512c639647c\n'}, {'number': 3, 'created': '2019-11-21 11:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/47f85c1d8509796aeea9d143b0c676d45807cbc2', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nIronic is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I3cc36d79ffabf31607d503dada9e7512c639647c\n'}, {'number': 4, 'created': '2019-11-22 10:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b2b3ae7f11491c054e7878985254add60de8910', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nIronic is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I3cc36d79ffabf31607d503dada9e7512c639647c\n'}, {'number': 5, 'created': '2019-11-22 13:06:57.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'releasenotes/notes/drop-py-2-7-5140cb76e321cdd1.yaml', 'doc/source/contributor/jobs-description.rst', 'zuul.d/project.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b869b46c6369274760086d900f071d8b1933bb97', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nIronic is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I3cc36d79ffabf31607d503dada9e7512c639647c\n'}]",10,695213,b869b46c6369274760086d900f071d8b1933bb97,66,9,5,15519,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Ironic is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I3cc36d79ffabf31607d503dada9e7512c639647c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/695213/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'releasenotes/notes/drop-py-2-7-5140cb76e321cdd1.yaml', 'zuul.d/project.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",6,c65421451fa64cfe4e7d80669bbac9aad4bad3fd,drop-py27-support,"envlist = py3,pep8basepython = python3","envlist = py3,py27,pep8[testenv:unit-with-driver-libs] basepython = python2 deps = {[testenv]deps} -r{toxinidir}/driver-requirements.txt basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",8,45
openstack%2Fnetworking-bgpvpn~master~If95550dc11d2b38f9fa8abbca3da766a71c49ef2,openstack/networking-bgpvpn,master,If95550dc11d2b38f9fa8abbca3da766a71c49ef2,Update master for stable/train,MERGED,2019-09-25 08:48:33.000000000,2019-11-27 18:07:59.000000000,2019-11-27 18:06:25.000000000,"[{'_account_id': 8313}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 08:48:33.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/00f2a6ba3d4e3dc6ea054e89e8d718982d76fb97', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: If95550dc11d2b38f9fa8abbca3da766a71c49ef2\nSem-Ver: feature\n'}]",0,684607,00f2a6ba3d4e3dc6ea054e89e8d718982d76fb97,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: If95550dc11d2b38f9fa8abbca3da766a71c49ef2
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/07/684607/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,00f2a6ba3d4e3dc6ea054e89e8d718982d76fb97,reno-train, train,,7,0
openstack%2Fkuryr-kubernetes~master~I5f62cade90e9a1d3dd11decbccfdb9b8b061b2e4,openstack/kuryr-kubernetes,master,I5f62cade90e9a1d3dd11decbccfdb9b8b061b2e4,Fix pool population when namespace isolation is enforced,MERGED,2019-11-26 20:46:40.000000000,2019-11-27 17:33:44.000000000,2019-11-27 17:32:12.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-26 20:46:40.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/66b85a66d89b68e6aa36741b8465af99824d4c49', 'message': 'Fix pool population when namespace isolation is enforced\n\nWhen creating a new KuryrNet CRD, a pool population is triggered,\nbut with the wrong security groups type, as Neutron expects\na Security group List instead of String on the port creation request.\n\nChange-Id: I5f62cade90e9a1d3dd11decbccfdb9b8b061b2e4\nCloses-bug: 1854079\n'}]",0,696183,66b85a66d89b68e6aa36741b8465af99824d4c49,11,4,1,27032,,,0,"Fix pool population when namespace isolation is enforced

When creating a new KuryrNet CRD, a pool population is triggered,
but with the wrong security groups type, as Neutron expects
a Security group List instead of String on the port creation request.

Change-Id: I5f62cade90e9a1d3dd11decbccfdb9b8b061b2e4
Closes-bug: 1854079
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/83/696183/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/kuryrnet.py'],1,66b85a66d89b68e6aa36741b8465af99824d4c49,bug/1854079, sgs = [] sg_id = kuryrnet_crd['spec'].get('sgId') if sg_id: sgs.append(sg_id) sgs)," sg_id = kuryrnet_crd['spec'].get('sgId', []) sg_id)",5,2
openstack%2Fdesignate~master~I9b0850a3544d5758b0357d941acc0cf6486a1c89,openstack/designate,master,I9b0850a3544d5758b0357d941acc0cf6486a1c89,Run grenade old side with python3,MERGED,2019-11-26 14:34:26.000000000,2019-11-27 17:30:52.000000000,2019-11-27 17:29:19.000000000,"[{'_account_id': 8099}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-11-26 14:34:26.000000000', 'files': ['playbooks/legacy/grenade-devstack-designate-pdns4/run.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/d9fb34767c5bd9f8f822acc2b91715db45ab68db', 'message': 'Run grenade old side with python3\n\nJobs fail when the old side is running py2 and the new side has python3\nnow.\n\nChange-Id: I9b0850a3544d5758b0357d941acc0cf6486a1c89\n'}]",0,696097,d9fb34767c5bd9f8f822acc2b91715db45ab68db,14,4,1,13252,,,0,"Run grenade old side with python3

Jobs fail when the old side is running py2 and the new side has python3
now.

Change-Id: I9b0850a3544d5758b0357d941acc0cf6486a1c89
",git fetch https://review.opendev.org/openstack/designate refs/changes/97/696097/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/grenade-devstack-designate-pdns4/run.yaml'],1,d9fb34767c5bd9f8f822acc2b91715db45ab68db,fix-grenade, export DEVSTACK_GATE_USE_PYTHON3=True,,1,0
openstack%2Fos-brick~master~I4db40a42b22496cc7cafe82fb50c13ef0b2288b5,openstack/os-brick,master,I4db40a42b22496cc7cafe82fb50c13ef0b2288b5,Switch to Ussuri jobs,ABANDONED,2019-10-24 06:19:00.000000000,2019-11-27 17:28:46.000000000,,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-10-24 06:19:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3b8666ac2b6776bc911f3d316d07928661e5ccce', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I4db40a42b22496cc7cafe82fb50c13ef0b2288b5\n'}]",0,690838,3b8666ac2b6776bc911f3d316d07928661e5ccce,19,15,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I4db40a42b22496cc7cafe82fb50c13ef0b2288b5
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/38/690838/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3b8666ac2b6776bc911f3d316d07928661e5ccce,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcinder~master~Ied3306ac41ed14faa013c7a7b0f5d1e2f3104bed,openstack/cinder,master,Ied3306ac41ed14faa013c7a7b0f5d1e2f3104bed,[DNM][WIP] Test cinderlib gate,ABANDONED,2018-09-05 15:38:41.000000000,2019-11-27 17:20:18.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-05 15:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/091d29f02e3293db797afa6f50a4e4d6fef7166a', 'message': '[DNM][WIP Test cinderlib gate\n\nThis commit is just a test to check whether adding a cinderlib gate is\nfeasible without adding first cinderlib to openstack umbrella. Do not\nmerge! :D\n\nChange-Id: Ied3306ac41ed14faa013c7a7b0f5d1e2f3104bed\n'}, {'number': 2, 'created': '2018-09-05 15:41:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8747d5ddbd6f69187f52be98a10ba70ff1d59f8', 'message': '[DNM][WIP] Test cinderlib gate\n\nThis commit is just a test to check whether adding a cinderlib gate is\nfeasible without adding first cinderlib to openstack umbrella. Do not\nmerge! :D\n\nChange-Id: Ied3306ac41ed14faa013c7a7b0f5d1e2f3104bed\n'}]",4,600099,a8747d5ddbd6f69187f52be98a10ba70ff1d59f8,22,17,2,14885,,,0,"[DNM][WIP] Test cinderlib gate

This commit is just a test to check whether adding a cinderlib gate is
feasible without adding first cinderlib to openstack umbrella. Do not
merge! :D

Change-Id: Ied3306ac41ed14faa013c7a7b0f5d1e2f3104bed
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/600099/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,091d29f02e3293db797afa6f50a4e4d6fef7166a,cinderlib_tests, - cinder-tempest-dsvm-lvm-lio-barbican-cinderlib name: cinder-tempest-dsvm-lvm-lio-barbican-cinderlib parent: cinder-tempest-dsvm-lvm-lio-barbican description: Base cinderlib tests job required-projects: - akrog/cinderlib - job:,,9,0
openstack%2Fcinder~master~I8fc65d25769444416b503370947d448e4400b0d6,openstack/cinder,master,I8fc65d25769444416b503370947d448e4400b0d6,DNM: Getting extra logs for a volume type delete race,ABANDONED,2019-03-06 15:50:05.000000000,2019-11-27 17:19:48.000000000,,"[{'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-03-06 15:50:05.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3cfe51a634e90ad1ea8311503f936a8e6e029ef', 'message': 'DNM: Getting extra logs for a volume type delete race\n\nChange-Id: I8fc65d25769444416b503370947d448e4400b0d6\n'}]",0,641425,c3cfe51a634e90ad1ea8311503f936a8e6e029ef,20,18,1,9555,,,0,"DNM: Getting extra logs for a volume type delete race

Change-Id: I8fc65d25769444416b503370947d448e4400b0d6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/641425/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,c3cfe51a634e90ad1ea8311503f936a8e6e029ef,volume_type_delete_race," for result in results: LOG.warning(""in use by: %s"" % result['id']) LOG.warning(""group_count: %i"" % group_count) LOG.warning(""cg_count: %i"" % cg_count) ",,6,0
openstack%2Fcinderlib~master~I902fd0fe51b0afd0d456c0923abf6629b5638e14,openstack/cinderlib,master,I902fd0fe51b0afd0d456c0923abf6629b5638e14,Change deps source,ABANDONED,2019-05-06 08:14:15.000000000,2019-11-27 17:16:19.000000000,,"[{'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28613}]","[{'number': 1, 'created': '2019-05-06 08:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/115cef90b7ee0a08aca6dcbbd1f3359ebf41b42b', 'message': 'Change deps source\n\nChange-Id: I902fd0fe51b0afd0d456c0923abf6629b5638e14\n'}, {'number': 2, 'created': '2019-05-21 08:45:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/f8c12778fd7f11466b41cb4b6e632ddce5edca23', 'message': 'Change deps source\n\nChange-Id: I902fd0fe51b0afd0d456c0923abf6629b5638e14\n'}]",0,657339,f8c12778fd7f11466b41cb4b6e632ddce5edca23,8,3,2,28613,,,0,"Change deps source

Change-Id: I902fd0fe51b0afd0d456c0923abf6629b5638e14
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/39/657339/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,115cef90b7ee0a08aca6dcbbd1f3359ebf41b42b,cinderlib, git+https://opendev.org/openstack/os-brick#egg=os-brick git+https://opendev.org/openstack/cinder#egg=cinder -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, git+https://git.openstack.org/openstack/os-brick#egg=os-brick git+https://git.openstack.org/openstack/cinder#egg=cinder -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Frequirements~master~Ia005a6bdc48fdfbdaea0adf0f6138ba04725c560,openstack/requirements,master,Ia005a6bdc48fdfbdaea0adf0f6138ba04725c560,Updated from generate-constraints,MERGED,2019-11-27 06:15:24.000000000,2019-11-27 17:15:49.000000000,2019-11-27 17:13:24.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 06:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/14eb72c024723ee2e98976063aa5904710a37567', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia005a6bdc48fdfbdaea0adf0f6138ba04725c560\n'}, {'number': 2, 'created': '2019-11-27 07:50:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ccdbf27f0c2031db5b355e44dc162d3b225bf2a', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia005a6bdc48fdfbdaea0adf0f6138ba04725c560\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,696232,9ccdbf27f0c2031db5b355e44dc162d3b225bf2a,11,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ia005a6bdc48fdfbdaea0adf0f6138ba04725c560
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/696232/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,14eb72c024723ee2e98976063aa5904710a37567,openstack/requirements/constraints/noclob,pytest===5.3.1;python_version=='3.4' pytest===5.3.1;python_version=='3.5' pytest===5.3.1;python_version=='3.6' pytest===5.3.1;python_version=='3.7'gunicorn===20.0.4;python_version=='3.4' gunicorn===20.0.4;python_version=='3.5' gunicorn===20.0.4;python_version=='3.6' gunicorn===20.0.4;python_version=='3.7'tinyrpc===1.0.4boto3===1.10.28psutil===5.6.7botocore===1.13.28diskimage-builder===2.30.0,pytest===5.3.0;python_version=='3.4' pytest===5.3.0;python_version=='3.5' pytest===5.3.0;python_version=='3.6' pytest===5.3.0;python_version=='3.7'gunicorn===20.0.3;python_version=='3.4' gunicorn===20.0.3;python_version=='3.5' gunicorn===20.0.3;python_version=='3.6' gunicorn===20.0.3;python_version=='3.7'tinyrpc===1.0.3boto3===1.10.8psutil===5.6.6botocore===1.13.8diskimage-builder===2.29.1,13,13
openstack%2Fkuryr-kubernetes~master~Ibf0662f71c3837f97c2e9ce815a48a0955c50e89,openstack/kuryr-kubernetes,master,Ibf0662f71c3837f97c2e9ce815a48a0955c50e89,Fix deletion of ports on a pool,MERGED,2019-11-20 11:52:25.000000000,2019-11-27 17:00:20.000000000,2019-11-24 20:23:40.000000000,"[{'_account_id': 11600}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-20 11:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f0e7d0b0fdb0b3f138c1ecb994ae363eb264f891', 'message': 'Fix deletion of ports on a pool\n\nWe should ensure the ports pools dict that is being\ninterated do not change over time, causing the deletion\nof the ports to fail. A dict copy is made to avoid this.\n\nChange-Id: Ibf0662f71c3837f97c2e9ce815a48a0955c50e89\nCloses-bug: 1853281\n'}, {'number': 2, 'created': '2019-11-20 13:36:30.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1067b9bf3e17829148182bbfcf108f06a5b483d9', 'message': 'Fix deletion of ports on a pool\n\nWe should ensure the ports pools dict that is being\ninterated do not change over time, causing the deletion\nof the ports to fail. A dict copy is made to avoid this.\n\nChange-Id: Ibf0662f71c3837f97c2e9ce815a48a0955c50e89\nCloses-bug: 1853281\n'}]",1,695182,1067b9bf3e17829148182bbfcf108f06a5b483d9,25,5,2,27032,,,0,"Fix deletion of ports on a pool

We should ensure the ports pools dict that is being
interated do not change over time, causing the deletion
of the ports to fail. A dict copy is made to avoid this.

Change-Id: Ibf0662f71c3837f97c2e9ce815a48a0955c50e89
Closes-bug: 1853281
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/82/695182/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,f0e7d0b0fdb0b3f138c1ecb994ae363eb264f891,bug/1853281," available_ports_pools = {**self._available_ports_pools} for pool_key, ports in available_ports_pools.items(): available_ports_pools = {**self._available_ports_pools} for pool_key, ports in available_ports_pools.items():"," for pool_key, ports in self._available_ports_pools.items(): for pool_key, ports in self._available_ports_pools.items():",4,2
openstack%2Fopenstack-ansible-ceph_client~master~I120a6e66351db62bbd6e270495f455a5e34b4a2b,openstack/openstack-ansible-ceph_client,master,I120a6e66351db62bbd6e270495f455a5e34b4a2b,Change group to ceph from cephkeys,MERGED,2019-11-20 17:26:16.000000000,2019-11-27 16:50:33.000000000,2019-11-21 15:52:46.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-20 17:26:16.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/cffa6b5d101e7efa7565cde723f9f2f8445ad0b5', 'message': ""Change group to ceph from cephkeys\n\nWhen ceph-ansible is used, it tends to use `ceph` group for ceph.conf[1]\nThis make problems for libvirt and cinder/ceph\nas their users are not in ceph group, so don't have access to configs.\n\nThis also updates ceph_stable_release to nautilus\n\n[1] https://github.com/ceph/ceph-ansible/blob/bc701860d541b9f752d0f8cfcbed43979aafb70e/roles/ceph-config/tasks/main.yml#L66-L94\n\nChange-Id: I120a6e66351db62bbd6e270495f455a5e34b4a2b\n""}]",0,695249,cffa6b5d101e7efa7565cde723f9f2f8445ad0b5,9,3,1,28619,,,0,"Change group to ceph from cephkeys

When ceph-ansible is used, it tends to use `ceph` group for ceph.conf[1]
This make problems for libvirt and cinder/ceph
as their users are not in ceph group, so don't have access to configs.

This also updates ceph_stable_release to nautilus

[1] https://github.com/ceph/ceph-ansible/blob/bc701860d541b9f752d0f8cfcbed43979aafb70e/roles/ceph-config/tasks/main.yml#L66-L94

Change-Id: I120a6e66351db62bbd6e270495f455a5e34b4a2b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/49/695249/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,cffa6b5d101e7efa7565cde723f9f2f8445ad0b5,ceph_group,ceph_stable_release: nautiluscephkeys_access_group: ceph,ceph_stable_release: luminouscephkeys_access_group: cephkeys,2,2
openstack%2Fkuryr-kubernetes~master~I11edd23303a017b281ef3a9a4ff28ee8baeb08cd,openstack/kuryr-kubernetes,master,I11edd23303a017b281ef3a9a4ff28ee8baeb08cd,Ensure not found exception is ignored when LB is not present,MERGED,2019-11-21 17:38:22.000000000,2019-11-27 16:48:10.000000000,2019-11-22 19:37:27.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-21 17:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/14064a3d8f7a9d9e3a4097403d8f11179408f3ff', 'message': 'Ensure not found exception is ignored when LB is not present\n\nWhen using ovn-octavia driver a load balancer can be deleted\nfast enought to cause a NotFoundException when trying to retrieve\nit, which is different than the current exception being handled.\nThis commit ensures the additional exception is handled.\n\nChange-Id: I11edd23303a017b281ef3a9a4ff28ee8baeb08cd\nCloses-bug: 1853498\n'}, {'number': 2, 'created': '2019-11-22 13:34:10.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/24499178317d41e699593feac5e3e63e368a5b0d', 'message': 'Ensure not found exception is ignored when LB is not present\n\nWhen using ovn-octavia driver a load balancer can be deleted\nfast enought to cause a NotFoundException when trying to retrieve\nit, which is different than the current exception being handled.\nThis commit ensures the additional exception is handled.\n\nChange-Id: I11edd23303a017b281ef3a9a4ff28ee8baeb08cd\nCloses-bug: 1853498\n'}]",4,695541,24499178317d41e699593feac5e3e63e368a5b0d,16,4,2,27032,,,0,"Ensure not found exception is ignored when LB is not present

When using ovn-octavia driver a load balancer can be deleted
fast enought to cause a NotFoundException when trying to retrieve
it, which is different than the current exception being handled.
This commit ensures the additional exception is handled.

Change-Id: I11edd23303a017b281ef3a9a4ff28ee8baeb08cd
Closes-bug: 1853498
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/41/695541/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,14064a3d8f7a9d9e3a4097403d8f11179408f3ff,bug/1853498," except (o_exc.ResourceNotFound, o_exc.NotFoundException): except (o_exc.ResourceNotFound, o_exc.NotFoundException):", except o_exc.ResourceNotFound: except o_exc.ResourceNotFound:,2,2
openstack%2Fkolla-ansible~stable%2Fstein~I2fdca1a6a78e78623733a387a2d8c7e29d449083,openstack/kolla-ansible,stable/stein,I2fdca1a6a78e78623733a387a2d8c7e29d449083,Fix 'nova_cephx_raw_key' is undefined,ABANDONED,2019-11-27 16:10:43.000000000,2019-11-27 16:47:51.000000000,,"[{'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30927}]","[{'number': 1, 'created': '2019-11-27 16:10:43.000000000', 'files': ['ansible/roles/nova/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a2681fd6716b454036babfe02e484437cf9f5ed', 'message': ""Fix 'nova_cephx_raw_key' is undefined\n\nWhen using external ceph without nova integration, kolla-ansible fails\nbecause 'nova_cephx_raw_key' is undefined.\nThis patch fixes the issue by applying the 'default' filter to\nprevent failure on undefined.\nThe change in behavior was introduced by [1].\n\n[1] https://review.opendev.org/689753\ncommit 44709f413246a05b891f250e88c43226e1f1b0c9\n\nChange-Id: I2fdca1a6a78e78623733a387a2d8c7e29d449083\nCloses-Bug: #1853862\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n(cherry picked from commit 6ff633723067ecfa3644645e7cf8fd2216be616a)\n""}]",0,696342,2a2681fd6716b454036babfe02e484437cf9f5ed,4,3,1,14826,,,0,"Fix 'nova_cephx_raw_key' is undefined

When using external ceph without nova integration, kolla-ansible fails
because 'nova_cephx_raw_key' is undefined.
This patch fixes the issue by applying the 'default' filter to
prevent failure on undefined.
The change in behavior was introduced by [1].

[1] https://review.opendev.org/689753
commit 44709f413246a05b891f250e88c43226e1f1b0c9

Change-Id: I2fdca1a6a78e78623733a387a2d8c7e29d449083
Closes-Bug: #1853862
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
(cherry picked from commit 6ff633723067ecfa3644645e7cf8fd2216be616a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/696342/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/external_ceph.yml'],1,2a2681fd6716b454036babfe02e484437cf9f5ed,bug/1853862," # NOTE(yoctozepto): 'default' filter required due to eager evaluation of item content # which will be undefined if the applicable condition is False result: ""{{ nova_cephx_raw_key | default }}"" result: ""{{ cinder_cephx_raw_key | default }}"""," result: ""{{ nova_cephx_raw_key }}"" result: ""{{ cinder_cephx_raw_key }}""",4,2
openstack%2Fkuryr-kubernetes~master~Ie2cacc86e745bbd7da7254f7adfd9b41370936ab,openstack/kuryr-kubernetes,master,Ie2cacc86e745bbd7da7254f7adfd9b41370936ab,Prevent Kuryr restart due to connection issue,MERGED,2019-11-21 14:27:57.000000000,2019-11-27 16:47:25.000000000,2019-11-22 09:21:15.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-21 14:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0790a1c8370ceff87f5182182bb0004c23e4f850', 'message': 'Prevent Kuryr restart due to connection issue\n\nIn case the connection to Keystone is broken Kuryr controller is instantly\nrestarted. This may result in leftovers loadbalancers as a Kubernetes\nservice deletion can happen while the lbaas is still in PENDING_CREATE\nand if the controller is restarted, the deletion event will be gone.\nIn this commit we give Kuryr a chance to retry the event before restarting.\n\nChange-Id: Ie2cacc86e745bbd7da7254f7adfd9b41370936ab\nCloses-bug: 695182\n'}, {'number': 2, 'created': '2019-11-21 14:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/036a1a06b94e0a3a1de36dc59ee74f9792cbff28', 'message': 'Prevent Kuryr restart due to connection issue\n\nIn case the connection to Keystone is broken Kuryr controller is instantly\nrestarted. This may result in leftovers loadbalancers as a Kubernetes\nservice deletion can happen while the lbaas is still in PENDING_CREATE\nand if the controller is restarted, the deletion event will be gone.\nIn this commit we give Kuryr a chance to retry the event before restarting.\n\nChange-Id: Ie2cacc86e745bbd7da7254f7adfd9b41370936ab\nCloses-bug: 1853460\n'}, {'number': 3, 'created': '2019-11-21 17:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4c93f0d7aa15976b458c001763308ce7c56e88e9', 'message': 'Prevent Kuryr restart due to connection issue\n\nIn case the connection to Keystone is broken Kuryr controller is instantly\nrestarted. This may result in leftovers loadbalancers as a Kubernetes\nservice deletion can happen while the lbaas is still in PENDING_CREATE\nand if the controller is restarted, the deletion event will be gone.\nIn this commit we give Kuryr a chance to retry the event before restarting.\n\nChange-Id: Ie2cacc86e745bbd7da7254f7adfd9b41370936ab\nCloses-bug: 695182\n'}, {'number': 4, 'created': '2019-11-21 17:01:49.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pipeline.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/11ccc6611811cc1397ace28780415c93ffa8b467', 'message': 'Prevent Kuryr restart due to connection issue\n\nIn case the connection to Keystone is broken Kuryr controller is instantly\nrestarted. This may result in leftovers loadbalancers as a Kubernetes\nservice deletion can happen while the lbaas is still in PENDING_CREATE\nand if the controller is restarted, the deletion event will be gone.\nIn this commit we give Kuryr a chance to retry the event before restarting.\n\nChange-Id: Ie2cacc86e745bbd7da7254f7adfd9b41370936ab\nCloses-bug: 1853460\n'}]",2,695445,11ccc6611811cc1397ace28780415c93ffa8b467,14,4,4,27032,,,0,"Prevent Kuryr restart due to connection issue

In case the connection to Keystone is broken Kuryr controller is instantly
restarted. This may result in leftovers loadbalancers as a Kubernetes
service deletion can happen while the lbaas is still in PENDING_CREATE
and if the controller is restarted, the deletion event will be gone.
In this commit we give Kuryr a chance to retry the event before restarting.

Change-Id: Ie2cacc86e745bbd7da7254f7adfd9b41370936ab
Closes-bug: 1853460
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/45/695445/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/handlers/retry.py'],1,0790a1c8370ceff87f5182182bb0004c23e4f850,bug/695182,"from requests import exceptions as requests_excfrom keystoneauth1 import exceptions as key_exc except (self._exceptions, key_exc.connection.ConnectFailure, requests_exc.ConnectionError):", except self._exceptions:,4,1
openstack%2Fpython-tripleoclient~master~I6627da48bc170f7ecccaf84c0fccda9e2edd5af3,openstack/python-tripleoclient,master,I6627da48bc170f7ecccaf84c0fccda9e2edd5af3,Fix inspector ip range for dhcpv6-stateless,MERGED,2019-11-20 19:32:22.000000000,2019-11-27 16:44:11.000000000,2019-11-27 15:32:56.000000000,"[{'_account_id': 7144}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-11-20 19:32:22.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/fix-dhcpv6-stateless-inspector-dnsmasq-range-9d0f4635ecce3d2f.yaml', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/69eec5ce08a4adbeb315dda00dd2990657930506', 'message': 'Fix inspector ip range for dhcpv6-stateless\n\nWhen using dhcpv6-stateless a range should not be\nused. According to dnsmasq manual page:\n\n  A static-only subnet with address all zeros may be\n  used as a ""catch-all"" address to enable replies to\n  all Information-request packets on a subnet which\n  is provided with stateless DHCPv6, ie\n  --dhcp-range=::,static\n\nCloses-Bug: #1853334\nChange-Id: I6627da48bc170f7ecccaf84c0fccda9e2edd5af3\n'}]",2,695294,69eec5ce08a4adbeb315dda00dd2990657930506,12,5,1,24245,,,0,"Fix inspector ip range for dhcpv6-stateless

When using dhcpv6-stateless a range should not be
used. According to dnsmasq manual page:

  A static-only subnet with address all zeros may be
  used as a ""catch-all"" address to enable replies to
  all Information-request packets on a subnet which
  is provided with stateless DHCPv6, ie
  --dhcp-range=::,static

Closes-Bug: #1853334
Change-Id: I6627da48bc170f7ecccaf84c0fccda9e2edd5af3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/695294/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/fix-dhcpv6-stateless-inspector-dnsmasq-range-9d0f4635ecce3d2f.yaml', 'tripleoclient/tests/v1/undercloud/test_config.py']",3,69eec5ce08a4adbeb315dda00dd2990657930506,bug/1853334," def test_ipv6_control_plane_stateless_default(self): 'ip_range': 'fd12:3456:789a:1::,static', 'netmask': 'ffff:ffff:ffff:ffff::', 'tag': 'ctlplane-subnet', 'mtu': 1500}], 'MasqueradeNetworks': {}, 'UndercloudCtlplaneSubnets': { 'ctlplane-subnet': { 'AllocationPools': [ {'start': 'fd12:3456:789a:1::10', 'end': 'fd12:3456:789a:1::20'}], 'DnsNameServers': ['fd12:3456:789a:1::5', 'fd12:3456:789a:1::6'], 'HostRoutes': [], 'NetworkCidr': 'fd12:3456:789a:1::/64', 'NetworkGateway': 'fd12:3456:789a:1::1'}}, 'UndercloudCtlplaneIPv6AddressMode': 'dhcpv6-stateless', } self.assertEqual(expected, env) def test_ipv6_control_plane_stateful(self): env = {} self.conf.config(local_ip='fd12:3456:789a:1::2/64', undercloud_admin_host='fd12:3456:789a:1::3', undercloud_public_host='fd12:3456:789a:1::4', ipv6_address_mode='dhcpv6-stateful') self.conf.config(cidr='fd12:3456:789a:1::/64', dhcp_start='fd12:3456:789a:1::10', dhcp_end='fd12:3456:789a:1::20', dhcp_exclude=[], dns_nameservers=['fd12:3456:789a:1::5', 'fd12:3456:789a:1::6'], inspection_iprange=('fd12:3456:789a:1::30,' 'fd12:3456:789a:1::40'), gateway='fd12:3456:789a:1::1', masquerade=False, host_routes=[], group='ctlplane-subnet') undercloud_config._process_network_args(env) expected = { 'NovaIPv6': True, 'RabbitIPv6': True, 'MemcachedIPv6': True, 'RedisIPv6': True, 'MysqlIPv6': True, 'IronicIpVersion': '6', 'ControlPlaneStaticRoutes': [], 'IronicInspectorSubnets': [ {'gateway': 'fd12:3456:789a:1::1', 'host_routes': [], 'UndercloudCtlplaneIPv6AddressMode': 'dhcpv6-stateful',"," def test_ipv6_control_plane(self): 'UndercloudCtlplaneIPv6AddressMode': 'dhcpv6-stateless',",71,3
openstack%2Fcloudkitty~master~Ic1d3e301d111a5694aff3a665aff261c562a0efc,openstack/cloudkitty,master,Ic1d3e301d111a5694aff3a665aff261c562a0efc,"Check for duplicates in ""groupby"" and ""metadata"" for each metric",MERGED,2019-11-26 15:52:28.000000000,2019-11-27 16:43:30.000000000,2019-11-27 16:41:57.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-11-26 15:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ff375520d0bd5322559a68f10db0a24234cccaf3', 'message': 'Check for duplicates in ""groupby"" and ""metadata"" for each metric\n\nThis updates the ""cloudkitty.collector.validate_conf"" function in order to\ncheck for duplicates between ""groupby"" and ""metadata"" in the metrics.yml\nconfiguration file.\n\nChange-Id: Ic1d3e301d111a5694aff3a665aff261c562a0efc\nStory: 2006941\nTask: 37615\n'}, {'number': 2, 'created': '2019-11-27 13:48:36.000000000', 'files': ['releasenotes/notes/check-duplicates-metadata-groupby-d5ee99941bb483fd.yaml', 'cloudkitty/collector/__init__.py', 'cloudkitty/tests/collectors/test_validation.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ee8b341f2d034e61a8a109f000c28678b3cc15df', 'message': 'Check for duplicates in ""groupby"" and ""metadata"" for each metric\n\nThis updates the ""cloudkitty.collector.validate_conf"" function in order to\ncheck for duplicates between ""groupby"" and ""metadata"" in the metrics.yml\nconfiguration file.\n\nChange-Id: Ic1d3e301d111a5694aff3a665aff261c562a0efc\nStory: 2006941\nTask: 37615\n'}]",0,696115,ee8b341f2d034e61a8a109f000c28678b3cc15df,14,3,2,23060,,,0,"Check for duplicates in ""groupby"" and ""metadata"" for each metric

This updates the ""cloudkitty.collector.validate_conf"" function in order to
check for duplicates between ""groupby"" and ""metadata"" in the metrics.yml
configuration file.

Change-Id: Ic1d3e301d111a5694aff3a665aff261c562a0efc
Story: 2006941
Task: 37615
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/15/696115/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/check-duplicates-metadata-groupby-d5ee99941bb483fd.yaml', 'cloudkitty/collector/__init__.py', 'cloudkitty/tests/collectors/test_validation.py']",3,ff375520d0bd5322559a68f10db0a24234cccaf3,," 'metadata': ['two'], 'metadata': ['two'], def test_check_duplicates(self): data = copy.deepcopy(self.base_data) for metric_name, metric in data['metrics'].items(): metric['metadata'].append('one') self.assertRaises( collector.InvalidConfiguration, collector.check_duplicates, metric_name, metric)"," 'metadata': ['one'], 'metadata': ['one'],",39,2
openstack%2Foctavia~stable%2Fstein~I2f3c7ab4137dbd84d77a6a6b675975af406249d0,openstack/octavia,stable/stein,I2f3c7ab4137dbd84d77a6a6b675975af406249d0,Fix listeners with SNI certificates,ABANDONED,2019-11-18 17:51:52.000000000,2019-11-27 16:41:06.000000000,,[],"[{'number': 1, 'created': '2019-11-18 17:51:52.000000000', 'files': ['releasenotes/notes/fix-SNI-single-process-879ffce5eaa6c1c3.yaml', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8d2251a1ca384a5610a2d9954db6e3ba93aaf677', 'message': 'Fix listeners with SNI certificates\n\nThe single process patch changed the way listeners and load balancers\nare deployed inside the amphora. This caused listeners with SNI\nenabled to load all of the certificates for all of the TLS enabled\nlisteners on a load balancer.\nThis patch corrects that by configuring each listener with a\nspecific list of certificates.\n\nChange-Id: I2f3c7ab4137dbd84d77a6a6b675975af406249d0\nStory: 2006758\nTask: 37252\n'}]",0,694819,8d2251a1ca384a5610a2d9954db6e3ba93aaf677,5,0,1,11628,,,0,"Fix listeners with SNI certificates

The single process patch changed the way listeners and load balancers
are deployed inside the amphora. This caused listeners with SNI
enabled to load all of the certificates for all of the TLS enabled
listeners on a load balancer.
This patch corrects that by configuring each listener with a
specific list of certificates.

Change-Id: I2f3c7ab4137dbd84d77a6a6b675975af406249d0
Story: 2006758
Task: 37252
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/694819/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-SNI-single-process-879ffce5eaa6c1c3.yaml', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",12,8d2251a1ca384a5610a2d9954db6e3ba93aaf677,," exc.NotFound, 'Fake_MD5', 'aaaaa', 'aaaaa'] 4, self.driver.clients[API_VERSION].upload_cert_pem.call_count)"," exc.NotFound, 'Fake_MD5', 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'] 3, self.driver.clients[API_VERSION].upload_cert_pem.call_count)",134,162
openstack%2Fheat~stable%2Ftrain~I2c2b36879225d14a1cfdba1242fa1c5a864e150d,openstack/heat,stable/train,I2c2b36879225d14a1cfdba1242fa1c5a864e150d,Imported Translations from Zanata,MERGED,2019-11-19 07:36:45.000000000,2019-11-27 16:39:48.000000000,2019-11-27 16:37:50.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 07:36:45.000000000', 'files': ['heat/locale/fr/LC_MESSAGES/heat.po', 'heat/locale/ja/LC_MESSAGES/heat.po', 'heat/locale/ko_KR/LC_MESSAGES/heat.po', 'heat/locale/zh_TW/LC_MESSAGES/heat.po', 'heat/locale/pt_BR/LC_MESSAGES/heat.po', 'heat/locale/ru/LC_MESSAGES/heat.po', 'heat/locale/zh_CN/LC_MESSAGES/heat.po', 'heat/locale/it/LC_MESSAGES/heat.po', 'heat/locale/de/LC_MESSAGES/heat.po', 'heat/locale/es/LC_MESSAGES/heat.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/0703ca7bb19ca3bb06009c828a66bababf9970b8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2c2b36879225d14a1cfdba1242fa1c5a864e150d\n'}]",0,694920,0703ca7bb19ca3bb06009c828a66bababf9970b8,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2c2b36879225d14a1cfdba1242fa1c5a864e150d
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/694920/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/locale/fr/LC_MESSAGES/heat.po', 'heat/locale/ja/LC_MESSAGES/heat.po', 'heat/locale/ko_KR/LC_MESSAGES/heat.po', 'heat/locale/zh_TW/LC_MESSAGES/heat.po', 'heat/locale/pt_BR/LC_MESSAGES/heat.po', 'heat/locale/ru/LC_MESSAGES/heat.po', 'heat/locale/zh_CN/LC_MESSAGES/heat.po', 'heat/locale/it/LC_MESSAGES/heat.po', 'heat/locale/de/LC_MESSAGES/heat.po', 'heat/locale/es/LC_MESSAGES/heat.po']",10,0703ca7bb19ca3bb06009c828a66bababf9970b8,zanata/translations,"""POT-Creation-Date: 2019-11-14 06:36+0000\n""","""POT-Creation-Date: 2019-09-29 20:00+0000\n""msgid """" ""How the user_data should be formatted for the server. For HEAT_CFNTOOLS, the "" ""user_data is bundled as part of the heat-cfntools cloud-init boot "" ""configuration data. For RAW the user_data is passed to Nova unmodified. For "" ""SOFTWARE_CONFIG user_data is bundled as part of the software config data, "" ""and metadata is derived from any associated SoftwareDeployment resources."" msgstr """" ""La manera en que los datos de usuario se deben formatear para el servidor. "" ""Para HEAT_CFNTOOLS, los datos de usuario se empaquetan como parte de los "" ""datos de configuracin de arranque heat-cfntools cloud-init. Para RAW, los "" ""datos de usuario se pasan a Nova sin modificarlos. Para SOFTWARE_CONFIG, los "" ""datos de usuario se empaquetan como parte de los datos de configuracin de "" ""software y los metadatos se obtienen de los recursos SoftwareDeployment ."" ",345,149
openstack%2Fopenstack-ansible-os_horizon~stable%2Ftrain~Ie68d587bf69af9d298a643b056edcbd6e2c8a73d,openstack/openstack-ansible-os_horizon,stable/train,Ie68d587bf69af9d298a643b056edcbd6e2c8a73d,Debian mod_wsgi python versions,MERGED,2019-11-21 20:04:59.000000000,2019-11-27 16:37:16.000000000,2019-11-27 16:35:37.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-21 20:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/0be3dae89d7164e607269fa5883dbe8c7af541c6', 'message': 'Debian mod_wsgi python versions\n\nUse horizon_venv_python_executable instead of the install_method to\ndecide what version of libapache2-mod-wsgi should be installed.\n\nChange-Id: Ie68d587bf69af9d298a643b056edcbd6e2c8a73d\n(cherry picked from commit 7decc60313c84df060e1a8561247cde0d9ad0752)\n'}, {'number': 2, 'created': '2019-11-22 14:39:36.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/c33ada3eec2f1cd10d16aed75766e09a833ebd45', 'message': 'Debian mod_wsgi python versions\n\nUse horizon_venv_python_executable instead of the install_method to\ndecide what version of libapache2-mod-wsgi should be installed.\n\nChange-Id: Ie68d587bf69af9d298a643b056edcbd6e2c8a73d\n(cherry picked from commit 7decc60313c84df060e1a8561247cde0d9ad0752)\n'}]",0,695563,c33ada3eec2f1cd10d16aed75766e09a833ebd45,21,6,2,25023,,,0,"Debian mod_wsgi python versions

Use horizon_venv_python_executable instead of the install_method to
decide what version of libapache2-mod-wsgi should be installed.

Change-Id: Ie68d587bf69af9d298a643b056edcbd6e2c8a73d
(cherry picked from commit 7decc60313c84df060e1a8561247cde0d9ad0752)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/63/695563/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,0be3dae89d7164e607269fa5883dbe8c7af541c6,osa-train," - ""{{ (horizon_venv_python_executable == 'python3') | ternary('libapache2-mod-wsgi-py3', 'libapache2-mod-wsgi') }}"""," - ""{{ (horizon_install_method == 'distro') | ternary('libapache2-mod-wsgi-py3', 'libapache2-mod-wsgi') }}""",1,1
openstack%2Fopenstack-ansible-os_rally~stable%2Ftrain~I588ba1e26f5e4afc40f43547b15b48e9428e2f48,openstack/openstack-ansible-os_rally,stable/train,I588ba1e26f5e4afc40f43547b15b48e9428e2f48,Removes reference to deprecated rally-manage,MERGED,2019-11-27 11:17:29.000000000,2019-11-27 16:36:08.000000000,2019-11-27 16:34:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25591}, {'_account_id': 27941}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-27 11:17:29.000000000', 'files': ['tasks/rally_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/1d9448767c9ffa3a3d317bee0463e614a98457f5', 'message': 'Removes reference to deprecated rally-manage\n\nReplaces the call to ""rally-manage db create"" with the\npost-2.0.0-compatible ""rally db create"".\n\nCloses-Bug: #1853509\nChange-Id: I588ba1e26f5e4afc40f43547b15b48e9428e2f48\n(cherry picked from commit 7fc259310fceac9c3ff8af149ff95484391b5b2b)\n'}]",0,696282,1d9448767c9ffa3a3d317bee0463e614a98457f5,9,5,1,25023,,,0,"Removes reference to deprecated rally-manage

Replaces the call to ""rally-manage db create"" with the
post-2.0.0-compatible ""rally db create"".

Closes-Bug: #1853509
Change-Id: I588ba1e26f5e4afc40f43547b15b48e9428e2f48
(cherry picked from commit 7fc259310fceac9c3ff8af149ff95484391b5b2b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/82/696282/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rally_db_setup.yml'],1,1d9448767c9ffa3a3d317bee0463e614a98457f5,osa-train-stable/train," command: ""{{ rally_bin }}/rally db create"""," command: ""{{ rally_bin }}/rally-manage db create""",1,1
openstack%2Fcloudkitty~master~Ia09ea8cacb7a82a4baf92f310f2428e2ec5973b7,openstack/cloudkitty,master,Ia09ea8cacb7a82a4baf92f310f2428e2ec5973b7,Raise an exception in case of an invalid configuration file,MERGED,2019-11-26 15:52:28.000000000,2019-11-27 16:35:19.000000000,2019-11-27 16:34:09.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-11-26 15:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3619cc4e4bb9966f3dfab01d355719fdf1fcc092', 'message': 'Raise an exception in case of an invalid configuration file\n\nUntil now, the ""load_conf"" function did return an empty dict in case of\nan invalid config. This was done because this function was called on\nmodule import, leading to crashes during tox jobs.\n\nHowever, catching the exception could lead to hard to debug issues.\n\nSince the function isn\'t called on module import anymore, it does now\nraise an exception in case the metrics.yml config file can\'t be read or has an\ninvalid format.\n\nStory: 2006941\nTask: 37631\n\nChange-Id: Ia09ea8cacb7a82a4baf92f310f2428e2ec5973b7\n'}, {'number': 2, 'created': '2019-11-27 13:48:36.000000000', 'files': ['cloudkitty/utils/__init__.py', 'releasenotes/notes/raise-exception-on-invalid-config-0aece71caa0947fa.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/eabce23c372e77212701a139fa164527f726fa0e', 'message': 'Raise an exception in case of an invalid configuration file\n\nUntil now, the ""load_conf"" function did return an empty dict in case of\nan invalid config. This was done because this function was called on\nmodule import, leading to crashes during tox jobs.\n\nHowever, catching the exception could lead to hard to debug issues.\n\nSince the function isn\'t called on module import anymore, it does now\nraise an exception in case the metrics.yml config file can\'t be read or has an\ninvalid format.\n\nStory: 2006941\nTask: 37631\n\nChange-Id: Ia09ea8cacb7a82a4baf92f310f2428e2ec5973b7\n'}]",0,696114,eabce23c372e77212701a139fa164527f726fa0e,13,3,2,23060,,,0,"Raise an exception in case of an invalid configuration file

Until now, the ""load_conf"" function did return an empty dict in case of
an invalid config. This was done because this function was called on
module import, leading to crashes during tox jobs.

However, catching the exception could lead to hard to debug issues.

Since the function isn't called on module import anymore, it does now
raise an exception in case the metrics.yml config file can't be read or has an
invalid format.

Story: 2006941
Task: 37631

Change-Id: Ia09ea8cacb7a82a4baf92f310f2428e2ec5973b7
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/14/696114/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/utils/__init__.py', 'releasenotes/notes/raise-exception-on-invalid-config-0aece71caa0947fa.yaml']",2,3619cc4e4bb9966f3dfab01d355719fdf1fcc092,,--- other: - | The ``cloudkitty.utils.load_conf`` function does now raise an exception in case the ``metrics.yml`` file can't be read or has an invalid format. ,,8,10
openstack%2Fcloudkitty~master~I2ba1577eb64e27c1e837ba9e20dec532b46fca8a,openstack/cloudkitty,master,I2ba1577eb64e27c1e837ba9e20dec532b46fca8a,Introduce cloudkitty.utils,MERGED,2019-11-25 15:55:22.000000000,2019-11-27 16:31:55.000000000,2019-11-27 16:30:19.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-11-25 15:55:22.000000000', 'files': ['cloudkitty/api/v2/utils.py', 'cloudkitty/storage/v1/sqlalchemy/models.py', 'cloudkitty/storage/v1/sqlalchemy/__init__.py', 'cloudkitty/tests/utils_tests/__init__.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/tests/common/test_prometheus_client.py', 'cloudkitty/api/v1/controllers/report.py', 'cloudkitty/orchestrator.py', 'cloudkitty/dataframe.py', 'cloudkitty/tests/storage/v2/test_storage_unit.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/storage/__init__.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/storage/v2/elasticsearch/__init__.py', 'releasenotes/notes/introduce-cloudkitty.utils-792b9080537405bf.yaml', 'cloudkitty/tests/storage/v2/test_influxdb.py', 'cloudkitty/tests/utils_tests/test_utils.py', 'cloudkitty/storage/v2/elasticsearch/client.py', 'cloudkitty/utils/tz.py', 'cloudkitty/api/v2/dataframes/dataframes.py', 'cloudkitty/utils/json.py', 'cloudkitty/writer/osrf.py', 'cloudkitty/api/v2/scope/state.py', 'cloudkitty/tests/utils_tests/test_json.py', 'cloudkitty/collector/prometheus.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/utils/validation.py', 'cloudkitty/tests/test_dataframe.py', 'cloudkitty/state.py', 'cloudkitty/tests/test_orchestrator.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/storage/v1/hybrid/backends/gnocchi.py', 'cloudkitty/tests/utils_tests/test_tz.py', 'cloudkitty/tests/api/v2/dataframes/test_dataframes.py', 'cloudkitty/utils/__init__.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/tests/utils_tests/test_validation.py', 'cloudkitty/tests/api/v2/summary/test_summary.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0dbf9a64b7dbbd860a9ed6c829cdfbf935dd830d', 'message': 'Introduce cloudkitty.utils\n\nThis introduces a new cloudkitty.utils module. Work items:\n\n* cloudkitty/utils.py has been moved to cloudkitty/utils/__init__.py . The\n  import path does not change.\n\n* cloudkitty.json_utils has been moved to cloudkitty.utils.json\n\n* cloudkitty.validation_utils has been moved to cloudkitty.utils.validation\n\n* cloudkitty.tzutils has been moved to cloudkitty.utils.tz\n\n* Unit test layout has been adapted to the new utils layout\n\nStory: 2006941\nTask: 37614\nChange-Id: I2ba1577eb64e27c1e837ba9e20dec532b46fca8a\n'}]",0,695939,0dbf9a64b7dbbd860a9ed6c829cdfbf935dd830d,8,3,1,23060,,,0,"Introduce cloudkitty.utils

This introduces a new cloudkitty.utils module. Work items:

* cloudkitty/utils.py has been moved to cloudkitty/utils/__init__.py . The
  import path does not change.

* cloudkitty.json_utils has been moved to cloudkitty.utils.json

* cloudkitty.validation_utils has been moved to cloudkitty.utils.validation

* cloudkitty.tzutils has been moved to cloudkitty.utils.tz

* Unit test layout has been adapted to the new utils layout

Story: 2006941
Task: 37614
Change-Id: I2ba1577eb64e27c1e837ba9e20dec532b46fca8a
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/39/695939/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/v2/utils.py', 'cloudkitty/storage/v1/sqlalchemy/models.py', 'cloudkitty/storage/v1/sqlalchemy/__init__.py', 'cloudkitty/tests/utils_tests/__init__.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/tests/common/test_prometheus_client.py', 'cloudkitty/api/v1/controllers/report.py', 'cloudkitty/orchestrator.py', 'cloudkitty/dataframe.py', 'cloudkitty/tests/storage/v2/test_storage_unit.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/storage/__init__.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/storage/v2/elasticsearch/__init__.py', 'releasenotes/notes/introduce-cloudkitty.utils-792b9080537405bf.yaml', 'cloudkitty/tests/storage/v2/test_influxdb.py', 'cloudkitty/tests/utils_tests/test_utils.py', 'cloudkitty/storage/v2/elasticsearch/client.py', 'cloudkitty/utils/tz.py', 'cloudkitty/api/v2/dataframes/dataframes.py', 'cloudkitty/utils/json.py', 'cloudkitty/writer/osrf.py', 'cloudkitty/api/v2/scope/state.py', 'cloudkitty/tests/utils_tests/test_json.py', 'cloudkitty/collector/prometheus.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/utils/validation.py', 'cloudkitty/tests/test_dataframe.py', 'cloudkitty/state.py', 'cloudkitty/tests/test_orchestrator.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/storage/v1/hybrid/backends/gnocchi.py', 'cloudkitty/tests/utils_tests/test_tz.py', 'cloudkitty/tests/api/v2/dataframes/test_dataframes.py', 'cloudkitty/utils/__init__.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/tests/utils_tests/test_validation.py', 'cloudkitty/tests/api/v2/summary/test_summary.py']",39,0dbf9a64b7dbbd860a9ed6c829cdfbf935dd830d,,from cloudkitty.utils import tz as tzutils,from cloudkitty import tzutils,44,40
openstack%2Fsushy-tools~master~I5975e0cd016ede7a5685eaca34c19af295f7f172,openstack/sushy-tools,master,I5975e0cd016ede7a5685eaca34c19af295f7f172,Fix libvirt CD image insertion,MERGED,2019-11-08 16:43:49.000000000,2019-11-27 16:31:05.000000000,2019-11-27 16:28:48.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-08 16:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/69242438862a5dae43ff1b8a5df3a08c184c7ec6', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nIt's not crystal clear yet what causes this. For the beginning,\nlet's remove all potentially existing CDROM devices from libvirt\ndomain.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 2, 'created': '2019-11-09 14:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3dd94f89124dcf6872163233f0913f135cf7c83c', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 3, 'created': '2019-11-09 16:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/22800ce47498f274d241497075432098d4fb6764', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 4, 'created': '2019-11-09 22:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2b0b2f7833e2573e9ac54310da10e05eb08c8114', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 5, 'created': '2019-11-10 07:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c6b9a40c4af1a0f82295856d65ba21b6fe0835f4', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 6, 'created': '2019-11-10 07:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/05d7e99d82f1643825c82478e5da08fb7473ba5d', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 7, 'created': '2019-11-10 22:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/32a7875720c359f04bc38ee239eb33f470b28132', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 8, 'created': '2019-11-12 11:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2e0e6d38745f6e9ad73720f1f537651fe80d0c70', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 9, 'created': '2019-11-25 17:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6f80448ab39030121e31dd2c9ec773e0eed6b3e2', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}, {'number': 10, 'created': '2019-11-27 13:07:38.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/723ffd231fa4269af8a4136cbea8cb1d661b2ffd', 'message': ""Fix libvirt CD image insertion\n\nSometimes libvirt refuses to take our freshly burnt ISO image\nand put it into /dev/cdrom. The error is:\n\n  Found duplicate drive address for disk with target name 'vda'\n  controller='0' bus='0' target='0' unit='1'\n\nThe problem seems to be that despite libvirt docs spare the user\nfrom assigning `<address>` to device, sometimes libvirt fails to\nfind a free spot on the bus.\n\nThis patch attempts to enumerate already existing devices on the\nbus and pick a free `unit`. Then we will craft a seemingly proper\naddress and add it to `disk` libvirt configuration.\n\nChange-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172\n""}]",2,693561,723ffd231fa4269af8a4136cbea8cb1d661b2ffd,28,4,10,26340,,,0,"Fix libvirt CD image insertion

Sometimes libvirt refuses to take our freshly burnt ISO image
and put it into /dev/cdrom. The error is:

  Found duplicate drive address for disk with target name 'vda'
  controller='0' bus='0' target='0' unit='1'

The problem seems to be that despite libvirt docs spare the user
from assigning `<address>` to device, sometimes libvirt fails to
find a free spot on the bus.

This patch attempts to enumerate already existing devices on the
bus and pick a free `unit`. Then we will craft a seemingly proper
address and add it to `disk` libvirt configuration.

Change-Id: I5975e0cd016ede7a5685eaca34c19af295f7f172
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/61/693561/10 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/emulator/resources/systems/libvirtdriver.py'],1,69242438862a5dae43ff1b8a5df3a08c184c7ec6,01-fix-libvirt-insert-image," self._remove_boot_images(domain, domain_tree, device) # Remove all existing devices"," device_element = domain_tree.find('devices') if device_element is None: msg = ('Missing ""devices"" tag in the libvirt domain ' '""%(identity)s"" configuration' % {'identity': identity}) raise error.FishyError(msg) # First, remove all existing devices",3,7
openstack%2Fheat~stable%2Fstein~I3b1ed30967e9235e9e830c5e4156f739303be618,openstack/heat,stable/stein,I3b1ed30967e9235e9e830c5e4156f739303be618,Support Ignition for userdata,ABANDONED,2019-11-27 15:34:22.000000000,2019-11-27 16:29:25.000000000,,[{'_account_id': 6484}],"[{'number': 1, 'created': '2019-11-27 15:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6764621bedec8de8c4d2aa22dc586d6ebb4591a3', 'message': ""Fix cfn-init-data path in ignition\n\nThe 'local-data' in path /var/lib/os-collect-config/local-data should\nbe a directory, not a file. However, even if we can fix this, now\nos-apply-config will merge configs based on the order [ec2, heat and\nlocal], but actually there is no deployments collected local. Then\nunfortunately, the deployments collected from Heat will be\noverwriten because the merging order in os-apply-config. At this\nmoment, we can't change os-apply-config since it's deliberate.\nSo the only reasonable way we can do now is using\n/var/lib/heat-cfntools/cfn-init-data and /var/lib/cloud/data/cfn-init-data.\n\nStory: 2006566\nTask: 36851\n\nChange-Id: I3b1ed30967e9235e9e830c5e4156f739303be618\n(cherry picked from commit ea18c18188f94fe3e58f9ea423255060a3be45eb)\n""}, {'number': 2, 'created': '2019-11-27 16:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8d2af33ddf3e74a36fceb810f852463f7c92b371', 'message': ""Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_CONFIG with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n(cherry picked from commit f6249c0110cf2ce8d1b2b7116f872c2df29e5666)\n\nFix cfn-init-data path in ignition\n\nThe 'local-data' in path /var/lib/os-collect-config/local-data should\nbe a directory, not a file. However, even if we can fix this, now\nos-apply-config will merge configs based on the order [ec2, heat and\nlocal], but actually there is no deployments collected local. Then\nunfortunately, the deployments collected from Heat will be\noverwriten because the merging order in os-apply-config. At this\nmoment, we can't change os-apply-config since it's deliberate.\nSo the only reasonable way we can do now is using\n/var/lib/heat-cfntools/cfn-init-data and /var/lib/cloud/data/cfn-init-data.\n\nStory: 2006566\nTask: 36851\n\nChange-Id: I3b1ed30967e9235e9e830c5e4156f739303be618\n(cherry picked from commit ea18c18188f94fe3e58f9ea423255060a3be45eb)\n""}, {'number': 3, 'created': '2019-11-27 16:27:55.000000000', 'files': ['releasenotes/notes/support-ignition-93daac40f43a2cfe.yaml', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/clients/os/nova.py', 'heat/tests/clients/test_nova_client.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8d345177715590bf7e2b00abb292d32d8dd1c7e4', 'message': ""Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_CONFIG with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n\nFix cfn-init-data path in ignition\n\nThe 'local-data' in path /var/lib/os-collect-config/local-data should\nbe a directory, not a file. However, even if we can fix this, now\nos-apply-config will merge configs based on the order [ec2, heat and\nlocal], but actually there is no deployments collected local. Then\nunfortunately, the deployments collected from Heat will be\noverwriten because the merging order in os-apply-config. At this\nmoment, we can't change os-apply-config since it's deliberate.\nSo the only reasonable way we can do now is using\n/var/lib/heat-cfntools/cfn-init-data and /var/lib/cloud/data/cfn-init-data.\n\nStory: 2006566\nTask: 36851\n\nChange-Id: I3b1ed30967e9235e9e830c5e4156f739303be618\n(cherry picked from commit ea18c18188f94fe3e58f9ea423255060a3be45eb and f6249c0110cf2ce8d1b2b7116f872c2df29e5666)\n""}]",0,696329,8d345177715590bf7e2b00abb292d32d8dd1c7e4,4,1,3,28022,,,0,"Support Ignition for userdata

Fedora CoreOS will replace Fedora Atomic being the next generation
container OS. So it would be nice to support Fedora CoreOS in Heat.
In Fedora CoreOS, the cloud-init will be replaced with Ignition[1],
so the changes proposed in this patch are mainly focusing on how to
support Ignition when using Heat SOFTWARE_CONFIG with Ignition.

Task: 36671
Story: 2006566

Change-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc

Fix cfn-init-data path in ignition

The 'local-data' in path /var/lib/os-collect-config/local-data should
be a directory, not a file. However, even if we can fix this, now
os-apply-config will merge configs based on the order [ec2, heat and
local], but actually there is no deployments collected local. Then
unfortunately, the deployments collected from Heat will be
overwriten because the merging order in os-apply-config. At this
moment, we can't change os-apply-config since it's deliberate.
So the only reasonable way we can do now is using
/var/lib/heat-cfntools/cfn-init-data and /var/lib/cloud/data/cfn-init-data.

Story: 2006566
Task: 36851

Change-Id: I3b1ed30967e9235e9e830c5e4156f739303be618
(cherry picked from commit ea18c18188f94fe3e58f9ea423255060a3be45eb and f6249c0110cf2ce8d1b2b7116f872c2df29e5666)
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/696329/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/nova.py', 'heat/tests/clients/test_nova_client.py']",2,6764621bedec8de8c4d2aa22dc586d6ebb4591a3,fcos-stein," self.assertEqual(""/var/lib/heat-cfntools/cfn-init-data"", self.assertEqual(""/var/lib/cloud/data/cfn-init-data"", ig[""storage""][""files""][1][""path""])"," self.assertEqual(""/var/lib/os-collect-config/local-data"",",18,11
openstack%2Fkolla-ansible~master~Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab,openstack/kolla-ansible,master,Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab,Fix hard-coded admin project name and username in blazar task,MERGED,2019-11-20 15:02:55.000000000,2019-11-27 16:17:34.000000000,2019-11-25 12:38:03.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 29269}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2019-11-20 15:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b315ad39b83aea0023d3af9df5036f0410704b0', 'message': 'Fix hard-coded admin project name and username in blazar task\n\nIn one of the blazar ansible tasks in ""bootstrap.yml"", the admin\nproject name and username are hard-coded as ""admin"". OpenStack\nusers can define their admin project name and username differently\nand the hard-coded names would cause authentication errors.\n\nIn addition, keystone identity api version 3 uses ""os-project-name""\ninstead of ""os-tenant-name"". Although ""os-tenant-name"" might be\nstill accepatable, it\'s better to keep the latest.\n\nChange-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab\n'}, {'number': 2, 'created': '2019-11-20 16:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6068b2219d038a23823ebf932fa1fe2147d6707f', 'message': 'Fix hard-coded admin project name and username in blazar task\n\nIn one of the blazar ansible tasks in ""bootstrap.yml"", the admin\nproject name and username are hard-coded as ""admin"". OpenStack\nusers can define their admin project name and username differently\nand the hard-coded names would cause authentication errors.\n\nIn addition, keystone identity api version 3 uses ""os-project-name""\ninstead of ""os-tenant-name"". Although ""os-tenant-name"" might be\nstill accepatable, it\'s better to keep the latest.\n\nChange-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab\n'}, {'number': 3, 'created': '2019-11-21 14:39:40.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2d32d2e0134030a3a9f40fb8ec769b1ae71e199', 'message': 'Fix hard-coded admin project name and username in blazar task\n\nIn one of the blazar ansible tasks in ""bootstrap.yml"", the admin\nproject name and username are hard-coded as ""admin"". OpenStack\nusers can define their admin project name and username differently\nand the hard-coded names would cause authentication errors.\n\nIn addition, keystone identity api version 3 uses ""os-project-name""\ninstead of ""os-tenant-name"". Although ""os-tenant-name"" might be\nstill accepatable, it\'s better to keep the latest.\n\nChange-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab\nCloses-bug: #1853462\n'}]",3,695214,f2d32d2e0134030a3a9f40fb8ec769b1ae71e199,21,6,3,29269,,,0,"Fix hard-coded admin project name and username in blazar task

In one of the blazar ansible tasks in ""bootstrap.yml"", the admin
project name and username are hard-coded as ""admin"". OpenStack
users can define their admin project name and username differently
and the hard-coded names would cause authentication errors.

In addition, keystone identity api version 3 uses ""os-project-name""
instead of ""os-tenant-name"". Although ""os-tenant-name"" might be
still accepatable, it's better to keep the latest.

Change-Id: Ie5c1016f9ce6f402ef208f3c295e6883a9edd8ab
Closes-bug: #1853462
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/695214/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/tasks/bootstrap.yml'],1,3b315ad39b83aea0023d3af9df5036f0410704b0,blazar-fix, --os-project-name {{ keystone_admin_project_name }} --os-username {{ keystone_admin_username }}, --os-tenant-name admin --os-username admin,2,2
openstack%2Fkolla-ansible~master~I2fdca1a6a78e78623733a387a2d8c7e29d449083,openstack/kolla-ansible,master,I2fdca1a6a78e78623733a387a2d8c7e29d449083,Fix 'nova_cephx_raw_key' is undefined,MERGED,2019-11-25 15:45:16.000000000,2019-11-27 16:09:36.000000000,2019-11-27 16:02:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-25 15:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/176cd0f4b675413dbf1b5c828252b0aea5ec363f', 'message': ""Fix 'nova_cephx_raw_key' is undefined\n\nWhen using external ceph witout nova integration, kolla-ansible fails\nbecause 'nova_cephx_raw_key' is undefined.\nThis patch fixes the issue by setting a default value if it is\nundefined.\n\nChange-Id: I2fdca1a6a78e78623733a387a2d8c7e29d449083\nCloses-Bug: #1853862\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n""}, {'number': 2, 'created': '2019-11-25 16:33:26.000000000', 'files': ['ansible/roles/nova-cell/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ff633723067ecfa3644645e7cf8fd2216be616a', 'message': ""Fix 'nova_cephx_raw_key' is undefined\n\nWhen using external ceph without nova integration, kolla-ansible fails\nbecause 'nova_cephx_raw_key' is undefined.\nThis patch fixes the issue by applying the 'default' filter to\nprevent failure on undefined.\nThe change in behavior was introduced by [1].\n\n[1] https://review.opendev.org/689753\ncommit 44709f413246a05b891f250e88c43226e1f1b0c9\n\nChange-Id: I2fdca1a6a78e78623733a387a2d8c7e29d449083\nCloses-Bug: #1853862\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n""}]",0,695933,6ff633723067ecfa3644645e7cf8fd2216be616a,12,5,2,30927,,,0,"Fix 'nova_cephx_raw_key' is undefined

When using external ceph without nova integration, kolla-ansible fails
because 'nova_cephx_raw_key' is undefined.
This patch fixes the issue by applying the 'default' filter to
prevent failure on undefined.
The change in behavior was introduced by [1].

[1] https://review.opendev.org/689753
commit 44709f413246a05b891f250e88c43226e1f1b0c9

Change-Id: I2fdca1a6a78e78623733a387a2d8c7e29d449083
Closes-Bug: #1853862
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/695933/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/tasks/external_ceph.yml'],1,176cd0f4b675413dbf1b5c828252b0aea5ec363f,bug/1853862," result: ""{{ nova_cephx_raw_key | default }}"" result: ""{{ cinder_cephx_raw_key | default }}"""," result: ""{{ nova_cephx_raw_key }}"" result: ""{{ cinder_cephx_raw_key }}""",2,2
openstack%2Fnova~master~I1787f9717618d0837208844e8065840d30341cf7,openstack/nova,master,I1787f9717618d0837208844e8065840d30341cf7,Do not update root_device_name during guest config,MERGED,2019-07-10 07:38:56.000000000,2019-11-27 16:06:21.000000000,2019-11-26 01:14:03.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-10 07:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7e5102ec3edaedf6b5336997e246295c0a5b732', 'message': 'Do not update root_device_name during guest config\n\nUpdate _get_guest_config() in order to set instance.root_device_name\nonly if not defined. There is a case during rescue where this value\ncan be mistakenly updated to reflect disk bus property of rescue image\n(hw_disk_bus).\n\nChange-Id: I1787f9717618d0837208844e8065840d30341cf7\nCloses-Bug: #1835926\n'}, {'number': 2, 'created': '2019-11-19 13:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f504f18d0c7de0cf679fdce8b9bc2c47207146a7', 'message': 'Do not update root_device_name during guest config\n\nDo not update instance.root_device_name in _get_guest_config().\nThere is a case during rescue where this value can be mistakenly updated\nto reflect disk bus property of rescue image (hw_disk_bus).\n\nNote that test test_get_guest_config_bug_1118829 is removed because no more\nrelevant with current code.\n\nChange-Id: I1787f9717618d0837208844e8065840d30341cf7\nCloses-Bug: #1835926\n'}, {'number': 3, 'created': '2019-11-22 09:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f98c261e1c17bc037823b8f6e6d72b0bc862f3e', 'message': 'Do not update root_device_name during guest config\n\n_get_guest_config() is currently updating instance.root_device_name\nand called in many ways like:\n\n_hard_reboot(), rescue(), spawn(), resume(), finish_migration(),\nfinish_revert_migration()\n\nIt is an issue because root_device_name is initally set during instance\nbuild and should remain the same after:\n\nmanager.py: _do_build_and_run_instance()\n             ..\n               _default_block_device_names() <-here\n               ..\n               driver.spawn()\n\nThis may lead to edge case, like in rescue where this value can be mistakenly\nupdated to reflect disk bus property of rescue image (hw_disk_bus).\nFurther more, a _get* method should not modify instance object.\n\nNote that test test_get_guest_config_bug_1118829 is removed because no more\nrelevant with current code.\n\nChange-Id: I1787f9717618d0837208844e8065840d30341cf7\nCloses-Bug: #1835926\n'}, {'number': 4, 'created': '2019-11-22 09:48:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e0ed5e7fee3c4c887263a0e9fa847c2dcc5cf3b', 'message': 'Do not update root_device_name during guest config\n\n_get_guest_config() is currently updating instance.root_device_name\nand called in many ways like:\n\n_hard_reboot(), rescue(), spawn(), resume(), finish_migration(),\nfinish_revert_migration()\n\nIt is an issue because root_device_name is initally set during instance\nbuild and should remain the same after:\n\nmanager.py: _do_build_and_run_instance()\n             ..\n               _default_block_device_names() <-here\n               ..\n               driver.spawn()\n\nThis may lead to edge case, like in rescue where this value can be mistakenly\nupdated to reflect disk bus property of rescue image (hw_disk_bus).\nFurther more, a _get* method should not modify instance object.\n\nNote that test test_get_guest_config_bug_1118829 is removed because no more\nrelevant with current code.\n\nChange-Id: I1787f9717618d0837208844e8065840d30341cf7\nCloses-Bug: #1835926\n'}]",8,670000,5e0ed5e7fee3c4c887263a0e9fa847c2dcc5cf3b,63,18,4,28332,,,0,"Do not update root_device_name during guest config

_get_guest_config() is currently updating instance.root_device_name
and called in many ways like:

_hard_reboot(), rescue(), spawn(), resume(), finish_migration(),
finish_revert_migration()

It is an issue because root_device_name is initally set during instance
build and should remain the same after:

manager.py: _do_build_and_run_instance()
             ..
               _default_block_device_names() <-here
               ..
               driver.spawn()

This may lead to edge case, like in rescue where this value can be mistakenly
updated to reflect disk bus property of rescue image (hw_disk_bus).
Further more, a _get* method should not modify instance object.

Note that test test_get_guest_config_bug_1118829 is removed because no more
relevant with current code.

Change-Id: I1787f9717618d0837208844e8065840d30341cf7
Closes-Bug: #1835926
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/670000/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,e7e5102ec3edaedf6b5336997e246295c0a5b732,bug/1835926," image_meta_dict=None, if not image_meta_dict: image_meta_dict = {'id': uuids.image_id, 'name': 'fake'} image_meta = objects.ImageMeta.from_dict(image_meta_dict) def test_rescue_with_different_hw_disk_bus(self): params = {'config_drive': None, 'root_device_name': '/dev/vda'} image_meta_dict = { 'id': uuids.image_id, 'name': 'fake', 'properties': { 'hw_disk_bus': 'scsi', 'hw_scsi_model': 'virtio-scsi' } } instance = self._create_instance(params) backend, doc = self._test_rescue(instance, image_meta_dict=image_meta_dict) domain_disk_device_name = doc.xpath('devices/disk/target/@dev') # Assert that rescued instance will have scsi device name (sd*) self.assertEqual(['sda', 'sdb'], domain_disk_device_name) # Assert that instance object preserve virtio root_device_name # (aarents): Bug #1835926 self.assertEqual('/dev/vda', instance.get('root_device_name')) "," image_meta = objects.ImageMeta.from_dict( {'id': uuids.image_id, 'name': 'fake'})",29,3
openstack%2Fkolla-ansible~stable%2Ftrain~I2c1a7398f2b8f876abcf2508874835154cb4ce57,openstack/kolla-ansible,stable/train,I2c1a7398f2b8f876abcf2508874835154cb4ce57,Fix kolla_ansible python module check,MERGED,2019-11-27 11:06:24.000000000,2019-11-27 16:04:49.000000000,2019-11-27 16:02:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-27 11:06:24.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ecba94dd5d7ef21a37055e7b221b7a913509821', 'message': 'Fix kolla_ansible python module check\n\nThe kolla-ansible script now (Train+) checks whether the kolla_ansible\npython module is installed, and emits the following message if not:\n\nERROR: kolla_ansible has to be available in the PYTHONPATH (e.g.\ninstalled)\n\nIt is supposed to exit 1 if this check fails, but does not.\n\nThis change fixes this by removing a subshell from the kolla-ansible\nscript.\n\nChange-Id: I2c1a7398f2b8f876abcf2508874835154cb4ce57\nCloses-Bug: #1854049\n(cherry picked from commit 692d176cd5e716ad24e6f4fe57f2c345417c0793)\n'}]",0,696281,7ecba94dd5d7ef21a37055e7b221b7a913509821,9,4,1,30491,,,0,"Fix kolla_ansible python module check

The kolla-ansible script now (Train+) checks whether the kolla_ansible
python module is installed, and emits the following message if not:

ERROR: kolla_ansible has to be available in the PYTHONPATH (e.g.
installed)

It is supposed to exit 1 if this check fails, but does not.

This change fixes this by removing a subshell from the kolla-ansible
script.

Change-Id: I2c1a7398f2b8f876abcf2508874835154cb4ce57
Closes-Bug: #1854049
(cherry picked from commit 692d176cd5e716ad24e6f4fe57f2c345417c0793)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/696281/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,7ecba94dd5d7ef21a37055e7b221b7a913509821,bp/drop-py2-support-stable/train,if ! python -c 'import kolla_ansible' &>/dev/null; thenfi,python -c 'import kolla_ansible' &>/dev/null || (),2,2
openstack%2Fcookbook-openstack-ops-messaging~master~I29ab7ca7f062847ab919ef4bdf4d654a7e029e85,openstack/cookbook-openstack-ops-messaging,master,I29ab7ca7f062847ab919ef4bdf4d654a7e029e85,Replace git.openstack.org with opendev.org,MERGED,2019-11-19 10:21:26.000000000,2019-11-27 15:47:40.000000000,2019-11-27 15:47:40.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 10:21:26.000000000', 'files': ['Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/43d5f9d13d184dbecfa6d7771c6a29d905d349c0', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I29ab7ca7f062847ab919ef4bdf4d654a7e029e85\n'}]",0,694972,43d5f9d13d184dbecfa6d7771c6a29d905d349c0,16,3,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I29ab7ca7f062847ab919ef4bdf4d654a7e029e85
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-messaging refs/changes/72/694972/1 && git format-patch -1 --stdout FETCH_HEAD,['Berksfile'],1,43d5f9d13d184dbecfa6d7771c6a29d905d349c0,, git: 'https://opendev.org/openstack/cookbook-openstack-common', git: 'https://git.openstack.org/openstack/cookbook-openstack-common',1,1
openstack%2Fkuryr-tempest-plugin~master~I8a1bfab6e4b6c0e08d8cd2b7e8c6a5efdd87bbd3,openstack/kuryr-tempest-plugin,master,I8a1bfab6e4b6c0e08d8cd2b7e8c6a5efdd87bbd3,Mark test_namespace_sg_isolation as unstable,MERGED,2019-11-22 13:11:24.000000000,2019-11-27 15:46:20.000000000,2019-11-27 14:33:53.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-22 13:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8240d3615cc33f2a279d810e331022a3e3db2bd5', 'message': 'Mark test_namespace_sg_isolation as unstable\n\nWe have issues with this test, most likely due to Neutron bug [1]. This\ncommit marks it as unstable, so it gets skipped on failure.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1688323\n\nChange-Id: I8a1bfab6e4b6c0e08d8cd2b7e8c6a5efdd87bbd3\n'}, {'number': 2, 'created': '2019-11-22 15:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/112166b80ad912b2769ff5fc10ab110cee6d772c', 'message': 'Mark test_namespace_sg_isolation as unstable\n\nWe have issues with this test, most likely due to Neutron bug [1]. This\ncommit marks it as unstable, so it gets skipped on failure.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1688323\n\nChange-Id: I8a1bfab6e4b6c0e08d8cd2b7e8c6a5efdd87bbd3\n'}, {'number': 3, 'created': '2019-11-25 09:23:25.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8d66ca382aa863a32ec74a01a23fcf9709f48559', 'message': 'Mark test_namespace_sg_isolation as unstable\n\nWe have issues with this test, most likely due to Neutron bug [1]. This\ncommit marks it as unstable, so it gets skipped on failure.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1688323\n\nChange-Id: I8a1bfab6e4b6c0e08d8cd2b7e8c6a5efdd87bbd3\n'}]",2,695679,8d66ca382aa863a32ec74a01a23fcf9709f48559,17,5,3,11600,,,0,"Mark test_namespace_sg_isolation as unstable

We have issues with this test, most likely due to Neutron bug [1]. This
commit marks it as unstable, so it gets skipped on failure.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1688323

Change-Id: I8a1bfab6e4b6c0e08d8cd2b7e8c6a5efdd87bbd3
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/79/695679/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_namespace.py'],1,8240d3615cc33f2a279d810e331022a3e3db2bd5,mark-isolation-test-unstable, @decorators.unstable_test(bug=1853603),,1,0
openstack%2Fproject-config~master~I6b870f18ce295c451b58688f159cd9713850b9da,openstack/project-config,master,I6b870f18ce295c451b58688f159cd9713850b9da,Add zuul jobs for x/neutron-interconnection,ABANDONED,2019-11-27 10:01:55.000000000,2019-11-27 15:33:32.000000000,,"[{'_account_id': 6547}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 10:01:55.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4fbcc47f42da952e0e43473dbf6c8c207cb1f896', 'message': 'Add zuul jobs for x/neutron-interconnection\n\nThis patch adds zuul jobs for neutron-interconnection project under ""x/""\nnamespace\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I6b870f18ce295c451b58688f159cd9713850b9da\n'}]",2,696271,4fbcc47f42da952e0e43473dbf6c8c207cb1f896,4,3,1,19990,,,0,"Add zuul jobs for x/neutron-interconnection

This patch adds zuul jobs for neutron-interconnection project under ""x/""
namespace

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I6b870f18ce295c451b58688f159cd9713850b9da
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/696271/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,4fbcc47f42da952e0e43473dbf6c8c207cb1f896,neutron-interconnection-x-zuul-jobs, name: x/neutron-interconnection templates: - noop-jobs - project:,,5,0
openstack%2Fheat~master~I11df2431634de7d8b584b1a2ac733d43959e34fc,openstack/heat,master,I11df2431634de7d8b584b1a2ac733d43959e34fc,Support Ignition for userdata,MERGED,2019-09-20 20:20:25.000000000,2019-11-27 15:31:48.000000000,2019-10-01 05:46:30.000000000,"[{'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 6484}, {'_account_id': 12404}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-09-20 20:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f49d304cddf0221c616ee1425a2f438b31990526', 'message': '[WIP] Support Ignition for userdata\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 2, 'created': '2019-09-20 20:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a98fadb89d26dec60e8d631263bc01e296ab0b4a', 'message': '[WIP] Support Ignition for userdata\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 3, 'created': '2019-09-21 09:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4f498754a7fa576a5966e33ad3149425afc84dc0', 'message': '[WIP] Support Ignition for userdata\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 4, 'created': '2019-09-24 04:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/18f9ac69627ace6499550ae3f63a3a6bcc8a189c', 'message': '[WIP] Support Ignition for userdata\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 5, 'created': '2019-09-24 08:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/195153bb77468dff70024d9e72903593c2c6e704', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_DEPLOYMENT with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 6, 'created': '2019-09-24 09:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4ab4692c4bd21897ee40de2112b750664a653978', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_DEPLOYMENT with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 7, 'created': '2019-09-24 21:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5c8de5b2c63f5a308f3f72c26bf16dac87a4c2fc', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_DEPLOYMENT with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 8, 'created': '2019-09-25 10:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/84bec8027c6717752747300262702e6f1f424f21', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_DEPLOYMENT with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 9, 'created': '2019-09-25 23:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/12ef9d1030d99214d5fd50839ed4db238fef9072', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_DEPLOYMENT with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 10, 'created': '2019-09-26 09:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d7ddcd042407d08224a6a9fe13bb4602e77cf14e', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_DEPLOYMENT with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 11, 'created': '2019-09-27 03:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/04b9652f35669332b552a52829fab110917718e8', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_DEPLOYMENT with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 12, 'created': '2019-09-28 06:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8d817f4e4fe7010685427ef64169cde6484f3555', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_CONFIG with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}, {'number': 13, 'created': '2019-09-30 18:08:31.000000000', 'files': ['releasenotes/notes/support-ignition-93daac40f43a2cfe.yaml', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/clients/os/nova.py', 'heat/tests/clients/test_nova_client.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f6249c0110cf2ce8d1b2b7116f872c2df29e5666', 'message': 'Support Ignition for userdata\n\nFedora CoreOS will replace Fedora Atomic being the next generation\ncontainer OS. So it would be nice to support Fedora CoreOS in Heat.\nIn Fedora CoreOS, the cloud-init will be replaced with Ignition[1],\nso the changes proposed in this patch are mainly focusing on how to\nsupport Ignition when using Heat SOFTWARE_CONFIG with Ignition.\n\nTask: 36671\nStory: 2006566\n\nChange-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc\n'}]",62,683723,f6249c0110cf2ce8d1b2b7116f872c2df29e5666,76,7,13,6484,,,0,"Support Ignition for userdata

Fedora CoreOS will replace Fedora Atomic being the next generation
container OS. So it would be nice to support Fedora CoreOS in Heat.
In Fedora CoreOS, the cloud-init will be replaced with Ignition[1],
so the changes proposed in this patch are mainly focusing on how to
support Ignition when using Heat SOFTWARE_CONFIG with Ignition.

Task: 36671
Story: 2006566

Change-Id: I11df2431634de7d8b584b1a2ac733d43959e34fc
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/683723/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/nova.py'],1,f49d304cddf0221c616ee1425a2f438b31990526,story/2006566-36851,"import jsonlrom six.moves.urllib import parse if (user_data_format == 'SOFTWARE_CONFIG' and self.is_ignition_format(userdata)): import pdb pdb.set_trace() return self.inject_cfn_init_data_in_ignition(metadata, userdata) def is_ignition_format(self, userdata): try: payload = json.loads(userdata) return ""ignition"" in payload.keys() and payload[""ignition""] except Exception: return False def inject_cfn_init_data_in_ignition(self, metadata, userdata): payload = json.loads(userdata) encoded_metadata = urlparse.quote(metadata) cfn_init_data = { ""filesystem"": ""root"", ""group"": {""name"": ""root""}, ""path"": ""/var/lib/cloud/data/cfn-init-data"", ""user"": {""name"": ""root""}, ""contents"": { ""source"": ""data:,"" + encoded_metadata, ""verification"": {}}, ""mode"": 644 } payload[""storage""][""files""].append(cfn_init_data) return json.dumps(payload) ",,32,0
openstack%2Foctavia~stable%2Fqueens~If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0,openstack/octavia,stable/queens,If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0,loadbalancer vip-network-id IP availability check,MERGED,2019-10-01 06:32:22.000000000,2019-11-27 15:28:20.000000000,2019-11-27 15:26:32.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28258}]","[{'number': 1, 'created': '2019-10-01 06:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56ed0bfd543969c701161fbab6b6b41703b6535d', 'message': 'loadbalancer vip-network-id IP availability check\n\nThe existing code selects the first IPv4 subnet in the network without\nany consideration of ip availability.  If not enough IPs are available,\nthe loadbalancer creations fails.  This patch uses neutron ip\navailability API to check the quantity of free IPs when creating\nloadbalancer with vip-network-id and skips subnets that do not have\nenough IPs for a loadbalancer on multi subnet networks.\n\nChange-Id: If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0\nTask: 36004\nStory: 2006293\n(cherry picked from commit cf901539677d24cac0d9541752b4b3c74c2a1635)\n'}, {'number': 2, 'created': '2019-10-01 06:57:11.000000000', 'files': ['octavia/common/utils.py', 'octavia/network/drivers/neutron/utils.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/fix-vip-network-ip-availability-2e924f32abf01052.yaml', 'octavia/network/drivers/neutron/base.py', 'octavia/network/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/network/drivers/neutron/test_utils.py', 'octavia/tests/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/30db16277c4c46f4f1787b755e145a4998aebaf4', 'message': 'loadbalancer vip-network-id IP availability check\n\nThe existing code selects the first IPv4 subnet in the network without\nany consideration of ip availability.  If not enough IPs are available,\nthe loadbalancer creations fails.  This patch uses neutron ip\navailability API to check the quantity of free IPs when creating\nloadbalancer with vip-network-id and skips subnets that do not have\nenough IPs for a loadbalancer on multi subnet networks.\n\nChange-Id: If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0\nTask: 36004\nStory: 2006293\n'}]",0,685883,30db16277c4c46f4f1787b755e145a4998aebaf4,43,6,2,28258,,,0,"loadbalancer vip-network-id IP availability check

The existing code selects the first IPv4 subnet in the network without
any consideration of ip availability.  If not enough IPs are available,
the loadbalancer creations fails.  This patch uses neutron ip
availability API to check the quantity of free IPs when creating
loadbalancer with vip-network-id and skips subnets that do not have
enough IPs for a loadbalancer on multi subnet networks.

Change-Id: If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0
Task: 36004
Story: 2006293
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/685883/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/network/drivers/neutron/utils.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/fix-vip-network-ip-availability-2e924f32abf01052.yaml', 'octavia/network/drivers/neutron/base.py', 'octavia/network/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/network/drivers/neutron/test_utils.py', 'octavia/tests/common/constants.py']",12,56ed0bfd543969c701161fbab6b6b41703b6535d,2006293-fix-stable/queens," MOCK_NETWORK_TOTAL_IPS = 254 MOCK_NETWORK_USED_IPS = 0 MOCK_SUBNET_TOTAL_IPS = 254 MOCK_SUBNET_USED_IPS = 0 MOCK_SUBNET_IP_AVAILABILITY = [{'used_ips': MOCK_SUBNET_USED_IPS, 'subnet_id': MOCK_SUBNET_ID, 'total_ips': MOCK_SUBNET_TOTAL_IPS}] MOCK_NETWORK_IP_AVAILABILITY = {'network_ip_availability': ( {'network_id': MOCK_NETWORK_ID, 'tenant_id': MOCK_PROJECT_ID, 'network_name': MOCK_NETWORK_NAME, 'total_ips': MOCK_NETWORK_TOTAL_IPS, 'used_ips': MOCK_NETWORK_USED_IPS, 'subnet_ip_availability': MOCK_SUBNET_IP_AVAILABILITY})}",,218,7
openstack%2Fkuryr-kubernetes~master~I45f2cc3664dffa53a733218c38f22ee2ea2ff714,openstack/kuryr-kubernetes,master,I45f2cc3664dffa53a733218c38f22ee2ea2ff714,Avoid race between member addition and namespace deletion,MERGED,2019-11-22 16:54:52.000000000,2019-11-27 15:26:27.000000000,2019-11-27 14:43:00.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-22 16:54:52.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/07e09ce20afef27296f16d46e22744bbf107a661', 'message': 'Avoid race between member addition and namespace deletion\n\nWhen a member is being added to the loadbalancer (as loadbalancer\ncreation may take some time) it may happen that the namespace\ndeletion action has been already triggered. This impact the L2 mode\nas the members need to get their subnet from the kuryrnet crd object\nif namespace subnet driver is being used. This patch handles that\nexception and skips the member addition since there is no need to\nadd it if it is being deleted.\n\nChange-Id: I45f2cc3664dffa53a733218c38f22ee2ea2ff714\nCloses-Bug: 1853604\n'}]",0,695722,07e09ce20afef27296f16d46e22744bbf107a661,13,6,1,23567,,,0,"Avoid race between member addition and namespace deletion

When a member is being added to the loadbalancer (as loadbalancer
creation may take some time) it may happen that the namespace
deletion action has been already triggered. This impact the L2 mode
as the members need to get their subnet from the kuryrnet crd object
if namespace subnet driver is being used. This patch handles that
exception and skips the member addition since there is no need to
add it if it is being deleted.

Change-Id: I45f2cc3664dffa53a733218c38f22ee2ea2ff714
Closes-Bug: 1853604
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/22/695722/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,07e09ce20afef27296f16d46e22744bbf107a661,bug/1853604," try: member_subnet_id = self._get_pod_subnet(target_ref, target_ip) except k_exc.K8sResourceNotFound: LOG.debug(""Member namespace has been deleted. No "" ""need to add the members as it is "" ""going to be deleted"") continue"," member_subnet_id = self._get_pod_subnet(target_ref, target_ip)",8,2
openstack%2Foctavia~master~I7153ed9a6214ce352b2ac115001f7f6134d95b39,openstack/octavia,master,I7153ed9a6214ce352b2ac115001f7f6134d95b39,Fix filtering with API tags,MERGED,2019-11-19 23:22:49.000000000,2019-11-27 15:22:06.000000000,2019-11-27 02:05:18.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 29244}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-11-19 23:22:49.000000000', 'files': ['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a736f98a7fffa8494ea4f00ecfbb929e8ccae860', 'message': 'Fix filtering with API tags\n\nWhen filtering API calls using tags along with other filter parameters\nthe API could fail with an ""Entity has no property"" errors.\nAlso when filtering with tags that contain a comma separated list,\nthe API would mis-interpret the list of tags as a single string.\nThis patch resolves both of these issues and adds functional test\ncoverage for these use cases.\n\nChange-Id: I7153ed9a6214ce352b2ac115001f7f6134d95b39\nStory: 2006914\nTask: 37559\n'}]",0,695112,a736f98a7fffa8494ea4f00ecfbb929e8ccae860,27,9,1,11628,,,0,"Fix filtering with API tags

When filtering API calls using tags along with other filter parameters
the API could fail with an ""Entity has no property"" errors.
Also when filtering with tags that contain a comma separated list,
the API would mis-interpret the list of tags as a single string.
This patch resolves both of these issues and adds functional test
coverage for these use cases.

Change-Id: I7153ed9a6214ce352b2ac115001f7f6134d95b39
Story: 2006914
Task: 37559
",git fetch https://review.opendev.org/openstack/octavia refs/changes/12/695112/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",2,a736f98a7fffa8494ea4f00ecfbb929e8ccae860,," params={'tags': ['test_tag2,test_tag3']} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual( [lb2.get('id')], [lb.get('id') for lb in lbs] ) lbs = self.get( self.LBS_PATH, def test_get_all_tags_mixed_filters(self): lb1 = self.create_load_balancer( uuidutils.generate_uuid(), name='lb1', project_id=self.project_id, vip_address='10.0.0.1', tags=['test_tag1', 'test_tag2'] ).get(self.root_tag) self.create_load_balancer( uuidutils.generate_uuid(), name='lb2', project_id=self.project_id, tags=['test_tag2', 'test_tag3'] ).get(self.root_tag) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1', 'tags': 'test_tag1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(1, len(lbs)) self.assertEqual(lb1.get('id'), lbs[0].get('id')) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag2', 'vip_address': '10.0.0.1', 'tags': 'test_tag3'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) lbs = self.get( self.LBS_PATH, params={'name': 'lb1', 'tags': 'test_tag3', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) lbs = self.get( self.LBS_PATH, params={'name': 'bogus-lb', 'tags': 'test_tag2', 'vip_address': '10.0.0.1'} ).json.get(self.root_tag_list) self.assertIsInstance(lbs, list) self.assertEqual(0, len(lbs)) ",,110,19
openstack%2Fproject-config~master~I129d43eb599e02698451f7b18f08ad76f4cbb7a4,openstack/project-config,master,I129d43eb599e02698451f7b18f08ad76f4cbb7a4,Create neutron-interconnection repo under x/ namespace,MERGED,2019-11-26 15:55:06.000000000,2019-11-27 15:20:27.000000000,2019-11-27 15:11:47.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 15:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e8718b1675cb7c2262e48ef0220b3bd04d17833f', 'message': 'Create neutron-interconnection repo under x/ namespace\n\nProject neutron-interconnection was removed from stadium, so create new repo\nunder x/ namespace to continue using it.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I129d43eb599e02698451f7b18f08ad76f4cbb7a4\n'}, {'number': 2, 'created': '2019-11-27 09:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7018bdce00ea3e7df7d9747cd4654f64e021edf7', 'message': 'Create neutron-interconnection repo under x/ namespace\n\nProject neutron-interconnection was removed from stadium, so create new repo\nunder x/ namespace to continue using it.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I129d43eb599e02698451f7b18f08ad76f4cbb7a4\n'}, {'number': 3, 'created': '2019-11-27 09:41:55.000000000', 'files': ['gerrit/acls/x/neutron-interconnection.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fd5d5e2f3480f6ae38e205afbefda97632cb561d', 'message': 'Create neutron-interconnection repo under x/ namespace\n\nProject neutron-interconnection was removed from stadium, so create new repo\nunder x/ namespace to continue using it.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I129d43eb599e02698451f7b18f08ad76f4cbb7a4\n'}]",5,696116,fd5d5e2f3480f6ae38e205afbefda97632cb561d,17,5,3,19990,,,0,"Create neutron-interconnection repo under x/ namespace

Project neutron-interconnection was removed from stadium, so create new repo
under x/ namespace to continue using it.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I129d43eb599e02698451f7b18f08ad76f4cbb7a4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/696116/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/x/neutron-interconnection.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",5,e8718b1675cb7c2262e48ef0220b3bd04d17833f,neutron-interconnection-x-create, - x/neutron-interconnection, - openstack/neutron-interconnection,8,12
openstack%2Fkolla-ansible~master~I306c57305b9088159dd18af4aa373bbc39a8b881,openstack/kolla-ansible,master,I306c57305b9088159dd18af4aa373bbc39a8b881,Use valid_interfaces instead of os_interface for placement,MERGED,2019-11-22 15:42:29.000000000,2019-11-27 15:19:30.000000000,2019-11-22 18:42:13.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-22 15:42:29.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96590822def9e41b14041b017d8af322ad515546', 'message': 'Use valid_interfaces instead of os_interface for placement\n\nThe [placement].os_interface option was replaced by\n[placement].valid_interfaces in Queens and was removed in Rocky.\n\nChange-Id: I306c57305b9088159dd18af4aa373bbc39a8b881\nCloses-Bug: #1853621\n'}]",0,695712,96590822def9e41b14041b017d8af322ad515546,10,4,1,15197,,,0,"Use valid_interfaces instead of os_interface for placement

The [placement].os_interface option was replaced by
[placement].valid_interfaces in Queens and was removed in Rocky.

Change-Id: I306c57305b9088159dd18af4aa373bbc39a8b881
Closes-Bug: #1853621
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/695712/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2']",2,96590822def9e41b14041b017d8af322ad515546,placement-interface,valid_interfaces = internal,os_interface = internal,2,2
openstack%2Fcookbook-openstack-bare-metal~master~I6c17195b5bbf06674adfe3380481d00b22446970,openstack/cookbook-openstack-bare-metal,master,I6c17195b5bbf06674adfe3380481d00b22446970,Use python3 packages on Ubuntu,MERGED,2019-11-26 00:55:13.000000000,2019-11-27 15:08:04.000000000,2019-11-27 15:08:04.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 00:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/c4f132da874380858ec3973f697a0fc99c1bf00a', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: I6c17195b5bbf06674adfe3380481d00b22446970\n'}, {'number': 2, 'created': '2019-11-26 04:30:32.000000000', 'files': ['attributes/default.rb', 'spec/conductor_spec.rb', 'spec/ironic-common_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/7ee0456dac423d0553da551c186b564bb5fd0a87', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: I6c17195b5bbf06674adfe3380481d00b22446970\n'}]",0,695999,7ee0456dac423d0553da551c186b564bb5fd0a87,8,2,2,21961,,,0,"Use python3 packages on Ubuntu

Python2.7 is going EOL soon, let us deploy python3 for Rocky from the
start, so we avoid having to switch later.

Change-Id: I6c17195b5bbf06674adfe3380481d00b22446970
",git fetch https://review.opendev.org/openstack/cookbook-openstack-bare-metal refs/changes/99/695999/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/ironic-common_spec.rb']",2,c4f132da874380858ec3973f697a0fc99c1bf00a,, expect(chef_run).to upgrade_package('python3-ironic') expect(chef_run).to upgrade_package('python3-ironic-lib') expect(chef_run).to upgrade_package('python3-ironicclient'),,4,1
openstack%2Fnova~stable%2Fstein~Ide31957306602c1f306ebfa48d6e95f48b1e8ead,openstack/nova,stable/stein,Ide31957306602c1f306ebfa48d6e95f48b1e8ead,Add --dry-run option to heal_allocations CLI,MERGED,2019-11-06 15:44:50.000000000,2019-11-27 15:06:03.000000000,2019-11-27 15:02:49.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-06 15:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcd498de542a4a21101d7626e2027b7d89e77734', 'message': 'Add --dry-run option to heal_allocations CLI\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding a --dry-run option which will still print the output\nas we process instances but not commit any allocation changes\nto placement, just print out that they would happen.\n\nChange-Id: Ide31957306602c1f306ebfa48d6e95f48b1e8ead\n(cherry picked from commit ded3e4d9007b3806665bc1b7bec2705bcbe2977e)\n'}, {'number': 2, 'created': '2019-11-21 22:32:58.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'releasenotes/notes/heal-allocations-dry-run-1761fab00f7967d1.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4acec3e715b72f2f191ea544f135e40dc8fdaa81', 'message': 'Add --dry-run option to heal_allocations CLI\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding a --dry-run option which will still print the output\nas we process instances but not commit any allocation changes\nto placement, just print out that they would happen.\n\nNOTE(mriedem): The ""since version"" part of the CLI docs change\nis removed here since it does not make sense to mention this\nis a new option since Train in the Stein docs.\n\nChange-Id: Ide31957306602c1f306ebfa48d6e95f48b1e8ead\n(cherry picked from commit ded3e4d9007b3806665bc1b7bec2705bcbe2977e)\n'}]",4,693199,4acec3e715b72f2f191ea544f135e40dc8fdaa81,23,9,2,6873,,,0,"Add --dry-run option to heal_allocations CLI

This resolves one of the TODOs in the heal_allocations CLI
by adding a --dry-run option which will still print the output
as we process instances but not commit any allocation changes
to placement, just print out that they would happen.

NOTE(mriedem): The ""since version"" part of the CLI docs change
is removed here since it does not make sense to mention this
is a new option since Train in the Stein docs.

Change-Id: Ide31957306602c1f306ebfa48d6e95f48b1e8ead
(cherry picked from commit ded3e4d9007b3806665bc1b7bec2705bcbe2977e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/693199/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'releasenotes/notes/heal-allocations-dry-run-1761fab00f7967d1.yaml']",4,fcd498de542a4a21101d7626e2027b7d89e77734,heal_allocations_dry_run,--- other: - | A ``--dry-run`` option has been added to the ``nova-manage placement heal_allocations`` CLI which allows running the command to get output without committing any changes to placement. ,,76,28
openstack%2Foctavia~stable%2Fstein~I8e449b19af72d72f6effd52e0a2debb5754a19b3,openstack/octavia,stable/stein,I8e449b19af72d72f6effd52e0a2debb5754a19b3,Fix a potential race condition with certs-ramfs,MERGED,2019-11-18 18:17:40.000000000,2019-11-27 14:57:39.000000000,2019-11-27 14:54:37.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 18:17:40.000000000', 'files': ['elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.service', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.init', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.conf', 'releasenotes/notes/fix-certs-ramfs-race-561f355d13fc6d14.yaml', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c3f95915d2b281893bd321efadb4a93c440822b9', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)\n'}]",0,694824,c3f95915d2b281893bd321efadb4a93c440822b9,11,4,1,11628,,,0,"Fix a potential race condition with certs-ramfs

There is a potential race condition in the start order for the
amphora-agent service and the certs-ramfs service.
This patch configures an explict ordering for the services.

Change-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3
Story: 2006823
Task: 37396
(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/694824/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.service', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.init', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.conf', 'releasenotes/notes/fix-certs-ramfs-race-561f355d13fc6d14.yaml', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service']",5,c3f95915d2b281893bd321efadb4a93c440822b9,,Before=amphora-agent.service,,19,3
openstack%2Foctavia~stable%2Fstein~Id8dead931ad6e4fab45821dcb9d58c48618462b7,openstack/octavia,stable/stein,Id8dead931ad6e4fab45821dcb9d58c48618462b7,Fix filtering for provider capabilities list API,MERGED,2019-11-18 18:23:47.000000000,2019-11-27 14:56:26.000000000,2019-11-27 14:54:25.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-11-18 18:23:47.000000000', 'files': ['octavia/api/v2/controllers/provider.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-provider-capabilities-filtering-8bd12b2cf7b37a84.yaml', 'octavia/tests/functional/api/v2/test_provider.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c1e1a6d1a55d3a8d1357eff386ba4f0d693c21a', 'message': 'Fix filtering for provider capabilities list API\n\nThe ""Show Provider Flavor Capabilities"" would silently ignore\nfiltering parameters passed into the API. This patch corrects this\nsuch that you can filter the providers capabilities list.\n\nStory: 2006817\nTask: 37377\n(cherry picked from commit 28c936ec7101a03496558bcda311edf205ee74b4)\n\nChange-Id: Id8dead931ad6e4fab45821dcb9d58c48618462b7\n'}]",0,694828,7c1e1a6d1a55d3a8d1357eff386ba4f0d693c21a,9,4,1,11628,,,0,"Fix filtering for provider capabilities list API

The ""Show Provider Flavor Capabilities"" would silently ignore
filtering parameters passed into the API. This patch corrects this
such that you can filter the providers capabilities list.

Story: 2006817
Task: 37377
(cherry picked from commit 28c936ec7101a03496558bcda311edf205ee74b4)

Change-Id: Id8dead931ad6e4fab45821dcb9d58c48618462b7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/28/694828/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/provider.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-provider-capabilities-filtering-8bd12b2cf7b37a84.yaml', 'octavia/tests/functional/api/v2/test_provider.py']",4,7c1e1a6d1a55d3a8d1357eff386ba4f0d693c21a,," def test_amphora_driver_one_filter(self): ref_description = (""The compute driver flavor ID."") result = self.get( self.FLAVOR_CAPABILITIES_PATH.format(provider=constants.AMPHORA), params={constants.NAME: 'compute_flavor'}) capabilities = result.json.get(self.root_tag) self.assertEqual(1, len(capabilities)) self.assertEqual(2, len(capabilities[0])) self.assertEqual(ref_description, capabilities[0][constants.DESCRIPTION]) def test_amphora_driver_two_filters(self): ref_description = (""The compute driver flavor ID."") result = self.get( self.FLAVOR_CAPABILITIES_PATH.format(provider=constants.AMPHORA), params={constants.NAME: 'compute_flavor', constants.DESCRIPTION: ref_description}) capabilities = result.json.get(self.root_tag) self.assertEqual(1, len(capabilities)) self.assertEqual(ref_description, capabilities[0][constants.DESCRIPTION]) def test_amphora_driver_filter_no_match(self): result = self.get( self.FLAVOR_CAPABILITIES_PATH.format(provider=constants.AMPHORA), params={constants.NAME: 'bogus'}) capabilities = result.json.get(self.root_tag) self.assertEqual([], capabilities) def test_amphora_driver_one_filter_one_field(self): result = self.get( self.FLAVOR_CAPABILITIES_PATH.format(provider=constants.AMPHORA), params={constants.NAME: 'compute_flavor', constants.FIELDS: constants.NAME}) capabilities = result.json.get(self.root_tag) self.assertEqual(1, len(capabilities)) self.assertEqual(1, len(capabilities[0])) self.assertEqual('compute_flavor', capabilities[0][constants.NAME])",,64,0
openstack%2Foctavia~stable%2Ftrain~I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56,openstack/octavia,stable/train,I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56,Fix filtering for provider capabilities list API,MERGED,2019-11-18 18:19:59.000000000,2019-11-27 14:56:16.000000000,2019-11-27 14:54:32.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 18:19:59.000000000', 'files': ['octavia/api/v2/controllers/provider.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-provider-capabilities-filtering-8bd12b2cf7b37a84.yaml', 'octavia/tests/functional/api/v2/test_provider.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/735de5e175b8ee85fb87a897c70bba1e3c9f2f2d', 'message': 'Fix filtering for provider capabilities list API\n\nThe ""Show Provider Flavor Capabilities"" would silently ignore\nfiltering parameters passed into the API. This patch corrects this\nsuch that you can filter the providers capabilities list.\n\nChange-Id: I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56\nStory: 2006817\nTask: 37377\n(cherry picked from commit 28c936ec7101a03496558bcda311edf205ee74b4)\n'}]",0,694827,735de5e175b8ee85fb87a897c70bba1e3c9f2f2d,8,3,1,11628,,,0,"Fix filtering for provider capabilities list API

The ""Show Provider Flavor Capabilities"" would silently ignore
filtering parameters passed into the API. This patch corrects this
such that you can filter the providers capabilities list.

Change-Id: I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56
Story: 2006817
Task: 37377
(cherry picked from commit 28c936ec7101a03496558bcda311edf205ee74b4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/694827/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/provider.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-provider-capabilities-filtering-8bd12b2cf7b37a84.yaml', 'octavia/tests/functional/api/v2/test_provider.py']",4,735de5e175b8ee85fb87a897c70bba1e3c9f2f2d,," def test_amphora_driver_one_filter(self): ref_description = (""The compute driver flavor ID."") result = self.get( self.FLAVOR_CAPABILITIES_PATH.format(provider=constants.AMPHORA), params={constants.NAME: 'compute_flavor'}) capabilities = result.json.get(self.root_tag) self.assertEqual(1, len(capabilities)) self.assertEqual(2, len(capabilities[0])) self.assertEqual(ref_description, capabilities[0][constants.DESCRIPTION]) def test_amphora_driver_two_filters(self): ref_description = (""The compute driver flavor ID."") result = self.get( self.FLAVOR_CAPABILITIES_PATH.format(provider=constants.AMPHORA), params={constants.NAME: 'compute_flavor', constants.DESCRIPTION: ref_description}) capabilities = result.json.get(self.root_tag) self.assertEqual(1, len(capabilities)) self.assertEqual(ref_description, capabilities[0][constants.DESCRIPTION]) def test_amphora_driver_filter_no_match(self): result = self.get( self.FLAVOR_CAPABILITIES_PATH.format(provider=constants.AMPHORA), params={constants.NAME: 'bogus'}) capabilities = result.json.get(self.root_tag) self.assertEqual([], capabilities) def test_amphora_driver_one_filter_one_field(self): result = self.get( self.FLAVOR_CAPABILITIES_PATH.format(provider=constants.AMPHORA), params={constants.NAME: 'compute_flavor', constants.FIELDS: constants.NAME}) capabilities = result.json.get(self.root_tag) self.assertEqual(1, len(capabilities)) self.assertEqual(1, len(capabilities[0])) self.assertEqual('compute_flavor', capabilities[0][constants.NAME])",,64,0
openstack%2Foctavia~stable%2Fstein~Ibd442809b19df446456e564ecf62e89404e45566,openstack/octavia,stable/stein,Ibd442809b19df446456e564ecf62e89404e45566,Fix listeners with SNI certificates,MERGED,2019-11-18 18:14:58.000000000,2019-11-27 14:54:29.000000000,2019-11-27 14:54:29.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-11-18 18:14:58.000000000', 'files': ['releasenotes/notes/fix-SNI-single-process-879ffce5eaa6c1c3.yaml', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/91bcbc84e5d5ebe6003dfb61072f5b3921dac291', 'message': 'Fix listeners with SNI certificates\n\nThe single process patch changed the way listeners and load balancers\nare deployed inside the amphora. This caused listeners with SNI\nenabled to load all of the certificates for all of the TLS enabled\nlisteners on a load balancer.\nThis patch corrects that by configuring each listener with a\nspecific list of certificates.\n\nStory: 2006758\nTask: 37252\n(cherry picked from commit 3c05ce1297492ad1346ace3377f700c062e628da)\n\nChange-Id: Ibd442809b19df446456e564ecf62e89404e45566\n'}]",0,694822,91bcbc84e5d5ebe6003dfb61072f5b3921dac291,8,4,1,11628,,,0,"Fix listeners with SNI certificates

The single process patch changed the way listeners and load balancers
are deployed inside the amphora. This caused listeners with SNI
enabled to load all of the certificates for all of the TLS enabled
listeners on a load balancer.
This patch corrects that by configuring each listener with a
specific list of certificates.

Story: 2006758
Task: 37252
(cherry picked from commit 3c05ce1297492ad1346ace3377f700c062e628da)

Change-Id: Ibd442809b19df446456e564ecf62e89404e45566
",git fetch https://review.opendev.org/openstack/octavia refs/changes/22/694822/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-SNI-single-process-879ffce5eaa6c1c3.yaml', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",12,91bcbc84e5d5ebe6003dfb61072f5b3921dac291,," exc.NotFound, 'Fake_MD5', 'aaaaa', 'aaaaa'] 4, self.driver.clients[API_VERSION].upload_cert_pem.call_count)"," exc.NotFound, 'Fake_MD5', 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'] 3, self.driver.clients[API_VERSION].upload_cert_pem.call_count)",134,162
openstack%2Fpuppet-tripleo~master~I571dacaf0de7d22e87d862b35aa68a73f5173e90,openstack/puppet-tripleo,master,I571dacaf0de7d22e87d862b35aa68a73f5173e90,Prepare first U release - 12.0.0,MERGED,2019-11-27 10:16:08.000000000,2019-11-27 14:41:05.000000000,2019-11-27 14:41:05.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 10:16:08.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4db4af996cca1058f0fd4c0e707a122772b780b2', 'message': 'Prepare first U release - 12.0.0\n\nChange-Id: I571dacaf0de7d22e87d862b35aa68a73f5173e90\n'}]",0,696273,4db4af996cca1058f0fd4c0e707a122772b780b2,6,2,1,3153,,,0,"Prepare first U release - 12.0.0

Change-Id: I571dacaf0de7d22e87d862b35aa68a73f5173e90
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/73/696273/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4db4af996cca1058f0fd4c0e707a122772b780b2,u-release," ""version"": ""12.0.0"","," ""version"": ""11.3.0"",",1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4a1459344794f5d602dc1b781d15a591ea2ac135,openstack/tripleo-upgrade,stable/train,I4a1459344794f5d602dc1b781d15a591ea2ac135,Workarounds: remove --reverse from patch options,MERGED,2019-11-14 22:43:41.000000000,2019-11-27 14:41:05.000000000,2019-11-27 14:41:05.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-14 22:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/31271103f26fef5c9535b508e1cedd160aef8087', 'message': 'Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit fc859f3180a6432d3c9d8ca8b4817d0ee34cbf54)\n'}, {'number': 2, 'created': '2019-11-18 10:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/276c1b441a82d9f3552307254fe4ae48708d9174', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 99c57ca8b0c78f94d319800f9478c0381bf221ac)\n""}, {'number': 3, 'created': '2019-11-21 13:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/43f6ec7b48e23f72de5bdb7d118e580f6704bb32', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit 082f0ace47086b567dba37d6bcdb1a822e8319d7)\n""}, {'number': 4, 'created': '2019-11-26 11:25:06.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/74cee75e70008e67a794c588e39162adb8aa4547', 'message': ""Workarounds: remove --reverse from patch options\n\nThe --reverse option causes patch to fail even if the diff is\njust few lines off. The reverse option to check if patch was\napplied is not a good idea with yaml. It's fairly easy to create\nreverse patch for patch that wasn't applied.\n\nChange-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135\n(cherry picked from commit a4fa67c1f91c655eb97ae634566aad03bd4a00e5)\n""}]",1,694414,74cee75e70008e67a794c588e39162adb8aa4547,18,5,4,11166,,,0,"Workarounds: remove --reverse from patch options

The --reverse option causes patch to fail even if the diff is
just few lines off. The reverse option to check if patch was
applied is not a good idea with yaml. It's fairly easy to create
reverse patch for patch that wasn't applied.

Change-Id: I4a1459344794f5d602dc1b781d15a591ea2ac135
(cherry picked from commit a4fa67c1f91c655eb97ae634566aad03bd4a00e5)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/14/694414/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,31271103f26fef5c9535b508e1cedd160aef8087,, if sudo patch --dry-run --force -d ${patch_dir} -p1 < ${temp_dir}/patch.txt >/dev/null 2>&1, if sudo patch --dry-run --reverse --force -d ${patch_dir} -p1 < ${temp_dir}/patch.txt >/dev/null 2>&1,1,1
openstack%2Fkuryr-kubernetes~master~I7f4e150ed9f9e26db5222014b6ccff013882ecfa,openstack/kuryr-kubernetes,master,I7f4e150ed9f9e26db5222014b6ccff013882ecfa,Bump pool_maxsize for K8sClient to 1000,MERGED,2019-11-22 14:22:11.000000000,2019-11-27 14:32:45.000000000,2019-11-27 14:29:38.000000000,"[{'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 28082}]","[{'number': 1, 'created': '2019-11-22 14:22:11.000000000', 'files': ['kuryr_kubernetes/tests/unit/test_k8s_client.py', 'kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f24d8242fff08af2011bc6c858485228ce52d094', 'message': ""Bump pool_maxsize for K8sClient to 1000\n\nWe're running kuryr-controller in highly multithreading way. Turns out\nin that cases requests' default for pool_maxsize=10 is not enough and we\nstart to see warnings like:\n\n WARNING:requests.packages.urllib3.connectionpool:HttpConnectionPool is\n full, discarding connection:\n\nThis patch attempts to get rid of them by bumping pool_maxsize to 1000.\n\nChange-Id: I7f4e150ed9f9e26db5222014b6ccff013882ecfa\n""}]",0,695691,f24d8242fff08af2011bc6c858485228ce52d094,18,6,1,11600,,,0,"Bump pool_maxsize for K8sClient to 1000

We're running kuryr-controller in highly multithreading way. Turns out
in that cases requests' default for pool_maxsize=10 is not enough and we
start to see warnings like:

 WARNING:requests.packages.urllib3.connectionpool:HttpConnectionPool is
 full, discarding connection:

This patch attempts to get rid of them by bumping pool_maxsize to 1000.

Change-Id: I7f4e150ed9f9e26db5222014b6ccff013882ecfa
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/91/695691/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/test_k8s_client.py', 'kuryr_kubernetes/k8s_client.py']",2,f24d8242fff08af2011bc6c858485228ce52d094,fix-conn-pool-warning,"from urllib import parsefrom requests import adapters # Setting higher numbers regarding connection pools as we're running # with max of 1000 green threads. self.session = requests.Session() prefix = '%s://' % parse.urlparse(base_url).scheme self.session.mount(prefix, adapters.HTTPAdapter(pool_maxsize=1000)) response = self.session.get(url, cert=self.cert, verify=self.verify_server, headers=header) response = self.session.patch(url, json={field: data}, headers=header, cert=self.cert, verify=self.verify_server) response = self.session.patch(url, data=jsonutils.dumps(data), headers=header, cert=self.cert, verify=self.verify_server) response = self.session.patch(url, data=jsonutils.dumps(data), headers=header, cert=self.cert, verify=self.verify_server) response = self.session.patch(url, data=jsonutils.dumps(data), headers=header, cert=self.cert, verify=self.verify_server) response = self.session.post(url, json=body, cert=self.cert, verify=self.verify_server, headers=header) response = self.session.delete(url, cert=self.cert, verify=self.verify_server, headers=header) response = self.session.patch(url, data=data, headers=header, cert=self.cert, verify=self.verify_server) self.session.get("," response = requests.get(url, cert=self.cert, verify=self.verify_server, headers=header) response = requests.patch(url, json={field: data}, headers=header, cert=self.cert, verify=self.verify_server) response = requests.patch(url, data=jsonutils.dumps(data), headers=header, cert=self.cert, verify=self.verify_server) response = requests.patch(url, data=jsonutils.dumps(data), headers=header, cert=self.cert, verify=self.verify_server) response = requests.patch(url, data=jsonutils.dumps(data), headers=header, cert=self.cert, verify=self.verify_server) response = requests.post(url, json=body, cert=self.cert, verify=self.verify_server, headers=header) response = requests.delete(url, cert=self.cert, verify=self.verify_server, headers=header) response = requests.patch(url, data=data, headers=header, cert=self.cert, verify=self.verify_server) requests.get(",48,39
openstack%2Fkuryr-kubernetes~master~I354597f43d43630f9fb875dd8c9ab741c35af723,openstack/kuryr-kubernetes,master,I354597f43d43630f9fb875dd8c9ab741c35af723,Basic Python 3 compatibility fixes,MERGED,2019-11-13 11:05:35.000000000,2019-11-27 14:31:17.000000000,2019-11-27 14:29:37.000000000,"[{'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-13 11:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/adb5d86e427a0c2ce5475fc44e69ea7612446d3a', 'message': 'Basic Python 3 compatibility fixes\n\nThis is result of running 2to3 without dict fix (as it seems\nunnecessary for most of our cases).\n\nIn Python 3 {}.values() returns a view that is not iterable. This commit\nuses list() on that to make AddHandler.should_callback compatible with\nPython 3.\n\nChange-Id: I354597f43d43630f9fb875dd8c9ab741c35af723\n'}, {'number': 2, 'created': '2019-11-13 14:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7bc32a4ce608436ebaa8c2c0ac1391f09d9a62b0', 'message': 'Basic Python 3 compatibility fixes\n\nThis is result of running 2to3 without dict fix (as it seems\nunnecessary for most of our cases).\n\nIn Python 3 {}.values() returns a view that is not indexable. This\ncommit uses list() on that to make AddHandler.should_callback compatible\nwith Python 3.\n\nChange-Id: I354597f43d43630f9fb875dd8c9ab741c35af723\n'}, {'number': 3, 'created': '2019-11-13 14:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0c02395cc161ae3dc78bbb66828dd5d55209fe4b', 'message': 'Basic Python 3 compatibility fixes\n\nThis is result of running 2to3 without dict fix (as it seems\nunnecessary for most of our cases).\n\nIn Python 3 {}.values() returns a view that is not indexable. This\ncommit uses list() on that to make AddHandler.should_callback compatible\nwith Python 3.\n\nChange-Id: I354597f43d43630f9fb875dd8c9ab741c35af723\n'}, {'number': 4, 'created': '2019-11-19 14:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/882fa25ee0d6333726fadcc41b3343c3474c1d8d', 'message': 'Basic Python 3 compatibility fixes\n\nThis is result of running 2to3 without dict fix (as it seems\nunnecessary for most of our cases).\n\nIn Python 3 {}.values() returns a view that is not indexable. This\ncommit uses list() on that to make AddHandler.should_callback compatible\nwith Python 3.\n\nChange-Id: I354597f43d43630f9fb875dd8c9ab741c35af723\n'}, {'number': 5, 'created': '2019-11-21 15:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/72daffdd9930b20d1166aeadeab67bab19c45545', 'message': 'Basic Python 3 compatibility fixes\n\nThis is result of running 2to3 without dict fix (as it seems\nunnecessary for most of our cases).\n\nIn Python 3 {}.values() returns a view that is not indexable. This\ncommit uses list() on that to make AddHandler.should_callback compatible\nwith Python 3.\n\nChange-Id: I354597f43d43630f9fb875dd8c9ab741c35af723\n'}, {'number': 6, 'created': '2019-11-22 08:20:11.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/cmd/status.py', 'doc/source/conf.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py', 'kuryr_kubernetes/cni/handlers.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/cni/utils.py', 'kuryr_kubernetes/tests/unit/controller/managers/test_pool.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ed6e867448f3989c8c9c43cf9b60985215e4494', 'message': 'Basic Python 3 compatibility fixes\n\nThis is result of running 2to3 without dict fix (as it seems\nunnecessary for most of our cases).\n\nIn Python 3 {}.values() returns a view that is not indexable. This\ncommit uses list() on that to make AddHandler.should_callback compatible\nwith Python 3.\n\nChange-Id: I354597f43d43630f9fb875dd8c9ab741c35af723\n'}]",10,694044,7ed6e867448f3989c8c9c43cf9b60985215e4494,30,5,6,11600,,,0,"Basic Python 3 compatibility fixes

This is result of running 2to3 without dict fix (as it seems
unnecessary for most of our cases).

In Python 3 {}.values() returns a view that is not indexable. This
commit uses list() on that to make AddHandler.should_callback compatible
with Python 3.

Change-Id: I354597f43d43630f9fb875dd8c9ab741c35af723
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/44/694044/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/cmd/status.py', 'doc/source/conf.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py', 'kuryr_kubernetes/cni/handlers.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'contrib/pools-management/subports.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/tests/unit/controller/managers/test_pool.py', 'releasenotes/source/conf.py']",12,adb5d86e427a0c2ce5475fc44e69ea7612446d3a,2to3,"copyright = '2017, Kuryr-Kubernetes Developers' author = 'Kuryr-Kubernetes Developers' 'Kuryr-Kubernetes Release Notes Documentation', 'Kuryr-Kubernetes Developers', 'manual'), 'Kuryr-Kubernetes Release Notes Documentation', ['Kuryr-Kubernetes Developers'], 1) 'Kuryr-Kubernetes Release Notes Documentation', 'Kuryr-Kubernetes Developers',","copyright = u'2017, Kuryr-Kubernetes Developers' author = u'Kuryr-Kubernetes Developers' u'Kuryr-Kubernetes Release Notes Documentation', u'Kuryr-Kubernetes Developers', 'manual'), u'Kuryr-Kubernetes Release Notes Documentation', [u'Kuryr-Kubernetes Developers'], 1) u'Kuryr-Kubernetes Release Notes Documentation', u'Kuryr-Kubernetes Developers',",85,89
openstack%2Fpython-swiftclient~master~I97c3ec1843f6b7a9b33ac879c26c17e67d4e7400,openstack/python-swiftclient,master,I97c3ec1843f6b7a9b33ac879c26c17e67d4e7400,Add doc/requirements.txt to releasenotes tox environment,NEW,2019-01-09 17:12:18.000000000,2019-11-27 14:30:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-09 17:12:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/cc58895f592e08c757ec7e3f030437d0a86f4fe5', 'message': 'Add doc/requirements.txt to releasenotes tox environment\n\nWithout these dependencies, the releasenotes build does not actually\nwork.\n\nChange-Id: I97c3ec1843f6b7a9b33ac879c26c17e67d4e7400\n'}]",0,629578,cc58895f592e08c757ec7e3f030437d0a86f4fe5,4,3,1,28935,,,0,"Add doc/requirements.txt to releasenotes tox environment

Without these dependencies, the releasenotes build does not actually
work.

Change-Id: I97c3ec1843f6b7a9b33ac879c26c17e67d4e7400
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/78/629578/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cc58895f592e08c757ec7e3f030437d0a86f4fe5,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt,,3,0
openstack%2Fpython-zaqarclient~master~Ifc73d61d774746b6e31bdd909a3fe4a60cd57f3d,openstack/python-zaqarclient,master,Ifc73d61d774746b6e31bdd909a3fe4a60cd57f3d,add python 3.6 unit test job,NEW,2018-11-28 08:13:10.000000000,2019-11-27 14:23:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-28 08:13:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/a953c0924b5a3c998d2bb2091c20703a2f8436f2', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ifc73d61d774746b6e31bdd909a3fe4a60cd57f3d\nStory: #2002586\n'}]",0,620529,a953c0924b5a3c998d2bb2091c20703a2f8436f2,6,4,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ifc73d61d774746b6e31bdd909a3fe4a60cd57f3d
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/29/620529/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a953c0924b5a3c998d2bb2091c20703a2f8436f2,,"envlist = py36,py35,py27,pep8","envlist = py35,py27,pep8",1,1
openstack%2Fpython-cyborgclient~master~I008bd3e41d298e0a1d8f075ec32b870102ca393d,openstack/python-cyborgclient,master,I008bd3e41d298e0a1d8f075ec32b870102ca393d,add python 3.6 unit test job,NEW,2018-11-28 06:45:51.000000000,2019-11-27 14:23:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-28 06:45:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/a09f864ac6dee4936eae9272545e495eeb68381e', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I008bd3e41d298e0a1d8f075ec32b870102ca393d\nStory: #2002586\n'}]",0,620474,a09f864ac6dee4936eae9272545e495eeb68381e,5,4,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I008bd3e41d298e0a1d8f075ec32b870102ca393d
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/74/620474/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a09f864ac6dee4936eae9272545e495eeb68381e,,"envlist = py36,py35,py27,pep8","envlist = py35,py27,pep8",1,1
openstack%2Fkuryr-kubernetes~master~Ib6af31db37520ec57bc085afc9474cded1ccae34,openstack/kuryr-kubernetes,master,Ib6af31db37520ec57bc085afc9474cded1ccae34,Make openshift-dns deployment Python 3 compatible,MERGED,2019-11-26 11:30:51.000000000,2019-11-27 14:21:09.000000000,2019-11-27 14:19:51.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-26 11:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9622e4029eb5cc877df3d01d56087be6e7c76775', 'message': 'Make openshift-dns deployment Python 3 compatible\n\nThe code used to configure openshift-dns was not compatible with Python\n3 in terms of file operations. This commit fixes it by making sure files\nare not opened in binary mode.\n\nChange-Id: Ib6af31db37520ec57bc085afc9474cded1ccae34\n'}, {'number': 2, 'created': '2019-11-26 15:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0d2c2fc8532c24586e7a6fefe4384df4a047daf2', 'message': 'Make openshift-dns deployment Python 3 compatible\n\nThe code used to configure openshift-dns was not compatible with Python\n3 in terms of file operations. This commit fixes it by making sure files\nare not opened in binary mode.\n\nChange-Id: Ib6af31db37520ec57bc085afc9474cded1ccae34\n'}, {'number': 3, 'created': '2019-11-26 15:36:54.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3703285cfc4eca7f299db20064f7a88791e55726', 'message': 'Make openshift-dns deployment Python 3 compatible\n\nThe code used to configure openshift-dns was not compatible with Python\n3 in terms of file operations. This commit fixes it by making sure files\nare not opened in binary mode.\n\nChange-Id: Ib6af31db37520ec57bc085afc9474cded1ccae34\n'}]",0,696069,3703285cfc4eca7f299db20064f7a88791e55726,17,6,3,11600,,,0,"Make openshift-dns deployment Python 3 compatible

The code used to configure openshift-dns was not compatible with Python
3 in terms of file operations. This commit fixes it by making sure files
are not opened in binary mode.

Change-Id: Ib6af31db37520ec57bc085afc9474cded1ccae34
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/69/696069/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,9622e4029eb5cc877df3d01d56087be6e7c76775,py3-fix-openshift," tp = tempfile.NamedTemporaryFile(dir=conf_dir, delete=False, mode='w') except Exception as e: print(e)"," tp = tempfile.NamedTemporaryFile(dir=conf_dir, delete=False) except Exception:",3,2
openstack%2Foctavia~stable%2Frocky~I3f776bd018246897c9a889699a2d0ecbbfbb7098,openstack/octavia,stable/rocky,I3f776bd018246897c9a889699a2d0ecbbfbb7098,Fix controller worker graceful shutdown,MERGED,2019-11-21 09:29:32.000000000,2019-11-27 14:12:21.000000000,2019-11-27 14:09:04.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 09:29:32.000000000', 'files': ['devstack/plugin.sh', 'octavia/tests/unit/controller/queue/test_consumer.py', 'doc/source/configuration/configref.rst', 'releasenotes/notes/fix-worker-graceful-shutdown-c44b6797637aa1b3.yaml', 'tox.ini', 'etc/octavia.conf', 'octavia/controller/queue/consumer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6fe5df6fd8b80e3022120f2bd74098a8e71152f7', 'message': ""Fix controller worker graceful shutdown\n\nFix an issue that prevents graceful shutdown of controller workers.\n\ncotyledon.Service.terminate function is by definition the graceful\ntermination function and doesn't have any 'graceful' optional boolean\nargument (https://cotyledon.readthedocs.io/en/latest/api.html).\n\nBecause of this error, message_listener.wait() was never called in the\nconsumers' termination functions, so flows could be interrupted before\ncompletion and could leave resources such as load balancer in a\nPENDING_* provisioning state.\n\nBy default cotyledon.Service terminates the server after a timeout if\nthe worker could not shutdown itself gracefully. The default value\nfor the timeout is 300 seconds (set in devstack plugin) and can be\noverriden using the graceful_shutdown_timeout setting in octavia.conf\nThe default value will be updated to a lower value when work on\npersistant taskflow will be merged.\n\nStory: 2006603\nTask: 36770\n\nChange-Id: I3f776bd018246897c9a889699a2d0ecbbfbb7098\n(cherry picked from commit 215c4c2284209ff46dc62f7cc04432cb2c9bf39e)\n(cherry picked from commit 0fc1ea4789eaf743e04db31d366b64a34172df15)\n""}]",0,695377,6fe5df6fd8b80e3022120f2bd74098a8e71152f7,8,3,1,29244,,,0,"Fix controller worker graceful shutdown

Fix an issue that prevents graceful shutdown of controller workers.

cotyledon.Service.terminate function is by definition the graceful
termination function and doesn't have any 'graceful' optional boolean
argument (https://cotyledon.readthedocs.io/en/latest/api.html).

Because of this error, message_listener.wait() was never called in the
consumers' termination functions, so flows could be interrupted before
completion and could leave resources such as load balancer in a
PENDING_* provisioning state.

By default cotyledon.Service terminates the server after a timeout if
the worker could not shutdown itself gracefully. The default value
for the timeout is 300 seconds (set in devstack plugin) and can be
overriden using the graceful_shutdown_timeout setting in octavia.conf
The default value will be updated to a lower value when work on
persistant taskflow will be merged.

Story: 2006603
Task: 36770

Change-Id: I3f776bd018246897c9a889699a2d0ecbbfbb7098
(cherry picked from commit 215c4c2284209ff46dc62f7cc04432cb2c9bf39e)
(cherry picked from commit 0fc1ea4789eaf743e04db31d366b64a34172df15)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/77/695377/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'doc/source/configuration/configref.rst', 'octavia/tests/unit/controller/queue/test_consumer.py', 'releasenotes/notes/fix-worker-graceful-shutdown-c44b6797637aa1b3.yaml', 'tox.ini', 'etc/octavia.conf', 'octavia/controller/queue/consumer.py']",7,6fe5df6fd8b80e3022120f2bd74098a8e71152f7,, def terminate(self): LOG.info('Consumer successfully stopped. Waiting for final ' 'messages to be processed...') self.message_listener.wait()," def terminate(self, graceful=False): if graceful: LOG.info('Consumer successfully stopped. Waiting for final ' 'messages to be processed...') self.message_listener.wait()",25,17
openstack%2Foctavia~stable%2Fstein~I3f776bd018246897c9a889699a2d0ecbbfbb7098,openstack/octavia,stable/stein,I3f776bd018246897c9a889699a2d0ecbbfbb7098,Fix controller worker graceful shutdown,MERGED,2019-11-21 09:25:10.000000000,2019-11-27 14:12:17.000000000,2019-11-27 14:08:23.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 09:25:10.000000000', 'files': ['devstack/plugin.sh', 'octavia/tests/unit/controller/queue/test_consumer.py', 'doc/source/configuration/configref.rst', 'releasenotes/notes/fix-worker-graceful-shutdown-c44b6797637aa1b3.yaml', 'tox.ini', 'etc/octavia.conf', 'octavia/controller/queue/consumer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0f4b5ca2c28547ffe5436f5af4257faee3f22758', 'message': ""Fix controller worker graceful shutdown\n\nFix an issue that prevents graceful shutdown of controller workers.\n\ncotyledon.Service.terminate function is by definition the graceful\ntermination function and doesn't have any 'graceful' optional boolean\nargument (https://cotyledon.readthedocs.io/en/latest/api.html).\n\nBecause of this error, message_listener.wait() was never called in the\nconsumers' termination functions, so flows could be interrupted before\ncompletion and could leave resources such as load balancer in a\nPENDING_* provisioning state.\n\nBy default cotyledon.Service terminates the server after a timeout if\nthe worker could not shutdown itself gracefully. The default value\nfor the timeout is 300 seconds (set in devstack plugin) and can be\noverriden using the graceful_shutdown_timeout setting in octavia.conf\nThe default value will be updated to a lower value when work on\npersistant taskflow will be merged.\n\nStory: 2006603\nTask: 36770\n\nChange-Id: I3f776bd018246897c9a889699a2d0ecbbfbb7098\n(cherry picked from commit 215c4c2284209ff46dc62f7cc04432cb2c9bf39e)\n(cherry picked from commit 0fc1ea4789eaf743e04db31d366b64a34172df15)\n""}]",0,695376,0f4b5ca2c28547ffe5436f5af4257faee3f22758,9,3,1,29244,,,0,"Fix controller worker graceful shutdown

Fix an issue that prevents graceful shutdown of controller workers.

cotyledon.Service.terminate function is by definition the graceful
termination function and doesn't have any 'graceful' optional boolean
argument (https://cotyledon.readthedocs.io/en/latest/api.html).

Because of this error, message_listener.wait() was never called in the
consumers' termination functions, so flows could be interrupted before
completion and could leave resources such as load balancer in a
PENDING_* provisioning state.

By default cotyledon.Service terminates the server after a timeout if
the worker could not shutdown itself gracefully. The default value
for the timeout is 300 seconds (set in devstack plugin) and can be
overriden using the graceful_shutdown_timeout setting in octavia.conf
The default value will be updated to a lower value when work on
persistant taskflow will be merged.

Story: 2006603
Task: 36770

Change-Id: I3f776bd018246897c9a889699a2d0ecbbfbb7098
(cherry picked from commit 215c4c2284209ff46dc62f7cc04432cb2c9bf39e)
(cherry picked from commit 0fc1ea4789eaf743e04db31d366b64a34172df15)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/76/695376/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'doc/source/configuration/configref.rst', 'octavia/tests/unit/controller/queue/test_consumer.py', 'releasenotes/notes/fix-worker-graceful-shutdown-c44b6797637aa1b3.yaml', 'tox.ini', 'etc/octavia.conf', 'octavia/controller/queue/consumer.py']",7,0f4b5ca2c28547ffe5436f5af4257faee3f22758,, def terminate(self): LOG.info('Consumer successfully stopped. Waiting for final ' 'messages to be processed...') self.message_listener.wait()," def terminate(self, graceful=False): if graceful: LOG.info('Consumer successfully stopped. Waiting for final ' 'messages to be processed...') self.message_listener.wait()",25,17
openstack%2Foctavia~stable%2Fqueens~I3f776bd018246897c9a889699a2d0ecbbfbb7098,openstack/octavia,stable/queens,I3f776bd018246897c9a889699a2d0ecbbfbb7098,Fix controller worker graceful shutdown,MERGED,2019-11-21 09:31:08.000000000,2019-11-27 14:09:59.000000000,2019-11-27 14:08:19.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-11-21 09:31:08.000000000', 'files': ['devstack/plugin.sh', 'octavia/tests/unit/controller/queue/test_consumer.py', 'doc/source/configuration/configref.rst', 'releasenotes/notes/fix-worker-graceful-shutdown-c44b6797637aa1b3.yaml', 'tox.ini', 'etc/octavia.conf', 'octavia/controller/queue/consumer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1f61b1f09003be765d934112e8ceecb482108833', 'message': ""Fix controller worker graceful shutdown\n\nFix an issue that prevents graceful shutdown of controller workers.\n\ncotyledon.Service.terminate function is by definition the graceful\ntermination function and doesn't have any 'graceful' optional boolean\nargument (https://cotyledon.readthedocs.io/en/latest/api.html).\n\nBecause of this error, message_listener.wait() was never called in the\nconsumers' termination functions, so flows could be interrupted before\ncompletion and could leave resources such as load balancer in a\nPENDING_* provisioning state.\n\nBy default cotyledon.Service terminates the server after a timeout if\nthe worker could not shutdown itself gracefully. The default value\nfor the timeout is 300 seconds (set in devstack plugin) and can be\noverriden using the graceful_shutdown_timeout setting in octavia.conf\nThe default value will be updated to a lower value when work on\npersistant taskflow will be merged.\n\nStory: 2006603\nTask: 36770\n\nConflicts:\n\tdevstack/plugin.sh\n\nChange-Id: I3f776bd018246897c9a889699a2d0ecbbfbb7098\n(cherry picked from commit 215c4c2284209ff46dc62f7cc04432cb2c9bf39e)\n(cherry picked from commit 0fc1ea4789eaf743e04db31d366b64a34172df15)\n(cherry picked from commit 6fe5df6fd8b80e3022120f2bd74098a8e71152f7)\n""}]",0,695379,1f61b1f09003be765d934112e8ceecb482108833,12,4,1,29244,,,0,"Fix controller worker graceful shutdown

Fix an issue that prevents graceful shutdown of controller workers.

cotyledon.Service.terminate function is by definition the graceful
termination function and doesn't have any 'graceful' optional boolean
argument (https://cotyledon.readthedocs.io/en/latest/api.html).

Because of this error, message_listener.wait() was never called in the
consumers' termination functions, so flows could be interrupted before
completion and could leave resources such as load balancer in a
PENDING_* provisioning state.

By default cotyledon.Service terminates the server after a timeout if
the worker could not shutdown itself gracefully. The default value
for the timeout is 300 seconds (set in devstack plugin) and can be
overriden using the graceful_shutdown_timeout setting in octavia.conf
The default value will be updated to a lower value when work on
persistant taskflow will be merged.

Story: 2006603
Task: 36770

Conflicts:
	devstack/plugin.sh

Change-Id: I3f776bd018246897c9a889699a2d0ecbbfbb7098
(cherry picked from commit 215c4c2284209ff46dc62f7cc04432cb2c9bf39e)
(cherry picked from commit 0fc1ea4789eaf743e04db31d366b64a34172df15)
(cherry picked from commit 6fe5df6fd8b80e3022120f2bd74098a8e71152f7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/79/695379/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'doc/source/configuration/configref.rst', 'octavia/tests/unit/controller/queue/test_consumer.py', 'releasenotes/notes/fix-worker-graceful-shutdown-c44b6797637aa1b3.yaml', 'tox.ini', 'etc/octavia.conf', 'octavia/controller/queue/consumer.py']",7,1f61b1f09003be765d934112e8ceecb482108833,, def terminate(self): LOG.info('Consumer successfully stopped. Waiting for final ' 'messages to be processed...') self.message_listener.wait()," def terminate(self, graceful=False): if graceful: LOG.info('Consumer successfully stopped. Waiting for final ' 'messages to be processed...') self.message_listener.wait()",24,17
openstack%2Foctavia~stable%2Ftrain~I3f776bd018246897c9a889699a2d0ecbbfbb7098,openstack/octavia,stable/train,I3f776bd018246897c9a889699a2d0ecbbfbb7098,Fix controller worker graceful shutdown,MERGED,2019-11-21 09:22:34.000000000,2019-11-27 14:09:57.000000000,2019-11-27 14:08:26.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 09:22:34.000000000', 'files': ['octavia/controller/queue/v1/consumer.py', 'octavia/tests/unit/controller/queue/v1/test_consumer.py', 'octavia/tests/unit/controller/queue/v2/test_consumer.py', 'devstack/plugin.sh', 'doc/source/configuration/configref.rst', 'releasenotes/notes/fix-worker-graceful-shutdown-c44b6797637aa1b3.yaml', 'octavia/controller/queue/v2/consumer.py', 'tox.ini', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0fc1ea4789eaf743e04db31d366b64a34172df15', 'message': ""Fix controller worker graceful shutdown\n\nFix an issue that prevents graceful shutdown of controller workers.\n\ncotyledon.Service.terminate function is by definition the graceful\ntermination function and doesn't have any 'graceful' optional boolean\nargument (https://cotyledon.readthedocs.io/en/latest/api.html).\n\nBecause of this error, message_listener.wait() was never called in the\nconsumers' termination functions, so flows could be interrupted before\ncompletion and could leave resources such as load balancer in a\nPENDING_* provisioning state.\n\nBy default cotyledon.Service terminates the server after a timeout if\nthe worker could not shutdown itself gracefully. The default value\nfor the timeout is 300 seconds (set in devstack plugin) and can be\noverriden using the graceful_shutdown_timeout setting in octavia.conf\nThe default value will be updated to a lower value when work on\npersistant taskflow will be merged.\n\nStory: 2006603\nTask: 36770\n\nChange-Id: I3f776bd018246897c9a889699a2d0ecbbfbb7098\n(cherry picked from commit 215c4c2284209ff46dc62f7cc04432cb2c9bf39e)\n""}]",0,695374,0fc1ea4789eaf743e04db31d366b64a34172df15,8,3,1,29244,,,0,"Fix controller worker graceful shutdown

Fix an issue that prevents graceful shutdown of controller workers.

cotyledon.Service.terminate function is by definition the graceful
termination function and doesn't have any 'graceful' optional boolean
argument (https://cotyledon.readthedocs.io/en/latest/api.html).

Because of this error, message_listener.wait() was never called in the
consumers' termination functions, so flows could be interrupted before
completion and could leave resources such as load balancer in a
PENDING_* provisioning state.

By default cotyledon.Service terminates the server after a timeout if
the worker could not shutdown itself gracefully. The default value
for the timeout is 300 seconds (set in devstack plugin) and can be
overriden using the graceful_shutdown_timeout setting in octavia.conf
The default value will be updated to a lower value when work on
persistant taskflow will be merged.

Story: 2006603
Task: 36770

Change-Id: I3f776bd018246897c9a889699a2d0ecbbfbb7098
(cherry picked from commit 215c4c2284209ff46dc62f7cc04432cb2c9bf39e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/74/695374/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/queue/v1/consumer.py', 'octavia/tests/unit/controller/queue/v1/test_consumer.py', 'octavia/tests/unit/controller/queue/v2/test_consumer.py', 'devstack/plugin.sh', 'doc/source/configuration/configref.rst', 'releasenotes/notes/fix-worker-graceful-shutdown-c44b6797637aa1b3.yaml', 'octavia/controller/queue/v2/consumer.py', 'tox.ini', 'etc/octavia.conf']",9,0fc1ea4789eaf743e04db31d366b64a34172df15,,# How long in seconds to wait for octavia worker to exit before killing them. # graceful_shutdown_timeout = 60 ,,30,33
openstack%2Fkolla~master~Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49,openstack/kolla,master,Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49,CI: Move to CentOS 8 nodepool images,MERGED,2019-11-04 10:31:10.000000000,2019-11-27 13:50:17.000000000,2019-11-27 13:47:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-04 10:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c2f74479de6c1b00e4faf9273717837bb962515f', 'message': 'WIP: CI: Move to CentOS 8 nodepool images\n\nPartially-Implements: blueprint centos-rhel-8\nPartially-Implements: blueprint centos-rhel-python3\n\nChange-Id: Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49\n'}, {'number': 2, 'created': '2019-11-06 08:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/72e4cf806f78cdeb0cd18b40ff677e772f0c067b', 'message': 'WIP: CI: Move to CentOS 8 nodepool images\n\nPartially-Implements: blueprint centos-rhel-8\nPartially-Implements: blueprint centos-rhel-python3\n\nChange-Id: Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49\n'}, {'number': 3, 'created': '2019-11-14 10:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e6ec6277e3254e717113ccec5c158947f7fdccb1', 'message': 'WIP: CI: Move to CentOS 8 nodepool images\n\nPartially-Implements: blueprint centos-rhel-8\nPartially-Implements: blueprint centos-rhel-python3\n\nChange-Id: Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49\n'}, {'number': 4, 'created': '2019-11-25 15:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f67ff19e1d72dec4bf2c66a08c419e6c500865bf', 'message': 'WIP: CI: Move to CentOS 8 nodepool images\n\nPartially-Implements: blueprint centos-rhel-8\nPartially-Implements: blueprint centos-rhel-python3\n\nChange-Id: Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49\n'}, {'number': 5, 'created': '2019-11-26 10:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9bfd38dd731c0f5ed8f027794fd46775cdee6748', 'message': 'CI: Move to CentOS 8 nodepool images\n\nPartially-Implements: blueprint centos-rhel-8\nPartially-Implements: blueprint centos-rhel-python3\n\nChange-Id: Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49\n'}, {'number': 6, 'created': '2019-11-26 10:22:22.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/base.yaml', 'tests/files/process_build_logs.py', 'tools/setup_RedHat.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c86915597c00da845bbfa433e897b1573f50c70', 'message': 'CI: Move to CentOS 8 nodepool images\n\nThis change modifies the CentOS build CI jobs to use a CentOS 8 host\nimage.\n\nNOTE: This does not affect the version of CentOS used as the base image\nin containers built by kolla.\n\nPartially-Implements: blueprint centos-rhel-8\nPartially-Implements: blueprint centos-rhel-python3\n\nChange-Id: Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49\n'}]",5,692794,6c86915597c00da845bbfa433e897b1573f50c70,31,6,6,14826,,,0,"CI: Move to CentOS 8 nodepool images

This change modifies the CentOS build CI jobs to use a CentOS 8 host
image.

NOTE: This does not affect the version of CentOS used as the base image
in containers built by kolla.

Partially-Implements: blueprint centos-rhel-8
Partially-Implements: blueprint centos-rhel-python3

Change-Id: Ie25b54a4e6116ed2bcb9c3b5c44eb6edbd2e6b49
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/692794/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/base.yaml', 'tests/files/process_build_logs.py', 'tools/setup_RedHat.sh']",4,c2f74479de6c1b00e4faf9273717837bb962515f,bp/centos-rhel-8,# There are no CentOS 8 packages so we need to work around a bit # taken from https://linuxconfig.org/how-to-install-docker-in-rhel-8 sudo dnf install https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm sudo dnf -y install docker-ce,"# (SamYaple)TODO: Remove the path overriding export PATH=""/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"" sudo yum -y install docker-ce # Disable SELinux setenforce 0",10,13
openstack%2Fcharm-neutron-openvswitch~master~I002d62e84a9126592553cc38ec9a7a39d914482d,openstack/charm-neutron-openvswitch,master,I002d62e84a9126592553cc38ec9a7a39d914482d,Optionally remove l3agent from installed packages,ABANDONED,2019-09-11 10:50:00.000000000,2019-11-27 13:48:59.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-09-11 10:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/95db4933dafd190b54e255aec5b56142e9d2c615', 'message': 'Optionally remove l3agent from installed packages\n\nHere we add a new config option when defaults to True but\nwhen disabled will remove neutron-l3-agent from the list\nof installed packages. Note that setting to false will not\nuninstall the agent since doing so could leave resources\ndangling with no way to clear them up.\n\nChange-Id: I002d62e84a9126592553cc38ec9a7a39d914482d\nCloses-Bug: #1843557\n'}, {'number': 2, 'created': '2019-09-12 12:04:52.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_utils.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/a6781f189e348b1b2cfbd0042092745247648148', 'message': 'Optionally remove l3agent from installed packages\n\nHere we add a new config option when defaults to True but\nwhen disabled will remove neutron-l3-agent from the list\nof installed packages. Note that setting to false will not\nuninstall the agent since doing so could leave resources\ndangling with no way to clear them up.\n\nChange-Id: I002d62e84a9126592553cc38ec9a7a39d914482d\nCloses-Bug: #1843557\n'}]",0,681441,a6781f189e348b1b2cfbd0042092745247648148,9,3,2,6737,,,0,"Optionally remove l3agent from installed packages

Here we add a new config option when defaults to True but
when disabled will remove neutron-l3-agent from the list
of installed packages. Note that setting to false will not
uninstall the agent since doing so could leave resources
dangling with no way to clear them up.

Change-Id: I002d62e84a9126592553cc38ec9a7a39d914482d
Closes-Bug: #1843557
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/41/681441/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_utils.py', 'config.yaml']",3,95db4933dafd190b54e255aec5b56142e9d2c615,bug/1843557, enable-l3agent: type: boolean default: True description: | There are some scenarios were the l3agent may not be required such as when colocating with a service that only requires layer 2 connectivity to tenant networks. Setting this to False will uninstall the neutron-l3-agent.,,41,3
openstack%2Fopenstack-ansible-os_designate~stable%2Ftrain~I0669b5c8762fa63675b2e4bdddbaa45a60fd0af6,openstack/openstack-ansible-os_designate,stable/train,I0669b5c8762fa63675b2e4bdddbaa45a60fd0af6,Remove deprecated packages from centos installs,MERGED,2019-11-20 15:53:09.000000000,2019-11-27 13:39:26.000000000,2019-11-27 13:38:03.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-20 15:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/3046768a350b6a802a2303cad2e5eb3bce5da735', 'message': 'Remove deprecated packages from centos installs\n\nSee https://github.com/rdo-packages/designate-distgit/commit/634042cf25bd0f12e33b0b403fc0b76b03b4d620\n\nDepends-On: https://review.opendev.org/695033\nChange-Id: I0669b5c8762fa63675b2e4bdddbaa45a60fd0af6\n(cherry picked from commit 01975e0191689af40603b53ce3e2d00ade0ada69)\n'}, {'number': 2, 'created': '2019-11-22 20:42:21.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/5403a68d951483abd97d75a95fcf1a647d1a4060', 'message': 'Remove deprecated packages from centos installs\n\nSee https://github.com/rdo-packages/designate-distgit/commit/634042cf25bd0f12e33b0b403fc0b76b03b4d620\n\nChange-Id: I0669b5c8762fa63675b2e4bdddbaa45a60fd0af6\n(cherry picked from commit 01975e0191689af40603b53ce3e2d00ade0ada69)\n'}]",0,695227,5403a68d951483abd97d75a95fcf1a647d1a4060,20,4,2,25023,,,0,"Remove deprecated packages from centos installs

See https://github.com/rdo-packages/designate-distgit/commit/634042cf25bd0f12e33b0b403fc0b76b03b4d620

Change-Id: I0669b5c8762fa63675b2e4bdddbaa45a60fd0af6
(cherry picked from commit 01975e0191689af40603b53ce3e2d00ade0ada69)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/27/695227/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,3046768a350b6a802a2303cad2e5eb3bce5da735,osa-train,, - openstack-designate-pool-manager - openstack-designate-zone-manager,0,2
openstack%2Fhorizon~master~I8da7c09d712a12369d2ab757e22f44e1bb5f0960,openstack/horizon,master,I8da7c09d712a12369d2ab757e22f44e1bb5f0960,Fix users integration test,MERGED,2019-10-15 06:17:57.000000000,2019-11-27 13:37:35.000000000,2019-11-27 13:36:04.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23625}, {'_account_id': 29313}, {'_account_id': 31026}]","[{'number': 1, 'created': '2019-10-15 06:17:57.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/forms.py', 'openstack_dashboard/test/integration_tests/pages/identity/userspage.py', 'openstack_dashboard/test/integration_tests/tests/test_users.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6190c50184eb3db7a91f27c90bc3e0ddffee9acc', 'message': 'Fix users integration test\n\nThe aim of this PS is to fix existing skipped\ntest_users integration test.\n\nThis PS also resolves Partial-Bug: #1774697\n\nChange-Id: I8da7c09d712a12369d2ab757e22f44e1bb5f0960\n'}]",0,688626,6190c50184eb3db7a91f27c90bc3e0ddffee9acc,10,9,1,23467,,,0,"Fix users integration test

The aim of this PS is to fix existing skipped
test_users integration test.

This PS also resolves Partial-Bug: #1774697

Change-Id: I8da7c09d712a12369d2ab757e22f44e1bb5f0960
",git fetch https://review.opendev.org/openstack/horizon refs/changes/26/688626/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/regions/forms.py', 'openstack_dashboard/test/integration_tests/pages/identity/userspage.py', 'openstack_dashboard/test/integration_tests/tests/test_users.py']",3,6190c50184eb3db7a91f27c90bc3e0ddffee9acc,integration_test_fix,,from openstack_dashboard.test.integration_tests import decorators @decorators.skip_because(bugs=['1774697']),4,4
openstack%2Fopenstack-ansible-os_masakari~master~I0ee428e55c1e7b89f9c2634383dd192eafc4e95e,openstack/openstack-ansible-os_masakari,master,I0ee428e55c1e7b89f9c2634383dd192eafc4e95e,Fix a typo in masakari.conf.j2,MERGED,2019-11-07 03:20:47.000000000,2019-11-27 13:28:57.000000000,2019-11-27 13:27:43.000000000,"[{'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-07 03:20:47.000000000', 'files': ['templates/masakari.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/6f2c2d390d624804e9619e409347d2ed08e04b04', 'message': 'Fix a typo in masakari.conf.j2\n\nChange-Id: I0ee428e55c1e7b89f9c2634383dd192eafc4e95e\n'}]",0,693282,6f2c2d390d624804e9619e409347d2ed08e04b04,24,4,1,23317,,,0,"Fix a typo in masakari.conf.j2

Change-Id: I0ee428e55c1e7b89f9c2634383dd192eafc4e95e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/82/693282/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/masakari.conf.j2'],1,6f2c2d390d624804e9619e409347d2ed08e04b04,fix,# Privileged credentials to interact with nova,# Priveleged credentials to interact with nova,1,1
openstack%2Ftripleo-heat-templates~master~I38070efa7e9511ca74e2bfe4e53618e1176ca65b,openstack/tripleo-heat-templates,master,I38070efa7e9511ca74e2bfe4e53618e1176ca65b,ml2-ansible: Set api_max_retries when net-ansible is used,MERGED,2019-02-20 09:57:22.000000000,2019-11-27 13:05:58.000000000,2019-11-01 06:50:39.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 5792}, {'_account_id': 6796}, {'_account_id': 6994}, {'_account_id': 7144}, {'_account_id': 8655}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-02-20 09:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8064151036b18a8cf1f28d9317e744557a7ba2e', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 2, 'created': '2019-02-21 09:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdb68aeb3013d6ce4dc6703950534281619a0e8c', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 3, 'created': '2019-02-21 10:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db13fba4a9f3137e385b8a70285f76a9779ad74a', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 4, 'created': '2019-02-21 13:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/712e5ed19d9a20ecfd8bfd62ffc2a0edd81be19f', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 5, 'created': '2019-06-27 09:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe83c4ab79e5e4f29fcd61c63dee70a4131998a1', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 6, 'created': '2019-06-27 09:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8e0ed0816ea14e107d505b68c4fb187ea345d77', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 7, 'created': '2019-07-04 14:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8993b896f26ba65d38f333955a69de8a2205aa8', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 8, 'created': '2019-07-08 09:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95dcd2f0fd3d1f1c1d70556d669e9266e0451ea6', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 9, 'created': '2019-07-09 08:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a64e9f009fe1981f6a4f6fc3510fe772e308c29', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}, {'number': 10, 'created': '2019-08-23 08:20:08.000000000', 'files': ['ci/environments/scenario012-standalone.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'environments/services/neutron-ml2-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d41f0d7c35758bcafe88127d7f56b39bf95bb5f8', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n'}]",6,638119,d41f0d7c35758bcafe88127d7f56b39bf95bb5f8,84,15,10,8655,,,0,"ml2-ansible: Set api_max_retries when net-ansible is used

Some bare metals may take longer time to boot up. It may happen Nova
bails out in Ironic driver too early. Setting higher timeout gives
machines more time to boot up.

Closes-bug: #1816728

Change-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/638119/9 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'environments/services/neutron-ml2-ansible.yaml']",2,a8064151036b18a8cf1f28d9317e744557a7ba2e,bug/1816728, IronicApiMaxRetries: 180,,5,0
openstack%2Fcharm-nova-cloud-controller~master~Ic61917732d50806f74be0b4e7c87a51d738afbe7,openstack/charm-nova-cloud-controller,master,Ic61917732d50806f74be0b4e7c87a51d738afbe7,Add new config option to set host_subset_size,MERGED,2019-10-04 21:50:02.000000000,2019-11-27 12:47:43.000000000,2019-11-27 12:47:43.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 10058}, {'_account_id': 14567}, {'_account_id': 17097}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-10-04 21:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/75d3b20c006451ef5e219ac96fe2241aa61f3913', 'message': ""Add new config option to set host_subset_size\n\nA new config option called scheduler-host-subset-size was added\nto configure FilterScheduler's host_subset_size property, which\nsize of the subset of best hosts selected by the scheduler.\n\nChange-Id: Ic61917732d50806f74be0b4e7c87a51d738afbe7\nCloses-bug: #1846203\n""}, {'number': 2, 'created': '2019-10-09 14:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f3699f23bcfa270bc764c25e0660db8264bd45d7', 'message': ""Add new config option to set host_subset_size\n\nA new config option called scheduler-host-subset-size was added\nto configure FilterScheduler's host_subset_size property, which\nsize of the subset of best hosts selected by the scheduler.\n\nChange-Id: Ic61917732d50806f74be0b4e7c87a51d738afbe7\nCloses-bug: #1846203\n""}, {'number': 3, 'created': '2019-10-09 21:03:05.000000000', 'files': ['templates/ocata/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/bc1d19b680be111b290c94b3e08cd8558bfe94ae', 'message': ""Add new config option to set host_subset_size\n\nA new config option called scheduler-host-subset-size was added\nto configure FilterScheduler's host_subset_size property, which\nsize of the subset of best hosts selected by the scheduler.\n\nChange-Id: Ic61917732d50806f74be0b4e7c87a51d738afbe7\nCloses-bug: #1846203\n""}]",1,686843,bc1d19b680be111b290c94b3e08cd8558bfe94ae,42,8,3,17097,,,0,"Add new config option to set host_subset_size

A new config option called scheduler-host-subset-size was added
to configure FilterScheduler's host_subset_size property, which
size of the subset of best hosts selected by the scheduler.

Change-Id: Ic61917732d50806f74be0b4e7c87a51d738afbe7
Closes-bug: #1846203
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/43/686843/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'templates/rocky/nova.conf']",5,75d3b20c006451ef5e219ac96fe2241aa61f3913,bug/1846203,host_subset_size = {{ scheduler_host_subset_size }} ,,22,0
openstack%2Fkuryr-kubernetes~master~Ief82ffde567cd8d415ee02be825366c669b2c8a1,openstack/kuryr-kubernetes,master,Ief82ffde567cd8d415ee02be825366c669b2c8a1,Do not crash on failing to add default route,MERGED,2019-11-13 06:02:40.000000000,2019-11-27 12:29:37.000000000,2019-11-27 12:27:54.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 28082}, {'_account_id': 28396}]","[{'number': 1, 'created': '2019-11-13 06:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/22517039552c624045fcd380d5e43b7076e26af3', 'message': 'Do not crash on failing to add default route\n\nCNI spec 0.3.1 states that plugins should expect that default route is\nalready set by some other CNI plugin, and handle such situations\ngracefully. This is particularly needed to work with multus.\n\nCloses-Bug: 1852382\nChange-Id: Ief82ffde567cd8d415ee02be825366c669b2c8a1\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 2, 'created': '2019-11-22 02:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d083f1d3ebeab66dce941e2ba4b913c82fe6356a', 'message': 'Do not crash on failing to add default route\n\nCNI spec 0.3.1 states that plugins should expect that default route is\nalready set by some other CNI plugin, and handle such situations\ngracefully. This is particularly needed to work with multus.\n\nCloses-Bug: 1852382\nChange-Id: Ief82ffde567cd8d415ee02be825366c669b2c8a1\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 3, 'created': '2019-11-22 02:44:15.000000000', 'files': ['kuryr_kubernetes/cni/binding/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c33089cdc7aaba4e7f331be42cca36c2c318b95b', 'message': 'Do not crash on failing to add default route\n\nCNI spec 0.3.1 states that plugins should expect that default route is\nalready set by some other CNI plugin, and handle such situations\ngracefully. This is particularly needed to work with multus.\n\nCloses-Bug: 1852382\nChange-Id: Ief82ffde567cd8d415ee02be825366c669b2c8a1\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}]",2,693981,c33089cdc7aaba4e7f331be42cca36c2c318b95b,26,6,3,28082,,,0,"Do not crash on failing to add default route

CNI spec 0.3.1 states that plugins should expect that default route is
already set by some other CNI plugin, and handle such situations
gracefully. This is particularly needed to work with multus.

Closes-Bug: 1852382
Change-Id: Ief82ffde567cd8d415ee02be825366c669b2c8a1
Signed-off-by: Yash Gupta <y.gupta@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/81/693981/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/binding/base.py'],1,22517039552c624045fcd380d5e43b7076e26af3,multus-support,"import errno try: routes.add(gateway=str(subnet.gateway), dst='default').commit() except pyroute2.NetlinkError as ex: if ex.code != errno.EEXIST: raise LOG.debug(""Default route already exists in pod for vif=%s."" "" Did not overwrite with requested gateway=%s"", vif, subnet.gateway)"," routes.add(gateway=str(subnet.gateway), dst='default').commit()",10,2
openstack%2Fsushy-tools~master~Ie7c743f27c005a92f500c17dcbb25320747cee4b,openstack/sushy-tools,master,Ie7c743f27c005a92f500c17dcbb25320747cee4b,Fix `BootSourceOverrideMode` enumeration,MERGED,2019-10-14 16:55:51.000000000,2019-11-27 12:28:24.000000000,2019-11-27 12:26:06.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-14 16:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2afecbca3a1080408d31f68dd660927825490bd1', 'message': 'Fix `BootSourceOverrideMode` enumeration\n\nFixes one of the allowed values for ``BootSourceOverrideMode``\nelement - Redfish specification requires UEFI boot mode to be\nindicated as ``UEFI``, not ``Uefi`` as the dynamic Redfish emulator\nerroneously adopted.\n\nChange-Id: Ie7c743f27c005a92f500c17dcbb25320747cee4b\n'}, {'number': 2, 'created': '2019-10-14 20:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/dc38e7eac6d1724e93e0587e8280df3ad8419086', 'message': 'Fix `BootSourceOverrideMode` enumeration\n\nFixes one of the allowed values for ``BootSourceOverrideMode``\nelement - Redfish specification requires UEFI boot mode to be\nindicated as ``UEFI``, not ``Uefi`` as the dynamic Redfish emulator\nerroneously adopted.\n\nChange-Id: Ie7c743f27c005a92f500c17dcbb25320747cee4b\n'}, {'number': 3, 'created': '2019-10-19 21:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ce1043d374a2cf3314825375fd2fb842360c43b8', 'message': 'Fix `BootSourceOverrideMode` enumeration\n\nFixes one of the allowed values for ``BootSourceOverrideMode``\nelement - Redfish specification requires UEFI boot mode to be\nindicated as ``UEFI``, not ``Uefi`` as the dynamic Redfish emulator\nerroneously adopted.\n\nChange-Id: Ie7c743f27c005a92f500c17dcbb25320747cee4b\n'}, {'number': 4, 'created': '2019-10-24 11:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0d1ae306dfba2f12969b8489a9038537036ab249', 'message': 'Fix `BootSourceOverrideMode` enumeration\n\nFixes one of the allowed values for ``BootSourceOverrideMode``\nelement - Redfish specification requires UEFI boot mode to be\nindicated as ``UEFI``, not ``Uefi`` as the dynamic Redfish emulator\nerroneously adopted.\n\nChange-Id: Ie7c743f27c005a92f500c17dcbb25320747cee4b\n'}, {'number': 5, 'created': '2019-11-08 16:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/71d4562acc4fdc7be56d3bca37b86d7f9906a4c9', 'message': 'Fix `BootSourceOverrideMode` enumeration\n\nFixes one of the allowed values for ``BootSourceOverrideMode``\nelement - Redfish specification requires UEFI boot mode to be\nindicated as ``UEFI``, not ``Uefi`` as the dynamic Redfish emulator\nerroneously adopted.\n\nChange-Id: Ie7c743f27c005a92f500c17dcbb25320747cee4b\n'}, {'number': 6, 'created': '2019-11-25 17:44:02.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'releasenotes/notes/fix-boot-mode-constant-71e6a7ec6b010273.yaml', 'sushy_tools/emulator/resources/systems/novadriver.py', 'doc/source/admin/emulator.conf', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py', 'sushy_tools/emulator/resources/systems/base.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4279ee0622db5654cbbb7479cbcf21747b29780c', 'message': 'Fix `BootSourceOverrideMode` enumeration\n\nFixes one of the allowed values for ``BootSourceOverrideMode``\nelement - Redfish specification requires UEFI boot mode to be\nindicated as ``UEFI``, not ``Uefi`` as the dynamic Redfish emulator\nerroneously adopted.\n\nChange-Id: Ie7c743f27c005a92f500c17dcbb25320747cee4b\n'}]",0,688458,4279ee0622db5654cbbb7479cbcf21747b29780c,24,3,6,26340,,,0,"Fix `BootSourceOverrideMode` enumeration

Fixes one of the allowed values for ``BootSourceOverrideMode``
element - Redfish specification requires UEFI boot mode to be
indicated as ``UEFI``, not ``Uefi`` as the dynamic Redfish emulator
erroneously adopted.

Change-Id: Ie7c743f27c005a92f500c17dcbb25320747cee4b
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/58/688458/4 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'releasenotes/notes/fix-boot-mode-constant-71e6a7ec6b010273.yaml', 'sushy_tools/emulator/resources/systems/novadriver.py', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py', 'sushy_tools/emulator/resources/systems/base.py']",5,2afecbca3a1080408d31f68dd660927825490bd1,05-fix-uefi-boot-constant," :returns: either *UEFI* or *Legacy* as `str` or `None` if change on the system. Valid values are: *UEFI*, *Legacy*."," :returns: either *Uefi* or *Legacy* as `str` or `None` if change on the system. Valid values are: *Uefi*, *Legacy*.",20,13
openstack%2Fmagnum-ui~stable%2Ftrain~I3b294ba13800a6d2db592cd378413304e8c62cce,openstack/magnum-ui,stable/train,I3b294ba13800a6d2db592cd378413304e8c62cce,Set empty default value for docker_storage_driver,MERGED,2019-11-27 11:34:02.000000000,2019-11-27 12:24:56.000000000,2019-11-27 12:22:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-11-27 11:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/a9977c909b3c01d93c8f300a7fb96230bd85b244', 'message': 'Set empty default value for docker_storage_driver\n\nAt present, it is not possible to create a cluster template with only\nthe required values because the default value of `devicemapper` expects\na docker_volume_size greater than 3 and this is opaque to the users\nsince the end user simply sees `Cluster Template creation failed` error\nmessage on Horizon. Removing the default value for\ndocker_storage_driver addresses this issue.\n\nChange-Id: I3b294ba13800a6d2db592cd378413304e8c62cce\nStory: 2006953\nTask: 37639\n'}, {'number': 2, 'created': '2019-11-27 11:59:58.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/5763f3b40a44a9b9badb74a8157148a4a255af14', 'message': 'Set empty default value for docker_storage_driver\n\nAt present, it is not possible to create a cluster template with only\nthe required values because the default value of `devicemapper` expects\na docker_volume_size greater than 3 and this is opaque to the users\nsince the end user simply sees `Cluster Template creation failed` error\nmessage on Horizon. Removing the default value for\ndocker_storage_driver addresses this issue.\n\nChange-Id: I3b294ba13800a6d2db592cd378413304e8c62cce\nStory: 2006953\nTask: 37639\n\n(cherry picked from commit 2d2ea7422a6c761b5d8a99e684c5267912afdbe3)\n'}]",0,696289,5763f3b40a44a9b9badb74a8157148a4a255af14,9,2,2,30927,,,0,"Set empty default value for docker_storage_driver

At present, it is not possible to create a cluster template with only
the required values because the default value of `devicemapper` expects
a docker_volume_size greater than 3 and this is opaque to the users
since the end user simply sees `Cluster Template creation failed` error
message on Horizon. Removing the default value for
docker_storage_driver addresses this issue.

Change-Id: I3b294ba13800a6d2db592cd378413304e8c62cce
Story: 2006953
Task: 37639

(cherry picked from commit 2d2ea7422a6c761b5d8a99e684c5267912afdbe3)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/89/696289/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'],1,a9977c909b3c01d93c8f300a7fb96230bd85b244,clustertemplate-hidden-flag-stable/train," docker_storage_driver: """","," docker_storage_driver: ""devicemapper"",",1,1
openstack%2Fsushy-tools~master~Id04caa4f1b0701af219cf85d6e30405ead097ec3,openstack/sushy-tools,master,Id04caa4f1b0701af219cf85d6e30405ead097ec3,Fix emulator socket binding options,MERGED,2019-09-25 10:13:22.000000000,2019-11-27 12:14:00.000000000,2019-11-27 12:11:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-09-25 10:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e16d9221bd4107f3ab65ca29dfe17717e6ef853d', 'message': 'Fix emulator socket binding options\n\nPrior to this patch, dynamic emulator did not respect network\nendpoint address options passed through configuration file.\n\nWhile fixing this problem, file-based configuration code has been\ncleaned up and reworked to get loaded earlier.\n\nChange-Id: Id04caa4f1b0701af219cf85d6e30405ead097ec3\n'}, {'number': 2, 'created': '2019-10-14 16:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/36d4989b6589954297f42694123a2cd6c0d275ca', 'message': 'Fix emulator socket binding options\n\nPrior to this patch, dynamic emulator did not respect network\nendpoint address options passed through configuration file.\n\nWhile fixing this problem, file-based configuration code has been\ncleaned up and reworked to get loaded earlier.\n\nChange-Id: Id04caa4f1b0701af219cf85d6e30405ead097ec3\n'}, {'number': 3, 'created': '2019-10-14 16:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/66cb0c6cccc7ed9e3c24d962868f9d75aec1b363', 'message': 'Fix emulator socket binding options\n\nPrior to this patch, dynamic emulator did not respect network\nendpoint address options passed through configuration file.\n\nWhile fixing this problem, file-based configuration code has been\ncleaned up and reworked to get loaded earlier.\n\nChange-Id: Id04caa4f1b0701af219cf85d6e30405ead097ec3\n'}, {'number': 4, 'created': '2019-10-14 20:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/873d74f8faa990d1f5e08cf73597750ec0703d00', 'message': 'Fix emulator socket binding options\n\nPrior to this patch, dynamic emulator did not respect network\nendpoint address options passed through configuration file.\n\nWhile fixing this problem, file-based configuration code has been\ncleaned up and reworked to get loaded earlier.\n\nChange-Id: Id04caa4f1b0701af219cf85d6e30405ead097ec3\n'}, {'number': 5, 'created': '2019-10-19 21:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f27c77478718d99224936ae2b6fcf82c92e31cbf', 'message': 'Fix emulator socket binding options\n\nPrior to this patch, dynamic emulator did not respect network\nendpoint address options passed through configuration file.\n\nWhile fixing this problem, file-based configuration code has been\ncleaned up and reworked to get loaded earlier.\n\nChange-Id: Id04caa4f1b0701af219cf85d6e30405ead097ec3\n'}, {'number': 6, 'created': '2019-10-24 11:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5d2b8fe60f90a2f713aaee444f88ac22cb74a894', 'message': 'Fix emulator socket binding options\n\nPrior to this patch, dynamic emulator did not respect network\nendpoint address options passed through configuration file.\n\nWhile fixing this problem, file-based configuration code has been\ncleaned up and reworked to get loaded earlier.\n\nChange-Id: Id04caa4f1b0701af219cf85d6e30405ead097ec3\n'}, {'number': 7, 'created': '2019-11-25 17:43:56.000000000', 'files': ['sushy_tools/emulator/main.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/eb2943dfab00cb9e58eeddd97bc0d255f320120c', 'message': 'Fix emulator socket binding options\n\nPrior to this patch, dynamic emulator did not respect network\nendpoint address options passed through configuration file.\n\nWhile fixing this problem, file-based configuration code has been\ncleaned up and reworked to get loaded earlier.\n\nChange-Id: Id04caa4f1b0701af219cf85d6e30405ead097ec3\n'}]",0,684685,eb2943dfab00cb9e58eeddd97bc0d255f320120c,27,4,7,26340,,,0,"Fix emulator socket binding options

Prior to this patch, dynamic emulator did not respect network
endpoint address options passed through configuration file.

While fixing this problem, file-based configuration code has been
cleaned up and reworked to get loaded earlier.

Change-Id: Id04caa4f1b0701af219cf85d6e30405ead097ec3
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/85/684685/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/emulator/main.py'],1,e16d9221bd4107f3ab65ca29dfe17717e6ef853d,04-fix-listen-ip-config," os_cloud = app.config.get('SUSHY_EMULATOR_OS_CLOUD') libvirt_uri = app.config.get('SUSHY_EMULATOR_LIBVIRT_URI', '') config_file = os.environ.get('SUSHY_EMULATOR_CONFIG') if config_file: app.config.from_pyfile(config_file) if args.os_cloud: app.config['SUSHY_EMULATOR_OS_CLOUD'] = args.os_cloud app.config['SUSHY_EMULATOR_LIBVIRT_URI'] = args.libvirt_uri else: for envvar in ('SUSHY_EMULATOR_LIBVIRT_URL', # backward compatibility 'SUSHY_EMULATOR_LIBVIRT_URI'): envvar = os.environ.get(envvar) if envvar: app.config['SUSHY_EMULATOR_LIBVIRT_URI'] = envvar if args.interface: app.config['SUSHY_EMULATOR_LISTEN_IP'] = args.interface if args.port: app.config['SUSHY_EMULATOR_LISTEN_PORT'] = args.port if args.ssl_certificate: app.config['SUSHY_EMULATOR_SSL_CERT'] = args.ssl_certificate if args.ssl_key: app.config['SUSHY_EMULATOR_SSL_KEY'] = args.ssl_key ssl_certificate = app.config.get('SUSHY_EMULATOR_SSL_CERT') ssl_key = app.config.get('SUSHY_EMULATOR_SSL_KEY') app.run(host=app.config.get('SUSHY_EMULATOR_LISTEN_IP'), port=app.config.get('SUSHY_EMULATOR_LISTEN_PORT', 8000),"," config_file = os.environ.pop('SUSHY_EMULATOR_CONFIG', None) if config_file: app.config.from_pyfile(config_file) os_cloud = (os.environ.get('OS_CLOUD') or app.config.get('SUSHY_EMULATOR_OS_CLOUD')) libvirt_uri = ( os.environ.get('SUSHY_EMULATOR_LIBVIRT_URI') or # NOTE(etingof): left for backward compatibility os.environ.get('SUSHY_EMULATOR_LIBVIRT_URL') or app.config.get('SUSHY_EMULATOR_LIBVIRT_URI') or '') if args.os_cloud: os.environ['OS_CLOUD'] = args.os_cloud os.environ['SUSHY_EMULATOR_LIBVIRT_URI'] = args.libvirt_uri ssl_certificate = (args.ssl_certificate or app.config.get('SUSHY_EMULATOR_SSL_CERT')) ssl_key = args.ssl_key or app.config.get('SUSHY_EMULATOR_SSL_KEY') app.run(host=(args.interface or app.config.get('SUSHY_EMULATOR_LISTEN_IP')), port=(args.port or app.config.get('SUSHY_EMULATOR_LISTEN_PORT', 8000)),",31,22
openstack%2Fsushy-tools~master~I1118e4a98278a517ae2a9c80873886a6bb6520f1,openstack/sushy-tools,master,I1118e4a98278a517ae2a9c80873886a6bb6520f1,Fix defaults to storage and drive resources,MERGED,2019-10-09 11:29:06.000000000,2019-11-27 12:13:00.000000000,2019-11-27 12:11:23.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-09 11:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/844a7d019d022635f5f6d87ee243dd0c6bf53b6c', 'message': 'Fix defaults to storage and drive resources\n\nIf storage and/or drive resource emulation is not set up\nvia sushy emulator configuration, some sane defaults must\nbe used. Otherwise the clients trying to read either of\nthese resources hit hard HTTP 500 response.\n\nChange-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1\n'}, {'number': 2, 'created': '2019-10-09 12:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5e436052f17500ea5d29370a8362303c06744e04', 'message': 'Fix defaults to storage and drive resources\n\nIf storage and/or drive resource emulation is not set up\nvia sushy emulator configuration, some sane defaults must\nbe used. Otherwise the clients trying to read either of\nthese resources hit hard HTTP 500 response.\n\nChange-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1\n'}, {'number': 3, 'created': '2019-10-14 16:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5059c9c520ec8f3203648b5039dd367312e04462', 'message': 'Fix defaults to storage and drive resources\n\nIf storage and/or drive resource emulation is not set up\nvia sushy emulator configuration, some sane defaults must\nbe used. Otherwise the clients trying to read either of\nthese resources hit hard HTTP 500 response.\n\nChange-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1\n'}, {'number': 4, 'created': '2019-10-14 16:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/29fb914af72eddc6db2e5701b9c8fde6cdc9b5d9', 'message': 'Fix defaults to storage and drive resources\n\nIf storage and/or drive resource emulation is not set up\nvia sushy emulator configuration, some sane defaults must\nbe used. Otherwise the clients trying to read either of\nthese resources hit hard HTTP 500 response.\n\nChange-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1\n'}, {'number': 5, 'created': '2019-10-14 20:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ec36e70792184c526c0033e91d57dab5b4764a53', 'message': 'Fix defaults to storage and drive resources\n\nIf storage and/or drive resource emulation is not set up\nvia sushy emulator configuration, some sane defaults must\nbe used. Otherwise the clients trying to read either of\nthese resources hit hard HTTP 500 response.\n\nChange-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1\n'}, {'number': 6, 'created': '2019-10-19 21:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4d382ea275b4d13910ce441ccb030ae5a1f59232', 'message': 'Fix defaults to storage and drive resources\n\nIf storage and/or drive resource emulation is not set up\nvia sushy emulator configuration, some sane defaults must\nbe used. Otherwise the clients trying to read either of\nthese resources hit hard HTTP 500 response.\n\nChange-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1\n'}, {'number': 7, 'created': '2019-10-24 11:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/acc0e8178e4c756da13993bb9699625a78df8540', 'message': 'Fix defaults to storage and drive resources\n\nIf storage and/or drive resource emulation is not set up\nvia sushy emulator configuration, some sane defaults must\nbe used. Otherwise the clients trying to read either of\nthese resources hit hard HTTP 500 response.\n\nChange-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1\n'}, {'number': 8, 'created': '2019-11-25 17:43:49.000000000', 'files': ['sushy_tools/emulator/resources/storage/staticdriver.py', 'releasenotes/notes/fix-storage-drive-defaults-3a925a0063738b77.yaml', 'sushy_tools/emulator/resources/drives/staticdriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9d8709930fdfcfdbc2270f18e5cca22128dd28e8', 'message': 'Fix defaults to storage and drive resources\n\nIf storage and/or drive resource emulation is not set up\nvia sushy emulator configuration, some sane defaults must\nbe used. Otherwise the clients trying to read either of\nthese resources hit hard HTTP 500 response.\n\nChange-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1\n'}]",0,687539,9d8709930fdfcfdbc2270f18e5cca22128dd28e8,24,3,8,26340,,,0,"Fix defaults to storage and drive resources

If storage and/or drive resource emulation is not set up
via sushy emulator configuration, some sane defaults must
be used. Otherwise the clients trying to read either of
these resources hit hard HTTP 500 response.

Change-Id: I1118e4a98278a517ae2a9c80873886a6bb6520f1
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/39/687539/8 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/storage/staticdriver.py', 'sushy_tools/emulator/resources/drives/staticdriver.py']",2,844a7d019d022635f5f6d87ee243dd0c6bf53b6c,03-fix-storage-drives-defaults," cls._drives = cls._config.get('SUSHY_EMULATOR_DRIVES', {}) return [k + (d['Id'],) for k in self._drives"," cls._drives = cls._config.get('SUSHY_EMULATOR_DRIVES') return [k + (d['Id'],) for k in self._drives.keys()",4,4
openstack%2Fmagnum-ui~master~I3b294ba13800a6d2db592cd378413304e8c62cce,openstack/magnum-ui,master,I3b294ba13800a6d2db592cd378413304e8c62cce,Set empty default value for docker_storage_driver,MERGED,2019-11-26 20:40:07.000000000,2019-11-27 11:47:25.000000000,2019-11-27 11:44:46.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30927}]","[{'number': 1, 'created': '2019-11-26 20:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/0e94f06d2d0a12d7204cbc985aed7f58100de36a', 'message': 'Set empty default value for docker_storage_driver\n\nAt present, it is not possible to create a cluster template with only\nthe required values because the default value of `devicemapper` expects\na docker_volume_size greater than 3 and this is opaque to the users\nsince the end user simply sees `Cluster Template creation failed` error\nmessage on Horizon. Removing the default value for\ndocker_storage_driver addresses this issue.\n\nChange-Id: I3b294ba13800a6d2db592cd378413304e8c62cce\nStory: 2006953\nTask: 37639\n'}, {'number': 2, 'created': '2019-11-26 20:47:39.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/2d2ea7422a6c761b5d8a99e684c5267912afdbe3', 'message': 'Set empty default value for docker_storage_driver\n\nAt present, it is not possible to create a cluster template with only\nthe required values because the default value of `devicemapper` expects\na docker_volume_size greater than 3 and this is opaque to the users\nsince the end user simply sees `Cluster Template creation failed` error\nmessage on Horizon. Removing the default value for\ndocker_storage_driver addresses this issue.\n\nChange-Id: I3b294ba13800a6d2db592cd378413304e8c62cce\nStory: 2006953\nTask: 37639\n'}]",0,696179,2d2ea7422a6c761b5d8a99e684c5267912afdbe3,11,5,2,28022,,,0,"Set empty default value for docker_storage_driver

At present, it is not possible to create a cluster template with only
the required values because the default value of `devicemapper` expects
a docker_volume_size greater than 3 and this is opaque to the users
since the end user simply sees `Cluster Template creation failed` error
message on Horizon. Removing the default value for
docker_storage_driver addresses this issue.

Change-Id: I3b294ba13800a6d2db592cd378413304e8c62cce
Story: 2006953
Task: 37639
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/79/696179/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'],1,0e94f06d2d0a12d7204cbc985aed7f58100de36a,clustertemplate-hidden-flag," docker_storage_driver: """","," docker_storage_driver: ""devicemapper"",",1,1
openstack%2Fmonasca-common~master~Ibf95dffdebe47c8ea4a8a8a666ac6f66d9b4c774,openstack/monasca-common,master,Ibf95dffdebe47c8ea4a8a8a666ac6f66d9b4c774,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:32:28.000000000,2019-11-27 11:44:39.000000000,2019-11-27 11:44:39.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/46d991fc9efd653a0b50ed8dcdb0cb49d90a5cbb', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-common is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ibf95dffdebe47c8ea4a8a8a666ac6f66d9b4c774\n'}, {'number': 2, 'created': '2019-11-16 16:54:46.000000000', 'files': ['README.rst', 'releasenotes/notes/drop-py-2-7-d932d947c945a645.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/b70afb9bf6538748f74262431e3342cc77b9369e', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-common is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ibf95dffdebe47c8ea4a8a8a666ac6f66d9b4c774\n'}]",0,694591,b70afb9bf6538748f74262431e3342cc77b9369e,9,2,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-common is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ibf95dffdebe47c8ea4a8a8a666ac6f66d9b4c774
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/91/694591/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'releasenotes/notes/drop-py-2-7-d932d947c945a645.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini']",5,46d991fc9efd653a0b50ed8dcdb0cb49d90a5cbb,drop-py27-support,"envlist = py37,pep8,cover","envlist = py27,py37,pep8,cover[testenv:py27] basepython = python2.7 commands = {[testenv]commands} stestr run {posargs} ",9,14
openstack%2Ftripleo-heat-templates~master~I943ae272749b05d18549db6da8efadf7867b34af,openstack/tripleo-heat-templates,master,I943ae272749b05d18549db6da8efadf7867b34af,Add a version of the multiple-nics templates with tagged VLANs,MERGED,2019-11-14 16:05:12.000000000,2019-11-27 11:33:51.000000000,2019-11-26 09:44:58.000000000,"[{'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-11-14 16:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a055d24f382fa67d18fb24207309a9a817717198', 'message': 'Add a version of the multiple-nics templates with tagged VLANs\n\nThis change duplicates the multiple-nics templates, only with tagged\nVLANs on each NIC. This is for demonstration, since most production\nenvironments would have ports with VLANs delivered untagged, but it\nserves to show how to use tagged VLANs on regular interface ports.\n\nChange-Id: I943ae272749b05d18549db6da8efadf7867b34af\n'}, {'number': 2, 'created': '2019-11-14 16:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b6e787f16c3e582dae7888897e9d70ec009541a', 'message': 'Add a version of the multiple-nics templates with tagged VLANs\n\nThis change duplicates the multiple-nics templates, only with tagged\nVLANs on each NIC. This is for demonstration, since most production\nenvironments would have ports with VLANs delivered untagged, but it\nserves to show how to use tagged VLANs on regular interface ports.\n\nChange-Id: I943ae272749b05d18549db6da8efadf7867b34af\n'}, {'number': 3, 'created': '2019-11-15 21:12:39.000000000', 'files': ['environments/net-multiple-nics-vlans.j2.yaml', 'network/config/multiple-nics-vlans/role.role.j2.yaml', 'network/config/multiple-nics-vlans/compute-dvr.j2.yaml', 'network/config/multiple-nics-vlans/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2d2462c534ee57c6379fb8d15ca52c779984c64', 'message': 'Add a version of the multiple-nics templates with tagged VLANs\n\nThis change duplicates the multiple-nics templates, only with tagged\nVLANs on each NIC. This is for demonstration, since most production\nenvironments would have ports with VLANs delivered untagged, but it\nserves to show how to use tagged VLANs on regular interface ports.\n\nChange-Id: I943ae272749b05d18549db6da8efadf7867b34af\n'}]",0,694340,e2d2462c534ee57c6379fb8d15ca52c779984c64,15,6,3,12398,,,0,"Add a version of the multiple-nics templates with tagged VLANs

This change duplicates the multiple-nics templates, only with tagged
VLANs on each NIC. This is for demonstration, since most production
environments would have ports with VLANs delivered untagged, but it
serves to show how to use tagged VLANs on regular interface ports.

Change-Id: I943ae272749b05d18549db6da8efadf7867b34af
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/694340/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/net-multiple-nics-vlans.j2.yaml', 'network/config/multiple-nics-vlans/role.role.j2.yaml', 'network/config/multiple-nics-vlans/compute-dvr.j2.yaml', 'network/config/multiple-nics-vlans/README.md']",4,a055d24f382fa67d18fb24207309a9a817717198,multiple-nics-vlans,"This directory contains Heat templates to help configure multiple NICs for each Overcloud role, where it is assumed that each NIC is running a specific network traffic type with tagged VLANs. Configuration ------------- To make use of these templates create a Heat environment that looks something like this: resource\_registry: OS::TripleO::BlockStorage::Net::SoftwareConfig: network/config/multiple-nics/cinder-storage.yaml OS::TripleO::Compute::Net::SoftwareConfig: network/config/multiple-nics/compute.yaml OS::TripleO::Controller::Net::SoftwareConfig: network/config/multiple-nics/controller.yaml OS::TripleO::ObjectStorage::Net::SoftwareConfig: network/config/multiple-nics/swift-storage.yaml OS::TripleO::CephStorage::Net::SoftwareConfig: network/config/multiple-nics/ceph-storage.yaml Or use this Heat environment file: environments/net-multiple-nics-vlans.yaml Configuration with System Management Network -------------------------------------------- The Management network is enabled for backwards-compatibility, but is not included in any roles by default. To enable the optional System Management network, create a Heat environment that looks something like this: resource\_registry: OS::TripleO::Network::Management: ../network/management.yaml OS::TripleO::Controller::Ports::ManagementPort: ../network/ports/management.yaml OS::TripleO::Compute::Ports::ManagementPort: ../network/ports/management.yaml OS::TripleO::CephStorage::Ports::ManagementPort: ../network/ports/management.yaml OS::TripleO::ObjectStorage::Ports::ManagementPort: ../network/ports/management.yaml OS::TripleO::BlockStorage::Ports::ManagementPort: ../network/ports/management.yaml Or use this Heat environment file: environments/network-management.yaml Or, add the network to the list of networks used by each role in the role definition file (e.g. roles_data.yaml). Refer to installation documentation for procedure to generate a role file for custom roles. ",,488,0
openstack%2Freleases~master~I1020bfa5b1b1c82c25cdc15c14d0d63bbabe035b,openstack/releases,master,I1020bfa5b1b1c82c25cdc15c14d0d63bbabe035b,ussuri: release osc-placement 1.8.0,MERGED,2019-11-26 15:47:52.000000000,2019-11-27 11:22:19.000000000,2019-11-27 11:22:19.000000000,"[{'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-11-26 15:47:52.000000000', 'files': ['deliverables/ussuri/osc-placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4367ce58e19526db92ce5613d27a1f21bd7b1cd7', 'message': ""ussuri: release osc-placement 1.8.0\n\nThis release contains a new feature and is the first\nrelease since Train so it's a minor version bump.\n\n$ git log --oneline --no-merges --no-decorate 1.7.0..\n37f521e Follow up to I627bfd1ff699d075028da6afafbe7fb9b2f13058\n0acbe40 Add support for microversion 1.28 in allocation set\n9b86d94 Add resource provider allocation unset command\n3ac639b Fix deps for using venv tox target to create a release note\nec01d0a gitignore: Ignore .stestr directory\ne741278 docs: Misc cleanups\n0cae0bc Fixups for pdf docs\n306a91e Be explicit about auth type in functional tests\nf49b9fc Use os-endpoint instead of os-url for functional tests\ndda2c3f Update master for stable/train\n99d879a Build pdf docs\n89cdb01 Update osc-placement bug link in README\n\nChange-Id: I1020bfa5b1b1c82c25cdc15c14d0d63bbabe035b\n""}]",3,696112,4367ce58e19526db92ce5613d27a1f21bd7b1cd7,11,6,1,6873,,,0,"ussuri: release osc-placement 1.8.0

This release contains a new feature and is the first
release since Train so it's a minor version bump.

$ git log --oneline --no-merges --no-decorate 1.7.0..
37f521e Follow up to I627bfd1ff699d075028da6afafbe7fb9b2f13058
0acbe40 Add support for microversion 1.28 in allocation set
9b86d94 Add resource provider allocation unset command
3ac639b Fix deps for using venv tox target to create a release note
ec01d0a gitignore: Ignore .stestr directory
e741278 docs: Misc cleanups
0cae0bc Fixups for pdf docs
306a91e Be explicit about auth type in functional tests
f49b9fc Use os-endpoint instead of os-url for functional tests
dda2c3f Update master for stable/train
99d879a Build pdf docs
89cdb01 Update osc-placement bug link in README

Change-Id: I1020bfa5b1b1c82c25cdc15c14d0d63bbabe035b
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/696112/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/osc-placement.yaml'],1,4367ce58e19526db92ce5613d27a1f21bd7b1cd7,osc-placement-1.8.0,releases: - version: 1.8.0 projects: - repo: openstack/osc-placement hash: 37f521e53cb83d22121804a940aedd97114e82e3,,5,0
openstack%2Fkolla-ansible~master~I2c1a7398f2b8f876abcf2508874835154cb4ce57,openstack/kolla-ansible,master,I2c1a7398f2b8f876abcf2508874835154cb4ce57,Fix kolla_ansible python module check,MERGED,2019-11-26 12:43:49.000000000,2019-11-27 11:06:24.000000000,2019-11-27 10:07:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-26 12:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92cad751fd9eb3dbe08c00686c74286e1cd672b3', 'message': 'Fix kolla_ansible python module check\n\nThe kolla-ansible script now (Train+) checks whether the kolla_ansible\npython module is installed, and emits the following message if not:\n\nERROR: kolla_ansible has to be available in the PYTHONPATH (e.g.\ninstalled)\n\nIt is supposed to exit 1 if this check fails, but does not.\n\nThis change fixes this by removing a subshell from the kolla-ansible\nscript.\n\nChange-Id: I2c1a7398f2b8f876abcf2508874835154cb4ce57\nCloses-Bug: #1854049\n'}, {'number': 2, 'created': '2019-11-26 15:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e77e76291b2faf41d5f80fd290f3b969450fa02e', 'message': 'Fix kolla_ansible python module check\n\nThe kolla-ansible script now (Train+) checks whether the kolla_ansible\npython module is installed, and emits the following message if not:\n\nERROR: kolla_ansible has to be available in the PYTHONPATH (e.g.\ninstalled)\n\nIt is supposed to exit 1 if this check fails, but does not.\n\nThis change fixes this by removing a subshell from the kolla-ansible\nscript.\n\nChange-Id: I2c1a7398f2b8f876abcf2508874835154cb4ce57\nCloses-Bug: #1854049\n'}, {'number': 3, 'created': '2019-11-26 17:50:32.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/692d176cd5e716ad24e6f4fe57f2c345417c0793', 'message': 'Fix kolla_ansible python module check\n\nThe kolla-ansible script now (Train+) checks whether the kolla_ansible\npython module is installed, and emits the following message if not:\n\nERROR: kolla_ansible has to be available in the PYTHONPATH (e.g.\ninstalled)\n\nIt is supposed to exit 1 if this check fails, but does not.\n\nThis change fixes this by removing a subshell from the kolla-ansible\nscript.\n\nChange-Id: I2c1a7398f2b8f876abcf2508874835154cb4ce57\nCloses-Bug: #1854049\n'}]",1,696077,692d176cd5e716ad24e6f4fe57f2c345417c0793,16,5,3,14826,,,0,"Fix kolla_ansible python module check

The kolla-ansible script now (Train+) checks whether the kolla_ansible
python module is installed, and emits the following message if not:

ERROR: kolla_ansible has to be available in the PYTHONPATH (e.g.
installed)

It is supposed to exit 1 if this check fails, but does not.

This change fixes this by removing a subshell from the kolla-ansible
script.

Change-Id: I2c1a7398f2b8f876abcf2508874835154cb4ce57
Closes-Bug: #1854049
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/696077/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,92cad751fd9eb3dbe08c00686c74286e1cd672b3,bp/drop-py2-support,if python -c 'import kolla_ansible' &>/dev/null; thenfi,python -c 'import kolla_ansible' &>/dev/null || (),2,2
openstack%2Fmonasca-agent~master~I6cd8c92e4c7c9228ae14596e1535f40184a5ae22,openstack/monasca-agent,master,I6cd8c92e4c7c9228ae14596e1535f40184a5ae22,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:32:38.000000000,2019-11-27 11:00:19.000000000,2019-11-27 11:00:18.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/c84e1dbc52c4976b6fa801bf3fc718d58d5455d1', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-agent is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I6cd8c92e4c7c9228ae14596e1535f40184a5ae22\n'}, {'number': 2, 'created': '2019-11-16 14:09:27.000000000', 'files': ['requirements.txt', 'releasenotes/notes/drop-py-2-7-9a5a1c167be90f99.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/c57f201c7cf8b0015c06e787f1d9875534f0422f', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-agent is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I6cd8c92e4c7c9228ae14596e1535f40184a5ae22\n'}]",0,694594,c57f201c7cf8b0015c06e787f1d9875534f0422f,9,2,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-agent is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: I6cd8c92e4c7c9228ae14596e1535f40184a5ae22
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/94/694594/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/drop-py-2-7-9a5a1c167be90f99.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini']",5,c84e1dbc52c4976b6fa801bf3fc718d58d5455d1,drop-py27-support,"envlist = py37,pep8,cover","envlist = py27,py37,pep8,cover[testenv:py27] basepython = python2.7 commands = {[testenv]commands} stestr run {posargs} ",7,13
openstack%2Fmagnum-ui~stable%2Ftrain~I214e8bad1dbabfd2e82d6d195152289a89d40e8d,openstack/magnum-ui,stable/train,I214e8bad1dbabfd2e82d6d195152289a89d40e8d,Add missing hidden option to cluster template,MERGED,2019-11-27 09:54:59.000000000,2019-11-27 10:47:52.000000000,2019-11-27 10:46:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-11-27 09:54:59.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js', 'magnum_ui/static/dashboard/container-infra/cluster-templates/update/update.service.js', 'releasenotes/notes/bugfix-cluster-template-hidden-arg-38909eaa92bd8d56.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/afe654b87f5d167affe22ec8912c25c0ac365f2e', 'message': 'Add missing hidden option to cluster template\n\nWithout this patch, starting from Train, a user is not able to create or\nupdate a cluster template on the Horizon UI.\n\nStory: 2006953\nTask: 37638\n\nChange-Id: I214e8bad1dbabfd2e82d6d195152289a89d40e8d\n(cherry picked from commit 99d4e5a688658a1889590aee1792d82d1589dde3)\n'}]",0,696270,afe654b87f5d167affe22ec8912c25c0ac365f2e,7,2,1,30927,,,0,"Add missing hidden option to cluster template

Without this patch, starting from Train, a user is not able to create or
update a cluster template on the Horizon UI.

Story: 2006953
Task: 37638

Change-Id: I214e8bad1dbabfd2e82d6d195152289a89d40e8d
(cherry picked from commit 99d4e5a688658a1889590aee1792d82d1589dde3)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/70/696270/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js', 'magnum_ui/static/dashboard/container-infra/cluster-templates/update/update.service.js', 'releasenotes/notes/bugfix-cluster-template-hidden-arg-38909eaa92bd8d56.yaml']",3,afe654b87f5d167affe22ec8912c25c0ac365f2e,clustertemplate-hidden-flag-stable/train,--- fixes: - | Fix an issue where a user was unable to create or update a cluster template on Horizon due to missing hidden option expected by the API. ,,15,1
openstack%2Fopenstack-chef~master~Iae8a58f4aeb0e7138d0cfc3dc4e58ee995c216b5,openstack/openstack-chef,master,Iae8a58f4aeb0e7138d0cfc3dc4e58ee995c216b5,Use python3 packages on Ubuntu,MERGED,2019-09-18 14:59:04.000000000,2019-11-27 10:41:37.000000000,2019-11-27 10:40:15.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 14:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/7fd9d4cb687db2615c9421c6bb2c30fc87d5d15e', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nDepends-On: https://review.opendev.org/682917\nDepends-On: https://review.opendev.org/682918\nDepends-On: https://review.opendev.org/682919\nDepends-On: https://review.opendev.org/682920\nDepends-On: https://review.opendev.org/682921\nDepends-On: https://review.opendev.org/674452\nDepends-On: https://review.opendev.org/682922\nDepends-On: https://review.opendev.org/682923\nDepends-On: https://review.opendev.org/682924\nChange-Id: Iae8a58f4aeb0e7138d0cfc3dc4e58ee995c216b5\n'}, {'number': 2, 'created': '2019-09-23 14:03:43.000000000', 'files': ['doc/source/index.rst', 'doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/e093b0cf850c7f3f78fc2811520307cb981e537d', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nAlso update documentation.\n\nDepends-On: https://review.opendev.org/682917\nDepends-On: https://review.opendev.org/682918\nDepends-On: https://review.opendev.org/682919\nDepends-On: https://review.opendev.org/682920\nDepends-On: https://review.opendev.org/682921\nDepends-On: https://review.opendev.org/674452\nDepends-On: https://review.opendev.org/682922\nDepends-On: https://review.opendev.org/682923\nDepends-On: https://review.opendev.org/682924\nChange-Id: Iae8a58f4aeb0e7138d0cfc3dc4e58ee995c216b5\n'}]",0,682925,e093b0cf850c7f3f78fc2811520307cb981e537d,21,4,2,13252,,,0,"Use python3 packages on Ubuntu

Python2.7 is going EOL soon, let us deploy python3 for Rocky from the
start, so we avoid having to switch later.

Also update documentation.

Depends-On: https://review.opendev.org/682917
Depends-On: https://review.opendev.org/682918
Depends-On: https://review.opendev.org/682919
Depends-On: https://review.opendev.org/682920
Depends-On: https://review.opendev.org/682921
Depends-On: https://review.opendev.org/674452
Depends-On: https://review.opendev.org/682922
Depends-On: https://review.opendev.org/682923
Depends-On: https://review.opendev.org/682924
Change-Id: Iae8a58f4aeb0e7138d0cfc3dc4e58ee995c216b5
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/25/682925/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,7fd9d4cb687db2615c9421c6bb2c30fc87d5d15e,chef-py3,,"# Copyright (c) 2013 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT import setuptools # In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass setuptools.setup( setup_requires=['pbr>=2.0.0'], pbr=True) ",0,30
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ia374fd078351dde220bb6b3968a82832179c2f62,openstack/tripleo-upgrade,stable/queens,Ia374fd078351dde220bb6b3968a82832179c2f62,DNM: WIP: Parallel update,ABANDONED,2019-11-24 16:46:12.000000000,2019-11-27 10:41:13.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-24 16:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/44f9800ddb3cc512e94eda28f60835f6c4a061cb', 'message': 'DNM: WIP: Parallel update\n\nChange-Id: Ia374fd078351dde220bb6b3968a82832179c2f62\n'}, {'number': 2, 'created': '2019-11-24 22:28:07.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/282ad10fc0deb42aa8b472318d5808b5e952b220', 'message': 'DNM: WIP: Parallel update\n\nChange-Id: Ia374fd078351dde220bb6b3968a82832179c2f62\n'}]",3,695824,282ad10fc0deb42aa8b472318d5808b5e952b220,6,2,2,11166,,,0,"DNM: WIP: Parallel update

Change-Id: Ia374fd078351dde220bb6b3968a82832179c2f62
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/24/695824/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,44f9800ddb3cc512e94eda28f60835f6c4a061cb,HACK," - name: Ensure updae is parralel shell: | python -c 'import sys, yaml, simplejson as json; json.dump(yaml.load(sys.stdin), sys.stdout, indent=4)' < ""{{ roles_data }}"" |\ jq 'del(.[] | .""update_serial"")' |\ jq 'map(. |= (. += {""update_serial"": 25} ))' |\ jq 'map( if .ServicesDefault | contains ([""OS::TripleO::Services::CephOSD""]) then .""update_serial"" = 1 else . end)' |\ jq 'map( if .ServicesDefault | contains ([""OS::TripleO::Services::Pacemaker""]) then .""update_serial"" = 1 else . end)' |\ python -c 'import simplejson, sys, yaml; print yaml.dump(simplejson.loads(str(sys.stdin.read())), default_flow_style=False)' > ""{{ roles_data }}_new"" mv ""{{ roles_data }}_new"" ""{{ roles_data }}""",,15,0
openstack%2Fironic-python-agent-builder~master~I4b02114f062aefe54f627df8f8da6701dd4ed918,openstack/ironic-python-agent-builder,master,I4b02114f062aefe54f627df8f8da6701dd4ed918,Add dosfstools to tinyipa,ABANDONED,2019-11-26 20:40:24.000000000,2019-11-27 10:38:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-26 20:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/d70d768fc0572552f6e4ebd6e65535150a872bf9', 'message': 'Add dosfstools to tinyipa\n\nFor software RAID + UEFI\n\nChange-Id: I4b02114f062aefe54f627df8f8da6701dd4ed918\nStory: #2006379\nTask: #37637\n'}, {'number': 2, 'created': '2019-11-27 09:13:09.000000000', 'files': ['tinyipa/build_files/finalreqs.lst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ec9bf32702722dd451c423c2448c70103dd98c5c', 'message': 'Add dosfstools to tinyipa\n\nFor software RAID + UEFI\n\nChange-Id: I4b02114f062aefe54f627df8f8da6701dd4ed918\nStory: #2006379\nTask: #37637\n'}]",0,696180,ec9bf32702722dd451c423c2448c70103dd98c5c,5,2,2,15064,,,0,"Add dosfstools to tinyipa

For software RAID + UEFI

Change-Id: I4b02114f062aefe54f627df8f8da6701dd4ed918
Story: #2006379
Task: #37637
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/80/696180/2 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/build_files/finalreqs.lst'],1,d70d768fc0572552f6e4ebd6e65535150a872bf9,dosfstools,dosfstools.tcz,,1,0
openstack%2Fcharm-manila-ganesha~master~Icb93b78747798a61db6706846ab9f532cbd058cd,openstack/charm-manila-ganesha,master,Icb93b78747798a61db6706846ab9f532cbd058cd,Update charm with latest config from release-tools,MERGED,2019-11-19 14:47:59.000000000,2019-11-27 10:35:38.000000000,2019-11-27 10:35:38.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 14:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/492296ea51a42dd8a99091c36a6576a3af93b5fa', 'message': 'Update charm with latest config from release-tools\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}, {'number': 2, 'created': '2019-11-20 08:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/902bc0e5059d54952c3d2f16c714f9036f122bc2', 'message': 'Update charm with latest config from release-tools\n\nAdditionally, update bundle to point at released\ncharm-manila\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}, {'number': 3, 'created': '2019-11-20 15:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/71fc0c2bb56bf387ba55cd0e11f51b34e30d14e1', 'message': 'Update charm with latest config from release-tools\n\nAdditionally, update bundle to point at released\ncharm-manila\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}, {'number': 4, 'created': '2019-11-21 16:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/99543d95df4da9ee2dd359c14b6d41113122871e', 'message': 'Update charm with latest config from release-tools\n\nAdditionally, update bundle to point at released\ncharm-manila\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}, {'number': 5, 'created': '2019-11-26 07:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/3fec1a2bfbd548180468c8e78dbd75ceec76a4cc', 'message': 'Update charm with latest config from release-tools\n\nAdditionally, update bundle to point at released\ncharm-manila\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}, {'number': 6, 'created': '2019-11-26 11:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/789c36e3109f734a256834787416408f10d1e230', 'message': 'Update charm with latest config from release-tools\n\nAdditionally, update bundle to point at released\ncharm-manila\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}, {'number': 7, 'created': '2019-11-26 15:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/db293bf91d01cb4654cc682e0d1ae6cddaf4e342', 'message': 'Update charm with latest config from release-tools\n\nAdditionally, update bundle to point at released\ncharm-manila\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}, {'number': 8, 'created': '2019-11-26 15:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/dddd208b61bdb98c4412f21b0e0f1bf14ea8d2a4', 'message': 'Update charm with latest config from release-tools\n\nAdditionally, update bundle to point at released\ncharm-manila\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}, {'number': 9, 'created': '2019-11-27 07:18:32.000000000', 'files': ['requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'test-requirements.txt', 'src/tox.ini', 'src/tests/bundles/bionic-rocky.yaml', 'src/test-requirements.txt', 'src/lib/charm/openstack/manila_ganesha.py', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/bionic-train.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/f5b7f41f8d11a52181fc311ac05868c9c393c782', 'message': 'Update charm with latest config from release-tools\n\nAdditionally, update bundle to point at released\ncharm-manila\n\nChange-Id: Icb93b78747798a61db6706846ab9f532cbd058cd\n'}]",0,695009,f5b7f41f8d11a52181fc311ac05868c9c393c782,40,4,9,20634,,,0,"Update charm with latest config from release-tools

Additionally, update bundle to point at released
charm-manila

Change-Id: Icb93b78747798a61db6706846ab9f532cbd058cd
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/09/695009/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",5,492296ea51a42dd8a99091c36a6576a3af93b5fa,feature/release-tools-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY [testenv:build] basepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}basepython = python3ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy USER [testenv:build] basepython = python2.7[testenv:py27] basepython = python2.7 deps = # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402,W504 ",60,117
openstack%2Fcharm-manila-ganesha~master~I9e7a40908c21757715df3d0b6c6032b24c64901b,openstack/charm-manila-ganesha,master,I9e7a40908c21757715df3d0b6c6032b24c64901b,Add gerrit bits to enable CI,MERGED,2019-11-19 14:27:05.000000000,2019-11-27 10:32:40.000000000,2019-11-27 10:32:40.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 14:27:05.000000000', 'files': ['.gitreview', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/73924a6994b4e357a9d1f7aaf7ec79da6d079608', 'message': 'Add gerrit bits to enable CI\n\nChange-Id: I9e7a40908c21757715df3d0b6c6032b24c64901b\n'}]",0,695006,73924a6994b4e357a9d1f7aaf7ec79da6d079608,7,3,1,20634,,,0,"Add gerrit bits to enable CI

Change-Id: I9e7a40908c21757715df3d0b6c6032b24c64901b
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/06/695006/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', '.zuul.yaml']",2,73924a6994b4e357a9d1f7aaf7ec79da6d079608,,- project: templates: - python35-charm-jobs - openstack-python3-train-jobs - openstack-cover-jobs ,,11,0
openstack%2Fkuryr-kubernetes~master~Id0683a00b2c90529e0106296b5f157cf6885388b,openstack/kuryr-kubernetes,master,Id0683a00b2c90529e0106296b5f157cf6885388b,Handle not found subport on Trunk,MERGED,2019-11-26 21:05:23.000000000,2019-11-27 10:16:46.000000000,2019-11-27 10:15:27.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-26 21:05:23.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_subnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/28b79999a09fd02365c8dc3447c61e4572da7101', 'message': 'Handle not found subport on Trunk\n\nWhen a namespace is created-deleted-created, the last namespace\ncreation event might notices that a KuryrNet CRD still exists,\nas it can take a while for the previous deletion event to complete\nand will trigger again another deletion causing NotFound SubPort\non Trunk error. This commit handles the exception by ignoring\nthe port deletion.\n\nChange-Id: Id0683a00b2c90529e0106296b5f157cf6885388b\nCloses-bug: 1854096\n'}]",0,696188,28b79999a09fd02365c8dc3447c61e4572da7101,9,4,1,27032,,,0,"Handle not found subport on Trunk

When a namespace is created-deleted-created, the last namespace
creation event might notices that a KuryrNet CRD still exists,
as it can take a while for the previous deletion event to complete
and will trigger again another deletion causing NotFound SubPort
on Trunk error. This commit handles the exception by ignoring
the port deletion.

Change-Id: Id0683a00b2c90529e0106296b5f157cf6885388b
Closes-bug: 1854096
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/696188/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/namespace_subnet.py'],1,28b79999a09fd02365c8dc3447c61e4572da7101,bug/1854096," try: neutron.trunk_remove_subports( trunk_id, {'sub_ports': [ {'port_id': leftover_port['id']}]}) except n_exc.NotFound: LOG.debug(""Port %s already removed from trunk %s"", leftover_port['id'], trunk_id)"," neutron.trunk_remove_subports( trunk_id, {'sub_ports': [ {'port_id': leftover_port['id']}]})",7,3
openstack%2Fcharm-nova-compute~stable%2F19.04~Ice7e0852dc34f3a9ded2eab17f48d9f28cd5757b,openstack/charm-nova-compute,stable/19.04,Ice7e0852dc34f3a9ded2eab17f48d9f28cd5757b,Sync charm helpers to fix wrong usage of relation_get,ABANDONED,2019-06-05 08:00:34.000000000,2019-11-27 10:08:58.000000000,,"[{'_account_id': 5112}, {'_account_id': 6737}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 08:00:34.000000000', 'files': ['hooks/charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/89ad16d24406a6451b5235908bd6c27cc993d2d0', 'message': ""Sync charm helpers to fix wrong usage of relation_get\n\nCommit c79eb5f854f09d35ad12e1121d2864d5358f60b1 for charm helpers\n\nFix wrong usage of relation_get in *_broker_action_done\n\nBecause of wrong usage, it doesn't behaviour as expected.\ne.g when config-changed hook, it runs 3 times when relation are 3\nMaking it use right signature\n\nChange-Id: Ice7e0852dc34f3a9ded2eab17f48d9f28cd5757b\n""}]",0,663266,89ad16d24406a6451b5235908bd6c27cc993d2d0,10,5,1,5112,,,0,"Sync charm helpers to fix wrong usage of relation_get

Commit c79eb5f854f09d35ad12e1121d2864d5358f60b1 for charm helpers

Fix wrong usage of relation_get in *_broker_action_done

Because of wrong usage, it doesn't behaviour as expected.
e.g when config-changed hook, it runs 3 times when relation are 3
Making it use right signature

Change-Id: Ice7e0852dc34f3a9ded2eab17f48d9f28cd5757b
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/66/663266/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/storage/linux/ceph.py'],1,89ad16d24406a6451b5235908bd6c27cc993d2d0,," rdata = relation_get(rid=rid, unit=unit) or {} rdata = relation_get(rid=rid, unit=unit) or {}"," rdata = relation_get(rid, unit) or {} rdata = relation_get(rid, unit) or {}",2,2
openstack%2Fmagnum-ui~master~I214e8bad1dbabfd2e82d6d195152289a89d40e8d,openstack/magnum-ui,master,I214e8bad1dbabfd2e82d6d195152289a89d40e8d,Add missing hidden option to cluster template,MERGED,2019-11-26 14:35:55.000000000,2019-11-27 09:54:59.000000000,2019-11-26 22:15:52.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-11-26 14:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/e266f31ced3f3bdcd7c8bd15f2c6ea126beedddf', 'message': 'WIP Fix cluster template update bug\n\nChange-Id: I214e8bad1dbabfd2e82d6d195152289a89d40e8d\n'}, {'number': 2, 'created': '2019-11-26 15:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/152585c7d7dd74e503652a0895e8813b94d0b274', 'message': 'WIP Fix cluster template update bug\n\nChange-Id: I214e8bad1dbabfd2e82d6d195152289a89d40e8d\n'}, {'number': 3, 'created': '2019-11-26 20:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/ae1ffa3e49baed883e41bc33703cab2658ff8f3f', 'message': 'Add missing hidden option to cluster template\n\nWithout this patch, starting from Train, a user is not able to create or\nupdate a cluster template on the Horizon UI.\n\nStory: 2006953\nTask: 37639\n\nChange-Id: I214e8bad1dbabfd2e82d6d195152289a89d40e8d\n'}, {'number': 4, 'created': '2019-11-26 20:47:39.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js', 'magnum_ui/static/dashboard/container-infra/cluster-templates/update/update.service.js', 'releasenotes/notes/bugfix-cluster-template-hidden-arg-38909eaa92bd8d56.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/99d4e5a688658a1889590aee1792d82d1589dde3', 'message': 'Add missing hidden option to cluster template\n\nWithout this patch, starting from Train, a user is not able to create or\nupdate a cluster template on the Horizon UI.\n\nStory: 2006953\nTask: 37638\n\nChange-Id: I214e8bad1dbabfd2e82d6d195152289a89d40e8d\n'}]",2,696099,99d4e5a688658a1889590aee1792d82d1589dde3,18,4,4,30927,,,0,"Add missing hidden option to cluster template

Without this patch, starting from Train, a user is not able to create or
update a cluster template on the Horizon UI.

Story: 2006953
Task: 37638

Change-Id: I214e8bad1dbabfd2e82d6d195152289a89d40e8d
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/99/696099/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js', 'magnum_ui/static/dashboard/container-infra/cluster-templates/update/update.service.js']",2,e266f31ced3f3bdcd7c8bd15f2c6ea126beedddf,clustertemplate-hidden-flag, config.model.hidden = response.data.hidden ? response.data.hidden : false; ? response.data.master_lb_enabled : false; , ? response.data.master_lb_enabled : false;,11,2
openstack%2Fceilometer~stable%2Frocky~Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,openstack/ceilometer,stable/rocky,Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,Add loadbalancer resource type.,MERGED,2019-11-22 17:14:10.000000000,2019-11-27 09:35:11.000000000,2019-11-27 09:35:11.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 17:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cb8bf7ebeef87ce7baf1ec3a9337fe7195f0a011', 'message': 'Add loadbalancer resource type.\n\nAdds the loadbalancer resource type for usage\nwith the network.services.lb.* metrics.\n\nChange-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\nCloses-Bug: #1848286\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}, {'number': 2, 'created': '2019-11-26 01:01:58.000000000', 'files': ['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/00ba87d11432ac4ce1b9451a29dcdbeb0a4e973c', 'message': 'Add loadbalancer resource type.\n\nAdds the loadbalancer resource type for usage\nwith the network.services.lb.* metrics.\n\nDepends-On: https://review.opendev.org/#/c/695855/\nChange-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\nCloses-Bug: #1848286\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}]",0,695729,00ba87d11432ac4ce1b9451a29dcdbeb0a4e973c,17,2,2,2276,,,0,"Add loadbalancer resource type.

Adds the loadbalancer resource type for usage
with the network.services.lb.* metrics.

Depends-On: https://review.opendev.org/#/c/695855/
Change-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f
Closes-Bug: #1848286
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/29/695729/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml']",2,cb8bf7ebeef87ce7baf1ec3a9337fe7195f0a011,bug/1848286, - resource_type: loadbalancer metrics: network.services.lb.outgoing.bytes: network.services.lb.incoming.bytes: network.services.lb.pool: network.services.lb.listener: network.services.lb.member: network.services.lb.health_monitor: network.services.lb.loadbalancer: network.services.lb.total.connections: network.services.lb.active.connections:,,18,0
openstack%2Fcloudkitty-specs~master~I007351039135bd7e46422ce743d694363b2aa6aa,openstack/cloudkitty-specs,master,I007351039135bd7e46422ce743d694363b2aa6aa,Fix typos in files,MERGED,2019-11-27 08:29:20.000000000,2019-11-27 09:34:36.000000000,2019-11-27 09:33:32.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-11-27 08:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/be8a6efa0529ffa9be7308f4319fc65f391aaff5', 'message': 'Fix typos in files\n\nChange-Id: I007351039135bd7e46422ce743d694363b2aa6aa\n'}, {'number': 2, 'created': '2019-11-27 08:50:35.000000000', 'files': ['specs/train/add_v2_storage_driver_elasticsearch.rst', 'specs/template.rst', 'specs/train/add_get_scope_state_api_endpoint.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/5454b450e98b21a53c39fcee1b52e77a9fc45503', 'message': 'Fix typos in files\n\nChange-Id: I007351039135bd7e46422ce743d694363b2aa6aa\n'}]",1,696242,5454b450e98b21a53c39fcee1b52e77a9fc45503,10,2,2,23317,,,0,"Fix typos in files

Change-Id: I007351039135bd7e46422ce743d694363b2aa6aa
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/42/696242/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/train/add_v2_storage_driver_elasticsearch.rst', 'specs/template.rst', 'specs/train/add_get_scope_state_api_endpoint.rst']",3,be8a6efa0529ffa9be7308f4319fc65f391aaff5,fix,.. note:: This spec is the detailed implementation of one part of a,.. note:: This spec is the detailled implementation of one part of a,3,3
openstack%2Freleases~master~Ic3f7b0395fc16407b95ff4367c92bb982b6decf0,openstack/releases,master,Ic3f7b0395fc16407b95ff4367c92bb982b6decf0,Release python-zunclient 3.5.1,MERGED,2019-11-26 18:57:47.000000000,2019-11-27 09:29:42.000000000,2019-11-27 09:29:42.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 18:57:47.000000000', 'files': ['deliverables/train/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0dad5502ef1b68eca91c1a4af711b21a4ef22fd6', 'message': 'Release python-zunclient 3.5.1\n\nIt mainly contains two critical fixes:\n* https://review.opendev.org/#/c/688302/\n* https://review.opendev.org/#/c/688292/\n\nChange-Id: Ic3f7b0395fc16407b95ff4367c92bb982b6decf0\n'}]",0,696164,0dad5502ef1b68eca91c1a4af711b21a4ef22fd6,7,3,1,11536,,,0,"Release python-zunclient 3.5.1

It mainly contains two critical fixes:
* https://review.opendev.org/#/c/688302/
* https://review.opendev.org/#/c/688292/

Change-Id: Ic3f7b0395fc16407b95ff4367c92bb982b6decf0
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/696164/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-zunclient.yaml'],1,0dad5502ef1b68eca91c1a4af711b21a4ef22fd6,, - version: 3.5.1 projects: - repo: openstack/python-zunclient hash: 361634d1e130504b54ade4cc80c06ea0b1cc80d6,,4,0
openstack%2Fmagnum~stable%2Fstein~I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156,openstack/magnum,stable/stein,I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156,k8s_fedora: Label master nodes with kubectl,MERGED,2019-11-22 07:23:24.000000000,2019-11-27 09:19:07.000000000,2019-11-22 09:50:44.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-11-22 07:23:24.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/49791feb580d009ef0bff75d46630e4ebe8c34f9', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n\nConflicts:\n        magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh\n\n(cherry picked from commit 6b0fa1805f954c13d64c2905e7e9f3e4ba33c5ae)\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\n(cherry picked from commit 3afd376c5e1550021bf2a0e854e0a370c849a1fc)\n'}]",0,695632,49791feb580d009ef0bff75d46630e4ebe8c34f9,10,4,1,6484,,,0,"k8s_fedora: Label master nodes with kubectl

Due to [0], we can not label nodes with
node-role.kubernetes.io/master="""". We need to do it with the kubernetes
API.

[0] https://github.com/kubernetes/kubernetes/issues/75457

story: 2006459
task: 36872

Signed-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>

Conflicts:
        magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh

(cherry picked from commit 6b0fa1805f954c13d64c2905e7e9f3e4ba33c5ae)
Change-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156
(cherry picked from commit 3afd376c5e1550021bf2a0e854e0a370c849a1fc)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/32/695632/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",2,49791feb580d009ef0bff75d46630e4ebe8c34f9,stable/stein-v1.15.6,"done # Label self as master until [ ""ok"" = ""$(curl --silent http://127.0.0.1:8080/healthz)"" ] && \ kubectl patch node ${INSTANCE_NAME} \ --patch '{""metadata"": {""labels"": {""node-role.kubernetes.io/master"": """"}}}' do echo ""Trying to label master node with node-role.kubernetes.io/master=\""\"""" sleep 5s done ",done,10,2
openstack%2Fcyborg-tempest-plugin~master~I3b5302d75e432333be8bad033bb1ba166d9c6e3c,openstack/cyborg-tempest-plugin,master,I3b5302d75e432333be8bad033bb1ba166d9c6e3c,Fix a typo in manager.py,ABANDONED,2019-11-19 07:29:14.000000000,2019-11-27 09:18:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-19 07:29:14.000000000', 'files': ['cyborg_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/089d79d7305cb5afc783a22ad30cd2ddd0fd5df2', 'message': 'Fix a typo in manager.py\n\nChange-Id: I3b5302d75e432333be8bad033bb1ba166d9c6e3c\n'}]",0,694915,089d79d7305cb5afc783a22ad30cd2ddd0fd5df2,3,1,1,23317,,,0,"Fix a typo in manager.py

Change-Id: I3b5302d75e432333be8bad033bb1ba166d9c6e3c
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/15/694915/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/scenario/manager.py'],1,089d79d7305cb5afc783a22ad30cd2ddd0fd5df2,, # device profile here according to specific env., # device profile here according to specfic env.,1,1
openstack%2Ftraining-labs~stable%2Frocky~I5ad9a01836bdd2538b7a63d8e7aae9af6dc7617f,openstack/training-labs,stable/rocky,I5ad9a01836bdd2538b7a63d8e7aae9af6dc7617f,Update Ubuntu LTS ISO to 18.04.3,MERGED,2019-11-26 12:55:54.000000000,2019-11-27 07:53:38.000000000,2019-11-27 07:53:37.000000000,"[{'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 12:55:54.000000000', 'files': ['labs/stacktrain/distros/ubuntu_18_04_server_amd64.py'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/2f3b3d51225ed72c529bd10e88c67dc7bada6182', 'message': 'Update Ubuntu LTS ISO to 18.04.3\n\nCloses-Bug: #1846863\n\nChange-Id: I5ad9a01836bdd2538b7a63d8e7aae9af6dc7617f\n(backport from master)\n'}]",0,696079,2f3b3d51225ed72c529bd10e88c67dc7bada6182,6,2,1,11109,,,0,"Update Ubuntu LTS ISO to 18.04.3

Closes-Bug: #1846863

Change-Id: I5ad9a01836bdd2538b7a63d8e7aae9af6dc7617f
(backport from master)
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/79/696079/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/stacktrain/distros/ubuntu_18_04_server_amd64.py'],1,2f3b3d51225ed72c529bd10e88c67dc7bada6182,update_lts_rocky," ""ubuntu-18.04.3-server-amd64.iso"") self.md5 = ""cb7cd5a0c94899a04a536441c8b6d2bf"""," ""ubuntu-18.04.2-server-amd64.iso"") self.md5 = ""34416ff83179728d54583bf3f18d42d2""",2,2
openstack%2Ftripleo-upgrade~stable%2Ftrain~I08abf241ee742622593e5c841db127fcf78c3d13,openstack/tripleo-upgrade,stable/train,I08abf241ee742622593e5c841db127fcf78c3d13,Do not remove rhos-release if running leapp unsubscribed.,MERGED,2019-11-22 10:57:45.000000000,2019-11-27 07:10:10.000000000,2019-11-27 01:01:59.000000000,"[{'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-22 10:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9725df6dc0d456b3bd3e222ad584b6ee11d8cd9d', 'message': ""Do not remove rhos-release if running leapp unsubscribed.\n\nThe option leapp_unsubscribed allows us to run the Leapp\nupgrade without need of a subscription (relies on external\nworkarounds and hacks). As it uses rhos-release underneath\nto provide with the RHEL8 repos, we can't get rid of rhos-\nrelease as we were doing when the node was subscribed.\n\nChange-Id: I08abf241ee742622593e5c841db127fcf78c3d13\n""}, {'number': 2, 'created': '2019-11-25 17:09:04.000000000', 'files': ['tasks/upgrade/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f7f709db298ddd75636f5d10b33d4b6af3e5af4e', 'message': ""Do not remove rhos-release if running leapp unsubscribed.\n\nThe option leapp_unsubscribed allows us to run the Leapp\nupgrade without need of a subscription (relies on external\nworkarounds and hacks). As it uses rhos-release underneath\nto provide with the RHEL8 repos, we can't get rid of rhos-\nrelease as we were doing when the node was subscribed.\n\nChange-Id: I08abf241ee742622593e5c841db127fcf78c3d13\n(cherry picked from commit b66686c706f1beb93d07e7ae929dc844fa2948af)\n""}]",0,695659,f7f709db298ddd75636f5d10b33d4b6af3e5af4e,13,4,2,11166,,,0,"Do not remove rhos-release if running leapp unsubscribed.

The option leapp_unsubscribed allows us to run the Leapp
upgrade without need of a subscription (relies on external
workarounds and hacks). As it uses rhos-release underneath
to provide with the RHEL8 repos, we can't get rid of rhos-
release as we were doing when the node was subscribed.

Change-Id: I08abf241ee742622593e5c841db127fcf78c3d13
(cherry picked from commit b66686c706f1beb93d07e7ae929dc844fa2948af)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/59/695659/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/undercloud_os_upgrade.yaml'],1,9725df6dc0d456b3bd3e222ad584b6ee11d8cd9d,, - not leapp_unsubscribed|bool,,1,0
openstack%2Ftacker~master~I4d6907b4da639e62294f07cbc767a176af04337c,openstack/tacker,master,I4d6907b4da639e62294f07cbc767a176af04337c,Allow VNF package upload without policies,MERGED,2019-11-07 05:19:19.000000000,2019-11-27 07:06:32.000000000,2019-11-27 07:05:19.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 31072}]","[{'number': 1, 'created': '2019-11-07 05:19:19.000000000', 'files': ['tacker/common/csar_utils.py', 'tacker/tests/unit/common/test_csar_utils.py', 'tacker/tests/etc/samples/csar_without_policies.zip', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/83bc8468b664ef9be400d3a684f18311f25efd75', 'message': 'Allow VNF package upload without policies\n\nIf you upload a vnf package without policies, currently\nit fails with an error message:\n ""InvalidCSAR: \'NoneType\' object is not iterable"".\n\nThis patch fixes this issue.\n\nCloses-Bug: #1847745\n\nChange-Id: I4d6907b4da639e62294f07cbc767a176af04337c\n'}]",0,693289,83bc8468b664ef9be400d3a684f18311f25efd75,10,4,1,26463,,,0,"Allow VNF package upload without policies

If you upload a vnf package without policies, currently
it fails with an error message:
 ""InvalidCSAR: 'NoneType' object is not iterable"".

This patch fixes this issue.

Closes-Bug: #1847745

Change-Id: I4d6907b4da639e62294f07cbc767a176af04337c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/89/693289/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/common/csar_utils.py', 'tacker/tests/unit/common/test_csar_utils.py', 'tacker/tests/etc/samples/csar_without_policies.zip', 'tacker/conductor/conductor_server.py']",4,83bc8468b664ef9be400d3a684f18311f25efd75,bug/1847745, flavour.get('instantiation_levels'), flavour['instantiation_levels'],17,4
openstack%2Faodh~master~I7901f9a4d871a20d833049db11c39f0270ccc098,openstack/aodh,master,I7901f9a4d871a20d833049db11c39f0270ccc098,Some minor improvements for doc and log,MERGED,2019-11-26 22:23:26.000000000,2019-11-27 06:48:09.000000000,2019-11-27 06:46:54.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 22:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/4d97b20511b2ed05e2f1652845b2c76661bcc663', 'message': 'Some minor improvements for doc and log\n\nChange-Id: I7901f9a4d871a20d833049db11c39f0270ccc098\n'}, {'number': 2, 'created': '2019-11-27 00:32:03.000000000', 'files': ['.gitignore', 'aodh/api/controllers/v2/alarm_rules/composite.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'doc/source/admin/telemetry-alarms.rst', 'aodh/evaluator/event.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/3bb8de94f780a6227e2484cf417ca32440f5b61b', 'message': 'Some minor improvements for doc and log\n\nChange-Id: I7901f9a4d871a20d833049db11c39f0270ccc098\n'}]",0,696199,3bb8de94f780a6227e2484cf417ca32440f5b61b,15,3,2,6732,,,0,"Some minor improvements for doc and log

Change-Id: I7901f9a4d871a20d833049db11c39f0270ccc098
",git fetch https://review.opendev.org/openstack/aodh refs/changes/99/696199/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'aodh/api/controllers/v2/alarm_rules/composite.py', 'doc/source/admin/telemetry-alarms.rst', 'aodh/evaluator/event.py']",4,4d97b20511b2ed05e2f1652845b2c76661bcc663,fix," LOG.info('Aborting evaluation of the alarm %s due to ' 'unmet condition=%s .', alarm.id, condition) LOG.info('Triggering the alarm %s by event for project %s, ' 'event_type: %s', alarm.id, event.project, event.obj.get('event_type')) "," LOG.debug('Aborting evaluation of the alarm due to ' 'unmet condition=%s .', condition)",28,6
openstack%2Ftripleo-common~stable%2Ftrain~I987a6315f92a60dbf9619d4d34d3d92992feba2b,openstack/tripleo-common,stable/train,I987a6315f92a60dbf9619d4d34d3d92992feba2b,Add a healthcheck for ironic-neutron-agent,MERGED,2019-11-26 17:59:10.000000000,2019-11-27 06:25:31.000000000,2019-11-27 06:23:29.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 17:59:10.000000000', 'files': ['healthcheck/ironic-neutron-agent'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5c8229361e896fd06948816b52078cc84b6a32fe', 'message': 'Add a healthcheck for ironic-neutron-agent\n\nChange-Id: I987a6315f92a60dbf9619d4d34d3d92992feba2b\nPartial-Bug: 1848618\n(cherry picked from commit c7dc3ec2519f3003f1a6c263e81a3f94ff517971)\n'}]",0,696146,5c8229361e896fd06948816b52078cc84b6a32fe,8,3,1,21909,,,0,"Add a healthcheck for ironic-neutron-agent

Change-Id: I987a6315f92a60dbf9619d4d34d3d92992feba2b
Partial-Bug: 1848618
(cherry picked from commit c7dc3ec2519f3003f1a6c263e81a3f94ff517971)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/46/696146/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ironic-neutron-agent'],1,5c8229361e896fd06948816b52078cc84b6a32fe,bug/1848618-stable/train,"#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh process='ironic-neutron-agent' args=""${@:-5671 5672}"" if healthcheck_port $process $args; then exit 0 else ports=${args// /,} echo ""There is no $process process with opened RabbitMQ ports ($ports) running in the container"" exit 1 fi ",,14,0
openstack%2Fneutron~master~If1a6a2a174d0f737415efa2abce518722316a77b,openstack/neutron,master,If1a6a2a174d0f737415efa2abce518722316a77b,"Dont schedule Network, respecting network_auto_schedule config",MERGED,2019-11-11 02:52:04.000000000,2019-11-27 06:07:07.000000000,2019-11-27 06:05:13.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-11 02:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/893cc1b26c1adf310cb33ac628191780713244cd', 'message': 'Dont schedule Network, respecting network_auto_schedule config\n\nCurrently, if dhcp mapping from a network is removed, it is reassigned\nto the network. This is because of the Network Scheduler\'s schedule\nfunction, which considers balancing the networks with the agents, whether\nenable_dhcp is set on its subnets or not. It does not take into account\nthe network_auto_schedule config option. This is particularly disturbing\nwhen considering backends which have their provide their own DHCP.\n\nWith this patch, if network_auto_schedule is set to False, networks wont\nbe automatically scheduled to DHCP Agents. If DHCP is to be mapped to a\nnetwork, it can be mapped using the CLI itself.\n\nWhile it may seem that this change is breaking what is already working,\nbut as mentioned earlier, if there are network backends which provide DHCP\nsupport themselves, they wont need the automatic mapping, which the term\n""network_auto_schedule"" actually stands for.\n\nCloses-Bug: #1647421\nChange-Id: If1a6a2a174d0f737415efa2abce518722316a77b\n'}, {'number': 2, 'created': '2019-11-11 03:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbe41c28285d9b0e506930b3723b34b51861f395', 'message': 'Dont schedule Network, respecting network_auto_schedule config\n\nCurrently, if dhcp mapping from a network is removed, it is reassigned\nto the network. This is because of the Network Scheduler\'s schedule\nfunction, which considers balancing the networks with the agents, whether\nenable_dhcp is set on its subnets or not. It does not take into account\nthe network_auto_schedule config option. This is particularly disturbing\nwhen considering backends which have their provide their own DHCP.\n\nWith this patch, if network_auto_schedule is set to False, networks wont\nbe automatically scheduled to DHCP Agents. If DHCP is to be mapped to a\nnetwork, it can be mapped using the CLI itself.\n\nWhile it may seem that this change is breaking what is already working,\nbut as mentioned earlier, if there are network backends which provide DHCP\nsupport themselves, they wont need the automatic mapping, which the term\n""network_auto_schedule"" actually stands for.\n\nCloses-Bug: #1647421\nChange-Id: If1a6a2a174d0f737415efa2abce518722316a77b\n'}, {'number': 3, 'created': '2019-11-19 03:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/366fb343d9d92f0a0e98523325ecf574d8101ad9', 'message': 'Dont schedule Network, respecting network_auto_schedule config\n\nCurrently, if dhcp mapping from a network is removed, it is reassigned\nto the network. This is because of the Network Scheduler\'s schedule\nfunction, which considers balancing the networks with the agents, whether\nenable_dhcp is set on its subnets or not. It does not take into account\nthe network_auto_schedule config option. This is particularly disturbing\nwhen considering backends which have their provide their own DHCP.\n\nWith this patch, if network_auto_schedule is set to False, networks wont\nbe automatically scheduled to DHCP Agents. If DHCP is to be mapped to a\nnetwork, it can be mapped using the CLI itself.\n\nWhile it may seem that this change is breaking what is already working,\nbut as mentioned earlier, if there are network backends which provide DHCP\nsupport themselves, they wont need the automatic mapping, which the term\n""network_auto_schedule"" actually stands for.\n\nCloses-Bug: #1647421\nChange-Id: If1a6a2a174d0f737415efa2abce518722316a77b\n'}, {'number': 4, 'created': '2019-11-25 05:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cad1ff23fe843c0d96d41f8eb1c1cc7885e5b882', 'message': 'Dont schedule Network, respecting network_auto_schedule config\n\nCurrently, if dhcp mapping from a network is removed, it is reassigned\nto the network. This is because of the Network Scheduler\'s schedule\nfunction, which considers balancing the networks with the agents, whether\nenable_dhcp is set on its subnets or not. It does not take into account\nthe network_auto_schedule config option. This is particularly disturbing\nwhen considering backends which have their provide their own DHCP.\n\nWith this patch, if network_auto_schedule is set to False, networks wont\nbe automatically scheduled to DHCP Agents. If DHCP is to be mapped to a\nnetwork, it can be mapped using the CLI itself.\n\nWhile it may seem that this change is breaking what is already working,\nbut as mentioned earlier, if there are network backends which provide DHCP\nsupport themselves, they wont need the automatic mapping, which the term\n""network_auto_schedule"" actually stands for.\n\nCloses-Bug: #1647421\nChange-Id: If1a6a2a174d0f737415efa2abce518722316a77b\n'}, {'number': 5, 'created': '2019-11-26 01:55:06.000000000', 'files': ['releasenotes/notes/modify-dhcp-behavior-based-on-network-auto-schedule-1ea5e74fd5bb560c.yaml', 'neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/139b496ef957364caee6861fd16676cdfb76a38b', 'message': 'Dont schedule Network, respecting network_auto_schedule config\n\nCurrently, if dhcp mapping from a network is removed, it is reassigned\nto the network. This is because of the Network Scheduler\'s schedule\nfunction, which considers balancing the networks with the agents, whether\nenable_dhcp is set on its subnets or not. It does not take into account\nthe network_auto_schedule config option. This is particularly disturbing\nwhen considering backends which have their provide their own DHCP.\n\nWith this patch, if network_auto_schedule is set to False, networks wont\nbe automatically scheduled to DHCP Agents. If DHCP is to be mapped to a\nnetwork, it can be mapped using the CLI itself.\n\nWhile it may seem that this change is breaking what is already working,\nbut as mentioned earlier, if there are network backends which provide DHCP\nsupport themselves, they wont need the automatic mapping, which the term\n""network_auto_schedule"" actually stands for.\n\nCloses-Bug: #1647421\nChange-Id: If1a6a2a174d0f737415efa2abce518722316a77b\n'}]",13,693645,139b496ef957364caee6861fd16676cdfb76a38b,36,11,5,17776,,,0,"Dont schedule Network, respecting network_auto_schedule config

Currently, if dhcp mapping from a network is removed, it is reassigned
to the network. This is because of the Network Scheduler's schedule
function, which considers balancing the networks with the agents, whether
enable_dhcp is set on its subnets or not. It does not take into account
the network_auto_schedule config option. This is particularly disturbing
when considering backends which have their provide their own DHCP.

With this patch, if network_auto_schedule is set to False, networks wont
be automatically scheduled to DHCP Agents. If DHCP is to be mapped to a
network, it can be mapped using the CLI itself.

While it may seem that this change is breaking what is already working,
but as mentioned earlier, if there are network backends which provide DHCP
support themselves, they wont need the automatic mapping, which the term
""network_auto_schedule"" actually stands for.

Closes-Bug: #1647421
Change-Id: If1a6a2a174d0f737415efa2abce518722316a77b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/693645/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py']",2,893cc1b26c1adf310cb33ac628191780713244cd,bug/1647421," def test_network_no_reschedule(self): cfg.CONF.set_override('allow_overlapping_ips', True) cfg.CONF.set_override('network_auto_schedule', False) with self.subnet() as sb1, self.subnet(): network1_id = sb1['subnet']['network_id'] dhcp_rpc_cb = dhcp_rpc.DhcpRpcCallback() self._register_agent_states() hosta_id = self._get_agent_id(constants.AGENT_TYPE_DHCP, DHCP_HOSTA) hostc_id = self._get_agent_id(constants.AGENT_TYPE_DHCP, DHCP_HOSTC) dhcp_rpc_cb.get_active_networks(self.adminContext, host=DHCP_HOSTA) dhcp_rpc_cb.get_active_networks(self.adminContext, host=DHCP_HOSTC) networks = self._list_networks_hosted_by_dhcp_agent(hostc_id) num_hostc_nets = len(networks['networks']) networks = self._list_networks_hosted_by_dhcp_agent(hosta_id) num_hosta_nets = len(networks['networks']) self.assertEqual(0, num_hosta_nets) self.assertEqual(0, num_hostc_nets) # After this patch, network which requires DHCP # has to be manually mapped self._add_network_to_dhcp_agent(hosta_id, network1_id) networks = self._list_networks_hosted_by_dhcp_agent(hosta_id) num_hosta_nets = len(networks['networks']) self.assertEqual(1, num_hosta_nets) ",,28,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I47fd80b43e0fa86b37d019d88e972bfb9000b71f,openstack/tripleo-heat-templates,stable/train,I47fd80b43e0fa86b37d019d88e972bfb9000b71f,[DNM] upgrade failure,ABANDONED,2019-11-25 07:19:31.000000000,2019-11-27 06:03:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 07:19:31.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34b655ff985544c4d1b36d9f3451e939dc4beb1b', 'message': '[DNM] upgrade failure\n\nChange-Id: I47fd80b43e0fa86b37d019d88e972bfb9000b71f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,695842,34b655ff985544c4d1b36d9f3451e939dc4beb1b,4,2,1,12393,,,0,"[DNM] upgrade failure

Change-Id: I47fd80b43e0fa86b37d019d88e972bfb9000b71f
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/695842/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,34b655ff985544c4d1b36d9f3451e939dc4beb1b,dnm_upgrade,,,1,0
openstack%2Fproject-config~master~Idc6a38b555bebb2f69d6de4ef502ee58f010399b,openstack/project-config,master,Idc6a38b555bebb2f69d6de4ef502ee58f010399b,Add missing repos for zuul tenant,MERGED,2019-11-25 07:26:26.000000000,2019-11-27 05:48:55.000000000,2019-11-27 05:48:55.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 16068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 07:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c8c2ba98e60c615d2016424c925ee8569a8b8f98', 'message': 'Add missing repos for zuul tenant\n\nWe have a couple of errors at\nhttps://zuul.opendev.org/t/zuul/config-errors due to missing\nrepositories, add them without config to allow using in\nrequired-projects.\n\nChange-Id: Idc6a38b555bebb2f69d6de4ef502ee58f010399b\n'}, {'number': 2, 'created': '2019-11-27 02:31:47.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a2e20b0985ab6296ca70650081e021b0d10eb55', 'message': 'Add missing repos for zuul tenant\n\nWe have a couple of errors at\nhttps://zuul.opendev.org/t/zuul/config-errors due to missing\nrepositories, add them without config to allow using in\nrequired-projects.\n\nChange-Id: Idc6a38b555bebb2f69d6de4ef502ee58f010399b\n'}]",0,695843,6a2e20b0985ab6296ca70650081e021b0d10eb55,13,5,2,6547,,,0,"Add missing repos for zuul tenant

We have a couple of errors at
https://zuul.opendev.org/t/zuul/config-errors due to missing
repositories, add them without config to allow using in
required-projects.

Change-Id: Idc6a38b555bebb2f69d6de4ef502ee58f010399b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/695843/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,c8c2ba98e60c615d2016424c925ee8569a8b8f98,zuul-errors, - opendev/jeepyb - opendev/zone-opendev.org - openstack/requirements - recordsansible/ara,,4,0
openstack%2Fcharm-mysql-innodb-cluster~master~Icccacd371d4985efad92d38c51dcf21b617bf40f,openstack/charm-mysql-innodb-cluster,master,Icccacd371d4985efad92d38c51dcf21b617bf40f,MySQL InnoDB configuration parameters,MERGED,2019-11-20 23:48:15.000000000,2019-11-27 05:34:51.000000000,2019-11-27 05:34:51.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 23:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/2dc1d5ed0e96d4c1074a0053162d7ab4caf476d2', 'message': 'MySQL InnoDB configuration parameters\n\nBring the mysql-innodb-cluster charm up to feature parity with\npercona-cluster in regards to configuratoin parameters.\n\nReview and merge charmhelpers:\nhttps://github.com/juju/charm-helpers/pull/395\n\nChange-Id: Icccacd371d4985efad92d38c51dcf21b617bf40f\n'}, {'number': 2, 'created': '2019-11-21 20:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/d7f62c95309232a265b13bffeb99687b5b17ccc4', 'message': 'MySQL InnoDB configuration parameters\n\nBring the mysql-innodb-cluster charm up to feature parity with\npercona-cluster in regards to configuratoin parameters.\n\nReview and merge charmhelpers:\nhttps://github.com/juju/charm-helpers/pull/395\n\nChange-Id: Icccacd371d4985efad92d38c51dcf21b617bf40f\n'}, {'number': 3, 'created': '2019-11-22 18:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/1d67550c071e6170703f77d1169a491d177d67a1', 'message': 'MySQL InnoDB configuration parameters\n\nBring the mysql-innodb-cluster charm up to feature parity with\npercona-cluster in regards to configuration parameters.\n\nReview and merge charmhelpers:\nhttps://github.com/juju/charm-helpers/pull/397\n\nChange-Id: Icccacd371d4985efad92d38c51dcf21b617bf40f\n'}, {'number': 4, 'created': '2019-11-25 19:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/8640bb15ab4a875ee2e23e93119f0d0a8c49b548', 'message': 'MySQL InnoDB configuration parameters\n\nBring the mysql-innodb-cluster charm up to feature parity with\npercona-cluster in regards to configuration parameters.\n\nReview and merge charmhelpers:\nhttps://github.com/juju/charm-helpers/pull/397\n\nChange-Id: Icccacd371d4985efad92d38c51dcf21b617bf40f\n'}, {'number': 5, 'created': '2019-11-25 20:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/592a564197746059b2e589feccaa06fe06632c9c', 'message': 'MySQL InnoDB configuration parameters\n\nBring the mysql-innodb-cluster charm up to feature parity with\npercona-cluster in regards to configuration parameters.\n\nReview and merge charmhelpers:\nhttps://github.com/juju/charm-helpers/pull/397\n\nChange-Id: Icccacd371d4985efad92d38c51dcf21b617bf40f\n'}, {'number': 6, 'created': '2019-11-26 19:07:39.000000000', 'files': ['src/config.yaml', 'src/templates/mysqld.cnf', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'wheelhouse-overrides.txt', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/6ee95cf44774a79c0c863fa67517f693e281d724', 'message': 'MySQL InnoDB configuration parameters\n\nBring the mysql-innodb-cluster charm up to feature parity with\npercona-cluster in regards to configuration parameters.\n\nReview and merge charmhelpers:\nhttps://github.com/juju/charm-helpers/pull/397\n\nChange-Id: Icccacd371d4985efad92d38c51dcf21b617bf40f\n'}]",6,695323,6ee95cf44774a79c0c863fa67517f693e281d724,39,5,6,20805,,,0,"MySQL InnoDB configuration parameters

Bring the mysql-innodb-cluster charm up to feature parity with
percona-cluster in regards to configuration parameters.

Review and merge charmhelpers:
https://github.com/juju/charm-helpers/pull/397

Change-Id: Icccacd371d4985efad92d38c51dcf21b617bf40f
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/23/695323/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/mysqld.cnf', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",3,2dc1d5ed0e96d4c1074a0053162d7ab4caf476d2,feature/config-options,"@charms_openstack.adapters.config_property def innodb_flush_log_at_trx_commit_adapter(cls): """"""Determine the value for innodb_flush_log_at_trx_commit. Call the MySQLConfigHelper get_innodb_flush_log_at_trx_commit helper to get the value for innodb_flush_log_at_trx_commit. :param cls: Class :type cls: ConfigurationAdapter class :returns: Numeric innodb_flush_log_at_trx_commit value :rtype: int """""" return mysql.MySQLConfigHelper().get_innodb_flush_log_at_trx_commit() @charms_openstack.adapters.config_property def innodb_change_buffering_adapter(cls): """"""Determine the value for innodb_flush_log_at_trx_commit. Call the MySQLConfigHelper get_innodb_change_buffering helper to get the value for innodb_change_buffering. :param cls: Class :type cls: ConfigurationAdapter class :returns: string innodb_change_buffering value :rtype: str """""" return mysql.MySQLConfigHelper().get_innodb_change_buffering() @charms_openstack.adapters.config_property def innodb_buffer_pool_size_adapter(cls): """"""Determine the value for innodb_flush_log_at_trx_commit. Call the MySQLConfigHelper innodb_buffer_pool_size helper to get the value for innodb_buffer_pool_size_adapter. :param cls: Class :type cls: ConfigurationAdapter class :returns: Numeric innodb_buffer_pool_size value :rtype: int """""" return mysql.MySQLConfigHelper().get_innodb_buffer_pool_size() ",,191,10
openstack%2Ftripleo-heat-templates~master~Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd,openstack/tripleo-heat-templates,master,Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd,Derive Pci passthrough whitelist disable option,MERGED,2019-11-20 10:11:17.000000000,2019-11-27 05:21:17.000000000,2019-11-26 06:43:01.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-20 10:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59b7656521b5f3dff677656884060adfcbffb29b', 'message': 'Derive Pci passthrough whitelist disable option\n\nThis change is to add the option to disable the derive\npci passthrough whitelist automation logic in sriov\ndeployments if required.\n\nChange-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd\nCloses-Bug: #1841041\n'}, {'number': 2, 'created': '2019-11-21 11:23:51.000000000', 'files': ['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/227c516aa2d7de60cec2cc2a77b74221b4c7bc4a', 'message': 'Derive Pci passthrough whitelist disable option\n\nThis change is to add the option to disable the derive\npci passthrough whitelist automation logic in sriov\ndeployments if required.\n\nChange-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd\nCloses-Bug: #1841041\n'}]",0,695160,227c516aa2d7de60cec2cc2a77b74221b4c7bc4a,13,5,2,22865,,,0,"Derive Pci passthrough whitelist disable option

This change is to add the option to disable the derive
pci passthrough whitelist automation logic in sriov
deployments if required.

Change-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd
Closes-Bug: #1841041
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/695160/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'],1,59b7656521b5f3dff677656884060adfcbffb29b,derive-pci-whitelist-disable-option," DerivePciWhitelistEnabled: default: true description: Whether to enable or not the pci passthrought whitelist automation type: boolean tags: - role_specific conditions: derive_pci_whitelist_enabled: or: - and: - equals: [{get_param: DerivePciWhitelistEnabled}, true] - equals: [{get_param: [RoleParameters, DerivePciWhitelistEnabled]}, ''] - equals: [{get_param: [RoleParameters, DerivePciWhitelistEnabled]}, true] - if: - derive_pci_whitelist_enabled - name: ""creating directory"" file: state: directory path: /var/lib/pci_passthrough_whitelist_scripts owner: root group: root mode: 0750 - name: derive pci passthrough whitelist copy: content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py' mode: 0700 - name: run derive_pci_passthrough_whitelist.py command: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py"," - name: ""creating directory"" file: state: directory path: /var/lib/pci_passthrough_whitelist_scripts owner: root group: root mode: 0750 - name: derive pci passthrough whitelist copy: content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py' mode: 0700 - name: run derive_pci_passthrough_whitelist.py command: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py",32,14
openstack%2Fopenstack-helm-addons~master~I63fbb39a9ad6002ee4be46b74b27d36fbd449725,openstack/openstack-helm-addons,master,I63fbb39a9ad6002ee4be46b74b27d36fbd449725,Fix to stop service with lifecycle hookup,MERGED,2019-11-26 19:15:18.000000000,2019-11-27 05:15:37.000000000,2019-11-27 05:15:37.000000000,"[{'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21111}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24999}, {'_account_id': 26686}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-11-26 19:15:18.000000000', 'files': ['ranger/templates/deployment-ranger-services.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0110d39ac24b60a0ca44bed1c1ed556a2c1c0632', 'message': 'Fix to stop service with lifecycle hookup\n\nChange-Id: I63fbb39a9ad6002ee4be46b74b27d36fbd449725\n'}]",0,696168,0110d39ac24b60a0ca44bed1c1ed556a2c1c0632,20,9,1,24999,,,0,"Fix to stop service with lifecycle hookup

Change-Id: I63fbb39a9ad6002ee4be46b74b27d36fbd449725
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/68/696168/1 && git format-patch -1 --stdout FETCH_HEAD,['ranger/templates/deployment-ranger-services.yaml'],1,0110d39ac24b60a0ca44bed1c1ed556a2c1c0632,, - /tmp/ranger-services.sh,,1,0
openstack%2Fneutron~stable%2Ftrain~I044980a98845edc7b0a02e3323a1e62eb54c10c7,openstack/neutron,stable/train,I044980a98845edc7b0a02e3323a1e62eb54c10c7,Set DB retry for quota_enforcement pecan_wsgi hook,MERGED,2019-11-21 06:38:19.000000000,2019-11-27 03:53:57.000000000,2019-11-27 03:52:25.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 20363}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-21 06:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/411339bcb20d8a012d046f2d60428e95cda55d3c', 'message': 'Set DB retry for quota_enforcement pecan_wsgi hook\n\nThe hook starts a DB transaction and should be covered with\nDB retry decorator.\n\nCloses-Bug: #1777965\nCloses-Bug: #1771293\nChange-Id: I044980a98845edc7b0a02e3323a1e62eb54c10c7\n(cherry picked from commit ab286bcdaccb788ab9df3186e0605e93a9b10bbc)\n'}, {'number': 2, 'created': '2019-11-24 09:55:14.000000000', 'files': ['neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/quota/resource_registry.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff810fcd80af8054763b0751e1309944d39bbc81', 'message': 'Set DB retry for quota_enforcement pecan_wsgi hook\n\nThe hook starts a DB transaction and should be covered with\nDB retry decorator.\n\nCloses-Bug: #1777965\nCloses-Bug: #1771293\nChange-Id: I044980a98845edc7b0a02e3323a1e62eb54c10c7\n(cherry picked from commit ab286bcdaccb788ab9df3186e0605e93a9b10bbc)\n'}]",0,695351,ff810fcd80af8054763b0751e1309944d39bbc81,48,7,2,20363,,,0,"Set DB retry for quota_enforcement pecan_wsgi hook

The hook starts a DB transaction and should be covered with
DB retry decorator.

Closes-Bug: #1777965
Closes-Bug: #1771293
Change-Id: I044980a98845edc7b0a02e3323a1e62eb54c10c7
(cherry picked from commit ab286bcdaccb788ab9df3186e0605e93a9b10bbc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/695351/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/quota/resource_registry.py']",2,411339bcb20d8a012d046f2d60428e95cda55d3c,bug/1777965,," Please note that this routine begins a nested transaction, and it is not recommended that this transaction begins within another transaction. For this reason the function will raise a SqlAlchemy exception if such an attempt is made. ",1,5
openstack%2Fceilometer~stable%2Ftrain~Ifc880a138aa0455f3a01c9793e2823c56706ef57,openstack/ceilometer,stable/train,Ifc880a138aa0455f3a01c9793e2823c56706ef57,Imported Translations from Zanata,MERGED,2019-11-15 09:15:59.000000000,2019-11-27 03:36:24.000000000,2019-11-27 03:35:20.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 09:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a8e57b6bfb0e9f6a2d59f01d0c26b746c862b66e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifc880a138aa0455f3a01c9793e2823c56706ef57\n'}, {'number': 2, 'created': '2019-11-26 00:56:34.000000000', 'files': ['ceilometer/locale/en_GB/LC_MESSAGES/ceilometer.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a8b514f1deef9e8ab511e152d0f0b1f45f46c753', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nDepends-On: https://review.opendev.org/#/c/695855/\nChange-Id: Ifc880a138aa0455f3a01c9793e2823c56706ef57\n'}]",0,694486,a8b514f1deef9e8ab511e152d0f0b1f45f46c753,18,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Depends-On: https://review.opendev.org/#/c/695855/
Change-Id: Ifc880a138aa0455f3a01c9793e2823c56706ef57
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/86/694486/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/locale/en_GB/LC_MESSAGES/ceilometer.po'],1,a8e57b6bfb0e9f6a2d59f01d0c26b746c862b66e,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-09-27 17:22+0000\n""""PO-Revision-Date: 2019-11-14 11:10+0000\n""msgid ""Sample Check"" msgstr ""Sample Check"" ","""POT-Creation-Date: 2018-09-19 00:45+0000\n""""PO-Revision-Date: 2017-11-30 10:30+0000\n""",6,2
openstack%2Fsenlin~master~Id036dc7e0750095d4ffbbe91cfc4d655f3c8651f,openstack/senlin,master,Id036dc7e0750095d4ffbbe91cfc4d655f3c8651f,Add Heat and Nova notification topic config,MERGED,2019-11-15 08:15:00.000000000,2019-11-27 03:27:43.000000000,2019-11-27 03:25:30.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-11-15 08:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2898b86cb5a37d90a164a47e216c2d61613210b4', 'message': 'Add Heat and Nova notiifcation topic config\n\nBoth the Heat and Nova topics are fully configurable\nand we can never assume that the topic name is static.\n\nIn addition other services might be consuming these\nqueues.\n\nChange-Id: Id036dc7e0750095d4ffbbe91cfc4d655f3c8651f\n'}, {'number': 2, 'created': '2019-11-15 08:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ec0272f105e2f701b05462d3d543e9852fdce3c2', 'message': 'Add Heat and Nova notification topic config\n\nBoth the Heat and Nova topics are fully configurable\nand we can never assume that the topic name is static.\n\nIn addition other services might be consuming these\nqueues.\n\nChange-Id: Id036dc7e0750095d4ffbbe91cfc4d655f3c8651f\n'}, {'number': 3, 'created': '2019-11-15 18:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c20c2b758d80d919c51193aa8d2fb520490e0345', 'message': 'Add Heat and Nova notification topic config\n\nBoth the Heat and Nova topics are fully configurable\nand we can never assume that the topic name is static.\n\nIn addition other services might be consuming these\nqueues.\n\nChange-Id: Id036dc7e0750095d4ffbbe91cfc4d655f3c8651f\n'}, {'number': 4, 'created': '2019-11-21 20:50:08.000000000', 'files': ['senlin/engine/health_manager.py', 'senlin/common/config.py', 'senlin/tests/unit/engine/test_health_manager.py', 'senlin/engine/notifications/nova_endpoint.py', 'senlin/engine/notifications/heat_endpoint.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3a31cca254d7b80ef9f8fca79c93af87357d4a72', 'message': 'Add Heat and Nova notification topic config\n\nBoth the Heat and Nova topics are fully configurable\nand we can never assume that the topic name is static.\n\nIn addition other services might be consuming these\nqueues.\n\nChange-Id: Id036dc7e0750095d4ffbbe91cfc4d655f3c8651f\n'}]",0,694471,3a31cca254d7b80ef9f8fca79c93af87357d4a72,13,3,4,22623,,,0,"Add Heat and Nova notification topic config

Both the Heat and Nova topics are fully configurable
and we can never assume that the topic name is static.

In addition other services might be consuming these
queues.

Change-Id: Id036dc7e0750095d4ffbbe91cfc4d655f3c8651f
",git fetch https://review.opendev.org/openstack/senlin refs/changes/71/694471/4 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/health_manager.py', 'senlin/common/config.py', 'senlin/tests/unit/engine/test_health_manager.py', 'senlin/engine/notifications/nova_endpoint.py', 'senlin/engine/notifications/heat_endpoint.py']",5,2898b86cb5a37d90a164a47e216c2d61613210b4,notification_config," self.target = messaging.Target( topic=cfg.CONF.health_manager.heat_notification_topic, exchange=cfg.CONF.health_manager.heat_control_exchange, )"," self.exchange = cfg.CONF.health_manager.heat_control_exchange self.target = messaging.Target(topic='notifications', exchange=self.exchange)",27,41
openstack%2Fsenlin~master~I0858af84509356326323fd224498256ff585a150,openstack/senlin,master,I0858af84509356326323fd224498256ff585a150,Removed duplicate notification implementations,MERGED,2019-10-27 06:22:47.000000000,2019-11-27 03:26:44.000000000,2019-11-27 03:25:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-10-27 06:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e0ec4580596922c89483b2ccdffc9a4e65b7788f', 'message': 'Removed duplicate notifactions\n\nWe somehow ended up with duplicate implementations\nfor nova and heat endpoints.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 2, 'created': '2019-10-27 06:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ef999a5ac9974a4044d15bc2cf53d8e2d7c71c9d', 'message': 'Removed duplicate notifications\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 3, 'created': '2019-10-28 17:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2cd2b01d6278fb4d33f166272d4acca4e28f55bf', 'message': 'Removed duplicate notifications\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 4, 'created': '2019-10-28 17:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/38dd80e3550b9547a9dbabeb4574c5c173ec7feb', 'message': 'Removed duplicate notifications\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 5, 'created': '2019-10-28 17:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/07f2f08312a58f2466ff08dd95bf57613dd76929', 'message': 'Removed duplicate notifications\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 6, 'created': '2019-10-30 08:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/37d853dde0a186a55612e818107cbba93507dc4f', 'message': 'Removed duplicate notifications\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 7, 'created': '2019-11-14 22:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/7ccacb2e12c5d622c3be2eb09751de562a10fdb2', 'message': 'Removed duplicate notifications\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 8, 'created': '2019-11-15 06:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e509b1d193a0069fd3229afd24c7a71b71e122db', 'message': 'Removed duplicate notifications\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 9, 'created': '2019-11-15 18:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/09b7b6bae1373c7cb1e927f4650b691181408a48', 'message': 'Removed duplicate notifications\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 10, 'created': '2019-11-15 18:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/0d8aad025db9aa16e6d87af97788b63cced1d077', 'message': 'Removed duplicate notification implementations\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}, {'number': 11, 'created': '2019-11-21 20:50:02.000000000', 'files': ['senlin/engine/notifications/base.py', 'senlin/engine/health_manager.py', 'senlin/tests/unit/engine/notifications/test_nova_endpoint.py', 'senlin/tests/unit/engine/test_health_manager.py', 'senlin/tests/unit/engine/notifications/test_heat_endpoint.py', 'senlin/engine/notifications/nova_endpoint.py', 'senlin/engine/notifications/heat_endpoint.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3d20220f34cab9f958063b556ff6aa1f5573ad19', 'message': 'Removed duplicate notification implementations\n\nWe ended up with duplicate implementations\nfor nova and heat endpoints. This patch\nremoves the duplicates and merges the code.\n\nChange-Id: I0858af84509356326323fd224498256ff585a150\n'}]",3,691504,3d20220f34cab9f958063b556ff6aa1f5573ad19,33,4,11,22623,,,0,"Removed duplicate notification implementations

We ended up with duplicate implementations
for nova and heat endpoints. This patch
removes the duplicates and merges the code.

Change-Id: I0858af84509356326323fd224498256ff585a150
",git fetch https://review.opendev.org/openstack/senlin refs/changes/04/691504/9 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/health_manager.py', 'senlin/tests/unit/engine/test_health_manager.py', 'senlin/engine/notifications/nova_endpoint.py', 'senlin/engine/notifications/heat_endpoint.py']",4,e0ec4580596922c89483b2ccdffc9a4e65b7788f,dup_code," super(HeatNotificationEndpoint, self).__init__( project_id, engine_id, recover_action ) if start == 0 and tag[11:] == self.engine_id: ctx = context.get_service_context(project_id=self.project_id, user_id=payload['user_identity'])"," self.project_id = project_id self.engine_id = engine_id self.recover_action = recover_action if start == 0 and tag[11:]: ctx = context.get_service_context(project=self.project_id, user=payload['user_identity']) enabled = self._check_registry_status(ctx, self.engine_id, cluster_id) if enabled is False: return ",94,176
openstack%2Fsenlin~master~I885df648f32b9d5e159412b388a2b8c86543f360,openstack/senlin,master,I885df648f32b9d5e159412b388a2b8c86543f360,Only log sdk errors when unexpected,MERGED,2019-11-17 23:04:46.000000000,2019-11-27 03:25:29.000000000,2019-11-27 03:25:29.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-11-17 23:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/6106fb51f70154217ccad3d5c0203b0a73af5efe', 'message': ""Only log error on when appropriate\n\nWe don't want to log errors when senlin is doing\nits job. When a node is recovered log it as an\nwarning.\n\nChange-Id: I885df648f32b9d5e159412b388a2b8c86543f360\n""}, {'number': 2, 'created': '2019-11-17 23:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d362cd3cc2bbd331dfb948e21f9831206dc1ec44', 'message': ""Only log sdk errors when unexpected\n\nWe don't want to log errors when senlin is doing\nits job. When something unexpected happens, e.g.\na node was unexpectedly deleted. Log it, but only\nas INFO.\n\nChange-Id: I885df648f32b9d5e159412b388a2b8c86543f360\n""}, {'number': 3, 'created': '2019-11-17 23:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2d5a7d5802964138e11d541bb8a6e3aef3d7ca9c', 'message': ""Only log sdk errors when unexpected\n\nWe don't want to log errors when senlin is doing\nits job.\n\nE.g. when a node was unexpectedly deleted by a user, og it, but only\nas INFO. Since this is just Senlin fixing a user error.\n\nChange-Id: I885df648f32b9d5e159412b388a2b8c86543f360\n""}, {'number': 4, 'created': '2019-11-17 23:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9911e8d39106535ed0b1e1ed72a04973a28c4c32', 'message': ""Only log sdk errors when unexpected\n\nWe don't want to log errors when senlin is doing its job.\n\nE.g. when a node was unexpectedly deleted by a user, log it, but only\nas INFO. Since this is just Senlin fixing an user error.\n\nChange-Id: I885df648f32b9d5e159412b388a2b8c86543f360\n""}, {'number': 5, 'created': '2019-11-21 20:50:13.000000000', 'files': ['senlin/drivers/sdk.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/cc67f82840a5a3f2d816d14418f52cf846830eb4', 'message': ""Only log sdk errors when unexpected\n\nWe don't want to log errors when senlin is doing its job.\n\nE.g. when a node was unexpectedly deleted by a user, log it, but only\nas INFO. Since this is just Senlin fixing an user error.\n\nChange-Id: I885df648f32b9d5e159412b388a2b8c86543f360\n""}]",0,694703,cc67f82840a5a3f2d816d14418f52cf846830eb4,12,3,5,22623,,,0,"Only log sdk errors when unexpected

We don't want to log errors when senlin is doing its job.

E.g. when a node was unexpectedly deleted by a user, log it, but only
as INFO. Since this is just Senlin fixing an user error.

Change-Id: I885df648f32b9d5e159412b388a2b8c86543f360
",git fetch https://review.opendev.org/openstack/senlin refs/changes/03/694703/3 && git format-patch -1 --stdout FETCH_HEAD,['senlin/drivers/sdk.py'],1,6106fb51f70154217ccad3d5c0203b0a73af5efe,warning, if code >= 500: LOG.error(message) else: LOG.warning(message) , LOG.error(six.text_type(ex)),5,1
openstack%2Fsenlin~master~Id9fe4b5e1d1778db86ec2504f585c71fe4d97659,openstack/senlin,master,Id9fe4b5e1d1778db86ec2504f585c71fe4d97659,Update rmq topics to better reflect their purpose,MERGED,2019-11-01 23:02:49.000000000,2019-11-27 03:25:28.000000000,2019-11-27 03:25:28.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 26297}, {'_account_id': 27224}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-11-01 23:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/491ebfe20d00b3a92e179b381a8813eab3a5380f', 'message': 'Update rmq topics to better reflect their purpose\n\nChange-Id: Id9fe4b5e1d1778db86ec2504f585c71fe4d97659\n'}, {'number': 2, 'created': '2019-11-03 02:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/7b314be6c8e468cd1e8d90f0a672be34322fe5b9', 'message': 'Update rmq topics to better reflect their purpose\n\nChange-Id: Id9fe4b5e1d1778db86ec2504f585c71fe4d97659\n'}, {'number': 3, 'created': '2019-11-14 22:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/fc34768dc054e384e427cce40a50778eb4d89bdc', 'message': 'Update rmq topics to better reflect their purpose\n\nChange-Id: Id9fe4b5e1d1778db86ec2504f585c71fe4d97659\n'}, {'number': 4, 'created': '2019-11-21 20:49:48.000000000', 'files': ['senlin/engine/dispatcher.py', 'senlin/tests/unit/api/shared.py', 'senlin/cmd/conductor.py', 'senlin/cmd/engine.py', 'senlin/tests/unit/engine/test_service.py', 'senlin/conductor/service.py', 'senlin/tests/unit/cmd/test_conductor.py', 'senlin/tests/unit/cmd/test_engine.py', 'senlin/common/consts.py', 'senlin/rpc/client.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ecab4245da8e11df143687230255d25b06702ac1', 'message': 'Update rmq topics to better reflect their purpose\n\nChange-Id: Id9fe4b5e1d1778db86ec2504f585c71fe4d97659\n'}]",3,692626,ecab4245da8e11df143687230255d25b06702ac1,21,6,4,22623,,,0,"Update rmq topics to better reflect their purpose

Change-Id: Id9fe4b5e1d1778db86ec2504f585c71fe4d97659
",git fetch https://review.opendev.org/openstack/senlin refs/changes/26/692626/4 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/dispatcher.py', 'senlin/tests/unit/api/shared.py', 'senlin/cmd/conductor.py', 'senlin/cmd/engine.py', 'senlin/tests/unit/engine/test_service.py', 'senlin/conductor/service.py', 'senlin/tests/unit/cmd/test_conductor.py', 'senlin/tests/unit/cmd/test_engine.py', 'senlin/common/consts.py', 'senlin/rpc/client.py']",10,491ebfe20d00b3a92e179b381a8813eab3a5380f,better_topics," self._client = messaging.get_rpc_client(consts.CONDUCTOR_TOPIC,"," self._client = messaging.get_rpc_client(consts.ENGINE_TOPIC,",15,15
openstack%2Fproject-config~master~I066a34a459a2d8144c2faa1c1dd569845ab055cd,openstack/project-config,master,I066a34a459a2d8144c2faa1c1dd569845ab055cd,"Revert ""Disable inap""",MERGED,2019-11-26 21:25:36.000000000,2019-11-27 02:44:43.000000000,2019-11-27 02:44:43.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 21:25:36.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/eb7dae238660724cf49ea151013f82f830c75865', 'message': 'Revert ""Disable inap""\n\nThis reverts commit 97766095089fc6dca34614f71e4b1e62c05f9c9a.\n\nWe\'ve rebuilt the inap mirror with a large local disk. This should be\nbig enough to house our caches and provide the best possible performance\n(local disk is backed against raid\'d ssds).\n\nChange-Id: I066a34a459a2d8144c2faa1c1dd569845ab055cd\n'}]",0,696193,eb7dae238660724cf49ea151013f82f830c75865,7,3,1,4146,,,0,"Revert ""Disable inap""

This reverts commit 97766095089fc6dca34614f71e4b1e62c05f9c9a.

We've rebuilt the inap mirror with a large local disk. This should be
big enough to house our caches and provide the best possible performance
(local disk is backed against raid'd ssds).

Change-Id: I066a34a459a2d8144c2faa1c1dd569845ab055cd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/696193/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,eb7dae238660724cf49ea151013f82f830c75865,enable-inap2, max-servers: 190, max-servers: 0,1,1
openstack%2Fceilometer~stable%2Fstein~Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,openstack/ceilometer,stable/stein,Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,Add loadbalancer resource type.,MERGED,2019-11-22 17:12:35.000000000,2019-11-27 02:42:02.000000000,2019-11-27 02:40:47.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 17:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4611b65f0c1b0953bc444438bc27e5b9a1c618bb', 'message': 'Add loadbalancer resource type.\n\nAdds the loadbalancer resource type for usage\nwith the network.services.lb.* metrics.\n\nChange-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\nCloses-Bug: #1848286\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}, {'number': 2, 'created': '2019-11-25 09:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/42f49527d1fe23e6cad61c71f009b3ac199c979b', 'message': 'Add loadbalancer resource type.\n\nAdds the loadbalancer resource type for usage\nwith the network.services.lb.* metrics.\n\nDepends-On: https://review.opendev.org/#/c/695855/\nChange-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\nCloses-Bug: #1848286\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}, {'number': 3, 'created': '2019-11-26 22:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/32e4e225f5093a1fe75e3ae6b79dffcb3bf809c5', 'message': 'Add loadbalancer resource type.\n\nAdds the loadbalancer resource type for usage\nwith the network.services.lb.* metrics.\n\nDepends-On: https://review.opendev.org/#/c/695855/\nChange-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\nCloses-Bug: #1848286\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}, {'number': 4, 'created': '2019-11-27 00:39:38.000000000', 'files': ['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/18e9bb957b758d4acd82fce1b7eb40af0eaa5b7b', 'message': 'Add loadbalancer resource type.\n\nAdds the loadbalancer resource type for usage\nwith the network.services.lb.* metrics.\n\nDepends-On: https://review.opendev.org/#/c/695855/\nChange-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\nCloses-Bug: #1848286\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}]",0,695728,18e9bb957b758d4acd82fce1b7eb40af0eaa5b7b,16,2,4,2276,,,0,"Add loadbalancer resource type.

Adds the loadbalancer resource type for usage
with the network.services.lb.* metrics.

Depends-On: https://review.opendev.org/#/c/695855/
Change-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f
Closes-Bug: #1848286
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/28/695728/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml']",2,4611b65f0c1b0953bc444438bc27e5b9a1c618bb,bug/1848286, - resource_type: loadbalancer metrics: network.services.lb.outgoing.bytes: network.services.lb.incoming.bytes: network.services.lb.pool: network.services.lb.listener: network.services.lb.member: network.services.lb.health_monitor: network.services.lb.loadbalancer: network.services.lb.total.connections: network.services.lb.active.connections:,,18,0
openstack%2Fceilometer~master~I9ee209410491b3f04259e1a5c62ac20461070ae1,openstack/ceilometer,master,I9ee209410491b3f04259e1a5c62ac20461070ae1,Dynamic pollsters: enable operation on attributes,MERGED,2019-11-15 11:41:07.000000000,2019-11-27 02:25:19.000000000,2019-11-27 02:24:09.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2019-11-15 11:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8952861fb69fb9b171a2f857b80d515dd44bc2ec', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that are extracted in the JSON response that the Dynamic pollster handle. By enabling operators to define transformations on the fly, we can provide even more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the username. With this implementation, one can create configurations in the dynamic pollster to clean that variable. It is as simple as defining ` resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression is the key to be retrieved from the JSON object. The other elements are operations that can be applied to the `value` variable. The value variable is the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\n'}, {'number': 2, 'created': '2019-11-15 11:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/80da362b450659c063ee4094823f8d288dc53c0f', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 3, 'created': '2019-11-15 13:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bff167a0cd0ab3c2c019e2c8598a92a194c842a4', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 4, 'created': '2019-11-15 14:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/55fe47580e914f837bb0460cb48c72038ce83b9c', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 5, 'created': '2019-11-20 19:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/988f1c8d42da6286fce64d30a9b522010a76c4d9', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 6, 'created': '2019-11-21 02:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2d8361c83cdd06fe6a1787c5ecfb8d6842310672', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 7, 'created': '2019-11-21 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/eea5b3e623387fa6151db88e24a3be876ea0993a', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 8, 'created': '2019-11-21 16:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a7cb44972072454e6511b79d9adf2405ec0fc80c', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 9, 'created': '2019-11-26 12:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/95935fd266ebdd262a46a115acb8a6a580d933ae', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 10, 'created': '2019-11-26 13:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b71ccade21d6b606dbddc027306a69bccaa6ab1b', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 11, 'created': '2019-11-26 14:11:44.000000000', 'files': ['doc/source/admin/telemetry-dynamic-pollster.rst', 'ceilometer/polling/dynamic_pollster.py', 'ceilometer/tests/unit/polling/test_dynamic_pollster.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b422e9dd4b5ae2254416e59fb849e67f6447d23b', 'message': 'Dynamic pollsters: enable operation on attributes\n\nThis PR enables the use of python operation to transform the attributes that\n are extracted in the JSON response that the Dynamic pollster handle. By\n enabling operators to define transformations on the fly, we can provide even\n more flexibility for the dynamic pollsters\' system.\n\nOne example of use case is the RadosGW that uses <project_id$project_id> as the\n username. With this implementation, one can create configurations in the\n dynamic pollster to clean that variable. It is as simple as defining\n `resource_id_attribute: ""user | value.split(\'$\')[0].strip()""`\n\nThe operations are separated by `|` symbol. The first element of the expression\n is the key to be retrieved from the JSON object. The other elements are\n operations that can be applied to the `value` variable. The value variable is\n the variable we use to hold the data.\n\nDepends-On: https://review.opendev.org/#/c/693088/\nChange-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}]",8,694519,b422e9dd4b5ae2254416e59fb849e67f6447d23b,31,5,11,28356,,,0,"Dynamic pollsters: enable operation on attributes

This PR enables the use of python operation to transform the attributes that
 are extracted in the JSON response that the Dynamic pollster handle. By
 enabling operators to define transformations on the fly, we can provide even
 more flexibility for the dynamic pollsters' system.

One example of use case is the RadosGW that uses <project_id$project_id> as the
 username. With this implementation, one can create configurations in the
 dynamic pollster to clean that variable. It is as simple as defining
 `resource_id_attribute: ""user | value.split('$')[0].strip()""`

The operations are separated by `|` symbol. The first element of the expression
 is the key to be retrieved from the JSON object. The other elements are
 operations that can be applied to the `value` variable. The value variable is
 the variable we use to hold the data.

Depends-On: https://review.opendev.org/#/c/693088/
Change-Id: I9ee209410491b3f04259e1a5c62ac20461070ae1
Signed-off-by: Rafael Weingrtner <rafael@apache.org>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/19/694519/11 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/telemetry-dynamic-pollster.rst', 'ceilometer/polling/dynamic_pollster.py']",2,8952861fb69fb9b171a2f857b80d515dd44bc2ec,processing_on_value_variable-upstream," keys_and_operations = attribute_key.split(""|"") attribute_key = keys_and_operations[0].strip() value = reduce(operator.getitem, nested_keys, json_object) # We have operations to be execute against the value extracted if len(keys_and_operations) > 1: for operation in keys_and_operations[1::]: # The operation must be performed onto the 'value' variable if 'value' not in operation: raise declarative.DynamicPollsterDefinitionException( ""The attribute field operation [%s] must use the ["" ""value] variable."" % operation, self.pollster_definitions) LOG.debug(""Executing operation [%s] against value[%s]."", operation, value) old_value = value value = eval(operation.strip()) LOG.debug(""Result [%s] of operation [%s] against value [%s]."", old_value, operation, value) return value"," return reduce(operator.getitem, nested_keys, json_object)",66,4
openstack%2Foctavia~stable%2Ftrain~I8e449b19af72d72f6effd52e0a2debb5754a19b3,openstack/octavia,stable/train,I8e449b19af72d72f6effd52e0a2debb5754a19b3,Fix a potential race condition with certs-ramfs,MERGED,2019-11-18 18:17:29.000000000,2019-11-27 02:04:58.000000000,2019-11-27 02:03:21.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 18:17:29.000000000', 'files': ['elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.service', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.init', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.conf', 'releasenotes/notes/fix-certs-ramfs-race-561f355d13fc6d14.yaml', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c1ab033326559f27a489bade083a14164908e2e', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)\n'}]",0,694823,7c1ab033326559f27a489bade083a14164908e2e,13,4,1,11628,,,0,"Fix a potential race condition with certs-ramfs

There is a potential race condition in the start order for the
amphora-agent service and the certs-ramfs service.
This patch configures an explict ordering for the services.

Change-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3
Story: 2006823
Task: 37396
(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/694823/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.service', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.init', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.conf', 'releasenotes/notes/fix-certs-ramfs-race-561f355d13fc6d14.yaml', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service']",5,7c1ab033326559f27a489bade083a14164908e2e,,Before=amphora-agent.service,,19,3
openstack%2Fopenstack-helm~master~Id11292ec0a76dbf659e918833859b9109c07cc18,openstack/openstack-helm,master,Id11292ec0a76dbf659e918833859b9109c07cc18,Adding missing readOnlyRootFilesystem flag for container security context,MERGED,2019-07-16 16:56:01.000000000,2019-11-27 02:02:15.000000000,2019-11-27 02:00:36.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17130}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28471}, {'_account_id': 28543}, {'_account_id': 28618}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-07-16 16:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e3a7c6da8e68d25ec22fd936c80a6bfd43248eed', 'message': 'Removing allowPrivilegeEscalation flag in horizon\nchart since it is already overriden in values.yaml\n\nChange-Id: Id11292ec0a76dbf659e918833859b9109c07cc18\n'}, {'number': 2, 'created': '2019-07-16 16:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8519aa25ecb208b9d1681b10d8225c5574a217e', 'message': 'Removing allowPrivilegeEscalation flag in horizon\nchart since it is already overridden in values.yaml\n\nChange-Id: Id11292ec0a76dbf659e918833859b9109c07cc18\n'}, {'number': 3, 'created': '2019-07-16 21:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0e4cde2c1fa0329816c374e13c1b955c8b22bad8', 'message': 'Removing allowPrivilegeEscalation flag in horizon\nchart since it is already overridden in values.yaml\n\nChange-Id: Id11292ec0a76dbf659e918833859b9109c07cc18\n'}, {'number': 4, 'created': '2019-07-16 22:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5bc8d79f037802c692ef022b8b78722e154ed1ff', 'message': 'Removing allowPrivilegeEscalation flag in horizon\nchart since it is already overridden in values.yaml\n\nChange-Id: Id11292ec0a76dbf659e918833859b9109c07cc18\n'}, {'number': 5, 'created': '2019-11-05 21:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7adbd33adb0e25ea721de10592d3c4716c9fd23d', 'message': 'Adding missing readOnlyRootFilesystem flag for container security context\n\nChange-Id: Id11292ec0a76dbf659e918833859b9109c07cc18\n'}, {'number': 6, 'created': '2019-11-11 07:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4f905d008522cc1e1b5d1b37758ca1ebc42055b5', 'message': 'Adding missing readOnlyRootFilesystem flag for container security context\n\nChange-Id: Id11292ec0a76dbf659e918833859b9109c07cc18\n'}, {'number': 7, 'created': '2019-11-26 20:33:02.000000000', 'files': ['horizon/templates/deployment.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c2bd947787dc516ffbb8be56e6b40cd99f95423e', 'message': 'Adding missing readOnlyRootFilesystem flag for container security context\n\nChange-Id: Id11292ec0a76dbf659e918833859b9109c07cc18\n'}]",11,671109,c2bd947787dc516ffbb8be56e6b40cd99f95423e,46,15,7,29144,,,0,"Adding missing readOnlyRootFilesystem flag for container security context

Change-Id: Id11292ec0a76dbf659e918833859b9109c07cc18
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/09/671109/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/deployment.yaml'],1,e3a7c6da8e68d25ec22fd936c80a6bfd43248eed,,, allowPrivilegeEscalation: false,0,1
openstack%2Fnova~master~Ib8ffb8a3ae3bfdd2cfedd8313b9221945e392141,openstack/nova,master,Ib8ffb8a3ae3bfdd2cfedd8313b9221945e392141,zuul: Remove unnecessary 'tox_install_siblings',MERGED,2019-11-20 16:13:53.000000000,2019-11-27 01:14:28.000000000,2019-11-27 01:07:13.000000000,"[{'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-20 16:13:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/50ad9245f0cafc757cbc254ed27ff4c680731f60', 'message': ""zuul: Remove unnecessary 'tox_install_siblings'\n\nThis it the default value defined by zuul-jobs. There's no need to\nmanually configure it.\n\n[1] https://opendev.org/zuul/zuul-jobs/src/commit/6228b71b071c037f486f4e60b0e064625537d173/roles/tox/defaults/main.yaml#L6\n\nChange-Id: Ib8ffb8a3ae3bfdd2cfedd8313b9221945e392141\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,695235,50ad9245f0cafc757cbc254ed27ff4c680731f60,30,10,1,15334,,,0,"zuul: Remove unnecessary 'tox_install_siblings'

This it the default value defined by zuul-jobs. There's no need to
manually configure it.

[1] https://opendev.org/zuul/zuul-jobs/src/commit/6228b71b071c037f486f4e60b0e064625537d173/roles/tox/defaults/main.yaml#L6

Change-Id: Ib8ffb8a3ae3bfdd2cfedd8313b9221945e392141
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/695235/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,50ad9245f0cafc757cbc254ed27ff4c680731f60,drop-python2-support,, tox_install_siblings: true tox_install_siblings: true,0,2
openstack%2Fnova~master~Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb,openstack/nova,master,Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb,zuul: Make functional job inherit from openstack parents,MERGED,2019-10-14 15:18:35.000000000,2019-11-27 01:12:46.000000000,2019-11-27 01:07:08.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-14 15:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e051ece915b23e68eb8046ce5274e0d57450532', 'message': 'zuul: Make functional job inherit from openstack parents\n\nChange-Id: Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-10-14 15:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59294178fb3a18fbd2bf6cd40a636bd6536a22bf', 'message': 'zuul: Make functional job inherit from openstack parents\n\nChange-Id: Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-10-15 10:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cce66dc9fad387cf88c92476f3d6b757a20351d', 'message': 'zuul: Make functional job inherit from openstack parents\n\nChange-Id: Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-11-14 09:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d8de44bcd010d5b8f02886953df3c863268e05e', 'message': 'zuul: Make functional job inherit from openstack parents\n\nChange-Id: Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2019-11-14 16:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d541319fd7ce1fdd1755d62aa9c0f1874b18745e', 'message': 'zuul: Make functional job inherit from openstack parents\n\nChange-Id: Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2019-11-18 10:32:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a04c5546a4908b49e1a11e04e71a6a9e7bb7ca3', 'message': 'zuul: Make functional job inherit from openstack parents\n\nChange-Id: Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",6,688425,6a04c5546a4908b49e1a11e04e71a6a9e7bb7ca3,117,15,6,15334,,,0,"zuul: Make functional job inherit from openstack parents

Change-Id: Iabbbca8f16bcae8c8240fec65d5f2621ce4a98fb
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/688425/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7e051ece915b23e68eb8046ce5274e0d57450532,drop-python2-support, parent: openstack-tox-functional-py36 parent: openstack-tox-functional-py37 tox_install_siblings: true, parent: openstack-tox nodeset: ubuntu-bionic tox_envlist: functional-py36 parent: openstack-tox nodeset: ubuntu-bionic tox_envlist: functional-py37 python_version: 3.7,3,7
openstack%2Fopenstack-helm-addons~master~Id987f3bb38e257c74db8254096743a61514f3397,openstack/openstack-helm-addons,master,Id987f3bb38e257c74db8254096743a61514f3397,Mini-mirror: Add pod/container security context,MERGED,2019-11-06 18:22:36.000000000,2019-11-27 01:02:00.000000000,2019-11-27 01:02:00.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17130}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 23950}, {'_account_id': 28543}, {'_account_id': 28618}, {'_account_id': 29131}, {'_account_id': 29144}]","[{'number': 1, 'created': '2019-11-06 18:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/dabff5ffd94f32123d68c066cc82c16431cb6a7f', 'message': 'Mini-mirror: Add pod/container security context\n\nThis updates the Mini-mirror chart to include the pod\nsecurity context on the pod template\n\nChange-Id: Id987f3bb38e257c74db8254096743a61514f3397\n'}, {'number': 2, 'created': '2019-11-06 19:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/8c62f99902d71da935976c27269037a2d57d2a7d', 'message': 'Mini-mirror: Add pod/container security context\n\nThis updates the Mini-mirror chart to include the pod\nsecurity context on the pod template\n\nChange-Id: Id987f3bb38e257c74db8254096743a61514f3397\n'}, {'number': 3, 'created': '2019-11-06 22:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c1c89a9f7fb3fda8cced726f62702562b90ff35b', 'message': 'Mini-mirror: Add pod/container security context\n\nThis updates the Mini-mirror chart to include the pod\nsecurity context on the pod template\n\nChange-Id: Id987f3bb38e257c74db8254096743a61514f3397\n'}, {'number': 4, 'created': '2019-11-11 15:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/da446adc5502de6928404c08bcfb63deb0006285', 'message': 'Mini-mirror: Add pod/container security context\n\nThis updates the Mini-mirror chart to include the pod\nsecurity context on the pod template\n\nChange-Id: Id987f3bb38e257c74db8254096743a61514f3397\n'}, {'number': 5, 'created': '2019-11-25 15:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4c1862c90e17195c2bf50db1da70b085205a9847', 'message': 'Mini-mirror: Add pod/container security context\n\nThis updates the Mini-mirror chart to include the pod\nsecurity context on the pod template\n\nChange-Id: Id987f3bb38e257c74db8254096743a61514f3397\n'}, {'number': 6, 'created': '2019-11-26 20:32:53.000000000', 'files': ['mini-mirror/values.yaml', 'mini-mirror/templates/deployment-mini-mirror.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b4a8d1e9e8cb9f79def623d72183e221e6f829a3', 'message': 'Mini-mirror: Add pod/container security context\n\nThis updates the Mini-mirror chart to include the pod\nsecurity context on the pod template\n\nChange-Id: Id987f3bb38e257c74db8254096743a61514f3397\n'}]",3,693229,b4a8d1e9e8cb9f79def623d72183e221e6f829a3,28,14,6,29144,,,0,"Mini-mirror: Add pod/container security context

This updates the Mini-mirror chart to include the pod
security context on the pod template

Change-Id: Id987f3bb38e257c74db8254096743a61514f3397
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/29/693229/5 && git format-patch -1 --stdout FETCH_HEAD,"['mini-mirror/values.yaml', 'mini-mirror/templates/deployment-mini-mirror.yaml']",2,dabff5ffd94f32123d68c066cc82c16431cb6a7f,,"{{ dict ""envAll"" $envAll ""application"" ""mini_mirror"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""mini_mirror"" ""container"" ""mini_mirror_api"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}",,10,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I61df8ba37075231a813b70415b60fadf51c1fb16,openstack/tripleo-heat-templates,stable/train,I61df8ba37075231a813b70415b60fadf51c1fb16,Enable healthcheck for ironic-neutron-agent,MERGED,2019-11-26 17:58:20.000000000,2019-11-27 01:01:58.000000000,2019-11-27 01:01:58.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 17:58:20.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/589490c3325242c6295be5d583698028ab70512a', 'message': 'Enable healthcheck for ironic-neutron-agent\n\nChange-Id: I61df8ba37075231a813b70415b60fadf51c1fb16\nCloses-Bug: 1848618\nDepends-On: https://review.opendev.org/#/c/689291/\n(cherry picked from commit 88daacd0409d572832c89beea288f93a1277cbd6)\n'}]",0,696145,589490c3325242c6295be5d583698028ab70512a,7,4,1,21909,,,0,"Enable healthcheck for ironic-neutron-agent

Change-Id: I61df8ba37075231a813b70415b60fadf51c1fb16
Closes-Bug: 1848618
Depends-On: https://review.opendev.org/#/c/689291/
(cherry picked from commit 88daacd0409d572832c89beea288f93a1277cbd6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/696145/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'],1,589490c3325242c6295be5d583698028ab70512a,bug/1848618-stable/train," healthcheck: {get_attr: [ContainersCommon, healthcheck_rpc_port]}",,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I25d1c534c199f50c82458257d1c24196501c5499,openstack/tripleo-heat-templates,stable/train,I25d1c534c199f50c82458257d1c24196501c5499,Enable recon middleware for swift account/container server,MERGED,2019-11-26 01:53:14.000000000,2019-11-27 00:55:32.000000000,2019-11-27 00:55:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 01:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/914e6e1261ccb4d8567be4c30782a8d7cceea73c', 'message': 'Enable recon middleware for swift account/container server\n\nEnable recon middleware in account server and container server,\nso that we can monitor metrics about swift processes related to\naccount or container using recon api.\n\nChange-Id: I25d1c534c199f50c82458257d1c24196501c5499\nCloses-Bug: #1852530\n'}, {'number': 2, 'created': '2019-11-26 01:55:32.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26338c3e26ec3711b32eb9f3b9c888a39b252816', 'message': 'Enable recon middleware for swift account/container server\n\nEnable recon middleware in account server and container server,\nso that we can monitor metrics about swift processes related to\naccount or container using recon api.\n\nChange-Id: I25d1c534c199f50c82458257d1c24196501c5499\nCloses-Bug: #1852530\n(cherry-picked from commit 927531adb4088919339d8167154b18698d744f1d)\n'}]",0,696003,26338c3e26ec3711b32eb9f3b9c888a39b252816,9,4,2,9816,,,0,"Enable recon middleware for swift account/container server

Enable recon middleware in account server and container server,
so that we can monitor metrics about swift processes related to
account or container using recon api.

Change-Id: I25d1c534c199f50c82458257d1c24196501c5499
Closes-Bug: #1852530
(cherry-picked from commit 927531adb4088919339d8167154b18698d744f1d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/696003/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,914e6e1261ccb4d8567be4c30782a8d7cceea73c,bug/1852530, - recon - recon,,2,0
openstack%2Fnova~stable%2Fstein~I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b,openstack/nova,stable/stein,I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b,Replace time.sleep(10) with service forced_down in tests,MERGED,2019-11-26 19:58:04.000000000,2019-11-27 00:43:22.000000000,2019-11-27 00:35:16.000000000,"[{'_account_id': 4690}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-26 19:58:04.000000000', 'files': ['nova/tests/functional/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92eb45ba5eb413400e1789f09d3739ee8c0b77de', 'message': 'Replace time.sleep(10) with service forced_down in tests\n\nThe server group functional tests are doing time.sleep(10) in order\nto make sure a stopped compute service is considered ""down"" by the nova\ncompute API.\n\nInstead of sleeping, we can set the service as ""forced_down"" to get the\ndesired ""down"" compute service status and avoid unnecessary delays in\nthese tests.\n\nUnnecessary service start() calls are also removed in this change. They\nappear at the end of tests and services are started during each test\nsetUp() and killed during each test tearDown() via the ServiceFixture.\n\nCloses-Bug: #1783565\n\nChange-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b\n(cherry picked from commit 1c93ca82b8fb8e39787020decfe335d45f8732e7)\n(cherry picked from commit a5daa0ddb3129ddd1bea4e85570c047fc2912b1a)\n'}]",0,696175,92eb45ba5eb413400e1789f09d3739ee8c0b77de,11,4,1,6873,,,0,"Replace time.sleep(10) with service forced_down in tests

The server group functional tests are doing time.sleep(10) in order
to make sure a stopped compute service is considered ""down"" by the nova
compute API.

Instead of sleeping, we can set the service as ""forced_down"" to get the
desired ""down"" compute service status and avoid unnecessary delays in
these tests.

Unnecessary service start() calls are also removed in this change. They
appear at the end of tests and services are started during each test
setUp() and killed during each test tearDown() via the ServiceFixture.

Closes-Bug: #1783565

Change-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b
(cherry picked from commit 1c93ca82b8fb8e39787020decfe335d45f8732e7)
(cherry picked from commit a5daa0ddb3129ddd1bea4e85570c047fc2912b1a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/696175/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_server_group.py'],1,92eb45ba5eb413400e1789f09d3739ee8c0b77de,bug/1783565," def _set_forced_down(self, service, forced_down): # Use microversion 2.53 for PUT /os-services/{service_id} force down. with utils.temporary_mutation(self.admin_api, microversion='2.53'): self.admin_api.put_service_force_down(service.service_ref.uuid, forced_down) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True)",import time # Override servicegroup parameters to make the tests run faster _service_down_time = 10 _report_interval = 1 self.flags(service_down_time=self._service_down_time) self.flags(report_interval=self._report_interval) host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() ,20,49
openstack%2Fproject-config~master~I5696ceecbab8a8b7f95c023ebb3f422d8acf3575,openstack/project-config,master,I5696ceecbab8a8b7f95c023ebb3f422d8acf3575,zuul layout: include openstacksdk in zuul tenant for jobs,MERGED,2019-11-26 21:29:51.000000000,2019-11-27 00:39:47.000000000,2019-11-27 00:39:47.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 21:29:51.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0ec384f04e2fd12958042053e3b2b7807c5b7620', 'message': 'zuul layout: include openstacksdk in zuul tenant for jobs\n\nTo allow zuul projects to consume docker images from openstacksdk\njobs.  Similar to I50fc12aac7e8011497e483b77c77981e832c101a\n\nChange-Id: I5696ceecbab8a8b7f95c023ebb3f422d8acf3575\n'}]",0,696194,0ec384f04e2fd12958042053e3b2b7807c5b7620,7,3,1,7118,,,0,"zuul layout: include openstacksdk in zuul tenant for jobs

To allow zuul projects to consume docker images from openstacksdk
jobs.  Similar to I50fc12aac7e8011497e483b77c77981e832c101a

Change-Id: I5696ceecbab8a8b7f95c023ebb3f422d8acf3575
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/696194/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,0ec384f04e2fd12958042053e3b2b7807c5b7620,zuul-share-dib-jobs, - openstack/openstacksdk, - openstack/openstacksdk,1,1
openstack%2Fneutron-specs~master~I82a2bae8c250e6a5749450131c0d602b134fb3a4,openstack/neutron-specs,master,I82a2bae8c250e6a5749450131c0d602b134fb3a4,Toward Convergence of ML2+OVS+DVR and OVN,MERGED,2019-05-10 16:25:25.000000000,2019-11-27 00:38:03.000000000,2019-11-27 00:35:58.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 6593}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 8976}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 10237}, {'_account_id': 11536}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 17799}, {'_account_id': 19307}, {'_account_id': 21798}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 28373}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-05-10 16:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2973b5129f5ad1e7ccee2cd00048545084d922e6', 'message': 'Toward a more complete DVR implementation\n\nThis spec contains an outline of the steps necessary to get to a\nmore complete implementation of DVR.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 2, 'created': '2019-05-28 15:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3f0f65df15b47eabae823fe18780e09666e5d36e', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 3, 'created': '2019-06-04 18:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7139b6c1c68dde2db8c783c1040f0d69211f0d45', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 4, 'created': '2019-06-06 18:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a1ac916ca4917ab00ff60e93be4065faddc035cb', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 5, 'created': '2019-06-06 19:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8019c7b7372a62b60d3b620d979e8a331c35544b', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 6, 'created': '2019-06-06 19:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f41e5f9227725d3419ee499fe15d93c803b8b4a3', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 7, 'created': '2019-06-07 16:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aaec0afb7edd3f47520fc04c6e43d1be1c33559e', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 8, 'created': '2019-06-07 20:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e58a1149e490b43245470cada47816ac23fa552b', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 9, 'created': '2019-06-10 19:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/61e698a643d22071f97b7295ed8237a5450f1183', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 10, 'created': '2019-08-09 20:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fd50b32a8ee1928f4d2c1e90cecf730acb1a3295', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 11, 'created': '2019-09-05 20:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3c9ac4ae0c4d75679f82a3c41d2a191547691953', 'message': '[WIP] Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 12, 'created': '2019-09-24 15:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/208ebc9cd865b6ca3fd7e552d2663f03dde8b267', 'message': 'Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 13, 'created': '2019-10-01 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3eac982c3249c6db99144853fb5e646c58a7db39', 'message': 'Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 14, 'created': '2019-10-01 15:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d4407be9fa3f33984328a38d3cda106b7767e02c', 'message': 'Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 15, 'created': '2019-10-02 00:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/00ae32d27a8abacf3545c08ab683cf70912372d6', 'message': 'Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 16, 'created': '2019-10-16 16:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7867fc93e290b17a5eb5ee634208f7af81d27ef9', 'message': 'Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 17, 'created': '2019-10-24 18:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3e14978270732eef2b9f6d351905e37860999983', 'message': 'Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 18, 'created': '2019-11-22 14:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2420d1834e7ba4981c02e60ab14cf690e14447c8', 'message': 'Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}, {'number': 19, 'created': '2019-11-25 16:49:36.000000000', 'files': ['specs/ussuri/ml2ovs-ovn-convergence.rst', 'specs/ussuri/placeholder.rst', 'specs/train/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/796309e571dcffc86b75ac9ab405904cc7c0c9bb', 'message': 'Toward Convergence of ML2+OVS+DVR and OVN\n\nThis spec outlines the rationale, justification, and plans for\nOVN and ML2+OVS+DVR convergence in neutron.\n\nChange-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4\nRelated-Bug: #1828607\n'}]",84,658414,796309e571dcffc86b75ac9ab405904cc7c0c9bb,121,29,19,4187,,,0,"Toward Convergence of ML2+OVS+DVR and OVN

This spec outlines the rationale, justification, and plans for
OVN and ML2+OVS+DVR convergence in neutron.

Change-Id: I82a2bae8c250e6a5749450131c0d602b134fb3a4
Related-Bug: #1828607
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/14/658414/12 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/dvr-enhancements.rst'],1,2973b5129f5ad1e7ccee2cd00048545084d922e6,bug/1828607,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Toward a More Complete Implementation of DVR ============================================ Include the URL of your launchpad RFE: https://bugs.launchpad.net/neutron/+bug/1828607 In its current state, DVR lacks some functionality that would be of benefit to operators. The spec will discuss these gaps in DVR and suggest potential solutions to fill them. Problem Description =================== In its current state, DVR has the following gaps: * Support for distributed ingress/egress when using IPv6 in conjunction with BGP and/or neutron-dynamic-routing * DVR cannot be cleanly offloaded with smart-NIC technology due to its use of linux namespaces In addition to the above lack of functionality, DVR would also benefit from the following enhancements: * Support for running without network nodes if an operator chooses * Support for distributed DHCP (local DHCP responder) * Support for distributed SNAT Proposed Changes ================ * Distributed ingress/egress for IPv6 * In its current state, DVR supports distributed ingress and egress when using IPv4. When a floating IP is in use, it can either be routed with a /32 host route directly to the fip-xxxxx namespace on the compute node (when using neutron-dynamic-routing) or gratutitous ARP can be sent from the fip-xxxxx namespace for the floating IP. * When IPv6 is used, all cloud ingress and egress traffic is sent through the centralized router. This means that traffic cannot be steered directly to compute nodes. * To address this, distributed ingress/egress (AKA ""fast-exit"") would be implemented for IPv6. This will allow IPv6 packets arriving in the fip-xxxxx namespace to be routed through the appropriate qrouter-xxxxx namespace on the compute node, bypassing the centralized router hosted on a network node. * There is an existing RFE for this, see [1] * Support for smart-NIC offloads * This involves pushing all DVR forwarding policy into OVS and implementing it via OpenFlow. * There is an existing blueprint for this, see [2] * Distributed DHCP * Rather than having DHCP for a given network be answered centrally, OpenFlow rules will be programmed into OVS to provide static, locally generated responses to DHCP requests received on br-int. * The OVS agent would be responsible for programming static response flows. When handling port binding and other operations, the agent already has the information it needs to program static DHCP response rules (MAC address, fixed IP address, network segment, etc.). Making this the responsibility of the OVS agent makes the DHCP agent optional when using ML2+OVS, not just when DVR is in use. * Flesh out details here..... * OVN provides an example of this in action [3] * Distributed SNAT * This involves allowing SNAT to happen directly on the compute node instead of centralizing it on a network node. * To provide proper tenant isolation when using the namespace-based implementation of DVR, SNAT would be performed twice (Insert diagram and explain in detail here) * Open questions: * Should SNAT traffic use the FIP gateway IP as the source address, or should it use an IP address specific to the tenant router? Using the FIP gateway IP seems simpler and does cut down on address usage (although subnet service types does make this less of an issue). On the flip side, an address associated with the router does allow for better scrutiny of network traffic as traffic flows can be tied to a specific project and router. * See [4] for some historical context and details * TODO more details Configuration Impact: * TODO CLI Impact: * TODO API Impact and Required Extensions: * TODO References ========== [1] https://bugs.launchpad.net/neutron/+bug/1774463 [2] https://blueprints.launchpad.net/neutron/+spec/openflow-based-dvr [3] https://blogs.rdoproject.org/2016/08/native-dhcp-support-in-ovn/ [4] https://etherpad.openstack.org/p/boston-dvr ",,108,0
openstack%2Fneutron~stable%2Frocky~I2fef298041c59a03dfd06912764973995b80690c,openstack/neutron,stable/rocky,I2fef298041c59a03dfd06912764973995b80690c,Run revision bump operations en masse,MERGED,2019-11-22 14:35:36.000000000,2019-11-27 00:35:06.000000000,2019-11-27 00:35:05.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11816}, {'_account_id': 11952}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-22 14:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/782f28ef1d4292bda70847c206cb5c8e6230b0b6', 'message': 'Run revision bump operations en masse\n\nRefactored RevisionPlugin to operate upon sets of objects at\nonce.   In the case of ""related"" objects, the bump operation\nno longer makes use of compare-and-swap and instead updates\nversion numbers directly without testing for their previous value.\nThis removes the issue of StaleDataErrors being\nprevalent within the related object update phase, given the assumption\nthat the compare-and-swap logic is only desireable for the primary object\nbeing updated.\n\nChange-Id: I2fef298041c59a03dfd06912764973995b80690c\n(cherry picked from commit d841ce72bfa1ebcdb06f3fd5fba6cc68a4f04cb6)\n(cherry picked from commit 134ab39ee4579951bf24364520bd7ee576b88cfb)\n'}, {'number': 2, 'created': '2019-11-22 14:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53b78844098d1ae974e5ae3165bae553dd55f6cf', 'message': 'Run revision bump operations en masse\n\nRefactored RevisionPlugin to operate upon sets of objects at\nonce.   In the case of ""related"" objects, the bump operation\nno longer makes use of compare-and-swap and instead updates\nversion numbers directly without testing for their previous value.\nThis removes the issue of StaleDataErrors being\nprevalent within the related object update phase, given the assumption\nthat the compare-and-swap logic is only desireable for the primary object\nbeing updated.\n\nChange-Id: I2fef298041c59a03dfd06912764973995b80690c\n(cherry picked from commit 134ab39ee4579951bf24364520bd7ee576b88cfb)\n'}, {'number': 3, 'created': '2019-11-25 18:56:40.000000000', 'files': ['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/db/standard_attr.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ea7911b41a2e35e5f88004d02a659600c9ad4d4', 'message': 'Run revision bump operations en masse\n\nRefactored RevisionPlugin to operate upon sets of objects at\nonce.   In the case of ""related"" objects, the bump operation\nno longer makes use of compare-and-swap and instead updates\nversion numbers directly without testing for their previous value.\nThis removes the issue of StaleDataErrors being\nprevalent within the related object update phase, given the assumption\nthat the compare-and-swap logic is only desireable for the primary object\nbeing updated.\n\nChange-Id: I2fef298041c59a03dfd06912764973995b80690c\n(cherry picked from commit d841ce72bfa1ebcdb06f3fd5fba6cc68a4f04cb6)\n'}]",0,695695,7ea7911b41a2e35e5f88004d02a659600c9ad4d4,37,8,3,11952,,,0,"Run revision bump operations en masse

Refactored RevisionPlugin to operate upon sets of objects at
once.   In the case of ""related"" objects, the bump operation
no longer makes use of compare-and-swap and instead updates
version numbers directly without testing for their previous value.
This removes the issue of StaleDataErrors being
prevalent within the related object update phase, given the assumption
that the compare-and-swap logic is only desireable for the primary object
being updated.

Change-Id: I2fef298041c59a03dfd06912764973995b80690c
(cherry picked from commit d841ce72bfa1ebcdb06f3fd5fba6cc68a4f04cb6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/695695/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/db/standard_attr.py']",3,782f28ef1d4292bda70847c206cb5c8e6230b0b6,inline_revision_bump,"from sqlalchemy.orm import attributes def _set_updated_revision_number(self, revision_number, updated_at): attributes.set_committed_value( self, ""revision_number"", revision_number) attributes.set_committed_value( self, ""updated_at"", updated_at) @property def _effective_standard_attribute_id(self): return self.id @property def _effective_standard_attribute_id(self): return self.standard_attr_id def _set_updated_revision_number(self, revision_number, updated_at): self.standard_attr._set_updated_revision_number( revision_number, updated_at) ",,173,29
openstack%2Fnova~stable%2Frocky~Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d,openstack/nova,stable/rocky,Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d,Fix listing deleted servers with a marker,MERGED,2019-10-23 19:34:17.000000000,2019-11-27 00:34:57.000000000,2019-11-27 00:34:57.000000000,"[{'_account_id': 1916}, {'_account_id': 4690}, {'_account_id': 6593}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9963}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 13478}, {'_account_id': 14595}, {'_account_id': 14892}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-23 19:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e469d231b8fdd12747d63fffe797aaa7a64e0a77', 'message': ""Fix listing deleted servers with a marker\n\nChange I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,\nwhich was backported through to Newton, introduced a regression\nwhen listing deleted servers with a marker because it assumes\nthat if BuildRequestList.get_by_filters does not raise\nMarkerNotFound that the marker was found among the build requests\nand does not account for that get_by_filters method short-circuiting\nif filtering servers with deleted/cleaned/limit=0. The API code\nthen nulls out the marker which means you'll continue to get the\nmarker instance back in the results even though you shouldn't,\nand that can cause an infinite loop in some client-side tooling like\nnova's CLI:\n\n  nova list --deleted --limit -1\n\nThis fixes the bug by raising MarkerNotFound from\nBuildRequestList.get_by_filters if we have a marker but are\nshort-circuiting and returning early from the method based on\nlimit or filters.\n\nChange-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d\nCloses-Bug: #1849409\n(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)\n(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)\n(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)\n""}, {'number': 2, 'created': '2019-10-28 15:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0448d92068f345d6c398ec6099b7d72d6a90c770', 'message': ""Fix listing deleted servers with a marker\n\nChange I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,\nwhich was backported through to Newton, introduced a regression\nwhen listing deleted servers with a marker because it assumes\nthat if BuildRequestList.get_by_filters does not raise\nMarkerNotFound that the marker was found among the build requests\nand does not account for that get_by_filters method short-circuiting\nif filtering servers with deleted/cleaned/limit=0. The API code\nthen nulls out the marker which means you'll continue to get the\nmarker instance back in the results even though you shouldn't,\nand that can cause an infinite loop in some client-side tooling like\nnova's CLI:\n\n  nova list --deleted --limit -1\n\nThis fixes the bug by raising MarkerNotFound from\nBuildRequestList.get_by_filters if we have a marker but are\nshort-circuiting and returning early from the method based on\nlimit or filters.\n\nConflicts:\n\n  nova/tests/functional/regressions/test_bug_1849409.py\n\nNOTE(mriedem): The conflict is due to the Rocky-specific change\nto the functional test in I324193129acb6ac739133c7e76920762a8987a84\ndue to test_concurrent_request_server_group_members_over_quota leaking\ndeleted servers for some reason.\n\nChange-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d\nCloses-Bug: #1849409\n(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)\n(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)\n(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)\n""}, {'number': 3, 'created': '2019-10-28 16:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f88b4bef638130359438ef486b8824eb92fb2ad', 'message': ""Fix listing deleted servers with a marker\n\nChange I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,\nwhich was backported through to Newton, introduced a regression\nwhen listing deleted servers with a marker because it assumes\nthat if BuildRequestList.get_by_filters does not raise\nMarkerNotFound that the marker was found among the build requests\nand does not account for that get_by_filters method short-circuiting\nif filtering servers with deleted/cleaned/limit=0. The API code\nthen nulls out the marker which means you'll continue to get the\nmarker instance back in the results even though you shouldn't,\nand that can cause an infinite loop in some client-side tooling like\nnova's CLI:\n\n  nova list --deleted --limit -1\n\nThis fixes the bug by raising MarkerNotFound from\nBuildRequestList.get_by_filters if we have a marker but are\nshort-circuiting and returning early from the method based on\nlimit or filters.\n\nConflicts:\n\n  nova/tests/functional/regressions/test_bug_1849409.py\n\nNOTE(mriedem): The conflict is due to the Rocky-specific change\nto the functional test in I324193129acb6ac739133c7e76920762a8987a84\ndue to test_concurrent_request_server_group_members_over_quota leaking\ndeleted servers for some reason.\n\nChange-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d\nCloses-Bug: #1849409\n(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)\n(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)\n(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)\n""}, {'number': 4, 'created': '2019-10-29 19:25:47.000000000', 'files': ['nova/objects/build_request.py', 'nova/tests/functional/regressions/test_bug_1849409.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c84846dbf93588e5420b3565d163c0393443e6d6', 'message': ""Fix listing deleted servers with a marker\n\nChange I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,\nwhich was backported through to Newton, introduced a regression\nwhen listing deleted servers with a marker because it assumes\nthat if BuildRequestList.get_by_filters does not raise\nMarkerNotFound that the marker was found among the build requests\nand does not account for that get_by_filters method short-circuiting\nif filtering servers with deleted/cleaned/limit=0. The API code\nthen nulls out the marker which means you'll continue to get the\nmarker instance back in the results even though you shouldn't,\nand that can cause an infinite loop in some client-side tooling like\nnova's CLI:\n\n  nova list --deleted --limit -1\n\nThis fixes the bug by raising MarkerNotFound from\nBuildRequestList.get_by_filters if we have a marker but are\nshort-circuiting and returning early from the method based on\nlimit or filters.\n\nConflicts:\n\n  nova/tests/functional/regressions/test_bug_1849409.py\n\nNOTE(mriedem): The conflict is due to the Rocky-specific change\nto the functional test in I324193129acb6ac739133c7e76920762a8987a84\ndue to test_concurrent_request_server_group_members_over_quota leaking\ndeleted servers for some reason.\n\nChange-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d\nCloses-Bug: #1849409\n(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)\n(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)\n(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)\n""}]",0,690721,c84846dbf93588e5420b3565d163c0393443e6d6,58,14,4,6873,,,0,"Fix listing deleted servers with a marker

Change I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,
which was backported through to Newton, introduced a regression
when listing deleted servers with a marker because it assumes
that if BuildRequestList.get_by_filters does not raise
MarkerNotFound that the marker was found among the build requests
and does not account for that get_by_filters method short-circuiting
if filtering servers with deleted/cleaned/limit=0. The API code
then nulls out the marker which means you'll continue to get the
marker instance back in the results even though you shouldn't,
and that can cause an infinite loop in some client-side tooling like
nova's CLI:

  nova list --deleted --limit -1

This fixes the bug by raising MarkerNotFound from
BuildRequestList.get_by_filters if we have a marker but are
short-circuiting and returning early from the method based on
limit or filters.

Conflicts:

  nova/tests/functional/regressions/test_bug_1849409.py

NOTE(mriedem): The conflict is due to the Rocky-specific change
to the functional test in I324193129acb6ac739133c7e76920762a8987a84
due to test_concurrent_request_server_group_members_over_quota leaking
deleted servers for some reason.

Change-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d
Closes-Bug: #1849409
(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)
(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)
(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/690721/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/build_request.py', 'nova/tests/functional/regressions/test_bug_1849409.py']",2,e469d231b8fdd12747d63fffe797aaa7a64e0a77,bug/1849409," self.assertEqual(0, len(servers), servers)"," # FIXME(mriedem): This is bug 1849409 where the marker param is not # honored correctly when using deleted=True. self.assertEqual(1, len(servers), servers)",8,8
openstack%2Fkarbor~master~I8be62bb00e70dacd174e7fa3bd65489fb63488ab,openstack/karbor,master,I8be62bb00e70dacd174e7fa3bd65489fb63488ab,Use trustee project_name instead of fixed value,MERGED,2019-11-03 03:17:37.000000000,2019-11-27 00:25:49.000000000,2019-11-14 10:43:43.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-03 03:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c4f84e19c8c1a6452b70c7bba9df7da0253f3bf3', 'message': 'Use trustee project_name instead of fixed value\n\nCurrently, when the default project name for openstack\nservices is not ""service"", it will fail when listing\nprotectable resources. This patch using trustee.project_name\nto replace it.\n\nChange-Id: I8be62bb00e70dacd174e7fa3bd65489fb63488ab\nStory: 2006797\nTask: 37343\n'}, {'number': 2, 'created': '2019-11-14 06:24:58.000000000', 'files': ['karbor/common/karbor_keystone_plugin.py', 'karbor/tests/unit/common/test_karbor_keystone_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/82f07c14b6a1c5a9303e37001e85cc30df796dcc', 'message': 'Use trustee project_name instead of fixed value\n\nCurrently, when the default project name for openstack\nservices is not ""service"", it will fail when listing\nprotectable resources. This patch using trustee.project_name\nto replace it.\n\nStory: 2006797\nTask: 37343\n\nChange-Id: I8be62bb00e70dacd174e7fa3bd65489fb63488ab\n'}]",0,692692,82f07c14b6a1c5a9303e37001e85cc30df796dcc,11,3,2,21224,,,0,"Use trustee project_name instead of fixed value

Currently, when the default project name for openstack
services is not ""service"", it will fail when listing
protectable resources. This patch using trustee.project_name
to replace it.

Story: 2006797
Task: 37343

Change-Id: I8be62bb00e70dacd174e7fa3bd65489fb63488ab
",git fetch https://review.opendev.org/openstack/karbor refs/changes/92/692692/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/common/karbor_keystone_plugin.py', 'karbor/tests/unit/common/test_karbor_keystone_plugin.py']",2,c4f84e19c8c1a6452b70c7bba9df7da0253f3bf3,defautl-service,"from oslo_config import cfg from oslo_config import fixture plugin_config = cfg.ConfigOpts() plugin_config_fixture = self.useFixture(fixture.Config(plugin_config)) plugin_config_fixture.load_raw_values( group='trustee', poll_interval=0, ) cfg.CONF.set_default('project_name', 'services', ""trustee"") def test_service_auth_plugin_with_project_name(self): self.assertEqual(self.kc_plugin.service_auth_plugin._project_name, 'services')",,17,1
openstack%2Ftripleo-ansible~master~I722cb8faa3b7eee81b418da83451bf802351dd79,openstack/tripleo-ansible,master,I722cb8faa3b7eee81b418da83451bf802351dd79,tripleo-container-manage: create ansible-managed dropin file,MERGED,2019-11-26 17:10:37.000000000,2019-11-27 00:13:56.000000000,2019-11-27 00:13:55.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 17:10:37.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db1b13c962fc74ec7be9981d8e6f6af237afd3f5', 'message': 'tripleo-container-manage: create ansible-managed dropin file\n\nIf a deployment has containers managed by tripleo-ansible and not\npaunch, and an operator would try to run paunch on the host, we want to\nsend a warning because paunch will remove all containers managed by\ntripleo-ansible and then redeploy the containers with managed_by=paunch.\n\nWe could change the default of manage_by in Paunch (currently\nmanaged_by=paunch) to something else e.g. tripleo, which would also be\nthe managed_by of tripleo-ansible; so both paunch and tripleo-ansible\ncould be used on the same host. However, we decided that when\ntripleo-ansible is used to deploy the containers, paunch could not be\nused anymore on that host.\n\nTherefore, we create a file that will be checked by paunch and if\npresent, paunch CLI will show a warning.\n\nChange-Id: I722cb8faa3b7eee81b418da83451bf802351dd79\n'}]",0,696135,db1b13c962fc74ec7be9981d8e6f6af237afd3f5,8,4,1,3153,,,0,"tripleo-container-manage: create ansible-managed dropin file

If a deployment has containers managed by tripleo-ansible and not
paunch, and an operator would try to run paunch on the host, we want to
send a warning because paunch will remove all containers managed by
tripleo-ansible and then redeploy the containers with managed_by=paunch.

We could change the default of manage_by in Paunch (currently
managed_by=paunch) to something else e.g. tripleo, which would also be
the managed_by of tripleo-ansible; so both paunch and tripleo-ansible
could be used on the same host. However, we decided that when
tripleo-ansible is used to deploy the containers, paunch could not be
used anymore on that host.

Therefore, we create a file that will be checked by paunch and if
present, paunch CLI will show a warning.

Change-Id: I722cb8faa3b7eee81b418da83451bf802351dd79
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/696135/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml'],1,db1b13c962fc74ec7be9981d8e6f6af237afd3f5,warning_paunch,"- name: Create ansible-managed dropin file copy: dest: ""{{ tripleo_container_manage_config | dirname }}/.ansible-managed"" content: | Containers are managed by the tripleo-container-manage role in tripleo-ansible project. This file is used by paunch to show a warning if paunch is used against a deployment done with tripleo-container-manage. ",,8,0
openstack%2Fopenstack-helm~master~If8246450f8ebd62a0c5999f832ec59796355ee78,openstack/openstack-helm,master,If8246450f8ebd62a0c5999f832ec59796355ee78,Implement Security Context for Neutron,MERGED,2019-11-05 00:13:07.000000000,2019-11-26 23:55:53.000000000,2019-11-26 23:54:14.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17130}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 29131}, {'_account_id': 29144}]","[{'number': 1, 'created': '2019-11-05 00:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/970c35876e3101b1f3099ec88690573b16a9eafe', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 2, 'created': '2019-11-05 00:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/787a98b53d6286bc0ce9b5819eee32fdd7dcf607', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 3, 'created': '2019-11-05 01:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/abce16533da5b802734d873cd7dde2530c423696', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 4, 'created': '2019-11-05 02:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9aa1ff63b182d96448192db0d21aa9da13b79dbf', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 5, 'created': '2019-11-05 03:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7f42d271eca10c94cc8bc6362a78260a1e059b7', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 6, 'created': '2019-11-05 07:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/55c9ae62aec8b9bf63af26c36f93100cb45ea129', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 7, 'created': '2019-11-05 19:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3199d023a62f39d6df71500c17effba6fbd65070', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 8, 'created': '2019-11-05 19:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1889fcfc238156f8716478f229adb5d506aba81', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 9, 'created': '2019-11-05 19:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6b645228e5916b7881a8b33eb8381e848359afa8', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 10, 'created': '2019-11-05 20:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dbe6b6d3dcbd1511affbb114c27ad2a24cca5fc6', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 11, 'created': '2019-11-05 21:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84a8d8541f4da7e5f7f81a143d6c86b3e64976e5', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 12, 'created': '2019-11-05 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5dbf8a675c9a05fccaeff8dc233b4cca9b94e909', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 13, 'created': '2019-11-06 15:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4f92ac7f022572a14664e277c288480407a383ef', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 14, 'created': '2019-11-06 16:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/51497d2a11c0f2614d50d3507abdb7697efe7394', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 15, 'created': '2019-11-06 17:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/41c6b75e1bc6e1a9e7fc2f37b5bf4704363a3721', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 16, 'created': '2019-11-07 05:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df155a62e8f941ef6c0ac3bc1610434fe3035f15', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 17, 'created': '2019-11-07 06:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4aef80ccf38ed3bf1434821baec2104b70b49f80', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 18, 'created': '2019-11-07 07:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33eba2aec99b46532515560437283f4d445efdf8', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 19, 'created': '2019-11-07 14:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a02472b27ad993ce334fed84a4d002d41062e7bf', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 20, 'created': '2019-11-07 15:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f4b388c5ce640ffd47a1b941504bd1e7255ac51b', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 21, 'created': '2019-11-07 18:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0479accac12b69e1cdc23b0b3474c55617b44ec8', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 22, 'created': '2019-11-07 20:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/476195742e2a1b0c974eaa1fca7f8f21fb5d8487', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 23, 'created': '2019-11-07 22:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4743f46003be7c477d08c2ab7906b664ed38b99', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 24, 'created': '2019-11-08 00:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e28b4dff027dede887dfa9f66b28a4d525ce8d47', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 25, 'created': '2019-11-08 00:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f173e581ec8b2c1d88e85698e4adf9a7e3cf354d', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 26, 'created': '2019-11-08 00:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b4ae964413077fd65a704aefe2c81654a2c662ba', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 27, 'created': '2019-11-08 00:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb73196ba43d0de71a8185b312d82eac8f391b45', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 28, 'created': '2019-11-08 01:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dccaac97bb1da67e7dbf6f39cb27c743e2e31868', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 29, 'created': '2019-11-08 02:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f83320fc9cdd27330a16b90b79e121635cb8a807', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 30, 'created': '2019-11-08 02:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/995c018447759e17f2346c9c9b8d3f23f577a4c2', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}, {'number': 31, 'created': '2019-11-26 20:32:28.000000000', 'files': ['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-metadata-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bea5c63d4d42da8d38080eca7ac0406c371d90f5', 'message': 'Implement Security Context for Neutron\n\nImplement container security context for the following Nova resources:\n - Neutron metadata_agent\n - Neutron ovs_agent\n\nChange-Id: If8246450f8ebd62a0c5999f832ec59796355ee78\n'}]",0,692934,bea5c63d4d42da8d38080eca7ac0406c371d90f5,76,13,31,29144,,,0,"Implement Security Context for Neutron

Implement container security context for the following Nova resources:
 - Neutron metadata_agent
 - Neutron ovs_agent

Change-Id: If8246450f8ebd62a0c5999f832ec59796355ee78
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/692934/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-metadata-agent.yaml']",3,970c35876e3101b1f3099ec88690573b16a9eafe,,"{{ dict ""envAll"" $envAll ""application"" ""neutron"" ""container"" ""neutron_metadata_agent_init"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}{{ dict ""envAll"" $envAll ""application"" ""neutron"" ""container"" ""neutron_metadata_agent"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}", securityContext: runAsUser: 0 securityContext: privileged: true,26,14
openstack%2Frequirements~master~I2fea7663fe59a7c049abcbb0ddd3aa3c072fc02d,openstack/requirements,master,I2fea7663fe59a7c049abcbb0ddd3aa3c072fc02d,update constraint for aodhclient to new release 1.5.0,MERGED,2019-11-26 17:02:10.000000000,2019-11-26 23:05:38.000000000,2019-11-26 23:04:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 17:02:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d8d2816c2c90d0833ee9cb043e332909679222cd', 'message': 'update constraint for aodhclient to new release 1.5.0\n\nChange-Id: I2fea7663fe59a7c049abcbb0ddd3aa3c072fc02d\nmeta:version: 1.5.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: Iee74c6e04db4e1d76c6f6b9347ca5fde853dddbc\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,696131,d8d2816c2c90d0833ee9cb043e332909679222cd,7,2,1,11131,,,0,"update constraint for aodhclient to new release 1.5.0

Change-Id: I2fea7663fe59a7c049abcbb0ddd3aa3c072fc02d
meta:version: 1.5.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: Iee74c6e04db4e1d76c6f6b9347ca5fde853dddbc
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/696131/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d8d2816c2c90d0833ee9cb043e332909679222cd,new-release,aodhclient===1.5.0,aodhclient===1.4.0,1,1
openstack%2Fheat~master~I4516739685496c8af078dfa19b8551024e9c1989,openstack/heat,master,I4516739685496c8af078dfa19b8551024e9c1989,Adding a Congress Datasource Resource,ABANDONED,2017-02-27 18:08:46.000000000,2019-11-26 22:45:29.000000000,,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 5792}, {'_account_id': 8289}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-02-27 18:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b4e46d769bbb374bc5c38a8e650b53c91e81309e', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 2, 'created': '2017-02-27 20:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a1e790c201fee96e62097414676e7f531968931a', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 3, 'created': '2017-02-28 01:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bedba03e820185973cde17df761c30a969b1f0db', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 4, 'created': '2017-02-28 02:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d286cb65624fdba3fb223af4cba853a7577561a6', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 5, 'created': '2017-02-28 02:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4277e89456c51f7ebad81f8918ed8a4078b7a5ad', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 6, 'created': '2017-08-22 15:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f0febecaa93fee34d19f988e38e28f887102620f', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 7, 'created': '2017-08-22 15:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/da4f9ffe730c8d035a574c8f487759c5fa8e8170', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 8, 'created': '2017-08-22 18:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/54f16c1b844815ba180a3437c161689ef4abd52b', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 9, 'created': '2017-08-23 13:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3869754cd73483ef0cffd193dbb6a8480cec132d', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 10, 'created': '2017-08-23 16:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9c62df66ff91c2d0b90c536d2b115d5957431a67', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 11, 'created': '2017-08-23 18:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/659906b2480b2f2bdb86a4e749d9b1c21199a8f3', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 12, 'created': '2017-08-25 15:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/46c6d8a15fa8b123117bfb1eec38d5223944e5c8', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}, {'number': 13, 'created': '2017-08-28 14:12:12.000000000', 'files': ['heat/engine/resources/openstack/congress/datasource.py', 'heat/engine/resources/openstack/congress/__init__.py', 'requirements.txt', 'heat/engine/clients/os/congress.py', 'setup.cfg', 'heat/tests/clients/test_clients.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/53e87c93a7a861da812052b3153becac72e8a397', 'message': 'Adding a Congress Datasource Resource\n\nChange-Id: I4516739685496c8af078dfa19b8551024e9c1989\n'}]",41,438659,53e87c93a7a861da812052b3153becac72e8a397,37,5,13,5792,,,0,"Adding a Congress Datasource Resource

Change-Id: I4516739685496c8af078dfa19b8551024e9c1989
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/438659/8 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/congress/datasource.py', 'heat/engine/resources/openstack/congress/__init__.py']",2,b4e46d769bbb374bc5c38a8e650b53c91e81309e,congress-ds,,,186,0
openstack%2Fpuppet-glance~stable%2Ftrain~I4f3ec9ee7c4147a4e62de961a9532bdc45526f6b,openstack/puppet-glance,stable/train,I4f3ec9ee7c4147a4e62de961a9532bdc45526f6b,Update the method of configuring glance backends,MERGED,2019-11-22 19:19:59.000000000,2019-11-26 22:44:44.000000000,2019-11-26 22:43:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 19:19:59.000000000', 'files': ['manifests/backend/multistore/vsphere.pp', 'releasenotes/notes/add-enabled_backends-b7b2ab71eed5f7c6.yaml', 'manifests/backend/cinder.pp', 'manifests/backend/file.pp', 'manifests/backend/multistore/rbd.pp', 'manifests/backend/swift.pp', 'spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/api.pp', 'manifests/backend/multistore/cinder.pp', 'spec/defines/glance_backend_multistore_vsphere_spec.rb', 'spec/defines/glance_backend_multistore_file_spec.rb', 'manifests/backend/multistore/file.pp', 'spec/classes/glance_backend_s3_spec.rb', 'spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/rbd.pp', 'manifests/backend/s3.pp', 'spec/classes/glance_api_spec.rb', 'manifests/backend/multistore/swift.pp', 'manifests/backend/vsphere.pp', 'spec/defines/glance_backend_multistore_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/69c10c44441028574827e77379bd2d36f3dd5dd5', 'message': ""Update the method of configuring glance backends\n\nThis patch updates the method of configuring glance backends to use the\nmodern syntax associated with glance's Multi Store feature. Glance's\nglance_store/stores and glance_store/default_store parameters were\ndeprecated in Rocky, and are scheduled for removal in Ussuri.\n\nBackends are now specified using new glance::api::enabled_backends and\nglance::api::default_backend parameters. A series of\nglance::backend::multistore::* defined resources support configuring\nmultiple instances of each backend.\n\nThe legacy glance::api::stores and glance::api::default_store parameters,\nas well as the glance::backend::* class resources, are deprecated, but\ncontinue to function for backward compatibility.\n\nThe glance::backend::s3 class is completely deprecated. Glance removed\nsupport for the s3 backend in Newton.\n\nCloses-Bug: #1846808\nChange-Id: I4f3ec9ee7c4147a4e62de961a9532bdc45526f6b\n(cherry picked from commit fd02761c6e634100ce4583c88a092f2958742ae7)\n""}]",0,695754,69c10c44441028574827e77379bd2d36f3dd5dd5,13,5,1,21129,,,0,"Update the method of configuring glance backends

This patch updates the method of configuring glance backends to use the
modern syntax associated with glance's Multi Store feature. Glance's
glance_store/stores and glance_store/default_store parameters were
deprecated in Rocky, and are scheduled for removal in Ussuri.

Backends are now specified using new glance::api::enabled_backends and
glance::api::default_backend parameters. A series of
glance::backend::multistore::* defined resources support configuring
multiple instances of each backend.

The legacy glance::api::stores and glance::api::default_store parameters,
as well as the glance::backend::* class resources, are deprecated, but
continue to function for backward compatibility.

The glance::backend::s3 class is completely deprecated. Glance removed
support for the s3 backend in Newton.

Closes-Bug: #1846808
Change-Id: I4f3ec9ee7c4147a4e62de961a9532bdc45526f6b
(cherry picked from commit fd02761c6e634100ce4583c88a092f2958742ae7)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/54/695754/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/multistore/vsphere.pp', 'releasenotes/notes/add-enabled_backends-b7b2ab71eed5f7c6.yaml', 'manifests/backend/cinder.pp', 'manifests/backend/file.pp', 'manifests/backend/multistore/rbd.pp', 'manifests/backend/swift.pp', 'spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/api.pp', 'manifests/backend/multistore/cinder.pp', 'spec/defines/glance_backend_multistore_vsphere_spec.rb', 'spec/defines/glance_backend_multistore_file_spec.rb', 'manifests/backend/multistore/file.pp', 'spec/classes/glance_backend_s3_spec.rb', 'spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/rbd.pp', 'manifests/backend/s3.pp', 'spec/classes/glance_api_spec.rb', 'manifests/backend/multistore/swift.pp', 'manifests/backend/vsphere.pp', 'spec/defines/glance_backend_multistore_rbd_spec.rb']",20,69c10c44441028574827e77379bd2d36f3dd5dd5,bug/1846808,"# # Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Unit tests for glance::backend::multistore::rbd # require 'spec_helper' describe 'glance::backend::multistore::rbd' do let (:title) { 'rbd' } shared_examples 'glance::backend::multistore::rbd' do context 'with default params' do it { should contain_glance_api_config('rbd/store_description').with_value('<SERVICE DEFAULT>') } it { should contain_glance_api_config('rbd/rbd_store_pool').with_value('<SERVICE DEFAULT>') } it { should contain_glance_api_config('rbd/rbd_store_ceph_conf').with_value('<SERVICE DEFAULT>') } it { should contain_glance_api_config('rbd/rbd_store_chunk_size').with_value('<SERVICE DEFAULT>') } it { should contain_glance_api_config('rbd/rados_connect_timeout').with_value('<SERVICE DEFAULT>')} it { should contain_glance_api_config('rbd/rbd_store_user').with_value('<SERVICE DEFAULT>')} it { should contain_package('python-ceph').with( :name => platform_params[:pyceph_package_name], :ensure => 'present' )} end context 'when passing params' do let :params do { :store_description => 'My rbd store', :rbd_store_user => 'user', :rbd_store_chunk_size => '2', :package_ensure => 'latest', :rados_connect_timeout => '30', } end it { should contain_glance_api_config('rbd/store_description').with_value('My rbd store') } it { should contain_glance_api_config('rbd/rbd_store_user').with_value('user') } it { should contain_glance_api_config('rbd/rbd_store_chunk_size').with_value('2') } it { should contain_glance_api_config('rbd/rados_connect_timeout').with_value('30')} it { should contain_package('python-ceph').with( :name => platform_params[:pyceph_package_name], :ensure => 'latest' )} end context 'when not managing packages' do let :params do { :manage_packages => false, } end it { should_not contain_package('python-ceph') } end end shared_examples 'glance::backend::multistore::rbd on RedHat' do context 'when el6' do before do facts.merge!( :operatingsystemrelease => '6.5' ) end it { should contain_package('python-ceph').with( :name => 'python-ceph', :ensure => 'present' )} end context 'when el7' do before do facts.merge!( :operatingsystemrelease => '7.0' ) end it { should contain_package('python-ceph').with( :name => 'python-rbd', :ensure => 'present' )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end let(:platform_params) do case facts[:osfamily] when 'Debian' if facts[:os_package_type] == 'debian' { :pyceph_package_name => 'python3-ceph' } else { :pyceph_package_name => 'python3-rbd' } end when 'RedHat' { :pyceph_package_name => 'python-rbd' } end end it_behaves_like 'glance::backend::multistore::rbd' if facts[:osfamily] == 'RedHat' it_behaves_like 'glance::backend::multistore::rbd on RedHat' end end end end ",,1238,284
openstack%2Fopenstack-ansible-os_rally~master~I73887784cbc3ce6089a42c67871dbc6c3d54acf6,openstack/openstack-ansible-os_rally,master,I73887784cbc3ce6089a42c67871dbc6c3d54acf6,Change upper constraints url,MERGED,2019-11-14 16:34:16.000000000,2019-11-26 22:41:44.000000000,2019-11-26 22:40:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 16:34:16.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/b00e91e9c3b485c08aab2448bf1193bf06289b6c', 'message': 'Change upper constraints url\n\nTo be consistent with other projects, we are changing upper constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I73887784cbc3ce6089a42c67871dbc6c3d54acf6\n'}]",0,694349,b00e91e9c3b485c08aab2448bf1193bf06289b6c,14,4,1,28619,,,0,"Change upper constraints url

To be consistent with other projects, we are changing upper constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I73887784cbc3ce6089a42c67871dbc6c3d54acf6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/49/694349/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,b00e91e9c3b485c08aab2448bf1193bf06289b6c,osa/opendev,"rally_upper_constraints_url: ""https://releases.openstack.org/constraints/upper/master""","rally_upper_constraints_url: ""https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt""",1,1
openstack%2Foslo.serialization~master~Iace9acb9bcbc29760de5b5c12b0a92353edde80e,openstack/oslo.serialization,master,Iace9acb9bcbc29760de5b5c12b0a92353edde80e,tox: Keeping going with docs,MERGED,2019-10-24 06:10:21.000000000,2019-11-26 22:32:33.000000000,2019-11-26 22:31:15.000000000,"[{'_account_id': 6928}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/71acdc654207b156c0a89d9266bed6d22591d956', 'message': 'tox: Keeping going with docs\n\nChange-Id: Iace9acb9bcbc29760de5b5c12b0a92353edde80e\n'}, {'number': 2, 'created': '2019-10-24 07:08:54.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/fa87c3cdec6897e364e1d33c4d9d75d3d1370a9b', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Iace9acb9bcbc29760de5b5c12b0a92353edde80e\n""}]",0,690818,fa87c3cdec6897e364e1d33c4d9d75d3d1370a9b,14,7,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Iace9acb9bcbc29760de5b5c12b0a92353edde80e
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/18/690818/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,71acdc654207b156c0a89d9266bed6d22591d956,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Fopenstacksdk~master~Ie0cffc402747d070c1eae1d9b423a046936d917d,openstack/openstacksdk,master,Ie0cffc402747d070c1eae1d9b423a046936d917d,Keep connection backrefs with weakref.proxy,MERGED,2019-11-23 11:44:38.000000000,2019-11-26 22:25:56.000000000,2019-11-26 22:24:43.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-11-23 11:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/757f78c1538c9e462dee89aafcefd7ecb0c6a7a5', 'message': ""Keep connection backrefs with weakref.proxy\n\nWe're storing references to the connection object on session and\nproxy objects and the senlin folks are seeing memory leaks. Try\nstoring them in weakrefs and see if that helps.\n\nChange-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d\n""}, {'number': 2, 'created': '2019-11-26 15:08:06.000000000', 'files': ['openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0e8e36163716a53b4c1c2931408ced72951513be', 'message': ""Keep connection backrefs with weakref.proxy\n\nWe're storing references to the connection object on\nproxy objects and the senlin folks are seeing memory\nleaks. Storing them in weakrefs.\n\nChange-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d\n""}]",3,695795,0e8e36163716a53b4c1c2931408ced72951513be,26,4,2,2,,,0,"Keep connection backrefs with weakref.proxy

We're storing references to the connection object on
proxy objects and the senlin folks are seeing memory
leaks. Storing them in weakrefs.

Change-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/695795/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/service_description.py', 'openstack/connection.py']",2,757f78c1538c9e462dee89aafcefd7ecb0c6a7a5,,import weakref self.session._sdk_connection = weakref.proxy(self), self.session._sdk_connection = self,4,2
openstack%2Fopenstack-ansible-os_nova~stable%2Ftrain~I420a95caf7981034f6549c2b6f8296839d9ed65f,openstack/openstack-ansible-os_nova,stable/train,I420a95caf7981034f6549c2b6f8296839d9ed65f,Disable unused console services,MERGED,2019-11-23 15:25:19.000000000,2019-11-26 22:24:46.000000000,2019-11-26 22:23:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-23 15:25:19.000000000', 'files': ['tasks/nova_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cecf98323e5b4274caf109fffadd758e919f53b6', 'message': 'Disable unused console services\n\nThis is best practise to only deploy one remote access method at a\ntime. This patch ensures only one of the nova-novncproxy, nova-spicehtml5proxy\nor nova-serialproxy services is enabled and running.\n\nThis is a necessary step for upgrades from stein to train which use\nthe OSA defaults, where the console type has will switch from spice to novnc.\nThe old nova-spicehtml5proxy service continually fail and restart, running\nfrom the stein venv.\n\nThe service fails because the nova config option use_journal is now\nset to true. Nova-spicehtml5proxy service consumes this config and tries to\nuse journal logging which is not possible in the stein venv due to a \nmissing systemd-python package. This dependancy was only added in Train.\n\nChange-Id: I420a95caf7981034f6549c2b6f8296839d9ed65f\n(cherry picked from commit 5bd9ece047c5e8557f7a5e011074c2c825045ea5)\n'}]",0,695802,cecf98323e5b4274caf109fffadd758e919f53b6,14,5,1,25023,,,0,"Disable unused console services

This is best practise to only deploy one remote access method at a
time. This patch ensures only one of the nova-novncproxy, nova-spicehtml5proxy
or nova-serialproxy services is enabled and running.

This is a necessary step for upgrades from stein to train which use
the OSA defaults, where the console type has will switch from spice to novnc.
The old nova-spicehtml5proxy service continually fail and restart, running
from the stein venv.

The service fails because the nova config option use_journal is now
set to true. Nova-spicehtml5proxy service consumes this config and tries to
use journal logging which is not possible in the stein venv due to a 
missing systemd-python package. This dependancy was only added in Train.

Change-Id: I420a95caf7981034f6549c2b6f8296839d9ed65f
(cherry picked from commit 5bd9ece047c5e8557f7a5e011074c2c825045ea5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/02/695802/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_install.yml'],1,cecf98323e5b4274caf109fffadd758e919f53b6,,"- name: Populate service facts service_facts: - name: Disable existing services for any unused console types systemd: name: ""{{ item.service }}"" enabled: no state: stopped when: item.service in ansible_facts.services and item.type != nova_console_type loop: - service: ""nova-novncproxy.service"" type: ""novnc"" - service: ""nova-spicehtml5proxy.service"" type: ""spice"" - service: ""nova-serialproxy.service"" type: ""serialconsole"" ",,17,0
openstack%2Fopenstack-ansible-os_glance~master~I97705c4d839e67ba95b81bee7c9b386da8e7643c,openstack/openstack-ansible-os_glance,master,I97705c4d839e67ba95b81bee7c9b386da8e7643c,Change upper constraints url,MERGED,2019-11-14 14:19:23.000000000,2019-11-26 22:19:07.000000000,2019-11-26 22:17:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 14:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/2efb566772d1ed6d63da64e9dc53cce2c5abc167', 'message': 'Change upper constraints url\n\nTo be consistent with other projects, we are changing upper constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I97705c4d839e67ba95b81bee7c9b386da8e7643c\n'}, {'number': 2, 'created': '2019-11-14 17:38:11.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/b02cebc5e5fe1c1a21ea9d6a4f17610ed4fe9c24', 'message': 'Change upper constraints url\n\nTo be consistent with other projects, we are changing upper constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nDepends-On: https://review.opendev.org/693841/\nChange-Id: I97705c4d839e67ba95b81bee7c9b386da8e7643c\n'}]",0,694304,b02cebc5e5fe1c1a21ea9d6a4f17610ed4fe9c24,14,4,2,28619,,,0,"Change upper constraints url

To be consistent with other projects, we are changing upper constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Depends-On: https://review.opendev.org/693841/
Change-Id: I97705c4d839e67ba95b81bee7c9b386da8e7643c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/04/694304/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,2efb566772d1ed6d63da64e9dc53cce2c5abc167,osa/opendev,"glance_upper_constraints_url: ""{{ requirements_git_url | default('https://releases.openstack.org/constraints/upper/' ~ requirements_git_install_branch | default('master')) }}""","glance_upper_constraints_url: ""{{ requirements_git_url | default('https://opendev.org/openstack/requirements/raw/' ~ requirements_git_install_branch | default('master') ~ '/upper-constraints.txt') }}""",1,1
openstack%2Fpuppet-openstack-integration~master~I7a133a2aee0df752763c9e06909cedf4a2d5e37c,openstack/puppet-openstack-integration,master,I7a133a2aee0df752763c9e06909cedf4a2d5e37c,Use Ceph release repos from CBS,MERGED,2019-11-23 11:44:16.000000000,2019-11-26 22:15:56.000000000,2019-11-26 22:15:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-23 11:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e5fa9eed0f93b9934c0ed7ff3c92fd3220d8954a', 'message': 'Use Ceph release repos from CBS\n\nChange-Id: I7a133a2aee0df752763c9e06909cedf4a2d5e37c\n'}, {'number': 2, 'created': '2019-11-26 14:40:16.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4cdc670c5dbf770e6c0f5126783ac2239321fc60', 'message': 'Use Ceph release repos from CBS\n\nChange-Id: I7a133a2aee0df752763c9e06909cedf4a2d5e37c\n'}]",1,695794,4cdc670c5dbf770e6c0f5126783ac2239321fc60,15,6,2,16137,,,0,"Use Ceph release repos from CBS

Change-Id: I7a133a2aee0df752763c9e06909cedf4a2d5e37c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/695794/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,e5fa9eed0f93b9934c0ed7ff3c92fd3220d8954a,695794," CEPH_MIRROR_HOST=""http://cbs.centos.org/repos/storage7-ceph-${CEPH_VERSION}-release/x86_64/os/"" CEPH_MIRROR_HOST=""http://cbs.centos.org/repos/storage7-ceph-${CEPH_VERSION}-release/x86_64/os/"""," # TODO(tobasco): Remove this CBS candidate repo for Mimic and Nautilus when Storage SIG release it. if [ ""$CEPH_VERSION"" == ""mimic"" ]; then CEPH_MIRROR_HOST='http://cbs.centos.org/repos/storage7-ceph-mimic-candidate/x86_64/os/' elif [ ""$CEPH_VERSION"" == ""nautilus"" ]; then CEPH_MIRROR_HOST='http://cbs.centos.org/repos/storage7-ceph-nautilus-candidate/x86_64/os/' else CEPH_MIRROR_HOST=""${NODEPOOL_BUILDLOGS_CENTOS_PROXY}/centos/7/storage/x86_64/ceph-${CEPH_VERSION}/"" fi # TODO(tobasco): Remove this CBS candidate repo for Mimic and Nautilus when Storage SIG releases it. if [ ""$CEPH_VERSION"" == ""mimic"" ]; then CEPH_MIRROR_HOST='http://cbs.centos.org/repos/storage7-ceph-mimic-candidate/x86_64/os/' elif [ ""$CEPH_VERSION"" == ""nautilus"" ]; then CEPH_MIRROR_HOST='http://cbs.centos.org/repos/storage7-ceph-nautilus-candidate/x86_64/os/' else CEPH_MIRROR_HOST=""https://buildlogs.centos.org/centos/7/storage/x86_64/ceph-${CEPH_VERSION}/"" fi",3,23
openstack%2Foslo.vmware~master~I390f8f7add7530f1442f66816389202e3ed21f05,openstack/oslo.vmware,master,I390f8f7add7530f1442f66816389202e3ed21f05,tox: Keeping going with docs,MERGED,2019-10-24 06:10:36.000000000,2019-11-26 22:09:18.000000000,2019-11-26 22:08:05.000000000,"[{'_account_id': 6928}, {'_account_id': 9008}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/00f7794e2b5017695d330db75351bdfccf7893d1', 'message': 'tox: Keeping going with docs\n\nChange-Id: I390f8f7add7530f1442f66816389202e3ed21f05\n'}, {'number': 2, 'created': '2019-10-24 06:51:31.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/127ded28c98f1989e89094fbde8a955c07d1915d', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I390f8f7add7530f1442f66816389202e3ed21f05\n""}]",0,690825,127ded28c98f1989e89094fbde8a955c07d1915d,18,10,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I390f8f7add7530f1442f66816389202e3ed21f05
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/25/690825/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,00f7794e2b5017695d330db75351bdfccf7893d1,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fironic-python-agent~master~I6416747c6fde0a92cb525041f9208c7801b148e6,openstack/ironic-python-agent,master,I6416747c6fde0a92cb525041f9208c7801b148e6,Additional command to build efi partitions,ABANDONED,2019-08-09 17:51:52.000000000,2019-11-26 21:41:19.000000000,,"[{'_account_id': 11292}, {'_account_id': 15064}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-09 17:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bca012f67519c0f2986349f329912092d0002136', 'message': 'Additional command to build efi partitions\n\nChange-Id: I6416747c6fde0a92cb525041f9208c7801b148e6\nStory: #2006379\nTask-Id: #36176\n'}, {'number': 2, 'created': '2019-08-09 17:52:36.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6659a3c41b9535a99849203702232de0fd56a533', 'message': 'Additional command to build efi partitions\n\nChange-Id: I6416747c6fde0a92cb525041f9208c7801b148e6\nStory: #2006379\nTask: #36176\n'}]",0,675672,6659a3c41b9535a99849203702232de0fd56a533,7,4,2,15064,,,0,"Additional command to build efi partitions

Change-Id: I6416747c6fde0a92cb525041f9208c7801b148e6
Story: #2006379
Task: #36176
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/72/675672/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",4,bca012f67519c0f2986349f329912092d0002136,efi_part_extension,"import shlexPARTED_TABLE_TYPE_REGEX = re.compile('^.*partition\s+table\s*:\s*(gpt|msdos)', re.IGNORECASE) def get_partition_table_type(device_name): """"""Get partition table type, msdos or gpt. :param device_name: the name of the device :return: msdos, gpt or unknown """""" out, _u = execute('parted', '-s', device_name, '--', 'print') out = out.splitlines() for line in out: m = PARTED_TABLE_TYPE_REGEX.match(line) if m: return m.group(1) msg = ""Unable to get partition table type for device {}"".format( device_name) LOG.warning(msg) return 'unknown' def get_device_partition_with_criterion(device, criterion, partlabel): out, _u = execute('lsblk', '-Pbiao', 'KNAME,{}'.format(criterion), device) out = out.splitlines() for line in out: device = {} vals = shlex.split(line) for key, val in (v.split('=', 1) for v in vals): device[key] = val.strip() if device.get(criterion) == partlabel: device_name, _u = extract_device_and_partition( device.get(""KNAME"")) if device_name: return '/dev/{}'.format(device_name)",,328,0
openstack%2Fironic-python-agent~master~I809821f62925f5e7cf8919beccad0b8b21253a2b,openstack/ironic-python-agent,master,I809821f62925f5e7cf8919beccad0b8b21253a2b,"image extension, install_bootloader improvements",ABANDONED,2019-08-06 17:01:39.000000000,2019-11-26 21:40:47.000000000,,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15064}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 17:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/64f78bb316d4ec8e9e67edb59596b15a21ec325f', 'message': ""[WIP] image extension, make_bootable improvement\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to lie on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid,\n   the efi partition needs to be on the disk holder, and cannot be\n   on the raid itself\n\nFixes:\n - get raid array disk holders, with nvme drives.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\n""}, {'number': 2, 'created': '2019-08-07 15:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1decc7eb8ac3b7b8c240067279111aa375c4501a', 'message': ""image extension, make_bootable improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to lie on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the root efi\n   firmware capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nFixes:\n - get raid array disk holders, with nvme drives.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\n""}, {'number': 3, 'created': '2019-08-07 16:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/63850f99de0bacb9cdc4800ed6e4ad233aac244c', 'message': ""image extension, make_bootable improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to lie on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the root efi\n   firmware capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nFixes:\n - get raid array disk holders, with nvme drives.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\n""}, {'number': 4, 'created': '2019-08-07 16:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2f34d9a3a54761e4b0c7e391510376f8e677465c', 'message': ""image extension, make_bootable improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to lie on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the root efi\n   firmware capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nFixes:\n - get raid array disk holders, with nvme drives.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\n""}, {'number': 5, 'created': '2019-08-07 18:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/20cc404b8755d8a331ff6f7c01b9600c2b15d320', 'message': ""image extension, make_bootable improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to lie on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the root efi\n   firmware capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nFixes:\n - get raid array disk holders, with nvme drives.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\n""}, {'number': 6, 'created': '2019-08-08 13:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4fbcebbc131bc7ccdcdb861e06b99204ef977d0e', 'message': ""image extension, make_bootable improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to lie on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the root efi\n   firmware capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nFixes:\n - get raid array disk holders, with nvme drives.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\nStory: #2006379\nTask: #36175\n""}, {'number': 7, 'created': '2019-08-09 13:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d81dd9972e0f97bb8252c4cff1117a8cbc83b1c2', 'message': ""image extension, install_bootloader improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to lie on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the root efi\n   firmware capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\nStory: #2006379\nTask: #36175\n""}, {'number': 8, 'created': '2019-08-14 09:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/955af59aceb3b9ac5c87a849ffc4649bab9d889f', 'message': ""image extension, install_bootloader improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to be on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the calling efi\n   application capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\nStory: #2006379\nTask: #36175\n""}, {'number': 9, 'created': '2019-08-28 08:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ef7fefbea79fcdb692402a382c0e21017411ea50', 'message': ""image extension, install_bootloader improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to be on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the calling efi\n   application capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\nStory: #2006379\nTask: #36175\n""}, {'number': 10, 'created': '2019-09-19 09:49:05.000000000', 'files': ['releasenotes/notes/make-bootable-improve-flexibility-a23439b652ef31bc.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6f8bc279c82f64fd4175359a2f2412347064d8ed', 'message': ""image extension, install_bootloader improvements\n\nImprovements:\n - efi partition and ppc prep boot partition do not have to be on the\n   same device as the rootfs (and sometimes it's even a requirement,\n   for example, with uefi, if the rootfs is on a software raid 0,\n   the efi partition needs to be on the disk holder, and cannot always\n   be on the raid itself (even on raid 1, depending on the calling efi\n   application capabilities).\n - when the rootfs is on an md array, do not require it to be the\n   first partition.\n\nChange-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b\nStory: #2006379\nTask: #36175\n""}]",11,674879,6f8bc279c82f64fd4175359a2f2412347064d8ed,36,7,10,15064,,,0,"image extension, install_bootloader improvements

Improvements:
 - efi partition and ppc prep boot partition do not have to be on the
   same device as the rootfs (and sometimes it's even a requirement,
   for example, with uefi, if the rootfs is on a software raid 0,
   the efi partition needs to be on the disk holder, and cannot always
   be on the raid itself (even on raid 1, depending on the calling efi
   application capabilities).
 - when the rootfs is on an md array, do not require it to be the
   first partition.

Change-Id: I809821f62925f5e7cf8919beccad0b8b21253a2b
Story: #2006379
Task: #36175
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/79/674879/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/extensions/image.py']",2,64f78bb316d4ec8e9e67edb59596b15a21ec325f,make_bootable_2,"def _get_partition(uuid, device=None): """""" Find the partition of a given device (or on all devices if none provided). """""" if not device: LOG.debug(""Find first partition with uuid %(uuid)s on all devices"", {'uuid': uuid}) else: LOG.debug(""Find the partition %(uuid)s on device %(dev)s"", {'dev': device, 'uuid': uuid}) if not device: block_devs = hardware.dispatch_to_managers( 'list_block_devices', False) for dev in block_devs: utils.execute('partx', '-u', dev.name, check_exit_code=False) else: utils.execute('partx', '-u', device, attempts=3, delay_on_retry=True) LOG.warning(""Couldn't refresh the partition tables"") cmd = ['lsblk', '-PbioKNAME,UUID,PARTUUID,TYPE'] if device: cmd.append(device) lsblk = utils.execute(*cmd) # Ignore non partition. Note that for an md array partition, the # part type appears as 'md', output example: # lsblk -PbioKNAME,UUID,PARTUUID,TYPE /dev/md0 # KNAME=""md0"" UUID="""" PARTUUID="""" TYPE=""raid1"" # KNAME=""md0p1"" UUID=""C90C-A6DA"" PARTUUID=""66037edd-d3cb-4797-9d78-7ae5a629649b"" TYPE=""md"" # noqa # KNAME=""md0p2"" UUID=""b8a65ee0-53dd-4bdc-a110-f4b9becfd048"" PARTUUID=""ba611948-4b03-44c5-8f5f-8dc2d6d9005d"" TYPE=""md"" #noqa if part.get('TYPE') not in ['part', 'md']: root_partition = _get_partition(device=device, uuid=root_uuid) efi_partition = _get_partition(device=None, uuid=efi_system_part_uuid) device = _get_partition(uuid=prep_boot_part_uuid, device=None) if not efi_system_part_uuid and hardware.is_md_device(device):","def _get_partition(device, uuid): """"""Find the partition of a given device."""""" LOG.debug(""Find the partition %(uuid)s on device %(dev)s"", {'dev': device, 'uuid': uuid}) utils.execute('partx', '-u', device, attempts=3, delay_on_retry=True) LOG.warning(""Couldn't re-read the partition table "" ""on device %s"", device) # If the deploy device is an md device, we want to install on # the first partition. We clearly take a shortcut here for now. # TODO(arne_wiebalck): Would it possible to use the partition # UUID and use the ""normal"" discovery instead? if hardware.is_md_device(device): md_partition = device + 'p1' if (not os.path.exists(md_partition) or not stat.S_ISBLK(os.stat(md_partition).st_mode)): error_msg = (""Could not find partition %(part)s on md "" ""device %(dev)s"" % {'part': md_partition, 'dev': device}) LOG.error(error_msg) raise errors.DeviceNotFound(error_msg) LOG.debug(""Found md device with partition %s"", md_partition) return md_partition lsblk = utils.execute('lsblk', '-PbioKNAME,UUID,PARTUUID,TYPE', device) # Ignore non partition if part.get('TYPE') != 'part': root_partition = _get_partition(device, uuid=root_uuid) efi_partition = _get_partition(device, uuid=efi_system_part_uuid) device = _get_partition(device, uuid=prep_boot_part_uuid) if hardware.is_md_device(device):",72,35
openstack%2Fironic-python-agent~master~I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3,openstack/ironic-python-agent,master,I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3,Software raid: default partition table type change,ABANDONED,2019-08-06 12:56:15.000000000,2019-11-26 21:40:15.000000000,,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15064}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-08-06 12:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/eb32a4df8f0147a884b7752b0ff3e7aa6271fe30', 'message': 'Software raid: mbr/gpt partition table alternative.\n\nGPT/MBR partition table type alternative on softraid creation.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\n'}, {'number': 2, 'created': '2019-08-06 13:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/48542a0d6dde8fa151dee96c0c9ba8276912188f', 'message': 'Software raid: mbr/gpt partition table alternative.\n\nGPT/MBR partition table type alternative on softraid creation.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\n'}, {'number': 3, 'created': '2019-08-07 19:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6684652498958e50178154790774d33fe3445070', 'message': 'Software raid: mbr/gpt partition table alternative.\n\nGPT/MBR partition table type alternative on softraid creation.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\n'}, {'number': 4, 'created': '2019-08-08 09:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cc1620461c2d590b2c7a0b38544d8cd6b3f73fc4', 'message': 'Software raid: partition table type default change.\n\nBased on boot mode.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\n'}, {'number': 5, 'created': '2019-08-08 09:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c44134ba7ad31b6f1ea1cb48dd725204467a2e79', 'message': 'Software raid: default partition table type change.\n\nBased on boot mode.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\n'}, {'number': 6, 'created': '2019-08-08 14:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/320a3e2c48b4c7972e47b14f74c750c15acd1940', 'message': 'Software raid: default partition table type change\n\nBased on boot mode.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\n'}, {'number': 7, 'created': '2019-08-15 22:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d047a995fd077353846f9bc5f55325a6a4788f05', 'message': 'Software raid: default partition table type change\n\nBased on boot mode.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\n'}, {'number': 8, 'created': '2019-08-27 17:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/07ea67d22d69bcf35b6dcebf401cb5fa06b815aa', 'message': 'Software raid: default partition table type change\n\nBased on boot mode.\nIf boot mode is not relevant, behaviour can be overriden through capabilities.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\n'}, {'number': 9, 'created': '2019-09-19 11:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9d6f461a2fc6fc05e88505516b540045ba0bdece', 'message': 'Software raid: default partition table type change\n\nBased on boot mode.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\nStory: #2006379\nTask: #36696\n'}, {'number': 10, 'created': '2019-09-20 13:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/807a67d3033eb311fb346a843325565b00841de7', 'message': 'Software raid: default partition table type change\n\nBased on boot mode.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\nStory: #2006379\nTask: #36696\n'}, {'number': 11, 'created': '2019-09-20 15:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6ec2a931ff76cdd4f0523b63d9b5989355a8b705', 'message': 'Software raid: default partition table type change\n\nBased on boot mode.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\nStory: #2006379\nTask: #36696\n'}, {'number': 12, 'created': '2019-11-22 19:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/99be5a31e890aa60041585a766230d961b9d78a3', 'message': 'Software raid: default partition table type change\n\nBy default based on ramdisk boot mode. If not relevant, can be overriden by\nspecifying boot_mode or disk_label node properties or instance info.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\nStory: #2006379\nTask: #36696\n'}, {'number': 13, 'created': '2019-11-22 21:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d0916c5d39eee00a2737dde93c7c519482b5a072', 'message': 'Software raid: default partition table type change\n\nBy default based on ramdisk boot mode. If not relevant, can be overriden by\nspecifying boot_mode or disk_label node properties or instance info.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\nStory: #2006379\nTask: #36696\n'}, {'number': 14, 'created': '2019-11-23 10:24:44.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/softraid-disk-label-default-based-on-boot-mode-aa22e6cbaf1ea747.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7fe399c73a87f202bfce127f0cb139bee5e23da1', 'message': 'Software raid: default partition table type change\n\nBy default based on ramdisk boot mode. If not relevant, can be overriden by\nspecifying boot_mode or disk_label node properties or instance info.\n\nChange-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3\nStory: #2006379\nTask: #36696\n'}]",26,674803,7fe399c73a87f202bfce127f0cb139bee5e23da1,72,9,14,15064,,,0,"Software raid: default partition table type change

By default based on ramdisk boot mode. If not relevant, can be overriden by
specifying boot_mode or disk_label node properties or instance info.

Change-Id: I4978e5dbde1a1bfbe6c58da5066fafb5aaf2f3f3
Story: #2006379
Task: #36696
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/03/674803/10 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,eb32a4df8f0147a884b7752b0ff3e7aa6271fe30,gpt_mbr_alternative_reloaded," @mock.patch.object(os.path, 'isdir', autospec=True, return_value=False) def test_create_configuration(self, mocked_os_path_isdir, mocked_execute): self._test_create_configuration(mocked_os_path_isdir, mocked_execute, 'msdos') @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(os.path, 'isdir', autospec=True, return_value=True) def test_create_configuration_efi(self, mocked_os_path_isdir, mocked_execute): self._test_create_configuration(mocked_os_path_isdir, mocked_execute, 'gpt') @mock.patch.object(utils, 'execute', autospec=True) @mock.patch.object(os.path, 'isdir', autospec=True) def test_create_configuration_part_table_specified( self, mocked_os_path_isdir, mocked_execute): mocked_os_path_isdir.side_effect = [True, True, False, False] # Override gpt default choice with msdos node = { 'uuid': 'hello', 'properties': { 'partition_table_type': 'msdos' } } self._test_create_configuration(mocked_os_path_isdir, mocked_execute, 'gpt') self._test_create_configuration(mocked_os_path_isdir, mocked_execute, 'msdos', node) # Override msdos default choice with gpt node['properties']['partition_table_type'] = 'gpt' self._test_create_configuration(mocked_os_path_isdir, mocked_execute, 'msdos') self._test_create_configuration(mocked_os_path_isdir, mocked_execute, 'gpt', node) def _test_create_configuration(self, mocked_os_path_isdir, mocked_execute, expected_partition_table_type, node=None): if node is None: node = self.node node['target_raid_config'] = raid_config result = self.hardware.create_configuration(node, []) mocked_os_path_isdir.assert_has_calls([ mock.call('/sys/firmware/efi') ]) mock.call('parted', '/dev/sda', '-s', '--', 'mklabel', expected_partition_table_type), mock.call('parted', '/dev/sdb', '-s', '--', 'mklabel', expected_partition_table_type), @mock.patch.object(os.path, 'isdir', autospec=True, return_value=False) def test_create_configuration_invalid_raid_config(self, mocked_os_path_is_dir, mocked_execute): @mock.patch.object(os.path, 'isdir', autospec=True, return_value=False) def test_create_configuration_partitions_detected(self, mocked_os_path_is_dir, mocked_execute): @mock.patch.object(os.path, 'isdir', autospec=True, return_value=False) def test_create_configuration_device_handling_failures( self, mocked_os_path_is_dir, mocked_execute): @mock.patch.object(os.path, 'isdir', autospec=True, return_value=True) def test_create_configuration_with_nvme(self, mocked_os_path_isdir, mocked_execute): 'gpt'), 'gpt'), @mock.patch.object(os.path, 'isdir', autospec=True, return_value=True) def test_create_configuration_failure_with_nvme(self, mocked_os_path_isdir, mocked_execute):"," def test_create_configuration(self, mocked_execute): self.node['target_raid_config'] = raid_config result = self.hardware.create_configuration(self.node, []) mock.call('parted', '/dev/sda', '-s', '--', 'mklabel', 'msdos'), mock.call('parted', '/dev/sdb', '-s', '--', 'mklabel', 'msdos'), def test_create_configuration_invalid_raid_config(self, mocked_execute): def test_create_configuration_partitions_detected(self, mocked_execute): def test_create_configuration_device_handling_failures(self, mocked_execute): def test_create_configuration_with_nvme(self, mocked_execute): 'msdos'), 'msdos'), def test_create_configuration_failure_with_nvme(self, mocked_execute):",97,17
openstack%2Ftripleo-upgrade~stable%2Fqueens~I577a05c2f7916bfca637ecb4451abbee5bd7714e,openstack/tripleo-upgrade,stable/queens,I577a05c2f7916bfca637ecb4451abbee5bd7714e,[Configuration] Remove the build documentation.,MERGED,2019-11-14 09:58:44.000000000,2019-11-26 21:38:24.000000000,2019-11-26 21:38:24.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-11-14 09:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/088f719b1211784c8d8a70ead87de9f09ca16e21', 'message': ""[Configuration] Remove the build documentation.\n\nRemove the build of the documentation from tox, the project doesn't use\nsphinx. That fix an error during the build of the documentation, because\nthe configuration file for sphinx is not found.\n\nChange-Id: I577a05c2f7916bfca637ecb4451abbee5bd7714e\n(cherry picked from commit 4776547196381cc30cc38a964689971437b078d2)\n(cherry picked from commit 59d715fb25575bfb133f510dab37df6a3343f3df)\n""}, {'number': 2, 'created': '2019-11-14 13:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/617864030f218274a4d91668126b6fd7af2452d3', 'message': ""[Configuration] Remove the build documentation.\n\nRemove the build of the documentation from tox, the project doesn't use\nsphinx. That fix an error during the build of the documentation, because\nthe configuration file for sphinx is not found.\n\nChange-Id: I577a05c2f7916bfca637ecb4451abbee5bd7714e\n(cherry picked from commit 4776547196381cc30cc38a964689971437b078d2)\n(cherry picked from commit 59d715fb25575bfb133f510dab37df6a3343f3df)\n""}, {'number': 3, 'created': '2019-11-22 14:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/80ea562720dfa54eac7a91d5be602b37f63d8523', 'message': ""[Configuration] Remove the build documentation.\n\nRemove the build of the documentation from tox, the project doesn't use\nsphinx. That fix an error during the build of the documentation, because\nthe configuration file for sphinx is not found.\n\nChange-Id: I577a05c2f7916bfca637ecb4451abbee5bd7714e\n(cherry picked from commit 4776547196381cc30cc38a964689971437b078d2)\n(cherry picked from commit 59d715fb25575bfb133f510dab37df6a3343f3df)\n""}, {'number': 4, 'created': '2019-11-22 16:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3bb709880669b440bdb8f2fb4609281cc68978e2', 'message': ""[Configuration] Remove the build documentation.\n\nRemove the build of the documentation from tox, the project doesn't use\nsphinx. That fix an error during the build of the documentation, because\nthe configuration file for sphinx is not found.\n\nChange-Id: I577a05c2f7916bfca637ecb4451abbee5bd7714e\n(cherry picked from commit 4776547196381cc30cc38a964689971437b078d2)\n(cherry picked from commit 59d715fb25575bfb133f510dab37df6a3343f3df)\n""}, {'number': 5, 'created': '2019-11-25 11:24:52.000000000', 'files': ['test-requirements.txt', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/614e8af8bb3bae91d830c26e23e40cad330fe6c9', 'message': ""[Configuration] Remove the build documentation.\n\nRemove the build of the documentation from tox, the project doesn't use\nsphinx. That fix an error during the build of the documentation, because\nthe configuration file for sphinx is not found.\n\nChange-Id: I577a05c2f7916bfca637ecb4451abbee5bd7714e\n(cherry picked from commit 4776547196381cc30cc38a964689971437b078d2)\n(cherry picked from commit 59d715fb25575bfb133f510dab37df6a3343f3df)\n""}]",0,694228,614e8af8bb3bae91d830c26e23e40cad330fe6c9,13,3,5,11166,,,0,"[Configuration] Remove the build documentation.

Remove the build of the documentation from tox, the project doesn't use
sphinx. That fix an error during the build of the documentation, because
the configuration file for sphinx is not found.

Change-Id: I577a05c2f7916bfca637ecb4451abbee5bd7714e
(cherry picked from commit 4776547196381cc30cc38a964689971437b078d2)
(cherry picked from commit 59d715fb25575bfb133f510dab37df6a3343f3df)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/28/694228/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'zuul.d/layout.yaml', 'tox.ini']",3,088f719b1211784c8d8a70ead87de9f09ca16e21,,minversion = 2.0 envlist = linters,"minversion = 1.6 envlist = docs, linters[testenv:docs] commands = python setup.py build_sphinx ",5,11
openstack%2Ftripleo-upgrade~stable%2Fqueens~I3981324bb092f408dd597d895b2b2017fed516ba,openstack/tripleo-upgrade,stable/queens,I3981324bb092f408dd597d895b2b2017fed516ba,Fix order for applying workarounds,MERGED,2019-11-13 19:12:47.000000000,2019-11-26 21:38:23.000000000,2019-11-26 21:38:23.000000000,"[{'_account_id': 8297}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/df02be474e3db16310d5ea9d626fea67c6b9e569', 'message': ""Fix order for applying workarounds\n\nIt's needed to apply post-ceph upgrade workarounds after ceph\nupgrade is performed, not after pre-converge workarounds are\napplied.\n\nChange-Id: I3981324bb092f408dd597d895b2b2017fed516ba\n(cherry picked from commit 9fec3161c663b83dae9e881fb8eaa98fa0a06f70)\n(cherry picked from commit 617b693edcfbbf45244a889e483091c968a5c7d9)\n""}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8693c25ea1251152a051e9c98188ac6557b0b3a3', 'message': ""Fix order for applying workarounds\n\nIt's needed to apply post-ceph upgrade workarounds after ceph\nupgrade is performed, not after pre-converge workarounds are\napplied.\n\nChange-Id: I3981324bb092f408dd597d895b2b2017fed516ba\n(cherry picked from commit 9fec3161c663b83dae9e881fb8eaa98fa0a06f70)\n(cherry picked from commit 617b693edcfbbf45244a889e483091c968a5c7d9)\n""}, {'number': 3, 'created': '2019-11-22 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cdf497c32c138adc65394a4a733a35cae92ebd5a', 'message': ""Fix order for applying workarounds\n\nIt's needed to apply post-ceph upgrade workarounds after ceph\nupgrade is performed, not after pre-converge workarounds are\napplied.\n\nChange-Id: I3981324bb092f408dd597d895b2b2017fed516ba\n(cherry picked from commit 9fec3161c663b83dae9e881fb8eaa98fa0a06f70)\n(cherry picked from commit 617b693edcfbbf45244a889e483091c968a5c7d9)\n""}, {'number': 4, 'created': '2019-11-25 11:24:52.000000000', 'files': ['tasks/upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e04385f6263564a770acd4cad74c9dce45a01041', 'message': ""Fix order for applying workarounds\n\nIt's needed to apply post-ceph upgrade workarounds after ceph\nupgrade is performed, not after pre-converge workarounds are\napplied.\n\nChange-Id: I3981324bb092f408dd597d895b2b2017fed516ba\n(cherry picked from commit 9fec3161c663b83dae9e881fb8eaa98fa0a06f70)\n(cherry picked from commit 617b693edcfbbf45244a889e483091c968a5c7d9)\n""}]",0,694159,e04385f6263564a770acd4cad74c9dce45a01041,12,3,4,11166,,,0,"Fix order for applying workarounds

It's needed to apply post-ceph upgrade workarounds after ceph
upgrade is performed, not after pre-converge workarounds are
applied.

Change-Id: I3981324bb092f408dd597d895b2b2017fed516ba
(cherry picked from commit 9fec3161c663b83dae9e881fb8eaa98fa0a06f70)
(cherry picked from commit 617b693edcfbbf45244a889e483091c968a5c7d9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/59/694159/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/main.yml'],1,df02be474e3db16310d5ea9d626fea67c6b9e569,," - name: apply post Ceph upgrade workarounds shell: | set -o pipefail bash {{ working_dir }}/post_ceph_upgrade_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_ceph_upgrade_workarounds.log args: chdir: ""{{ working_dir }}"" when: upgrade_workarounds "," - name: apply post Ceph upgrade workarounds shell: | set -o pipefail bash {{ working_dir }}/post_ceph_upgrade_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_ceph_upgrade_workarounds.log args: chdir: ""{{ working_dir }}"" when: upgrade_workarounds ",8,8
openstack%2Ftripleo-upgrade~stable%2Fqueens~I63db9e8b30c9f9e99c501300982b513b627bed07,openstack/tripleo-upgrade,stable/queens,I63db9e8b30c9f9e99c501300982b513b627bed07,Use Jinja2 macro to remove redundancy in workarounds.sh.j2.,MERGED,2019-11-13 19:12:47.000000000,2019-11-26 21:38:06.000000000,2019-11-26 21:38:06.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2c9f9fb9c88ed236eff86e06ac59b333b09e5601', 'message': 'Use Jinja2 macro to remove redundancy in workarounds.sh.j2.\n\nCurrenty, a lot of code was being repeted in the template which\nwould force to modify it in multiple places if a change was being\ndone in one of the workaround blocks. By using the Jinja2 macro,\nwhich behaves as a function, we can reuse the code defining it in\none single place and calling to it multiple times.\n\nChange-Id: I63db9e8b30c9f9e99c501300982b513b627bed07\n(cherry picked from commit 8c37eaaa2b71bb59032ad97384686ea18bc50977)\n(cherry picked from commit d8d12b926d6b950fc33ec243ea0301489588628a)\n(cherry picked from commit c02dcb765bc413089b88bf1439483215307cc1bb)\n'}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/917a505d4b004a01144c14b0e991afdf43b58fe9', 'message': 'Use Jinja2 macro to remove redundancy in workarounds.sh.j2.\n\nCurrenty, a lot of code was being repeted in the template which\nwould force to modify it in multiple places if a change was being\ndone in one of the workaround blocks. By using the Jinja2 macro,\nwhich behaves as a function, we can reuse the code defining it in\none single place and calling to it multiple times.\n\nChange-Id: I63db9e8b30c9f9e99c501300982b513b627bed07\n(cherry picked from commit 8c37eaaa2b71bb59032ad97384686ea18bc50977)\n(cherry picked from commit d8d12b926d6b950fc33ec243ea0301489588628a)\n(cherry picked from commit c02dcb765bc413089b88bf1439483215307cc1bb)\n'}, {'number': 3, 'created': '2019-11-22 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ad57ff7810962c43d92b3aa819739cac647748f4', 'message': 'Use Jinja2 macro to remove redundancy in workarounds.sh.j2.\n\nCurrenty, a lot of code was being repeted in the template which\nwould force to modify it in multiple places if a change was being\ndone in one of the workaround blocks. By using the Jinja2 macro,\nwhich behaves as a function, we can reuse the code defining it in\none single place and calling to it multiple times.\n\nChange-Id: I63db9e8b30c9f9e99c501300982b513b627bed07\n(cherry picked from commit 8c37eaaa2b71bb59032ad97384686ea18bc50977)\n(cherry picked from commit d8d12b926d6b950fc33ec243ea0301489588628a)\n(cherry picked from commit c02dcb765bc413089b88bf1439483215307cc1bb)\n'}, {'number': 4, 'created': '2019-11-25 11:24:52.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4cde9c2a602c9e89d7529a3968eae9fbbeffa48e', 'message': 'Use Jinja2 macro to remove redundancy in workarounds.sh.j2.\n\nCurrenty, a lot of code was being repeted in the template which\nwould force to modify it in multiple places if a change was being\ndone in one of the workaround blocks. By using the Jinja2 macro,\nwhich behaves as a function, we can reuse the code defining it in\none single place and calling to it multiple times.\n\nChange-Id: I63db9e8b30c9f9e99c501300982b513b627bed07\n(cherry picked from commit 8c37eaaa2b71bb59032ad97384686ea18bc50977)\n(cherry picked from commit d8d12b926d6b950fc33ec243ea0301489588628a)\n(cherry picked from commit c02dcb765bc413089b88bf1439483215307cc1bb)\n'}]",0,694158,4cde9c2a602c9e89d7529a3968eae9fbbeffa48e,12,3,4,11166,,,0,"Use Jinja2 macro to remove redundancy in workarounds.sh.j2.

Currenty, a lot of code was being repeted in the template which
would force to modify it in multiple places if a change was being
done in one of the workaround blocks. By using the Jinja2 macro,
which behaves as a function, we can reuse the code defining it in
one single place and calling to it multiple times.

Change-Id: I63db9e8b30c9f9e99c501300982b513b627bed07
(cherry picked from commit 8c37eaaa2b71bb59032ad97384686ea18bc50977)
(cherry picked from commit d8d12b926d6b950fc33ec243ea0301489588628a)
(cherry picked from commit c02dcb765bc413089b88bf1439483215307cc1bb)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/58/694158/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,2c9f9fb9c88ed236eff86e06ac59b333b09e5601,," sudo rm -Rf ${temp_dir}/ } {% macro render_workarounds(workaround_var, workaround_name) -%} {% if workaround_name in item -%} {% for bugs in workaround_var -%}{% endmacro -%} {{ render_workarounds(pre_undercloud_upgrade_workarounds|default([]),'pre_undercloud_upgrade_workarounds') }}{{ render_workarounds(post_undercloud_upgrade_workarounds|default([]),'post_undercloud_upgrade_workarounds') }}{{ render_workarounds(pre_overcloud_upgrade_prepare_workarounds|default([]),'pre_overcloud_upgrade_prepare_workarounds') }}{{ render_workarounds(post_overcloud_upgrade_prepare_workarounds|default([]),'post_overcloud_upgrade_prepare_workarounds') }}{{ render_workarounds(pre_overcloud_upgrade_workarounds|default([]),'pre_overcloud_upgrade_workarounds') }}{{ render_workarounds(post_overcloud_upgrade_workarounds|default([]),'post_overcloud_upgrade_workarounds') }}{{ render_workarounds(pre_overcloud_upgrade_converge_workarounds|default([]),'pre_overcloud_upgrade_converge_workarounds') }}{{ render_workarounds(post_overcloud_upgrade_converge_workarounds|default([]),'post_overcloud_upgrade_converge_workarounds') }}{{ render_workarounds(pre_ceph_upgrade_workarounds|default([]),'pre_ceph_upgrade_workarounds') }}{{ render_workarounds(post_ceph_upgrade_workarounds|default([]),'post_ceph_upgrade_workarounds') }}"," sudo rm -Rf ${temp_dir} } {% if 'pre_undercloud_upgrade_workarounds' in item -%} {% for bugs in pre_undercloud_upgrade_workarounds|default([]) -%}{% if 'post_undercloud_upgrade_workarounds' in item -%} {% for bugs in post_undercloud_upgrade_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%} {% endif -%}{% if 'pre_overcloud_upgrade_prepare_workarounds' in item -%} {% for bugs in pre_overcloud_upgrade_prepare_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%} {% endif -%}{% if 'post_overcloud_upgrade_prepare_workarounds' in item -%} {% for bugs in post_overcloud_upgrade_prepare_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%} {% endif -%}{% if 'pre_overcloud_upgrade_workarounds' in item -%} {% for bugs in pre_overcloud_upgrade_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%} {% endif -%}{% if 'post_overcloud_upgrade_workarounds' in item -%} {% for bugs in post_overcloud_upgrade_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%} {% endif -%}{% if 'pre_overcloud_upgrade_converge_workarounds' in item -%} {% for bugs in pre_overcloud_upgrade_converge_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%} {% endif -%}{% if 'post_overcloud_upgrade_converge_workarounds' in item -%} {% for bugs in post_overcloud_upgrade_converge_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%} {% endif -%}{% if 'pre_ceph_upgrade_workarounds' in item -%} {% for bugs in pre_ceph_upgrade_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%} {% endif -%}{% if 'post_ceph_upgrade_workarounds' in item -%} {% for bugs in post_ceph_upgrade_workarounds|default([]) -%} {% for key, value in bugs.items() -%} echo {{ key }} {% if value.patch -%} apply_patch {{ value.basedir }} {{ value.id }} {% else -%} {{ value.command }} {% endif -%} ################################################################################ {% endfor -%} {% endfor -%}{% endif -%}",16,120
openstack%2Ftripleo-upgrade~stable%2Fqueens~I5b7333d9bfb8954b3c52c66edc1090a8bd7dac17,openstack/tripleo-upgrade,stable/queens,I5b7333d9bfb8954b3c52c66edc1090a8bd7dac17,Allow specify Ceph upgrade workarounds.,MERGED,2019-11-13 19:12:47.000000000,2019-11-26 21:34:56.000000000,2019-11-26 21:34:56.000000000,"[{'_account_id': 8297}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ca41ca833ca5785cf145dd9a9da1e0502d4d12fb', 'message': 'Allow specify Ceph upgrade workarounds.\n\nSo far we are missing mechanism to apply workarounds(if needed)\npre- and post-upgrade of ceph cluster.\n\nChange-Id: I5b7333d9bfb8954b3c52c66edc1090a8bd7dac17\n(cherry picked from commit bd559cb50a6a888e570ec6faf31eb330844a7cdf)\n(cherry picked from commit 7a29bec1aca804b8de939d7ab4b8622f5927b597)\n'}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bd5a0b497d5ffb0caaf94b477fbd6ab3500028fe', 'message': 'Allow specify Ceph upgrade workarounds.\n\nSo far we are missing mechanism to apply workarounds(if needed)\npre- and post-upgrade of ceph cluster.\n\nChange-Id: I5b7333d9bfb8954b3c52c66edc1090a8bd7dac17\n(cherry picked from commit bd559cb50a6a888e570ec6faf31eb330844a7cdf)\n(cherry picked from commit 7a29bec1aca804b8de939d7ab4b8622f5927b597)\n'}, {'number': 3, 'created': '2019-11-22 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/39c029ec57f288c9ff7b106e0a4f66d6476ed5c2', 'message': 'Allow specify Ceph upgrade workarounds.\n\nSo far we are missing mechanism to apply workarounds(if needed)\npre- and post-upgrade of ceph cluster.\n\nChange-Id: I5b7333d9bfb8954b3c52c66edc1090a8bd7dac17\n(cherry picked from commit bd559cb50a6a888e570ec6faf31eb330844a7cdf)\n(cherry picked from commit 7a29bec1aca804b8de939d7ab4b8622f5927b597)\n'}, {'number': 4, 'created': '2019-11-25 11:24:52.000000000', 'files': ['templates/workarounds.sh.j2', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7b356fb54d52619c646ac5975c33c8a818296d7b', 'message': 'Allow specify Ceph upgrade workarounds.\n\nSo far we are missing mechanism to apply workarounds(if needed)\npre- and post-upgrade of ceph cluster.\n\nChange-Id: I5b7333d9bfb8954b3c52c66edc1090a8bd7dac17\n(cherry picked from commit bd559cb50a6a888e570ec6faf31eb330844a7cdf)\n(cherry picked from commit 7a29bec1aca804b8de939d7ab4b8622f5927b597)\n'}]",0,694157,7b356fb54d52619c646ac5975c33c8a818296d7b,12,3,4,11166,,,0,"Allow specify Ceph upgrade workarounds.

So far we are missing mechanism to apply workarounds(if needed)
pre- and post-upgrade of ceph cluster.

Change-Id: I5b7333d9bfb8954b3c52c66edc1090a8bd7dac17
(cherry picked from commit bd559cb50a6a888e570ec6faf31eb330844a7cdf)
(cherry picked from commit 7a29bec1aca804b8de939d7ab4b8622f5927b597)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/57/694157/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml']",3,ca41ca833ca5785cf145dd9a9da1e0502d4d12fb,," - name: apply pre Ceph upgrade workarounds shell: | set -o pipefail bash {{ working_dir }}/pre_ceph_upgrade_workarounds.sh 2>&1 {{ timestamper_cmd }} > pre_ceph_upgrade_workarounds.log args: chdir: ""{{working_dir}}"" when: upgrade_workarounds - name: apply post Ceph upgrade workarounds shell: | set -o pipefail bash {{ working_dir }}/post_ceph_upgrade_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_ceph_upgrade_workarounds.log args: chdir: ""{{ working_dir }}"" when: upgrade_workarounds - include: overcloud_upgrade_converge.yml", - import_tasks: overcloud_upgrade_converge.yml,47,2
openstack%2Ftripleo-upgrade~stable%2Fqueens~I97eae282bf1ec47b012b89f74b682e6880a7838c,openstack/tripleo-upgrade,stable/queens,I97eae282bf1ec47b012b89f74b682e6880a7838c,Fix variables for workaround variables.,MERGED,2019-11-13 19:12:47.000000000,2019-11-26 21:34:56.000000000,2019-11-26 21:34:56.000000000,"[{'_account_id': 8297}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f3718b5623b649c5dd16f9a8db7c7b99a9566a60', 'message': 'Fix variables for workaround variables.\n\nDrop invalid workarounds keywords\n- pre_docker_composable_upgrade_workarounds\n- pre_nova_compute_upgrade_workarounds\n- pre_docker_converge_upgrade_workarounds\n- post_docker_converge_upgrade_workarounds\nand use appropriate one:\n- pre_overcloud_upgrade_workarounds\n- post_overcloud_upgrade_workarounds\n- pre_overcloud_upgrade_converge_workarounds\n- post_overcloud_upgrade_converge_workarounds\n\nChange-Id: I97eae282bf1ec47b012b89f74b682e6880a7838c\n(cherry picked from commit 8cdda0ed23c8c68a40cd35341652b615776a05d5)\n(cherry picked from commit dcdaa545b93c99e1cd39bb1f8333c13558f2be71)\n'}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/13c210148db23d37c014b614aa449a5f1cb94855', 'message': 'Fix variables for workaround variables.\n\nDrop invalid workarounds keywords\n- pre_docker_composable_upgrade_workarounds\n- pre_nova_compute_upgrade_workarounds\n- pre_docker_converge_upgrade_workarounds\n- post_docker_converge_upgrade_workarounds\nand use appropriate one:\n- pre_overcloud_upgrade_workarounds\n- post_overcloud_upgrade_workarounds\n- pre_overcloud_upgrade_converge_workarounds\n- post_overcloud_upgrade_converge_workarounds\n\nChange-Id: I97eae282bf1ec47b012b89f74b682e6880a7838c\n(cherry picked from commit 8cdda0ed23c8c68a40cd35341652b615776a05d5)\n(cherry picked from commit dcdaa545b93c99e1cd39bb1f8333c13558f2be71)\n'}, {'number': 3, 'created': '2019-11-22 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/13c5cbb913e81e0b155de0f9def3793bdb430732', 'message': 'Fix variables for workaround variables.\n\nDrop invalid workarounds keywords\n- pre_docker_composable_upgrade_workarounds\n- pre_nova_compute_upgrade_workarounds\n- pre_docker_converge_upgrade_workarounds\n- post_docker_converge_upgrade_workarounds\nand use appropriate one:\n- pre_overcloud_upgrade_workarounds\n- post_overcloud_upgrade_workarounds\n- pre_overcloud_upgrade_converge_workarounds\n- post_overcloud_upgrade_converge_workarounds\n\nChange-Id: I97eae282bf1ec47b012b89f74b682e6880a7838c\n(cherry picked from commit 8cdda0ed23c8c68a40cd35341652b615776a05d5)\n(cherry picked from commit dcdaa545b93c99e1cd39bb1f8333c13558f2be71)\n'}, {'number': 4, 'created': '2019-11-25 11:24:52.000000000', 'files': ['templates/workarounds.sh.j2', 'tasks/upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6234c80d3b2684816e89bb10b9285dad8cadab47', 'message': 'Fix variables for workaround variables.\n\nDrop invalid workarounds keywords\n- pre_docker_composable_upgrade_workarounds\n- pre_nova_compute_upgrade_workarounds\n- pre_docker_converge_upgrade_workarounds\n- post_docker_converge_upgrade_workarounds\nand use appropriate one:\n- pre_overcloud_upgrade_workarounds\n- post_overcloud_upgrade_workarounds\n- pre_overcloud_upgrade_converge_workarounds\n- post_overcloud_upgrade_converge_workarounds\n\nChange-Id: I97eae282bf1ec47b012b89f74b682e6880a7838c\n(cherry picked from commit 8cdda0ed23c8c68a40cd35341652b615776a05d5)\n(cherry picked from commit dcdaa545b93c99e1cd39bb1f8333c13558f2be71)\n'}]",0,694156,6234c80d3b2684816e89bb10b9285dad8cadab47,12,3,4,11166,,,0,"Fix variables for workaround variables.

Drop invalid workarounds keywords
- pre_docker_composable_upgrade_workarounds
- pre_nova_compute_upgrade_workarounds
- pre_docker_converge_upgrade_workarounds
- post_docker_converge_upgrade_workarounds
and use appropriate one:
- pre_overcloud_upgrade_workarounds
- post_overcloud_upgrade_workarounds
- pre_overcloud_upgrade_converge_workarounds
- post_overcloud_upgrade_converge_workarounds

Change-Id: I97eae282bf1ec47b012b89f74b682e6880a7838c
(cherry picked from commit 8cdda0ed23c8c68a40cd35341652b615776a05d5)
(cherry picked from commit dcdaa545b93c99e1cd39bb1f8333c13558f2be71)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/56/694156/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tasks/upgrade/main.yml']",2,f3718b5623b649c5dd16f9a8db7c7b99a9566a60,, bash {{ working_dir }}/pre_overcloud_upgrade_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > pre_overcloud_upgrade_converge_workarounds.log bash {{ working_dir }}/post_overcloud_upgrade_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_overcloud_upgrade_converge_workarounds.log, bash {{ working_dir }}/pre_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > pre_overcloud_converge_workarounds.log bash {{ working_dir }}/post_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_overcloud_converge_workarounds.log,96,73
openstack%2Fnova~master~I63447baeaac0be3fb7f919bfe588da50133c74d7,openstack/nova,master,I63447baeaac0be3fb7f919bfe588da50133c74d7,nova-net: Remove 'nova-dhcpbridge' binary,MERGED,2019-10-04 18:22:20.000000000,2019-11-26 21:16:12.000000000,2019-11-26 21:12:34.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 18:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4e9efe4c5156b4648f325c724da434e76a07037', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-10-05 12:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e73f0d434f1ed853c757cd3a9897be6bcf137a48', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-10-05 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e77173bfe3c99d3dcaba7f648253ba2d0a501f69', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-10-05 19:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50f2eee9869b464e2eace0149cfdd088f4b413ae', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-10-09 15:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/199fb0437b50847c2293520615d2534a849974a5', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-11-13 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dd559eadb50e05a8ef868519b15b5f495a7ac2a', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-11-15 15:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92453fe67e2b60c6decdeb32b4d513b7b0a6c2e9', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-11-18 16:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb04cbcafcaae54612601463e81b63d26d5923bb', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-11-22 16:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fdf75579375c5218daebf8505c71cac495673ba', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-11-22 16:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b792362773d0bbf132b54a2d54474e7b6138b3ba', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-11-23 13:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5128b788e3bccbeed10e60b97b92e6289848d19', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2019-11-25 16:43:56.000000000', 'files': ['nova/cmd/dhcpbridge.py', 'doc/source/cli/nova-dhcpbridge.rst', 'releasenotes/notes/remove-nova-network-c02953ba72a1795d.yaml', 'doc/source/cli/index.rst', 'doc/source/conf.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/19424403f4a2be4957a86ef269081935f88abc79', 'message': ""nova-net: Remove 'nova-dhcpbridge' binary\n\nThere are actually a few things here that rely on a running\nnova-dhcpbridge instances, but since it's not possible to start\nnova-network now, that shouldn't matter.\n\nChange-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,686815,19424403f4a2be4957a86ef269081935f88abc79,135,16,12,15334,,,0,"nova-net: Remove 'nova-dhcpbridge' binary

There are actually a few things here that rely on a running
nova-dhcpbridge instances, but since it's not possible to start
nova-network now, that shouldn't matter.

Change-Id: I63447baeaac0be3fb7f919bfe588da50133c74d7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/686815/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/dhcpbridge.py', 'doc/source/cli/nova-dhcpbridge.rst', 'doc/source/cli/index.rst', 'doc/source/conf.py', 'setup.cfg']",5,d4e9efe4c5156b4648f325c724da434e76a07037,bp/remove-nova-network-ussuri,, nova-dhcpbridge = nova.cmd.dhcpbridge:main,0,196
openstack%2Fnova~master~Ief1c268708c21a85779ae9a5fa452b6dd132bb7e,openstack/nova,master,Ief1c268708c21a85779ae9a5fa452b6dd132bb7e,DNM: Test openstacksdk weakrefs,ABANDONED,2019-11-25 15:45:39.000000000,2019-11-26 20:43:07.000000000,,"[{'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-25 15:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7c0dad786c77c2753ec7296dd9e1ada97fb3b22', 'message': ""DNM: Test openstacksdk weakrefs\n\nThe dep changes some references to weakref.proxyZ and I'm suspicious\nthat one of them could break our use for placement and ironic.\n\nPare down the CI to just one tempest job and the ironic job and bring in\nthe dep to see if it breaks us.\n\nDepends-On: https://review.opendev.org/695795\nChange-Id: Ief1c268708c21a85779ae9a5fa452b6dd132bb7e\n""}, {'number': 2, 'created': '2019-11-26 16:35:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4bf94f4d61c0a2941d50d998ed03b1fcf6ef29eb', 'message': ""DNM: Test openstacksdk weakrefs\n\nThe dep changes some references to weakref.proxyZ and I'm suspicious\nthat one of them could break our use for placement and ironic.\n\nPare down the CI to just one tempest job and the ironic job and bring in\nthe dep to see if it breaks us.\n\nDepends-On: https://review.opendev.org/695795\nChange-Id: Ief1c268708c21a85779ae9a5fa452b6dd132bb7e\n""}]",0,695934,4bf94f4d61c0a2941d50d998ed03b1fcf6ef29eb,20,8,2,14070,,,0,"DNM: Test openstacksdk weakrefs

The dep changes some references to weakref.proxyZ and I'm suspicious
that one of them could break our use for placement and ironic.

Pare down the CI to just one tempest job and the ironic job and bring in
the dep to see if it breaks us.

Depends-On: https://review.opendev.org/695795
Change-Id: Ief1c268708c21a85779ae9a5fa452b6dd132bb7e
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/695934/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f7c0dad786c77c2753ec7296dd9e1ada97fb3b22,dnm-test-sdk-weakrefs,"# templates: # - check-requirements # - integrated-gate-compute # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python3-ussuri-jobs # - periodic-stable-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3 required-projects: - openstack/openstacksdk# - devstack-plugin-ceph-tempest-py3: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - neutron-grenade-multinode: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-linuxbridge: # irrelevant-files: # # NOTE(mriedem): This job has its own irrelevant-files section # # so that we only run it on changes to networking and libvirt/vif # # code; we don't need to run this on all changes, nor do we run # # it in the gate. # - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ # - nova-grenade-multinode # - nova-live-migration # - nova-lvm # - nova-multi-cell # - nova-next # - nova-tox-functional-py36 required-projects: - openstack/openstacksdk # - grenade-py3: # irrelevant-files: *dsvm-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *dsvm-irrelevant-files"," templates: - check-requirements - integrated-gate-compute - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-ussuri-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - devstack-plugin-ceph-tempest-py3: voting: false irrelevant-files: *dsvm-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes, nor do we run # it in the gate. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-grenade-multinode - nova-live-migration - nova-lvm - nova-multi-cell - nova-next - nova-tox-functional-py36 - grenade-py3: irrelevant-files: *dsvm-irrelevant-files - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files",35,31
openstack%2Fpython-saharaclient~master~I9b8f5c625314093dc5a5e12257071813394ae749,openstack/python-saharaclient,master,I9b8f5c625314093dc5a5e12257071813394ae749,WIP devstack/tempest job with python3,ABANDONED,2019-05-28 12:14:14.000000000,2019-11-26 20:34:56.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 12:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/0e7c9adaf566b0e839fad9ffe1e62ab60665c60c', 'message': 'WIP devstack/tempest job with python3\n\nChange-Id: I9b8f5c625314093dc5a5e12257071813394ae749\n'}, {'number': 2, 'created': '2019-05-28 14:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/97be8d252d4f6c73ed27016c1e89d096d1e555f2', 'message': 'WIP devstack/tempest job with python3\n\nChange-Id: I9b8f5c625314093dc5a5e12257071813394ae749\n'}, {'number': 3, 'created': '2019-05-28 21:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/dc23ba0fcbbe80a54395e13abb38b3f27132b5e4', 'message': 'WIP devstack/tempest job with python3\n\nChange-Id: I9b8f5c625314093dc5a5e12257071813394ae749\n'}, {'number': 4, 'created': '2019-05-28 23:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/2f8045489b3bf0240d18273925081d9bd2f4c0ff', 'message': 'WIP devstack/tempest job with python3\n\nDepends-On: https://review.opendev.org/661771\nChange-Id: I9b8f5c625314093dc5a5e12257071813394ae749\n'}, {'number': 5, 'created': '2019-05-31 09:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/c13da462dc7db4894f5e888c26de2f6ff11d2bdc', 'message': 'WIP devstack/tempest job with python3\n\nDepends-On: https://review.opendev.org/661771\nChange-Id: I9b8f5c625314093dc5a5e12257071813394ae749\n'}, {'number': 6, 'created': '2019-05-31 09:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/967b69ceb7f6a05bacec3a451fae44cfdaffc553', 'message': 'WIP devstack/tempest job with python3\n\nDepends-On: https://review.opendev.org/661771\nChange-Id: I9b8f5c625314093dc5a5e12257071813394ae749\n'}, {'number': 7, 'created': '2019-06-04 14:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/88faae6712a943b5ed6bdc4cacbcb0666d1caec6', 'message': 'WIP devstack/tempest job with python3\n\nDepends-On: https://review.opendev.org/663055\nChange-Id: I9b8f5c625314093dc5a5e12257071813394ae749\n'}, {'number': 8, 'created': '2019-06-21 14:22:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/f4c7013485673a35b0fe892c6b9557c2e370298c', 'message': 'WIP devstack/tempest job with python3\n\nDepends-On: https://review.opendev.org/663055\nChange-Id: I9b8f5c625314093dc5a5e12257071813394ae749\n'}]",0,661744,f4c7013485673a35b0fe892c6b9557c2e370298c,22,2,8,10459,,,0,"WIP devstack/tempest job with python3

Depends-On: https://review.opendev.org/663055
Change-Id: I9b8f5c625314093dc5a5e12257071813394ae749
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/44/661744/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0e7c9adaf566b0e839fad9ffe1e62ab60665c60c,test-py3, vars: devstack_localrc: USE_PYTHON3: 'True' vars: devstack_localrc: USE_PYTHON3: 'True',,6,0
openstack%2Ftempest~master~Ib6e64ff37e8c9348d1727f7eb9acdb3d644b8ed4,openstack/tempest,master,Ib6e64ff37e8c9348d1727f7eb9acdb3d644b8ed4,DNM Debug the properties of the blacklist file,ABANDONED,2019-10-01 13:15:31.000000000,2019-11-26 20:34:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-01 13:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cda9d988698ddc306cebe88097dd95971ccd7606', 'message': 'DNM Debug the properties of the blacklist file\n\nChange-Id: Ib6e64ff37e8c9348d1727f7eb9acdb3d644b8ed4\n'}, {'number': 2, 'created': '2019-10-01 15:55:03.000000000', 'files': ['roles/run-tempest/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/dfbc30538d43e99e982c4dbf4df8914a39b4383e', 'message': 'DNM Debug the properties of the blacklist file\n\nChange-Id: Ib6e64ff37e8c9348d1727f7eb9acdb3d644b8ed4\n'}]",0,685968,dfbc30538d43e99e982c4dbf4df8914a39b4383e,4,1,2,10459,,,0,"DNM Debug the properties of the blacklist file

Change-Id: Ib6e64ff37e8c9348d1727f7eb9acdb3d644b8ed4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/685968/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-tempest/tasks/main.yaml'],1,cda9d988698ddc306cebe88097dd95971ccd7606,debug-run-tempest," - name: Get the details of the blacklist file path for debug command: | namei -l ""{{ tempest_test_blacklist }})"" register: blacklist_file_debug - name: Debug the blacklist file path debug: var: ""blacklist_file_debug.stdout_lines"" ",,9,0
openstack%2Foctavia~master~I29532d955a1d35ad3703af4c18091d4c536b5ad8,openstack/octavia,master,I29532d955a1d35ad3703af4c18091d4c536b5ad8,Make octavia-grenade job non-voting,MERGED,2019-11-26 15:21:59.000000000,2019-11-26 20:30:32.000000000,2019-11-26 20:27:02.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 15:21:59.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce6b2e80e2d8aed52daa60d30494909aec3df391', 'message': ""Make octavia-grenade job non-voting\n\nUntil some python3 upgrade issues are fixed, disable the job\nsince it's at 100% failure rate.\n\nChange-Id: I29532d955a1d35ad3703af4c18091d4c536b5ad8\n""}]",0,696107,ce6b2e80e2d8aed52daa60d30494909aec3df391,11,4,1,1131,,,0,"Make octavia-grenade job non-voting

Until some python3 upgrade issues are fixed, disable the job
since it's at 100% failure rate.

Change-Id: I29532d955a1d35ad3703af4c18091d4c536b5ad8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/696107/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ce6b2e80e2d8aed52daa60d30494909aec3df391,grenade-non-voting, # TODO(haleyb): restore to voting once python3 issues fixed - octavia-grenade: voting: false, - octavia-grenade: - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$,2,11
openstack%2Fkolla-ansible~master~I0da524905e6a9da7fb98c9c2ef2a00584d1b2fea,openstack/kolla-ansible,master,I0da524905e6a9da7fb98c9c2ef2a00584d1b2fea,DNM: Test Tacker upgrade,ABANDONED,2019-11-25 19:23:05.000000000,2019-11-26 20:27:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-25 19:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/408ecbfeda4ecd066f3dc3e2bbb85b136d652aab', 'message': 'DNM: Test Tacker upgrade\n\nDepends-on: https://review.opendev.org/695804\nChange-Id: I0da524905e6a9da7fb98c9c2ef2a00584d1b2fea\n'}, {'number': 2, 'created': '2019-11-26 07:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d1de39e160a1e41b15fd54740ffa0745fad8e24', 'message': 'DNM: Test Tacker upgrade\n\nDepends-on: https://review.opendev.org/695804\nChange-Id: I0da524905e6a9da7fb98c9c2ef2a00584d1b2fea\n'}, {'number': 3, 'created': '2019-11-26 18:19:49.000000000', 'files': ['tests/run.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/349cbd4727dd311095e1fbdcdd1ca6175e3bc679', 'message': 'DNM: Test Tacker upgrade\n\nDepends-on: https://review.opendev.org/695804\nChange-Id: I0da524905e6a9da7fb98c9c2ef2a00584d1b2fea\n'}]",0,695973,349cbd4727dd311095e1fbdcdd1ca6175e3bc679,12,2,3,30491,,,0,"DNM: Test Tacker upgrade

Depends-on: https://review.opendev.org/695804
Change-Id: I0da524905e6a9da7fb98c9c2ef2a00584d1b2fea
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/695973/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,408ecbfeda4ecd066f3dc3e2bbb85b136d652aab,dnm-tacker-upgrade, name: kolla-ansible-centos-source-scenario-nfv-upgrade parent: kolla-ansible-upgrade-base nodeset: kolla-ansible-centos-multi description: CI scenario to test NFV orchestration voting: false vars: base_distro: centos install_type: source scenario: scenario_nfv - job:,,12,66
openstack%2Ftripleo-heat-templates~master~I3f7c27b22e256addbbba514669639379e7040ada,openstack/tripleo-heat-templates,master,I3f7c27b22e256addbbba514669639379e7040ada,Use the master (non-voting) scenario000 upgrades job,ABANDONED,2019-08-27 13:59:39.000000000,2019-11-26 20:19:17.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-27 13:59:39.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc14e066cc9cadd8c3e563f7a4553ac0e1bb5f96', 'message': 'Use the master (non-voting) scenario000 upgrades job\n\nhttps://review.opendev.org/#/c/678814 splits the scenario000\nupgrades job into branch voting and master non-voting\njobs.\n\nDepends-On: https://review.opendev.org/#/c/678814\nChange-Id: I3f7c27b22e256addbbba514669639379e7040ada\n'}]",0,678852,fc14e066cc9cadd8c3e563f7a4553ac0e1bb5f96,8,7,1,9976,,,0,"Use the master (non-voting) scenario000 upgrades job

https://review.opendev.org/#/c/678814 splits the scenario000
upgrades job into branch voting and master non-voting
jobs.

Depends-On: https://review.opendev.org/#/c/678814
Change-Id: I3f7c27b22e256addbbba514669639379e7040ada
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/678852/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,fc14e066cc9cadd8c3e563f7a4553ac0e1bb5f96,000-upgrades-voting, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades-master:, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades:,1,1
openstack%2Ftripleo-ci~master~I357ae97a66aaee367f67636eb943873a7df118d3,openstack/tripleo-ci,master,I357ae97a66aaee367f67636eb943873a7df118d3,Add copy of roles in setup.cfg for re-use outside tripleo-ci,ABANDONED,2019-07-12 13:28:31.000000000,2019-11-26 20:19:01.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-12 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/19f23d0b65bb5de1ea3f809f2c61492604207aba', 'message': 'Add roles/playbooks copy in setup.cfg\n\nThis addition is required to add tripleo-ci in the\nrequirements of other repos so that the roles can be added\nand used there.\n\nChange-Id: I357ae97a66aaee367f67636eb943873a7df118d3\n'}, {'number': 2, 'created': '2019-07-12 13:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/49ed57c009ba346838c44e45e4423a6866380583', 'message': 'Add roles/playbooks copy in setup.cfg\n\nThis addition is required to add tripleo-ci in the\nrequirements of other repos so that the roles can be added\nand used there.\n\nChange-Id: I357ae97a66aaee367f67636eb943873a7df118d3\n'}, {'number': 3, 'created': '2019-07-12 21:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/39f3560a02178f1cdc3b414d5aa63b5b50afb48e', 'message': 'Add roles/playbooks copy in setup.cfg\n\nThis addition is required to add tripleo-ci in the\nrequirements of other repos so that the roles can be added\nand used there.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1154\nChange-Id: I357ae97a66aaee367f67636eb943873a7df118d3\n'}, {'number': 4, 'created': '2019-07-16 12:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cf14d165161b718fee49874f1f104c07d6ba6c19', 'message': 'Add roles/playbooks copy in setup.cfg\n\nThis addition is required to add tripleo-ci in the\nrequirements of other repos so that the roles can be added\nand used there.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1154\nChange-Id: I357ae97a66aaee367f67636eb943873a7df118d3\n'}, {'number': 5, 'created': '2019-07-16 14:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b216f8869d9563c6d58c1c8d750604444d1f5d44', 'message': 'Add roles copy in setup.cfg to re-use tripleo-ci roles in tqe\n\nThis addition is required to add tripleo-ci in the\nrequirements of other repos so that the roles can be added\nand used there.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1154\nChange-Id: I357ae97a66aaee367f67636eb943873a7df118d3\n'}, {'number': 7, 'created': '2019-07-16 14:58:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/87cbd6718bcfb818fdcfd623a346c4d90533ad0f', 'message': 'Add copy of roles in setup.cfg for re-use outside tripleo-ci\n\nThis addition is required to add tripleo-ci in the\nrequirements of other repos so that the roles can be added\nand used there.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1154\nChange-Id: I357ae97a66aaee367f67636eb943873a7df118d3\n'}]",5,670551,87cbd6718bcfb818fdcfd623a346c4d90533ad0f,25,8,6,9976,,,0,"Add copy of roles in setup.cfg for re-use outside tripleo-ci

This addition is required to add tripleo-ci in the
requirements of other repos so that the roles can be added
and used there.

Story: https://tree.taiga.io/project/tripleo-ci-board/task/1154
Change-Id: I357ae97a66aaee367f67636eb943873a7df118d3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/670551/7 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,19f23d0b65bb5de1ea3f809f2c61492604207aba,add-setup-files,[files] data_files = playbooks = playbooks/* usr/local/share/ansible/roles = roles/* ,,5,0
openstack%2Fnova~stable%2Ftrain~I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b,openstack/nova,stable/train,I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b,Replace time.sleep(10) with service forced_down in tests,MERGED,2019-11-26 13:58:13.000000000,2019-11-26 19:58:04.000000000,2019-11-26 18:54:43.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-26 13:58:13.000000000', 'files': ['nova/tests/functional/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5daa0ddb3129ddd1bea4e85570c047fc2912b1a', 'message': 'Replace time.sleep(10) with service forced_down in tests\n\nThe server group functional tests are doing time.sleep(10) in order\nto make sure a stopped compute service is considered ""down"" by the nova\ncompute API.\n\nInstead of sleeping, we can set the service as ""forced_down"" to get the\ndesired ""down"" compute service status and avoid unnecessary delays in\nthese tests.\n\nUnnecessary service start() calls are also removed in this change. They\nappear at the end of tests and services are started during each test\nsetUp() and killed during each test tearDown() via the ServiceFixture.\n\nCloses-Bug: #1783565\n\nChange-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b\n(cherry picked from commit 1c93ca82b8fb8e39787020decfe335d45f8732e7)\n'}]",0,696088,a5daa0ddb3129ddd1bea4e85570c047fc2912b1a,12,6,1,6873,,,0,"Replace time.sleep(10) with service forced_down in tests

The server group functional tests are doing time.sleep(10) in order
to make sure a stopped compute service is considered ""down"" by the nova
compute API.

Instead of sleeping, we can set the service as ""forced_down"" to get the
desired ""down"" compute service status and avoid unnecessary delays in
these tests.

Unnecessary service start() calls are also removed in this change. They
appear at the end of tests and services are started during each test
setUp() and killed during each test tearDown() via the ServiceFixture.

Closes-Bug: #1783565

Change-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b
(cherry picked from commit 1c93ca82b8fb8e39787020decfe335d45f8732e7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/696088/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_server_group.py'],1,a5daa0ddb3129ddd1bea4e85570c047fc2912b1a,bug/1783565," def _set_forced_down(self, service, forced_down): # Use microversion 2.53 for PUT /os-services/{service_id} force down. with utils.temporary_mutation(self.admin_api, microversion='2.53'): self.admin_api.put_service_force_down(service.service_ref.uuid, forced_down) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True)",import time # Override servicegroup parameters to make the tests run faster _service_down_time = 10 _report_interval = 1 self.flags(service_down_time=self._service_down_time) self.flags(report_interval=self._report_interval) host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() ,20,49
openstack%2Fcharm-deployment-guide~master~I2446b028cc810f1e7e8391f1661f275abcc6c046,openstack/charm-deployment-guide,master,I2446b028cc810f1e7e8391f1661f275abcc6c046,Clarify service upgrades section,ABANDONED,2019-11-20 00:57:34.000000000,2019-11-26 19:50:32.000000000,,"[{'_account_id': 20635}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 00:57:34.000000000', 'files': ['deploy-guide/source/app-upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d047c5bbe0300a8b3d63901fc54e99c1fa62ef42', 'message': 'Clarify service upgrades section\n\nThe concept of service was wanting in the OpenStack\nservice upgrade section and the text was convoluted\nas a result.\n\nChange-Id: I2446b028cc810f1e7e8391f1661f275abcc6c046\n'}]",1,695123,d047c5bbe0300a8b3d63901fc54e99c1fa62ef42,4,2,1,30561,,,0,"Clarify service upgrades section

The concept of service was wanting in the OpenStack
service upgrade section and the text was convoluted
as a result.

Change-Id: I2446b028cc810f1e7e8391f1661f275abcc6c046
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/23/695123/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-upgrade-openstack.rst'],1,d047c5bbe0300a8b3d63901fc54e99c1fa62ef42,clarify-upgrade-service-section,The services are put into groups to indicate their upgrade order. All services within the same group are acted upon before those in the next group (i.e. upgrade all services in group 2 before moving on to group 3). Any `Release Notes`_ guidance overrides the information listed here. You may also consult the upstream documentation on the subject: `Update services`_. Each service in the below table is to be upgraded individually. +-------+----------------+-----------------------+---------------+ | Group | Service | Charm | Type | +=======+================+=======================+===============+ | 1 | Keystone | keystone | core identity | +-------+----------------+------+----------------+---------------+ | 2 | Ceph | ceph-mon | storage | +-------+----------------+------+----------------+---------------+ | 2 | Ceph | ceph-osd | storage | +-------+----------------+-----------------------+---------------+ | 2 | Ceph | ceph-fs | storage | +-------+----------------+-----------------------+---------------+ | 2 | Ceph | ceph-radosgw | storage | +-------+----------------+-----------------------+---------------+ | 2 | Swift | swift-proxy | storage | +-------+----------------+-----------------------+---------------+ | 2 | Swift | swift-storage | storage | +-------+----------------+-----------------------+---------------+ | 3 | Aodh | aodh | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Barbican | barbican | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Ceilometer | ceilometer | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Cinder | cinder | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Designate | designate | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Designate | designate-bind | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Glance | glance | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Gnocchi | gnocchi | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Heat | heat | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Manila | manila | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Manila | manila-generic | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Neutron | neutron-api | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Neutron | neutron-gateway | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Placement | placement | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Controller | nova-cloud-controller | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Horizon | openstack-dashboard | control plane | +-------+----------------+-----------------------+---------------+ | 3 | Nova | nova-compute | compute | +-------+----------------+-----------------------+---------------+,The charms are put into groups to indicate the order in which their corresponding OpenStack services should be upgraded. The order within a group is unimportant. What matters is that all the charms within the same group are acted on before those in the next group (i.e. upgrade all charms in group 2 before moving on to group 3). Any `Release Notes`_ guidance overrides the information listed here. You may also consult the upstream documentation on the subject: `Update services`_. Each service represented by a charm in the below table will need to be upgraded individually. +-------+-----------------------+---------------+ | Group | Charm Name | Charm Type | +=======+=======================+===============+ | 1 | keystone | Core Identity | +-------+-----------------------+---------------+ | 2 | ceph-mon | Storage | +-------+-----------------------+---------------+ | 2 | ceph-osd | Storage | +-------+-----------------------+---------------+ | 2 | ceph-fs | Storage | +-------+-----------------------+---------------+ | 2 | ceph-radosgw | Storage | +-------+-----------------------+---------------+ | 2 | swift-proxy | Storage | +-------+-----------------------+---------------+ | 2 | swift-storage | Storage | +-------+-----------------------+---------------+ | 3 | aodh | Control Plane | +-------+-----------------------+---------------+ | 3 | barbican | Control Plane | +-------+-----------------------+---------------+ | 3 | ceilometer | Control Plane | +-------+-----------------------+---------------+ | 3 | cinder | Control Plane | +-------+-----------------------+---------------+ | 3 | designate | Control Plane | +-------+-----------------------+---------------+ | 3 | designate-bind | Control Plane | +-------+-----------------------+---------------+ | 3 | glance | Control Plane | +-------+-----------------------+---------------+ | 3 | gnocchi | Control Plane | +-------+-----------------------+---------------+ | 3 | heat | Control Plane | +-------+-----------------------+---------------+ | 3 | manila | Control Plane | +-------+-----------------------+---------------+ | 3 | manila-generic | Control Plane | +-------+-----------------------+---------------+ | 3 | neutron-api | Control Plane | +-------+-----------------------+---------------+ | 3 | neutron-gateway | Control Plane | +-------+-----------------------+---------------+ | 3 | placement | Control Plane | +-------+-----------------------+---------------+ | 3 | nova-cloud-controller | Control Plane | +-------+-----------------------+---------------+ | 3 | openstack-dashboard | Control Plane | +-------+-----------------------+---------------+ | 3 | nova-compute | Compute | +-------+-----------------------+---------------+,57,60
openstack%2Fcharm-guide~master~I6b540db54c2e0f93da0868cc64e2ebb2fda88b7a,openstack/charm-guide,master,I6b540db54c2e0f93da0868cc64e2ebb2fda88b7a,Add bug tags section to rotas page,MERGED,2019-11-07 12:38:16.000000000,2019-11-26 19:35:05.000000000,2019-11-26 19:33:53.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-11-07 12:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a140335e229e24c9f23cacb9b4b2208499077f51', 'message': 'Add bug tags section to rotas page\n\nChange-Id: I6b540db54c2e0f93da0868cc64e2ebb2fda88b7a\n'}, {'number': 2, 'created': '2019-11-07 13:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/577fdad86538ccba6a7b795531b50cdd62f16994', 'message': 'Add bug tags section to rotas page\n\nChange-Id: I6b540db54c2e0f93da0868cc64e2ebb2fda88b7a\n'}, {'number': 3, 'created': '2019-11-07 13:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5818936966459b97d0b9ed4193ff1e3aadeb3b53', 'message': 'Add bug tags section to rotas page\n\nChange-Id: I6b540db54c2e0f93da0868cc64e2ebb2fda88b7a\n'}, {'number': 4, 'created': '2019-11-26 18:49:44.000000000', 'files': ['doc/source/how-to-contribute.rst', 'doc/source/rotas.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/96b575977d421f4940af71fd644320c28bf3518b', 'message': 'Add bug tags section to rotas page\n\nChange-Id: I6b540db54c2e0f93da0868cc64e2ebb2fda88b7a\n'}]",4,693347,96b575977d421f4940af71fd644320c28bf3518b,16,4,4,20635,,,0,"Add bug tags section to rotas page

Change-Id: I6b540db54c2e0f93da0868cc64e2ebb2fda88b7a
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/47/693347/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/rotas.rst'],1,a140335e229e24c9f23cacb9b4b2208499077f51,add-tags," Bug tags ++++++++ When triaging or filing bugs, please use Launchpad tags to identify the following types of bugs: * `openstack-upgrade`_ * `charm-upgrade`_ * `series-upgrade`_ * `ceph-upgrade`_ * `scaleback`_ .. _`charm-upgrade`: https://bugs.launchpad.net/bugs/+bugs?field.tag=charm-upgrade .. _`series-upgrade`: https://bugs.launchpad.net/bugs/+bugs?field.tag=series-upgrade .. _`openstack-upgrade`: https://bugs.launchpad.net/bugs/+bugs?field.tag=openstack-upgrade .. _`ceph-upgrade`: https://bugs.launchpad.net/bugs/+bugs?field.tag=ceph-upgrade .. _`scaleback`: https://bugs.launchpad.net/bugs/+bugs?field.tag=scaleback",,19,0
openstack%2Fneutron~master~If749c566d58659f60739d0eb893dc1001d93f01f,openstack/neutron,master,If749c566d58659f60739d0eb893dc1001d93f01f,Change router enable_snat to be owner-modifiable,ABANDONED,2018-09-18 19:50:53.000000000,2019-11-26 19:29:58.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-09-18 19:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85da48db657c782fc638ed79fba734676a3ba793', 'message': ""Change router enable_snat to be owner-modifiable\n\nWhen this was added I'm not sure there was a specific reason\nit was made admin-only, so make is admin-or-owner settable.\n\nChange-Id: If749c566d58659f60739d0eb893dc1001d93f01f\nCloses-bug: #1793207\n""}, {'number': 2, 'created': '2018-09-27 21:55:54.000000000', 'files': ['etc/policy.json', 'neutron/tests/etc/policy.json'], 'web_link': 'https://opendev.org/openstack/neutron/commit/308f2db249aa3660c87df849784420e9ec97248f', 'message': ""Change router enable_snat to be owner-modifiable\n\nWhen this was added I'm not sure there was a specific reason\nit was made admin-only, so make is admin-or-owner settable.\n\nChange-Id: If749c566d58659f60739d0eb893dc1001d93f01f\nCloses-bug: #1793207\n""}]",0,603485,308f2db249aa3660c87df849784420e9ec97248f,17,9,2,1131,,,0,"Change router enable_snat to be owner-modifiable

When this was added I'm not sure there was a specific reason
it was made admin-only, so make is admin-or-owner settable.

Change-Id: If749c566d58659f60739d0eb893dc1001d93f01f
Closes-bug: #1793207
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/603485/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/policy.json', 'neutron/tests/etc/policy.json']",2,85da48db657c782fc638ed79fba734676a3ba793,bug/1793207," ""create_router:external_gateway_info:enable_snat"": ""rule:admin_or_owner"", ""update_router:external_gateway_info:enable_snat"": ""rule:admin_or_owner"","," ""create_router:external_gateway_info:enable_snat"": ""rule:admin_only"", ""update_router:external_gateway_info:enable_snat"": ""rule:admin_only"",",4,4
openstack%2Fkarbor~master~I85cfd05753d80d7fe5ac83852fa3041388bdbb6c,openstack/karbor,master,I85cfd05753d80d7fe5ac83852fa3041388bdbb6c,Add unit tests for the volume attachment fix,ABANDONED,2019-11-26 19:14:59.000000000,2019-11-26 19:25:59.000000000,,[],"[{'number': 1, 'created': '2019-11-26 19:14:59.000000000', 'files': ['karbor/tests/unit/protection/test_cinder_glance_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/73ce8986c1b57923d1f09fb150a9751b0de3355b', 'message': 'Add unit tests for the volume attachment fix\n\nCloses-Bug #1817762\n\nChange-Id: I85cfd05753d80d7fe5ac83852fa3041388bdbb6c\n'}]",0,696167,73ce8986c1b57923d1f09fb150a9751b0de3355b,2,0,1,31093,,,0,"Add unit tests for the volume attachment fix

Closes-Bug #1817762

Change-Id: I85cfd05753d80d7fe5ac83852fa3041388bdbb6c
",git fetch https://review.opendev.org/openstack/karbor refs/changes/67/696167/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/protection/test_cinder_glance_plugin.py'],1,73ce8986c1b57923d1f09fb150a9751b0de3355b,fix_volume_attachment," self.id = ""fake_checkpoint"" @mock.patch('karbor.services.protection.protection_plugins' '.utils.restore_image_from_bank') @mock.patch('karbor.services.protection.protection_plugins' '.utils.status_poll') @mock.patch('karbor.services.protection.protection_plugins' '.utils.update_resource_restore_result') @mock.patch('karbor.services.protection.clients.cinder.create') @mock.patch('karbor.services.protection.clients.glance.create') def test_restore_backup(self, mock_glance_create, mock_cinder_create, mock_update_resource_restore_result, mock_status_poll, mock_restore_image_from_bank): resource = Resource(id=""r123"", type=constants.VOLUME_RESOURCE_TYPE, name='fake') restore_operation = self.plugin.get_restore_operation(resource) fake_bank_section.get_object = mock.MagicMock() fake_bank_section.get_object.return_value = {""volume_size"": 32} mock_cinder_create.return_value = self.cinder_client mock_glance_create.return_value = self.glance_client temporary_image = Image( disk_format=""raw"", container_format=""bare"", status=""restoring"", id=""i3456"" ) mock_restore_image_from_bank.return_value = temporary_image mock_status_poll.return_value = True self.cinder_client.volumes.create = mock.MagicMock() self.cinder_client.volumes.create.return_value = Volume( id=""v777"", status='available', size=1 ) self.cinder_client.volumes.delete = mock.MagicMock() self.glance_client.images.delete = mock.MagicMock() return_data = {} call_hooks(restore_operation, self.checkpoint, resource, self.cntxt, {""restore_description"": ""test image""}, new_resources=return_data, restore=""record"") # Check inner calls self.cinder_client.volumes.create.assert_called_with( size=32, imageRef=""i3456"", name=""fake_checkpoint@r123"", # default value description=""test image"" ) mock_update_resource_restore_result.assert_called_with( ""record"", resource.type, ""v777"", constants.RESOURCE_STATUS_AVAILABLE ) # Check the temporary image with ID=""i3456"" was deleted self.glance_client.images.delete.assert_called_with(""i3456"") # Check return value. resource.id = ""r123"" self.assertIsNotNone(return_data.get(""r123"", None), ""Could not find new volume ID"") # volume.id=""v777"" self.assertEqual(""v777"", return_data[""r123""], ""Invalid new volume ID"") @mock.patch('karbor.services.protection.protection_plugins' '.utils.restore_image_from_bank') @mock.patch('karbor.services.protection.protection_plugins' '.utils.status_poll') @mock.patch('karbor.services.protection.protection_plugins' '.utils.update_resource_restore_result') @mock.patch('karbor.services.protection.clients.cinder.create') @mock.patch('karbor.services.protection.clients.glance.create') def test_restore_backup_volume_create_volume_failed( self, mock_glance_create, mock_cinder_create, mock_update_resource_restore_result, mock_status_poll, mock_restore_image_from_bank): resource = Resource(id=""r124"", type=constants.VOLUME_RESOURCE_TYPE, name='fake') restore_operation = self.plugin.get_restore_operation(resource) fake_bank_section.get_object = mock.MagicMock() fake_bank_section.get_object.return_value = {""volume_size"": 64} mock_cinder_create.return_value = self.cinder_client mock_glance_create.return_value = self.glance_client temporary_image = Image( disk_format=""raw"", container_format=""bare"", status=""active"", id=""i666"" ) mock_restore_image_from_bank.return_value = temporary_image mock_status_poll.return_value = False self.cinder_client.volumes.create = mock.MagicMock() self.cinder_client.volumes.create.return_value = Volume( id=""v4321"", status='available', size=1024 ) self.cinder_client.volumes.delete = mock.MagicMock() self.glance_client.images.delete = mock.MagicMock() return_data = {} self.assertRaises( exception.CreateResourceFailed, call_hooks, restore_operation, self.checkpoint, resource, self.cntxt, {""restore_description"": ""fail image"", ""restore_name"": ""www""}, new_resources=return_data ) # Check inner calls self.cinder_client.volumes.create.assert_called_with( size=64, imageRef=""i666"", name=""www"", description=""fail image"" ) mock_update_resource_restore_result.assert_called_with( None, resource.type, ""v4321"", constants.RESOURCE_STATUS_RESTORING ) # Check after fail the volume with ID=""v4321"" was deleted self.cinder_client.volumes.delete.assert_called_with(""v4321"") # Check the temporary image with ID=""i666"" was deleted self.glance_client.images.delete.assert_called_with(""i666"") # Check that there is no return value. resource.id = ""r124"" self.assertIsNone(return_data.get(""r124"", None), ""Found new volume ID"")",,124,0
openstack%2Fmanila-test-image~master~I24bd15537db2ac48d6e27ade19c5edf83034f5e6,openstack/manila-test-image,master,I24bd15537db2ac48d6e27ade19c5edf83034f5e6,Remove tox env for python2.7,MERGED,2019-10-25 05:30:33.000000000,2019-11-26 19:22:09.000000000,2019-11-26 19:22:09.000000000,"[{'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-25 05:30:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-test-image/commit/037158d7608d063e5567512343c4280229de4bd0', 'message': ""Remove tox env for python2.7\n\nPython 2.7 will reach the end of its\nlife on January 1st, 2020. Since it\nwon't be maintained after that date,\nthere is no need for this tox\nenvironment.\n\nChange-Id: I24bd15537db2ac48d6e27ade19c5edf83034f5e6\n""}]",0,691188,037158d7608d063e5567512343c4280229de4bd0,15,8,1,16643,,,0,"Remove tox env for python2.7

Python 2.7 will reach the end of its
life on January 1st, 2020. Since it
won't be maintained after that date,
there is no need for this tox
environment.

Change-Id: I24bd15537db2ac48d6e27ade19c5edf83034f5e6
",git fetch https://review.opendev.org/openstack/manila-test-image refs/changes/88/691188/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,037158d7608d063e5567512343c4280229de4bd0,drop-py27-support,envlist = py3,"envlist = py27, py33",1,1
openstack%2Fneutron~stable%2Fstein~If31de3cc831b0ee3caed9924e50d86270aeb9d7f,openstack/neutron,stable/stein,If31de3cc831b0ee3caed9924e50d86270aeb9d7f,Fix mis-use of _dvr_to_src_mac_table_id,MERGED,2019-11-13 14:59:36.000000000,2019-11-26 19:17:10.000000000,2019-11-25 19:14:38.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 16036}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-13 14:59:36.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/52e94d249981457fab587886bc79e38a32de8e36', 'message': 'Fix mis-use of _dvr_to_src_mac_table_id\n\nA simple dvr router admin-state down action can cause the\nexception ""TypeError: \'int\' object is not iterable"" in snat\nnode ovs-agent. This patch addresses that.\n\nCloses-Bug: #1832743\nChange-Id: If31de3cc831b0ee3caed9924e50d86270aeb9d7f\n(cherry picked from commit 3027b66c3854c183899e4e0774a92b965aa049d4)\n'}]",0,694090,52e94d249981457fab587886bc79e38a32de8e36,23,7,1,16036,,,0,"Fix mis-use of _dvr_to_src_mac_table_id

A simple dvr router admin-state down action can cause the
exception ""TypeError: 'int' object is not iterable"" in snat
node ovs-agent. This patch addresses that.

Closes-Bug: #1832743
Change-Id: If31de3cc831b0ee3caed9924e50d86270aeb9d7f
(cherry picked from commit 3027b66c3854c183899e4e0774a92b965aa049d4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/694090/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",2,52e94d249981457fab587886bc79e38a32de8e36,bug/1832743-stable/stein," self.uninstall_flows( strict=True, priority=5, table_id=table_id, match=match)"," for table in table_id: self.uninstall_flows( strict=True, priority=5, table_id=table, match=match)",37,3
openstack%2Frally~master~Ia5735f4d8cf54e6e7cd449947ce4db9b38bbbd52,openstack/rally,master,Ia5735f4d8cf54e6e7cd449947ce4db9b38bbbd52,Fix https_key test,MERGED,2019-11-21 19:32:09.000000000,2019-11-26 19:07:18.000000000,2019-11-26 19:07:18.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 19:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ecdcc3c90bad8b79dda36a662a9b36aca7da633e', 'message': ""Fix https_key test\n\nTests for existence of https_key dictionary key before attempting to\ncheck its value; moves the pop command into the if block so it's\ngoverned by that test.\n\nChange-Id: Ia5735f4d8cf54e6e7cd449947ce4db9b38bbbd52\nCloses-Bug: #1853505\n""}, {'number': 2, 'created': '2019-11-25 16:06:06.000000000', 'files': ['rally/cli/commands/deployment.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/996b060601b5f7e7221aa752da464df08a687d25', 'message': ""Fix https_key test\n\nTests for existence of https_key dictionary key before attempting to\ncheck its value; moves the pop command into the if block so it's\ngoverned by that test.\n\nChange-Id: Ia5735f4d8cf54e6e7cd449947ce4db9b38bbbd52\nCloses-Bug: #1853505\n""}]",0,695557,996b060601b5f7e7221aa752da464df08a687d25,8,2,2,27941,,,0,"Fix https_key test

Tests for existence of https_key dictionary key before attempting to
check its value; moves the pop command into the if block so it's
governed by that test.

Change-Id: Ia5735f4d8cf54e6e7cd449947ce4db9b38bbbd52
Closes-Bug: #1853505
",git fetch https://review.opendev.org/openstack/rally refs/changes/57/695557/2 && git format-patch -1 --stdout FETCH_HEAD,['rally/cli/commands/deployment.py'],1,ecdcc3c90bad8b79dda36a662a9b36aca7da633e,bug/1853505," if ""https_key"" in config[""existing@openstack""] and config[""existing@openstack""][""https_key""]: # NOTE(andreykurilin): To support rally-openstack <=1.4.0 # we need to remove https_key, since OpenStackCredentials # object doesn't support it. # Latest rally-openstack fixed this issue with # https://github.com/openstack/rally-openstack/commit/c7483386e6b59474c83e3ecd0c7ee0e77ff50c02 config[""existing@openstack""].pop(""https_key"")"," if config[""existing@openstack""][""https_key""]: # NOTE(andreykurilin): To support rally-openstack <=1.4.0 # we need to remove https_key, since OpenStackCredentials # object doesn't support it. # Latest rally-openstack fixed this issue with # https://github.com/openstack/rally-openstack/commit/c7483386e6b59474c83e3ecd0c7ee0e77ff50c02 config[""existing@openstack""].pop(""https_key"")",7,7
openstack%2Foctavia~stable%2Ftrain~I25ed1a60c115e24763176af5f96633ba6d140d95,openstack/octavia,stable/train,I25ed1a60c115e24763176af5f96633ba6d140d95,Fix gate issue with DIB,MERGED,2019-11-25 20:44:50.000000000,2019-11-26 19:07:15.000000000,2019-11-26 03:25:37.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 20:44:50.000000000', 'files': ['elements/haproxy-octavia/pre-install.d/05-rm-pydistutils'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3d28fd56e8857efe47f39490dad8419c4ac0e5ea', 'message': 'Fix gate issue with DIB\n\nThis patch adds a diskimage-builder(DIB) pre-install script that works\naround an issue with pip and pydistutils.cfg files[1].\n\nThis is a temporary fix until DIB can merge and release the full fix.\n\n[1] https://review.opendev.org/#/c/695823/\n\nChange-Id: I25ed1a60c115e24763176af5f96633ba6d140d95\n'}]",0,695982,3d28fd56e8857efe47f39490dad8419c4ac0e5ea,12,2,1,11628,,,0,"Fix gate issue with DIB

This patch adds a diskimage-builder(DIB) pre-install script that works
around an issue with pip and pydistutils.cfg files[1].

This is a temporary fix until DIB can merge and release the full fix.

[1] https://review.opendev.org/#/c/695823/

Change-Id: I25ed1a60c115e24763176af5f96633ba6d140d95
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/695982/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/haproxy-octavia/pre-install.d/05-rm-pydistutils'],1,3d28fd56e8857efe47f39490dad8419c4ac0e5ea,,"#!/bin/bash # Temporary fix until https://review.opendev.org/#/c/695823/ merges and # is released. echo """" > /root/.pydistutils.cfg ",,5,0
openstack%2Ftripleo-ansible~master~Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281,openstack/tripleo-ansible,master,Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281,Use the UBI8 image for testing,ABANDONED,2019-06-17 13:59:19.000000000,2019-11-26 18:48:54.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-17 13:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/471a19f29441707381d9cd49fcb8e3911efe37b1', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-17 14:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27be753bd04e3915ce438e5e76040232a66c0e59', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-17 16:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92b1cbdbcc3fec7c97aa2894d0c2be6d6532504e', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-06-17 18:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/67b8499b673f887ffa1894853a37f981a3821105', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nTo ensure this change gates correctly the test_deps role will\nbe used to prep the environment.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-06-17 18:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37c0b7a9ebce8ed0ee916fdc4e1ad562ac9aa04f', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nTo ensure this change gates correctly the test_deps role will\nbe used to prep the environment.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-06-17 18:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15e1a07e9fc3f27fdb54679d82864ffd93828731', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-06-17 19:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a62f9f35281c03f99aa91e49cd2b9fbe94073f68', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-06-17 19:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd87d27c8547b0f46e9dc8230157e5c6eb06f347', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-06-17 20:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/131b35550a0c63aecae84014d24143409d485e0e', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-06-17 21:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/431adc82024451c190f91c32dbfa1631d89cb334', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2019-06-17 21:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d8bdb83b1623e2971d629f188aa823c714f083a7', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2019-06-17 22:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35a52cc7fa23eb2aa6816b3983f81842ec72eec3', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2019-06-20 18:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2197aaf91c5547bf494a2606b78085a3b21170f7', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2019-06-20 19:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4549271a16404a02652f5d8cb0dd8f4eda6fec12', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 15, 'created': '2019-06-27 16:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94cbe6ac023ba17de071fe9b1a5ae08072801dd7', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 16, 'created': '2019-06-27 16:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75aaa02b7abbfdb1f9fb8796e8b704bc9888ad6e', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2019-06-27 16:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44e9284d5ce25a91f6b0db4bba5763e71c453367', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 18, 'created': '2019-06-27 17:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17800770ed8555db475140f0cfbb5f76d84b94b2', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 19, 'created': '2019-06-27 18:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3187ee0a1fa8fe34fb421bbad6a5796812ed2da7', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 20, 'created': '2019-06-28 05:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31046fee0bfaf8cc157f1b73236aecf39720bc52', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 21, 'created': '2019-06-28 05:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5dd1f7d0c6b3746e9f09125c269f0b2949b7ce3', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 22, 'created': '2019-06-28 13:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/884bb8af406411fd4d2811fe28bf058557b0dfbb', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 23, 'created': '2019-06-28 13:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ebc2f0d9c6a540a82ed526c34bc42d9354b58c8', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 24, 'created': '2019-07-06 20:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0bb0629627b3af4e9d604581aab18dd672306f83', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 25, 'created': '2019-07-06 20:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ad310f27ebaafdf0ef1d7e23182f3d0777e5705', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 26, 'created': '2019-07-07 00:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f00641e8268e90d03ffc34333d93ce3de908137', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 27, 'created': '2019-07-07 00:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6445f9a6388dd8c43111fb274706b07e5974799b', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 28, 'created': '2019-07-15 13:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c6c27e6b9fef2e29cbe3a4c1db9717f04d67e0e', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 29, 'created': '2019-07-15 15:14:29.000000000', 'files': ['tripleo_ansible/roles/tripleo-create-admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo-bootstrap/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-bootstrap/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-create-admin/molecule/keygen/Dockerfile', 'tripleo_ansible/roles/test_package_action/molecule/positive/molecule.yml', 'tripleo_ansible/roles/test_deps/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_deps/vars/main.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo-create-admin/molecule/addkey/Dockerfile', 'tripleo_ansible/roles/tuned/molecule/default/Dockerfile', 'bindep.txt', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/default/Dockerfile', 'tripleo_ansible/roles/tuned/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_deps/files/fedora-28.repo', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/test_deps/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-module-load/molecule/remove_module/molecule.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-create-admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/remove_module/Dockerfile', 'tripleo_ansible/roles/test_deps/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo-create-admin/molecule/keygen/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/playbooks/prepare-test-host.yml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-create-admin/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f9879feff09121c8e04b0ae2ffb6490e1726b6d', 'message': 'Use the UBI8 image for testing\n\nThis change converts our use of Fedora28 to UBI8, which should\nprovide a better test environment which will match that of\nproduction for future releases of TripleO.\n\nStory: 2006061\nTask: 34774\nDepends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f\nChange-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",39,665677,3f9879feff09121c8e04b0ae2ffb6490e1726b6d,84,10,29,7353,,,0,"Use the UBI8 image for testing

This change converts our use of Fedora28 to UBI8, which should
provide a better test environment which will match that of
production for future releases of TripleO.

Story: 2006061
Task: 34774
Depends-On: Ica7477d63659610de852d305a63f3e78d0dd8c4f
Change-Id: Ied65bfc108d67f08c35eb47fb31c18cd0cdcd281
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/665677/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tuned/molecule/default/Dockerfile', 'tripleo_ansible/roles/tuned/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/vars/redhat-8.yml', '_skeleton_role_/molecule/default/Dockerfile.j2', 'zuul.d/playbooks/pre.yaml', '_skeleton_role_/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_deps/vars/main.yml', 'zuul.d/jobs.yaml']",11,471a19f29441707381d9cd49fcb8e3911efe37b1,ubi8, pre-run: - zuul.d/playbooks/pre.yaml,,129,22
openstack%2Foctavia~master~I4d0797b8760b9612924dd96b3a31fbb9b58ba0c2,openstack/octavia,master,I4d0797b8760b9612924dd96b3a31fbb9b58ba0c2,Make grenade non-voting,ABANDONED,2019-11-26 18:32:25.000000000,2019-11-26 18:45:19.000000000,,[],"[{'number': 1, 'created': '2019-11-26 18:32:25.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/42e8534d4fb0b096c6172937cc3d4dc705c8801a', 'message': 'Make grenade non-voting\n\nCurrently there are two issues that are causing the grenade job to fail[1][2].\n\nOne is diskimage-builder issue with setuptools 42.0.0 and pydistutils.cfg[1].\nThe other is the nova scripts in grenade are not handling pyyaml/\npython-yaml/python3-yaml correctly[2].\n\nThis patch should be reverted once these issues are resolved and grenade can\nrun. We need to disable them to unblock the Octavia gates.\n\n[1] https://review.opendev.org/695823\n[2] ?\n\nChange-Id: I4d0797b8760b9612924dd96b3a31fbb9b58ba0c2\n'}]",0,696158,42e8534d4fb0b096c6172937cc3d4dc705c8801a,2,0,1,11628,,,0,"Make grenade non-voting

Currently there are two issues that are causing the grenade job to fail[1][2].

One is diskimage-builder issue with setuptools 42.0.0 and pydistutils.cfg[1].
The other is the nova scripts in grenade are not handling pyyaml/
python-yaml/python3-yaml correctly[2].

This patch should be reverted once these issues are resolved and grenade can
run. We need to disable them to unblock the Octavia gates.

[1] https://review.opendev.org/695823
[2] ?

Change-Id: I4d0797b8760b9612924dd96b3a31fbb9b58ba0c2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/696158/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,42e8534d4fb0b096c6172937cc3d4dc705c8801a,, voting: false, - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$,1,11
openstack%2Fopenstack-helm-addons~master~I0c30ade1824cab297fe5b27944747a8607bef25c,openstack/openstack-helm-addons,master,I0c30ade1824cab297fe5b27944747a8607bef25c,sonobuoy: update to v0.16.4,MERGED,2019-11-25 16:42:49.000000000,2019-11-26 18:45:18.000000000,2019-11-26 18:45:18.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23899}, {'_account_id': 23928}, {'_account_id': 26365}, {'_account_id': 27772}, {'_account_id': 28618}, {'_account_id': 28701}, {'_account_id': 30690}, {'_account_id': 30746}]","[{'number': 1, 'created': '2019-11-25 16:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0a2677202670cebf071cec0a1ebfe637a78895e0', 'message': 'sonobuoy: update to v0.16.4\n\nv0.16.4 prevents Sonobuoy considering a Node in ""error"" immediately\nwhen an `ErrImagePull` or `ImagePullBackOff`. Instead, Sonobuoy gives\nthe pod 5 minutes to recover from this.\n\nThere are times when a Kubernetes cluster receives a timeout from the\nDocker daemon when pulling images. This update will prevent a temporary\nnetwork issue from failing the Node immediately.\n\n[1] - https://github.com/vmware-tanzu/sonobuoy/releases/tag/v0.16.4\n\nChange-Id: I0c30ade1824cab297fe5b27944747a8607bef25c\n'}, {'number': 2, 'created': '2019-11-25 18:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/e5ffaafcb30e87cb3d388c97ecfdefaf0ffac4f9', 'message': 'sonobuoy: update to v0.16.4\n\nv0.16.4 prevents Sonobuoy considering a Node in ""error"" immediately\nwhen an `ErrImagePull` or `ImagePullBackOff`. Instead, Sonobuoy gives\nthe pod 5 minutes to recover from this.\n\nThere are times when a Kubernetes cluster receives a timeout from the\nDocker daemon when pulling images. This update will prevent a temporary\nnetwork issue from failing the Node immediately.\n\nAlso, new Sonobuoy images are published to docker.io instead of gcr.io.\n\n[1] - https://github.com/vmware-tanzu/sonobuoy/releases/tag/v0.16.4\n\nChange-Id: I0c30ade1824cab297fe5b27944747a8607bef25c\n'}, {'number': 3, 'created': '2019-11-25 21:24:46.000000000', 'files': ['sonobuoy/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b60acc330716eb1c6325bfa6ca8080f9d5528c4c', 'message': 'sonobuoy: update to v0.16.4\n\nv0.16.* supports Kubernetes 1.16.* [1]\n\nv0.16.4 [2] prevents Sonobuoy considering a Node in ""error"" immediately\nwhen an `ErrImagePull` or `ImagePullBackOff`. Instead, Sonobuoy gives\nthe pod 5 minutes to recover from this.\n\nThere are times when a Kubernetes cluster receives a timeout from the\nDocker daemon when pulling images. This update will prevent a temporary\nnetwork issue from failing the Node immediately.\n\nAlso, new Sonobuoy images are published to docker.io instead of gcr.io.\n\n[1] - https://github.com/vmware-tanzu/sonobuoy/releases/tag/v0.16.0\n[2] - https://github.com/vmware-tanzu/sonobuoy/releases/tag/v0.16.4\n\nChange-Id: I0c30ade1824cab297fe5b27944747a8607bef25c\n'}]",0,695944,b60acc330716eb1c6325bfa6ca8080f9d5528c4c,18,15,3,28701,,,0,"sonobuoy: update to v0.16.4

v0.16.* supports Kubernetes 1.16.* [1]

v0.16.4 [2] prevents Sonobuoy considering a Node in ""error"" immediately
when an `ErrImagePull` or `ImagePullBackOff`. Instead, Sonobuoy gives
the pod 5 minutes to recover from this.

There are times when a Kubernetes cluster receives a timeout from the
Docker daemon when pulling images. This update will prevent a temporary
network issue from failing the Node immediately.

Also, new Sonobuoy images are published to docker.io instead of gcr.io.

[1] - https://github.com/vmware-tanzu/sonobuoy/releases/tag/v0.16.0
[2] - https://github.com/vmware-tanzu/sonobuoy/releases/tag/v0.16.4

Change-Id: I0c30ade1824cab297fe5b27944747a8607bef25c
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/44/695944/2 && git format-patch -1 --stdout FETCH_HEAD,['sonobuoy/values.yaml'],1,0a2677202670cebf071cec0a1ebfe637a78895e0,, sonobuoy_api: gcr.io/heptio-images/sonobuoy:v0.16.4, sonobuoy_api: gcr.io/heptio-images/sonobuoy:v0.15.3,1,1
openstack%2Fmox3~master~I9028d5be178c8fd83102970d871e5f2bf16752c5,openstack/mox3,master,I9028d5be178c8fd83102970d871e5f2bf16752c5,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-09 09:28:23.000000000,2019-11-26 18:09:00.000000000,2019-11-26 18:07:43.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-09 09:28:23.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/mox3/commit/bbeeadbb2ff5d388a9e11925d32e1b4d4af83464', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I9028d5be178c8fd83102970d871e5f2bf16752c5\n'}]",0,687512,bbeeadbb2ff5d388a9e11925d32e1b4d4af83464,9,4,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I9028d5be178c8fd83102970d871e5f2bf16752c5
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/12/687512/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bbeeadbb2ff5d388a9e11925d32e1b4d4af83464,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.5;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.5;python_version>='3.4' # BSD",1,1
openstack%2Ftripleo-common~master~I987a6315f92a60dbf9619d4d34d3d92992feba2b,openstack/tripleo-common,master,I987a6315f92a60dbf9619d4d34d3d92992feba2b,Add a healthcheck for ironic-neutron-agent,MERGED,2019-10-18 01:35:44.000000000,2019-11-26 17:59:10.000000000,2019-10-23 15:58:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-18 01:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a7ef3f02b604f99ffd01141c109e1912161d364e', 'message': 'Add a healthcheck for ironic-neutron-agent\n\nChange-Id: I987a6315f92a60dbf9619d4d34d3d92992feba2b\n'}, {'number': 2, 'created': '2019-10-18 01:46:23.000000000', 'files': ['healthcheck/ironic-neutron-agent'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c7dc3ec2519f3003f1a6c263e81a3f94ff517971', 'message': 'Add a healthcheck for ironic-neutron-agent\n\nChange-Id: I987a6315f92a60dbf9619d4d34d3d92992feba2b\nPartial-Bug: 1848618\n'}]",0,689291,c7dc3ec2519f3003f1a6c263e81a3f94ff517971,21,8,2,4571,,,0,"Add a healthcheck for ironic-neutron-agent

Change-Id: I987a6315f92a60dbf9619d4d34d3d92992feba2b
Partial-Bug: 1848618
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/689291/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ironic-neutron-agent'],1,a7ef3f02b604f99ffd01141c109e1912161d364e,bug/1848618,"#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh process='ironic-neutron-agent' args=""${@:-5671 5672}"" if healthcheck_port $process $args; then exit 0 else ports=${args// /,} echo ""There is no $process process with opened RabbitMQ ports ($ports) running in the container"" exit 1 fi ",,14,0
openstack%2Ftripleo-heat-templates~master~I61df8ba37075231a813b70415b60fadf51c1fb16,openstack/tripleo-heat-templates,master,I61df8ba37075231a813b70415b60fadf51c1fb16,Enable healthcheck for ironic-neutron-agent,MERGED,2019-10-18 01:46:41.000000000,2019-11-26 17:58:20.000000000,2019-10-23 15:58:30.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-18 01:46:41.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88daacd0409d572832c89beea288f93a1277cbd6', 'message': 'Enable healthcheck for ironic-neutron-agent\n\nChange-Id: I61df8ba37075231a813b70415b60fadf51c1fb16\nCloses-Bug: 1848618\nDepends-On: https://review.opendev.org/#/c/689291/\n'}]",0,689294,88daacd0409d572832c89beea288f93a1277cbd6,9,4,1,4571,,,0,"Enable healthcheck for ironic-neutron-agent

Change-Id: I61df8ba37075231a813b70415b60fadf51c1fb16
Closes-Bug: 1848618
Depends-On: https://review.opendev.org/#/c/689291/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/689294/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'],1,88daacd0409d572832c89beea288f93a1277cbd6,bug/1848618," healthcheck: {get_attr: [ContainersCommon, healthcheck_rpc_port]}",,1,0
openstack%2Fneutron~master~I7d58202e700b7f5202e8777a0a1b3f842b8e508c,openstack/neutron,master,I7d58202e700b7f5202e8777a0a1b3f842b8e508c,Move grenade neutron linuxbridge job to py3 and in neutron repo,ABANDONED,2019-11-23 02:06:20.000000000,2019-11-26 17:56:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-23 02:06:20.000000000', 'files': ['playbooks/legacy/grenade-dsvm-neutron-linuxbridge-multinode/post.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-neutron-linuxbridge-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1aa3b5c875c315e3e64da9da2b992613c5ac0eba', 'message': ""Move grenade neutron linuxbridge job to py3 and in neutron repo\n\n'legacy-grenade-dsvm-neutron-linuxbridge-multinode' grenade jobs\nis present in opensatck-zuul-jobs repo running on python 2. This needs\nto run on py3 from Ussuri onwards and py2 for stable/branch.\n\npy2 version has been kept in opensatck-zuul-jobs and for ussuri\nonwwards this has been migrated to neutron repo with\npy3 version.\n\nChange-Id: I7d58202e700b7f5202e8777a0a1b3f842b8e508c\n""}]",0,695790,1aa3b5c875c315e3e64da9da2b992613c5ac0eba,5,4,1,8556,,,0,"Move grenade neutron linuxbridge job to py3 and in neutron repo

'legacy-grenade-dsvm-neutron-linuxbridge-multinode' grenade jobs
is present in opensatck-zuul-jobs repo running on python 2. This needs
to run on py3 from Ussuri onwards and py2 for stable/branch.

py2 version has been kept in opensatck-zuul-jobs and for ussuri
onwwards this has been migrated to neutron repo with
py3 version.

Change-Id: I7d58202e700b7f5202e8777a0a1b3f842b8e508c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/695790/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-neutron-linuxbridge-multinode/post.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-neutron-linuxbridge-multinode/run.yaml']",3,1aa3b5c875c315e3e64da9da2b992613c5ac0eba,drop-py27-support,"- hosts: primary name: Autoconverted job legacy-grenade-dsvm-neutron-linuxbridge-multinode from old job gate-grenade-dsvm-neutron-linuxbridge-multinode-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_CONFIGDRIVE=0 export DEVSTACK_GATE_GRENADE=pullup export PROJECTS=""openstack/grenade $PROJECTS"" export DEVSTACK_LOCAL_CONFIG=""Q_AGENT=linuxbridge""$'\n'""PHYSICAL_NETWORK=default""$'\n' export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_GATE_TOPOLOGY=""multinode"" cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,80,1
openstack%2Fhorizon~stable%2Frocky~Ie195befde8fe10ce419583ead06fdb759dd3813c,openstack/horizon,stable/rocky,Ie195befde8fe10ce419583ead06fdb759dd3813c,Support of rescue instance in Horizon,ABANDONED,2019-11-21 21:56:03.000000000,2019-11-26 17:49:32.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 1916}, {'_account_id': 11880}, {'_account_id': 12156}, {'_account_id': 14892}, {'_account_id': 20312}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-21 21:56:03.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/urls.py', 'openstack_dashboard/dashboards/admin/instances/forms.py', 'openstack_dashboard/dashboards/project/instances/templates/instances/_rescue.html', 'openstack_dashboard/dashboards/project/instances/tests.py', 'releasenotes/notes/bp-support-rescue-instance-a7b8578c395abd3e.yaml', 'openstack_dashboard/dashboards/admin/instances/templates/instances/rescue.html', 'openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/admin/instances/tables.py', 'openstack_dashboard/dashboards/admin/instances/urls.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/dashboards/project/instances/templates/instances/rescue.html', 'openstack_dashboard/dashboards/admin/instances/templates/instances/_rescue.html', 'openstack_dashboard/dashboards/admin/instances/views.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb72c2d430ec9a9fe0d7ee70a42f931c7d9c97d5', 'message': 'Support of rescue instance in Horizon\n\nChange-Id: Ie195befde8fe10ce419583ead06fdb759dd3813c\nImplements: blueprint instance-rescue-horizon-support\n(cherry picked from commit ffa8b5404e1fb704ef1727115669edb798df7262)\n'}]",0,695590,eb72c2d430ec9a9fe0d7ee70a42f931c7d9c97d5,6,10,1,14892,,,0,"Support of rescue instance in Horizon

Change-Id: Ie195befde8fe10ce419583ead06fdb759dd3813c
Implements: blueprint instance-rescue-horizon-support
(cherry picked from commit ffa8b5404e1fb704ef1727115669edb798df7262)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/695590/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/urls.py', 'openstack_dashboard/dashboards/admin/instances/forms.py', 'openstack_dashboard/dashboards/project/instances/templates/instances/_rescue.html', 'openstack_dashboard/dashboards/project/instances/tests.py', 'releasenotes/notes/bp-support-rescue-instance-a7b8578c395abd3e.yaml', 'openstack_dashboard/dashboards/admin/instances/templates/instances/rescue.html', 'openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/admin/instances/tables.py', 'openstack_dashboard/dashboards/admin/instances/urls.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/dashboards/project/instances/templates/instances/rescue.html', 'openstack_dashboard/dashboards/admin/instances/templates/instances/_rescue.html', 'openstack_dashboard/dashboards/admin/instances/views.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/api/nova.py']",15,eb72c2d430ec9a9fe0d7ee70a42f931c7d9c97d5,bp/instance-rescue-horizon-support-stable/rocky,"def server_rescue(request, instance_id, password=None, image=None): novaclient(request).servers.rescue(instance_id, password=password, image=image) @profiler.trace def server_unrescue(request, instance_id): novaclient(request).servers.unrescue(instance_id) @profiler.trace",,269,1
openstack%2Fproject-config~master~I4eecd74c833d7d3d1a2ae4312cdf0496d2e6586f,openstack/project-config,master,I4eecd74c833d7d3d1a2ae4312cdf0496d2e6586f,Add gerritbot trigger for microstack,MERGED,2019-11-21 11:56:41.000000000,2019-11-26 17:49:04.000000000,2019-11-26 17:49:04.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 11:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c9aa03ecb7dcb635fad548c24ca365018a04685f', 'message': 'Add gerritbot trigger for microstack\n\nChange-Id: I4eecd74c833d7d3d1a2ae4312cdf0496d2e6586f\n'}, {'number': 2, 'created': '2019-11-21 12:21:18.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd4c829a8259f1786df276234bcd191df80d2c11', 'message': 'Add gerritbot trigger for microstack\n\nChange-Id: I4eecd74c833d7d3d1a2ae4312cdf0496d2e6586f\n'}]",0,695401,cd4c829a8259f1786df276234bcd191df80d2c11,12,4,2,13686,,,0,"Add gerritbot trigger for microstack

Change-Id: I4eecd74c833d7d3d1a2ae4312cdf0496d2e6586f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/695401/2 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,c9aa03ecb7dcb635fad548c24ca365018a04685f,microstack-gerritbot,openstack-snaps: events: - patchset-created - change-merged projects: - x/microstack branches: - master ,,9,0
openstack%2Fproject-config~master~Ide8657f9138990cd2d0f3dae889d485c821093c2,openstack/project-config,master,Ide8657f9138990cd2d0f3dae889d485c821093c2,Manage pyghmi jobs at project level,MERGED,2019-11-22 11:18:44.000000000,2019-11-26 17:49:02.000000000,2019-11-26 17:49:02.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 11:18:44.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef0803504e0bd461e99625cd02c6371c92f6fe6f', 'message': 'Manage pyghmi jobs at project level\n\nThe jobs for pyghmi will be managed directly on project level,\nexcept for pypi publish.\n\nChange-Id: Ide8657f9138990cd2d0f3dae889d485c821093c2\n'}]",0,695661,ef0803504e0bd461e99625cd02c6371c92f6fe6f,7,3,1,23851,,,0,"Manage pyghmi jobs at project level

The jobs for pyghmi will be managed directly on project level,
except for pypi publish.

Change-Id: Ide8657f9138990cd2d0f3dae889d485c821093c2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/695661/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ef0803504e0bd461e99625cd02c6371c92f6fe6f,manage-pyghmi-project-level,, - openstack-python-jobs - openstack-python35-jobs-nonvoting - check-requirements,0,3
openstack%2Fnova~master~Ieb59de10c63bb067f92ec054535766cdd722dae2,openstack/nova,master,Ieb59de10c63bb067f92ec054535766cdd722dae2,compute: Take an instance.uuid lock when rebooting,MERGED,2019-07-30 09:42:24.000000000,2019-11-26 17:38:33.000000000,2019-11-26 17:34:06.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25613}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-30 09:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11f9101bd2a37fa11ae6461027a4ec18a4689c9f', 'message': 'WIP compute: Lock while rebooting an instance\n\nChange-Id: Ieb59de10c63bb067f92ec054535766cdd722dae2\n'}, {'number': 2, 'created': '2019-07-30 10:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fd9c2a0ec80d90c494a6e772e0d96cb23088465', 'message': 'WIP compute: Take an instance.uuid lock when rebooting\n\nPreviously simultaneous requests to reboot and delete an instance could\nrace as only the latter took a lock against the uuid of the instance.\n\nWith the Libvirt driver this race could potentially result in attempts\nbeing made to reconnect previously disconnected volumes on the host.\nDepending on the volume backend being used this could then result in\nstale block devices point to unmapped volumes being left on the host\nthat in turn could cause failures later on when connecting newly mapped\nvolumes.\n\nThis change avoids this race by ensuring any request to reboot an\ninstance takes an instance.uuid lock within the compute manager,\nserialising requests to reboot and then delete the instance.\n\nCloses-Bug: #1838392\nChange-Id: Ieb59de10c63bb067f92ec054535766cdd722dae2\n'}, {'number': 3, 'created': '2019-10-08 10:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed0cf3d5d742554b0652db3ac33f80dd96bea320', 'message': 'compute: Take an instance.uuid lock when rebooting\n\nPreviously simultaneous requests to reboot and delete an instance could\nrace as only the latter took a lock against the uuid of the instance.\n\nWith the Libvirt driver this race could potentially result in attempts\nbeing made to reconnect previously disconnected volumes on the host.\nDepending on the volume backend being used this could then result in\nstale block devices point to unmapped volumes being left on the host\nthat in turn could cause failures later on when connecting newly mapped\nvolumes.\n\nThis change avoids this race by ensuring any request to reboot an\ninstance takes an instance.uuid lock within the compute manager,\nserialising requests to reboot and then delete the instance.\n\nCloses-Bug: #1838392\nChange-Id: Ieb59de10c63bb067f92ec054535766cdd722dae2\n'}, {'number': 4, 'created': '2019-11-08 12:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44db41f67cd4e7766a3089d83b64e8e2b445c388', 'message': 'compute: Take an instance.uuid lock when rebooting\n\nPreviously simultaneous requests to reboot and delete an instance could\nrace as only the latter took a lock against the uuid of the instance.\n\nWith the Libvirt driver this race could potentially result in attempts\nbeing made to reconnect previously disconnected volumes on the host.\nDepending on the volume backend being used this could then result in\nstale block devices point to unmapped volumes being left on the host\nthat in turn could cause failures later on when connecting newly mapped\nvolumes.\n\nThis change avoids this race by ensuring any request to reboot an\ninstance takes an instance.uuid lock within the compute manager,\nserialising requests to reboot and then delete the instance.\n\nCloses-Bug: #1838392\nChange-Id: Ieb59de10c63bb067f92ec054535766cdd722dae2\n'}, {'number': 5, 'created': '2019-11-22 12:22:16.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ad54f3dacbd372271f441baea5380f913072dde', 'message': 'compute: Take an instance.uuid lock when rebooting\n\nPreviously simultaneous requests to reboot and delete an instance could\nrace as only the latter took a lock against the uuid of the instance.\n\nWith the Libvirt driver this race could potentially result in attempts\nbeing made to reconnect previously disconnected volumes on the host.\nDepending on the volume backend being used this could then result in\nstale block devices point to unmapped volumes being left on the host\nthat in turn could cause failures later on when connecting newly mapped\nvolumes.\n\nThis change avoids this race by ensuring any request to reboot an\ninstance takes an instance.uuid lock within the compute manager,\nserialising requests to reboot and then delete the instance.\n\nCloses-Bug: #1838392\nChange-Id: Ieb59de10c63bb067f92ec054535766cdd722dae2\n'}]",2,673463,9ad54f3dacbd372271f441baea5380f913072dde,55,17,5,10135,,,0,"compute: Take an instance.uuid lock when rebooting

Previously simultaneous requests to reboot and delete an instance could
race as only the latter took a lock against the uuid of the instance.

With the Libvirt driver this race could potentially result in attempts
being made to reconnect previously disconnected volumes on the host.
Depending on the volume backend being used this could then result in
stale block devices point to unmapped volumes being left on the host
that in turn could cause failures later on when connecting newly mapped
volumes.

This change avoids this race by ensuring any request to reboot an
instance takes an instance.uuid lock within the compute manager,
serialising requests to reboot and then delete the instance.

Closes-Bug: #1838392
Change-Id: Ieb59de10c63bb067f92ec054535766cdd722dae2
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/673463/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,11f9101bd2a37fa11ae6461027a4ec18a4689c9f,," @utils.synchronized(instance.uuid) def do_reboot_instance(self, context, instance, block_device_info, reboot_type): self._reboot_instance(context, instance, block_device_info, reboot_type) do_reboot_instance(context, instance, block_device_info, reboot_type) def _reboot_instance(self, context, instance, block_device_info, reboot_type):",,9,0
openstack%2Fpuppet-openstack-integration~master~I447827fb99cb1d168a6d16a9c3fbf47f8abd2c46,openstack/puppet-openstack-integration,master,I447827fb99cb1d168a6d16a9c3fbf47f8abd2c46,Test Puppet 6 for Train,MERGED,2019-10-10 12:58:13.000000000,2019-11-26 17:35:31.000000000,2019-11-26 17:35:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-10 12:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/24209ad5ecd91dca1f17e0e06b2ee47ad2de678e', 'message': 'Test Puppet 6 for Train\n\nChange-Id: I447827fb99cb1d168a6d16a9c3fbf47f8abd2c46\n'}, {'number': 2, 'created': '2019-11-21 21:35:19.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/linters.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d148836bf4d6855d3fc51e3ffe60b0cffa85b29b', 'message': 'Test Puppet 6 for Train\n\nChange-Id: I447827fb99cb1d168a6d16a9c3fbf47f8abd2c46\n'}]",1,687887,d148836bf4d6855d3fc51e3ffe60b0cffa85b29b,13,5,2,16137,,,0,"Test Puppet 6 for Train

Change-Id: I447827fb99cb1d168a6d16a9c3fbf47f8abd2c46
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/87/687887/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libraries.yaml', 'zuul.d/linters.yaml', 'zuul.d/unit.yaml']",3,24209ad5ecd91dca1f17e0e06b2ee47ad2de678e,687887, branches: ^(stable/stein|stable/train|master)$, branches: ^(stable/stein|master)$,4,4
openstack%2Fproject-config~master~I3051f5c33bf93e390e9e16f36de21de1eb78f0b0,openstack/project-config,master,I3051f5c33bf93e390e9e16f36de21de1eb78f0b0,Disable inap,MERGED,2019-11-26 17:13:53.000000000,2019-11-26 17:34:11.000000000,2019-11-26 17:34:11.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 17:13:53.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/97766095089fc6dca34614f71e4b1e62c05f9c9a', 'message': ""Disable inap\n\nWe are still filling the disk up on the mirror beacuse htcacheclean\nisn't able to clean things up quickly enough before activity runs us\ninto the filesystem size limit.\n\nLet's disable the region again while we sort out how to add more disk\nand possibly more io performance to the cache filesystem.\n\nChange-Id: I3051f5c33bf93e390e9e16f36de21de1eb78f0b0\n""}]",0,696137,97766095089fc6dca34614f71e4b1e62c05f9c9a,7,3,1,4146,,,0,"Disable inap

We are still filling the disk up on the mirror beacuse htcacheclean
isn't able to clean things up quickly enough before activity runs us
into the filesystem size limit.

Let's disable the region again while we sort out how to add more disk
and possibly more io performance to the cache filesystem.

Change-Id: I3051f5c33bf93e390e9e16f36de21de1eb78f0b0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/696137/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,97766095089fc6dca34614f71e4b1e62c05f9c9a,disable-inap, max-servers: 0, max-servers: 190,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I46709b5e6cadab0137eafccb5896d5e55919f845,openstack/tripleo-heat-templates,stable/train,I46709b5e6cadab0137eafccb5896d5e55919f845,Add the Octavia log offload parameters,MERGED,2019-11-19 19:19:44.000000000,2019-11-26 17:22:37.000000000,2019-11-26 17:16:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 7144}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-19 19:19:44.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/add-octavia-log-offload-parameters-dc645daf909a85c2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8df489a7999621eb30c2415646d79e937069bd4f', 'message': 'Add the Octavia log offload parameters\n\nThis patch add the following new parameters for Octavia:\n\n1. OctaviaAdminLogTargets\n2. OctaviaAdminLogFacility\n3. OctaviaForwardAllLogs\n4. OctaviaTenantLogTargets\n5. OctaviaTenantLogFacility\n6. OctaviaUserLogFormat\n7. OctaviaDisableLocalLogStorage\n\nThe default values mirror the Octavia service default values.\n\nDepends-On: https://review.opendev.org/#/c/695065/\nChange-Id: I46709b5e6cadab0137eafccb5896d5e55919f845\n(cherry picked from commit 7d756756d65ff0d9fa5d8040c76cec65ae1c718f)\n'}]",0,695066,8df489a7999621eb30c2415646d79e937069bd4f,12,6,1,6469,,,0,"Add the Octavia log offload parameters

This patch add the following new parameters for Octavia:

1. OctaviaAdminLogTargets
2. OctaviaAdminLogFacility
3. OctaviaForwardAllLogs
4. OctaviaTenantLogTargets
5. OctaviaTenantLogFacility
6. OctaviaUserLogFormat
7. OctaviaDisableLocalLogStorage

The default values mirror the Octavia service default values.

Depends-On: https://review.opendev.org/#/c/695065/
Change-Id: I46709b5e6cadab0137eafccb5896d5e55919f845
(cherry picked from commit 7d756756d65ff0d9fa5d8040c76cec65ae1c718f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/695066/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/add-octavia-log-offload-parameters-dc645daf909a85c2.yaml']",2,8df489a7999621eb30c2415646d79e937069bd4f,,--- features: - Added the Octavia log offload parameters. ,,51,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~Id33c6d9c043433b395d4a4905a36820a18604860,openstack/tripleo-upgrade,stable/queens,Id33c6d9c043433b395d4a4905a36820a18604860,Function to apply workarounds,MERGED,2019-11-13 19:12:47.000000000,2019-11-26 17:22:32.000000000,2019-11-26 17:22:32.000000000,"[{'_account_id': 11166}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/68c063f457154da9ed34430faf9ae269f9dcac87', 'message': ""Function to apply workarounds\n\nThe workarounds can be either patches posted on review.openstack.org\n or arbitrary shell commands.\nBelow is an example of a workarounds:\n\n---\npre_undercloud_upgrade_workaround:\n  - BZ#xxxxxyz:\n     patch: false\n     basedir: ''\n     id: ''\n     command: 'touch /home/stack/pre_workaround_applied'\npost_undercloud_deploy_workarounds:\n  - BZ#xxxyyzz:\n     patch: true\n     basedir: '/usr/share/openstack-tripleo-heat-templates/'\n     id: 'xxxyyzz'\n     command: ''\n\nChange-Id: Id33c6d9c043433b395d4a4905a36820a18604860\n(cherry picked from commit ed4cdcc9483ac4ea0d483d2493c5d04e73afe20e)\n(cherry picked from commit 19c195ed66b28a2fbdb7372d2a7c7f4b06a5142e)\n""}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1d324263e92af53cfa613ef2055f72034eda4775', 'message': ""Function to apply workarounds\n\nThe workarounds can be either patches posted on review.openstack.org\n or arbitrary shell commands.\nBelow is an example of a workarounds:\n\n---\npre_undercloud_upgrade_workaround:\n  - BZ#xxxxxyz:\n     patch: false\n     basedir: ''\n     id: ''\n     command: 'touch /home/stack/pre_workaround_applied'\npost_undercloud_deploy_workarounds:\n  - BZ#xxxyyzz:\n     patch: true\n     basedir: '/usr/share/openstack-tripleo-heat-templates/'\n     id: 'xxxyyzz'\n     command: ''\n\nChange-Id: Id33c6d9c043433b395d4a4905a36820a18604860\n(cherry picked from commit ed4cdcc9483ac4ea0d483d2493c5d04e73afe20e)\n(cherry picked from commit 19c195ed66b28a2fbdb7372d2a7c7f4b06a5142e)\n""}, {'number': 3, 'created': '2019-11-22 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bd9636eee760ed2b74ebb0e94dbf2c5e711daf4f', 'message': ""Function to apply workarounds\n\nThe workarounds can be either patches posted on review.openstack.org\n or arbitrary shell commands.\nBelow is an example of a workarounds:\n\n---\npre_undercloud_upgrade_workaround:\n  - BZ#xxxxxyz:\n     patch: false\n     basedir: ''\n     id: ''\n     command: 'touch /home/stack/pre_workaround_applied'\npost_undercloud_deploy_workarounds:\n  - BZ#xxxyyzz:\n     patch: true\n     basedir: '/usr/share/openstack-tripleo-heat-templates/'\n     id: 'xxxyyzz'\n     command: ''\n\nChange-Id: Id33c6d9c043433b395d4a4905a36820a18604860\n(cherry picked from commit ed4cdcc9483ac4ea0d483d2493c5d04e73afe20e)\n(cherry picked from commit 19c195ed66b28a2fbdb7372d2a7c7f4b06a5142e)\n""}, {'number': 4, 'created': '2019-11-25 11:24:52.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/84457754a9fbfa06aee1052a2ecf67cb1aeef6ca', 'message': ""Function to apply workarounds\n\nThe workarounds can be either patches posted on review.openstack.org\n or arbitrary shell commands.\nBelow is an example of a workarounds:\n\n---\npre_undercloud_upgrade_workaround:\n  - BZ#xxxxxyz:\n     patch: false\n     basedir: ''\n     id: ''\n     command: 'touch /home/stack/pre_workaround_applied'\npost_undercloud_deploy_workarounds:\n  - BZ#xxxyyzz:\n     patch: true\n     basedir: '/usr/share/openstack-tripleo-heat-templates/'\n     id: 'xxxyyzz'\n     command: ''\n\nChange-Id: Id33c6d9c043433b395d4a4905a36820a18604860\n(cherry picked from commit ed4cdcc9483ac4ea0d483d2493c5d04e73afe20e)\n(cherry picked from commit 19c195ed66b28a2fbdb7372d2a7c7f4b06a5142e)\n""}]",1,694155,84457754a9fbfa06aee1052a2ecf67cb1aeef6ca,14,4,4,11166,,,0,"Function to apply workarounds

The workarounds can be either patches posted on review.openstack.org
 or arbitrary shell commands.
Below is an example of a workarounds:

---
pre_undercloud_upgrade_workaround:
  - BZ#xxxxxyz:
     patch: false
     basedir: ''
     id: ''
     command: 'touch /home/stack/pre_workaround_applied'
post_undercloud_deploy_workarounds:
  - BZ#xxxyyzz:
     patch: true
     basedir: '/usr/share/openstack-tripleo-heat-templates/'
     id: 'xxxyyzz'
     command: ''

Change-Id: Id33c6d9c043433b395d4a4905a36820a18604860
(cherry picked from commit ed4cdcc9483ac4ea0d483d2493c5d04e73afe20e)
(cherry picked from commit 19c195ed66b28a2fbdb7372d2a7c7f4b06a5142e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/55/694155/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,68c063f457154da9ed34430faf9ae269f9dcac87,,"function apply_patch { local patch_dir=$1 local patch_id=$2 local temp_dir='' temp_dir=$( mktemp -d ) curl -4 --retry 5 https://review.openstack.org/changes/${patch_id}/revisions/current/patch?download | \ base64 -d > ${temp_dir}/patch.txt if [[ ${?} -ne 0 ]] ; then echo ""Failed to download patch https://review.openstack.org/#/c/${patch_id}/"" exit 1 fi if sudo patch --dry-run --reverse --force -d ${patch_dir} -p1 < ${temp_dir}/patch.txt >/dev/null 2>&1 then echo ""Patch ${patch_id} already applied, skipping"" else sudo patch -Ns -d ${patch_dir} -p1 < ${temp_dir}/patch.txt fi sudo rm -Rf ${temp_dir} } apply_patch {{ value.basedir }} {{ value.id }} apply_patch {{ value.basedir }} {{ value.id }}apply_patch {{ value.basedir }} {{ value.id }} apply_patch {{ value.basedir }} {{ value.id }} apply_patch {{ value.basedir }} {{ value.id }} apply_patch {{ value.basedir }} {{ value.id }}",curl -4 https://review.openstack.org/changes/{{ value.id }}/revisions/current/patch?download | \ base64 -d | \ sudo patch -d {{ value.basedir }} -p1curl -4 https://review.openstack.org/changes/{{ value.id }}/revisions/current/patch?download | \ base64 -d | \ sudo patch -d {{ value.basedir }} -p1curl -4 https://review.openstack.org/changes/{{ value.id }}/revisions/current/patch?download | \ base64 -d | \ sudo patch -d {{ value.basedir }} -p1curl -4 https://review.openstack.org/changes/{{ value.id }}/revisions/current/patch?download | \ base64 -d | \ sudo patch -d {{ value.basedir }} -p1curl -4 https://review.openstack.org/changes/{{ value.id }}/revisions/current/patch?download | \ base64 -d | \ sudo patch -d {{ value.basedir }} -p1curl -4 https://review.openstack.org/changes/{{ value.id }}/revisions/current/patch?download | \ base64 -d | \ sudo patch -d {{ value.basedir }} -p1,37,18
openstack%2Ftripleo-quickstart-extras~master~Ia3f933a57117eb6ba30e62aea47583da5c0a4829,openstack/tripleo-quickstart-extras,master,Ia3f933a57117eb6ba30e62aea47583da5c0a4829,[os_tempest] enable tempest_network_ping_gateway to true,MERGED,2019-08-27 13:22:51.000000000,2019-11-26 17:22:31.000000000,2019-11-26 17:22:30.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-27 13:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b6a84c83b70e29818ea2f13553b0adfc71742d6', 'message': '[os_tempest] enable tempest_network_ping_gateway to true\n\ntempest_network_ping_gateway flag was added in os_tempest to debug\nnetwork related issue by pinging the router ip in order to avoid\nfailure in network related tests.\n\nChange-Id: Ia3f933a57117eb6ba30e62aea47583da5c0a4829\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-08-28 04:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5f63c759ce57acbb552c0bdf201206b5261929c9', 'message': '[os_tempest] enable tempest_network_ping_gateway to true\n\ntempest_network_ping_gateway flag was added in os_tempest to debug\nnetwork related issue by pinging the router ip in order to avoid\nfailure in network related tests.\n\nChange-Id: Ia3f933a57117eb6ba30e62aea47583da5c0a4829\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-08-28 08:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3d8dc4e92101e4fe45d79c4a0c0e3e3f79d33d57', 'message': '[os_tempest] enable tempest_network_ping_gateway to true\n\ntempest_network_ping_gateway flag was added in os_tempest to debug\nnetwork related issue by pinging the router ip in order to avoid\nfailure in network related tests.\n\nChange-Id: Ia3f933a57117eb6ba30e62aea47583da5c0a4829\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-08-29 08:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b3c3174b6c393c20b04ea9b19dd4fcb02c7249df', 'message': '[os_tempest] enable tempest_network_ping_gateway to true\n\ntempest_network_ping_gateway flag was added in os_tempest to debug\nnetwork related issue by pinging the router ip in order to avoid\nfailure in network related tests.\n\nChange-Id: Ia3f933a57117eb6ba30e62aea47583da5c0a4829\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-10-04 12:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b54a2267b4f20d27100ce2e9524aa6ec1cd64b2f', 'message': '[os_tempest] enable tempest_network_ping_gateway to true\n\ntempest_network_ping_gateway flag was added in os_tempest to debug\nnetwork related issue by pinging the router ip in order to avoid\nfailure in network related tests.\n\nChange-Id: Ia3f933a57117eb6ba30e62aea47583da5c0a4829\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-11-18 11:45:39.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b0d03f5d86d6f2f3eb733b1fbc597fe6d1deb274', 'message': '[os_tempest] enable tempest_network_ping_gateway to true\n\ntempest_network_ping_gateway flag was added in os_tempest to\ndebug network related issue.\n\nos_tempest by using physical network, it create a public and\nprivate networks and respective subnets. By using public network\nand private subnet it creates an router and from that router\nfloating ips got assigned to tempest tests vms.\n\nBy enabling the above flag, it will first check the router status\nand then pick one of the ip from that router, tries to ping it\nearly making sure it does give networking issue while running\nthe tests, by pinging the router ip in order to avoid\nfailure in network related tests.\n\nChange-Id: Ia3f933a57117eb6ba30e62aea47583da5c0a4829\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",4,678833,b0d03f5d86d6f2f3eb733b1fbc597fe6d1deb274,29,8,6,12393,,,0,"[os_tempest] enable tempest_network_ping_gateway to true

tempest_network_ping_gateway flag was added in os_tempest to
debug network related issue.

os_tempest by using physical network, it create a public and
private networks and respective subnets. By using public network
and private subnet it creates an router and from that router
floating ips got assigned to tempest tests vms.

By enabling the above flag, it will first check the router status
and then pick one of the ip from that router, tries to ping it
early making sure it does give networking issue while running
the tests, by pinging the router ip in order to avoid
failure in network related tests.

Change-Id: Ia3f933a57117eb6ba30e62aea47583da5c0a4829
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/33/678833/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,9b6a84c83b70e29818ea2f13553b0adfc71742d6,tempest_ping, tempest_network_ping_gateway: True,,1,0
openstack%2Fproject-config~master~I0b4f091552cff894a130a89e9d55a902a25659a8,openstack/project-config,master,I0b4f091552cff894a130a89e9d55a902a25659a8,Retire neutron-interconnection project,MERGED,2019-11-15 08:45:05.000000000,2019-11-26 17:19:09.000000000,2019-11-26 17:19:09.000000000,"[{'_account_id': 841}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 08:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c6fafee7df42b528742aac8501bca05e4901000b', 'message': 'Rename neutron-interconnection from openstack/ to x/ namespace\n\nProject neutron-interconnection was officialy in Neutron stadium but as\nthere was no activity on this project for quite long time and project\nactually never got any real implementation done, during the Shanghai PTG\nwe decided to move it out of stadium to x/ namespace.\n\nAlso api-ref for this project is removed from neutron-lib with commit\n[1].\n\n[1] https://review.opendev.org/#/c/694466/\n\nChange-Id: I0b4f091552cff894a130a89e9d55a902a25659a8\n'}, {'number': 2, 'created': '2019-11-15 15:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/14edce42890f86da84ae020ceb5a29a6c47246fb', 'message': 'Retire neutron-interconnection project\n\nProject neutron-interconnection was officialy in Neutron stadium but as\nthere was no activity on this project for quite long time and project\nactually never got any real implementation done, during the Shanghai PTG\nwe decided to retire it.\n\nAlso api-ref for this project is removed from neutron-lib with commit\n[1].\n\n[1] https://review.opendev.org/#/c/694466/\n\nChange-Id: I0b4f091552cff894a130a89e9d55a902a25659a8\n'}, {'number': 3, 'created': '2019-11-15 16:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3bc28a7fd2cf59a9ea45845e084c8cf193343054', 'message': 'Retire neutron-interconnection project\n\nProject neutron-interconnection was officialy in Neutron stadium but as\nthere was no activity on this project for quite long time and project\nactually never got any real implementation done, during the Shanghai PTG\nwe decided to retire it.\n\nAlso api-ref for this project is removed from neutron-lib with commit\n[1].\n\n[1] https://review.opendev.org/#/c/694466/\n\nChange-Id: I0b4f091552cff894a130a89e9d55a902a25659a8\n'}, {'number': 4, 'created': '2019-11-15 16:11:53.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/openstack/neutron-interconnection.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6197ea68785064a781db81a1c282de9bf2339331', 'message': 'Retire neutron-interconnection project\n\nProject neutron-interconnection was officialy in Neutron stadium but as\nthere was no activity on this project for quite long time and project\nactually never got any real implementation done, during the Shanghai PTG\nwe decided to retire it.\n\nAlso api-ref for this project is removed from neutron-lib with commit\n[1].\n\n[1] https://review.opendev.org/#/c/694466/\n\nDepends-On: https://review.opendev.org/#/c/694490/\n\nChange-Id: I0b4f091552cff894a130a89e9d55a902a25659a8\n'}]",2,694478,6197ea68785064a781db81a1c282de9bf2339331,33,8,4,11975,,,0,"Retire neutron-interconnection project

Project neutron-interconnection was officialy in Neutron stadium but as
there was no activity on this project for quite long time and project
actually never got any real implementation done, during the Shanghai PTG
we decided to retire it.

Also api-ref for this project is removed from neutron-lib with commit
[1].

[1] https://review.opendev.org/#/c/694466/

Depends-On: https://review.opendev.org/#/c/694490/

Change-Id: I0b4f091552cff894a130a89e9d55a902a25659a8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/694478/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/x/neutron-interconnection.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,c6fafee7df42b528742aac8501bca05e4901000b,neutron-interconnection-retire, - x/neutron-interconnection, - openstack/neutron-interconnection,3,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iddfbb649b3161a69a7d9a4a81b6913919d307d01,openstack/tripleo-heat-templates,stable/train,Iddfbb649b3161a69a7d9a4a81b6913919d307d01,Add Octavia driver agent service,MERGED,2019-11-26 09:33:44.000000000,2019-11-26 17:18:51.000000000,2019-11-26 17:16:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 09:33:44.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml', 'releasenotes/notes/add-octavia-driver-agent-support-470fa6fd769c8428.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58c36233bc8c72805ad3640798eadf07b69e6684', 'message': 'Add Octavia driver agent service\n\nInitial addition of the octavia driver agent service which is required\nfor the Octavia OVN provider.\n\nConflicts:\n    deployment/octavia/octavia-api-container-puppet.yaml\n\nChange-Id: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\n(cherry picked from commit 9e8d4e3c203fab396c653ffaad81ad6c869cc304)\n'}]",0,696043,58c36233bc8c72805ad3640798eadf07b69e6684,10,4,1,6469,,,0,"Add Octavia driver agent service

Initial addition of the octavia driver agent service which is required
for the Octavia OVN provider.

Conflicts:
    deployment/octavia/octavia-api-container-puppet.yaml

Change-Id: Iddfbb649b3161a69a7d9a4a81b6913919d307d01
(cherry picked from commit 9e8d4e3c203fab396c653ffaad81ad6c869cc304)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/696043/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-api-container-puppet.yaml', 'releasenotes/notes/add-octavia-driver-agent-support-470fa6fd769c8428.yaml']",2,58c36233bc8c72805ad3640798eadf07b69e6684,octavia-driver-agent,--- features: - | Added support for running the Octavia driver agent in a container. This will enable features such as the OVN load balancer provider in octavia as well as other third party providers. ,,51,0
openstack%2Ftripleo-heat-templates~master~I252688c579e76acb8f5fc1fc30fb4f336f905dca,openstack/tripleo-heat-templates,master,I252688c579e76acb8f5fc1fc30fb4f336f905dca,Use public network for external interface,MERGED,2019-11-14 14:25:22.000000000,2019-11-26 17:16:11.000000000,2019-11-26 17:16:11.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 14:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/782d617f70c2a0fb599da89428411447c4be1773', 'message': ""Use public network for external interface\n\nThis patch adds possibility for metrics' QDR to listen on public network\nfor external connections (from CloudForms for example).\n\nChange-Id: I252688c579e76acb8f5fc1fc30fb4f336f905dca\n""}, {'number': 2, 'created': '2019-11-14 16:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97191580ed2d74b5bb49e41ca7d1d3035da3f400', 'message': ""Use public network for external interface\n\nThis patch adds possibility for metrics' QDR to listen on public network\nfor external connections (from CloudForms for example).\n\nDepends-On: Ia865bef9daf5b7e92b1b8c3712113416c9c8c176\nChange-Id: I252688c579e76acb8f5fc1fc30fb4f336f905dca\n""}, {'number': 3, 'created': '2019-11-21 11:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e4f5fd7a7031105c5a487dbe307f047d990b3e8', 'message': ""Use public network for external interface\n\nThis patch adds possibility for metrics' QDR to listen on public network\nfor external connections (from CloudForms for example).\n\nChange-Id: I252688c579e76acb8f5fc1fc30fb4f336f905dca\n""}, {'number': 4, 'created': '2019-11-21 11:58:20.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/553ede19454e470312f12a2bc85f0b67e7128273', 'message': ""Use public network for external interface\n\nThis patch adds possibility for metrics' QDR to listen on public network\nfor external connections (from CloudForms for example).\n\nChange-Id: I252688c579e76acb8f5fc1fc30fb4f336f905dca\n""}]",0,694308,553ede19454e470312f12a2bc85f0b67e7128273,17,6,4,5241,,,0,"Use public network for external interface

This patch adds possibility for metrics' QDR to listen on public network
for external connections (from CloudForms for example).

Change-Id: I252688c579e76acb8f5fc1fc30fb4f336f905dca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/694308/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/qdr-container-puppet.yaml'],1,782d617f70c2a0fb599da89428411447c4be1773,sync-saf-services," MetricsQdrExternalEndpoint: default: false description: Whether QDR should listen on external network interface. type: boolean tripleo::profile::base::metrics::qdr::external_listener_addr: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, PublicNetwork]} tripleo::profile::base::metrics::qdr::listen_on_external: {get_param: MetricsQdrExternalEndpoint}",,11,0
openstack%2Ftripleo-upgrade~stable%2Fstein~I6dab80aa476140e821a65544c39182c12b20c0b6,openstack/tripleo-upgrade,stable/stein,I6dab80aa476140e821a65544c39182c12b20c0b6,ceph_osds is list so we don't need to itemize it,MERGED,2019-11-14 23:03:55.000000000,2019-11-26 17:16:04.000000000,2019-11-26 17:16:03.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 23:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4f79b501963af6793c875a5e531646a67c005766', 'message': 'py3 friendly change - iteritems to items\n\nChange-Id: I6dab80aa476140e821a65544c39182c12b20c0b6\n(cherry picked from commit e6d508f8a249ec4f09ad0d833192c01e961876e0)\n'}, {'number': 2, 'created': '2019-11-18 10:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e6766785c8310191ba51e246ffec6c5fabc151c6', 'message': ""ceph_osds is list so we don't need to itemize it\n\nChange-Id: I6dab80aa476140e821a65544c39182c12b20c0b6\n(cherry picked from commit 6e0c7be37f8c97adb2361d70e37aa9925c493fd5)\n""}, {'number': 3, 'created': '2019-11-18 23:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/00c5e342ebf3c262fef75425550fe39760e2d5ff', 'message': ""ceph_osds is list so we don't need to itemize it\n\nAlso we have just one value in colocated scenario.\n\nChange-Id: I6dab80aa476140e821a65544c39182c12b20c0b6\n(cherry picked from commit 784477fc21b6f918a326ac63d08bb9a2dfa8c189)\n""}, {'number': 4, 'created': '2019-11-21 13:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/92ce4685e9fb463ebd17bef4c0c7629a44f4a6cc', 'message': ""ceph_osds is list so we don't need to itemize it\n\nAlso we have just one value in colocated scenario.\n\nChange-Id: I6dab80aa476140e821a65544c39182c12b20c0b6\n(cherry picked from commit 784477fc21b6f918a326ac63d08bb9a2dfa8c189)\n""}, {'number': 5, 'created': '2019-11-25 11:09:11.000000000', 'files': ['templates/cephosd.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dee86dc3ae94ba3b90706ff2e90709920c7febf6', 'message': ""ceph_osds is list so we don't need to itemize it\n\nAlso we have just one value in colocated scenario.\n\nChange-Id: I6dab80aa476140e821a65544c39182c12b20c0b6\n(cherry picked from commit 416d06a5457aa40944993be97400edb7b24ce2ea)\n""}]",1,694423,dee86dc3ae94ba3b90706ff2e90709920c7febf6,16,3,5,11166,,,0,"ceph_osds is list so we don't need to itemize it

Also we have just one value in colocated scenario.

Change-Id: I6dab80aa476140e821a65544c39182c12b20c0b6
(cherry picked from commit 416d06a5457aa40944993be97400edb7b24ce2ea)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/23/694423/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cephosd.yaml.j2'],1,4f79b501963af6793c875a5e531646a67c005766,,"{% for key, value in ceph_osds.items()|sort %}{% for key, value in ceph_osds.items()|sort %}","{% for key, value in ceph_osds.iteritems()|sort %}{% for key, value in ceph_osds.iteritems()|sort %}",2,2
openstack%2Ftripleo-upgrade~stable%2Frocky~Ibc57c51ff19ebad093c887bee545ca6a7d51827f,openstack/tripleo-upgrade,stable/rocky,Ibc57c51ff19ebad093c887bee545ca6a7d51827f,Sync up upgrades and updates workarounds mechanism.,MERGED,2019-11-13 18:15:41.000000000,2019-11-26 17:16:03.000000000,2019-11-26 17:16:03.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-13 18:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ebf22198c20c41b9dcae266177ef33ce7ee2c40d', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n'}, {'number': 2, 'created': '2019-11-14 09:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d73e7176aed9cc8d54678370c5dd40e69a61ae9a', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n'}, {'number': 3, 'created': '2019-11-21 13:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a86ce829c33e594c778cc1cee43473389058f475', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n'}, {'number': 4, 'created': '2019-11-25 11:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9c8a37829640c7f172f315f52d7cc40eedaf176b', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n'}, {'number': 5, 'created': '2019-11-25 14:43:35.000000000', 'files': ['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dd55de6d087d69acad0ec81297e06554efbbbdc8', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit ef1545650338f9e70bd98e18a2517e63e23cd0a9)\n'}]",1,694134,dd55de6d087d69acad0ec81297e06554efbbbdc8,16,3,5,11166,,,0,"Sync up upgrades and updates workarounds mechanism.

Up to now, the minor updates workarounds was not being used very much
being a little bit left away in comparision with what it was implemented
for the upgrades one. This patch allows minor updates to benefit from
the same workarounds mechanism, at the same time that any improvement
in the upgrades mechanism will be available for updates too.

Also, it was removed the references to the {{ working_dir }} variable
in those shell tasks which have the argument changing directory to that
very same {{ working_dir }}, mostly to simplify the tasks and remove
redundancy.

Change-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f
(cherry picked from commit ef1545650338f9e70bd98e18a2517e63e23cd0a9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/694134/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'tasks/update/create-undercloud-update-scripts.yaml']",9,ebf22198c20c41b9dcae266177ef33ce7ee2c40d,,"- name: create update workaround scripts for undercloud template: src: workarounds.sh.j2 dest: ""{{ working_dir }}/{{ item }}.sh"" mode: 0775 loop: - 'pre_undercloud_update_workarounds' - 'post_undercloud_update_workarounds'","- name: create scripts with workarounds template: src: ""{{ update_workarounds_template }}"" dest: ""{{ working_dir }}/{{ item.script }}"" mode: 0755 loop: '{{ pre_undercloud_update_workarounds|default([]) + post_undercloud_update_workarounds|default([]) }}'",187,67
openstack%2Fansible-hardening~stable%2Ftrain~I78c8595228f1aabded6cd23159c2a889738f3288,openstack/ansible-hardening,stable/train,I78c8595228f1aabded6cd23159c2a889738f3288,Replace deprecated apt parameter,MERGED,2019-11-21 12:05:50.000000000,2019-11-26 17:11:34.000000000,2019-11-26 17:10:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25591}, {'_account_id': 28619}, {'_account_id': 31314}]","[{'number': 1, 'created': '2019-11-21 12:05:50.000000000', 'files': ['tasks/rhel7stig/apt.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/49151aba07b9fa774f6a03ef0adafcdbba520f95', 'message': 'Replace deprecated apt parameter\n\nReplace the deprecated ""state: installed"" parameter with ""state: present"" as\nit\'s no longer supported in Ansible 2.9\n\nChange-Id: I78c8595228f1aabded6cd23159c2a889738f3288\nSigned-off-by: Khaled Elkhawaga <k.elkhawaga@gmail.com>\n(cherry picked from commit ab430cfbffe11cf1a97e317d544e7ecfc4903041)\n'}]",0,695411,49151aba07b9fa774f6a03ef0adafcdbba520f95,10,5,1,25023,,,0,"Replace deprecated apt parameter

Replace the deprecated ""state: installed"" parameter with ""state: present"" as
it's no longer supported in Ansible 2.9

Change-Id: I78c8595228f1aabded6cd23159c2a889738f3288
Signed-off-by: Khaled Elkhawaga <k.elkhawaga@gmail.com>
(cherry picked from commit ab430cfbffe11cf1a97e317d544e7ecfc4903041)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/11/695411/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rhel7stig/apt.yml'],1,49151aba07b9fa774f6a03ef0adafcdbba520f95,osa-train, state: present, state: installed,1,1
openstack%2Ftripleo-ansible~master~Ib7235d1cb64ad0f42e7a0201008536e1a35bd696,openstack/tripleo-ansible,master,Ib7235d1cb64ad0f42e7a0201008536e1a35bd696,Add idempotency for networks parameter in podman_container,MERGED,2019-11-25 14:57:58.000000000,2019-11-26 17:02:46.000000000,2019-11-26 17:02:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 14:57:58.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25f8abbc5a6195d0f72b9fecca8b0728991a4772', 'message': 'Add idempotency for networks parameter in podman_container\n\nChange-Id: Ib7235d1cb64ad0f42e7a0201008536e1a35bd696\n'}]",0,695923,25f8abbc5a6195d0f72b9fecca8b0728991a4772,8,5,1,10969,,,0,"Add idempotency for networks parameter in podman_container

Change-Id: Ib7235d1cb64ad0f42e7a0201008536e1a35bd696
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/695923/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,25f8abbc5a6195d0f72b9fecca8b0728991a4772,podman_container_nets," # libpod issue with networks in inspection ""network"": [""default""], def diffparam_network(self): before = [self.info['hostconfig']['networkmode']] after = self.params['network'] return self._diff_update_and_compare('network', before, after) "," ""network"", # Issue in libpod",7,1
openstack%2Fsahara~stable%2Fqueens~If8ff04b6a59f98700f1aa3988fe740959a0ec4b0,openstack/sahara,stable/queens,If8ff04b6a59f98700f1aa3988fe740959a0ec4b0,Run sahara-scenario using Python 3,MERGED,2019-11-25 14:13:16.000000000,2019-11-26 16:51:22.000000000,2019-11-26 16:51:22.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 14:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/360ef5cbc23dd02ebea9fa4476c2787d6d5e452a', 'message': 'Run sahara-scenario using Python 3\n\nThe sahara-tests repository is removing Python 2 support in master,\nAs Python 3.5 is supported, sahara-tests-scenario jobs can safely\nuse it to run sahara-scenario also on this stable branch.\n\nChange-Id: If8ff04b6a59f98700f1aa3988fe740959a0ec4b0\n(cherry picked from commit 8677168b80aeee669d468a09bfb754498f81f5c2)\n'}, {'number': 2, 'created': '2019-11-25 15:45:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ec5de3aec755e1b4578d4dc7659036b3324646f8', 'message': 'Run sahara-scenario using Python 3\n\nThe sahara-tests repository is removing Python 2 support in master,\nAs Python 3.5 is supported, sahara-tests-scenario jobs can safely\nuse it to run sahara-scenario also on this stable branch.\n\nChange-Id: If8ff04b6a59f98700f1aa3988fe740959a0ec4b0\n(cherry picked from commit 8677168b80aeee669d468a09bfb754498f81f5c2)\n'}]",0,695913,ec5de3aec755e1b4578d4dc7659036b3324646f8,10,3,2,10459,,,0,"Run sahara-scenario using Python 3

The sahara-tests repository is removing Python 2 support in master,
As Python 3.5 is supported, sahara-tests-scenario jobs can safely
use it to run sahara-scenario also on this stable branch.

Change-Id: If8ff04b6a59f98700f1aa3988fe740959a0ec4b0
(cherry picked from commit 8677168b80aeee669d468a09bfb754498f81f5c2)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/13/695913/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,360ef5cbc23dd02ebea9fa4476c2787d6d5e452a,, - sahara-tests-scenario sahara_scenario_tox_env: venv - sahara-tests-scenario, - sahara-tests-scenario: vars: sahara_scenario_tox_env: venv-py2 sahara_scenario_tox_env: venv-py2 - sahara-tests-scenario: vars: sahara_scenario_tox_env: venv-py2,3,7
openstack%2Fsahara~stable%2Fqueens~I23c8d14dce45d003fdfb58fed6591e937b27abab,openstack/sahara,stable/queens,I23c8d14dce45d003fdfb58fed6591e937b27abab,Fixing image creation,MERGED,2019-11-25 14:13:16.000000000,2019-11-26 16:51:18.000000000,2019-11-26 16:51:18.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 14:13:16.000000000', 'files': ['sahara/plugins/mapr/resources/images/image.yaml', 'sahara/plugins/mapr/resources/images/centos/configure_hue'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f6a07610a89fb61c41e2638fc1edc8e27be08f0d', 'message': 'Fixing image creation\n\nUpdating image creation to keep compatibility with some package changes.\n\nStory: #2006752\nTask: #37236\nChange-Id: I23c8d14dce45d003fdfb58fed6591e937b27abab\n(cherry picked from commit 2cf6806c1829bf1ac0915f78ec319f07967f254b)\n'}]",0,695912,f6a07610a89fb61c41e2638fc1edc8e27be08f0d,6,2,1,10459,,,0,"Fixing image creation

Updating image creation to keep compatibility with some package changes.

Story: #2006752
Task: #37236
Change-Id: I23c8d14dce45d003fdfb58fed6591e937b27abab
(cherry picked from commit 2cf6806c1829bf1ac0915f78ec319f07967f254b)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/12/695912/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/mapr/resources/images/image.yaml', 'sahara/plugins/mapr/resources/images/centos/configure_hue']",2,f6a07610a89fb61c41e2638fc1edc8e27be08f0d,, rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-compat-$MARIADB_VERSION-1.el7.centos.x86_64.rpm fi , rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-$MARIADB_VERSION-centos73-x86_64-compat.rpm fi,2,3
openstack%2Fsahara~stable%2Fqueens~I20eeac76373058eca0c33da11eb1e9dfce91de54,openstack/sahara,stable/queens,I20eeac76373058eca0c33da11eb1e9dfce91de54,Check MariaDB installation,MERGED,2019-11-25 14:13:16.000000000,2019-11-26 16:51:15.000000000,2019-11-26 16:51:14.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 14:13:16.000000000', 'files': ['sahara/plugins/mapr/resources/images/centos/configure_hue'], 'web_link': 'https://opendev.org/openstack/sahara/commit/4b9aa37abb7dff68aecc652f916ac9895e9e21e9', 'message': 'Check MariaDB installation\n\nChecking if MariaDB is installed before trying to install it.\n\nStory: #2005902\nTask: #33764\n\nChange-Id: I20eeac76373058eca0c33da11eb1e9dfce91de54\n(cherry picked from commit 7df4957949fed406b708b850677a4a41d7926690)\n'}]",0,695911,4b9aa37abb7dff68aecc652f916ac9895e9e21e9,6,2,1,10459,,,0,"Check MariaDB installation

Checking if MariaDB is installed before trying to install it.

Story: #2005902
Task: #33764

Change-Id: I20eeac76373058eca0c33da11eb1e9dfce91de54
(cherry picked from commit 7df4957949fed406b708b850677a4a41d7926690)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/11/695911/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/mapr/resources/images/centos/configure_hue'],1,4b9aa37abb7dff68aecc652f916ac9895e9e21e9,,"INSTALLED=$(rpm -qa | grep -i mariadb-compat-${MARIADB_VERSION}-) if [[ -z ""$INSTALLED"" ]]; then rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-$MARIADB_VERSION-centos73-x86_64-compat.rpm fi", rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-$MARIADB_VERSION-centos73-x86_64-compat.rpm ,4,1
openstack%2Ftraining-labs~stable%2Fstein~I6cb644e15fb0620a523e5d089babf02f82c2ef92,openstack/training-labs,stable/stein,I6cb644e15fb0620a523e5d089babf02f82c2ef92,Update Ubuntu LTS ISO to 18.04.3,MERGED,2019-11-26 12:59:53.000000000,2019-11-26 16:46:37.000000000,2019-11-26 16:46:37.000000000,"[{'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 12:59:53.000000000', 'files': ['labs/stacktrain/distros/ubuntu_18_04_server_amd64.py'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/b0529999b4b86e3fe2a23aad7d5f928a7ba3b99d', 'message': 'Update Ubuntu LTS ISO to 18.04.3\n\nCloses-Bug: #1846863\n\nChange-Id: I6cb644e15fb0620a523e5d089babf02f82c2ef92\n(backport from master)\n'}]",0,696080,b0529999b4b86e3fe2a23aad7d5f928a7ba3b99d,6,2,1,11109,,,0,"Update Ubuntu LTS ISO to 18.04.3

Closes-Bug: #1846863

Change-Id: I6cb644e15fb0620a523e5d089babf02f82c2ef92
(backport from master)
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/80/696080/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/stacktrain/distros/ubuntu_18_04_server_amd64.py'],1,b0529999b4b86e3fe2a23aad7d5f928a7ba3b99d,update_lts_stein," ""ubuntu-18.04.3-server-amd64.iso"") self.md5 = ""cb7cd5a0c94899a04a536441c8b6d2bf"""," ""ubuntu-18.04.2-server-amd64.iso"") self.md5 = ""34416ff83179728d54583bf3f18d42d2""",2,2
openstack%2Fnova~master~I7f7ca4cc5781a93c0b7b508b5c29e1f6f28194ad,openstack/nova,master,I7f7ca4cc5781a93c0b7b508b5c29e1f6f28194ad,api-guide: remove empty sections about inter-service interactions,MERGED,2019-11-22 21:48:47.000000000,2019-11-26 16:38:08.000000000,2019-11-26 16:34:47.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-22 21:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c45d31a2a8a005b3feb2cd9dc76b30c429c27a20', 'message': ""api-guide: remove empty sections about inter-service interactions\n\nThe todos here are just kind of embarrassing so rather than try\nto flesh these out we should just remove them.\n\nThe alternative would be writing something at a very high level\nlike 'the compute service works with the image service to get\nthe guest operating system image and create snapshots', 'the\ncompute service works with the block storage service to use\npersistent volumes as root volumes with an operating\nsystem image or data volumes', 'the compute service works with\nthe networking service to provide network access to the server\nand firewall rules using security groups' and then link to the\nglance, cinder and neutron docs, but I'm not sure it's worth it.\n\nChange-Id: I7f7ca4cc5781a93c0b7b508b5c29e1f6f28194ad\n""}, {'number': 2, 'created': '2019-11-25 14:19:29.000000000', 'files': ['api-guide/source/general_info.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1319931f46458d522e28f9e2aed5ab40290f88a9', 'message': ""api-guide: remove empty sections about inter-service interactions\n\nThe todos here are just kind of embarrassing so rather than try\nto flesh these out we should just remove them.\n\nThe alternative would be writing something at a very high level\nlike 'the compute service works with the image service to get\nthe guest operating system image and create snapshots', 'the\ncompute service works with the block storage service to use\npersistent volumes as root volumes with an operating\nsystem image or data volumes', 'the compute service works with\nthe networking service to provide network access to the server\nand firewall rules using security groups' and then link to the\nglance, cinder and neutron docs, but I'm not sure it's worth it.\n\nChange-Id: I7f7ca4cc5781a93c0b7b508b5c29e1f6f28194ad\n""}]",2,695774,1319931f46458d522e28f9e2aed5ab40290f88a9,22,9,2,6873,,,0,"api-guide: remove empty sections about inter-service interactions

The todos here are just kind of embarrassing so rather than try
to flesh these out we should just remove them.

The alternative would be writing something at a very high level
like 'the compute service works with the image service to get
the guest operating system image and create snapshots', 'the
compute service works with the block storage service to use
persistent volumes as root volumes with an operating
system image or data volumes', 'the compute service works with
the networking service to provide network access to the server
and firewall rules using security groups' and then link to the
glance, cinder and neutron docs, but I'm not sure it's worth it.

Change-Id: I7f7ca4cc5781a93c0b7b508b5c29e1f6f28194ad
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/695774/2 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/general_info.rst'],1,c45d31a2a8a005b3feb2cd9dc76b30c429c27a20,api-guide-cleanup,," Relationship with Volume API ============================ Here we discuss about Cinder's API and how Nova users volume UUIDs. .. todo:: add more details. Relationship with Image API =========================== Here we discuss about Glance's API and how Nova uses image UUIDs. We also discuss how Nova proxies setting image metadata. .. todo:: add more details. Interactions with neutron and nova-network (deprecated) ======================================================= We talk about how networking can be provided be either neutron or nova-network (deprecated). Here we discuss about Neutron's API and how Nova users port UUIDs. We also discuss Nova automatically creating ports, proxying security groups, and proxying floating IPs. Also talk about the APIs we do not proxy. .. todo:: add more details.",0,27
openstack%2Freleases~master~Iee74c6e04db4e1d76c6f6b9347ca5fde853dddbc,openstack/releases,master,Iee74c6e04db4e1d76c6f6b9347ca5fde853dddbc,Release aodhclient 1.5.0,MERGED,2019-11-26 08:39:32.000000000,2019-11-26 16:37:34.000000000,2019-11-26 16:37:33.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-26 08:39:32.000000000', 'files': ['deliverables/ussuri/python-aodhclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7aeefbde7be0c1d5a019dc8da3b1a7db34d65bc4', 'message': 'Release aodhclient 1.5.0\n\nChange-Id: Iee74c6e04db4e1d76c6f6b9347ca5fde853dddbc\n'}]",0,696034,7aeefbde7be0c1d5a019dc8da3b1a7db34d65bc4,10,5,1,6732,,,0,"Release aodhclient 1.5.0

Change-Id: Iee74c6e04db4e1d76c6f6b9347ca5fde853dddbc
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/696034/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-aodhclient.yaml'],1,7aeefbde7be0c1d5a019dc8da3b1a7db34d65bc4,aodhclient, - version: 1.5.0 projects: - repo: openstack/python-aodhclient hash: 428e394e5a4c3d98fbe5f1dc3ab1273af86aaa79 tarball-base: aodhclient,,5,0
openstack%2Fcinder~stable%2Fpike~Ie5af3703eaa82d23b50127f611235d86e4104369,openstack/cinder,stable/pike,Ie5af3703eaa82d23b50127f611235d86e4104369,Fix handling of 'cinder_encryption_key_id' image metadata,MERGED,2019-10-15 14:29:19.000000000,2019-11-26 16:34:44.000000000,2019-11-26 16:34:44.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-15 14:29:19.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/26ae52cf0b843951d0eea3c3b8a8e8c0b1bbd0ba', 'message': ""Fix handling of 'cinder_encryption_key_id' image metadata\n\nThe Cinder code that processes Glance image metadata\nis a bit confused about whether this particular field\nis a Glance property or metadata.\n\nSince it isn't a defined a Glance property and is stored\nin image metadata, ensure that Cinder also tracks it\nmetadata and not as a property.\n\nThis mismatch prior to this fix causes Cinder to create\nvolumes with the wrong encryption key when creating a\nvolume from an encrypted image, which results in an\nunreadable volume.\n\nConflicts:\n    cinder/image/glance.py\nNote(elod.illes): conflict is due to not having patch\nIce379db9ae83420bacf9e96e242c7515930eae86 in stable pike.\n\nCloses-Bug: #1764125\nChange-Id: Ie5af3703eaa82d23b50127f611235d86e4104369\n(cherry picked from commit 2792be3ffced9b7faeb69fa100b3c50b76d00dc3)\n(cherry picked from commit 55edbdd8ca1455ff46fd3343d6ca2f34679efb3e)\n""}]",0,688723,26ae52cf0b843951d0eea3c3b8a8e8c0b1bbd0ba,20,16,1,17685,,,0,"Fix handling of 'cinder_encryption_key_id' image metadata

The Cinder code that processes Glance image metadata
is a bit confused about whether this particular field
is a Glance property or metadata.

Since it isn't a defined a Glance property and is stored
in image metadata, ensure that Cinder also tracks it
metadata and not as a property.

This mismatch prior to this fix causes Cinder to create
volumes with the wrong encryption key when creating a
volume from an encrypted image, which results in an
unreadable volume.

Conflicts:
    cinder/image/glance.py
Note(elod.illes): conflict is due to not having patch
Ice379db9ae83420bacf9e96e242c7515930eae86 in stable pike.

Closes-Bug: #1764125
Change-Id: Ie5af3703eaa82d23b50127f611235d86e4104369
(cherry picked from commit 2792be3ffced9b7faeb69fa100b3c50b76d00dc3)
(cherry picked from commit 55edbdd8ca1455ff46fd3343d6ca2f34679efb3e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/688723/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py']",4,26ae52cf0b843951d0eea3c3b8a8e8c0b1bbd0ba,bug/1764125," # Process 'cinder_encryption_key_id' as a metadata key if 'cinder_encryption_key_id' in image.keys(): image_meta['cinder_encryption_key_id'] = \ image['cinder_encryption_key_id'] 'min_disk', 'min_ram', 'protected', 'cinder_encryption_key_id']"," 'min_disk', 'min_ram', 'protected']",11,5
openstack%2Fcharm-nova-cloud-controller~master~I6085863a4ab9cb08c6e900b041e70b7c17cc4e50,openstack/charm-nova-cloud-controller,master,I6085863a4ab9cb08c6e900b041e70b7c17cc4e50,Fix README wrt policyd,MERGED,2019-11-21 15:31:56.000000000,2019-11-26 16:31:53.000000000,2019-11-26 16:31:53.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 15:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/7e3541524219740166679496669b245bfbe33438', 'message': ""Fix README wrt policyd\n\n* Extra blank line removed\n* tautology removed\n* changed 'keystone' -> 'nova'\n\nChange-Id: I6085863a4ab9cb08c6e900b041e70b7c17cc4e50\n""}, {'number': 2, 'created': '2019-11-22 11:30:28.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b53e4e7b12c52e4e73c88a6c008f88fbee717b7c', 'message': ""Fix README wrt policyd\n\n* Extra blank line removed\n* tautology removed\n* changed 'keystone' -> 'nova'\n\nDepends-On: I046d9ee5fda4ca15a5824650d8aceb5d24741d94\nChange-Id: I6085863a4ab9cb08c6e900b041e70b7c17cc4e50\n""}]",0,695460,b53e4e7b12c52e4e73c88a6c008f88fbee717b7c,12,4,2,20870,,,0,"Fix README wrt policyd

* Extra blank line removed
* tautology removed
* changed 'keystone' -> 'nova'

Depends-On: I046d9ee5fda4ca15a5824650d8aceb5d24741d94
Change-Id: I6085863a4ab9cb08c6e900b041e70b7c17cc4e50
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/60/695460/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,7e3541524219740166679496669b245bfbe33438,policy-overrides,"should be clearly understood before trying to override, or add to, the default policies that the service uses. The charm also has some policy defaults. They should also be understood before being overridden.`/etc/nova/policy.d` directory, and as such, any manual changes to it will","should be clearly and unambiguously understood before trying to override, or add to, the default policies that the service uses. The charm also has some policy defaults. They should also be understood before being overridden.`/etc/keystone/policy.d` directory, and as such, any manual changes to it will",4,5
openstack%2Fcharm-openstack-dashboard~master~I46aacc4705066aa6c13153c09fa981cd8027332e,openstack/charm-openstack-dashboard,master,I46aacc4705066aa6c13153c09fa981cd8027332e,Improve the debug logging for policyd,MERGED,2019-11-25 13:03:20.000000000,2019-11-26 16:30:44.000000000,2019-11-26 16:30:44.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 13:03:20.000000000', 'files': ['hooks/horizon_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/42c10d54658b3aa47cd14b66520897d6d8dbe22b', 'message': ""Improve the debug logging for policyd\n\nImproves the debug logging for a policyd override if the override file\ncontains a section that doesn't make sense for the charm.\n\nChange-Id: I46aacc4705066aa6c13153c09fa981cd8027332e\n""}]",0,695898,42c10d54658b3aa47cd14b66520897d6d8dbe22b,7,3,1,20870,,,0,"Improve the debug logging for policyd

Improves the debug logging for a policyd override if the override file
contains a section that doesn't make sense for the charm.

Change-Id: I46aacc4705066aa6c13153c09fa981cd8027332e
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/98/695898/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/horizon_utils.py'],1,42c10d54658b3aa47cd14b66520897d6d8dbe22b,policy-overrides," raise policyd.BadPolicyYamlFile(""No prefix for section: name={}"" .format(name))"," raise policyd.BadPolicyYamlFile(""No prefix for section"")",2,1
openstack%2Fcharm-openstack-dashboard~stable%2F19.10~Ied9d0f5486c260a17da9375ec6347d0952154225,openstack/charm-openstack-dashboard,stable/19.10,Ied9d0f5486c260a17da9375ec6347d0952154225,Remove Set-Cookie .... HttpOnly;secure to allow CSRF access,MERGED,2019-11-25 14:43:56.000000000,2019-11-26 16:30:43.000000000,2019-11-26 16:30:43.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 14:43:56.000000000', 'files': ['templates/default-ssl'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/2ac72c39b480ae07df50edaac9802a7049773ca6', 'message': ""Remove Set-Cookie .... HttpOnly;secure to allow CSRF access\n\nAngular (running in the page) can't access the CSRF token if the cookie\nis set to secure.  This is a temporary patch to resolve the issue whilst\na more permanent fix is found.\n\nThis reverts patch I1ded951d79ad9fa832d1e88f656a1e064b1ef007\n(essentially).\n\n\nChange-Id: Ied9d0f5486c260a17da9375ec6347d0952154225\nRelated-Bug: #1822751\nCloses-Bug: #1853173\n""}]",0,695920,2ac72c39b480ae07df50edaac9802a7049773ca6,10,5,1,20870,,,0,"Remove Set-Cookie .... HttpOnly;secure to allow CSRF access

Angular (running in the page) can't access the CSRF token if the cookie
is set to secure.  This is a temporary patch to resolve the issue whilst
a more permanent fix is found.

This reverts patch I1ded951d79ad9fa832d1e88f656a1e064b1ef007
(essentially).


Change-Id: Ied9d0f5486c260a17da9375ec6347d0952154225
Related-Bug: #1822751
Closes-Bug: #1853173
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/20/695920/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/default-ssl'],1,2ac72c39b480ae07df50edaac9802a7049773ca6,bug/1822751-stable/19.10," # NOTE(ajkavanagh) due to Bug 1853173 the cookie can't be secure at this time, so disabling until a fix is found. # Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure", Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure,2,1
openstack%2Fcharm-openstack-dashboard~master~Id99abb429a0dc541ab5a3603962db8a563835eea,openstack/charm-openstack-dashboard,master,Id99abb429a0dc541ab5a3603962db8a563835eea,Remove Set-Cookie .... HttpOnly;secure to allow CSRF access,MERGED,2019-11-25 14:22:22.000000000,2019-11-26 16:30:43.000000000,2019-11-26 16:30:42.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 14:22:22.000000000', 'files': ['templates/default-ssl'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/5375df0b12657e3494a966a48d04878aba8d153a', 'message': ""Remove Set-Cookie .... HttpOnly;secure to allow CSRF access\n\nAngular (running in the page) can't access the CSRF token if the cookie\nis set to secure.  This is a temporary patch to resolve the issue whilst\na more permanent fix is found.\n\nThis reverts patch I1ded951d79ad9fa832d1e88f656a1e064b1ef007\n(essentially).\n\nChange-Id: Id99abb429a0dc541ab5a3603962db8a563835eea\nRelated-Bug: #1822751\nCloses-Bug: #1853173\n""}]",0,695918,5375df0b12657e3494a966a48d04878aba8d153a,10,4,1,20870,,,0,"Remove Set-Cookie .... HttpOnly;secure to allow CSRF access

Angular (running in the page) can't access the CSRF token if the cookie
is set to secure.  This is a temporary patch to resolve the issue whilst
a more permanent fix is found.

This reverts patch I1ded951d79ad9fa832d1e88f656a1e064b1ef007
(essentially).

Change-Id: Id99abb429a0dc541ab5a3603962db8a563835eea
Related-Bug: #1822751
Closes-Bug: #1853173
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/18/695918/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/default-ssl'],1,5375df0b12657e3494a966a48d04878aba8d153a,bug/1822751," # NOTE(ajkavanagh) due to Bug 1853173 the cookie can't be secure at this time, so disabling until a fix is found. # Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure", Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure,2,1
openstack%2Fcharm-nova-cloud-controller~master~I046d9ee5fda4ca15a5824650d8aceb5d24741d94,openstack/charm-nova-cloud-controller,master,I046d9ee5fda4ca15a5824650d8aceb5d24741d94,Patch basic_deploymeny.py for juju 2.7 compat,MERGED,2019-11-22 11:29:17.000000000,2019-11-26 16:30:35.000000000,2019-11-26 16:30:35.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 11:29:17.000000000', 'files': ['tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/11483d5efb401497fa00950c08b953cb1858346b', 'message': 'Patch basic_deploymeny.py for juju 2.7 compat\n\nEssentially, Juju 2.7 changed the semantics of ""juju run"" in a way that\nbreaks Amulet.  Amulet is no longer supported, and this charm will have\nits tests migrated to zaza in the near future.  This patch just\nmonkey-patches the file_contents() method of Amulet\'s Sentry() class so\nthat the memcache verify test can pass.\n\nChange-Id: I046d9ee5fda4ca15a5824650d8aceb5d24741d94\n'}]",0,695663,11483d5efb401497fa00950c08b953cb1858346b,9,4,1,20870,,,0,"Patch basic_deploymeny.py for juju 2.7 compat

Essentially, Juju 2.7 changed the semantics of ""juju run"" in a way that
breaks Amulet.  Amulet is no longer supported, and this charm will have
its tests migrated to zaza in the near future.  This patch just
monkey-patches the file_contents() method of Amulet's Sentry() class so
that the memcache verify test can pass.

Change-Id: I046d9ee5fda4ca15a5824650d8aceb5d24741d94
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/63/695663/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,11483d5efb401497fa00950c08b953cb1858346b,patch-for-juju-2.7,"import functoolsimport mockimport tempfiledef _file_contents(unit, filename): """"""Get the contents of ``filename`` on the remote unit. Note, for Juju 2.7 compat, this function uses juju ssh instead :param str filename: Path of file to stat on the remote unit. :raises: IOError if the call fails. :return: File contents as string. """""" output, return_code = unit.ssh('sudo cat {}'.format(filename)) if return_code == 0: return output else: raise IOError(output) # Juju 2.7 breaks unit.run, so we need to patch file_contents with an # alternative function for this test. This is because Amulet is no # longer maintained. with mock.patch.object(self.nova_cc_sentry, 'file_contents', new=functools.partial(_file_contents, self.nova_cc_sentry)): u.validate_memcache(self.nova_cc_sentry, '/etc/nova/nova.conf', self._get_openstack_release(), earliest_release=self.trusty_mitaka)","import tempfile u.validate_memcache(self.nova_cc_sentry, '/etc/nova/nova.conf', self._get_openstack_release(), earliest_release=self.trusty_mitaka)",29,5
openstack%2Fcharm-ceph-osd~master~Ieee8d13f25027ad540a23a6428c2226b6c20999a,openstack/charm-ceph-osd,master,Ieee8d13f25027ad540a23a6428c2226b6c20999a,Re-fix Traceback issue when ceph-osd upgrade fails,MERGED,2019-11-20 10:29:06.000000000,2019-11-26 16:25:00.000000000,2019-11-26 16:25:00.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 10:29:06.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/b15a23ef6a26a4b4ece03020e7076d2bc7573937', 'message': 'Re-fix Traceback issue when ceph-osd upgrade fails\n\nThis was originally fixed in Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc\nbut unfortunately wasn\'t also added to the charms.ceph library.  Thus,\nthis is a re-application of that fix; the charms to ceph fix is in [1].\n\nBug/1770740 surfaced an issue where get_upgrade_position() returns None\nbut the calling function expects and exception to the thrown if the\n""None"" condition exists.  This just fixes the code so that the Traceback\nis stopped and the appropriate error/message is logged for the\ncondition.\n\n[1] https://review.opendev.org/#/c/695163/\n    I16539b2bc35104eed54033bebb1154cad8a5cf0f\n\nChange-Id: Ieee8d13f25027ad540a23a6428c2226b6c20999a\nPartial-Bug: #1770740\n'}]",0,695165,b15a23ef6a26a4b4ece03020e7076d2bc7573937,7,3,1,20870,,,0,"Re-fix Traceback issue when ceph-osd upgrade fails

This was originally fixed in Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc
but unfortunately wasn't also added to the charms.ceph library.  Thus,
this is a re-application of that fix; the charms to ceph fix is in [1].

Bug/1770740 surfaced an issue where get_upgrade_position() returns None
but the calling function expects and exception to the thrown if the
""None"" condition exists.  This just fixes the code so that the Traceback
is stopped and the appropriate error/message is logged for the
condition.

[1] https://review.opendev.org/#/c/695163/
    I16539b2bc35104eed54033bebb1154cad8a5cf0f

Change-Id: Ieee8d13f25027ad540a23a6428c2226b6c20999a
Partial-Bug: #1770740
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/65/695165/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,b15a23ef6a26a4b4ece03020e7076d2bc7573937,bug/1770740," :param osd_sorted_list: Osds sorted :type osd_sorted_list: [str] :param match_name: The osd name to match :type match_name: str :returns: The position of the name :rtype: int :raises: ValueError if name is not found raise ValueError(""osd name '{}' not found in get_upgrade_position list"" .format(match_name))", :param osd_sorted_list: list. Osds sorted :param match_name: str. The osd name to match :returns: int. The position or None if not found return None,9,4
openstack%2Fcharms.ceph~master~I16539b2bc35104eed54033bebb1154cad8a5cf0f,openstack/charms.ceph,master,I16539b2bc35104eed54033bebb1154cad8a5cf0f,Fix Traceback issue when ceph-osd upgrade fails,MERGED,2019-11-20 10:24:14.000000000,2019-11-26 16:20:56.000000000,2019-11-26 16:20:56.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 10:24:14.000000000', 'files': ['ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/1512de647260db540baa4e649378aefeb1e2edf7', 'message': 'Fix Traceback issue when ceph-osd upgrade fails\n\nBug/1770740 surfaced an issue where get_upgrade_position() returns None\nbut the calling function expects and exception to the thrown if the\n""None"" condition exists.  This just fixes the code so that the Traceback\nis stopped and the appropriate error/message is logged for the\ncondition.\n\nChange-Id: I16539b2bc35104eed54033bebb1154cad8a5cf0f\nPartial-Bug: #1770740\n'}]",0,695163,1512de647260db540baa4e649378aefeb1e2edf7,6,2,1,20870,,,0,"Fix Traceback issue when ceph-osd upgrade fails

Bug/1770740 surfaced an issue where get_upgrade_position() returns None
but the calling function expects and exception to the thrown if the
""None"" condition exists.  This just fixes the code so that the Traceback
is stopped and the appropriate error/message is logged for the
condition.

Change-Id: I16539b2bc35104eed54033bebb1154cad8a5cf0f
Partial-Bug: #1770740
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/63/695163/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph/utils.py'],1,1512de647260db540baa4e649378aefeb1e2edf7,bug/1770740," :param osd_sorted_list: Osds sorted :type osd_sorted_list: [str] :param match_name: The osd name to match :type match_name: str :returns: The position of the name :rtype: int :raises: ValueError if name is not found raise ValueError(""osd name '{}' not found in get_upgrade_position list"" .format(match_name))", :param osd_sorted_list: list. Osds sorted :param match_name: str. The osd name to match :returns: int. The position or None if not found return None,9,4
openstack%2Fpuppet-ironic~master~I4ddbba19f48d7f6643dab71097d2018b4a9757d3,openstack/puppet-ironic,master,I4ddbba19f48d7f6643dab71097d2018b4a9757d3,Configure parameters for managed in-band inspection,MERGED,2019-11-05 12:21:42.000000000,2019-11-26 15:46:12.000000000,2019-11-26 15:44:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 12:21:42.000000000', 'files': ['manifests/drivers/inspector.pp', 'manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'spec/classes/ironic_drivers_inspector_spec.rb', 'releasenotes/notes/inspection-managed-boot-d6ee9d6271b758d0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b7f0988c0c019d1ab09bb3d0c9343b96574069fb', 'message': 'Configure parameters for managed in-band inspection\n\nChange-Id: I4ddbba19f48d7f6643dab71097d2018b4a9757d3\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\n'}]",0,692995,b7f0988c0c019d1ab09bb3d0c9343b96574069fb,12,6,1,10239,,,0,"Configure parameters for managed in-band inspection

Change-Id: I4ddbba19f48d7f6643dab71097d2018b4a9757d3
Depends-On: https://review.opendev.org/688720
Story: #1528920
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/95/692995/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/inspector.pp', 'manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'spec/classes/ironic_drivers_inspector_spec.rb', 'releasenotes/notes/inspection-managed-boot-d6ee9d6271b758d0.yaml']",5,b7f0988c0c019d1ab09bb3d0c9343b96574069fb,story/1528920,"--- features: - | Allows configuring ``callback_endpoint_override``, ``power_off`` and ``extra_kernel_params`` in ``ironic::drivers::inspector``. - | Allows setting ``inspection_network`` (or ``inspection_network_name``) in ``ironic::conductor``. ",,90,25
openstack%2Fopenstack-ansible-os_designate~master~I62dcba3a70298060baf975ac012d15e962b92863,openstack/openstack-ansible-os_designate,master,I62dcba3a70298060baf975ac012d15e962b92863,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 14:14:53.000000000,2019-11-26 15:39:52.000000000,2019-11-26 15:38:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 14:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/f1d39d18385a36b9268502c2979b504801496366', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I62dcba3a70298060baf975ac012d15e962b92863\n'}, {'number': 2, 'created': '2019-11-14 17:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/eda141a30edef258ab35658a97e89ba14dbf2559', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nDepends-On: https://review.opendev.org/693841/\nChange-Id: I62dcba3a70298060baf975ac012d15e962b92863\n'}, {'number': 3, 'created': '2019-11-22 20:44:36.000000000', 'files': ['defaults/main.yml', 'tests/os_designate-overrides.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/bf7fe362e656038514932b401ef28d887e4fafd3', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nDepends-On: https://review.opendev.org/693841/\nChange-Id: I62dcba3a70298060baf975ac012d15e962b92863\n'}]",0,694303,bf7fe362e656038514932b401ef28d887e4fafd3,18,4,3,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Depends-On: https://review.opendev.org/693841/
Change-Id: I62dcba3a70298060baf975ac012d15e962b92863
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/03/694303/3 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'tests/os_designate-overrides.yml', 'releasenotes/source/conf.py']",3,f1d39d18385a36b9268502c2979b504801496366,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),4,4
openstack%2Fbifrost~master~I5c1e207b79505e2d7274197edcb12d373c3315e1,openstack/bifrost,master,I5c1e207b79505e2d7274197edcb12d373c3315e1,Update bifrost for using managed boot,MERGED,2019-11-05 12:11:40.000000000,2019-11-26 15:34:56.000000000,2019-11-26 15:33:48.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-05 12:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d2ce9e9f7aa69ea0e6bdcb37bb0b5964a3161943', 'message': 'Wire in inspector_extra_kernel_options for managed boot\n\nDelete no longer existing [inspector]enabled.\n\nStory: #1528920\nTask: #37364\nDepends-On: https://review.opendev.org/688720\nChange-Id: I5c1e207b79505e2d7274197edcb12d373c3315e1\n'}, {'number': 2, 'created': '2019-11-08 15:38:25.000000000', 'files': ['releasenotes/notes/managed-inspection-options-2764b4ae0079f505.yaml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9a914123e9b530bb179cd541b7aa27c611b153ed', 'message': 'Update bifrost for using managed boot\n\n* Wire in inspector_extra_kernel_options for managed boot\n* Set callback_endpoint_override for keystone-based installations\n  to get the correct callback endpoint even if the catalog uses\n  localhost for ironic-inspector.\n* Delete no longer existing [inspector]enabled.\n\nStory: #1528920\nTask: #37364\nDepends-On: https://review.opendev.org/688720\nChange-Id: I5c1e207b79505e2d7274197edcb12d373c3315e1\n'}]",0,692991,9a914123e9b530bb179cd541b7aa27c611b153ed,21,6,2,10239,,,0,"Update bifrost for using managed boot

* Wire in inspector_extra_kernel_options for managed boot
* Set callback_endpoint_override for keystone-based installations
  to get the correct callback endpoint even if the catalog uses
  localhost for ironic-inspector.
* Delete no longer existing [inspector]enabled.

Story: #1528920
Task: #37364
Depends-On: https://review.opendev.org/688720
Change-Id: I5c1e207b79505e2d7274197edcb12d373c3315e1
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/91/692991/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/managed-inspection-options-2764b4ae0079f505.yaml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2']",2,d2ce9e9f7aa69ea0e6bdcb37bb0b5964a3161943,story/1528920,extra_kernel_params = {{ inspector_extra_kernel_options | default('') }},enabled = true,8,1
openstack%2Fopenstack-helm~master~Ic2e3cd47ced39339663ab90c50ec5a5ef2186aee,openstack/openstack-helm,master,Ic2e3cd47ced39339663ab90c50ec5a5ef2186aee,Remove the deployment of Glance registry,ABANDONED,2019-06-19 11:19:36.000000000,2019-11-26 15:24:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-19 11:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db53d019c18b256ea6f8401e8eb05396c1dd2cb0', 'message': 'Glance registry service was deprecated in Queens release\n\nSee http://specs.openstack.org/openstack/glance-specs/specs/queens/approved/glance/deprecate-registry.html\n\nChange-Id: Ic2e3cd47ced39339663ab90c50ec5a5ef2186aee\n'}, {'number': 2, 'created': '2019-06-19 12:36:57.000000000', 'files': ['glance/templates/service-registry.yaml', 'glance/templates/deployment-registry.yaml', 'glance/templates/pdb-registry.yaml', 'glance/templates/service-ingress-registry.yaml', 'glance/templates/ingress-registry.yaml', 'glance/templates/configmap-etc.yaml', 'glance/values.yaml', 'glance/templates/bin/_glance-registry.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c56c1a6071788ba6627788d257c31a5ef2ab2ad', 'message': 'Remove the deployment of Glance registry\n\nGlance registry service was deprecated in Queens release.\n\nSee http://specs.openstack.org/openstack/glance-specs/specs/queens/approved/glance/deprecate-registry.html\n\nChange-Id: Ic2e3cd47ced39339663ab90c50ec5a5ef2186aee\n'}]",0,666266,1c56c1a6071788ba6627788d257c31a5ef2ab2ad,6,2,2,9963,,,0,"Remove the deployment of Glance registry

Glance registry service was deprecated in Queens release.

See http://specs.openstack.org/openstack/glance-specs/specs/queens/approved/glance/deprecate-registry.html

Change-Id: Ic2e3cd47ced39339663ab90c50ec5a5ef2186aee
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/66/666266/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/deployment-registry.yaml', 'glance/templates/configmap-etc.yaml', 'glance/values.yaml']",3,db53d019c18b256ea6f8401e8eb05396c1dd2cb0,remove-glance-registry,," registry: node_selector_key: openstack-control-plane node_selector_value: enabled glance_registry: docker.io/openstackhelm/glance:ocata-ubuntu_xenial enable_v2_registry: False paste_registry: pipeline:glance-registry: pipeline: healthcheck osprofiler unauthenticated-context registryapp pipeline:glance-registry-keystone: pipeline: healthcheck osprofiler authtoken audit context registryapp pipeline:glance-registry-trusted-auth: pipeline: healthcheck osprofiler context registryapp app:registryapp: paste.app_factory: glance.registry.api:API.factory filter:healthcheck: paste.filter_factory: oslo_middleware:Healthcheck.factory backends: disable_by_file disable_by_file_path: /etc/glance/healthcheck_disable filter:context: paste.filter_factory: glance.api.middleware.context:ContextMiddleware.factory filter:unauthenticated-context: paste.filter_factory: glance.api.middleware.context:UnauthenticatedContextMiddleware.factory filter:authtoken: paste.filter_factory: keystonemiddleware.auth_token:filter_factory filter:osprofiler: paste.filter_factory: osprofiler.web:WsgiMiddleware.factory hmac_keys: SECRET_KEY # DEPRECATED enabled: yes # DEPRECATED filter:audit: paste.filter_factory: keystonemiddleware.audit:filter_factory audit_map_file: /etc/glance/api_audit_map.conf glance_registry: DEFAULT: # NOTE(portdirect): the bind port should not be defined, and is manipulated # via the endpoints section. bind_port: null workers: 1 keystone_authtoken: auth_type: password auth_version: v3 memcache_security_strategy: ENCRYPT paste_deploy: flavor: keystone database: max_retries: -1 oslo_messaging_notifications: driver: messagingv2 registry: ingress: public: true classes: namespace: ""nginx"" cluster: ""nginx-cluster"" annotations: nginx.ingress.kubernetes.io/rewrite-target: / external_policy_local: false node_port: enabled: false port: 30091 registry: jobs: - glance-storage-init - glance-db-sync - glance-rabbit-init - glance-ks-user - glance-ks-endpoints services: - endpoint: internal service: oslo_db - endpoint: internal service: identity - endpoint: internal service: image port: registry: node: 5000 image_registry: name: glance-registry hosts: default: glance-registry public: glance-reg host_fqdn_override: default: null path: default: null scheme: default: 'http' port: api: default: 9191 public: 80 glance_registry: readOnlyRootFilesystem: true allowPrivilegeEscalation: false glance_registry: init_container: null glance_registry: volumeMounts: volumes: registry: 1 registry: min_available: 0 registry: timeout: 600 registry: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" deployment_registry: false ingress_registry: false pdb_registry: false service_ingress_registry: false service_registry: false",0,298
openstack%2Fkuryr-kubernetes~master~I4ce35e939c1564c1ba0bd2ae55c09fa24a35c9ed,openstack/kuryr-kubernetes,master,I4ce35e939c1564c1ba0bd2ae55c09fa24a35c9ed,Have configurable additional vifs prefix,MERGED,2019-11-13 06:02:40.000000000,2019-11-26 15:21:38.000000000,2019-11-26 15:19:56.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 28082}, {'_account_id': 28396}, {'_account_id': 29615}]","[{'number': 1, 'created': '2019-11-13 06:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0489a72d43b02ceafa067d4e81db21d789f6a445', 'message': 'Have configurable additional vifs prefix\n\nAllowing user to configure the addtional_ifname_prefix allows\nkuryr-kubernetes to work more smoothly with other CNI plugins (when\nusing multus or multiple chained CNIs for example).\n\nChange-Id: I4ce35e939c1564c1ba0bd2ae55c09fa24a35c9ed\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 2, 'created': '2019-11-21 03:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6fe28ce68accfc3fa7a152fa73dda9ede98b036d', 'message': 'Have configurable additional vifs prefix\n\nAllowing user to configure the addtional_ifname_prefix allows\nkuryr-kubernetes to work more smoothly with other CNI plugins (when\nusing multus or multiple chained CNIs for example).\n\nChange-Id: I4ce35e939c1564c1ba0bd2ae55c09fa24a35c9ed\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 3, 'created': '2019-11-22 02:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fe74b0eb5e345ff9d2c0c3a29fae25a9c3408740', 'message': 'Have configurable additional vifs prefix\n\nAllowing user to configure the addtional_ifname_prefix allows\nkuryr-kubernetes to work more smoothly with other CNI plugins (when\nusing multus or multiple chained CNIs for example).\n\nChange-Id: I4ce35e939c1564c1ba0bd2ae55c09fa24a35c9ed\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 4, 'created': '2019-11-22 02:43:56.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/tests/fake.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/constants.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/481f600fce3acc78d6fc3b2c565301b6fc3d6220', 'message': 'Have configurable additional vifs prefix\n\nAllowing user to configure the addtional_ifname_prefix allows\nkuryr-kubernetes to work more smoothly with other CNI plugins (when\nusing multus or multiple chained CNIs for example).\n\nChange-Id: I4ce35e939c1564c1ba0bd2ae55c09fa24a35c9ed\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}]",2,693980,481f600fce3acc78d6fc3b2c565301b6fc3d6220,17,7,4,28082,,,0,"Have configurable additional vifs prefix

Allowing user to configure the addtional_ifname_prefix allows
kuryr-kubernetes to work more smoothly with other CNI plugins (when
using multus or multiple chained CNIs for example).

Change-Id: I4ce35e939c1564c1ba0bd2ae55c09fa24a35c9ed
Signed-off-by: Yash Gupta <y.gupta@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/80/693980/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/tests/fake.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/constants.py']",5,0489a72d43b02ceafa067d4e81db21d789f6a445,multus-support,,ADDITIONAL_IFNAME_PREFIX = 'eth',20,8
openstack%2Fopenstack-ansible-os_horizon~stable%2Ftrain~Ibe81cbb61dbe5e57a1b31bdc0077db35e4922023,openstack/openstack-ansible-os_horizon,stable/train,Ibe81cbb61dbe5e57a1b31bdc0077db35e4922023,Set metal upgrade jobs to non-voting,MERGED,2019-11-22 14:39:21.000000000,2019-11-26 15:21:10.000000000,2019-11-26 15:17:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-22 14:39:21.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/82079e30910f60a284889948c7f333ed61fb2bb7', 'message': ""Set metal upgrade jobs to non-voting\n\nWe're disabling metal upgrade jobs for horion as in S\nit wasn't allowed to deploy horizon on metal.\n\nChange-Id: Ibe81cbb61dbe5e57a1b31bdc0077db35e4922023\n""}]",0,695698,82079e30910f60a284889948c7f333ed61fb2bb7,8,3,1,28619,,,0,"Set metal upgrade jobs to non-voting

We're disabling metal upgrade jobs for horion as in S
it wasn't allowed to deploy horizon on metal.

Change-Id: Ibe81cbb61dbe5e57a1b31bdc0077db35e4922023
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/98/695698/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,82079e30910f60a284889948c7f333ed61fb2bb7,, check: jobs: - openstack-ansible-upgrade-aio_metal-centos-7: voting: false - openstack-ansible-upgrade-aio_metal-ubuntu-bionic: voting: false gate: jobs: - openstack-ansible-upgrade-aio_metal-centos-7: voting: false - openstack-ansible-upgrade-aio_metal-ubuntu-bionic: voting: false,,12,0
openstack%2Fkuryr-kubernetes~master~I4b185b8ca811793a7dfd459d2d89346119709acc,openstack/kuryr-kubernetes,master,I4b185b8ca811793a7dfd459d2d89346119709acc,Use ifname from CNI request for default vif,MERGED,2019-11-13 05:45:10.000000000,2019-11-26 15:10:09.000000000,2019-11-26 15:08:39.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 28082}, {'_account_id': 28396}, {'_account_id': 29615}]","[{'number': 1, 'created': '2019-11-13 05:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/67e5d7271c058bdfb72664c2842f33a8d1fd8b6f', 'message': 'Use ifname from CNI request for default vif\n\nDefault vif should use the ifname supplied by CNI ADD request, instead\nof using a fixed value (This helps to work with multus cni as well)\n\nThis is kind of a hack, as the vifs dict still uses the DEFAULT_IFNAME\nfor keeping track of the default vif, but changing that would require\nsome refactoring (as we do not know the requested ifname in controller,\nit is only known when kuryr-cni-daemon tries to plug the vif)\n\nCloses-Bug: 1852380\nChange-Id: I4b185b8ca811793a7dfd459d2d89346119709acc\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 2, 'created': '2019-11-22 02:13:02.000000000', 'files': ['kuryr_kubernetes/tests/unit/cni/plugins/test_k8s_cni_registry.py', 'kuryr_kubernetes/tests/fake.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e507d7169af73bf58c7493e8ba58e66a4e06380f', 'message': 'Use ifname from CNI request for default vif\n\nDefault vif should use the ifname supplied by CNI ADD request, instead\nof using a fixed value (This helps to work with multus cni as well)\n\nThis is kind of a hack, as the vifs dict still uses the DEFAULT_IFNAME\nfor keeping track of the default vif, but changing that would require\nsome refactoring (as we do not know the requested ifname in controller,\nit is only known when kuryr-cni-daemon tries to plug the vif)\n\nCloses-Bug: 1852380\nChange-Id: I4b185b8ca811793a7dfd459d2d89346119709acc\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}]",6,693979,e507d7169af73bf58c7493e8ba58e66a4e06380f,25,7,2,28082,,,0,"Use ifname from CNI request for default vif

Default vif should use the ifname supplied by CNI ADD request, instead
of using a fixed value (This helps to work with multus cni as well)

This is kind of a hack, as the vifs dict still uses the DEFAULT_IFNAME
for keeping track of the default vif, but changing that would require
some refactoring (as we do not know the requested ifname in controller,
it is only known when kuryr-cni-daemon tries to plug the vif)

Closes-Bug: 1852380
Change-Id: I4b185b8ca811793a7dfd459d2d89346119709acc
Signed-off-by: Yash Gupta <y.gupta@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/79/693979/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/cni/plugins/test_k8s_cni_registry.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/tests/fake.py']",3,67e5d7271c058bdfb72664c2842f33a8d1fd8b6f,multus-support," return {'eth0': _fake_vif(cls), 'eth1': _fake_vif(cls)}", return {'eth0': _fake_vif(cls)},34,15
openstack%2Fsushy-tools~master~Ic4117ac8cb845f22ce3415f4f0975cbcab41862f,openstack/sushy-tools,master,Ic4117ac8cb845f22ce3415f4f0975cbcab41862f,Fix incorrect parameter description in docstrings,MERGED,2019-10-04 10:32:22.000000000,2019-11-26 14:55:56.000000000,2019-11-26 14:53:22.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-04 10:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/eeafdc5249f8480249ea03ab8d156e45a7986638', 'message': 'Fix incorrect parameter description in docstrings\n\nChange-Id: Ic4117ac8cb845f22ce3415f4f0975cbcab41862f\n'}, {'number': 2, 'created': '2019-10-14 16:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2bf31058a75d8d17fd8aa5e0a02671af4c99f065', 'message': 'Fix incorrect parameter description in docstrings\n\nChange-Id: Ic4117ac8cb845f22ce3415f4f0975cbcab41862f\n'}, {'number': 3, 'created': '2019-10-14 16:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ec2a8dabc0ca496202c271327f859ebce74ad01f', 'message': 'Fix incorrect parameter description in docstrings\n\nChange-Id: Ic4117ac8cb845f22ce3415f4f0975cbcab41862f\n'}, {'number': 4, 'created': '2019-10-14 20:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/090a3ec9c3e6c72fa86400f6653cd57f875af2ce', 'message': 'Fix incorrect parameter description in docstrings\n\nChange-Id: Ic4117ac8cb845f22ce3415f4f0975cbcab41862f\n'}, {'number': 5, 'created': '2019-10-19 21:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fded6e373262a44b07965fa82dd397273720b75d', 'message': 'Fix incorrect parameter description in docstrings\n\nChange-Id: Ic4117ac8cb845f22ce3415f4f0975cbcab41862f\n'}, {'number': 6, 'created': '2019-10-24 11:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8dec7774b141f85d9fdf0914b5ffb7c76d742e75', 'message': 'Fix incorrect parameter description in docstrings\n\nChange-Id: Ic4117ac8cb845f22ce3415f4f0975cbcab41862f\n'}, {'number': 7, 'created': '2019-11-25 17:43:43.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/emulator/resources/systems/novadriver.py', 'sushy_tools/emulator/resources/systems/base.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/538d98dd1e0dccc540ae9dda2f226aaf8315224d', 'message': 'Fix incorrect parameter description in docstrings\n\nChange-Id: Ic4117ac8cb845f22ce3415f4f0975cbcab41862f\n'}]",2,686567,538d98dd1e0dccc540ae9dda2f226aaf8315224d,24,5,7,26340,,,0,"Fix incorrect parameter description in docstrings

Change-Id: Ic4117ac8cb845f22ce3415f4f0975cbcab41862f
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/67/686567/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/emulator/resources/systems/novadriver.py', 'sushy_tools/emulator/resources/systems/base.py']",3,eeafdc5249f8480249ea03ab8d156e45a7986638,02-docstring-fixes," system. Valid values are: *Pxe*, *Hdd*, *Cd*. :param boot_mode: string literal requesting boot mode change on the system. Valid values are: *Uefi*, *Legacy*."," system. If not specified, current boot device is returned. Valid values are: *Pxe*, *Hdd*, *Cd*. :param boot_mode: optional string literal requesting boot mode change on the system. If not specified, current boot mode is returned. Valid values are: *Uefi*, *Legacy*.",11,16
openstack%2Fsushy-tools~master~I1aef1053d12136aa91ef31a87cc61274f3080769,openstack/sushy-tools,master,I1aef1053d12136aa91ef31a87cc61274f3080769,Fix reading/setting libvirt domain boot device,MERGED,2019-10-02 15:20:34.000000000,2019-11-26 14:54:28.000000000,2019-11-26 14:53:21.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-02 15:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5013508a96cabeb31dc033f58d1924aac88b5b6c', 'message': 'Fix reading/setting libvirt domain boot device\n\nPrior to this fix, boot device has only been respected in the boot\nloader part of libvirt domain XML. However per-device boot\nconfiguration can also be used. If the latter way is in place in a\nlibvirt domain, reading boot device would yield nothing, while\nsetting it in the boot loader would fail.\n\nThis fix respects both ways of configuring libvirt boot device\npreferring the per-device configuration when setting new boot\ndevice.\n\nChange-Id: I1aef1053d12136aa91ef31a87cc61274f3080769\n'}, {'number': 2, 'created': '2019-10-04 09:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3e1b6ab33260435c5cdbbb7765fc76047d1c43d2', 'message': 'Fix reading/setting libvirt domain boot device\n\nPrior to this fix, boot device has only been respected in the boot\nloader part of libvirt domain XML. However per-device boot\nconfiguration can also be used. If the latter way is in place in a\nlibvirt domain, reading boot device would yield nothing, while\nsetting it in the boot loader would fail.\n\nThis fix respects both ways of configuring libvirt boot device\npreferring the per-device configuration when setting new boot\ndevice.\n\nChange-Id: I1aef1053d12136aa91ef31a87cc61274f3080769\n'}, {'number': 3, 'created': '2019-10-14 16:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/29e595a6925ee2e4f0267aa4030e0b94618bdf74', 'message': 'Fix reading/setting libvirt domain boot device\n\nPrior to this fix, boot device has only been respected in the boot\nloader part of libvirt domain XML. However per-device boot\nconfiguration can also be used. If the latter way is in place in a\nlibvirt domain, reading boot device would yield nothing, while\nsetting it in the boot loader would fail.\n\nThis fix respects both ways of configuring libvirt boot device\npreferring the per-device configuration when setting new boot\ndevice.\n\nChange-Id: I1aef1053d12136aa91ef31a87cc61274f3080769\n'}, {'number': 4, 'created': '2019-10-14 16:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d8e0b1d4212bf4646266704e19298686653ed5c7', 'message': 'Fix reading/setting libvirt domain boot device\n\nPrior to this fix, boot device has only been respected in the boot\nloader part of libvirt domain XML. However per-device boot\nconfiguration can also be used. If the latter way is in place in a\nlibvirt domain, reading boot device would yield nothing, while\nsetting it in the boot loader would fail.\n\nThis fix respects both ways of configuring libvirt boot device\npreferring the per-device configuration when setting new boot\ndevice.\n\nChange-Id: I1aef1053d12136aa91ef31a87cc61274f3080769\n'}, {'number': 5, 'created': '2019-10-14 20:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1e1ee3311c1aa416c82c7b81f33c00359e00bd18', 'message': 'Fix reading/setting libvirt domain boot device\n\nPrior to this fix, boot device has only been respected in the boot\nloader part of libvirt domain XML. However per-device boot\nconfiguration can also be used. If the latter way is in place in a\nlibvirt domain, reading boot device would yield nothing, while\nsetting it in the boot loader would fail.\n\nThis fix respects both ways of configuring libvirt boot device\npreferring the per-device configuration when setting new boot\ndevice.\n\nChange-Id: I1aef1053d12136aa91ef31a87cc61274f3080769\n'}, {'number': 6, 'created': '2019-10-19 21:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ba6d9bbee5350d00f8a43da14f859056b8bbbfce', 'message': 'Fix reading/setting libvirt domain boot device\n\nPrior to this fix, boot device has only been respected in the boot\nloader part of libvirt domain XML. However per-device boot\nconfiguration can also be used. If the latter way is in place in a\nlibvirt domain, reading boot device would yield nothing, while\nsetting it in the boot loader would fail.\n\nThis fix respects both ways of configuring libvirt boot device\npreferring the per-device configuration when setting new boot\ndevice.\n\nChange-Id: I1aef1053d12136aa91ef31a87cc61274f3080769\n'}, {'number': 7, 'created': '2019-10-23 18:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6b88223a85635ba71c037e9c4cd30451d5c8fff5', 'message': 'Fix reading/setting libvirt domain boot device\n\nPrior to this fix, boot device has only been respected in the boot\nloader part of libvirt domain XML. However per-device boot\nconfiguration can also be used. If the latter way is in place in a\nlibvirt domain, reading boot device would yield nothing, while\nsetting it in the boot loader would fail.\n\nThis fix respects both ways of configuring libvirt boot device\npreferring the per-device configuration when setting new boot\ndevice.\n\nChange-Id: I1aef1053d12136aa91ef31a87cc61274f3080769\n'}, {'number': 8, 'created': '2019-11-25 17:42:41.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/domain_boot_disk.xml', 'sushy_tools/tests/unit/emulator/domain_boot_os.xml', 'sushy_tools/tests/unit/emulator/domain_boot_network.xml', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py', 'releasenotes/notes/fix-libvirt-boot-mode-3ec2ccf49f96aec8.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c772be0ccfd28fa560d0bfb0327d708869a57370', 'message': 'Fix reading/setting libvirt domain boot device\n\nPrior to this fix, boot device has only been respected in the boot\nloader part of libvirt domain XML. However per-device boot\nconfiguration can also be used. If the latter way is in place in a\nlibvirt domain, reading boot device would yield nothing, while\nsetting it in the boot loader would fail.\n\nThis fix respects both ways of configuring libvirt boot device\npreferring the per-device configuration when setting new boot\ndevice.\n\nChange-Id: I1aef1053d12136aa91ef31a87cc61274f3080769\n'}]",2,686183,c772be0ccfd28fa560d0bfb0327d708869a57370,25,5,8,26340,,,0,"Fix reading/setting libvirt domain boot device

Prior to this fix, boot device has only been respected in the boot
loader part of libvirt domain XML. However per-device boot
configuration can also be used. If the latter way is in place in a
libvirt domain, reading boot device would yield nothing, while
setting it in the boot loader would fail.

This fix respects both ways of configuring libvirt boot device
preferring the per-device configuration when setting new boot
device.

Change-Id: I1aef1053d12136aa91ef31a87cc61274f3080769
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/83/686183/4 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/domain_boot_disk.xml', 'sushy_tools/tests/unit/emulator/domain_boot_os.xml', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py', 'releasenotes/notes/fix-libvirt-boot-mode-3ec2ccf49f96aec8.yaml']",5,5013508a96cabeb31dc033f58d1924aac88b5b6c,01-support-libvirt-boot-order,"--- fixes: - | Fixes potential failure on reading/setting boot device of libvirt domain. Prior to this fix, boot device has only been respected in the boot loader part of libvirt domain XML. However per-device boot configuration can also be used. If the latter way is in place in a libvirt domain, reading boot device would yield nothing, while setting it in the boot loader would fail. This fix respects both ways of configuring libvirt boot device preferring the per-device configuration when setting new boot device. ",,174,16
openstack%2Fdiskimage-builder~master~I5e2b6e553c67fb931c33d3571e7239174e356de5,openstack/diskimage-builder,master,I5e2b6e553c67fb931c33d3571e7239174e356de5,Enable IPv6 DHCPv6,ABANDONED,2019-10-24 01:23:30.000000000,2019-11-26 14:53:27.000000000,,"[{'_account_id': 1926}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-24 01:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/879720f7fb5232b94b527436aefadc0c86177449', 'message': ""Enable IPv6 DHCPv6\n\nWe should enable dhcpv6 to be used with instances,\non RHEL and Debian style network initailization\nconfigurations.\n\nSUSE's configuration seems a little different and\nI'm unsure if it is the right path to take for it.\n\nSome might call this crazy, but DHCPv6 is the means\nto convey extra configuration information beyond what\nthe autoconfiguration model supports.\n\nChange-Id: I5e2b6e553c67fb931c33d3571e7239174e356de5\n""}, {'number': 2, 'created': '2019-10-31 14:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8847ef5aede52ea96185781e81cd2e3165a081e3', 'message': ""Enable IPv6 DHCPv6\n\nWe should enable dhcpv6 to be used with instances,\non RHEL and Debian style network initailization\nconfigurations.\n\nSUSE's configuration seems a little different and\nI'm unsure if it is the right path to take for it.\n\nSome might call this crazy, but DHCPv6 is the means\nto convey extra configuration information beyond what\nthe autoconfiguration model supports.\n\nChange-Id: I5e2b6e553c67fb931c33d3571e7239174e356de5\n""}, {'number': 3, 'created': '2019-11-05 12:52:24.000000000', 'files': ['diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces.sh'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ff8d043399c8bca0721ed2614585b13a965c446f', 'message': ""Enable IPv6 DHCPv6\n\nWe should enable dhcpv6 to be used with instances,\non RHEL and Debian style network initailization\nconfigurations.\n\nSUSE's configuration seems a little different and\nI'm unsure if it is the right path to take for it.\n\nSome might call this crazy, but DHCPv6 is the means\nto convey extra configuration information beyond what\nthe autoconfiguration model supports.\n\nChange-Id: I5e2b6e553c67fb931c33d3571e7239174e356de5\n""}]",4,690777,ff8d043399c8bca0721ed2614585b13a965c446f,22,8,3,11655,,,0,"Enable IPv6 DHCPv6

We should enable dhcpv6 to be used with instances,
on RHEL and Debian style network initailization
configurations.

SUSE's configuration seems a little different and
I'm unsure if it is the right path to take for it.

Some might call this crazy, but DHCPv6 is the means
to convey extra configuration information beyond what
the autoconfiguration model supports.

Change-Id: I5e2b6e553c67fb931c33d3571e7239174e356de5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/77/690777/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces.sh'],1,879720f7fb5232b94b527436aefadc0c86177449,690777," printf ""auto $interface\niface $interface inet dhcp\niface $interface inet6 dhcp\n\n"" >>$ENI_FILE printf ""DEVICE=\""$interface\""\nBOOTPROTO=\""dhcp\""\nDHCPV6\=\""yes\""\nONBOOT=\""yes\""\nTYPE=\""InfiniBand\""\nCONNECTED_MODE=\""no\""\nDEFROUTE=\""yes\""\nPEERDNS=\""yes\""\nPEERROUTES=\""yes\""\nIPV4_FAILURE_FATAL=\""yes\""\nIPV6INIT=\""no\"""" >""${SCRIPTS_PATH}ifcfg-$interface"" printf ""DEVICE=\""$interface\""\nBOOTPROTO=\""dhcp\""\nDHCPV6\=\""yes\""\nONBOOT=\""yes\""\nTYPE=\""Ethernet\"""" >""${SCRIPTS_PATH}ifcfg-$interface"""," printf ""auto $interface\niface $interface inet dhcp\n\n"" >>$ENI_FILE printf ""DEVICE=\""$interface\""\nBOOTPROTO=\""dhcp\""\nONBOOT=\""yes\""\nTYPE=\""InfiniBand\""\nCONNECTED_MODE=\""no\""\nDEFROUTE=\""yes\""\nPEERDNS=\""yes\""\nPEERROUTES=\""yes\""\nIPV4_FAILURE_FATAL=\""yes\""\nIPV6INIT=\""no\"""" >""${SCRIPTS_PATH}ifcfg-$interface"" printf ""DEVICE=\""$interface\""\nBOOTPROTO=\""dhcp\""\nONBOOT=\""yes\""\nTYPE=\""Ethernet\"""" >""${SCRIPTS_PATH}ifcfg-$interface""",3,3
openstack%2Fkolla-ansible~master~I14f690194085729bf500ed707d3bb99b1c055845,openstack/kolla-ansible,master,I14f690194085729bf500ed707d3bb99b1c055845,Add python3-dev[el] to bindep.txt,MERGED,2019-11-26 11:00:10.000000000,2019-11-26 14:43:08.000000000,2019-11-26 14:41:25.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-26 11:00:10.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cacf3081709163e7b6cfb1d29b08db19b9a958bc', 'message': 'Add python3-dev[el] to bindep.txt\n\nWe should probably have had this in previously.\n\nChange-Id: I14f690194085729bf500ed707d3bb99b1c055845\n'}]",0,696060,cacf3081709163e7b6cfb1d29b08db19b9a958bc,8,3,1,14826,,,0,"Add python3-dev[el] to bindep.txt

We should probably have had this in previously.

Change-Id: I14f690194085729bf500ed707d3bb99b1c055845
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/696060/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,cacf3081709163e7b6cfb1d29b08db19b9a958bc,bp/drop-py2-support,python3-dev [platform:dpkg] python3-devel [platform:rpm],,2,0
openstack%2Frpm-packaging~stable%2Ftrain~I66a536dd8b97f741953bd4ea3999805e2db4a12a,openstack/rpm-packaging,stable/train,I66a536dd8b97f741953bd4ea3999805e2db4a12a,neutron: Remove stop action from ovs-cleanup,MERGED,2019-11-25 11:06:39.000000000,2019-11-26 14:30:36.000000000,2019-11-26 14:30:36.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 11:06:39.000000000', 'files': ['openstack/neutron/openstack-neutron-ovs-cleanup.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/01cc23736a8f59823d2815c6ee38d0f0f1c693d2', 'message': 'neutron: Remove stop action from ovs-cleanup\n\nThe neutron-ovs-cleanup script is supposed to be run only on boot.\nWith ExecStop action being set to execute it as well, it was being\nexecuted also when `systemctl stop` was run.\nThis was causing connectivity loss when openstack services were\nstopped e.g. during upgrade.\nNote that many openstack services could be safely stopped without\nharm to the underlying services.\n\nChange-Id: I66a536dd8b97f741953bd4ea3999805e2db4a12a\n'}]",0,695883,01cc23736a8f59823d2815c6ee38d0f0f1c693d2,9,5,1,20312,,,0,"neutron: Remove stop action from ovs-cleanup

The neutron-ovs-cleanup script is supposed to be run only on boot.
With ExecStop action being set to execute it as well, it was being
executed also when `systemctl stop` was run.
This was causing connectivity loss when openstack services were
stopped e.g. during upgrade.
Note that many openstack services could be safely stopped without
harm to the underlying services.

Change-Id: I66a536dd8b97f741953bd4ea3999805e2db4a12a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/695883/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron/openstack-neutron-ovs-cleanup.service'],1,01cc23736a8f59823d2815c6ee38d0f0f1c693d2,ovs-cleanup-no-stop-stable/train,,ExecStop=/usr/bin/neutron-ovs-cleanup --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugin.ini --config-dir /etc/neutron/neutron.conf.d/,0,1
openstack%2Freleases~master~Ic6ec29b7f742573a7a74fc0600689ad36b606858,openstack/releases,master,Ic6ec29b7f742573a7a74fc0600689ad36b606858,Swift stable releases,MERGED,2019-11-18 22:39:50.000000000,2019-11-26 14:18:43.000000000,2019-11-26 14:18:43.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-18 22:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/eb469402a9d7d14a9bde239a7e562179049bb4cc', 'message': 'Swift stable releases\n\nChange-Id: Ic6ec29b7f742573a7a74fc0600689ad36b606858\n'}, {'number': 2, 'created': '2019-11-19 09:39:28.000000000', 'files': ['deliverables/stein/swift.yaml', 'deliverables/rocky/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ee4d25e170c6a928148df019bd2284c39e32032', 'message': 'Swift stable releases\n\nChange-Id: Ic6ec29b7f742573a7a74fc0600689ad36b606858\n'}]",0,694854,9ee4d25e170c6a928148df019bd2284c39e32032,11,5,2,15343,,,0,"Swift stable releases

Change-Id: Ic6ec29b7f742573a7a74fc0600689ad36b606858
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/694854/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/swift.yaml', 'deliverables/rocky/swift.yaml']",2,eb469402a9d7d14a9bde239a7e562179049bb4cc,, - version: 2.19.2 projects: - repo: openstack/swift hash: 5aa4c5d88fec98cf4ca0536c511c61759e865ec9,,8,0
openstack%2Fcinder~driverfixes%2Fnewton~I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec,openstack/cinder,driverfixes/newton,I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec,XtremIO: extending volume in create_volume_from_snapshot,ABANDONED,2019-11-08 14:51:22.000000000,2019-11-26 14:06:19.000000000,,"[{'_account_id': 4523}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24355}, {'_account_id': 24921}, {'_account_id': 28801}, {'_account_id': 31016}]","[{'number': 1, 'created': '2019-11-08 14:51:22.000000000', 'files': ['cinder/tests/unit/volume/drivers/emc/test_emc_xtremio.py', 'cinder/volume/drivers/emc/xtremio.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f008f8b3eba89839894920b024d9d1b9a81fd965', 'message': 'XtremIO: extending volume in create_volume_from_snapshot\n\nIn create_volume_from_snapshot, If the original volume is larger\nthen the requested snapshot we extend the volume to the original\nsize.\n\nCloses-Bug: #1560650\nChange-Id: I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec\n(cherry picked from commit 50a4c376811c18684c8cada7a0c0c0cc39696942)\n'}]",0,693545,f008f8b3eba89839894920b024d9d1b9a81fd965,14,11,1,13671,,,0,"XtremIO: extending volume in create_volume_from_snapshot

In create_volume_from_snapshot, If the original volume is larger
then the requested snapshot we extend the volume to the original
size.

Closes-Bug: #1560650
Change-Id: I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec
(cherry picked from commit 50a4c376811c18684c8cada7a0c0c0cc39696942)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/693545/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/emc/test_emc_xtremio.py', 'cinder/volume/drivers/emc/xtremio.py']",2,f008f8b3eba89839894920b024d9d1b9a81fd965,bug/1560650," try: self.client.create_snapshot(snapshot_id, volume['id']) except exception.XtremIOSnapshotsLimitExceeded as e: raise exception.CinderException(e.message) # extend the snapped volume if requested size is larger then original if volume['size'] > snapshot['volume_size']: try: self.extend_volume(volume, volume['size']) except Exception: LOG.error('failed to extend volume %s, ' 'reverting volume from snapshot operation', volume['id']) # remove the volume in case resize failed self.delete_volume(volume) raise LOG.error(_LE('failed to extend volume %s, ' self.create_volume_from_snapshot( volume, {'id': real_snap, 'volume_size': snapshot['volume_size']})"," self.client.create_snapshot(snapshot_id, volume['id']) LOG.error(_LE('failes to extend volume %s, ' self.create_volume_from_snapshot(volume, {'id': real_snap})",68,3
openstack%2Fcinder~stable%2Focata~Ia9c29bb720152d42bec273202fa49ca4b6a41ce2,openstack/cinder,stable/ocata,Ia9c29bb720152d42bec273202fa49ca4b6a41ce2,cinder incremental backup with ceph fails if last one deleted,ABANDONED,2019-04-03 15:51:02.000000000,2019-11-26 14:00:59.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26155}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-03 15:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/396090884b05bc58d16322963eda8821bd054d9f', 'message': 'cinder incremental backup with ceph fails if last one deleted\n\nIf the last incremental backup is deleted then the backup snapshot\nis deleted but the source volume snapshot remains. Due to mismatch\nbetween the source volume snapshot and backup snapshot, there is an\nerror when ""rbd export-diff"" and ""rbd import-diff"" is done. Hence,\nfull backup happens.\n\nTo fix this issue, all the previous source volume snapshots are\npreserved. When the last incremental backup is deleted, then its\nbackup snapshot is deleted. But because all the source volume snaps\nexist, thus it can now update --from-snap for ""rbd export-diff"" to\nbe the most recent source volume snapshot for which there exists a\nbackup snapshot as well. This is how the incremental backup operation\nwill go successful.\n\nFor a user who upgrades to the new code, if the last backup snapshot\nand source volume snapshot are in sync, i.e. both of them exist, then\nthe next create backup operation will continue as an incremental one.\nHowever, if there is no source volume snapshot for the last existing\nincremental backup (before the code was upgraded), then a full backup\nhappens. After this full backup, all the next backups are incremental\nwhile all their corresponding source volume snapshots are also preserved.\nIn this way, after a user upgrades, if he deletes the last incremental\nbackup, the next create backup operation will be successful and be\nincremental.\n\nSince all the backup snapshots exist for all the backups, if the user\nwants to restore a backup, which was created before the code was upgraded,\nthe user will not lose any data since the same base backup is used.\n\nChange-Id: Ia9c29bb720152d42bec273202fa49ca4b6a41ce2\nCloses-Bug: PROD-28594\n(cherry picked from commit bc9ab142da919087c71525978f960115ff0259b9)\n(cherry picked from commit 0e4e1483e1e1e90ea8c9c45d967f6e772e15df97)\n(cherry picked from commit f871e0e5708465ff128eb9985ea22598560ef683)\n'}, {'number': 2, 'created': '2019-04-04 08:12:56.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/533633d099e9cf4978fa2a8cf83d7f36bac8d9cc', 'message': 'cinder incremental backup with ceph fails if last one deleted\n\nIf the last incremental backup is deleted then the backup snapshot\nis deleted but the source volume snapshot remains. Due to mismatch\nbetween the source volume snapshot and backup snapshot, there is an\nerror when ""rbd export-diff"" and ""rbd import-diff"" is done. Hence,\nfull backup happens.\n\nTo fix this issue, all the previous source volume snapshots are\npreserved. When the last incremental backup is deleted, then its\nbackup snapshot is deleted. But because all the source volume snaps\nexist, thus it can now update --from-snap for ""rbd export-diff"" to\nbe the most recent source volume snapshot for which there exists a\nbackup snapshot as well. This is how the incremental backup operation\nwill go successful.\n\nFor a user who upgrades to the new code, if the last backup snapshot\nand source volume snapshot are in sync, i.e. both of them exist, then\nthe next create backup operation will continue as an incremental one.\nHowever, if there is no source volume snapshot for the last existing\nincremental backup (before the code was upgraded), then a full backup\nhappens. After this full backup, all the next backups are incremental\nwhile all their corresponding source volume snapshots are also preserved.\nIn this way, after a user upgrades, if he deletes the last incremental\nbackup, the next create backup operation will be successful and be\nincremental.\n\nSince all the backup snapshots exist for all the backups, if the user\nwants to restore a backup, which was created before the code was upgraded,\nthe user will not lose any data since the same base backup is used.\n\nChange-Id: Ia9c29bb720152d42bec273202fa49ca4b6a41ce2\nCloses-Bug: #1703011\n(cherry picked from commit bc9ab142da919087c71525978f960115ff0259b9)\n(cherry picked from commit 0e4e1483e1e1e90ea8c9c45d967f6e772e15df97)\n'}]",2,649652,533633d099e9cf4978fa2a8cf83d7f36bac8d9cc,33,18,2,27838,,,0,"cinder incremental backup with ceph fails if last one deleted

If the last incremental backup is deleted then the backup snapshot
is deleted but the source volume snapshot remains. Due to mismatch
between the source volume snapshot and backup snapshot, there is an
error when ""rbd export-diff"" and ""rbd import-diff"" is done. Hence,
full backup happens.

To fix this issue, all the previous source volume snapshots are
preserved. When the last incremental backup is deleted, then its
backup snapshot is deleted. But because all the source volume snaps
exist, thus it can now update --from-snap for ""rbd export-diff"" to
be the most recent source volume snapshot for which there exists a
backup snapshot as well. This is how the incremental backup operation
will go successful.

For a user who upgrades to the new code, if the last backup snapshot
and source volume snapshot are in sync, i.e. both of them exist, then
the next create backup operation will continue as an incremental one.
However, if there is no source volume snapshot for the last existing
incremental backup (before the code was upgraded), then a full backup
happens. After this full backup, all the next backups are incremental
while all their corresponding source volume snapshots are also preserved.
In this way, after a user upgrades, if he deletes the last incremental
backup, the next create backup operation will be successful and be
incremental.

Since all the backup snapshots exist for all the backups, if the user
wants to restore a backup, which was created before the code was upgraded,
the user will not lose any data since the same base backup is used.

Change-Id: Ia9c29bb720152d42bec273202fa49ca4b6a41ce2
Closes-Bug: #1703011
(cherry picked from commit bc9ab142da919087c71525978f960115ff0259b9)
(cherry picked from commit 0e4e1483e1e1e90ea8c9c45d967f6e772e15df97)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/649652/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py']",2,396090884b05bc58d16322963eda8821bd054d9f,bug/1703011-stable/ocata," src_vol_snapshots = self.get_backup_snaps(source_rbd_image) if src_vol_snapshots: # If there are source volume snapshots but base does not # exist then we delete it and set from_snap to None LOG.debug(""Volume '%(volume)s' has stale source "" ""snapshots so deleting them."", {'volume': volume_id}) for snap in src_vol_snapshots: from_snap = snap['name'] from_snap = None # If a from_snap is defined and is present in the source volume # image but does not exist in the backup base then we look down # the list of source volume snapshots and find the latest one # for which a backup snapshot exist in the backup base. Until # that snapshot is reached, we delete all the other snapshots # for which backup snapshot does not exist. from_snap = self._get_most_recent_snap(source_rbd_image, base_name, client) LOG.debug(""Using --from-snap '%(snap)s' for incremental backup of "" ""volume %(volume)s."", {'snap': from_snap, 'volume': volume_id}) def _get_most_recent_snap(self, rbd_image, base_name, client): src_vol_backup_snaps = self.get_backup_snaps(rbd_image, sort=True) from_snap = None for snap in src_vol_backup_snaps: if self._snap_exists(base_name, snap['name'], client): from_snap = snap['name'] break rbd_image.remove_snap(snap['name']) return from_snap"," # Identify our --from-snap point (if one exists) from_snap = self._get_most_recent_snap(source_rbd_image) LOG.debug(""Using --from-snap '%(snap)s' for incremental backup of "" ""volume %(volume)s."", {'snap': from_snap, 'volume': volume_id}) # If a from_snap is defined but the base does not exist, we # ignore it since it is stale and waiting to be cleaned up. if from_snap: LOG.debug(""Source snapshot '%(snapshot)s' of volume "" ""%(volume)s is stale so deleting."", {'snapshot': from_snap, 'volume': volume_id}) from_snap = None # If a from_snap is defined but does not exist in the back base # then we cannot proceed (see above) if not self._snap_exists(base_name, from_snap, client): errmsg = (_(""Snapshot='%(snap)s' does not exist in base "" ""image='%(base)s' - aborting incremental "" ""backup"") % {'snap': from_snap, 'base': base_name}) LOG.info(errmsg) # Raise this exception so that caller can try another # approach raise exception.BackupRBDOperationFailed(errmsg) # We don't need the previous snapshot (if there was one) anymore so # delete it. if from_snap: source_rbd_image.remove_snap(from_snap) def _get_most_recent_snap(self, rbd_image): backup_snaps = self.get_backup_snaps(rbd_image, sort=True) if not backup_snaps: return None return backup_snaps[0]['name']",179,82
openstack%2Fnetworking-bagpipe~stable%2Fqueens~I2187f0e63d366fe7d174d0f86bb548535e9eef49,openstack/networking-bagpipe,stable/queens,I2187f0e63d366fe7d174d0f86bb548535e9eef49,Add local bindep.txt,ABANDONED,2019-07-12 13:39:00.000000000,2019-11-26 13:59:31.000000000,,"[{'_account_id': 6547}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-12 13:39:00.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6deaf578e8f780c90b92a7cdf391eabc9d4a7520', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I2187f0e63d366fe7d174d0f86bb548535e9eef49\n(cherry picked from commit 3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa)\n(cherry picked from commit 2aaccf0da92169b705f149d9e91dc11d61dfd50a)\n(cherry picked from commit a6037ee5e4acda4e330d0b92df5fabc75540ec68)\n'}]",0,670554,6deaf578e8f780c90b92a7cdf391eabc9d4a7520,9,4,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I2187f0e63d366fe7d174d0f86bb548535e9eef49
(cherry picked from commit 3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa)
(cherry picked from commit 2aaccf0da92169b705f149d9e91dc11d61dfd50a)
(cherry picked from commit a6037ee5e4acda4e330d0b92df5fabc75540ec68)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/54/670554/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,6deaf578e8f780c90b92a7cdf391eabc9d4a7520,bindep-fallback,# This is a cross-platform list tracking distribution packages needed for install and tests; # see https://docs.openstack.org/infra/bindep/ for additional information. mysql-client [platform:dpkg] mysql-server [platform:dpkg] postgresql postgresql-client [platform:dpkg] ,,8,0
openstack%2Fnova~master~I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b,openstack/nova,master,I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b,Replace time.sleep(10) with service forced_down in tests,MERGED,2019-10-31 02:04:57.000000000,2019-11-26 13:58:13.000000000,2019-11-08 16:14:19.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-31 02:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c340492a76f6407cfd64c3283e466fae26191c03', 'message': 'Replace time.sleep(10) with service forced_down in tests\n\nThe server group functional tests are doing time.sleep(10) in order\nto make sure a stopped compute service is considered ""down"" by the nova\ncompute API.\n\nInstead of sleeping, we can the service as ""forced_down"" to get the\ndesired ""down"" compute service status and avoid unnecessary delays in\nthese tests.\n\nUnnecessary service start() calls are also removed in this change. They\nappear at the end of tests and services are started during each test\nsetUp() and killed during each test tearDown() via the ServiceFixture.\n\nCloses-Bug: #1850735\n\nChange-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b\n'}, {'number': 2, 'created': '2019-10-31 02:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebe5527676f0cc86e032f14423cf3797e3026395', 'message': 'Replace time.sleep(10) with service forced_down in tests\n\nThe server group functional tests are doing time.sleep(10) in order\nto make sure a stopped compute service is considered ""down"" by the nova\ncompute API.\n\nInstead of sleeping, we can set the service as ""forced_down"" to get the\ndesired ""down"" compute service status and avoid unnecessary delays in\nthese tests.\n\nUnnecessary service start() calls are also removed in this change. They\nappear at the end of tests and services are started during each test\nsetUp() and killed during each test tearDown() via the ServiceFixture.\n\nCloses-Bug: #1850735\n\nChange-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b\n'}, {'number': 3, 'created': '2019-11-08 05:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eaa9d84c137914adc2c701e751d55687fcbe8c36', 'message': 'Replace time.sleep(10) with service forced_down in tests\n\nThe server group functional tests are doing time.sleep(10) in order\nto make sure a stopped compute service is considered ""down"" by the nova\ncompute API.\n\nInstead of sleeping, we can set the service as ""forced_down"" to get the\ndesired ""down"" compute service status and avoid unnecessary delays in\nthese tests.\n\nUnnecessary service start() calls are also removed in this change. They\nappear at the end of tests and services are started during each test\nsetUp() and killed during each test tearDown() via the ServiceFixture.\n\nCloses-Bug: #1850735\n\nChange-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b\n'}, {'number': 4, 'created': '2019-11-08 15:14:06.000000000', 'files': ['nova/tests/functional/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c93ca82b8fb8e39787020decfe335d45f8732e7', 'message': 'Replace time.sleep(10) with service forced_down in tests\n\nThe server group functional tests are doing time.sleep(10) in order\nto make sure a stopped compute service is considered ""down"" by the nova\ncompute API.\n\nInstead of sleeping, we can set the service as ""forced_down"" to get the\ndesired ""down"" compute service status and avoid unnecessary delays in\nthese tests.\n\nUnnecessary service start() calls are also removed in this change. They\nappear at the end of tests and services are started during each test\nsetUp() and killed during each test tearDown() via the ServiceFixture.\n\nCloses-Bug: #1783565\n\nChange-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b\n'}]",9,692252,1c93ca82b8fb8e39787020decfe335d45f8732e7,43,12,4,4690,,,0,"Replace time.sleep(10) with service forced_down in tests

The server group functional tests are doing time.sleep(10) in order
to make sure a stopped compute service is considered ""down"" by the nova
compute API.

Instead of sleeping, we can set the service as ""forced_down"" to get the
desired ""down"" compute service status and avoid unnecessary delays in
these tests.

Unnecessary service start() calls are also removed in this change. They
appear at the end of tests and services are started during each test
setUp() and killed during each test tearDown() via the ServiceFixture.

Closes-Bug: #1783565

Change-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/692252/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_server_group.py'],1,c340492a76f6407cfd64c3283e466fae26191c03,bug/1783565," @staticmethod def _set_forced_down(service, forced_down): service.service_ref.forced_down = forced_down service.service_ref.save() # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True)",import time # Override servicegroup parameters to make the tests run faster _service_down_time = 10 _report_interval = 1 self.flags(service_down_time=self._service_down_time) self.flags(report_interval=self._report_interval) host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() ,19,49
openstack%2Fos-brick~stable%2Fpike~Ifd9682dcedc9189a3f28a273b10f0641674247f6,openstack/os-brick,stable/pike,Ifd9682dcedc9189a3f28a273b10f0641674247f6,Update Tox to same standards as Cinder,ABANDONED,2019-09-04 19:01:09.000000000,2019-11-26 13:50:29.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 12369}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-09-04 19:01:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/30d09eaf5107afa3c87db3bb5de225b0f1998ee4', 'message': 'Update Tox to same standards as Cinder\n\nThis updates the minverson of tox to 2.5\nand allows skipping missing python versions.\n\nChange-Id: Ifd9682dcedc9189a3f28a273b10f0641674247f6\n'}]",1,680130,30d09eaf5107afa3c87db3bb5de225b0f1998ee4,9,7,1,5997,,,0,"Update Tox to same standards as Cinder

This updates the minverson of tox to 2.5
and allows skipping missing python versions.

Change-Id: Ifd9682dcedc9189a3f28a273b10f0641674247f6
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/30/680130/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,30d09eaf5107afa3c87db3bb5de225b0f1998ee4,update-tox,minversion = 2.5skip_missing_interpreters = true,minversion = 2.0,2,1
openstack%2Fnova~master~Ia18e9be4d07b732afd9db0007c541253f3cdaf82,openstack/nova,master,Ia18e9be4d07b732afd9db0007c541253f3cdaf82,"libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION for ""Ussuri""",MERGED,2019-11-19 18:15:17.000000000,2019-11-26 13:46:52.000000000,2019-11-26 12:08:22.000000000,"[{'_account_id': 782}, {'_account_id': 6962}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-19 18:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4e5305884a38fe59bf3eb9f1f4c037dc5016e23', 'message': 'libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION for ""Ussuri""\n\nWe didn\'t bump the MIN_{LIBVIRT_QEMU} For the ""Train"" release, although\nwe advertized it[1].  Let\'s actually bump it for ""Ussuri"", while we\'re\nearly on in the development cycle to  give it enough ""soaking time"".\n\nAs part of this bump, fix the small fallout:\n\n  - Remove the MIN_LIBVIRT_MDEV_SUPPORT version constant; fix tests.\n  - Remove the ""GOP"" (Graphic Output Protocol) video model version\n    constant from MIN_LIBVIRT_VIDEO_MODEL_VERSIONS; fix tests.\n\nThe following version constants and related tests, which are now no\nlonger required, will be removed in separate patches:\n\n    MIN_LIBVIRT_KVM_AARCH64_VERSION\n    MIN_LIBVIRT_MULTIATTACH\n    MIN_LIBVIRT_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_DISCARD_VERSION\n\nAnd here[2] discussion for picking future libvirt/QEMU versions for ""V""\nrelease on the list.\n\n[1] https://opendev.org/openstack/nova/commit/489b5f762e\n    -- Pick next minimum libvirt / QEMU versions for ""T"" release,\n    2018-09-25)\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010907.html\n    -- On next minimum libvirt / QEMU versions for ""V"" release\n\nChange-Id: Ia18e9be4d07b732afd9db0007c541253f3cdaf82\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2019-11-20 10:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2583cf5f724b0c35dbf3b5b193924a9b5049174', 'message': 'libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION for ""Ussuri""\n\nWe didn\'t bump the MIN_{LIBVIRT_QEMU} For the ""Train"" release, although\nwe advertized it[1].  Let\'s actually bump it for ""Ussuri"", while we\'re\nearly on in the development cycle to  give it enough ""soaking time"".\n\nAs part of this bump, fix the small fallout:\n\n  - Remove the MIN_LIBVIRT_MDEV_SUPPORT version constant; fix tests.\n  - Remove the ""GOP"" (Graphic Output Protocol) video model version\n    constant from MIN_LIBVIRT_VIDEO_MODEL_VERSIONS; fix tests.\n\nThe following version constants and related tests, which are now no\nlonger required, will be removed in separate patches:\n\n    MIN_LIBVIRT_KVM_AARCH64_VERSION\n    MIN_LIBVIRT_MULTIATTACH\n    MIN_LIBVIRT_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_DISCARD_VERSION\n\nAnd here[2] is the discussion for picking future libvirt/QEMU versions\nfor ""V"" release on the list.\n\n[1] https://opendev.org/openstack/nova/commit/489b5f762e\n    -- Pick next minimum libvirt / QEMU versions for ""T"" release,\n    2018-09-25)\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010907.html\n    -- On next minimum libvirt / QEMU versions for ""V"" release\n\nChange-Id: Ia18e9be4d07b732afd9db0007c541253f3cdaf82\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2019-11-20 12:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc0347f5952d7c88f9f9d77727d0b3abfb51edf9', 'message': 'libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION for ""Ussuri""\n\nWe didn\'t bump the MIN_{LIBVIRT_QEMU} For the ""Train"" release, although\nwe advertized it[1].  Let\'s actually bump it for ""Ussuri"", while we\'re\nearly on in the development cycle to  give it enough ""soaking time"".\n\nAs part of this bump, fix the small fallout:\n\n  - Remove the MIN_LIBVIRT_MDEV_SUPPORT version constant; fix tests.\n  - Remove the ""GOP"" (Graphic Output Protocol) video model version\n    constant from MIN_LIBVIRT_VIDEO_MODEL_VERSIONS; fix tests.\n\nThe following version constants and related tests, which are now no\nlonger required, will be removed in separate patches:\n\n    MIN_LIBVIRT_KVM_AARCH64_VERSION\n    MIN_LIBVIRT_MULTIATTACH\n    MIN_LIBVIRT_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_DISCARD_VERSION\n\nAnd here[2] is the discussion for picking future libvirt/QEMU versions\nfor ""V"" release on the list.\n\n[1] https://opendev.org/openstack/nova/commit/489b5f762e\n    -- Pick next minimum libvirt / QEMU versions for ""T"" release,\n    2018-09-25)\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010907.html\n    -- On next minimum libvirt / QEMU versions for ""V"" release\n\nChange-Id: Ia18e9be4d07b732afd9db0007c541253f3cdaf82\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 4, 'created': '2019-11-21 14:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b76ff0c2b137a116de73c3ab16289c4633d54a45', 'message': 'libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION for ""Ussuri""\n\nWe didn\'t bump the MIN_{LIBVIRT_QEMU} For the ""Train"" release, although\nwe advertized it[1].  Let\'s actually bump it for ""Ussuri"", while we\'re\nearly on in the development cycle to  give it enough ""soaking time"".\n\nAs part of this bump, fix the small fallout:\n\n  - Remove the MIN_LIBVIRT_MDEV_SUPPORT version constant; fix tests.\n  - Remove the ""GOP"" (Graphic Output Protocol) video model version\n    constant from MIN_LIBVIRT_VIDEO_MODEL_VERSIONS; fix tests.\n  - Fix the fucntional test:\n    VGPUReshapeTests.test_create_servers_with_vgpu\n\nThe following version constants and related tests, which are now no\nlonger required, will be removed in separate patches:\n\n    MIN_LIBVIRT_KVM_AARCH64_VERSION\n    MIN_LIBVIRT_MULTIATTACH\n    MIN_LIBVIRT_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_DISCARD_VERSION\n\nAnd here[2] is the discussion for picking future libvirt/QEMU versions\nfor ""V"" release on the list.\n\n[1] https://opendev.org/openstack/nova/commit/489b5f762e\n    -- Pick next minimum libvirt / QEMU versions for ""T"" release,\n    2018-09-25)\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010907.html\n    -- On next minimum libvirt / QEMU versions for ""V"" release\n\nChange-Id: Ia18e9be4d07b732afd9db0007c541253f3cdaf82\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 5, 'created': '2019-11-21 14:31:43.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/22c1916b49a774fceebeffa7fc5da1a40573d26c', 'message': 'libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION for ""Ussuri""\n\nWe didn\'t bump the MIN_{LIBVIRT_QEMU} For the ""Train"" release, although\nwe advertized it[1].  Let\'s actually bump it for ""Ussuri"", while we\'re\nearly on in the development cycle to  give it enough ""soaking time"".\n\nAs part of this bump, fix the small fallout:\n\n  - Remove the MIN_LIBVIRT_MDEV_SUPPORT version constant; fix tests.\n  - Remove the ""GOP"" (Graphic Output Protocol) video model version\n    constant from MIN_LIBVIRT_VIDEO_MODEL_VERSIONS; fix tests.\n  - Fix the fucntional test:\n    VGPUReshapeTests.test_create_servers_with_vgpu\n\nThe following version constants and related tests, which are now no\nlonger required, will be removed in separate patches:\n\n    MIN_LIBVIRT_KVM_AARCH64_VERSION\n    MIN_LIBVIRT_MULTIATTACH\n    MIN_LIBVIRT_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_VERSION\n    MIN_QEMU_FILE_BACKED_DISCARD_VERSION\n\nAnd here[2] is the discussion for picking future libvirt/QEMU versions\nfor ""V"" release on the list.\n\n[1] https://opendev.org/openstack/nova/commit/489b5f762e\n    -- Pick next minimum libvirt / QEMU versions for ""T"" release,\n    2018-09-25)\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010907.html\n    -- On next minimum libvirt / QEMU versions for ""V"" release\n\nChange-Id: Ia18e9be4d07b732afd9db0007c541253f3cdaf82\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",9,695056,22c1916b49a774fceebeffa7fc5da1a40573d26c,49,13,5,6962,,,0,"libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION for ""Ussuri""

We didn't bump the MIN_{LIBVIRT_QEMU} For the ""Train"" release, although
we advertized it[1].  Let's actually bump it for ""Ussuri"", while we're
early on in the development cycle to  give it enough ""soaking time"".

As part of this bump, fix the small fallout:

  - Remove the MIN_LIBVIRT_MDEV_SUPPORT version constant; fix tests.
  - Remove the ""GOP"" (Graphic Output Protocol) video model version
    constant from MIN_LIBVIRT_VIDEO_MODEL_VERSIONS; fix tests.
  - Fix the fucntional test:
    VGPUReshapeTests.test_create_servers_with_vgpu

The following version constants and related tests, which are now no
longer required, will be removed in separate patches:

    MIN_LIBVIRT_KVM_AARCH64_VERSION
    MIN_LIBVIRT_MULTIATTACH
    MIN_LIBVIRT_FILE_BACKED_VERSION
    MIN_QEMU_FILE_BACKED_VERSION
    MIN_QEMU_FILE_BACKED_DISCARD_VERSION

And here[2] is the discussion for picking future libvirt/QEMU versions
for ""V"" release on the list.

[1] https://opendev.org/openstack/nova/commit/489b5f762e
    -- Pick next minimum libvirt / QEMU versions for ""T"" release,
    2018-09-25)
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010907.html
    -- On next minimum libvirt / QEMU versions for ""V"" release

Change-Id: Ia18e9be4d07b732afd9db0007c541253f3cdaf82
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/695056/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,f4e5305884a38fe59bf3eb9f1f4c037dc5016e23,Bump_min_libvirt_and_QEMU_for_Ussuri," self.assertFalse(drvr._video_model_supported(""none"")) def test_get_mdev_capable_devices(self, list_mdev_capable_devs, def test_get_mdev_capable_devices_filtering(self, list_mdev_capable_devs, def test_get_mediated_devices(self, list_mediated_devices, def test_get_mediated_devices_filtering(self, list_mediated_devices, self, get_all_assigned_mdevs, exists, get_mdev_capable_devs, privsep_create_mdev):"," self.assertFalse(drvr._video_model_supported(""gop"")) @mock.patch.object(fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_MDEV_SUPPORT)) def test_get_mdev_capable_devices(self, _get_libvirt_version, list_mdev_capable_devs, @mock.patch.object(fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_MDEV_SUPPORT)) def test_get_mdev_capable_devices_filtering(self, _get_libvirt_version, list_mdev_capable_devs, @mock.patch.object(fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_MDEV_SUPPORT)) def test_get_mediated_devices(self, _get_libvirt_version, list_mediated_devices, @mock.patch.object(fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_MDEV_SUPPORT)) def test_get_mediated_devices_filtering(self, _get_libvirt_version, list_mediated_devices, @mock.patch.object(fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_MDEV_SUPPORT)) self, _get_libvirt_version, get_all_assigned_mdevs, exists, get_mdev_capable_devs, privsep_create_mdev):",17,40
openstack%2Fnova~master~Iff1f9f28a1e4ecf00368cbcac27b7687a5eb0dcf,openstack/nova,master,Iff1f9f28a1e4ecf00368cbcac27b7687a5eb0dcf,Reset instance to current vm_state if rolling back in resize_instance,MERGED,2019-10-29 16:17:26.000000000,2019-11-26 13:42:08.000000000,2019-11-26 12:04:57.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-29 16:17:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a20996405c5788855a2457283bbbe7d78140a9c', 'message': 'Reset instance to current vm_state if rolling back in resize_instance\n\nYou can resize a stopped instance and if the compute driver raises\nInstanceFaultRollback from migrate_disk_and_power_off, the\n_error_out_instance_on_exception decorator, used in the _resize_instance\nmethod, will by default reset the instance vm_state to ACTIVE even though\nthe guest is stopped. The driver could raise InstanceFaultRollback if you\ntry resizing the root disk down on a non-volume-backed instance.\n\nThis builds on [1] and does the same thing as prep_resize [2] for\nmaking sure the original vm_state is reset on InstanceFaultRollback.\n\n[1] Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb\n[2] I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc\n\nChange-Id: Iff1f9f28a1e4ecf00368cbcac27b7687a5eb0dcf\nCloses-Bug: #1551703\n'}]",0,691908,5a20996405c5788855a2457283bbbe7d78140a9c,19,13,1,6873,,,0,"Reset instance to current vm_state if rolling back in resize_instance

You can resize a stopped instance and if the compute driver raises
InstanceFaultRollback from migrate_disk_and_power_off, the
_error_out_instance_on_exception decorator, used in the _resize_instance
method, will by default reset the instance vm_state to ACTIVE even though
the guest is stopped. The driver could raise InstanceFaultRollback if you
try resizing the root disk down on a non-volume-backed instance.

This builds on [1] and does the same thing as prep_resize [2] for
making sure the original vm_state is reset on InstanceFaultRollback.

[1] Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb
[2] I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc

Change-Id: Iff1f9f28a1e4ecf00368cbcac27b7687a5eb0dcf
Closes-Bug: #1551703
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/691908/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,5a20996405c5788855a2457283bbbe7d78140a9c,bug/1551703," # Pass instance_state=instance.vm_state because we can resize # a STOPPED server and we don't want to set it back to ACTIVE # in case migrate_disk_and_power_off raises InstanceFaultRollback. instance_state = instance.vm_state with self._error_out_instance_on_exception( context, instance, instance_state=instance_state), \"," with self._error_out_instance_on_exception(context, instance), \",28,1
openstack%2Fnova~stable%2Ftrain~I613ad054f77b1a0a9d2e7718c0c531d11525283c,openstack/nova,stable/train,I613ad054f77b1a0a9d2e7718c0c531d11525283c,Join migration_context and flavor in Migration.instance,MERGED,2019-11-14 22:06:53.000000000,2019-11-26 13:40:43.000000000,2019-11-26 05:52:58.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-14 22:06:53.000000000', 'files': ['nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/objects/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2b4e3346e20615473328e7ae90b5083500961ca', 'message': ""Join migration_context and flavor in Migration.instance\n\nThis builds on Ifc7dcde8a659710acecb1967da15c632c69d675c\nby joining the Migration.instance migration_context and\nflavor to avoid lazy-loading those later.\n\nWhen tracking an incoming migration, the ResourceTracker\n_pair_instances_to_migrations can hit a KeyError since it's\nnot yet tracking the instance on that dest host yet. Then\n_update_usage_from_migrations will lazy-load the Migration.instance\nfield and access the migration_context and flavor fields on the\ninstance, which get lazy-loaded, which kind of defeats part of\nthe purpose of that optimization.\n\nChange-Id: I613ad054f77b1a0a9d2e7718c0c531d11525283c\nRelated-Bug: #1540526\n(cherry picked from commit c15e36e5849b6baddebb4b39475a6bf03ec5908b)\n""}]",0,694408,e2b4e3346e20615473328e7ae90b5083500961ca,26,8,1,6873,,,0,"Join migration_context and flavor in Migration.instance

This builds on Ifc7dcde8a659710acecb1967da15c632c69d675c
by joining the Migration.instance migration_context and
flavor to avoid lazy-loading those later.

When tracking an incoming migration, the ResourceTracker
_pair_instances_to_migrations can hit a KeyError since it's
not yet tracking the instance on that dest host yet. Then
_update_usage_from_migrations will lazy-load the Migration.instance
field and access the migration_context and flavor fields on the
instance, which get lazy-loaded, which kind of defeats part of
the purpose of that optimization.

Change-Id: I613ad054f77b1a0a9d2e7718c0c531d11525283c
Related-Bug: #1540526
(cherry picked from commit c15e36e5849b6baddebb4b39475a6bf03ec5908b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/694408/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/objects/migration.py']",3,e2b4e3346e20615473328e7ae90b5083500961ca,bug/1540526," self._context, self.instance_uuid, expected_attrs=['migration_context', 'flavor'])"," self._context, self.instance_uuid)",11,6
openstack%2Fironic-inspector-specs~master~I05108ae17de80b10b31bf251a729976fd600d6e6,openstack/ironic-inspector-specs,master,I05108ae17de80b10b31bf251a729976fd600d6e6,Drop python 2.7 support and testing,MERGED,2019-11-22 17:16:05.000000000,2019-11-26 13:24:44.000000000,2019-11-26 13:23:31.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-22 17:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector-specs/commit/22e1e0171ad8e6a59a6b07db1f6bfb194af8bdcc', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-inspector-specs is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nThe only reference for py27 is on requirements.\n\nChange-Id: I05108ae17de80b10b31bf251a729976fd600d6e6\n'}, {'number': 2, 'created': '2019-11-25 09:46:44.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector-specs/commit/6919c93d66cd2ebef4e7be0cb5733ce73ac6bc92', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-inspector-specs is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nThe only reference for py27 is on requirements.\nClean up tox.ini for basepython\n\nChange-Id: I05108ae17de80b10b31bf251a729976fd600d6e6\n'}]",0,695731,6919c93d66cd2ebef4e7be0cb5733ce73ac6bc92,13,3,2,15519,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

ironic-inspector-specs is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

The only reference for py27 is on requirements.
Clean up tox.ini for basepython

Change-Id: I05108ae17de80b10b31bf251a729976fd600d6e6
",git fetch https://review.opendev.org/openstack/ironic-inspector-specs refs/changes/31/695731/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,22e1e0171ad8e6a59a6b07db1f6bfb194af8bdcc,drop-py27-support,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD",0,1
openstack%2Fcookbook-openstack-identity~master~Id4c06c8fc136ae3cde97e751373049db989de21e,openstack/cookbook-openstack-identity,master,Id4c06c8fc136ae3cde97e751373049db989de21e,Use python3 packages on Ubuntu,MERGED,2019-08-03 12:23:42.000000000,2019-11-26 13:16:22.000000000,2019-11-26 13:16:22.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/7113d8f0647eed7d0fa9419fb9858d6498d9e1ee', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: Id4c06c8fc136ae3cde97e751373049db989de21e\n'}, {'number': 2, 'created': '2019-09-18 14:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/dbacf1ce489441ae3171abf81fae6b0474948bd3', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: Id4c06c8fc136ae3cde97e751373049db989de21e\n'}, {'number': 3, 'created': '2019-09-19 14:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/524400f35497d1ecbe821f9a8731126a738dd58d', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\n\nDepends-On: https://review.opendev.org/682918\nChange-Id: Id4c06c8fc136ae3cde97e751373049db989de21e\n'}, {'number': 4, 'created': '2019-09-23 10:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/4ba4273fc9cff3ff537442c436ce32e476739605', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: Id4c06c8fc136ae3cde97e751373049db989de21e\n'}, {'number': 5, 'created': '2019-09-23 10:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/e083dc0d0e3f642aa65977edd69bb851c65ba7bd', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: Id4c06c8fc136ae3cde97e751373049db989de21e\n'}, {'number': 6, 'created': '2019-11-26 10:47:17.000000000', 'files': ['recipes/server-apache.rb', 'spec/server-apache_spec.rb', 'attributes/default.rb', 'metadata.rb', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/87d4d2ed4075153e09c4e11105571b209ae76de9', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nAlso update Berksfile to allow dependency testing and require chef >= 14 now.\n\nChange-Id: Id4c06c8fc136ae3cde97e751373049db989de21e\n'}]",0,674452,87d4d2ed4075153e09c4e11105571b209ae76de9,20,4,6,13252,,,0,"Use python3 packages on Ubuntu

Python2.7 is going EOL soon, let us deploy python3 for Rocky from the
start, so we avoid having to switch later.

Also update Berksfile to allow dependency testing and require chef >= 14 now.

Change-Id: Id4c06c8fc136ae3cde97e751373049db989de21e
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/52/674452/3 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,7113d8f0647eed7d0fa9419fb9858d6498d9e1ee,chef-py3," 'memcache_python_packages' => ['python3-memcache'], 'keystone_packages' => ['python3-keystone', 'keystone'],"," 'memcache_python_packages' => ['python-memcache'], 'keystone_packages' => ['keystone'],",2,2
openstack%2Fpuppet-tripleo~stable%2Ftrain~I4b4304b54a8aec76fad50b503a007b2bfcc41bd1,openstack/puppet-tripleo,stable/train,I4b4304b54a8aec76fad50b503a007b2bfcc41bd1,Check for crm_node presence before collecting fact,MERGED,2019-11-26 06:21:27.000000000,2019-11-26 13:12:57.000000000,2019-11-26 13:12:57.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 06:21:27.000000000', 'files': ['lib/facter/stonith_levels.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/97af595062ff81f7e530545752eab1666210716e', 'message': 'Check for crm_node presence before collecting fact\n\nThis commit adds a check to make sure \'crm_node\' is present on the\nsystem (or inside a container, fwiw) before attempting to collect\nthe stonith level info, so preventing errors like:\n\n~~~\nError: Facter: error while resolving custom fact\n\\""stonith_levels\\"": execution of command \\""crm_node -n 2> /dev/null\\""\nfailed: command not found.""\n~~~\n\nChange-Id: I4b4304b54a8aec76fad50b503a007b2bfcc41bd1\n(cherry picked from commit 57ef37990a03bf8cbd99383544699b367b23c625)\n'}]",1,696019,97af595062ff81f7e530545752eab1666210716e,8,5,1,30126,,,0,"Check for crm_node presence before collecting fact

This commit adds a check to make sure 'crm_node' is present on the
system (or inside a container, fwiw) before attempting to collect
the stonith level info, so preventing errors like:

~~~
Error: Facter: error while resolving custom fact
\""stonith_levels\"": execution of command \""crm_node -n 2> /dev/null\""
failed: command not found.""
~~~

Change-Id: I4b4304b54a8aec76fad50b503a007b2bfcc41bd1
(cherry picked from commit 57ef37990a03bf8cbd99383544699b367b23c625)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/19/696019/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/facter/stonith_levels.rb'],1,97af595062ff81f7e530545752eab1666210716e,," # If crm_node is present, return true. Otherwise, return false. if Facter::Core::Execution.which('crm_node') hostname = Facter::Core::Execution.execute(""crm_node -n 2> /dev/null"", {}) stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {}) stonith_levels end "," hostname = Facter::Core::Execution.execute(""crm_node -n 2> /dev/null"", {}) stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {}) stonith_levels",6,4
openstack%2Fopenstack-ansible-os_blazar~master~I7b41835ed28d6fc09cfd579b4b5a9d0b67ca10ec,openstack/openstack-ansible-os_blazar,master,I7b41835ed28d6fc09cfd579b4b5a9d0b67ca10ec,fix tox python3 overrides,MERGED,2019-05-27 07:09:23.000000000,2019-11-26 12:59:30.000000000,2019-11-26 12:58:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25314}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-27 07:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/8eb0ec0bf65ced8dcbf30d71a340b4dce005b4e9', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7b41835ed28d6fc09cfd579b4b5a9d0b67ca10ec\n'}, {'number': 2, 'created': '2019-05-27 07:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/0bbfd34b830cb6da86d93ccab951810faab5c9ea', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7b41835ed28d6fc09cfd579b4b5a9d0b67ca10ec\nCloses-Bug:  #1801657\n'}, {'number': 3, 'created': '2019-11-06 11:35:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/3aedf3881100c6679c897d57180f234074c1cd71', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7b41835ed28d6fc09cfd579b4b5a9d0b67ca10ec\nCloses-Bug:  #1801657\n'}]",0,661545,3aedf3881100c6679c897d57180f234074c1cd71,13,4,3,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7b41835ed28d6fc09cfd579b4b5a9d0b67ca10ec
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/45/661545/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8eb0ec0bf65ced8dcbf30d71a340b4dce005b4e9,bug/1801657,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2f684191b146e0f6a28b98d7c0080e6eab14f2d9,openstack/tripleo-heat-templates,stable/train,I2f684191b146e0f6a28b98d7c0080e6eab14f2d9,Update scale down to fix regression,MERGED,2019-11-25 15:03:30.000000000,2019-11-26 12:52:08.000000000,2019-11-26 12:52:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 15:03:30.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00e9ede7b5c5f9058f52c87485cc66f8e8be9c6e', 'message': ""Update scale down to fix regression\n\nThis change updates our scale down process to ensure that we're\nsearching for and matching only the one host that intended to\nbe remove during the task execution. The process will now use\nthe `ansible_fqdn` fact as the search criteria and ensure we're\nonly ever interacting with one known host.\n\n* If the search criteria returns more than one value the task\n  will fail indicating why it failed and return data on the\n  failure.\n* If the search criteria returns no values, it will be assumed\n  that the compute service is already disabled and has been\n  removed.\n\nResolves: rhbz#1495489\nCloses-bug: 1853644\nChange-Id: I2f684191b146e0f6a28b98d7c0080e6eab14f2d9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 8adef8587bddb8c6bdf3289f7f2ae2f8828d99e5)\n""}]",0,695924,00e9ede7b5c5f9058f52c87485cc66f8e8be9c6e,9,6,1,7353,,,0,"Update scale down to fix regression

This change updates our scale down process to ensure that we're
searching for and matching only the one host that intended to
be remove during the task execution. The process will now use
the `ansible_fqdn` fact as the search criteria and ensure we're
only ever interacting with one known host.

* If the search criteria returns more than one value the task
  will fail indicating why it failed and return data on the
  failure.
* If the search criteria returns no values, it will be assumed
  that the compute service is already disabled and has been
  removed.

Resolves: rhbz#1495489
Closes-bug: 1853644
Change-Id: I2f684191b146e0f6a28b98d7c0080e6eab14f2d9
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 8adef8587bddb8c6bdf3289f7f2ae2f8828d99e5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/695924/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,00e9ede7b5c5f9058f52c87485cc66f8e8be9c6e,bug/1853644-stable/train," command: openstack compute service list --service nova-compute --column ID --column Host --format yaml changed_when: false - name: Set fact for nova_compute services set_fact: nova_compute_service: ""{{ nova_compute_service_result.stdout | from_yaml | selectattr('Host', 'match', ansible_fqdn ~ '.*') | list }}"" - name: Check search output fail: msg: >- Found multiple `{{ ansible_fqdn }}`, which is unexpected. This means that the FQDN of the selected device to disable is either wrong or is sharing a name with another host, which is also wrong. Please correct this issue before continuing. Nova service list return data can be found here -> {{ nova_compute_service }}. when: - (nova_compute_service | length) > 1 command: openstack compute service set {{ nova_compute_service[0].Host }} nova-compute --disable when: - (nova_compute_service | length) < 1 command: openstack compute service delete {{ nova_compute_service[0].ID }} when: - (nova_compute_service | length) < 1"," shell: openstack compute service list --service nova-compute --host {{ ansible_fqdn }} --column ID --format value - name: Set fact nova_compute_service_id set_fact: nova_compute_service_id: ""{{ nova_compute_service_result.stdout }}"" command: openstack compute service set {{ ansible_fqdn }} nova-compute --disable command: openstack compute service delete {{ nova_compute_service_id }}",21,5
openstack%2Fnova~master~Icac785eec824da5146efe0ea8ecd01383f18398e,openstack/nova,master,Icac785eec824da5146efe0ea8ecd01383f18398e,Drop neutron-grenade-multinode job,MERGED,2019-11-18 14:50:24.000000000,2019-11-26 12:27:32.000000000,2019-11-26 12:23:19.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-18 14:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66da85481d8216f4fa9868c31291bf4d53438ecf', 'message': ""Drop neutron-grenade-multinode job\n\nWe were running the voting neutron-grenade-multinode job in the\ncheck queue on nova changes but were not running it in the gate\nqueue.\n\nWe run the nova-grenade-multinode job in both check and gate queues.\n\nThe major differences between those jobs are that the neutron\njob runs the tempest smoke tests during the grenade run on the\nold and new side of the grenade environment and the nova job would\nnot run smoke tests but ran a select few live migration and\nresize/cold migration tests via the post-test hook script, and would\nrun those with an lvm/local storage/block migration and ceph/shared\nstorage setup.\n\nThis change makes the nova-grenade-multinode job run smoke tests\nlike the neutron-grenade-multinode job was so we can drop the\nneutron-grenade-multinode job from running on nova changes in the\ncheck queue and save a few nodes.\n\nNote this will make the nova-grenade-multinode job take a bit longer\nbut it shouldn't be by much since most of the time spent in the job\nis node / environment setup anyway. Looking at a recent run [1] of the\nneutron-grenade-multinode job the tempest smoke tests took less than\n7 minutes. If we want to shorten that up in the future we could\nuse a tempest test regex to whitelist to just compute API/scenario\nsmoke tests so we don't test things like identity/volume/network/image\nAPI smoke tests but the savings might not be worth the complexity in\nthe job configuration.\n\n[1] https://zuul.opendev.org/t/openstack/build/377affdf97b04022a321087352e1cc4c/log/logs/grenade.sh.txt.gz#41965\n\nChange-Id: Icac785eec824da5146efe0ea8ecd01383f18398e\n""}, {'number': 2, 'created': '2019-11-18 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47765c074a438042c68fb1e1a09bc4c57ffb6226', 'message': ""Drop neutron-grenade-multinode job\n\nWe were running the voting neutron-grenade-multinode job in the\ncheck queue on nova changes but were not running it in the gate\nqueue.\n\nWe run the nova-grenade-multinode job in both check and gate queues.\n\nThe major differences between those jobs are that the neutron\njob runs the tempest smoke tests during the grenade run on the\nold and new side of the grenade environment and the nova job would\nnot run smoke tests but ran a select few live migration and\nresize/cold migration tests via the post-test hook script, and would\nrun those with an lvm/local storage/block migration and ceph/shared\nstorage setup.\n\nThis change makes the nova-grenade-multinode job run smoke tests\nlike the neutron-grenade-multinode job was so we can drop the\nneutron-grenade-multinode job from running on nova changes in the\ncheck queue and save a few nodes.\n\nNote that neutron-grenade-multinode ran all smoke tests but this\nchange makes nova-grenade-multinode run a subset of smoke tests for\nonly the ones that involve compute. This is in order to keep the\nexecution time of the job down by not testing non-compute API things\nthat nova changes don't care about, e.g. keystone, swift, cinder, etc\nsmoke tests.\n\n[1] https://zuul.opendev.org/t/openstack/build/377affdf97b04022a321087352e1cc4c/log/logs/grenade.sh.txt.gz#41965\n\nChange-Id: Icac785eec824da5146efe0ea8ecd01383f18398e\n""}, {'number': 3, 'created': '2019-11-19 15:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5418ccd88ae6560f40546d06bcfe878b12cadfe', 'message': ""Drop neutron-grenade-multinode job\n\nWe were running the voting neutron-grenade-multinode job in the\ncheck queue on nova changes but were not running it in the gate\nqueue.\n\nWe run the nova-grenade-multinode job in both check and gate queues.\n\nThe major differences between those jobs are that the neutron\njob runs the tempest smoke tests during the grenade run on the\nold and new side of the grenade environment and the nova job would\nnot run smoke tests but ran a select few live migration and\nresize/cold migration tests via the post-test hook script, and would\nrun those with an lvm/local storage/block migration and ceph/shared\nstorage setup.\n\nThis change makes the nova-grenade-multinode job run smoke tests\nlike the neutron-grenade-multinode job was so we can drop the\nneutron-grenade-multinode job from running on nova changes in the\ncheck queue and save a few nodes.\n\nNote that neutron-grenade-multinode ran all smoke tests but this\nchange makes nova-grenade-multinode run a subset of smoke tests for\nonly the ones that involve compute. This is in order to keep the\nexecution time of the job down by not testing non-compute API things\nthat nova changes don't care about, e.g. keystone, swift, cinder, etc\nsmoke tests.\n\n[1] https://zuul.opendev.org/t/openstack/build/377affdf97b04022a321087352e1cc4c/log/logs/grenade.sh.txt.gz#41965\n\nChange-Id: Icac785eec824da5146efe0ea8ecd01383f18398e\n""}, {'number': 4, 'created': '2019-11-19 15:52:26.000000000', 'files': ['playbooks/legacy/nova-grenade-multinode/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8cb6f074446b21af6c0198b3130c22cdc38ac389', 'message': ""Drop neutron-grenade-multinode job\n\nWe were running the voting neutron-grenade-multinode job in the\ncheck queue on nova changes but were not running it in the gate\nqueue.\n\nWe run the nova-grenade-multinode job in both check and gate queues.\n\nThe major differences between those jobs are that the neutron\njob runs the tempest smoke tests during the grenade run on the\nold and new side of the grenade environment and the nova job would\nnot run smoke tests but ran a select few live migration and\nresize/cold migration tests via the post-test hook script, and would\nrun those with an lvm/local storage/block migration and ceph/shared\nstorage setup.\n\nThis change makes the nova-grenade-multinode job run smoke tests\nlike the neutron-grenade-multinode job was so we can drop the\nneutron-grenade-multinode job from running on nova changes in the\ncheck queue and save a few nodes.\n\nNote that neutron-grenade-multinode ran all smoke tests but this\nchange makes nova-grenade-multinode run a subset of smoke tests for\nonly the ones that involve compute. This is in order to keep the\nexecution time of the job down by not testing non-compute API things\nthat nova changes don't care about, e.g. keystone, swift, cinder, etc\nsmoke tests.\n\n[1] https://zuul.opendev.org/t/openstack/build/377affdf97b04022a321087352e1cc4c/log/logs/grenade.sh.txt.gz#41965\n\nChange-Id: Icac785eec824da5146efe0ea8ecd01383f18398e\n""}]",7,694789,8cb6f074446b21af6c0198b3130c22cdc38ac389,39,11,4,6873,,,0,"Drop neutron-grenade-multinode job

We were running the voting neutron-grenade-multinode job in the
check queue on nova changes but were not running it in the gate
queue.

We run the nova-grenade-multinode job in both check and gate queues.

The major differences between those jobs are that the neutron
job runs the tempest smoke tests during the grenade run on the
old and new side of the grenade environment and the nova job would
not run smoke tests but ran a select few live migration and
resize/cold migration tests via the post-test hook script, and would
run those with an lvm/local storage/block migration and ceph/shared
storage setup.

This change makes the nova-grenade-multinode job run smoke tests
like the neutron-grenade-multinode job was so we can drop the
neutron-grenade-multinode job from running on nova changes in the
check queue and save a few nodes.

Note that neutron-grenade-multinode ran all smoke tests but this
change makes nova-grenade-multinode run a subset of smoke tests for
only the ones that involve compute. This is in order to keep the
execution time of the job down by not testing non-compute API things
that nova changes don't care about, e.g. keystone, swift, cinder, etc
smoke tests.

[1] https://zuul.opendev.org/t/openstack/build/377affdf97b04022a321087352e1cc4c/log/logs/grenade.sh.txt.gz#41965

Change-Id: Icac785eec824da5146efe0ea8ecd01383f18398e
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/694789/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-grenade-multinode/run.yaml', '.zuul.yaml']",2,66da85481d8216f4fa9868c31291bf4d53438ecf,drop-python2-support,, - neutron-grenade-multinode: irrelevant-files: *dsvm-irrelevant-files,5,3
openstack%2Ftripleo-heat-templates~master~I216d7899c569419fdee7e30cc11af1d68d0f7fa3,openstack/tripleo-heat-templates,master,I216d7899c569419fdee7e30cc11af1d68d0f7fa3,Drop the SELinux flags for openvswitch /var/run directory,MERGED,2019-11-25 13:52:08.000000000,2019-11-26 12:26:45.000000000,2019-11-25 22:12:05.000000000,"[{'_account_id': 4978}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 13:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24224ccc75c632be390562e60b44ac046f420e8c', 'message': 'Drop the SELinux flags for openvswitch /var/run directory\n\nEnforcing re-labelling (:z) creates some issues when we are deploying\nwith DPDK.\nA new SELinux policy has been added[1] in openstack-selinux, allowing\ncontainer_t to actually write in openvswitch_file_t.\n\nThe ""shared"" flag isn\'t of any use in this context, because we don\'t\nhave any sub-mounts[2] in there.\n\nThis issue is related to the following BZ:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1772025\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1776326\n\n[1] https://github.com/redhat-openstack/openstack-selinux/pull/46\n[2] https://docs.docker.com/storage/bind-mounts/#configure-bind-propagation\n\nChange-Id: I216d7899c569419fdee7e30cc11af1d68d0f7fa3\nCloses-Bug: #1853844\n'}, {'number': 2, 'created': '2019-11-25 15:38:03.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af80a0d914d9663079ad30c7dcdf73e1060c33e7', 'message': 'Drop the SELinux flags for openvswitch /var/run directory\n\nEnforcing re-labelling (:z) creates some issues when we are deploying\nwith DPDK.\nA new SELinux policy has been added[1] in openstack-selinux, allowing\ncontainer_t to actually write in openvswitch_file_t.\n\nThe ""shared"" flag isn\'t of any use in this context, because we don\'t\nhave any sub-mounts[2] in there.\n\nAlso dropped a duplicate mount (/var/run == /run)\n\nThis issue is related to the following BZ:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1772025\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1776326\n\n[1] https://github.com/redhat-openstack/openstack-selinux/pull/46\n[2] https://docs.docker.com/storage/bind-mounts/#configure-bind-propagation\n\nChange-Id: I216d7899c569419fdee7e30cc11af1d68d0f7fa3\nCloses-Bug: #1853844\n'}]",0,695903,af80a0d914d9663079ad30c7dcdf73e1060c33e7,11,6,2,28223,,,0,"Drop the SELinux flags for openvswitch /var/run directory

Enforcing re-labelling (:z) creates some issues when we are deploying
with DPDK.
A new SELinux policy has been added[1] in openstack-selinux, allowing
container_t to actually write in openvswitch_file_t.

The ""shared"" flag isn't of any use in this context, because we don't
have any sub-mounts[2] in there.

Also dropped a duplicate mount (/var/run == /run)

This issue is related to the following BZ:
https://bugzilla.redhat.com/show_bug.cgi?id=1772025
https://bugzilla.redhat.com/show_bug.cgi?id=1776326

[1] https://github.com/redhat-openstack/openstack-selinux/pull/46
[2] https://docs.docker.com/storage/bind-mounts/#configure-bind-propagation

Change-Id: I216d7899c569419fdee7e30cc11af1d68d0f7fa3
Closes-Bug: #1853844
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/695903/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,24224ccc75c632be390562e60b44ac046f420e8c,selinux/ovs, - /run/openvswitch:/run/openvswitch," - /run/openvswitch:/run/openvswitch:shared,z",1,1
openstack%2Fnova~master~I8d7c9c244767645a5d63716842eaf19ca6ab1a45,openstack/nova,master,I8d7c9c244767645a5d63716842eaf19ca6ab1a45,doc: remove admin/manage-users,MERGED,2019-11-22 22:59:04.000000000,2019-11-26 12:13:07.000000000,2019-11-26 12:08:28.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-22 22:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb3ee4ecaeea1b063dcf4a4ada88675ab498e6b1', 'message': ""doc: remove admin/manage-users\n\nThe majority if this doc was talking about ec2 concepts\nwhich haven't been in nova for a looooong time so this\nchange just deletes the doc and moves the one useful\npiece into another part of the admin guide and links to\nthe keystone docs.\n\nChange-Id: I8d7c9c244767645a5d63716842eaf19ca6ab1a45\n""}, {'number': 2, 'created': '2019-11-25 14:19:29.000000000', 'files': ['doc/source/admin/manage-users.rst', 'doc/source/admin/index.rst', 'doc/source/admin/arch.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/173831558f836dd5423dcd052dc30274b52b2198', 'message': ""doc: remove admin/manage-users\n\nThe majority if this doc was talking about ec2 concepts\nwhich haven't been in nova for a looooong time so this\nchange just deletes the doc and moves the one useful\npiece into another part of the admin guide and links to\nthe keystone docs.\n\nChange-Id: I8d7c9c244767645a5d63716842eaf19ca6ab1a45\n""}]",6,695779,173831558f836dd5423dcd052dc30274b52b2198,23,8,2,6873,,,0,"doc: remove admin/manage-users

The majority if this doc was talking about ec2 concepts
which haven't been in nova for a looooong time so this
change just deletes the doc and moves the one useful
piece into another part of the admin guide and links to
the keystone docs.

Change-Id: I8d7c9c244767645a5d63716842eaf19ca6ab1a45
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/695779/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/manage-users.rst', 'doc/source/admin/index.rst', 'doc/source/admin/arch.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",5,eb3ee4ecaeea1b063dcf4a4ada88675ab498e6b1,api-guide-cleanup,redirectmatch 301 ^/nova/([^/]+)/admin/manage-users.html$ /nova/$1/admin/arch.html#projects-users-and-roles,,6,13
openstack%2Fpaunch~stable%2Ftrain~I289df7a87fbefa251a1472d892ff80449c478f49,openstack/paunch,stable/train,I289df7a87fbefa251a1472d892ff80449c478f49,DO NOT MERGE,ABANDONED,2019-11-26 09:36:07.000000000,2019-11-26 11:59:25.000000000,,[],"[{'number': 1, 'created': '2019-11-26 09:36:07.000000000', 'files': ['paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/35aa79d989038edf07d88b02d88e759d80bc401f', 'message': 'DO NOT MERGE\n\nChecking paunch keeping created containers.\n\nChange-Id: I289df7a87fbefa251a1472d892ff80449c478f49\n'}]",0,696044,35aa79d989038edf07d88b02d88e759d80bc401f,2,0,1,20775,,,0,"DO NOT MERGE

Checking paunch keeping created containers.

Change-Id: I289df7a87fbefa251a1472d892ff80449c478f49
",git fetch https://review.opendev.org/openstack/paunch refs/changes/44/696044/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,35aa79d989038edf07d88b02d88e759d80bc401f,, keep = self.delete_missing_and_updated() if container in keep: self.log.debug('Skipping existing container: %s' % container) continue keep_list = [] else: keep_list.append(container) return keep_list, self.delete_missing_and_updated(),9,3
openstack%2Faodh~master~I30819845f977530b350ce563a26c837877c93b78,openstack/aodh,master,I30819845f977530b350ce563a26c837877c93b78,Imported Translations from Zanata,MERGED,2019-11-26 08:38:35.000000000,2019-11-26 11:49:32.000000000,2019-11-26 11:47:59.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 08:38:35.000000000', 'files': ['aodh/locale/fr/LC_MESSAGES/aodh.po', 'aodh/locale/ja/LC_MESSAGES/aodh.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'aodh/locale/ru/LC_MESSAGES/aodh.po', 'aodh/locale/it/LC_MESSAGES/aodh.po', 'aodh/locale/pt/LC_MESSAGES/aodh.po', 'aodh/locale/pt_BR/LC_MESSAGES/aodh.po', 'aodh/locale/zh_CN/LC_MESSAGES/aodh.po', 'aodh/locale/de/LC_MESSAGES/aodh.po', 'aodh/locale/zh_TW/LC_MESSAGES/aodh.po', 'aodh/locale/en_GB/LC_MESSAGES/aodh.po', 'aodh/locale/ko_KR/LC_MESSAGES/aodh.po', 'aodh/locale/es/LC_MESSAGES/aodh.po'], 'web_link': 'https://opendev.org/openstack/aodh/commit/beb2896a4bb9b6038a69110f8b4d073f526035ad', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I30819845f977530b350ce563a26c837877c93b78\n'}]",0,696033,beb2896a4bb9b6038a69110f8b4d073f526035ad,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I30819845f977530b350ce563a26c837877c93b78
",git fetch https://review.opendev.org/openstack/aodh refs/changes/33/696033/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/locale/fr/LC_MESSAGES/aodh.po', 'aodh/locale/ja/LC_MESSAGES/aodh.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'aodh/locale/ru/LC_MESSAGES/aodh.po', 'aodh/locale/it/LC_MESSAGES/aodh.po', 'aodh/locale/pt/LC_MESSAGES/aodh.po', 'aodh/locale/pt_BR/LC_MESSAGES/aodh.po', 'aodh/locale/zh_CN/LC_MESSAGES/aodh.po', 'aodh/locale/de/LC_MESSAGES/aodh.po', 'aodh/locale/zh_TW/LC_MESSAGES/aodh.po', 'aodh/locale/en_GB/LC_MESSAGES/aodh.po', 'aodh/locale/ko_KR/LC_MESSAGES/aodh.po', 'aodh/locale/es/LC_MESSAGES/aodh.po']",13,beb2896a4bb9b6038a69110f8b4d073f526035ad,zanata/translations,"""POT-Creation-Date: 2019-11-25 10:56+0000\n""""X-Generator: Zanata 4.3.3\n""msgid """" ""Alarm when %(meter_name)s is %(comparison_operator)s a %(statistic)s of "" ""%(threshold)s over %(period)s seconds"" msgstr """" ""Alarma cuando %(meter_name)s es %(comparison_operator)s un %(statistic)s de "" ""%(threshold)s por encima de %(period)s segundos"" #, python-formatmsgid ""alarm stats retrieval failed"" msgstr ""ha fallado la recuperacin de estadsticas de la alarma"" ","""POT-Creation-Date: 2018-01-30 20:14+0000\n""""X-Generator: Zanata 3.9.6\n""",152,22
openstack%2Fneutron~stable%2Fqueens~I2fef298041c59a03dfd06912764973995b80690c,openstack/neutron,stable/queens,I2fef298041c59a03dfd06912764973995b80690c,Run revision bump operations en masse,MERGED,2019-11-22 14:32:46.000000000,2019-11-26 11:41:38.000000000,2019-11-26 11:41:38.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11816}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-22 14:32:46.000000000', 'files': ['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/db/standard_attr.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/134ab39ee4579951bf24364520bd7ee576b88cfb', 'message': 'Run revision bump operations en masse\n\nRefactored RevisionPlugin to operate upon sets of objects at\nonce.   In the case of ""related"" objects, the bump operation\nno longer makes use of compare-and-swap and instead updates\nversion numbers directly without testing for their previous value.\nThis removes the issue of StaleDataErrors being\nprevalent within the related object update phase, given the assumption\nthat the compare-and-swap logic is only desireable for the primary object\nbeing updated.\n\nChange-Id: I2fef298041c59a03dfd06912764973995b80690c\n(cherry picked from commit d841ce72bfa1ebcdb06f3fd5fba6cc68a4f04cb6)\n'}]",0,695693,134ab39ee4579951bf24364520bd7ee576b88cfb,15,6,1,11952,,,0,"Run revision bump operations en masse

Refactored RevisionPlugin to operate upon sets of objects at
once.   In the case of ""related"" objects, the bump operation
no longer makes use of compare-and-swap and instead updates
version numbers directly without testing for their previous value.
This removes the issue of StaleDataErrors being
prevalent within the related object update phase, given the assumption
that the compare-and-swap logic is only desireable for the primary object
being updated.

Change-Id: I2fef298041c59a03dfd06912764973995b80690c
(cherry picked from commit d841ce72bfa1ebcdb06f3fd5fba6cc68a4f04cb6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/695693/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/db/standard_attr.py']",3,134ab39ee4579951bf24364520bd7ee576b88cfb,inline_revision_bump,"from sqlalchemy.orm import attributes def _set_updated_revision_number(self, revision_number, updated_at): attributes.set_committed_value( self, ""revision_number"", revision_number) attributes.set_committed_value( self, ""updated_at"", updated_at) @property def _effective_standard_attribute_id(self): return self.id @property def _effective_standard_attribute_id(self): return self.standard_attr_id def _set_updated_revision_number(self, revision_number, updated_at): self.standard_attr._set_updated_revision_number( revision_number, updated_at) ",,173,29
openstack%2Ftelemetry-tempest-plugin~master~Icdd8b5a178527fec7479bf518eb4a0792eb35c21,openstack/telemetry-tempest-plugin,master,Icdd8b5a178527fec7479bf518eb4a0792eb35c21,Old branch don't use python3,MERGED,2019-11-25 08:56:58.000000000,2019-11-26 11:39:36.000000000,2019-11-26 11:39:36.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 08:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/7d84edba81113fc0b5105a37cd5254c2d1ccd6e1', 'message': ""Old branch don't use python3\n\nChange-Id: Icdd8b5a178527fec7479bf518eb4a0792eb35c21\n""}, {'number': 2, 'created': '2019-11-25 09:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/727aecc72cb94bdbaf9184547b2b768a99fa0ad1', 'message': ""Old branch don't use python3\n\nChange-Id: Icdd8b5a178527fec7479bf518eb4a0792eb35c21\n""}, {'number': 3, 'created': '2019-11-26 05:11:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/f4d7375147662f4ad8cd219b81f82121888dc90c', 'message': ""Old branch don't use python3\n\nChange-Id: Icdd8b5a178527fec7479bf518eb4a0792eb35c21\n""}]",0,695855,f4d7375147662f4ad8cd219b81f82121888dc90c,9,2,3,14107,,,0,"Old branch don't use python3

Change-Id: Icdd8b5a178527fec7479bf518eb4a0792eb35c21
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/55/695855/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d84edba81113fc0b5105a37cd5254c2d1ccd6e1,, branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train)).*$ - job: name: telemetry-dsvm-integration parent: telemetry-tempest-base branches: - stable/stein - stable/train vars: devstack_localrc: USE_PYTHON3: False USE_PYTHON3: False name: telemetry-dsvm-integration-ipv6-only-base branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train)).*$ - job: name: telemetry-dsvm-integration-ipv6-only parent: telemetry-dsvm-integration-ipv6-only-base branches: - stable/stein - stable/train vars: devstack_localrc: USE_PYTHON3: False - job: name: telemetry-dsvm-integration-ipv6-only-base parent: devstack-tempest-ipv6, branches: ^(?!stable/(ocata|pike|queens|rocky)).*$ name: telemetry-dsvm-integration-ipv6-only branches: ^(?!stable/(ocata|pike|queens|rocky)).*$,28,3
openstack%2Fceilometer~stable%2Fqueens~I6a1bc790ecdd0227b396016e6953d587894f9c89,openstack/ceilometer,stable/queens,I6a1bc790ecdd0227b396016e6953d587894f9c89,Gate TEST,ABANDONED,2019-11-26 05:25:44.000000000,2019-11-26 11:06:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-26 05:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7a42520ac73260794ff6e3303c697dc0029d4881', 'message': 'Gate TEST\n\nChange-Id: I6a1bc790ecdd0227b396016e6953d587894f9c89\n'}, {'number': 2, 'created': '2019-11-26 06:34:32.000000000', 'files': ['ceilometer/messaging.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bae8c46dc90d2aa03905af289e1bdd245730cfb2', 'message': 'Gate TEST\n\nDepends-On: https://review.opendev.org/#/c/695855/\nChange-Id: I6a1bc790ecdd0227b396016e6953d587894f9c89\n'}]",0,696016,bae8c46dc90d2aa03905af289e1bdd245730cfb2,5,1,2,14107,,,0,"Gate TEST

Depends-On: https://review.opendev.org/#/c/695855/
Change-Id: I6a1bc790ecdd0227b396016e6953d587894f9c89
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/16/696016/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/messaging.py'],1,7a42520ac73260794ff6e3303c697dc0029d4881,, # to break soon test., # to break soon.,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I6bd11bdf9c74db24c0d21fa600030e9f3b144df0,openstack/tripleo-heat-templates,stable/rocky,I6bd11bdf9c74db24c0d21fa600030e9f3b144df0,Enable Ceph RGW 'account in url' option,MERGED,2019-11-14 15:47:28.000000000,2019-11-26 10:55:17.000000000,2019-11-22 11:36:49.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 9003}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 15:47:28.000000000', 'files': ['network/endpoints/endpoint_map.yaml', 'network/endpoints/endpoint_data.yaml', 'docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ea3c7ca92bb67696f64b0248a594d89b1fba05c', 'message': ""Enable Ceph RGW 'account in url' option\n\nThis requires an update of the endpoint but is necessary to be able\nto use public-readable containers (like temporary URLs) with RGW.\n\nChange-Id: I6bd11bdf9c74db24c0d21fa600030e9f3b144df0\nCloses-Bug: 1826894\n(cherry picked from commit 7c379543ccab831da0bf4f8f4b850b534d5c5247)\n(cherry picked from commit 086238e9110555f8612cb39336e9b553b5353e18)\n""}]",0,694334,3ea3c7ca92bb67696f64b0248a594d89b1fba05c,15,9,1,6796,,,0,"Enable Ceph RGW 'account in url' option

This requires an update of the endpoint but is necessary to be able
to use public-readable containers (like temporary URLs) with RGW.

Change-Id: I6bd11bdf9c74db24c0d21fa600030e9f3b144df0
Closes-Bug: 1826894
(cherry picked from commit 7c379543ccab831da0bf4f8f4b850b534d5c5247)
(cherry picked from commit 086238e9110555f8612cb39336e9b553b5353e18)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/694334/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/endpoints/endpoint_map.yaml', 'network/endpoints/endpoint_data.yaml', 'docker/services/ceph-ansible/ceph-base.yaml']",3,3ea3c7ca92bb67696f64b0248a594d89b1fba05c,, rgw_swift_account_in_url: 'true',,82,72
openstack%2Fironic~master~I470d55add73bae47a2755cde93d4b1e1f30e94a7,openstack/ironic,master,I470d55add73bae47a2755cde93d4b1e1f30e94a7,Wire in in-band inspection for PXE boot and neutron-based networking,MERGED,2019-10-15 14:12:46.000000000,2019-11-26 10:55:04.000000000,2019-11-26 10:50:31.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-15 14:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07693d6e6e287c08e99da167d934c95bc16c5bb5', 'message': '[WIP] Wire in in-band cleaning for PXE boot\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 2, 'created': '2019-10-15 16:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74e13d39a5b1381da2048f3321b01472a93b0c79', 'message': '[WIP] Wire in in-band cleaning for PXE boot\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 3, 'created': '2019-10-16 10:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a905cf9a9d7172c83e1a8a1035e9e9388cae0a8b', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 4, 'created': '2019-10-16 16:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b54e8134036e61fe3abf5c09a97473cb2c99911', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 5, 'created': '2019-10-17 10:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b19b3dcd961e54d2ba2a58c59a37f5f8c6bf8fa', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 6, 'created': '2019-10-17 14:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64464b15f301e73afb15bc84f133f26858c77f9e', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 7, 'created': '2019-10-18 11:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41c57ca92a6692b4e66a5df33eabc4236ea7b5af', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 8, 'created': '2019-10-22 09:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/760394d81e77023004d1b8736f07518f9fc5a4b5', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 9, 'created': '2019-10-22 15:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2723daaceeac9500aaba96b67fdb3ce42b2b434', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 10, 'created': '2019-10-23 11:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/15ab3c8ce56dc95d126faeb411ba30df749432de', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 11, 'created': '2019-10-28 09:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8de140f2a4ccf35c22a1395b435f336999f81ea3', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 12, 'created': '2019-10-28 12:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/66cd490d6c0466a426e5d21d2884b8fa99279464', 'message': '[WIP] Wire in in-band inspection for PXE boot and neutron-based networking\n\nStory: #1528920\nTask: #23184\nDepends-On: https://review.opendev.org/691661\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 13, 'created': '2019-11-05 11:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9595d0084a0ac0de52af2078d1fdf2206a3e7fef', 'message': 'Wire in in-band inspection for PXE boot and neutron-based networking\n\nThis change implements in-band inspection support for PXE and iPXE\nboot interfaces and all in-tree network interfaces.\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 14, 'created': '2019-11-05 12:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ff77145f359379cc96e6d24717976343eea2db0', 'message': 'Wire in in-band inspection for PXE boot and neutron-based networking\n\nThis change implements in-band inspection support for PXE and iPXE\nboot interfaces and all in-tree network interfaces.\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 15, 'created': '2019-11-19 12:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d87238b7f50025d590490c46977c62cbbff4fa2b', 'message': 'Wire in in-band inspection for PXE boot and neutron-based networking\n\nThis change implements in-band inspection support for PXE and iPXE\nboot interfaces and all in-tree network interfaces.\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}, {'number': 16, 'created': '2019-11-21 12:40:22.000000000', 'files': ['ironic/conf/neutron.py', 'ironic/tests/unit/drivers/modules/network/test_flat.py', 'ironic/drivers/modules/network/neutron.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/network/common.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/common/neutron.py', 'ironic/tests/unit/drivers/modules/network/test_noop.py', 'releasenotes/notes/inspector-pxe-boot-9ab9fede5671097e.yaml', 'ironic/drivers/modules/network/flat.py', 'ironic/drivers/modules/ipxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9824d11d17215c280533b4bce1cd489b9fd2f4a', 'message': 'Wire in in-band inspection for PXE boot and neutron-based networking\n\nThis change implements in-band inspection support for PXE and iPXE\nboot interfaces and all in-tree network interfaces.\n\nStory: #1528920\nTask: #23184\nChange-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7\n'}]",3,688720,e9824d11d17215c280533b4bce1cd489b9fd2f4a,72,8,16,10239,,,0,"Wire in in-band inspection for PXE boot and neutron-based networking

This change implements in-band inspection support for PXE and iPXE
boot interfaces and all in-tree network interfaces.

Story: #1528920
Task: #23184
Change-Id: I470d55add73bae47a2755cde93d4b1e1f30e94a7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/688720/16 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/neutron.py', 'ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/network/common.py', 'ironic/common/neutron.py', 'ironic/drivers/modules/network/neutron.py', 'ironic/drivers/modules/network/flat.py', 'ironic/drivers/modules/ipxe.py']",7,07693d6e6e287c08e99da167d934c95bc16c5bb5,story/1528920," def _validate_common(self, task): @METRICS.timer('iPXEBoot.validate') def validate(self, task): """"""Validate the PXE-specific info for booting deploy/instance images. This method validates the PXE-specific info for booting the ramdisk and instance on the node. If invalid, raises an exception; otherwise returns None. :param task: a task from TaskManager. :returns: None :raises: InvalidParameterValue, if some parameters are invalid. :raises: MissingParameterValue, if some required parameters are missing. """""" self._validate_common() node = task.node @METRICS.timer('iPXEBoot.validate_inspection') def validate_inspection(self, task): """"""Validate that the node has required properties for inspection. :param task: A TaskManager instance with the node being checked :raises: UnsupportedDriverExtension """""" try: self._validate_common(task) except exception.MissingParameterValue: # Fall back to non-managed in-band inspection raise exception.UnsupportedDriverExtension( driver=task.node.driver, extension='validate_inspection') "," @METRICS.timer('iPXEBoot.validate') def validate(self, task): """"""Validate the PXE-specific info for booting deploy/instance images. This method validates the PXE-specific info for booting the ramdisk and instance on the node. If invalid, raises an exception; otherwise returns None. :param task: a task from TaskManager. :returns: None :raises: InvalidParameterValue, if some parameters are invalid. :raises: MissingParameterValue, if some required parameters are missing. """"""",225,125
openstack%2Fironic~master~Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b,openstack/ironic,master,Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b,Foundation for boot/network management for in-band inspection,MERGED,2019-09-10 13:52:20.000000000,2019-11-26 10:52:22.000000000,2019-11-26 10:50:26.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-09-10 13:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f708ab0b796a4c4112504d9abec2f352bf96be38', 'message': '[WIP] Foundation for boot/network management for in-band inspection\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 2, 'created': '2019-10-14 13:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f8bb38cde0abde261dba981885c22a5ec292038', 'message': '[WIP] Foundation for boot/network management for in-band inspection\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 3, 'created': '2019-10-14 16:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/15bbcbf954a56c658cf69d676f3601e99c50309e', 'message': '[WIP] Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 4, 'created': '2019-10-16 16:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/605bfd4ba6991516a45945ab9ee913f21a3089b4', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 5, 'created': '2019-10-17 10:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1827ac9dc056e75e6dcfdf2cfaed8a7c8d88909d', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 6, 'created': '2019-10-17 14:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fac2745d1b6ee788a0e423c09273b93c331383e4', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 7, 'created': '2019-10-18 11:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad053e4e0f4ad7724467c13ed94a31175577675a', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 8, 'created': '2019-10-22 09:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6120aabd37fd3304614c10baaaee5581f1356fa4', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 9, 'created': '2019-10-28 09:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af4ba642c596993daf93a10e53e02c8d3882946b', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 10, 'created': '2019-10-28 12:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea4bcc478120d78680addc291f489726c632d4cc', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 11, 'created': '2019-11-04 13:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8fa4b618c1caa6644512ea7e0011ea503df783aa', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 12, 'created': '2019-11-05 12:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2508cb827c0e3deccda263276a2fb0daba4da19b', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 13, 'created': '2019-11-19 12:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7dd3ad1a83131eb782645d9fa0c1adde4a2bec95', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}, {'number': 14, 'created': '2019-11-21 12:40:22.000000000', 'files': ['releasenotes/notes/inspection-boot-network-59fd23ca62b09e81.yaml', 'ironic/drivers/base.py', 'ironic/drivers/modules/network/noop.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/common/utils.py', 'ironic/conf/inspector.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c5dfa1bd9fe39eedbb60be537b5b3d83b1cde15b', 'message': 'Foundation for boot/network management for in-band inspection\n\nThis change the required base driver interface additions and inspector\ninterface changes to support in-band inspection driven by ironic.\n\nChange-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b\nStory: #1528920\nTask: #10404\n'}]",32,681261,c5dfa1bd9fe39eedbb60be537b5b3d83b1cde15b,115,9,14,10239,,,0,"Foundation for boot/network management for in-band inspection

This change the required base driver interface additions and inspector
interface changes to support in-band inspection driven by ironic.

Change-Id: Ibf9a80d0f72d5f128bf46ddca4cb9762c9a8191b
Story: #1528920
Task: #10404
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/681261/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/base.py', 'ironic/conf/inspector.py', 'ironic/drivers/modules/inspector.py']",3,f708ab0b796a4c4112504d9abec2f352bf96be38,story/1528920,"def _inspection_error_handler(task, error, raise_exc=False): task.node.last_error = error d_info = task.node.driver_internal_info manage_boot = d_info.pop('inspector_manage_boot', True) if not manage_boot: try: task.driver.network.remove_inspection_network(task) except Exception: LOG.exception('Unable to remove inspection network for node ' '%s while recovering from inspection failure', task.node.uuid) task.node.driver_internal_info = d_info if raise_exc: task.node.save() raise exception.HardwareInspectionFailure(reason=error) else: task.process_event('fail') manage_boot = True try: task.driver.boot.validate_inspection(task) task.driver.network.validate_inspection(task) except exception.UnsupportedDriverExtension as e: LOG.debug('The driver of the node %(node)s does not support ' 'managed boot for in-band inspection or the required ' 'options are not populated: %(exc)s', {'node': task.node.uuid, 'exc': e}) else: manage_boot = False d_info = task.node.driver_internal_info d_info['inspector_manage_boot'] = manage_boot task.node.driver_internal_info = d_info task.node.save() LOG.debug('Starting inspection for node %(uuid)s using ' 'ironic-inspector, booting is managed by %(project)s', {'uuid': task.node.uuid, 'project': 'ironic-inspector' if manage_boot else 'ironic'}) if not manage_boot: try: task.driver.network.add_inspection_network(task) task.boot.prepare_ramdisk( task, ramdisk_params=CONF.inspector.extra_kernel_params) except Exception as exc: error = _('unable to prepare for inspection: %s') % exc _inspection_error_handler(task, error, raise_exc=True) # NOTE(dtantsur): spawning a short-living green thread so that # we can release a lock as soon as possible and allow # ironic-inspector to operate on the node. eventlet.spawn_n(_start_inspection, task.node.uuid, task.context, manage_boot=manage_boot)def _start_inspection(node_uuid, context, manage_boot=None): _get_client(context).start_introspection(node_uuid, manage_boot=manage_boot) error = _('Failed to start inspection: %s') % exc _inspection_error_handler(task, error) error = _('ironic-inspector inspection failed: %s') % status.error _inspection_error_handler(task, error)"," LOG.debug('Starting inspection for node %(uuid)s using ' 'ironic-inspector', {'uuid': task.node.uuid}) # NOTE(dtantsur): we're spawning a short-living green thread so that # we can release a lock as soon as possible and allow ironic-inspector # to operate on a node. eventlet.spawn_n(_start_inspection, task.node.uuid, task.context)def _start_inspection(node_uuid, context): _get_client(context).start_introspection(node_uuid) task.node.last_error = _('Failed to start inspection: %s') % exc task.process_event('fail') node.last_error = (_('ironic-inspector inspection failed: %s') % status.error) task.process_event('fail')",112,13
openstack%2Fneutron-vpnaas~master~I1d7c3fe61367a7251658a2de3b8c2c86a2c6a853,openstack/neutron-vpnaas,master,I1d7c3fe61367a7251658a2de3b8c2c86a2c6a853,Switch to Ussuri jobs,MERGED,2019-10-25 06:45:58.000000000,2019-11-26 10:48:36.000000000,2019-11-26 10:45:29.000000000,"[{'_account_id': 841}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-25 06:45:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7b5a5a855299921a90100de48148218cc52380a0', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I1d7c3fe61367a7251658a2de3b8c2c86a2c6a853\n'}]",0,691216,7b5a5a855299921a90100de48148218cc52380a0,18,6,1,30384,,,0,"Switch to Ussuri jobs

Change-Id: I1d7c3fe61367a7251658a2de3b8c2c86a2c6a853
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/16/691216/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7b5a5a855299921a90100de48148218cc52380a0,, - openstack-python3-ussuri-jobs-neutron, - openstack-python3-train-jobs-neutron,1,1
openstack%2Freleases~master~Ic0b41a4c23ea293ae2bbbd9ae7d3d3adc180eb34,openstack/releases,master,Ic0b41a4c23ea293ae2bbbd9ae7d3d3adc180eb34,Create feature branch for nats-driver work in oslo.messaging,MERGED,2019-11-25 20:09:02.000000000,2019-11-26 10:41:03.000000000,2019-11-26 10:41:03.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 20:09:02.000000000', 'files': ['deliverables/ussuri/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6f23a48c7a163ae4494e146e7224aead026d02ce', 'message': 'Create feature branch for nats-driver work in oslo.messaging\n\nCreates a temporary branch dedicated to the development of a\nNATS based driver.\n\nSee [0] for the launchpad entry and [1] for the oslo-spec proposal.\n\n[0] https://blueprints.launchpad.net/oslo.messaging/+spec/nats-transport\n[1] https://review.opendev.org/#/c/692784/\n\nChange-Id: Ic0b41a4c23ea293ae2bbbd9ae7d3d3adc180eb34\n'}]",0,695979,6f23a48c7a163ae4494e146e7224aead026d02ce,9,4,1,8770,,,0,"Create feature branch for nats-driver work in oslo.messaging

Creates a temporary branch dedicated to the development of a
NATS based driver.

See [0] for the launchpad entry and [1] for the oslo-spec proposal.

[0] https://blueprints.launchpad.net/oslo.messaging/+spec/nats-transport
[1] https://review.opendev.org/#/c/692784/

Change-Id: Ic0b41a4c23ea293ae2bbbd9ae7d3d3adc180eb34
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/695979/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/oslo.messaging.yaml'],1,6f23a48c7a163ae4494e146e7224aead026d02ce,oslo.messaging-nats-driver,branches: - name: feature/nats-driver location: openstack/oslo.messaging: 37fabdd895f03d51509aa16e6ae4b344fb909287,,4,0
openstack%2Fheat~master~I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87,openstack/heat,master,I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87,WIP - Remove six and python2.7 compatibility,ABANDONED,2019-11-08 10:52:24.000000000,2019-11-26 10:21:32.000000000,,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-08 10:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0ffcf00b5d3222c1cafa4c62f4b5ee55cbaf10c3', 'message': 'WIP - Remove six and python2.7 retro compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 2, 'created': '2019-11-08 11:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b368c5bb54591af9d3624c6d315f87da9c08ca59', 'message': 'WIP - Remove six and python2.7 retro compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 3, 'created': '2019-11-08 13:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5a82522c415a6cfb4b14b2929510e624729c9f4c', 'message': 'WIP - Remove six and python2.7 retro compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 4, 'created': '2019-11-08 14:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f665cee5f02724d9dadc382855bbc63b9a27985f', 'message': 'WIP - Remove six and python2.7 retro compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 5, 'created': '2019-11-08 14:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/faa4af97ad403bdabdefb741080fdd9023d68f16', 'message': 'WIP - Remove six and python2.7 backward compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 6, 'created': '2019-11-08 14:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d870e8c0f83bd1bee0ad372b60b7489f1858119c', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 7, 'created': '2019-11-08 15:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a173004184a7abcaff6f742ba9ce6f0234d5a517', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 8, 'created': '2019-11-08 15:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/584d14916cdae6268c39871b54ff268f7b2ac5e8', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 9, 'created': '2019-11-08 15:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f7ac47cca20bed799f0930b9b92dd8a0d5e0d850', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 10, 'created': '2019-11-08 17:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/23f2bfd09157693eebe10ab494357b7a17653f25', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 11, 'created': '2019-11-08 17:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/02abab12b87c1d5217d91ee03e537adf9f1cfaee', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 12, 'created': '2019-11-13 16:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/249076a317b8977332c2ede6a9cd1d491d6d331c', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 13, 'created': '2019-11-13 16:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/59e681fe291225219b91cf38e67f694465d2fecf', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 14, 'created': '2019-11-14 19:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3e46e35fad9fe75f49aa19a73945ce8fa982e2a0', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 15, 'created': '2019-11-15 11:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/af125bf65652b669b50f5f6cdba8b565c2ec686e', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 16, 'created': '2019-11-15 17:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/df7525b6a2f546db798cfcee38b63c292253d086', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 17, 'created': '2019-11-19 18:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0b02601bc2fecb17283085e03ecdb129e103cbaf', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 18, 'created': '2019-11-19 18:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/53e1ec304affa3e5df476e5474b4c4763ed6210d', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}, {'number': 19, 'created': '2019-11-19 20:43:57.000000000', 'files': ['heat/tests/api/openstack_v1/test_stacks.py', 'heat/tests/test_urlfetch.py', 'heat/tests/openstack/heat/test_swiftsignal.py', 'heat_integrationtests/common/test.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'heat/engine/properties.py', 'heat/api/openstack/v1/stacks.py', 'heat/engine/node_data.py', 'heat/engine/resources/openstack/trove/instance.py', 'heat/api/versions.py', 'heat/engine/resources/aws/ec2/security_group.py', 'heat/tests/openstack/cinder/test_quota.py', 'heat/api/openstack/v1/__init__.py', 'heat/tests/clients/test_sahara_client.py', 'heat/tests/engine/service/test_stack_snapshot.py', 'heat/tests/engine/test_scheduler.py', 'heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/manila/test_security_service.py', 'heat/tests/constraints/test_common_constraints.py', 'heat/tests/openstack/barbican/test_container.py', 'heat/tests/openstack/manila/test_share.py', 'heat/tests/openstack/neutron/test_neutron_subnetpool.py', 'heat/tests/openstack/zaqar/test_subscription.py', 'heat/tests/openstack/heat/test_software_component.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/objects/resource.py', 'heat/scaling/cooldown.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resources/aws/lb/loadbalancer.py', 'heat/objects/stack.py', 'heat/tests/engine/service/test_stack_resources.py', 'heat/tests/clients/test_clients.py', 'heat/engine/dependencies.py', 'heat/tests/test_exception.py', 'heat/tests/test_function.py', 'heat/tests/aws/test_waitcondition.py', 'heat/db/sqlalchemy/filters.py', 'heat/engine/resources/aws/iam/user.py', 'heat/engine/sync_point.py', 'heat/engine/clients/microversion_mixin.py', 'heat/engine/resources/aws/cfn/stack.py', 'heat/tests/openstack/sahara/test_job_binary.py', 'heat/engine/resources/openstack/sahara/job.py', 'heat/tests/openstack/magnum/test_cluster.py', 'heat/engine/resources/openstack/zaqar/queue.py', 'heat/tests/engine/service/test_software_config.py', 'heat/engine/clients/client_plugin.py', 'heat/engine/resources/openstack/monasca/notification.py', 'heat/tests/engine/service/test_stack_adopt.py', 'heat/tests/openstack/senlin/test_cluster.py', 'requirements.txt', 'heat/tests/api/openstack_v1/test_events.py', 'heat/engine/resources/openstack/heat/swiftsignal.py', 'heat/cmd/all.py', 'heat/tests/openstack/barbican/test_order.py', 'heat/engine/function.py', 'heat/api/openstack/v1/events.py', 'heat/tests/engine/service/test_stack_create.py', 'heat/tests/clients/test_nova_client.py', 'heat/tests/openstack/heat/test_deployed_server.py', 'heat/common/plugin_loader.py', 'heat/engine/clients/os/swift.py', 'heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/api/aws/exception.py', 'heat/tests/openstack/mistral/test_workflow.py', 'heat/engine/clients/os/zaqar.py', 'heat/engine/resources/openstack/swift/container.py', 'heat/engine/check_resource.py', 'heat/tests/api/aws/test_api_ec2token.py', 'heat/tests/openstack/zun/test_container.py', 'heat/tests/test_resource.py', 'heat/engine/hot/functions.py', 'heat/engine/template_files.py', 'heat/tests/openstack/cinder/test_volume.py', 'heat/engine/attributes.py', 'heat/common/pluginutils.py', 'heat/tests/openstack/heat/test_remote_stack.py', 'heat/tests/openstack/neutron/test_neutron.py', 'heat/engine/resources/openstack/nova/keypair.py', 'heat/engine/update.py', 'heat/tests/api/test_wsgi.py', 'heat/tests/openstack/neutron/test_neutron_segment.py', 'heat/common/short_id.py', 'heat/engine/resources/openstack/manila/share.py', 'heat/engine/resources/openstack/mistral/external_resource.py', 'heat/tests/test_hacking.py', 'heat/engine/translation.py', 'heat/engine/resources/openstack/heat/structured_config.py', 'heat/engine/resources/template_resource.py', 'heat/tests/openstack/heat/test_software_deployment.py', 'heat/tests/test_validate.py', 'heat/engine/resources/openstack/heat/resource_chain.py', 'heat/engine/output.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/tests/test_constraints.py', 'heat/tests/test_template.py', 'heat/tests/convergence/framework/message_processor.py', 'heat/engine/resources/openstack/heat/none_resource.py', 'heat/tests/openstack/swift/test_container.py', 'heat/tests/openstack/neutron/test_neutron_firewall.py', 'heat/api/openstack/v1/views/views_common.py', 'heat/engine/resources/aws/s3/s3.py', 'heat/tests/autoscaling/test_heat_scaling_group.py', 'heat/tests/aws/test_instance.py', 'heat/tests/clients/test_monasca_client.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/tests/autoscaling/test_scaling_group.py', 'heat/tests/test_attributes.py', 'heat/tests/test_common_auth_plugin.py', 'heat/common/i18n.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/neutron/test_neutron_trunk.py', 'heat/tests/engine/test_plugin_manager.py', 'heat/engine/resources/openstack/aodh/alarm.py', 'heat/tests/api/openstack_v1/test_build_info.py', 'heat/engine/clients/__init__.py', 'heat/tests/test_nested_stack.py', 'heat/engine/resources/openstack/heat/scaling_policy.py', 'heat/tests/openstack/sahara/test_cluster.py', 'heat/tests/openstack/trove/test_cluster.py', 'heat/common/context.py', 'heat/tests/openstack/heat/test_resource_group.py', 'heat/tests/openstack/nova/test_quota.py', 'heat/engine/resources/openstack/magnum/bay.py', 'heat/engine/stack.py', 'heat/tests/engine/tools.py', 'heat/tests/test_noauth.py', 'tools/custom_guidelines.py', 'heat/tests/openstack/neutron/test_neutron_port.py', 'heat/tests/test_environment.py', 'contrib/heat_docker/heat_docker/resources/docker_container.py', 'heat/tests/test_parameters.py', 'heat_integrationtests/functional/test_resource_group.py', 'heat/engine/resources/openstack/designate/recordset.py', 'heat/tests/test_grouputils.py', 'heat/engine/resources/stack_resource.py', 'heat/api/openstack/v1/util.py', 'heat/tests/aws/test_eip.py', 'heat/tests/test_stack_resource.py', 'heat/tests/test_stack_collect_attributes.py', 'heat/tests/aws/test_s3.py', 'heat/common/exception.py', 'heat/engine/resources/openstack/neutron/l2_gateway.py', 'heat/tests/openstack/heat/test_waitcondition.py', 'heat/tests/openstack/nova/test_server.py', 'heat/tests/test_stack.py', 'heat/engine/clients/os/sahara.py', 'heat_integrationtests/functional/test_aws_stack.py', 'heat/engine/environment.py', 'heat/engine/resources/openstack/heat/resource_group.py', 'heat/tests/openstack/cinder/test_volume_type.py', 'heat/engine/scheduler.py', 'heat/engine/software_config_io.py', 'heat/engine/resources/openstack/sahara/templates.py', 'heat/engine/service.py', 'heat/tests/openstack/aodh/test_alarm.py', 'heat/engine/clients/os/nova.py', 'heat/tests/openstack/neutron/test_neutron_network_gateway.py', 'heat/tests/clients/test_neutron_client.py', 'heat/engine/resources/aws/ec2/eip.py', 'heat/engine/resources/aws/ec2/internet_gateway.py', 'heat/tests/autoscaling/test_scaling_policy.py', 'heat/tests/test_crypt.py', 'heat/tests/openstack/zaqar/test_queue.py', 'heat/tests/test_provider_template.py', 'heat/tests/api/openstack_v1/test_views_common.py', 'heat/cmd/manage.py', 'heat/tests/openstack/nova/fakes.py', 'heat/engine/plugin_manager.py', 'heat/engine/resources/openstack/heat/remote_stack.py', 'heat/engine/resources/openstack/heat/test_resource.py', 'heat/engine/resources/openstack/keystone/region.py', 'heat/tests/openstack/heat/test_random_string.py', 'heat/engine/resources/openstack/neutron/floatingip.py', 'heat_integrationtests/functional/test_autoscaling.py', 'heat/tests/test_template_format.py', 'heat/cmd/api.py', 'heat/tests/openstack/neutron/test_neutron_loadbalancer.py', 'heat/engine/resources/openstack/mistral/workflow.py', 'heat/engine/resources/openstack/senlin/cluster.py', 'heat/tests/openstack/sahara/test_templates.py', 'heat/tests/test_translation_rule.py', 'heat/engine/conditions.py', 'heat/tests/api/openstack_v1/test_resources.py', 'heat/engine/template_common.py', 'heat/tests/openstack/magnum/test_cluster_template.py', 'heat/tests/autoscaling/test_lbutils.py', 'heat/common/template_format.py', 'heat/tests/engine/service/test_stack_update.py', 'heat/tests/openstack/senlin/test_node.py', 'heat/tests/openstack/neutron/test_neutron_metering.py', 'heat/engine/resources/openstack/magnum/cluster_template.py', 'heat/tests/openstack/neutron/test_neutron_l2_gateway.py', 'heat/tests/test_signal.py', 'heat/engine/resources/openstack/heat/random_string.py', 'heat/tests/openstack/neutron/test_neutron_vpnservice.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/common/grouputils.py', 'heat/objects/fields.py', 'heat/tests/autoscaling/test_heat_scaling_policy.py', 'heat/tests/test_auth_url.py', 'heat/tests/openstack/nova/test_keypair.py', 'heat/tests/api/openstack_v1/test_actions.py', 'heat/engine/resources/openstack/barbican/order.py', 'heat/tests/test_fault_middleware.py', 'heat/engine/properties_group.py', 'heat/engine/resources/openstack/nova/floatingip.py', 'heat/engine/rsrc_defn.py', 'heat/tests/clients/test_heat_client.py', 'contrib/heat_docker/heat_docker/tests/test_docker_container.py', 'heat/tests/openstack/neutron/test_neutron_router.py', 'heat/engine/resources/alarm_base.py', 'heat/tests/aws/test_volume.py', 'heat/tests/convergence/framework/engine_wrapper.py', 'heat/engine/resources/openstack/neutron/router.py', 'heat/engine/resources/openstack/magnum/cluster.py', 'heat/tests/engine/test_resource_type.py', 'heat/tests/openstack/neutron/test_quota.py', 'heat/common/policy.py', 'heat/engine/resources/signal_responder.py', 'heat/tests/api/cfn/test_api_cfn_v1.py', 'heat/engine/resources/openstack/neutron/extraroute.py', 'heat/engine/cfn/functions.py', 'heat/tests/test_stack_user.py', 'heat/engine/constraint/common_constraints.py', 'heat/tests/db/test_migrations.py', 'heat/tests/test_common_serializers.py', 'heat/tests/openstack/heat/test_resource_chain.py', 'heat/tests/clients/test_keystone_client.py', 'heat/tests/openstack/monasca/test_notification.py', 'heat/tests/openstack/keystone/test_region.py', 'heat/engine/resources/openstack/barbican/container.py', 'heat/engine/resources/wait_condition.py', 'heat/api/openstack/v1/actions.py', 'heat/engine/resources/aws/cfn/wait_condition_handle.py', 'heat/tests/api/openstack_v1/tools.py', 'heat/tests/autoscaling/test_launch_config.py', 'heat/engine/parameters.py', 'heat/tests/test_properties_group.py', 'heat/engine/resources/aws/autoscaling/scaling_policy.py', 'heat/tests/openstack/sahara/test_data_source.py', 'heat/common/environment_util.py', 'heat/engine/stk_defn.py', 'tox.ini', 'heat/tests/test_engine_api_utils.py', 'heat/engine/service_software_config.py', 'heat/tests/openstack/glance/test_image.py', 'heat/common/wsgi.py', 'heat/engine/resources/aws/autoscaling/launch_config.py', 'heat/engine/constraints.py', 'heat/api/middleware/fault.py', 'heat/tests/test_engine_service.py', 'heat/engine/api.py', 'heat/engine/cfn/template.py', 'heat/tests/openstack/neutron/test_neutron_subnet.py', 'heat/common/identifier.py', 'heat/engine/resources/aws/ec2/instance.py', 'heat/common/serializers.py', 'heat/tests/openstack/aodh/test_composite_alarm.py', 'heat/api/openstack/v1/software_configs.py', 'heat/engine/resources/openstack/designate/zone.py', 'heat_integrationtests/functional/test_template_resource.py', 'heat/common/urlfetch.py', 'heat/tests/test_rsrc_defn.py', 'heat/engine/template.py', 'heat/cmd/api_cfn.py', 'heat/tests/test_properties.py', 'heat/engine/resources/openstack/heat/wait_condition.py', 'heat/engine/resources/openstack/neutron/port.py', 'heat/tests/openstack/trove/test_instance.py', 'heat/engine/hot/template.py', 'doc/source/ext/resources.py', 'heat/tests/test_hot.py', 'heat/common/password_gen.py', 'heat/tests/test_support.py', 'heat/tests/openstack/magnum/test_bay.py', 'heat/api/openstack/v1/resources.py', 'heat/tests/test_auth_password.py', 'heat/engine/resources/openstack/heat/autoscaling_group.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/65bca1bc7de94a9ca8ea19cb7b11cb92bcf11428', 'message': 'WIP - Remove six and python2.7 compatibility\n\nChange-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87\n'}]",16,693520,65bca1bc7de94a9ca8ea19cb7b11cb92bcf11428,41,4,19,28522,,,0,"WIP - Remove six and python2.7 compatibility

Change-Id: I923476edaa09ae8ccaa9cd2392ff5e3cf5a0cc87
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/693520/19 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/service_software_config.py', 'heat/engine/properties.py', 'heat/engine/resources/openstack/heat/scaling_policy.py', 'heat/engine/resources/openstack/manila/share.py', 'heat/engine/node_data.py', 'heat/engine/resources/openstack/trove/instance.py', 'heat/engine/resources/signal_responder.py', 'heat/engine/resources/openstack/heat/swiftsignal.py', 'heat/engine/resources/openstack/heat/software_deployment.py', 'heat/cmd/all.py', 'heat/engine/resources/openstack/heat/none_resource.py', 'heat/engine/function.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/cmd/api_cfn.py', 'heat/engine/check_resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resources/stack_resource.py', 'heat/cmd/manage.py', 'heat/engine/resources/openstack/heat/test_resource.py', 'heat/engine/resources/openstack/nova/floatingip.py', 'heat/db/sqlalchemy/filters.py', 'heat/engine/resources/openstack/heat/autoscaling_group.py', 'heat/cmd/api.py', 'heat/engine/resources/openstack/nova/keypair.py']",25,0ffcf00b5d3222c1cafa4c62f4b5ee55cbaf10c3,drop-py27-support, return str(attr_fn[key]),import six return six.text_type(attr_fn[key]),82,110
openstack%2Fmonasca-ui~master~I47be69fe3b53df70ba775bad342d88129de5ff0a,openstack/monasca-ui,master,I47be69fe3b53df70ba775bad342d88129de5ff0a,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:32:38.000000000,2019-11-26 10:19:10.000000000,2019-11-26 10:19:10.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-15 16:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/0293813adf758f01f7e665fce692b817d23ec754', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-ui is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I47be69fe3b53df70ba775bad342d88129de5ff0a\n'}, {'number': 2, 'created': '2019-11-16 16:59:08.000000000', 'files': ['releasenotes/notes/drop-py-2-7-4bed1d8bdb530b1d.yaml', 'test-requirements.txt', 'README.rst', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/4e82a8103e8cc1eac93c17cfeb1b22de6affcf87', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-ui is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I47be69fe3b53df70ba775bad342d88129de5ff0a\n'}]",0,694593,4e82a8103e8cc1eac93c17cfeb1b22de6affcf87,9,3,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-ui is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: I47be69fe3b53df70ba775bad342d88129de5ff0a
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/93/694593/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-4bed1d8bdb530b1d.yaml', 'test-requirements.txt', 'README.rst', '.zuul.yaml', 'setup.cfg', 'tox.ini']",6,0293813adf758f01f7e665fce692b817d23ec754,drop-py27-support,"envlist = py37,py3-{dj111,dj22},pep8","envlist = py27,py37,py3-{dj111,dj22},pep8[testenv:py27] setenv = DJANGO_SETTINGS_MODULE=monitoring.test.settings ",8,11
openstack%2Fkolla-ansible~master~I1dce61a9c40a407882cfcd520ca491b4dee734ae,openstack/kolla-ansible,master,I1dce61a9c40a407882cfcd520ca491b4dee734ae,Delete influxdb admin port,MERGED,2019-09-11 01:27:46.000000000,2019-11-26 10:15:03.000000000,2019-09-11 18:44:41.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 01:27:46.000000000', 'files': ['ansible/roles/influxdb/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/influxdb/templates/influxdb.conf.j2', 'ansible/roles/influxdb/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df6b98d79331593c38213ef45bb94ff622f0d158', 'message': 'Delete influxdb admin port\n\nFrom version 1.3, the web admin interface is no longer available\nin InfluxDB.\nhttps://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal\n\nChange-Id: I1dce61a9c40a407882cfcd520ca491b4dee734ae\n'}]",0,681360,df6b98d79331593c38213ef45bb94ff622f0d158,11,4,1,24061,,,0,"Delete influxdb admin port

From version 1.3, the web admin interface is no longer available
in InfluxDB.
https://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal

Change-Id: I1dce61a9c40a407882cfcd520ca491b4dee734ae
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/681360/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/influxdb/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/influxdb/templates/influxdb.conf.j2', 'ansible/roles/influxdb/tasks/precheck.yml']",4,df6b98d79331593c38213ef45bb94ff622f0d158,abandoned_port,,"- name: Checking free port for Influxdb Admin wait_for: host: ""{{ api_interface_address }}"" port: ""{{ influxdb_admin_port }}"" connect_timeout: 1 timeout: 1 state: stopped when: - container_facts['influxdb'] is not defined - inventory_hostname in groups['influxdb'] ",0,21
openstack%2Fmonasca-transform~master~Iae694c6f91273a898556fb342121024fadb3586e,openstack/monasca-transform,master,Iae694c6f91273a898556fb342121024fadb3586e,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:51:26.000000000,2019-11-26 10:03:14.000000000,2019-11-26 10:03:14.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/305c8d3371a333116dbde7d7f8595250af381ad3', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-transform is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Iae694c6f91273a898556fb342121024fadb3586e\n'}, {'number': 2, 'created': '2019-11-16 16:53:40.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-297320bc1d9f0280.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/79957946b512651710c6483d5455ac336121b888', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-transform is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\n\nChange-Id: Iae694c6f91273a898556fb342121024fadb3586e\n'}]",0,694597,79957946b512651710c6483d5455ac336121b888,8,2,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-transform is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/

Change-Id: Iae694c6f91273a898556fb342121024fadb3586e
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/97/694597/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-297320bc1d9f0280.yaml', 'setup.cfg', 'tox.ini']",6,305c8d3371a333116dbde7d7f8595250af381ad3,drop-py27-support,"envlist = py37,pep8basepython = python3.6","envlist = py27,py37,pep8basepython = python2.7",9,17
openstack%2Frequirements~master~Id513c51c5531cfdd8ca2e544139ac4d76c424309,openstack/requirements,master,Id513c51c5531cfdd8ca2e544139ac4d76c424309,Updated from generate-constraints,MERGED,2019-11-26 06:19:57.000000000,2019-11-26 09:55:16.000000000,2019-11-26 09:52:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 06:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0806a0c277f8d2aabaa7ac52c0e17694ad660362', 'message': 'Updated from generate-constraints\n\nChange-Id: Id513c51c5531cfdd8ca2e544139ac4d76c424309\n'}, {'number': 2, 'created': '2019-11-26 06:48:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ae4b7ea69b71bb7d750c4353e989610653b5ff38', 'message': 'Updated from generate-constraints\n\nChange-Id: Id513c51c5531cfdd8ca2e544139ac4d76c424309\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,696018,ae4b7ea69b71bb7d750c4353e989610653b5ff38,8,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Id513c51c5531cfdd8ca2e544139ac4d76c424309
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/696018/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0806a0c277f8d2aabaa7ac52c0e17694ad660362,openstack/requirements/constraints,osprofiler===2.9.0lxml===4.4.2networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'gunicorn===20.0.3;python_version=='3.4' gunicorn===20.0.3;python_version=='3.5' gunicorn===20.0.3;python_version=='3.6' gunicorn===20.0.3;python_version=='3.7'tinyrpc===1.0.4boto3===1.10.27psutil===5.6.6protobuf===3.11.0botocore===1.13.27Paste===3.2.3icalendar===4.0.4,osprofiler===2.8.2lxml===4.4.1networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'gunicorn===20.0.2;python_version=='3.4' gunicorn===20.0.2;python_version=='3.5' gunicorn===20.0.2;python_version=='3.6' gunicorn===20.0.2;python_version=='3.7'tinyrpc===1.0.3boto3===1.10.8psutil===5.6.5protobuf===3.10.0botocore===1.13.8Paste===3.2.2icalendar===4.0.3,17,17
openstack%2Fglance~stable%2Fstein~I2dee048b71e3758208fae438423cceae661c8f00,openstack/glance,stable/stein,I2dee048b71e3758208fae438423cceae661c8f00,Dropping the py35 testing,MERGED,2019-11-20 11:28:42.000000000,2019-11-26 09:55:14.000000000,2019-11-26 09:52:29.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-11-20 11:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/010e7d245e7e98ef7c55315fc23b9cf8b8970eba', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nStory: #2005924\nTask: #34208\n\nChange-Id: I2dee048b71e3758208fae438423cceae661c8f00\n(cherry picked from commit b7e9db70465f19d4a4b008a93147a0649ca36535)\n'}, {'number': 2, 'created': '2019-11-20 11:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e27af228ca6a396ecb4cccd9547884720e253efb', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nStory: #2005924\nTask: #34208\n\nChange-Id: I2dee048b71e3758208fae438423cceae661c8f00\n(cherry picked from commit b7e9db70465f19d4a4b008a93147a0649ca36535)\n'}, {'number': 3, 'created': '2019-11-22 09:25:43.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/a6aa296225048c41f68a39b984e81f19db2c5a20', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nStory: #2005924\nTask: #34208\n\nCherry-pick notes (stein):\n- keep python 3.6.\nChange-Id: I2dee048b71e3758208fae438423cceae661c8f00\n(cherry picked from commit b7e9db70465f19d4a4b008a93147a0649ca36535)\n'}]",1,695177,a6aa296225048c41f68a39b984e81f19db2c5a20,17,5,3,10459,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Story: #2005924
Task: #34208

Cherry-pick notes (stein):
- keep python 3.6.
Change-Id: I2dee048b71e3758208fae438423cceae661c8f00
(cherry picked from commit b7e9db70465f19d4a4b008a93147a0649ca36535)
",git fetch https://review.opendev.org/openstack/glance refs/changes/77/695177/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,010e7d245e7e98ef7c55315fc23b9cf8b8970eba,,"envlist = functional-py37,py37,py27,functional,pep8","envlist = py36,functional-py36,py35,functional-py35,py27,functional,pep8[testenv:py35] basepython = python3.5 commands = ostestr --slowest {posargs} [testenv:functional-py35] basepython = python3.5 setenv = TEST_PATH = ./glance/tests/functional ignore_errors = True whitelist_externals = bash commands = stestr run --blacklist-file ./broken-functional-py3-ssl-tests.txt {posargs} ",2,18
openstack%2Fneutron-lib~master~I186a8f42e1d387bfb31025b0c5c224a86d00cd6e,openstack/neutron-lib,master,I186a8f42e1d387bfb31025b0c5c224a86d00cd6e,Remove 'interconnection' API extension definition (neutron-interconnection),MERGED,2019-11-15 07:57:16.000000000,2019-11-26 09:45:33.000000000,2019-11-26 09:44:17.000000000,"[{'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 19990}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27546}]","[{'number': 1, 'created': '2019-11-15 07:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4ae74f794f0f6cc8896d4bb3f09d65694bce5f60', 'message': 'Revert ""\'interconnection\' API extension definition (neutron-interconnection)""\n\nThis reverts commit 888a28d5982a763d8fc8f8211b3c00f763e8b099.\n\nNeutron-interconnection project has no activity since very long time. There is no any implementation done in the repo so far.\nSo during the Shanghai PTG, we agreed that we will drop neutron-inteconnection project from stadium projects list and remove its api-ref from neutron-lib.\n\nChange-Id: I186a8f42e1d387bfb31025b0c5c224a86d00cd6e\n'}, {'number': 2, 'created': '2019-11-15 07:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e504316eed2421ebd9b5e80487011fed0e8d1a40', 'message': 'Revert ""\'interconnection\' API extension definition (neutron-interconnection)""\n\nThis reverts commit 888a28d5982a763d8fc8f8211b3c00f763e8b099.\n\nNeutron-interconnection project has no activity since very long time. There is no any implementation done in the repo so far.\nSo during the Shanghai PTG, we agreed that we will drop neutron-inteconnection project from stadium projects list and remove its api-ref from neutron-lib.\n\nChange-Id: I186a8f42e1d387bfb31025b0c5c224a86d00cd6e\n'}, {'number': 3, 'created': '2019-11-18 13:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/013bc38aaa81a5eb980afe566941cf315b5db76a', 'message': 'Revert ""\'interconnection\' API extension definition (neutron-interconnection)""\n\nThis reverts commit 888a28d5982a763d8fc8f8211b3c00f763e8b099.\n\nNeutron-interconnection project has no activity since very long time.\nThere is no any implementation done in the repo so far.\nSo during the Shanghai PTG, we agreed that we will drop\nneutron-inteconnection project from stadium projects list and\nremove its api-ref from neutron-lib.\n\nChange-Id: I186a8f42e1d387bfb31025b0c5c224a86d00cd6e\n'}, {'number': 4, 'created': '2019-11-20 11:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6d61c9ea98737bc97ceb8294e7f0900505c3bc25', 'message': 'Revert ""\'interconnection\' API extension definition (neutron-interconnection)""\n\nThis reverts commit 888a28d5982a763d8fc8f8211b3c00f763e8b099.\n\nNeutron-interconnection project has no activity since very long time.\nThere is no any implementation done in the repo so far.\nSo during the Shanghai PTG, we agreed that we will drop\nneutron-inteconnection project from stadium projects list and\nremove its api-ref from neutron-lib.\n\nChange-Id: I186a8f42e1d387bfb31025b0c5c224a86d00cd6e\n'}, {'number': 5, 'created': '2019-11-20 11:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4d87df2f924daa38f0f5bd79ddfa984eea256db6', 'message': ""Remove 'interconnection' API extension definition (neutron-interconnection)\n\nNeutron-interconnection project has no activity since very long time.\nThere is no any implementation done in the repo so far.\nSo during the Shanghai PTG, we agreed that we will drop\nneutron-inteconnection project from stadium projects list and\nremove its api-ref from neutron-lib.\n\nThis partially reverts commit 888a28d5982a763d8fc8f8211b3c00f763e8b099.\nIt don't rever original release note and adds new release note about\nremoval of interconnection API from neutron-lib.\n\nChange-Id: I186a8f42e1d387bfb31025b0c5c224a86d00cd6e\n""}, {'number': 6, 'created': '2019-11-21 21:36:16.000000000', 'files': ['api-ref/source/v2/samples/interconnection/interconnection-create-request.json', 'api-ref/source/v2/samples/interconnection/interconnection-update-request.json', 'api-ref/source/v2/samples/interconnection/interconnection-update-response.json', 'api-ref/source/v2/samples/interconnection/interconnection-show-response.json', 'releasenotes/notes/remove-neutron-interconnection-api-definition-4ff88c583f2fe47b.yaml', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/interconnection.inc', 'neutron_lib/api/definitions/base.py', 'neutron_lib/tests/unit/api/definitions/test_interconnection.py', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/interconnection/interconnection-create-response.json', 'api-ref/source/v2/samples/interconnection/interconnections-list-response.json', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/interconnection.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1fc1f0eae479ff9e626261964e985ffc6395f479', 'message': ""Remove 'interconnection' API extension definition (neutron-interconnection)\n\nNeutron-interconnection project has no activity since very long time.\nThere is no any implementation done in the repo so far.\nSo during the Shanghai PTG, we agreed that we will drop\nneutron-inteconnection project from stadium projects list and\nremove its api-ref from neutron-lib.\n\nThis partially reverts commit 888a28d5982a763d8fc8f8211b3c00f763e8b099.\nIt don't rever original release note and adds new release note about\nremoval of interconnection API from neutron-lib.\n\nChange-Id: I186a8f42e1d387bfb31025b0c5c224a86d00cd6e\n""}]",13,694466,1fc1f0eae479ff9e626261964e985ffc6395f479,28,12,6,11975,,,0,"Remove 'interconnection' API extension definition (neutron-interconnection)

Neutron-interconnection project has no activity since very long time.
There is no any implementation done in the repo so far.
So during the Shanghai PTG, we agreed that we will drop
neutron-inteconnection project from stadium projects list and
remove its api-ref from neutron-lib.

This partially reverts commit 888a28d5982a763d8fc8f8211b3c00f763e8b099.
It don't rever original release note and adds new release note about
removal of interconnection API from neutron-lib.

Change-Id: I186a8f42e1d387bfb31025b0c5c224a86d00cd6e
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/66/694466/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/interconnection-api-def-cbec5e4f77852fe7.yaml', 'api-ref/source/v2/samples/interconnection/interconnection-create-request.json', 'api-ref/source/v2/samples/interconnection/interconnection-update-request.json', 'api-ref/source/v2/samples/interconnection/interconnection-update-response.json', 'api-ref/source/v2/samples/interconnection/interconnection-show-response.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/interconnection.inc', 'neutron_lib/api/definitions/base.py', 'neutron_lib/tests/unit/api/definitions/test_interconnection.py', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/interconnection/interconnection-create-response.json', 'api-ref/source/v2/samples/interconnection/interconnections-list-response.json', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/interconnection.py']",14,4ae74f794f0f6cc8896d4bb3f09d65694bce5f60,neutron-interconnection-retire,,"# All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import l3 from neutron_lib.db import constants as db_const # The alias of the extension. ALIAS = 'interconnection' # Whether or not this extension is simply signaling behavior to the user # or it actively modifies the attribute map. IS_SHIM_EXTENSION = False # Whether the extension is marking the adoption of standardattr model for # legacy resources, or introducing new standardattr attributes. False or # None if the standardattr model is adopted since the introduction of # resource extension. # If this is True, the alias for the extension should be prefixed with # 'standard-attr-'. IS_STANDARD_ATTR_EXTENSION = False # The name of the extension. NAME = 'Neutron-Neutron Interconnection' # The description of the extension. DESCRIPTION = ""Provides support for Neutron-Neutron Interconnections"" # A timestamp of when the extension was introduced. UPDATED_TIMESTAMP = ""2019-01-14T16:30:00-00:00"" API_PREFIX = 'interconnection' # The specific resources and/or attributes for the extension (optional). RESOURCE_NAME = 'interconnection' COLLECTION_NAME = 'interconnections' NETWORK_L2 = 'network_l2' NETWORK_L3 = 'network_l3' VALID_TYPES = [l3.ROUTER, NETWORK_L2, NETWORK_L3] # The resource attribute map for the extension. RESOURCE_ATTRIBUTE_MAP = { COLLECTION_NAME: { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'primary_key': True}, 'project_id': {'allow_post': True, 'allow_put': False, 'validate': { 'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'required_by_policy': True, 'is_filter': True, 'is_sort_key': True, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': True, 'default': '', 'validate': {'type:string': db_const.NAME_FIELD_SIZE}, 'is_filter': True, 'is_sort_key': True, 'is_visible': True}, 'type': {'allow_post': True, 'allow_put': False, 'validate': {'type:values': VALID_TYPES}, 'is_filter': True, 'is_sort_key': True, 'is_visible': True}, 'state': {'allow_post': False, 'allow_put': False, 'is_filter': True, 'is_sort_key': True, 'is_visible': True}, 'local_resource_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, 'remote_resource_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, 'remote_keystone': {'allow_post': True, 'allow_put': False, 'validate': {'type:string_or_none': None}, 'is_visible': True}, 'remote_region': {'allow_post': True, 'allow_put': False, 'validate': {'type:string_or_none': None}, 'is_visible': True}, 'remote_interconnection_id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid_or_none': None}, 'is_visible': True}, 'local_parameters': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'remote_parameters': {'allow_post': False, 'allow_put': False, 'is_visible': True} }, } # The subresource attribute map for the extension. It adds child resources # to main extension's resource. The subresource map must have a parent and # a parameters entry. If an extension does not need such a map, None can # be specified (mandatory). SUB_RESOURCE_ATTRIBUTE_MAP = None # The action map: it associates verbs with methods to be performed on # the API resource. ACTION_MAP = { RESOURCE_NAME: { 'refresh': 'PUT' } } # The action status. ACTION_STATUS = { } # The list of required extensions. REQUIRED_EXTENSIONS = [ l3.ALIAS ] # The list of optional extensions. OPTIONAL_EXTENSIONS = [ ] ",0,583
openstack%2Fmonasca-persister~master~I628603dadcaabbe24d4d166dfb47d4413c9dbaac,openstack/monasca-persister,master,I628603dadcaabbe24d4d166dfb47d4413c9dbaac,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:07:20.000000000,2019-11-26 09:35:13.000000000,2019-11-26 09:32:38.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/e5ba19abf0c6877056a8afbc7ff243b1b2c2109c', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-persister is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I628603dadcaabbe24d4d166dfb47d4413c9dbaac\n'}, {'number': 2, 'created': '2019-11-15 16:12:25.000000000', 'files': ['test-requirements.txt', 'README.rst', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-048b2fafecb6f6af.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/29c6c96d0926551759d1eca17cbe5073877fecbb', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-persister is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I628603dadcaabbe24d4d166dfb47d4413c9dbaac\n'}]",0,694588,29c6c96d0926551759d1eca17cbe5073877fecbb,9,3,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-persister is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: I628603dadcaabbe24d4d166dfb47d4413c9dbaac
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/88/694588/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-048b2fafecb6f6af.yaml', 'setup.cfg', 'tox.ini']",5,e5ba19abf0c6877056a8afbc7ff243b1b2c2109c,drop-py27-support,"envlist = py37,pep8","envlist = py27,py37,pep8",9,10
openstack%2Fnova~master~I7a43bdd424339a94452375309d6c5c70442717cf,openstack/nova,master,I7a43bdd424339a94452375309d6c5c70442717cf,Ensure volume filesystems are mounted on resume,NEW,2019-09-24 11:54:57.000000000,2019-11-26 09:32:39.000000000,,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-24 11:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4c186dbbf21ef47e9bf1a2876f047c198ac15a6', 'message': 'Ensure volume filesystems are mounted on resume\n\nWhen some filesystem under /var/lib/nova/mnt was unmounted between\nsuspend and resume, the resume was failing as it couldn\'t find volume\nimages. This could happen e.g. if the compute node with suspended\ninstances is rebooted during upgrade.\n\nAdded _connect_all_volumes() function calls _get_guest_storage_config()\nwhich ensures that all volumes are connected before returing the config\nobject. Volume ""connect"" function calls required mount commands for\nvolume types which use it.\n\nChange-Id: I7a43bdd424339a94452375309d6c5c70442717cf\nCloses-Bug: 1845199\n'}, {'number': 2, 'created': '2019-09-25 07:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/778c03fc1597e14f457888eb18548ebb8d626317', 'message': 'Ensure volume filesystems are mounted on resume\n\nWhen some filesystem under /var/lib/nova/mnt was unmounted between\nsuspend and resume, the resume was failing as it couldn\'t find volume\nimages. This could happen e.g. if the compute node with suspended\ninstances is rebooted during upgrade.\n\nAdded _connect_all_volumes() function calls _get_guest_storage_config()\nwhich ensures that all volumes are connected before returing the config\nobject. Volume ""connect"" function calls required mount commands for\nvolume types which use it.\n\nChange-Id: I7a43bdd424339a94452375309d6c5c70442717cf\nCloses-Bug: 1845199\n'}, {'number': 3, 'created': '2019-09-25 13:25:29.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8be60b8027ac6b76147649d6136a6a8e3a4c4164', 'message': 'Ensure volume filesystems are mounted on resume\n\nWhen some filesystem under /var/lib/nova/mnt was unmounted between\nsuspend and resume, the resume was failing as it couldn\'t find volume\nimages. This could happen e.g. if the compute node with suspended\ninstances is rebooted during upgrade.\n\nAdded _connect_all_volumes() function calls _get_guest_storage_config()\nwhich ensures that all volumes are connected before returing the config\nobject. Volume ""connect"" function calls required mount commands for\nvolume types which use it.\n\nChange-Id: I7a43bdd424339a94452375309d6c5c70442717cf\nCloses-Bug: 1845199\n'}]",2,684290,8be60b8027ac6b76147649d6136a6a8e3a4c4164,36,15,3,20312,,,0,"Ensure volume filesystems are mounted on resume

When some filesystem under /var/lib/nova/mnt was unmounted between
suspend and resume, the resume was failing as it couldn't find volume
images. This could happen e.g. if the compute node with suspended
instances is rebooted during upgrade.

Added _connect_all_volumes() function calls _get_guest_storage_config()
which ensures that all volumes are connected before returing the config
object. Volume ""connect"" function calls required mount commands for
volume types which use it.

Change-Id: I7a43bdd424339a94452375309d6c5c70442717cf
Closes-Bug: 1845199
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/684290/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,d4c186dbbf21ef47e9bf1a2876f047c198ac15a6,bug/1845199," def _connect_all_volumes(self, instance, network_info, block_device_info=None): """"""(ab)use _get_guest_storage_config to ensure all volumes are connected (and filesystems are mounted)."""""" disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance, instance.image_meta, block_device_info) os_type = (fields.VMMode.get_from_instance(instance) or self._get_guest_os_type(CONF.libvirt.virt_type)) self._get_guest_storage_config(nova_context.get_admin_context(), instance, instance.image_meta, disk_info, False, block_device_info, instance.flavor, os_type) self._connect_all_volumes(instance, network_info, block_device_info) ",,17,0
openstack%2Fnova~master~Icfef3f6e63f927f1783c7c966c89b34912ed68ab,openstack/nova,master,Icfef3f6e63f927f1783c7c966c89b34912ed68ab,compute: reset instance events on reload,NEW,2017-01-13 15:13:29.000000000,2019-11-26 09:32:05.000000000,,"[{'_account_id': 3}, {'_account_id': 2062}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7016}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11351}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14892}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-01-13 15:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6edac912d22f8742664862bb68ab195ea24ec0bb', 'message': 'compute: reset instance events\n\nWhen the compute manager service get reloaded the instance events get\ncancelled and put in a status where it does not accept any new events.\n\nThis commit re-set it in a way it can handle new events\n\nChange-Id: Icfef3f6e63f927f1783c7c966c89b34912ed68ab\n'}, {'number': 2, 'created': '2017-08-28 08:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/282c771b217b72a0bc582d7bd06bdf74b3a6f16a', 'message': 'compute: reset instance events\n\nWhen the compute manager service get reloaded the instance events get\ncancelled and put in a status where it does not accept any new events.\n\nThis commit re-set it in a way it can handle new events\n\nChange-Id: Icfef3f6e63f927f1783c7c966c89b34912ed68ab\n'}, {'number': 3, 'created': '2017-09-06 11:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fefa332040e9ecf214ebe7aff3812f90edeb279', 'message': 'compute: reset instance events\n\nWhen the compute manager service get reloaded the instance events get\ncancelled and put in a status where it does not accept any new events.\n\nThis commit re-set it in a way it can handle new events\n\nClose-Bug: bug/1715374\nChange-Id: Icfef3f6e63f927f1783c7c966c89b34912ed68ab\n'}, {'number': 4, 'created': '2017-09-06 11:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31ec169659641cd1abafb06a347d9f159ee55db9', 'message': 'compute: reset instance events\n\nWhen the compute manager service get reloaded the instance events get\ncancelled and put in a status where it does not accept any new events.\n\nThis commit re-set it in a way it can handle new events\n\nClose-Bug: #1715374\nChange-Id: Icfef3f6e63f927f1783c7c966c89b34912ed68ab\n'}, {'number': 5, 'created': '2018-08-22 15:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b138fdaf94e865042fd6ef9bf2177c16aea75f9', 'message': 'compute: reset instance events\n\nWhen the compute manager service get reloaded the instance events get\ncancelled and put in a status where it does not accept any new events.\n\nThis commit re-set it in a way it can handle new events\n\nClose-Bug: #1715374\nChange-Id: Icfef3f6e63f927f1783c7c966c89b34912ed68ab\n'}, {'number': 6, 'created': '2019-01-28 07:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d96931756327d9418cbf0b001e7a8d424862e48', 'message': 'compute: reset instance events on reload\n\nWhen the compute manager service get reloaded (e.g. after receiving a\nSIGHUP) the cleanup_host() code will cancel all current instance events\nand put service into a state where it blocks any new events. This means\nthat after processing a SIGHUP nova-compute is not fully working\nanymore.\n\nThis commit fixes that, by reinstantiating the instance event handling\nduring the service reload so that new incoming events are taken care of\nagain.\n\nCloses-Bug: #1715374\nCo-Authored-By: Ralf Haferkamp <rhafer@suse.de>\nChange-Id: Icfef3f6e63f927f1783c7c966c89b34912ed68ab\n'}, {'number': 7, 'created': '2019-02-12 15:34:39.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8151732961bd5dcd51eca5435d6c6730b258250a', 'message': 'compute: reset instance events on reload\n\nWhen the compute manager service get reloaded (e.g. after receiving a\nSIGHUP) the cleanup_host() code will cancel all current instance events\nand put service into a state where it blocks any new events. This means\nthat after processing a SIGHUP nova-compute is not fully working\nanymore.\n\nThis commit fixes that, by reinstantiating the instance event handling\nduring the service reload so that new incoming events are taken care of\nagain.\n\nCloses-Bug: #1715374\nCo-Authored-By: Ralf Haferkamp <rhafer@suse.de>\nChange-Id: Icfef3f6e63f927f1783c7c966c89b34912ed68ab\n'}]",17,420026,8151732961bd5dcd51eca5435d6c6730b258250a,147,28,7,7730,,,0,"compute: reset instance events on reload

When the compute manager service get reloaded (e.g. after receiving a
SIGHUP) the cleanup_host() code will cancel all current instance events
and put service into a state where it blocks any new events. This means
that after processing a SIGHUP nova-compute is not fully working
anymore.

This commit fixes that, by reinstantiating the instance event handling
during the service reload so that new incoming events are taken care of
again.

Closes-Bug: #1715374
Co-Authored-By: Ralf Haferkamp <rhafer@suse.de>
Change-Id: Icfef3f6e63f927f1783c7c966c89b34912ed68ab
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/420026/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,6edac912d22f8742664862bb68ab195ea24ec0bb,bug/1715374, self.instance_events = InstanceEvents(),,10,5
openstack%2Fnova~master~I86c16fbb497f570d36af5c3b3d079f43d53fdfbf,openstack/nova,master,I86c16fbb497f570d36af5c3b3d079f43d53fdfbf,Add a name for the automatically created volume,NEW,2019-05-20 11:34:14.000000000,2019-11-26 09:31:58.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23676}, {'_account_id': 26515}, {'_account_id': 27614}, {'_account_id': 30469}]","[{'number': 1, 'created': '2019-05-20 11:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85b4589e391a918b1484908fd02778dc65c78260', 'message': 'Add a name for the automatically created volume\n\nIn the process of creating an instance from a snapshot, the\nproblem of passing the specified name to resolve the volume\nwithout a name is created when the volume is created.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n'}, {'number': 2, 'created': '2019-05-28 02:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22be6e59cff81d3fa7ccb33237efe17a9f4c460d', 'message': 'Add a name for the automatically created volume\n\nIn the process of creating an instance from a snapshot, the\nproblem of passing the specified name to resolve the volume\nwithout a name is created when the volume is created.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n'}, {'number': 3, 'created': '2019-05-29 03:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c127643d225d014816896bfa2f92ad81aad69fe0', 'message': 'Add a name for the automatically created volume\n\nIn the process of creating an instance from a snapshot, the\nproblem of passing the specified name to resolve the volume\nwithout a name is created when the volume is created.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n'}, {'number': 4, 'created': '2019-05-29 08:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91d9f06a55e4d6e1ffa3b7c883ee72d39c830e9c', 'message': 'Add a name for the automatically created volume\n\nIn the process of creating an instance from a snapshot, the\nproblem of passing the specified name to resolve the volume\nwithout a name is created when the volume is created.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n'}, {'number': 5, 'created': '2019-05-30 06:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ac6f6d30c0433eeeb4fdb068cd0ae6d40fe03f9', 'message': 'Add a name for the automatically created volume\n\nIn the process of creating an instance from a snapshot, the\nproblem of passing the specified name to resolve the volume\nwithout a name is created when the volume is created.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n'}, {'number': 6, 'created': '2019-06-17 08:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1bcf663ef0afd249bfdbc1c1e438e90762441ce', 'message': 'Add a name for the automatically created volume\n\nIn the process of creating an instance from a snapshot, the\nproblem of passing the specified name to resolve the volume\nwithout a name is created when the volume is created.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n'}, {'number': 7, 'created': '2019-06-17 08:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5a59fe507072517597239f918b5939809e5e699', 'message': 'Add a name for the automatically created volume\n\nIn the process of creating an instance from a snapshot, the\nproblem of passing the specified name to resolve the volume\nwithout a name is created when the volume is created.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n'}, {'number': 8, 'created': '2019-06-20 09:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cac951eebdb174d9bc21b8ab84cd84c9dce11da', 'message': 'Add a name for the automatically created volume\n\nIn the process of creating an instance from a snapshot, the\nproblem of passing the specified name to resolve the volume\nwithout a name is created when the volume is created.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n'}, {'number': 9, 'created': '2019-07-09 06:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07f91ad54232459ddef1be99947a679131c98ccb', 'message': ""Add a name for the automatically created volume\n\nThe virtual machine volume created from the snapshot or image has\nno name when boot from volume. Now add a name for these\nautomatically created volumes. The system disk is\ninstance.uuid + 'system-vol', and the other disk is\ninstance.uuid + 'disk-vol'.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n""}, {'number': 10, 'created': '2019-07-12 11:09:39.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d747e8ba1c4a469a19d03541431a87abfd29d272', 'message': ""Add a name for the automatically created volume\n\nThe virtual machine volume created from the snapshot or image has\nno name when boot from volume. Now add a name for these\nautomatically created volumes. The system disk is\ninstance.uuid + 'system-vol', and the other disk is\ninstance.uuid + 'disk-vol'.\n\nChange-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf\n""}]",14,660096,d747e8ba1c4a469a19d03541431a87abfd29d272,108,18,10,30469,,,0,"Add a name for the automatically created volume

The virtual machine volume created from the snapshot or image has
no name when boot from volume. Now add a name for these
automatically created volumes. The system disk is
instance.uuid + 'system-vol', and the other disk is
instance.uuid + 'disk-vol'.

Change-Id: I86c16fbb497f570d36af5c3b3d079f43d53fdfbf
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/660096/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,85b4589e391a918b1484908fd02778dc65c78260,add_volume_name,"import re if re.match('/dev/(x?v|s|h)da$', self['mount_device']): vol_name = 'Root Disk for ' + str(instance.display_name) else: vol_name = 'Data Disk for ' + str(instance.display_name) vol = volume_api.create(context, self.volume_size, vol_name, '',"," vol = volume_api.create(context, self.volume_size, '', '',",6,1
openstack%2Fcinder~master~I4c63ca5dc10b7137f1d9b7c2963027d7f8228622,openstack/cinder,master,I4c63ca5dc10b7137f1d9b7c2963027d7f8228622,Update volume status during volume migration.,NEW,2019-02-24 20:49:47.000000000,2019-11-26 09:31:12.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 29885}]","[{'number': 1, 'created': '2019-02-24 20:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ccf9281515f60f6f44186e4962deaa92d6a59718', 'message': ""Update volume status during volume migration.\n\nThis code fixs problem happening during volume migration when Nova doesn't run Cinder's callback migrate_volume_completion after performing operations with the volume.\nThis problem doens't happen when volume retyping operation was called. So, it was fixed by adding additional missing status 'migrating' and it works similarly to 'retyping'.\n\nChange-Id: I4c63ca5dc10b7137f1d9b7c2963027d7f8228622\n""}, {'number': 2, 'created': '2019-02-25 07:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1d75bc19058a24cb400c1dca8840cb6a84a3186', 'message': ""Update volume status during volume migration.\n\nThis code fixs problem happening during volume migration when Nova\ndoesn't run Cinder's callback migrate_volume_completion after performing\noperations with the volume.\nThis problem doens't happen when volume retyping operation was called.\nSo, it was fixed by adding additional missing status 'migrating' and it\nworks similarly to 'retyping'.\n\nCloses-Bug: #1797181\n\nChange-Id: I4c63ca5dc10b7137f1d9b7c2963027d7f8228622\n""}, {'number': 3, 'created': '2019-03-24 19:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16d61cbc3b4ac1675bafd5a00188315e869a33ed', 'message': ""Update volume status during volume migration.\n\nThis code fixs problem happening during volume migration when Nova doesn't run Cinder's callback migrate_volume_completion after performing operations with the volume.\nThis problem doens't happen when volume retyping operation was called. So, it was fixed by adding additional missing status 'migrating' and it works similarly to 'retyping'.\n\nChange-Id: I4c63ca5dc10b7137f1d9b7c2963027d7f8228622\n""}, {'number': 4, 'created': '2019-04-04 11:39:02.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/objects/fields.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/volume/drivers/zfssa/zfssanfs.py', 'cinder/tests/unit/volume/test_volume_migration.py', 'cinder/tests/unit/volume/drivers/test_zfssa.py', 'cinder/volume/api.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2626f4170dde9e2df9b5623b79d8f179933a85b2', 'message': ""Update volume status during volume migration.\n\nThis code fixs problem happening during volume migration when Nova\ndoesn't run Cinder's callback migrate_volume_completion after performing\noperations with the volume.\n\nThis problem doens't happen when volume retyping operation was called.\nSo, it was fixed by adding additional missing status 'migrating' and it\nworks similarly to 'retyping'.\n\nChange-Id: I4c63ca5dc10b7137f1d9b7c2963027d7f8228622\n""}]",14,638995,2626f4170dde9e2df9b5623b79d8f179933a85b2,138,49,4,29885,,,0,"Update volume status during volume migration.

This code fixs problem happening during volume migration when Nova
doesn't run Cinder's callback migrate_volume_completion after performing
operations with the volume.

This problem doens't happen when volume retyping operation was called.
So, it was fixed by adding additional missing status 'migrating' and it
works similarly to 'retyping'.

Change-Id: I4c63ca5dc10b7137f1d9b7c2963027d7f8228622
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/638995/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/objects/fields.py', 'cinder/volume/drivers/zfssa/zfssanfs.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/api.py', 'cinder/volume/drivers/lvm.py']",10,ccf9281515f60f6f44186e4962deaa92d6a59718,bug/1797181," if volume['status'] not in ('available', 'retyping', 'maintenance', 'migrating'): LOG.debug( 'Only available volumes can be migrated using backend ' 'assisted migration. Falling back to generic migration.')", if volume['status'] != 'available':,33,14
openstack%2Fmonasca-kibana-plugin~master~I1078f185f07302139626e93adc9821f958231820,openstack/monasca-kibana-plugin,master,I1078f185f07302139626e93adc9821f958231820,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:51:28.000000000,2019-11-26 09:09:37.000000000,2019-11-26 09:09:36.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:51:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-kibana-plugin/commit/d26887599b50f200ce59df21fe2e1142bdc9a74c', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-kibana-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I1078f185f07302139626e93adc9821f958231820\n'}]",0,694598,d26887599b50f200ce59df21fe2e1142bdc9a74c,6,2,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-kibana-plugin is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I1078f185f07302139626e93adc9821f958231820
",git fetch https://review.opendev.org/openstack/monasca-kibana-plugin refs/changes/98/694598/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d26887599b50f200ce59df21fe2e1142bdc9a74c,drop-py27-support,, - monascalog-python2-tempest: voting: false,0,2
openstack%2Fnetworking-odl~master~Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35,openstack/networking-odl,master,Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35,Remove networking-odl python2 jobs,MERGED,2019-10-10 11:18:47.000000000,2019-11-26 09:07:55.000000000,2019-11-26 09:05:00.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 11:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e9f66fb696109c07ba4b38bd9113ca8404518a68', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\npy27 unittest tox target is kept because the job is defined globally for all\nprojects. We can remove the py27 tox target once the job is removed.\nThe openstack-tox-py27 zuul job is kept for the required projects list,\nthis will be removed together with the tox target.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}, {'number': 2, 'created': '2019-10-14 10:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/293327def8a6a40c3d79274a055ff78fdc258cb2', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\npy27 unittest tox target is kept because the job is defined globally for all\nprojects. We can remove the py27 tox target once the job is removed.\nThe openstack-tox-py27 zuul job is kept for the required projects list,\nthis will be removed together with the tox target.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}, {'number': 3, 'created': '2019-10-15 12:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a9c22bd3587b6aadde9df213291789a24a0b7c92', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}, {'number': 4, 'created': '2019-10-15 12:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a4b717813f3f6b72855afec30be0d7d3853bf6d7', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}, {'number': 5, 'created': '2019-11-14 12:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e42e4827d84850e4bb54550a5fec202ba1b13442', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}, {'number': 6, 'created': '2019-11-15 14:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d173c8b502c89f26f328a794bc7e9da005dbd3bf', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}, {'number': 7, 'created': '2019-11-19 09:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/903d046e5272205718e7eb7251c3ef7b18419e41', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}, {'number': 8, 'created': '2019-11-19 09:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/99f74d54ab96a650ff4838cb0671db71ee840f68', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}, {'number': 9, 'created': '2019-11-21 11:29:01.000000000', 'files': ['playbooks/legacy/tempest-dsvm-networking-odl-multinode-oxygen-snapshot/run.yaml', '.zuul.d/jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-odl-multinode-fluorine-snapshot/run.yaml', 'playbooks/legacy/grenade-dsvm-networking-odl/run.yaml', 'networking_odl/tests/unit/journal/test_periodic_task.py', 'networking_odl/journal/worker.py', '.zuul.d/project.yaml', 'networking_odl/__init__.py', 'setup.cfg', 'TESTING.rst', 'tox.ini', 'networking_odl/tests/unit/test_base_db.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0d2df7e6f06812d22893f426e129fecfe959acb8', 'message': ""Remove networking-odl python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\nRemove the logic that was only in place to keep both py3 and py2\nsupported.\n\nChange-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35\n""}]",19,687858,0d2df7e6f06812d22893f426e129fecfe959acb8,50,6,9,8313,,,0,"Remove networking-odl python2 jobs

Python 2 will be EOL at the end of 2019. Ussuri will no longer support
Python 2 so it's safe to remove python2 jobs and save some CI resources.
Remove the logic that was only in place to keep both py3 and py2
supported.

Change-Id: Id37ebc6bb80c9953d3b3ce4ce394d92a02be0d35
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/58/687858/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,e9f66fb696109c07ba4b38bd9113ca8404518a68,remove-py2,,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3[testenv:debug-py27] basepython = python2.7 setenv = {[testenv]setenv} {[testenv:debug]setenv} commands = {[testenv:debug]commands} [testenv:py27-dev] basepython = python27 commands = {[testenv:dev]commands} {[testenv]commands} [testenv:py3-dev] basepython = python3 commands = {[testenv:dev]commands},0,32
openstack%2Fpython-senlinclient~master~Ic77626c7b2a5d1981052bb6ac970a389f63d28bd,openstack/python-senlinclient,master,Ic77626c7b2a5d1981052bb6ac970a389f63d28bd,Change default API version to 1.14,ABANDONED,2019-11-26 09:00:19.000000000,2019-11-26 09:01:56.000000000,,[],"[{'number': 1, 'created': '2019-11-26 09:00:19.000000000', 'files': ['senlinclient/plugin.py', 'senlinclient/tests/functional/test_actions.py', 'senlinclient/tests/unit/v1/test_action.py', 'senlinclient/v1/action.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/4b44327ed7f9b4dfe7c880a64d85b518e91916ad', 'message': 'Change default API version to 1.14\n\nChange-Id: Ic77626c7b2a5d1981052bb6ac970a389f63d28bd\n'}]",0,696036,4b44327ed7f9b4dfe7c880a64d85b518e91916ad,4,0,1,28691,,,0,"Change default API version to 1.14

Change-Id: Ic77626c7b2a5d1981052bb6ac970a389f63d28bd
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/36/696036/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlinclient/plugin.py', 'senlinclient/tests/functional/test_actions.py', 'senlinclient/tests/unit/v1/test_action.py', 'senlinclient/v1/action.py']",4,4b44327ed7f9b4dfe7c880a64d85b518e91916ad,," 'depended_by', 'created_at', 'cluster_id']"," 'depended_by', 'created_at']",10,6
openstack%2Fpython-aodhclient~master~Id72d17b2576e71178f470b75aea967a70b972758,openstack/python-aodhclient,master,Id72d17b2576e71178f470b75aea967a70b972758,Switch to Ussuri jobs,MERGED,2019-10-22 05:38:05.000000000,2019-11-26 08:54:52.000000000,2019-11-26 08:52:10.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 05:38:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/7d35887998bc67df2619f3affd8bf5dae6769a8a', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id72d17b2576e71178f470b75aea967a70b972758\n'}]",0,689933,7d35887998bc67df2619f3affd8bf5dae6769a8a,7,2,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Id72d17b2576e71178f470b75aea967a70b972758
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/33/689933/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d35887998bc67df2619f3affd8bf5dae6769a8a,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Frequirements~master~I10866c49574e53d3436422c70a5357784d5c4fd8,openstack/requirements,master,I10866c49574e53d3436422c70a5357784d5c4fd8,update constraint for osprofiler to new release 2.9.0,MERGED,2019-11-25 17:21:40.000000000,2019-11-26 08:52:09.000000000,2019-11-26 08:50:51.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 17:21:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c8dcd926db7933bc8650f2c1cc517c3567f3e8e5', 'message': 'update constraint for osprofiler to new release 2.9.0\n\nChange-Id: I10866c49574e53d3436422c70a5357784d5c4fd8\nmeta:version: 2.9.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I1ffe1ad55d39cc37728e1c30dbc8d4b98f6383f4\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,695959,c8dcd926db7933bc8650f2c1cc517c3567f3e8e5,17,3,1,11131,,,0,"update constraint for osprofiler to new release 2.9.0

Change-Id: I10866c49574e53d3436422c70a5357784d5c4fd8
meta:version: 2.9.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I1ffe1ad55d39cc37728e1c30dbc8d4b98f6383f4
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/695959/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c8dcd926db7933bc8650f2c1cc517c3567f3e8e5,new-release,osprofiler===2.9.0,osprofiler===2.8.2,1,1
openstack%2Fcookbook-openstack-compute~master~Ia3adf776d48ebbf364530201f85307805a6b48d6,openstack/cookbook-openstack-compute,master,Ia3adf776d48ebbf364530201f85307805a6b48d6,Use python3 packages on Ubuntu,MERGED,2019-09-18 14:51:46.000000000,2019-11-26 08:35:06.000000000,2019-11-26 08:35:06.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 14:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/b38d5deaea7e03821b6746983bf5b2f49b94586f', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: Ia3adf776d48ebbf364530201f85307805a6b48d6\n'}, {'number': 2, 'created': '2019-09-19 12:16:36.000000000', 'files': ['attributes/default.rb', 'spec/nova-common_spec.rb', 'spec/libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/a848d54f0f8d89e280a76ad1d7633c5922f9a74a', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nDepends-On: https://review.opendev.org/682918\nChange-Id: Ia3adf776d48ebbf364530201f85307805a6b48d6\n'}]",1,682919,a848d54f0f8d89e280a76ad1d7633c5922f9a74a,14,3,2,13252,,,0,"Use python3 packages on Ubuntu

Python2.7 is going EOL soon, let us deploy python3 for Rocky from the
start, so we avoid having to switch later.

Depends-On: https://review.opendev.org/682918
Change-Id: Ia3adf776d48ebbf364530201f85307805a6b48d6
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/19/682919/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/nova-common_spec.rb', 'spec/libvirt_spec.rb']",3,b38d5deaea7e03821b6746983bf5b2f49b94586f,chef-py3, %w(libvirt-bin python3-guestfs).each do |pkg|, %w(libvirt-bin python-guestfs).each do |pkg|,19,21
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I216d7899c569419fdee7e30cc11af1d68d0f7fa3,openstack/tripleo-heat-templates,stable/train,I216d7899c569419fdee7e30cc11af1d68d0f7fa3,Drop the SELinux flags for openvswitch /var/run directory,ABANDONED,2019-11-26 07:01:28.000000000,2019-11-26 07:41:53.000000000,,[{'_account_id': 4978}],"[{'number': 1, 'created': '2019-11-26 07:01:28.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28264a6719b51d009fafbdc0a30e36a7647452a0', 'message': 'Drop the SELinux flags for openvswitch /var/run directory\n\nEnforcing re-labelling (:z) creates some issues when we are deploying\nwith DPDK.\nA new SELinux policy has been added[1] in openstack-selinux, allowing\ncontainer_t to actually write in openvswitch_file_t.\n\nThe ""shared"" flag isn\'t of any use in this context, because we don\'t\nhave any sub-mounts[2] in there.\n\nAlso dropped a duplicate mount (/var/run == /run)\n\nThis issue is related to the following BZ:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1772025\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1776326\n\n[1] https://github.com/redhat-openstack/openstack-selinux/pull/46\n[2] https://docs.docker.com/storage/bind-mounts/#configure-bind-propagation\n\nChange-Id: I216d7899c569419fdee7e30cc11af1d68d0f7fa3\nCloses-Bug: #1853844\n(cherry picked from commit af80a0d914d9663079ad30c7dcdf73e1060c33e7)\n'}]",0,696024,28264a6719b51d009fafbdc0a30e36a7647452a0,2,1,1,28223,,,0,"Drop the SELinux flags for openvswitch /var/run directory

Enforcing re-labelling (:z) creates some issues when we are deploying
with DPDK.
A new SELinux policy has been added[1] in openstack-selinux, allowing
container_t to actually write in openvswitch_file_t.

The ""shared"" flag isn't of any use in this context, because we don't
have any sub-mounts[2] in there.

Also dropped a duplicate mount (/var/run == /run)

This issue is related to the following BZ:
https://bugzilla.redhat.com/show_bug.cgi?id=1772025
https://bugzilla.redhat.com/show_bug.cgi?id=1776326

[1] https://github.com/redhat-openstack/openstack-selinux/pull/46
[2] https://docs.docker.com/storage/bind-mounts/#configure-bind-propagation

Change-Id: I216d7899c569419fdee7e30cc11af1d68d0f7fa3
Closes-Bug: #1853844
(cherry picked from commit af80a0d914d9663079ad30c7dcdf73e1060c33e7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/696024/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml']",5,28264a6719b51d009fafbdc0a30e36a7647452a0,selinux/ovs-stable/train, - /run/openvswitch:/run/openvswitch," - /run/openvswitch:/run/openvswitch:shared,z",9,10
openstack%2Foslo.messaging~master~I28255a541cd3c3331f6a61f51d12d715fb7c76a8,openstack/oslo.messaging,master,I28255a541cd3c3331f6a61f51d12d715fb7c76a8,Do a retry on rpc after MessageDeliveryFailure,ABANDONED,2019-11-11 14:47:04.000000000,2019-11-26 07:25:40.000000000,,"[{'_account_id': 6928}, {'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-11 14:47:04.000000000', 'files': ['oslo_messaging/rpc/server.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/78f4e4d871f87e00ae6b9b71ed16eb2ca5870013', 'message': 'Do a retry on rpc after MessageDeliveryFailure\n\nSometime after restarting the rabbitmq rpc reply fails\nThis is a workaround that does one retry after a delivery failure.\n\nChange-Id: I28255a541cd3c3331f6a61f51d12d715fb7c76a8\nCloses-Bug: #1852058\n'}]",2,693704,78f4e4d871f87e00ae6b9b71ed16eb2ca5870013,16,6,1,19134,,,0,"Do a retry on rpc after MessageDeliveryFailure

Sometime after restarting the rabbitmq rpc reply fails
This is a workaround that does one retry after a delivery failure.

Change-Id: I28255a541cd3c3331f6a61f51d12d715fb7c76a8
Closes-Bug: #1852058
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/04/693704/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/rpc/server.py'],1,78f4e4d871f87e00ae6b9b71ed16eb2ca5870013,bug/1852058," except exceptions.MessageDeliveryFailure: LOG.exception(""Can not send reply for message try again"") if failure is None: message.reply(res) else: message.reply(failure=failure)",,6,0
openstack%2Ftripleo-quickstart~master~I789b400f5304d71881667e60501d577c6c6a5870,openstack/tripleo-quickstart,master,I789b400f5304d71881667e60501d577c6c6a5870,[DNM] Test pacemaker update in containers,ABANDONED,2019-11-13 07:13:14.000000000,2019-11-26 06:31:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 07:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/633920563ab41d71ee2a66d19596688661adf05a', 'message': '[DNM] Test pacemaker update in containers\n\nDepends-On: https://review.opendev.org/#/c/693974/\nChange-Id: I789b400f5304d71881667e60501d577c6c6a5870\n'}, {'number': 2, 'created': '2019-11-13 08:37:43.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/master.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/75f93b21da8e14950d551533cc6d1bbe87314cfd', 'message': '[DNM] Test pacemaker update in containers\n\nDepends-On: https://review.opendev.org/#/c/693974/\nChange-Id: I789b400f5304d71881667e60501d577c6c6a5870\n'}]",0,693992,75f93b21da8e14950d551533cc6d1bbe87314cfd,8,2,2,13861,,,0,"[DNM] Test pacemaker update in containers

Depends-On: https://review.opendev.org/#/c/693974/
Change-Id: I789b400f5304d71881667e60501d577c6c6a5870
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/92/693992/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/RedHat-8/master.yml', 'zuul.d/layout.yaml']",2,633920563ab41d71ee2a66d19596688661adf05a,,, - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-full check: jobs: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - config/general_config/featureset030.yml - tripleo-ci-centos-7-scenario009-multinode-oooq-container: files: - config/general_config/featureset033.yml - requirements.txt - tripleo-ci-centos-7-standalone: files: - config/general_config/featureset052.yml - requirements.txt - openstack-tox-linters - tripleo-ci-centos-7-scenario010-multinode-oooq-container: files: - config/general_config/featureset038.yml gate: queue: tripleo jobs: - openstack-tox-linters - tripleo-ci-centos-7-standalone: files: - config/general_config/featureset052.yml experimental: jobs: - tripleo-ci-centos-7-scenario006-multinode-oooq-container: files: - config/general_config/featureset026.yml,1,36
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe,openstack/tripleo-heat-templates,stable/queens,I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe,Check that facter.conf is a file,MERGED,2019-11-22 20:10:54.000000000,2019-11-26 06:25:19.000000000,2019-11-26 06:25:18.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-22 20:10:54.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17da3d622b068a9a401ac0cbe86280035fd48a87', 'message': 'Check that facter.conf is a file\n\nIf docker-puppet.py (or container-puppet.py) is run under docker prior\nto the facter config being generated, the file is created as a\ndirectory. This causes a failure later when we try to write the file\nout.\n\nChange-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe\nCloses-Bug: #1852606\n(cherry picked from commit 3e25c2c48308694bbae737ad7699fe540ed1a098)\n(cherry picked from commit 0606eb6483bd5c8afb1217ab52c1512d1b16d257)\n'}]",0,695758,17da3d622b068a9a401ac0cbe86280035fd48a87,7,3,1,14985,,,0,"Check that facter.conf is a file

If docker-puppet.py (or container-puppet.py) is run under docker prior
to the facter config being generated, the file is created as a
directory. This causes a failure later when we try to write the file
out.

Change-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe
Closes-Bug: #1852606
(cherry picked from commit 3e25c2c48308694bbae737ad7699fe540ed1a098)
(cherry picked from commit 0606eb6483bd5c8afb1217ab52c1512d1b16d257)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/695758/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,17da3d622b068a9a401ac0cbe86280035fd48a87,bug/1852606-stable/queens," - name: Check for facter.conf check_mode: false stat: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" register: _facter_conf_file # See LP#1852606 for context - name: Remove facter.conf if directory check_mode: false become: true file: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" state: absent force: true when: - _facter_conf_file.stat.isdir is defined - _facter_conf_file.stat.isdir",,16,0
openstack%2Fpuppet-tripleo~master~I4b4304b54a8aec76fad50b503a007b2bfcc41bd1,openstack/puppet-tripleo,master,I4b4304b54a8aec76fad50b503a007b2bfcc41bd1,Check for crm_node presence before collecting fact,MERGED,2019-11-22 15:50:15.000000000,2019-11-26 06:21:27.000000000,2019-11-23 01:02:25.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-22 15:50:15.000000000', 'files': ['lib/facter/stonith_levels.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/57ef37990a03bf8cbd99383544699b367b23c625', 'message': 'Check for crm_node presence before collecting fact\n\nThis commit adds a check to make sure \'crm_node\' is present on the\nsystem (or inside a container, fwiw) before attempting to collect\nthe stonith level info, so preventing errors like:\n\n~~~\nError: Facter: error while resolving custom fact\n\\""stonith_levels\\"": execution of command \\""crm_node -n 2> /dev/null\\""\nfailed: command not found.""\n~~~\n\nChange-Id: I4b4304b54a8aec76fad50b503a007b2bfcc41bd1\n'}]",0,695715,57ef37990a03bf8cbd99383544699b367b23c625,9,4,1,30126,,,0,"Check for crm_node presence before collecting fact

This commit adds a check to make sure 'crm_node' is present on the
system (or inside a container, fwiw) before attempting to collect
the stonith level info, so preventing errors like:

~~~
Error: Facter: error while resolving custom fact
\""stonith_levels\"": execution of command \""crm_node -n 2> /dev/null\""
failed: command not found.""
~~~

Change-Id: I4b4304b54a8aec76fad50b503a007b2bfcc41bd1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/695715/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/facter/stonith_levels.rb'],1,57ef37990a03bf8cbd99383544699b367b23c625,," # If crm_node is present, return true. Otherwise, return false. if Facter::Core::Execution.which('crm_node') hostname = Facter::Core::Execution.execute(""crm_node -n 2> /dev/null"", {}) stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {}) stonith_levels end "," hostname = Facter::Core::Execution.execute(""crm_node -n 2> /dev/null"", {}) stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {}) stonith_levels",6,4
openstack%2Frequirements~master~I2fa5f33d3c3186291de2fd460bdf6231f5d1c877,openstack/requirements,master,I2fa5f33d3c3186291de2fd460bdf6231f5d1c877,update constraint for oslo.messaging to new release 10.4.0,MERGED,2019-11-25 17:15:15.000000000,2019-11-26 05:54:51.000000000,2019-11-26 05:53:03.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 17:15:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0fd853132a4ec4abee6af3e4da5e71ac4a874ec1', 'message': 'update constraint for oslo.messaging to new release 10.4.0\n\nChange-Id: I2fa5f33d3c3186291de2fd460bdf6231f5d1c877\nmeta:version: 10.4.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I1ffe1ad55d39cc37728e1c30dbc8d4b98f6383f4\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,695951,0fd853132a4ec4abee6af3e4da5e71ac4a874ec1,14,3,1,11131,,,0,"update constraint for oslo.messaging to new release 10.4.0

Change-Id: I2fa5f33d3c3186291de2fd460bdf6231f5d1c877
meta:version: 10.4.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I1ffe1ad55d39cc37728e1c30dbc8d4b98f6383f4
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/695951/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0fd853132a4ec4abee6af3e4da5e71ac4a874ec1,new-release,oslo.messaging===10.4.0,oslo.messaging===10.3.0,1,1
openstack%2Frequirements~master~Idfbf0753a774d94f3119bb3e18cd243293c55bf4,openstack/requirements,master,Idfbf0753a774d94f3119bb3e18cd243293c55bf4,update constraint for sphinx-feature-classification to new release 0.4.2,MERGED,2019-11-25 17:11:21.000000000,2019-11-26 05:54:05.000000000,2019-11-26 05:53:01.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-25 17:11:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ebddf7ff185db04b46e684baa99951db95918540', 'message': 'update constraint for sphinx-feature-classification to new release 0.4.2\n\nChange-Id: Idfbf0753a774d94f3119bb3e18cd243293c55bf4\nmeta:version: 0.4.2\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I1ffe1ad55d39cc37728e1c30dbc8d4b98f6383f4\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,695948,ebddf7ff185db04b46e684baa99951db95918540,14,3,1,11131,,,0,"update constraint for sphinx-feature-classification to new release 0.4.2

Change-Id: Idfbf0753a774d94f3119bb3e18cd243293c55bf4
meta:version: 0.4.2
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I1ffe1ad55d39cc37728e1c30dbc8d4b98f6383f4
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/695948/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ebddf7ff185db04b46e684baa99951db95918540,new-release,sphinx-feature-classification===0.4.2,sphinx-feature-classification===0.4.1,1,1
openstack%2Fdiskimage-builder~master~I14d63aa59df24e8f5500cd3356e677488d597781,openstack/diskimage-builder,master,I14d63aa59df24e8f5500cd3356e677488d597781,Dockerfile: install vhd-util,ABANDONED,2019-11-13 05:21:54.000000000,2019-11-26 05:53:45.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 05:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e3c214dfb8a7ec2702d55ebd9e46ca437bff1f63', 'message': 'Dockerfile: install vhd-util\n\nAdd the PPA repo so this image can create VHD images\n\nChange-Id: I14d63aa59df24e8f5500cd3356e677488d597781\n'}, {'number': 2, 'created': '2019-11-14 03:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/93ed5b4ef062164033b12a151d90aa4cd468f8f5', 'message': 'Dockerfile: install vhd-util\n\nAdd the PPA repo so this image can create VHD images\n\nChange-Id: I14d63aa59df24e8f5500cd3356e677488d597781\n'}, {'number': 3, 'created': '2019-11-14 03:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4f8578b2c94f03dd1ebcd20368b78335030ca6f3', 'message': 'Dockerfile: install vhd-util\n\nAdd the PPA repo so this image can create VHD images\n\nChange-Id: I14d63aa59df24e8f5500cd3356e677488d597781\n'}, {'number': 4, 'created': '2019-11-18 08:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5ea860c457c97654adcf87f618f304975b2da861', 'message': 'Dockerfile: install vhd-util\n\nAdd the PPA repo so this image can create VHD images\n\nChange-Id: I14d63aa59df24e8f5500cd3356e677488d597781\n'}, {'number': 5, 'created': '2019-11-21 01:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6cb82672db76ede1f5976dabd1221294afbabf24', 'message': 'Dockerfile: install vhd-util\n\nAdd the PPA repo so this image can create VHD images\n\nChange-Id: I14d63aa59df24e8f5500cd3356e677488d597781\n'}, {'number': 6, 'created': '2019-11-21 03:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/38c01196abd74802a0e45acab2e401da1d48b9ec', 'message': 'Dockerfile: install vhd-util\n\nAdd the PPA repo so this image can create VHD images\n\nChange-Id: I14d63aa59df24e8f5500cd3356e677488d597781\n'}, {'number': 7, 'created': '2019-11-22 05:45:50.000000000', 'files': ['Dockerfile'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b0cd3c30d59c02b15eda1af4e6f9cb2292018c0a', 'message': 'Dockerfile: install vhd-util\n\nAdd the PPA repo so this image can create VHD images\n\nChange-Id: I14d63aa59df24e8f5500cd3356e677488d597781\n'}]",0,693976,b0cd3c30d59c02b15eda1af4e6f9cb2292018c0a,23,3,7,7118,,,0,"Dockerfile: install vhd-util

Add the PPA repo so this image can create VHD images

Change-Id: I14d63aa59df24e8f5500cd3356e677488d597781
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/76/693976/1 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,e3c214dfb8a7ec2702d55ebd9e46ca437bff1f63,dib-init-system/fix/call_in_chroot,"# See documentation for details on VHD creation RUN \ apt-get update \ && apt-get install -y gnupg2 \ && apt-key adv --keyserver keyserver.ubuntu.com --recv 2B5DE24F0EC9F98BD2F85CA315B6CE7C018D05F5 \ && echo ""deb http://ppa.launchpad.net/openstack-ci-core/vhd-util/ubuntu bionic main"" >> /etc/apt/sources.list \ && apt-get update \ && apt-get install -y vhd-util \ && apt-get clean \ && rm -rf /var/lib/apt/lists/*",,10,0
openstack%2Fdiskimage-builder~master~If862ab64c7231e743ab55a676225739b3bdb882e,openstack/diskimage-builder,master,If862ab64c7231e743ab55a676225739b3bdb882e,Start a buildset registry with docker image creation,ABANDONED,2019-11-13 22:49:15.000000000,2019-11-26 05:53:34.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-13 22:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a4fa878b25d07d700fd75d884d534d24e0ec370c', 'message': 'Start a buildset registry with docker image creation\n\nStart a buildset registry so other jobs can consume the dib image\noutput.\n\nChange-Id: If862ab64c7231e743ab55a676225739b3bdb882e\n'}, {'number': 2, 'created': '2019-11-13 23:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7070c03303748920e7e1a60b7846100d23ac68ff', 'message': 'Start a buildset registry with docker image creation\n\nStart a buildset registry so other jobs can consume the dib image\noutput.\n\nChange-Id: If862ab64c7231e743ab55a676225739b3bdb882e\n'}, {'number': 3, 'created': '2019-11-14 03:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cf11071ffa4d7b5d0c2bf7b5dc7920c9ad00dedd', 'message': 'Start a buildset registry with docker image creation\n\nStart a buildset registry so other jobs can consume the dib image\noutput.\n\nChange-Id: If862ab64c7231e743ab55a676225739b3bdb882e\n'}, {'number': 4, 'created': '2019-11-14 03:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0924c416724340a89412a9f7639b35c93a53a893', 'message': 'Start a buildset registry with docker image creation\n\nStart a buildset registry so other jobs can consume the dib image\noutput.\n\nChange-Id: If862ab64c7231e743ab55a676225739b3bdb882e\n'}, {'number': 5, 'created': '2019-11-18 08:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0f8fc2efcc92cca70d10e3388c161cefff36f5c7', 'message': 'Start a buildset registry with docker image creation\n\nStart a buildset registry so other jobs can consume the dib image\noutput.\n\nChange-Id: If862ab64c7231e743ab55a676225739b3bdb882e\n'}, {'number': 6, 'created': '2019-11-21 01:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/21cc3651c4d98ed2000686c146f4d218583717d8', 'message': 'Start a buildset registry with docker image creation\n\nStart a buildset registry so other jobs can consume the dib image\noutput.\n\nChange-Id: If862ab64c7231e743ab55a676225739b3bdb882e\n'}, {'number': 7, 'created': '2019-11-21 03:04:33.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2ff68a6d9774de45c68c202fc355dc9952baefa4', 'message': 'Start a buildset registry with docker image creation\n\nStart a buildset registry so other jobs can consume the dib image\noutput.\n\nChange-Id: If862ab64c7231e743ab55a676225739b3bdb882e\n'}]",0,694175,2ff68a6d9774de45c68c202fc355dc9952baefa4,25,5,7,7118,,,0,"Start a buildset registry with docker image creation

Start a buildset registry so other jobs can consume the dib image
output.

Change-Id: If862ab64c7231e743ab55a676225739b3bdb882e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/75/694175/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,a4fa878b25d07d700fd75d884d534d24e0ec370c,dib-init-system/fix/call_in_chroot, dependencies: opendev-buildset-registry,,1,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe,openstack/tripleo-heat-templates,stable/rocky,I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe,Check that facter.conf is a file,MERGED,2019-11-22 20:10:47.000000000,2019-11-26 05:50:57.000000000,2019-11-26 05:50:57.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-22 20:10:47.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc428f998db3b76ec1e23be358b509a24862b76e', 'message': 'Check that facter.conf is a file\n\nIf docker-puppet.py (or container-puppet.py) is run under docker prior\nto the facter config being generated, the file is created as a\ndirectory. This causes a failure later when we try to write the file\nout.\n\nChange-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe\nCloses-Bug: #1852606\n(cherry picked from commit 3e25c2c48308694bbae737ad7699fe540ed1a098)\n(cherry picked from commit 0606eb6483bd5c8afb1217ab52c1512d1b16d257)\n'}]",0,695757,cc428f998db3b76ec1e23be358b509a24862b76e,7,3,1,14985,,,0,"Check that facter.conf is a file

If docker-puppet.py (or container-puppet.py) is run under docker prior
to the facter config being generated, the file is created as a
directory. This causes a failure later when we try to write the file
out.

Change-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe
Closes-Bug: #1852606
(cherry picked from commit 3e25c2c48308694bbae737ad7699fe540ed1a098)
(cherry picked from commit 0606eb6483bd5c8afb1217ab52c1512d1b16d257)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/695757/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,cc428f998db3b76ec1e23be358b509a24862b76e,bug/1852606-stable/rocky," - name: Check for facter.conf check_mode: false stat: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" register: _facter_conf_file # See LP#1852606 for context - name: Remove facter.conf if directory check_mode: false become: true file: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" state: absent force: true when: - _facter_conf_file.stat.isdir is defined - _facter_conf_file.stat.isdir",,16,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I58d42c74295f031b260c0b67dbc12336fc31db1f,openstack/tripleo-heat-templates,stable/rocky,I58d42c74295f031b260c0b67dbc12336fc31db1f,Don't fail hard when facter cache doesn't work correctly,MERGED,2019-11-22 21:10:57.000000000,2019-11-26 05:50:55.000000000,2019-11-26 05:50:55.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-22 21:10:57.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2d71b3f1485c54f7d2dd9776d94fd4e00518713', 'message': ""Don't fail hard when facter cache doesn't work correctly\n\nSince the facter cache is supposed to be a help but not necessarily a\nhard requirement, let's make sure the tasks don't fail if something goes\nwrong. We should output the error if the facter execution fails, but we\ndon't want to always output it.\n\nChange-Id: I58d42c74295f031b260c0b67dbc12336fc31db1f\nRelated-Bug: #1852606\n(cherry picked from 79f41d1d41a23b8b851410a912fd352c5e6fac32)\n""}]",0,695768,b2d71b3f1485c54f7d2dd9776d94fd4e00518713,8,3,1,14985,,,0,"Don't fail hard when facter cache doesn't work correctly

Since the facter cache is supposed to be a help but not necessarily a
hard requirement, let's make sure the tasks don't fail if something goes
wrong. We should output the error if the facter execution fails, but we
don't want to always output it.

Change-Id: I58d42c74295f031b260c0b67dbc12336fc31db1f
Related-Bug: #1852606
(cherry picked from 79f41d1d41a23b8b851410a912fd352c5e6fac32)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/695768/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,b2d71b3f1485c54f7d2dd9776d94fd4e00518713,bug/1852606-stable/rocky," check_mode: false register: _facter_cache_run - name: Facter error output when failed check_mode: false debug: msg: ""{{ _facter_cache_run.stderr }}"" when: _facter_cache_run is failed check_mode: false when: _facter_cache_run is succeeded",,9,0
openstack%2Foctavia~master~If18d2cbc5faa89f8b54aaa075a96bd002cadda0a,openstack/octavia,master,If18d2cbc5faa89f8b54aaa075a96bd002cadda0a,Disable nova console services in grenade job,ABANDONED,2019-11-22 20:52:38.000000000,2019-11-26 05:50:55.000000000,,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 20:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/89bc3575be88eef321882b17f802cd0376a10482', 'message': 'Disable nova console services in grenade job\n\nThe nova console services are buggy and causing gate failures.\nThis patch disables them for the grenade job as Octavia has no\nneed for them.\n\nChange-Id: If18d2cbc5faa89f8b54aaa075a96bd002cadda0a\n'}, {'number': 2, 'created': '2019-11-22 23:52:10.000000000', 'files': ['playbooks/legacy/grenade-devstack-octavia/run.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cef7ba114ac928e53e52d038e62a795fc6a3b2f', 'message': 'Disable nova console services in grenade job\n\nThe nova console services are buggy and causing gate failures.\nThis patch disables them for the grenade job as Octavia has no\nneed for them.\n\nChange-Id: If18d2cbc5faa89f8b54aaa075a96bd002cadda0a\n'}]",0,695763,6cef7ba114ac928e53e52d038e62a795fc6a3b2f,15,4,2,11628,,,0,"Disable nova console services in grenade job

The nova console services are buggy and causing gate failures.
This patch disables them for the grenade job as Octavia has no
need for them.

Change-Id: If18d2cbc5faa89f8b54aaa075a96bd002cadda0a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/695763/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/grenade-devstack-octavia/run.yaml'],1,89bc3575be88eef321882b17f802cd0376a10482,," # Disable the buggy nova console services export DEVSTACK_LOCAL_CONFIG+=$'\n'""NOVA_VNC_ENABLED=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service n-novnc"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service n-xvnc"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service n-spice"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service n-sproxy""",,6,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I58d42c74295f031b260c0b67dbc12336fc31db1f,openstack/tripleo-heat-templates,stable/train,I58d42c74295f031b260c0b67dbc12336fc31db1f,Don't fail hard when facter cache doesn't work correctly,MERGED,2019-11-22 21:09:16.000000000,2019-11-26 05:50:53.000000000,2019-11-26 05:50:53.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-22 21:09:16.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8e9965eb75597f113833df414976d6cce8d2324', 'message': ""Don't fail hard when facter cache doesn't work correctly\n\nSince the facter cache is supposed to be a help but not necessarily a\nhard requirement, let's make sure the tasks don't fail if something goes\nwrong. We should output the error if the facter execution fails, but we\ndon't want to always output it.\n\nChange-Id: I58d42c74295f031b260c0b67dbc12336fc31db1f\nRelated-Bug: #1852606\n(cherry picked from 79f41d1d41a23b8b851410a912fd352c5e6fac32)\n""}]",0,695765,e8e9965eb75597f113833df414976d6cce8d2324,9,3,1,14985,,,0,"Don't fail hard when facter cache doesn't work correctly

Since the facter cache is supposed to be a help but not necessarily a
hard requirement, let's make sure the tasks don't fail if something goes
wrong. We should output the error if the facter execution fails, but we
don't want to always output it.

Change-Id: I58d42c74295f031b260c0b67dbc12336fc31db1f
Related-Bug: #1852606
(cherry picked from 79f41d1d41a23b8b851410a912fd352c5e6fac32)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/695765/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,e8e9965eb75597f113833df414976d6cce8d2324,bug/1852606," check_mode: false register: _facter_cache_run - name: Facter error output when failed check_mode: false debug: msg: ""{{ _facter_cache_run.stderr }}"" when: _facter_cache_run is failed check_mode: false when: _facter_cache_run is succeeded",,9,0
openstack%2Foctavia~master~I57dd2151bce0c73d7835078e53961cc3c2f7a7c8,openstack/octavia,master,I57dd2151bce0c73d7835078e53961cc3c2f7a7c8,[DNM] Testing current state of gates,ABANDONED,2019-11-25 16:14:48.000000000,2019-11-26 05:47:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-25 16:14:48.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d1c905b715e913b5921220512ef5be16b0bf6e43', 'message': '[DNM] Testing current state of gates\n\nChange-Id: I57dd2151bce0c73d7835078e53961cc3c2f7a7c8\n'}]",0,695941,d1c905b715e913b5921220512ef5be16b0bf6e43,3,1,1,10273,,,0,"[DNM] Testing current state of gates

Change-Id: I57dd2151bce0c73d7835078e53961cc3c2f7a7c8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/41/695941/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,d1c905b715e913b5921220512ef5be16b0bf6e43,,,,0,0
openstack%2Frpm-packaging~master~I66a536dd8b97f741953bd4ea3999805e2db4a12a,openstack/rpm-packaging,master,I66a536dd8b97f741953bd4ea3999805e2db4a12a,neutron: Remove stop action from ovs-cleanup,MERGED,2019-11-25 09:51:58.000000000,2019-11-26 05:41:53.000000000,2019-11-26 05:41:53.000000000,"[{'_account_id': 2062}, {'_account_id': 2733}, {'_account_id': 7102}, {'_account_id': 9963}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-25 09:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7df2777d3ec2d9d1f4b4bc515b5a4a07318d85d2', 'message': 'neutron: Remove stop action from ovs-cleanup\n\nThe neutron-ovs-cleanup script is supposed to be run only on boot.\nWith ExecStop action being set to execute it as well, it was being\nexecuted also when `systemctl stop` was run. This was causing connectivity\nloss in upgrade scenario where all openstack services were stopped.\n\nChange-Id: I66a536dd8b97f741953bd4ea3999805e2db4a12a\n'}, {'number': 2, 'created': '2019-11-25 10:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/58e0c280fa7cba900bc9dc1dba97ef255f5ee8b2', 'message': 'neutron: Remove stop action from ovs-cleanup\n\nThe neutron-ovs-cleanup script is supposed to be run only on boot.\nWith ExecStop action being set to execute it as well, it was being\nexecuted also when `systemctl stop` was run.\nThis was causing connectivity loss in when openstack services were\nstopped e.g. during upgrade.\nNote that many openstack services could be safely stopped without\nharm to the underlying services.\n\nChange-Id: I66a536dd8b97f741953bd4ea3999805e2db4a12a\n'}, {'number': 3, 'created': '2019-11-25 10:07:16.000000000', 'files': ['openstack/neutron/openstack-neutron-ovs-cleanup.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8a8e4205d025cbc9cdaf6d34d0f06fce613f3992', 'message': 'neutron: Remove stop action from ovs-cleanup\n\nThe neutron-ovs-cleanup script is supposed to be run only on boot.\nWith ExecStop action being set to execute it as well, it was being\nexecuted also when `systemctl stop` was run.\nThis was causing connectivity loss when openstack services were\nstopped e.g. during upgrade.\nNote that many openstack services could be safely stopped without\nharm to the underlying services.\n\nChange-Id: I66a536dd8b97f741953bd4ea3999805e2db4a12a\n'}]",0,695867,8a8e4205d025cbc9cdaf6d34d0f06fce613f3992,21,9,3,20312,,,0,"neutron: Remove stop action from ovs-cleanup

The neutron-ovs-cleanup script is supposed to be run only on boot.
With ExecStop action being set to execute it as well, it was being
executed also when `systemctl stop` was run.
This was causing connectivity loss when openstack services were
stopped e.g. during upgrade.
Note that many openstack services could be safely stopped without
harm to the underlying services.

Change-Id: I66a536dd8b97f741953bd4ea3999805e2db4a12a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/67/695867/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron/openstack-neutron-ovs-cleanup.service'],1,7df2777d3ec2d9d1f4b4bc515b5a4a07318d85d2,ovs-cleanup-no-stop,,ExecStop=/usr/bin/neutron-ovs-cleanup --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugin.ini --config-dir /etc/neutron/neutron.conf.d/,0,1
openstack%2Fsenlin~master~I998ea47cc7251ebba820adcf0d237a30ad094146,openstack/senlin,master,I998ea47cc7251ebba820adcf0d237a30ad094146,[DNM] Testing singleton,ABANDONED,2019-11-20 07:33:54.000000000,2019-11-26 05:35:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-20 07:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5dd9ebaff0d703edd416ae852cf871b103d291cf', 'message': '[DNM] Testing singleton\n\nChange-Id: I998ea47cc7251ebba820adcf0d237a30ad094146\n'}, {'number': 2, 'created': '2019-11-20 07:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c7d4ff312b40707b00fe9ff9f966c4f7bc7490be', 'message': '[DNM] Testing singleton\n\nChange-Id: I998ea47cc7251ebba820adcf0d237a30ad094146\n'}, {'number': 3, 'created': '2019-11-20 08:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/11db4641dc39090e5770b307e46b431f08f34967', 'message': '[DNM] Testing singleton\n\nChange-Id: I998ea47cc7251ebba820adcf0d237a30ad094146\n'}, {'number': 4, 'created': '2019-11-20 08:26:48.000000000', 'files': ['senlin/profiles/container/docker.py', 'senlin/engine/receivers/message.py', 'senlin/policies/base.py', 'senlin/profiles/base.py', 'senlin/engine/notifications/message.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/908d329d2a906ec518bea2ae94969d53cef9a13f', 'message': '[DNM] Testing singleton\n\nChange-Id: I998ea47cc7251ebba820adcf0d237a30ad094146\n'}]",0,695139,908d329d2a906ec518bea2ae94969d53cef9a13f,6,1,4,22623,,,0,"[DNM] Testing singleton

Change-Id: I998ea47cc7251ebba820adcf0d237a30ad094146
",git fetch https://review.opendev.org/openstack/senlin refs/changes/39/695139/2 && git format-patch -1 --stdout FETCH_HEAD,['senlin/policies/base.py'],1,5dd9ebaff0d703edd416ae852cf871b103d291cf,test2, _novaclient = None _keystoneclient = None _networkclient = None _octaviaclient = None _lbaasclient = None , self._novaclient = None self._keystoneclient = None self._networkclient = None self._octaviaclient = None self._lbaasclient = None,6,5
