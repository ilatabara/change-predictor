id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Frequirements~stable%2Fussuri~I05a95c89459f088c5ad5bd2b7bd94e2d9404c872,openstack/requirements,stable/ussuri,I05a95c89459f088c5ad5bd2b7bd94e2d9404c872,update constraint for python-zaqarclient to new release 1.13.2,MERGED,2021-07-29 10:08:04.000000000,2021-07-29 20:51:09.000000000,2021-07-29 20:51:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-29 10:08:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a2941c615dcc440b7b11467c755e8dc19ea95b7d', 'message': 'update constraint for python-zaqarclient to new release 1.13.2\n\nmeta: version: 1.13.2\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ib36c5d1ab52c5a4276121bfa611ccb64c956b549\nmeta: release:Code-Review+1: 王昊 <sxmatch1986@gmail.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I05a95c89459f088c5ad5bd2b7bd94e2d9404c872\n'}]",0,802855,a2941c615dcc440b7b11467c755e8dc19ea95b7d,9,3,1,11131,,,0,"update constraint for python-zaqarclient to new release 1.13.2

meta: version: 1.13.2
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ib36c5d1ab52c5a4276121bfa611ccb64c956b549
meta: release:Code-Review+1: 王昊 <sxmatch1986@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I05a95c89459f088c5ad5bd2b7bd94e2d9404c872
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/802855/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a2941c615dcc440b7b11467c755e8dc19ea95b7d,new-release,python-zaqarclient===1.13.2,python-zaqarclient===1.13.1,1,1
openstack%2Ftripleo-operator-ansible~master~I4309178ee78015d0ae7c050c14c0400320f23b78,openstack/tripleo-operator-ansible,master,I4309178ee78015d0ae7c050c14c0400320f23b78,Bump galaxy version for a release,MERGED,2021-07-29 14:50:01.000000000,2021-07-29 20:25:30.000000000,2021-07-29 20:25:30.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 14:50:01.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f060b3ea45750de094da8cafcfa6297f9fc415ad', 'message': ""Bump galaxy version for a release\n\nIt's been a while, we should release a new version.\n\nChange-Id: I4309178ee78015d0ae7c050c14c0400320f23b78\n""}]",0,802897,f060b3ea45750de094da8cafcfa6297f9fc415ad,6,3,1,14985,,,0,"Bump galaxy version for a release

It's been a while, we should release a new version.

Change-Id: I4309178ee78015d0ae7c050c14c0400320f23b78
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/97/802897/1 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,f060b3ea45750de094da8cafcfa6297f9fc415ad,,version: 0.6.0,version: 0.4.1-dev,1,1
openstack%2Ftripleo-operator-ansible~master~I626fcbbb66529cce34971d9e739d45fbe0d7fa0e,openstack/tripleo-operator-ansible,master,I626fcbbb66529cce34971d9e739d45fbe0d7fa0e,Document local var,MERGED,2021-07-26 18:10:51.000000000,2021-07-29 20:25:29.000000000,2021-07-29 20:25:29.000000000,"[{'_account_id': 8833}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 18:10:51.000000000', 'files': ['roles/tripleo_overcloud_image_upload/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2782f8c6b15f2c0cf967746cc661d27f6354cd14', 'message': 'Document local var\n\nimage upload has a --local option that may need to be used. This change\ndocuments the variables existence in the README.md.\n\nChange-Id: I626fcbbb66529cce34971d9e739d45fbe0d7fa0e\n'}]",0,802378,2782f8c6b15f2c0cf967746cc661d27f6354cd14,7,3,1,14985,,,0,"Document local var

image upload has a --local option that may need to be used. This change
documents the variables existence in the README.md.

Change-Id: I626fcbbb66529cce34971d9e739d45fbe0d7fa0e
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/78/802378/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_overcloud_image_upload/README.md'],1,2782f8c6b15f2c0cf967746cc661d27f6354cd14,fix-image-upload,* `tripleo_overcloud_image_upload_local`: (Boolean) Flag to combine to enable the --local flag. Default: false * `tripleo_overcloud_image_upload_local_path`: (String) Path to local upload location. Default: '',,2,0
openstack%2Ftripleo-operator-ansible~master~If925bb36c7722e8e5e150eb7f5ce9e6316fd9539,openstack/tripleo-operator-ansible,master,If925bb36c7722e8e5e150eb7f5ce9e6316fd9539,Add meta/runtime.yml file required by galaxy,MERGED,2021-07-29 12:22:51.000000000,2021-07-29 20:25:28.000000000,2021-07-29 20:25:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-07-29 12:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b2098c689cd706c57181d19cf6e813de9bed18ce', 'message': 'Add meta/runtime.yml file required by galaxy\n\nAnsible Galaxy added[1][2] a mandatory requirement for meta/runtime.yml\nfile and requires_ansible field in it. Add it to allow uploading\nto Galaxy.\n\n[1] https://github.com/ansible/galaxy-importer/pull/122\n[2] https://github.com/ansible/galaxy-importer/pull/124\n\nChange-Id: If925bb36c7722e8e5e150eb7f5ce9e6316fd9539\n'}, {'number': 2, 'created': '2021-07-29 14:26:00.000000000', 'files': ['meta/runtime.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/5a14392aa37162d415cc4a16394442e285967244', 'message': 'Add meta/runtime.yml file required by galaxy\n\nAnsible Galaxy added[1][2] a mandatory requirement for meta/runtime.yml\nfile and requires_ansible field in it. Add it to allow uploading\nto Galaxy.\n\n[1] https://github.com/ansible/galaxy-importer/pull/122\n[2] https://github.com/ansible/galaxy-importer/pull/124\n\nChange-Id: If925bb36c7722e8e5e150eb7f5ce9e6316fd9539\n'}]",1,802869,5a14392aa37162d415cc4a16394442e285967244,8,3,2,10969,,,0,"Add meta/runtime.yml file required by galaxy

Ansible Galaxy added[1][2] a mandatory requirement for meta/runtime.yml
file and requires_ansible field in it. Add it to allow uploading
to Galaxy.

[1] https://github.com/ansible/galaxy-importer/pull/122
[2] https://github.com/ansible/galaxy-importer/pull/124

Change-Id: If925bb36c7722e8e5e150eb7f5ce9e6316fd9539
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/69/802869/2 && git format-patch -1 --stdout FETCH_HEAD,['meta/runtime.yml'],1,b2098c689cd706c57181d19cf6e813de9bed18ce,,"requires_ansible: "">=2.8"" ",,1,0
openstack%2Ftripleo-operator-ansible~master~Ib9dc4219254b1afc9eb6b4e35099b1b3649930a7,openstack/tripleo-operator-ansible,master,Ib9dc4219254b1afc9eb6b4e35099b1b3649930a7,Limit tripleo-repos to CentOS,MERGED,2021-07-13 20:14:26.000000000,2021-07-29 20:25:27.000000000,2021-07-29 20:25:27.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 20:14:26.000000000', 'files': ['playbooks/standalone.yml', 'playbooks/undercloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/4b60170a316fd573b959f0eef891264bf9886573', 'message': ""Limit tripleo-repos to CentOS\n\nOur example playbooks have tripleo_repos defined however if they are run\non RHEL boxes this fails. Let's limit the tripleo_repos to just centos\nfor now.  Additionally switch to use ansible_facts for distribution\nversion information as well.\n\nChange-Id: Ib9dc4219254b1afc9eb6b4e35099b1b3649930a7\n""}]",0,800719,4b60170a316fd573b959f0eef891264bf9886573,7,5,1,14985,,,0,"Limit tripleo-repos to CentOS

Our example playbooks have tripleo_repos defined however if they are run
on RHEL boxes this fails. Let's limit the tripleo_repos to just centos
for now.  Additionally switch to use ansible_facts for distribution
version information as well.

Change-Id: Ib9dc4219254b1afc9eb6b4e35099b1b3649930a7
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/19/800719/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/standalone.yml', 'playbooks/undercloud.yml']",2,4b60170a316fd573b959f0eef891264bf9886573,limit-tripleo-repos, when: - ansible_facts.distribution == 'CentOS' when: ansible_facts.distribution_major_version|int <= 7 when: ansible_facts.distribution_major_version|int >= 8, when: ansible_distribution_major_version|int <= 7 when: ansible_distribution_major_version|int >= 8,8,4
openstack%2Fironic~stable%2Fvictoria~I03fdb48e47c9557c207a20ee876eccf3f3459d9f,openstack/ironic,stable/victoria,I03fdb48e47c9557c207a20ee876eccf3f3459d9f,Refactor iDRAC OEM extension manager calls,MERGED,2021-06-09 11:56:29.000000000,2021-07-29 20:13:40.000000000,2021-07-29 20:11:57.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 11:56:29.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0bc5265ec0a9b70272529774aa11258351dc0fbf', 'message': 'Refactor iDRAC OEM extension manager calls\n\n- Re-usable helper created to avoid duplication.\n- Although there is only one manager for system in known iDRAC systems\nstill iterate through collection for future changes.\n- Restructured exception raising and error logging for better feedback.\n- Removed some unit tests to avoid duplication that is covered by\nmethod specific unit tests\n\nChange-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f\n(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)\n'}]",0,795521,0bc5265ec0a9b70272529774aa11258351dc0fbf,11,3,1,27909,,,0,"Refactor iDRAC OEM extension manager calls

- Re-usable helper created to avoid duplication.
- Although there is only one manager for system in known iDRAC systems
still iterate through collection for future changes.
- Restructured exception raising and error logging for better feedback.
- Removed some unit tests to avoid duplication that is covered by
method specific unit tests

Change-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f
(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/795521/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/utils.py']",4,0bc5265ec0a9b70272529774aa11258351dc0fbf,,"# Copyright (c) 2021 Dell Inc. or its subsidiaries. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log from oslo_utils import importutils from ironic.common import exception from ironic.drivers.modules.redfish import utils as redfish_utils LOG = log.getLogger(__name__) sushy = importutils.try_import('sushy') def execute_oem_manager_method( task, process_name, lambda_oem_func, pass_manager=False): """"""Loads OEM manager and executes passed method on it. Known iDRAC Redfish systems has only one manager, but as Redfish schema allows a list this method iterates through all values in case this changes in future. If there are several managers, this will try starting from the first in the list until the first success. :param task: a TaskManager instance. :param process_name: user friendly name of method to be executed. Used in exception and log messages. :param lambda_oem_func: method to execute as lambda function with input parameter OEM extension manager. Example: lambda m: m.reset_idrac() For older versions also support second input parameter Redfish manager itself when pass_manager set to True. :param pass_manager: whether to pass manager itself to executed OEM extension method. This is for backward compability, new functions must not pass manager, but acquire it internally. Will be removed in future. :returns: Returned value of lambda_oem_func :raises: RedfishError if can't execute OEM function either because there are no managers to the system, failed to load OEM extension or execution of the OEM method failed itself. """""" system = redfish_utils.get_system(task.node) if not system.managers: raise exception.RedfishError( ""System %(system)s has no managers"" % {'system': system.uuid if system.uuid else system.identity}) oem_error_msgs = [] for manager in system.managers: # This call makes Sushy go fishing in the ocean of Sushy # OEM extensions installed on the system. If it finds one # for 'Dell' which implements the 'Manager' resource # extension, it uses it to create an object which # instantiates itself from the OEM JSON. The object is # returned here. # # If the extension could not be found for one manager, it # will not be found for any others until it is installed, so # abruptly exit the for loop. The vendor and resource name, # 'Dell' and 'Manager', respectively, used to search for the # extension are invariant in the loop. try: manager_oem = manager.get_oem_extension('Dell') except sushy.exceptions.OEMExtensionNotFoundError as e: error_msg = (_(""Search for Sushy OEM extension Python package "" ""'sushy-oem-idrac' failed for node %(node)s. "" ""Ensure it is installed. Error: %(error)s"") % {'node': task.node.uuid, 'error': e}) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) try: if pass_manager: result = lambda_oem_func(manager_oem, manager) else: result = lambda_oem_func(manager_oem) LOG.info(""Completed: %(process_name)s with system %(system)s "" ""manager %(manager)s for node %(node)s"", {'process_name': process_name, 'system': system.uuid if system.uuid else system.identity, 'manager': manager.uuid if manager.uuid else manager.identity, 'node': task.node.uuid}) return result except sushy.exceptions.SushyError as e: error_msg = (_(""Manager %(manager)s: %(error)s"" % {'manager': manager.uuid if manager.uuid else manager.identity, 'error': e})) LOG.debug(""Failed: %(process_name)s with system %(system)s "" ""for node %(node)s. Will try next manager, if "" ""available. Error: %(error)s"", {'process_name': process_name, 'system': system.uuid if system.uuid else system.identity, 'node': task.node.uuid, 'error': error_msg}) oem_error_msgs.append(error_msg) else: error_msg = (_('In system %(system)s for node %(node)s all managers ' 'failed: %(process_name)s. Errors: %(oem_error_msgs)s' % {'system': system.uuid if system.uuid else system.identity, 'node': task.node.uuid, 'process_name': process_name, 'oem_error_msgs': oem_error_msgs if oem_error_msgs else 'unknown'})) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) ",,243,146
openstack%2Fmonasca-api~stable%2Ftrain~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,stable/train,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,ABANDONED,2021-07-28 20:11:10.000000000,2021-07-29 20:02:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-28 20:11:10.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0e0569fb4b6c692bf50e43a4b8325371d3892704', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[3] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)\n'}]",0,802772,0e0569fb4b6c692bf50e43a4b8325371d3892704,3,2,1,26141,,,0,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/72/802772/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,0e0569fb4b6c692bf50e43a4b8325371d3892704,cap-pip-23-0-stable/train, # TODO: remove the trailing pip version when a proper fix # arrives for handling this bug https://github.com/pypa/pip/issues/8210 # Similar issue: https://bugs.launchpad.net/devstack/+bug/1906322 (cd /opt/monasca-agent ; virtualenv -p python3 . ; bin/python3 -m pip install --upgrade pip==20.2.3), (cd /opt/monasca-agent ; virtualenv -p python3 .),6,1
openstack%2Fneutron~master~I4dd35c9f0b0527e1a972cbade4388ffa6699930d,openstack/neutron,master,I4dd35c9f0b0527e1a972cbade4388ffa6699930d,Notify ROUTER_GATEWAY event for router gw mode,MERGED,2021-06-30 02:57:00.000000000,2021-07-29 20:00:47.000000000,2021-07-29 17:54:06.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-06-30 02:57:00.000000000', 'files': ['neutron/db/l3_gwmode_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d570dfd7dc4814b3cdb2c1b3cadaf34fb7927af', 'message': 'Notify ROUTER_GATEWAY event for router gw mode\n\nRouter gateway mode extension updating should notify the event\nof ROUTER_GATEWAY, otherwise the event cannot be handled accurately.\nUsing ROUTER event, the event receiver will add a lot of check\nconditions to confirm whether the GW has changed or the other\nproperties of router have changed.\n\nTrivial fix.\n\nChange-Id: I4dd35c9f0b0527e1a972cbade4388ffa6699930d\n'}]",0,798782,6d570dfd7dc4814b3cdb2c1b3cadaf34fb7927af,24,4,1,9531,,,0,"Notify ROUTER_GATEWAY event for router gw mode

Router gateway mode extension updating should notify the event
of ROUTER_GATEWAY, otherwise the event cannot be handled accurately.
Using ROUTER event, the event receiver will add a lot of check
conditions to confirm whether the GW has changed or the other
properties of router have changed.

Trivial fix.

Change-Id: I4dd35c9f0b0527e1a972cbade4388ffa6699930d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/798782/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_gwmode_db.py'],1,6d570dfd7dc4814b3cdb2c1b3cadaf34fb7927af,change_event_for_gw," registry.publish(resources.ROUTER_GATEWAY, events.PRECOMMIT_UPDATE, self,"," registry.publish(resources.ROUTER, events.PRECOMMIT_UPDATE, self,",2,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I4f8664c9033502b25b40646cfd8976cc5638e643,openstack/tripleo-ansible,stable/ussuri,I4f8664c9033502b25b40646cfd8976cc5638e643,Copy generated /boot/grub2/grubenv to EFI dirs,MERGED,2021-07-28 20:53:19.000000000,2021-07-29 19:20:46.000000000,2021-07-29 19:20:46.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 20:53:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eba3be96bd00de955f1703bf19a1800a72c9fc37', 'message': 'Copy generated /boot/grub2/grubenv to EFI dirs\n\nThere is an issue with grub2 in rhel-8.2 where generating grub.cfg in\nan EFI directory will regenerate grubenv in /boot/grub2. Then when the\nhost is rebooted, the stale grubenv file in the EFI directory is used,\nand any new kernal args are not used.\n\nThis change works around this by copying /boot/grub2/grubenv to the\nEFI directories. Newer versions of grub2 many not show this behaviour\nbut the workaround can remain in place.\n\nThis change also adds /boot/efi/EFI/BOOT to the list of EFI\ndirectories checked for, as it should have been in the original list.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1974507\n\nChange-Id: I4f8664c9033502b25b40646cfd8976cc5638e643\n(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)\n'}]",0,802806,eba3be96bd00de955f1703bf19a1800a72c9fc37,7,3,1,4571,,,0,"Copy generated /boot/grub2/grubenv to EFI dirs

There is an issue with grub2 in rhel-8.2 where generating grub.cfg in
an EFI directory will regenerate grubenv in /boot/grub2. Then when the
host is rebooted, the stale grubenv file in the EFI directory is used,
and any new kernal args are not used.

This change works around this by copying /boot/grub2/grubenv to the
EFI directories. Newer versions of grub2 many not show this behaviour
but the workaround can remain in place.

This change also adds /boot/efi/EFI/BOOT to the list of EFI
directories checked for, as it should have been in the original list.

See https://bugzilla.redhat.com/show_bug.cgi?id=1974507

Change-Id: I4f8664c9033502b25b40646cfd8976cc5638e643
(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/802806/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,eba3be96bd00de955f1703bf19a1800a72c9fc37,ussuri/grubenv," - /boot/efi/EFI/BOOT - /boot/efi/EFI/redhat - /boot/efi/EFI/centos - /boot/efi/EFI/fedora command: ""grub2-mkconfig -o /boot/grub2/grub.cfg"" - name: Generate EFI grub config command: ""grub2-mkconfig -o {{ item.stat.path }}/grub.cfg"" when: item.stat.exists|bool loop: ""{{ grub_stat.results }}"" - name: Copy grubenv to EFI directory copy: remote_src: true src: /boot/grub2/grubenv dest: ""{{ item.stat.path }}/grubenv"""," - /boot/grub2/grub.cfg - /boot/efi/EFI/redhat/grub.cfg - /boot/efi/EFI/centos/grub.cfg - /boot/efi/EFI/fedora/grub.cfg command: ""grub2-mkconfig -o {{ item.stat.path }}""",16,5
openstack%2Fopenstacksdk~feature%2Fr1~Ie71c4f818d5adc82466e06d994c258af271b5793,openstack/openstacksdk,feature/r1,Ie71c4f818d5adc82466e06d994c258af271b5793,Extend has_version function to accept version parameter,MERGED,2021-07-29 16:08:18.000000000,2021-07-29 19:12:28.000000000,2021-07-29 19:08:15.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32493}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-07-29 16:08:18.000000000', 'files': ['openstack/cloud/openstackcloud.py', 'openstack/tests/functional/block_storage/v2/base.py', 'openstack/tests/functional/block_storage/v3/base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a8c3cb29f29470529e5ebbd0c02ea8e34aca0b69', 'message': 'Extend has_version function to accept version parameter\n\nWe might need not only to check whether the service is supported, but\nalso whether specific version of the service is working.\nExtend functional tests of the block-storage to actually check specific\nversion.\n\nChange-Id: Ie71c4f818d5adc82466e06d994c258af271b5793\n(cherry picked from commit 0bc47cdb933e12fd142747371720e8a1f74cb795)\n'}]",0,802930,a8c3cb29f29470529e5ebbd0c02ea8e34aca0b69,9,4,1,16643,,,0,"Extend has_version function to accept version parameter

We might need not only to check whether the service is supported, but
also whether specific version of the service is working.
Extend functional tests of the block-storage to actually check specific
version.

Change-Id: Ie71c4f818d5adc82466e06d994c258af271b5793
(cherry picked from commit 0bc47cdb933e12fd142747371720e8a1f74cb795)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/30/802930/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/openstackcloud.py', 'openstack/tests/functional/block_storage/v2/base.py', 'openstack/tests/functional/block_storage/v3/base.py']",3,a8c3cb29f29470529e5ebbd0c02ea8e34aca0b69,," if not self.user_cloud.has_service('block-storage', '3'):", if not self.user_cloud.has_service('block-storage'):,13,6
openstack%2Ftripleo-ansible~stable%2Fvictoria~I4f8664c9033502b25b40646cfd8976cc5638e643,openstack/tripleo-ansible,stable/victoria,I4f8664c9033502b25b40646cfd8976cc5638e643,Copy generated /boot/grub2/grubenv to EFI dirs,MERGED,2021-07-28 20:52:41.000000000,2021-07-29 18:55:49.000000000,2021-07-29 18:55:49.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 20:52:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e00dfa49cdb6e294b202574b3200dfc396672ac', 'message': 'Copy generated /boot/grub2/grubenv to EFI dirs\n\nThere is an issue with grub2 in rhel-8.2 where generating grub.cfg in\nan EFI directory will regenerate grubenv in /boot/grub2. Then when the\nhost is rebooted, the stale grubenv file in the EFI directory is used,\nand any new kernal args are not used.\n\nThis change works around this by copying /boot/grub2/grubenv to the\nEFI directories. Newer versions of grub2 many not show this behaviour\nbut the workaround can remain in place.\n\nThis change also adds /boot/efi/EFI/BOOT to the list of EFI\ndirectories checked for, as it should have been in the original list.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1974507\n\nChange-Id: I4f8664c9033502b25b40646cfd8976cc5638e643\n(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)\n'}]",0,802805,4e00dfa49cdb6e294b202574b3200dfc396672ac,7,3,1,4571,,,0,"Copy generated /boot/grub2/grubenv to EFI dirs

There is an issue with grub2 in rhel-8.2 where generating grub.cfg in
an EFI directory will regenerate grubenv in /boot/grub2. Then when the
host is rebooted, the stale grubenv file in the EFI directory is used,
and any new kernal args are not used.

This change works around this by copying /boot/grub2/grubenv to the
EFI directories. Newer versions of grub2 many not show this behaviour
but the workaround can remain in place.

This change also adds /boot/efi/EFI/BOOT to the list of EFI
directories checked for, as it should have been in the original list.

See https://bugzilla.redhat.com/show_bug.cgi?id=1974507

Change-Id: I4f8664c9033502b25b40646cfd8976cc5638e643
(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/802805/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,4e00dfa49cdb6e294b202574b3200dfc396672ac,victoria/grubenv," - /boot/efi/EFI/BOOT - /boot/efi/EFI/redhat - /boot/efi/EFI/centos - /boot/efi/EFI/fedora command: ""grub2-mkconfig -o /boot/grub2/grub.cfg"" - name: Generate EFI grub config command: ""grub2-mkconfig -o {{ item.stat.path }}/grub.cfg"" when: item.stat.exists|bool loop: ""{{ grub_stat.results }}"" - name: Copy grubenv to EFI directory copy: remote_src: true src: /boot/grub2/grubenv dest: ""{{ item.stat.path }}/grubenv"""," - /boot/grub2/grub.cfg - /boot/efi/EFI/redhat/grub.cfg - /boot/efi/EFI/centos/grub.cfg - /boot/efi/EFI/fedora/grub.cfg command: ""grub2-mkconfig -o {{ item.stat.path }}""",16,5
openstack%2Ftripleo-heat-templates~master~I9014ad0c7fae391dec4ad70bcbc0728667d413c5,openstack/tripleo-heat-templates,master,I9014ad0c7fae391dec4ad70bcbc0728667d413c5,Enable ovn-monitor-all option to ovn-controller,MERGED,2021-07-20 12:41:52.000000000,2021-07-29 18:49:25.000000000,2021-07-29 18:48:00.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-20 12:41:52.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml', 'releasenotes/notes/ovn-monitor-all-2fefb215c6f7166c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc934d18a47bca5dcfb78f9ab903d3a6042706f5', 'message': ""Enable ovn-monitor-all option to ovn-controller\n\nWith conditional monitoring enabled in OVN, southbound ovsdb-serve\ntakes lot of time in handling the monitoring and sending the updates\nto all its connected clients. Its takes lot of CPU. With monitor-all\noption, all ovn-controllers do not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\nEnable this for all deployments is-lowrisk and user shoudn't have\nposibilities to modified this manually form tht level.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455\nCloses-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5\n""}]",0,801459,bc934d18a47bca5dcfb78f9ab903d3a6042706f5,17,5,1,11082,,,0,"Enable ovn-monitor-all option to ovn-controller

With conditional monitoring enabled in OVN, southbound ovsdb-serve
takes lot of time in handling the monitoring and sending the updates
to all its connected clients. Its takes lot of CPU. With monitor-all
option, all ovn-controllers do not enable conditional monitoring there
by reducing the load on the Southbound ovsdb-server.
Enable this for all deployments is-lowrisk and user shoudn't have
posibilities to modified this manually form tht level.

Depends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455
Closes-Bug: #1936781
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
Change-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/801459/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ovn/ovn-controller-container-puppet.yaml', 'releasenotes/notes/ovn-monitor-all-2fefb215c6f7166c.yaml']",2,bc934d18a47bca5dcfb78f9ab903d3a6042706f5,ovn-monitor-all,"--- features: - | With conditional monitoring enabled in OVN, southbound ovsdb-serve takes lot of time in handling the monitoring and sending the updates to all its connected clients. Its takes lot of CPU. With monitor-all option, all ovn-controllers do not enable conditional monitoring there by reducing the load on the Southbound ovsdb-server. ",,9,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I4f8664c9033502b25b40646cfd8976cc5638e643,openstack/tripleo-ansible,stable/wallaby,I4f8664c9033502b25b40646cfd8976cc5638e643,Copy generated /boot/grub2/grubenv to EFI dirs,MERGED,2021-07-28 20:51:55.000000000,2021-07-29 18:48:06.000000000,2021-07-29 18:48:06.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 20:51:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e54413cb10f3f29f82a9004d9a6a159d79be04ba', 'message': 'Copy generated /boot/grub2/grubenv to EFI dirs\n\nThere is an issue with grub2 in rhel-8.2 where generating grub.cfg in\nan EFI directory will regenerate grubenv in /boot/grub2. Then when the\nhost is rebooted, the stale grubenv file in the EFI directory is used,\nand any new kernal args are not used.\n\nThis change works around this by copying /boot/grub2/grubenv to the\nEFI directories. Newer versions of grub2 many not show this behaviour\nbut the workaround can remain in place.\n\nThis change also adds /boot/efi/EFI/BOOT to the list of EFI\ndirectories checked for, as it should have been in the original list.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1974507\n\nChange-Id: I4f8664c9033502b25b40646cfd8976cc5638e643\n(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)\n'}]",0,802804,e54413cb10f3f29f82a9004d9a6a159d79be04ba,7,3,1,4571,,,0,"Copy generated /boot/grub2/grubenv to EFI dirs

There is an issue with grub2 in rhel-8.2 where generating grub.cfg in
an EFI directory will regenerate grubenv in /boot/grub2. Then when the
host is rebooted, the stale grubenv file in the EFI directory is used,
and any new kernal args are not used.

This change works around this by copying /boot/grub2/grubenv to the
EFI directories. Newer versions of grub2 many not show this behaviour
but the workaround can remain in place.

This change also adds /boot/efi/EFI/BOOT to the list of EFI
directories checked for, as it should have been in the original list.

See https://bugzilla.redhat.com/show_bug.cgi?id=1974507

Change-Id: I4f8664c9033502b25b40646cfd8976cc5638e643
(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/802804/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,e54413cb10f3f29f82a9004d9a6a159d79be04ba,wallaby/grubenv," - /boot/efi/EFI/BOOT - /boot/efi/EFI/redhat - /boot/efi/EFI/centos - /boot/efi/EFI/fedora command: ""grub2-mkconfig -o /boot/grub2/grub.cfg"" - name: Generate EFI grub config command: ""grub2-mkconfig -o {{ item.stat.path }}/grub.cfg"" when: item.stat.exists|bool loop: ""{{ grub_stat.results }}"" - name: Copy grubenv to EFI directory copy: remote_src: true src: /boot/grub2/grubenv dest: ""{{ item.stat.path }}/grubenv"""," - /boot/grub2/grub.cfg - /boot/efi/EFI/redhat/grub.cfg - /boot/efi/EFI/centos/grub.cfg - /boot/efi/EFI/fedora/grub.cfg command: ""grub2-mkconfig -o {{ item.stat.path }}""",16,5
openstack%2Ftripleo-heat-templates~master~I9c3a38b828404b559ca4858e1d4e1297aa668301,openstack/tripleo-heat-templates,master,I9c3a38b828404b559ca4858e1d4e1297aa668301,Add CephAdmDebug parameter,MERGED,2021-07-19 16:04:46.000000000,2021-07-29 18:48:03.000000000,2021-07-29 18:48:03.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-19 16:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70cbe28329ef2a34b01f7f47217b2b71264dfa19', 'message': 'Add CephAdmDebug parameter\n\nThis change adds the cephadm debug parameter to allow operators to\nset the debug related config-key and see a more verbose output.\n\nDepends-On: Ic2e54e537b50cb92b1650e78f1af61703e877763\nChange-Id: I9c3a38b828404b559ca4858e1d4e1297aa668301\n'}, {'number': 2, 'created': '2021-07-19 16:07:40.000000000', 'files': ['deployment/cephadm/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf0b6a161c7425a149b453705b33f9f79fd08e87', 'message': 'Add CephAdmDebug parameter\n\nThis change adds the cephadm debug parameter to allow operators to\nset the debug related config-key and see a more verbose output.\n\nDepends-On: Ic2e54e537b50cb92b1650e78f1af61703e877763\nChange-Id: I9c3a38b828404b559ca4858e1d4e1297aa668301\n'}]",0,801348,cf0b6a161c7425a149b453705b33f9f79fd08e87,17,8,2,25402,,,0,"Add CephAdmDebug parameter

This change adds the cephadm debug parameter to allow operators to
set the debug related config-key and see a more verbose output.

Depends-On: Ic2e54e537b50cb92b1650e78f1af61703e877763
Change-Id: I9c3a38b828404b559ca4858e1d4e1297aa668301
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/801348/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,70cbe28329ef2a34b01f7f47217b2b71264dfa19,cephadm_debug_mode," CephAdmDebug: type: boolean default: false description: | If this parameter is true, than cephadm sets the debug related mgr config-key and produces a more verbose output. tripleo_cephadm_debug: {get_param: CephAdmDebug}",,7,0
openstack%2Ftripleo-heat-templates~master~I91f23f8508201d2489650d1121019b7e71ccc768,openstack/tripleo-heat-templates,master,I91f23f8508201d2489650d1121019b7e71ccc768,Octavia: Remove unused cleanup tasks of tls_proxy container,MERGED,2021-06-26 06:13:15.000000000,2021-07-29 18:47:56.000000000,2021-07-29 18:47:56.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-26 06:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2062f43cf827e7c222c0f880b404f64bb9c2f00b', 'message': 'Octavia: Remove redundant cleanup of tls_proxy\n\nThe octavia_tls_proxy container was removed during the Rocky cycle by\ncommit f4460a580d24a709a4b2dede807b57fa9ab24f2b .\n\nThe octavia_tls_proxy container might be deployed in an old Queens\ndeployment but the container should be deleted when the deployment is\nupdated/upgraded to one of\n - Latest Queens\n - Rocky\n - Train\nso the cleanup step is no longer required in Ussuri and later.\n\nChange-Id: I91f23f8508201d2489650d1121019b7e71ccc768\n'}, {'number': 2, 'created': '2021-06-26 06:23:51.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d5419a1f31c2e382c0160d254af49e58f85e347', 'message': 'Octavia: Remove unused cleanup tasks of tls_proxy container\n\nThe octavia_tls_proxy container was removed during the Rocky cycle by\ncommit f4460a580d24a709a4b2dede807b57fa9ab24f2b .\n\nThe octavia_tls_proxy container might be deployed in an old Queens\ndeployment but the container should be deleted when the deployment is\nupdated/upgraded to one of\n - Latest Queens (before to Train)\n - Rocky\nso the cleanup step is no longer required in Stein and later.\n\nCloses-Bug: #1933712\nChange-Id: I91f23f8508201d2489650d1121019b7e71ccc768\n'}]",2,798185,5d5419a1f31c2e382c0160d254af49e58f85e347,12,5,2,9816,,,0,"Octavia: Remove unused cleanup tasks of tls_proxy container

The octavia_tls_proxy container was removed during the Rocky cycle by
commit f4460a580d24a709a4b2dede807b57fa9ab24f2b .

The octavia_tls_proxy container might be deployed in an old Queens
deployment but the container should be deleted when the deployment is
updated/upgraded to one of
 - Latest Queens (before to Train)
 - Rocky
so the cleanup step is no longer required in Stein and later.

Closes-Bug: #1933712
Change-Id: I91f23f8508201d2489650d1121019b7e71ccc768
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/798185/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,2062f43cf827e7c222c0f880b404f64bb9c2f00b,bug/1933712,," - name: Set internal tls variable set_fact: internal_tls_enabled: {get_param: EnableInternalTLS} - name: remove TLS proxy if configured and running when: - step|int == 2 - internal_tls_enabled|bool block: &remove_octavia_tls_proxy_tasks - name: stop and remove octavia_api_tls_proxy container if docker docker: name: octavia_api_tls_proxy state: absent when: container_cli == 'docker' - name: ""check if tripleo_octavia_api_tls_proxy service exists in systemd"" stat: path: ""/etc/systemd/system/tripleo_octavia_api_tls_proxy.service"" register: systemd_exists - name: Remove tripleo_octavia_api_tls_proxy service when: - container_cli == 'podman' - systemd_exists.stat.exists block: - name: stop and disable octavia_api_tls_proxy container systemd: name: tripleo_octavia_api_tls_proxy state: stopped enabled: no - name: clean up tripleo service file for octavia_api_tls_proxy file: state: absent path: ""/etc/systemd/system/tripleo_octavia_api_tls_proxy.service"" - name: reload systemd systemd: daemon-reload: yes - name: Set internal tls variable set_fact: internal_tls_enabled: {get_param: EnableInternalTLS} - name: remove TLS proxy if configured and running when: - step|int == 2 - internal_tls_enabled|bool block: *remove_octavia_tls_proxy_tasks",0,43
openstack%2Ftripleo-quickstart-extras~master~I3155bfb54f8cd227a6a3d3f9aaffd777e2074418,openstack/tripleo-quickstart-extras,master,I3155bfb54f8cd227a6a3d3f9aaffd777e2074418,Update default var for undercloud_enable_novajoin,MERGED,2021-03-24 02:08:05.000000000,2021-07-29 18:47:54.000000000,2021-07-29 18:47:54.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-24 02:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/470bd85cfe92fca86fce178a8b0e4e48ea7432db', 'message': 'Update default var for undercloud_enable_novajoin\n\nUpdating default var for ""undercloud_enable_novajoin"" to only enable\nfor train and earlier as novajoin is no longer supported for recent\nbranches[1].\n\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/tls-introduction.html\n\nChange-Id: I3155bfb54f8cd227a6a3d3f9aaffd777e2074418\n'}, {'number': 2, 'created': '2021-07-14 10:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c7ef7a9b30035539e69b5a5df59ada74c5bc7757', 'message': 'Update default var for undercloud_enable_novajoin\n\nUpdating default var for ""undercloud_enable_novajoin"" to only enable\nfor train and earlier as novajoin is no longer supported for recent\nbranches[1].\n\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/tls-introduction.html\n\nChange-Id: I3155bfb54f8cd227a6a3d3f9aaffd777e2074418\n'}, {'number': 3, 'created': '2021-07-14 10:31:43.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/87d05cec4ddbe597b20408555327548072fa4d61', 'message': 'Update default var for undercloud_enable_novajoin\n\nUpdating default var for ""undercloud_enable_novajoin"" to only enable\nfor train and earlier as novajoin is no longer supported for recent\nbranches[1].\n\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/tls-introduction.html\n\nChange-Id: I3155bfb54f8cd227a6a3d3f9aaffd777e2074418\n'}]",5,782627,87d05cec4ddbe597b20408555327548072fa4d61,23,6,3,29775,,,0,"Update default var for undercloud_enable_novajoin

Updating default var for ""undercloud_enable_novajoin"" to only enable
for train and earlier as novajoin is no longer supported for recent
branches[1].

[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/tls-introduction.html

Change-Id: I3155bfb54f8cd227a6a3d3f9aaffd777e2074418
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/782627/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,470bd85cfe92fca86fce178a8b0e4e48ea7432db,update_novajoin_default,"undercloud_enable_novajoin: >- {% if release in ['queens', 'rocky', 'stein', 'train'] -%} True {%- else -%} False {%- endif -%}",undercloud_enable_novajoin: true,6,1
openstack%2Fironic~bugfix%2F18.0~I03fdb48e47c9557c207a20ee876eccf3f3459d9f,openstack/ironic,bugfix/18.0,I03fdb48e47c9557c207a20ee876eccf3f3459d9f,Refactor iDRAC OEM extension manager calls,MERGED,2021-06-08 10:37:38.000000000,2021-07-29 18:40:21.000000000,2021-07-29 18:38:30.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-06-08 10:37:38.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/modules/drac/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d645d789188530c9c00b7d263edb47df4cc8aca', 'message': 'Refactor iDRAC OEM extension manager calls\n\n- Re-usable helper created to avoid duplication.\n- Although there is only one manager for system in known iDRAC systems\nstill iterate through collection for future changes.\n- Restructured exception raising and error logging for better feedback.\n- Removed some unit tests to avoid duplication that is covered by\nmethod specific unit tests\n\nChange-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f\n(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)\n'}]",0,795276,7d645d789188530c9c00b7d263edb47df4cc8aca,14,3,1,23851,,,0,"Refactor iDRAC OEM extension manager calls

- Re-usable helper created to avoid duplication.
- Although there is only one manager for system in known iDRAC systems
still iterate through collection for future changes.
- Restructured exception raising and error logging for better feedback.
- Removed some unit tests to avoid duplication that is covered by
method specific unit tests

Change-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f
(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/795276/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/utils.py']",10,7d645d789188530c9c00b7d263edb47df4cc8aca,oem-manager-refactor-fwu-bugfix/18.0,"# Copyright (c) 2021 Dell Inc. or its subsidiaries. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log from oslo_utils import importutils from ironic.common import exception from ironic.drivers.modules.redfish import utils as redfish_utils LOG = log.getLogger(__name__) sushy = importutils.try_import('sushy') def execute_oem_manager_method( task, process_name, lambda_oem_func, pass_manager=False): """"""Loads OEM manager and executes passed method on it. Known iDRAC Redfish systems has only one manager, but as Redfish schema allows a list this method iterates through all values in case this changes in future. If there are several managers, this will try starting from the first in the list until the first success. :param task: a TaskManager instance. :param process_name: user friendly name of method to be executed. Used in exception and log messages. :param lambda_oem_func: method to execute as lambda function with input parameter OEM extension manager. Example: lambda m: m.reset_idrac() For older versions also support second input parameter Redfish manager itself when pass_manager set to True. :param pass_manager: whether to pass manager itself to executed OEM extension method. This is for backward compability, new functions must not pass manager, but acquire it internally. Will be removed in future. :returns: Returned value of lambda_oem_func :raises: RedfishError if can't execute OEM function either because there are no managers to the system, failed to load OEM extension or execution of the OEM method failed itself. """""" system = redfish_utils.get_system(task.node) if not system.managers: raise exception.RedfishError( ""System %(system)s has no managers"" % {'system': system.uuid if system.uuid else system.identity}) oem_error_msgs = [] for manager in system.managers: # This call makes Sushy go fishing in the ocean of Sushy # OEM extensions installed on the system. If it finds one # for 'Dell' which implements the 'Manager' resource # extension, it uses it to create an object which # instantiates itself from the OEM JSON. The object is # returned here. # # If the extension could not be found for one manager, it # will not be found for any others until it is installed, so # abruptly exit the for loop. The vendor and resource name, # 'Dell' and 'Manager', respectively, used to search for the # extension are invariant in the loop. try: manager_oem = manager.get_oem_extension('Dell') except sushy.exceptions.OEMExtensionNotFoundError as e: error_msg = (_(""Search for Sushy OEM extension Python package "" ""'sushy-oem-idrac' failed for node %(node)s. "" ""Ensure it is installed. Error: %(error)s"") % {'node': task.node.uuid, 'error': e}) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) try: if pass_manager: result = lambda_oem_func(manager_oem, manager) else: result = lambda_oem_func(manager_oem) LOG.info(""Completed: %(process_name)s with system %(system)s "" ""manager %(manager)s for node %(node)s"", {'process_name': process_name, 'system': system.uuid if system.uuid else system.identity, 'manager': manager.uuid if manager.uuid else manager.identity, 'node': task.node.uuid}) return result except sushy.exceptions.SushyError as e: error_msg = (_(""Manager %(manager)s: %(error)s"" % {'manager': manager.uuid if manager.uuid else manager.identity, 'error': e})) LOG.debug(""Failed: %(process_name)s with system %(system)s "" ""for node %(node)s. Will try next manager, if "" ""available. Error: %(error)s"", {'process_name': process_name, 'system': system.uuid if system.uuid else system.identity, 'node': task.node.uuid, 'error': error_msg}) oem_error_msgs.append(error_msg) else: error_msg = (_('In system %(system)s for node %(node)s all managers ' 'failed: %(process_name)s. Errors: %(oem_error_msgs)s' % {'system': system.uuid if system.uuid else system.identity, 'node': task.node.uuid, 'process_name': process_name, 'oem_error_msgs': oem_error_msgs if oem_error_msgs else 'unknown'})) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) ",,295,564
openstack%2Fswift~master~Ia952303a16457a5075e9a4e060806855c21577f5,openstack/swift,master,Ia952303a16457a5075e9a4e060806855c21577f5,diskfile: Stop raising ENOENT when we race to mark durable,MERGED,2021-07-28 18:22:23.000000000,2021-07-29 18:38:46.000000000,2021-07-29 18:37:15.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 18:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/884790119b15a32051e80f8e4b9ec09ce8ad5d9d', 'message': 'diskfile: Stop raising ENOENT when we race to mark durable\n\nChange-Id: Ia952303a16457a5075e9a4e060806855c21577f5\n'}, {'number': 2, 'created': '2021-07-28 20:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/00a3e47578e951cdb7d335bbd745c772d4b365b1', 'message': 'diskfile: Stop raising ENOENT when we race to mark durable\n\nChange-Id: Ia952303a16457a5075e9a4e060806855c21577f5\n'}, {'number': 3, 'created': '2021-07-29 16:21:27.000000000', 'files': ['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c9b0795b9ecc430839eb3783327eb9c7c4aad5f8', 'message': 'diskfile: Stop raising ENOENT when we race to mark durable\n\nChange-Id: Ia952303a16457a5075e9a4e060806855c21577f5\n'}]",4,802768,c9b0795b9ecc430839eb3783327eb9c7c4aad5f8,18,4,3,15343,,,0,"diskfile: Stop raising ENOENT when we race to mark durable

Change-Id: Ia952303a16457a5075e9a4e060806855c21577f5
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/802768/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",2,884790119b15a32051e80f8e4b9ec09ce8ad5d9d,, elif any(frag_set['timestamp'] >= timestamp, elif any(frag_set['timestamp'] > timestamp,46,1
openstack%2Frequirements~master~I96ec98b4cf5597d1b0f742a86709680ec29c665f,openstack/requirements,master,I96ec98b4cf5597d1b0f742a86709680ec29c665f,update constraint for tempest to new release 28.0.0,MERGED,2021-07-29 10:53:28.000000000,2021-07-29 18:22:54.000000000,2021-07-29 18:21:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-29 10:53:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c6674da657c29083e7a275f991a3a8260bdaf6f2', 'message': 'update constraint for tempest to new release 28.0.0\n\nmeta: version: 28.0.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta: release:Commit: Ghanshyam <gmann@ghanshyammann.com>\nmeta: release:Change-Id: I5e3bec00a75a3213e0aab810a6e797f3e34d5d08\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Martin Kopec <mkopec@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I96ec98b4cf5597d1b0f742a86709680ec29c665f\n'}]",0,802861,c6674da657c29083e7a275f991a3a8260bdaf6f2,9,3,1,11131,,,0,"update constraint for tempest to new release 28.0.0

meta: version: 28.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta: release:Commit: Ghanshyam <gmann@ghanshyammann.com>
meta: release:Change-Id: I5e3bec00a75a3213e0aab810a6e797f3e34d5d08
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Martin Kopec <mkopec@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I96ec98b4cf5597d1b0f742a86709680ec29c665f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/802861/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c6674da657c29083e7a275f991a3a8260bdaf6f2,new-release,tempest===28.0.0,tempest===27.0.0,1,1
openstack%2Frequirements~stable%2Fussuri~I9db20038befc3cfb2731a031d28fa17ca32e1bac,openstack/requirements,stable/ussuri,I9db20038befc3cfb2731a031d28fa17ca32e1bac,update constraint for python-tackerclient to new release 1.1.1,MERGED,2021-07-29 10:15:13.000000000,2021-07-29 18:21:35.000000000,2021-07-29 18:21:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-29 10:15:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/907f01f6be474d1783ef45485dd1baf1eb3e5f10', 'message': 'update constraint for python-tackerclient to new release 1.1.1\n\nmeta: version: 1.1.1\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I68e718e93c51c9e4111f4a8a2072e218fe04884a\nmeta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I9db20038befc3cfb2731a031d28fa17ca32e1bac\n'}]",0,802856,907f01f6be474d1783ef45485dd1baf1eb3e5f10,7,3,1,11131,,,0,"update constraint for python-tackerclient to new release 1.1.1

meta: version: 1.1.1
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I68e718e93c51c9e4111f4a8a2072e218fe04884a
meta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I9db20038befc3cfb2731a031d28fa17ca32e1bac
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/802856/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,907f01f6be474d1783ef45485dd1baf1eb3e5f10,new-release,python-tackerclient===1.1.1;python_version=='3.6' python-tackerclient===1.1.1;python_version=='3.7' python-tackerclient===1.1.1;python_version=='3.8',python-tackerclient===1.1.0;python_version=='3.6' python-tackerclient===1.1.0;python_version=='3.7' python-tackerclient===1.1.0;python_version=='3.8',3,3
openstack%2Frequirements~stable%2Fussuri~I4b508dd1d50492e4de7a165db00a122f7660e6b8,openstack/requirements,stable/ussuri,I4b508dd1d50492e4de7a165db00a122f7660e6b8,update constraint for kuryr-lib to new release 2.0.1,MERGED,2021-07-29 09:59:51.000000000,2021-07-29 18:06:25.000000000,2021-07-29 18:06:25.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-29 09:59:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/77541a721581214762d74df71596e7baf7286820', 'message': 'update constraint for kuryr-lib to new release 2.0.1\n\nmeta: version: 2.0.1\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ic516b58b1f73d350091cf0d7fa78f472abf300c8\nmeta: release:Code-Review+1: Maysa de Macedo Souza <maysa.macedo95@gmail.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I4b508dd1d50492e4de7a165db00a122f7660e6b8\n'}]",0,802853,77541a721581214762d74df71596e7baf7286820,7,3,1,11131,,,0,"update constraint for kuryr-lib to new release 2.0.1

meta: version: 2.0.1
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ic516b58b1f73d350091cf0d7fa78f472abf300c8
meta: release:Code-Review+1: Maysa de Macedo Souza <maysa.macedo95@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I4b508dd1d50492e4de7a165db00a122f7660e6b8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/802853/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,77541a721581214762d74df71596e7baf7286820,new-release,kuryr-lib===2.0.1,kuryr-lib===2.0.0,1,1
openstack%2Frequirements~master~I9166cfa1e80c2fd4537720d86bed5bbb49e90e21,openstack/requirements,master,I9166cfa1e80c2fd4537720d86bed5bbb49e90e21,update constraint for horizon to new release 20.0.0,MERGED,2021-07-29 09:26:00.000000000,2021-07-29 17:56:04.000000000,2021-07-29 17:54:51.000000000,"[{'_account_id': 6732}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-29 09:26:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f74c6dedba1930d1d01e7697ee2d0b9b7088954b', 'message': 'update constraint for horizon to new release 20.0.0\n\nmeta: version: 20.0.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Commit: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Change-Id: I392217ea8d18b1347a71b3f782350280b234a3db\nmeta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Itsik Kanias <ikanias@redhat.com>\nmeta: release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I9166cfa1e80c2fd4537720d86bed5bbb49e90e21\n'}]",0,802852,f74c6dedba1930d1d01e7697ee2d0b9b7088954b,10,4,1,11131,,,0,"update constraint for horizon to new release 20.0.0

meta: version: 20.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: manchandavishal <manchandavishal143@gmail.com>
meta: release:Commit: manchandavishal <manchandavishal143@gmail.com>
meta: release:Change-Id: I392217ea8d18b1347a71b3f782350280b234a3db
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Itsik Kanias <ikanias@redhat.com>
meta: release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I9166cfa1e80c2fd4537720d86bed5bbb49e90e21
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/802852/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f74c6dedba1930d1d01e7697ee2d0b9b7088954b,new-release,horizon===20.0.0,horizon===19.2.0,1,1
openstack%2Fcharm-neutron-api~stable%2F21.04~I75fdd192144138fa5bf09c278d5507ca8c5366d1,openstack/charm-neutron-api,stable/21.04,I75fdd192144138fa5bf09c278d5507ca8c5366d1,Fixes disabling fwaas,MERGED,2021-07-21 13:05:13.000000000,2021-07-29 17:47:11.000000000,2021-07-29 17:47:11.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-21 13:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/6ca6565b1569dd2b9a2ed75673e30bcc121d6775', 'message': 'Fixes disabling fwaas\n\nCommit 00e7c8b added support for disabling fwaas but\nforgot to remove the firewall plugin from service_plugins\nonce the fwaas package has been removed. This patch fixes\nthat.\n\nChange-Id: I75fdd192144138fa5bf09c278d5507ca8c5366d1\nCloses-Bug: #1934129\n(cherry picked from commit a144a583196ef6b655a7ad60eaab2f8f97a6a5ee)\n'}, {'number': 2, 'created': '2021-07-29 14:58:46.000000000', 'files': ['hooks/neutron_api_context.py', 'unit_tests/test_neutron_api_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/ea7e7dd2c66c73a470f39b0fab1d1e33878dec25', 'message': 'Fixes disabling fwaas\n\nCommit 00e7c8b added support for disabling fwaas but\nforgot to remove the firewall plugin from service_plugins\nonce the fwaas package has been removed. This patch fixes\nthat.\n\nChange-Id: I75fdd192144138fa5bf09c278d5507ca8c5366d1\nCloses-Bug: #1934129\n(cherry picked from commit a144a583196ef6b655a7ad60eaab2f8f97a6a5ee)\n'}]",0,801619,ea7e7dd2c66c73a470f39b0fab1d1e33878dec25,14,5,2,6737,,,0,"Fixes disabling fwaas

Commit 00e7c8b added support for disabling fwaas but
forgot to remove the firewall plugin from service_plugins
once the fwaas package has been removed. This patch fixes
that.

Change-Id: I75fdd192144138fa5bf09c278d5507ca8c5366d1
Closes-Bug: #1934129
(cherry picked from commit a144a583196ef6b655a7ad60eaab2f8f97a6a5ee)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/19/801619/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_context.py', 'unit_tests/test_neutron_api_context.py']",2,6ca6565b1569dd2b9a2ed75673e30bcc121d6775,bug/1934129," plugs = {""mitaka"": [""A""], ""queens"": [""B""], ""ussuri"": [""C""]} self.assertEquals(p, [""B""]) self.assertEquals(p, [""C""]) self.assertEquals(p, [""C""]) @patch.object(context, 'NeutronLoadBalancerContext') @patch.object(context.NeutronCCContext, 'network_manager') @patch.object(context.NeutronCCContext, 'plugin') @patch('builtins.__import__') def test_neutroncc_context_no_fwaas(self, _import, plugin, nm, nlb): plugin.return_value = None self.test_config.set('enable-l3ha', True) self.test_config.set('enable-fwaas', False) self.test_config.set('enable-qos', False) self.test_config.set('enable-vlan-trunking', False) self.test_config.set('overlay-network-type', 'gre') self.test_config.set('neutron-plugin', 'ovs') self.test_config.set('l2-population', False) self.os_release.return_value = 'ussuri' self.maxDiff = None ctxt_data = { 'debug': True, 'enable_dvr': False, 'l3_ha': True, 'mechanism_drivers': 'openvswitch,hyperv', 'external_network': 'bob', 'global_physnet_mtu': 1500, 'enable_igmp_snooping': True, 'neutron_bind_port': self.api_port, 'verbose': True, 'l2_population': False, 'overlay_network_type': 'gre', 'path_mtu': 1500, 'tenant_network_types': 'gre,vlan,flat,local', 'max_l3_agents_per_router': 2, 'min_l3_agents_per_router': 2, 'network_scheduler_driver': ('neutron.scheduler.' 'dhcp_agent_scheduler.' 'AZAwareWeightScheduler'), 'allow_automatic_dhcp_failover': True, 'allow_automatic_l3agent_failover': False, 'dhcp_agents_per_network': 3, 'dhcp_load_type': 'networks', 'enable_sriov': False, 'quota_floatingip': 50, 'quota_health_monitors': -1, 'quota_member': -1, 'quota_network': 10, 'quota_pool': 10, 'quota_port': 50, 'quota_router': 10, 'quota_security_group': 10, 'quota_security_group_rule': 100, 'quota_subnet': 10, 'quota_vip': 10, 'vlan_ranges': 'physnet1:1000:2000', 'vni_ranges': '1001:2000', 'extension_drivers': 'port_security', 'router_scheduler_driver': ('neutron.scheduler.l3_agent_scheduler.' 'AZLeastRoutersScheduler'), 'service_plugins': ('router,metering,segments,' 'neutron_dynamic_routing.services.bgp.' 'bgp_plugin.BgpPlugin'), } napi_ctxt = context.NeutronCCContext() with patch.object(napi_ctxt, '_ensure_packages'): self.assertEqual(ctxt_data, napi_ctxt()) "," plugs = {""mitaka"": ""A"", ""queens"": ""B"", ""ussuri"": ""C""} self.assertEquals(p, ""B"") self.assertEquals(p, ""C"") self.assertEquals(p, ""C"")",85,9
openstack%2Fpuppet-manila~master~I77c81b79539ccedb7dbac3e30f6eb257b5f6e082,openstack/puppet-manila,master,I77c81b79539ccedb7dbac3e30f6eb257b5f6e082,Drop tenant_id templating from v2 endpoint,MERGED,2021-07-28 05:56:17.000000000,2021-07-29 17:24:29.000000000,2021-07-29 17:23:07.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 05:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c1e35293f68c4d5f6d18e73f7a2a1f70208cc4b4', 'message': 'Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for\nthe v2 endpoint to not include a tenant_id\n(project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an\nendpoint that needs the ""tenant_id"" templating,\nbecause system scoped tokens cannot be resolved\nto a particular tenant_id by definition. More\ninformation regarding this change is captured\nin the release notes for the project [2] and\nthe API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nChange-Id: I77c81b79539ccedb7dbac3e30f6eb257b5f6e082\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-07-28 06:10:23.000000000', 'files': ['releasenotes/notes/drop-project-id-endpoint-1711aaf3e3853e02.yaml', 'spec/classes/manila_keystone_auth_spec.rb', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e790080e38c665511f0c3262c514f3edac2a1de1', 'message': 'Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for\nthe v2 endpoint to not include a tenant_id\n(project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an\nendpoint that needs the ""tenant_id"" templating,\nbecause system scoped tokens cannot be resolved\nto a particular tenant_id by definition. More\ninformation regarding this change is captured\nin the release notes for the project [2] and\nthe API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nChange-Id: I77c81b79539ccedb7dbac3e30f6eb257b5f6e082\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,802656,e790080e38c665511f0c3262c514f3edac2a1de1,11,4,2,16643,,,0,"Drop tenant_id templating from v2 endpoint

Manila's wallaby release [1] made it possible for
the v2 endpoint to not include a tenant_id
(project_id). This change was made to
accommodate interactions by system scoped users.

System scoped users cannot interact with an
endpoint that needs the ""tenant_id"" templating,
because system scoped tokens cannot be resolved
to a particular tenant_id by definition. More
information regarding this change is captured
in the release notes for the project [2] and
the API reference [3].

[1] https://review.opendev.org/c/openstack/manila/+/773709
[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude
[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api

Change-Id: I77c81b79539ccedb7dbac3e30f6eb257b5f6e082
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/56/802656/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_keystone_auth_spec.rb', 'manifests/keystone/auth.pp', 'releasenotes/source/conf.py']",3,c1e35293f68c4d5f6d18e73f7a2a1f70208cc4b4,secure-rbac,"# Licensed under the Apache License, v2e"");","# Licensed under the Apache License, Version 2.0 (the ""License"");",16,16
openstack%2Fbifrost~master~I75be2f5dd10d36484a46af9d408bbb436dba0d5a,openstack/bifrost,master,I75be2f5dd10d36484a46af9d408bbb436dba0d5a,Update deprecated pxe_append_params -> kernel_append_params,MERGED,2021-07-27 09:05:39.000000000,2021-07-29 17:08:55.000000000,2021-07-29 17:07:25.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 09:05:39.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d5199cf10e7c0877d0f2361d25e9085460d12811', 'message': 'Update deprecated pxe_append_params -> kernel_append_params\n\nChange-Id: I75be2f5dd10d36484a46af9d408bbb436dba0d5a\n'}]",0,802439,d5199cf10e7c0877d0f2361d25e9085460d12811,8,3,1,10239,,,0,"Update deprecated pxe_append_params -> kernel_append_params

Change-Id: I75be2f5dd10d36484a46af9d408bbb436dba0d5a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/39/802439/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'],1,d5199cf10e7c0877d0f2361d25e9085460d12811,pxe_append_params,kernel_append_params = {{ pxe_kernel_params }},pxe_append_params = {{ pxe_kernel_params }},1,1
openstack%2Fossa~master~I1574738a9aa047314c9b933f8bbe032d346cd2d7,openstack/ossa,master,I1574738a9aa047314c9b933f8bbe032d346cd2d7,Add OSSA-2021-002 (CVE-2021-3654),MERGED,2021-07-27 17:45:32.000000000,2021-07-29 17:08:14.000000000,2021-07-29 17:06:39.000000000,"[{'_account_id': 4690}, {'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28011}]","[{'number': 1, 'created': '2021-07-27 17:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/0a79512bcbad2f33b7848d48d72c0bb118fae467', 'message': 'Add OSSA-2021-002 (TBD)\n\nChange-Id: I1574738a9aa047314c9b933f8bbe032d346cd2d7\nCloses-Bug: #1927677\n'}, {'number': 2, 'created': '2021-07-28 00:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/819ccd61d8c3ba6589a5b55988021f442c9831d9', 'message': 'Add OSSA-2021-002 (CVE-2021-3654)\n\nChange-Id: I1574738a9aa047314c9b933f8bbe032d346cd2d7\nCloses-Bug: #1927677\n'}, {'number': 3, 'created': '2021-07-28 16:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/c036f1ac65755a58f83f5e8b20c3b6525bc4037f', 'message': 'Add OSSA-2021-002 (CVE-2021-3654)\n\nChange-Id: I1574738a9aa047314c9b933f8bbe032d346cd2d7\nCloses-Bug: #1927677\n'}, {'number': 4, 'created': '2021-07-28 18:16:28.000000000', 'files': ['ossa/OSSA-2021-002.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/08f2c78ccf3688ad2ed44d0c2239742ea1693cdb', 'message': 'Add OSSA-2021-002 (CVE-2021-3654)\n\nChange-Id: I1574738a9aa047314c9b933f8bbe032d346cd2d7\nCloses-Bug: #1927677\n'}]",2,802590,08f2c78ccf3688ad2ed44d0c2239742ea1693cdb,23,5,4,5263,,,0,"Add OSSA-2021-002 (CVE-2021-3654)

Change-Id: I1574738a9aa047314c9b933f8bbe032d346cd2d7
Closes-Bug: #1927677
",git fetch https://review.opendev.org/openstack/ossa refs/changes/90/802590/4 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2021-002.yaml'],1,0a79512bcbad2f33b7848d48d72c0bb118fae467,OSSA-2021-002,"date: TBD id: OSSA-2021-002 title: Open Redirect in noVNC proxy description: > Swe Aung, Shahaan Ayyub, and Salman Khan with the Monash University Cyber Security team reported a vulnerability affecting Nova's noVNC proxying implementation which exposed access to a well-known redirect behavior in the Python standard library's http.server.SimpleHTTPRequestHandler and thus noVNC's WebSockifyRequestHandler which uses it. By convincing an authenticated user to follow a specially-crafted novncproxy URL, the user could be redirected to an unrelated site under control of the attacker where they might be convinced to divulge credentials or other sensitive data. All Nova deployments with novncproxy enabled are affected. affected-products: - product: Nova version: '<21.2.3, >=22.0.0 <22.2.3, >=23.0.0 <23.0.2' vulnerabilities: - cve-id: TBD reporters: - name: Swe Aung affiliation: Monash University Cyber Security team reported: - TBD - name: Shahaan Ayyub affiliation: Monash University Cyber Security team reported: - TBD - name: Salman Khan affiliation: Monash University Cyber Security team reported: - TBD issues: links: - https://launchpad.net/bugs/1927677 - https://bugs.python.org/issue32084 reviews: xena: - https://review.opendev.org/791297 wallaby: - https://review.opendev.org/791577 victoria: - https://review.opendev.org/791805 ussuri: - https://review.opendev.org/791806 train: - https://review.opendev.org/791807 notes: - The stable/train branch is under extended maintenance and will receive no new point releases, but a patch for it is provided as a courtesy. ",,62,0
openstack%2Fopenstacksdk~master~I44125a21161190ab43b43ce7ea4183825af0ef44,openstack/openstacksdk,master,I44125a21161190ab43b43ce7ea4183825af0ef44,Add a share network resource to shared file system,ABANDONED,2021-03-31 22:25:54.000000000,2021-07-29 17:02:12.000000000,,[{'_account_id': 33119}],"[{'number': 1, 'created': '2021-03-31 22:25:54.000000000', 'files': ['openstack/tests/unit/cloud/test_shared_file_system.py', 'openstack/shared_file_system/v2/share_network.py', 'openstack/shared_file_system/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d281b77e9a0ac01059d9529b00c838de4b43e11a', 'message': 'Add a share network resource to shared file system\n\nIntroduce Share Network class with basic methods\nincluding list, create, delete, get and update to\nshared file system share networks.\n\nhttps: //tree.taiga.io/project/ashrod98-openstacksdk-manila-support/us/12?kanban-status=2360118\nChange-Id: I44125a21161190ab43b43ce7ea4183825af0ef44\n'}]",0,784177,d281b77e9a0ac01059d9529b00c838de4b43e11a,3,1,1,33119,,,0,"Add a share network resource to shared file system

Introduce Share Network class with basic methods
including list, create, delete, get and update to
shared file system share networks.

https: //tree.taiga.io/project/ashrod98-openstacksdk-manila-support/us/12?kanban-status=2360118
Change-Id: I44125a21161190ab43b43ce7ea4183825af0ef44
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/77/784177/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_shared_file_system.py', 'openstack/shared_file_system/v2/share_network.py', 'openstack/shared_file_system/v2/_proxy.py']",3,d281b77e9a0ac01059d9529b00c838de4b43e11a,share_networks,"from openstack.shared_file_system.v2 import share_network #: Methods def list_share_networks(self): return self._list(share_network.ShareNetwork, base_path=share_network.ShareNetwork.details_path) def get_share_network(self, share_network_id): return self._get(share_network.ShareNetwork, share_network_id) def update_share_network(self, share_network_id): return self._update(share_network.ShareNetwork, share_network_id) def delete_share_network(self, share_network_id, ignore_missing=True): return self._delete(share_network.ShareNetwork, share_network_id, ignore_missing=ignore_missing)) def create_share_network(self, share_network_id): return self._create(share_network.ShareNetwork, share_network_id)",,159,1
openstack%2Fopenstacksdk~master~I8c9369f821939f3b958b7f2223ac7e4adca880bb,openstack/openstacksdk,master,I8c9369f821939f3b958b7f2223ac7e4adca880bb,Added User Message to Shared File Systems,ABANDONED,2021-03-26 06:28:18.000000000,2021-07-29 17:00:12.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32493}, {'_account_id': 32595}]","[{'number': 1, 'created': '2021-03-26 06:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d4c389aff2f732163214746cf133d9fcaf41737f', 'message': 'Added User Message to Shared File Systems\n\nChange-Id: I8c9369f821939f3b958b7f2223ac7e4adca880bb\n'}, {'number': 2, 'created': '2021-03-26 15:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0cb4280d6e77a1117eb835574863d8dc599e9dfc', 'message': 'Added User Message to Shared File Systems\n\nChange-Id: I8c9369f821939f3b958b7f2223ac7e4adca880bb\n'}, {'number': 3, 'created': '2021-06-12 14:31:35.000000000', 'files': ['releasenotes/notes/add-shared-file-systems-user-message-5c11fa6cc7716f7e.yaml', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'openstack/tests/functional/shared_file_system/test_user_message.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/shared_file_system/v2/user_message.py', 'openstack/tests/unit/shared_file_system/v2/test_user_message.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/921c585d1061a3fc80c546bf19b3f4e818b09455', 'message': 'Added User Message to Shared File Systems\n\nChange-Id: I8c9369f821939f3b958b7f2223ac7e4adca880bb\n'}]",6,783187,921c585d1061a3fc80c546bf19b3f4e818b09455,11,4,3,32595,,,0,"Added User Message to Shared File Systems

Change-Id: I8c9369f821939f3b958b7f2223ac7e4adca880bb
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/87/783187/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-shared-file-systems-user-message-5c11fa6cc7716f7e.yaml', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'openstack/tests/functional/shared_file_system/test_user_message.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/shared_file_system/v2/user_message.py', 'openstack/tests/unit/shared_file_system/v2/test_user_message.py']",6,d4c389aff2f732163214746cf133d9fcaf41737f,shared-file-system,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.shared_file_system.v2 import user_message from openstack.tests.unit import base IDENTIFIER = ""2784bc88-b729-4220-a6bb-a8b7a8f53aad"" EXAMPLE = { ""id"": IDENTIFIER, ""project_id"": ""dcc9de3c5fc8471ba3662dbb2b6166d5"", ""action_id"": ""001"", ""detail_id"": ""008"", ""message_level"": ""ERROR"", ""created_at"": ""2021-03-26T05:16:39.000000"", ""expires_at"": ""2021-04-25T05:16:39.000000"", ""request_id"": ""req-e4b3e6de-ce4d-4ef2-b1e7-0087200e4db3"", ""resource_type"": ""SHARE"", ""resource_id"": ""c2e4ca07-8c37-4014-92c9-2171c7813fa0"", ""user_message"": ""allocate host: No storage could be allocated"" + ""for this share request, Capabilities filter didn't succeed."" } class TestUserMessage(base.TestCase): def test_basic(self): message = user_message.UserMessage() self.assertEqual('messages', message.resources_key) self.assertEqual('/messages', message.base_path) self.assertTrue(message.allow_list) def test_share_type(self): messages = user_message.UserMessage(**EXAMPLE) self.assertEqual(EXAMPLE['id'], messages.id) self.assertEqual(EXAMPLE['resource_id'], messages.resource_id) self.assertEqual( EXAMPLE['message_level'], messages.message_level) self.assertEqual( EXAMPLE['user_message'], messages.user_message) self.assertEqual(EXAMPLE['expires_at'], messages.expires_at) self.assertEqual(EXAMPLE['detail_id'], messages.detail_id) self.assertEqual(EXAMPLE['created_at'], messages.created_at) self.assertEqual( EXAMPLE['request_id'], messages.request_id) self.assertEqual( EXAMPLE['project_id'], messages.project_id) self.assertEqual( EXAMPLE['resource_type'], messages.resource_type) self.assertEqual( EXAMPLE['action_id'], messages.action_id) ",,300,0
openstack%2Fnova-powervm~master~I8ad218b2e2d76a739ed5a01ffe6a05414634428f,openstack/nova-powervm,master,I8ad218b2e2d76a739ed5a01ffe6a05414634428f,Remove periodic-stable jobs,NEW,2021-07-29 16:30:04.000000000,2021-07-29 16:36:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-29 16:30:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5040ad1214b96c3b1c13e6cedf52e2fdde37c1f8', 'message': 'Remove periodic-stable jobs\n\nAs nova-powervm is not actively maintained and the periodic stable jobs\nare failing for several months now, to free up some CI resource, this\npatch removes the periodic-stable-jobs template.\n\nChange-Id: I8ad218b2e2d76a739ed5a01ffe6a05414634428f\n'}]",0,802913,5040ad1214b96c3b1c13e6cedf52e2fdde37c1f8,2,1,1,17685,,,0,"Remove periodic-stable jobs

As nova-powervm is not actively maintained and the periodic stable jobs
are failing for several months now, to free up some CI resource, this
patch removes the periodic-stable-jobs template.

Change-Id: I8ad218b2e2d76a739ed5a01ffe6a05414634428f
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/13/802913/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5040ad1214b96c3b1c13e6cedf52e2fdde37c1f8,ci-resource-free-up,, - periodic-stable-jobs,0,1
openstack%2Fnetworking-bagpipe~master~Ie0be598a44b7553834fdb7cd812e2cdec8a17922,openstack/networking-bagpipe,master,Ie0be598a44b7553834fdb7cd812e2cdec8a17922,[DNM],ABANDONED,2021-07-29 16:18:50.000000000,2021-07-29 16:23:35.000000000,,[],"[{'number': 1, 'created': '2021-07-29 16:18:50.000000000', 'files': ['networking_bagpipe/_i18n.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/340b5c678f7988239e82ef684c881044a1910379', 'message': '[DNM]\n\nTest if https://review.opendev.org/c/openstack/neutron/+/800604\nis breaking this project\n\nChange-Id: Ie0be598a44b7553834fdb7cd812e2cdec8a17922\n'}]",0,802911,340b5c678f7988239e82ef684c881044a1910379,2,0,1,16688,,,0,"[DNM]

Test if https://review.opendev.org/c/openstack/neutron/+/800604
is breaking this project

Change-Id: Ie0be598a44b7553834fdb7cd812e2cdec8a17922
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/11/802911/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/_i18n.py'],1,340b5c678f7988239e82ef684c881044a1910379,test,"TEST = """""" I think https://review.opendev.org/c/openstack/neutron/+/800604 is breaking this project """"""",,4,0
openstack%2Fironic-inspector~master~Ibc8648b64887daac6fb5ec8a6dd61d9312a52ef3,openstack/ironic-inspector,master,Ibc8648b64887daac6fb5ec8a6dd61d9312a52ef3,Increase version of hacking and pycodestyle,MERGED,2021-07-29 09:19:51.000000000,2021-07-29 15:57:21.000000000,2021-07-29 15:55:22.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 09:19:51.000000000', 'files': ['ironic_inspector/test/unit/test_common_ironic.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9cfd98e577d137e56ebbd0d42f0785fa3637e4f9', 'message': 'Increase version of hacking and pycodestyle\n\nFix errors in unit tests\n\nChange-Id: Ibc8648b64887daac6fb5ec8a6dd61d9312a52ef3\n'}]",0,802851,9cfd98e577d137e56ebbd0d42f0785fa3637e4f9,8,3,1,23851,,,0,"Increase version of hacking and pycodestyle

Fix errors in unit tests

Change-Id: Ibc8648b64887daac6fb5ec8a6dd61d9312a52ef3
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/51/802851/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_common_ironic.py', 'tox.ini']",2,9cfd98e577d137e56ebbd0d42f0785fa3637e4f9,increase-hacking-pycodestyle," hacking>=4.1.0,<5.0.0 # Apache-2.0 pycodestyle>=2.0.0,<3.0.0 # MIT"," hacking>=3.1.0,<4.0.0 # Apache-2.0 pycodestyle>=2.0.0,<2.7.0 # MIT",8,8
openstack%2Fironic~master~I189a0a8be25cb12e946d8ac58667b287f9698064,openstack/ironic,master,I189a0a8be25cb12e946d8ac58667b287f9698064,ci-workarounds/get_extra_logging.yaml : avoid grep failure,MERGED,2021-07-29 06:39:23.000000000,2021-07-29 15:57:14.000000000,2021-07-29 15:55:20.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 06:39:23.000000000', 'files': ['playbooks/ci-workarounds/get_extra_logging.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/22b4f746900f530d53ebfc9bb15a983b010d7dd3', 'message': 'ci-workarounds/get_extra_logging.yaml : avoid grep failure\n\nIf this grep doesn\'t match, the task returns a failure and it causes\nthe job to abort with POST_FAILURE.  I think more info is generally\nhelpful and you can always grep ""netstat"" on the file manually; thus\nremove the grep to avoid suprious failure.\n\nChange-Id: I189a0a8be25cb12e946d8ac58667b287f9698064\n'}]",0,802829,22b4f746900f530d53ebfc9bb15a983b010d7dd3,11,3,1,7118,,,0,"ci-workarounds/get_extra_logging.yaml : avoid grep failure

If this grep doesn't match, the task returns a failure and it causes
the job to abort with POST_FAILURE.  I think more info is generally
helpful and you can always grep ""netstat"" on the file manually; thus
remove the grep to avoid suprious failure.

Change-Id: I189a0a8be25cb12e946d8ac58667b287f9698064
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/802829/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ci-workarounds/get_extra_logging.yaml'],1,22b4f746900f530d53ebfc9bb15a983b010d7dd3,netstat-avoid-post-fail," shell: ""netstat -apn > {{ zuul_output_dir }}/logs/post-job-network-connections.txt"""," shell: ""netstat -apn |grep ironic > {{ zuul_output_dir }}/logs/post-job-network-connections.txt""",1,1
openstack%2Fkolla-ansible~master~I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,openstack/kolla-ansible,master,I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac,cyborg: add missing become for api-paste.ini,MERGED,2021-07-27 07:53:46.000000000,2021-07-29 15:56:38.000000000,2021-07-29 15:54:19.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 07:53:46.000000000', 'files': ['ansible/roles/cyborg/tasks/config.yml', 'releasenotes/notes/cyborg-become-8453d941af536e91.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5cb080247b7cbc2fdf7053e75c5173e5b9f0a6b7', 'message': 'cyborg: add missing become for api-paste.ini\n\nCo-Authored-By: Boris Lukashev\n\nChange-Id: I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac\nCloses-Bug: #1937911\n'}]",0,802430,5cb080247b7cbc2fdf7053e75c5173e5b9f0a6b7,9,3,1,14826,,,0,"cyborg: add missing become for api-paste.ini

Co-Authored-By: Boris Lukashev

Change-Id: I52eaf823ae84e01a09a6dcfcbffd7221ff8abfac
Closes-Bug: #1937911
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/802430/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cyborg/tasks/config.yml', 'releasenotes/notes/cyborg-become-8453d941af536e91.yaml']",2,5cb080247b7cbc2fdf7053e75c5173e5b9f0a6b7,,--- fixes: - | Fixes an issue with Cyborg deployment. `LP#1937911 <https://bugs.launchpad.net/kolla-ansible/+bug/1937911>`__ ,,6,0
openstack%2Fopenstack-helm-infra~master~I6579a268c5f4bc458120dda66667988e5a529ee9,openstack/openstack-helm-infra,master,I6579a268c5f4bc458120dda66667988e5a529ee9,[ceph-provisioner] Add check for empty ceph endpoint,MERGED,2021-07-27 19:01:05.000000000,2021-07-29 15:55:46.000000000,2021-07-29 15:53:13.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28275}, {'_account_id': 29974}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-07-27 19:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ff85c4b9b2a5cbc9e35a80851a5da22fd6567b9', 'message': '[ceph-provisioner] Add check for empty ceph endpoint\n\nThis is to add check to find out empty ceph mon endpoint while\ngenerating ceph etc configmap for clients.\n\nChange-Id: I6579a268c5f4bc458120dda66667988e5a529ee9\n'}, {'number': 2, 'created': '2021-07-27 19:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/044a68d4ac5253a090dd3aa4579c95c47838dd9e', 'message': '[ceph-provisioner] Add check for empty ceph endpoint\n\nThis is to add check to find out empty ceph mon endpoint while\ngenerating ceph etc configmap for clients.\n\nChange-Id: I6579a268c5f4bc458120dda66667988e5a529ee9\n'}, {'number': 3, 'created': '2021-07-28 18:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1eb631a1c8991e3321d7c19cbcc80f9ee9fbcf2', 'message': '[ceph-provisioner] Add check for empty ceph endpoint\n\nThis is to add check to find out empty ceph mon endpoint while\ngenerating ceph etc configmap for clients.\n\nChange-Id: I6579a268c5f4bc458120dda66667988e5a529ee9\n'}, {'number': 4, 'created': '2021-07-29 12:23:26.000000000', 'files': ['releasenotes/notes/ceph-provisioners.yaml', 'ceph-provisioners/templates/bin/provisioner/rbd/_namespace-client-ceph-config-manager.sh.tpl', 'ceph-provisioners/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf5f545c1c6bd7dc1c5f970633668364e850dd91', 'message': '[ceph-provisioner] Add check for empty ceph endpoint\n\nThis is to add check to find out empty ceph mon endpoint while\ngenerating ceph etc configmap for clients.\n\nChange-Id: I6579a268c5f4bc458120dda66667988e5a529ee9\n'}]",3,802605,bf5f545c1c6bd7dc1c5f970633668364e850dd91,25,7,4,28372,,,0,"[ceph-provisioner] Add check for empty ceph endpoint

This is to add check to find out empty ceph mon endpoint while
generating ceph etc configmap for clients.

Change-Id: I6579a268c5f4bc458120dda66667988e5a529ee9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/802605/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceph-provisioners.yaml', 'ceph-provisioners/templates/bin/provisioner/rbd/_namespace-client-ceph-config-manager.sh.tpl', 'ceph-provisioners/Chart.yaml']",3,7ff85c4b9b2a5cbc9e35a80851a5da22fd6567b9,,version: 0.1.10,version: 0.1.8,8,1
openstack%2Fnova~master~I7bc70c32d3d789bf0f88f897595a917156dbdd79,openstack/nova,master,I7bc70c32d3d789bf0f88f897595a917156dbdd79,Add USB keyboard to support for MIPS architecture,ABANDONED,2020-07-09 10:01:37.000000000,2021-07-29 15:50:06.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24072}, {'_account_id': 29963}, {'_account_id': 32006}]","[{'number': 1, 'created': '2020-07-09 10:01:37.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/04f9b5a76785fb86dd746bd201f266a155e68165', 'message': 'Add USB keyboard to support for MIPS architecture\n\nI use hosts with MIPS architecture to run openstack\nI launched an instance, then open the console, but can not use the keyboard.\nFrom the nova source code, I got a message :\n   Add USB keyboard as PS/2 support may not be present on non-x86 architectures.\nThen I made a patch, and it worked.\n\nChange-Id: I7bc70c32d3d789bf0f88f897595a917156dbdd79\nCloses-Bug: #1886930\n'}]",1,740213,04f9b5a76785fb86dd746bd201f266a155e68165,14,9,1,32006,,,0,"Add USB keyboard to support for MIPS architecture

I use hosts with MIPS architecture to run openstack
I launched an instance, then open the console, but can not use the keyboard.
From the nova source code, I got a message :
   Add USB keyboard as PS/2 support may not be present on non-x86 architectures.
Then I made a patch, and it worked.

Change-Id: I7bc70c32d3d789bf0f88f897595a917156dbdd79
Closes-Bug: #1886930
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/740213/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,04f9b5a76785fb86dd746bd201f266a155e68165,bug/1886930," if caps.host.cpu.arch in (fields.Architecture.AARCH64, fields.Architecture.MIPS64, fields.Architecture.MIPS64EL):", if caps.host.cpu.arch == fields.Architecture.AARCH64:,3,1
openstack%2Fnova~master~I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8,openstack/nova,master,I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8,docs: Note the ``hw_numa_nodes`` image property,ABANDONED,2019-09-23 06:29:35.000000000,2021-07-29 15:48:42.000000000,,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-23 06:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d31b371f8b10c4b664a6a871324165a2a004762b', 'message': 'Note the ``hw_numa_nodes`` image property\n\nChange-Id: I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8\nCloses-Bug: #1763761\n'}, {'number': 2, 'created': '2020-04-30 17:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3377a06f81578057781cc62fc3c907babda3966', 'message': 'docs: Note the ``hw_numa_nodes`` image property\n\nChange-Id: I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1763761\n'}, {'number': 3, 'created': '2020-05-11 12:52:09.000000000', 'files': ['doc/source/admin/cpu-topologies.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/68d72d04f051e0bdc7ff822a11fe1a798ae5879a', 'message': ""docs: Note the ``hw_numa_nodes`` image property\n\nThis requires updating the link to Glance's image metadata document.\n\nChange-Id: I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1763761\n""}]",9,683849,68d72d04f051e0bdc7ff822a11fe1a798ae5879a,28,11,3,19779,,,0,"docs: Note the ``hw_numa_nodes`` image property

This requires updating the link to Glance's image metadata document.

Change-Id: I595b800ae0c2a6a1a35c87a7d80236cf503cc8d8
Co-Authored-By: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1763761
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/683849/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/cpu-topologies.rst'],1,d31b371f8b10c4b664a6a871324165a2a004762b,bug/1763761,"topology <extra-specs-numa-topology>` guide. Other than this way, you can define numa nodes using the ``hw_numa_nodes`` image property, refer to the :glance-doc:` Image service property keys <cli/property-keys>`.",topology <extra-specs-numa-topology>` guide.,3,1
openstack%2Fnova~master~Ia40a110b4cf97163b9de19280d88eebfa5e44839,openstack/nova,master,Ia40a110b4cf97163b9de19280d88eebfa5e44839,nova.exception._clean_dict should use oslo_utils.strutils,ABANDONED,2019-01-10 05:47:29.000000000,2021-07-29 15:44:08.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-10 05:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6911dfccef1e467e8860211590cb9ddfdb353085', 'message': 'nova.exception._clean_dict should use oslo_utils.strutils\n\nnova.exception_wrapper._cleanse_dict will also remove sensitive\nkeys identified in oslo_utils.strutils._SANITIZE_KEYS\n\nChange-Id: Ia40a110b4cf97163b9de19280d88eebfa5e44839\nCloses-Bug: #1487038\n'}, {'number': 2, 'created': '2019-01-11 03:52:58.000000000', 'files': ['nova/exception_wrapper.py', 'nova/tests/unit/test_exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b84046a838cfa83f179df129bab3b3d3e78d14db', 'message': 'nova.exception._clean_dict should use oslo_utils.strutils\n\nnova.exception_wrapper._cleanse_dict will also remove sensitive\nkeys identified in oslo_utils.strutils._SANITIZE_KEYS\n\nChange-Id: Ia40a110b4cf97163b9de19280d88eebfa5e44839\nCloses-Bug: #1487038\n'}]",0,629769,b84046a838cfa83f179df129bab3b3d3e78d14db,24,11,2,22013,,,0,"nova.exception._clean_dict should use oslo_utils.strutils

nova.exception_wrapper._cleanse_dict will also remove sensitive
keys identified in oslo_utils.strutils._SANITIZE_KEYS

Change-Id: Ia40a110b4cf97163b9de19280d88eebfa5e44839
Closes-Bug: #1487038
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/629769/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception_wrapper.py', 'nova/tests/unit/test_exception.py']",2,6911dfccef1e467e8860211590cb9ddfdb353085,bug/1487038," def test_cleanse_dict(self): kwargs = {'foo': 1, 'blah_pass': 2, 'zoo_password': 3, '_pass': 4, 'auth_token': 5, 'token': 6} self.assertEqual({'foo': 1}, exception_wrapper._cleanse_dict(kwargs)) kwargs = {} self.assertEqual({}, exception_wrapper._cleanse_dict(kwargs)) "," def test_cleanse_dict(self): kwargs = {'foo': 1, 'blah_pass': 2, 'zoo_password': 3, '_pass': 4} self.assertEqual({'foo': 1}, exception_wrapper._cleanse_dict(kwargs)) kwargs = {} self.assertEqual({}, exception_wrapper._cleanse_dict(kwargs)) ",28,10
openstack%2Fnova~master~If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf,openstack/nova,master,If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf,Hacking N363: Don't use spec[_set]='string',ABANDONED,2019-04-05 16:08:50.000000000,2021-07-29 15:43:17.000000000,,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-05 16:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b53a22a2e921860b3d47c083313f9d740ed1e5e4', 'message': ""Hacking N363: Don't use spec[_set]='string'\n\nThe behavior of Mock(spec=foo) or Mock(spec_set=foo) when foo is not a\nlist is to interpret foo as a class or instance and derive the set of\nattributes you're allowed to get (spec) and/or set (spec_set) based on\ndir(foo). Thus if foo is a string, your mock will be set up to look like\na string (with attributes like index, find, startswith...).\n\nThis is almost certainly not what you intended to do, so this commit\nintroduces hacking rule N363 to forbid it.\n\nFor example, if you said:\n\n    Mock(spec='nova.objects.Instance')\n\n...what you almost certainly meant was:\n\n    Mock(spec=nova.objects.Instance)\n\nIf you actually want your mock to be specced like a string, say:\n\n    Mock(spec=str)\n\n[1] https://docs.python.org/3/library/unittest.mock.html#the-mock-class\n\nChange-Id: If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf\n""}, {'number': 2, 'created': '2019-04-08 11:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1b9d8d83c4d1ff230692904e07740ff3b448265', 'message': ""Hacking N363: Don't use spec[_set]='string'\n\nThe behavior of Mock(spec=foo) or Mock(spec_set=foo) when foo is not a\nlist is to interpret foo as a class or instance and derive the set of\nattributes you're allowed to get (spec) and/or set (spec_set) based on\ndir(foo). Thus if foo is a string, your mock will be set up to look like\na string (with attributes like index, find, startswith...).\n\nThis is almost certainly not what you intended to do, so this commit\nintroduces hacking rule N363 to forbid it.\n\nFor example, if you said:\n\n    Mock(spec='nova.objects.Instance')\n\n...what you almost certainly meant was:\n\n    Mock(spec=nova.objects.Instance)\n\nIf you actually want your mock to be specced like a string, say:\n\n    Mock(spec=str)\n\n[1] https://docs.python.org/3/library/unittest.mock.html#the-mock-class\n\nChange-Id: If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf\n""}, {'number': 3, 'created': '2019-04-23 18:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/673a5ae73ff691827929b6a8962de3e90c77f40d', 'message': ""Hacking N363: Don't use spec[_set]='string'\n\nThe behavior of Mock(spec=foo) or Mock(spec_set=foo) when foo is not a\nlist is to interpret foo as a class or instance and derive the set of\nattributes you're allowed to get (spec) and/or set (spec_set) based on\ndir(foo). Thus if foo is a string, your mock will be set up to look like\na string (with attributes like index, find, startswith...).\n\nThis is almost certainly not what you intended to do, so this commit\nintroduces hacking rule N363 to forbid it.\n\nFor example, if you said:\n\n    Mock(spec='nova.objects.Instance')\n\n...what you almost certainly meant was:\n\n    Mock(spec=nova.objects.Instance)\n\nIf you actually want your mock to be specced like a string, say:\n\n    Mock(spec=str)\n\n[1] https://docs.python.org/3/library/unittest.mock.html#the-mock-class\n\nChange-Id: If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf\n""}, {'number': 4, 'created': '2019-04-24 14:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e6c0ff1876e20ac7c15b0352f1fe7835a4ad7d4', 'message': ""Hacking N363: Don't use spec[_set]='string'\n\nThe behavior of Mock(spec=foo) or Mock(spec_set=foo) when foo is not a\nlist is to interpret foo as a class or instance and derive the set of\nattributes you're allowed to get (spec) and/or set (spec_set) based on\ndir(foo) [1]. Thus if foo is a string, your mock will be set up to look\nlike a string (with attributes like index, find, startswith...).\n\nThis is almost certainly not what you intended to do, so this commit\nintroduces hacking rule N363 to forbid it.\n\nFor example, if you said:\n\n    Mock(spec='nova.objects.Instance')\n\n...what you almost certainly meant was:\n\n    Mock(spec=nova.objects.Instance)\n\nIf you actually want your mock to be specced like a string, say:\n\n    Mock(spec=str)\n\n[1] https://docs.python.org/3/library/unittest.mock.html#the-mock-class\n\nChange-Id: If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf\n""}, {'number': 5, 'created': '2019-04-26 15:13:41.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9ed427b8310c251c6a2aa6c8ce91b8107c7cfd1', 'message': ""Hacking N363: Don't use spec[_set]='string'\n\nThe behavior of Mock(spec=foo) or Mock(spec_set=foo) when foo is not a\nlist is to interpret foo as a class or instance and derive the set of\nattributes you're allowed to get (spec) and/or set (spec_set) based on\ndir(foo) [1]. Thus if foo is a string, your mock will be set up to look\nlike a string (with attributes like index, find, startswith...).\n\nThis is almost certainly not what you intended to do, so this commit\nintroduces hacking rule N363 to forbid it.\n\nFor example, if you said:\n\n    Mock(spec='nova.objects.Instance')\n\n...what you almost certainly meant was:\n\n    Mock(spec=nova.objects.Instance)\n\nIf you actually want your mock to be specced like a string, say:\n\n    Mock(spec=str)\n\n[1] https://docs.python.org/3/library/unittest.mock.html#the-mock-class\n\nChange-Id: If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf\n""}]",7,650370,e9ed427b8310c251c6a2aa6c8ce91b8107c7cfd1,53,13,5,14070,,,0,"Hacking N363: Don't use spec[_set]='string'

The behavior of Mock(spec=foo) or Mock(spec_set=foo) when foo is not a
list is to interpret foo as a class or instance and derive the set of
attributes you're allowed to get (spec) and/or set (spec_set) based on
dir(foo) [1]. Thus if foo is a string, your mock will be set up to look
like a string (with attributes like index, find, startswith...).

This is almost certainly not what you intended to do, so this commit
introduces hacking rule N363 to forbid it.

For example, if you said:

    Mock(spec='nova.objects.Instance')

...what you almost certainly meant was:

    Mock(spec=nova.objects.Instance)

If you actually want your mock to be specced like a string, say:

    Mock(spec=str)

[1] https://docs.python.org/3/library/unittest.mock.html#the-mock-class

Change-Id: If0e37e7ee4a13c1c86ea9076e5b37194aec3c0cf
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/650370/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst']",3,b53a22a2e921860b3d47c083313f9d740ed1e5e4,hacking-mock-spec-string,- [N363] Mock spec should not be a string.,,62,0
openstack%2Fgovernance-website~master~Iabad24aab27d651aee33afbc03007cb47b47a320,openstack/governance-website,master,Iabad24aab27d651aee33afbc03007cb47b47a320,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 06:20:45.000000000,2021-07-29 15:43:05.000000000,2021-07-29 15:41:10.000000000,"[{'_account_id': 7198}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 06:20:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/governance-website/commit/9682efa4139dbe34489a4dbb7091af61f8622234', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iabad24aab27d651aee33afbc03007cb47b47a320\n""}]",0,791363,9682efa4139dbe34489a4dbb7091af61f8622234,10,4,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iabad24aab27d651aee33afbc03007cb47b47a320
",git fetch https://review.opendev.org/openstack/governance-website refs/changes/63/791363/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9682efa4139dbe34489a4dbb7091af61f8622234,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fgovernance-sigs~master~Ic904471801c3af6a83ec6229431ac372736d6a73,openstack/governance-sigs,master,Ic904471801c3af6a83ec6229431ac372736d6a73,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 06:17:06.000000000,2021-07-29 15:41:00.000000000,2021-07-29 15:39:06.000000000,"[{'_account_id': 7198}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 06:17:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/31d24ae49246497ca5f60b745d84b39fc5c9849d', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic904471801c3af6a83ec6229431ac372736d6a73\n""}]",0,791361,31d24ae49246497ca5f60b745d84b39fc5c9849d,10,4,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic904471801c3af6a83ec6229431ac372736d6a73
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/61/791361/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,31d24ae49246497ca5f60b745d84b39fc5c9849d,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/governance-sigs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/governance-sigs/,3,3
openstack%2Fnova~master~Ibf83877ca0936c8e78582c310f0b107a3b1e78d3,openstack/nova,master,Ibf83877ca0936c8e78582c310f0b107a3b1e78d3,[DNM] Implementing graceful shutdown.,ABANDONED,2020-05-18 12:46:40.000000000,2021-07-29 15:40:20.000000000,,"[{'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28100}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-18 12:46:40.000000000', 'files': ['nova/service.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/test_service.py', 'nova/tests/fixtures.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/tests/functional/compute/test_init_host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0388ce100d0b2bfeb348f32af18e1fc7af0c5501', 'message': ""[DNM] Implementing graceful shutdown.\n\nThis allows nova-compute to finish creating all currently spawning instances,\nwhen SIGTERM is sent to nova-compute process.\nThis is done by putting all spawning instances in a separate thread\npool, which uses [compute]/max_concurrent_builds config opt for setting the\nsize of the pool.\nFor larger number of VM's `graceful_shutdown_timeout` in `nova.conf` must be\nset to a bigger number in order to work.\n\nChange-Id: Ibf83877ca0936c8e78582c310f0b107a3b1e78d3\nCloses-Bug: #1798326\n""}]",0,728860,0388ce100d0b2bfeb348f32af18e1fc7af0c5501,11,10,1,21813,,,0,"[DNM] Implementing graceful shutdown.

This allows nova-compute to finish creating all currently spawning instances,
when SIGTERM is sent to nova-compute process.
This is done by putting all spawning instances in a separate thread
pool, which uses [compute]/max_concurrent_builds config opt for setting the
size of the pool.
For larger number of VM's `graceful_shutdown_timeout` in `nova.conf` must be
set to a bigger number in order to work.

Change-Id: Ibf83877ca0936c8e78582c310f0b107a3b1e78d3
Closes-Bug: #1798326
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/728860/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/service.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/test_service.py', 'nova/tests/fixtures.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/tests/functional/compute/test_init_host.py']",7,0388ce100d0b2bfeb348f32af18e1fc7af0c5501,," @mock.patch('nova.utils.InstanceRunningPool.running') def test_restart_compute_while_instance_waiting_for_resource_claim(self, mock_pool_running): mock_pool_running.return_value = 0", def test_restart_compute_while_instance_waiting_for_resource_claim(self):,88,57
openstack%2Fnova~master~I7be52886f9fba931ce582b1a949a21b2ffde7eac,openstack/nova,master,I7be52886f9fba931ce582b1a949a21b2ffde7eac,[WIP] libvirt: Remove support for floppy drives,ABANDONED,2020-09-23 11:35:28.000000000,2021-07-29 15:34:11.000000000,,"[{'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-23 11:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a4c4ad30594ec07e856e01506eb8175cfbe689e', 'message': '[WIP] libvirt: Remove support for floppy drives\n\nNova allows a floppy device type via these image metadata properties:\n\n   - hw_floppy_bus=fd\n   - hw_rescue_device=floppy\n\nHowever, emulated floppy drives are vulnerable.  See the infamous\n""VENOM"" CVE[1] where a floppy disk controller could cause crash a guest.\nLatest is this[2] ""null pointer dereference"" vulnerability in QEMU\'s\nfloppy drive emulator.\n\nIdeally, we might want to do a deprecation-followed-by-removing-it.  I\nfirst began adding a warning, but then I remembered that back in\n2019-February I asked[3] on the list if anyone relied on floppy drives\n(due to \'VENOM\' at that time), I heard nothing except an ACK by a\ndeveloper for the removal.  Though, I realize that not every Operator\nwould pay attention to the list.\n\nTODO:\n\n - Work out the details of versioned object bump for deprecation /\n   removal fields.DiskBusField() in nova/objects/image_meta.py\n - Tests - at a min, fix the below:\n    - test_get_device_name_for_instance_device_type\n    - test_find_disk_dev\n    - test_success_get_disk_bus_for_disk_dev\n    - test_get_device_name_for_instance_device_type\n - Release note\n - Fix documentation in Glance\n\n[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-3456\n\n[2] https://lists.nongnu.org/archive/html/qemu-devel/2020-09/msg07779.html\n    [PATCH v2] fdc: check null block pointer before r/w data transfer\n\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2019-February/002479.html\n    [nova] Floppy drive support — does anyone rely on it?\n\nblueprint: remove-support-for-floppy-disks\nChange-Id: I7be52886f9fba931ce582b1a949a21b2ffde7eac\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2020-09-23 11:46:46.000000000', 'files': ['nova/virt/libvirt/blockinfo.py', 'nova/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f222210c6c4f0b348030a59392d7855228aa73ce', 'message': '[WIP] libvirt: Remove support for floppy drives\n\nNova allows a floppy device type via these image metadata properties:\n\n   - hw_floppy_bus=fd\n   - hw_rescue_device=floppy\n\nHowever, emulated floppy drives are vulnerable.  See the infamous\n""VENOM"" CVE[1] where a floppy disk controller could cause crash a guest.\nLatest is this[2] ""null pointer dereference"" vulnerability in QEMU\'s\nfloppy drive emulator.\n\nIdeally, we might want to do a deprecation-followed-by-removing-it.  I\nfirst began adding a warning, but then I remembered that back in\n2019-February I asked[3] on the list if anyone relied on floppy drives\n(due to \'VENOM\' at that time), I heard nothing except an ACK by a\ndeveloper for the removal.  Though, I realize that not every Operator\nwould pay attention to the list.\n\nTODO:\n\n - Work out the details of versioned object bump when deprecating /\n   removing allowable values for hw_floppy_bus / fields.DiskBusField()\n   in nova/objects/image_meta.py\n - Tests - at a min, fix the below:\n    - test_get_device_name_for_instance_device_type\n    - test_find_disk_dev\n    - test_success_get_disk_bus_for_disk_dev\n    - test_get_device_name_for_instance_device_type\n - Release note\n - Fix documentation in Glance\n\n[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-3456\n\n[2] https://lists.nongnu.org/archive/html/qemu-devel/2020-09/msg07779.html\n    [PATCH v2] fdc: check null block pointer before r/w data transfer\n\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2019-February/002479.html\n    [nova] Floppy drive support — does anyone rely on it?\n\nblueprint: remove-support-for-floppy-disks\nChange-Id: I7be52886f9fba931ce582b1a949a21b2ffde7eac\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",5,753588,f222210c6c4f0b348030a59392d7855228aa73ce,19,9,2,6962,,,0,"[WIP] libvirt: Remove support for floppy drives

Nova allows a floppy device type via these image metadata properties:

   - hw_floppy_bus=fd
   - hw_rescue_device=floppy

However, emulated floppy drives are vulnerable.  See the infamous
""VENOM"" CVE[1] where a floppy disk controller could cause crash a guest.
Latest is this[2] ""null pointer dereference"" vulnerability in QEMU's
floppy drive emulator.

Ideally, we might want to do a deprecation-followed-by-removing-it.  I
first began adding a warning, but then I remembered that back in
2019-February I asked[3] on the list if anyone relied on floppy drives
(due to 'VENOM' at that time), I heard nothing except an ACK by a
developer for the removal.  Though, I realize that not every Operator
would pay attention to the list.

TODO:

 - Work out the details of versioned object bump when deprecating /
   removing allowable values for hw_floppy_bus / fields.DiskBusField()
   in nova/objects/image_meta.py
 - Tests - at a min, fix the below:
    - test_get_device_name_for_instance_device_type
    - test_find_disk_dev
    - test_success_get_disk_bus_for_disk_dev
    - test_get_device_name_for_instance_device_type
 - Release note
 - Fix documentation in Glance

[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-3456

[2] https://lists.nongnu.org/archive/html/qemu-devel/2020-09/msg07779.html
    [PATCH v2] fdc: check null block pointer before r/w data transfer

[3] http://lists.openstack.org/pipermail/openstack-discuss/2019-February/002479.html
    [nova] Floppy drive support — does anyone rely on it?

blueprint: remove-support-for-floppy-disks
Change-Id: I7be52886f9fba931ce582b1a949a21b2ffde7eac
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/753588/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/blockinfo.py', 'nova/exception.py']",2,3a4c4ad30594ec07e856e01506eb8175cfbe689e,Remove_floppy_drive_support," class EmulatedFloppyDriveIsDeprecated(Invalid): msg_fmt = _(""Emulated floppy drives are vulnerable and are not "" ""recommended; choose a different device type"")",,13,3
openstack%2Fnova~master~I402093402e45d0d44fd0af6154e550ee4f860fc4,openstack/nova,master,I402093402e45d0d44fd0af6154e550ee4f860fc4,Add scheduler filter for routed_segments,ABANDONED,2020-02-22 07:15:28.000000000,2021-07-29 15:33:48.000000000,,"[{'_account_id': 6926}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10273}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 26970}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-22 07:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a63f3c41ee574ad913f432ddaed157a94b40913e', 'message': 'Add scheduler filter for routed_segments\n\nAllow a scheduler hint ""routed_segments=[...]"" to supply a list of\nsegment_ids required on a host for scheduling.\n\nChange-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4\nCo-Authored-By: Kris Lindgren <klindgren@godaddy.com>\n'}, {'number': 2, 'created': '2020-02-22 10:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9496fa40cc07cbbba8a07e79fc931425b385707c', 'message': 'Add scheduler filter for routed_segments\n\nAllow a scheduler hint ""routed_segments=[...]"" to supply a list of\nsegment_ids required on a host for scheduling.\n\nChange-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4\nCo-Authored-By: Kris Lindgren <klindgren@godaddy.com>\n'}, {'number': 3, 'created': '2020-02-23 04:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/966290713d781a77f2bb8384af982f101579e386', 'message': 'Add scheduler filter for routed_segments\n\nAllow a scheduler hint ""routed_segments=[...]"" to supply a list of\nsegment_ids required on a host for scheduling.\n\nChange-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4\nCo-Authored-By: Kris Lindgren <klindgren@godaddy.com>\n'}, {'number': 4, 'created': '2020-02-23 05:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbbff4411ee4e9a9258c63edd7c712ad36f87fff', 'message': 'Add scheduler filter for routed_segments\n\nAllow a scheduler hint ""routed_segments=[...]"" to supply a list of\nsegment_ids required on a host for scheduling.\n\nChange-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4\nCo-Authored-By: Kris Lindgren <klindgren@godaddy.com>\n'}, {'number': 5, 'created': '2020-02-23 13:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c987b9dd5578ae06e9459494369cce3129d32ca5', 'message': 'Add scheduler filter for routed_segments\n\nAllow a scheduler hint ""routed_segments=[...]"" to supply a list of\nsegment_ids required on a host for scheduling.\n\nChange-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4\nCo-Authored-By: Kris Lindgren <klindgren@godaddy.com>\n'}, {'number': 6, 'created': '2020-02-25 06:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ad545b581c0064a463c6da1af95b03235a7a61d', 'message': 'Add scheduler filter for routed_segments\n\nAllow a scheduler hint ""routed_segments=[...]"" to supply a list of\nsegment_ids required on a host for scheduling.\n\nChange-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4\nCo-Authored-By: Kris Lindgren <klindgren@godaddy.com>\n'}, {'number': 7, 'created': '2020-09-14 21:12:46.000000000', 'files': ['nova/tests/unit/scheduler/filters/test_routed_network_segment_filters.py', 'releasenotes/notes/new-filter-RoutedNetworkSegmentFilter-71ef1fef6953bd5f.yaml', 'doc/source/admin/configuration/schedulers.rst', 'nova/scheduler/filters/routed_network_segment_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e3eda30e15430b7c8b98052e35c51600cf9ba2d', 'message': 'Add scheduler filter for routed_segments\n\nAllow a scheduler hint ""routed_segments=[...]"" to supply a list of\nsegment_ids required on a host for scheduling.\n\nChange-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4\nCo-Authored-By: Kris Lindgren <klindgren@godaddy.com>\n'}]",1,709280,5e3eda30e15430b7c8b98052e35c51600cf9ba2d,59,14,7,10273,,,0,"Add scheduler filter for routed_segments

Allow a scheduler hint ""routed_segments=[...]"" to supply a list of
segment_ids required on a host for scheduling.

Change-Id: I402093402e45d0d44fd0af6154e550ee4f860fc4
Co-Authored-By: Kris Lindgren <klindgren@godaddy.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/709280/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/filters/test_routed_network_segment_filters.py', 'nova/scheduler/filters/routed_network_segment_filter.py']",2,a63f3c41ee574ad913f432ddaed157a94b40913e,,"# Copyright (c) 2011-2019 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from nova.scheduler import filters LOG = logging.getLogger(__name__) class RoutedNetworkSegmentFilter(filters.BaseHostFilter): """"""Filters Hosts by routed network segment IDs."""""" # Network segments do not change within a request run_filter_once_per_request = True RUN_ON_REBUILD = False def host_passes(self, host_state, spec_obj): segment_ids = spec_obj.scheduler_hints.get('routed_segments') if not segment_ids: return True found = 0 for segment in segment_ids: for agg in host_state.aggregates: if agg.name.endswith(segment): found += 1 break if found == len(segment_ids): # All segments were found! return True LOG.debug('Removing host %s from scheduling because it missing some' 'of the following segments: %s', host_state, segment_ids) return False ",,114,0
openstack%2Fneutron-tempest-plugin~master~I477b309142dff9c50217142a60e54b7064f8c120,openstack/neutron-tempest-plugin,master,I477b309142dff9c50217142a60e54b7064f8c120,Update definition of the neutron-tempest-plugin-dvr-multinode-scenario,MERGED,2021-06-09 07:54:44.000000000,2021-07-29 15:30:12.000000000,2021-07-29 15:30:12.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 07:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/20fc1d3b0c6895d6ae67a1db814ea865e8dab885', 'message': 'Update definition of the neutron-tempest-plugin-dvr-multinode-scenario\n\nThis job needs to be run using ML2/OVS backend so this patch sets\nthat backend there explicitly.\n\nChange-Id: I477b309142dff9c50217142a60e54b7064f8c120\n'}, {'number': 2, 'created': '2021-06-09 07:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/debe0fc4682f6a713c0819d2aecc7742293e0e64', 'message': 'Update definition of the neutron-tempest-plugin-dvr-multinode-scenario\n\nThis job needs to be run using ML2/OVS backend so this patch sets\nthat backend there explicitly.\n\nChange-Id: I477b309142dff9c50217142a60e54b7064f8c120\n'}, {'number': 3, 'created': '2021-06-16 08:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7e3c1fa954dc5b809498f9d7b1dc0c8f2e47e7ed', 'message': 'Update definition of the neutron-tempest-plugin-dvr-multinode-scenario\n\nThis job needs to be run using ML2/OVS backend so this patch sets\nthat backend there explicitly.\n\nChange-Id: I477b309142dff9c50217142a60e54b7064f8c120\n'}, {'number': 4, 'created': '2021-07-20 09:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fda1cc3edd12d2b5560e85035b761fabe53565c7', 'message': 'Update definition of the neutron-tempest-plugin-dvr-multinode-scenario\n\nThis job needs to be run using ML2/OVS backend so this patch sets\nthat backend there explicitly.\n\nChange-Id: I477b309142dff9c50217142a60e54b7064f8c120\n'}, {'number': 5, 'created': '2021-07-20 09:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ab49eb84b26f64b7103cbf780747dc0479727170', 'message': 'Update definition of the neutron-tempest-plugin-dvr-multinode-scenario\n\nThis job needs to be run using ML2/OVS backend so this patch sets\nthat backend there explicitly.\n\nChange-Id: I477b309142dff9c50217142a60e54b7064f8c120\n'}, {'number': 6, 'created': '2021-07-20 09:54:14.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c28b40025742a4263d31101464266aeed58fb36a', 'message': 'Update definition of the neutron-tempest-plugin-dvr-multinode-scenario\n\nThis job needs to be run using ML2/OVS backend so this patch sets\nthat backend there explicitly.\n\nChange-Id: I477b309142dff9c50217142a60e54b7064f8c120\n'}]",6,795492,c28b40025742a4263d31101464266aeed58fb36a,34,5,6,11975,,,0,"Update definition of the neutron-tempest-plugin-dvr-multinode-scenario

This job needs to be run using ML2/OVS backend so this patch sets
that backend there explicitly.

Change-Id: I477b309142dff9c50217142a60e54b7064f8c120
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/92/795492/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,20fc1d3b0c6895d6ae67a1db814ea865e8dab885,bug/1928466, Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true neutron-log: true # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services Q_AGENT: openvswitch,,28,0
openstack%2Fkolla-ansible~master~Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e,openstack/kolla-ansible,master,Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e,"Revert ""cephadm: Set auth_allow_insecure_global_id_reclaim to true""",MERGED,2021-06-09 08:28:14.000000000,2021-07-29 15:29:28.000000000,2021-07-29 15:27:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-09 08:28:14.000000000', 'files': ['roles/cephadm/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/682cff7bc888ddf99fcbfd66204646c4194fc1a3', 'message': 'Revert ""cephadm: Set auth_allow_insecure_global_id_reclaim to true""\n\nThis reverts commit a967b9dd66fad5b055b071794a4b059feed9fe90.\n\nReason for revert: Check if it\'s still the case.\n\nChange-Id: Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e\n'}]",0,795457,682cff7bc888ddf99fcbfd66204646c4194fc1a3,19,4,1,30491,,,0,"Revert ""cephadm: Set auth_allow_insecure_global_id_reclaim to true""

This reverts commit a967b9dd66fad5b055b071794a4b059feed9fe90.

Reason for revert: Check if it's still the case.

Change-Id: Ib5496d6bc2ddfe1fedacc4f9c859ac56fc69726e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/795457/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/tasks/main.yml'],1,682cff7bc888ddf99fcbfd66204646c4194fc1a3,,,"# NOTE(mnasiadka): Ubuntu uses pre 15.2.11 Octopus client code and suffers from # https://docs.ceph.com/en/latest/security/CVE-2021-20288/ - name: Set auth_allow_insecure_global_id_reclaim to True command: cmd: > cephadm shell -- ceph config set mon auth_allow_insecure_global_id_reclaim true become: true when: ansible_distribution == ""Ubuntu"" ",0,11
openstack%2Ftripleo-common~stable%2Ftrain~Ie333c684b6603e65b46ee0d12931e07d003818be,openstack/tripleo-common,stable/train,Ie333c684b6603e65b46ee0d12931e07d003818be,Add python3-oauthlib dependency,ABANDONED,2021-07-27 09:36:58.000000000,2021-07-29 15:24:03.000000000,,"[{'_account_id': 13861}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-27 09:36:58.000000000', 'files': ['container-images/tcib/base/os/mistral-base/mistral-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2a88ce0d873b3d2ec543450767500e9cb744d04c', 'message': 'Add python3-oauthlib dependency\n\nThis was added as a dependency to mistral a while back,\nbut it is still not present in mistral containers. See\nhttps://review.opendev.org/c/openstack/mistral/+/735708/\n\nChange-Id: Ie333c684b6603e65b46ee0d12931e07d003818be\n'}]",0,802444,2a88ce0d873b3d2ec543450767500e9cb744d04c,12,6,1,14250,,,0,"Add python3-oauthlib dependency

This was added as a dependency to mistral a while back,
but it is still not present in mistral containers. See
https://review.opendev.org/c/openstack/mistral/+/735708/

Change-Id: Ie333c684b6603e65b46ee0d12931e07d003818be
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/802444/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/mistral-base/mistral-base.yaml'],1,2a88ce0d873b3d2ec543450767500e9cb744d04c,, - python3-oauthlib,,1,0
openstack%2Ftripleo-common~master~Ie333c684b6603e65b46ee0d12931e07d003818be,openstack/tripleo-common,master,Ie333c684b6603e65b46ee0d12931e07d003818be,Add python3-oauthlib dependency,ABANDONED,2021-07-29 13:59:18.000000000,2021-07-29 15:23:53.000000000,,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}]","[{'number': 1, 'created': '2021-07-29 13:59:18.000000000', 'files': ['container-images/tcib/base/os/mistral-base/mistral-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4600f31f26fcfda45531122b47f68943216f999a', 'message': 'Add python3-oauthlib dependency\n\nThis was added as a dependency to mistral a while back,\nbut it is still not present in mistral containers. See\nhttps://review.opendev.org/c/openstack/mistral/+/735708/\n\nChange-Id: Ie333c684b6603e65b46ee0d12931e07d003818be\n'}]",0,802894,4600f31f26fcfda45531122b47f68943216f999a,3,3,1,14250,,,0,"Add python3-oauthlib dependency

This was added as a dependency to mistral a while back,
but it is still not present in mistral containers. See
https://review.opendev.org/c/openstack/mistral/+/735708/

Change-Id: Ie333c684b6603e65b46ee0d12931e07d003818be
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/802894/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/mistral-base/mistral-base.yaml'],1,4600f31f26fcfda45531122b47f68943216f999a,, - python3-oauthlib,,1,0
openstack%2Fpuppet-ironic~master~I565e3ae6388812c358e86fac49b17e0cce97b9df,openstack/puppet-ironic,master,I565e3ae6388812c358e86fac49b17e0cce97b9df,Make ipxe bootfile name configurable,MERGED,2021-07-20 23:35:14.000000000,2021-07-29 15:17:47.000000000,2021-07-29 15:16:02.000000000,"[{'_account_id': 4571}, {'_account_id': 9414}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-20 23:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b52bf00ea486b18cbbdcbb36d3fc179e014d682e', 'message': 'Make ipxe bootfile name configurable\n\nThis is a follow up of 3864e15998b5b1eec7d2b1b4911add9bb899fdb8 and\nallows using a different name for ipxe bootfile. This is useful if\na user needs to switch back to ipxe*.efi from ipxe-snponly*.efi for\nsome reasons.\n\nChange-Id: I565e3ae6388812c358e86fac49b17e0cce97b9df\n'}, {'number': 2, 'created': '2021-07-21 00:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/918b3116634d1be812aa5e0359eff9119ffe87a6', 'message': 'Make ipxe bootfile name configurable\n\nThis is a follow up of 3864e15998b5b1eec7d2b1b4911add9bb899fdb8 and\nallows using a different name for ipxe bootfile. This is useful if\na user needs to switch back to ipxe*.efi from ipxe-snponly*.efi for\nsome reasons.\n\nChange-Id: I565e3ae6388812c358e86fac49b17e0cce97b9df\n'}, {'number': 3, 'created': '2021-07-27 14:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/082d84b5aeb9eac0eb6b1b6baa4cca24f6c705d1', 'message': 'Make ipxe bootfile name configurable\n\nThis is a follow up of 3864e15998b5b1eec7d2b1b4911add9bb899fdb8 and\nallows using a different name for ipxe bootfile. This is useful if\na user needs to switch back to ipxe*.efi from ipxe-snponly*.efi for\nsome reasons.\n\nChange-Id: I565e3ae6388812c358e86fac49b17e0cce97b9df\n'}, {'number': 4, 'created': '2021-07-27 14:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4f4c2c9af56bc03264aec2abad4cd20000e7111b', 'message': 'Make ipxe bootfile name configurable\n\nThis is a follow up of 3864e15998b5b1eec7d2b1b4911add9bb899fdb8 and\nallows using a different name for ipxe bootfile. This is useful if\na user needs to switch back to ipxe*.efi from ipxe-snponly*.efi for\nsome reasons.\n\nChange-Id: I565e3ae6388812c358e86fac49b17e0cce97b9df\n'}, {'number': 5, 'created': '2021-07-27 14:07:52.000000000', 'files': ['releasenotes/notes/uefi_ipxe_bootfile_name-f2ad0596ffe90598.yaml', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d99a51d17b7ae254d03225dd763f56cd90465bcb', 'message': 'Make ipxe bootfile name configurable\n\nThis is a follow up of 3864e15998b5b1eec7d2b1b4911add9bb899fdb8 and\nallows using a different name for ipxe bootfile. This is useful if\na user needs to switch back to ipxe*.efi from ipxe-snponly*.efi for\nsome reasons.\n\nChange-Id: I565e3ae6388812c358e86fac49b17e0cce97b9df\n'}]",3,801548,d99a51d17b7ae254d03225dd763f56cd90465bcb,17,8,5,9816,,,0,"Make ipxe bootfile name configurable

This is a follow up of 3864e15998b5b1eec7d2b1b4911add9bb899fdb8 and
allows using a different name for ipxe bootfile. This is useful if
a user needs to switch back to ipxe*.efi from ipxe-snponly*.efi for
some reasons.

Change-Id: I565e3ae6388812c358e86fac49b17e0cce97b9df
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/48/801548/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/pxe.pp'],1,b52bf00ea486b18cbbdcbb36d3fc179e014d682e,ipxe,"# Defaults to 'ipxe-snponly' # # [*ipxe_bootfile_name*] # (optional) Bootable DHCP parameter. # Defaults to 'snponly' $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe-snponly', $ipxe_bootfile_name = 'snponly' file { ""${tftp_root_real}/${ipxe_bootfile_name}.efi"":","# Defaults to 'ipxe' $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe-snponly', file { ""${tftp_root_real}/snponly.efi"":",16,11
openstack%2Fbifrost~bugfix%2F11.0~I69d073e4fdcd52dbf9e6c8da6cd4626aaa98c16f,openstack/bifrost,bugfix/11.0,I69d073e4fdcd52dbf9e6c8da6cd4626aaa98c16f,Install sushy-oem-idrac for idrac-redfish-virtual-media,MERGED,2021-07-21 09:04:51.000000000,2021-07-29 15:17:35.000000000,2021-07-29 15:06:47.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-21 09:04:51.000000000', 'files': ['releasenotes/notes/sushy-oem-idrac-34f4bd1560f6948f.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/vendor_deps.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/625e2ee725f53949cec66705e09c31ea4f4c8147', 'message': 'Install sushy-oem-idrac for idrac-redfish-virtual-media\n\nChange-Id: I69d073e4fdcd52dbf9e6c8da6cd4626aaa98c16f\n(cherry picked from commit 1ac7dfe9e71a4fc917756bdf3020b31d58a2050c)\n'}]",0,801580,625e2ee725f53949cec66705e09c31ea4f4c8147,9,2,1,10239,,,0,"Install sushy-oem-idrac for idrac-redfish-virtual-media

Change-Id: I69d073e4fdcd52dbf9e6c8da6cd4626aaa98c16f
(cherry picked from commit 1ac7dfe9e71a4fc917756bdf3020b31d58a2050c)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/80/801580/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/sushy-oem-idrac-34f4bd1560f6948f.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/vendor_deps.yml']",3,625e2ee725f53949cec66705e09c31ea4f4c8147,sushy-oem-idrac-bugfix/11.0,"- name: ""dracclient, sushy-oem-idrac - Install"" package: ""{{ item }}"" loop: - python-dracclient - sushy-oem-idrac","- name: ""dracclient - Install"" package: python-dracclient",13,5
openstack%2Fbifrost~bugfix%2F11.0~I02ba2ac85c72362dbc424037c3d23231098e065b,openstack/bifrost,bugfix/11.0,I02ba2ac85c72362dbc424037c3d23231098e065b,bifrost-cli: fix relative paths in --extra-vars,MERGED,2021-07-21 09:19:16.000000000,2021-07-29 15:16:04.000000000,2021-07-29 15:06:46.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-21 09:19:16.000000000', 'files': ['bifrost/cli.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/06bc9e4eaec9c79a5896affc3a2582ad2d3f56ee', 'message': 'bifrost-cli: fix relative paths in --extra-vars\n\nAnsible accepts YAML files via the syntax `-e @path.yaml`. Since\nbifrost-cli changes the working directory to ""playbooks"", relative paths\ndon\'t work as expected. Fix that by turning them into global paths.\n\nChange-Id: I02ba2ac85c72362dbc424037c3d23231098e065b\n(cherry picked from commit f0f6e6aa9e725bb3b6e0db6e78a223061385c1d6)\n'}]",0,801581,06bc9e4eaec9c79a5896affc3a2582ad2d3f56ee,9,2,1,10239,,,0,"bifrost-cli: fix relative paths in --extra-vars

Ansible accepts YAML files via the syntax `-e @path.yaml`. Since
bifrost-cli changes the working directory to ""playbooks"", relative paths
don't work as expected. Fix that by turning them into global paths.

Change-Id: I02ba2ac85c72362dbc424037c3d23231098e065b
(cherry picked from commit f0f6e6aa9e725bb3b6e0db6e78a223061385c1d6)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/81/801581/1 && git format-patch -1 --stdout FETCH_HEAD,['bifrost/cli.py'],1,06bc9e4eaec9c79a5896affc3a2582ad2d3f56ee,extra-vars-bugfix/11.0,"def process_extra_vars(extra_vars): for item in extra_vars: if item.startswith('@'): # Make sure relative paths still work item = '@' + os.path.abspath(item[1:]) yield ('-e', item) process_extra_vars(extra_vars)))"," ('-e', item) for item in extra_vars))",9,1
openstack%2Fcinder~master~Ia1ace7890e1ee3b26d511367c7bc9b0d76ff6888,openstack/cinder,master,Ia1ace7890e1ee3b26d511367c7bc9b0d76ff6888,mend,ABANDONED,2020-10-23 04:39:25.000000000,2021-07-29 15:13:54.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-10-23 04:39:25.000000000', 'files': ['releasenotes/notes/storwize-revert-to-snapshot-globalmirror-volume-9ac7f832f70dd1eb.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2dddd8ed8f68a2ac80c07bc8512862f8d798060', 'message': 'mend\n\nChange-Id: Ia1ace7890e1ee3b26d511367c7bc9b0d76ff6888\n'}]",0,759350,e2dddd8ed8f68a2ac80c07bc8512862f8d798060,28,20,1,32425,,,0,"mend

Change-Id: Ia1ace7890e1ee3b26d511367c7bc9b0d76ff6888
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/759350/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/storwize-revert-to-snapshot-globalmirror-volume-9ac7f832f70dd1eb.yaml'],1,e2dddd8ed8f68a2ac80c07bc8512862f8d798060,r9_revert,--- features: - | IBM Spectrum Virtualize Family: Add support for revert to snapshot for global-mirror volume. ,,4,0
openstack%2Fos-win~master~Ib8f06ee629753faec73cf3a2f41e7c743b6e0b04,openstack/os-win,master,Ib8f06ee629753faec73cf3a2f41e7c743b6e0b04,Use importlib instead of imp,MERGED,2021-07-24 13:42:28.000000000,2021-07-29 14:58:55.000000000,2021-07-29 14:58:55.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-24 13:42:28.000000000', 'files': ['os_win/utils/baseutils.py', 'os_win/tests/unit/utils/test_baseutils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/d571260d41bfe309412570785665a9afd8d8eef2', 'message': 'Use importlib instead of imp\n\n... because the imp module is deprecated since Python 3.4 .\n\nCloses-Bug: #1937904\nChange-Id: Ib8f06ee629753faec73cf3a2f41e7c743b6e0b04\n'}]",0,802149,d571260d41bfe309412570785665a9afd8d8eef2,6,2,1,9816,,,0,"Use importlib instead of imp

... because the imp module is deprecated since Python 3.4 .

Closes-Bug: #1937904
Change-Id: Ib8f06ee629753faec73cf3a2f41e7c743b6e0b04
",git fetch https://review.opendev.org/openstack/os-win refs/changes/49/802149/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utils/baseutils.py', 'os_win/tests/unit/utils/test_baseutils.py']",2,d571260d41bfe309412570785665a9afd8d8eef2,bug/1937904,"import importlib mock.patch.object(importlib, 'util').start() mock.patch.object(importlib, 'util').start() spec = importlib.util.spec_from_file_location.return_value module = importlib.util.module_from_spec.return_value old_conn = module.WMI.return_value importlib.util.spec_from_file_location.assert_called_once_with( spec.loader.exec_module.assert_called_once_with(module) importlib.util.module_from_spec.assert_called_once_with( importlib.util.spec_from_file_location.return_value)","import imp mock.patch.object(imp, 'load_source').start() mock.patch.object(imp, 'load_source').start() old_conn = imp.load_source.return_value.WMI.return_value imp.load_source.assert_called_once_with(",17,7
openstack%2Fhorizon~master~I3058825c0e4ae114fb397670dbed1c1c6e983552,openstack/horizon,master,I3058825c0e4ae114fb397670dbed1c1c6e983552,Make word wrapping consistent,MERGED,2021-06-18 13:37:48.000000000,2021-07-29 14:57:37.000000000,2021-07-29 14:52:49.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32029}, {'_account_id': 32216}]","[{'number': 1, 'created': '2021-06-18 13:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/14afbd45d2063dd5c4d2250cc2613e1e4ca88562', 'message': ""Make word wrapping consistent\n\nProposed patch enables word wrapping for 'Image name' and 'Host' columns\nin Admin-Instances dashboard. Similar table in Project dashboard has it\nenabled\n\nChange-Id: I3058825c0e4ae114fb397670dbed1c1c6e983552\n""}, {'number': 2, 'created': '2021-06-22 14:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e2b1e804ac8513df75f6bc1e06a9ac6dda5fe54c', 'message': ""Make word wrapping consistent\n\nProposed patch enables word wrapping for 'Image name' and 'Host' columns\nin Admin-Instances dashboard. Similar table in Project dashboard has it\nenabled\n\nChange-Id: I3058825c0e4ae114fb397670dbed1c1c6e983552\n""}, {'number': 3, 'created': '2021-06-25 12:04:23.000000000', 'files': ['openstack_dashboard/dashboards/admin/networks/agents/tables.py', 'openstack_dashboard/dashboards/admin/snapshots/tables.py', 'openstack_dashboard/dashboards/admin/volumes/tables.py', 'openstack_dashboard/dashboards/admin/info/tables.py', 'openstack_dashboard/dashboards/admin/instances/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b6439399e0a66a96614b9b536af1c1a58f1f5bb9', 'message': ""Make word wrapping consistent\n\nProposed patch enables word wrapping for 'Image name' and 'Host' columns\nin affected dashboards. Currently, all potentially long names like instance\nand image name are wrapped. Ellipsis might be a good idea, but it is not\nimplemented. Patch [1] just turns off wrapping for instance size (which is\nreasonable, it is short in most cases) and hostname (might be very long in\nprod environment, because in some cases backend generate some random name\nfor compute VM)\n\n[1] https://review.opendev.org/c/openstack/horizon/+/5831\n\nRelated-Bug: #964738\nChange-Id: I3058825c0e4ae114fb397670dbed1c1c6e983552\n""}]",10,797083,b6439399e0a66a96614b9b536af1c1a58f1f5bb9,18,5,3,27838,,,0,"Make word wrapping consistent

Proposed patch enables word wrapping for 'Image name' and 'Host' columns
in affected dashboards. Currently, all potentially long names like instance
and image name are wrapped. Ellipsis might be a good idea, but it is not
implemented. Patch [1] just turns off wrapping for instance size (which is
reasonable, it is short in most cases) and hostname (might be very long in
prod environment, because in some cases backend generate some random name
for compute VM)

[1] https://review.opendev.org/c/openstack/horizon/+/5831

Related-Bug: #964738
Change-Id: I3058825c0e4ae114fb397670dbed1c1c6e983552
",git fetch https://review.opendev.org/openstack/horizon refs/changes/83/797083/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/instances/tables.py'],1,14afbd45d2063dd5c4d2250cc2613e1e4ca88562,bug/964738," host = tables.WrappingColumn(""OS-EXT-SRV-ATTR:host"", verbose_name=_(""Host"")) image_name = tables.WrappingColumn(""image_name"","," host = tables.Column(""OS-EXT-SRV-ATTR:host"", verbose_name=_(""Host""), classes=('nowrap-col',)) image_name = tables.Column(""image_name"",",3,4
openstack%2Fhorizon~master~I44e511ddc1d93fc3e2b68393b88c5f2cd1360854,openstack/horizon,master,I44e511ddc1d93fc3e2b68393b88c5f2cd1360854,Preparation for Django 3.0 and 3.1 support (1),MERGED,2021-02-24 14:58:47.000000000,2021-07-29 14:56:17.000000000,2021-07-29 14:52:44.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32029}, {'_account_id': 32216}]","[{'number': 1, 'created': '2021-02-24 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/93d5dea7220a813b47cb933a949023ef2c150e7f', 'message': 'Preparation for Django 3.0 and 3.1 support (1)\n\nThis commit enables non-voting unit test jobs with Django 3.0/3.1.\n\nPendingDeprecationWarning is added to PYTHONWARNINGS in tox.ini.\nPendingDeprecationWarning in Django 3.0+ includes deprecation warnings\non what will be dropped in Django 4.0 and they cannot be addressed\nas long as we use Django 2.2.\n\nChange-Id: I44e511ddc1d93fc3e2b68393b88c5f2cd1360854\n'}, {'number': 2, 'created': '2021-02-25 18:36:56.000000000', 'files': ['.zuul.d/django-jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6a2635e32d73a5f9c0b71ec3306b40a8663321e4', 'message': 'Preparation for Django 3.0 and 3.1 support (1)\n\nThis commit enables non-voting unit test jobs with Django 3.0/3.1.\n\nPendingDeprecationWarning is added to PYTHONWARNINGS in tox.ini.\nPendingDeprecationWarning in Django 3.0+ includes deprecation warnings\non what will be dropped in Django 4.0 and they cannot be addressed\nas long as we use Django 2.2.\n\nChange-Id: I44e511ddc1d93fc3e2b68393b88c5f2cd1360854\n'}]",4,777390,6a2635e32d73a5f9c0b71ec3306b40a8663321e4,17,5,2,841,,,0,"Preparation for Django 3.0 and 3.1 support (1)

This commit enables non-voting unit test jobs with Django 3.0/3.1.

PendingDeprecationWarning is added to PYTHONWARNINGS in tox.ini.
PendingDeprecationWarning in Django 3.0+ includes deprecation warnings
on what will be dropped in Django 4.0 and they cannot be addressed
as long as we use Django 2.2.

Change-Id: I44e511ddc1d93fc3e2b68393b88c5f2cd1360854
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/777390/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/django-jobs.yaml', 'tox.ini']",2,93d5dea7220a813b47cb933a949023ef2c150e7f,django3-support,"envlist = pep8,py36,py38,releasenotes,npm,py3-dj{30,31} PYTHONWARNINGS = once,ignore::PendingDeprecationWarning py{3,36,37}:PYTHONWARNINGS = once,ignore::PendingDeprecationWarning,ignore::ImportWarning:backports dj30: pip install django>=3.0,<3.1 dj31: pip install django>=3.1,<3.2","envlist = pep8,py36,py38,releasenotes,npm PYTHONWARNINGS = once py{3,36,37}:PYTHONWARNINGS = once,ignore::ImportWarning:backports",18,7
openstack%2Fcharm-neutron-api~stable%2F21.04~I09ec4bef59ea95f833093220e41ddd728daa347b,openstack/charm-neutron-api,stable/21.04,I09ec4bef59ea95f833093220e41ddd728daa347b,Sync release-tools,MERGED,2021-07-28 11:21:21.000000000,2021-07-29 14:52:38.000000000,2021-07-29 14:52:38.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 11:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/99dc0ca08139cb5956e4e34c78be2f16ffd71bfa', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I09ec4bef59ea95f833093220e41ddd728daa347b\n(cherry picked from commit b189536ff977a1a038050c3b875747f940f4526e)\n'}, {'number': 2, 'created': '2021-07-28 11:25:21.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/7f7d47b689705690540fbe270ef978426ff47f66', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I09ec4bef59ea95f833093220e41ddd728daa347b\n(cherry picked from commit b189536ff977a1a038050c3b875747f940f4526e)\n'}]",0,802471,7f7d47b689705690540fbe270ef978426ff47f66,14,4,2,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I09ec4bef59ea95f833093220e41ddd728daa347b
(cherry picked from commit b189536ff977a1a038050c3b875747f940f4526e)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/71/802471/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,99dc0ca08139cb5956e4e34c78be2f16ffd71bfa,fix-tox-pip-resolutionimpossible-stable/21.04,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,8,9
openstack%2Ftripleo-validations~master~I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a,openstack/tripleo-validations,master,I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a,remove using containers-prepare-parameter.yaml,MERGED,2021-06-11 20:18:19.000000000,2021-07-29 14:52:16.000000000,2021-07-29 14:50:26.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 20:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0ca06e1ff7198e269fe1c5941e2325ef5bd76708', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from containers-prepare-parameter.yaml\n2. Instead, use 'openstack stack environment show qe-Cloud-0' to get value\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 2, 'created': '2021-06-12 00:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/97a8929da6cff44827d76adee942da6aeb909db2', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 3, 'created': '2021-06-12 19:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/700dd23bb080db59b16a677ef18d1ccf0ba20b65', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 4, 'created': '2021-06-12 19:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/98fdc51b99a74a663d193bebff6ace5984e923a1', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 5, 'created': '2021-06-12 20:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eecd9c2a9a2277464df3c822a978de9ec9692281', 'message': ""[WIP] fix use of containers-prepare-parameter.yaml\n\nValidation verfifies DockerInsecureRegistryAddress in\ncontainers-prepare-parameter.yaml matches what is returned\nby 'sudo hiera container_image_prepare_node_names'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 6, 'created': '2021-06-14 14:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ee2ecce691f73ba06577e1a0937302327c9f24f3', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 7, 'created': '2021-06-15 12:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e1b0f3660c0abecfaf6f60bafac6ade1528bed70', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 8, 'created': '2021-06-15 20:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aad832511279dd5eb5686c6c62a1948fc77bfb12', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 9, 'created': '2021-06-16 14:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/56adc9461867479c57c90c74cb3828077ad51f8c', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 10, 'created': '2021-06-16 14:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b54b0b93c2b1f8b09738852d76e3db2d3685e3c5', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 11, 'created': '2021-06-16 17:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ee920fab51a7f135fbebbf7a869ecec2c093f645', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 12, 'created': '2021-06-18 22:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/58fac6ee6d4c861ba0ea576e6a12e87c03c764f8', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 13, 'created': '2021-06-18 23:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/58f35a04c514c1a7c4543c04d68b6d4d28d2527d', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 14, 'created': '2021-06-21 16:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9948b5f7d1675e5e610f3c88d04d9144f62f921e', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 15, 'created': '2021-06-21 17:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/99be563d51225bc1611258d27f206224d469f37c', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 16, 'created': '2021-06-22 12:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3db7f517222199cb16b7444aaef72ab47cd7965c', 'message': ""[WIP] remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 17, 'created': '2021-06-22 20:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7791d67e42bed575f6611228122511dfd38ac5a8', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 18, 'created': '2021-06-25 02:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c2a657cb3f5d52eaf8a66fcc511ccf90bb26e848', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 19, 'created': '2021-06-25 12:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/41564de14ef34c0d0e6ddcd21cd16a63040a91f6', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 20, 'created': '2021-06-29 12:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e0a3e45ff0707f272e939a9d46d3a646707da183', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 21, 'created': '2021-06-29 19:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1ec037b9d899a1815b3f68ca3dfb3f58e59fbb66', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 22, 'created': '2021-06-30 00:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/212d80450a0674aeeab6bab908a34c229ccc4b0b', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 23, 'created': '2021-06-30 14:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1a7dff0e469945cae82b0bfd23430746af931b7f', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 24, 'created': '2021-06-30 22:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b2d41f02d8ab26c7cab627198d35d53189940acf', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 25, 'created': '2021-07-01 09:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2c0b757eebc1b6f945b9b763b0e3621a28a8deb3', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 26, 'created': '2021-07-01 16:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f1cc215d37a1b9460e3a512a3307c4667e23b022', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 27, 'created': '2021-07-23 16:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6f1a4a639834f0f576e477a8aab39d91c9d17131', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}, {'number': 28, 'created': '2021-07-23 17:39:22.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8492bf8e35248adc08b95572ced3319112148fdb', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n""}]",84,796061,8492bf8e35248adc08b95572ced3319112148fdb,104,6,28,32432,,,0,"remove using containers-prepare-parameter.yaml

1. Stop using DockerInsecureRegistryAddress from
   containers-prepare-parameter.yaml
2. Instead, use:
   'openstack stack environment show qe-Cloud-0'

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/61/796061/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml']",2,0ca06e1ff7198e269fe1c5941e2325ef5bd76708,remove_using_containers_prepare_parameter,,"check_uc_hostname_containers: ""{{ ansible_env.HOME }}/containers-prepare-parameter.yaml""",16,16
openstack%2Fhorizon~stable%2Fussuri~Ifc1b9a0191aacd32e8c8ecc082b6313f04003f63,openstack/horizon,stable/ussuri,Ifc1b9a0191aacd32e8c8ecc082b6313f04003f63,Fix create/update_port with python3,MERGED,2021-07-08 09:44:21.000000000,2021-07-29 14:47:19.000000000,2021-07-29 14:45:42.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 09:44:21.000000000', 'files': ['openstack_dashboard/test/unit/api/test_neutron.py', 'openstack_dashboard/api/neutron.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/efa1b3d683d6147abeb3ac9573729a726c481468', 'message': 'Fix create/update_port with python3\n\nunescape_port_kwargs() in api/neutron.py changes a key of dict\nduring the iteration and it is not allowed in python3.\n\nChange-Id: Ifc1b9a0191aacd32e8c8ecc082b6313f04003f63\nCloses-Bug: #1900851\n(cherry picked from commit f3927ffb3d5e8803115a436f27d15cf52f61d2e0)\n(cherry picked from commit 69e688728c19093eebf3b514a663e714e715d632)\n'}]",0,799999,efa1b3d683d6147abeb3ac9573729a726c481468,8,3,1,6737,,,0,"Fix create/update_port with python3

unescape_port_kwargs() in api/neutron.py changes a key of dict
during the iteration and it is not allowed in python3.

Change-Id: Ifc1b9a0191aacd32e8c8ecc082b6313f04003f63
Closes-Bug: #1900851
(cherry picked from commit f3927ffb3d5e8803115a436f27d15cf52f61d2e0)
(cherry picked from commit 69e688728c19093eebf3b514a663e714e715d632)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/799999/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/unit/api/test_neutron.py', 'openstack_dashboard/api/neutron.py']",2,efa1b3d683d6147abeb3ac9573729a726c481468,bug/1900851, keys = list(kwargs) for key in keys:, for key in kwargs:,17,10
openstack%2Ftripleo-ansible~master~I8c43a83d321c926b65857161e5800a6fda958eb6,openstack/tripleo-ansible,master,I8c43a83d321c926b65857161e5800a6fda958eb6,Allow customizing reload commands,MERGED,2021-07-19 00:12:01.000000000,2021-07-29 14:43:05.000000000,2021-07-29 14:43:05.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-19 00:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/013a24ea5ab78c876f53ed12f5fa25bd93f23b2a', 'message': ""Allow customizing reload commands\n\nThis change introduces ability to customize reload commands. This is\nrequired for Swift processes which don't use SIGHUP for reloading.\n\nRelated-Bug: #1936763\nChange-Id: I8c43a83d321c926b65857161e5800a6fda958eb6\n""}, {'number': 2, 'created': '2021-07-19 00:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1b40417324849c44254933cc821ed408c08571c', 'message': ""Allow customizing reload commands\n\nThis change introduces ability to customize reload commands. This is\nrequired for Swift processes which don't use SIGHUP for reloading.\n\nRelated-Bug: #1936763\nChange-Id: I8c43a83d321c926b65857161e5800a6fda958eb6\n""}, {'number': 3, 'created': '2021-07-19 00:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28eef639060dae79aaf50bcfc709fa8b2504ce63', 'message': ""Allow customizing reload commands\n\nThis change introduces ability to customize reload commands. This is\nrequired for Swift processes which don't use SIGHUP for reloading.\n\nRelated-Bug: #1936763\nChange-Id: I8c43a83d321c926b65857161e5800a6fda958eb6\n""}, {'number': 4, 'created': '2021-07-28 15:55:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/74df889180a343c74485293dbcbd90b1d5a0eac9', 'message': ""Allow customizing reload commands\n\nThis change introduces ability to use arbitrary signal for reload and\ndisable complete reload capability.\nCurrently server services of Swift use SIGUSR1 instead of SIGHUP for\nreload and also its backend daemons like replicator doesn't support\nreloading based on signal.\n\nRelated-Bug: #1936763\nChange-Id: I8c43a83d321c926b65857161e5800a6fda958eb6\n""}]",2,801216,74df889180a343c74485293dbcbd90b1d5a0eac9,15,4,4,9816,,,0,"Allow customizing reload commands

This change introduces ability to use arbitrary signal for reload and
disable complete reload capability.
Currently server services of Swift use SIGUSR1 instead of SIGHUP for
reload and also its backend daemons like replicator doesn't support
reloading based on signal.

Related-Bug: #1936763
Change-Id: I8c43a83d321c926b65857161e5800a6fda958eb6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/801216/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,013a24ea5ab78c876f53ed12f5fa25bd93f23b2a,bug/1936763,"{% if lookup('dict', container_data_unit).value.no_reload | default(false) %} {% else %} ExecReload=/usr/bin/podman kill --signal {{ lookup('dict', container_data_unit).value.reload_signal | default('HUP') }} {{ lookup('dict', container_data_unit).key }} {% endif %}","ExecReload=/usr/bin/podman kill --signal HUP {{ lookup('dict', container_data_unit).key }}",4,1
openstack%2Foslo.db~master~I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b,openstack/oslo.db,master,I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b,Drop checks for IBM DB2,MERGED,2021-03-31 17:56:14.000000000,2021-07-29 14:36:01.000000000,2021-07-29 14:34:27.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 17:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5f9892babec17059e9d79bf43e18316425e49c29', 'message': ""Drop checks for IBM DB2\n\nThis hasn't been supported by any project for many years. Quoting from\nthe nova patch that removed DB2 support [1]\n\n  This removes db2 support from tree completely. This is an oddball non\n  open database that made doing live data migrations difficult. It is\n  used by 0% of users in the OpenStack User Survey.\n\n  Supporting commercial software that doesn't have users at the cost of\n  delivering features and fixes to our community is the wrong tradeoff.\n  This corrects that.\n\nThere's no need to keep this around.\n\n[1] Ifeb9929e4515e3483eb65d371126afd7672b92a4\n\nChange-Id: I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-04-28 09:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/57b4da01dad3554e626d41ed6ccfc3a759a4e85b', 'message': ""Drop checks for IBM DB2\n\nThis hasn't been supported by any project for many years. Quoting from\nthe nova patch that removed DB2 support [1]\n\n  This removes db2 support from tree completely. This is an oddball non\n  open database that made doing live data migrations difficult. It is\n  used by 0% of users in the OpenStack User Survey.\n\n  Supporting commercial software that doesn't have users at the cost of\n  delivering features and fixes to our community is the wrong tradeoff.\n  This corrects that.\n\nThere's no need to keep this around.\n\n[1] Ifeb9929e4515e3483eb65d371126afd7672b92a4\n\nChange-Id: I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-28 17:11:01.000000000', 'files': ['releasenotes/notes/drop-db2-support-6e70fe42268d2238.yaml', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py', 'oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bd69e86d523a5f44d061310373c0516881bd8624', 'message': ""Drop checks for IBM DB2\n\nThis hasn't been supported by any project for many years. Quoting from\nthe nova patch that removed DB2 support [1]\n\n  This removes db2 support from tree completely. This is an oddball non\n  open database that made doing live data migrations difficult. It is\n  used by 0% of users in the OpenStack User Survey.\n\n  Supporting commercial software that doesn't have users at the cost of\n  delivering features and fixes to our community is the wrong tradeoff.\n  This corrects that.\n\nThere's no need to keep this around.\n\n[1] Ifeb9929e4515e3483eb65d371126afd7672b92a4\n\nChange-Id: I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,784148,bd69e86d523a5f44d061310373c0516881bd8624,14,3,3,15334,,,0,"Drop checks for IBM DB2

This hasn't been supported by any project for many years. Quoting from
the nova patch that removed DB2 support [1]

  This removes db2 support from tree completely. This is an oddball non
  open database that made doing live data migrations difficult. It is
  used by 0% of users in the OpenStack User Survey.

  Supporting commercial software that doesn't have users at the cost of
  delivering features and fixes to our community is the wrong tradeoff.
  This corrects that.

There's no need to keep this around.

[1] Ifeb9929e4515e3483eb65d371126afd7672b92a4

Change-Id: I8c3f23083e09e5ac924e35d1b7b3248a0d074e1b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/48/784148/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-db2-support-6e70fe42268d2238.yaml', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py', 'oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py']",7,5f9892babec17059e9d79bf43e18316425e49c29,deprecations,," def test_ibm_db_sa(self): self._run_dupe_constraint_test( 'ibm_db_sa', 'SQL0803N One or more values in the INSERT statement, UPDATE ' 'statement, or foreign key update caused by a DELETE statement are' ' not valid because the primary key, unique constraint or unique ' 'index identified by ""2"" constrains table ""NOVA.KEY_PAIRS"" from ' 'having duplicate values for the index key.', expected_columns=[] ) def test_ibm_db_sa_notadupe(self): self._not_dupe_constraint_test( 'ibm_db_sa', 'ALTER TABLE instance_types ADD CONSTRAINT ' 'uniq_name_x_deleted UNIQUE (name, deleted)', 'SQL0542N The column named ""NAME"" cannot be a column of a ' 'primary key or unique key constraint because it can contain null ' 'values.', exception.DBError ) def test_ibm_db_sa_deadlock(self): self._run_deadlock_detect_test( ""ibm_db_sa"", ""SQL0911N The current transaction has been "" ""rolled back because of a deadlock or timeout"", # use the lowest class b.c. I don't know what actual error # class DB2's driver would raise for this orig_exception_cls=self.Error ) def test_ibm_db_sa_not_deadlock(self): self._not_deadlock_test( ""ibm_db_sa"", ""SQL01234B Some other error."", exception.DBError, ""Error"", orig_exception_cls=self.Error ) def test_db2_ping_listener_disconnected(self): self._test_ping_listener_disconnected( ""ibm_db_sa"", self.OperationalError( 'SQL30081N: DB2 Server connection is no longer active') ) def test_db2_ping_listener_disconnected_regex_only(self): self._test_ping_listener_disconnected( ""ibm_db_sa"", self.OperationalError( 'SQL30081N: DB2 Server connection is no longer active'), is_disconnect=False ) def test_db2_error_positive(self): conn = self._run_test( ""ibm_db_sa"", self.OperationalError(""blah blah -30081 blah blah""), 2, -1 ) # conn is good self.assertEqual(1, conn.scalar(sqla.select([1]))) def test_db2_error_negative(self): self.assertRaises( sqla.exc.OperationalError, self._run_test, ""ibm_db_sa"", self.OperationalError(""blah blah -39981 blah blah""), 2, 3 ) ",17,133
openstack%2Fnova~master~I4a3bea3865888dbed275c9fcb3053846714062ea,openstack/nova,master,I4a3bea3865888dbed275c9fcb3053846714062ea,Fix URL construction for 'nova-manage placement audit',ABANDONED,2020-12-16 13:20:38.000000000,2021-07-29 14:15:04.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-16 13:20:38.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/69215d247cb74eb1ab3b26a9ea2d46de9399f19f', 'message': ""Fix URL construction for 'nova-manage placement audit'\n\nWhen specifying a 'resource_provider' argument this command would\nalways indicate that the resource provider did not exist.\n\nFixing the URL query string construction fixes this issue.\n\nChange-Id: I4a3bea3865888dbed275c9fcb3053846714062ea\nCloses-Bug: #1908405\n""}]",0,767348,69215d247cb74eb1ab3b26a9ea2d46de9399f19f,18,2,1,31542,,,0,"Fix URL construction for 'nova-manage placement audit'

When specifying a 'resource_provider' argument this command would
always indicate that the resource provider did not exist.

Fixing the URL query string construction fixes this issue.

Change-Id: I4a3bea3865888dbed275c9fcb3053846714062ea
Closes-Bug: #1908405
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/767348/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,69215d247cb74eb1ab3b26a9ea2d46de9399f19f,bug/1908405, url += '?uuid=%s' % kwargs['uuid'], url += '&uuid=%s' % kwargs['uuid'],1,1
openstack%2Fkolla-ansible~stable%2Fussuri~I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,openstack/kolla-ansible,stable/ussuri,I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,Use ansible_facts to reference facts,MERGED,2021-07-28 13:24:25.000000000,2021-07-29 14:08:13.000000000,2021-07-29 14:05:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5332bac99257fab64e42a6d370b698bc107ac700', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kolla Ansible\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nChange-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1\nPartially-Implements: blueprint performance-improvements\n(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)\n'}, {'number': 2, 'created': '2021-07-29 08:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1bb3746234687a9feb2931d42c6eee3bbb1de72f', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kolla Ansible\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nChange-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1\nPartially-Implements: blueprint performance-improvements\n(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)\n'}, {'number': 3, 'created': '2021-07-29 08:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79ec36a101d1c57709f1714128f323cb90f1ac18', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kolla Ansible\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nChange-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1\nPartially-Implements: blueprint performance-improvements\n(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)\n'}, {'number': 4, 'created': '2021-07-29 09:03:16.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/prechecks/vars/main.yml', 'ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/gather-facts.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-statsd/agent-statsd.yml.j2', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/nova-cell/tasks/config-host.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-env.conf.j2', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/nova-hyperv/templates/wsgate.ini.j2', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/prechecks/tasks/datetime_checks.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-collector/agent-collector.yml.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'kolla_ansible/kolla_address.py', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/haproxy/tasks/upgrade.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml', 'tests/templates/ansible.cfg.j2', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'doc/source/user/ansible-tuning.rst', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/mariadb/templates/galera.cnf.j2', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/post-deploy.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/zookeeper/templates/myid.j2', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'kolla_ansible/tests/unit/test_address_filters.py', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prechecks/tasks/host_os_checks.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ccd665be30573880a6dc5dd704a9ae8a04e5298', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kolla Ansible\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nChange-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1\nPartially-Implements: blueprint performance-improvements\n(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)\n'}]",1,802713,0ccd665be30573880a6dc5dd704a9ae8a04e5298,15,3,4,14826,,,0,"Use ansible_facts to reference facts

By default, Ansible injects a variable for every fact, prefixed with
ansible_. This can result in a large number of variables for each host,
which at scale can incur a performance penalty. Ansible provides a
configuration option [0] that can be set to False to prevent this
injection of facts. In this case, facts should be referenced via
ansible_facts.<fact>.

This change updates all references to Ansible facts within Kolla Ansible
from using individual fact variables to using the items in the
ansible_facts dictionary. This allows users to disable fact variable
injection in their Ansible configuration, which may provide some
performance improvement.

This change disables fact variable injection in the ansible
configuration used in CI, to catch any attempts to use the injected
variables.

[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars

Change-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1
Partially-Implements: blueprint performance-improvements
(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/802713/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/prechecks/vars/main.yml', 'ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/gather-facts.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-statsd/agent-statsd.yml.j2', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/nova-cell/tasks/config-host.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-env.conf.j2', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/nova-hyperv/templates/wsgate.ini.j2', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/prechecks/tasks/datetime_checks.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-collector/agent-collector.yml.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'kolla_ansible/kolla_address.py', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/haproxy/tasks/upgrade.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml', 'tests/templates/ansible.cfg.j2', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'doc/source/user/ansible-tuning.rst', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/mariadb/templates/galera.cnf.j2', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/post-deploy.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/zookeeper/templates/myid.j2', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'kolla_ansible/tests/unit/test_address_filters.py', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prechecks/tasks/host_os_checks.yml', 'ansible/roles/vmtp/defaults/main.yml']",107,5332bac99257fab64e42a6d370b698bc107ac700,," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_facts.os_family == 'Debian' else '' }}"""," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_os_family == 'Debian' else '' }}""",426,373
openstack%2Fkolla-ansible~stable%2Fvictoria~I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,openstack/kolla-ansible,stable/victoria,I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,Use ansible_facts to reference facts,MERGED,2021-07-28 13:18:53.000000000,2021-07-29 14:07:06.000000000,2021-07-29 14:05:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 13:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19faa70d5feec3ba44921bd0d3b51669b0a00a13', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kolla Ansible\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nChange-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1\nPartially-Implements: blueprint performance-improvements\n(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)\n'}, {'number': 2, 'created': '2021-07-29 08:56:11.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/prechecks/vars/main.yml', 'ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/gather-facts.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-statsd/agent-statsd.yml.j2', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/nova-cell/tasks/config-host.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-env.conf.j2', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/prechecks/tasks/datetime_checks.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-collector/agent-collector.yml.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'kolla_ansible/kolla_address.py', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml', 'tests/templates/ansible.cfg.j2', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'doc/source/user/ansible-tuning.rst', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/mariadb/templates/galera.cnf.j2', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/octavia/tasks/openrc.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/post-deploy.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/zookeeper/templates/myid.j2', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'kolla_ansible/tests/unit/test_address_filters.py', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prechecks/tasks/host_os_checks.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb52a6f65ba219bfe68ab2cab2f737e5f0e6742e', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kolla Ansible\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nChange-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1\nPartially-Implements: blueprint performance-improvements\n(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)\n'}]",1,802711,eb52a6f65ba219bfe68ab2cab2f737e5f0e6742e,14,3,2,14826,,,0,"Use ansible_facts to reference facts

By default, Ansible injects a variable for every fact, prefixed with
ansible_. This can result in a large number of variables for each host,
which at scale can incur a performance penalty. Ansible provides a
configuration option [0] that can be set to False to prevent this
injection of facts. In this case, facts should be referenced via
ansible_facts.<fact>.

This change updates all references to Ansible facts within Kolla Ansible
from using individual fact variables to using the items in the
ansible_facts dictionary. This allows users to disable fact variable
injection in their Ansible configuration, which may provide some
performance improvement.

This change disables fact variable injection in the ansible
configuration used in CI, to catch any attempts to use the injected
variables.

[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars

Change-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1
Partially-Implements: blueprint performance-improvements
(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/802711/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/prechecks/vars/main.yml', 'ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/gather-facts.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-statsd/agent-statsd.yml.j2', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/nova-cell/tasks/config-host.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-env.conf.j2', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/prechecks/tasks/datetime_checks.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-collector/agent-collector.yml.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'kolla_ansible/kolla_address.py', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml', 'tests/templates/ansible.cfg.j2', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'doc/source/user/ansible-tuning.rst', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/mariadb/templates/galera.cnf.j2', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/octavia/tasks/openrc.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/post-deploy.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/zookeeper/templates/myid.j2', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'kolla_ansible/tests/unit/test_address_filters.py', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prechecks/tasks/host_os_checks.yml', 'ansible/roles/vmtp/defaults/main.yml']",104,19faa70d5feec3ba44921bd0d3b51669b0a00a13,," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_facts.os_family == 'Debian' else '' }}"""," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_os_family == 'Debian' else '' }}""",422,369
openstack%2Fkolla-ansible~stable%2Fussuri~I42a2ef84e5fe570e8001908614337e64d035ec99,openstack/kolla-ansible,stable/ussuri,I42a2ef84e5fe570e8001908614337e64d035ec99,docs: Add information on tuning Ansible,MERGED,2021-07-28 13:24:25.000000000,2021-07-29 14:07:02.000000000,2021-07-29 14:05:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ac098bd28da529eb1d610596a8bae2cf7debce9', 'message': 'docs: Add information on tuning Ansible\n\nStolen from Kayobe.\n\nChange-Id: I42a2ef84e5fe570e8001908614337e64d035ec99\n(cherry picked from commit b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3)\n'}, {'number': 2, 'created': '2021-07-29 08:52:24.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/ansible-tuning.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da591982a46f6463eb52c21cfeaae6598ea8abbe', 'message': 'docs: Add information on tuning Ansible\n\nStolen from Kayobe.\n\nChange-Id: I42a2ef84e5fe570e8001908614337e64d035ec99\n(cherry picked from commit b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3)\n'}]",0,802712,da591982a46f6463eb52c21cfeaae6598ea8abbe,11,3,2,14826,,,0,"docs: Add information on tuning Ansible

Stolen from Kayobe.

Change-Id: I42a2ef84e5fe570e8001908614337e64d035ec99
(cherry picked from commit b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/802712/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/ansible-tuning.rst']",2,8ac098bd28da529eb1d610596a8bae2cf7debce9,,"============== Ansible tuning ============== In this section we cover some options for tuning Ansible for performance and scale. SSH pipelining -------------- SSH pipelining is disabled in Ansible by default, but is generally safe to enable, and provides a reasonable performance improvement. .. code-block:: ini :caption: ``ansible.cfg`` [ssh_connection] pipelining = True Forks ----- By default Ansible executes tasks using a fairly conservative 5 process forks. This limits the parallelism that allows Ansible to scale. Most Ansible control hosts will be able to handle far more forks than this. You will need to experiment to find out the CPU, memory and IO limits of your machine. For example, to increase the number of forks to 20: .. code-block:: ini :caption: ``ansible.cfg`` [defaults] forks = 20 Fact caching ------------ By default, Ansible gathers facts for each host at the beginning of every play, unless ``gather_facts`` is set to ``false``. With a large number of hosts this can result in a significant amount of time spent gathering facts. One way to improve this is through Ansible's support for `fact caching <https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html#caching-facts>`__. In order to make this work with Kolla Ansible, it is necessary to change Ansible's `gathering <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#default-gathering>`__ configuration option to ``smart``. Example ~~~~~~~ In the following example we configure Kolla Ansible to use fact caching using the `jsonfile cache plugin <https://docs.ansible.com/ansible/latest/plugins/cache/jsonfile.html>`__. .. code-block:: ini :caption: ``ansible.cfg`` [defaults] gathering = smart fact_caching = jsonfile fact_caching_connection = /tmp/ansible-facts You may also wish to set the expiration timeout for the cache via ``[defaults] fact_caching_timeout``. ",,67,0
openstack%2Ftripleo-validations~master~I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,openstack/tripleo-validations,master,I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,oslo_config_validator: Setting container network to none,MERGED,2021-07-12 20:23:30.000000000,2021-07-29 13:57:44.000000000,2021-07-29 13:56:25.000000000,"[{'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-07-12 20:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c9baa40b5afcd5575084bf5877de3ed1ee29b1e2', 'message': 'oslo_config_validator: Setting contaner network to none\n\nWhen spinning a container, podman_container defaults network to bridge\nas opposed to docker_container that defaults to none.\n\nThis causes ""Missing CNI default network"" errors and doesn\'t run the\noslo-config-validator command as expected.\n\nChange-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b\n'}, {'number': 2, 'created': '2021-07-12 20:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/79be444558fa4f59eca0e2f15c1b8df5eb91a73f', 'message': 'oslo_config_validator: Setting contaner network to none\n\nWhen spinning a container, podman_container defaults network to bridge\nas opposed to docker_container that defaults to none.\n\nThis causes ""Missing CNI default network"" errors and doesn\'t run the\noslo-config-validator command as expected.\n\nChange-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b\n'}, {'number': 3, 'created': '2021-07-12 20:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9311c11823c4b9dbc29a3957bf760da6fb25c53a', 'message': 'oslo_config_validator: Setting container network to none\n\nWhen spinning a container, podman_container defaults network to bridge\nas opposed to docker_container that defaults to none.\n\nThis causes ""Missing CNI default network"" errors and doesn\'t run the\noslo-config-validator command as expected.\n\nChange-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b\n'}, {'number': 4, 'created': '2021-07-29 07:12:35.000000000', 'files': ['roles/oslo_config_validator/tasks/container_run.yml', 'roles/oslo_config_validator/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c61d894c3ce9059cf2c7fb846a5b2b06a331aaaa', 'message': 'oslo_config_validator: Setting container network to none\n\nWhen spinning a container, podman_container defaults network to bridge\nas opposed to docker_container that defaults to none.\n\nThis causes ""Missing CNI default network"" errors and doesn\'t run the\noslo-config-validator command as expected.\n\nChange-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b\n'}]",0,800557,c61d894c3ce9059cf2c7fb846a5b2b06a331aaaa,19,5,4,27419,,,0,"oslo_config_validator: Setting container network to none

When spinning a container, podman_container defaults network to bridge
as opposed to docker_container that defaults to none.

This causes ""Missing CNI default network"" errors and doesn't run the
oslo-config-validator command as expected.

Change-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/800557/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oslo_config_validator/tasks/container_run.yml', 'roles/oslo_config_validator/defaults/main.yml']",2,c9baa40b5afcd5575084bf5877de3ed1ee29b1e2,," - 'INFO:oslo_utils.netutils:Could not determine default network interface, using'",,2,0
openstack%2Fvalidations-libs~master~Ie54a0d256529277a69a72334e45040070ec32dc5,openstack/validations-libs,master,Ie54a0d256529277a69a72334e45040070ec32dc5,reqcheck job is now voting,MERGED,2021-07-07 10:47:12.000000000,2021-07-29 13:49:12.000000000,2021-07-29 13:49:12.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 10:47:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/27a20e59be888759f38cdae271da18563710647a', 'message': 'reqcheck job is now voting\n\nAfter several weeks being a nonvoting job, the reqcheck is moving to voting status.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie54a0d256529277a69a72334e45040070ec32dc5\n'}]",0,799788,27a20e59be888759f38cdae271da18563710647a,16,3,1,32926,,,0,"reqcheck job is now voting

After several weeks being a nonvoting job, the reqcheck is moving to voting status.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie54a0d256529277a69a72334e45040070ec32dc5
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/88/799788/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,27a20e59be888759f38cdae271da18563710647a,reqcheck/voting, voting: true, voting: false,1,1
openstack%2Ftripleo-heat-templates~master~I2b6bfa9afe36c3ea489648aa9481924fb4bb2acb,openstack/tripleo-heat-templates,master,I2b6bfa9afe36c3ea489648aa9481924fb4bb2acb,Make indentation consistent in pacemaker config_settings,MERGED,2021-07-29 05:15:07.000000000,2021-07-29 13:49:10.000000000,2021-07-29 13:49:10.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-29 05:15:07.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4097a028e0b446eae7e0fb4a75c3a327ac4c55d', 'message': 'Make indentation consistent in pacemaker config_settings\n\nFollow up of [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802696\n\nRelated-Bug: #1938283\nChange-Id: I2b6bfa9afe36c3ea489648aa9481924fb4bb2acb\n'}]",0,802825,c4097a028e0b446eae7e0fb4a75c3a327ac4c55d,10,7,1,13861,,,0,"Make indentation consistent in pacemaker config_settings

Follow up of [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802696

Related-Bug: #1938283
Change-Id: I2b6bfa9afe36c3ea489648aa9481924fb4bb2acb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/802825/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,c4097a028e0b446eae7e0fb4a75c3a327ac4c55d,, bundle: name: timeout value: {get_param: PacemakerBundleOperationTimeout}, bundle: name: timeout value: {get_param: PacemakerBundleOperationTimeout},3,3
openstack%2Fbifrost~bugfix%2F11.0~I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655,openstack/bifrost,bugfix/11.0,I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655,Install libvirt-python from source instead of a wheel,MERGED,2021-07-28 16:05:35.000000000,2021-07-29 13:10:44.000000000,2021-07-29 13:09:21.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-28 16:05:35.000000000', 'files': ['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f6c056f357326eed906e6dff972987062f612d4a', 'message': 'Install libvirt-python from source instead of a wheel\n\nApparently the binary installation no longer works.\n\nChange-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655\n(cherry picked from commit 79c8418ead5ead97494497b998aa6c03e27b87bf)\n'}]",0,802749,f6c056f357326eed906e6dff972987062f612d4a,7,2,1,10239,,,0,"Install libvirt-python from source instead of a wheel

Apparently the binary installation no longer works.

Change-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655
(cherry picked from commit 79c8418ead5ead97494497b998aa6c03e27b87bf)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/49/802749/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml']",2,f6c056f357326eed906e6dff972987062f612d4a,,"- name: install gunicorn and lxml- name: install libvirt-python include_role: name: bifrost-pip-install vars: package: libvirt-python # FIXME(dtantsur): libvirt-python 7.5.0 cannot be used when installed from # a wheel, force a source installation extra_args: --no-binary libvirt-python ","- name: install libvirt-python, gunicorn and lxml - libvirt-python",15,2
openstack%2Fopenstack-tempest-skiplist~master~I02727a6c0d18c81d76f950aca420344ecc1556f9,openstack/openstack-tempest-skiplist,master,I02727a6c0d18c81d76f950aca420344ecc1556f9,"Revert ""Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""""",MERGED,2021-07-29 11:48:33.000000000,2021-07-29 12:47:27.000000000,2021-07-29 12:46:10.000000000,"[{'_account_id': 8367}, {'_account_id': 9003}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-29 11:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/be7c01287921c865b074ab12e6111843a53be4c1', 'message': 'Revert ""Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""""\n\nThis reverts commit bf7cf46e5aa85c5202cb522843fb14df9e267c36.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1934879/comments/13\n\nChange-Id: I02727a6c0d18c81d76f950aca420344ecc1556f9\n'}, {'number': 2, 'created': '2021-07-29 12:19:53.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3c94fdcb6c0329e2e758f1c0fded9a18d99ab644', 'message': 'Revert ""Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""""\n\nThis reverts commit bf7cf46e5aa85c5202cb522843fb14df9e267c36 at least\npartially because there was another commit before this one at [1] so\nwe are restoring the jobs here. Leaving check/gate scen4 off the list\nas it looks green\n\n[1] https://opendev.org/openstack/openstack-tempest-skiplist/commit/cda261ed3271aaabe351145bd808f0d782a66350\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1934879/comments/13\n\nChange-Id: I02727a6c0d18c81d76f950aca420344ecc1556f9\n'}]",1,802874,3c94fdcb6c0329e2e758f1c0fded9a18d99ab644,16,14,2,8449,,,0,"Revert ""Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""""

This reverts commit bf7cf46e5aa85c5202cb522843fb14df9e267c36 at least
partially because there was another commit before this one at [1] so
we are restoring the jobs here. Leaving check/gate scen4 off the list
as it looks green

[1] https://opendev.org/openstack/openstack-tempest-skiplist/commit/cda261ed3271aaabe351145bd808f0d782a66350
Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1934879/comments/13

Change-Id: I02727a6c0d18c81d76f950aca420344ecc1556f9
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/74/802874/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,be7c01287921c865b074ab12e6111843a53be4c1,bug/1934879, - test: manila_tempest_tests.tests.api.test_shares.SharesNFSTest deployment: - overcloud releases: - name: victoria reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 - name: ussuri reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 - name: train reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 jobs: - periodic-tripleo-ci-centos-8-scenario004-standalone-victoria - periodic-tripleo-ci-centos-8-scenario004-standalone-ussuri - periodic-tripleo-ci-centos-8-scenario004-standalone-train - tripleo-ci-centos-8-scenario004-standalone,,18,0
openstack%2Fhorizon~stable%2Fwallaby~Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb,openstack/horizon,stable/wallaby,Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb,Fix Unable to use multiattach volume as boot for new server,MERGED,2021-07-28 17:30:33.000000000,2021-07-29 12:45:18.000000000,2021-07-29 12:43:58.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-28 17:30:33.000000000', 'files': ['openstack_dashboard/api/microversions.py', 'openstack_dashboard/test/unit/api/test_nova.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/217dcc4b9ca2416b84116dfab3279faa3e04fc36', 'message': 'Fix Unable to use multiattach volume as boot for new server\n\nIf we try to create a new server from a bootable volume that\nsupports multiattach, it will fail to create with an error\nmessage that ``multiattach volumes are only supported starting\nwith compute API version 2.60``. This patch fixes the issue.\n\nCloses-Bug: #1931440\nChange-Id: Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb\n(cherry picked from commit 64fe0abb653950c85d455dedd09ef42856c6b07b)\n'}]",0,802476,217dcc4b9ca2416b84116dfab3279faa3e04fc36,9,5,1,6914,,,0,"Fix Unable to use multiattach volume as boot for new server

If we try to create a new server from a bootable volume that
supports multiattach, it will fail to create with an error
message that ``multiattach volumes are only supported starting
with compute API version 2.60``. This patch fixes the issue.

Closes-Bug: #1931440
Change-Id: Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb
(cherry picked from commit 64fe0abb653950c85d455dedd09ef42856c6b07b)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/76/802476/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/api/microversions.py', 'openstack_dashboard/test/unit/api/test_nova.py', 'openstack_dashboard/api/nova.py']",3,217dcc4b9ca2416b84116dfab3279faa3e04fc36,," microversion = get_microversion(request, (""multiattach"", ""instance_description"","," microversion = get_microversion(request, (""instance_description"",",5,4
openstack%2Freleases~master~I3a32fb875a2bd3ab7aec21921f198b80a86f68cf,openstack/releases,master,I3a32fb875a2bd3ab7aec21921f198b80a86f68cf,[manila-ui] Transition stable/rocky to eol,MERGED,2021-07-16 21:57:48.000000000,2021-07-29 12:18:15.000000000,2021-07-29 12:18:15.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-07-16 21:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b8c762ae60df4db6fe5a33e1e0fe2a9ea03dd972', 'message': ""[manila-ui] Transition stable/rocky to eol\n\nManila's maintainers would like to create the eol release tag\nwith the latest code from the stable/rocky branch on the manila-ui\nrepository and delete this release branch from git once\nthis tags has been created. See the discussion on the\nOpenStack Mailing list [1] for the announcement.\n\n[1]\n\nChange-Id: I3a32fb875a2bd3ab7aec21921f198b80a86f68cf\n""}, {'number': 2, 'created': '2021-07-16 22:09:02.000000000', 'files': ['deliverables/rocky/manila-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/237f9ad65d7f8d4c4a602fb9c3475e6572142fb0', 'message': ""[manila-ui] Transition stable/rocky to eol\n\nManila's maintainers would like to create the eol release tag\nwith the latest code from the stable/rocky branch on the manila-ui\nrepository and delete this release branch from git once\nthis tags has been created. See the discussion on the\nOpenStack Mailing list [1] for the announcement.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html\n\nChange-Id: I3a32fb875a2bd3ab7aec21921f198b80a86f68cf\n""}]",0,801143,237f9ad65d7f8d4c4a602fb9c3475e6572142fb0,15,6,2,16643,,,0,"[manila-ui] Transition stable/rocky to eol

Manila's maintainers would like to create the eol release tag
with the latest code from the stable/rocky branch on the manila-ui
repository and delete this release branch from git once
this tags has been created. See the discussion on the
OpenStack Mailing list [1] for the announcement.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html

Change-Id: I3a32fb875a2bd3ab7aec21921f198b80a86f68cf
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/801143/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/manila-ui.yaml'],1,b8c762ae60df4db6fe5a33e1e0fe2a9ea03dd972,queens-eol, - version: rocky-eol projects: - repo: openstack/manila-ui hash: bfc45c381aebe6aaf83f0098a21a473a60134bf0,,4,0
openstack%2Freleases~master~Ib57088093cf5b31a59378198c33c97b82ed82226,openstack/releases,master,Ib57088093cf5b31a59378198c33c97b82ed82226,[python-manilaclient] Transition stable/queens and stable/rocky to eol,MERGED,2021-07-16 21:53:41.000000000,2021-07-29 12:12:44.000000000,2021-07-29 12:12:44.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-07-16 21:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/50f8614b9cf808e137ef6b7c64903f54798bb3f6', 'message': ""[python-manilaclient] Transition stable/queens and stable/rocky to eol\n\nManila's maintainers would like to create the eol release tag\nwith the latest code from these branches on the python-manilaclient\nrepository and delete these release branches from git once\nthese tags have been created. See the discussion on the\nOpenStack Mailing list [1] for the announcement.\n\n[1]\n\nChange-Id: Ib57088093cf5b31a59378198c33c97b82ed82226\n""}, {'number': 2, 'created': '2021-07-16 22:09:27.000000000', 'files': ['deliverables/queens/python-manilaclient.yaml', 'deliverables/rocky/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e1ecac84e438899d8d4412803d7f308716ae9106', 'message': ""[python-manilaclient] Transition stable/queens and stable/rocky to eol\n\nManila's maintainers would like to create the eol release tag\nwith the latest code from these branches on the python-manilaclient\nrepository and delete these release branches from git once\nthese tags have been created. See the discussion on the\nOpenStack Mailing list [1] for the announcement.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html\n\nChange-Id: Ib57088093cf5b31a59378198c33c97b82ed82226\n""}]",0,801142,e1ecac84e438899d8d4412803d7f308716ae9106,16,6,2,16643,,,0,"[python-manilaclient] Transition stable/queens and stable/rocky to eol

Manila's maintainers would like to create the eol release tag
with the latest code from these branches on the python-manilaclient
repository and delete these release branches from git once
these tags have been created. See the discussion on the
OpenStack Mailing list [1] for the announcement.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html

Change-Id: Ib57088093cf5b31a59378198c33c97b82ed82226
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/801142/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/python-manilaclient.yaml', 'deliverables/rocky/python-manilaclient.yaml']",2,50f8614b9cf808e137ef6b7c64903f54798bb3f6,queens-eol, - version: rocky-eol projects: - repo: openstack/python-manilaclient hash: c0ce858da632355404906b6b05ee8de232a1b6fa,,8,0
openstack%2Freleases~master~I98b368c03a864943ae82b416f90def7b91316e59,openstack/releases,master,I98b368c03a864943ae82b416f90def7b91316e59,[manila] Transition stable/queens and stable/rocky to eol,MERGED,2021-07-16 21:51:09.000000000,2021-07-29 12:12:42.000000000,2021-07-29 12:12:42.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-07-16 21:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bf4b12d3365c785cc97d40790e6c0e56b0531a74', 'message': ""[manila] Transition stable/queens and stable/rocky to eol\n\nManila's maintainers would like to create the eol release tag\nwith the latest code from these branches on the manila\nrepository and delete these release branches from git once\nthese tags have been created. See the discussion on the\nOpenStack Mailing list [1] for the announcement.\n\n[1]\n\nChange-Id: I98b368c03a864943ae82b416f90def7b91316e59\n""}, {'number': 2, 'created': '2021-07-16 22:09:44.000000000', 'files': ['deliverables/rocky/manila.yaml', 'deliverables/queens/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3af5dd9560eff7633175f62a5aa9e125154b7902', 'message': ""[manila] Transition stable/queens and stable/rocky to eol\n\nManila's maintainers would like to create the eol release tag\nwith the latest code from these branches on the manila\nrepository and delete these release branches from git once\nthese tags have been created. See the discussion on the\nOpenStack Mailing list [1] for the announcement.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html\n\nChange-Id: I98b368c03a864943ae82b416f90def7b91316e59\n""}]",0,801141,3af5dd9560eff7633175f62a5aa9e125154b7902,16,6,2,16643,,,0,"[manila] Transition stable/queens and stable/rocky to eol

Manila's maintainers would like to create the eol release tag
with the latest code from these branches on the manila
repository and delete these release branches from git once
these tags have been created. See the discussion on the
OpenStack Mailing list [1] for the announcement.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023702.html

Change-Id: I98b368c03a864943ae82b416f90def7b91316e59
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/801141/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/manila.yaml', 'deliverables/queens/manila.yaml']",2,bf4b12d3365c785cc97d40790e6c0e56b0531a74,queens-eol, - version: queens-eol projects: - repo: openstack/manila hash: 1c736bbe3e0d3cff53e32c465e8d60a316b18b4a,,8,0
openstack%2Fopenstack-tempest-skiplist~master~I20f8ce51c6bb59207ef82bd7786bc788c9fd313f,openstack/openstack-tempest-skiplist,master,I20f8ce51c6bb59207ef82bd7786bc788c9fd313f,"Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""",MERGED,2021-07-22 11:51:49.000000000,2021-07-29 11:48:33.000000000,2021-07-28 09:55:44.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9003}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-22 11:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4537ebbb8c1a393871405091cd0c4509397d81c7', 'message': 'Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""\n\nThis reverts commit 021b8a77a670859df5abf8a127de5e303a58fc66.\n\nReason for revert: fixed with https://github.com/ceph/ceph/pull/42162\nRelated-Bug: 1934879\n\nChange-Id: I20f8ce51c6bb59207ef82bd7786bc788c9fd313f\n'}, {'number': 2, 'created': '2021-07-22 11:57:20.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/bf7cf46e5aa85c5202cb522843fb14df9e267c36', 'message': 'Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""\n\nThis reverts commit 021b8a77a670859df5abf8a127de5e303a58fc66.\n\nReason for revert: fixed with https://github.com/ceph/ceph/pull/42162\nRelated-Bug: 1934879\n\nChange-Id: I20f8ce51c6bb59207ef82bd7786bc788c9fd313f\n'}]",0,801736,bf7cf46e5aa85c5202cb522843fb14df9e267c36,22,15,2,8449,,,0,"Revert ""Skip manila_tempest_tests.tests.api.test_shares.SharesNFSTest test""

This reverts commit 021b8a77a670859df5abf8a127de5e303a58fc66.

Reason for revert: fixed with https://github.com/ceph/ceph/pull/42162
Related-Bug: 1934879

Change-Id: I20f8ce51c6bb59207ef82bd7786bc788c9fd313f
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/36/801736/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,4537ebbb8c1a393871405091cd0c4509397d81c7,bug/1934879,, - test: manila_tempest_tests.tests.api.test_shares.SharesNFSTest deployment: - overcloud releases: - name: victoria reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 releases: - name: ussuri reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 releases: - name: train reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 jobs: - periodic-tripleo-ci-centos-8-scenario004-standalone-victoria - periodic-tripleo-ci-centos-8-scenario004-standalone-ussuri - periodic-tripleo-ci-centos-8-scenario004-standalone-train - tripleo-ci-centos-8-scenario004-standalone,0,20
openstack%2Foslo.db~master~I449e69a30aedc54d1119cf4997fa200e6885e06a,openstack/oslo.db,master,I449e69a30aedc54d1119cf4997fa200e6885e06a,trivial: Fix formatting of options file,ABANDONED,2021-03-31 17:56:14.000000000,2021-07-29 11:38:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 17:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/158acbf065e029cb44866eb082ce87ac3673b772', 'message': 'trivial: Fix formatting of options file\n\nAhead of some changes.\n\nChange-Id: I449e69a30aedc54d1119cf4997fa200e6885e06a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-04-28 10:06:34.000000000', 'files': ['oslo_db/options.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7eb1747e90a6bb0035739414225524dfd83be952', 'message': 'trivial: Fix formatting of options file\n\nAhead of some changes.\n\nChange-Id: I449e69a30aedc54d1119cf4997fa200e6885e06a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,784149,7eb1747e90a6bb0035739414225524dfd83be952,6,2,2,15334,,,0,"trivial: Fix formatting of options file

Ahead of some changes.

Change-Id: I449e69a30aedc54d1119cf4997fa200e6885e06a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/49/784149/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/options.py'],1,158acbf065e029cb44866eb082ce87ac3673b772,deprecations," cfg.BoolOpt( 'sqlite_synchronous', deprecated_group='DEFAULT', default=True, help='If True, SQLite uses synchronous mode.'), cfg.StrOpt( 'backend', default='sqlalchemy', deprecated_name='db_backend', deprecated_group='DEFAULT', help='The back end to use for the database.'), cfg.StrOpt( 'connection', help=( 'The SQLAlchemy connection string to use to connect to ' 'the database.' ), secret=True, deprecated_opts=[ cfg.DeprecatedOpt('sql_connection', group='DEFAULT'), cfg.DeprecatedOpt('sql_connection', group='DATABASE'), cfg.DeprecatedOpt('connection', group='sql'), ], ), cfg.StrOpt( 'slave_connection', secret=True, help=( 'The SQLAlchemy connection string to use to connect to the ' 'slave database.' ) ), cfg.StrOpt( 'mysql_sql_mode', default='TRADITIONAL', help=( 'The SQL mode to be used for MySQL sessions. ' 'This option, including the default, overrides any ' 'server-set SQL mode. To use whatever SQL mode ' 'is set by the server configuration, ' 'set this to no value. Example: mysql_sql_mode=' ), ), cfg.BoolOpt( 'mysql_enable_ndb', default=False, help=( 'If True, transparently enables support for handling ' 'MySQL Cluster (NDB).' ), ), cfg.DeprecatedOpt('idle_timeout', group=""DATABASE""), cfg.DeprecatedOpt('idle_timeout', group=""database""), cfg.DeprecatedOpt('sql_idle_timeout', group='DEFAULT'), cfg.DeprecatedOpt('sql_idle_timeout', group='DATABASE'), cfg.DeprecatedOpt('idle_timeout', group='sql') help=( 'Connections which have been present in the connection ' 'pool longer than this number of seconds will be replaced ' 'with a new one the next time they are checked out from ' 'the pool.' ), ), cfg.IntOpt( 'max_pool_size', default=5, deprecated_opts=[ cfg.DeprecatedOpt('sql_max_pool_size', group='DEFAULT'), cfg.DeprecatedOpt('sql_max_pool_size', group='DATABASE'), ], help=( 'Maximum number of SQL connections to keep open in a ' 'pool. Setting a value of 0 indicates no limit.' ), ), cfg.IntOpt( 'max_retries', default=10, deprecated_opts=[ cfg.DeprecatedOpt('sql_max_retries', group='DEFAULT'), cfg.DeprecatedOpt('sql_max_retries', group='DATABASE'), ], help=( 'Maximum number of database connection retries during startup. ' 'Set to -1 to specify an infinite retry count.' ), ), cfg.IntOpt( 'retry_interval', default=10, deprecated_opts=[ cfg.DeprecatedOpt('sql_retry_interval', group='DEFAULT'), cfg.DeprecatedOpt('reconnect_interval', group='DATABASE'), ], help='Interval between retries of opening a SQL connection.', ), cfg.IntOpt( 'max_overflow', default=50, deprecated_opts=[ cfg.DeprecatedOpt('sql_max_overflow', group='DEFAULT'), cfg.DeprecatedOpt('sqlalchemy_max_overflow', group='DATABASE'), ], help='If set, use this value for max_overflow with SQLAlchemy.', ), cfg.IntOpt( 'connection_debug', default=0, min=0, max=100, deprecated_opts=[ cfg.DeprecatedOpt('sql_connection_debug', group='DEFAULT'), ], help='Verbosity of SQL debugging information: 0=None, 100=Everything.', ), cfg.BoolOpt( 'connection_trace', default=False, deprecated_opts=[ cfg.DeprecatedOpt('sql_connection_trace', group='DEFAULT'), ], help='Add Python stack traces to SQL as comment strings.'), cfg.IntOpt( 'pool_timeout', deprecated_opts=[ cfg.DeprecatedOpt('sqlalchemy_pool_timeout', group='DATABASE'), ], help='If set, use this value for pool_timeout with SQLAlchemy.', ), cfg.BoolOpt( 'use_db_reconnect', default=False, help=( 'Enable the experimental use of database reconnect on connection ' 'lost.' ), ), cfg.IntOpt( 'db_retry_interval', default=1, help='Seconds between retries of a database transaction.', ), cfg.BoolOpt( 'db_inc_retry_interval', default=True, help=( 'If True, increases the interval between retries ' 'of a database operation up to db_max_retry_interval.' ), ), cfg.IntOpt( 'db_max_retry_interval', default=10, help=( 'If db_inc_retry_interval is set, the maximum seconds between ' 'retries of a database operation.', ), ), cfg.IntOpt( 'db_max_retries', default=20, help=( 'Maximum retries in case of connection error or deadlock ' 'error before error is raised. ' 'Set to -1 to specify an infinite retry count.' ), ), cfg.StrOpt( 'connection_parameters', default='', help=( 'Optional URL parameters to append onto the connection ' 'URL at connect time; specify as ' 'param1=value1&param2=value2&...' ), ),def set_defaults( conf, connection=None, max_pool_size=None, max_overflow=None, pool_timeout=None, ): :param connection: SQL connection string. Valid SQLite URL forms are: :param max_pool_size: maximum connections pool size. The size of the pool to be maintained, defaults to 5. This is the largest number of connections that will be kept persistently in the pool. Note that the pool begins with no connections; once this number of connections is requested, that number of connections will remain. :param max_overflow: The maximum overflow size of the pool. When the number of checked-out connections reaches the size set in pool_size, additional connections will be returned up to this limit. When those additional connections are returned to the pool, they are disconnected and discarded. It follows then that the total number of simultaneous connections the pool will allow is pool_size + max_overflow, and the total number of ""sleeping"" connections the pool will allow is pool_size. max_overflow can be set to -1 to indicate no overflow limit; no limit will be placed on the total number of concurrent connections. Defaults to 10, will be used if value of the parameter in `None`. :param pool_timeout: The number of seconds to wait before giving up on returning a connection. Defaults to 30, will be used if value of the parameter is `None`."," cfg.BoolOpt('sqlite_synchronous', deprecated_group='DEFAULT', default=True, help='If True, SQLite uses synchronous mode.'), cfg.StrOpt('backend', default='sqlalchemy', deprecated_name='db_backend', deprecated_group='DEFAULT', help='The back end to use for the database.'), cfg.StrOpt('connection', help='The SQLAlchemy connection string to use to connect to ' 'the database.', secret=True, deprecated_opts=[cfg.DeprecatedOpt('sql_connection', group='DEFAULT'), cfg.DeprecatedOpt('sql_connection', group='DATABASE'), cfg.DeprecatedOpt('connection', group='sql'), ]), cfg.StrOpt('slave_connection', secret=True, help='The SQLAlchemy connection string to use to connect to the' ' slave database.'), cfg.StrOpt('mysql_sql_mode', default='TRADITIONAL', help='The SQL mode to be used for MySQL sessions. ' 'This option, including the default, overrides any ' 'server-set SQL mode. To use whatever SQL mode ' 'is set by the server configuration, ' 'set this to no value. Example: mysql_sql_mode='), cfg.BoolOpt('mysql_enable_ndb', default=False, help='If True, transparently enables support for handling ' 'MySQL Cluster (NDB).'), cfg.DeprecatedOpt('idle_timeout', group=""DATABASE""), cfg.DeprecatedOpt('idle_timeout', group=""database""), cfg.DeprecatedOpt('sql_idle_timeout', group='DEFAULT'), cfg.DeprecatedOpt('sql_idle_timeout', group='DATABASE'), cfg.DeprecatedOpt('idle_timeout', group='sql') help='Connections which have been present in the connection ' 'pool longer than this number of seconds will be replaced ' 'with a new one the next time they are checked out from ' 'the pool.'), cfg.IntOpt('max_pool_size', default=5, deprecated_opts=[cfg.DeprecatedOpt('sql_max_pool_size', group='DEFAULT'), cfg.DeprecatedOpt('sql_max_pool_size', group='DATABASE')], help='Maximum number of SQL connections to keep open in a ' 'pool. Setting a value of 0 indicates no limit.'), cfg.IntOpt('max_retries', default=10, deprecated_opts=[cfg.DeprecatedOpt('sql_max_retries', group='DEFAULT'), cfg.DeprecatedOpt('sql_max_retries', group='DATABASE')], help='Maximum number of database connection retries ' 'during startup. Set to -1 to specify an infinite ' 'retry count.'), cfg.IntOpt('retry_interval', default=10, deprecated_opts=[cfg.DeprecatedOpt('sql_retry_interval', group='DEFAULT'), cfg.DeprecatedOpt('reconnect_interval', group='DATABASE')], help='Interval between retries of opening a SQL connection.'), cfg.IntOpt('max_overflow', default=50, deprecated_opts=[cfg.DeprecatedOpt('sql_max_overflow', group='DEFAULT'), cfg.DeprecatedOpt('sqlalchemy_max_overflow', group='DATABASE')], help='If set, use this value for max_overflow with ' 'SQLAlchemy.'), cfg.IntOpt('connection_debug', default=0, min=0, max=100, deprecated_opts=[cfg.DeprecatedOpt('sql_connection_debug', group='DEFAULT')], help='Verbosity of SQL debugging information: 0=None, ' '100=Everything.'), cfg.BoolOpt('connection_trace', default=False, deprecated_opts=[cfg.DeprecatedOpt('sql_connection_trace', group='DEFAULT')], help='Add Python stack traces to SQL as comment strings.'), cfg.IntOpt('pool_timeout', deprecated_opts=[cfg.DeprecatedOpt('sqlalchemy_pool_timeout', group='DATABASE')], help='If set, use this value for pool_timeout with ' 'SQLAlchemy.'), cfg.BoolOpt('use_db_reconnect', default=False, help='Enable the experimental use of database reconnect ' 'on connection lost.'), cfg.IntOpt('db_retry_interval', default=1, help='Seconds between retries of a database transaction.'), cfg.BoolOpt('db_inc_retry_interval', default=True, help='If True, increases the interval between retries ' 'of a database operation up to db_max_retry_interval.'), cfg.IntOpt('db_max_retry_interval', default=10, help='If db_inc_retry_interval is set, the ' 'maximum seconds between retries of a ' 'database operation.'), cfg.IntOpt('db_max_retries', default=20, help='Maximum retries in case of connection error or deadlock ' 'error before error is ' 'raised. Set to -1 to specify an infinite retry ' 'count.'), cfg.StrOpt('connection_parameters', default='', help='Optional URL parameters to append onto the connection ' 'URL at connect time; specify as ' 'param1=value1&param2=value2&...'),def set_defaults(conf, connection=None, max_pool_size=None, max_overflow=None, pool_timeout=None): :keyword connection: SQL connection string. Valid SQLite URL forms are: :keyword max_pool_size: maximum connections pool size. The size of the pool to be maintained, defaults to 5. This is the largest number of connections that will be kept persistently in the pool. Note that the pool begins with no connections; once this number of connections is requested, that number of connections will remain. :default max_pool_size: 5 :keyword max_overflow: The maximum overflow size of the pool. When the number of checked-out connections reaches the size set in pool_size, additional connections will be returned up to this limit. When those additional connections are returned to the pool, they are disconnected and discarded. It follows then that the total number of simultaneous connections the pool will allow is pool_size + max_overflow, and the total number of ""sleeping"" connections the pool will allow is pool_size. max_overflow can be set to -1 to indicate no overflow limit; no limit will be placed on the total number of concurrent connections. Defaults to 10, will be used if value of the parameter in `None`. :default max_overflow: None :keyword pool_timeout: The number of seconds to wait before giving up on returning a connection. Defaults to 30, will be used if value of the parameter is `None`. :default pool_timeout: None",203,152
openstack%2Fkolla~master~I016f7bb17b91769ced21c90d73f693c54a71aef9,openstack/kolla,master,I016f7bb17b91769ced21c90d73f693c54a71aef9,Remove tempest image,MERGED,2021-06-03 14:07:00.000000000,2021-07-29 11:35:07.000000000,2021-07-29 11:33:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-06-03 14:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9dca10e95782cc0015499519cf6246b9697866a', 'message': 'Remove tempest\n\nRemove tempest project as planned\n\nChange-Id: I016f7bb17b91769ced21c90d73f693c54a71aef9\n'}, {'number': 2, 'created': '2021-06-11 19:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1d7d716776bfdbfc86073d9191892c7b264e4b5e', 'message': 'Remove tempest\n\nRemove tempest project as planned\n\nChange-Id: I016f7bb17b91769ced21c90d73f693c54a71aef9\n'}, {'number': 3, 'created': '2021-06-24 01:22:21.000000000', 'files': ['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'releasenotes/notes/remove-tempest-ffa7526963eae898.yaml', 'doc/source/matrix_aarch64.csv', 'README.rst', 'docker/tempest/Dockerfile.j2', 'roles/kolla-build-config/defaults/main.yml', 'docker/tempest/extend_start.sh', 'tools/version-check.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5c369c7fab7a8f18aef9f5dc4e9a16457e4e7a9a', 'message': 'Remove tempest image\n\nRemove tempest project as planned\n\nChange-Id: I016f7bb17b91769ced21c90d73f693c54a71aef9\n'}]",0,794595,5c369c7fab7a8f18aef9f5dc4e9a16457e4e7a9a,19,4,3,26285,,,0,"Remove tempest image

Remove tempest project as planned

Change-Id: I016f7bb17b91769ced21c90d73f693c54a71aef9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/794595/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'releasenotes/notes/remove-tempest-ffa7526963eae898.yaml', 'README.rst', 'docker/tempest/Dockerfile.j2', 'roles/kolla-build-config/defaults/main.yml', 'docker/tempest/extend_start.sh', 'tools/version-check.py', 'kolla/common/config.py']",10,c9dca10e95782cc0015499519cf6246b9697866a,remove-tempest, 'tempest-user': { # unused user (tempest dropped)," 'tempest-plugin-tempest-conf': { 'type': 'url', 'location': ('$tarballs_base/openstack/python-tempestconf/' 'python-tempestconf-master.tar.gz')}, 'tempest-plugin-barbican': { 'type': 'url', 'location': ('$tarballs_base/openstack/barbican-tempest-plugin/' 'barbican_tempest_plugin-1.3.0.tar.gz')}, 'tempest-plugin-blazar': { 'type': 'url', 'location': ('$tarballs_base/openstack/blazar-tempest-plugin/' 'blazar_tempest_plugin-0.6.1.tar.gz')}, 'tempest-plugin-cinder': { 'type': 'url', 'location': ('$tarballs_base/openstack/cinder-tempest-plugin/' 'cinder-tempest-plugin-1.4.0.tar.gz')}, 'tempest-plugin-ec2api': { 'type': 'url', 'location': ('$tarballs_base/openstack/ec2api-tempest-plugin/' 'ec2api-tempest-plugin-1.2.1.tar.gz')}, 'tempest-plugin-heat': { 'type': 'url', 'location': ('$tarballs_base/openstack/heat-tempest-plugin/' 'heat-tempest-plugin-1.2.0.tar.gz')}, 'tempest-plugin-ironic': { 'type': 'url', 'location': ('$tarballs_base/openstack/ironic-tempest-plugin/' 'ironic-tempest-plugin-2.2.0.tar.gz')}, 'tempest-plugin-keystone': { 'type': 'url', 'location': ('$tarballs_base/openstack/keystone-tempest-plugin/' 'keystone_tempest_plugin-0.7.0.tar.gz')}, 'tempest-plugin-magnum': { 'type': 'url', 'location': ('$tarballs_base/openstack/magnum-tempest-plugin/' 'magnum_tempest_plugin-1.3.0.tar.gz')}, 'tempest-plugin-manila': { 'type': 'url', 'location': ('$tarballs_base/openstack/manila-tempest-plugin/' 'manila-tempest-plugin-1.4.0.tar.gz')}, 'tempest-plugin-mistral': { 'type': 'url', 'location': ('$tarballs_base/openstack/mistral-tempest-plugin/' 'mistral_tempest_tests-1.2.0.tar.gz')}, 'tempest-plugin-monasca': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-tempest-plugin/' 'monasca-tempest-plugin-2.2.1.tar.gz')}, 'tempest-plugin-murano': { 'type': 'url', 'location': ('$tarballs_base/openstack/murano-tempest-plugin/' 'murano-tempest-plugin-2.2.0.tar.gz')}, 'tempest-plugin-neutron': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-tempest-plugin/' 'neutron-tempest-plugin-1.4.0.tar.gz')}, 'tempest-plugin-patrole': { 'type': 'url', 'location': ('$tarballs_base/openstack/patrole/' 'patrole-0.12.0.tar.gz')}, 'tempest-plugin-telemetry': { 'type': 'url', 'location': ('$tarballs_base/openstack/telemetry-tempest-plugin/' 'telemetry_tempest_plugin-1.3.0.tar.gz')}, 'tempest-plugin-trove': { 'type': 'url', 'location': ('$tarballs_base/openstack/trove-tempest-plugin/' 'trove_tempest_plugin-1.2.0.tar.gz')}, 'tempest-plugin-vitrage': { 'type': 'url', 'location': ('$tarballs_base/openstack/vitrage-tempest-plugin/' 'vitrage-tempest-plugin-5.3.0.tar.gz')}, 'tempest-plugin-watcher': { 'type': 'url', 'location': ('$tarballs_base/openstack/watcher-tempest-plugin/' 'watcher-tempest-plugin-2.2.0.tar.gz')}, 'tempest': { 'type': 'url', 'location': ('$tarballs_base/openstack/tempest/' 'tempest-27.0.0.tar.gz')}, 'tempest-user': {",6,205
openstack%2Fkolla~stable%2Fussuri~I199185e24cedd2e282c53460a24aeffc83478a12,openstack/kolla,stable/ussuri,I199185e24cedd2e282c53460a24aeffc83478a12,Add boto3 as s3 dependency for Glance container,MERGED,2021-07-28 16:48:42.000000000,2021-07-29 11:35:04.000000000,2021-07-29 11:33:35.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 24072}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-07-28 16:48:42.000000000', 'files': ['docker/glance/glance-base/Dockerfile.j2', 'releasenotes/notes/bug-1884259-23bdaa6c1c038a81.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f3660a6c2a51fd75c4b04512fe5a45140b3feae', 'message': ""Add boto3 as s3 dependency for Glance container\n\nboto3 library is needed [1] for glance_store and didn't installed yet\nsince [2] adds s3 support back. this change adds both binary and source\nparts to install boto3 library.\n\n1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76\n2. I203134837319080ead96da69048baf90086d2117\n\nCloses-Bug: #1884259\nChange-Id: I199185e24cedd2e282c53460a24aeffc83478a12\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)\n""}]",0,802757,9f3660a6c2a51fd75c4b04512fe5a45140b3feae,11,7,1,14200,,,0,"Add boto3 as s3 dependency for Glance container

boto3 library is needed [1] for glance_store and didn't installed yet
since [2] adds s3 support back. this change adds both binary and source
parts to install boto3 library.

1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76
2. I203134837319080ead96da69048baf90086d2117

Closes-Bug: #1884259
Change-Id: I199185e24cedd2e282c53460a24aeffc83478a12
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/802757/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/glance/glance-base/Dockerfile.j2', 'releasenotes/notes/bug-1884259-23bdaa6c1c038a81.yaml']",2,9f3660a6c2a51fd75c4b04512fe5a45140b3feae,boto3-glance,--- fixes: - | Fixes missing boto3 library required by glance_store. `LP#1884259 <https://launchpad.net/bugs/1884259>`__ ,,8,1
openstack%2Fnova~master~I29ba2dda3d4bd5ccc03740bb6b9dc6221317b8ef,openstack/nova,master,I29ba2dda3d4bd5ccc03740bb6b9dc6221317b8ef,"Revert ""Run the db migration tests in the same test worker""",ABANDONED,2021-02-10 15:47:22.000000000,2021-07-29 11:35:01.000000000,,"[{'_account_id': 4393}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 15:47:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/808766f9ddedd0fab318679e4f9d4ba8b17af9e9', 'message': 'Revert ""Run the db migration tests in the same test worker""\n\nThis reverts commit 800254c0bc1dff5e4d41fb9739c3498d15d81791 as the\ncompaction of the DB migration has been merged and therefore the\nmigration testing is sped up significantly\n\nChange-Id: I29ba2dda3d4bd5ccc03740bb6b9dc6221317b8ef\nRelated-Bug: #1823251\n'}]",0,774889,808766f9ddedd0fab318679e4f9d4ba8b17af9e9,11,3,1,9708,,,0,"Revert ""Run the db migration tests in the same test worker""

This reverts commit 800254c0bc1dff5e4d41fb9739c3498d15d81791 as the
compaction of the DB migration has been merged and therefore the
migration testing is sped up significantly

Change-Id: I29ba2dda3d4bd5ccc03740bb6b9dc6221317b8ef
Related-Bug: #1823251
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/774889/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,808766f9ddedd0fab318679e4f9d4ba8b17af9e9,bug/1823251, stestr run {posargs} stestr --test-path=./nova/tests/functional run {posargs},# NOTE(gibi): The group-regex runs the matching tests in the same executor. # These tests runs against a real mysql instance and in an IO deprived CI VM they tend to time out. # See bug https://launchpad.net/bugs/1823251 for details. # By running them in the same executor we can spread the IO load of these tests in time. stestr --group-regex=nova\.tests\.unit\.db\.test_migrations\.TestNovaMigrationsMySQL run {posargs}# NOTE(gibi): The group-regex runs the matching tests in the same executor. # These tests runs against a real db instance and in an IO deprived CI VM they tend to time out. # See bug https://launchpad.net/bugs/1823251 for details. # By running them in the same executor we can spread the IO load of these tests in time. # NOTE(gibi): I was not able to group only the mysql tests this way as regex # TestNovaAPIMigrations.*MySQL does not do what I expect stestr --group-regex=nova\.tests\.functional\.db\.api\.test_migrations\.TestNovaAPIMigrations --test-path=./nova/tests/functional run {posargs},2,12
openstack%2Fkolla~stable%2Fvictoria~I199185e24cedd2e282c53460a24aeffc83478a12,openstack/kolla,stable/victoria,I199185e24cedd2e282c53460a24aeffc83478a12,Add boto3 as s3 dependency for Glance container,MERGED,2021-07-28 16:47:57.000000000,2021-07-29 11:34:57.000000000,2021-07-29 11:33:33.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 24072}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-07-28 16:47:57.000000000', 'files': ['docker/glance/glance-base/Dockerfile.j2', 'releasenotes/notes/bug-1884259-23bdaa6c1c038a81.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1aba4e72a26165f4d2092430baef1350614ec479', 'message': ""Add boto3 as s3 dependency for Glance container\n\nboto3 library is needed [1] for glance_store and didn't installed yet\nsince [2] adds s3 support back. this change adds both binary and source\nparts to install boto3 library.\n\n1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76\n2. I203134837319080ead96da69048baf90086d2117\n\nCloses-Bug: #1884259\nChange-Id: I199185e24cedd2e282c53460a24aeffc83478a12\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)\n""}]",0,802756,1aba4e72a26165f4d2092430baef1350614ec479,11,7,1,14200,,,0,"Add boto3 as s3 dependency for Glance container

boto3 library is needed [1] for glance_store and didn't installed yet
since [2] adds s3 support back. this change adds both binary and source
parts to install boto3 library.

1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76
2. I203134837319080ead96da69048baf90086d2117

Closes-Bug: #1884259
Change-Id: I199185e24cedd2e282c53460a24aeffc83478a12
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/802756/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/glance/glance-base/Dockerfile.j2', 'releasenotes/notes/bug-1884259-23bdaa6c1c038a81.yaml']",2,1aba4e72a26165f4d2092430baef1350614ec479,boto3-glance,--- fixes: - | Fixes missing boto3 library required by glance_store. `LP#1884259 <https://launchpad.net/bugs/1884259>`__ ,,8,1
openstack%2Fnova~stable%2Ftrain~I2f9ad3df25306e070c8c3538bfed1212d6d8682f,openstack/nova,stable/train,I2f9ad3df25306e070c8c3538bfed1212d6d8682f,Allow deletion of compute service with no compute nodes,NEW,2021-07-29 09:01:01.000000000,2021-07-29 11:34:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-29 09:01:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9ba530b5213c5e0992a2900cc03cf5e1e694f34', 'message': ""Allow deletion of compute service with no compute nodes\n\nConsider the following situation:\n\n- Using the Ironic virt driver\n- Replacing (so removing and re-adding) all baremetal nodes\n  associated with a single nova-compute service\n\nThe update resources periodic will have destroyed the compute node\nrecords because they're no longer being reported by the virt driver.\nIf we then attempt to manually delete the compute service record, the\ndatbase layer will raise an exception, as there are no longer any\ncompute node records for the host. Previously, this exception would\nget bubbled up as an error 500 in the API. This patch catches it and\nallows service deletion to complete succefully.\n\nCloses bug: 1860312\nChange-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f\n(cherry picked from commit 880611df0b6b967adabd3f08886e385d0a100c5c)\n(cherry picked from commit df5158bf3f80fd4362725dc280de67b88ece9952)\n(cherry picked from commit e238cc9cd6ee7ba9d556c0c29f6f69dc3e3a7af9)\n(cherry picked from commit ced6595af4b73f24cfef66623bc3ad9a00091952)\n""}]",0,802849,e9ba530b5213c5e0992a2900cc03cf5e1e694f34,2,1,1,8864,,,0,"Allow deletion of compute service with no compute nodes

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. Previously, this exception would
get bubbled up as an error 500 in the API. This patch catches it and
allows service deletion to complete succefully.

Closes bug: 1860312
Change-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f
(cherry picked from commit 880611df0b6b967adabd3f08886e385d0a100c5c)
(cherry picked from commit df5158bf3f80fd4362725dc280de67b88ece9952)
(cherry picked from commit e238cc9cd6ee7ba9d556c0c29f6f69dc3e3a7af9)
(cherry picked from commit ced6595af4b73f24cfef66623bc3ad9a00091952)
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/802849/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py']",2,e9ba530b5213c5e0992a2900cc03cf5e1e694f34,bug/1860312," compute_nodes = [] try: compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) self._assert_no_in_progress_migrations( context, id, compute_nodes) except exception.ComputeHostNotFound: # NOTE(artom) Consider the following situation: # - Using the Ironic virt driver # - Replacing (so removing and re-adding) all baremetal # nodes associated with a single nova-compute service # The update resources periodic will have destroyed the # compute node records because they're no longer being # reported by the virt driver. If we then attempt to # manually delete the compute service record, # get_all_host() above will raise, as there are no longer # any compute node records for the host. Catch it here and # continue to allow compute service deletion. pass"," compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) self._assert_no_in_progress_migrations( context, id, compute_nodes)",20,9
openstack%2Fnova~master~Id24e6234a110b7249e8188680e3ebfdd02cd9c73,openstack/nova,master,Id24e6234a110b7249e8188680e3ebfdd02cd9c73,"DNM Revert ""zuul: Skip block migration with attached volumes tests due to #1931702""",ABANDONED,2021-06-11 12:33:27.000000000,2021-07-29 11:31:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 12:33:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/1af08d41910b33c02bc26241f7f08dc91f9897fa', 'message': 'DNM Revert ""zuul: Skip block migration with attached volumes tests due to #1931702""\n\nThis reverts commit be41031859d3a629852a4dc8b4ece7ca604dd3f2.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795994\nRelated-Bug: #1931702\nChange-Id: Id24e6234a110b7249e8188680e3ebfdd02cd9c73\n'}]",0,795997,1af08d41910b33c02bc26241f7f08dc91f9897fa,19,1,1,10135,,,0,"DNM Revert ""zuul: Skip block migration with attached volumes tests due to #1931702""

This reverts commit be41031859d3a629852a4dc8b4ece7ca604dd3f2.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/795994
Related-Bug: #1931702
Change-Id: Id24e6234a110b7249e8188680e3ebfdd02cd9c73
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/795997/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1af08d41910b33c02bc26241f7f08dc91f9897fa,, block_migrate_cinder_iscsi: true block_migrate_cinder_iscsi: true, # NOTE(lyarwood): Skip until bug #1931702 is resolved. block_migrate_cinder_iscsi: false # NOTE(lyarwood): Skip until bug #1931702 is resolved. block_migrate_cinder_iscsi: false,2,4
openstack%2Fnova~master~Ib09e28397f66c9d76724363191be065ae0fb55f7,openstack/nova,master,Ib09e28397f66c9d76724363191be065ae0fb55f7,DNM: testing,ABANDONED,2021-06-04 16:28:48.000000000,2021-07-29 11:29:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-04 16:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20f4e9addc28696e5913dff1a8bee0cb6faece6c', 'message': 'DNM: testing\n\nChange-Id: Ib09e28397f66c9d76724363191be065ae0fb55f7\n'}, {'number': 2, 'created': '2021-06-05 22:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/346907d8975b9b6df7b7196dfcd1a0d2ed5d5e7f', 'message': 'DNM: testing\n\nChange-Id: Ib09e28397f66c9d76724363191be065ae0fb55f7\n'}, {'number': 3, 'created': '2021-06-08 15:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b0f950988acc344981e3a1972b5e4c8b244f1ae', 'message': 'DNM: testing\n\nChange-Id: Ib09e28397f66c9d76724363191be065ae0fb55f7\n'}, {'number': 4, 'created': '2021-07-14 23:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7862887331332c7da80ec5e19e6791431bf23e7', 'message': 'DNM: testing\n\nChange-Id: Ib09e28397f66c9d76724363191be065ae0fb55f7\n'}, {'number': 5, 'created': '2021-07-15 01:31:19.000000000', 'files': ['nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2a187b3890bda1dbeb16dc437e8d8144d9210057', 'message': 'DNM: testing\n\nChange-Id: Ib09e28397f66c9d76724363191be065ae0fb55f7\n'}]",12,794863,2a187b3890bda1dbeb16dc437e8d8144d9210057,36,1,5,8556,,,0,"DNM: testing

Change-Id: Ib09e28397f66c9d76724363191be065ae0fb55f7
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/794863/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,20f4e9addc28696e5913dff1a8bee0cb6faece6c,," if uuidutils.is_uuid_like(forced_host): hyp = self.host_api.compute_node_get(context, forced_host) forced_host = hyp.hypervisor_hostname ",,4,0
openstack%2Fsushy~master~Ic038b8c563528cc9c263da98d65186242c73cfd0,openstack/sushy,master,Ic038b8c563528cc9c263da98d65186242c73cfd0,Increase version of hacking and pycodestyle,MERGED,2021-07-27 13:04:39.000000000,2021-07-29 11:26:05.000000000,2021-07-29 11:24:41.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 13:04:39.000000000', 'files': ['sushy/tests/unit/resources/test_base.py', 'tox.ini', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/79dd4880be7b6b3a8b0852cff6970f5ec900f840', 'message': 'Increase version of hacking and pycodestyle\n\nFix errors in unit tests\n\nChange-Id: Ic038b8c563528cc9c263da98d65186242c73cfd0\n'}]",0,802491,79dd4880be7b6b3a8b0852cff6970f5ec900f840,9,3,1,23851,,,0,"Increase version of hacking and pycodestyle

Fix errors in unit tests

Change-Id: Ic038b8c563528cc9c263da98d65186242c73cfd0
",git fetch https://review.opendev.org/openstack/sushy refs/changes/91/802491/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/test_base.py', 'tox.ini', 'sushy/tests/unit/test_connector.py']",3,79dd4880be7b6b3a8b0852cff6970f5ec900f840,increase-hacking-pycodestyle," self.assertIn('X-Auth-Token', self.conn._session.headers)", self.assertTrue('X-Auth-Token' in self.conn._session.headers),4,4
openstack%2Fkolla~stable%2Fwallaby~I199185e24cedd2e282c53460a24aeffc83478a12,openstack/kolla,stable/wallaby,I199185e24cedd2e282c53460a24aeffc83478a12,Add boto3 as s3 dependency for Glance container,MERGED,2021-07-28 16:46:36.000000000,2021-07-29 11:20:50.000000000,2021-07-29 11:19:20.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 24072}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-07-28 16:46:36.000000000', 'files': ['docker/glance/glance-base/Dockerfile.j2', 'releasenotes/notes/bug-1884259-23bdaa6c1c038a81.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7c5173b366ff8ebcc1efdbe51f594fef6342ba3', 'message': ""Add boto3 as s3 dependency for Glance container\n\nboto3 library is needed [1] for glance_store and didn't installed yet\nsince [2] adds s3 support back. this change adds both binary and source\nparts to install boto3 library.\n\n1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76\n2. I203134837319080ead96da69048baf90086d2117\n\nCloses-Bug: #1884259\nChange-Id: I199185e24cedd2e282c53460a24aeffc83478a12\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)\n""}]",0,802755,a7c5173b366ff8ebcc1efdbe51f594fef6342ba3,13,7,1,14200,,,0,"Add boto3 as s3 dependency for Glance container

boto3 library is needed [1] for glance_store and didn't installed yet
since [2] adds s3 support back. this change adds both binary and source
parts to install boto3 library.

1. https://github.com/openstack/glance_store/blob/04e5ead7c000211a4c10104ed2bb65c9df7681ae/setup.cfg#L76
2. I203134837319080ead96da69048baf90086d2117

Closes-Bug: #1884259
Change-Id: I199185e24cedd2e282c53460a24aeffc83478a12
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 53b391d3612a322ad13e1ec65e2ed9ba7e94a3c1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/802755/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/glance/glance-base/Dockerfile.j2', 'releasenotes/notes/bug-1884259-23bdaa6c1c038a81.yaml']",2,a7c5173b366ff8ebcc1efdbe51f594fef6342ba3,boto3-glance,--- fixes: - | Fixes missing boto3 library required by glance_store. `LP#1884259 <https://launchpad.net/bugs/1884259>`__ ,,8,1
openstack%2Fkolla~stable%2Fussuri~I75927b6016bdb7577fbff354632bdab6407f359c,openstack/kolla,stable/ussuri,I75927b6016bdb7577fbff354632bdab6407f359c,Improve offline build scenario.,MERGED,2021-07-27 09:34:37.000000000,2021-07-29 11:20:46.000000000,2021-07-29 11:19:18.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 09:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/39c262ea89eb26d8f47afb86b73b6da953cf6ea8', 'message': 'Improve offline build scenario.\n\n  * Use distribution based dumb-init package.\n\nChange-Id: I75927b6016bdb7577fbff354632bdab6407f359c\nRelated-Bug: #19311980\n(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)\n'}, {'number': 2, 'created': '2021-07-29 07:18:55.000000000', 'files': ['releasenotes/notes/improve_offline_support-e7b2384fb7390184.yaml', 'docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2df836b0fa625db2b5c3fd92dc424bea482b7686', 'message': 'Improve offline build scenario.\n\n  * Use distribution based dumb-init package.\n\nChange-Id: I75927b6016bdb7577fbff354632bdab6407f359c\nRelated-Bug: #19311980\n(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)\n'}]",0,802355,2df836b0fa625db2b5c3fd92dc424bea482b7686,13,3,2,32398,,,0,"Improve offline build scenario.

  * Use distribution based dumb-init package.

Change-Id: I75927b6016bdb7577fbff354632bdab6407f359c
Related-Bug: #19311980
(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/802355/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/improve_offline_support-e7b2384fb7390184.yaml', 'docker/base/Dockerfile.j2']",2,39c262ea89eb26d8f47afb86b73b6da953cf6ea8,bug/1931980-stable/ussuri," 'dumb-init', 'dumb-init', 'tgt' ] %}<<<<<<< HEAD (f28f4a Fix prometheus-elasticsearch-exporter container.)======= >>>>>>> CHANGE (5940d1 Improve offline build scenario.)", 'tgt'] %},12,3
openstack%2Ftripleo-quickstart~master~I1f3cd3c2c6e4de41be6206753ae00ce9326eb95c,openstack/tripleo-quickstart,master,I1f3cd3c2c6e4de41be6206753ae00ce9326eb95c,Use dnf config-manager in CentOS8 releases,MERGED,2021-07-28 10:39:35.000000000,2021-07-29 11:15:04.000000000,2021-07-29 11:13:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 10:39:35.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/victoria.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e47422acbe6782f37c4cae223a38cfe92e59c1df', 'message': ""Use dnf config-manager in CentOS8 releases\n\nyum-config-manager is just wrapper for dnf config-manager,\nand needs yum-utils rpm to be installed, let's use\ndnf config-manager instead so it works in absense of\nyum-utils too.\n\nChange-Id: I1f3cd3c2c6e4de41be6206753ae00ce9326eb95c\n""}]",0,802681,e47422acbe6782f37c4cae223a38cfe92e59c1df,9,6,1,13861,,,0,"Use dnf config-manager in CentOS8 releases

yum-config-manager is just wrapper for dnf config-manager,
and needs yum-utils rpm to be installed, let's use
dnf config-manager instead so it works in absense of
yum-utils too.

Change-Id: I1f3cd3c2c6e4de41be6206753ae00ce9326eb95c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/81/802681/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/victoria.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",7,e47422acbe6782f37c4cae223a38cfe92e59c1df,, {% if not enable_opstools_repo|default(false)|bool %}sudo dnf config-manager --save --setopt quickstart-centos-opstools.enabled=0;, {% if not enable_opstools_repo|default(false)|bool %}sudo yum-config-manager --save --setopt quickstart-centos-opstools.enabled=0;,7,7
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id3356cdac42d84282014e2e22163bc0ffd825df5,openstack/tripleo-heat-templates,stable/wallaby,Id3356cdac42d84282014e2e22163bc0ffd825df5,nova-compute: Adding failed_when to nova-compute stop task,MERGED,2021-07-28 06:05:42.000000000,2021-07-29 11:13:10.000000000,2021-07-29 11:13:10.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-28 06:05:42.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5904179fe206efd9618e7e185144725a8c81e524', 'message': ""nova-compute: Adding failed_when to nova-compute stop task\n\nWhen deleting a partially deployed node, the deletion fails as well\nbecause the nova_compute service isn't provisioned. At this point, we don't\ncare much if the service should be present or not, we don't want an\nadditonnal failure.\n\nChange-Id: Id3356cdac42d84282014e2e22163bc0ffd825df5\n(cherry picked from commit ed320d8a7d8d244fc5aa4a2147170f534e669836)\n""}]",0,802466,5904179fe206efd9618e7e185144725a8c81e524,8,8,1,17216,,,0,"nova-compute: Adding failed_when to nova-compute stop task

When deleting a partially deployed node, the deletion fails as well
because the nova_compute service isn't provisioned. At this point, we don't
care much if the service should be present or not, we don't want an
additonnal failure.

Change-Id: Id3356cdac42d84282014e2e22163bc0ffd825df5
(cherry picked from commit ed320d8a7d8d244fc5aa4a2147170f534e669836)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/802466/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,5904179fe206efd9618e7e185144725a8c81e524,," register: stop_nova_compute failed_when: ""('msg' in stop_nova_compute and 'Could not find the requested service tripleo_nova_compute' not in stop_nova_compute.msg) or ('rc' in stop_nova_compute and stop_nova_compute.rc != 0)""",,4,0
openstack%2Fplacement~master~Ie0bee79c1ee185c0f68fa170c668395d9058c56d,openstack/placement,master,Ie0bee79c1ee185c0f68fa170c668395d9058c56d,Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.,MERGED,2021-07-20 07:17:10.000000000,2021-07-29 11:11:37.000000000,2021-07-29 11:07:41.000000000,"[{'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-20 07:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fd0239e444bec17d498e8a8e1bf7097b01421b33', 'message': 'Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.\n\nStory: 2006904\nTask: 37546\nChange-Id: Ie0bee79c1ee185c0f68fa170c668395d9058c56d\n'}, {'number': 2, 'created': '2021-07-20 11:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7cca0749e3f1e7926d371753247179798ceed1bf', 'message': 'Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.\n\nStory: 2006904\nTask: 37546\nChange-Id: Ie0bee79c1ee185c0f68fa170c668395d9058c56d\n'}, {'number': 3, 'created': '2021-07-23 09:27:45.000000000', 'files': ['placement/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/616208914ab7adf5b68619e6fda26f5eda666a90', 'message': 'Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.\n\nStory: 2006904\nTask: 37546\nChange-Id: Ie0bee79c1ee185c0f68fa170c668395d9058c56d\n'}]",1,801419,616208914ab7adf5b68619e6fda26f5eda666a90,15,7,3,32755,,,0,"Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.

Story: 2006904
Task: 37546
Change-Id: Ie0bee79c1ee185c0f68fa170c668395d9058c56d
",git fetch https://review.opendev.org/openstack/placement refs/changes/19/801419/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/cmd/status.py'],1,fd0239e444bec17d498e8a8e1bf7097b01421b33,fixsqlinstatus, num_alloc_consumers = ctxt.session.query(models.Allocation.consumer_id).group_by(, num_alloc_consumers = ctxt.session.query(models.Allocation).group_by(,1,1
openstack%2Fdevstack~stable%2Fvictoria~If952b54bdecf82be811b57f4a17a0c59db54a62a,openstack/devstack,stable/victoria,If952b54bdecf82be811b57f4a17a0c59db54a62a,[CI] [stable-only] Drop testing on Fedora,MERGED,2021-07-29 03:44:02.000000000,2021-07-29 11:10:57.000000000,2021-07-29 11:07:39.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-29 03:44:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3eff1823f1b0133ae0840dcd851bd56350773514', 'message': '[CI] [stable-only] Drop testing on Fedora\n\nThe QA/DevStack team does not support testing on Fedora on stable\nbranches. The fedora-latest nodeset is meant to be used on\nmaster branch only.\nThis change removes it on this stable branch to allow the nodeset\nto progress with Fedora version on master.\nIn addition, the two Fedora jobs are removed to allow for nodeset\nremoval.\n\nCherry-Picked-From: c1928d8fb89c451e98e7da1cc7f884c44d282dfd\nChange-Id: If952b54bdecf82be811b57f4a17a0c59db54a62a\n'}]",0,802821,3eff1823f1b0133ae0840dcd851bd56350773514,12,3,1,7118,,,0,"[CI] [stable-only] Drop testing on Fedora

The QA/DevStack team does not support testing on Fedora on stable
branches. The fedora-latest nodeset is meant to be used on
master branch only.
This change removes it on this stable branch to allow the nodeset
to progress with Fedora version on master.
In addition, the two Fedora jobs are removed to allow for nodeset
removal.

Cherry-Picked-From: c1928d8fb89c451e98e7da1cc7f884c44d282dfd
Change-Id: If952b54bdecf82be811b57f4a17a0c59db54a62a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/802821/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3eff1823f1b0133ae0840dcd851bd56350773514,,, name: devstack-single-node-fedora-latest nodes: - name: controller label: fedora-32 groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-fedora-latest parent: tempest-full-py3 description: Fedora latest platform test nodeset: devstack-single-node-fedora-latest voting: false - job: name: devstack-platform-fedora-latest-virt-preview parent: tempest-full-py3 description: Fedora latest platform test using the virt-preview repo. nodeset: devstack-single-node-fedora-latest voting: false vars: devstack_localrc: ENABLE_FEDORA_VIRT_PREVIEW_REPO: true - job: - devstack-platform-fedora-latest # * devstack-platform-fedora-latest-virt-preview: Maintained by lyarwood # for Nova to allow early testing of the latest versions of Libvirt and # QEMU. Should only graduate out of experimental if it ever moves into # the check queue for Nova. - devstack-platform-fedora-latest-virt-preview,0,33
openstack%2Fkolla~master~I822d640a251e6ed9f71c76a922513e23e4218418,openstack/kolla,master,I822d640a251e6ed9f71c76a922513e23e4218418,Add missing default policy files for debian-binary-horizon,MERGED,2021-06-27 13:03:38.000000000,2021-07-29 10:49:27.000000000,2021-07-29 10:47:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-06-27 13:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/24f8432acd39562fa0d4e4f521e1922b8e122009', 'message': 'Add missing default policy files for debian-binary-horizon\n\nThe debianu-binary-horizon image is missing the default policies files\nwhich should be in /etc/openstack-dashboard/default_policies. By copying\neverything from /etc/openstack-dashboard/policy\ninto /etc/openstack-dashboard, we get the default policy files, as well\nas commented out policy files (e.g. cinder_policy.yaml) and the\nnova_policy.d directory containing api-extensions.yaml.\n\nChange was merged for ubuntu in [1] but unfortunatelly\nnot for debian, this trivial patch fixes it also\nfor debian.\n\n[1] https://review.opendev.org/c/openstack/kolla/+/794589\n\nCloses-Bug: #1933759\nChange-Id: I822d640a251e6ed9f71c76a922513e23e4218418\n'}, {'number': 2, 'created': '2021-06-27 13:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b0ec2c962f7bf129cdc1b74a0a89ff2059471d0', 'message': 'Add missing default policy files for debian-binary-horizon\n\nThe debian-binary-horizon image is missing the default policies files\nwhich should be in /etc/openstack-dashboard/default_policies. By copying\neverything from /etc/openstack-dashboard/policy\ninto /etc/openstack-dashboard, we get the default policy files, as well\nas commented out policy files (e.g. cinder_policy.yaml) and the\nnova_policy.d directory containing api-extensions.yaml.\n\nChange was merged for ubuntu in [1] but unfortunatelly\nnot for debian, this trivial patch fixes it also\nfor debian.\n\n[1] https://review.opendev.org/c/openstack/kolla/+/794589\n\nCloses-Bug: #1933759\nChange-Id: I822d640a251e6ed9f71c76a922513e23e4218418\n'}, {'number': 3, 'created': '2021-06-28 05:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2570baf28b6bddc342c7aa6af37db91428c9f89', 'message': 'Add missing default policy files for debian-binary-horizon\n\nThe debian-binary-horizon image is missing the default policies files\nwhich should be in /etc/openstack-dashboard/default_policies. By copying\neverything from /etc/openstack-dashboard/policy\ninto /etc/openstack-dashboard, we get the default policy files, as well\nas commented out policy files (e.g. cinder_policy.yaml) and the\nnova_policy.d directory containing api-extensions.yaml.\n\nChange was merged for ubuntu in [1] but unfortunatelly\nnot for debian, this trivial patch fixes it also\nfor debian.\n\n[1] https://review.opendev.org/c/openstack/kolla/+/794589\n\nCloses-Bug: #1933759\nChange-Id: I822d640a251e6ed9f71c76a922513e23e4218418\n'}, {'number': 4, 'created': '2021-07-01 10:18:30.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'releasenotes/notes/bug-1933759-c03e50c243850a49.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/01d02be25ed043b4541db3ebfc102d013cdc578a', 'message': 'Add missing default policy files for debian-binary-horizon\n\nThe debian-binary-horizon image is missing the default policies files\nwhich should be in /etc/openstack-dashboard/default_policies. By copying\neverything from /etc/openstack-dashboard/policy\ninto /etc/openstack-dashboard, we get the default policy files, as well\nas commented out policy files (e.g. cinder_policy.yaml) and the\nnova_policy.d directory containing api-extensions.yaml.\n\nChange was merged for ubuntu in [1] but unfortunatelly\nnot for debian, this trivial patch fixes it also\nfor debian.\n\n[1] https://review.opendev.org/c/openstack/kolla/+/794589\n\nCloses-Bug: #1933759\nChange-Id: I822d640a251e6ed9f71c76a922513e23e4218418\n'}]",0,798212,01d02be25ed043b4541db3ebfc102d013cdc578a,29,5,4,27339,,,0,"Add missing default policy files for debian-binary-horizon

The debian-binary-horizon image is missing the default policies files
which should be in /etc/openstack-dashboard/default_policies. By copying
everything from /etc/openstack-dashboard/policy
into /etc/openstack-dashboard, we get the default policy files, as well
as commented out policy files (e.g. cinder_policy.yaml) and the
nova_policy.d directory containing api-extensions.yaml.

Change was merged for ubuntu in [1] but unfortunatelly
not for debian, this trivial patch fixes it also
for debian.

[1] https://review.opendev.org/c/openstack/kolla/+/794589

Closes-Bug: #1933759
Change-Id: I822d640a251e6ed9f71c76a922513e23e4218418
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/798212/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,24f8432acd39562fa0d4e4f521e1922b8e122009,change-798212-3, && cp /etc/openstack-dashboard/policy/* /etc/openstack-dashboard \, && cp /etc/openstack-dashboard/policy/*.json /etc/openstack-dashboard \,1,1
openstack%2Ftripleo-heat-templates~master~I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc,openstack/tripleo-heat-templates,master,I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc,Make memcached port parameters globally available,MERGED,2021-04-16 12:32:35.000000000,2021-07-29 10:46:18.000000000,2021-07-29 10:46:18.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-16 12:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44ed71d0f525d7e352975520eee303ab9e14e6cf', 'message': 'Make memcached port parameters globally available\n\nThe memcached_port parameter and the memcached_authtoken_port parameter\nare used in each api service. Because memcached and each api services\nare not always collocated, we should use global hieradata to ensure\nthe parameters defined in memcached service resource are propagated to\nall nodes in the deployment.\n\nChange-Id: I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc\n'}, {'number': 2, 'created': '2021-04-22 13:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72b2215a80c20efddfcb1ba45208b08b8e75332e', 'message': 'Make memcached port parameters globally available\n\nThe memcached_port parameter and the memcached_authtoken_port parameter\nare used in each api service. Because memcached and each api services\nare not always collocated, we should use global hieradata to ensure\nthe parameters defined in memcached service resource are propagated to\nall nodes in the deployment.\n\nChange-Id: I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc\n'}, {'number': 3, 'created': '2021-04-30 08:30:12.000000000', 'files': ['environments/ssl/enable-memcached-tls.yaml', 'deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7d2386438d6d4a969ad67a2de58ac6c1ffa075a', 'message': 'Make memcached port parameters globally available\n\nThe memcached_port parameter and the memcached_authtoken_port parameter\nare used in each api service. Because memcached and each api services\nare not always collocated, we should use global hieradata to ensure\nthe parameters defined in memcached service resource are propagated to\nall nodes in the deployment.\n\nChange-Id: I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc\n'}]",3,786639,a7d2386438d6d4a969ad67a2de58ac6c1ffa075a,20,7,3,9816,,,0,"Make memcached port parameters globally available

The memcached_port parameter and the memcached_authtoken_port parameter
are used in each api service. Because memcached and each api services
are not always collocated, we should use global hieradata to ensure
the parameters defined in memcached service resource are propagated to
all nodes in the deployment.

Change-Id: I54d45bbb26a4a04cb3cf87b9bd8a2290998279fc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/786639/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,44ed71d0f525d7e352975520eee303ab9e14e6cf,," global_config_settings: # NOTE: This config is necessary while there are still services # consuming Memcached that do not support TLS. Once all services # do support TLS, this config should be dropped. if: - enable_non_tls_port - memcached_port: {get_param: MemcachedPort} memcached_authtoken_port: 11211 - memcached_port: {get_param: MemcachedPort} memcached_authtoken_port: {get_param: MemcachedPort}"," # NOTE: This config is necessary while there are still services # consuming Memcached that do not support TLS. Once all services # do support TLS, this config should be dropped. if: - enable_non_tls_port - memcached_port: {get_param: MemcachedPort} memcached_authtoken_port: 11211 - memcached_port: {get_param: MemcachedPort} memcached_authtoken_port: {get_param: MemcachedPort} -",10,10
openstack%2Fkolla~stable%2Fvictoria~I75927b6016bdb7577fbff354632bdab6407f359c,openstack/kolla,stable/victoria,I75927b6016bdb7577fbff354632bdab6407f359c,Improve offline build scenario.,MERGED,2021-07-27 09:37:22.000000000,2021-07-29 10:45:35.000000000,2021-07-29 10:43:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 09:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4c459f7c4a94dcecdbc8700bdd7b0b8c81768ccf', 'message': 'Improve offline build scenario.\n\n  * Use distribution based dumb-init package.\n\nChange-Id: I75927b6016bdb7577fbff354632bdab6407f359c\nRelated-Bug: #19311980\n(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)\n'}, {'number': 2, 'created': '2021-07-29 07:20:28.000000000', 'files': ['releasenotes/notes/improve_offline_support-e7b2384fb7390184.yaml', 'docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/865e3f1bb848f3dbf64bb2e52dd51bc3209e9719', 'message': 'Improve offline build scenario.\n\n  * Use distribution based dumb-init package.\n\nChange-Id: I75927b6016bdb7577fbff354632bdab6407f359c\nRelated-Bug: #19311980\n(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)\n'}]",1,802357,865e3f1bb848f3dbf64bb2e52dd51bc3209e9719,14,3,2,32398,,,0,"Improve offline build scenario.

  * Use distribution based dumb-init package.

Change-Id: I75927b6016bdb7577fbff354632bdab6407f359c
Related-Bug: #19311980
(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/802357/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/improve_offline_support-e7b2384fb7390184.yaml', 'docker/base/Dockerfile.j2']",2,4c459f7c4a94dcecdbc8700bdd7b0b8c81768ccf,bug/1931980-stable/victoria," 'dumb-init', 'dumb-init', 'tgt' ] %}<<<<<<< HEAD (b9eac3 gnocchi: add python3-rados to gnocchi-base source image)======= >>>>>>> CHANGE (5940d1 Improve offline build scenario.)", 'tgt'] %},12,3
openstack%2Freleases~master~I1237a7109d482e96d414390b636f5b471205655e,openstack/releases,master,I1237a7109d482e96d414390b636f5b471205655e,[blazar-tempest-plugin] Tag train-last,MERGED,2021-07-16 23:46:10.000000000,2021-07-29 10:45:14.000000000,2021-07-29 10:45:14.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 23:46:10.000000000', 'files': ['deliverables/train/blazar-tempest-plugin.yaml', 'deliverables/xena/blazar-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/03156b5bd992a639c4826508541145d3e05c0c21', 'message': ""[blazar-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I1237a7109d482e96d414390b636f5b471205655e\n""}]",0,801161,03156b5bd992a639c4826508541145d3e05c0c21,9,4,1,8556,,,0,"[blazar-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I1237a7109d482e96d414390b636f5b471205655e
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/801161/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/blazar-tempest-plugin.yaml', 'deliverables/xena/blazar-tempest-plugin.yaml']",2,03156b5bd992a639c4826508541145d3e05c0c21,train-last,releases: - version: 0.7.0 projects: - repo: openstack/blazar-tempest-plugin hash: 362c6c520902baadf54d91ca1e0110ccc98e230d,,9,0
openstack%2Freleases~master~Iceae0b43d2d564b44759a172c8ba4e02aec24b44,openstack/releases,master,Iceae0b43d2d564b44759a172c8ba4e02aec24b44,[cloudkitty-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:26:59.000000000,2021-07-29 10:43:48.000000000,2021-07-29 10:43:48.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 21:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/65ce5b6f1615647bf1bc440ffe1ab8643c59eae9', 'message': ""[cloudkitty-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Iceae0b43d2d564b44759a172c8ba4e02aec24b44\n""}, {'number': 2, 'created': '2021-07-19 11:21:10.000000000', 'files': ['deliverables/xena/cloudkitty-tempest-plugin.yaml', 'deliverables/train/cloudkitty-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/09ce2aba22d4a1e95930414b89b460c7f09abfd1', 'message': ""[cloudkitty-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Iceae0b43d2d564b44759a172c8ba4e02aec24b44\n""}]",1,801138,09ce2aba22d4a1e95930414b89b460c7f09abfd1,11,4,2,8556,,,0,"[cloudkitty-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Iceae0b43d2d564b44759a172c8ba4e02aec24b44
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/801138/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/cloudkitty-tempest-plugin.yaml', 'deliverables/train/cloudkitty-tempest-plugin.yaml']",2,65ce5b6f1615647bf1bc440ffe1ab8643c59eae9,train-last, - version: train-last projects: - repo: openstack/cloudkitty-tempest-plugin hash: b709752ea5d7c4f9a0800d16f163cd6fe1eb54da,,9,0
openstack%2Fironic~master~Ib5a75fc5e5b6b5661d36e3a27796c3c02ed90056,openstack/ironic,master,Ib5a75fc5e5b6b5661d36e3a27796c3c02ed90056,Increase version of hacking and pycodestyle,MERGED,2021-07-28 09:33:31.000000000,2021-07-29 10:42:58.000000000,2021-07-29 10:40:52.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 09:33:31.000000000', 'files': ['ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'ironic/tests/unit/objects/test_port.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'tox.ini', 'ironic/tests/unit/objects/test_portgroup.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7aec74d4e610a128b11bc6fae14fbb8d26d1da70', 'message': 'Increase version of hacking and pycodestyle\n\nFix errors in unit tests\n\nChange-Id: Ib5a75fc5e5b6b5661d36e3a27796c3c02ed90056\n'}]",0,802675,7aec74d4e610a128b11bc6fae14fbb8d26d1da70,9,3,1,23851,,,0,"Increase version of hacking and pycodestyle

Fix errors in unit tests

Change-Id: Ib5a75fc5e5b6b5661d36e3a27796c3c02ed90056
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/802675/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'ironic/tests/unit/objects/test_port.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'tox.ini', 'ironic/tests/unit/objects/test_portgroup.py']",7,7aec74d4e610a128b11bc6fae14fbb8d26d1da70,increase-hacking-pycodestyle," self.assertNotIn('tenant_vif_port_id', portgroup.internal_info) self.assertNotIn('tenant_vif_port_id', portgroup.internal_info)", self.assertFalse('tenant_vif_port_id' in portgroup.internal_info) self.assertFalse('tenant_vif_port_id' in portgroup.internal_info),17,22
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I34d94dba5df3203426424b49b9dfab862b69dbb5,openstack/tripleo-heat-templates,stable/train,I34d94dba5df3203426424b49b9dfab862b69dbb5,DNM: Test for BZ1979840,ABANDONED,2021-07-09 05:53:53.000000000,2021-07-29 10:41:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-09 05:53:53.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06e7bea1edc6303a2b76b8de1f82da92a5238050', 'message': 'DNM: Test for BZ1979840\n\nChange-Id: I34d94dba5df3203426424b49b9dfab862b69dbb5\n'}]",0,800159,06e7bea1edc6303a2b76b8de1f82da92a5238050,4,2,1,26343,,,0,"DNM: Test for BZ1979840

Change-Id: I34d94dba5df3203426424b49b9dfab862b69dbb5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/800159/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,06e7bea1edc6303a2b76b8de1f82da92a5238050,," - name: get container_id when: - docker_state.status.ActiveState == 'active' or container_cli == 'podman' - attr_cert_path.stat.exists - attr_cert_path.stat.isdir == False command: ""{{ container_cli }} ps -q -f name=haproxy"" register: container_id "," - name: get container_id when: - docker_state.status.ActiveState == 'active' or container_cli == 'podman' - attr_cert_path.stat.exists - attr_cert_path.stat.isdir == False command: ""{{ container_cli }} ps -q -f name=haproxy"" register: container_id ",8,8
openstack%2Freleases~master~Ifc4756305985c63c5e08fc294ff7a80aa666ca0c,openstack/releases,master,Ifc4756305985c63c5e08fc294ff7a80aa666ca0c,[ironic-tempest-plugin] Tag train-last,MERGED,2021-07-17 00:15:23.000000000,2021-07-29 10:39:42.000000000,2021-07-29 10:39:42.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-17 00:15:23.000000000', 'files': ['deliverables/train/ironic-tempest-plugin.yaml', 'deliverables/xena/ironic-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/789ea9b3c6071d164a06ffc7cf9aa73fef4ecf6a', 'message': ""[ironic-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Ifc4756305985c63c5e08fc294ff7a80aa666ca0c\n""}]",0,801169,789ea9b3c6071d164a06ffc7cf9aa73fef4ecf6a,9,7,1,8556,,,0,"[ironic-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ifc4756305985c63c5e08fc294ff7a80aa666ca0c
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/801169/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/ironic-tempest-plugin.yaml', 'deliverables/xena/ironic-tempest-plugin.yaml']",2,789ea9b3c6071d164a06ffc7cf9aa73fef4ecf6a,train-last,releases: - version: 2.3.0 projects: - repo: openstack/ironic-tempest-plugin hash: c77d2aebe3f85f1aa38a3561dc3a2eec6ed38e69,,9,0
openstack%2Freleases~master~I1d12ad572d5315616696dcf88ba86a276a2d042d,openstack/releases,master,I1d12ad572d5315616696dcf88ba86a276a2d042d,[telemetry-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:45:35.000000000,2021-07-29 10:39:15.000000000,2021-07-29 10:39:15.000000000,"[{'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 22:45:35.000000000', 'files': ['deliverables/train/telemetry-tempest-plugin.yaml', 'deliverables/xena/telemetry-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e3c4c47c65bea4e752523fbddeefff7d8ee5cbc3', 'message': ""[telemetry-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I1d12ad572d5315616696dcf88ba86a276a2d042d\n""}]",0,801152,e3c4c47c65bea4e752523fbddeefff7d8ee5cbc3,9,4,1,8556,,,0,"[telemetry-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I1d12ad572d5315616696dcf88ba86a276a2d042d
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/801152/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/telemetry-tempest-plugin.yaml', 'deliverables/xena/telemetry-tempest-plugin.yaml']",2,e3c4c47c65bea4e752523fbddeefff7d8ee5cbc3,train-last,releases: - version: 1.4.0 projects: - repo: openstack/telemetry-tempest-plugin hash: 590f33806abd61d22a24a5adb122504536a09b84,,9,0
openstack%2Freleases~master~I2f29a08bf785434c14cdaad1e2eda5230ba809cb,openstack/releases,master,I2f29a08bf785434c14cdaad1e2eda5230ba809cb,[watcher-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:49:26.000000000,2021-07-29 10:37:00.000000000,2021-07-29 10:37:00.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-07-16 22:49:26.000000000', 'files': ['deliverables/train/watcher-tempest-plugin.yaml', 'deliverables/xena/watcher-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b0fc745360eaa8ccf3b3acf52fe7dbdfed937414', 'message': ""[watcher-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I2f29a08bf785434c14cdaad1e2eda5230ba809cb\n""}]",0,801153,b0fc745360eaa8ccf3b3acf52fe7dbdfed937414,9,5,1,8556,,,0,"[watcher-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I2f29a08bf785434c14cdaad1e2eda5230ba809cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/801153/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/watcher-tempest-plugin.yaml', 'deliverables/xena/watcher-tempest-plugin.yaml']",2,b0fc745360eaa8ccf3b3acf52fe7dbdfed937414,train-last,releases: - version: 2.3.0 projects: - repo: openstack/watcher-tempest-plugin hash: d97f4b3c36d2228da8278700bef8314af8b41689,,9,0
openstack%2Freleases~master~Ia6f554da377d77182b79240a96638d19a163a9b3,openstack/releases,master,Ia6f554da377d77182b79240a96638d19a163a9b3,[ec2api-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:18:42.000000000,2021-07-29 10:33:09.000000000,2021-07-29 10:33:09.000000000,"[{'_account_id': 10234}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 21:18:42.000000000', 'files': ['deliverables/xena/ec2api-tempest-plugin.yaml', 'deliverables/train/ec2api-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cc96ae42836a5a2c959e25ddf44e925a2ae5afd3', 'message': ""[ec2api-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Ia6f554da377d77182b79240a96638d19a163a9b3\n""}]",0,801136,cc96ae42836a5a2c959e25ddf44e925a2ae5afd3,9,4,1,8556,,,0,"[ec2api-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ia6f554da377d77182b79240a96638d19a163a9b3
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/801136/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/ec2api-tempest-plugin.yaml', 'deliverables/train/ec2api-tempest-plugin.yaml']",2,cc96ae42836a5a2c959e25ddf44e925a2ae5afd3,train-last, - version: train-last projects: - repo: openstack/ec2api-tempest-plugin hash: aae0b12bd1906fb8fbb7d8037b68af382df61a15,,9,0
openstack%2Freleases~master~I546921d83610f268a41104e0572e36ca7ed2435d,openstack/releases,master,I546921d83610f268a41104e0572e36ca7ed2435d,[vitrage-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:14:49.000000000,2021-07-29 10:33:07.000000000,2021-07-29 10:33:07.000000000,"[{'_account_id': 17685}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 21:14:49.000000000', 'files': ['deliverables/xena/vitrage-tempest-plugin.yaml', 'deliverables/train/vitrage-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/63081871e29179d9a45851c615532a1e5ee0ba09', 'message': ""[vitrage-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I546921d83610f268a41104e0572e36ca7ed2435d\n""}]",0,801135,63081871e29179d9a45851c615532a1e5ee0ba09,9,4,1,8556,,,0,"[vitrage-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I546921d83610f268a41104e0572e36ca7ed2435d
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/801135/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/vitrage-tempest-plugin.yaml', 'deliverables/train/vitrage-tempest-plugin.yaml']",2,63081871e29179d9a45851c615532a1e5ee0ba09,train-last, - version: train-last projects: - repo: openstack/vitrage-tempest-plugin hash: a99b1497f59fbf1d239d08eea68ffaca342d2fb1,,9,0
openstack%2Freleases~master~I2f65701ebf6a7916f7c72457ae0bd6531b57608a,openstack/releases,master,I2f65701ebf6a7916f7c72457ae0bd6531b57608a,[neutron-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:19:53.000000000,2021-07-29 10:33:01.000000000,2021-07-29 10:33:01.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 22:19:53.000000000', 'files': ['deliverables/xena/neutron-tempest-plugin.yaml', 'deliverables/train/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/da9745f8b12dcb7e6f52d9ee868bc402cb44055e', 'message': ""[neutron-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I2f65701ebf6a7916f7c72457ae0bd6531b57608a\n""}]",0,801146,da9745f8b12dcb7e6f52d9ee868bc402cb44055e,13,6,1,8556,,,0,"[neutron-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I2f65701ebf6a7916f7c72457ae0bd6531b57608a
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/801146/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/neutron-tempest-plugin.yaml', 'deliverables/xena/neutron-tempest-plugin.yaml']",2,da9745f8b12dcb7e6f52d9ee868bc402cb44055e,train-last, - version: 1.6.0 projects: - repo: openstack/neutron-tempest-plugin hash: c55bd059edb990454eba01f512fc40d09d02db26,,8,0
openstack%2Freleases~master~Ic92f0048ed6f3c23f7f060797508be70cef141b7,openstack/releases,master,Ic92f0048ed6f3c23f7f060797508be70cef141b7,[monasca-tempest-plugin] Tag train-last,MERGED,2021-07-16 23:52:55.000000000,2021-07-29 10:32:59.000000000,2021-07-29 10:32:59.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 23:52:55.000000000', 'files': ['deliverables/train/monasca-tempest-plugin.yaml', 'deliverables/xena/monasca-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dd207a4722745479f5b2c587fdd0e4dd1762dd6a', 'message': ""[monasca-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Ic92f0048ed6f3c23f7f060797508be70cef141b7\n""}]",0,801164,dd207a4722745479f5b2c587fdd0e4dd1762dd6a,9,4,1,8556,,,0,"[monasca-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ic92f0048ed6f3c23f7f060797508be70cef141b7
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/801164/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/monasca-tempest-plugin.yaml', 'deliverables/xena/monasca-tempest-plugin.yaml']",2,dd207a4722745479f5b2c587fdd0e4dd1762dd6a,train-last,releases: - version: 2.3.0 projects: - repo: openstack/monasca-tempest-plugin hash: 062cb7576a574d5fd12f75bea351e6381b19a5a1,,9,0
openstack%2Freleases~master~I5e3bec00a75a3213e0aab810a6e797f3e34d5d08,openstack/releases,master,I5e3bec00a75a3213e0aab810a6e797f3e34d5d08,[Tempest] Tag train-last,MERGED,2021-07-16 20:57:09.000000000,2021-07-29 10:32:57.000000000,2021-07-29 10:32:57.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 20:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/64cb7372db04bed0166b93cb68a5d16cc009a244', 'message': '[Tempest] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[2].\n\nDocumentation this tag\n- https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I5e3bec00a75a3213e0aab810a6e797f3e34d5d08\n'}, {'number': 2, 'created': '2021-07-19 17:04:15.000000000', 'files': ['deliverables/xena/tempest.yaml', 'deliverables/train/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e8ebdbc010c65f3dc18e2d78a2e636fbf4825be8', 'message': '[Tempest] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[2].\n\nDocumentation this tag\n- https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I5e3bec00a75a3213e0aab810a6e797f3e34d5d08\n'}]",0,801133,e8ebdbc010c65f3dc18e2d78a2e636fbf4825be8,15,5,2,8556,,,0,"[Tempest] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[2].

Documentation this tag
- https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I5e3bec00a75a3213e0aab810a6e797f3e34d5d08
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/801133/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/tempest.yaml', 'deliverables/train/tempest.yaml']",2,64cb7372db04bed0166b93cb68a5d16cc009a244,train-last, - version: train-last projects: - repo: openstack/tempest hash: 1e4cb1da36012068acb0a189592d6e3cf80cdfb6,,9,0
openstack%2Freleases~master~I418d31195844362805d82fd8909fe785529eabbd,openstack/releases,master,I418d31195844362805d82fd8909fe785529eabbd,[zaqar-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:29:52.000000000,2021-07-29 10:29:47.000000000,2021-07-29 10:29:47.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 22:29:52.000000000', 'files': ['deliverables/xena/zaqar-tempest-plugin.yaml', 'deliverables/train/zaqar-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5c45515035f409fcca569c566a395471de15f320', 'message': ""[zaqar-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I418d31195844362805d82fd8909fe785529eabbd\n""}]",0,801148,5c45515035f409fcca569c566a395471de15f320,9,5,1,8556,,,0,"[zaqar-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I418d31195844362805d82fd8909fe785529eabbd
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/801148/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/zaqar-tempest-plugin.yaml', 'deliverables/train/zaqar-tempest-plugin.yaml']",2,5c45515035f409fcca569c566a395471de15f320,train-last, - version: train-last projects: - repo: openstack/zaqar-tempest-plugin hash: fef59164aafef3f37191e78692713219f8de4bff,,9,0
openstack%2Freleases~master~I269c8bd61fca50954b81baeacce50b44e58e227f,openstack/releases,master,I269c8bd61fca50954b81baeacce50b44e58e227f,[manila-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:37:21.000000000,2021-07-29 10:29:00.000000000,2021-07-29 10:29:00.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 22:37:21.000000000', 'files': ['deliverables/xena/manila-tempest-plugin.yaml', 'deliverables/train/manila-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a6f2fe3be396d4c086da2e99a3158e70c01f53e0', 'message': ""[manila-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I269c8bd61fca50954b81baeacce50b44e58e227f\n""}]",0,801150,a6f2fe3be396d4c086da2e99a3158e70c01f53e0,10,5,1,8556,,,0,"[manila-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I269c8bd61fca50954b81baeacce50b44e58e227f
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/801150/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/manila-tempest-plugin.yaml', 'deliverables/train/manila-tempest-plugin.yaml']",2,a6f2fe3be396d4c086da2e99a3158e70c01f53e0,train-last, - version: train-last projects: - repo: openstack/manila-tempest-plugin hash: 149acc51adf0c17b22fe690a2e9018596bcc5bbd,,9,0
openstack%2Freleases~master~If479ab5efac8e93a71a5f3bcf589ef852333a14c,openstack/releases,master,If479ab5efac8e93a71a5f3bcf589ef852333a14c,[kuryr-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:40:15.000000000,2021-07-29 10:25:11.000000000,2021-07-29 10:25:11.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 22:40:15.000000000', 'files': ['deliverables/train/kuryr-tempest-plugin.yaml', 'deliverables/xena/kuryr-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9b3a16e2b66c894e1f2b07e3362a0348e8540b0e', 'message': ""[kuryr-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: If479ab5efac8e93a71a5f3bcf589ef852333a14c\n""}]",0,801151,9b3a16e2b66c894e1f2b07e3362a0348e8540b0e,9,4,1,8556,,,0,"[kuryr-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: If479ab5efac8e93a71a5f3bcf589ef852333a14c
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/801151/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/kuryr-tempest-plugin.yaml', 'deliverables/xena/kuryr-tempest-plugin.yaml']",2,9b3a16e2b66c894e1f2b07e3362a0348e8540b0e,train-last,releases: - version: 0.10.0 projects: - repo: openstack/kuryr-tempest-plugin hash: 8e5addef560eae211c039f1d0d6b43501299cbce,,9,0
openstack%2Freleases~master~Idee706732d9f3a9222b6eac9f6e5facf5b321a00,openstack/releases,master,Idee706732d9f3a9222b6eac9f6e5facf5b321a00,[oswin-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:06:50.000000000,2021-07-29 10:23:42.000000000,2021-07-29 10:23:42.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 21:06:50.000000000', 'files': ['deliverables/train/oswin-tempest-plugin.yaml', 'deliverables/xena/oswin-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/06ed592a7081f5a464bdac5e68f918c87d38e183', 'message': ""[oswin-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Idee706732d9f3a9222b6eac9f6e5facf5b321a00\n""}]",0,801134,06ed592a7081f5a464bdac5e68f918c87d38e183,10,5,1,8556,,,0,"[oswin-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Idee706732d9f3a9222b6eac9f6e5facf5b321a00
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/801134/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/oswin-tempest-plugin.yaml', 'deliverables/xena/oswin-tempest-plugin.yaml']",2,06ed592a7081f5a464bdac5e68f918c87d38e183,train-last,releases: - version: 1.3.0 projects: - repo: openstack/oswin-tempest-plugin hash: 59e6a14d01dda304c7d11fda1d35198f25799d6c,,9,0
openstack%2Fsolum~master~I25b3670a42695a48de6f9892288c19067a0ddfc0,openstack/solum,master,I25b3670a42695a48de6f9892288c19067a0ddfc0,docs: Update Freenode to OFTC,ABANDONED,2021-06-08 14:15:45.000000000,2021-07-29 10:22:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-08 14:15:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/solum/commit/7c04164ac2f59cd9fd9917a7ff284ad8c527e5fe', 'message': 'docs: Update Freenode to OFTC\n\nsee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\nChange-Id: I25b3670a42695a48de6f9892288c19067a0ddfc0\n'}]",0,795347,7c04164ac2f59cd9fd9917a7ff284ad8c527e5fe,4,2,1,26285,,,0,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: I25b3670a42695a48de6f9892288c19067a0ddfc0
",git fetch https://review.opendev.org/openstack/solum refs/changes/47/795347/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7c04164ac2f59cd9fd9917a7ff284ad8c527e5fe,, * IRC: #solum at http://oftc.net, * IRC: #solum at chat.freenode.net,1,1
openstack%2Freleases~master~I803950d36749fd8fdf2eb0d57daa59fa476495f4,openstack/releases,master,I803950d36749fd8fdf2eb0d57daa59fa476495f4,[trove-tempest-plugin] Tag train-last,MERGED,2021-07-16 21:22:10.000000000,2021-07-29 10:20:54.000000000,2021-07-29 10:20:54.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 21:22:10.000000000', 'files': ['deliverables/xena/trove-tempest-plugin.yaml', 'deliverables/train/trove-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3e8571a2056fbdecc8d517d007c124aecb13c259', 'message': ""[trove-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I803950d36749fd8fdf2eb0d57daa59fa476495f4\n""}]",0,801137,3e8571a2056fbdecc8d517d007c124aecb13c259,9,4,1,8556,,,0,"[trove-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I803950d36749fd8fdf2eb0d57daa59fa476495f4
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/801137/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/trove-tempest-plugin.yaml', 'deliverables/train/trove-tempest-plugin.yaml']",2,3e8571a2056fbdecc8d517d007c124aecb13c259,train-last, - version: train-last projects: - repo: openstack/trove-tempest-plugin hash: 4922ec75dba5c19985aaa0cacdbbf676b5a5fd37,,9,0
openstack%2Fnova~stable%2Ftrain~I03eec634b25582ec9643cacf3e5868c101176983,openstack/nova,stable/train,I03eec634b25582ec9643cacf3e5868c101176983,Reproducer unit test for bug 1860312,NEW,2021-07-29 09:01:01.000000000,2021-07-29 10:18:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-29 09:01:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/538aeb98446e2230e44c579ed1f971fa7883826d', 'message': ""Reproducer unit test for bug 1860312\n\nConsider the following situation:\n\n- Using the Ironic virt driver\n- Replacing (so removing and re-adding) all baremetal nodes\n  associated with a single nova-compute service\n\nThe update resources periodic will have destroyed the compute node\nrecords because they're no longer being reported by the virt driver.\nIf we then attempt to manually delete the compute service record, the\ndatbase layer will raise an exception, as there are no longer any\ncompute node records for the host. This exception gets bubbled up as\nan error 500 in the API. This patch adds a unit test to demonstrate\nthis.\n\nRelated bug: 1860312\nChange-Id: I03eec634b25582ec9643cacf3e5868c101176983\n(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)\n(cherry picked from commit e6cd23c3b4928b421b8c706f9cc218020779e367)\n(cherry picked from commit 9efdd0b085733a0a4c4192aab8fc870c8aadf316)\n(cherry picked from commit 075817983ae2ab71e6fe0b539da67a768d109478)\n""}]",0,802848,538aeb98446e2230e44c579ed1f971fa7883826d,2,1,1,8864,,,0,"Reproducer unit test for bug 1860312

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. This exception gets bubbled up as
an error 500 in the API. This patch adds a unit test to demonstrate
this.

Related bug: 1860312
Change-Id: I03eec634b25582ec9643cacf3e5868c101176983
(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)
(cherry picked from commit e6cd23c3b4928b421b8c706f9cc218020779e367)
(cherry picked from commit 9efdd0b085733a0a4c4192aab8fc870c8aadf316)
(cherry picked from commit 075817983ae2ab71e6fe0b539da67a768d109478)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/802848/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_services.py'],1,538aeb98446e2230e44c579ed1f971fa7883826d,bug/1860312," @mock.patch( 'nova.objects.ComputeNodeList.get_all_by_host', side_effect=exception.ComputeHostNotFound(host='fake-compute-host')) def test_services_delete_compute_host_not_found( self, mock_get_all_by_host): compute = objects.Service(self.ctxt, **{'host': 'fake-compute-host', 'binary': 'nova-compute', 'topic': 'compute', 'report_count': 0}) compute.create() # FIXME(artom) Until bug 1860312 is fixed, the ComputeHostNotFound # error will get bubbled up to the API as an error 500. self.assertRaises( webob.exc.HTTPInternalServerError, self.controller.delete, self.req, compute.id) mock_get_all_by_host.assert_called_with( self.req.environ['nova.context'], 'fake-compute-host') ",,19,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,openstack/kolla-ansible,stable/wallaby,I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1,Use ansible_facts to reference facts,MERGED,2021-07-28 13:11:58.000000000,2021-07-29 10:07:22.000000000,2021-07-29 10:05:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 13:11:58.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/prechecks/vars/main.yml', 'ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/gather-facts.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-statsd/agent-statsd.yml.j2', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/nova-cell/tasks/config-host.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-env.conf.j2', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2', 'ansible/roles/prechecks/tasks/datetime_checks.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-collector/agent-collector.yml.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'kolla_ansible/kolla_address.py', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml', 'tests/templates/ansible.cfg.j2', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'doc/source/user/ansible-tuning.rst', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/mariadb/templates/galera.cnf.j2', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/octavia/tasks/openrc.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/post-deploy.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/zookeeper/templates/myid.j2', 'ansible/roles/vitrage/defaults/main.yml', 'kolla_ansible/tests/unit/test_address_filters.py', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/octavia/tasks/hm-interface.yml', 'ansible/roles/prechecks/tasks/host_os_checks.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/493e6454bc55d303df4ab008db69ca6af7992639', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kolla Ansible\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nChange-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1\nPartially-Implements: blueprint performance-improvements\n(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)\n'}]",0,802704,493e6454bc55d303df4ab008db69ca6af7992639,10,3,1,14826,,,0,"Use ansible_facts to reference facts

By default, Ansible injects a variable for every fact, prefixed with
ansible_. This can result in a large number of variables for each host,
which at scale can incur a performance penalty. Ansible provides a
configuration option [0] that can be set to False to prevent this
injection of facts. In this case, facts should be referenced via
ansible_facts.<fact>.

This change updates all references to Ansible facts within Kolla Ansible
from using individual fact variables to using the items in the
ansible_facts dictionary. This allows users to disable fact variable
injection in their Ansible configuration, which may provide some
performance improvement.

This change disables fact variable injection in the ansible
configuration used in CI, to catch any attempts to use the injected
variables.

[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars

Change-Id: I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1
Partially-Implements: blueprint performance-improvements
(cherry picked from commit ade5bfa302f131cf1111a61ec95c6cddc3827e04)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/802704/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/prechecks/vars/main.yml', 'ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/gather-facts.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-statsd/agent-statsd.yml.j2', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/nova-cell/tasks/config-host.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-env.conf.j2', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2', 'ansible/roles/prechecks/tasks/datetime_checks.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-agent-collector/agent-collector.yml.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'kolla_ansible/kolla_address.py', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/prechecks/tasks/port_checks.yml', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml', 'tests/templates/ansible.cfg.j2', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'doc/source/user/ansible-tuning.rst', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/mariadb/templates/galera.cnf.j2', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/octavia/tasks/openrc.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/post-deploy.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/zookeeper/templates/myid.j2', 'ansible/roles/vitrage/defaults/main.yml', 'kolla_ansible/tests/unit/test_address_filters.py', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/octavia/tasks/hm-interface.yml', 'ansible/roles/prechecks/tasks/host_os_checks.yml', 'ansible/roles/vmtp/defaults/main.yml']",104,493e6454bc55d303df4ab008db69ca6af7992639,," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_facts.os_family == 'Debian' else '' }}"""," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_os_family == 'Debian' else '' }}""",424,371
openstack%2Freleases~master~I61ef6a5099eca7d92b85b1b15e465f8225e13401,openstack/releases,master,I61ef6a5099eca7d92b85b1b15e465f8225e13401,Release cinder for stable/ussuri,MERGED,2021-07-23 15:42:48.000000000,2021-07-29 10:00:27.000000000,2021-07-29 10:00:27.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 15:42:48.000000000', 'files': ['deliverables/ussuri/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ded685964db6d833ac3ffdd1cfb5302d7bb3a33', 'message': 'Release cinder for stable/ussuri\n\nThis release picks up new commits to cinder since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 16.3.0..62da20185\n35d56b680 Fix typo in Dell EMC Unity driver documentation\nf6d7b0919 Open local image files with ""rb"" mode\ne156653d3 Fix sporadic cleanup unit test failure\ndc8a1beab Label temporary files created by image_utils\nd9c029c17 Add ports filtering support to Dell EMC XtremIO driver\nba8d19822 Tests: Don\'t assert notifier not called\n34120d498 Backup manager: Synchronously call remove_export\n610b59b27 Add support for RBD fast-diff feature for backups stored in Ceph\nb32a0f0cf Drop lower-constraints job\nd5fed21fd API validation: Add cinder_host type to support ipv6 in manage\n1aa907300 Pure: Add default value to pure_host_personality\n849fb4f19 [Pure] Fix failing consistency group tempest tests\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I61ef6a5099eca7d92b85b1b15e465f8225e13401\n'}]",0,802049,9ded685964db6d833ac3ffdd1cfb5302d7bb3a33,9,5,1,17685,,,0,"Release cinder for stable/ussuri

This release picks up new commits to cinder since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 16.3.0..62da20185
35d56b680 Fix typo in Dell EMC Unity driver documentation
f6d7b0919 Open local image files with ""rb"" mode
e156653d3 Fix sporadic cleanup unit test failure
dc8a1beab Label temporary files created by image_utils
d9c029c17 Add ports filtering support to Dell EMC XtremIO driver
ba8d19822 Tests: Don't assert notifier not called
34120d498 Backup manager: Synchronously call remove_export
610b59b27 Add support for RBD fast-diff feature for backups stored in Ceph
b32a0f0cf Drop lower-constraints job
d5fed21fd API validation: Add cinder_host type to support ipv6 in manage
1aa907300 Pure: Add default value to pure_host_personality
849fb4f19 [Pure] Fix failing consistency group tempest tests

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I61ef6a5099eca7d92b85b1b15e465f8225e13401
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/802049/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/cinder.yaml'],1,9ded685964db6d833ac3ffdd1cfb5302d7bb3a33,ussuri-stable, - version: 16.4.0 projects: - repo: openstack/cinder hash: 62da2018555a0a59941e42eecf05a8ffbd66d7a9,,4,0
openstack%2Freleases~master~I25526687ff604d4c973f6fa559a3fe138553f3a4,openstack/releases,master,I25526687ff604d4c973f6fa559a3fe138553f3a4,Release kolla-ansible 10.3.0 for Ussuri,MERGED,2021-07-28 12:57:53.000000000,2021-07-29 10:00:25.000000000,2021-07-29 10:00:25.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-28 12:57:53.000000000', 'files': ['deliverables/ussuri/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d8a01aff7eec1da5225ca97e03dcf16b29016dfe', 'message': 'Release kolla-ansible 10.3.0 for Ussuri\n\nChange-Id: I25526687ff604d4c973f6fa559a3fe138553f3a4\n'}]",0,802698,d8a01aff7eec1da5225ca97e03dcf16b29016dfe,9,4,1,14826,,,0,"Release kolla-ansible 10.3.0 for Ussuri

Change-Id: I25526687ff604d4c973f6fa559a3fe138553f3a4
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/802698/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/kolla-ansible.yaml'],1,d8a01aff7eec1da5225ca97e03dcf16b29016dfe,, - version: 10.3.0 projects: - repo: openstack/kolla-ansible hash: a2eba02565a346ccd33ef459d503edd2fc29b38b,,4,0
openstack%2Freleases~master~I321c7dee35798ad141176f15b19b576d64e11b78,openstack/releases,master,I321c7dee35798ad141176f15b19b576d64e11b78,Release ironic for stable/ussuri,MERGED,2021-07-23 17:05:57.000000000,2021-07-29 10:00:23.000000000,2021-07-29 10:00:23.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 17:05:57.000000000', 'files': ['deliverables/ussuri/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e6c93f33731d618a1157c2629004fdddb0149c50', 'message': ""Release ironic for stable/ussuri\n\nThis release picks up new commits to ironic since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 15.0.1..0c17549c2\nf33bc52b0 Remove grenade jobs from old stable branches\nc68e50e6c Update the clear job id's constant\n8d6cf57bb Make test-setup.sh compatible with mysql8\n86a855d61 Delete unavailable py2 package\n54376836e update grub2 file name\n72fd48b9c Restrict syncing of boot mode to Supermicro\n2e4e87556 For Supermicro BMCs set enable when changing boot device\n4df73e47e Refactor vendor detection and add Redfish implementation\n8bf3f4747 IPMI: Handle vendor set boot device differences\n97390e427 Allow unsupported redfish set_boot_mode\n691211b10 Lazy-load node details from the DB\n5e2eeb311 [Trivial] Fix testing of volume connector exception\n0da73cdd3 Fix broken configdrive_use_object_store\n8c0568f34 Enable swift temporary URLs in grenade and provide a good error message\nc3c6cda65 DRAC: Fix a failure to create virtual disk\n85a1e3d23 CI: switch the multinode job to tempest-multinode-full-base\nb2ae2af3f Fixes the issue that instance bond port can't get IP address\na6f38ab05 Sync boot mode when changing the boot device via Redfish\ncfc681817 Use assertCountEqual instead of assertItemsEqual\n2248f2ac7 json-rpc: surround IPv6 address with [] in conductor URL\na7cfcd181 clean up mac address with the pxe configuration files\n6ef6180bd Prevent timeouts when using fast-track with redfish-virtual-media\n96a719e4e opt: Enhance old stable branches to use latest python-ibmcclient\nd48b39430 CI: Making some of the older jobs more specific\n7ce314804 CI: Additional minor job changes to improve CI reliability\nc15d6fd70 Fix a race condition in the hash ring code\ne5f886e8c Use correct error handler instead of calling process_event('fail')\n20de88441 Fix deprecated 'idrac' interface '__init__'s\n3943bd143 CI: Patch to fix CI jobs in bugfix/stable branches\nb9a02e9ab CI: Remove the build check for pre-build ramdisks only\nac2d4c086 Allow configuring IPMI cipher suite\nd9183a0a3 Also wipe agent token on manual power off or reboot\n041f1b89e Handle default_boot_mode during cleaning/inspection with PXE/iPXE\nb4c6d7be4 Do not assume that prepare_image is the last command to run\nb67ac0c40 Handle an older agent with agent_token\n2b740a0c7 Increase memory of tinyipa vms\n145d68e8f Ansible deploy - Ignore invalid devices\nbce1d33e5 Wipe agent token during reboot or power off\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I321c7dee35798ad141176f15b19b576d64e11b78\n""}]",0,802067,e6c93f33731d618a1157c2629004fdddb0149c50,11,8,1,17685,,,0,"Release ironic for stable/ussuri

This release picks up new commits to ironic since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 15.0.1..0c17549c2
f33bc52b0 Remove grenade jobs from old stable branches
c68e50e6c Update the clear job id's constant
8d6cf57bb Make test-setup.sh compatible with mysql8
86a855d61 Delete unavailable py2 package
54376836e update grub2 file name
72fd48b9c Restrict syncing of boot mode to Supermicro
2e4e87556 For Supermicro BMCs set enable when changing boot device
4df73e47e Refactor vendor detection and add Redfish implementation
8bf3f4747 IPMI: Handle vendor set boot device differences
97390e427 Allow unsupported redfish set_boot_mode
691211b10 Lazy-load node details from the DB
5e2eeb311 [Trivial] Fix testing of volume connector exception
0da73cdd3 Fix broken configdrive_use_object_store
8c0568f34 Enable swift temporary URLs in grenade and provide a good error message
c3c6cda65 DRAC: Fix a failure to create virtual disk
85a1e3d23 CI: switch the multinode job to tempest-multinode-full-base
b2ae2af3f Fixes the issue that instance bond port can't get IP address
a6f38ab05 Sync boot mode when changing the boot device via Redfish
cfc681817 Use assertCountEqual instead of assertItemsEqual
2248f2ac7 json-rpc: surround IPv6 address with [] in conductor URL
a7cfcd181 clean up mac address with the pxe configuration files
6ef6180bd Prevent timeouts when using fast-track with redfish-virtual-media
96a719e4e opt: Enhance old stable branches to use latest python-ibmcclient
d48b39430 CI: Making some of the older jobs more specific
7ce314804 CI: Additional minor job changes to improve CI reliability
c15d6fd70 Fix a race condition in the hash ring code
e5f886e8c Use correct error handler instead of calling process_event('fail')
20de88441 Fix deprecated 'idrac' interface '__init__'s
3943bd143 CI: Patch to fix CI jobs in bugfix/stable branches
b9a02e9ab CI: Remove the build check for pre-build ramdisks only
ac2d4c086 Allow configuring IPMI cipher suite
d9183a0a3 Also wipe agent token on manual power off or reboot
041f1b89e Handle default_boot_mode during cleaning/inspection with PXE/iPXE
b4c6d7be4 Do not assume that prepare_image is the last command to run
b67ac0c40 Handle an older agent with agent_token
2b740a0c7 Increase memory of tinyipa vms
145d68e8f Ansible deploy - Ignore invalid devices
bce1d33e5 Wipe agent token during reboot or power off

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I321c7dee35798ad141176f15b19b576d64e11b78
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/802067/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/ironic.yaml'],1,e6c93f33731d618a1157c2629004fdddb0149c50,ussuri-stable, - version: 15.0.2 projects: - repo: openstack/ironic hash: 0c17549c2c81fcb2e3ce256d93f80befe36c2d0d,,4,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I42a2ef84e5fe570e8001908614337e64d035ec99,openstack/kolla-ansible,stable/victoria,I42a2ef84e5fe570e8001908614337e64d035ec99,docs: Add information on tuning Ansible,MERGED,2021-07-28 13:18:53.000000000,2021-07-29 09:59:17.000000000,2021-07-29 09:57:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 13:18:53.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/ansible-tuning.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/875a29ff4bf18da5f3395906353d875841680130', 'message': 'docs: Add information on tuning Ansible\n\nStolen from Kayobe.\n\nChange-Id: I42a2ef84e5fe570e8001908614337e64d035ec99\n(cherry picked from commit b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3)\n'}]",0,802710,875a29ff4bf18da5f3395906353d875841680130,8,3,1,14826,,,0,"docs: Add information on tuning Ansible

Stolen from Kayobe.

Change-Id: I42a2ef84e5fe570e8001908614337e64d035ec99
(cherry picked from commit b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/802710/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/ansible-tuning.rst']",2,875a29ff4bf18da5f3395906353d875841680130,,"============== Ansible tuning ============== In this section we cover some options for tuning Ansible for performance and scale. SSH pipelining -------------- SSH pipelining is disabled in Ansible by default, but is generally safe to enable, and provides a reasonable performance improvement. .. code-block:: ini :caption: ``ansible.cfg`` [ssh_connection] pipelining = True Forks ----- By default Ansible executes tasks using a fairly conservative 5 process forks. This limits the parallelism that allows Ansible to scale. Most Ansible control hosts will be able to handle far more forks than this. You will need to experiment to find out the CPU, memory and IO limits of your machine. For example, to increase the number of forks to 20: .. code-block:: ini :caption: ``ansible.cfg`` [defaults] forks = 20 Fact caching ------------ By default, Ansible gathers facts for each host at the beginning of every play, unless ``gather_facts`` is set to ``false``. With a large number of hosts this can result in a significant amount of time spent gathering facts. One way to improve this is through Ansible's support for `fact caching <https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html#caching-facts>`__. In order to make this work with Kolla Ansible, it is necessary to change Ansible's `gathering <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#default-gathering>`__ configuration option to ``smart``. Example ~~~~~~~ In the following example we configure Kolla Ansible to use fact caching using the `jsonfile cache plugin <https://docs.ansible.com/ansible/latest/plugins/cache/jsonfile.html>`__. .. code-block:: ini :caption: ``ansible.cfg`` [defaults] gathering = smart fact_caching = jsonfile fact_caching_connection = /tmp/ansible-facts You may also wish to set the expiration timeout for the cache via ``[defaults] fact_caching_timeout``. ",,67,0
openstack%2Fkolla-ansible~master~I74b315443f79d0d7780907fc785e1a29759c1803,openstack/kolla-ansible,master,I74b315443f79d0d7780907fc785e1a29759c1803,[CI] Slim down Masakari job,MERGED,2021-07-24 17:52:08.000000000,2021-07-29 09:59:15.000000000,2021-07-29 09:57:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-07-24 17:52:08.000000000', 'files': ['tests/templates/inventory.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7dfbcc71cb552ed32fa91a6a58bf456be58b259a', 'message': '[CI] Slim down Masakari job\n\nThe Masakari job uses 4 nodes and defaulted to a quite bulky\nand not really supported config (MariaDB and RMQ on 4 nodes).\nThis change slims it down so that we test only HA of Masakari\nand hacluster. The other services are deployed single-node.\n\nAdditionally, simplify the network group (it does not affect any\nother job, the logic was simply overdone there).\n\nChange-Id: I74b315443f79d0d7780907fc785e1a29759c1803\n'}]",0,802155,7dfbcc71cb552ed32fa91a6a58bf456be58b259a,12,3,1,30491,,,0,"[CI] Slim down Masakari job

The Masakari job uses 4 nodes and defaulted to a quite bulky
and not really supported config (MariaDB and RMQ on 4 nodes).
This change slims it down so that we test only HA of Masakari
and hacluster. The other services are deployed single-node.

Additionally, simplify the network group (it does not affect any
other job, the logic was simply overdone there).

Change-Id: I74b315443f79d0d7780907fc785e1a29759c1803
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/802155/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/inventory.j2'],1,7dfbcc71cb552ed32fa91a6a58bf456be58b259a,ci-slim-down-masakari-job," # NOTE(yoctozepto): In CI we want to test Masakari HA but not of other services, # to conserve the resources. Hence, we set Masakari groups to use both # primary and secondary while the parent group (control) uses only primary. {% if scenario == 'masakari' %} {% for host in hostvars if host in ['primary'] %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endfor %} {% elif scenario == 'monasca' %} # NOTE(yoctozepto): Until we are able to isolate network namespaces in k-a, # we are forced to separate Pacemaker remotes from full members. # This is not as bad as it sounds, because it would be enforced in # non-containerised environments anyway. # In CI we want Pacemaker remotes to run on ternaries (to test multiple remotes). [compute] {% if scenario == 'masakari' %} {% for host in hostvars if host in ['ternary1', 'ternary2'] %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endfor %}# we are forced to separate Pacemaker remotes from full members.# In CI we want Pacemaker to run on primary and secondary (to test with HA). {% if host in ['primary', 'secondary'] %}[hacluster-remote:children] compute# NOTE(yoctozepto): In CI we want to test Masakari HA but not of other services, # to conserve the resources. Hence, we set Masakari groups to use both # primary and secondary while the parent group (control) uses only primary. haclusterhaclusterhacluster","{% if scenario == 'monasca' %}{% if scenario == 'monasca' %}[network][compute] {% for host in hostvars %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endfor %} # we are forced to separate remotes from full members.#[hacluster:children] #control{% if 'ternary' not in host %}# NOTE(yoctozepto): Until we are able to isolate network namespaces in k-a, # we are forced to separate remotes from full members. # This is not as bad as it sounds, because it would be enforced in # non-containerised environments anyway. #[hacluster-remote:children] #compute [hacluster-remote] {% for host in hostvars %} {% if 'ternary' in host %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endif %} {% endfor %}controlcontrolcontrol",35,27
openstack%2Freleases~master~I0ca451e855eb7801350e79deb989ea8e421b65e3,openstack/releases,master,I0ca451e855eb7801350e79deb989ea8e421b65e3,Release ironic-python-agent for stable/ussuri,MERGED,2021-07-23 17:03:10.000000000,2021-07-29 09:53:53.000000000,2021-07-29 09:53:53.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 17:03:10.000000000', 'files': ['deliverables/ussuri/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/502e424c04ae6cb90b695feec19f5da543bd9332', 'message': ""Release ironic-python-agent for stable/ussuri\n\nThis release picks up new commits to ironic-python-agent since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 6.1.1..746f65b\n746f65b Fix getting memory size in some lshw output\ne03d80d Add function to calculate memory\n76d061e Reduce logging verbosity when collecting logs\n8287b96 Utilize CSV file for EFI loader selection\na4beb1b Make _get_efi_bootloaders return relative paths\nbc849e2 Limit qemu-img execution arenas\nd8c116a Increase the memory limit for qemu-img\n6324b37 Fix NVMe Partition image on UEFI\n7007ea0 Add fstab pointer to EFI partition\n9783992 Prevent broken partition image UEFI deploys\n8f77a01 Option to enable bootloader config failure bypass\nca70841 More refactoring of the image module\nd59360f Mount all vfat partitions before calling grub2\nd0f69e9 Refactor part of image module\nd8eefc9 Re-enable the ussuri tinyipa jobs\n7f3a7e1 Prepare to use ussuri jobs from ipa-builder\nb9c9b0b Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder\n90b79c2 Pin version of ipa-builder when publishing image\nc23c107 Software RAID: Get component devices by md UUID\n80b1492 Remove lower-constraints job\n38e6c36 Log a warning of target_boot_mode does not match current boot mode\n43fdcb3 Software RAID: Don't delete partitions too early\n3c54867 Fix: make Intel CNA hardware manager none generic\n3769174 CI: Lower memory usage of VMs/Increase swap\n665219e Make WSGI server respect listen_* directives\na6f96eb Increase memory for tinyipa jobs\n0153622 Fix TypeError on agent lookup failure\nc78d6be Fix bootloader install issue with MDRAID\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I0ca451e855eb7801350e79deb989ea8e421b65e3\n""}]",0,802065,502e424c04ae6cb90b695feec19f5da543bd9332,11,8,1,17685,,,0,"Release ironic-python-agent for stable/ussuri

This release picks up new commits to ironic-python-agent since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 6.1.1..746f65b
746f65b Fix getting memory size in some lshw output
e03d80d Add function to calculate memory
76d061e Reduce logging verbosity when collecting logs
8287b96 Utilize CSV file for EFI loader selection
a4beb1b Make _get_efi_bootloaders return relative paths
bc849e2 Limit qemu-img execution arenas
d8c116a Increase the memory limit for qemu-img
6324b37 Fix NVMe Partition image on UEFI
7007ea0 Add fstab pointer to EFI partition
9783992 Prevent broken partition image UEFI deploys
8f77a01 Option to enable bootloader config failure bypass
ca70841 More refactoring of the image module
d59360f Mount all vfat partitions before calling grub2
d0f69e9 Refactor part of image module
d8eefc9 Re-enable the ussuri tinyipa jobs
7f3a7e1 Prepare to use ussuri jobs from ipa-builder
b9c9b0b Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder
90b79c2 Pin version of ipa-builder when publishing image
c23c107 Software RAID: Get component devices by md UUID
80b1492 Remove lower-constraints job
38e6c36 Log a warning of target_boot_mode does not match current boot mode
43fdcb3 Software RAID: Don't delete partitions too early
3c54867 Fix: make Intel CNA hardware manager none generic
3769174 CI: Lower memory usage of VMs/Increase swap
665219e Make WSGI server respect listen_* directives
a6f96eb Increase memory for tinyipa jobs
0153622 Fix TypeError on agent lookup failure
c78d6be Fix bootloader install issue with MDRAID

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I0ca451e855eb7801350e79deb989ea8e421b65e3
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/802065/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/ironic-python-agent.yaml'],1,502e424c04ae6cb90b695feec19f5da543bd9332,ussuri-stable, - version: 6.1.2 projects: - repo: openstack/ironic-python-agent hash: 746f65bd8481aac32abb12768590e809697449e4,,4,0
openstack%2Freleases~master~I7b8e581630d9e67f8bea0706e603ef569c28d64c,openstack/releases,master,I7b8e581630d9e67f8bea0706e603ef569c28d64c,Release octavia for stable/ussuri,MERGED,2021-07-23 18:23:19.000000000,2021-07-29 09:53:05.000000000,2021-07-29 09:52:23.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-23 18:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/622bda3cf887c5d2f137c5de998ef1a4bdd2cbe0', 'message': 'Release octavia for stable/ussuri\n\nThis release picks up new commits to octavia since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 6.2.0..e84d9478\ne84d9478 Enable lo interface in the amphora-haproxy netns\n45b31c18 Fix comment for the ca_certificates_file opt\n4cfbf666 Optimize CountPoolChildrenForQuota task in amphorav2\nd5dc2b26 Fix task_flow.max_workers with persistence in amphorav2\nbae6808f Fix rsyslog configuration when disabling logs\n8829f0fb Fix devstack cleanup when using amphorav2\n19619ce8 Validate user access to vip_subnet_id when creating a LB\nc7b4b875 Fix using subnets with host_routes in amphorav2 driver\n170be0dd Make /healthcheck cache results\n5b6d25ca Explicitely set nodeset to Bionic-based\n46b9ce7c Cap hacking\n7367311c Fix empty Batch Member Update to unlock objects\na8266a9e Fix weighted round-robin about UDP listener\n7ded0e47 Fix LB failover for amphorav2: set security group\n4b8de86c Fix incorrect ERROR status with IPv6 UDP members\ndcce548e Fix provider driver quota handling\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I7b8e581630d9e67f8bea0706e603ef569c28d64c\n'}, {'number': 2, 'created': '2021-07-26 16:00:16.000000000', 'files': ['deliverables/ussuri/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/915b8ee8c14f3ff0e8882fba4e5c6a4b2681ec6b', 'message': 'Release octavia for stable/ussuri\n\nThis release picks up new commits to octavia since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 6.2.0..e84d9478\ne84d9478 Enable lo interface in the amphora-haproxy netns\nde602782 Add amphora_id in store params for failover_amphora\n45b31c18 Fix comment for the ca_certificates_file opt\n4cfbf666 Optimize CountPoolChildrenForQuota task in amphorav2\nd5dc2b26 Fix task_flow.max_workers with persistence in amphorav2\nbae6808f Fix rsyslog configuration when disabling logs\n8829f0fb Fix devstack cleanup when using amphorav2\n19619ce8 Validate user access to vip_subnet_id when creating a LB\nc7b4b875 Fix using subnets with host_routes in amphorav2 driver\n170be0dd Make /healthcheck cache results\n5b6d25ca Explicitely set nodeset to Bionic-based\n46b9ce7c Cap hacking\n7367311c Fix empty Batch Member Update to unlock objects\na8266a9e Fix weighted round-robin about UDP listener\n7ded0e47 Fix LB failover for amphorav2: set security group\n4b8de86c Fix incorrect ERROR status with IPv6 UDP members\ndcce548e Fix provider driver quota handling\n\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I7b8e581630d9e67f8bea0706e603ef569c28d64c\n'}]",0,802095,915b8ee8c14f3ff0e8882fba4e5c6a4b2681ec6b,14,7,2,17685,,,0,"Release octavia for stable/ussuri

This release picks up new commits to octavia since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 6.2.0..e84d9478
e84d9478 Enable lo interface in the amphora-haproxy netns
de602782 Add amphora_id in store params for failover_amphora
45b31c18 Fix comment for the ca_certificates_file opt
4cfbf666 Optimize CountPoolChildrenForQuota task in amphorav2
d5dc2b26 Fix task_flow.max_workers with persistence in amphorav2
bae6808f Fix rsyslog configuration when disabling logs
8829f0fb Fix devstack cleanup when using amphorav2
19619ce8 Validate user access to vip_subnet_id when creating a LB
c7b4b875 Fix using subnets with host_routes in amphorav2 driver
170be0dd Make /healthcheck cache results
5b6d25ca Explicitely set nodeset to Bionic-based
46b9ce7c Cap hacking
7367311c Fix empty Batch Member Update to unlock objects
a8266a9e Fix weighted round-robin about UDP listener
7ded0e47 Fix LB failover for amphorav2: set security group
4b8de86c Fix incorrect ERROR status with IPv6 UDP members
dcce548e Fix provider driver quota handling


Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I7b8e581630d9e67f8bea0706e603ef569c28d64c
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/802095/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/octavia.yaml'],1,622bda3cf887c5d2f137c5de998ef1a4bdd2cbe0,ussuri-stable, - version: 6.2.1 projects: - repo: openstack/octavia hash: e84d9478765e2dac740b5d9a9cb7cb48f4e1936a,,4,0
openstack%2Freleases~master~Ib36c5d1ab52c5a4276121bfa611ccb64c956b549,openstack/releases,master,Ib36c5d1ab52c5a4276121bfa611ccb64c956b549,Release python-zaqarclient for stable/ussuri,MERGED,2021-07-23 20:37:29.000000000,2021-07-29 09:51:57.000000000,2021-07-29 09:51:57.000000000,"[{'_account_id': 308}, {'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 20:37:29.000000000', 'files': ['deliverables/ussuri/python-zaqarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7b926efaa1429272dd1a5c1f7242e696e168842d', 'message': 'Release python-zaqarclient for stable/ussuri\n\nThis release picks up new commits to python-zaqarclient since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.13.1..9750ac6\n9750ac6 Drop python 2.7 support and testing\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib36c5d1ab52c5a4276121bfa611ccb64c956b549\n'}]",2,802118,7b926efaa1429272dd1a5c1f7242e696e168842d,11,5,1,17685,,,0,"Release python-zaqarclient for stable/ussuri

This release picks up new commits to python-zaqarclient since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 1.13.1..9750ac6
9750ac6 Drop python 2.7 support and testing

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ib36c5d1ab52c5a4276121bfa611ccb64c956b549
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/802118/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-zaqarclient.yaml'],1,7b926efaa1429272dd1a5c1f7242e696e168842d,ussuri-stable, - version: 1.13.2 projects: - repo: openstack/python-zaqarclient hash: 9750ac638094e630fa9b3b62d54cdab32d0b5ff6,,4,0
openstack%2Freleases~master~Ic6886f8eb4e407bc247e7de1ab93bab9ca1d137b,openstack/releases,master,Ic6886f8eb4e407bc247e7de1ab93bab9ca1d137b,Release tacker for stable/ussuri,MERGED,2021-07-23 20:55:02.000000000,2021-07-29 09:51:21.000000000,2021-07-29 09:51:21.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-07-23 20:55:02.000000000', 'files': ['deliverables/ussuri/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2c22cdd167cd869b79b5ae135425f0f824ed9170', 'message': 'Release tacker for stable/ussuri\n\nThis release picks up new commits to tacker since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 3.0.0..5783b9ff\n5783b9ff Fix : Register vim if use_barbican is disabled\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic6886f8eb4e407bc247e7de1ab93bab9ca1d137b\n'}]",0,802126,2c22cdd167cd869b79b5ae135425f0f824ed9170,9,4,1,17685,,,0,"Release tacker for stable/ussuri

This release picks up new commits to tacker since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 3.0.0..5783b9ff
5783b9ff Fix : Register vim if use_barbican is disabled

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ic6886f8eb4e407bc247e7de1ab93bab9ca1d137b
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/802126/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/tacker.yaml'],1,2c22cdd167cd869b79b5ae135425f0f824ed9170,ussuri-stable, - version: 3.0.1 projects: - repo: openstack/tacker hash: 5783b9fff46544e1d50f1d3eafc254095f9f9b99,,4,0
openstack%2Freleases~master~I68e718e93c51c9e4111f4a8a2072e218fe04884a,openstack/releases,master,I68e718e93c51c9e4111f4a8a2072e218fe04884a,Release python-tackerclient for stable/ussuri,MERGED,2021-07-23 20:35:50.000000000,2021-07-29 09:51:19.000000000,2021-07-29 09:51:19.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-07-23 20:35:50.000000000', 'files': ['deliverables/ussuri/python-tackerclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e4ba619fdd76aedaa9e4fa6668319b3d74591961', 'message': 'Release python-tackerclient for stable/ussuri\n\nThis release picks up new commits to python-tackerclient since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.1.0..7bda108\nee2e460 Improve readability of vnflcm show command\n5484536 Display correct fields in output for list command\n86fefdb Improve readability of vnf package show command\n0d6e331 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\n70d79b5 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I68e718e93c51c9e4111f4a8a2072e218fe04884a\n'}]",0,802117,e4ba619fdd76aedaa9e4fa6668319b3d74591961,9,4,1,17685,,,0,"Release python-tackerclient for stable/ussuri

This release picks up new commits to python-tackerclient since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 1.1.0..7bda108
ee2e460 Improve readability of vnflcm show command
5484536 Display correct fields in output for list command
86fefdb Improve readability of vnf package show command
0d6e331 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri
70d79b5 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I68e718e93c51c9e4111f4a8a2072e218fe04884a
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/802117/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-tackerclient.yaml'],1,e4ba619fdd76aedaa9e4fa6668319b3d74591961,ussuri-stable, - version: 1.1.1 projects: - repo: openstack/python-tackerclient hash: 7bda108ddfafc322687302d312e3e7b2fdeeb4c7,,4,0
openstack%2Freleases~master~Ib7464bacf664224caf45a57bbc370e6259ad79fa,openstack/releases,master,Ib7464bacf664224caf45a57bbc370e6259ad79fa,Release blazar for stable/ussuri,MERGED,2021-07-23 15:32:29.000000000,2021-07-29 09:51:17.000000000,2021-07-29 09:51:17.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 15:32:29.000000000', 'files': ['deliverables/ussuri/blazar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7931c2ddaa1ad89ae3a41da6f3d82385ad9c7285', 'message': 'Release blazar for stable/ussuri\n\nThis release picks up new commits to blazar since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 5.0.0..aea56f5\naea56f5 docs: Update Freenode to OFTC\n0d71758 Fix use of legacy Alembic API\n6922665 Remove lower-constraints job on stable branches\n9c5a583 Avoid double slash in Keystone auth_url\ncedf5fb Use the native Zuul v3 jobs from blazar-tempest-plugin\nfd652cb Fix up adding availability zone (AZ) to a host on creation\n1eea940 Update TOX_CONSTRAINTS_FILE for stable/ussuri\nfd4b1e8 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib7464bacf664224caf45a57bbc370e6259ad79fa\n'}]",0,802044,7931c2ddaa1ad89ae3a41da6f3d82385ad9c7285,9,4,1,17685,,,0,"Release blazar for stable/ussuri

This release picks up new commits to blazar since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 5.0.0..aea56f5
aea56f5 docs: Update Freenode to OFTC
0d71758 Fix use of legacy Alembic API
6922665 Remove lower-constraints job on stable branches
9c5a583 Avoid double slash in Keystone auth_url
cedf5fb Use the native Zuul v3 jobs from blazar-tempest-plugin
fd652cb Fix up adding availability zone (AZ) to a host on creation
1eea940 Update TOX_CONSTRAINTS_FILE for stable/ussuri
fd4b1e8 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ib7464bacf664224caf45a57bbc370e6259ad79fa
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/802044/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/blazar.yaml'],1,7931c2ddaa1ad89ae3a41da6f3d82385ad9c7285,ussuri-stable, - version: 5.0.1 projects: - repo: openstack/blazar hash: aea56f5269628bd2a1365bebe17776d8c3ba8300,,4,0
openstack%2Freleases~master~I04cd0880f10dcd5b2d3a388893bfa1c884daf0d5,openstack/releases,master,I04cd0880f10dcd5b2d3a388893bfa1c884daf0d5,Release monasca-ui for stable/ussuri,MERGED,2021-07-23 17:52:52.000000000,2021-07-29 09:51:14.000000000,2021-07-29 09:51:14.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-23 17:52:52.000000000', 'files': ['deliverables/ussuri/monasca-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/db7cf7ec7d974fbd1f1877bc0e1ecbb656bee4ba', 'message': 'Release monasca-ui for stable/ussuri\n\nThis release picks up new commits to monasca-ui since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.0.1..5e5d70b\n5e5d70b Alarm definition breakes Alarms view\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I04cd0880f10dcd5b2d3a388893bfa1c884daf0d5\n'}]",0,802088,db7cf7ec7d974fbd1f1877bc0e1ecbb656bee4ba,9,4,1,17685,,,0,"Release monasca-ui for stable/ussuri

This release picks up new commits to monasca-ui since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.1..5e5d70b
5e5d70b Alarm definition breakes Alarms view

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I04cd0880f10dcd5b2d3a388893bfa1c884daf0d5
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/802088/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/monasca-ui.yaml'],1,db7cf7ec7d974fbd1f1877bc0e1ecbb656bee4ba,ussuri-stable, - version: 2.0.2 projects: - repo: openstack/monasca-ui hash: 5e5d70be75d7f79cabb2913a375c01508cced69a,,4,0
openstack%2Freleases~master~I1d2ee0fef063d957a34f350d7e71ea47b6d1fc97,openstack/releases,master,I1d2ee0fef063d957a34f350d7e71ea47b6d1fc97,Release monasca-notification for stable/ussuri,MERGED,2021-07-23 17:50:09.000000000,2021-07-29 09:51:12.000000000,2021-07-29 09:51:12.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-23 17:50:09.000000000', 'files': ['deliverables/ussuri/monasca-notification.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b06cd0f44011a8b18376449d239e1c39f69a63f', 'message': 'Release monasca-notification for stable/ussuri\n\nThis release picks up new commits to monasca-notification since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.0.0..9dd0ea5\n9dd0ea5 Fix Grafana URL in email notification\n8f7a893 Fix zuul publish docker image job\n05249ae Update lower-constraints\n8fd51cd Fixed docker configuration template\n3f9239e Add option to choose Kafka client in Docker\n8151806 Remove deprecated YAML config\n88df8d2 Set Docker publish jobs\ncaacf3b Update TOX_CONSTRAINTS_FILE for stable/ussuri\n2fdf235 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I1d2ee0fef063d957a34f350d7e71ea47b6d1fc97\n'}]",0,802085,2b06cd0f44011a8b18376449d239e1c39f69a63f,9,4,1,17685,,,0,"Release monasca-notification for stable/ussuri

This release picks up new commits to monasca-notification since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.0..9dd0ea5
9dd0ea5 Fix Grafana URL in email notification
8f7a893 Fix zuul publish docker image job
05249ae Update lower-constraints
8fd51cd Fixed docker configuration template
3f9239e Add option to choose Kafka client in Docker
8151806 Remove deprecated YAML config
88df8d2 Set Docker publish jobs
caacf3b Update TOX_CONSTRAINTS_FILE for stable/ussuri
2fdf235 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1d2ee0fef063d957a34f350d7e71ea47b6d1fc97
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/802085/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/monasca-notification.yaml'],1,2b06cd0f44011a8b18376449d239e1c39f69a63f,ussuri-stable, - version: 2.0.1 projects: - repo: openstack/monasca-notification hash: 9dd0ea54c9727c431c0a2391a37dbc8f79069f64,,4,0
openstack%2Freleases~master~Ia58bdf2340ed523eee3fcaa0cd145bb88f0ece95,openstack/releases,master,Ia58bdf2340ed523eee3fcaa0cd145bb88f0ece95,Release monasca-agent for stable/ussuri,MERGED,2021-07-23 17:45:02.000000000,2021-07-29 09:51:10.000000000,2021-07-29 09:51:10.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-23 17:45:02.000000000', 'files': ['deliverables/ussuri/monasca-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6ea63bd70e4248e067110cf09c5bf925bf0c0bb0', 'message': ""Release monasca-agent for stable/ussuri\n\nThis release picks up new commits to monasca-agent since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 3.0.2..82839d9\n82839d9 Fix Monasca-Setup Keystone detection\n961cf3b Fix PY3 issue\n859a46c Fix Docker builds\nc9c0862 Fix small issue in dokcer plugin.\n217c51a Remove incorrect plugins configuration for docker image.\n6440156 Set 'libvirt_type' and 'libvirt_uri' options in the 'libvirt' plugin to be defined in conf.d/libvirt.yaml\n1b8d426 Fix zuul publish docker image job\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia58bdf2340ed523eee3fcaa0cd145bb88f0ece95\n""}]",0,802083,6ea63bd70e4248e067110cf09c5bf925bf0c0bb0,9,4,1,17685,,,0,"Release monasca-agent for stable/ussuri

This release picks up new commits to monasca-agent since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 3.0.2..82839d9
82839d9 Fix Monasca-Setup Keystone detection
961cf3b Fix PY3 issue
859a46c Fix Docker builds
c9c0862 Fix small issue in dokcer plugin.
217c51a Remove incorrect plugins configuration for docker image.
6440156 Set 'libvirt_type' and 'libvirt_uri' options in the 'libvirt' plugin to be defined in conf.d/libvirt.yaml
1b8d426 Fix zuul publish docker image job

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia58bdf2340ed523eee3fcaa0cd145bb88f0ece95
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/802083/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/monasca-agent.yaml'],1,6ea63bd70e4248e067110cf09c5bf925bf0c0bb0,ussuri-stable, - version: 3.0.3 projects: - repo: openstack/monasca-agent hash: 82839d97b2a00a87dbcdfe98b109c0de3b602794,,4,0
openstack%2Freleases~master~Ibe5af762e63aea15b21e3899c5864d1542c81eca,openstack/releases,master,Ibe5af762e63aea15b21e3899c5864d1542c81eca,Release monasca-api for stable/ussuri,MERGED,2021-07-23 17:47:06.000000000,2021-07-29 09:49:53.000000000,2021-07-29 09:49:53.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-23 17:47:06.000000000', 'files': ['deliverables/ussuri/monasca-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a46bbf466e10d4e5e0baba678bc5400a3a0818e', 'message': 'Release monasca-api for stable/ussuri\n\nThis release picks up new commits to monasca-api since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..36f18ae0\n36f18ae0 Workaround for new pip 20.3 behavior\nb43809ca Fix log-metric configuration\n46f5d4a4 Fix docker publish image job\n9ce0e0da Fix publish docker image job\nba45906e Align lower-constraints for new pip\nad13e892 Add option to choose Kafka client in Docker\n8b146d20 Update gevent version to 1.5.0\n5b145c2c Fix typo in http_check\n080d1fea Update TOX_CONSTRAINTS_FILE for stable/ussuri\nf310557a Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ibe5af762e63aea15b21e3899c5864d1542c81eca\n'}]",0,802084,2a46bbf466e10d4e5e0baba678bc5400a3a0818e,9,4,1,17685,,,0,"Release monasca-api for stable/ussuri

This release picks up new commits to monasca-api since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.0.0..36f18ae0
36f18ae0 Workaround for new pip 20.3 behavior
b43809ca Fix log-metric configuration
46f5d4a4 Fix docker publish image job
9ce0e0da Fix publish docker image job
ba45906e Align lower-constraints for new pip
ad13e892 Add option to choose Kafka client in Docker
8b146d20 Update gevent version to 1.5.0
5b145c2c Fix typo in http_check
080d1fea Update TOX_CONSTRAINTS_FILE for stable/ussuri
f310557a Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ibe5af762e63aea15b21e3899c5864d1542c81eca
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/802084/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/monasca-api.yaml'],1,2a46bbf466e10d4e5e0baba678bc5400a3a0818e,ussuri-stable, - version: 4.1.0 projects: - repo: openstack/monasca-api hash: 36f18ae01d65eb369d8169825aef35aad0d3d037,,4,0
openstack%2Freleases~master~I548daa09f46e19f57bf2bb851e2e6fb90852622c,openstack/releases,master,I548daa09f46e19f57bf2bb851e2e6fb90852622c,Release monasca-persister for stable/ussuri,MERGED,2021-07-23 17:50:38.000000000,2021-07-29 09:49:51.000000000,2021-07-29 09:49:51.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-23 17:50:38.000000000', 'files': ['deliverables/ussuri/monasca-persister.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e8be9ee79f3a4c16689780a5f830ccbdffaf037e', 'message': 'Release monasca-persister for stable/ussuri\n\nThis release picks up new commits to monasca-persister since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.0.0..2d4bd37\n2d4bd37 Fix zuul publish docker image job\n72c4097 Fix Docker build\n9d64543 Add doc/requirements\ndfe3b4d Update hacking for Python3\na6c50e5 Set legacy_kafka_client_enabled = False on default for Docker\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I548daa09f46e19f57bf2bb851e2e6fb90852622c\n'}]",0,802086,e8be9ee79f3a4c16689780a5f830ccbdffaf037e,9,4,1,17685,,,0,"Release monasca-persister for stable/ussuri

This release picks up new commits to monasca-persister since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.0..2d4bd37
2d4bd37 Fix zuul publish docker image job
72c4097 Fix Docker build
9d64543 Add doc/requirements
dfe3b4d Update hacking for Python3
a6c50e5 Set legacy_kafka_client_enabled = False on default for Docker

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I548daa09f46e19f57bf2bb851e2e6fb90852622c
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/802086/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/monasca-persister.yaml'],1,e8be9ee79f3a4c16689780a5f830ccbdffaf037e,ussuri-stable, - version: 2.0.1 projects: - repo: openstack/monasca-persister hash: 2d4bd37d0563ddece44c4e44a0eaeaaadac0f43c,,4,0
openstack%2Freleases~master~I74063fd60ccd5503dcac6cacd114b4119c1f11f0,openstack/releases,master,I74063fd60ccd5503dcac6cacd114b4119c1f11f0,Release monasca-thresh for stable/ussuri,MERGED,2021-07-23 17:51:14.000000000,2021-07-29 09:49:49.000000000,2021-07-29 09:49:49.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-23 17:51:14.000000000', 'files': ['deliverables/ussuri/monasca-thresh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b1a52080a72ecf3c7af5707ae5cc7aa48c3224d2', 'message': 'Release monasca-thresh for stable/ussuri\n\nThis release picks up new commits to monasca-thresh since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges train-em..cce79a5\n7e8db2f Change storm config to eliminate storm warnings\n48d0508 Fix zuul publish docker image job\nbea100b Fix zuul publish docker image job for stable branche\n909ccdd Enable usage of storm.yaml\ne602fa7 Fix zuul publish docker image job\n78d2f89 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I74063fd60ccd5503dcac6cacd114b4119c1f11f0\n'}]",0,802087,b1a52080a72ecf3c7af5707ae5cc7aa48c3224d2,9,4,1,17685,,,0,"Release monasca-thresh for stable/ussuri

This release picks up new commits to monasca-thresh since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges train-em..cce79a5
7e8db2f Change storm config to eliminate storm warnings
48d0508 Fix zuul publish docker image job
bea100b Fix zuul publish docker image job for stable branche
909ccdd Enable usage of storm.yaml
e602fa7 Fix zuul publish docker image job
78d2f89 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I74063fd60ccd5503dcac6cacd114b4119c1f11f0
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/802087/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/monasca-thresh.yaml'],1,b1a52080a72ecf3c7af5707ae5cc7aa48c3224d2,ussuri-stable, - version: 2.7.1 projects: - repo: openstack/monasca-thresh hash: cce79a5dc6579c0fd6c5282a2c738a5023fd161c,,4,0
openstack%2Freleases~master~If493da3a41208a7f47427178ac649b4623d344cd,openstack/releases,master,If493da3a41208a7f47427178ac649b4623d344cd,Release networking-sfc for stable/ussuri,MERGED,2021-07-23 18:00:20.000000000,2021-07-29 09:49:47.000000000,2021-07-29 09:49:47.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 18:00:20.000000000', 'files': ['deliverables/ussuri/networking-sfc.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4c13806431636b5bd9432b21af774c8c8332cac7', 'message': 'Release networking-sfc for stable/ussuri\n\nThis release picks up new commits to networking-sfc since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 10.0.0..ba57ca7\nba57ca7 Monkey patch original current_thread _active\n90305b4 [stable] Drop lower-constraints job\n3d4f698 Switch to stable/ussuri neutron-tempest-plugin jobs\n0d4cb4f Update TOX_CONSTRAINTS_FILE for stable/ussuri\n8f44ad9 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: If493da3a41208a7f47427178ac649b4623d344cd\n'}]",0,802091,4c13806431636b5bd9432b21af774c8c8332cac7,10,6,1,17685,,,0,"Release networking-sfc for stable/ussuri

This release picks up new commits to networking-sfc since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 10.0.0..ba57ca7
ba57ca7 Monkey patch original current_thread _active
90305b4 [stable] Drop lower-constraints job
3d4f698 Switch to stable/ussuri neutron-tempest-plugin jobs
0d4cb4f Update TOX_CONSTRAINTS_FILE for stable/ussuri
8f44ad9 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: If493da3a41208a7f47427178ac649b4623d344cd
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/802091/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/networking-sfc.yaml'],1,4c13806431636b5bd9432b21af774c8c8332cac7,ussuri-stable, - version: 10.0.1 projects: - repo: openstack/networking-sfc hash: ba57ca7d1f2d8f5986103cf114089f5ca159dd77,,4,0
openstack%2Freleases~master~I33563093d108f1160eaaeccc94bf90b4a8be93ba,openstack/releases,master,I33563093d108f1160eaaeccc94bf90b4a8be93ba,Release kolla for stable/ussuri,MERGED,2021-07-23 17:19:03.000000000,2021-07-29 09:49:45.000000000,2021-07-29 09:49:45.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-23 17:19:03.000000000', 'files': ['deliverables/ussuri/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78209f9a2c16163b1210d0dd367355093544bb4b', 'message': ""Release kolla for stable/ussuri\n\nThis release picks up new commits to kolla since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 10.2.0..4d1221083\n4d1221083 gnocchi: add python3-rados to gnocchi-base source image\n2b7ff0d39 CI: Fix epel url override\nce988a2eb [CI] Do not set ansible_python_interpreter for Zuul\nf7556324f horizon: Correct location of monitoring_policy file\n253c215f1 Fix build of masakari-monitors image\n5c676e4a9 Fix _get_images_dir when pip-installed with --user\n7cfb5b4bb Enable Debian updates repo\nb908906a5 docs: Update Freenode to OFTC\n9389ac1b4 [CI] Support building source images with in-review changes\n8ec3f577a CI: drop bashism from template overrides\n4a4823804 [CI] Trust only infra mirrors\nda0fd2095 Add `crudini` to ovs-dpdk containers\nb8f23bf71 swift: fix group membership in debuntu/binary\nf3704f99f Install RabbitMQ repo key on Ubuntu and Debian\nbf2e0d62e CentOS on AArch64 has only Erlang 22\nf4a5d52df Pin erlang\nc366a5ca1 rabbitmq: Move to packagecloud\nc80ac9717 [CI] Publish images to quay.io on a daily basis\n00339ecc4 base: configure curl before first use\n075d38162 rabbitmq: bump Erlang requirements to v23 in Debian\n3de3fea92 Debian: use QEMU 5 from buster-backports\n8a8c7bbff Fix Ussuri builds due to RDO Virtualization GPG key\ndc5fe2f0e Make kolla_set_configs open files in binary mode\nb5a049011 Drop lower-constraints\na9200da9a nova-compute: provide needed deps for debian/aarch64\n2419efb5d get rid of traces of CentOS 7 support\n27b2914b4 Remove sensu images\n7a4044afb Fix Mistral source images to respect upper-constraints\n636a2438f Bump up rally and rally-openstack\nd555005ba Revert virtualenv workaround\n6c2f355ad [CI] Stop checking TripleO\n57d05bc7e base: install setuptools to fix build on aarch64\na6e528dfb nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'\n0b73f618d docs: drop Fedora info, mark Ubuntu one as Debian / Ubuntu\n51002b4f7 CI: Use Docker proxy for pulls\ncc31403d2 Update projects in README.rst\n724860f78 Add a storm-base image\n346796691 CI: revert to public package mirrors after build\na11b99c85 Remove footer block from intermediate images\neb5f9c1f6 Bump prometheus-openstack-exporter version to 1.3.0\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I33563093d108f1160eaaeccc94bf90b4a8be93ba\n""}]",0,802070,78209f9a2c16163b1210d0dd367355093544bb4b,10,5,1,17685,,,0,"Release kolla for stable/ussuri

This release picks up new commits to kolla since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 10.2.0..4d1221083
4d1221083 gnocchi: add python3-rados to gnocchi-base source image
2b7ff0d39 CI: Fix epel url override
ce988a2eb [CI] Do not set ansible_python_interpreter for Zuul
f7556324f horizon: Correct location of monitoring_policy file
253c215f1 Fix build of masakari-monitors image
5c676e4a9 Fix _get_images_dir when pip-installed with --user
7cfb5b4bb Enable Debian updates repo
b908906a5 docs: Update Freenode to OFTC
9389ac1b4 [CI] Support building source images with in-review changes
8ec3f577a CI: drop bashism from template overrides
4a4823804 [CI] Trust only infra mirrors
da0fd2095 Add `crudini` to ovs-dpdk containers
b8f23bf71 swift: fix group membership in debuntu/binary
f3704f99f Install RabbitMQ repo key on Ubuntu and Debian
bf2e0d62e CentOS on AArch64 has only Erlang 22
f4a5d52df Pin erlang
c366a5ca1 rabbitmq: Move to packagecloud
c80ac9717 [CI] Publish images to quay.io on a daily basis
00339ecc4 base: configure curl before first use
075d38162 rabbitmq: bump Erlang requirements to v23 in Debian
3de3fea92 Debian: use QEMU 5 from buster-backports
8a8c7bbff Fix Ussuri builds due to RDO Virtualization GPG key
dc5fe2f0e Make kolla_set_configs open files in binary mode
b5a049011 Drop lower-constraints
a9200da9a nova-compute: provide needed deps for debian/aarch64
2419efb5d get rid of traces of CentOS 7 support
27b2914b4 Remove sensu images
7a4044afb Fix Mistral source images to respect upper-constraints
636a2438f Bump up rally and rally-openstack
d555005ba Revert virtualenv workaround
6c2f355ad [CI] Stop checking TripleO
57d05bc7e base: install setuptools to fix build on aarch64
a6e528dfb nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'
0b73f618d docs: drop Fedora info, mark Ubuntu one as Debian / Ubuntu
51002b4f7 CI: Use Docker proxy for pulls
cc31403d2 Update projects in README.rst
724860f78 Add a storm-base image
346796691 CI: revert to public package mirrors after build
a11b99c85 Remove footer block from intermediate images
eb5f9c1f6 Bump prometheus-openstack-exporter version to 1.3.0

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I33563093d108f1160eaaeccc94bf90b4a8be93ba
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/802070/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/kolla.yaml'],1,78209f9a2c16163b1210d0dd367355093544bb4b,ussuri-stable, - version: 10.3.0 projects: - repo: openstack/kolla hash: 4d122108323482511ffe86ea2a580c26367ebe2c,,4,0
openstack%2Freleases~master~Id4d5edefd0d140d0b85af9df746e97e5d6a9d4f4,openstack/releases,master,Id4d5edefd0d140d0b85af9df746e97e5d6a9d4f4,Release kayobe for stable/ussuri,MERGED,2021-07-23 17:08:46.000000000,2021-07-29 09:49:35.000000000,2021-07-29 09:49:35.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 17:08:46.000000000', 'files': ['deliverables/ussuri/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9fe22e7b0044dd012468810d503a2d3299ce5979', 'message': 'Release kayobe for stable/ussuri\n\nThis release picks up new commits to kayobe since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 8.1.0..99d96b5c\n0b82fa34 Prevent matching unrelated images\n649183ce Remove outdated upgrade step\n3ebeaefb Update seed VM image to CentOS 8.4\na067a8ba CI: Revert to Docker Hub images for upgrade jobs\ncf8869ee docs: Update Freenode to OFTC\nf3415254 CI: Remove unused Docker images after overcloud upgrade\ndc1f1348 Remove unnecessary requirements from tox.ini\n9fdecebe Sync the names and content of the repo-files for CentOS8\n0059a8cf CI: switch to quay.io for container images\n4eafeab9 Switch to reboot module\nd633f938 Use released version of mrlesmithjr.mdadm\nd8f640f1 Fix help texts of inventory options\nb67c2afe Fix overcloud provision with fast track enabled\nd64d415f Avoid fact gathering for group_by\nd5e8bc03 CI: increase Ansible Galaxy retries & add delay\n5a045264 Document requirements for symlinks used by custom playbooks\nfc198dd3 Update seed VM image to CentOS 8.3\na1881104 Wait for overcloud manage and provide state transitions\nb5df443a CI: display VM console log on ping or SSH failure\ncbad5e00 CI: Use cached cirros image for seed vm job\n9d862eac Update IPA docs and test build with extra-hardware\nfc53de47 Test building seed deployment images in the seed job\n3cf2c992 Fix IPA build on stable/ussuri\nd2c5f8e3 Quote kolla limit when calling kolla-ansible\n8eadb255 CI: Fix overcloud and seed VM jobs on vexxhost clouds\n2aa81e84 Add ipa_build_upper_constraints_file variable\n9595873f Fix copying Swift ring files\n12f2bb18 Fix /tmp/swift-rings/backups/ files deletion\n304a869f Fix overcloud host image resolv workaround on CentOS 8.3\n783d0f2e Fix --limit with commas\n6ee7333e Fix Python setup when venv is not used\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Id4d5edefd0d140d0b85af9df746e97e5d6a9d4f4\n'}]",0,802068,9fe22e7b0044dd012468810d503a2d3299ce5979,9,4,1,17685,,,0,"Release kayobe for stable/ussuri

This release picks up new commits to kayobe since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 8.1.0..99d96b5c
0b82fa34 Prevent matching unrelated images
649183ce Remove outdated upgrade step
3ebeaefb Update seed VM image to CentOS 8.4
a067a8ba CI: Revert to Docker Hub images for upgrade jobs
cf8869ee docs: Update Freenode to OFTC
f3415254 CI: Remove unused Docker images after overcloud upgrade
dc1f1348 Remove unnecessary requirements from tox.ini
9fdecebe Sync the names and content of the repo-files for CentOS8
0059a8cf CI: switch to quay.io for container images
4eafeab9 Switch to reboot module
d633f938 Use released version of mrlesmithjr.mdadm
d8f640f1 Fix help texts of inventory options
b67c2afe Fix overcloud provision with fast track enabled
d64d415f Avoid fact gathering for group_by
d5e8bc03 CI: increase Ansible Galaxy retries & add delay
5a045264 Document requirements for symlinks used by custom playbooks
fc198dd3 Update seed VM image to CentOS 8.3
a1881104 Wait for overcloud manage and provide state transitions
b5df443a CI: display VM console log on ping or SSH failure
cbad5e00 CI: Use cached cirros image for seed vm job
9d862eac Update IPA docs and test build with extra-hardware
fc53de47 Test building seed deployment images in the seed job
3cf2c992 Fix IPA build on stable/ussuri
d2c5f8e3 Quote kolla limit when calling kolla-ansible
8eadb255 CI: Fix overcloud and seed VM jobs on vexxhost clouds
2aa81e84 Add ipa_build_upper_constraints_file variable
9595873f Fix copying Swift ring files
12f2bb18 Fix /tmp/swift-rings/backups/ files deletion
304a869f Fix overcloud host image resolv workaround on CentOS 8.3
783d0f2e Fix --limit with commas
6ee7333e Fix Python setup when venv is not used

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Id4d5edefd0d140d0b85af9df746e97e5d6a9d4f4
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/802068/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/kayobe.yaml'],1,9fe22e7b0044dd012468810d503a2d3299ce5979,ussuri-stable, - version: 8.1.1 projects: - repo: openstack/kayobe hash: 99d96b5c389c137865bdd5a04d957244b2949507 - repo: openstack/kayobe-config hash: 5359d8c2d5dca52ba85f1d707b93bd56eb5b51e6 - repo: openstack/kayobe-config-dev hash: cb096de2edc8a4eaab6b9fb1061a6e218ef238e0,,8,0
openstack%2Fkolla-ansible~master~Iae8ca4aae945892f1dc65e1b10381d2e26e88805,openstack/kolla-ansible,master,Iae8ca4aae945892f1dc65e1b10381d2e26e88805,Make setup module arguments configurable,MERGED,2021-03-26 17:23:08.000000000,2021-07-29 09:49:24.000000000,2021-07-19 12:30:29.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-26 17:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e9bace206e95730699790d1f61d63c2c755cb8b', 'message': ""Fixes ansible facts slowness\n\nThis small patch speeds up kolla-ansible runs in production environments with\nmany network interfaces on the network and compute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts filtering.\nWe guess that the best option, for now, is this patch. In the future, we could\nget in touch with the ansible community to enable extend facts filtering like,\neg. allow users to define multiple filters for each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **********\n===============================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **********\n===============================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 2, 'created': '2021-03-26 17:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9f799153af8c89806d5027f218fc3a577945ade4', 'message': ""Fixes ansible facts slowness\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 3, 'created': '2021-03-26 18:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13f0753f21bbde7c420c7fc20e7b95c2a635d740', 'message': ""Fixes ansible facts slowness\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 4, 'created': '2021-03-29 11:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c688472233f7cbe5b37f41c1b16f8e6c894f59b', 'message': ""Fixes ansible facts slowness\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 5, 'created': '2021-03-29 13:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e028ac2388ee14036def163f01cf61dcb655f157', 'message': ""Fixes ansible facts slowness\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 6, 'created': '2021-03-29 14:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e97b6fba4d09e9f7379fdcf41f0e7ca4b6e94bd', 'message': ""Fixes ansible facts slowness\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 7, 'created': '2021-03-29 15:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c356e30d7a991d70b5061632495303155c224d8', 'message': ""Fixes ansible facts slowness\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 8, 'created': '2021-05-18 13:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/076b026a01f57cda66416a93d804ce1a393386e9', 'message': ""Make setup module arguments configurable\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 9, 'created': '2021-05-19 17:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3072beb6e7f47fbc5efc37093cae57c97c929175', 'message': ""Make setup module arguments configurable\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 10, 'created': '2021-05-19 18:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70f1637c5fbf936ce3e7462540b5f90205a33dce', 'message': ""Make setup module arguments configurable\n\nThis small patch speeds up kolla-ansible runs in production\nenvironments with many network interfaces on the network and\ncompute nodes.\n\nBefore applying this patch, we tried the following tunnings:\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nThe biggest speedup (about 18x) was achieved with the ansible facts\nfiltering. We guess that the best option, for now, is this patch. In\nthe future, we could get in touch with the ansible community to enable\nextend facts filtering like, eg. allow users to define multiple filters\nfor each subset.\n\nWe experimented with this patch, using the following command.\n\n```\nEXTRA_OPTS='--check --diff' kolla-ansible -i inventory genconfig -t ceilometer\n```\n\nWithout the patch, we would get the following processing time.\n\n```\nMonday 22 March 2021  17:05:39 +0100 (0:00:16.108)       0:18:23.854 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 18 minutes, 23 seconds\n```\n\nAfter applying the patch, this is the result we got.\n\n```\nMonday 22 March 2021  17:10:22 +0100 (0:00:01.782)       0:02:27.429 **\n=======================================================================\nPlaybook run took 0 days, 0 hours, 2 minutes, 27 seconds\n```\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 11, 'created': '2021-06-08 14:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3011ce464ea27efacacfce2b3d5c87434e943d2c', 'message': ""Make setup module arguments configurable\n\nAnsible facts can have a large impact on the performance of the Ansible\ncontrol host. This patch introduces some control over which facts are\ngathered (kolla_ansible_setup_gather_subset) and which facts are stored\n(kolla_ansible_setup_filter). By default we do not change the default\nvalues of these arguments to the setup module. The flexibility of these\narguments is limited, but they do provide enough for a large performance\nimprovement in a typical moderate to large OpenStack cloud.\n\nIn particular, the large complex dict fact for each interface has a\nlarge effect, and on an OpenStack controller or hypervisor there may be\nmany virtual interfaces. We can use the kolla_ansible_setup_filter\nvariable to help:\n\n    kolla_ansible_setup_filter: '*_[!qt]*'\n\nThis causes Ansible to collect but not store facts matching that\npattern, which includes the virtual interface facts. Currently we are\nnot referencing other facts matching the pattern within Kolla Ansible.\nNote that the 'ansible' prefix is omitted, to ensure we collect the\nmodule_setup fact which is used to manage the fact cache. The exact\nimprovement will vary, but has been reported to be as large as 18x on\nsystems with many virtual interfaces.\n\nFor reference, here are some other tunings tried:\n\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 12, 'created': '2021-06-18 17:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bed62849dc8d06b74503b38c0eb973d577f5cc8c', 'message': ""Make setup module arguments configurable\n\nAnsible facts can have a large impact on the performance of the Ansible\ncontrol host. This patch introduces some control over which facts are\ngathered (kolla_ansible_setup_gather_subset) and which facts are stored\n(kolla_ansible_setup_filter). By default we do not change the default\nvalues of these arguments to the setup module. The flexibility of these\narguments is limited, but they do provide enough for a large performance\nimprovement in a typical moderate to large OpenStack cloud.\n\nIn particular, the large complex dict fact for each interface has a\nlarge effect, and on an OpenStack controller or hypervisor there may be\nmany virtual interfaces. We can use the kolla_ansible_setup_filter\nvariable to help:\n\n    kolla_ansible_setup_filter: 'ansible_[!qt]*'\n\nThis causes Ansible to collect but not store facts matching that\npattern, which includes the virtual interface facts. Currently we are\nnot referencing other facts matching the pattern within Kolla Ansible.\nNote that including the 'ansible_' prefix causes meta facts module_setup\nand gather_subset to be filtered, but this seems to be the only way to\nget a good match on the interface facts. To work around this, we use\nansible_facts rather than module_setup to detect whether facts exist in\nthe cache.\n\nThe exact improvement will vary, but has been reported to be as large as\n18x on systems with many virtual interfaces.\n\nFor reference, here are some other tunings tried:\n\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 13, 'created': '2021-06-18 18:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2614278cdbaaffef6817bbfd7eec17b9182687b2', 'message': ""Make setup module arguments configurable\n\nAnsible facts can have a large impact on the performance of the Ansible\ncontrol host. This patch introduces some control over which facts are\ngathered (kolla_ansible_setup_gather_subset) and which facts are stored\n(kolla_ansible_setup_filter). By default we do not change the default\nvalues of these arguments to the setup module. The flexibility of these\narguments is limited, but they do provide enough for a large performance\nimprovement in a typical moderate to large OpenStack cloud.\n\nIn particular, the large complex dict fact for each interface has a\nlarge effect, and on an OpenStack controller or hypervisor there may be\nmany virtual interfaces. We can use the kolla_ansible_setup_filter\nvariable to help:\n\n    kolla_ansible_setup_filter: 'ansible_[!qt]*'\n\nThis causes Ansible to collect but not store facts matching that\npattern, which includes the virtual interface facts. Currently we are\nnot referencing other facts matching the pattern within Kolla Ansible.\nNote that including the 'ansible_' prefix causes meta facts module_setup\nand gather_subset to be filtered, but this seems to be the only way to\nget a good match on the interface facts. To work around this, we use\nansible_facts rather than module_setup to detect whether facts exist in\nthe cache.\n\nThe exact improvement will vary, but has been reported to be as large as\n18x on systems with many virtual interfaces.\n\nFor reference, here are some other tunings tried:\n\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}, {'number': 14, 'created': '2021-07-02 13:30:50.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/setup-module-args-c29e1815bbbe8aca.yaml', 'ansible/gather-facts.yml', 'etc/kolla/globals.yml', 'doc/source/user/ansible-tuning.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15f2fdcd5dd9e63b477c549c2af990df8235ca90', 'message': ""Make setup module arguments configurable\n\nAnsible facts can have a large impact on the performance of the Ansible\ncontrol host. This patch introduces some control over which facts are\ngathered (kolla_ansible_setup_gather_subset) and which facts are stored\n(kolla_ansible_setup_filter). By default we do not change the default\nvalues of these arguments to the setup module. The flexibility of these\narguments is limited, but they do provide enough for a large performance\nimprovement in a typical moderate to large OpenStack cloud.\n\nIn particular, the large complex dict fact for each interface has a\nlarge effect, and on an OpenStack controller or hypervisor there may be\nmany virtual interfaces. We can use the kolla_ansible_setup_filter\nvariable to help:\n\n    kolla_ansible_setup_filter: 'ansible_[!qt]*'\n\nThis causes Ansible to collect but not store facts matching that\npattern, which includes the virtual interface facts. Currently we are\nnot referencing other facts matching the pattern within Kolla Ansible.\nNote that including the 'ansible_' prefix causes meta facts module_setup\nand gather_subset to be filtered, but this seems to be the only way to\nget a good match on the interface facts. To work around this, we use\nansible_facts rather than module_setup to detect whether facts exist in\nthe cache.\n\nThe exact improvement will vary, but has been reported to be as large as\n18x on systems with many virtual interfaces.\n\nFor reference, here are some other tunings tried:\n\n* Increased the number of forks (great speedup depending of the size of\n  the deployment)\n* Use `strategy = mitogen_linear` (cut processing time in half)\n* Ansible caching (little speed up)\n* SSH tunning (little speed up)\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCloses-Bug: #1921538\nChange-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805\n""}]",25,783392,15f2fdcd5dd9e63b477c549c2af990df8235ca90,70,5,14,28356,,,0,"Make setup module arguments configurable

Ansible facts can have a large impact on the performance of the Ansible
control host. This patch introduces some control over which facts are
gathered (kolla_ansible_setup_gather_subset) and which facts are stored
(kolla_ansible_setup_filter). By default we do not change the default
values of these arguments to the setup module. The flexibility of these
arguments is limited, but they do provide enough for a large performance
improvement in a typical moderate to large OpenStack cloud.

In particular, the large complex dict fact for each interface has a
large effect, and on an OpenStack controller or hypervisor there may be
many virtual interfaces. We can use the kolla_ansible_setup_filter
variable to help:

    kolla_ansible_setup_filter: 'ansible_[!qt]*'

This causes Ansible to collect but not store facts matching that
pattern, which includes the virtual interface facts. Currently we are
not referencing other facts matching the pattern within Kolla Ansible.
Note that including the 'ansible_' prefix causes meta facts module_setup
and gather_subset to be filtered, but this seems to be the only way to
get a good match on the interface facts. To work around this, we use
ansible_facts rather than module_setup to detect whether facts exist in
the cache.

The exact improvement will vary, but has been reported to be as large as
18x on systems with many virtual interfaces.

For reference, here are some other tunings tried:

* Increased the number of forks (great speedup depending of the size of
  the deployment)
* Use `strategy = mitogen_linear` (cut processing time in half)
* Ansible caching (little speed up)
* SSH tunning (little speed up)

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Closes-Bug: #1921538
Change-Id: Iae8ca4aae945892f1dc65e1b10381d2e26e88805
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/783392/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/gather-facts.yml'],1,7e9bace206e95730699790d1f61d63c2c755cb8b,patch_slow_ansible_run," setup: filter: ""ansible_[!qt]*"" filter: ""ansible_[!qt]*""",,3,0
openstack%2Freleases~master~Ia9634f65886acb46df8a07015ed63d02165c7719,openstack/releases,master,Ia9634f65886acb46df8a07015ed63d02165c7719,Release kuryr-libnetwork for stable/ussuri,MERGED,2021-07-23 17:22:20.000000000,2021-07-29 09:46:50.000000000,2021-07-29 09:46:50.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-07-23 17:22:20.000000000', 'files': ['deliverables/ussuri/kuryr-libnetwork.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e5c1b0360e7fbb69223991af6e81c15bdaa568ac', 'message': 'Release kuryr-libnetwork for stable/ussuri\n\nThis release picks up new commits to kuryr-libnetwork since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 5.0.0..b2b1a36\n2f05e8b Install tox before running tests\n9b164c5 Handle subnet without gateway\n080cd17 Update TOX_CONSTRAINTS_FILE for stable/ussuri\n86a2816 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia9634f65886acb46df8a07015ed63d02165c7719\n'}]",0,802072,e5c1b0360e7fbb69223991af6e81c15bdaa568ac,9,4,1,17685,,,0,"Release kuryr-libnetwork for stable/ussuri

This release picks up new commits to kuryr-libnetwork since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 5.0.0..b2b1a36
2f05e8b Install tox before running tests
9b164c5 Handle subnet without gateway
080cd17 Update TOX_CONSTRAINTS_FILE for stable/ussuri
86a2816 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia9634f65886acb46df8a07015ed63d02165c7719
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/802072/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/kuryr-libnetwork.yaml'],1,e5c1b0360e7fbb69223991af6e81c15bdaa568ac,ussuri-stable, - version: 5.0.1 projects: - repo: openstack/kuryr-libnetwork hash: b2b1a36d0db096a5ccfe4084e291e2b5004f8bb7,,4,0
openstack%2Freleases~master~Ic516b58b1f73d350091cf0d7fa78f472abf300c8,openstack/releases,master,Ic516b58b1f73d350091cf0d7fa78f472abf300c8,Release kuryr for stable/ussuri,MERGED,2021-07-23 17:23:00.000000000,2021-07-29 09:46:48.000000000,2021-07-29 09:46:48.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-07-23 17:23:00.000000000', 'files': ['deliverables/ussuri/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/37acf3f78c748c7cbe57ec59d748664c2ff37fb9', 'message': 'Release kuryr for stable/ussuri\n\nThis release picks up new commits to kuryr since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.0.0..dbcca8a\n2f021ec Remove run_as_root which fails without root_helper\n6108958 Remove the unused coding style modules\n90a458f Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\n8c24aef Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic516b58b1f73d350091cf0d7fa78f472abf300c8\n'}]",0,802073,37acf3f78c748c7cbe57ec59d748664c2ff37fb9,9,4,1,17685,,,0,"Release kuryr for stable/ussuri

This release picks up new commits to kuryr since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.0..dbcca8a
2f021ec Remove run_as_root which fails without root_helper
6108958 Remove the unused coding style modules
90a458f Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri
8c24aef Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ic516b58b1f73d350091cf0d7fa78f472abf300c8
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/802073/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/kuryr.yaml'],1,37acf3f78c748c7cbe57ec59d748664c2ff37fb9,ussuri-stable, - version: 2.0.1 projects: - repo: openstack/kuryr hash: dbcca8aa716677c273ec898bc6bc5dc08a17644f,,4,0
openstack%2Fkolla-ansible~master~Ib49bdb3c80bf2e89a31b03e90747783dc7f9a068,openstack/kolla-ansible,master,Ib49bdb3c80bf2e89a31b03e90747783dc7f9a068,[CI] Slimmer RMQ,ABANDONED,2021-07-28 19:28:12.000000000,2021-07-29 09:46:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 19:28:12.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b306f3b5b4a597697895f4c61a075bef9f2530e', 'message': ""[CI] Slimmer RMQ\n\nSince our CI is a relatively-constrained environment, let's try\nusing single-threaded RMQ.\n\nChange-Id: Ib49bdb3c80bf2e89a31b03e90747783dc7f9a068\n""}]",0,802798,1b306f3b5b4a597697895f4c61a075bef9f2530e,6,1,1,30491,,,0,"[CI] Slimmer RMQ

Since our CI is a relatively-constrained environment, let's try
using single-threaded RMQ.

Change-Id: Ib49bdb3c80bf2e89a31b03e90747783dc7f9a068
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/802798/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,1b306f3b5b4a597697895f4c61a075bef9f2530e,ci-less-rmq,"rabbitmq_server_additional_erl_args: ""+S 1:1 +sbwt none +sbwtdcpu none +sbwtdio none"" ",,2,0
openstack%2Freleases~master~I8544dabe7b8d20675a5edbd5baa594fe3cea9d1d,openstack/releases,master,I8544dabe7b8d20675a5edbd5baa594fe3cea9d1d,Release kuryr-kubernetes for stable/ussuri,MERGED,2021-07-23 17:20:51.000000000,2021-07-29 09:45:53.000000000,2021-07-29 09:45:53.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-07-23 17:20:51.000000000', 'files': ['deliverables/ussuri/kuryr-kubernetes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8806209df616f2bfce767d308e69af36faed1d4b', 'message': 'Release kuryr-kubernetes for stable/ussuri\n\nThis release picks up new commits to kuryr-kubernetes since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.0.0..50d6fd1e\na198e824 Fix duplicated sg rules on NP crd\n81e53508 Correctly compare SG rules in NP code\n01651084 Fix base docker images\n4000025b Fix CI issues\n43bf7ae1 Use latest RDO in container images\nadf0d7cc Change registry for fetching coredns image.\n3ee234c6 Move to quay.io with kuryr/demo docker image.\n1862d232 Ignore errors when removing containers in DevStack\n631364aa Handle None or {} labels in match_selector()\n8cf37113 DevStack: Disable leader election for K8s services\nb185cd2c Expand swap back to 8 GBs on gate VMs\n9aa52355 Remove dragonflow\n3b16d617 Fix CNI image built\necf4aa6b Fix hacking min version to 3.0.1\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I8544dabe7b8d20675a5edbd5baa594fe3cea9d1d\n'}]",0,802071,8806209df616f2bfce767d308e69af36faed1d4b,9,4,1,17685,,,0,"Release kuryr-kubernetes for stable/ussuri

This release picks up new commits to kuryr-kubernetes since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.0.0..50d6fd1e
a198e824 Fix duplicated sg rules on NP crd
81e53508 Correctly compare SG rules in NP code
01651084 Fix base docker images
4000025b Fix CI issues
43bf7ae1 Use latest RDO in container images
adf0d7cc Change registry for fetching coredns image.
3ee234c6 Move to quay.io with kuryr/demo docker image.
1862d232 Ignore errors when removing containers in DevStack
631364aa Handle None or {} labels in match_selector()
8cf37113 DevStack: Disable leader election for K8s services
b185cd2c Expand swap back to 8 GBs on gate VMs
9aa52355 Remove dragonflow
3b16d617 Fix CNI image built
ecf4aa6b Fix hacking min version to 3.0.1

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I8544dabe7b8d20675a5edbd5baa594fe3cea9d1d
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/802071/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/kuryr-kubernetes.yaml'],1,8806209df616f2bfce767d308e69af36faed1d4b,ussuri-stable, - version: 2.1.0 projects: - repo: openstack/kuryr-kubernetes hash: 50d6fd1e39bdad8f3e39b6ef92b1f3d6061cb84c,,4,0
openstack%2Freleases~master~Ic8c8691c1b91d6c086f8e627060283a9ccb15c26,openstack/releases,master,Ic8c8691c1b91d6c086f8e627060283a9ccb15c26,Release magnum-ui for stable/ussuri,MERGED,2021-07-23 17:25:04.000000000,2021-07-29 09:45:51.000000000,2021-07-29 09:45:51.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 17:25:04.000000000', 'files': ['deliverables/ussuri/magnum-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e683172ef2bf7a12e6e7aa03299dcc531c6abd71', 'message': 'Release magnum-ui for stable/ussuri\n\nThis release picks up new commits to magnum-ui since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 6.0.0..4a561a9\n4a561a9 Fix cluster resize\n1852c35 Fix npm jobs\nf2c8f36 Imported Translations from Zanata\ne1deec8 Imported Translations from Zanata\n5bd5ced Imported Translations from Zanata\nfd5e8fe Update TOX_CONSTRAINTS_FILE for stable/ussuri\nbb0f5d8 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic8c8691c1b91d6c086f8e627060283a9ccb15c26\n'}]",0,802074,e683172ef2bf7a12e6e7aa03299dcc531c6abd71,9,4,1,17685,,,0,"Release magnum-ui for stable/ussuri

This release picks up new commits to magnum-ui since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 6.0.0..4a561a9
4a561a9 Fix cluster resize
1852c35 Fix npm jobs
f2c8f36 Imported Translations from Zanata
e1deec8 Imported Translations from Zanata
5bd5ced Imported Translations from Zanata
fd5e8fe Update TOX_CONSTRAINTS_FILE for stable/ussuri
bb0f5d8 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ic8c8691c1b91d6c086f8e627060283a9ccb15c26
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/802074/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/magnum-ui.yaml'],1,e683172ef2bf7a12e6e7aa03299dcc531c6abd71,ussuri-stable, - version: 6.0.1 projects: - repo: openstack/magnum-ui hash: 4a561a93742d3c9cfa5c243601e89515cfd7d155,,4,0
openstack%2Freleases~master~Ib74dafce5a595f96a017e465e5d0140f1c171487,openstack/releases,master,Ib74dafce5a595f96a017e465e5d0140f1c171487,Release kolla projects for Wallaby,MERGED,2021-07-28 12:59:30.000000000,2021-07-29 09:45:50.000000000,2021-07-29 09:45:50.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 12:59:30.000000000', 'files': ['deliverables/wallaby/kolla.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/wallaby/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1cac007a8b32208ca8f77587acb5b6dff5727b54', 'message': 'Release kolla projects for Wallaby\n\n* kolla 12.0.1\n* kolla-ansible 12.1.0\n* kayobe 10.0.1\n\nChange-Id: Ib74dafce5a595f96a017e465e5d0140f1c171487\n'}]",0,802700,1cac007a8b32208ca8f77587acb5b6dff5727b54,8,3,1,14826,,,0,"Release kolla projects for Wallaby

* kolla 12.0.1
* kolla-ansible 12.1.0
* kayobe 10.0.1

Change-Id: Ib74dafce5a595f96a017e465e5d0140f1c171487
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/802700/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/kolla.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/wallaby/kolla-ansible.yaml']",3,1cac007a8b32208ca8f77587acb5b6dff5727b54,, - version: 12.1.0 projects: - repo: openstack/kolla-ansible hash: 8c68ced1a240fd74c1d3be8e9dfcf69693fe0ad1,,14,0
openstack%2Freleases~master~I0c0f5ed34b16bb25b375baf9ee00e3c845551c90,openstack/releases,master,I0c0f5ed34b16bb25b375baf9ee00e3c845551c90,Release kolla projects for Victoria,MERGED,2021-07-28 12:58:51.000000000,2021-07-29 09:42:11.000000000,2021-07-29 09:42:11.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 12:58:51.000000000', 'files': ['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7ac20f2beea456fb2b56e85ada5119c99c7f9016', 'message': 'Release kolla projects for Victoria\n\n* kolla 11.1.0\n* kolla-ansible 11.1.0\n* kayobe 9.1.0\n\nChange-Id: I0c0f5ed34b16bb25b375baf9ee00e3c845551c90\n'}]",0,802699,7ac20f2beea456fb2b56e85ada5119c99c7f9016,8,3,1,14826,,,0,"Release kolla projects for Victoria

* kolla 11.1.0
* kolla-ansible 11.1.0
* kayobe 9.1.0

Change-Id: I0c0f5ed34b16bb25b375baf9ee00e3c845551c90
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/802699/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml']",3,7ac20f2beea456fb2b56e85ada5119c99c7f9016,, - version: 11.1.0 projects: - repo: openstack/kolla hash: cfdacc2076866ebc3a1b46992a4bbea2cee71af5,,16,0
openstack%2Fhorizon~stable%2Fwallaby~Iba4215b2e3a414d1794faa05be31bf69e0e48bec,openstack/horizon,stable/wallaby,Iba4215b2e3a414d1794faa05be31bf69e0e48bec,Change with_data=False for swift_get_container,MERGED,2021-07-19 10:05:18.000000000,2021-07-29 09:39:57.000000000,2021-07-29 09:38:35.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-19 10:05:18.000000000', 'files': ['openstack_dashboard/api/swift.py', 'openstack_dashboard/test/unit/api/test_swift.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8232ac0385782e8131b071fa1324001c1c429aaf', 'message': ""Change with_data=False for swift_get_container\n\nThis function is only used in the Container get\nmethod which retrieves details about a container.\n\nIt's not used for listing data in the container\neven though with_data was True doing a GET instead\nof a HEAD on the container.\n\nThis indirectly also fixes the Ceph bug [1] in the\nSwift API implementation that doesn't expose metadata\ncorrectly for a GET but does for a HEAD.\n\n[1] https://tracker.ceph.com/issues/47861\n\nChange-Id: Iba4215b2e3a414d1794faa05be31bf69e0e48bec\n(cherry picked from commit c87f0e7a90d05f9355bd58165c25561dedae36d5)\n""}]",0,801277,8232ac0385782e8131b071fa1324001c1c429aaf,10,5,1,32755,,,0,"Change with_data=False for swift_get_container

This function is only used in the Container get
method which retrieves details about a container.

It's not used for listing data in the container
even though with_data was True doing a GET instead
of a HEAD on the container.

This indirectly also fixes the Ceph bug [1] in the
Swift API implementation that doesn't expose metadata
correctly for a GET but does for a HEAD.

[1] https://tracker.ceph.com/issues/47861

Change-Id: Iba4215b2e3a414d1794faa05be31bf69e0e48bec
(cherry picked from commit c87f0e7a90d05f9355bd58165c25561dedae36d5)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/77/801277/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/api/swift.py', 'openstack_dashboard/test/unit/api/test_swift.py']",2,8232ac0385782e8131b071fa1324001c1c429aaf,," cont = api.swift.swift_get_container(self.request, container.name, with_data=True)"," cont = api.swift.swift_get_container(self.request, container.name)",3,2
openstack%2Fneutron-lib~master~I26f7e642214bd09a6d4608c9cfdf8c5ef2537489,openstack/neutron-lib,master,I26f7e642214bd09a6d4608c9cfdf8c5ef2537489,Adds l3-ndp-proxy extension api definition,MERGED,2020-08-22 09:28:05.000000000,2021-07-29 09:33:13.000000000,2021-07-29 09:31:43.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28329}]","[{'number': 1, 'created': '2020-08-22 09:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a722e4fb0aca3025e6dd94888149bf946881d9e6', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 2, 'created': '2020-08-25 12:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e73c5ad3a4c7c62f28f439b2600431476e92a707', 'message': '[WIP] Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 3, 'created': '2021-06-29 09:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7d6f7176ac5341eec88b2e832c10b47061f5599d', 'message': '[WIP] Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 4, 'created': '2021-07-17 08:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cf6c504ae6a001eff8f0b89ee07439ba220e95fa', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 5, 'created': '2021-07-17 08:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e40368158bb4aee11d5bcc4f6227b5aedaaf7701', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 6, 'created': '2021-07-21 10:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/173e96aa5c735e365cc8bb0e02cef9806713bf6b', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 7, 'created': '2021-07-23 11:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/48884ca3b8d0b97ab6c26add1b8d90bc0ed0df7c', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 8, 'created': '2021-07-23 11:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/56aa88ba9bc02925f75f4288890d08f3ef17398f', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 9, 'created': '2021-07-26 11:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a02e9bf80386e3383acbe9c04241afc1f1d0902a', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 10, 'created': '2021-07-27 10:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/25052f439b8d2004b181f628575e5e81c38b7250', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 11, 'created': '2021-07-27 13:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/984e9275386b856b17ae2669cc145b5f4a6cc183', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 12, 'created': '2021-07-27 13:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/417e277bab67bd6485ddafbc70c0699de9894985', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}, {'number': 13, 'created': '2021-07-27 13:11:48.000000000', 'files': ['neutron_lib/api/definitions/l3_ext_ndp_proxy.py', 'releasenotes/notes/l3-ndp-proxy-71eee0cba8565dad.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/l3_ndp_proxy.py', 'neutron_lib/tests/unit/api/definitions/test_l3_ndp_proxy.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/tests/unit/api/definitions/test_l3_ext_ndp_proxy.py', 'neutron_lib/plugins/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2b46c1f74cbf076fca1a100a978a3a8a23d0338c', 'message': 'Adds l3-ndp-proxy extension api definition\n\nChange-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489\nPartial-Bug: #1877301\n'}]",34,747523,2b46c1f74cbf076fca1a100a978a3a8a23d0338c,51,7,13,28329,,,0,"Adds l3-ndp-proxy extension api definition

Change-Id: I26f7e642214bd09a6d4608c9cfdf8c5ef2537489
Partial-Bug: #1877301
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/23/747523/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/l3-ndp-proxy-71eee0cba8565dad.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/l3_ndp_proxy.py', 'neutron_lib/tests/unit/api/definitions/test_l3_ndp_proxy.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/plugins/constants.py']",6,a722e4fb0aca3025e6dd94888149bf946881d9e6,bug/1877301,NDPPROXY = 'NDPPROXY',,154,0
openstack%2Fansible-collections-openstack~master~I8bf9aa17e18f9b6d2c8e307f4368d1cea3362cb5,openstack/ansible-collections-openstack,master,I8bf9aa17e18f9b6d2c8e307f4368d1cea3362cb5,Remove semver check from release job,MERGED,2021-07-29 07:21:13.000000000,2021-07-29 09:32:53.000000000,2021-07-29 09:32:53.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 07:21:13.000000000', 'files': ['ci/publish/publish_collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8a395a04cfdf91b1206f08ea409b26192bfab1ca', 'message': ""Remove semver check from release job\n\nJinja in Zuul Ansible version doesn't support semver key for versions.\nChange-Id: I8bf9aa17e18f9b6d2c8e307f4368d1cea3362cb5\n""}]",0,802831,8a395a04cfdf91b1206f08ea409b26192bfab1ca,6,2,1,10969,,,0,"Remove semver check from release job

Jinja in Zuul Ansible version doesn't support semver key for versions.
Change-Id: I8bf9aa17e18f9b6d2c8e307f4368d1cea3362cb5
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/31/802831/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/publish/publish_collection.yml'],1,8a395a04cfdf91b1206f08ea409b26192bfab1ca,,," # Ansible Galaxy can accept only pure semver versions # see https://semver.org for details - name: Check that tag is proper semver debug: msg: >- {{ version_tag is version('999.999.999', 'lt', version_type='semver') }} ignore_errors: true register: test_semver - name: Fail if tag is not proper semver fail: msg: ""Error is: {{ test_semver.msg }}"" when: test_semver is failed ",0,14
openstack%2Fvalidations-libs~master~Iac5e68286782c5c2fbc185650c0bdf915fe959ef,openstack/validations-libs,master,Iac5e68286782c5c2fbc185650c0bdf915fe959ef,Unit test refactor,MERGED,2021-07-28 10:39:52.000000000,2021-07-29 09:28:36.000000000,2021-07-29 09:27:06.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-28 10:39:52.000000000', 'files': ['validations_libs/tests/cli/test_list.py', 'validations_libs/tests/cli/fakes.py', 'validations_libs/tests/cli/test_show.py', 'validations_libs/tests/cli/test_history.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/tests/cli/test_colors.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/07558871d640ceec54ccd1f0d56f890d20094f76', 'message': 'Unit test refactor\n\n- redundant imports in test modules were removed\n- reset color code management in test simplified\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iac5e68286782c5c2fbc185650c0bdf915fe959ef\n'}]",0,802682,07558871d640ceec54ccd1f0d56f890d20094f76,8,6,1,32926,,,0,"Unit test refactor

- redundant imports in test modules were removed
- reset color code management in test simplified

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iac5e68286782c5c2fbc185650c0bdf915fe959ef
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/82/802682/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/cli/test_list.py', 'validations_libs/tests/cli/fakes.py', 'validations_libs/tests/cli/test_show.py', 'validations_libs/tests/cli/test_history.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/tests/cli/test_colors.py']",6,07558871d640ceec54ccd1f0d56f890d20094f76,tests-cleanup," self.RESET = ""\033[0;0m"" self.assertEqual(colored_output[-6:], self.RESET) self.assertEqual(colored_output[-6:], self.RESET)"," RESET = ""\033[0;0m"" self.assertEqual(colored_output[-6:], '\033[0;0m') self.assertEqual(colored_output[-6:], '\033[0;0m')",3,11
openstack%2Fkolla-ansible~master~I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef,openstack/kolla-ansible,master,I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef,Robustify fluentd output tag matching,MERGED,2021-06-03 17:22:19.000000000,2021-07-29 09:06:40.000000000,2021-07-19 11:16:46.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-03 17:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/014e534d408340da9279a772451526edd7aa681e', 'message': 'Robustify elasticserach output tag matching\n\nWe really want elasticsearch to catch all logs, to provid the required\ncentrailsed logging. While these appears to make little material\ndifference, it should make it harder for logs to not get caught by\nany of the outputs we have configured.\n\nTrivialFix\n\nChange-Id: I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef\n'}, {'number': 2, 'created': '2021-06-07 08:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47cd92943eb8e160bca26c83482087885fec1c29', 'message': 'Robustify elasticserach output tag matching\n\nWe really want elasticsearch to catch all logs, to provid the required\ncentrailsed logging. While these appears to make little material\ndifference, it should make it harder for logs to not get caught by\nany of the outputs we have configured.\n\nTrivialFix\n\nChange-Id: I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef\n'}, {'number': 3, 'created': '2021-06-07 08:16:53.000000000', 'files': ['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'ansible/roles/common/templates/conf/output/01-es.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7ff199dcf1185648b9659746a1c43fe1a431fc5', 'message': 'Robustify fluentd output tag matching\n\nWe really want elasticsearch or monasca to catch all logs,\nto providd the required centrailsed logging.\n\nWhile these appears to make little material difference,\nit should make it harder for logs to not get caught by\nany of the outputs we have configured.\n\nTrivialFix\n\nChange-Id: I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef\n'}]",0,794652,e7ff199dcf1185648b9659746a1c43fe1a431fc5,22,5,3,782,,,0,"Robustify fluentd output tag matching

We really want elasticsearch or monasca to catch all logs,
to providd the required centrailsed logging.

While these appears to make little material difference,
it should make it harder for logs to not get caught by
any of the outputs we have configured.

TrivialFix

Change-Id: I3bb74dcdc3cbe78cd1e1657f44e2a0af9d6508ef
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/794652/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/01-es.conf.j2'],1,014e534d408340da9279a772451526edd7aa681e,robustify-fluentd-logs,<match **>,<match *.**>,1,1
openstack%2Freleases~master~I392217ea8d18b1347a71b3f782350280b234a3db,openstack/releases,master,I392217ea8d18b1347a71b3f782350280b234a3db,Release horizon 20.0.0 (Xena),MERGED,2021-07-27 09:54:14.000000000,2021-07-29 08:59:57.000000000,2021-07-29 08:59:57.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6732}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32216}]","[{'number': 1, 'created': '2021-07-27 09:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/81efc91101d2e3e02759f5fcdc8570ebc2fdf9c0', 'message': 'Release horizon 19.3.0 (Xena)\n\nThis is the first release for Xena. Cinder v2 support is dropped in\nthe horizon during Xena cycle by [1]. So the major version is bumped.\nThe main motivation of this release is horizon plugins can consume\ncinder v2 removal support.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/802419\n\nChange-Id: I392217ea8d18b1347a71b3f782350280b234a3db\n'}, {'number': 2, 'created': '2021-07-27 10:18:20.000000000', 'files': ['deliverables/xena/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dbc73a47c112f08e1893af075e7fd31ba7c2a919', 'message': 'Release horizon 20.0.0 (Xena)\n\nThis is the first release for Xena. Cinder v2 support is dropped in\nthe horizon during Xena cycle by [1]. So the major version is bumped.\nThe main motivation of this release is horizon plugins can consume\ncinder v2 removal support.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/802419\n\nChange-Id: I392217ea8d18b1347a71b3f782350280b234a3db\n'}]",1,802446,dbc73a47c112f08e1893af075e7fd31ba7c2a919,17,10,2,29313,,,0,"Release horizon 20.0.0 (Xena)

This is the first release for Xena. Cinder v2 support is dropped in
the horizon during Xena cycle by [1]. So the major version is bumped.
The main motivation of this release is horizon plugins can consume
cinder v2 removal support.

[1] https://review.opendev.org/c/openstack/horizon/+/802419

Change-Id: I392217ea8d18b1347a71b3f782350280b234a3db
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/802446/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/horizon.yaml'],1,81efc91101d2e3e02759f5fcdc8570ebc2fdf9c0,,releases: - version: 19.3.0 projects: - repo: openstack/horizon hash: 788988f24fd207acf004e0c636efff76866b2d81 ,,5,0
openstack%2Fcharm-neutron-openvswitch~master~I39024855c3e42ee135b6ad5e7618a770219b6994,openstack/charm-neutron-openvswitch,master,I39024855c3e42ee135b6ad5e7618a770219b6994,Sync release-tools,MERGED,2021-07-22 12:58:33.000000000,2021-07-29 08:52:33.000000000,2021-07-29 08:52:33.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:58:33.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7e97910ed48354c54b7d560789f23978f7b16da7', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I39024855c3e42ee135b6ad5e7618a770219b6994\n'}]",0,801826,7e97910ed48354c54b7d560789f23978f7b16da7,10,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I39024855c3e42ee135b6ad5e7618a770219b6994
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/26/801826/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,7e97910ed48354c54b7d560789f23978f7b16da7,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Fcharm-neutron-api-plugin-ovn~master~I92c4ec300eae68bfaecb3e12df2fca076981f6bd,openstack/charm-neutron-api-plugin-ovn,master,I92c4ec300eae68bfaecb3e12df2fca076981f6bd,Sync release-tools,MERGED,2021-07-22 12:58:04.000000000,2021-07-29 08:50:58.000000000,2021-07-29 08:50:58.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:58:04.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/58ca3bd83de9c78ab5831688c064e0cf4c5f09ee', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I92c4ec300eae68bfaecb3e12df2fca076981f6bd\n'}]",0,801823,58ca3bd83de9c78ab5831688c064e0cf4c5f09ee,10,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I92c4ec300eae68bfaecb3e12df2fca076981f6bd
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/23/801823/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,58ca3bd83de9c78ab5831688c064e0cf4c5f09ee,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-nova-cell-controller~master~I27a464ae745adb9d176c7e84c9c7b06bb3f8d889,openstack/charm-nova-cell-controller,master,I27a464ae745adb9d176c7e84c9c7b06bb3f8d889,Sync release-tools,MERGED,2021-07-22 12:58:42.000000000,2021-07-29 08:50:53.000000000,2021-07-29 08:50:53.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:58:42.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/be4cbcbd385e461b4c5c929241783f546a7b6942', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I27a464ae745adb9d176c7e84c9c7b06bb3f8d889\n'}]",0,801827,be4cbcbd385e461b4c5c929241783f546a7b6942,10,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I27a464ae745adb9d176c7e84c9c7b06bb3f8d889
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/27/801827/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,be4cbcbd385e461b4c5c929241783f546a7b6942,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-neutron-dynamic-routing~master~Iff416d760df7ab86b73f6e62e046bfc668c91f10,openstack/charm-neutron-dynamic-routing,master,Iff416d760df7ab86b73f6e62e046bfc668c91f10,Sync release-tools,MERGED,2021-07-22 12:58:13.000000000,2021-07-29 08:49:30.000000000,2021-07-29 08:49:30.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:58:13.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/6b5d9fbaf7bd538bfbc13047b87a98dab8ddeac9', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Iff416d760df7ab86b73f6e62e046bfc668c91f10\n'}]",0,801824,6b5d9fbaf7bd538bfbc13047b87a98dab8ddeac9,11,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Iff416d760df7ab86b73f6e62e046bfc668c91f10
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/24/801824/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,6b5d9fbaf7bd538bfbc13047b87a98dab8ddeac9,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fhorizon~master~I54e909d2ba0c6d751247809373166c37f8baeb77,openstack/horizon,master,I54e909d2ba0c6d751247809373166c37f8baeb77,Drop nodejs10 job,MERGED,2021-04-12 13:24:56.000000000,2021-07-29 08:48:08.000000000,2021-07-29 08:44:22.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-12 13:24:56.000000000', 'files': ['.zuul.d/nodejs-jobs.yaml', '.zuul.d/project.yaml', '.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8b59bc4370c8ecaa6df38da2892e19123913ad39', 'message': 'Drop nodejs10 job\n\nAs we added nodejs14 support in\nI423e8bbec21ab1d52a0a840d779723aa92678735 change.\nWe can now drop nodejs10 or related job as it is EOL.\n\nChange-Id: I54e909d2ba0c6d751247809373166c37f8baeb77\n'}]",0,785875,8b59bc4370c8ecaa6df38da2892e19123913ad39,11,6,1,29313,,,0,"Drop nodejs10 job

As we added nodejs14 support in
I423e8bbec21ab1d52a0a840d779723aa92678735 change.
We can now drop nodejs10 or related job as it is EOL.

Change-Id: I54e909d2ba0c6d751247809373166c37f8baeb77
",git fetch https://review.opendev.org/openstack/horizon refs/changes/75/785875/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/nodejs-jobs.yaml', '.zuul.d/project.yaml', '.zuul.d/xstatic-master.yaml']",3,8b59bc4370c8ecaa6df38da2892e19123913ad39,drop-nodejs10,, name: horizon-nodejs10-run-test-xstatic-master parent: horizon-nodejs10-run-test required-projects: *xstatic-projects pre-run: playbooks/npm-test-xstatic-master/pre.yaml - job:,0,60
openstack%2Ftrove-dashboard~stable%2Fwallaby~I81e00c25c7569fb6b114e2f66b71552f2d093c0b,openstack/trove-dashboard,stable/wallaby,I81e00c25c7569fb6b114e2f66b71552f2d093c0b,Fix the configuration issue,MERGED,2021-07-29 08:15:26.000000000,2021-07-29 08:46:14.000000000,2021-07-29 08:46:14.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 08:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/dd524fdcf051c53949d58270a7c8e215314549ac', 'message': ""Fix the configuration issue\n\n* Remove ApplyChanges and DiscardChanges actions\n* Don't use cache when getting configuration\n* Config parameter is added and removed one by one. There is no API\n  to add or delete a specific parameter.\n\nStory: 2009084\nTask: 42901\n\nChange-Id: I81e00c25c7569fb6b114e2f66b71552f2d093c0b\n""}, {'number': 2, 'created': '2021-07-29 08:16:32.000000000', 'files': ['trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/database_configurations/templates/database_configurations/detail_param.html', 'trove_dashboard/content/database_configurations/config_param_manager.py', 'trove_dashboard/content/database_configurations/tests.py', 'trove_dashboard/content/database_configurations/tables.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/3a6e79c3c0cabaf3293046647481a792895efb05', 'message': ""Fix the configuration issue\n\n* Remove ApplyChanges and DiscardChanges actions\n* Don't use cache when getting configuration\n* Config parameter is added and removed one by one. There is no API\n  to add or delete a specific parameter.\n\nStory: 2009084\nTask: 42901\n\nChange-Id: I81e00c25c7569fb6b114e2f66b71552f2d093c0b\n(cherry-picked from https://review.opendev.org/c/openstack/trove-dashboard/+/802830)\n""}]",0,802835,3a6e79c3c0cabaf3293046647481a792895efb05,7,2,2,6732,,,0,"Fix the configuration issue

* Remove ApplyChanges and DiscardChanges actions
* Don't use cache when getting configuration
* Config parameter is added and removed one by one. There is no API
  to add or delete a specific parameter.

Story: 2009084
Task: 42901

Change-Id: I81e00c25c7569fb6b114e2f66b71552f2d093c0b
(cherry-picked from https://review.opendev.org/c/openstack/trove-dashboard/+/802830)
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/35/802835/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/database_configurations/templates/database_configurations/detail_param.html', 'trove_dashboard/content/database_configurations/config_param_manager.py', 'trove_dashboard/content/database_configurations/tests.py', 'trove_dashboard/content/database_configurations/tables.py']",5,dd524fdcf051c53949d58270a7c8e215314549ac,wallaby-fix-config,"from oslo_serialization import jsonutils def delete(self, request, names): if type(names) is not list: names = [names] configuration = api.trove.configuration_get(request, configuration_id) cur_values = dict.copy(configuration.values) for name in names: if name in cur_values: cur_values.pop(name) api.trove.configuration_update( request, configuration_id, jsonutils.dumps(cur_values)) table_actions = [AddParameter, DeleteParameter]"," def delete(self, request, obj_ids): (config_param_manager .get(request, configuration_id) .delete_param(obj_ids)) table_actions = [ApplyChanges, DiscardChanges, AddParameter, DeleteParameter]",56,185
openstack%2Fglance~master~I0084350ebb09cc1cb3752b45165e49f166bfdf91,openstack/glance,master,I0084350ebb09cc1cb3752b45165e49f166bfdf91,Remove dead 403->404 code,MERGED,2021-07-06 18:00:34.000000000,2021-07-29 08:44:19.000000000,2021-07-29 08:42:18.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e7243e9f7bf127c4736060a9e8631e2abf998089', 'message': 'Remove dead 403->404 code\n\nThe db.ImageRepo.save() operation covers up a Forbidden error with\nNotFound in the case of trying to update an image that the user does\nnot own. This is actually never hit in reality as the authorization\nlayer would have caught it before, and returned Forbidden. The API is\nthe layer that should be deciding to hide images for which the user\ncannot see, to avoid things like being able to show an image, but get\nback a 404 on update. In order to do that, we need the lower layers to\nreport the situation faithfully and let the upper layers decide how\nto expose that to the user.\n\nSpecifically, for the policy refactor, we have tests that assert the\nForbidden behavior, and after disabling the authorization layer, will\nbreak (and rightfully so) because they get NotFound when they hit the\nlower-layer check. Because it is hidden so deep, even the API can\'t\ndistinguish between the two.\n\nI imagine this check was added long ago to provide the ""if you can\'t\nsee it, return NotFound instead of Forbidden, which would expose the\nfact that it exists"" behavior which is desired. However, the\nauthorization layer means we never get here anymore.\n\nThis patch is provided without any test changes to prove that it does\nnot actually alter the real behavior. The test_permissions functional\ntest asserts the proper behavior before and after this change, as well\nas after subsequent refactor patches.\n\nChange-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91\n'}, {'number': 2, 'created': '2021-07-14 14:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8f82b666bc0ebdcc0361ed5a0b93f6cd80398426', 'message': 'Remove dead 403->404 code\n\nThe db.ImageRepo.save() operation covers up a Forbidden error with\nNotFound in the case of trying to update an image that the user does\nnot own. This is actually never hit in reality as the authorization\nlayer would have caught it before, and returned Forbidden. The API is\nthe layer that should be deciding to hide images for which the user\ncannot see, to avoid things like being able to show an image, but get\nback a 404 on update. In order to do that, we need the lower layers to\nreport the situation faithfully and let the upper layers decide how\nto expose that to the user.\n\nSpecifically, for the policy refactor, we have tests that assert the\nForbidden behavior, and after disabling the authorization layer, will\nbreak (and rightfully so) because they get NotFound when they hit the\nlower-layer check. Because it is hidden so deep, even the API can\'t\ndistinguish between the two.\n\nI imagine this check was added long ago to provide the ""if you can\'t\nsee it, return NotFound instead of Forbidden, which would expose the\nfact that it exists"" behavior which is desired. However, the\nauthorization layer means we never get here anymore.\n\nThis patch is provided without any test changes to prove that it does\nnot actually alter the real behavior. The test_permissions functional\ntest asserts the proper behavior before and after this change, as well\nas after subsequent refactor patches.\n\nChange-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91\n'}, {'number': 3, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/efc9e7cd6adc7c39cec691af85a5d2a781b7d6c0', 'message': 'Remove dead 403->404 code\n\nThe db.ImageRepo.save() operation covers up a Forbidden error with\nNotFound in the case of trying to update an image that the user does\nnot own. This is actually never hit in reality as the authorization\nlayer would have caught it before, and returned Forbidden. The API is\nthe layer that should be deciding to hide images for which the user\ncannot see, to avoid things like being able to show an image, but get\nback a 404 on update. In order to do that, we need the lower layers to\nreport the situation faithfully and let the upper layers decide how\nto expose that to the user.\n\nSpecifically, for the policy refactor, we have tests that assert the\nForbidden behavior, and after disabling the authorization layer, will\nbreak (and rightfully so) because they get NotFound when they hit the\nlower-layer check. Because it is hidden so deep, even the API can\'t\ndistinguish between the two.\n\nI imagine this check was added long ago to provide the ""if you can\'t\nsee it, return NotFound instead of Forbidden, which would expose the\nfact that it exists"" behavior which is desired. However, the\nauthorization layer means we never get here anymore.\n\nThis patch is provided without any test changes to prove that it does\nnot actually alter the real behavior. The test_permissions functional\ntest asserts the proper behavior before and after this change, as well\nas after subsequent refactor patches.\n\nChange-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91\n'}, {'number': 4, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c8e01e8275d575d68eff88b2169a72973bfc9b6f', 'message': 'Remove dead 403->404 code\n\nThe db.ImageRepo.save() operation covers up a Forbidden error with\nNotFound in the case of trying to update an image that the user does\nnot own. This is actually never hit in reality as the authorization\nlayer would have caught it before, and returned Forbidden. The API is\nthe layer that should be deciding to hide images for which the user\ncannot see, to avoid things like being able to show an image, but get\nback a 404 on update. In order to do that, we need the lower layers to\nreport the situation faithfully and let the upper layers decide how\nto expose that to the user.\n\nSpecifically, for the policy refactor, we have tests that assert the\nForbidden behavior, and after disabling the authorization layer, will\nbreak (and rightfully so) because they get NotFound when they hit the\nlower-layer check. Because it is hidden so deep, even the API can\'t\ndistinguish between the two.\n\nI imagine this check was added long ago to provide the ""if you can\'t\nsee it, return NotFound instead of Forbidden, which would expose the\nfact that it exists"" behavior which is desired. However, the\nauthorization layer means we never get here anymore.\n\nThis patch is provided without any test changes to prove that it does\nnot actually alter the real behavior. The test_permissions functional\ntest asserts the proper behavior before and after this change, as well\nas after subsequent refactor patches.\n\nChange-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91\n'}, {'number': 5, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7175bb7daa070ac86bab232e8433f4c9100a0ccd', 'message': 'Remove dead 403->404 code\n\nThe db.ImageRepo.save() operation covers up a Forbidden error with\nNotFound in the case of trying to update an image that the user does\nnot own. This is actually never hit in reality as the authorization\nlayer would have caught it before, and returned Forbidden. The API is\nthe layer that should be deciding to hide images for which the user\ncannot see, to avoid things like being able to show an image, but get\nback a 404 on update. In order to do that, we need the lower layers to\nreport the situation faithfully and let the upper layers decide how\nto expose that to the user.\n\nSpecifically, for the policy refactor, we have tests that assert the\nForbidden behavior, and after disabling the authorization layer, will\nbreak (and rightfully so) because they get NotFound when they hit the\nlower-layer check. Because it is hidden so deep, even the API can\'t\ndistinguish between the two.\n\nI imagine this check was added long ago to provide the ""if you can\'t\nsee it, return NotFound instead of Forbidden, which would expose the\nfact that it exists"" behavior which is desired. However, the\nauthorization layer means we never get here anymore.\n\nThis patch is provided without any test changes to prove that it does\nnot actually alter the real behavior. The test_permissions functional\ntest asserts the proper behavior before and after this change, as well\nas after subsequent refactor patches.\n\nChange-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91\n'}, {'number': 6, 'created': '2021-07-20 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/88587a8620d6eb1660d529a24cacf46a9436310a', 'message': 'Remove dead 403->404 code\n\nThe db.ImageRepo.save() operation covers up a Forbidden error with\nNotFound in the case of trying to update an image that the user does\nnot own. This is actually never hit in reality as the authorization\nlayer would have caught it before, and returned Forbidden. The API is\nthe layer that should be deciding to hide images for which the user\ncannot see, to avoid things like being able to show an image, but get\nback a 404 on update. In order to do that, we need the lower layers to\nreport the situation faithfully and let the upper layers decide how\nto expose that to the user.\n\nSpecifically, for the policy refactor, we have tests that assert the\nForbidden behavior, and after disabling the authorization layer, will\nbreak (and rightfully so) because they get NotFound when they hit the\nlower-layer check. Because it is hidden so deep, even the API can\'t\ndistinguish between the two.\n\nI imagine this check was added long ago to provide the ""if you can\'t\nsee it, return NotFound instead of Forbidden, which would expose the\nfact that it exists"" behavior which is desired. However, the\nauthorization layer means we never get here anymore.\n\nThis patch is provided without any test changes to prove that it does\nnot actually alter the real behavior. The test_permissions functional\ntest asserts the proper behavior before and after this change, as well\nas after subsequent refactor patches.\n\nChange-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91\n'}, {'number': 7, 'created': '2021-07-26 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/28f1aeb5c692bbb80981ed46378207645e5ac2b8', 'message': 'Remove dead 403->404 code\n\nThe db.ImageRepo.save() operation covers up a Forbidden error with\nNotFound in the case of trying to update an image that the user does\nnot own. This is actually never hit in reality as the authorization\nlayer would have caught it before, and returned Forbidden. The API is\nthe layer that should be deciding to hide images for which the user\ncannot see, to avoid things like being able to show an image, but get\nback a 404 on update. In order to do that, we need the lower layers to\nreport the situation faithfully and let the upper layers decide how\nto expose that to the user.\n\nSpecifically, for the policy refactor, we have tests that assert the\nForbidden behavior, and after disabling the authorization layer, will\nbreak (and rightfully so) because they get NotFound when they hit the\nlower-layer check. Because it is hidden so deep, even the API can\'t\ndistinguish between the two.\n\nI imagine this check was added long ago to provide the ""if you can\'t\nsee it, return NotFound instead of Forbidden, which would expose the\nfact that it exists"" behavior which is desired. However, the\nauthorization layer means we never get here anymore.\n\nThis patch is provided without any test changes to prove that it does\nnot actually alter the real behavior. The test_permissions functional\ntest asserts the proper behavior before and after this change, as well\nas after subsequent refactor patches.\n\nChange-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91\n'}, {'number': 8, 'created': '2021-07-27 18:34:02.000000000', 'files': ['glance/db/simple/api.py', 'glance/db/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/429f16124b7cd69c85e6d764bcf1e47687780286', 'message': 'Remove dead 403->404 code\n\nThe db.ImageRepo.save() operation covers up a Forbidden error with\nNotFound in the case of trying to update an image that the user does\nnot own. This is actually never hit in reality as the authorization\nlayer would have caught it before, and returned Forbidden. The API is\nthe layer that should be deciding to hide images for which the user\ncannot see, to avoid things like being able to show an image, but get\nback a 404 on update. In order to do that, we need the lower layers to\nreport the situation faithfully and let the upper layers decide how\nto expose that to the user.\n\nSpecifically, for the policy refactor, we have tests that assert the\nForbidden behavior, and after disabling the authorization layer, will\nbreak (and rightfully so) because they get NotFound when they hit the\nlower-layer check. Because it is hidden so deep, even the API can\'t\ndistinguish between the two.\n\nI imagine this check was added long ago to provide the ""if you can\'t\nsee it, return NotFound instead of Forbidden, which would expose the\nfact that it exists"" behavior which is desired. However, the\nauthorization layer means we never get here anymore.\n\nThis patch is provided without any test changes to prove that it does\nnot actually alter the real behavior. The test_permissions functional\ntest asserts the proper behavior before and after this change, as well\nas after subsequent refactor patches.\n\nChange-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91\n'}]",5,799699,429f16124b7cd69c85e6d764bcf1e47687780286,34,3,8,4393,,,0,"Remove dead 403->404 code

The db.ImageRepo.save() operation covers up a Forbidden error with
NotFound in the case of trying to update an image that the user does
not own. This is actually never hit in reality as the authorization
layer would have caught it before, and returned Forbidden. The API is
the layer that should be deciding to hide images for which the user
cannot see, to avoid things like being able to show an image, but get
back a 404 on update. In order to do that, we need the lower layers to
report the situation faithfully and let the upper layers decide how
to expose that to the user.

Specifically, for the policy refactor, we have tests that assert the
Forbidden behavior, and after disabling the authorization layer, will
break (and rightfully so) because they get NotFound when they hit the
lower-layer check. Because it is hidden so deep, even the API can't
distinguish between the two.

I imagine this check was added long ago to provide the ""if you can't
see it, return NotFound instead of Forbidden, which would expose the
fact that it exists"" behavior which is desired. However, the
authorization layer means we never get here anymore.

This patch is provided without any test changes to prove that it does
not actually alter the real behavior. The test_permissions functional
test asserts the proper behavior before and after this change, as well
as after subsequent refactor patches.

Change-Id: I0084350ebb09cc1cb3752b45165e49f166bfdf91
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/799699/3 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/__init__.py'],1,e7243e9f7bf127c4736060a9e8631e2abf998089,bp/policy-refactor, except exception.ImageNotFound:," except (exception.ImageNotFound, exception.Forbidden):",1,1
openstack%2Ftempest~master~Ie660b2e4c7dac05822e13b47335620815a7ad1cf,openstack/tempest,master,Ie660b2e4c7dac05822e13b47335620815a7ad1cf,Replace deprecated import of ABCs from collections,MERGED,2021-07-16 15:38:10.000000000,2021-07-29 08:44:12.000000000,2021-07-29 08:42:16.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-16 15:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf7fcea78943d53746dcc58d2f29c22bed86ed72', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections was deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ie660b2e4c7dac05822e13b47335620815a7ad1cf\n'}, {'number': 2, 'created': '2021-07-16 15:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8bfbcadf3174ea44730693b4dfae8c2ac7a11c08', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ie660b2e4c7dac05822e13b47335620815a7ad1cf\n'}, {'number': 3, 'created': '2021-07-17 03:25:38.000000000', 'files': ['tempest/lib/common/rest_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6354f6182a98b16ecc2a258ac5ab38b7ae92503a', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ie660b2e4c7dac05822e13b47335620815a7ad1cf\n'}]",0,801082,6354f6182a98b16ecc2a258ac5ab38b7ae92503a,16,2,3,9816,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Closes-Bug: #1936667
Change-Id: Ie660b2e4c7dac05822e13b47335620815a7ad1cf
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/801082/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/rest_client.py'],1,cf7fcea78943d53746dcc58d2f29c22bed86ed72,bug/1936667,"import collections.abc if (not isinstance(resp_body, collections.abc.Mapping) or","import collections if (not isinstance(resp_body, collections.Mapping) or",2,2
openstack%2Fwatcher~master~I00ab282a0f9ffcfddf745df1dd67418a43d70b10,openstack/watcher,master,I00ab282a0f9ffcfddf745df1dd67418a43d70b10,Fix some incorrect description in doc.,MERGED,2016-12-01 01:36:11.000000000,2021-07-29 08:35:57.000000000,2016-12-16 17:06:42.000000000,"[{'_account_id': 3}, {'_account_id': 12394}, {'_account_id': 15949}]","[{'number': 1, 'created': '2016-12-01 01:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5b66fd9e1e25f6a2eae4bc83f77754d712674f67', 'message': ""Fix some incorrect description/ref in architecture and configuration DOC.\n\ndoc/source/architecture.rst\n* 'If every action of the action flow has been executed successfully, a notification is sent on the bus to indicate that the whole :ref:`Action Plan <action_plan_definition>` has SUCCEEDED.'\n\nFix: 'has SUCCEEDED' should be 'is SUCCEEDED'\n\ndoc/source/deploy/configuration.rst\n* 'The Watcher system is a collection of services that provides support to optimize your IAAS plateform. '\n\nFix: Typo, plateform -> platform\n\n* Additionally, the Bare Metal service has certain external dependencies, which are very similar to other OpenStack services:\n\nFix: Bare Metal -> Watcher\n\n* Please check your hypervisor configuration to correctly handle instance migration.\n\nChange-Id: I00ab282a0f9ffcfddf745df1dd67418a43d70b10\nFix: ref of ``instance migration`` is http://docs.openstack.org/admin-guide/compute-live-migration-usage.html\n""}, {'number': 2, 'created': '2016-12-01 01:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/7fff9fbf79341340f8e1cca09988646b8b2f2cf4', 'message': ""Fix some incorrect description/ref in\narchitecture and configuration DOC.\n\ndoc/source/architecture.rst\n* 'If every action of the action flow has been executed\nsuccessfully, a notification is sent on the bus to\nindicate that the whole :ref:`Action Plan\n<action_plan_definition>` has SUCCEEDED.'\n\nFix: 'has SUCCEEDED' should be 'is SUCCEEDED'\n\ndoc/source/deploy/configuration.rst\n* 'The Watcher system is a collection of services\nthat provides support to optimize your IAAS plateform. '\n\nFix: Typo, plateform -> platform\n\n* Additionally, the Bare Metal service has certain\nexternal dependencies, which are very similar to\nother OpenStack services:\n\nFix: Bare Metal -> Watcher\n\n* Please check your hypervisor configuration to correctly\nhandle instance migration.\n\nFix: ref of ``instance migration`` is http://docs.openstack.org/\nadmin-guide/compute-live-migration-usage.html\n\nChange-Id: I00ab282a0f9ffcfddf745df1dd67418a43d70b10\nCloses-Bug: #1646290\n""}, {'number': 3, 'created': '2016-12-01 01:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0250313f15f663d7b3611c1ed5e92db89b2968c9', 'message': ""Fix some incorrect description in doc.\n\ndoc/source/architecture.rst\n* 'If every action of the action flow has been executed\nsuccessfully, a notification is sent on the bus to\nindicate that the whole :ref:`Action Plan\n<action_plan_definition>` has SUCCEEDED.'\n\nFix: 'has SUCCEEDED' should be 'is SUCCEEDED'\n\ndoc/source/deploy/configuration.rst\n* 'The Watcher system is a collection of services\nthat provides support to optimize your IAAS plateform. '\n\nFix: Typo, plateform -> platform\n\n* Additionally, the Bare Metal service has certain\nexternal dependencies, which are very similar to\nother OpenStack services:\n\nFix: Bare Metal -> Watcher\n\n* Please check your hypervisor configuration to correctly\nhandle instance migration.\n\nFix: ref of ``instance migration`` is http://docs.openstack.org/\nadmin-guide/compute-live-migration-usage.html\n\nChange-Id: I00ab282a0f9ffcfddf745df1dd67418a43d70b10\nCloses-Bug: #1646290\n""}, {'number': 4, 'created': '2016-12-06 04:02:24.000000000', 'files': ['doc/source/deploy/configuration.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/d252d47cc0a324ed6c7d08afd9f7a623d076948b', 'message': ""Fix some incorrect description in doc.\n\ndoc/source/deploy/configuration.rst\n* 'The Watcher system is a collection of services\nthat provides support to optimize your IAAS plateform. '\n\nFix: Typo, plateform -> platform\n\n* Additionally, the Bare Metal service has certain\nexternal dependencies, which are very similar to\nother OpenStack services:\n\nFix: Bare Metal -> Watcher\n\n* Please check your hypervisor configuration to correctly\nhandle instance migration.\n\nFix: ref of ``instance migration`` is http://docs.openstack.org/\nadmin-guide/compute-live-migration-usage.html\n\nChange-Id: I00ab282a0f9ffcfddf745df1dd67418a43d70b10\nCloses-Bug: #1646290\n""}]",2,405038,d252d47cc0a324ed6c7d08afd9f7a623d076948b,16,3,4,23950,,,0,"Fix some incorrect description in doc.

doc/source/deploy/configuration.rst
* 'The Watcher system is a collection of services
that provides support to optimize your IAAS plateform. '

Fix: Typo, plateform -> platform

* Additionally, the Bare Metal service has certain
external dependencies, which are very similar to
other OpenStack services:

Fix: Bare Metal -> Watcher

* Please check your hypervisor configuration to correctly
handle instance migration.

Fix: ref of ``instance migration`` is http://docs.openstack.org/
admin-guide/compute-live-migration-usage.html

Change-Id: I00ab282a0f9ffcfddf745df1dd67418a43d70b10
Closes-Bug: #1646290
",git fetch https://review.opendev.org/openstack/watcher refs/changes/38/405038/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/architecture.rst', 'doc/source/deploy/configuration.rst']",2,5b66fd9e1e25f6a2eae4bc83f77754d712674f67,bug/1646290,"optimize your IAAS platform. The Watcher service may, depending uponAdditionally, the Watcher service has certain external dependencies, which.. _`instance migration`: http://docs.openstack.org/admin-guide/compute-live-migration-usage.html","optimize your IAAS plateform. The Watcher service may, depending uponAdditionally, the Bare Metal service has certain external dependencies, which.. _`instance migration`: http://docs.openstack.org/admin-guide-cloud/compute-configuring-migrations.html",4,4
openstack%2Fpython-watcherclient~master~I9e3df031822f2f2704a3c661c6a5953d7e0caae5,openstack/python-watcherclient,master,I9e3df031822f2f2704a3c661c6a5953d7e0caae5,Add unit for continuous audit's interval.,MERGED,2016-12-31 09:48:53.000000000,2021-07-29 08:35:49.000000000,2017-01-10 16:27:09.000000000,"[{'_account_id': 3}, {'_account_id': 12394}, {'_account_id': 18462}, {'_account_id': 23310}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-12-31 09:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/6038c95ab5f1244ef71b367980f56bc22b71ba03', 'message': ""Add unit for continuous audit's interval.\n\nEnd user does not get the unit of 'interval' when use command\n``watcher audit create -h``. This patch adds unit for the option\n'interval'.\n\nChange-Id: I9e3df031822f2f2704a3c661c6a5953d7e0caae5\nCloses-Bug: #1653322\n""}, {'number': 3, 'created': '2017-01-03 00:07:57.000000000', 'files': ['watcherclient/v1/audit_shell.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/d08c0e3ef13dcb3ca918cf9e776056e7c148d1c5', 'message': ""Add unit for continuous audit's interval.\n\nEnd user does not get the unit of 'interval' when use command\n``watcher audit create -h``. This patch adds unit for the option\n'interval'. Aslo use single quotes.\n\nChange-Id: I9e3df031822f2f2704a3c661c6a5953d7e0caae5\nCloses-Bug: #1653322\n""}]",2,415936,d08c0e3ef13dcb3ca918cf9e776056e7c148d1c5,12,5,2,23950,,,0,"Add unit for continuous audit's interval.

End user does not get the unit of 'interval' when use command
``watcher audit create -h``. This patch adds unit for the option
'interval'. Aslo use single quotes.

Change-Id: I9e3df031822f2f2704a3c661c6a5953d7e0caae5
Closes-Bug: #1653322
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/36/415936/3 && git format-patch -1 --stdout FETCH_HEAD,['watcherclient/v1/audit_shell.py'],1,6038c95ab5f1244ef71b367980f56bc22b71ba03,bug/1653322," help=_(""Audit interval (in seconds).""))"," help=_(""Audit interval.""))",1,1
openstack%2Fpython-ironicclient~master~I1d5130cde8fd60234523701b97b9d29f27380e93,openstack/python-ironicclient,master,I1d5130cde8fd60234523701b97b9d29f27380e93,Fix ImportError when providing a meaningless API version.,MERGED,2017-01-20 15:33:32.000000000,2021-07-29 08:35:41.000000000,2017-02-27 11:37:10.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 14826}]","[{'number': 1, 'created': '2017-01-20 15:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e14c42d3252b629515763a533fd48f14aaa32639', 'message': ""Fix ImportError when providing a meaningless API version.\n\nIronicclient parses subcommand by API version. When providing a\nmeaningless (e.g 0.9) API version, the error message like 'No\nmodule named v0.shell' is not humanized. This patch provides\nmore friendly notice.\n\nChange-Id: I1d5130cde8fd60234523701b97b9d29f27380e93\nCloses-Bug: #1654186\n""}, {'number': 2, 'created': '2017-01-20 22:33:56.000000000', 'files': ['ironicclient/tests/unit/test_shell.py', 'ironicclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/97f82c5a46f63f99129bc3d504928e4c062095dd', 'message': ""Fix ImportError when providing a meaningless API version.\n\nIronicclient parses subcommand by API version. When providing a\nmeaningless (e.g 0.9) API version, the error message like 'No\nmodule named v0.shell' is not humanized. This patch provides\nthe error more friendly.\n\nChange-Id: I1d5130cde8fd60234523701b97b9d29f27380e93\nCloses-Bug: #1654186\n""}]",9,423333,97f82c5a46f63f99129bc3d504928e4c062095dd,13,5,2,23950,,,0,"Fix ImportError when providing a meaningless API version.

Ironicclient parses subcommand by API version. When providing a
meaningless (e.g 0.9) API version, the error message like 'No
module named v0.shell' is not humanized. This patch provides
the error more friendly.

Change-Id: I1d5130cde8fd60234523701b97b9d29f27380e93
Closes-Bug: #1654186
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/33/423333/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/shell.py', 'ironicclient/tests/unit/test_shell.py']",2,e14c42d3252b629515763a533fd48f14aaa32639,bug/1654186,"from ironicclient.common.apiclient import exceptions def test_invalid_ironic_api_version(self): self.assertRaises(exceptions.UnsupportedVersion, self.shell, '--ironic-api-version 0.8 help') ",,28,2
openstack%2Fkarbor~master~Id92f1b16d8dc59975c7f2e8d1fefe3f6f58558ec,openstack/karbor,master,Id92f1b16d8dc59975c7f2e8d1fefe3f6f58558ec,Fix implicit reason for 'provider_id'.,MERGED,2017-09-11 07:20:27.000000000,2021-07-29 08:35:18.000000000,2017-09-14 17:39:50.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}, {'_account_id': 21224}]","[{'number': 1, 'created': '2017-09-11 07:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/8172c3a2ea413ba34a61f8a8b09bd9108c6497a0', 'message': ""Fix implicit reason for 'provider_id'.\n\nThe reasons are same while checking 'provider_id' of\noperation_definition. But they are two different cases.\nSo fix it in this patch.\n\nChange-Id: Id92f1b16d8dc59975c7f2e8d1fefe3f6f58558ec\nCloses-Bug: #1716226\n""}, {'number': 2, 'created': '2017-09-13 00:35:03.000000000', 'files': ['karbor/services/operationengine/operations/protect_operation.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/73058d031668c153329067b8a19c73332b6eeb20', 'message': ""Fix implicit reason for 'provider_id'.\n\nThe reasons are the same while checking 'provider_id' of\noperation_definition. But they are two different cases.\nSo fix it in this patch.\n\nChange-Id: Id92f1b16d8dc59975c7f2e8d1fefe3f6f58558ec\nCloses-Bug: #1716226\n""}]",2,502400,73058d031668c153329067b8a19c73332b6eeb20,12,4,2,23950,,,0,"Fix implicit reason for 'provider_id'.

The reasons are the same while checking 'provider_id' of
operation_definition. But they are two different cases.
So fix it in this patch.

Change-Id: Id92f1b16d8dc59975c7f2e8d1fefe3f6f58558ec
Closes-Bug: #1716226
",git fetch https://review.opendev.org/openstack/karbor refs/changes/00/502400/2 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/operationengine/operations/protect_operation.py'],1,8172c3a2ea413ba34a61f8a8b09bd9108c6497a0,bug/1716226," reason = _(""Provider_id is confilict"")"," reason = _(""Provider_id is invalid"")",1,1
openstack%2Fkolla~master~Ifff0aa1ec29e94b8067c7e1564b5dbf04fd5c2af,openstack/kolla,master,Ifff0aa1ec29e94b8067c7e1564b5dbf04fd5c2af,test-requirements: remove cap on PrettyTable,ABANDONED,2021-07-28 16:24:56.000000000,2021-07-29 08:16:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 16:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7ca16764dc389f9dd11869f8fea3c4a6261a8fa8', 'message': 'test-requirements: remove cap on PrettyTable\n\nopenstack/requirements got rid of it in\n09b8c864b4656b7a58210d75e54457452aaaecc5:\n\nRemove cap on PrettyTable\n\nPrettyTable was capped at a < 0.8, which meant we were getting the\nveritably ancient 0.7.2 release first release in April 2013 (!) [1].\nThe project is now being maintained as a Jazzband project [2], meaning\nwe can remove the cap. The API is pretty much unchanged so this should\nhave little impact for projects that depend on this library.\n\nChange-Id: Ifff0aa1ec29e94b8067c7e1564b5dbf04fd5c2af\n'}, {'number': 2, 'created': '2021-07-28 18:01:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c072bd664cedf30e7afa16f5748e962851c38257', 'message': 'test-requirements: remove cap on PrettyTable\n\nopenstack/requirements got rid of it in\n09b8c864b4656b7a58210d75e54457452aaaecc5:\n\nRemove cap on PrettyTable\n\nPrettyTable was capped at a < 0.8, which meant we were getting the\nveritably ancient 0.7.2 release first release in April 2013 (!) [1].\nThe project is now being maintained as a Jazzband project [2], meaning\nwe can remove the cap. The API is pretty much unchanged so this should\nhave little impact for projects that depend on this library.\n\n[1] https://pypi.org/project/prettytable/#history\n[2] https://github.com/jazzband/prettytable\n\nChange-Id: Ifff0aa1ec29e94b8067c7e1564b5dbf04fd5c2af\n'}]",2,802753,c072bd664cedf30e7afa16f5748e962851c38257,14,2,2,24072,,,0,"test-requirements: remove cap on PrettyTable

openstack/requirements got rid of it in
09b8c864b4656b7a58210d75e54457452aaaecc5:

Remove cap on PrettyTable

PrettyTable was capped at a < 0.8, which meant we were getting the
veritably ancient 0.7.2 release first release in April 2013 (!) [1].
The project is now being maintained as a Jazzband project [2], meaning
we can remove the cap. The API is pretty much unchanged so this should
have little impact for projects that depend on this library.

[1] https://pypi.org/project/prettytable/#history
[2] https://github.com/jazzband/prettytable

Change-Id: Ifff0aa1ec29e94b8067c7e1564b5dbf04fd5c2af
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/802753/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7ca16764dc389f9dd11869f8fea3c4a6261a8fa8,,PrettyTable>=0.7.1 # BSD,"PrettyTable<0.8,>=0.7.1 # BSD",1,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~Idd905e32dc70728abdb4cea1a14f43c7f11ff311,openstack/python-tripleoclient,stable/train,Idd905e32dc70728abdb4cea1a14f43c7f11ff311,Add --db-only option in undercloud_backup.,MERGED,2021-07-19 12:38:29.000000000,2021-07-29 07:12:12.000000000,2021-07-29 07:10:43.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-19 12:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82a9dd28e47f45ea1f96537d3baa5958db846f1c', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nResolves: rhbz#1977392\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)\n(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)\n(cherry picked from commit 66e61a3408effa2429255e1e84d6762fa4edb959)\n(cherry picked from commit 134ca3910cf8812321f094eb5859474f405afe24)\n""}, {'number': 2, 'created': '2021-07-21 12:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2f72f68117d8b9eb2dd9eb37c7ab428ffea75014', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nResolves: rhbz#1977392\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)\n(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)\n(cherry picked from commit 66e61a3408effa2429255e1e84d6762fa4edb959)\n(cherry picked from commit 134ca3910cf8812321f094eb5859474f405afe24)\n""}, {'number': 3, 'created': '2021-07-26 12:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/956cf473fcc815974f51c394f40e3c66ee4982a3', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nResolves: rhbz#1977392\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)\n(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)\n(cherry picked from commit 66e61a3408effa2429255e1e84d6762fa4edb959)\n(cherry picked from commit 134ca3910cf8812321f094eb5859474f405afe24)\n""}, {'number': 4, 'created': '2021-07-27 05:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9feb32539550f87534b1bf76369d28784d4c9ebf', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nThis patch also corrects the call import from unittest.mock which does\nnot work with Python2.7 version.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nResolves: rhbz#1977392\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)\n(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)\n(cherry picked from commit 66e61a3408effa2429255e1e84d6762fa4edb959)\n(cherry picked from commit 134ca3910cf8812321f094eb5859474f405afe24)\n""}, {'number': 5, 'created': '2021-07-27 09:48:46.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a7ad3aff5db8c79d9aa921b908a79902ee0594ac', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nThis patch also corrects the call import from unittest.mock which does\nnot work with Python2.7 version.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nResolves: rhbz#1977392\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)\n(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)\n(cherry picked from commit 66e61a3408effa2429255e1e84d6762fa4edb959)\n(cherry picked from commit 134ca3910cf8812321f094eb5859474f405afe24)\n""}]",1,801297,a7ad3aff5db8c79d9aa921b908a79902ee0594ac,23,6,5,26343,,,0,"Add --db-only option in undercloud_backup.

This patch adds a new option --db-only which will perform a DB backup
of the Undercloud node. This option will have precedence to --init, --setup-nfs
or --setup-rear, but it won't complain. If the --db-only option is being
passed then only the play in charge of performing the Undercloud's DB backup
will be triggered.

This patch also corrects the call import from unittest.mock which does
not work with Python2.7 version.

Change-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311
Resolves: rhbz#1977392
Depends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7
(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)
(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)
(cherry picked from commit 66e61a3408effa2429255e1e84d6762fa4edb959)
(cherry picked from commit 134ca3910cf8812321f094eb5859474f405afe24)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/801297/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py']",2,82a9dd28e47f45ea1f96537d3baa5958db846f1c,," def test_undercloud_backup_db_only(self, mock_playbook, mock_access, mock_isfile): arglist = [ '--db-only' ] verifylist = [] mock_isfile.return_value = True mock_access.return_value = True parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-db-backup.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('os.path.isfile') @mock.patch('os.access') @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) @mock.patch('os.path.isfile') @mock.patch('os.access') @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_db_only_with_setup_options(self, mock_playbook, mock_access, mock_isfile): arglist = [ '--db-only', '--setup-nfs', '--setup-rear' ] verifylist = [] mock_isfile.return_value = True mock_access.return_value = True parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-db-backup.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) ",,101,20
openstack%2Ftripleo-validations~master~Iac8126429773d3b63d17ad851d24e8c6f498f557,openstack/tripleo-validations,master,Iac8126429773d3b63d17ad851d24e8c6f498f557,Moving setting validation from nova_event_callback,MERGED,2021-06-04 17:20:07.000000000,2021-07-29 07:12:07.000000000,2021-07-29 07:10:44.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 30073}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-04 17:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a26a8e572e92b4dbef39c068db4c422a832463eb', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 2, 'created': '2021-06-04 20:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9c985096e07970771d70de9b631884244c561f23', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 3, 'created': '2021-06-07 14:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eabc5390b2ab3c7f28449bc73f15812e8257488c', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 4, 'created': '2021-06-11 14:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c849122b9bf7e25bf7faf3caf621f07a31d539a7', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 5, 'created': '2021-06-11 15:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/828a91e71654f5736e82d138abad890764a6b532', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 6, 'created': '2021-06-15 13:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7f8c8f27c485e3b21ce2c029bfb3f353150e2fc0', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 7, 'created': '2021-06-15 14:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b50b1451dbfb9e4da1ae01647a4f8eae5e974dd1', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 8, 'created': '2021-06-15 17:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8769c8eacfc6414c3272064cc69b8a841cadf37d', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 9, 'created': '2021-06-17 00:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9b2ea8128a85ad8e3dd1eabc81b12d923cd004f2', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 10, 'created': '2021-06-29 14:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ebdcd37315f0476e2abf5255951c298fc57b5c3c', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 11, 'created': '2021-06-29 16:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/901f8a692ddac1a8c31e228462cd4960a9f0c875', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 12, 'created': '2021-06-30 08:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5c65a043913bbd1e64e3067292d1af47aebcbb30', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 13, 'created': '2021-07-22 06:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f27d1b85fbb818ade71a7052553857ed64a47ee9', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nCloses-Bug: #1934609\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 14, 'created': '2021-07-22 09:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ecb00ab93a9a8dc7f4de5f370b031e081890fb91', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nThis patch also adds the nova_event_callback role documentation in\nsphinx.\n\nCloses-Bug: #1934609\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 15, 'created': '2021-07-22 13:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/003b87332c91a151d971fb925681a0ed2b22abe3', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nThis patch also adds the nova_event_callback role documentation in\nsphinx.\n\nCloses-Bug: #1934609\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 16, 'created': '2021-07-28 12:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0263bd450b065e71dfce74874b392e374a6e857c', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nThis patch also adds the nova_event_callback role documentation in\nsphinx.\n\nCloses-Bug: #1934609\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}, {'number': 17, 'created': '2021-07-28 13:04:27.000000000', 'files': ['roles/nova_event_callback/tasks/main.yml', 'doc/source/roles/role-nova_event_callback.rst', 'roles/nova_event_callback/defaults/main.yml', 'roles/nova_event_callback/vars/main.yml', 'playbooks/nova-event-callback.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/23992a3576e1da633808939937639cc3bd465a31', 'message': ""Moving setting validation from nova_event_callback\n\nThe newly introduced role oslo_config_validator is probably a\nbetter framework to validate settings as it's centralized and\nwill most probably be called by sosreport for troubleshooting\npurpose. It only makes sense to move some setting validations\nto this new role when possible.\n\nThis patch also adds the nova_event_callback role documentation in\nsphinx.\n\nCloses-Bug: #1934609\n\nChange-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557\n""}]",5,794866,23992a3576e1da633808939937639cc3bd465a31,56,11,17,27419,,,0,"Moving setting validation from nova_event_callback

The newly introduced role oslo_config_validator is probably a
better framework to validate settings as it's centralized and
will most probably be called by sosreport for troubleshooting
purpose. It only makes sense to move some setting validations
to this new role when possible.

This patch also adds the nova_event_callback role documentation in
sphinx.

Closes-Bug: #1934609

Change-Id: Iac8126429773d3b63d17ad851d24e8c6f498f557
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/66/794866/15 && git format-patch -1 --stdout FETCH_HEAD,"['roles/nova_event_callback/tasks/main.yml', 'roles/nova_event_callback/defaults/main.yml', 'roles/nova_event_callback/vars/main.yml', 'playbooks/nova-event-callback.yaml']",4,a26a8e572e92b4dbef39c068db4c422a832463eb,automated_config_validation," description: > This validations verifies that the Nova auth_url in neutron, which is generally enabled by default, is configured correctly It checks the following files on the Overcloud Controller(s): - /etc/neutron/neutron.conf: [nova]/auth_url = 'http://nova_admin_auth_ip:5000'"," description: | This validations verifies that the Nova Event Callback feature is configured which is generally enabled by default. It checks the following files on the Overcloud Controller(s): - /etc/nova/nova.conf: [DEFAULT]/vif_plugging_is_fatal = True [DEFAULT]/vif_plugging_timeout >= 300 - /etc/neutron/neutron.conf: [nova]/auth_url = 'http://nova_admin_auth_ip:5000' [nova]/tenant_name = 'service' [DEFAULT]/notify_nova_on_port_data_changes = True [DEFAULT]/notify_nova_on_port_status_changes = True nova_config_file: /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf vif_plugging_fatal_check: ""vif_plugging_is_fatal"" vif_plugging_timeout_check: ""vif_plugging_timeout"" vif_plugging_timeout_value_min: 300 notify_nova_on_port_data_check: ""notify_nova_on_port_data_changes"" notify_nova_on_port_status_check: ""notify_nova_on_port_status_changes"" tenant_name_check: ""tenant_name""",8,99
openstack%2Ftripleo-quickstart-extras~master~I4ec8525c78c61a106f458ea0c52a1da719ed7da5,openstack/tripleo-quickstart-extras,master,I4ec8525c78c61a106f458ea0c52a1da719ed7da5,Add bool to image upload vars,MERGED,2021-07-28 18:11:07.000000000,2021-07-29 07:10:46.000000000,2021-07-29 07:10:46.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 18:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ed90b6be92994ef2987a44d740174b2bc9d2f73b', 'message': 'DNM: debug undercloud_enable_nova\n\nChange-Id: I4ec8525c78c61a106f458ea0c52a1da719ed7da5\n'}, {'number': 2, 'created': '2021-07-28 19:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/feb680373a73b419b13a71f64ecc5d47d4bacf54', 'message': 'Add bool to image upload vars\n\nThe setting of undercloud_enable_nova leverages > which turns the value\nfrom a boolean to a string. This does not get correctly evaluated when\nwe go to set the image upload variables so we are not correctly adding\n--local when necessary.\n\nChange-Id: I4ec8525c78c61a106f458ea0c52a1da719ed7da5\n'}, {'number': 3, 'created': '2021-07-28 19:25:01.000000000', 'files': ['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/90205eed8d6658bf88d4282c57840607b5787f4c', 'message': 'Add bool to image upload vars\n\nThe setting of undercloud_enable_nova leverages > which turns the value\nfrom a boolean to a string. This does not get correctly evaluated when\nwe go to set the image upload variables so we are not correctly adding\n--local when necessary.\n\nChange-Id: I4ec8525c78c61a106f458ea0c52a1da719ed7da5\n'}]",0,802767,90205eed8d6658bf88d4282c57840607b5787f4c,12,6,3,14985,,,0,"Add bool to image upload vars

The setting of undercloud_enable_nova leverages > which turns the value
from a boolean to a string. This does not get correctly evaluated when
we go to set the image upload variables so we are not correctly adding
--local when necessary.

Change-Id: I4ec8525c78c61a106f458ea0c52a1da719ed7da5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/67/802767/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'],1,ed90b6be92994ef2987a44d740174b2bc9d2f73b,stupid-vars,- name: DEBUG undercloud_enable_nova debug: var: undercloud_enable_nova ,,4,0
openstack%2Fpython-tripleoclient~master~Ie378a87aafda522020fc447ef6d438d40cb92dbf,openstack/python-tripleoclient,master,Ie378a87aafda522020fc447ef6d438d40cb92dbf,DNM,ABANDONED,2021-07-01 07:40:49.000000000,2021-07-29 06:46:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-01 07:40:49.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6982d70a655f038815102ffa63c6119fdb171921', 'message': 'DNM\n\nUsing wallaby template and py39 env.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie378a87aafda522020fc447ef6d438d40cb92dbf\n'}]",0,798998,6982d70a655f038815102ffa63c6119fdb171921,3,1,1,32926,,,0,"DNM

Using wallaby template and py39 env.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie378a87aafda522020fc447ef6d438d40cb92dbf
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/798998/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,6982d70a655f038815102ffa63c6119fdb171921,, - openstack-python3-wallaby-jobs - openstack-tox-py39, - openstack-python3-ussuri-jobs - openstack-tox-py37,2,2
openstack%2Fskyline-apiserver~master~I01c35318dd5d219dbb31e6a89bdc05d2a4db7804,openstack/skyline-apiserver,master,I01c35318dd5d219dbb31e6a89bdc05d2a4db7804,fix: 400 page appears when using http protocol to access,MERGED,2021-07-26 03:58:07.000000000,2021-07-29 05:29:19.000000000,2021-07-29 05:29:19.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}, {'_account_id': 30906}]","[{'number': 1, 'created': '2021-07-26 03:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/b1b79f581d33770d72cd2615127c214b1154bfb1', 'message': 'fix: 400 page appears when using http protocol to access\n\nWhen using http protocol to access, nginx will respond with 400 and\nreport ""400 The plain HTTP request was sent to HTTPS port"".\nThe reason is that http 497 error[1] appeared in nginx, so 497\nerror was redirected to https protocol.\n\n[1] https://github.com/nginx/nginx/blob/56f53316837271a8cbb1d99f638e28d268a00d45/src/http/ngx_http_special_response.c#L274\n\nChange-Id: I01c35318dd5d219dbb31e6a89bdc05d2a4db7804\n'}, {'number': 2, 'created': '2021-07-26 04:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/d656af941d0dc80b54ecf5c7179fe085ec7085c6', 'message': 'fix: 400 page appears when using http protocol to access\n\nWhen using http protocol to access, nginx will respond with 400 and\nreport ""400 The plain HTTP request was sent to HTTPS port"".\nThe reason is that http 497 error[1] appeared in nginx, so 497\nerror was redirected to https protocol.\n\n[1] https://github.com/nginx/nginx/blob/56f53316837271a8cbb1d99f638e28d268a00d45/src/http/ngx_http_special_response.c#L274\n\nChange-Id: I01c35318dd5d219dbb31e6a89bdc05d2a4db7804\n'}, {'number': 3, 'created': '2021-07-29 05:28:58.000000000', 'files': ['libs/skyline-nginx/skyline_nginx/templates/nginx.conf.j2'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/3176cfbc47f09a338db2a930db86b12cdd10586e', 'message': 'fix: 400 page appears when using http protocol to access\n\nWhen using http protocol to access, nginx will respond with 400 and\nreport ""400 The plain HTTP request was sent to HTTPS port"".\nThe reason is that http 497 error[1] appeared in nginx, so 497\nerror was redirected to https protocol.\n\n[1] https://github.com/nginx/nginx/blob/56f53316837271a8cbb1d99f638e28d268a00d45/src/http/ngx_http_special_response.c#L274\n\nChange-Id: I01c35318dd5d219dbb31e6a89bdc05d2a4db7804\n'}]",0,802228,3176cfbc47f09a338db2a930db86b12cdd10586e,13,5,3,27809,,,0,"fix: 400 page appears when using http protocol to access

When using http protocol to access, nginx will respond with 400 and
report ""400 The plain HTTP request was sent to HTTPS port"".
The reason is that http 497 error[1] appeared in nginx, so 497
error was redirected to https protocol.

[1] https://github.com/nginx/nginx/blob/56f53316837271a8cbb1d99f638e28d268a00d45/src/http/ngx_http_special_response.c#L274

Change-Id: I01c35318dd5d219dbb31e6a89bdc05d2a4db7804
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/28/802228/1 && git format-patch -1 --stdout FETCH_HEAD,['libs/skyline-nginx/skyline_nginx/templates/nginx.conf.j2'],1,b1b79f581d33770d72cd2615127c214b1154bfb1,, error_page 497 https://$http_host$request_uri; ,,2,0
openstack%2Fskyline-apiserver~master~I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77,openstack/skyline-apiserver,master,I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77,fix: Add timeout to keystone session,MERGED,2021-07-26 03:58:07.000000000,2021-07-29 05:27:56.000000000,2021-07-29 05:27:56.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30906}]","[{'number': 1, 'created': '2021-07-26 03:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/08a534a73e80ef793db0f0b444b36bc134a7fbc1', 'message': 'fix: Add timeout to keystone session\n\nWhen a network failure occurs, the openstack client will be blocked for\na long time. Set a timeout on the session to feedback network problem\nas soon as possible.\n\nChange-Id: I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77\n'}, {'number': 2, 'created': '2021-07-26 04:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/0c6ab7af2c64ae1c1070c54d3c7436f16f48195a', 'message': 'fix: Add timeout to keystone session\n\nWhen a network failure occurs, the openstack client will be blocked for\na long time. Set a timeout on the session to feedback network problem\nas soon as possible.\n\nChange-Id: I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77\n'}, {'number': 3, 'created': '2021-07-29 05:20:51.000000000', 'files': ['libs/skyline-apiserver/skyline_apiserver/api/v1/login.py', 'libs/skyline-apiserver/skyline_apiserver/types/constants.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/system.py', 'libs/skyline-apiserver/skyline_apiserver/client/utils.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/acf17c752bf9154c78b96ac6634610307e52f027', 'message': 'fix: Add timeout to keystone session\n\nWhen a network failure occurs, the openstack client will be blocked for\na long time. Set a timeout on the session to feedback network problem\nas soon as possible.\n\nChange-Id: I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77\n'}]",3,802227,acf17c752bf9154c78b96ac6634610307e52f027,14,4,3,27809,,,0,"fix: Add timeout to keystone session

When a network failure occurs, the openstack client will be blocked for
a long time. Set a timeout on the session to feedback network problem
as soon as possible.

Change-Id: I2eec95b18241b0bf2103ad3dfa1efd2774f2bd77
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/27/802227/1 && git format-patch -1 --stdout FETCH_HEAD,"['libs/skyline-apiserver/skyline_apiserver/api/v1/login.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/system.py', 'libs/skyline-apiserver/skyline_apiserver/client/utils.py']",3,08a534a73e80ef793db0f0b444b36bc134a7fbc1,add_timeout," session = Session(auth=auth, verify=False, timeout=30) SESSION = Session(auth=auth, verify=False, timeout=30)"," session = Session(auth=auth, verify=False) SESSION = Session(auth=auth, verify=False)",5,5
openstack%2Fskyline-apiserver~master~I4f6b0d5ba894214bb0fcff21443f9808f56d595e,openstack/skyline-apiserver,master,I4f6b0d5ba894214bb0fcff21443f9808f56d595e,chore: Add make clean to clean up project directory,MERGED,2021-07-26 03:58:07.000000000,2021-07-29 05:22:16.000000000,2021-07-29 05:13:36.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-07-26 03:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ecccf395e2e55d6e6031371938aaf055aee409d5', 'message': 'chore: Add make clean to clean up project directory\n\n1. Add make clean\n2. Specify configuration file used by mypy\n\nChange-Id: I4f6b0d5ba894214bb0fcff21443f9808f56d595e\n'}, {'number': 2, 'created': '2021-07-26 04:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/d7d44e83ebb03fc87530cc5e1243c48ce4123bc6', 'message': 'chore: Add make clean to clean up project directory\n\n1. Add make clean\n2. Specify configuration file used by mypy\n3. Add some directories to dockerignore\n\nChange-Id: I4f6b0d5ba894214bb0fcff21443f9808f56d595e\n'}, {'number': 3, 'created': '2021-07-26 14:36:02.000000000', 'files': ['.dockerignore', 'Makefile', 'libs/skyline-policy-manager/Makefile', 'libs/skyline-apiserver/Makefile', 'libs/skyline-log/Makefile', 'libs/skyline-apiserver/alembic.ini', 'libs/skyline-config/Makefile', 'mypy.ini', 'libs/skyline-nginx/Makefile'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/8d8c8bd89f8e8446c0246176a176c5d344417b36', 'message': 'chore: Add make clean to clean up project directory\n\n1. Add make clean\n2. Specify configuration file used by mypy\n3. Add some directories to dockerignore\n\nChange-Id: I4f6b0d5ba894214bb0fcff21443f9808f56d595e\n'}]",4,802226,8d8c8bd89f8e8446c0246176a176c5d344417b36,15,3,3,27809,,,0,"chore: Add make clean to clean up project directory

1. Add make clean
2. Specify configuration file used by mypy
3. Add some directories to dockerignore

Change-Id: I4f6b0d5ba894214bb0fcff21443f9808f56d595e
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/26/802226/1 && git format-patch -1 --stdout FETCH_HEAD,"['.dockerignore', 'Makefile', 'libs/skyline-policy-manager/Makefile', 'libs/skyline-apiserver/Makefile', 'libs/skyline-log/Makefile', 'libs/skyline-apiserver/alembic.ini', 'libs/skyline-config/Makefile', 'mypy.ini', 'libs/skyline-nginx/Makefile', 'container/Dockerfile']",10,ecccf395e2e55d6e6031371938aaf055aee409d5,, && chmod 777 /tmp/ \,,55,15
openstack%2Ftripleo-heat-templates~master~I97ab65eb5b5fa478d323be6f9f981a1e2a875f86,openstack/tripleo-heat-templates,master,I97ab65eb5b5fa478d323be6f9f981a1e2a875f86,Fix condition for pacemaker resource_op_defaults,MERGED,2021-07-28 12:49:39.000000000,2021-07-29 05:15:45.000000000,2021-07-29 02:16:11.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 12:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/566405fe894e697f32bdb4f4d5aed2b4647fbd2d', 'message': 'Fix condition for pacemaker resource_op_defaults\n\nAfter [1] pacemaker resource_op_defaults timeout\nwas not set correctly, it should be set to 120s when\nPacemakerBundleOperationTimeout is not set.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/791416\n\nCloses-Bug: #1938283\nChange-Id: I97ab65eb5b5fa478d323be6f9f981a1e2a875f86\n'}, {'number': 2, 'created': '2021-07-28 14:31:29.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74ae036024b83f198c24a863dce51c948f2364eb', 'message': ""Fix condition for pacemaker resource_op_defaults\n\nAfter [1] pacemaker resource_op_defaults timeout\nwas not set correctly, update default value for\nPacemakerBundleOperationTimeout to '120s' and\nremove unnecessary conditions for timeout set\nand podman enabled as currently only podman\nis supported as container_cli.\n\nAlso update regex to not allow empty value for\nPacemakerBundleOperationTimeout.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/791416\n\nCloses-Bug: #1938283\nChange-Id: I97ab65eb5b5fa478d323be6f9f981a1e2a875f86\n""}]",7,802696,74ae036024b83f198c24a863dce51c948f2364eb,16,9,2,13861,,,0,"Fix condition for pacemaker resource_op_defaults

After [1] pacemaker resource_op_defaults timeout
was not set correctly, update default value for
PacemakerBundleOperationTimeout to '120s' and
remove unnecessary conditions for timeout set
and podman enabled as currently only podman
is supported as container_cli.

Also update regex to not allow empty value for
PacemakerBundleOperationTimeout.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/791416

Closes-Bug: #1938283
Change-Id: I97ab65eb5b5fa478d323be6f9f981a1e2a875f86
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/802696/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,566405fe894e697f32bdb4f4d5aed2b4647fbd2d,, - podman_enabled, - and: - pcmk_bundle_op_timeout_set - podman_enabled,1,3
openstack%2Fskyline-apiserver~master~I4ff1c179791b782311be4d8c391565bfcaf16bf9,openstack/skyline-apiserver,master,I4ff1c179791b782311be4d8c391565bfcaf16bf9,docs: Add quick start docs,MERGED,2021-07-26 15:03:58.000000000,2021-07-29 05:15:20.000000000,2021-07-29 05:15:20.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-07-26 15:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/f5deddc7c0071c7927d3cfb8a11ebda405bc9b3c', 'message': 'docs: Add quick start docs\n\n1. Add a quick start, the document explains how to use the container to\nquickly deploy the skyline service.\n\n2. Modify the format of the original `Development skyline-apiserver`\nsection.\n\nChange-Id: I4ff1c179791b782311be4d8c391565bfcaf16bf9\n'}, {'number': 2, 'created': '2021-07-27 05:09:22.000000000', 'files': ['README-zh_CN.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/8e54a0cc8265921e7dbdbb432440dae2f4843bfe', 'message': 'docs: Add quick start docs\n\n1. Add a quick start, the document explains how to use the container to\nquickly deploy the skyline service.\n\n2. Modify the format of the original `Development skyline-apiserver`\nsection.\n\nChange-Id: I4ff1c179791b782311be4d8c391565bfcaf16bf9\n'}]",4,802322,8e54a0cc8265921e7dbdbb432440dae2f4843bfe,11,3,2,27809,,,0,"docs: Add quick start docs

1. Add a quick start, the document explains how to use the container to
quickly deploy the skyline service.

2. Modify the format of the original `Development skyline-apiserver`
section.

Change-Id: I4ff1c179791b782311be4d8c391565bfcaf16bf9
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/22/802322/1 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'README.md']",2,f5deddc7c0071c7927d3cfb8a11ebda405bc9b3c,docs,"Skyline is an OpenStack dashboard optimized by UI and UE. It has a modern technology stack and ecology, is easier for developers to maintain and operate by users, and has higher concurrency performance. **Table of contents** - [Resources](#resources) - [Quick Start](#quick-start) - [Develop Skyline-apiserver](#develop-skyline-apiserver) ## Resources - [Wiki](https://wiki.openstack.org/wiki/Skyline) - [Bug Tracker](https://launchpad.net/skyline-apiserver) ### Prerequisites - An OpenStack environment that runs at least core components and can access OpenStack components through Keystone endpoints - A Linux server with container engine ([docker](https://docs.docker.com/engine/install/) 或 [podman](https://podman.io/getting-started/installation)) installed ### Configure and deployment #### 1. Connect to database of the OpenStack environment and create the `skyline` database ```bash $ mysql -u root -p MariaDB [(none)]> CREATE DATABASE IF NOT EXISTS skyline DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; Query OK, 1 row affected (0.001 sec) ``` #### 2. Grant proper access to the databases Replace `SKYLINE_DBPASS` with a suitable password. ```bash MariaDB [(none)]> GRANT ALL PRIVILEGES ON skyline.* TO 'skyline'@'localhost' IDENTIFIED BY 'SKYLINE_DBPASS'; Query OK, 0 rows affected (0.001 sec) MariaDB [(none)]> GRANT ALL PRIVILEGES ON skyline.* TO 'skyline'@'%' IDENTIFIED BY 'SKYLINE_DBPASS'; Query OK, 0 rows affected (0.001 sec) ``` #### 3. Create skyline service credentials ```bash # Source the admin credentials $ source admin-openrc # Create the skyline user $ openstack user create --domain default --password-prompt skyline User Password: Repeat User Password: +---------------------+----------------------------------+ | Field | Value | +---------------------+----------------------------------+ | domain_id | default | | enabled | True | | id | 1qaz2wsx3edc4rfv5tgb6yhn7ujm8ikl | | name | skyline | | options | {} | | password_expires_at | 2020-08-08T08:08:08.123456 | +---------------------+----------------------------------+ # Add the admin role to the skyline user: $ openstack role add --project service --user skyline admin ``` #### 4. Edit the `/etc/skyline/skyline.yaml` file in linux server You can refer to the [sample file](etc/skyline.yaml.sample), and modify the following parameters according to the actual environment - database_url - keystone_url - default_region - interface_type - system_project_domain - system_project - system_user_domain - system_user_name - system_user_password #### 5. Run the skyline_bootstrap container to bootstrap ```bash docker run -d --name skyline_bootstrap -e KOLLA_BOOTSTRAP="""" -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host skyline:latest # Check bootstrap is normal `exit 0` docker logs skyline_bootstrap ``` #### 5. Run the skyline service after bootstrap is complete ```bash docker rm -f skyline_bootstrap docker run -d --name skyline --restart=always -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host skyline:latest ``` #### 6. finish installation You can now access the dashboard: `https://<ip_address>:8080` ## Develop Skyline-apiserver **Support Linux & Mac OS (Recommend Linux OS) (Because uvloop & cython)** ### Install & Run #### 1. Installing dependency packages ```bash make install ``` #### 2. Set skyline.yaml config file ```bash cp etc/skyline.yaml.sample etc/skyline.yaml export OS_CONFIG_DIR=$(pwd)/etc ``` Maybe you should change the params with your real environment as followed: ```yaml - database_url (you can set sqlite:////tmp/skyline.db to use sqlite) - keystone_url - default_region - interface_type - system_project_domain - system_project - system_user_domain - system_user_name - system_user_password ``` #### 3. Init skyline database ```bash pushd /skyline/libs/skyline-apiserver/ make db_sync popd ``` #### 4. Run skyline-apiserver ```bash $ poetry run uvicorn --reload --reload-dir libs/skyline-apiserver/skyline_apiserver --port 28000 --log-level debug skyline_apiserver.main:app INFO: Uvicorn running on http://127.0.0.1:28000 (Press CTRL+C to quit) INFO: Started reloader process [154033] using statreload INFO: Started server process [154037] INFO: Waiting for application startup. INFO: Application startup complete. ```",### Development mode **Support Linux & Mac OS (Recommend Linux OS) (Because uvloop & cython)** - Installing dependency packages ```bash make install ``` - Set skyline.yaml config file Maybe you should change the params with your real environment as followed: ```yaml - database_url (you can set sqlite:////tmp/skyline.db to use sqlite) - default_region - keystone_url - system_project - system_project_domain - system_user_domain - system_user_name - system_user_password ``` ```bash cp etc/skyline.yaml.sample etc/skyline.yaml export OS_CONFIG_DIR=$(pwd)/etc ``` - Init skyline database ```bash make db_sync ``` - Run server ```console $ poetry run uvicorn --reload --reload-dir libs/skyline-apiserver/skyline_apiserver --port 28000 --log-level debug skyline_apiserver.main:app INFO: Uvicorn running on http://127.0.0.1:28000 (Press CTRL+C to quit) INFO: Started reloader process [154033] using statreload INFO: Started server process [154037] INFO: Waiting for application startup. INFO: Application startup complete. ```,283,73
openstack%2Fskyline-apiserver~master~I5eaad038b3ed3c3189f2b41e41c14d28a346ee88,openstack/skyline-apiserver,master,I5eaad038b3ed3c3189f2b41e41c14d28a346ee88,feat: Add bootstrap support for skyline image,MERGED,2021-07-26 15:02:47.000000000,2021-07-29 05:14:16.000000000,2021-07-29 05:14:16.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-07-26 15:02:47.000000000', 'files': ['container/start_service.sh'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/a0701711be685758f13422c8b0153f3fadbc10ec', 'message': 'feat: Add bootstrap support for skyline image\n\nWhen docker run, specify the KOLLA_BOOSTRAP environment variable, the\nskyline image will initialize the database, and if it is not specified,\nthe skyline service will be run in the normal way.\nThis provides the basis for subsequent docking with kolla-ansible.\n\nChange-Id: I5eaad038b3ed3c3189f2b41e41c14d28a346ee88\n'}]",0,802320,a0701711be685758f13422c8b0153f3fadbc10ec,7,3,1,27809,,,0,"feat: Add bootstrap support for skyline image

When docker run, specify the KOLLA_BOOSTRAP environment variable, the
skyline image will initialize the database, and if it is not specified,
the skyline service will be run in the normal way.
This provides the basis for subsequent docking with kolla-ansible.

Change-Id: I5eaad038b3ed3c3189f2b41e41c14d28a346ee88
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/20/802320/1 && git format-patch -1 --stdout FETCH_HEAD,['container/start_service.sh'],1,a0701711be685758f13422c8b0153f3fadbc10ec,add_bootstrap,"if [[ ""${!KOLLA_BOOTSTRAP[*]}"" ]]; then cd /skyline/libs/skyline-apiserver/ make db_sync exit 0 fi ",,6,0
openstack%2Fdevstack~master~I42387660480377cdf9a0b04f190e7e1f21fb354f,openstack/devstack,master,I42387660480377cdf9a0b04f190e7e1f21fb354f,Fix opening shell as user 'stack',MERGED,2021-07-28 14:57:52.000000000,2021-07-29 04:58:59.000000000,2021-07-29 04:57:47.000000000,"[{'_account_id': 7118}, {'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 14:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/182e42e0b8c198e424cdb67f46c22b000dce1b34', 'message': ""Fix opening shell as user 'stack'\n\nThe usage of sudo with su is not recommended. It results in incosnistent\nenvironment variables. Instead use just sudo with appropriate arguments.\nThe argument '-u stack' specifies that the sudo will execute as user 'stack'.\nThe last argument '-i' will launch an interactive shell.\n\nChange-Id: I42387660480377cdf9a0b04f190e7e1f21fb354f\n""}, {'number': 2, 'created': '2021-07-28 15:04:28.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/524487728e85388c73ececae3f2eb272321cffc7', 'message': ""Fix opening shell as user 'stack'\n\nThe usage of sudo with su is not recommended. It results in incosnistent\nenvironment variables. Instead use just sudo with appropriate arguments.\nThe argument '-u stack' specifies that the sudo will execute as user 'stack'.\nThe last argument '-i' will launch an interactive shell.\n\nCloses-Bug: #1938148\n\nChange-Id: I42387660480377cdf9a0b04f190e7e1f21fb354f\n""}]",0,802738,524487728e85388c73ececae3f2eb272321cffc7,11,4,2,33774,,,0,"Fix opening shell as user 'stack'

The usage of sudo with su is not recommended. It results in incosnistent
environment variables. Instead use just sudo with appropriate arguments.
The argument '-u stack' specifies that the sudo will execute as user 'stack'.
The last argument '-i' will launch an interactive shell.

Closes-Bug: #1938148

Change-Id: I42387660480377cdf9a0b04f190e7e1f21fb354f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/802738/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,182e42e0b8c198e424cdb67f46c22b000dce1b34,, $ sudo -u stack -i, $ sudo su - stack,1,1
openstack%2Frequirements~stable%2Fussuri~I9ad5ceb7db5346ea37120313ef97afc89fcf5f65,openstack/requirements,stable/ussuri,I9ad5ceb7db5346ea37120313ef97afc89fcf5f65,update constraint for os-net-config to new release 12.3.5,MERGED,2021-07-28 16:02:57.000000000,2021-07-29 03:56:27.000000000,2021-07-29 03:56:27.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 16:02:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0b08d4322c2f63babae219b9d10bf21386974cff', 'message': 'update constraint for os-net-config to new release 12.3.5\n\nmeta: version: 12.3.5\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I9ad5ceb7db5346ea37120313ef97afc89fcf5f65\n'}]",0,802748,0b08d4322c2f63babae219b9d10bf21386974cff,7,3,1,11131,,,0,"update constraint for os-net-config to new release 12.3.5

meta: version: 12.3.5
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I9ad5ceb7db5346ea37120313ef97afc89fcf5f65
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/802748/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0b08d4322c2f63babae219b9d10bf21386974cff,new-release,os-net-config===12.3.5,os-net-config===12.3.4,1,1
openstack%2Frequirements~stable%2Fussuri~I21566c8cd587deaef929c684c2b16d7ec8511cd0,openstack/requirements,stable/ussuri,I21566c8cd587deaef929c684c2b16d7ec8511cd0,update constraint for tripleo-common to new release 12.4.6,MERGED,2021-07-28 15:57:25.000000000,2021-07-29 03:56:25.000000000,2021-07-29 03:56:25.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 15:57:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/033c5da7768203a55a61451ebf2c9a1f6f8e555c', 'message': 'update constraint for tripleo-common to new release 12.4.6\n\nmeta: version: 12.4.6\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I21566c8cd587deaef929c684c2b16d7ec8511cd0\n'}]",0,802746,033c5da7768203a55a61451ebf2c9a1f6f8e555c,7,3,1,11131,,,0,"update constraint for tripleo-common to new release 12.4.6

meta: version: 12.4.6
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I21566c8cd587deaef929c684c2b16d7ec8511cd0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/802746/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,033c5da7768203a55a61451ebf2c9a1f6f8e555c,new-release,tripleo-common===12.4.6,tripleo-common===12.4.5,1,1
openstack%2Fopenstack-helm~master~Ide3af5c47c6b45c013b4dee08076d11bcfe87c53,openstack/openstack-helm,master,Ide3af5c47c6b45c013b4dee08076d11bcfe87c53,Remove member bootstrap logic,MERGED,2021-07-16 01:57:47.000000000,2021-07-29 03:51:19.000000000,2021-07-29 03:48:35.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-07-16 01:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a529497beff318ae2af48877d939f0aa7f99d63f', 'message': 'Remove member bootstrap logic\n\nAs of Rocky, keystone creates the member role by default. Since\nour removal of pre-Train support, the logic we have in the\nbootstrap script is no longer needed.\n\nThis change removes the member user and role logic.\n\nChange-Id: Ide3af5c47c6b45c013b4dee08076d11bcfe87c53\n'}, {'number': 2, 'created': '2021-07-19 03:11:25.000000000', 'files': ['releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87b39c553db0340f55892255d84ee752d6b4cf19', 'message': 'Remove member bootstrap logic\n\nAs of Rocky, keystone creates the member role by default. Since\nour removal of pre-Train support, the logic we have in the\nbootstrap script is no longer needed.\n\nThis change removes the member user and role logic.\n\nChange-Id: Ide3af5c47c6b45c013b4dee08076d11bcfe87c53\n'}]",0,801015,87b39c553db0340f55892255d84ee752d6b4cf19,13,5,2,21420,,,0,"Remove member bootstrap logic

As of Rocky, keystone creates the member role by default. Since
our removal of pre-Train support, the logic we have in the
bootstrap script is no longer needed.

This change removes the member user and role logic.

Change-Id: Ide3af5c47c6b45c013b4dee08076d11bcfe87c53
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/801015/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml']",3,a529497beff318ae2af48877d939f0aa7f99d63f,keystone-member,version: 0.2.8,version: 0.2.7,2,9
openstack%2Fopenstack-helm~master~Idfcc0479d152286ecd144502d80732094c9e43ea,openstack/openstack-helm,master,Idfcc0479d152286ecd144502d80732094c9e43ea,Added post-install and post-upgrade hook for jobs.,MERGED,2021-03-23 11:16:18.000000000,2021-07-29 03:50:17.000000000,2021-07-29 03:48:34.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 11:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7474e2df637dd37ee4949dfd7f697babcfd2c4ba', 'message': 'Added post-install and post-upgrade hook for jobs.\n\nChart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we\nhave added the helm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: Idfcc0479d152286ecd144502d80732094c9e43ea\n'}, {'number': 2, 'created': '2021-07-20 11:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2447b684bd1a17715cbf0b03960697c7bb860257', 'message': 'Added post-install and post-upgrade hook for jobs.\n\nChart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we\nhave added the helm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\nhelm3_hook values is added so that hook can be disabled from the values files.\n\nChange-Id: Idfcc0479d152286ecd144502d80732094c9e43ea\n'}, {'number': 3, 'created': '2021-07-20 12:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f172bc906025c3d396ef18879a6e06011603c59', 'message': 'Added post-install and post-upgrade hook for jobs.\n\nChart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we\nhave added the helm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\nhelm3_hook values is added so that hook can be disabled from the values files.\n\nChange-Id: Idfcc0479d152286ecd144502d80732094c9e43ea\n'}, {'number': 4, 'created': '2021-07-20 12:14:03.000000000', 'files': ['cinder/templates/job-create-internal-tenant.yaml', 'cinder/templates/job-db-sync.yaml', 'cinder/templates/job-ks-user.yaml', 'cinder/templates/job-ks-service.yaml', 'cinder/values.yaml', 'cinder/Chart.yaml', 'cinder/templates/job-ks-endpoints.yaml', 'cinder/templates/job-rabbit-init.yaml', 'releasenotes/notes/cinder.yaml', 'cinder/templates/job-db-init.yaml', 'cinder/templates/job-image-repo-sync.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3c9cf1539be9c6b287cdd06b12d45e281dac899f', 'message': 'Added post-install and post-upgrade hook for jobs.\n\nChart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we\nhave added the helm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\nhelm3_hook values is added so that hook can be disabled from the values files.\n\nChange-Id: Idfcc0479d152286ecd144502d80732094c9e43ea\n'}]",0,782409,3c9cf1539be9c6b287cdd06b12d45e281dac899f,13,4,4,33130,,,0,"Added post-install and post-upgrade hook for jobs.

Chart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we
have added the helm.sh/hook annotations with post-install and post-upgrade values.
As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,
db-init jobs need to run before db-sync and so on.
helm3_hook values is added so that hook can be disabled from the values files.

Change-Id: Idfcc0479d152286ecd144502d80732094c9e43ea
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/09/782409/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/job-create-internal-tenant.yaml', 'cinder/templates/job-db-sync.yaml', 'cinder/templates/job-ks-user.yaml', 'cinder/templates/job-ks-service.yaml', 'cinder/Chart.yaml', 'cinder/templates/job-ks-endpoints.yaml', 'cinder/templates/job-rabbit-init.yaml', 'releasenotes/notes/cinder.yaml', 'cinder/templates/job-db-init.yaml', 'cinder/templates/job-image-repo-sync.yaml']",10,7474e2df637dd37ee4949dfd7f697babcfd2c4ba,cinder_annotations,"{{- define ""metadata.annotations.job.repo_sync"" }} helm.sh/hook: post-install,post-upgrade {{- end }} {{- $imageRepoSyncJob := dict ""envAll"" . ""serviceName"" ""cinder"" ""jobAnnotations"" (include ""metadata.annotations.job.repo_sync"" . | fromYaml) -}}","{{- $imageRepoSyncJob := dict ""envAll"" . ""serviceName"" ""cinder"" -}}",48,8
openstack%2Ftripleo-ansible~stable%2Fwallaby~If80f48c39ea9fcb09a75711932ddb3958a4e8b16,openstack/tripleo-ansible,stable/wallaby,If80f48c39ea9fcb09a75711932ddb3958a4e8b16,Fix tripleo_backup_and_restore_rear_simulate boolean check,MERGED,2021-07-26 15:31:53.000000000,2021-07-29 03:47:31.000000000,2021-07-29 03:47:31.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-26 15:31:53.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/312eb0ed747c6f0821b58382c41756eaadf9c780', 'message': 'Fix tripleo_backup_and_restore_rear_simulate boolean check\n\nIf |bool is not added to the check,\n""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is\nconsidered to be True.\n\nCloses-Bug: #1934777\n\nChange-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16\n(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)\n'}]",0,802340,312eb0ed747c6f0821b58382c41756eaadf9c780,13,6,1,32968,,,0,"Fix tripleo_backup_and_restore_rear_simulate boolean check

If |bool is not added to the check,
""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is
considered to be True.

Closes-Bug: #1934777

Change-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16
(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/802340/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,312eb0ed747c6f0821b58382c41756eaadf9c780,change-799649-2-stable/wallaby," command: rear {{ (tripleo_backup_and_restore_rear_simulate | bool) | ternary('-s ', '') }}-d -v mkbackup", command: rear {{ '-s ' if tripleo_backup_and_restore_rear_simulate else '' }}-d -v mkbackup,1,1
openstack%2Ftripleo-heat-templates~master~I53487f629e79999596087302141401ef12966bcc,openstack/tripleo-heat-templates,master,I53487f629e79999596087302141401ef12966bcc,Remove usage of deprecated GnocchiArchivePolicy,MERGED,2021-07-06 02:04:36.000000000,2021-07-29 03:47:29.000000000,2021-07-29 03:47:29.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-06 02:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43f48a66feca3949272ae9e6f37dfc33c4a62929', 'message': 'Remove usage of deprecated GnocchiArchivePolicy\n\nThe GnocchiArchivePolicy parameter was deprecated by [1], and has had\nno effect since then.\n\n[1] a57f34f321ec31c66efe32ba96d89dd93e3a3f70\n\nChange-Id: I53487f629e79999596087302141401ef12966bcc\n'}, {'number': 2, 'created': '2021-07-25 23:28:12.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'environments/enable-legacy-telemetry.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/119812b9122ae18f800242de7dec6cdd7eeaad1f', 'message': 'Remove usage of deprecated GnocchiArchivePolicy\n\nThe GnocchiArchivePolicy parameter was deprecated by [1], and has had\nno effect since then.\n\n[1] a57f34f321ec31c66efe32ba96d89dd93e3a3f70\n\nChange-Id: I53487f629e79999596087302141401ef12966bcc\n'}]",0,799550,119812b9122ae18f800242de7dec6cdd7eeaad1f,11,4,2,9816,,,0,"Remove usage of deprecated GnocchiArchivePolicy

The GnocchiArchivePolicy parameter was deprecated by [1], and has had
no effect since then.

[1] a57f34f321ec31c66efe32ba96d89dd93e3a3f70

Change-Id: I53487f629e79999596087302141401ef12966bcc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/799550/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'environments/enable-legacy-telemetry.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'ci/environments/scenario001-standalone.yaml']",5,43f48a66feca3949272ae9e6f37dfc33c4a62929,,, GnocchiArchivePolicy: 'ceilometer-high-rate',1,6
openstack%2Fdevstack~stable%2Fwallaby~If952b54bdecf82be811b57f4a17a0c59db54a62a,openstack/devstack,stable/wallaby,If952b54bdecf82be811b57f4a17a0c59db54a62a,[CI] [stable-only] Drop testing on Fedora,MERGED,2021-07-27 16:23:42.000000000,2021-07-29 03:10:27.000000000,2021-07-29 03:07:38.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 16:23:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c1928d8fb89c451e98e7da1cc7f884c44d282dfd', 'message': '[CI] [stable-only] Drop testing on Fedora\n\nThe QA/DevStack team does not support testing on Fedora on stable\nbranches. The fedora-latest nodeset is meant to be used on\nmaster branch only.\nThis change removes it on this stable branch to allow the nodeset\nto progress with Fedora version on master.\nIn addition, the two Fedora jobs are removed to allow for nodeset\nremoval.\n\nChange-Id: If952b54bdecf82be811b57f4a17a0c59db54a62a\n'}]",0,802553,c1928d8fb89c451e98e7da1cc7f884c44d282dfd,14,5,1,30491,,,0,"[CI] [stable-only] Drop testing on Fedora

The QA/DevStack team does not support testing on Fedora on stable
branches. The fedora-latest nodeset is meant to be used on
master branch only.
This change removes it on this stable branch to allow the nodeset
to progress with Fedora version on master.
In addition, the two Fedora jobs are removed to allow for nodeset
removal.

Change-Id: If952b54bdecf82be811b57f4a17a0c59db54a62a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/53/802553/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c1928d8fb89c451e98e7da1cc7f884c44d282dfd,drop-fedora-on-stable,, name: devstack-single-node-fedora-latest nodes: - name: controller label: fedora-32 groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-fedora-latest parent: tempest-full-py3 description: Fedora latest platform test nodeset: devstack-single-node-fedora-latest voting: false - job: name: devstack-platform-fedora-latest-virt-preview parent: tempest-full-py3 description: Fedora latest platform test using the virt-preview repo. nodeset: devstack-single-node-fedora-latest voting: false vars: devstack_localrc: ENABLE_FEDORA_VIRT_PREVIEW_REPO: true - job: - devstack-platform-fedora-latest - devstack-platform-fedora-latest-virt-preview,0,29
openstack%2Fmurano~master~I169bc071966ad358e25d76718b37f66d900832d8,openstack/murano,master,I169bc071966ad358e25d76718b37f66d900832d8,docs: Update Freenode to OFTC,ABANDONED,2021-06-08 14:10:12.000000000,2021-07-29 02:57:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-08 14:10:12.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/7cdfea2fe6ef60e04d45d29c959e40ed180d85fc', 'message': 'docs: Update Freenode to OFTC\n\nsee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\nChange-Id: I169bc071966ad358e25d76718b37f66d900832d8\n'}]",0,795344,7cdfea2fe6ef60e04d45d29c959e40ed180d85fc,4,2,1,26285,,,0,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: I169bc071966ad358e25d76718b37f66d900832d8
",git fetch https://review.opendev.org/openstack/murano refs/changes/44/795344/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,7cdfea2fe6ef60e04d45d29c959e40ed180d85fc,, * #murano at OFTC, * #murano at FreeNode,1,1
openstack%2Fvalidations-common~master~I4d3df0f2d5b8247c1fdebacb690bac7c8fc6cf74,openstack/validations-common,master,I4d3df0f2d5b8247c1fdebacb690bac7c8fc6cf74,reqcheck job is now voting,MERGED,2021-07-07 10:49:46.000000000,2021-07-29 02:16:13.000000000,2021-07-29 02:16:13.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 10:49:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f12c025dd1cc52a66496fd9cabb2107d0e614260', 'message': 'reqcheck job is now voting\n\nAfter several weeks being a nonvoting job, the reqcheck is moving to voting status.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4d3df0f2d5b8247c1fdebacb690bac7c8fc6cf74\n'}]",0,799789,f12c025dd1cc52a66496fd9cabb2107d0e614260,7,3,1,32926,,,0,"reqcheck job is now voting

After several weeks being a nonvoting job, the reqcheck is moving to voting status.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4d3df0f2d5b8247c1fdebacb690bac7c8fc6cf74
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/89/799789/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f12c025dd1cc52a66496fd9cabb2107d0e614260,reqcheck/voting, voting: true, voting: false,1,1
openstack%2Fkolla-ansible~master~Ic5297c27d0e37001095800eb10819f84e38cd4c0,openstack/kolla-ansible,master,Ic5297c27d0e37001095800eb10819f84e38cd4c0,Add default support for octavia physical network,ABANDONED,2020-12-02 05:54:35.000000000,2021-07-29 02:04:10.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-02 05:54:35.000000000', 'files': ['ansible/roles/neutron/templates/ml2_conf.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55e4b772c373ff7f60a8a8e689a5648ff1aede17', 'message': 'Add default support for octavia physical network\n\noctavia deploy failed to create vlan/flat network,\nand the neutron configuration file lacks the default\nconfiguration for OVS mapping\n\nChange-Id: Ic5297c27d0e37001095800eb10819f84e38cd4c0\n'}]",0,765057,55e4b772c373ff7f60a8a8e689a5648ff1aede17,6,2,1,31506,,,0,"Add default support for octavia physical network

octavia deploy failed to create vlan/flat network,
and the neutron configuration file lacks the default
configuration for OVS mapping

Change-Id: Ic5297c27d0e37001095800eb10819f84e38cd4c0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/765057/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/ml2_conf.ini.j2'],1,55e4b772c373ff7f60a8a8e689a5648ff1aede17,,{% if enable_ironic | bool or enable_octavia | bool %}{% if enable_ironic | bool or enable_octavia | bool %},{% if enable_ironic | bool %}{% if enable_ironic | bool %},2,2
openstack%2Fkolla-ansible~master~Ie183adbee3a05802c72d4b4a9a2bb4573b54205f,openstack/kolla-ansible,master,Ie183adbee3a05802c72d4b4a9a2bb4573b54205f,Fix swift endpoint,ABANDONED,2020-12-15 07:31:41.000000000,2021-07-29 02:00:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-15 07:31:41.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20c9f60ec7b22f1d0efc2d2c4141a7e50cb5701f', 'message': 'Fix swift endpoint\n\nThe original swift endpoint is no longer supported\n\nChange-Id: Ie183adbee3a05802c72d4b4a9a2bb4573b54205f\n'}]",0,767085,20c9f60ec7b22f1d0efc2d2c4141a7e50cb5701f,6,2,1,31506,,,0,"Fix swift endpoint

The original swift endpoint is no longer supported

Change-Id: Ie183adbee3a05802c72d4b4a9a2bb4573b54205f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/767085/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,20c9f60ec7b22f1d0efc2d2c4141a7e50cb5701f,,"swift_admin_endpoint: ""{{ admin_protocol }}://{{ swift_internal_fqdn | put_address_in_context('url') }}:{{ swift_proxy_server_port }}/swift/v1/AUTH_%(tenant_id)s"" swift_internal_endpoint: ""{{ swift_internal_base_endpoint }}/swift/v1/AUTH_%(tenant_id)s"" swift_public_endpoint: ""{{ public_protocol }}://{{ swift_external_fqdn | put_address_in_context('url') }}:{{ swift_proxy_server_port }}/swift/v1/AUTH_%(tenant_id)s""","swift_admin_endpoint: ""{{ admin_protocol }}://{{ swift_internal_fqdn | put_address_in_context('url') }}:{{ swift_proxy_server_port }}/v1"" swift_internal_endpoint: ""{{ swift_internal_base_endpoint }}/v1/AUTH_%(tenant_id)s"" swift_public_endpoint: ""{{ public_protocol }}://{{ swift_external_fqdn | put_address_in_context('url') }}:{{ swift_proxy_server_port }}/v1/AUTH_%(tenant_id)s""",3,3
openstack%2Fpython-swiftclient~master~I244d98bb3fc7cb75624b598f4d26f784159f5428,openstack/python-swiftclient,master,I244d98bb3fc7cb75624b598f4d26f784159f5428,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 08:15:58.000000000,2021-07-29 01:57:04.000000000,2021-07-29 01:55:40.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 08:15:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/b846071d2fbc22e0fc2f471d8f2e0bc8c912ff1f', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I244d98bb3fc7cb75624b598f4d26f784159f5428\n""}]",1,799602,b846071d2fbc22e0fc2f471d8f2e0bc8c912ff1f,10,3,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I244d98bb3fc7cb75624b598f4d26f784159f5428
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/02/799602/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b846071d2fbc22e0fc2f471d8f2e0bc8c912ff1f,update-min-tox,minversion = 3.18.0allowlist_externals = shallowlist_externals =allowlist_externals = {[testenv:func]allowlist_externals}allowlist_externals =,minversion = 2.0whitelist_externals = shwhitelist_externals =whitelist_externals = {[testenv:func]whitelist_externals}whitelist_externals =,5,5
openstack%2Fcinder~master~I2093d77db9beec7543c7524d2cd273e79dd5fd5d,openstack/cinder,master,I2093d77db9beec7543c7524d2cd273e79dd5fd5d,Remove Block Storage API v2,MERGED,2021-05-19 22:29:37.000000000,2021-07-29 01:00:27.000000000,2021-07-22 05:18:14.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-05-19 22:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4f60ab2751f850f5ac89086084ab4abeac7acdb', 'message': 'Remove Block Storage API v2\n\nIn this patch:\n- adjusted VersionsController to return only v3\n- removed cinder.api.v2.router\n- adjustments to cinder.tests.unit.api.contrib to use /v3 only\n- moved cinder.api.v2.snapshot_metadata (and tests) to cinder.api.v3\n- moved cinder.api.v2.types (and view, tests) to cinder.api.v3\n- updated versions response in api-ref\n- removed unnecessary config option\n- updated various sample config files\n\nSome cinder.api.v2 modules are left because the v3 classes depend on\nthem, but with the v2 router removed, these are unreachable via the\n/v2 path.\n\nChange-Id: I2093d77db9beec7543c7524d2cd273e79dd5fd5d\n'}, {'number': 2, 'created': '2021-05-20 13:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f034c10d45186955897fc00bab738119928aa07', 'message': 'Remove Block Storage API v2\n\nIn this patch:\n- adjusted VersionsController to return only v3\n- removed cinder.api.v2.router\n- adjustments to cinder.tests.unit.api.contrib to use /v3 only\n- moved cinder.api.v2.snapshot_metadata (and tests) to cinder.api.v3\n- moved cinder.api.v2.types (and view, tests) to cinder.api.v3\n- updated versions response in api-ref\n- removed unnecessary config option\n- updated various sample config files\n\nSome cinder.api.v2 modules are left because the v3 classes depend on\nthem, but with the v2 router removed, these are unreachable via the\n/v2 path.\n\nDepends-on: https://review.opendev.org/c/openstack/grenade/+/792382\nChange-Id: I2093d77db9beec7543c7524d2cd273e79dd5fd5d\n'}, {'number': 3, 'created': '2021-05-21 14:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f79c7d2d1fb8962f2df08957c527598d042e4947', 'message': 'Remove Block Storage API v2\n\nIn this patch:\n- adjusted VersionsController to return only v3\n- removed cinder.api.v2.router\n- adjustments to cinder.tests.unit.api.contrib to use /v3 only\n- moved cinder.api.v2.snapshot_metadata (and tests) to cinder.api.v3\n- moved cinder.api.v2.types (and view, tests) to cinder.api.v3\n- updated versions response in api-ref\n- removed unnecessary config option\n- updated various sample config files\n- removed experimental tempest-cinder-v2-api job\n\nSome cinder.api.v2 modules are left because the v3 classes depend on\nthem, but with the v2 router removed, these are unreachable via the\n/v2 path.\n\nDepends-on: https://review.opendev.org/c/openstack/grenade/+/792382\nChange-Id: I2093d77db9beec7543c7524d2cd273e79dd5fd5d\n'}, {'number': 4, 'created': '2021-05-27 17:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/722b2c50676ce9e40264e9976de74646069562bf', 'message': 'Remove Block Storage API v2\n\nIn this patch:\n- adjusted VersionsController to return only v3\n- removed cinder.api.v2.router\n- adjustments to cinder.tests.unit.api.contrib to use /v3 only\n- moved cinder.api.v2.snapshot_metadata (and tests) to cinder.api.v3\n- moved cinder.api.v2.types (and view, tests) to cinder.api.v3\n- updated versions response in api-ref\n- removed unnecessary config option\n- updated various sample config files\n- removed experimental tempest-cinder-v2-api job\n\nSome cinder.api.v2 modules are left because the v3 classes depend on\nthem, but with the v2 router removed, these are unreachable via the\n/v2 path.\n\nDepends-on: https://review.opendev.org/c/openstack/grenade/+/792382\nChange-Id: I2093d77db9beec7543c7524d2cd273e79dd5fd5d\n'}, {'number': 5, 'created': '2021-06-04 21:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4aff0406eb28d26ca2a0ea74c4e2be1e6db87aca', 'message': 'Remove Block Storage API v2\n\nIn this patch:\n- adjusted VersionsController to return only v3\n- removed cinder.api.v2.router\n- adjustments to cinder.tests.unit.api.contrib to use /v3 only\n- moved cinder.api.v2.snapshot_metadata (and tests) to cinder.api.v3\n- moved cinder.api.v2.types (and view, tests) to cinder.api.v3\n- updated versions response in api-ref\n- removed unnecessary config option\n- updated various sample config files\n- removed experimental tempest-cinder-v2-api job\n- updated some docs\n- updated non-voting rally job config\n\nSome cinder.api.v2 modules are left because the v3 classes depend on\nthem, but with the v2 router removed, these are unreachable via the\n/v2 path.\n\nDepends-on: https://review.opendev.org/c/openstack/rally-openstack/+/794891\n(changes rally to use Block Storage API v3)\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/794894\n(corrects regression in upper-constraint on Sphinx)\n\nChange-Id: I2093d77db9beec7543c7524d2cd273e79dd5fd5d\n'}, {'number': 6, 'created': '2021-06-04 21:21:55.000000000', 'files': ['cinder/tests/unit/api/v3/fakes.py', 'cinder/api/v3/volumes.py', 'cinder/tests/unit/api/contrib/test_volume_transfer.py', 'cinder/api/contrib/admin_actions.py', 'cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/tests/unit/api/contrib/test_extended_snapshot_attributes.py', 'cinder/tests/unit/api/contrib/test_snapshot_actions.py', 'cinder/api/v3/router.py', 'doc/source/admin/blockstorage-get-capabilities.rst', 'api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/tests/unit/api/contrib/test_snapshot_unmanage.py', 'cinder/api/v3/snapshot_metadata.py', 'cinder/tests/unit/api/contrib/test_types_extra_specs.py', 'rally-jobs/cinder.yaml', 'cinder/tests/unit/api/contrib/test_volume_migration_status_attribute.py', 'cinder/tests/unit/api/v3/test_snapshot_metadata.py', 'cinder/tests/unit/api/contrib/test_volume_host_attribute.py', 'doc/source/install/cinder-controller-install-obs.rst', 'cinder/api/contrib/volume_actions.py', 'cinder/api/microversions.py', 'cinder/tests/unit/api/contrib/test_scheduler_hints.py', 'cinder/tests/unit/api/contrib/test_snapshot_manage.py', 'cinder/tests/unit/api/contrib/test_services.py', 'cinder/api/v3/views/types.py', 'cinder/api/versions.py', 'releasenotes/notes/remove-api-v2-dadd877ee5457f79.yaml', 'cinder/tests/unit/api/test_versions.py', 'cinder/tests/unit/api/contrib/test_volume_tenant_attribute.py', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst', 'cinder/tests/unit/api/contrib/test_volume_manage.py', 'cinder/tests/unit/api/contrib/test_consistencygroups.py', 'doc/source/install/cinder-controller-install-ubuntu.rst', 'cinder/tests/unit/api/contrib/test_qos_specs_manage.py', 'cinder/tests/unit/api/contrib/test_volume_type_access.py', 'cinder/tests/unit/api/v3/test_backups.py', 'cinder/api/v3/types.py', 'etc/cinder/api-paste.ini', 'cinder/api/v2/volumes.py', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/api/contrib/volume_manage.py', 'cinder/tests/functional/api_sample_tests/samples/versions/versions-response.json.tpl', 'cinder/tests/unit/api/contrib/test_volume_encryption_metadata.py', 'cinder/tests/unit/api/v3/test_types.py', 'doc/source/install/cinder-controller-install-rdo.rst', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/tests/unit/api/v3/test_types_orig.py', 'contrib/block-box/etc/api-paste.ini', 'cinder/api/v2/router.py', 'doc/source/configuration/block-storage/samples/api-paste.ini.inc', 'doc/source/contributor/addmethod.openstackapi.rst', 'cinder/api/openstack/api_version_request.py', 'cinder/common/config.py', 'cinder/tests/unit/api/fakes.py', '.zuul.yaml', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'cinder/tests/unit/api/contrib/test_cgsnapshots.py', 'cinder/api/__init__.py', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'cinder/tests/unit/api/contrib/test_backups.py', 'cinder/api/contrib/backups.py', 'cinder/tests/unit/api/contrib/test_volume_unmanage.py', 'cinder/tests/unit/api/contrib/test_scheduler_stats.py', 'cinder/tests/unit/api/contrib/test_types_manage.py', 'cinder/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e05b261af7dcd24096b229860df65dff1d385910', 'message': 'Remove Block Storage API v2\n\nIn this patch:\n- adjusted VersionsController to return only v3\n- removed cinder.api.v2.router\n- adjustments to cinder.tests.unit.api.contrib to use /v3 only\n- moved cinder.api.v2.snapshot_metadata (and tests) to cinder.api.v3\n- moved cinder.api.v2.types (and view, tests) to cinder.api.v3\n- updated versions response in api-ref\n- removed unnecessary config option\n- updated various sample config files\n- removed experimental tempest-cinder-v2-api job\n- updated some docs\n- updated non-voting rally job config\n\nSome cinder.api.v2 modules are left because the v3 classes depend on\nthem, but with the v2 router removed, these are unreachable via the\n/v2 path.\n\nDepends-on: https://review.opendev.org/c/openstack/rally-openstack/+/794891\n(changes rally to use Block Storage API v3)\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/794894\n(corrects regression in upper-constraint on Sphinx)\n\nChange-Id: I2093d77db9beec7543c7524d2cd273e79dd5fd5d\n'}]",76,792299,e05b261af7dcd24096b229860df65dff1d385910,199,7,6,5314,,,0,"Remove Block Storage API v2

In this patch:
- adjusted VersionsController to return only v3
- removed cinder.api.v2.router
- adjustments to cinder.tests.unit.api.contrib to use /v3 only
- moved cinder.api.v2.snapshot_metadata (and tests) to cinder.api.v3
- moved cinder.api.v2.types (and view, tests) to cinder.api.v3
- updated versions response in api-ref
- removed unnecessary config option
- updated various sample config files
- removed experimental tempest-cinder-v2-api job
- updated some docs
- updated non-voting rally job config

Some cinder.api.v2 modules are left because the v3 classes depend on
them, but with the v2 router removed, these are unreachable via the
/v2 path.

Depends-on: https://review.opendev.org/c/openstack/rally-openstack/+/794891
(changes rally to use Block Storage API v3)
Depends-on: https://review.opendev.org/c/openstack/requirements/+/794894
(corrects regression in upper-constraint on Sphinx)

Change-Id: I2093d77db9beec7543c7524d2cd273e79dd5fd5d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/792299/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v3/fakes.py', 'cinder/tests/unit/api/contrib/test_volume_transfer.py', 'cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/tests/unit/api/contrib/test_extended_snapshot_attributes.py', 'cinder/tests/unit/api/contrib/test_snapshot_actions.py', 'cinder/api/v3/router.py', 'api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/tests/unit/api/contrib/test_snapshot_unmanage.py', 'cinder/api/v3/snapshot_metadata.py', 'cinder/tests/unit/api/contrib/test_types_extra_specs.py', 'cinder/tests/unit/api/contrib/test_volume_migration_status_attribute.py', 'cinder/tests/unit/api/v3/test_snapshot_metadata.py', 'cinder/tests/unit/api/contrib/test_volume_host_attribute.py', 'cinder/tests/unit/api/contrib/test_scheduler_hints.py', 'cinder/tests/unit/api/contrib/test_snapshot_manage.py', 'cinder/tests/unit/api/contrib/test_services.py', 'cinder/api/v3/views/types.py', 'cinder/api/versions.py', 'releasenotes/notes/remove-api-v2-dadd877ee5457f79.yaml', 'cinder/tests/unit/api/test_versions.py', 'cinder/tests/unit/api/contrib/test_volume_tenant_attribute.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py', 'cinder/tests/unit/api/contrib/test_consistencygroups.py', 'cinder/tests/unit/api/contrib/test_qos_specs_manage.py', 'cinder/tests/unit/api/contrib/test_volume_type_access.py', 'cinder/tests/unit/api/v3/test_backups.py', 'cinder/api/v3/types.py', 'etc/cinder/api-paste.ini', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/tests/functional/api_sample_tests/samples/versions/versions-response.json.tpl', 'cinder/tests/unit/api/contrib/test_volume_encryption_metadata.py', 'cinder/tests/unit/api/v3/test_types.py', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/tests/unit/api/v3/test_types_orig.py', 'contrib/block-box/etc/api-paste.ini', 'cinder/api/v2/router.py', 'doc/source/configuration/block-storage/samples/api-paste.ini.inc', 'cinder/api/openstack/api_version_request.py', 'cinder/common/config.py', 'cinder/tests/unit/api/fakes.py', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'cinder/tests/unit/api/contrib/test_cgsnapshots.py', 'cinder/api/__init__.py', 'cinder/tests/unit/api/contrib/test_backups.py', 'cinder/tests/unit/api/contrib/test_volume_unmanage.py', 'cinder/tests/unit/api/contrib/test_scheduler_stats.py', 'cinder/tests/unit/api/contrib/test_types_manage.py', 'cinder/api/openstack/wsgi.py']",49,e4f60ab2751f850f5ac89086084ab4abeac7acdb,drop-v2," """"""Set API version request based on the request header information."""""" if API_VERSION_REQUEST_HEADER in self.headers: self.api_version_request = api_version.APIVersionRequest( api_version._MIN_API_VERSION)"," """"""Set API version request based on the request header information. Microversions starts with /v3, so if a client sends a request for version 1.0 or 2.0 with the /v3 endpoint, throw an exception. Sending a header with any microversion to a /v2 endpoint will be ignored. Note that a microversion must be set for the legacy endpoint. This will appear as 2.0 for /v2. """""" if API_VERSION_REQUEST_HEADER in self.headers and 'v3' in url: if 'v2' in url: self.api_version_request = api_version.legacy_api_version2() else: self.api_version_request = api_version.APIVersionRequest( api_version._MIN_API_VERSION)",652,863
openstack%2Ftripleo-ansible~stable%2Ftrain~I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,openstack/tripleo-ansible,stable/train,I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,Use serial or parallel execution depending on the kind of backup,MERGED,2021-07-26 15:20:01.000000000,2021-07-28 23:43:08.000000000,2021-07-28 23:43:08.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-26 15:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/069a2ecbee0a2ead56d2592871093f336bf396de', 'message': 'Use serial or parallel execution depending on the kind of backup\n\nCurrently, we support two kinds of backups: the ""old way"" that stops all\nthe controllers at the same time and then does the backup and the\n""snapshots"" that only stops one controller at a time.\n\nIn the first case, we want to take the backup of all the controllers\nin parallel to save time, while in the second case we want to take the\nbackup of each controller serialized so we do not stop all of them at\nthe same time.\n\nThis change enables this for the openstack overcloud backup CLI action.\n\nCloses-Bug: #1930861\nChange-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f\n(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)\n'}, {'number': 2, 'created': '2021-07-26 15:48:39.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e852e15425ef9647ee10f3a7b97e66f3c2cc3a1', 'message': 'Use serial or parallel execution depending on the kind of backup\n\nCurrently, we support two kinds of backups: the ""old way"" that stops all\nthe controllers at the same time and then does the backup and the\n""snapshots"" that only stops one controller at a time.\n\nIn the first case, we want to take the backup of all the controllers\nin parallel to save time, while in the second case we want to take the\nbackup of each controller serialized so we do not stop all of them at\nthe same time.\n\nThis change enables this for the openstack overcloud backup CLI action.\n\nCloses-Bug: #1930861\nChange-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f\n(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)\n'}]",0,802339,3e852e15425ef9647ee10f3a7b97e66f3c2cc3a1,16,6,2,32968,,,0,"Use serial or parallel execution depending on the kind of backup

Currently, we support two kinds of backups: the ""old way"" that stops all
the controllers at the same time and then does the backup and the
""snapshots"" that only stops one controller at a time.

In the first case, we want to take the backup of all the controllers
in parallel to save time, while in the second case we want to take the
backup of each controller serialized so we do not stop all of them at
the same time.

This change enables this for the openstack overcloud backup CLI action.

Closes-Bug: #1930861
Change-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f
(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/802339/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'],1,069a2ecbee0a2ead56d2592871093f336bf396de,change-802339-1,"- name: Backup ceph authentication become: true- name: TripleO Controller backup serial: ""{{ tripleo_backup_and_restore_enable_snapshots|bool | ternary(1, groups['Controller']|length) }}"" vars_files: ../roles/backup_and_restore/defaults/main.yml",- become: true name: Backup ceph authentication- name: TripleO Controller backup.,6,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I52e43f264a03775b6d609444f8da1a36d9565281,openstack/tripleo-heat-templates,stable/train,I52e43f264a03775b6d609444f8da1a36d9565281,Role parameter for tripleo_kernel_defer_reboot,MERGED,2021-07-24 14:17:00.000000000,2021-07-28 23:39:49.000000000,2021-07-28 23:38:34.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-24 14:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ff82cef3ca8082dfc53dea7d931a87df6edab3b', 'message': 'Role parameter for tripleo_kernel_defer_reboot\n\nTo help operators protect their workload, they can now enable the\nKernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel\nansible module from automatically rebooting nodes even if KernelArgs\nwere changed unexpectedly.\n\nChange-Id: I52e43f264a03775b6d609444f8da1a36d9565281\n(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)\n(cherry picked from commit e9c84bda866d204ad79e447a3061373787f7f8c6)\n(cherry picked from commit 914d89fc10b8ea2e9ae60452987f3bded313e7d3)\n(cherry picked from commit 4d1634d066b2ddefa86472d5d316d63ac12b80a1)\n'}, {'number': 2, 'created': '2021-07-24 14:18:21.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/add-parameter-kernelargsdeferreboot-5b8e8b2f64c64a91.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7df92a4b361f34cf7570e2845f7ad5e397ddb38a', 'message': 'Role parameter for tripleo_kernel_defer_reboot\n\nTo help operators protect their workload, they can now enable the\nKernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel\nansible module from automatically rebooting nodes even if KernelArgs\nwere changed unexpectedly.\n\nChange-Id: I52e43f264a03775b6d609444f8da1a36d9565281\n(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)\n(cherry picked from commit e9c84bda866d204ad79e447a3061373787f7f8c6)\n(cherry picked from commit 914d89fc10b8ea2e9ae60452987f3bded313e7d3)\n(cherry picked from commit 4d1634d066b2ddefa86472d5d316d63ac12b80a1)\n'}]",0,801897,7df92a4b361f34cf7570e2845f7ad5e397ddb38a,20,7,2,27419,,,0,"Role parameter for tripleo_kernel_defer_reboot

To help operators protect their workload, they can now enable the
KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel
ansible module from automatically rebooting nodes even if KernelArgs
were changed unexpectedly.

Change-Id: I52e43f264a03775b6d609444f8da1a36d9565281
(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)
(cherry picked from commit e9c84bda866d204ad79e447a3061373787f7f8c6)
(cherry picked from commit 914d89fc10b8ea2e9ae60452987f3bded313e7d3)
(cherry picked from commit 4d1634d066b2ddefa86472d5d316d63ac12b80a1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/801897/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/add-parameter-kernelargsdeferreboot-5b8e8b2f64c64a91.yaml']",2,3ff82cef3ca8082dfc53dea7d931a87df6edab3b,,"--- features: - | To help operators protect their workload, they can now enable the KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel ansible module from automatically rebooting nodes even if KernelArgs were changed unexpectedly. ",,29,0
openstack%2Fansible-collections-openstack~master~Ia288452668179723e35452d6e9579fb1dd0c4c3a,openstack/ansible-collections-openstack,master,Ia288452668179723e35452d6e9579fb1dd0c4c3a,Change the pipeline of releasing to tag pipeline,MERGED,2021-07-28 15:17:40.000000000,2021-07-28 23:14:40.000000000,2021-07-28 23:14:40.000000000,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 15:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9a9ae8fae6919b7a694ba90c48ab2352e8817020', 'message': ""Change the pipeline of releasing to tag pipeline\n\nBecause zuul pre-release pipeline is pep400 compliant, but no\nsemver compliant, we can't push pre-release tags. Galaxy expects\nfrom tags to be pure semver (not pep440).\nChange the pipeline to be 'tag' and be triggered by any tag.\n\nChange-Id: Ia288452668179723e35452d6e9579fb1dd0c4c3a\n""}, {'number': 2, 'created': '2021-07-28 20:44:00.000000000', 'files': ['.zuul.yaml', 'ci/publish/publish_collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c05b1fdbaf361eec92688e7d58b513cac53446cf', 'message': ""Change the pipeline of releasing to tag pipeline\n\nBecause zuul pre-release pipeline is pep400 compliant, but no\nsemver compliant, we can't push pre-release tags. Galaxy expects\nfrom tags to be pure semver (not pep440).\nChange the pipeline to be 'tag' and be triggered by any tag.\n\nChange-Id: Ia288452668179723e35452d6e9579fb1dd0c4c3a\n""}]",0,802741,c05b1fdbaf361eec92688e7d58b513cac53446cf,8,3,2,10969,,,0,"Change the pipeline of releasing to tag pipeline

Because zuul pre-release pipeline is pep400 compliant, but no
semver compliant, we can't push pre-release tags. Galaxy expects
from tags to be pure semver (not pep440).
Change the pipeline to be 'tag' and be triggered by any tag.

Change-Id: Ia288452668179723e35452d6e9579fb1dd0c4c3a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/41/802741/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9a9ae8fae6919b7a694ba90c48ab2352e8817020,, tag:, pre-release:,1,1
openstack%2Fmanila~master~Ib417499d4394b939eb289460ac8dbb6b22d789f4,openstack/manila,master,Ib417499d4394b939eb289460ac8dbb6b22d789f4,Add missing share-type user message,MERGED,2021-07-12 20:46:47.000000000,2021-07-28 23:11:31.000000000,2021-07-28 22:25:37.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-07-12 20:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/033253f3bf13dd2e25b2e74d82de13335ad295f1', 'message': 'Add user message\n\nFix for bug #1870280\n<https://bugs.launchpad.net/manila/+bug/1870280>\n\nChange-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4\n'}, {'number': 2, 'created': '2021-07-13 21:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/593e4dfeca49f9aa3e923ceb9079a39f24ba5032', 'message': 'Add user message\n\nAttempting to create a share without identifying a share type results in an error.\nThis adds a user message informing the user that no default share type was\nidentified while attempting to create a share.\n\nCloses-Bug: #1870280\n<https://bugs.launchpad.net/manila/+bug/1870280>\n\nChange-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4\n'}, {'number': 3, 'created': '2021-07-14 19:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/117fd0deaa4587fa20817b9b9aefdd38d92f0b95', 'message': 'Add user message\n\nAttempting to create a share without identifying a share type results in an error.\nThis adds a user message informing the user that no default share type was\nidentified while attempting to create a share.\n\nCloses-Bug: #1870280\n\nChange-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4\n'}, {'number': 4, 'created': '2021-07-14 21:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/06b2678e6cb9dcc182d2dbb27fbb97f816aea64e', 'message': 'Add user message\n\nAttempting to create a share without identifying a share type results in an error.\nThis adds a user message informing the user that no default share type was\nidentified while attempting to create a share.\n\nCloses-Bug: #1870280\n\nChange-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4\n'}, {'number': 5, 'created': '2021-07-16 13:53:59.000000000', 'files': ['releasenotes/notes/fix-1870280-share-type-user-message-902275047410bdbf.yaml', 'manila/tests/scheduler/drivers/test_filter.py', 'manila/message/message_field.py', 'manila/scheduler/drivers/filter.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/657fa5b113ce1c0cd35a21d7eac4d446af9ce2d3', 'message': 'Add missing share-type user message\n\nAttempting to create a share without identifying a share type results in an\nerror.This adds a user message informing the user that no default share type\nwas identified while attempting to create a share.\n\nCloses-Bug: #1870280\n\nChange-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4\n'}]",22,800561,657fa5b113ce1c0cd35a21d7eac4d446af9ce2d3,50,4,5,32594,,,0,"Add missing share-type user message

Attempting to create a share without identifying a share type results in an
error.This adds a user message informing the user that no default share type
was identified while attempting to create a share.

Closes-Bug: #1870280

Change-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/800561/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-1870280-share-type-user-message-902275047410bdbf.yaml', 'manila/message/message_field.py', 'manila/scheduler/drivers/filter.py']",3,033253f3bf13dd2e25b2e74d82de13335ad295f1,bug/1870280,"from manila.message import api as message_api from manila.message import message_field self.message_api = message_api.API() self.message_api.create( context, message_field.Action.ADD_DEFAULT_SHARE_TYPE, context.project_id, resource_type=message_field.Resource.SHARE, resource_id=request_spec.get('share_id', None), detail=message_field.Detail.NO_DEFAULT_SHARE_TYPE ) ",,26,1
openstack%2Fproject-config~master~I51eb4f7e33f571d701468c72dd3c6a4c97f9fca4,openstack/project-config,master,I51eb4f7e33f571d701468c72dd3c6a4c97f9fca4,"Revert ""nodepool: set inmotion cloud to zero""",MERGED,2021-07-15 23:08:14.000000000,2021-07-28 22:57:35.000000000,2021-07-28 22:06:05.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 23:08:14.000000000', 'files': ['nodepool/nl02.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fe9decbabb03cc0e6f689ea7a94d6023e943b605', 'message': 'Revert ""nodepool: set inmotion cloud to zero""\n\nThis reverts commit 6ab94b627518f8116297e2ac95338f6ac3b7305c.\n\nChange-Id: I51eb4f7e33f571d701468c72dd3c6a4c97f9fca4\n'}]",0,801010,fe9decbabb03cc0e6f689ea7a94d6023e943b605,10,3,1,7118,,,0,"Revert ""nodepool: set inmotion cloud to zero""

This reverts commit 6ab94b627518f8116297e2ac95338f6ac3b7305c.

Change-Id: I51eb4f7e33f571d701468c72dd3c6a4c97f9fca4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/801010/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.opendev.org.yaml'],1,fe9decbabb03cc0e6f689ea7a94d6023e943b605,inmotion-max-zero, max-servers: 8, max-servers: 0,1,1
openstack%2Fironic-specs~master~I5e4d262a8570cf7c61ac0f3410a4cb35e8245690,openstack/ironic-specs,master,I5e4d262a8570cf7c61ac0f3410a4cb35e8245690,Clean up released features/items,MERGED,2021-07-21 18:54:00.000000000,2021-07-28 22:33:36.000000000,2021-07-28 22:32:16.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-21 18:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0f3739a6da0ead7df15249cdb8f29cc5fd6c420c', 'message': 'Clean up released features/items\n\nChange-Id: I5e4d262a8570cf7c61ac0f3410a4cb35e8245690\n'}, {'number': 2, 'created': '2021-07-27 16:43:19.000000000', 'files': ['doc/source/index.rst', 'specs/15.1/new-release-model.rst', 'specs/15.2/ramdisk_deploy_virtual_media_boot_iso.rst', 'specs/16.1/L3-based-deployment.rst', 'specs/13.0/support-intel-speed-select.rst', 'specs/17.0/predefined-system-hw-config-single-step.rst', 'specs/18.0/bios-registry-api.rst', 'specs/18.1/anaconda-deploy-interface.rst', 'specs/16.0/in-band-deploy-steps.rst', 'specs/17.0/secure-rbac.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e2893c1f55b7fbd5a84dc4aedcc8c81fc5c55c9b', 'message': 'Clean up released features/items\n\nChange-Id: I5e4d262a8570cf7c61ac0f3410a4cb35e8245690\n'}]",0,801650,e2893c1f55b7fbd5a84dc4aedcc8c81fc5c55c9b,15,4,2,11655,,,0,"Clean up released features/items

Change-Id: I5e4d262a8570cf7c61ac0f3410a4cb35e8245690
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/50/801650/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/15.1/new-release-model.rst', 'specs/15.2/ramdisk_deploy_virtual_media_boot_iso.rst', 'specs/16.1/L3-based-deployment.rst', 'specs/13.0/support-intel-speed-select.rst', 'specs/17.0/predefined-system-hw-config-single-step.rst', 'specs/18.0/bios-registry-api.rst', 'specs/18.1/anaconda-deploy-interface.rst', 'specs/16.0/in-band-deploy-steps.rst', 'specs/17.0/secure-rbac.rst']",9,0f3739a6da0ead7df15249cdb8f29cc5fd6c420c,,,,0,0
openstack%2Fmanila~master~I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765,openstack/manila,master,I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765,Update api-ref documentation,MERGED,2021-07-21 19:25:32.000000000,2021-07-28 22:28:17.000000000,2021-07-28 22:25:39.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 19:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8f36340f8571ff038a4ecc60a83dd3a6646de95c', 'message': 'Update api-ref documentation\n\nAdds message id, expires_at, created_at parameters to user messages in\nresponse body.\n\nUpdates share_types response body to account for extra_specs object including\nsnapshot_support, create_from_snapshot_support, mount_snapshot_support,\nrevert_to_snapshot_support, replication_type, and\ndriver_handles_share_servers.\n\nChange-Id: I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765\n'}, {'number': 2, 'created': '2021-07-22 13:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/551e02f1e8f149a8ec5b4d56d117abf90c6f7c0d', 'message': 'Update api-ref documentation\n\nAdds message id, expires_at, created_at parameters to user messages in\nresponse body.\n\nUpdates share_types response body to account for extra_specs object including\nsnapshot_support, create_from_snapshot_support, mount_snapshot_support,\nrevert_to_snapshot_support, replication_type, and\ndriver_handles_share_servers.\n\nChange-Id: I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765\n'}, {'number': 3, 'created': '2021-07-22 18:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/22901d894c6bbf7cef3a74f0004ea3ad8df18f31', 'message': 'Update api-ref documentation\n\nAdds message id, expires_at, created_at parameters to user messages in\nresponse body.\n\nUpdates share_types response body to account for extra_specs object including\nsnapshot_support, create_from_snapshot_support, mount_snapshot_support,\nrevert_to_snapshot_support, replication_type, and\ndriver_handles_share_servers.\n\nChange-Id: I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765\n'}, {'number': 4, 'created': '2021-07-23 15:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6b857380b2c310e870bedab429b9c932543372ae', 'message': 'Update api-ref documentation\n\nAdds message id, expires_at, created_at parameters to user messages in\nresponse body.\n\nUpdates share_types response body to account for extra_specs object including\nsnapshot_support, create_from_snapshot_support, mount_snapshot_support,\nrevert_to_snapshot_support, replication_type, and\ndriver_handles_share_servers.\n\nChange-Id: I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765\n'}, {'number': 5, 'created': '2021-07-28 14:21:34.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/share-types.inc', 'api-ref/source/user-messages.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/bf2c40e3ff5ff88051a48f0febfb28dcc810bb7c', 'message': 'Update api-ref documentation\n\nAdds message id, expires_at, created_at parameters to user messages in\nresponse body.\n\nUpdates share_types response body to account for extra_specs object including\nsnapshot_support, create_from_snapshot_support, mount_snapshot_support,\nrevert_to_snapshot_support, replication_type, and\ndriver_handles_share_servers.\n\nChange-Id: I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765\n'}]",24,801653,bf2c40e3ff5ff88051a48f0febfb28dcc810bb7c,28,2,5,32594,,,0,"Update api-ref documentation

Adds message id, expires_at, created_at parameters to user messages in
response body.

Updates share_types response body to account for extra_specs object including
snapshot_support, create_from_snapshot_support, mount_snapshot_support,
revert_to_snapshot_support, replication_type, and
driver_handles_share_servers.

Change-Id: I408dcf5fdbf2f12eb1dc0ce80232d4e710cef765
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/801653/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/share-types.inc', 'api-ref/source/user-messages.inc']",3,8f36340f8571ff038a4ecc60a83dd3a6646de95c,docchange, - id: message_id_body - expires_at : expires_at_body - created_at : created_at - id: message_id_body - expires_at : expires_at_body - created_at : created_at,,50,32
openstack%2Ftempest~master~I00ac642fa602980d14612adc1ce65068d67db8ad,openstack/tempest,master,I00ac642fa602980d14612adc1ce65068d67db8ad,Fix run-tempest-26 role for stable/stein,MERGED,2021-07-27 21:32:45.000000000,2021-07-28 22:02:37.000000000,2021-07-28 22:01:19.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-07-27 21:32:45.000000000', 'files': ['roles/run-tempest-26/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/617c84c7e5f040c1cdbff7bc63be7e74281c2b3c', 'message': 'Fix run-tempest-26 role for stable/stein\n\nstable/stein uses old Tempest 26.0.0 to run the test\nand that is why we use stable/stein upper-constraints\nin the testing. But when any jobs with tempest plugins\ntry to run plugins tests, they fail.\n\nThis is because a new role run-tempest-26 (used for testing\nwith tempest 26.0.0) does not include the stable/stein in the\nlist of branches for whom we use stable constraints instead of\nmaster constraints. and due to that run-tempest-26 finds constraints\nmismatch and recreates the tempest virtual env. On recreation, venv\nremove the previously installed tempest pluings and so does not run\ntheir test.\n\nCloses-Bug: #1938227\nChange-Id: I00ac642fa602980d14612adc1ce65068d67db8ad\n'}]",0,802625,617c84c7e5f040c1cdbff7bc63be7e74281c2b3c,15,3,1,8556,,,0,"Fix run-tempest-26 role for stable/stein

stable/stein uses old Tempest 26.0.0 to run the test
and that is why we use stable/stein upper-constraints
in the testing. But when any jobs with tempest plugins
try to run plugins tests, they fail.

This is because a new role run-tempest-26 (used for testing
with tempest 26.0.0) does not include the stable/stein in the
list of branches for whom we use stable constraints instead of
master constraints. and due to that run-tempest-26 finds constraints
mismatch and recreates the tempest virtual env. On recreation, venv
remove the previously installed tempest pluings and so does not run
their test.

Closes-Bug: #1938227
Change-Id: I00ac642fa602980d14612adc1ce65068d67db8ad
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/802625/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-tempest-26/tasks/main.yaml'],1,617c84c7e5f040c1cdbff7bc63be7e74281c2b3c,bug/1938227," when: target_branch in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""]"," when: target_branch in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky""]",1,1
openstack%2Fneutron~stable%2Fstein~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,stable/stein,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,ABANDONED,2021-07-22 13:39:45.000000000,2021-07-28 21:50:23.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 13:39:45.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cc3d31175014416b0cb11d5c5f5d9795c929275', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)\n(cherry picked from commit 12c07ba3ea9c6501dd7494561e2920496407c48b)\n'}]",0,801857,2cc3d31175014416b0cb11d5c5f5d9795c929275,4,2,1,6737,,,0,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)
(cherry picked from commit 12c07ba3ea9c6501dd7494561e2920496407c48b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/801857/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py']",2,2cc3d31175014416b0cb11d5c5f5d9795c929275,bug/1916024," try: utils.wait_until_true(ns_dev.exists, timeout=3) except utils.WaitTimeout: LOG.debug('Device %s may have been deleted concurrently', device_name) return False return True "," if not ns_dev.exists(): LOG.debug(""Device %s may concurrently be deleted."", device_name) return",14,5
openstack%2Fmanila~stable%2Fvictoria~Iac6507a6e395c55f0fec453650009f08c2bb6563,openstack/manila,stable/victoria,Iac6507a6e395c55f0fec453650009f08c2bb6563,init_host should be called before RPC consumer is created,MERGED,2021-07-12 16:34:57.000000000,2021-07-28 21:39:40.000000000,2021-07-28 21:38:23.000000000,"[{'_account_id': 9003}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-12 16:34:57.000000000', 'files': ['manila/service.py', 'releasenotes/notes/bug-1271568-fix-rpc-init-host-with-rpc-6e76afa553b4f2af.yaml', 'manila/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d3481f5c2645fa96c710b4298c44ba915f7d9d92', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n(cherry picked from commit 0339802a5d0801cda19c464a87853b60982ae011)\n(cherry picked from commit 887c4bf4c041cfaafaf1c47edb9262574bbb959a)\n'}]",0,800380,d3481f5c2645fa96c710b4298c44ba915f7d9d92,13,5,1,16643,,,0,"init_host should be called before RPC consumer is created

This change adds a new hook to Manager class called init_host_with_rpc()
to allow services like scheduler to do something once RPC is ready.

Copied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419
and https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8

Change-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563
Closes-Bug: #1271568
(cherry picked from commit 0339802a5d0801cda19c464a87853b60982ae011)
(cherry picked from commit 887c4bf4c041cfaafaf1c47edb9262574bbb959a)
",git fetch https://review.opendev.org/openstack/manila refs/changes/80/800380/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/service.py', 'releasenotes/notes/bug-1271568-fix-rpc-init-host-with-rpc-6e76afa553b4f2af.yaml', 'manila/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py']",5,d3481f5c2645fa96c710b4298c44ba915f7d9d92,bug/1271568, def init_host_with_rpc(self):, def init_host(self):,25,5
openstack%2Fglance_store~master~I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390,openstack/glance_store,master,I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390,Glance cinder nfs: Block creating qcow2 volumes,MERGED,2021-06-16 01:25:03.000000000,2021-07-28 21:26:12.000000000,2021-07-28 21:24:52.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 01:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/85f3c48512dcd383ff89b4c49f0a4ee25a907fbd', 'message': ""Glance cinder nfs: Block creating qcow2 volumes\n\nThere's an issue when cinder nfs is configured as glance backend and\nthe image is > 1GB i.e. extend operation is performed on volume.\nCurrently glance writes the qcow2 header in the raw volume and\ncinder nfs driver used to work on format autodetection which is\nchanged to manual detection here[1]\nThis fixes the extend volume problem for raw volumes, however, if\ncinder nfs is configured to create qcow2 volumes then we will run into\nthe same problem.\nThis patch blocks creating images when the nfs volume is qcow2.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/761152\n\nCloses-Bug: #1901138\nChange-Id: I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390\n""}, {'number': 2, 'created': '2021-07-26 06:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/75506e0c39e464ede688ede1245d1854486370ba', 'message': ""Glance cinder nfs: Block creating qcow2 volumes\n\nThere's an issue when cinder nfs is configured as glance backend and\nthe image is > 1GB i.e. extend operation is performed on volume.\nCurrently glance writes the qcow2 header in the raw volume and\ncinder nfs driver used to work on format autodetection which is\nchanged to manual detection here[1]\nThis fixes the extend volume problem for raw volumes, however, if\ncinder nfs is configured to create qcow2 volumes then we will run into\nthe same problem.\nThis patch blocks creating images when the nfs volume is qcow2.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/761152\n\nCloses-Bug: #1901138\nChange-Id: I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390\n""}, {'number': 3, 'created': '2021-07-27 18:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a411e10e3065f29afed2232575f68769babffa76', 'message': ""Glance cinder nfs: Block creating qcow2 volumes\n\nThere's an issue when cinder nfs is configured as glance backend and\nthe image is > 1GB i.e. extend operation is performed on volume.\nCurrently glance writes the qcow2 header in the raw volume and\ncinder nfs driver used to work on format autodetection which is\nchanged to manual detection here[1]\nThis fixes the extend volume problem for raw volumes, however, if\ncinder nfs is configured to create qcow2 volumes then we will run into\nthe same problem.\nThis patch blocks creating images when the nfs volume is qcow2.\n\nRefactoring work:\n1) attachment_delete call is removed in nfs related code as it was\nalready done in the finally block\n2) handle_exceptions decorator is removed from volume delete method\nas it raises BackendException and incase when volume is not found\n(possibly deleted manually), the image deletion fails so we don't\nwant to raise any error in this case\n\n[1] https://review.opendev.org/c/openstack/cinder/+/761152\n\nCloses-Bug: #1901138\nChange-Id: I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390\n""}, {'number': 4, 'created': '2021-07-28 15:15:47.000000000', 'files': ['glance_store/common/cinder_utils.py', 'glance_store/tests/unit/test_cinder_store.py', 'releasenotes/notes/cinder-nfs-block-qcow2-vol-4fed58b0afafc980.yaml', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/85c7a06687291eba30510d63d3ee8b9e9cb33c5f', 'message': ""Glance cinder nfs: Block creating qcow2 volumes\n\nThere's an issue when cinder nfs is configured as glance backend and\nthe image is > 1GB i.e. extend operation is performed on volume.\nCurrently glance writes the qcow2 header in the raw volume and\ncinder nfs driver used to work on format autodetection which is\nchanged to manual detection here[1]\nThis fixes the extend volume problem for raw volumes, however, if\ncinder nfs is configured to create qcow2 volumes then we will run into\nthe same problem.\nThis patch blocks creating images when the nfs volume is qcow2.\n\nRefactoring work:\n1) attachment_delete call is removed in nfs related code as it was\nalready done in the finally block\n2) handle_exceptions decorator is removed from volume delete method\nas it raises BackendException and incase when volume is not found\n(possibly deleted manually), the image deletion fails so we don't\nwant to raise any error in this case\n\n[1] https://review.opendev.org/c/openstack/cinder/+/761152\n\nCloses-Bug: #1901138\nChange-Id: I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390\n""}]",6,796577,85c7a06687291eba30510d63d3ee8b9e9cb33c5f,20,3,4,27615,,,0,"Glance cinder nfs: Block creating qcow2 volumes

There's an issue when cinder nfs is configured as glance backend and
the image is > 1GB i.e. extend operation is performed on volume.
Currently glance writes the qcow2 header in the raw volume and
cinder nfs driver used to work on format autodetection which is
changed to manual detection here[1]
This fixes the extend volume problem for raw volumes, however, if
cinder nfs is configured to create qcow2 volumes then we will run into
the same problem.
This patch blocks creating images when the nfs volume is qcow2.

Refactoring work:
1) attachment_delete call is removed in nfs related code as it was
already done in the finally block
2) handle_exceptions decorator is removed from volume delete method
as it raises BackendException and incase when volume is not found
(possibly deleted manually), the image deletion fails so we don't
want to raise any error in this case

[1] https://review.opendev.org/c/openstack/cinder/+/761152

Closes-Bug: #1901138
Change-Id: I8ce6f36f1cb4b0ed6bcc5f3869fab3bb64fe3390
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/77/796577/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/common/cinder_utils.py', 'glance_store/tests/unit/test_cinder_store.py', 'releasenotes/notes/cinder-nfs-block-qcow2-vol-4fed58b0afafc980.yaml', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py']",5,85f3c48512dcd383ff89b4c49f0a4ee25a907fbd,782200," enforce_multipath=False, encrypted_nfs=False, qcow2_vol=False): fake_volume.manager.get.return_value = fake_volume if encrypted_nfs or qcow2_vol: fake_attachment_update = mock.MagicMock( id=fake_attachment_id, connection_info={'driver_volume_type': 'nfs'}) else: fake_attachment_update = mock.MagicMock(id=fake_attachment_id) 'attachment_get') as attach_get, \ mock.patch.object(cinder_utils.API, elif encrypted_nfs or qcow2_vol: fake_volume.encrypted = False if encrypted_nfs: fake_volume.encrypted = True elif qcow2_vol: attach_get.return_value = mock.MagicMock( connection_info={'format': 'qcow2'}) try: with self.store._open_cinder_volume( fake_client, fake_volume, open_mode): pass except exceptions.BackendException: attach_delete.assert_called_once_with( fake_client, fake_attachment_id) if not (encrypted_nfs or qcow2_vol): mock_conn.assert_called_once_with( root_helper, socket.gethostname(), multipath_supported, enforce_multipath) fake_connector.connect_volume.assert_called_once_with( mock.ANY) fake_connector.disconnect_volume.assert_called_once_with( mock.ANY, fake_devinfo) fake_conn_obj.assert_called_once_with( mock.ANY, root_helper, conn=mock.ANY, use_multipath=multipath_supported) attach_create.assert_called_once_with( fake_client, fake_volume.id, mode=attach_mode) attach_update.assert_called_once_with( fake_client, fake_attachment_id, fake_conn_info, mountpoint='glance_store') attach_complete.assert_called_once_with( fake_client, fake_attachment_id) attach_delete.assert_called_once_with(fake_client, fake_attachment_id) def test_open_cinder_volume_nfs_encrypted(self): self._test_open_cinder_volume('rb', 'ro', None, encrypted_nfs=True) def test_open_cinder_volume_nfs_qcow2_volume(self): self._test_open_cinder_volume('rb', 'ro', None, qcow2_vol=True) "," enforce_multipath=False): fake_attachment_update = mock.MagicMock(id=fake_attachment_id) mock_conn.assert_called_once_with( root_helper, socket.gethostname(), multipath_supported, enforce_multipath) fake_connector.connect_volume.assert_called_once_with(mock.ANY) fake_connector.disconnect_volume.assert_called_once_with( mock.ANY, fake_devinfo) fake_conn_obj.assert_called_once_with( mock.ANY, root_helper, conn=mock.ANY, use_multipath=multipath_supported) attach_create.assert_called_once_with( fake_client, fake_volume.id, mode=attach_mode) attach_update.assert_called_once_with( fake_client, fake_attachment_id, fake_conn_info, mountpoint='glance_store') attach_complete.assert_called_once_with(fake_client, fake_attachment_id) attach_delete.assert_called_once_with(fake_client, fake_attachment_id)",90,40
openstack%2Ftripleo-validations~master~Ia7f8605d4e7f2b187350a53eb5bc11a45e7633a7,openstack/tripleo-validations,master,Ia7f8605d4e7f2b187350a53eb5bc11a45e7633a7,Fixed typo for variable vif_plugging_timeout_value,ABANDONED,2021-07-05 00:49:21.000000000,2021-07-28 21:21:49.000000000,,"[{'_account_id': 9816}, {'_account_id': 11491}, {'_account_id': 16347}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-05 00:49:21.000000000', 'files': ['roles/nova_event_callback/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/739682ea4546b78090f7a9aefe04bd4cf6e70c95', 'message': 'Fixed typo for variable vif_plugging_timeout_value\n\nCloses-Bug: #1934609\nChange-Id: Ia7f8605d4e7f2b187350a53eb5bc11a45e7633a7\n'}]",0,799424,739682ea4546b78090f7a9aefe04bd4cf6e70c95,8,6,1,30075,,,0,"Fixed typo for variable vif_plugging_timeout_value

Closes-Bug: #1934609
Change-Id: Ia7f8605d4e7f2b187350a53eb5bc11a45e7633a7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/24/799424/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/nova_event_callback/tasks/main.yml'],1,739682ea4546b78090f7a9aefe04bd4cf6e70c95,," msg: ""vif_plugging_timeout is below minimum value. Minimum: {{ vif_plugging_timeout_value_min|ing }}. Current value: {{ vif_plugging_timeout_value }}"""," msg: ""vif_plugging_timeout is below minimum value. Minimum: {{ vif_plugging_timeout_value_min|ing }}. Current value: {{ vig_plugging_timeout_value }}""",1,1
openstack%2Fkolla-ansible~stable%2Fussuri~Iced014acee7e590c10848e73feca166f48b622dc,openstack/kolla-ansible,stable/ussuri,Iced014acee7e590c10848e73feca166f48b622dc,"Reduce RabbitMQ busy waiting, lowering CPU load",MERGED,2021-07-02 15:41:51.000000000,2021-07-28 21:05:04.000000000,2021-07-28 21:03:39.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-02 15:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b65321ffb97e72ddd4001458e2a84dc74b1eb783', 'message': 'Reduce RabbitMQ busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. With the following Erlang VM argument we saw\nRabbitMQ CPU usage drop from about 150% to around 20%, on a system with\n40 hyperthreads.\n\n    +S 2:2\n\nBy default RabbitMQ starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a typical\nKolla Ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n    +sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of RabbitMQ\nused in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nRelated-Bug: #1846467\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)\n'}, {'number': 2, 'created': '2021-07-02 15:44:55.000000000', 'files': ['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95de850250ab5394a7d1ac4fdf2920fda3dea77c', 'message': 'Reduce RabbitMQ busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. With the following Erlang VM argument we saw\nRabbitMQ CPU usage drop from about 150% to around 20%, on a system with\n40 hyperthreads.\n\n    +S 2:2\n\nBy default RabbitMQ starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a typical\nKolla Ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n    +sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of RabbitMQ\nused in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nRelated-Bug: #1846467\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)\n'}]",0,799239,95de850250ab5394a7d1ac4fdf2920fda3dea77c,12,4,2,14826,,,0,"Reduce RabbitMQ busy waiting, lowering CPU load

On machines with many cores, we were seeing excessive CPU load on systems
that were not very busy. With the following Erlang VM argument we saw
RabbitMQ CPU usage drop from about 150% to around 20%, on a system with
40 hyperthreads.

    +S 2:2

By default RabbitMQ starts N schedulers where N is the number of CPU
cores, including hyper-threaded cores. This is fine when you assume all
your CPUs are dedicated to RabbitMQ. Its not a good idea in a typical
Kolla Ansible setup. Here we go for two scheduler threads.
More details can be found here:
https://www.rabbitmq.com/runtime.html#scheduling
and here:
https://erlang.org/doc/man/erl.html#emulator-flags

    +sbwt none

This stops busy waiting of the scheduler, for more details see:
https://www.rabbitmq.com/runtime.html#busy-waiting
Newer versions of rabbit may need additional flags:
""+sbwt none +sbwtdcpu none +sbwtdio none""
But this patch should be back portable to older versions of RabbitMQ
used in Train and Stein.

Note that information on this tuning was found by looking at data from:
rabbitmq-diagnostics runtime_thread_stats
More details on that can be found here:
https://www.rabbitmq.com/runtime.html#thread-stats

Related-Bug: #1846467

Change-Id: Iced014acee7e590c10848e73feca166f48b622dc
(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/799239/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml']",4,b65321ffb97e72ddd4001458e2a84dc74b1eb783,,"<<<<<<< HEAD (e3ef0d magnum: Add CA certificate configuration for internal TLS)======= # More details can be found in the RabbitMQ docs: # https://www.rabbitmq.com/runtime.html#scheduling # https://www.rabbitmq.com/runtime.html#busy-waiting # The default tells RabbitMQ to always use two cores (+S 2:2), # and not to busy wait (+sbwt none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none"" # Whether to enable TLS encryption for RabbitMQ client-server communication. #rabbitmq_enable_tls: ""no"" # CA certificate bundle in RabbitMQ container. #rabbitmq_cacert: ""/etc/ssl/certs/{{ 'ca-certificates.crt' if kolla_base_distro in ['debian', 'ubuntu'] else 'ca-bundle.trust.crt' }}"" >>>>>>> CHANGE (70f6f8 Reduce RabbitMQ busy waiting, lowering CPU load)",,54,7
openstack%2Fkolla-ansible~stable%2Fvictoria~Iced014acee7e590c10848e73feca166f48b622dc,openstack/kolla-ansible,stable/victoria,Iced014acee7e590c10848e73feca166f48b622dc,"Reduce RabbitMQ busy waiting, lowering CPU load",MERGED,2021-07-02 15:41:14.000000000,2021-07-28 21:04:59.000000000,2021-07-28 21:03:36.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-02 15:41:14.000000000', 'files': ['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/21cef390e7e5e152f05c311fc5df38030c8027fa', 'message': 'Reduce RabbitMQ busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. With the following Erlang VM argument we saw\nRabbitMQ CPU usage drop from about 150% to around 20%, on a system with\n40 hyperthreads.\n\n    +S 2:2\n\nBy default RabbitMQ starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a typical\nKolla Ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n    +sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of RabbitMQ\nused in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nRelated-Bug: #1846467\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)\n'}]",0,799238,21cef390e7e5e152f05c311fc5df38030c8027fa,10,4,1,14826,,,0,"Reduce RabbitMQ busy waiting, lowering CPU load

On machines with many cores, we were seeing excessive CPU load on systems
that were not very busy. With the following Erlang VM argument we saw
RabbitMQ CPU usage drop from about 150% to around 20%, on a system with
40 hyperthreads.

    +S 2:2

By default RabbitMQ starts N schedulers where N is the number of CPU
cores, including hyper-threaded cores. This is fine when you assume all
your CPUs are dedicated to RabbitMQ. Its not a good idea in a typical
Kolla Ansible setup. Here we go for two scheduler threads.
More details can be found here:
https://www.rabbitmq.com/runtime.html#scheduling
and here:
https://erlang.org/doc/man/erl.html#emulator-flags

    +sbwt none

This stops busy waiting of the scheduler, for more details see:
https://www.rabbitmq.com/runtime.html#busy-waiting
Newer versions of rabbit may need additional flags:
""+sbwt none +sbwtdcpu none +sbwtdio none""
But this patch should be back portable to older versions of RabbitMQ
used in Train and Stein.

Note that information on this tuning was found by looking at data from:
rabbitmq-diagnostics runtime_thread_stats
More details on that can be found here:
https://www.rabbitmq.com/runtime.html#thread-stats

Related-Bug: #1846467

Change-Id: Iced014acee7e590c10848e73feca166f48b622dc
(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/799238/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml']",4,21cef390e7e5e152f05c311fc5df38030c8027fa,,"# More details can be found in the RabbitMQ docs: # https://www.rabbitmq.com/runtime.html#scheduling # https://www.rabbitmq.com/runtime.html#busy-waiting # The default tells RabbitMQ to always use two cores (+S 2:2), # and not to busy wait (+sbwt none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none""","#rabbitmq_server_additional_erl_args: """"",40,9
openstack%2Fkolla-ansible~stable%2Fwallaby~Iced014acee7e590c10848e73feca166f48b622dc,openstack/kolla-ansible,stable/wallaby,Iced014acee7e590c10848e73feca166f48b622dc,"Reduce RabbitMQ busy waiting, lowering CPU load",MERGED,2021-07-02 15:41:08.000000000,2021-07-28 21:04:57.000000000,2021-07-28 21:03:35.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-02 15:41:08.000000000', 'files': ['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c9b9179de6bc6f97530e4a9a251cbc9d7ee2366', 'message': 'Reduce RabbitMQ busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. With the following Erlang VM argument we saw\nRabbitMQ CPU usage drop from about 150% to around 20%, on a system with\n40 hyperthreads.\n\n    +S 2:2\n\nBy default RabbitMQ starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a typical\nKolla Ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n    +sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of RabbitMQ\nused in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nRelated-Bug: #1846467\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)\n'}]",0,799237,6c9b9179de6bc6f97530e4a9a251cbc9d7ee2366,10,4,1,14826,,,0,"Reduce RabbitMQ busy waiting, lowering CPU load

On machines with many cores, we were seeing excessive CPU load on systems
that were not very busy. With the following Erlang VM argument we saw
RabbitMQ CPU usage drop from about 150% to around 20%, on a system with
40 hyperthreads.

    +S 2:2

By default RabbitMQ starts N schedulers where N is the number of CPU
cores, including hyper-threaded cores. This is fine when you assume all
your CPUs are dedicated to RabbitMQ. Its not a good idea in a typical
Kolla Ansible setup. Here we go for two scheduler threads.
More details can be found here:
https://www.rabbitmq.com/runtime.html#scheduling
and here:
https://erlang.org/doc/man/erl.html#emulator-flags

    +sbwt none

This stops busy waiting of the scheduler, for more details see:
https://www.rabbitmq.com/runtime.html#busy-waiting
Newer versions of rabbit may need additional flags:
""+sbwt none +sbwtdcpu none +sbwtdio none""
But this patch should be back portable to older versions of RabbitMQ
used in Train and Stein.

Note that information on this tuning was found by looking at data from:
rabbitmq-diagnostics runtime_thread_stats
More details on that can be found here:
https://www.rabbitmq.com/runtime.html#thread-stats

Related-Bug: #1846467

Change-Id: Iced014acee7e590c10848e73feca166f48b622dc
(cherry picked from commit 70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/799237/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml']",4,6c9b9179de6bc6f97530e4a9a251cbc9d7ee2366,,"# More details can be found in the RabbitMQ docs: # https://www.rabbitmq.com/runtime.html#scheduling # https://www.rabbitmq.com/runtime.html#busy-waiting # The default tells RabbitMQ to always use two cores (+S 2:2), # and not to busy wait (+sbwt none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none""","#rabbitmq_server_additional_erl_args: """"",40,9
openstack%2Fneutron-dynamic-routing~master~I1a2d4005b0747031787c39e9b257533ff89ac811,openstack/neutron-dynamic-routing,master,I1a2d4005b0747031787c39e9b257533ff89ac811,Fix devstack gate script due to OVS file removal,ABANDONED,2021-06-17 03:56:06.000000000,2021-07-28 21:04:43.000000000,,"[{'_account_id': 841}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 03:56:06.000000000', 'files': ['neutron_dynamic_routing/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/3e680abe00aa8850479799df2abe20f7772b0a49', 'message': 'Fix devstack gate script due to OVS file removal\n\nThe neutron file devstack/lib/ovs was removed in\nhttps://review.opendev.org/c/openstack/neutron/+/793470\nin favor of using the devstack in-tree version at\nlib/neutron_plugins/ovs_source.  Start using it to\nfix the devstack gate_hook.sh script.\n\nChange-Id: I1a2d4005b0747031787c39e9b257533ff89ac811\n'}]",3,796750,3e680abe00aa8850479799df2abe20f7772b0a49,7,3,1,1131,,,0,"Fix devstack gate script due to OVS file removal

The neutron file devstack/lib/ovs was removed in
https://review.opendev.org/c/openstack/neutron/+/793470
in favor of using the devstack in-tree version at
lib/neutron_plugins/ovs_source.  Start using it to
fix the devstack gate_hook.sh script.

Change-Id: I1a2d4005b0747031787c39e9b257533ff89ac811
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/50/796750/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/tests/contrib/gate_hook.sh'],1,3e680abe00aa8850479799df2abe20f7772b0a49,fix-functional-jobs, source $DEVSTACK_PATH/lib/neutron_plugins/ovs_source, source $NEUTRON_PATH/devstack/lib/ovs,1,1
openstack%2Fnetworking-bagpipe~master~I28b8fb690912b1f1e70e0946f095ba4a39557c29,openstack/networking-bagpipe,master,I28b8fb690912b1f1e70e0946f095ba4a39557c29,Fix devstack gate script due to OVS file removal,ABANDONED,2021-06-17 03:56:02.000000000,2021-07-28 21:04:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 03:56:02.000000000', 'files': ['requirements.txt', 'devstack/gate_hook.sh', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/cdf913e20bd030d092dca23bf5c9b073616baae8', 'message': 'Fix devstack gate script due to OVS file removal\n\nThe neutron file devstack/lib/ovs was removed in\nhttps://review.opendev.org/c/openstack/neutron/+/793470\nin favor of using the devstack in-tree version at\nlib/neutron_plugins/ovs_source.  Start using it to\nfix the devstack/gate_hook.sh script.\n\nChange-Id: I28b8fb690912b1f1e70e0946f095ba4a39557c29\n'}]",0,796749,cdf913e20bd030d092dca23bf5c9b073616baae8,3,1,1,1131,,,0,"Fix devstack gate script due to OVS file removal

The neutron file devstack/lib/ovs was removed in
https://review.opendev.org/c/openstack/neutron/+/793470
in favor of using the devstack in-tree version at
lib/neutron_plugins/ovs_source.  Start using it to
fix the devstack/gate_hook.sh script.

Change-Id: I28b8fb690912b1f1e70e0946f095ba4a39557c29
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/49/796749/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'devstack/gate_hook.sh', 'lower-constraints.txt', 'tox.ini']",4,cdf913e20bd030d092dca23bf5c9b073616baae8,fix-functional-jobs,ignore_basepython_conflict = Truebasepython = python3,,40,38
openstack%2Foctavia~master~Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941,openstack/octavia,master,Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941,Remove deprecated misspelled quota fields,ABANDONED,2020-06-03 01:13:47.000000000,2021-07-28 21:04:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-03 01:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fede020d6c7934f03fa050c070738d8e846932c7', 'message': 'Remove deprecated misspelled quota fields\n\nQuota fields load_balancer and health_monitor were misspelled\nand replaced with loadbalancer and healthmonitor, respectively.\nAs they were marked for deprecation in the Rocky to be removed\nin Train, they can be safely be removed now.\n\nChange-Id: Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941\n'}, {'number': 2, 'created': '2020-06-05 19:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8cbc1d5491fd0897ecb05172f1f681b1ef1a7e25', 'message': 'Remove deprecated misspelled quota fields\n\nQuota fields load_balancer and health_monitor were misspelled\nand replaced with loadbalancer and healthmonitor, respectively.\nAs they were marked for deprecation in the Rocky to be removed\nin Train, they can be safely be removed now.\n\nChange-Id: Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941\n'}, {'number': 3, 'created': '2020-10-14 18:35:05.000000000', 'files': ['octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/base.py', 'octavia/api/v2/types/quotas.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f96135e1d9eac008bb52300f89415ca49c2664a3', 'message': 'Remove deprecated misspelled quota fields\n\nQuota fields load_balancer and health_monitor were misspelled\nand replaced with loadbalancer and healthmonitor, respectively.\nAs they were marked for deprecation in the Rocky to be removed\nin Train, they can be safely be removed now.\n\nChange-Id: Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941\n'}]",0,733032,f96135e1d9eac008bb52300f89415ca49c2664a3,10,2,3,1131,,,0,"Remove deprecated misspelled quota fields

Quota fields load_balancer and health_monitor were misspelled
and replaced with loadbalancer and healthmonitor, respectively.
As they were marked for deprecation in the Rocky to be removed
in Train, they can be safely be removed now.

Change-Id: Ia7e8ee8ab5aed94352657becb3c3ce3d6d5f1941
",git fetch https://review.opendev.org/openstack/octavia refs/changes/32/733032/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_quotas.py', 'octavia/api/v2/types/quotas.py']",2,fede020d6c7934f03fa050c070738d8e846932c7,misspelled-quota,," # Misspelled version, deprecated in Rocky load_balancer = wtypes.wsattr(wtypes.IntegerType( minimum=consts.MIN_QUOTA, maximum=consts.MAX_QUOTA)) # Misspelled version, deprecated in Rocky health_monitor = wtypes.wsattr(wtypes.IntegerType( minimum=consts.MIN_QUOTA, maximum=consts.MAX_QUOTA)) def to_dict(self, render_unsets=False): quota_dict = super(QuotaBase, self).to_dict(render_unsets) if 'loadbalancer' in quota_dict: quota_dict['load_balancer'] = quota_dict.pop('loadbalancer') if 'healthmonitor' in quota_dict: quota_dict['health_monitor'] = quota_dict.pop('healthmonitor') return quota_dict # Misspelled version, deprecated in Rocky, remove in T load_balancer = wtypes.wsattr(wtypes.IntegerType()) # Misspelled version, deprecated in Rocky, remove in T health_monitor = wtypes.wsattr(wtypes.IntegerType()) @classmethod def from_data_model(cls, data_model, children=False): quotas = super(QuotaAllBase, cls).from_data_model( data_model, children=children) # For backwards compatibility, remove in T quotas.load_balancer = quotas.loadbalancer # For backwards compatibility, remove in T quotas.health_monitor = quotas.healthmonitor return quotas ",49,111
openstack%2Foctavia-tempest-plugin~master~I57b081ceb4d06ade5631e92287c7204a5629f998,openstack/octavia-tempest-plugin,master,I57b081ceb4d06ade5631e92287c7204a5629f998,Create new octavia-dsvm-base-py3 job name,ABANDONED,2020-01-24 23:03:32.000000000,2021-07-28 21:03:38.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-24 23:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/79ba68d7dcdff9cedc957ea66ef808a6a805c25e', 'message': 'Create new octavia-dsvm-base-py3 job name\n\nBased on parent tempest-multinode-full-py3\n\nChange-Id: I57b081ceb4d06ade5631e92287c7204a5629f998\n'}, {'number': 2, 'created': '2020-04-20 21:04:09.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c854cd788c205bf0abab350d4492182aac63615d', 'message': 'Create new octavia-dsvm-base-py3 job name\n\nBased on parent tempest-multinode-full-py3\n\nChange-Id: I57b081ceb4d06ade5631e92287c7204a5629f998\n'}]",0,704204,c854cd788c205bf0abab350d4492182aac63615d,7,2,2,1131,,,0,"Create new octavia-dsvm-base-py3 job name

Based on parent tempest-multinode-full-py3

Change-Id: I57b081ceb4d06ade5631e92287c7204a5629f998
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/04/704204/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,79ba68d7dcdff9cedc957ea66ef808a6a805c25e,py3-job-cleanup, required-projects: &base-required-projects irrelevant-files: &base-irrelevant-files vars: &base-vars name: octavia-dsvm-base-py3 parent: tempest-multinode-full-py3 timeout: 7800 required-projects: *base-required-projects pre-run: playbooks/Octavia-DSVM/pre.yaml irrelevant-files: *base-irrelevant-files vars: *base-vars - job: required-projects: *base-required-projects irrelevant-files: *base-irrelevant-files vars: *base-vars irrelevant-files: &scenario-irrelevant-files irrelevant-files: *scenario-irrelevant-files irrelevant-files: *scenario-irrelevant-files irrelevant-files: *scenario-irrelevant-files irrelevant-files: *scenario-irrelevant-files, required-projects: irrelevant-files: vars: required-projects: - openstack/octavia - openstack/octavia-lib - openstack/octavia-tempest-plugin - openstack/python-octaviaclient irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ vars: devstack_localrc: TEMPEST_PLUGINS: /opt/stack/octavia-tempest-plugin USE_PYTHON3: true devstack_local_conf: post-config: $OCTAVIA_CONF: DEFAULT: debug: True devstack_services: c-bak: false ceilometer-acentral: false ceilometer-acompute: false ceilometer-alarm-evaluator: false ceilometer-alarm-notifier: false ceilometer-anotification: false ceilometer-api: false ceilometer-collector: false c-sch: false c-api: false c-vol: false cinder: false octavia: true o-api: true o-cw: true o-hm: true o-hk: true swift: false s-account: false s-container: false s-object: false s-proxy: false tempest: true devstack_plugins: octavia: https://opendev.org/openstack/octavia.git irrelevant-files: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^octavia_tempest_plugin/tests/(?!scenario/|\w+\.py).* irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^octavia_tempest_plugin/tests/(?!scenario/|\w+\.py).* irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^octavia_tempest_plugin/tests/(?!scenario/|\w+\.py).* irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^octavia_tempest_plugin/tests/(?!barbican_scenario/|\w+\.py).*,20,78
openstack%2Foctavia~master~I4165631e3f2e050b6ca610407154a3ab8ad48e10,openstack/octavia,master,I4165631e3f2e050b6ca610407154a3ab8ad48e10,Change return value of get_listener_realserver_mapping(),ABANDONED,2021-03-03 21:27:42.000000000,2021-07-28 21:03:22.000000000,,"[{'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 21:27:42.000000000', 'files': ['octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fae3961b2ebe3d01c51f35b6e0257d2d0e823737', 'message': 'Change return value of get_listener_realserver_mapping()\n\nChange from a tuple to a dictionary since the first\nargument was never used by callers.\n\nChange-Id: I4165631e3f2e050b6ca610407154a3ab8ad48e10\n'}]",2,778582,fae3961b2ebe3d01c51f35b6e0257d2d0e823737,5,2,1,1131,,,0,"Change return value of get_listener_realserver_mapping()

Change from a tuple to a dictionary since the first
argument was never used by callers.

Change-Id: I4165631e3f2e050b6ca610407154a3ab8ad48e10
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/778582/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",2,fae3961b2ebe3d01c51f35b6e0257d2d0e823737,get_listener_realserver_mapping," self.assertEqual(expected, result) self.assertEqual(expected, result) self.assertEqual({}, result) self.assertEqual({}, result) mock_get_mapping.return_value = {}"," self.assertEqual((True, expected), result) self.assertEqual((True, expected), result) self.assertEqual((False, {}), result) self.assertEqual((False, {}), result) mock_get_mapping.return_value = (False, {})",7,7
openstack%2Fnova~master~Icf4fa9c0137023030a04ef618016f532d0f33468,openstack/nova,master,Icf4fa9c0137023030a04ef618016f532d0f33468,manager: Move context manager up one level,NEW,2020-08-11 13:38:19.000000000,2021-07-28 20:48:38.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-11 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fd9b2dd2b24f574a08997695a877ab38b413545', 'message': 'manager: Move context manager up one level\n\nThis results in much improved readability and mirrors what we are doing\nelsewhere.\n\nChange-Id: Icf4fa9c0137023030a04ef618016f532d0f33468\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-08-19 19:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bf045634c57628665472cc2b65ecefa95b80654', 'message': 'manager: Move context manager up one level\n\nThis results in much improved readability and mirrors what we are doing\nelsewhere.\n\nChange-Id: Icf4fa9c0137023030a04ef618016f532d0f33468\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-08-24 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df7da5ae205fc58398c7f8e20377df058c130c3e', 'message': 'manager: Move context manager up one level\n\nThis results in much improved readability and mirrors what we are doing\nelsewhere.\n\nChange-Id: Icf4fa9c0137023030a04ef618016f532d0f33468\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2020-08-25 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a255dbe5bd9ce94706b746848665d4ad072973f', 'message': 'manager: Move context manager up one level\n\nThis results in much improved readability and mirrors what we are doing\nelsewhere.\n\nChange-Id: Icf4fa9c0137023030a04ef618016f532d0f33468\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2020-08-26 09:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f41a4e1e07ab9f8975b51fc82e73198556d7f012', 'message': 'manager: Move context manager up one level\n\nThis results in much improved readability and mirrors what we are doing\nelsewhere.\n\nChange-Id: Icf4fa9c0137023030a04ef618016f532d0f33468\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2020-09-03 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8e2b11c8eec9c90c8ec64a5f59eab4207143fbc', 'message': 'manager: Move context manager up one level\n\nThis results in much improved readability and mirrors what we are doing\nelsewhere.\n\nChange-Id: Icf4fa9c0137023030a04ef618016f532d0f33468\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2021-07-27 15:29:52.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3d9ad2d076d992923b84155cf8e152d9aa913c61', 'message': 'manager: Move context manager up one level\n\nThis results in much improved readability and mirrors what we are doing\nelsewhere.\n\nChange-Id: Icf4fa9c0137023030a04ef618016f532d0f33468\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,745674,3d9ad2d076d992923b84155cf8e152d9aa913c61,92,13,7,15334,,,0,"manager: Move context manager up one level

This results in much improved readability and mirrors what we are doing
elsewhere.

Change-Id: Icf4fa9c0137023030a04ef618016f532d0f33468
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/745674/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,2fd9b2dd2b24f574a08997695a877ab38b413545,bug/1879878," with self._error_out_instance_on_exception(context, instance): self._finish_revert_resize( context, instance, migration, request_spec) bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) self._notify_about_instance_usage( context, instance, ""resize.revert.start"") compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_REVERT, phase=fields.NotificationPhase.START, bdms=bdms) # Get stashed old_vm_state information to determine if guest should # be powered on after spawn; we default to ACTIVE for backwards # compatibility if old_vm_state is not set old_vm_state = instance.system_metadata.get( 'old_vm_state', vm_states.ACTIVE) # Revert the flavor and host/node fields to their previous values self._revert_instance_flavor_host_node(instance, migration) try: source_allocations = self._revert_allocation( context, instance, migration) except exception.AllocationMoveFailed: LOG.error('Reverting allocation in placement for migration ' '%(migration_uuid)s failed. The instance ' '%(instance_uuid)s will be put into ERROR state but ' 'the allocation held by the migration is leaked.', {'instance_uuid': instance.uuid, 'migration_uuid': migration.uuid}) raise provider_mappings = self._fill_provider_mapping_based_on_allocs( context, source_allocations, request_spec) self.network_api.setup_networks_on_host( context, instance, migration.source_compute) self._finish_revert_resize_network_migrate_finish( context, instance, migration, provider_mappings) network_info = self.network_api.get_instance_nw_info( context, instance) # revert_resize deleted any volume attachments for the instance # and created new ones to be used on this host, but we # have to update those attachments with the host connector so the # BDM.connection_info will get set in the call to # _get_instance_block_device_info below with refresh_conn_info=True # and then the volumes can be re-connected via the driver on this # host. self._update_volume_attachments(context, instance, bdms) block_device_info = self._get_instance_block_device_info( context, instance, refresh_conn_info=True, bdms=bdms) power_on = old_vm_state != vm_states.STOPPED self.driver.finish_revert_migration( context, instance, network_info, migration, block_device_info, power_on) instance.drop_migration_context() instance.launched_at = timeutils.utcnow() instance.save(expected_task_state=task_states.RESIZE_REVERTING) # Complete any volume attachments so the volumes are in-use. self._complete_volume_attachments(context, bdms) # if the original vm state was STOPPED, set it back to STOPPED LOG.info(""Updating instance to original state: '%s'"", old_vm_state, instance=instance) if power_on: instance.vm_state = vm_states.ACTIVE instance.task_state = None instance.save() else: instance.task_state = task_states.POWERING_OFF instance.save() self.stop_instance(context, instance=instance, clean_shutdown=True) self._notify_about_instance_usage( context, instance, ""resize.revert.end"") compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_REVERT, phase=fields.NotificationPhase.END, bdms=bdms)"," self._finish_revert_resize( context, instance, migration, request_spec) with self._error_out_instance_on_exception(context, instance): bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) self._notify_about_instance_usage( context, instance, ""resize.revert.start"") compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_REVERT, phase=fields.NotificationPhase.START, bdms=bdms) # Get stashed old_vm_state information to determine if guest should # be powered on after spawn; we default to ACTIVE for backwards # compatibility if old_vm_state is not set old_vm_state = instance.system_metadata.get( 'old_vm_state', vm_states.ACTIVE) # Revert the flavor and host/node fields to their previous values self._revert_instance_flavor_host_node(instance, migration) try: source_allocations = self._revert_allocation( context, instance, migration) except exception.AllocationMoveFailed: LOG.error('Reverting allocation in placement for migration ' '%(migration_uuid)s failed. The instance ' '%(instance_uuid)s will be put into ERROR state but ' 'the allocation held by the migration is leaked.', {'instance_uuid': instance.uuid, 'migration_uuid': migration.uuid}) raise provider_mappings = self._fill_provider_mapping_based_on_allocs( context, source_allocations, request_spec) self.network_api.setup_networks_on_host(context, instance, migration.source_compute) self._finish_revert_resize_network_migrate_finish( context, instance, migration, provider_mappings) network_info = self.network_api.get_instance_nw_info(context, instance) # revert_resize deleted any volume attachments for the instance # and created new ones to be used on this host, but we # have to update those attachments with the host connector so the # BDM.connection_info will get set in the call to # _get_instance_block_device_info below with refresh_conn_info=True # and then the volumes can be re-connected via the driver on this # host. self._update_volume_attachments(context, instance, bdms) block_device_info = self._get_instance_block_device_info( context, instance, refresh_conn_info=True, bdms=bdms) power_on = old_vm_state != vm_states.STOPPED self.driver.finish_revert_migration( context, instance, network_info, migration, block_device_info, power_on) instance.drop_migration_context() instance.launched_at = timeutils.utcnow() instance.save(expected_task_state=task_states.RESIZE_REVERTING) # Complete any volume attachments so the volumes are in-use. self._complete_volume_attachments(context, bdms) # if the original vm state was STOPPED, set it back to STOPPED LOG.info(""Updating instance to original state: '%s'"", old_vm_state, instance=instance) if power_on: instance.vm_state = vm_states.ACTIVE instance.task_state = None instance.save() else: instance.task_state = task_states.POWERING_OFF instance.save() self.stop_instance(context, instance=instance, clean_shutdown=True) self._notify_about_instance_usage( context, instance, ""resize.revert.end"") compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_REVERT, phase=fields.NotificationPhase.END, bdms=bdms)",72,72
openstack%2Foctavia~master~If51065088bd7c5c0189cd1b13f49ef7f6089afb3,openstack/octavia,master,If51065088bd7c5c0189cd1b13f49ef7f6089afb3,Use more inclusive language for amphora roles,ABANDONED,2020-11-19 23:01:04.000000000,2021-07-28 20:33:17.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 23:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c3d2fa3628d3c0461b8c5b839b4ab2f7e3d3b20d', 'message': 'Use more inclusive language for amphora roles\n\nAdd PRIMARY as a valid amphora role and start using it\nthroughout the code.\n\nChange-Id: If51065088bd7c5c0189cd1b13f49ef7f6089afb3\n'}, {'number': 2, 'created': '2021-01-05 21:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7875a9b37f04c67faf8e6b08bccf65e23bddcf1a', 'message': 'Use more inclusive language for amphora roles\n\nAdd PRIMARY as a valid amphora role and start using it\nthroughout the code.\n\nChange-Id: If51065088bd7c5c0189cd1b13f49ef7f6089afb3\n'}, {'number': 3, 'created': '2021-02-01 23:07:50.000000000', 'files': ['api-ref/source/parameters.yaml', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'api-ref/source/v2/examples/amphora-show-response.json', 'api-ref/source/v2/examples/amphora-list-response.json', 'octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'releasenotes/notes/use-inclusive-language-amphora-roles-c451d8ae8b81a198.yaml', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/common/constants.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/tests/unit/common/test_data_models.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/tests/unit/amphorae/drivers/keepalived/jinja/test_jinja_cfg.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/amphorae/drivers/keepalived/jinja/jinja_cfg.py', 'octavia/db/migration/alembic_migrations/versions/c45de297d68f_add_primary_amphora_role.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b4f00dcf179b6e7ab693a169bf5743b38536cc4d', 'message': 'Use more inclusive language for amphora roles\n\nAdd PRIMARY as a valid amphora role and start using it\nthroughout the code.\n\nChange-Id: If51065088bd7c5c0189cd1b13f49ef7f6089afb3\n'}]",4,763481,b4f00dcf179b6e7ab693a169bf5743b38536cc4d,22,6,3,1131,,,0,"Use more inclusive language for amphora roles

Add PRIMARY as a valid amphora role and start using it
throughout the code.

Change-Id: If51065088bd7c5c0189cd1b13f49ef7f6089afb3
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/763481/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'api-ref/source/v2/examples/amphora-show-response.json', 'api-ref/source/v2/examples/amphora-list-response.json', 'octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/common/constants.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/tests/unit/common/test_data_models.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/tests/unit/amphorae/drivers/keepalived/jinja/test_jinja_cfg.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/amphorae/drivers/keepalived/jinja/jinja_cfg.py', 'octavia/db/migration/alembic_migrations/versions/c45de297d68f_add_primary_amphora_role.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py']",27,c3d2fa3628d3c0461b8c5b839b4ab2f7e3d3b20d,master-to-primary, amphora_mock.role = constants.ROLE_PRIMARY amphora_mock.role = constants.ROLE_PRIMARY amphora_mock.role = constants.ROLE_PRIMARY amphora2_mock.role = constants.ROLE_PRIMARY amphora2_mock.role = constants.ROLE_PRIMARY amphora2_mock.role = constants.ROLE_PRIMARY, amphora_mock.role = constants.ROLE_MASTER amphora_mock.role = constants.ROLE_MASTER amphora_mock.role = constants.ROLE_MASTER amphora2_mock.role = constants.ROLE_MASTER amphora2_mock.role = constants.ROLE_MASTER amphora2_mock.role = constants.ROLE_MASTER,189,133
openstack%2Fmanila~master~If0bbac2d153348f26f5b60cba3eb492926aa53c5,openstack/manila,master,If0bbac2d153348f26f5b60cba3eb492926aa53c5,Add documentation for per share gigabytes quotas,MERGED,2021-04-10 05:23:35.000000000,2021-07-28 20:22:50.000000000,2021-07-28 20:21:11.000000000,"[{'_account_id': 16643}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-04-10 05:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1ce32157a28a8311325def89e46c99c3f70e1d29', 'message': 'Add documentation for per share gigabytes quotas\n\nUpdate documentation to fit into the new manila quota key:\n- `per_share_gigabytes`\n\nCloses-Bug: #1918959\nChange-Id: If0bbac2d153348f26f5b60cba3eb492926aa53c5\n'}, {'number': 2, 'created': '2021-04-10 06:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/eb0df31c2997da26a53095c4785315a891cc909e', 'message': 'Add documentation for per share gigabytes quotas\n\nUpdate documentation to fit into the new manila quota key:\n- `per_share_gigabytes`\n\nCloses-Bug: #1918959\nChange-Id: If0bbac2d153348f26f5b60cba3eb492926aa53c5\n'}, {'number': 3, 'created': '2021-05-07 03:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9ac84205fb6cc3831e48f98eb0097fca4842cf7d', 'message': 'Add documentation for per share gigabytes quotas\n\nUpdate documentation to fit into the new manila quota key:\n- `per_share_gigabytes`\n\nCloses-Bug: #1918959\nChange-Id: If0bbac2d153348f26f5b60cba3eb492926aa53c5\n'}, {'number': 4, 'created': '2021-05-24 07:24:20.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/quota-classes-show-response.json', 'api-ref/source/samples/quota-update-response.json', 'api-ref/source/quota-sets.inc', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'api-ref/source/samples/quota-show-detail-response.json', 'doc/source/admin/shared-file-systems-quotas.rst', 'api-ref/source/samples/quota-show-response.json', 'api-ref/source/samples/quota-update-request.json', 'doc/source/configuration/shared-file-systems/overview.rst', 'api-ref/source/samples/quota-classes-update-response.json', 'api-ref/source/quota-classes.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/df3382d9606bbc0fb9d9a2ecff6a2170a17a5007', 'message': 'Add documentation for per share gigabytes quotas\n\nUpdate documentation to fit into the new manila quota key:\n- `per_share_gigabytes`\n\nCloses-Bug: #1918959\nChange-Id: If0bbac2d153348f26f5b60cba3eb492926aa53c5\n'}]",0,785744,df3382d9606bbc0fb9d9a2ecff6a2170a17a5007,34,4,4,32919,,,0,"Add documentation for per share gigabytes quotas

Update documentation to fit into the new manila quota key:
- `per_share_gigabytes`

Closes-Bug: #1918959
Change-Id: If0bbac2d153348f26f5b60cba3eb492926aa53c5
",git fetch https://review.opendev.org/openstack/manila refs/changes/44/785744/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/quota-classes-show-response.json', 'api-ref/source/samples/quota-update-response.json', 'api-ref/source/quota-sets.inc', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'api-ref/source/samples/quota-show-detail-response.json', 'doc/source/admin/shared-file-systems-quotas.rst', 'api-ref/source/samples/quota-show-response.json', 'api-ref/source/samples/quota-update-request.json', 'doc/source/configuration/shared-file-systems/overview.rst', 'api-ref/source/samples/quota-classes-update-response.json', 'api-ref/source/quota-classes.inc']",12,1ce32157a28a8311325def89e46c99c3f70e1d29,bug/1918959, Per share gigabytes was added to quota management APIs in API version 2.62. - per_share_gigabytes: perShareGigabytes - per-share-gigabytes: perShareGigabytesOptional - per_share_gigabytes: perShareGigabytes,,73,6
openstack%2Fmanila~master~I67eff8c9733500813435cde2dbda28a3c4a3ccf3,openstack/manila,master,I67eff8c9733500813435cde2dbda28a3c4a3ccf3,tests: Remove use of 'oslo_db.sqlalchemy.test_base',MERGED,2021-07-28 17:08:09.000000000,2021-07-28 20:21:42.000000000,2021-07-28 20:20:14.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 17:08:09.000000000', 'files': ['manila/tests/db/migrations/alembic/test_migration.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/46f47a3f951cbde9cacfdd1636f0c0a814f1f3c4', 'message': ""tests: Remove use of 'oslo_db.sqlalchemy.test_base'\n\nThe various test cases and mixins in 'oslo_db.sqlalchemy.test_base' have\nbeen deprecated since oslo.db 4.34.0 (March 2018). Remove use of these.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I67eff8c9733500813435cde2dbda28a3c4a3ccf3\n""}]",0,802763,46f47a3f951cbde9cacfdd1636f0c0a814f1f3c4,14,3,1,15334,,,0,"tests: Remove use of 'oslo_db.sqlalchemy.test_base'

The various test cases and mixins in 'oslo_db.sqlalchemy.test_base' have
been deprecated since oslo.db 4.34.0 (March 2018). Remove use of these.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I67eff8c9733500813435cde2dbda28a3c4a3ccf3
",git fetch https://review.opendev.org/openstack/manila refs/changes/63/802763/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/db/migrations/alembic/test_migration.py'],1,46f47a3f951cbde9cacfdd1636f0c0a814f1f3c4,cleanup,"from oslo_db.sqlalchemy import enginefacade from oslo_db.sqlalchemy import test_fixturesfrom oslotest import base as test_base def setUp(self): super().setUp() self.engine = enginefacade.writer.get_engine() class TestManilaMigrationsMySQL( ManilaMigrationsCheckers, test_fixtures.OpportunisticDBTestMixin, test_base.BaseTestCase, ): FIXTURE = test_fixtures.MySQLOpportunisticFixture ManilaMigrationsCheckers, test_fixtures.OpportunisticDBTestMixin, test_base.BaseTestCase, ): FIXTURE = test_fixtures.PostgresqlOpportunisticFixture","from oslo_db.sqlalchemy import test_baseclass TestManilaMigrationsMySQL(ManilaMigrationsCheckers, test_base.MySQLOpportunisticTestCase): ManilaMigrationsCheckers, test_base.PostgreSQLOpportunisticTestCase):",18,4
openstack%2Fproject-config~master~I996a35fd39485c2a858502683ecfd2d516380738,openstack/project-config,master,I996a35fd39485c2a858502683ecfd2d516380738,Make Sunny an operator on Kata IRC channels,MERGED,2021-07-28 17:59:56.000000000,2021-07-28 20:05:39.000000000,2021-07-28 19:35:46.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 17:59:56.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/279d6d4d9d1f4e2b10cd0da9cb2c2cc7294a28f8', 'message': 'Make Sunny an operator on Kata IRC channels\n\nChange-Id: I996a35fd39485c2a858502683ecfd2d516380738\n'}]",0,802765,279d6d4d9d1f4e2b10cd0da9cb2c2cc7294a28f8,8,3,1,5263,,,0,"Make Sunny an operator on Kata IRC channels

Change-Id: I996a35fd39485c2a858502683ecfd2d516380738
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/802765/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,279d6d4d9d1f4e2b10cd0da9cb2c2cc7294a28f8,oftc, ops: - Sunny ops: - Sunny,,4,0
openstack%2Foctavia~master~Ia255c320977deabf0787365cb884b3212164a010,openstack/octavia,master,Ia255c320977deabf0787365cb884b3212164a010,DNM: Dependent patch for two-node job debugging,ABANDONED,2020-01-24 23:22:06.000000000,2021-07-28 20:03:40.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-24 23:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d5d8976da1c7eac42d46ff5a1717c6bb5c343e3e', 'message': 'DNM: Dependent patch for two-node job debugging\n\nDepends-on: https://review.opendev.org/#/c/704202\nChange-Id: Ia255c320977deabf0787365cb884b3212164a010\n'}, {'number': 2, 'created': '2020-04-02 22:28:07.000000000', 'files': ['octavia/version.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/980dd033d609d83c6dd9751e77dc1949b89c834d', 'message': 'DNM: Dependent patch for two-node job debugging\n\nDepends-on: https://review.opendev.org/#/c/704202\nChange-Id: Ia255c320977deabf0787365cb884b3212164a010\n'}]",0,704205,980dd033d609d83c6dd9751e77dc1949b89c834d,17,2,2,1131,,,0,"DNM: Dependent patch for two-node job debugging

Depends-on: https://review.opendev.org/#/c/704202
Change-Id: Ia255c320977deabf0787365cb884b3212164a010
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/704205/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/version.py'],1,d5d8976da1c7eac42d46ff5a1717c6bb5c343e3e,two-node-testing,# TEST,,1,0
openstack%2Fneutron~master~Ib8ccefa13c31750711261eedf5df4bdae1137f44,openstack/neutron,master,Ib8ccefa13c31750711261eedf5df4bdae1137f44,Add state logic to l3-agent router processing,ABANDONED,2017-11-03 15:07:14.000000000,2021-07-28 20:03:09.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10267}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 15:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce6758d75092da789abe2bc35cf2f32534c016c7', 'message': 'Add state logic to l3-agent router processing\n\nThere are cases where we can not be done initializing\na router, but start processing an update for it anyways.\nAdd a small bit of state to router_info so we re-enqueue\nany updates if we are still creating a router.\n\nHad to hack a couple of tests to fake-activate, as well\nas catch some exceptions due to side-effects of\nnotifications triggering a call to the prefix delegation\ncode.\n\nChange-Id: Ib8ccefa13c31750711261eedf5df4bdae1137f44\nRelated-bug: #1726370\n'}, {'number': 2, 'created': '2017-11-03 20:03:18.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/l3/router_info.py', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09c8250518ce25596343e904c917085c7e322e88', 'message': 'Add state logic to l3-agent router processing\n\nThere are cases where we can not be done initializing\na router, but start processing an update for it anyways.\nAdd a small bit of state to router_info so we re-enqueue\nany updates if we are still creating a router.\n\nHad to hack a couple of tests to fake-activate, as well\nas catch some exceptions due to side-effects of\nnotifications triggering a call to the prefix delegation\ncode.\n\nChange-Id: Ib8ccefa13c31750711261eedf5df4bdae1137f44\nRelated-bug: #1726370\n'}]",8,517639,09c8250518ce25596343e904c917085c7e322e88,15,7,2,1131,,,0,"Add state logic to l3-agent router processing

There are cases where we can not be done initializing
a router, but start processing an update for it anyways.
Add a small bit of state to router_info so we re-enqueue
any updates if we are still creating a router.

Had to hack a couple of tests to fake-activate, as well
as catch some exceptions due to side-effects of
notifications triggering a call to the prefix delegation
code.

Change-Id: Ib8ccefa13c31750711261eedf5df4bdae1137f44
Related-bug: #1726370
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/517639/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/l3/router_info.py', 'neutron/common/exceptions.py']",4,ce6758d75092da789abe2bc35cf2f32534c016c7,bug/1726370,"class RouterNotActive(e.NeutronException): message = _(""Router '%(router_id)s' is not active, will resync."") ",,40,2
openstack%2Foctavia-tempest-plugin~master~I0fb0f1c4bc7f5187b482367545936df0b9f7b547,openstack/octavia-tempest-plugin,master,I0fb0f1c4bc7f5187b482367545936df0b9f7b547,DNM - Test OVN provider with devstack IPv6 change,ABANDONED,2021-05-10 15:32:38.000000000,2021-07-28 20:01:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-10 15:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/92d4ce9a3df5e516463e2e8443cf4c2255203fd6', 'message': ""DNM - Test OVN provider with devstack IPv6 change\n\nWith the parent change of refactoring the IPv6 tests, the\nOVN provider tests now fail.  Let's see if Greg's IPv6\nML2/OVN subnet fix for devstack helps with that.  At worst\nit will help with debugging.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/780628\nChange-Id: I0fb0f1c4bc7f5187b482367545936df0b9f7b547\n""}, {'number': 2, 'created': '2021-05-10 19:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9ab78a70888c19201971bb8a1e671823bf207a0f', 'message': ""DNM - Test OVN provider with devstack IPv6 change\n\nWith the parent change of refactoring the IPv6 tests, the\nOVN provider tests now fail.  Let's see if Greg's IPv6\nML2/OVN subnet fix for devstack helps with that.  At worst\nit will help with debugging.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/780628\nChange-Id: I0fb0f1c4bc7f5187b482367545936df0b9f7b547\n""}, {'number': 3, 'created': '2021-05-10 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/02f56f7ece639203c6a361c0b587fb83ca5854c2', 'message': ""DNM - Test OVN provider with devstack IPv6 change\n\nWith the parent change of refactoring the IPv6 tests, the\nOVN provider tests now fail.  Let's see if Greg's IPv6\nML2/OVN subnet fix for devstack helps with that.  At worst\nit will help with debugging.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/780628\nChange-Id: I0fb0f1c4bc7f5187b482367545936df0b9f7b547\n""}, {'number': 4, 'created': '2021-05-18 20:57:05.000000000', 'files': ['octavia_tempest_plugin/plugin.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/26d255644c5bfe4b08ff5b90715abff8c2bbd7ca', 'message': ""DNM - Test OVN provider with devstack IPv6 change\n\nWith the parent change of refactoring the IPv6 tests, the\nOVN provider tests now fail.  Let's see if Greg's IPv6\nML2/OVN subnet fix for devstack helps with that.  At worst\nit will help with debugging.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/780628\nChange-Id: I0fb0f1c4bc7f5187b482367545936df0b9f7b547\n""}]",0,790477,26d255644c5bfe4b08ff5b90715abff8c2bbd7ca,31,1,4,1131,,,0,"DNM - Test OVN provider with devstack IPv6 change

With the parent change of refactoring the IPv6 tests, the
OVN provider tests now fail.  Let's see if Greg's IPv6
ML2/OVN subnet fix for devstack helps with that.  At worst
it will help with debugging.

Depends-on: https://review.opendev.org/c/openstack/devstack/+/780628
Change-Id: I0fb0f1c4bc7f5187b482367545936df0b9f7b547
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/77/790477/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/plugin.py', 'zuul.d/projects.yaml']",2,92d4ce9a3df5e516463e2e8443cf4c2255203fd6,ovn-test, # - octavia-v2-dsvm-noop-api-stable-victoria # - octavia-v2-dsvm-noop-api-stable-ussuri # - octavia-v2-dsvm-noop-api-stable-train # - octavia-v2-dsvm-noop-api-scoped-tokens # - octavia-v2-dsvm-scenario-stable-victoria # - octavia-v2-dsvm-scenario-stable-ussuri # - octavia-v2-dsvm-scenario-stable-train # - octavia-v2-dsvm-tls-barbican # - octavia-v2-dsvm-tls-barbican-stable-victoria # - octavia-v2-dsvm-tls-barbican-stable-ussuri # - octavia-v2-dsvm-tls-barbican-stable-train # - octavia-v2-dsvm-scenario-ipv6-only: # voting: false # - octavia-v2-dsvm-scenario-centos-8: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-two-node: # voting: false # - octavia-v2-act-stdby-dsvm-scenario: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-stable-victoria: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-stable-ussuri: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-stable-train: # voting: false # - octavia-v2-dsvm-spare-pool: # voting: false # - octavia-v2-dsvm-spare-pool-stable-victoria: # voting: false # - octavia-v2-dsvm-spare-pool-stable-ussuri: # voting: false # - octavia-v2-dsvm-spare-pool-stable-train: # voting: false # - octavia-v2-dsvm-cinder-amphora: # voting: false, - octavia-v2-dsvm-noop-api-stable-victoria - octavia-v2-dsvm-noop-api-stable-ussuri - octavia-v2-dsvm-noop-api-stable-train - octavia-v2-dsvm-noop-api-scoped-tokens - octavia-v2-dsvm-scenario-stable-victoria - octavia-v2-dsvm-scenario-stable-ussuri - octavia-v2-dsvm-scenario-stable-train - octavia-v2-dsvm-tls-barbican - octavia-v2-dsvm-tls-barbican-stable-victoria - octavia-v2-dsvm-tls-barbican-stable-ussuri - octavia-v2-dsvm-tls-barbican-stable-train - octavia-v2-dsvm-scenario-ipv6-only: voting: false - octavia-v2-dsvm-scenario-centos-8: voting: false - octavia-v2-act-stdby-dsvm-scenario-two-node: voting: false - octavia-v2-act-stdby-dsvm-scenario: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-victoria: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-ussuri: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-train: voting: false - octavia-v2-dsvm-spare-pool: voting: false - octavia-v2-dsvm-spare-pool-stable-victoria: voting: false - octavia-v2-dsvm-spare-pool-stable-ussuri: voting: false - octavia-v2-dsvm-spare-pool-stable-train: voting: false - octavia-v2-dsvm-cinder-amphora: voting: false,36,35
openstack%2Foctavia~master~Id4d793b6dcf39dbe882d537233a9302be3eab314,openstack/octavia,master,Id4d793b6dcf39dbe882d537233a9302be3eab314,DNM: Allow multiple VIPs per LB - CRUD,ABANDONED,2021-07-09 00:09:54.000000000,2021-07-28 20:00:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-09 00:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e445fbeee16c2fed4f1d892ec433c78873a1bd97', 'message': 'DNM: Allow multiple VIPs per LB - CRUD\n\nUser can specify additional subnet_id/ip_address pairs to bring up on\nthe VIP port. This will allow for situations like having an LB with both\nIPv4+IPv6 or being exposed on both public and a private network.\nThanks Michael for help with validating/fixing the templates!\nThanks Gregory for help with the centos networking!\n\nNOTE: This is just the CRUD pieces, with a little extra to make tests\npass. I want to split it up into pieces in order to better rebase\nonto the generic network interface management change,\nhttps://review.opendev.org/c/openstack/octavia/+/761195\nEntire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/\n\nChange-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nStory: 2005608\nTask: 30847\n'}, {'number': 2, 'created': '2021-07-14 19:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3ad520dcaa4552dc088fe8fe8b150e1b96579fa2', 'message': 'DNM: Allow multiple VIPs per LB - CRUD\n\nUser can specify additional subnet_id/ip_address pairs to bring up on\nthe VIP port. This will allow for situations like having an LB with both\nIPv4+IPv6 or being exposed on both public and a private network.\nThanks Michael for help with validating/fixing the templates!\nThanks Gregory for help with the centos networking!\n\nNOTE: This is just the CRUD pieces, with a little extra to make tests\npass. I want to split it up into pieces in order to better rebase\nonto the generic network interface management change,\nhttps://review.opendev.org/c/openstack/octavia/+/761195\nEntire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/\n\nChange-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nStory: 2005608\nTask: 30847\n'}, {'number': 3, 'created': '2021-07-15 15:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/828cee9e899022ace727329ef04a3f65f1646e1e', 'message': 'DNM: Allow multiple VIPs per LB - CRUD\n\nUser can specify additional subnet_id/ip_address pairs to bring up on\nthe VIP port. This will allow for situations like having an LB with both\nIPv4+IPv6 or being exposed on both public and a private network.\nThanks Michael for help with validating/fixing the templates!\nThanks Gregory for help with the centos networking!\n\nNOTE: This is just the CRUD pieces, with a little extra to make tests\npass. I want to split it up into pieces in order to better rebase\nonto the generic network interface management change,\nhttps://review.opendev.org/c/openstack/octavia/+/761195\nEntire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/\n\nChange-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nStory: 2005608\nTask: 30847\n'}, {'number': 4, 'created': '2021-07-15 16:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5332478a21e4db7cfeb60e30127d120de9c70a31', 'message': 'DNM: Allow multiple VIPs per LB - CRUD\n\nUser can specify additional subnet_id/ip_address pairs to bring up on\nthe VIP port. This will allow for situations like having an LB with both\nIPv4+IPv6 or being exposed on both public and a private network.\nThanks Michael for help with validating/fixing the templates!\nThanks Gregory for help with the centos networking!\n\nNOTE: This is just the CRUD pieces, with a little extra to make tests\npass. I want to split it up into pieces in order to better rebase\nonto the generic network interface management change,\nhttps://review.opendev.org/c/openstack/octavia/+/761195\nEntire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/\n\nChange-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nStory: 2005608\nTask: 30847\n'}, {'number': 5, 'created': '2021-07-15 19:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9326e367e2fa6d56819a9b484d70eede7d636243', 'message': 'DNM: Allow multiple VIPs per LB - CRUD\n\nUser can specify additional subnet_id/ip_address pairs to bring up on\nthe VIP port. This will allow for situations like having an LB with both\nIPv4+IPv6 or being exposed on both public and a private network.\nThanks Michael for help with validating/fixing the templates!\nThanks Gregory for help with the centos networking!\n\nNOTE: This is just the CRUD pieces, with a little extra to make tests\npass. I want to split it up into pieces in order to better rebase\nonto the generic network interface management change,\nhttps://review.opendev.org/c/openstack/octavia/+/761195\nEntire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/\n\nChange-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nStory: 2005608\nTask: 30847\n'}, {'number': 6, 'created': '2021-07-15 22:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce6ec804dfb472ac4ae956fd007bfbdbda8ecd46', 'message': 'DNM: Allow multiple VIPs per LB - CRUD\n\nUser can specify additional subnet_id/ip_address pairs to bring up on\nthe VIP port. This will allow for situations like having an LB with both\nIPv4+IPv6 or being exposed on both public and a private network.\nThanks Michael for help with validating/fixing the templates!\nThanks Gregory for help with the centos networking!\n\nNOTE: This is just the CRUD pieces, with a little extra to make tests\npass. I want to split it up into pieces in order to better rebase\nonto the generic network interface management change,\nhttps://review.opendev.org/c/openstack/octavia/+/761195\nEntire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/\n\nChange-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nStory: 2005608\nTask: 30847\n'}, {'number': 7, 'created': '2021-07-16 03:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2fe377d9d8159845051aad84e6b6bb17f0cd645', 'message': 'DNM: Allow multiple VIPs per LB - CRUD\n\nUser can specify additional subnet_id/ip_address pairs to bring up on\nthe VIP port. This will allow for situations like having an LB with both\nIPv4+IPv6 or being exposed on both public and a private network.\nThanks Michael for help with validating/fixing the templates!\nThanks Gregory for help with the centos networking!\n\nNOTE: This is just the CRUD pieces, with a little extra to make tests\npass. I want to split it up into pieces in order to better rebase\nonto the generic network interface management change,\nhttps://review.opendev.org/c/openstack/octavia/+/761195\nEntire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/\n\nChange-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nStory: 2005608\nTask: 30847\n'}, {'number': 8, 'created': '2021-07-19 15:58:39.000000000', 'files': ['api-ref/source/parameters.yaml', 'octavia/db/base_models.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/common/constants.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/tests/unit/api/drivers/noop_driver/test_driver.py', 'api-ref/source/v2/examples/loadbalancer-create-response.json', 'api-ref/source/v2/examples/loadbalancers-list-response.json', 'octavia/network/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/db/models.py', 'api-ref/source/v2/examples/loadbalancer-full-create-response.json', 'octavia/tests/unit/api/v2/types/test_load_balancer.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'api-ref/source/v2/examples/loadbalancer-update-response.json', 'octavia/api/drivers/utils.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/common/data_models.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'api-ref/source/v2/loadbalancer.inc', 'octavia/api/drivers/noop_driver/driver.py', 'octavia/network/drivers/neutron/base.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/tests/common/constants.py', 'api-ref/source/v2/examples/loadbalancer-create-request.json', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/tests/common/data_model_helpers.py', 'octavia/tests/common/sample_data_models.py', 'octavia/db/repositories.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'releasenotes/notes/support-additional-vips-on-lb-creation-efe0dfa517c667a0.yaml', 'api-ref/source/v2/examples/loadbalancer-create-curl', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/api/v2/types/load_balancer.py', 'octavia/api/root_controller.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/db/migration/alembic_migrations/versions/31f7653ded67_allow_multiple_vips_per_loadbalancer.py', 'api-ref/source/v2/examples/loadbalancer-show-response.json'], 'web_link': 'https://opendev.org/openstack/octavia/commit/15892c1b05b8c6c232bed1f63b1ad55b5ce1d9c9', 'message': 'DNM: Allow multiple VIPs per LB - CRUD\n\nUser can specify additional subnet_id/ip_address pairs to bring up on\nthe VIP port. This will allow for situations like having an LB with both\nIPv4+IPv6 or being exposed on both public and a private network.\nThanks Michael for help with validating/fixing the templates!\nThanks Gregory for help with the centos networking!\n\nNOTE: This is just the CRUD pieces, with a little extra to make tests\npass. I want to split it up into pieces in order to better rebase\nonto the generic network interface management change,\nhttps://review.opendev.org/c/openstack/octavia/+/761195\nEntire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/\n\nChange-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nStory: 2005608\nTask: 30847\n'}]",3,800146,15892c1b05b8c6c232bed1f63b1ad55b5ce1d9c9,16,1,8,1131,,,0,"DNM: Allow multiple VIPs per LB - CRUD

User can specify additional subnet_id/ip_address pairs to bring up on
the VIP port. This will allow for situations like having an LB with both
IPv4+IPv6 or being exposed on both public and a private network.
Thanks Michael for help with validating/fixing the templates!
Thanks Gregory for help with the centos networking!

NOTE: This is just the CRUD pieces, with a little extra to make tests
pass. I want to split it up into pieces in order to better rebase
onto the generic network interface management change,
https://review.opendev.org/c/openstack/octavia/+/761195
Entire patch is at https://review.opendev.org/c/openstack/octavia/+/660239/

Change-Id: Id4d793b6dcf39dbe882d537233a9302be3eab314
Co-Authored-By: Michael Johnson <johnsomor@gmail.com>
Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>
Co-Authored-By: Brian Haley <bhaley@redhat.com>
Story: 2005608
Task: 30847
",git fetch https://review.opendev.org/openstack/octavia refs/changes/46/800146/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'octavia/db/base_models.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/common/constants.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/tests/unit/api/drivers/noop_driver/test_driver.py', 'api-ref/source/v2/examples/loadbalancer-create-response.json', 'api-ref/source/v2/examples/loadbalancers-list-response.json', 'octavia/network/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/db/models.py', 'api-ref/source/v2/examples/loadbalancer-full-create-response.json', 'octavia/tests/unit/api/v2/types/test_load_balancer.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'api-ref/source/v2/examples/loadbalancer-update-response.json', 'octavia/api/drivers/utils.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/common/data_models.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'api-ref/source/v2/loadbalancer.inc', 'octavia/api/drivers/noop_driver/driver.py', 'octavia/network/drivers/neutron/base.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/tests/common/constants.py', 'api-ref/source/v2/examples/loadbalancer-create-request.json', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/tests/common/data_model_helpers.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/network/drivers/noop_driver/test_driver.py', 'octavia/db/repositories.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'releasenotes/notes/support-additional-vips-on-lb-creation-efe0dfa517c667a0.yaml', 'api-ref/source/v2/examples/loadbalancer-create-curl', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/api/v2/types/load_balancer.py', 'octavia/api/root_controller.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/db/migration/alembic_migrations/versions/31f7653ded67_allow_multiple_vips_per_loadbalancer.py', 'api-ref/source/v2/examples/loadbalancer-show-response.json']",54,e445fbeee16c2fed4f1d892ec433c78873a1bd97,multi-vip-crud," ""additional_vips"": [],",,933,211
openstack%2Fovn-octavia-provider~master~Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd,openstack/ovn-octavia-provider,master,Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd,Move linters dependencies to tox.ini,ABANDONED,2021-03-05 22:47:28.000000000,2021-07-28 19:50:14.000000000,,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 22:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4347ecff00f33308b27f7580fe122e82d80be29e', 'message': 'Move linters dependencies to tox.ini\n\npep8 and bandit tox envs have different dependencies than\nthe default tox env. If tox envs with different dependencies\nshare some common envdir, tox env will be recreated every time\na different tox env is specified. (For example, ""tox -e cover""\nafter ""tox -e pep8"" recreates the tox env.)\n\nTo address it, this commit introduces a new common envdir for\nlinters (envdir = {toxworkdir}/lint). It also moves deependencies\nof bandit env to pep8 env to ensure these three tox envs have the\nsame dependencies.\n\nCleanups are also made in test-requirements and lower-constraints.\n* isort can be dropped from test-requirements.txt\n  as pylint has proper version cappings for it.\n  (These cappings are available in pylint 2.5 and later.)\n* reno is a document dependency, so it is unnecessary in\n  test-requirements.\n* reno and isort are dropped from lower-constraints\n  as they are not installed in lower-constraints tests.\n\nAdded I202 to pylint ignore list.\n\nChange-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd\n'}, {'number': 2, 'created': '2021-06-28 20:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9f1d863af3a2cd269e3887132518fc19e0dfac1d', 'message': 'Move linters dependencies to tox.ini\n\npep8 and bandit tox envs have different dependencies than\nthe default tox env. If tox envs with different dependencies\nshare some common envdir, tox env will be recreated every time\na different tox env is specified. (For example, ""tox -e cover""\nafter ""tox -e pep8"" recreates the tox env.)\n\nTo address it, this commit introduces a new common envdir for\nlinters (envdir = {toxworkdir}/lint). It also moves deependencies\nof bandit env to pep8 env to ensure these three tox envs have the\nsame dependencies.\n\nCleanups are also made in test-requirements and lower-constraints.\n* isort can be dropped from test-requirements.txt\n  as pylint has proper version cappings for it.\n  (These cappings are available in pylint 2.5 and later.)\n* reno is a document dependency, so it is unnecessary in\n  test-requirements.\n* reno and isort are dropped from lower-constraints\n  as they are not installed in lower-constraints tests.\n\nAdded I202 to pylint ignore list.\n\nAlso update to flake8>3.9.0 to avoid a failure when you run\n\'tox -e pep8\' locally so it pulls-in the correct dependencies:\n\n flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""\n requested unknown parameters causing \'FileProcessor\' object has\n no attribute \'indent_size\'\n\nChange-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd\n'}, {'number': 3, 'created': '2021-06-28 21:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/08dd36ebc5d3375bba61e305cb25c3110d211128', 'message': 'Move linters dependencies to tox.ini\n\npep8 and bandit tox envs have different dependencies than\nthe default tox env. If tox envs with different dependencies\nshare some common envdir, tox env will be recreated every time\na different tox env is specified. (For example, ""tox -e cover""\nafter ""tox -e pep8"" recreates the tox env.)\n\nTo address it, this commit introduces a new common envdir for\nlinters (envdir = {toxworkdir}/lint). It also moves deependencies\nof bandit env to pep8 env to ensure these three tox envs have the\nsame dependencies.\n\nCleanups are also made in test-requirements and lower-constraints.\n* isort can be dropped from test-requirements.txt\n  as pylint has proper version cappings for it.\n  (These cappings are available in pylint 2.5 and later.)\n* reno is a document dependency, so it is unnecessary in\n  test-requirements.\n* reno and isort are dropped from lower-constraints\n  as they are not installed in lower-constraints tests.\n\nAdded I202 to pylint ignore list.\n\nAlso update to flake8>3.9.0 to avoid a failure when you run\n\'tox -e pep8\' locally so it pulls-in the correct dependencies:\n\n flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""\n requested unknown parameters causing \'FileProcessor\' object has\n no attribute \'indent_size\'\n\nChange-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd\n'}, {'number': 4, 'created': '2021-06-28 22:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ca1f92babcddaea1fd5ea978a3236673edcb88b1', 'message': 'Move linters dependencies to tox.ini\n\npep8 and bandit tox envs have different dependencies than\nthe default tox env. If tox envs with different dependencies\nshare some common envdir, tox env will be recreated every time\na different tox env is specified. (For example, ""tox -e cover""\nafter ""tox -e pep8"" recreates the tox env.)\n\nTo address it, this commit introduces a new common envdir for\nlinters (envdir = {toxworkdir}/lint). It also moves deependencies\nof bandit env to pep8 env to ensure these three tox envs have the\nsame dependencies.\n\nCleanups are also made in test-requirements and lower-constraints.\n* isort can be dropped from test-requirements.txt\n  as pylint has proper version cappings for it.\n  (These cappings are available in pylint 2.5 and later.)\n* reno is a document dependency, so it is unnecessary in\n  test-requirements.\n* reno and isort are dropped from lower-constraints\n  as they are not installed in lower-constraints tests.\n\nAdded I202 to pylint ignore list.\n\nAlso update to flake8>3.9.0 to avoid a failure when you run\n\'tox -e pep8\' locally so it pulls-in the correct dependencies:\n\n flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""\n requested unknown parameters causing \'FileProcessor\' object has\n no attribute \'indent_size\'\n\nChange-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd\n'}, {'number': 5, 'created': '2021-07-06 21:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0b88842aaa364fd31d05f598efcb79680b67dd7e', 'message': 'Move linters dependencies to tox.ini\n\npep8 and bandit tox envs have different dependencies than\nthe default tox env. If tox envs with different dependencies\nshare some common envdir, tox env will be recreated every time\na different tox env is specified. (For example, ""tox -e cover""\nafter ""tox -e pep8"" recreates the tox env.)\n\nTo address it, this commit introduces a new common envdir for\nlinters (envdir = {toxworkdir}/lint). It also moves deependencies\nof bandit env to pep8 env to ensure these three tox envs have the\nsame dependencies.\n\nCleanups are also made in test-requirements and lower-constraints.\n* isort can be dropped from test-requirements.txt\n  as pylint has proper version cappings for it.\n  (These cappings are available in pylint 2.5 and later.)\n* reno is a document dependency, so it is unnecessary in\n  test-requirements.\n* reno and isort are dropped from lower-constraints\n  as they are not installed in lower-constraints tests.\n\nAdded I202 to pylint ignore list.\n\nAlso update to flake8>3.9.0 to avoid a failure when you run\n\'tox -e pep8\' locally so it pulls-in the correct dependencies:\n\n flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""\n requested unknown parameters causing \'FileProcessor\' object has\n no attribute \'indent_size\'\n\nChange-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd\n'}, {'number': 6, 'created': '2021-07-07 00:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0a6a1e52aa4d8c300d62b60eb4949d26f51a9068', 'message': 'Move linters dependencies to tox.ini\n\npep8 and bandit tox envs have different dependencies than\nthe default tox env. If tox envs with different dependencies\nshare some common envdir, tox env will be recreated every time\na different tox env is specified. (For example, ""tox -e cover""\nafter ""tox -e pep8"" recreates the tox env.)\n\nTo address it, this commit introduces a new common envdir for\nlinters (envdir = {toxworkdir}/lint). It also moves deependencies\nof bandit env to pep8 env to ensure these three tox envs have the\nsame dependencies.\n\nCleanups are also made in test-requirements and lower-constraints.\n* isort can be dropped from test-requirements.txt\n  as pylint has proper version cappings for it.\n  (These cappings are available in pylint 2.5 and later.)\n* reno is a document dependency, so it is unnecessary in\n  test-requirements.\n* reno and isort are dropped from lower-constraints\n  as they are not installed in lower-constraints tests.\n\nAdded I202 to pylint ignore list.\n\nAlso update to flake8>3.9.0 to avoid a failure when you run\n\'tox -e pep8\' locally so it pulls-in the correct dependencies:\n\n flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""\n requested unknown parameters causing \'FileProcessor\' object has\n no attribute \'indent_size\'\n\nChange-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd\n'}, {'number': 7, 'created': '2021-07-26 17:18:20.000000000', 'files': ['test-requirements.txt', 'ovn_octavia_provider/tests/unit/hacking/test_checks.py', 'lower-constraints.txt', 'ovn_octavia_provider/hacking/checks.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a9c0e48c8676e7c40c651630309d40d546c36c36', 'message': 'Move linters dependencies to tox.ini\n\npep8 and bandit tox envs have different dependencies than\nthe default tox env. If tox envs with different dependencies\nshare some common envdir, tox env will be recreated every time\na different tox env is specified. (For example, ""tox -e cover""\nafter ""tox -e pep8"" recreates the tox env.)\n\nTo address it, this commit introduces a new common envdir for\nlinters (envdir = {toxworkdir}/lint). It also moves deependencies\nof bandit env to pep8 env to ensure these three tox envs have the\nsame dependencies.\n\nCleanups are also made in test-requirements and lower-constraints.\n* isort can be dropped from test-requirements.txt\n  as pylint has proper version cappings for it.\n  (These cappings are available in pylint 2.5 and later.)\n* reno is a document dependency, so it is unnecessary in\n  test-requirements.\n* reno and isort are dropped from lower-constraints\n  as they are not installed in lower-constraints tests.\n\nAdded I202 to pylint ignore list.\n\nAlso update to flake8>3.9.0 to avoid a failure when you run\n\'tox -e pep8\' locally so it pulls-in the correct dependencies:\n\n flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""\n requested unknown parameters causing \'FileProcessor\' object has\n no attribute \'indent_size\'\n\nChange-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd\n'}]",0,779060,a9c0e48c8676e7c40c651630309d40d546c36c36,25,3,7,1131,,,0,"Move linters dependencies to tox.ini

pep8 and bandit tox envs have different dependencies than
the default tox env. If tox envs with different dependencies
share some common envdir, tox env will be recreated every time
a different tox env is specified. (For example, ""tox -e cover""
after ""tox -e pep8"" recreates the tox env.)

To address it, this commit introduces a new common envdir for
linters (envdir = {toxworkdir}/lint). It also moves deependencies
of bandit env to pep8 env to ensure these three tox envs have the
same dependencies.

Cleanups are also made in test-requirements and lower-constraints.
* isort can be dropped from test-requirements.txt
  as pylint has proper version cappings for it.
  (These cappings are available in pylint 2.5 and later.)
* reno is a document dependency, so it is unnecessary in
  test-requirements.
* reno and isort are dropped from lower-constraints
  as they are not installed in lower-constraints tests.

Added I202 to pylint ignore list.

Also update to flake8>3.9.0 to avoid a failure when you run
'tox -e pep8' locally so it pulls-in the correct dependencies:

 flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""
 requested unknown parameters causing 'FileProcessor' object has
 no attribute 'indent_size'

Change-Id: Ifd4550ad5e4c5e62a640fa4e2627c97f1b2facfd
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/60/779060/7 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,4347ecff00f33308b27f7580fe122e82d80be29e,move-linters,"envdir = {toxworkdir}/lint deps = {[testenv]deps} bandit!=1.6.0,>=1.1.0 # Apache-2.0 flake8-import-order==0.18.1 # LGPLv3 pylint>=2.6.0 # GPLv2# I202 Additional newline in a group of importsignore = I202,W504envdir = {toxworkdir}/lint deps = {[testenv:pep8]deps}",envdir = {toxworkdir}/sharedignore = W504envdir = {toxworkdir}/shared deps = -r{toxinidir}/test-requirements.txt,10,9
openstack%2Fopenstack-helm~master~I4b9a0bc61b6351b8deeedd5924884e75ecc0622c,openstack/openstack-helm,master,I4b9a0bc61b6351b8deeedd5924884e75ecc0622c,[OSH] Add make utlity to list of required  tools,MERGED,2021-07-27 18:13:24.000000000,2021-07-28 19:36:20.000000000,2021-07-28 19:33:24.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 29974}]","[{'number': 1, 'created': '2021-07-27 18:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ed0c678064cd4bfad81ef9edd30ee1320448aeb9', 'message': '[OSH] Add make utlity to list of required  tools\n\nThis is to add ""make"" to list of required utilities.\n\nChange-Id: I4b9a0bc61b6351b8deeedd5924884e75ecc0622c\n'}, {'number': 2, 'created': '2021-07-28 11:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/92ff3c6f2e985ab37c156817149769d54e81eb99', 'message': '[OSH] Add make utlity to list of required  tools\n\nThis is to add ""make"" to list of required utilities.\n\nChange-Id: I4b9a0bc61b6351b8deeedd5924884e75ecc0622c\n'}, {'number': 3, 'created': '2021-07-28 18:36:08.000000000', 'files': ['doc/source/install/developer/kubernetes-and-common-setup.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e276b8eca1bab5e054016aa2ac1fe8121a1a5c1', 'message': '[OSH] Add make utlity to list of required  tools\n\nThis is to add ""make"" to list of required utilities.\n\nChange-Id: I4b9a0bc61b6351b8deeedd5924884e75ecc0622c\n'}]",0,802595,7e276b8eca1bab5e054016aa2ac1fe8121a1a5c1,15,7,3,28372,,,0,"[OSH] Add make utlity to list of required  tools

This is to add ""make"" to list of required utilities.

Change-Id: I4b9a0bc61b6351b8deeedd5924884e75ecc0622c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/95/802595/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/kubernetes-and-common-setup.rst'],1,ed0c678064cd4bfad81ef9edd30ee1320448aeb9,,"To get started with OSH, we will need ``git`` ``curl`` and ``make``. sudo apt install git curl make","To get started with OSH, we will need both ``git`` and ``curl``. sudo apt install git curl",2,2
openstack%2Fopenstack-helm~master~I80b2515c2f36d0167ee9ef8049bf6b167a5e399d,openstack/openstack-helm,master,I80b2515c2f36d0167ee9ef8049bf6b167a5e399d,Mount rabbitmq tls cert for nova-novnc communication,MERGED,2021-07-27 18:34:04.000000000,2021-07-28 19:35:11.000000000,2021-07-28 19:33:22.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-07-27 18:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d4f75f834b8431b9c1d0ef8e128e6eaf9a5d528', 'message': '[nova-novnc] Mount rabbitmq tls certs for nova-novnc\n\nChange-Id: I80b2515c2f36d0167ee9ef8049bf6b167a5e399d\n'}, {'number': 2, 'created': '2021-07-27 18:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bf70e5f569aa3e8298a8fddc10c4d3fe8cee795', 'message': '[nova-novnc] Mount rabbitmq tls certs for nova-novnc\n\nChange-Id: I80b2515c2f36d0167ee9ef8049bf6b167a5e399d\n'}, {'number': 3, 'created': '2021-07-27 19:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/34d7b6e650120e5fed7ebf498f0e38ade977aa37', 'message': '[nova-novnc] Mount rabbitmq tls cert for nova-novnc communication\n\nChange-Id: I80b2515c2f36d0167ee9ef8049bf6b167a5e399d\n'}, {'number': 4, 'created': '2021-07-27 21:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/720fc7655421d5892e121032b65528b4a99e9713', 'message': 'Mount rabbitmq tls cert for nova-novnc communication\n\nChange-Id: I80b2515c2f36d0167ee9ef8049bf6b167a5e399d\n'}, {'number': 5, 'created': '2021-07-28 17:07:29.000000000', 'files': ['releasenotes/notes/nova.yaml', 'nova/Chart.yaml', 'nova/templates/deployment-novncproxy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2065ccd523915c98b1af5ea4dd4da7f05b9aa1ba', 'message': 'Mount rabbitmq tls cert for nova-novnc communication\n\nChange-Id: I80b2515c2f36d0167ee9ef8049bf6b167a5e399d\n'}]",1,802598,2065ccd523915c98b1af5ea4dd4da7f05b9aa1ba,33,3,5,30495,,,0,"Mount rabbitmq tls cert for nova-novnc communication

Change-Id: I80b2515c2f36d0167ee9ef8049bf6b167a5e399d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/98/802598/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/deployment-novncproxy.yaml'],1,5d4f75f834b8431b9c1d0ef8e128e6eaf9a5d528,,"{{- dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.endpoints.oslo_messaging.auth.admin.secret.tls.internal ""path"" ""/etc/rabbitmq/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.endpoints.oslo_messaging.auth.admin.secret.tls.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}",,2,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,openstack/kolla-ansible,stable/victoria,I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,Fix variable names in Octavia documentation,MERGED,2021-07-28 12:29:29.000000000,2021-07-28 19:14:42.000000000,2021-07-28 19:13:21.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 12:29:29.000000000', 'files': ['doc/source/reference/networking/octavia.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d67d9d97d83785f44bf7d669dcdde6fbbf4e9ce', 'message': 'Fix variable names in Octavia documentation\n\nThe variable octavia_amphora_flavor should be octavia_amp_flavor.\n\nThe variable for customising network and subnet was only mentioned in\nthe example.\n\nChange-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e\n(cherry picked from commit 5e85fe2a0783586438fe163a498e42eeba6e80fa)\n'}]",0,802473,6d67d9d97d83785f44bf7d669dcdde6fbbf4e9ce,8,3,1,15197,,,0,"Fix variable names in Octavia documentation

The variable octavia_amphora_flavor should be octavia_amp_flavor.

The variable for customising network and subnet was only mentioned in
the example.

Change-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e
(cherry picked from commit 5e85fe2a0783586438fe163a498e42eeba6e80fa)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/802473/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking/octavia.rst'],1,6d67d9d97d83785f44bf7d669dcdde6fbbf4e9ce,octavia-docs-stable/victoria,disk. you can customize this flavor by changing ``octavia_amp_flavor`` in ``globals.yml``.Configure Octavia management network and subnet with ``octavia_amp_network`` in ``globals.yml``. This must be a network that is :ref:`accessible from the controllers <octavia-network>`. Typically a VLAN provider network is used.,disk. you can customize this flavor by changing ``octavia_amphora_flavor`` in ``globals.yml``Configure octavia management network and subnet in ``globals.yml``. This must be a network that is :ref:`accessible from the controllers <octavia-network>`. Typically a VLAN provider network is used.,5,5
openstack%2Ftripleo-quickstart-extras~master~I137357dcf2fb8b6132e6da9f9373dc11f290a59b,openstack/tripleo-quickstart-extras,master,I137357dcf2fb8b6132e6da9f9373dc11f290a59b,Add ussuri case for --local in image upload,ABANDONED,2021-07-28 15:57:47.000000000,2021-07-28 19:10:56.000000000,,"[{'_account_id': 9976}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 15:57:47.000000000', 'files': ['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0806bb3169f10709a93a857861666c7229cd9c77', 'message': 'Add ussuri case for --local in image upload\n\nussuri OVB tests are failing when the --local\nflag is passed to the image upload operator -\neven though undercloud_enable_nova is false.\n\nThis patch omits the --local flag on image\nupload when running on ussuri - irrespective\nof the undercloud_enable_nova setting.\n\nChange-Id: I137357dcf2fb8b6132e6da9f9373dc11f290a59b\n'}]",1,802747,0806bb3169f10709a93a857861666c7229cd9c77,5,2,1,9976,,,0,"Add ussuri case for --local in image upload

ussuri OVB tests are failing when the --local
flag is passed to the image upload operator -
even though undercloud_enable_nova is false.

This patch omits the --local flag on image
upload when running on ussuri - irrespective
of the undercloud_enable_nova setting.

Change-Id: I137357dcf2fb8b6132e6da9f9373dc11f290a59b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/802747/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'],1,0806bb3169f10709a93a857861666c7229cd9c77,," tripleo_overcloud_image_upload_local: ""{% if release in ['ussuri'] %}false{% else %}{{ not undercloud_enable_nova|default(false) }}{% endif %}"""," tripleo_overcloud_image_upload_local: ""{{ not undercloud_enable_nova|default(false) }}""",1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,openstack/kolla-ansible,stable/wallaby,I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,Fix variable names in Octavia documentation,MERGED,2021-07-28 12:28:40.000000000,2021-07-28 19:10:45.000000000,2021-07-28 19:09:07.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 12:28:40.000000000', 'files': ['doc/source/reference/networking/octavia.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77308e24122577b1a991e7b75c4f41a47ede4fec', 'message': 'Fix variable names in Octavia documentation\n\nThe variable octavia_amphora_flavor should be octavia_amp_flavor.\n\nThe variable for customising network and subnet was only mentioned in\nthe example.\n\nChange-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e\n(cherry picked from commit 5e85fe2a0783586438fe163a498e42eeba6e80fa)\n'}]",0,802472,77308e24122577b1a991e7b75c4f41a47ede4fec,8,3,1,15197,,,0,"Fix variable names in Octavia documentation

The variable octavia_amphora_flavor should be octavia_amp_flavor.

The variable for customising network and subnet was only mentioned in
the example.

Change-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e
(cherry picked from commit 5e85fe2a0783586438fe163a498e42eeba6e80fa)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/802472/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking/octavia.rst'],1,77308e24122577b1a991e7b75c4f41a47ede4fec,octavia-docs-stable/wallaby,disk. you can customize this flavor by changing ``octavia_amp_flavor`` in ``globals.yml``.Configure Octavia management network and subnet with ``octavia_amp_network`` in ``globals.yml``. This must be a network that is :ref:`accessible from the controllers <octavia-network>`. Typically a VLAN provider network is used.,disk. you can customize this flavor by changing ``octavia_amphora_flavor`` in ``globals.yml``Configure octavia management network and subnet in ``globals.yml``. This must be a network that is :ref:`accessible from the controllers <octavia-network>`. Typically a VLAN provider network is used.,5,5
openstack%2Fkayobe~master~Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7,openstack/kayobe,master,Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7,Make kolla custom config globs configurable,ABANDONED,2021-05-24 17:26:00.000000000,2021-07-28 18:43:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-24 17:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ded0e363586eb831c8e43af4cdc7c58cb01c5632', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 2, 'created': '2021-05-25 08:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3d7e154c329f7f622e38d27e9138018419b67d79', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 3, 'created': '2021-05-25 08:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/74f5a8de1b176573425c35c3f77dfa3b607c67ed', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 4, 'created': '2021-05-25 10:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5ea651215224b799ea6b65556b20c01c9f8bf94e', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 5, 'created': '2021-05-25 10:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fb1e0c9b63fbec41ac3ca893ceabc7a5675697f1', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 6, 'created': '2021-05-25 12:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ca784ea1f130b7af5bba944b86bc75e2fddf0ff7', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 7, 'created': '2021-05-25 13:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/32e153cd025a174aef0174632f6c0140174e6a7e', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 8, 'created': '2021-05-25 15:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/19d164bc4c132505b2570130d562b2dabca0a7de', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 9, 'created': '2021-05-25 15:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/90cec92e53b8e78045d552e0c676cf1a81449d24', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 10, 'created': '2021-05-26 08:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/162124367e9558252a154c4a540c45a1a49e1734', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 11, 'created': '2021-05-26 10:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1edfa18608c8c460763f6fbbe8ac1a24e5a0f908', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 12, 'created': '2021-05-26 13:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b668a595409c015f93d993282128ccb1451e08fc', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 13, 'created': '2021-07-08 16:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6e20ffb6f814d63a4d543b2a3e37bcc6d1188131', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}, {'number': 14, 'created': '2021-07-08 16:56:06.000000000', 'files': ['ansible/roles/kolla-openstack/templates/kolla/config/neutron/ml2_conf.ini', 'ansible/roles/kolla-openstack/templates/kolla/config/barbican.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/neutron.conf', 'ansible/roles/kolla-openstack/molecule/enable-everything/prepare.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/zookeeper.cfg', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/templates/kolla/config/keystone.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/manila.conf', 'ansible/roles/kolla-ansible/defaults/main.yml', 'requirements.txt', 'ansible/roles/kolla-openstack/templates/kolla/config/magnum.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/ceilometer.conf', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/aodh.conf', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/kafka.server.properties', 'ansible/roles/kolla-openstack/templates/kolla/config/sahara.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/nova.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/masakari.conf', 'ansible/roles/kolla-openstack/action_plugins/kolla_custom_config_info.py', 'ansible/roles/kolla-openstack/templates/kolla/config/cinder.conf', 'ansible/roles/image-download/tasks/main.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/backup.my.cnf', 'ansible/roles/kolla-openstack/templates/kolla/config/ironic-inspector.conf', 'ansible/kolla-ansible.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/blazar.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/galera.cnf', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py', 'ansible/roles/kolla-openstack/templates/kolla/config/murano.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/octavia.conf', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/kolla-openstack.yml', 'ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/glance.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/gnocchi.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/global.conf', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/designate.conf', 'kayobe/plugins/action/merge_yaml.py', 'ansible/roles/kolla-ansible/tests/test-requirements.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/ironic.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/cloudkitty.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/grafana.ini', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/heat.conf'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/989c8ee4d00ce82bd64caacd6edb0dac24163423', 'message': 'Make kolla custom config globs configurable\n\nThis also seems quicker than using the find module in a loop.\n\nChange-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7\n'}]",0,792834,989c8ee4d00ce82bd64caacd6edb0dac24163423,28,1,14,28048,,,0,"Make kolla custom config globs configurable

This also seems quicker than using the find module in a loop.

Change-Id: Ie5a65b6461e3693e47c4b7811b69ef89cf7f74a7
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/34/792834/13 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/templates/kolla/config/barbican.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/neutron.conf', 'ansible/roles/kolla-openstack/molecule/enable-everything/prepare.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/zookeeper.cfg', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/templates/kolla/config/keystone.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/manila.conf', 'requirements.txt', 'ansible/roles/kolla-openstack/templates/kolla/config/magnum.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/ceilometer.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/ml2_conf.ini', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/aodh.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/kafka.server.properties', 'ansible/roles/kolla-openstack/templates/kolla/config/sahara.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/nova.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/masakari.conf', 'ansible/roles/kolla-openstack/action_plugins/kolla_custom_config_info.py', 'ansible/roles/kolla-openstack/templates/kolla/config/cinder.conf', 'ansible/roles/image-download/tasks/main.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/backup.my.cnf', 'ansible/roles/kolla-openstack/templates/kolla/config/ironic-inspector.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/blazar.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/galera.cnf', 'ansible/roles/kolla-openstack/templates/kolla/config/murano.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/octavia.conf', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/kolla-openstack.yml', 'ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/glance.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/gnocchi.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/global.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/designate.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/ironic.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/cloudkitty.conf', 'ansible/roles/kolla-openstack/templates/kolla/config/grafana.ini', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/heat.conf']",39,ded0e363586eb831c8e43af4cdc7c58cb01c5632,merge-configs,,,555,355
openstack%2Ftacker-horizon~master~I1f029dc1a04d5a92e5078c3abb1c8d3d3c679bdc,openstack/tacker-horizon,master,I1f029dc1a04d5a92e5078c3abb1c8d3d3c679bdc,Drop block storage v2 API,MERGED,2021-07-28 10:16:54.000000000,2021-07-28 18:39:15.000000000,2021-07-28 18:38:00.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-28 10:16:54.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/3618f21972dd23c6a1471aed879b541ff3ae85c8', 'message': 'Drop block storage v2 API\n\nCinder has dropped block storage v2 API [1].\nThis patch update python-cinderclient to 8.0.0 and also update its\ndepending packages.\n\n- python-cinderclient 8.0.0 depends on keystoneauth1>=4.3.1\n- python-cinderclient 8.0.0 depends on oslo.i18n>=5.0.1\n- python-cinderclient 8.0.0 depends on oslo.utils>=4.8.0\n- oslo-utils 4.8.0 depends on packaging>=20.4\n- python-cinderclient 8.0.0 depends on pbr>=5.5.0\n- python-cinderclient 8.0.0 depends on requests>=2.25.1\n- python-cinderclient 8.0.0 depends on stevedore>=3.3.0\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018876.html\n\nChange-Id: I1f029dc1a04d5a92e5078c3abb1c8d3d3c679bdc\n'}]",0,802678,3618f21972dd23c6a1471aed879b541ff3ae85c8,8,5,1,32102,,,0,"Drop block storage v2 API

Cinder has dropped block storage v2 API [1].
This patch update python-cinderclient to 8.0.0 and also update its
depending packages.

- python-cinderclient 8.0.0 depends on keystoneauth1>=4.3.1
- python-cinderclient 8.0.0 depends on oslo.i18n>=5.0.1
- python-cinderclient 8.0.0 depends on oslo.utils>=4.8.0
- oslo-utils 4.8.0 depends on packaging>=20.4
- python-cinderclient 8.0.0 depends on pbr>=5.5.0
- python-cinderclient 8.0.0 depends on requests>=2.25.1
- python-cinderclient 8.0.0 depends on stevedore>=3.3.0

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018876.html

Change-Id: I1f029dc1a04d5a92e5078c3abb1c8d3d3c679bdc
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/78/802678/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,3618f21972dd23c6a1471aed879b541ff3ae85c8,drop-cinder-v2-api,keystoneauth1==4.3.1oslo.i18n==5.0.1oslo.utils==4.8.0packaging==20.4 pbr==5.5.0python-cinderclient==8.0.0requests==2.25.1stevedore==3.3.0,keystoneauth1==3.6.2oslo.i18n==3.20.0oslo.utils==3.36.0packaging==17.1 pbr==2.0.0python-cinderclient==5.0.0requests==2.18.4stevedore==1.28.0,9,9
openstack%2Foslo.db~master~Idb9596284df3e5d038c939d27fe14fe2cc2f4318,openstack/oslo.db,master,Idb9596284df3e5d038c939d27fe14fe2cc2f4318,tests: Remove 'ModelsMigrationsSync.check_foreign_keys',MERGED,2021-06-25 17:07:43.000000000,2021-07-28 18:37:15.000000000,2021-07-28 18:34:36.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-25 17:07:43.000000000', 'files': ['oslo_db/sqlalchemy/test_migrations.py', 'oslo_db/tests/sqlalchemy/test_migrations.py', 'releasenotes/notes/remove-ModelsMigrationsSync-check_foreign_keys-467e0dbeb65a8c86.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4f9df08373973a3fbccf49b56b9bf79cc2849dba', 'message': ""tests: Remove 'ModelsMigrationsSync.check_foreign_keys'\n\nThe 'check_foreign_key' method was removed in oslo.db 1.4.0 [1] and\nre-added but marked as deprecated in 1.4.1 [2] to allow for a\ndeprecation period. That was over 6 years ago so we can now remove it.\nMeanwhile, the private '_walk_versions', '_migrate_down' and\n'_migrate_up' methods have been marked as deprecated since oslo.db 0.5.0\n(!!!) [3]. We can definitely remove these now. codesearch.o.o reveals no\nusers of any of these methods.\n\n[1] I77a2bba2de08125b5a601de03c1d2d5c73fa33ee\n[2] Id892567bd60d6b4b88765bbfe3cd5c5e75910b25\n[3] Ic9358445e60a0dd43a5900e8bda7b12f2bebf679\n\nChange-Id: Idb9596284df3e5d038c939d27fe14fe2cc2f4318\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,798134,4f9df08373973a3fbccf49b56b9bf79cc2849dba,8,3,1,15334,,,0,"tests: Remove 'ModelsMigrationsSync.check_foreign_keys'

The 'check_foreign_key' method was removed in oslo.db 1.4.0 [1] and
re-added but marked as deprecated in 1.4.1 [2] to allow for a
deprecation period. That was over 6 years ago so we can now remove it.
Meanwhile, the private '_walk_versions', '_migrate_down' and
'_migrate_up' methods have been marked as deprecated since oslo.db 0.5.0
(!!!) [3]. We can definitely remove these now. codesearch.o.o reveals no
users of any of these methods.

[1] I77a2bba2de08125b5a601de03c1d2d5c73fa33ee
[2] Id892567bd60d6b4b88765bbfe3cd5c5e75910b25
[3] Ic9358445e60a0dd43a5900e8bda7b12f2bebf679

Change-Id: Idb9596284df3e5d038c939d27fe14fe2cc2f4318
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/34/798134/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/test_migrations.py', 'oslo_db/tests/sqlalchemy/test_migrations.py', 'releasenotes/notes/remove-ModelsMigrationsSync-check_foreign_keys-467e0dbeb65a8c86.yaml']",3,4f9df08373973a3fbccf49b56b9bf79cc2849dba,cleanup,"--- upgrade: - | The ``check_foreign_keys`` helper of the ``oslo_db.sqlalchemy.test_migrations.ModelsMigrationsSync`` base test class has been removed. This was deprecated in 1.4.1 as alembic now supports this capability. - The ``_walk_versions``, ``_migrate_down``, and ``_migrate_up`` methods of the ``oslo_db.sqlalchemy.test_migrations.ModelsMigrationsSync`` base test class have been removed. These were deprecated in 0.5.0 in favour of their non-private equivalents, ``walk_versions``, ``migrate_down``, and ``migrate_up`` respectively. ",,38,300
openstack%2Foslo.db~master~Ib7a5a6e1124c44a742b003442f815022a866bcbb,openstack/oslo.db,master,Ib7a5a6e1124c44a742b003442f815022a866bcbb,concurrency: Deprecate 'TpoolDbapiWrapper',MERGED,2021-06-25 17:07:43.000000000,2021-07-28 18:36:00.000000000,2021-07-28 18:34:35.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-25 17:07:43.000000000', 'files': ['oslo_db/concurrency.py', 'releasenotes/notes/deprecate-TpoolDbapiWrapper-2ce78aa7cbb9e585.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/74c6bf266e0b86ceb4726cad9268f134d423bae8', 'message': ""concurrency: Deprecate 'TpoolDbapiWrapper'\n\nThis has been marked as experimented since before oslo.db was split out\nof nova. We've no test coverage and no idea of whether it even works\nnowadays. It's time to plan for its eventual removal.\n\nChange-Id: Ib7a5a6e1124c44a742b003442f815022a866bcbb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,798133,74c6bf266e0b86ceb4726cad9268f134d423bae8,10,3,1,15334,,,0,"concurrency: Deprecate 'TpoolDbapiWrapper'

This has been marked as experimented since before oslo.db was split out
of nova. We've no test coverage and no idea of whether it even works
nowadays. It's time to plan for its eventual removal.

Change-Id: Ib7a5a6e1124c44a742b003442f815022a866bcbb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/33/798133/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/concurrency.py', 'releasenotes/notes/deprecate-TpoolDbapiWrapper-2ce78aa7cbb9e585.yaml']",2,74c6bf266e0b86ceb4726cad9268f134d423bae8,cleanup,--- deprecations: - | The ``oslo_db.concurrency.TpoolDbapiWrapper`` class and supporting ``[database] use_tpool`` config option are now deprecated. This feature never graduated from experimental status and is slated for removal due to lack of maintenance and test coverage. Users should switch to ``oslo_db.api.DBAPI.from_config`` and remove references to the deprecated config option from their documentation. ,,33,7
openstack%2Ftripleo-ansible~stable%2Fussuri~I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,openstack/tripleo-ansible,stable/ussuri,I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,Use serial or parallel execution depending on the kind of backup,MERGED,2021-07-26 15:18:54.000000000,2021-07-28 18:31:00.000000000,2021-07-28 18:31:00.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-26 15:18:54.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29af0cec6e485b32d3bbc795d95c5321a3c6302f', 'message': 'Use serial or parallel execution depending on the kind of backup\n\nCurrently, we support two kinds of backups: the ""old way"" that stops all\nthe controllers at the same time and then does the backup and the\n""snapshots"" that only stops one controller at a time.\n\nIn the first case, we want to take the backup of all the controllers\nin parallel to save time, while in the second case we want to take the\nbackup of each controller serialized so we do not stop all of them at\nthe same time.\n\nThis change enables this for the openstack overcloud backup CLI action.\n\nCloses-Bug: #1930861\nChange-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f\n(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)\n'}]",0,802338,29af0cec6e485b32d3bbc795d95c5321a3c6302f,10,6,1,32968,,,0,"Use serial or parallel execution depending on the kind of backup

Currently, we support two kinds of backups: the ""old way"" that stops all
the controllers at the same time and then does the backup and the
""snapshots"" that only stops one controller at a time.

In the first case, we want to take the backup of all the controllers
in parallel to save time, while in the second case we want to take the
backup of each controller serialized so we do not stop all of them at
the same time.

This change enables this for the openstack overcloud backup CLI action.

Closes-Bug: #1930861
Change-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f
(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/802338/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'],1,29af0cec6e485b32d3bbc795d95c5321a3c6302f,change-794764-2-stable/wallaby-stable/victoria-stable/ussuri,"- name: Backup ceph authentication become: true- name: TripleO Controller backup serial: ""{{ tripleo_backup_and_restore_enable_snapshots|bool | ternary(1, groups['Controller']|length) }}"" vars_files: ../roles/backup_and_restore/defaults/main.yml",- become: true name: Backup ceph authentication- name: TripleO Controller backup.,6,3
openstack%2Ftripleo-ansible~stable%2Fvictoria~I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,openstack/tripleo-ansible,stable/victoria,I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,Use serial or parallel execution depending on the kind of backup,MERGED,2021-07-26 15:18:22.000000000,2021-07-28 18:30:58.000000000,2021-07-28 18:30:58.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-26 15:18:22.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68872e38b1c51492db40a2f4f49faee9022ece45', 'message': 'Use serial or parallel execution depending on the kind of backup\n\nCurrently, we support two kinds of backups: the ""old way"" that stops all\nthe controllers at the same time and then does the backup and the\n""snapshots"" that only stops one controller at a time.\n\nIn the first case, we want to take the backup of all the controllers\nin parallel to save time, while in the second case we want to take the\nbackup of each controller serialized so we do not stop all of them at\nthe same time.\n\nThis change enables this for the openstack overcloud backup CLI action.\n\nCloses-Bug: #1930861\nChange-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f\n(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)\n'}]",0,802217,68872e38b1c51492db40a2f4f49faee9022ece45,8,6,1,32968,,,0,"Use serial or parallel execution depending on the kind of backup

Currently, we support two kinds of backups: the ""old way"" that stops all
the controllers at the same time and then does the backup and the
""snapshots"" that only stops one controller at a time.

In the first case, we want to take the backup of all the controllers
in parallel to save time, while in the second case we want to take the
backup of each controller serialized so we do not stop all of them at
the same time.

This change enables this for the openstack overcloud backup CLI action.

Closes-Bug: #1930861
Change-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f
(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/802217/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'],1,68872e38b1c51492db40a2f4f49faee9022ece45,change-794764-2-stable/wallaby-stable/victoria,"- name: Backup ceph authentication become: true- name: TripleO Controller backup serial: ""{{ tripleo_backup_and_restore_enable_snapshots|bool | ternary(1, groups['Controller']|length) }}"" vars_files: ../roles/backup_and_restore/defaults/main.yml",- become: true name: Backup ceph authentication- name: TripleO Controller backup.,6,3
openstack%2Foslo.db~stable%2Ftrain~Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,openstack/oslo.db,stable/train,Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,Dropping lower constraints testing,MERGED,2021-07-28 14:47:50.000000000,2021-07-28 18:14:44.000000000,2021-07-28 18:10:33.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-28 14:47:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c9f815d3b5ad066825e5bd8b6f10e2d44b5fb2f9', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nConflicts:\n  .zuul.yaml\n\nNOTE(stephenfin): Conflicts are due to different base jobs between\nstable branches.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)\n(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)\n(cherry picked from commit db2425f285363787efac878fd3462fee81c7a949)\n(cherry picked from commit 08879fbf3b066c55cd5f17a2a6f059a243a03ce6)\n'}]",0,802730,c9f815d3b5ad066825e5bd8b6f10e2d44b5fb2f9,7,3,1,15334,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Conflicts:
  .zuul.yaml

NOTE(stephenfin): Conflicts are due to different base jobs between
stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65
(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)
(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)
(cherry picked from commit db2425f285363787efac878fd3462fee81c7a949)
(cherry picked from commit 08879fbf3b066c55cd5f17a2a6f059a243a03ce6)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/30/802730/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c9f815d3b5ad066825e5bd8b6f10e2d44b5fb2f9,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fkolla~stable%2Fwallaby~I75927b6016bdb7577fbff354632bdab6407f359c,openstack/kolla,stable/wallaby,I75927b6016bdb7577fbff354632bdab6407f359c,Improve offline build scenario.,MERGED,2021-07-27 09:37:50.000000000,2021-07-28 18:14:41.000000000,2021-07-28 18:10:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 09:37:50.000000000', 'files': ['releasenotes/notes/improve_offline_support-e7b2384fb7390184.yaml', 'docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/25d7f48c1e2aed0661a2e2765bc0836748a7cdbb', 'message': 'Improve offline build scenario.\n\n  * Use distribution based dumb-init package.\n\nChange-Id: I75927b6016bdb7577fbff354632bdab6407f359c\nRelated-Bug: #19311980\n(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)\n'}]",0,802458,25d7f48c1e2aed0661a2e2765bc0836748a7cdbb,9,3,1,32398,,,0,"Improve offline build scenario.

  * Use distribution based dumb-init package.

Change-Id: I75927b6016bdb7577fbff354632bdab6407f359c
Related-Bug: #19311980
(cherry picked from commit 5940d1758fabf47d15bac5c08d0afa57fbb35964)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/802458/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/improve_offline_support-e7b2384fb7390184.yaml', 'docker/base/Dockerfile.j2']",2,25d7f48c1e2aed0661a2e2765bc0836748a7cdbb,bug/1931980-stable/wallaby," 'dumb-init', 'dumb-init', 'tgt' ] %}", 'tgt'] %} {% block dumb_init_installation %} RUN curl https://github.com/Yelp/dumb-init/releases/download/v1.2.2/dumb-init_1.2.2_{{debian_arch}} -o /usr/local/bin/dumb-init \ && chmod +x /usr/local/bin/dumb-init {% endblock %} ,9,11
openstack%2Fpython-openstackclient~master~I8aab60619e0225047f6a1c31e44917ca8fcc799e,openstack/python-openstackclient,master,I8aab60619e0225047f6a1c31e44917ca8fcc799e,Correct REST API response fields for /os-migrations API,MERGED,2021-07-28 03:35:59.000000000,2021-07-28 18:14:39.000000000,2021-07-28 18:10:42.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 03:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a6c4965c3c449107f2877d89530db21a9808c700', 'message': ""Correct REST API response fields for /os-migrations API\n\nThe compute APIs are unfortunately inconsistent with regard to the\nresponse parameters for migrations.\n\n* GET /servers/{server_id}/migrations returns server_uuid\n* GET /os-migrations returns instance_uuid\n\nBecause the 'Server UUID' column is being specified for parsing the\nresponse from GET /os-migrations, it is always showing as an empty\nstring to users.\n\nThere are a few other mismatches between the column names and the REST\nAPI response fields:\n\n* 'Old Flavor' vs 'old_instance_type_id'\n* 'New Flavor' vs 'new_instance_type_id'\n* 'Type' vs 'migration_type'\n\nThis adds a new list containing the REST API response field names to\npass to utils.get_item_properties so that the responses are correctly\nparsed and the client output contains the response data instead of\nempty strings.\n\nStory: 2009078\nTask: 42890\n\nChange-Id: I8aab60619e0225047f6a1c31e44917ca8fcc799e\n""}, {'number': 2, 'created': '2021-07-28 15:28:25.000000000', 'files': ['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ed87f7949ef1ef580ed71b9820e16823c0466472', 'message': ""Correct REST API response fields for /os-migrations API\n\nThe compute APIs are unfortunately inconsistent with regard to the\nresponse parameters for migrations.\n\n* GET /servers/{server_id}/migrations returns server_uuid\n* GET /os-migrations returns instance_uuid\n\nBecause the 'Server UUID' column is being specified for parsing the\nresponse from GET /os-migrations, it is always showing as an empty\nstring to users.\n\nThere are a few other mismatches between the column names and the REST\nAPI response fields [1]:\n\n* 'Old Flavor' vs 'old_instance_type_id'\n* 'New Flavor' vs 'new_instance_type_id'\n* 'Type' vs 'migration_type'\n\nThis adds a new list containing the REST API response field names to\npass to utils.get_item_properties so that the responses are correctly\nparsed and the client output contains the response data instead of\nempty strings.\n\nStory: 2009078\nTask: 42890\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=list-migrations-detail#list-migrations\n\nChange-Id: I8aab60619e0225047f6a1c31e44917ca8fcc799e\n""}]",6,802650,ed87f7949ef1ef580ed71b9820e16823c0466472,14,2,2,4690,,,0,"Correct REST API response fields for /os-migrations API

The compute APIs are unfortunately inconsistent with regard to the
response parameters for migrations.

* GET /servers/{server_id}/migrations returns server_uuid
* GET /os-migrations returns instance_uuid

Because the 'Server UUID' column is being specified for parsing the
response from GET /os-migrations, it is always showing as an empty
string to users.

There are a few other mismatches between the column names and the REST
API response fields [1]:

* 'Old Flavor' vs 'old_instance_type_id'
* 'New Flavor' vs 'new_instance_type_id'
* 'Type' vs 'migration_type'

This adds a new list containing the REST API response field names to
pass to utils.get_item_properties so that the responses are correctly
parsed and the client output contains the response data instead of
empty strings.

Story: 2009078
Task: 42890

[1] https://docs.openstack.org/api-ref/compute/?expanded=list-migrations-detail#list-migrations

Change-Id: I8aab60619e0225047f6a1c31e44917ca8fcc799e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/50/802650/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,a6c4965c3c449107f2877d89530db21a9808c700,story/2009078," # Response fields coming back from the REST API are not always exactly # the same as the column names. fields = [ 'source_node', 'dest_node', 'source_compute', 'dest_compute', 'dest_host', 'status', 'instance_uuid', 'old_instance_type_id', 'new_instance_type_id', 'created_at', 'updated_at', ] fields.insert(0, ""uuid"") fields.insert(0, ""id"") fields.insert(len(fields) - 2, ""migration_type"") fields.insert(len(fields) - 2, ""project_id"") fields.insert(len(fields) - 2, ""user_id"") (utils.get_item_properties(mig, fields) for mig in migrations),"," (utils.get_item_properties(mig, columns) for mig in migrations),",71,6
openstack%2Foslo.db~stable%2Fussuri~Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,openstack/oslo.db,stable/ussuri,Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,Dropping lower constraints testing,MERGED,2021-07-07 12:48:34.000000000,2021-07-28 18:14:36.000000000,2021-07-28 18:10:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-07 12:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/df4a4e8a1ab6fd76dd873f03f5ad8dd2899acc6a', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nConflicts:\n      .zuul.yaml\n\nChange-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)\n'}, {'number': 2, 'created': '2021-07-28 14:46:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/08879fbf3b066c55cd5f17a2a6f059a243a03ce6', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nConflicts:\n  .zuul.yaml\n\nNOTE(stephenfin): Conflicts are due to different base jobs between\nstable branches.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)\n(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)\n(cherry picked from commit db2425f285363787efac878fd3462fee81c7a949)\n'}]",2,799812,08879fbf3b066c55cd5f17a2a6f059a243a03ce6,10,3,2,27909,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Conflicts:
  .zuul.yaml

NOTE(stephenfin): Conflicts are due to different base jobs between
stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65
(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)
(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)
(cherry picked from commit db2425f285363787efac878fd3462fee81c7a949)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/12/799812/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,df4a4e8a1ab6fd76dd873f03f5ad8dd2899acc6a,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.db~stable%2Fvictoria~I07b577f4e948c03d1751145e5f898b90ac1c197a,openstack/oslo.db,stable/victoria,I07b577f4e948c03d1751145e5f898b90ac1c197a,Remove lower-constraints remnants,MERGED,2021-07-07 12:47:24.000000000,2021-07-28 18:14:31.000000000,2021-07-28 18:10:36.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-07 12:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/61352204d8a7dbf2a4a69e5d22b53a05936a37a4', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n\nChange-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a\n(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)\n'}, {'number': 2, 'created': '2021-07-28 14:44:36.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1e40b7c4f3accd15dc48130b148141ae2740474c', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n\nConflicts:\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are because the constraints are different.\n\nChange-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a\n(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)\n(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)\n'}]",1,799810,1e40b7c4f3accd15dc48130b148141ae2740474c,13,3,2,27909,,,0,"Remove lower-constraints remnants

These were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65

Conflicts:
  lower-constraints.txt

NOTE(stephenfin): Conflicts are because the constraints are different.

Change-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a
(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)
(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/10/799810/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,61352204d8a7dbf2a4a69e5d22b53a05936a37a4,oslo_lc_drop,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,66
openstack%2Fkolla~stable%2Fwallaby~Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2,openstack/kolla,stable/wallaby,Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2,Add masakari-dashboard to debian binary horizon image,MERGED,2021-07-27 13:46:42.000000000,2021-07-28 18:06:05.000000000,2021-07-28 18:03:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 13:46:42.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'releasenotes/notes/add-masakari-dashboard-eae5f216888e5fe0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/57ddaad7afbae45e85390d9d391e7afe9fc2a224', 'message': 'Add masakari-dashboard to debian binary horizon image\n\nThis patch is adding python3-masakari-dashboard\nto debian binary image as we added masakari-dashboard\nto debian in wallaby cycle.\n\nChange-Id: Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2\n(cherry picked from commit 4c2990a99fddc9778a752e865bb59cfe92e84afb)\n'}]",0,802459,57ddaad7afbae45e85390d9d391e7afe9fc2a224,9,3,1,27339,,,0,"Add masakari-dashboard to debian binary horizon image

This patch is adding python3-masakari-dashboard
to debian binary image as we added masakari-dashboard
to debian in wallaby cycle.

Change-Id: Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2
(cherry picked from commit 4c2990a99fddc9778a752e865bb59cfe92e84afb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/802459/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/Dockerfile.j2', 'releasenotes/notes/add-masakari-dashboard-eae5f216888e5fe0.yaml']",2,57ddaad7afbae45e85390d9d391e7afe9fc2a224,,--- features: - Add masakari-dashboard to debian binary horizon image. ,,4,0
openstack%2Ftripleo-ansible~stable%2Fussuri~If80f48c39ea9fcb09a75711932ddb3958a4e8b16,openstack/tripleo-ansible,stable/ussuri,If80f48c39ea9fcb09a75711932ddb3958a4e8b16,Fix tripleo_backup_and_restore_rear_simulate boolean check,MERGED,2021-07-26 15:34:29.000000000,2021-07-28 18:03:56.000000000,2021-07-28 18:03:56.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-26 15:34:29.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7af78b2426624ddb3e1c591016ca444cd990f740', 'message': 'Fix tripleo_backup_and_restore_rear_simulate boolean check\n\nIf |bool is not added to the check,\n""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is\nconsidered to be True.\n\nCloses-Bug: #1934777\n\nChange-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16\n(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)\n'}]",0,802342,7af78b2426624ddb3e1c591016ca444cd990f740,10,6,1,32968,,,0,"Fix tripleo_backup_and_restore_rear_simulate boolean check

If |bool is not added to the check,
""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is
considered to be True.

Closes-Bug: #1934777

Change-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16
(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/802342/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,7af78b2426624ddb3e1c591016ca444cd990f740,change-799649-2-stable/wallaby-stable/victoria-stable/ussuri," command: rear {{ (tripleo_backup_and_restore_rear_simulate | bool) | ternary('-s ', '') }}-d -v mkbackup", command: rear {{ '-s ' if tripleo_backup_and_restore_rear_simulate else '' }}-d -v mkbackup,1,1
openstack%2Foslo.db~stable%2Fvictoria~Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,openstack/oslo.db,stable/victoria,Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,Dropping lower constraints testing,MERGED,2021-07-07 12:47:24.000000000,2021-07-28 17:47:33.000000000,2021-07-28 17:44:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-07 12:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bacb1c12386a1b9eb63174c686fd8bceb7e29854', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nConflicts:\n      .zuul.yaml\n\nChange-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)\n'}, {'number': 2, 'created': '2021-07-28 14:44:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/db2425f285363787efac878fd3462fee81c7a949', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nConflicts:\n  .zuul.yaml\n\nNOTE(stephenfin): Conflicts are due to different base jobs between\nstable branches.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)\n(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)\n'}]",2,799809,db2425f285363787efac878fd3462fee81c7a949,13,3,2,27909,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Conflicts:
  .zuul.yaml

NOTE(stephenfin): Conflicts are due to different base jobs between
stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65
(cherry picked from commit a53ec14ee073cb69e876c4ee29e10ba65b438076)
(cherry picked from commit 1c0062c6e9125fd9060f08d2d3966d2b4af254e4)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/09/799809/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bacb1c12386a1b9eb63174c686fd8bceb7e29854,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~If80f48c39ea9fcb09a75711932ddb3958a4e8b16,openstack/tripleo-ansible,stable/victoria,If80f48c39ea9fcb09a75711932ddb3958a4e8b16,Fix tripleo_backup_and_restore_rear_simulate boolean check,MERGED,2021-07-26 15:32:45.000000000,2021-07-28 17:42:20.000000000,2021-07-28 17:42:20.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-26 15:32:45.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/774bcbc51b8ad8df754d5686dcf0fac7e65f681c', 'message': 'Fix tripleo_backup_and_restore_rear_simulate boolean check\n\nIf |bool is not added to the check,\n""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is\nconsidered to be True.\n\nCloses-Bug: #1934777\n\nChange-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16\n(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)\n'}]",0,802341,774bcbc51b8ad8df754d5686dcf0fac7e65f681c,8,6,1,32968,,,0,"Fix tripleo_backup_and_restore_rear_simulate boolean check

If |bool is not added to the check,
""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is
considered to be True.

Closes-Bug: #1934777

Change-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16
(cherry picked from commit 07658bc8e030d041baf836f95a15a43a0e315176)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/802341/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,774bcbc51b8ad8df754d5686dcf0fac7e65f681c,change-799649-2-stable/wallaby-stable/victoria," command: rear {{ (tripleo_backup_and_restore_rear_simulate | bool) | ternary('-s ', '') }}-d -v mkbackup", command: rear {{ '-s ' if tripleo_backup_and_restore_rear_simulate else '' }}-d -v mkbackup,1,1
openstack%2Fkolla-ansible~master~Ib7ce4ed79c28456281087eb4156577f910c072e7,openstack/kolla-ansible,master,Ib7ce4ed79c28456281087eb4156577f910c072e7,manila: add glance section in manila-share.conf,MERGED,2021-04-21 11:00:37.000000000,2021-07-28 17:29:42.000000000,2021-07-28 17:28:15.000000000,"[{'_account_id': 14826}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-21 11:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5f3122f993ec3663a37aca49bc4034f5d1945d3', 'message': 'set glance user variable and cinder user variable in manila-share.conf added glance keystone user to global variables file\n\nChange-Id: Ib7ce4ed79c28456281087eb4156577f910c072e7\n'}, {'number': 2, 'created': '2021-07-20 08:00:22.000000000', 'files': ['releasenotes/notes/manila-glance-4524ed1e9d488a60.yaml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e4f51f671b4e14fd58a67f1a22106c09c037eed', 'message': 'manila: add glance section in manila-share.conf\n\nSince the Victoria release, manila-share.conf requires a glance section\nfor some drivers. This change adds the missing section.\n\nIt also uses the correct cinder_keystone_user variable to reference the\ncinder user.\n\nCloses-Bug: #1921935\n\nChange-Id: Ib7ce4ed79c28456281087eb4156577f910c072e7\n'}]",2,787346,2e4f51f671b4e14fd58a67f1a22106c09c037eed,17,4,2,33307,,,0,"manila: add glance section in manila-share.conf

Since the Victoria release, manila-share.conf requires a glance section
for some drivers. This change adds the missing section.

It also uses the correct cinder_keystone_user variable to reference the
cinder user.

Closes-Bug: #1921935

Change-Id: Ib7ce4ed79c28456281087eb4156577f910c072e7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/787346/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/manila/templates/manila-share.conf.j2']",2,d5f3122f993ec3663a37aca49bc4034f5d1945d3,,[glance] auth_url = {{ keystone_admin_url }} auth_type = password project_domain_id = {{ default_project_domain_id }} user_domain_id = {{ default_user_domain_id }} region_name = {{ openstack_region_name }} endpoint_type = internalURL project_name = service username = {{ glance_keystone_user }} password = {{ glance_keystone_password }} cafile = {{ openstack_cacert }} username = {{ cinder_keystone_user }},username = cinder,14,1
openstack%2Fvirtualbmc~master~Ia05d9b10c421b3ec4678449d6accf912927213c8,openstack/virtualbmc,master,Ia05d9b10c421b3ec4678449d6accf912927213c8,Update min version of tox to use allowlist,MERGED,2021-06-15 08:16:07.000000000,2021-07-28 17:25:43.000000000,2021-07-28 17:24:13.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 08:16:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/89220d2ebbf120f8bf92ef73dae89dfc34f6a1e7', 'message': 'Update min version of tox to use allowlist\n\nThe min version of tox is updated to 3.18.0 to replace whitelist_externals\nwith allowist_externals option [1]\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia05d9b10c421b3ec4678449d6accf912927213c8\n'}]",0,796401,89220d2ebbf120f8bf92ef73dae89dfc34f6a1e7,9,3,1,23851,,,0,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ia05d9b10c421b3ec4678449d6accf912927213c8
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/01/796401/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,89220d2ebbf120f8bf92ef73dae89dfc34f6a1e7,allowlist-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fpython-ironic-inspector-client~master~Ic99f9cd0e258ca65f51f7bb1195e4a7ba9ac7028,openstack/python-ironic-inspector-client,master,Ic99f9cd0e258ca65f51f7bb1195e4a7ba9ac7028,Update min version of tox to use allowlist,MERGED,2021-06-15 08:13:15.000000000,2021-07-28 17:24:16.000000000,2021-07-28 17:22:51.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 08:13:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/24291c85202f92f867093accd3c9ea66ce84a015', 'message': 'Update min version of tox to use allowlist\n\nThe min version of tox is updated to 3.18.0 to replace whitelist_externals\nwith allowist_externals option [1]\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic99f9cd0e258ca65f51f7bb1195e4a7ba9ac7028\n'}]",0,796398,24291c85202f92f867093accd3c9ea66ce84a015,9,3,1,23851,,,0,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic99f9cd0e258ca65f51f7bb1195e4a7ba9ac7028
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/98/796398/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,24291c85202f92f867093accd3c9ea66ce84a015,allowlist-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fkolla-ansible~master~I3599f85afe9d3045820ea1ea70481ea2500e49ac,openstack/kolla-ansible,master,I3599f85afe9d3045820ea1ea70481ea2500e49ac,Delete haproxy_single_service_listen.cfg.j2 template,MERGED,2021-06-24 11:48:57.000000000,2021-07-28 17:20:49.000000000,2021-07-28 17:16:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-24 11:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c49e3cc2229928df9b7ec3ead136a259510aeff8', 'message': 'Delete haproxy_single_service_listen.cfg.j2 template\n\nDelete the ""haproxy_single_service_listen.cfg.j2"" template,\nwhich has been replaced by ""haproxy_single_service_split.cfg.j2""\nand deprecated in the Victoria version\n\nChange-Id: I3599f85afe9d3045820ea1ea70481ea2500e49ac\n'}, {'number': 2, 'created': '2021-07-02 06:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d79da0a1d4976c0770da4537c9f57e1ccc14919', 'message': 'Delete haproxy_single_service_listen.cfg.j2 template\n\nDelete the ""haproxy_single_service_listen.cfg.j2"" template,\nwhich has been replaced by ""haproxy_single_service_split.cfg.j2""\nand deprecated in the Victoria version\n\nChange-Id: I3599f85afe9d3045820ea1ea70481ea2500e49ac\n'}, {'number': 3, 'created': '2021-07-28 10:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67b65207bbd56fc5da1bcb131be5b127f755eb69', 'message': 'Delete haproxy_single_service_listen.cfg.j2 template\n\nDelete the ""haproxy_single_service_listen.cfg.j2"" template,\nwhich has been replaced by ""haproxy_single_service_split.cfg.j2""\nand deprecated in the Victoria version\n\nChange-Id: I3599f85afe9d3045820ea1ea70481ea2500e49ac\n'}, {'number': 4, 'created': '2021-07-28 11:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12c2f8f22d7aea0399ede0177240b523a6a02664', 'message': 'Delete haproxy_single_service_listen.cfg.j2 template\n\nDelete the ""haproxy_single_service_listen.cfg.j2"" template,\nwhich has been replaced by ""haproxy_single_service_split.cfg.j2""\nand deprecated in the Victoria version\n\nChange-Id: I3599f85afe9d3045820ea1ea70481ea2500e49ac\n'}, {'number': 5, 'created': '2021-07-28 13:33:10.000000000', 'files': ['ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/haproxy-config/defaults/main.yml', 'releasenotes/notes/haproxy-default-template-upgrade-c9b88d3385a5d257.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fca9be3806f2d508ac8a11505a7d07431a9c4554', 'message': 'Delete haproxy_single_service_listen.cfg.j2 template\n\nDelete the ""haproxy_single_service_listen.cfg.j2"" template,\nwhich has been replaced by ""haproxy_single_service_split.cfg.j2""\nand deprecated in the Victoria version\n\nChange-Id: I3599f85afe9d3045820ea1ea70481ea2500e49ac\n'}]",1,797883,fca9be3806f2d508ac8a11505a7d07431a9c4554,24,3,5,31506,,,0,"Delete haproxy_single_service_listen.cfg.j2 template

Delete the ""haproxy_single_service_listen.cfg.j2"" template,
which has been replaced by ""haproxy_single_service_split.cfg.j2""
and deprecated in the Victoria version

Change-Id: I3599f85afe9d3045820ea1ea70481ea2500e49ac
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/797883/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/haproxy-config/defaults/main.yml']",2,c49e3cc2229928df9b7ec3ead136a259510aeff8,,,"# DEPRECATED(yoctozepto): using ""haproxy_single_service_listen.cfg.j2"" here is deprecated",0,112
openstack%2Fironic~bugfix%2F18.1~Ib41dfcd54af6c02695ae37680c70500c2edefa06,openstack/ironic,bugfix/18.1,Ib41dfcd54af6c02695ae37680c70500c2edefa06,Configure CI for bugfix/18.1,MERGED,2021-07-22 15:50:41.000000000,2021-07-28 17:20:43.000000000,2021-07-28 17:14:38.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-22 15:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/204ab1141fcc1c41bb993fe368d11897efb2ea6b', 'message': 'Configure CI for bugfix/18.1\n\nAdd branch mapping so that devstack jobs work. Use master for Bifrost\n(which is not strictly correct but is good enough).\n\nChange-Id: Ib41dfcd54af6c02695ae37680c70500c2edefa06\n'}, {'number': 2, 'created': '2021-07-22 16:10:33.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1838c7153ce6bc9a70ab9d3f244d11cd48d93575', 'message': 'Configure CI for bugfix/18.1\n\nAdd branch mapping so that devstack jobs work. Use master for Bifrost\n(which is not strictly correct but is good enough).\n\nChange-Id: Ib41dfcd54af6c02695ae37680c70500c2edefa06\n'}]",0,801876,1838c7153ce6bc9a70ab9d3f244d11cd48d93575,12,3,2,10239,,,0,"Configure CI for bugfix/18.1

Add branch mapping so that devstack jobs work. Use master for Bifrost
(which is not strictly correct but is good enough).

Change-Id: Ib41dfcd54af6c02695ae37680c70500c2edefa06
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/801876/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,204ab1141fcc1c41bb993fe368d11897efb2ea6b,, override-checkout: master override-checkout: master,,12,3
openstack%2Fironic-inspector~bugfix%2F10.7~I9132f9b3bc8d62a0db9ef6ec385bd5753650a370,openstack/ironic-inspector,bugfix/10.7,I9132f9b3bc8d62a0db9ef6ec385bd5753650a370,Configure CI for bugfix/10.7,MERGED,2021-07-22 15:45:15.000000000,2021-07-28 17:20:29.000000000,2021-07-28 17:14:42.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-22 15:45:15.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/533d29f029d120687919cb84a3343d80ae627be0', 'message': 'Configure CI for bugfix/10.7\n\nAdd branch mapping so that devstack jobs work. Use master for Bifrost\n(which is not strictly correct but is good enough).\n\nChange-Id: I9132f9b3bc8d62a0db9ef6ec385bd5753650a370\n'}]",0,801873,533d29f029d120687919cb84a3343d80ae627be0,9,3,1,10239,,,0,"Configure CI for bugfix/10.7

Add branch mapping so that devstack jobs work. Use master for Bifrost
(which is not strictly correct but is good enough).

Change-Id: I9132f9b3bc8d62a0db9ef6ec385bd5753650a370
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/73/801873/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/ironic-inspector-jobs.yaml']",2,533d29f029d120687919cb84a3343d80ae627be0,, - name: openstack/devstack override-checkout: master - name: openstack/ironic override-checkout: bugfix/18.1,,11,1
openstack%2Fironic-python-agent~bugfix%2F8.1~I62f55afac8b56166b7336231a669fad2ebb3d6f5,openstack/ironic-python-agent,bugfix/8.1,I62f55afac8b56166b7336231a669fad2ebb3d6f5,Configure CI for bugfix/8.1,MERGED,2021-07-22 15:55:18.000000000,2021-07-28 17:20:13.000000000,2021-07-28 17:14:44.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-22 15:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fae1d79bb3101edd56db691db83afec000796060', 'message': 'Configure CI for bugfix/8.1\n\nChange-Id: I62f55afac8b56166b7336231a669fad2ebb3d6f5\n'}, {'number': 2, 'created': '2021-07-22 15:58:41.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ae1537d9c60403ed4f1b3a728c5e51a5ae68fe1c', 'message': 'Configure CI for bugfix/8.1\n\nChange-Id: I62f55afac8b56166b7336231a669fad2ebb3d6f5\n'}]",0,801898,ae1537d9c60403ed4f1b3a728c5e51a5ae68fe1c,10,3,2,10239,,,0,"Configure CI for bugfix/8.1

Change-Id: I62f55afac8b56166b7336231a669fad2ebb3d6f5
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/98/801898/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,fae1d79bb3101edd56db691db83afec000796060,, - name: openstack/devstack override-checkout: master - name: openstack/ironic override-checkout: bugfix/18.1 - name: openstack/ironic-inspector override-checkout: bugfix/10.7, - openstack/ironic-inspector,6,1
openstack%2Foslo.db~master~Ie1e2bf612e949bdee00b1369057fbc739cbc7591,openstack/oslo.db,master,Ie1e2bf612e949bdee00b1369057fbc739cbc7591,Deprecate 'TpoolDbapiWrapper' for removal,ABANDONED,2021-03-31 17:56:14.000000000,2021-07-28 17:11:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-03-31 17:56:14.000000000', 'files': ['oslo_db/concurrency.py', 'releasenotes/notes/deprecate-TpoolDbapiWrapper-2a688e921cd86b99.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d39da654d3b0ac218c8a3c093e6dd01e99c0bec5', 'message': ""Deprecate 'TpoolDbapiWrapper' for removal\n\nThis has been around since oslo.db was split out of nova and has never\ngraduated from experimental to stable. There is zero testing of this\nfunctionality and no interest in adding it. Deprecate it to signal as\nmuch and allow us to eventually remove what is essentially dead code in\na reasonable time frame.\n\nChange-Id: Ie1e2bf612e949bdee00b1369057fbc739cbc7591\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,784147,d39da654d3b0ac218c8a3c093e6dd01e99c0bec5,9,3,1,15334,,,0,"Deprecate 'TpoolDbapiWrapper' for removal

This has been around since oslo.db was split out of nova and has never
graduated from experimental to stable. There is zero testing of this
functionality and no interest in adding it. Deprecate it to signal as
much and allow us to eventually remove what is essentially dead code in
a reasonable time frame.

Change-Id: Ie1e2bf612e949bdee00b1369057fbc739cbc7591
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/47/784147/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/concurrency.py', 'releasenotes/notes/deprecate-TpoolDbapiWrapper-2a688e921cd86b99.yaml']",2,d39da654d3b0ac218c8a3c093e6dd01e99c0bec5,deprecations,--- deprecations: - | The ``oslo_db.concurrency`` module has been deprecated for removal. This affects the ``TpoolDbapiWrapper`` class and related ``[database] use_tpool`` config option. Most users will be able to switch to ``oslo_db.api.DBAPI.from_config`` to continue using most of oslo.db's abstraction layer. There is no replacement for the experimental thread pooling provided by ``TpoolDbapiWrapper``. ,,34,7
openstack%2Fpuppet-ironic~master~Ic770798955482f038f06f920747d76f5f6dfc619,openstack/puppet-ironic,master,Ic770798955482f038f06f920747d76f5f6dfc619,Add separate manifest for configuring json-rpc,MERGED,2021-07-28 07:46:30.000000000,2021-07-28 17:05:04.000000000,2021-07-28 17:03:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 07:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4764216179eb004295acfd7ef523bb522a73f4e1', 'message': ""Add separate manifest for configuring json-rpc\n\nWhen using json-rpc transport rather than the default 'oslo',\nthis section need to be configured for both ironic-api and\nironic-conductor.\n\nThough rpc_transport parameter was added with change[1], the\nunderlying configuration needed to enable json-rpc has not\nbeen added.\n\n[1] https://review.opendev.org/c/openstack/puppet-ironic/+/659053\n\nChange-Id: Ic770798955482f038f06f920747d76f5f6dfc619\n""}, {'number': 2, 'created': '2021-07-28 08:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/651bbe36cdff39d9c08f966331e60db9cba37f26', 'message': ""Add separate manifest for configuring json-rpc\n\nWhen using json-rpc transport rather than the default 'oslo',\nthis section need to be configured for both ironic-api and\nironic-conductor.\n\nThough rpc_transport parameter was added with change[1], the\nunderlying configuration needed to enable json-rpc has not\nbeen added.\n\n[1] https://review.opendev.org/c/openstack/puppet-ironic/+/659053\n\nChange-Id: Ic770798955482f038f06f920747d76f5f6dfc619\n""}, {'number': 3, 'created': '2021-07-28 08:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7ccba76ea148cad94e98bc63e1e566387c16e5ec', 'message': ""Add separate manifest for configuring json-rpc\n\nWhen using json-rpc transport rather than the default 'oslo',\nthis section need to be configured for both ironic-api and\nironic-conductor.\n\nThough rpc_transport parameter was added with change[1], the\nunderlying configuration needed to enable json-rpc has not\nbeen added.\n\n[1] https://review.opendev.org/c/openstack/puppet-ironic/+/659053\n\nChange-Id: Ic770798955482f038f06f920747d76f5f6dfc619\n""}, {'number': 4, 'created': '2021-07-28 08:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/73b7cd66325014f32d3643ba76319e762137635f', 'message': ""Add separate manifest for configuring json-rpc\n\nWhen using json-rpc transport rather than the default 'oslo',\nthis section need to be configured for both ironic-api and\nironic-conductor.\n\nThough rpc_transport parameter was added with change[1], the\nunderlying configuration needed to enable json-rpc has not\nbeen added.\n\n[1] https://review.opendev.org/c/openstack/puppet-ironic/+/659053\n\nChange-Id: Ic770798955482f038f06f920747d76f5f6dfc619\n""}, {'number': 5, 'created': '2021-07-28 10:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c368bd7b3cb2e3fb2d99a3f577ebb1912fe51072', 'message': ""Add separate manifest for configuring json-rpc\n\nWhen using json-rpc transport rather than the default 'oslo',\nthis section need to be configured for both ironic-api and\nironic-conductor.\n\nThough rpc_transport parameter was added with change[1], the\nunderlying configuration needed to enable json-rpc has not\nbeen added.\n\n[1] https://review.opendev.org/c/openstack/puppet-ironic/+/659053\n\nChange-Id: Ic770798955482f038f06f920747d76f5f6dfc619\n""}, {'number': 6, 'created': '2021-07-28 11:11:49.000000000', 'files': ['spec/classes/ironic_json_rpc_spec.rb', 'manifests/json_rpc.pp', 'releasenotes/notes/json-rpc-manifest-db95d2162857c54a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0ef5303d0511eb27f078b4082e36c23e04bbe9c8', 'message': ""Add separate manifest for configuring json-rpc\n\nWhen using json-rpc transport rather than the default 'oslo',\nthis section need to be configured for both ironic-api and\nironic-conductor.\n\nThough rpc_transport parameter was added with change[1], the\nunderlying configuration needed to enable json-rpc has not\nbeen added.\n\n[1] https://review.opendev.org/c/openstack/puppet-ironic/+/659053\n\nChange-Id: Ic770798955482f038f06f920747d76f5f6dfc619\n""}]",2,802667,0ef5303d0511eb27f078b4082e36c23e04bbe9c8,15,3,6,8833,,,0,"Add separate manifest for configuring json-rpc

When using json-rpc transport rather than the default 'oslo',
this section need to be configured for both ironic-api and
ironic-conductor.

Though rpc_transport parameter was added with change[1], the
underlying configuration needed to enable json-rpc has not
been added.

[1] https://review.opendev.org/c/openstack/puppet-ironic/+/659053

Change-Id: Ic770798955482f038f06f920747d76f5f6dfc619
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/67/802667/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_json_rpc_spec.rb', 'manifests/json_rpc.pp', 'releasenotes/notes/json-rpc-manifest-db95d2162857c54a.yaml']",3,4764216179eb004295acfd7ef523bb522a73f4e1,,"--- features: - | New manifest ""ironic::json_rpc"" to set parameters for configuring json-rpc. Please set credentials for json-rpc using this manifest. ",,199,0
openstack%2Fsushy-tools~master~Ida16c014a7615c6c4021a0e116caf860517fe656,openstack/sushy-tools,master,Ida16c014a7615c6c4021a0e116caf860517fe656,Add additional BIOS Settings,MERGED,2021-07-28 12:44:16.000000000,2021-07-28 17:03:44.000000000,2021-07-28 17:02:05.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-28 12:44:16.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/domain_bios.xml', 'sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/emulator/templates/bios_registry.json', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/07bc989c02f72c7d469ef9960ecc446ce0fae96f', 'message': 'Add additional BIOS Settings\n\nAdd a few more fields that have different Attribute types than the existing ones.\n\nChange-Id: Ida16c014a7615c6c4021a0e116caf860517fe656\n'}]",0,802695,07bc989c02f72c7d469ef9960ecc446ce0fae96f,8,3,1,21909,,,0,"Add additional BIOS Settings

Add a few more fields that have different Attribute types than the existing ones.

Change-Id: Ida16c014a7615c6c4021a0e116caf860517fe656
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/95/802695/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/domain_bios.xml', 'sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/emulator/templates/bios_registry.json', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py']",5,07bc989c02f72c7d469ef9960ecc446ce0fae96f,additional-bios-settings," ""L2Cache"": ""10x256 KB"", ""NumCores"": ""10"", ""QuietBoot"": ""true"", ""SerialNumber"": ""QPX12345"", ""SysPassword"": """"}, ""L2Cache"": ""10x256 KB"", ""NumCores"": ""10"", ""QuietBoot"": ""true"", ""SerialNumber"": ""QPX12345"", ""SysPassword"": """"},"," ""SerialNumber"": ""QPX12345""}, ""SerialNumber"": ""QPX12345""},",57,5
openstack%2Fopenstack-helm~master~Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1,openstack/openstack-helm,master,Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1,Remove indonesian translations,MERGED,2021-07-28 14:41:41.000000000,2021-07-28 16:56:58.000000000,2021-07-28 16:55:18.000000000,"[{'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-07-28 14:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0727a3839e6d11cea1b80215f5e7b241472f1fb1', 'message': 'Test gate\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}, {'number': 2, 'created': '2021-07-28 14:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1621381007a73018fe26b20576083b431f44027', 'message': 'Test gate\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}, {'number': 3, 'created': '2021-07-28 15:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f416db006df8420f9fffc9bc1d6c0227b97b791', 'message': 'Test gate\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}, {'number': 4, 'created': '2021-07-28 15:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8abcd35c1cb7ee465d8d892e6fca7f895d5d79ec', 'message': 'Test gate\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}, {'number': 5, 'created': '2021-07-28 15:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d67499186bcfcc905dacbfd03388733d69b01c9b', 'message': 'Test gate\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}, {'number': 6, 'created': '2021-07-28 15:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1105290a152b7ccb252cbd501cc4e7241c4dd76d', 'message': 'Test gate\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}, {'number': 7, 'created': '2021-07-28 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9e0b5611d954307eed9ad0ce99f202f62ebc43a5', 'message': 'Test gate\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}, {'number': 8, 'created': '2021-07-28 16:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c223f2b22fa5c0c50c47425ebd88c7d55b599879', 'message': 'Remove indonesian translations\n\nThe lastest upgrade to sphinx 4.1.1 brings in a newer version of\ndocutils which caused an issue with the docs build since indonesia\nis not a supported language. This change removes the id directory\nin the list of locals to unblock the gate.\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}, {'number': 9, 'created': '2021-07-28 16:29:46.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc-devref.po', 'doc/source/locale/id/LC_MESSAGES/doc-specs.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-testing.po', 'doc/source/locale/id/LC_MESSAGES/doc-troubleshooting.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c89c32bd3c862f100cb0170909cb4c2312153c5', 'message': 'Remove indonesian translations\n\nThe lastest upgrade to sphinx 4.1.1 brings in a newer version of\ndocutils which caused an issue with the docs build since indonesia\nis not a supported language. This change removes the id directory\nin the list of locals to unblock the gate.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-July/023884.html\n\nChange-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1\n'}]",0,802474,9c89c32bd3c862f100cb0170909cb4c2312153c5,23,4,9,21420,,,0,"Remove indonesian translations

The lastest upgrade to sphinx 4.1.1 brings in a newer version of
docutils which caused an issue with the docs build since indonesia
is not a supported language. This change removes the id directory
in the list of locals to unblock the gate.

http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023884.html

Change-Id: Ic2e92dcfadab95eb1b1845fd5ab9383909bc84e1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/74/802474/8 && git format-patch -1 --stdout FETCH_HEAD,[],0,0727a3839e6d11cea1b80215f5e7b241472f1fb1,,,,0,0
openstack%2Fansible-collections-openstack~master~I160a75c6fbbf1555f3adcb444c77057f59b4cdfb,openstack/ansible-collections-openstack,master,I160a75c6fbbf1555f3adcb444c77057f59b4cdfb,Wait for pool to be active and online,MERGED,2021-07-19 11:08:44.000000000,2021-07-28 16:55:56.000000000,2021-07-28 16:55:56.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-19 11:08:44.000000000', 'files': ['plugins/modules/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/aed60716eed58657f716614f4003f300fc6d2471', 'message': 'Wait for pool to be active and online\n\nIn order to use a newly generated pool for a new\nhealthmonitor the pool must be online and active,\nto avoid 409 conflict, when trying to update a pool\nwith e.g pending update as a status.\n\nChange-Id: I160a75c6fbbf1555f3adcb444c77057f59b4cdfb\n'}]",0,801286,aed60716eed58657f716614f4003f300fc6d2471,11,2,1,29260,,,0,"Wait for pool to be active and online

In order to use a newly generated pool for a new
healthmonitor the pool must be online and active,
to avoid 409 conflict, when trying to update a pool
with e.g pending update as a status.

Change-Id: I160a75c6fbbf1555f3adcb444c77057f59b4cdfb
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/86/801286/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/loadbalancer.py'],1,aed60716eed58657f716614f4003f300fc6d2471,lb-wait-for-pool," def _wait_for_pool(self, pool, provisioning_status, operating_status, failures, interval=5): """"""Wait for pool to be in a particular provisioning and operating status."""""" timeout = self.params['timeout'] # reuse loadbalancer timeout total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: pool = self.conn.load_balancer.find_pool(name_or_id=pool.id) if pool: if pool.provisioning_status == provisioning_status and pool.operating_status == operating_status: return None if pool.provisioning_status in failures: self.fail_json( msg=""Pool %s transitioned to failure state %s"" % (pool.id, pool.provisioning_status) ) else: if provisioning_status == ""DELETED"": return None else: self.fail_json( msg=""Pool %s transitioned to DELETED"" % pool.id ) time.sleep(interval) total_sleep += interval self._wait_for_pool(pool, ""ACTIVE"", ""ONLINE"", [""ERROR""]) self._wait_for_pool(pool, ""ACTIVE"", ""ONLINE"", [""ERROR""])",,31,0
openstack%2Fansible-collections-openstack~master~Ib3fcd98d2b23f31cf139dc62552f2b19784b8155,openstack/ansible-collections-openstack,master,Ib3fcd98d2b23f31cf139dc62552f2b19784b8155,Add extra_specs attribute to network and router,NEW,2021-07-12 14:54:17.000000000,2021-07-28 16:48:25.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 14:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/de9854c9a8af2e53097cae6dc97ee44fb62c3bbc', 'message': 'Add extra_specs attribute to network and router\n\nStory: 2009003\nTask: 42677\nChange-Id: Ib3fcd98d2b23f31cf139dc62552f2b19784b8155\n'}, {'number': 2, 'created': '2021-07-19 20:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/78d2f8972770ba1bbb8c4d6287341f78507c807e', 'message': 'Add extra_specs attribute to network and router\n\nStory: 2009003\nTask: 42677\nChange-Id: Ib3fcd98d2b23f31cf139dc62552f2b19784b8155\n'}, {'number': 3, 'created': '2021-07-20 09:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7189aa9849f4446a854a3129644299744c3a52f0', 'message': 'Add extra_specs attribute to network and router\n\nStory: 2009003\nTask: 42677\nChange-Id: Ib3fcd98d2b23f31cf139dc62552f2b19784b8155\n'}, {'number': 4, 'created': '2021-07-28 14:14:01.000000000', 'files': ['ci/roles/router/tasks/main.yml', 'plugins/modules/router.py', 'ci/roles/network/tasks/main.yml', 'plugins/modules/network.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e1353d5d14afcf76abca8e1f1e01ebb4fd6d5413', 'message': 'Add extra_specs attribute to network and router\n\nDepends-On: I79ff8715835316505aab22974a22142fd7dc64c6\nStory: 2009003\nTask: 42677\nChange-Id: Ib3fcd98d2b23f31cf139dc62552f2b19784b8155\n'}]",0,800492,e1353d5d14afcf76abca8e1f1e01ebb4fd6d5413,13,2,4,29296,,,0,"Add extra_specs attribute to network and router

Depends-On: I79ff8715835316505aab22974a22142fd7dc64c6
Story: 2009003
Task: 42677
Change-Id: Ib3fcd98d2b23f31cf139dc62552f2b19784b8155
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/92/800492/3 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/router.py', 'plugins/modules/network.py']",2,de9854c9a8af2e53097cae6dc97ee44fb62c3bbc,network_attributes_depend," extra_specs: description: - Dictionary with extra key/value pairs passed to the API required: false default: {} type: dict dns_domain=dict(required=False, min_ver='0.29.0'), extra_specs=dict(type='dict', default=dict()) extra_specs = self.params['extra_specs'] dup_args = set(kwargs.keys()) & set(extra_specs.keys()) if dup_args: raise ValueError('Duplicate key(s) {0} in extra_specs' .format(list(dup_args))) kwargs = dict(kwargs, **extra_specs)"," dns_domain=dict(required=False, min_ver='0.29.0')",27,2
openstack%2Ftripleo-validations~stable%2Ftrain~I3a54abe72a68da04c57c05a71e4eace93225f058,openstack/tripleo-validations,stable/train,I3a54abe72a68da04c57c05a71e4eace93225f058,Corrected the task 'Get file_descriptors total_limit' to get the 'fs.file-max' value.,MERGED,2021-07-26 09:47:58.000000000,2021-07-28 16:42:44.000000000,2021-07-28 16:42:44.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 30075}]","[{'number': 1, 'created': '2021-07-26 09:47:58.000000000', 'files': ['roles/rabbitmq_limits/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/379eae2f6ab5ec41f1a180535d4abfa964cd881b', 'message': ""Corrected the task 'Get file_descriptors total_limit' to get the\n'fs.file-max' value.\n\nCloses-Bug: #1934656\nChange-Id: I3a54abe72a68da04c57c05a71e4eace93225f058\n(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)\n""}]",0,802250,379eae2f6ab5ec41f1a180535d4abfa964cd881b,13,6,1,32926,,,0,"Corrected the task 'Get file_descriptors total_limit' to get the
'fs.file-max' value.

Closes-Bug: #1934656
Change-Id: I3a54abe72a68da04c57c05a71e4eace93225f058
(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/50/802250/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/rabbitmq_limits/tasks/main.yml'],1,379eae2f6ab5ec41f1a180535d4abfa964cd881b,, sysctl -n fs.file-max, rabbitmqctl eval 'sysctl -n fs.file-max',1,1
openstack%2Fhorizon~master~Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb,openstack/horizon,master,Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb,Fix Unable to use multiattach volume as boot for new server,MERGED,2021-06-29 18:10:56.000000000,2021-07-28 16:16:42.000000000,2021-07-28 16:14:49.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-29 18:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f6642cc35e04b9cfafda0255845618be41620715', 'message': 'Fix Unable to use multiattach volume as boot for new server\n\nIf we try to create a new server from a bootable volume that\nsupports multiattach, it will fail to create with an error\nmessage that ``multiattach volumes are only supported starting\nwith compute API version 2.60``. This patch fixes the issue.\n\nCloses-Bug: #1931440\nChange-Id: Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb\n'}, {'number': 2, 'created': '2021-06-30 17:20:06.000000000', 'files': ['openstack_dashboard/api/microversions.py', 'openstack_dashboard/test/unit/api/test_nova.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/64fe0abb653950c85d455dedd09ef42856c6b07b', 'message': 'Fix Unable to use multiattach volume as boot for new server\n\nIf we try to create a new server from a bootable volume that\nsupports multiattach, it will fail to create with an error\nmessage that ``multiattach volumes are only supported starting\nwith compute API version 2.60``. This patch fixes the issue.\n\nCloses-Bug: #1931440\nChange-Id: Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb\n'}]",2,798730,64fe0abb653950c85d455dedd09ef42856c6b07b,13,6,2,29313,,,0,"Fix Unable to use multiattach volume as boot for new server

If we try to create a new server from a bootable volume that
supports multiattach, it will fail to create with an error
message that ``multiattach volumes are only supported starting
with compute API version 2.60``. This patch fixes the issue.

Closes-Bug: #1931440
Change-Id: Ic8330b947b1a733f70c3bdad8b3493f20a2f26fb
",git fetch https://review.opendev.org/openstack/horizon refs/changes/30/798730/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/nova.py'],1,f6642cc35e04b9cfafda0255845618be41620715,," microversion = None if block_device_mapping_v2[0]['source_type'] == 'volume': volume = cinder.volume_get(request, block_device_mapping_v2[0]['uuid']) if volume.multiattach: microversion = get_microversion(request, ""multiattach"") if not microversion: microversion = get_microversion(request, (""instance_description"", ""auto_allocated_network""))"," microversion = get_microversion(request, (""instance_description"", ""auto_allocated_network""))",8,2
openstack%2Freleases~master~I74eb0c4eca495b68c52089d230e82696464e1bd6,openstack/releases,master,I74eb0c4eca495b68c52089d230e82696464e1bd6,Add short review process summary to engagement ladder,ABANDONED,2021-07-27 18:08:12.000000000,2021-07-28 16:11:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-27 18:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f72e0b801e6c482641622c3deee389671d8dbbd7', 'message': 'Add short review process summary to engagement ladder\n\nPatch I3859ce431711cef5176a3ea34b9433bd06d51447 moved the content of\nCONTRIBUTING.rst to the team documentation. A short summary of the\nreview process was deleted, but could be useful to add that back to the\nEngagement ladder section to give a quick overview of the necessary\ntasks for a release patch reviewer.\n\nChange-Id: I74eb0c4eca495b68c52089d230e82696464e1bd6\n'}, {'number': 2, 'created': '2021-07-27 18:57:45.000000000', 'files': ['doc/source/reference/join_release_team.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/51e5a0ef8daeb73b2572f94a2bdb48835a182378', 'message': 'Add short review process summary to engagement ladder\n\nPatch I3859ce431711cef5176a3ea34b9433bd06d51447 moved the content of\nCONTRIBUTING.rst to the team documentation. A short summary of the\nreview process was deleted, but could be useful to add that back to the\nEngagement ladder section to give a quick overview of the necessary\ntasks for a release patch reviewer.\n\nChange-Id: I74eb0c4eca495b68c52089d230e82696464e1bd6\n'}]",0,802593,51e5a0ef8daeb73b2572f94a2bdb48835a182378,8,1,2,17685,,,0,"Add short review process summary to engagement ladder

Patch I3859ce431711cef5176a3ea34b9433bd06d51447 moved the content of
CONTRIBUTING.rst to the team documentation. A short summary of the
review process was deleted, but could be useful to add that back to the
Engagement ladder section to give a quick overview of the necessary
tasks for a release patch reviewer.

Change-Id: I74eb0c4eca495b68c52089d230e82696464e1bd6
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/802593/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/join_release_team.rst'],1,f72e0b801e6c482641622c3deee389671d8dbbd7,onboarding,"Release review short summary ---------------------------- Three test jobs run for every release request: * openstack-tox-validate checks for proper yaml format and schema validation and checks for things like proper job types and valid release note links * releases-tox-list-changes finds included commits, lists PTL and release liaison, requirements changes, and open reviews for docs and release notes * openstack-tox-docs performs a build of the releases website and checks for errors. You should: * check that the version bump matches SemVer rules. In particular, a .Z bump means only bugfixes should be listed in list-changes. * check the output of the test jobs. * Place your vote based on whether you think the request should be accepted as-is or not. See the :doc:`reviewer_guide` for the detailed review guidelines.",See the :doc:`reviewer_guide` for more review guidelines.,21,1
openstack%2Foslo.db~master~Ie3fbc54aa0c791e6e8ca3164c95051039e82b0e3,openstack/oslo.db,master,Ie3fbc54aa0c791e6e8ca3164c95051039e82b0e3,sqlalchemy: Remove checks for older deps,MERGED,2021-06-25 17:07:43.000000000,2021-07-28 16:04:05.000000000,2021-07-28 16:02:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-25 17:07:43.000000000', 'files': ['oslo_db/sqlalchemy/test_migrations.py', 'oslo_db/sqlalchemy/migration_cli/ext_alembic.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a778f2d87fac95868274d6396c27df40ca006bef', 'message': 'sqlalchemy: Remove checks for older deps\n\nWe already state a minimum in our requirements.txt files to prevent use\nof this package with older alembic and sqlalchemy releases, making these\nchecks simply noise. Remove them.\n\nChange-Id: Ie3fbc54aa0c791e6e8ca3164c95051039e82b0e3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,798132,a778f2d87fac95868274d6396c27df40ca006bef,8,3,1,15334,,,0,"sqlalchemy: Remove checks for older deps

We already state a minimum in our requirements.txt files to prevent use
of this package with older alembic and sqlalchemy releases, making these
checks simply noise. Remove them.

Change-Id: Ie3fbc54aa0c791e6e8ca3164c95051039e82b0e3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/32/798132/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/test_migrations.py', 'oslo_db/sqlalchemy/migration_cli/ext_alembic.py']",2,a778f2d87fac95868274d6396c27df40ca006bef,cleanup,," # TODO(viktors): Remove this, when we will use Alembic 0.7.5 or # higher, because the ``attributes`` dictionary was # added to Alembic in version 0.7.5. if not hasattr(self.config, 'attributes'): self.config.attributes = {}",1,17
openstack%2Freleases~master~I6627e5ca70242ee7560c61dcf92bc6e6eb5d3857,openstack/releases,master,I6627e5ca70242ee7560c61dcf92bc6e6eb5d3857,Xena-2 release for cinder,MERGED,2021-07-22 07:07:00.000000000,2021-07-28 16:02:43.000000000,2021-07-28 16:02:43.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 07:07:00.000000000', 'files': ['deliverables/xena/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ed684b9127b85fe195f7e28bb35da9256ba12e52', 'message': 'Xena-2 release for cinder\n\nThe Cinder project has completed the long-threatened removal of\nthe Block Storage API version 2 (first deprecated in Pike by change\nI913c44799cdd), so we would like to do a beta release at this time\nto make this change generally available.\n\nCo-Authored-By: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nChange-Id: I6627e5ca70242ee7560c61dcf92bc6e6eb5d3857\n'}]",0,801708,ed684b9127b85fe195f7e28bb35da9256ba12e52,13,6,1,27615,,,0,"Xena-2 release for cinder

The Cinder project has completed the long-threatened removal of
the Block Storage API version 2 (first deprecated in Pike by change
I913c44799cdd), so we would like to do a beta release at this time
to make this change generally available.

Co-Authored-By: Brian Rosmaita <rosmaita.fossdev@gmail.com>
Change-Id: I6627e5ca70242ee7560c61dcf92bc6e6eb5d3857
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/801708/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/cinder.yaml'],1,ed684b9127b85fe195f7e28bb35da9256ba12e52,,releases: - version: 19.0.0.0b1 projects: - hash: 776d56ff69079bfd441dab2021a5cb41cc46b6ae repo: openstack/cinder,,5,0
openstack%2Fcinder~master~I84ff54268550e4e27fa8b2c8d7d02459c4f6d7c4,openstack/cinder,master,I84ff54268550e4e27fa8b2c8d7d02459c4f6d7c4,[Pure Storage] Fix CG cloning crash when very long volume names,MERGED,2021-07-16 14:06:42.000000000,2021-07-28 16:01:14.000000000,2021-07-19 19:40:44.000000000,"[{'_account_id': 5314}, {'_account_id': 14806}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-16 14:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6506ad2bcbc95a4c12d820d220a6fb96b8ce869', 'message': '[Pure Storage] Fix CG cloning crash when very long volume names\n\nSpecifically for PowerVC when volumes have VERY long names they\ncurrently truncated to an acceptible length. This truncation\nwas missing for volumes in a consistency group so when cloning\nof the CG occured, the clone command would fail due to an\nincorrect volume name.\n\nChange-Id: I84ff54268550e4e27fa8b2c8d7d02459c4f6d7c4\nCloses-Bug: #1936663\n'}, {'number': 2, 'created': '2021-07-16 14:12:39.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure_fix_clone_cg-cfdf7d16b63882f8.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb5c8183b6dcd2800acd04d9254b1be11adcba9f', 'message': '[Pure Storage] Fix CG cloning crash when very long volume names\n\nSpecifically for PowerVC when volumes have VERY long names they\ncurrently truncated to an acceptible length. This truncation\nwas missing for volumes in a consistency group so when cloning\nof the CG occured, the clone command would fail due to an\nincorrect volume name.\n\nChange-Id: I84ff54268550e4e27fa8b2c8d7d02459c4f6d7c4\nCloses-Bug: #1936663\n'}]",0,801065,eb5c8183b6dcd2800acd04d9254b1be11adcba9f,43,4,2,13425,,,0,"[Pure Storage] Fix CG cloning crash when very long volume names

Specifically for PowerVC when volumes have VERY long names they
currently truncated to an acceptible length. This truncation
was missing for volumes in a consistency group so when cloning
of the CG occured, the clone command would fail due to an
incorrect volume name.

Change-Id: I84ff54268550e4e27fa8b2c8d7d02459c4f6d7c4
Closes-Bug: #1936663
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/801065/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/pure.py'],1,b6506ad2bcbc95a4c12d820d220a6fb96b8ce869,bug/1936663," pg_vol_snap_name = ""%(group_snap)s.%(volume_name)s"" % { 'volume_name': self._get_vol_name(snapshot.volume)"," pg_vol_snap_name = ""%(group_snap)s.%(volume_name)s-cinder"" % { 'volume_name': snapshot.volume_name",2,2
openstack%2Fcinder~master~I8dd114fedece8e9d8f85c1ed237c31aede907d67,openstack/cinder,master,I8dd114fedece8e9d8f85c1ed237c31aede907d67,PowerMax Driver - Allow for case mismatch in SGs,MERGED,2021-06-14 10:55:53.000000000,2021-07-28 16:00:53.000000000,2021-07-22 15:23:33.000000000,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 10:55:53.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'releasenotes/notes/bug1929429-e749f5e5a242a599.yaml', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f65c2a92fe3931791fca81038a27f81e1ca28fd', 'message': 'PowerMax Driver - Allow for case mismatch in SGs\n\nWhen checking if a storage group is a child of a parent storage\ngroup the check is currently case sensitive. We should allow for\na pattern match that is not case sensitive. For example,\nmyStorageGroup should equal MYSTORAGEGROUP or mystoragegroup.\n\nCloses-Bug: #1929429\nChange-Id: I8dd114fedece8e9d8f85c1ed237c31aede907d67\n'}]",3,796256,1f65c2a92fe3931791fca81038a27f81e1ca28fd,71,4,1,12670,,,0,"PowerMax Driver - Allow for case mismatch in SGs

When checking if a storage group is a child of a parent storage
group the check is currently case sensitive. We should allow for
a pattern match that is not case sensitive. For example,
myStorageGroup should equal MYSTORAGEGROUP or mystoragegroup.

Closes-Bug: #1929429
Change-Id: I8dd114fedece8e9d8f85c1ed237c31aede907d67
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/796256/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'releasenotes/notes/bug1929429-e749f5e5a242a599.yaml', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",3,1f65c2a92fe3931791fca81038a27f81e1ca28fd,, if child_name.lower() in ( child.lower() for child in child_sg_list):, if child_name in child_sg_list:,26,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I50b81937698098141045841aec59c04ee88f5b0f,openstack/tripleo-heat-templates,stable/ussuri,I50b81937698098141045841aec59c04ee88f5b0f,Remove all docker related tasks from upgrades,MERGED,2021-07-26 14:19:11.000000000,2021-07-28 15:48:48.000000000,2021-07-28 15:48:48.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-26 14:19:11.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0a6b950d8c463150eb288773f3fb245f1848e94', 'message': 'Remove all docker related tasks from upgrades\n\nChange-Id: I50b81937698098141045841aec59c04ee88f5b0f\n'}]",1,802215,f0a6b950d8c463150eb288773f3fb245f1848e94,11,8,1,10969,,,0,"Remove all docker related tasks from upgrades

Change-Id: I50b81937698098141045841aec59c04ee88f5b0f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/802215/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,f0a6b950d8c463150eb288773f3fb245f1848e94,,, - name: Stop all services by stopping all docker containers include_role: name: tripleo_podman tasks_from: tripleo_docker_stop.yml tags: - never - system_upgrade - system_upgrade_prepare - name: Purge everything about docker on the host when: - (step | int) == 3 include_role: name: tripleo_podman tasks_from: tripleo_docker_purge.yml - name: Stop docker include_role: name: tripleo_podman tasks_from: tripleo_docker_stop.yml ,0,20
openstack%2Ftripleo-ci~master~If56a005434a8e10cea8d8888f01a9380d18239e4,openstack/tripleo-ci,master,If56a005434a8e10cea8d8888f01a9380d18239e4,Adds wallaby upgrades/updates jobs to periodic,MERGED,2021-06-17 07:21:51.000000000,2021-07-28 15:48:44.000000000,2021-07-28 15:48:44.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-06-17 07:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/547f9b7ee74b1ab027d45cd8c8b50ef26f52d043', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby standalone, undercloud and overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 2, 'created': '2021-06-18 04:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/79ba7a2576cf9eed94383f7348311dc231c406ec', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 3, 'created': '2021-06-21 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e8ab0ed3fa564165bdab2185efd950ae60c05d84', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 4, 'created': '2021-06-24 09:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5a3a685b878c0a4234e3970b5861473ba6910a92', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 5, 'created': '2021-06-24 10:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c32ebbfc7de5e600de9f2333d7593b6badc1de36', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 6, 'created': '2021-06-28 11:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3c9e3b85cff9af373ecc27f97001d0f812c4237b', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 7, 'created': '2021-07-08 11:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8c2f41519630523da29ed22b6dfe8758fb44ec29', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 8, 'created': '2021-07-12 10:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d8c0339b75d59fd9b5a9a6b261265b98e06bee50', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 9, 'created': '2021-07-12 10:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/27e9824533601112c5d8cbb2d554d9f6aab0d9e6', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 10, 'created': '2021-07-14 08:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/65a2578ad3f191b2878883f804d075ff5ba9ad62', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 11, 'created': '2021-07-14 09:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/785ab7215803303c9cbb5e18d97a53fe3d7c3a13', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 12, 'created': '2021-07-24 16:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/260c9fab5b805e70451badcf0c7a60973109caab', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 13, 'created': '2021-07-27 12:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5504ae84418a46c5f3ba9a92b0d18ec3d9570b50', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}, {'number': 14, 'created': '2021-07-27 12:35:43.000000000', 'files': ['zuul.d/periodic.yaml', 'zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/580bbb06a7bd3c0579e19f1ec61b72a2c444f56f', 'message': 'Adds wallaby upgrades/updates jobs to periodic\n\nThis patch adds wallaby undercloud and minor\nupgrades/updates jobs to periodic.\n\nChange-Id: If56a005434a8e10cea8d8888f01a9380d18239e4\n'}]",12,796771,580bbb06a7bd3c0579e19f1ec61b72a2c444f56f,69,9,14,31075,,,0,"Adds wallaby upgrades/updates jobs to periodic

This patch adds wallaby undercloud and minor
upgrades/updates jobs to periodic.

Change-Id: If56a005434a8e10cea8d8888f01a9380d18239e4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/71/796771/12 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,547f9b7ee74b1ab027d45cd8c8b50ef26f52d043,wallaby-upgrade-jobs, - project-template: name: tripleo-upgrades-wallaby-pipeline periodic: jobs: - tripleo-ci-centos-8-content-provider: vars: force_non_periodic: true - tripleo-ci-centos-8-content-provider-victoria: vars: force_non_periodic: true - tripleo-ci-centos-8-standalone-upgrade-wallaby: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-undercloud-upgrade-wallaby: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-wallaby: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-wallaby: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,,32,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic35155f04bf05913b9e9b8eaa22fe6c02515396c,openstack/tripleo-ansible,stable/train,Ic35155f04bf05913b9e9b8eaa22fe6c02515396c,Add support for v2 registries.conf,MERGED,2021-07-21 11:29:19.000000000,2021-07-28 15:48:41.000000000,2021-07-28 15:48:41.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-21 11:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/188179596dfff12b2876c80a4cb6e7d310fb927f', 'message': 'Add support for v2 registries.conf\n\nhttps://github.com/containers/image/blob/master/docs/containers-registries.conf.5.md#version-2\n\nThis allows for mirrors to be configured for specific hosts however it\nis incompatibilty with the default v1 configuration so we have to nuke\nthe existing configuration.  Additionally it uses TOML which there is\ncurrently no ansible module to manage.\n\nChange-Id: Ic35155f04bf05913b9e9b8eaa22fe6c02515396c\n(cherry picked from commit bf80fe922b2d915675f01794e73893c018688916)\n'}, {'number': 2, 'created': '2021-07-21 11:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/209fc605b74b3729f8965835447825a24e1d8570', 'message': 'Add support for v2 registries.conf\n\nhttps://github.com/containers/image/blob/master/docs/containers-registries.conf.5.md#version-2\n\nThis allows for mirrors to be configured for specific hosts however it\nis incompatibilty with the default v1 configuration so we have to nuke\nthe existing configuration.  Additionally it uses TOML which there is\ncurrently no ansible module to manage.\n\nRelated-Bug: 1936825\nChange-Id: Ic35155f04bf05913b9e9b8eaa22fe6c02515396c\n(cherry picked from commit bf80fe922b2d915675f01794e73893c018688916)\n'}, {'number': 3, 'created': '2021-07-26 12:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b1454ff793f1a97fbce72c2c32749e97c6caae6', 'message': 'Add support for v2 registries.conf\n\nhttps://github.com/containers/image/blob/master/docs/containers-registries.conf.5.md#version-2\n\nThis allows for mirrors to be configured for specific hosts however it\nis incompatibilty with the default v1 configuration so we have to nuke\nthe existing configuration.  Additionally it uses TOML which there is\ncurrently no ansible module to manage.\n\nAdds to_json to address issue seen with py2 jobs at [1]\n\nRelated-Bug: 1936825\nChange-Id: Ic35155f04bf05913b9e9b8eaa22fe6c02515396c\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/801615/2#message-821960bb5908358d27225a12fdc5c84ab7bfe0d0\n(cherry picked from commit bf80fe922b2d915675f01794e73893c018688916)\n'}, {'number': 4, 'created': '2021-07-27 09:49:39.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/templates/registries.conf.j2', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27fe9d9ce471dd25a56d8a8b9e4b6480e763b07f', 'message': 'Add support for v2 registries.conf\n\nhttps://github.com/containers/image/blob/master/docs/containers-registries.conf.5.md#version-2\n\nThis allows for mirrors to be configured for specific hosts however it\nis incompatibilty with the default v1 configuration so we have to nuke\nthe existing configuration.  Additionally it uses TOML which there is\ncurrently no ansible module to manage.\n\nAdds to_json to address issue seen with py2 jobs at [1]. The depends-on\nis unrelated but needed to pass centos7 jobs in ci.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/801615/2#message-821960bb5908358d27225a12fdc5c84ab7bfe0d0\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/802431\nRelated-Bug: 1936825\nChange-Id: Ic35155f04bf05913b9e9b8eaa22fe6c02515396c\n(cherry picked from commit bf80fe922b2d915675f01794e73893c018688916)\n'}]",2,801615,27fe9d9ce471dd25a56d8a8b9e4b6480e763b07f,28,8,4,8449,,,0,"Add support for v2 registries.conf

https://github.com/containers/image/blob/master/docs/containers-registries.conf.5.md#version-2

This allows for mirrors to be configured for specific hosts however it
is incompatibilty with the default v1 configuration so we have to nuke
the existing configuration.  Additionally it uses TOML which there is
currently no ansible module to manage.

Adds to_json to address issue seen with py2 jobs at [1]. The depends-on
is unrelated but needed to pass centos7 jobs in ci.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/801615/2#message-821960bb5908358d27225a12fdc5c84ab7bfe0d0
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/802431
Related-Bug: 1936825
Change-Id: Ic35155f04bf05913b9e9b8eaa22fe6c02515396c
(cherry picked from commit bf80fe922b2d915675f01794e73893c018688916)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/801615/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/templates/registries.conf.j2', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml']",3,188179596dfff12b2876c80a4cb6e7d310fb927f,Ic35155f04bf05913b9e9b8eaa22fe6c02515396c, - name: Write containers registries.conf template: src: registries.conf.j2 dest: /etc/containers/registries.conf owner: root group: root setype: etc_t mode: '0644'," - name: configure insecure registries /etc/containers/registries.conf ini_file: path: /etc/containers/registries.conf section: 'registries.insecure' option: registries value: ""{{ tripleo_container_registry_insecure_registries }}"" when: - (tripleo_container_registry_insecure_registries | length) > 0",61,9
openstack%2Ftripleo-ansible~stable%2Ftrain~I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,openstack/tripleo-ansible,stable/train,I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,More descriptive task names,MERGED,2021-07-22 10:32:47.000000000,2021-07-28 15:48:40.000000000,2021-07-28 15:48:40.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-22 10:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d85a1ce4545b4a95322f649495902fc1e9a4cf3b', 'message': 'More descriptive task names\n\nAs highlighted by marios on [1] and [2] the task names were\nnot descriptive of what it was being done, as it implied that some kind\nof verification was being done.\n\nThis patch does not change any functionality, but it changes the names\nof the tasks to something more according to what it is being done.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml\n[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml\n\nChange-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127\n(cherry picked from commit 138f9f6708546cf17f28334be93ee2acc3fbf9a8)\n(cherry picked from commit d3e2068b7979a2140a50e972aa813757d361ce7e)\n(cherry picked from commit 6d5eaea315bb3176d3ff0262c53f87afad1fe4b7)\n'}, {'number': 2, 'created': '2021-07-22 10:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc579ab241392654d8bc393fe9c9942ced4acfdd', 'message': 'More descriptive task names\n\nAs highlighted by marios on [1] and [2] the task names were\nnot descriptive of what it was being done, as it implied that some kind\nof verification was being done.\n\nThis patch does not change any functionality, but it changes the names\nof the tasks to something more according to what it is being done.\n\nNot a clean cherry pick due to different naming of the role directory.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml\n[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml\n\nChange-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127\n(cherry picked from commit 138f9f6708546cf17f28334be93ee2acc3fbf9a8)\n(cherry picked from commit d3e2068b7979a2140a50e972aa813757d361ce7e)\n(cherry picked from commit 6d5eaea315bb3176d3ff0262c53f87afad1fe4b7)\n'}, {'number': 3, 'created': '2021-07-22 10:36:35.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup-and-restore/backup/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57985c0a9a1d19feaf61fbd29a8b39eca20ab431', 'message': 'More descriptive task names\n\nAs highlighted by marios on [1] and [2] the task names were\nnot descriptive of what it was being done, as it implied that some kind\nof verification was being done.\n\nThis patch does not change any functionality, but it changes the names\nof the tasks to something more according to what it is being done.\n\nNot a clean cherry pick due to different naming of the role directory.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml\n[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml\n\nChange-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127\n(cherry picked from commit 138f9f6708546cf17f28334be93ee2acc3fbf9a8)\n(cherry picked from commit d3e2068b7979a2140a50e972aa813757d361ce7e)\n(cherry picked from commit 6d5eaea315bb3176d3ff0262c53f87afad1fe4b7)\n'}]",0,801729,57985c0a9a1d19feaf61fbd29a8b39eca20ab431,26,6,3,32968,,,0,"More descriptive task names

As highlighted by marios on [1] and [2] the task names were
not descriptive of what it was being done, as it implied that some kind
of verification was being done.

This patch does not change any functionality, but it changes the names
of the tasks to something more according to what it is being done.

Not a clean cherry pick due to different naming of the role directory.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml
[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml

Change-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127
(cherry picked from commit 138f9f6708546cf17f28334be93ee2acc3fbf9a8)
(cherry picked from commit d3e2068b7979a2140a50e972aa813757d361ce7e)
(cherry picked from commit 6d5eaea315bb3176d3ff0262c53f87afad1fe4b7)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/801729/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml']",2,d85a1ce4545b4a95322f649495902fc1e9a4cf3b,change-801729-1,"<<<<<<< HEAD (5daaea Merge ""Move the snapshots feature to optional/beta"" into sta) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""backup_and_restore"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" tags: - always - name: Ensure cephmon container is running command: ""{{ tripleo_container_cli }} unpause ceph-mon-{{ ansible_facts['hostname'] }}"" failed_when: false tags: - bar_create_recover_image - name: Export ceph authentication shell: | set -o pipefail {{ tripleo_container_cli }} exec ceph-mon-{{ ansible_facts['hostname'] }} bash -c ""ceph auth export"" become: true register: bar_ceph_authentication_content tags: - bar_create_recover_image - name: Save ceph authentication at {{ tripleo_backup_and_restore_ceph_auth_file }} copy: dest: ""{{ tripleo_backup_and_restore_ceph_auth_file }}"" content: | {{ bar_ceph_authentication_content.stdout }} tags: - bar_create_recover_image >>>>>>> CHANGE (6d5eae More descriptive task names) ",,211,0
openstack%2Ftripleo-heat-templates~master~Id984375adbbe1f084fb00de7824e4b0ad0833f7c,openstack/tripleo-heat-templates,master,Id984375adbbe1f084fb00de7824e4b0ad0833f7c,Nova: Remove unused password parameters,MERGED,2021-06-07 01:52:28.000000000,2021-07-28 15:48:36.000000000,2021-07-28 15:48:36.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 01:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba16020063b48b3628c983ef3a7b04c632f2f402', 'message': 'Remove unused AdminPassword\n\nTrivial-Fix\n\nChange-Id: Id984375adbbe1f084fb00de7824e4b0ad0833f7c\n'}, {'number': 2, 'created': '2021-06-08 12:28:14.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86d3f64b071e0dd196943819d5f230addae60d6d', 'message': 'Nova: Remove unused password parameters\n\nThis change removes some password parameters in nova templates which\nare not actually used in the same template files.\n\nTrivial-Fix\n\nChange-Id: Id984375adbbe1f084fb00de7824e4b0ad0833f7c\n'}]",0,795012,86d3f64b071e0dd196943819d5f230addae60d6d,27,6,2,9816,,,0,"Nova: Remove unused password parameters

This change removes some password parameters in nova templates which
are not actually used in the same template files.

Trivial-Fix

Change-Id: Id984375adbbe1f084fb00de7824e4b0ad0833f7c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/795012/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,ba16020063b48b3628c983ef3a7b04c632f2f402,,," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true",0,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic92584431e0bf38bf4ae2a2479aa7999b343ae33,openstack/tripleo-heat-templates,stable/wallaby,Ic92584431e0bf38bf4ae2a2479aa7999b343ae33,libvirt: fix formatting of the log_outputs parameter,MERGED,2021-05-24 15:52:05.000000000,2021-07-28 15:48:32.000000000,2021-07-28 15:48:32.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-24 15:52:05.000000000', 'files': ['deployment/logging/files/nova-libvirt.yaml', 'deployment/logging/stdout/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78a19f7dcc8c73ad8151adeba8fe3a34d22f709b', 'message': 'libvirt: fix formatting of the log_outputs parameter\n\nChange 3f2e063c7894151df1a40dea6cbee9265b30cdb8 updated format of\nthe log_outputs parameter unpexpectedly, and because of that change\nlibvirt no longer generate its log file by default.\nThis change fixes the parameter format so that libvirt records logs\nas expected.\n\nCloses-Bug: #1929264\nChange-Id: Ic92584431e0bf38bf4ae2a2479aa7999b343ae33\n(cherry picked from commit 65ddeed5f436a7062f2ff419792b120de2675b74)\n'}]",0,792764,78a19f7dcc8c73ad8151adeba8fe3a34d22f709b,11,4,1,9816,,,0,"libvirt: fix formatting of the log_outputs parameter

Change 3f2e063c7894151df1a40dea6cbee9265b30cdb8 updated format of
the log_outputs parameter unpexpectedly, and because of that change
libvirt no longer generate its log file by default.
This change fixes the parameter format so that libvirt records logs
as expected.

Closes-Bug: #1929264
Change-Id: Ic92584431e0bf38bf4ae2a2479aa7999b343ae33
(cherry picked from commit 65ddeed5f436a7062f2ff419792b120de2675b74)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/792764/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logging/files/nova-libvirt.yaml', 'deployment/logging/stdout/nova-libvirt.yaml']",2,78a19f7dcc8c73ad8151adeba8fe3a34d22f709b,bug/1929264-stable/wallaby, str_replace: template: 'LEVEL:stderr' params: LEVEL: if: - or: - {get_param: Debug } - {get_param: LibvirtDebug } - 1 - {get_param: LibvirtLogLevel} nova::compute::libvirt::virtlogd::log_outputs: str_replace: template: 'LEVEL:stderr' params: LEVEL: if: - or: - {get_param: Debug } - {get_param: LibvirtDebug } - 1 - {get_param: LibvirtVirtlogdLogLevel}, if: - or: - {get_param: Debug } - {get_param: LibvirtDebug } - 1 - {get_param: LibvirtLogLevel} nova::compute::libvirt::virtlogd::log_outputs: if: - or: - {get_param: Debug } - {get_param: LibvirtDebug } - 1 - {get_param: LibvirtVirtlogdLogLevel},44,24
openstack%2Ftripleo-heat-templates~master~I59dc05ec26703bf92121a46a5ac0b3786d5e0a18,openstack/tripleo-heat-templates,master,I59dc05ec26703bf92121a46a5ac0b3786d5e0a18,Enable archive task_log records while archiving the database,MERGED,2021-07-23 07:09:28.000000000,2021-07-28 15:48:27.000000000,2021-07-28 15:48:27.000000000,"[{'_account_id': 4690}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-23 07:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff25ac10f4effc855cc5d56a90e473c0f88b7a34', 'message': 'Enable archive task_log records while archiving the database\n\nAdds new NovaCronArchiveDeletedRowsTaskLog parameter which controles to\nalso archive task_log records while archiving the database. Defaults to\ntrue.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/801924\nChange-Id: I59dc05ec26703bf92121a46a5ac0b3786d5e0a18\nRelated-Bug: #1877189\n'}, {'number': 2, 'created': '2021-07-23 07:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8827e778dcf7d13e520ea9315bdcc5f6cf02f1b2', 'message': 'Enable archive task_log records while archiving the database\n\nAdds new NovaCronArchiveDeleteRowsTaskLog parameter which controles to\nalso archive task_log records while archiving the database. Defaults to\ntrue.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/801924\nChange-Id: I59dc05ec26703bf92121a46a5ac0b3786d5e0a18\nRelated-Bug: #1877189\n'}, {'number': 3, 'created': '2021-07-26 05:38:46.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'releasenotes/notes/nova_cron_archive_deleted_rows-task_log-efbf0aac77aab128.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac5b3829b0b32daccc94ab4b0bd0cb55af26737f', 'message': 'Enable archive task_log records while archiving the database\n\nAdds new NovaCronArchiveDeleteRowsTaskLog parameter which controls to\nalso archive task_log records while archiving the database. Defaults to\ntrue.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/801924\nChange-Id: I59dc05ec26703bf92121a46a5ac0b3786d5e0a18\nRelated-Bug: #1877189\n'}]",4,801939,ac5b3829b0b32daccc94ab4b0bd0cb55af26737f,35,8,3,17216,,,0,"Enable archive task_log records while archiving the database

Adds new NovaCronArchiveDeleteRowsTaskLog parameter which controls to
also archive task_log records while archiving the database. Defaults to
true.

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/801924
Change-Id: I59dc05ec26703bf92121a46a5ac0b3786d5e0a18
Related-Bug: #1877189
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/801939/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'releasenotes/notes/nova_cron_archive_deleted_rows-task_log-efbf0aac77aab128.yaml']",2,ff25ac10f4effc855cc5d56a90e473c0f88b7a34,bug/1877189,--- features: - | Adds new NovaCronArchiveDeletedRowsTaskLog parameter which controles to also archive task_log records while archiving the database. Defaults to true. ,,12,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I65c1ef66833109d10882981f4a4f5852ee31acf0,openstack/tripleo-heat-templates,stable/wallaby,I65c1ef66833109d10882981f4a4f5852ee31acf0,Remove leftover of hieradata cleanup,MERGED,2021-07-26 06:42:21.000000000,2021-07-28 15:48:20.000000000,2021-07-28 15:48:20.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-26 06:42:21.000000000', 'files': ['deployment/manila/manila-backend-cephfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbf603863b18ae4f301c3926923cc77db1930459', 'message': ""Remove leftover of hieradata cleanup\n\nThe commit e2680bbf7eba8b40424083900d21ec285754c86f removed usage\nof CephManilaClientKey in manila-backend-cephfs.yaml but it didn't\nremove comments about the parameter.\n\nChange-Id: I65c1ef66833109d10882981f4a4f5852ee31acf0\n(cherry picked from commit 726ccc1bdcfec31247f1f211525f7e22992876c3)\n""}]",0,802205,fbf603863b18ae4f301c3926923cc77db1930459,11,4,1,9816,,,0,"Remove leftover of hieradata cleanup

The commit e2680bbf7eba8b40424083900d21ec285754c86f removed usage
of CephManilaClientKey in manila-backend-cephfs.yaml but it didn't
remove comments about the parameter.

Change-Id: I65c1ef66833109d10882981f4a4f5852ee31acf0
(cherry picked from commit 726ccc1bdcfec31247f1f211525f7e22992876c3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/802205/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-backend-cephfs.yaml'],1,fbf603863b18ae4f301c3926923cc77db1930459,,, # (jprovazn) default value is set to assure this templates works with an # external ceph too (user/key is created only when ceph is deployed by # TripleO),0,3
openstack%2Ftripleo-heat-templates~master~Id44fa2354429b944fbc0809f63db558bb7de23f7,openstack/tripleo-heat-templates,master,Id44fa2354429b944fbc0809f63db558bb7de23f7,Use yaml.safe_load to load YAML files,MERGED,2021-07-22 13:08:57.000000000,2021-07-28 15:48:14.000000000,2021-07-28 15:48:14.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-22 13:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41b8a5fd493f5e05c0dbb0bbc3679a526bc7e96c', 'message': 'yaml.load: Set Loader to avoid deprecation warning\n\nSince PyYAML 5.1, yaml.load without specifying the Loader option is\ndeprecated and shows the following warning.\n\nYAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,\nas the default Loader is unsafe.\nPlease read https://msg.pyyaml.org/load for full details.\n\nThis change adds the Loader option to get rid of that warning message.\n\nChange-Id: Id44fa2354429b944fbc0809f63db558bb7de23f7\n'}, {'number': 2, 'created': '2021-07-22 14:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48a11bfdbf9ef2537f6999d20f86b56b4197de25', 'message': 'yaml.load: Set Loader to avoid deprecation warning\n\nSince PyYAML 5.1, yaml.load without specifying the Loader option is\ndeprecated and shows the following warning.\n\nYAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,\nas the default Loader is unsafe.\nPlease read https://msg.pyyaml.org/load for full details.\n\nThis change adds the Loader option to get rid of that warning message.\n\nChange-Id: Id44fa2354429b944fbc0809f63db558bb7de23f7\n'}, {'number': 3, 'created': '2021-07-24 03:08:32.000000000', 'files': ['tools/render-ansible-tasks.py', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53040573abca10c9eefdad7688a56610c67ed645', 'message': 'Use yaml.safe_load to load YAML files\n\nSince PyYAML 5.1, yaml.load without specifying the Loader option is\ndeprecated and shows the following warning.\n\nYAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,\nas the default Loader is unsafe.\nPlease read https://msg.pyyaml.org/load for full details.\n\nThis change replaces yaml.load by yaml.safe_load (which is effectively\nsame as adding Loader=yaml.SafeLoader) to get rid of that warning\nmessage. Also, existing all usage of yaml.load with the Loader option\nare also replaced so that we to make all implementation to load yaml\nfiles consistent.\n\nChange-Id: Id44fa2354429b944fbc0809f63db558bb7de23f7\n'}]",3,801850,53040573abca10c9eefdad7688a56610c67ed645,18,4,3,9816,,,0,"Use yaml.safe_load to load YAML files

Since PyYAML 5.1, yaml.load without specifying the Loader option is
deprecated and shows the following warning.

YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,
as the default Loader is unsafe.
Please read https://msg.pyyaml.org/load for full details.

This change replaces yaml.load by yaml.safe_load (which is effectively
same as adding Loader=yaml.SafeLoader) to get rid of that warning
message. Also, existing all usage of yaml.load with the Loader option
are also replaced so that we to make all implementation to load yaml
files consistent.

Change-Id: Id44fa2354429b944fbc0809f63db558bb7de23f7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/801850/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/render-ansible-tasks.py'],1,41b8a5fd493f5e05c0dbb0bbc3679a526bc7e96c,yaml.safe_load," resource_reg = yaml.load(open(os.path.join(resource_registry), 'r'), Loader=yaml.SafeLoader) role_resources = yaml.load(open(os.path.join(""./roles/"", role + "".yaml""), 'r'), Loader=yaml.SafeLoader) data_source = yaml.load(open(""./"" + config_file, 'r'), Loader=yaml.SafeLoader) yaml.dump(yaml.load(json.dumps(role_ansible_tasks), Loader=yaml.SafeLoader), save, default_flow_style=False) )"," resource_reg = yaml.load(open(os.path.join(resource_registry), 'r')) role_resources = yaml.load(open(os.path.join(""./roles/"", role + "".yaml""), 'r')) data_source = yaml.load(open(""./"" + config_file, 'r')) yaml.dump(yaml.load(json.dumps(role_ansible_tasks)), save, default_flow_style=False)",11,4
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Iced0d69556f61e6facfb1462de3ad241b5dfcfcb,openstack/puppet-tripleo,stable/wallaby,Iced0d69556f61e6facfb1462de3ad241b5dfcfcb,Do not include client classes,MERGED,2021-07-10 13:13:01.000000000,2021-07-28 15:48:10.000000000,2021-07-28 15:48:10.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-10 13:13:01.000000000', 'files': ['spec/classes/tripleo_profile_base_mistral_spec.rb', 'manifests/profile/base/gnocchi.pp', 'manifests/profile/base/mistral.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/barbican.pp', 'spec/classes/tripleo_profile_base_aodh_spec.rb', 'spec/classes/tripleo_profile_base_gnocchi_spec.rb', 'spec/classes/tripleo_profile_base_barbican_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e78135bdf2050b230516cabf3ff10483fee225b1', 'message': 'Do not include client classes\n\nThe client classes are used to install client packages like aodhclient,\nbut there is no need to install these client packages when installing\nservices. In addition, package installation is no longer enabled since\nservices are containerized, so these classes are no longer effective.\n\nChange-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb\n(cherry picked from commit 5b0437919d1059dc616edacc901d585e5a49b10a)\n'}]",0,800186,e78135bdf2050b230516cabf3ff10483fee225b1,16,3,1,9816,,,0,"Do not include client classes

The client classes are used to install client packages like aodhclient,
but there is no need to install these client packages when installing
services. In addition, package installation is no longer enabled since
services are containerized, so these classes are no longer effective.

Change-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb
(cherry picked from commit 5b0437919d1059dc616edacc901d585e5a49b10a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/800186/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_mistral_spec.rb', 'manifests/profile/base/gnocchi.pp', 'manifests/profile/base/mistral.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/barbican.pp', 'spec/classes/tripleo_profile_base_aodh_spec.rb', 'spec/classes/tripleo_profile_base_gnocchi_spec.rb', 'spec/classes/tripleo_profile_base_barbican_spec.rb']",8,e78135bdf2050b230516cabf3ff10483fee225b1,db-stable/wallaby,, is_expected.to_not contain_class('barbican::client') is_expected.to contain_class('barbican::client'),0,18
openstack%2Fhorizon~master~I80d11cbdd42224456ee3a354ebad556a318ba03a,openstack/horizon,master,I80d11cbdd42224456ee3a354ebad556a318ba03a,Add POST/Redirect/GET for Domains dashboard,MERGED,2021-07-26 15:50:58.000000000,2021-07-28 15:47:33.000000000,2021-07-28 15:45:45.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-26 15:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/81e490723f57d87a3f79d78af9445725aaf2e919', 'message': 'Add POST/Redirect/GET for Domains dashboard\n\nCurrently, ""Set Domain Context"" and ""Clear Domain Context"" doesn\'t do\nPRG, so page reload after these actions produce browser popup about form\nre-submission. Proposed patch fixes it\n\nChange-Id: I80d11cbdd42224456ee3a354ebad556a318ba03a\n'}, {'number': 2, 'created': '2021-07-27 10:13:02.000000000', 'files': ['openstack_dashboard/dashboards/identity/domains/tables.py', 'openstack_dashboard/dashboards/identity/domains/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c80d7e32ef43608eb50e47cc2b5cc6a8b49ba4fe', 'message': 'Add POST/Redirect/GET for Domains dashboard\n\nCurrently, ""Set Domain Context"" and ""Clear Domain Context"" doesn\'t do\nPRG, so page reload after these actions produce browser popup about form\nre-submission. Proposed patch fixes it\n\nChange-Id: I80d11cbdd42224456ee3a354ebad556a318ba03a\n'}]",2,802328,c80d7e32ef43608eb50e47cc2b5cc6a8b49ba4fe,10,3,2,27838,,,0,"Add POST/Redirect/GET for Domains dashboard

Currently, ""Set Domain Context"" and ""Clear Domain Context"" doesn't do
PRG, so page reload after these actions produce browser popup about form
re-submission. Proposed patch fixes it

Change-Id: I80d11cbdd42224456ee3a354ebad556a318ba03a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/28/802328/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/domains/tables.py'],1,81e490723f57d87a3f79d78af9445725aaf2e919,prg_domains_master,from django import shortcuts return shortcuts.redirect(request.get_full_path()) return shortcuts.redirect(request.get_full_path()) return shortcuts.redirect(request.get_full_path()),,4,0
openstack%2Fkolla-ansible~master~I064f248177b0054a0a360a7f9ab00bc30eb5b17b,openstack/kolla-ansible,master,I064f248177b0054a0a360a7f9ab00bc30eb5b17b,Fix Manila deploy when non-default name used,ABANDONED,2021-07-28 13:05:54.000000000,2021-07-28 15:42:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 13:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ae5c28f178edd22d6dbea1a9105ecf466a75f6c', 'message': 'Fix Manila deploy when non-default name used\n\nFixes Manila configure step to use variables instead\nof hardcoded defaults for ceph username/keyring.\n\nCloses-Bug: #1906944\nChange-Id: I064f248177b0054a0a360a7f9ab00bc30eb5b17b\n'}, {'number': 2, 'created': '2021-07-28 13:06:40.000000000', 'files': ['ansible/roles/manila/tasks/fix_cephfs_owner.yml', 'releasenotes/notes/bug-1938285-1f04bc6f950f130c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73b262d8b694f2f8d065855d595a43a4cc1b17a2', 'message': 'Fix Manila deploy when non-default name used\n\nFixes Manila configure step to use variables instead\nof hardcoded defaults for ceph username/keyring.\n\nCloses-Bug: #1938285\nChange-Id: I064f248177b0054a0a360a7f9ab00bc30eb5b17b\n'}]",0,802702,73b262d8b694f2f8d065855d595a43a4cc1b17a2,5,1,2,33694,,,0,"Fix Manila deploy when non-default name used

Fixes Manila configure step to use variables instead
of hardcoded defaults for ceph username/keyring.

Closes-Bug: #1938285
Change-Id: I064f248177b0054a0a360a7f9ab00bc30eb5b17b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/802702/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/tasks/fix_cephfs_owner.yml', 'releasenotes/notes/bug-1938285-1f04bc6f950f130c.yaml']",2,8ae5c28f178edd22d6dbea1a9105ecf466a75f6c,fix_manila_ceph,--- fixes: - | Fixes hardcoded username and keyring locations causing Manila to fail to deploy when these variables are non-default. `LP#1938285 <https://launchpad.net/bugs/1938285>`__ ,,8,2
openstack%2Freleases~master~Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0,openstack/releases,master,Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0,Make stable/ussuri release for TripleO repos,MERGED,2021-07-23 15:29:55.000000000,2021-07-28 15:39:21.000000000,2021-07-28 15:39:21.000000000,"[{'_account_id': 308}, {'_account_id': 9816}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 15:29:55.000000000', 'files': ['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/tripleo-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0d031ba3a18edd88f7b0eb333c145940900c0d76', 'message': 'Make stable/ussuri release for TripleO repos\n\nRelated puppet-tripleo metadata bump in depends-on is required\nbefore validation will pass here as we are tagging that commit.\nSome of these would warrant a bump to .feature rather than .patch\nhowever we are locked to .patch on some of these for ussuri because\nof an error made in an earlier (victoria) release.\n\nDepends-On: Ia4aa0c87c1594f8e53c24a86d874998c561af931\nChange-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0\n'}]",1,802043,0d031ba3a18edd88f7b0eb333c145940900c0d76,14,5,1,8449,,,0,"Make stable/ussuri release for TripleO repos

Related puppet-tripleo metadata bump in depends-on is required
before validation will pass here as we are tagging that commit.
Some of these would warrant a bump to .feature rather than .patch
however we are locked to .patch on some of these for ussuri because
of an error made in an earlier (victoria) release.

Depends-On: Ia4aa0c87c1594f8e53c24a86d874998c561af931
Change-Id: Ied1c09bf9f6d22d9de7728ad4dfdff89e73f9ae0
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/802043/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/tripleo-common.yaml']",7,0d031ba3a18edd88f7b0eb333c145940900c0d76,, - version: 12.4.6 projects: - repo: openstack/tripleo-common hash: 13bf51551342c9e628a2c306af747a31011ce27d,,28,0
openstack%2Fopenstack-tempest-skiplist~master~I67359daf9731bb1dcd2bbfb6c3d513ab771d801b,openstack/openstack-tempest-skiplist,master,I67359daf9731bb1dcd2bbfb6c3d513ab771d801b,Add back tripleo component tests in skip,MERGED,2021-07-28 14:52:21.000000000,2021-07-28 15:10:40.000000000,2021-07-28 15:09:19.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 14:52:21.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/cda261ed3271aaabe351145bd808f0d782a66350', 'message': 'Add back tripleo component tests in skip\n\nIn order to get the tripleo component in\ntrain, ussuri, victoria to promote, we need to skip\nthis test.\n\nWill undo the skip when the promotion cycle is\ncompleted.\n\nChange-Id: I67359daf9731bb1dcd2bbfb6c3d513ab771d801b\nRelated-Bug: #1934879\n'}]",0,802733,cda261ed3271aaabe351145bd808f0d782a66350,7,2,1,9976,,,0,"Add back tripleo component tests in skip

In order to get the tripleo component in
train, ussuri, victoria to promote, we need to skip
this test.

Will undo the skip when the promotion cycle is
completed.

Change-Id: I67359daf9731bb1dcd2bbfb6c3d513ab771d801b
Related-Bug: #1934879
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/33/802733/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,cda261ed3271aaabe351145bd808f0d782a66350,bug1934879-tripleo-component, - test: manila_tempest_tests.tests.api.test_shares.SharesNFSTest deployment: - 'overcloud' releases: - name: victoria reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 - name: ussuri reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 - name: train reason: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1934879 jobs: - periodic-tripleo-ci-centos-8-scenario004-standalone-tripleo-victoria - periodic-tripleo-ci-centos-8-scenario004-standalone-tripleo-ussuri - periodic-tripleo-ci-centos-8-scenario004-standalone-tripleo-train,,17,0
openstack%2Fopenstack-helm-infra~master~I36ef7b2cdcf747ed2503ca5d27bc7803349f287d,openstack/openstack-helm-infra,master,I36ef7b2cdcf747ed2503ca5d27bc7803349f287d,Helm-Toolkit: Make Rabbit-init job more robust,MERGED,2021-07-08 18:38:57.000000000,2021-07-28 15:05:48.000000000,2021-07-28 15:04:16.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 29585}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-07-08 18:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f0ac48b4212e182a92c8919d5faae02533516fe2', 'message': 'Helm-Toolkit: [DNM] Make Rabbit-init job more robust\n\nChange-Id: I36ef7b2cdcf747ed2503ca5d27bc7803349f287d\n'}, {'number': 2, 'created': '2021-07-13 17:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9961f1e04972b23e4bca65100c24c67a3e091f50', 'message': 'Helm-Toolkit: [DNM] Make Rabbit-init job more robust\n\nChange-Id: I36ef7b2cdcf747ed2503ca5d27bc7803349f287d\n'}, {'number': 3, 'created': '2021-07-13 19:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9390c2e49691bda775f31974e5c38c45b1045436', 'message': 'Helm-Toolkit: Make Rabbit-init job more robust\n\nChange-Id: I36ef7b2cdcf747ed2503ca5d27bc7803349f287d\n'}, {'number': 4, 'created': '2021-07-20 18:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/073d443b1f798e930ffb9cc12219c0bed60ee776', 'message': 'Helm-Toolkit: Make Rabbit-init job more robust\n\nChange-Id: I36ef7b2cdcf747ed2503ca5d27bc7803349f287d\n'}, {'number': 5, 'created': '2021-07-27 20:20:01.000000000', 'files': ['helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/adab36be22ae1607850240d04cc0eeea366d8be1', 'message': 'Helm-Toolkit: Make Rabbit-init job more robust\n\nChange-Id: I36ef7b2cdcf747ed2503ca5d27bc7803349f287d\n'}]",0,800097,adab36be22ae1607850240d04cc0eeea366d8be1,24,7,5,30495,,,0,"Helm-Toolkit: Make Rabbit-init job more robust

Change-Id: I36ef7b2cdcf747ed2503ca5d27bc7803349f287d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/800097/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl']",3,f0ac48b4212e182a92c8919d5faae02533516fe2,,"{{- if and $envAll.Values.manifests.certificates (ne $tlsSecret """") }}",{{- if $envAll.Values.manifests.certificates }},3,2
openstack%2Fkayobe~master~I202e1d2ec54e8ebcddefab668f8e2486f1bb1aa6,openstack/kayobe,master,I202e1d2ec54e8ebcddefab668f8e2486f1bb1aa6,Fix capitalisation of Ansible task name,MERGED,2021-07-26 09:08:32.000000000,2021-07-28 14:43:24.000000000,2021-07-28 14:38:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-07-26 09:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5767e05409131334ee7af495397a1835d3bdd023', 'message': 'Fix capitalisation of Ansible task name\n\nChange-Id: I202e1d2ec54e8ebcddefab668f8e2486f1bb1aa6\n'}, {'number': 2, 'created': '2021-07-28 10:44:53.000000000', 'files': ['ansible/seed-deploy-containers.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5815f0ba3a92d8971056b01e7e3a42c66e42ead9', 'message': 'Fix capitalisation of Ansible task name\n\nChange-Id: I202e1d2ec54e8ebcddefab668f8e2486f1bb1aa6\n'}]",0,802242,5815f0ba3a92d8971056b01e7e3a42c66e42ead9,15,3,2,15197,,,0,"Fix capitalisation of Ansible task name

Change-Id: I202e1d2ec54e8ebcddefab668f8e2486f1bb1aa6
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/802242/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/seed-deploy-containers.yml'],1,5767e05409131334ee7af495397a1835d3bdd023,,- name: Ensure defined container images are deployed on seed node,- name: Ensure defined container images are deployed on Seed node,1,1
openstack%2Fkayobe~master~Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,openstack/kayobe,master,Iddb699aa98ddee8446d532ce4bd23ba9174fb38e,Remove stale DIB_DISABLE_KERNEL_CLEANUP references,MERGED,2021-07-07 15:30:05.000000000,2021-07-28 14:41:28.000000000,2021-07-28 14:38:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-07-07 15:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ebadb4e6e4c554abd4887944dda017e218ebd44c', 'message': 'Remove stale DIB_DISABLE_KERNEL_CLEANUP references\n\nDocumentation about DIB_DISABLE_KERNEL_CLEANUP was left in place after\nthe variable was removed in Ie25e88bb96f186399ae69837e93185127628ce86.\n\nBackport: wallaby, victoria, ussuri\n\nChange-Id: Iddb699aa98ddee8446d532ce4bd23ba9174fb38e\n'}, {'number': 2, 'created': '2021-07-23 12:08:03.000000000', 'files': ['etc/kayobe/bifrost.yml', 'doc/source/configuration/reference/bifrost.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d4bbdada8209d3e1872c2beca9aee6fe62850ece', 'message': 'Remove stale DIB_DISABLE_KERNEL_CLEANUP references\n\nDocumentation about DIB_DISABLE_KERNEL_CLEANUP was left in place after\nthe variable was removed in Ie25e88bb96f186399ae69837e93185127628ce86.\n\nBackport: wallaby, victoria, ussuri\n\nChange-Id: Iddb699aa98ddee8446d532ce4bd23ba9174fb38e\n'}]",0,799853,d4bbdada8209d3e1872c2beca9aee6fe62850ece,16,3,2,15197,,,0,"Remove stale DIB_DISABLE_KERNEL_CLEANUP references

Documentation about DIB_DISABLE_KERNEL_CLEANUP was left in place after
the variable was removed in Ie25e88bb96f186399ae69837e93185127628ce86.

Backport: wallaby, victoria, ussuri

Change-Id: Iddb699aa98ddee8446d532ce4bd23ba9174fb38e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/799853/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'doc/source/configuration/reference/bifrost.rst']",2,ebadb4e6e4c554abd4887944dda017e218ebd44c,dib-disable-kernel-cleanup," ``{""DIB_CLOUD_INIT_DATASOURCES"": ""ConfigDrive""}``."," ``{""DIB_CLOUD_INIT_DATASOURCES"": ""ConfigDrive"", ""DIB_DISABLE_KERNEL_CLEANUP"": 1}``.",2,3
openstack%2Fneutron~master~I8572906cc435feda1f82263fd94dda47fc1526e1,openstack/neutron,master,I8572906cc435feda1f82263fd94dda47fc1526e1,Sanitize MAC addresses,MERGED,2021-05-05 13:30:35.000000000,2021-07-28 14:29:11.000000000,2021-07-28 14:27:03.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-05-05 13:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/301270c2d2226949fbdec6498dcdac014faad7f9', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 2, 'created': '2021-05-06 07:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19773d1ea29b18e0f6ce2c44187800d3ad9858e8', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 3, 'created': '2021-05-07 07:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3878583494505bc10ffe83b5f9ad11c419137a76', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 4, 'created': '2021-06-11 09:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/785e21286d30c0cffb3c0cc135f6392a38568db5', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 5, 'created': '2021-06-18 06:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a6b2f8f8f9275f69a7afc026ca069aa30f6f3db', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 6, 'created': '2021-06-18 09:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdc59ae6f1040a3246ce5ba3de6b54b98d62bb29', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 7, 'created': '2021-06-23 07:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83b73c80a94dcf28a526335ed912fac356137f0c', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 8, 'created': '2021-06-29 11:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45c99600c2a32bb8211e50263cfd82ea62af1bc9', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 9, 'created': '2021-07-01 09:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dc0ceb1f9801b8b2adc2dabdbc813f268c27f4a', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}, {'number': 10, 'created': '2021-07-08 16:48:40.000000000', 'files': ['neutron/agent/l2/extensions/dhcp/base.py', 'neutron/cmd/upgrade_checks/checks.py', 'neutron/db/db_base_plugin_v2.py', 'releasenotes/notes/sanitize-port-mac-address-732f451942483e21.yaml', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py', 'neutron/cmd/sanitize_port_mac_addresses.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/827cca2ed75b159c3a1a2e5f193150fe32491b1b', 'message': 'Sanitize MAC addresses\n\nThis patch sanitizes the MAC address coming from a user input:\n- The ""base_mac"" address configuration parameter.\n- The ""port.mac_address"" stored in the database, if the script\n  provided is not executed.\n\nThis patch relays on [1], that will sanitize any input coming from\nthe server API.\n\nThis patch adds a new script to sanitize all ""port.mac_address""\nregisters stored in the dabatabase.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300\n\nRelated-Bug: #1926273\n\nChange-Id: I8572906cc435feda1f82263fd94dda47fc1526e1\n'}]",27,789831,827cca2ed75b159c3a1a2e5f193150fe32491b1b,148,8,10,16688,,,0,"Sanitize MAC addresses

This patch sanitizes the MAC address coming from a user input:
- The ""base_mac"" address configuration parameter.
- The ""port.mac_address"" stored in the database, if the script
  provided is not executed.

This patch relays on [1], that will sanitize any input coming from
the server API.

This patch adds a new script to sanitize all ""port.mac_address""
registers stored in the dabatabase.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/788300

Related-Bug: #1926273

Change-Id: I8572906cc435feda1f82263fd94dda47fc1526e1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/789831/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l2/extensions/dhcp/base.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/utils.py', 'neutron/cmd/sanitize_port_mac_addresses.py', 'setup.cfg']",5,301270c2d2226949fbdec6498dcdac014faad7f9,bug/1926273, neutron-sanitize-port-mac-address = neutron.cmd.ovn.sanitize_port_mac_address:main,,78,5
openstack%2Fvalidations-libs~master~I09a8273624e5dbd4e8f88d55ab4340235b996e01,openstack/validations-libs,master,I09a8273624e5dbd4e8f88d55ab4340235b996e01,DNM Group handling refactor,ABANDONED,2021-07-12 10:00:33.000000000,2021-07-28 14:20:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-12 10:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f298884b2f35a04f686c886d6063d0346ab9cd82', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n\nDNM Group handling refactor\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09a8273624e5dbd4e8f88d55ab4340235b996e01\n'}, {'number': 2, 'created': '2021-07-12 10:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b3a3c252d419c47898de584286c2e3a3d2e8658b', 'message': 'DNM Group handling refactor\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09a8273624e5dbd4e8f88d55ab4340235b996e01\n'}, {'number': 3, 'created': '2021-07-12 11:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/604bb4c4feb46f8c1faaf44bcafde353260a8e5d', 'message': 'DNM Group handling refactor\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09a8273624e5dbd4e8f88d55ab4340235b996e01\n'}, {'number': 4, 'created': '2021-07-12 11:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9266a6ddfc6fce61da946c8556a86b74f59aa10c', 'message': 'DNM Group handling refactor\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09a8273624e5dbd4e8f88d55ab4340235b996e01\n'}, {'number': 5, 'created': '2021-07-12 11:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/dcdebc69469b85bfeeda05337271b5f414f0efbe', 'message': 'DNM Group handling refactor\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09a8273624e5dbd4e8f88d55ab4340235b996e01\n'}, {'number': 6, 'created': '2021-07-12 11:46:21.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/cli/run.py', 'validations_libs/cli/lister.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f31bb82912aa2b8bc08a51199b64fa0a0b1e16bc', 'message': 'DNM Group handling refactor\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09a8273624e5dbd4e8f88d55ab4340235b996e01\n'}]",2,800443,f31bb82912aa2b8bc08a51199b64fa0a0b1e16bc,9,1,6,32926,,,0,"DNM Group handling refactor

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I09a8273624e5dbd4e8f88d55ab4340235b996e01
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/43/800443/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/cli/run.py', 'validations_libs/cli/lister.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/tests/test_validation_actions.py', 'validations_libs/tests/test_ansible.py']",6,f298884b2f35a04f686c886d6063d0346ab9cd82,attr-group,"import osfrom validations_libs import constants return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_specific_log_path(self, mock_path, mock_env, mock_env_var, 'ANSIBLE_STDOUT_CALLBACK': 'fake', @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch( 'ansible_runner.utils.dump_artifact', autospec=True, return_value=""/foo/inventory.yaml"") @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) @mock.patch('os.path.abspath', return_value='/tmp/foo/localhost') @mock.patch('os.environ.copy', return_value={}) def test_run_no_log_path(self, mock_env, mock_path, mock_env_var, mock_config, mock_dump_artifact, mock_run, mock_exists, mock_open ): """""" Tests if leaving default (None) log_path appropriately sets 'ANSIBLE_CONFIG' and 'fact_cache' envvars, using constants.constants.VALIDATION_ANSIBLE_ARTIFACT_PATH. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp' ) opt = { 'artifact_dir': '/tmp', 'extravars': {}, 'ident': '', 'inventory': '/tmp/foo/localhost', 'playbook': 'existing.yaml', 'private_data_dir': '/tmp', 'quiet': False, 'rotate_artifacts': 256, 'verbosity': 0} if not backward_compat: opt.update({ 'envvars': { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg')}, 'project_dir': '/tmp', 'fact_cache': constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'fact_cache_type': 'jsonfile' }) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch( 'ansible_runner.utils.dump_artifact', autospec=True, return_value=""/foo/inventory.yaml"") @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) @mock.patch('os.path.abspath', return_value='/tmp/foo/localhost') @mock.patch('os.environ.copy', return_value={}) def test_run_tags(self, mock_env, mock_path, mock_env_var, mock_config, mock_dump_artifact, mock_run, mock_exists, mock_open ): """""" Tests if specifying tags appropriately sets 'tags' envvar, passed as dict entry to RunnerConfig. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" tags = ','.join(['master', 'train', 'fake']) _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', tags=tags ) opt = { 'artifact_dir': '/tmp', 'extravars': {}, 'ident': '', 'inventory': '/tmp/foo/localhost', 'playbook': 'existing.yaml', 'private_data_dir': '/tmp', 'quiet': False, 'rotate_artifacts': 256, 'verbosity': 0, 'tags': tags} if not backward_compat: opt.update({ 'envvars': { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CONFIG': '/tmp/foo/artifacts/ansible.cfg', 'VALIDATIONS_LOG_DIR': '/tmp/foo'}, 'project_dir': '/tmp', 'fact_cache': '/tmp/foo/artifacts/', 'fact_cache_type': 'jsonfile' }) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._encode_envvars', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg') }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) @mock.patch('os.path.abspath', return_value='/tmp/foo/localhost') def test_run_ansible_playbook_dir(self, mock_path, mock_env, mock_encode_envvars, mock_config, mock_run, mock_exists, mock_open ): """""" Tests if leaving default (None) log_path and setting playbook_dir appropriately sets 'project_dir' value in r_opts dict. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', playbook_dir='/tmp/fake_playbooks' ) opt = { 'artifact_dir': '/tmp', 'extravars': {}, 'ident': '', 'inventory': '/tmp/foo/localhost', 'playbook': 'existing.yaml', 'private_data_dir': '/tmp', 'quiet': False, 'rotate_artifacts': 256, 'verbosity': 0} if not backward_compat: opt.update({ 'envvars': { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg'), 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks' }, 'project_dir': '/tmp/fake_playbooks', 'fact_cache': constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'fact_cache_type': 'jsonfile' }) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'log_plays,mail,fake,validation_json,profile_tasks' }) @mock.patch('os.environ.copy', return_value={}) def test_run_callback_whitelist_extend(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open ): """""" Tests if Ansible._callbacks method appropriately constructs callback_whitelist, when provided explicit whitelist and output_callback. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( ssh_user='root', playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake', callback_whitelist='log_plays,mail' ) args = { 'output_callback': 'fake', 'ssh_user': 'root', 'workdir': '/tmp', 'connection': 'smart', 'gathering_policy': 'smart', 'module_path': None, 'key': None, 'extra_env_variables': None, 'ansible_timeout': 30, 'callback_whitelist': 'log_plays,mail,fake,validation_json,profile_tasks', 'base_dir': '/usr/share/ansible', 'python_interpreter': None } #Specific form of Ansible.env_var neccessiates convoluted arg unpacking. mock_env_var.assert_called_once_with(*args.values()) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks' }) @mock.patch('os.environ.copy', return_value={}) def test_run_callback_whitelist_none(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open ): """""" Tests if Ansible._callbacks method appropriately constructs callback_whitelist, when provided default (None) whitelist and specific output_callback. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( ssh_user='root', playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake' ) args = { 'output_callback': 'fake', 'ssh_user': 'root', 'workdir': '/tmp', 'connection': 'smart', 'gathering_policy': 'smart', 'module_path': None, 'key': None, 'extra_env_variables': None, 'ansible_timeout': 30, 'callback_whitelist': 'fake,validation_json,profile_tasks', 'base_dir': '/usr/share/ansible', 'python_interpreter': None } #Specific form of Ansible.env_var neccessiates convoluted arg unpacking. mock_env_var.assert_called_once_with(*args.values()) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'different_fake', 'ANSIBLE_CALLBACK_WHITELIST': 'different_fake,validation_json,profile_tasks' }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'different_fake'}) def test_run_callback_precedence(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open ): """""" Tests if Ansible._callbacks method reaches for output_callback if and only if env dict doesn't contain 'ANSIBLE_STDOUT_CALLBACK' key. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( ssh_user='root', playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake' ) args = { 'output_callback': 'different_fake', 'ssh_user': 'root', 'workdir': '/tmp', 'connection': 'smart', 'gathering_policy': 'smart', 'module_path': None, 'key': None, 'extra_env_variables': None, 'ansible_timeout': 30, 'callback_whitelist': 'different_fake,validation_json,profile_tasks', 'base_dir': '/usr/share/ansible', 'python_interpreter': None } #Specific form of Ansible.env_var neccessiates convoluted arg unpacking. mock_env_var.assert_called_once_with(*args.values()) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks' }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_artifact_path_set(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open ): """""" Tests if specified 'ansible_artifact_path' is passed in a valid and unchanged form to RunnerConfig as value of 'fact_cache' param. Additional assertion on number of calls is placed, to ensure that RunnerConfig is called only once. Otherwise followup assertions could fail. Assertions: Validity of specified path in filesystem: os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. Passing of specified value (ansible_artifact_path) to RunnerConfig. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake', ansible_artifact_path='/tmp/artifact/path' ) mock_config.assert_called_once() """""" Is the path even valid in our filesystem? Index 1 stands for kwargs in py<=36. os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. """""" self.assertRaises(FileNotFoundError, os.lstat, mock_config.call_args[1]['fact_cache']) self.assertTrue('/tmp/artifact/path' in mock_config.call_args[1]['fact_cache']) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks' }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_artifact_path_from_log_path(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open ): """""" Tests if specified 'log_path' is passed in a valid and unchanged form to RunnerConfig as value of 'fact_cache' param, in absence of specified 'ansible_artifact_path'. Additional assertion on number of calls is placed, to ensure that RunnerConfig is called only once. Otherwise followup assertions could fail. Assertions: Validity of specified path in filesystem.: os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. Passing of specified value (log_path) to RunnerConfig. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake', ) mock_config.assert_called_once() """""" Is the path even valid in our filesystem? Index 1 stands for kwargs in py<=36. os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. """""" self.assertRaises(FileNotFoundError, os.lstat, mock_config.call_args[1]['fact_cache']) self.assertTrue('/tmp/foo' in mock_config.call_args[1]['fact_cache']) @mock.patch.object( constants, 'VALIDATION_ANSIBLE_ARTIFACT_PATH', new='foo/bar') @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_artifact_path_from_constants(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open): """""" Tests if 'constants.constants.VALIDATION_ANSIBLE_ARTIFACT_PATH' passed in a valid and unchanged form to RunnerConfig as value of 'fact_cache' param, in absence of specified 'ansible_artifact_path' or 'log_path'. Additional assertion on number of calls is placed, to ensure that RunnerConfig is called only once. Otherwise followup assertions could fail. Assertions: Validity of specified path in filesystem.: os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. Passing of specified value (log_path) to RunnerConfig. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp' ) mock_config.assert_called_once() """""" Is the path even valid in our filesystem? Index 1 stands for kwargs in py<=36. os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. """""" self.assertRaises(FileNotFoundError, os.lstat, mock_config.call_args[1]['fact_cache']) self.assertTrue(constants.VALIDATION_ANSIBLE_ARTIFACT_PATH in mock_config.call_args[1]['fact_cache']) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._encode_envvars', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg')}) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_envvars(self, mock_env, mock_encode_envvars, mock_config, mock_run, mock_exists, mock_open ): """""" Tests if Ansible._ansible_env_var method, and following conditionals, correctly assemble the env dict. Assertions: Dictinary passed to Ansible._encode_envvars contains key: value pairs representing proper superset of key: value pairs required. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp' ) env = { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_DISPLAY_FAILED_STDERR': True, 'ANSIBLE_FORKS': 36, 'ANSIBLE_TIMEOUT': 30, 'ANSIBLE_GATHER_TIMEOUT': 45, 'ANSIBLE_SSH_RETRIES': 3, 'ANSIBLE_PIPELINING': True, 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', 'ANSIBLE_RETRY_FILES_ENABLED': False, 'ANSIBLE_HOST_KEY_CHECKING': False, 'ANSIBLE_TRANSPORT': 'smart', 'ANSIBLE_CACHE_PLUGIN_TIMEOUT': 7200, 'ANSIBLE_GATHERING': 'smart', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg')} #Test will work properly only if the method was called once. mock_encode_envvars.assert_called_once() """""" True if, and only if, every item (key:value pair) in the env dict is also present in the kwargs dict. Index 1 stands for kwargs in py<=36 This test does not rely on order of items. """""" self.assertGreaterEqual( mock_encode_envvars.call_args[1]['env'].items(), env.items() ) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._encode_envvars', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', 'ANSIBLE_CONFIG': '/tmp/foo/artifacts/ansible.cfg' }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_envvars_logdir(self, mock_env, mock_encode_envvars, mock_config, mock_run, mock_exists, mock_open ): """""" Tests if Ansible._ansible_env_var method, and following conditionals, correctly assemble the env dict. While using the specified `log_path` value in appropriate places. Assertions: Dictinary passed to Ansible._encode_envvars contains key: value pairs representing proper superset of key: value pairs required. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo' ) env = { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_DISPLAY_FAILED_STDERR': True, 'ANSIBLE_FORKS': 36, 'ANSIBLE_TIMEOUT': 30, 'ANSIBLE_GATHER_TIMEOUT': 45, 'ANSIBLE_SSH_RETRIES': 3, 'ANSIBLE_PIPELINING': True, 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', 'ANSIBLE_RETRY_FILES_ENABLED': False, 'ANSIBLE_HOST_KEY_CHECKING': False, 'ANSIBLE_TRANSPORT': 'smart', 'ANSIBLE_CACHE_PLUGIN_TIMEOUT': 7200, 'ANSIBLE_GATHERING': 'smart', 'ANSIBLE_CONFIG': '/tmp/foo/artifacts/ansible.cfg', 'VALIDATIONS_LOG_DIR': '/tmp/foo' } #Test will work properly only if the method was called once. mock_encode_envvars.assert_called_once() """""" True if, and only if, every item (key:value pair) in the env dict is also present in the kwargs dict. Index 1 stands for kwargs in py<=36 This test does not rely on order of items. """""" self.assertGreaterEqual( mock_encode_envvars.call_args[1]['env'].items(), env.items() )"," return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake.py'}) def test_run_specific_log_path(self, moch_path, mock_env, mock_env_var, 'ANSIBLE_STDOUT_CALLBACK': 'fake.py',",677,42
openstack%2Fansible-collections-openstack~master~I791478464ed59933273bb0e5f88f3636074c6729,openstack/ansible-collections-openstack,master,I791478464ed59933273bb0e5f88f3636074c6729,Add automatic release job triggered by tag,MERGED,2021-07-26 18:11:33.000000000,2021-07-28 14:16:57.000000000,2021-07-28 14:16:57.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-26 18:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/356666322f6268693011e3e4d396a80d72baaa09', 'message': 'WIP release job\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 2, 'created': '2021-07-27 13:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b370f9192c9a6183483c32fcb2ca6e95f8ca2cc5', 'message': 'WIP release job\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 3, 'created': '2021-07-27 14:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/400945d5e04d86febe074748aeb952e2c9bffe44', 'message': 'WIP release job\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 4, 'created': '2021-07-27 14:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/02c09c1cc2abd5e11bc5357bf3771f4b4ea2eac0', 'message': 'WIP release job\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 5, 'created': '2021-07-27 14:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/01f1cbdd2eb4cf5f5518564d1993092538ba66ef', 'message': 'WIP release job\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 6, 'created': '2021-07-27 15:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/17b3409e111998e114995fc7a982e8a1db78e0fe', 'message': 'WIP release job\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 7, 'created': '2021-07-27 15:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4819e5e091f8fb05e08b5b6cd3691f589712d0ea', 'message': 'WIP release job\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 8, 'created': '2021-07-27 16:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/feaa1f471ad2bb0d45291155478705f70c2cfc70', 'message': 'Add automatic release job triggered by tag\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 9, 'created': '2021-07-27 16:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f89f402166b820d7ac1f139c139eb5738eac217f', 'message': 'Add automatic release job triggered by tag\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n'}, {'number': 10, 'created': '2021-07-28 12:11:17.000000000', 'files': ['.zuul.yaml', 'ci/publish/publish_collection.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5ef192f1f27d2e369fc1edae5e0867c447636810', 'message': ""Add automatic release job triggered by tag\n\nCurrently put it in pre-release pipeline to test that it's ok.\n\nChange-Id: I791478464ed59933273bb0e5f88f3636074c6729\n""}]",1,802379,5ef192f1f27d2e369fc1edae5e0867c447636810,24,5,10,10969,,,0,"Add automatic release job triggered by tag

Currently put it in pre-release pipeline to test that it's ok.

Change-Id: I791478464ed59933273bb0e5f88f3636074c6729
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/79/802379/9 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,356666322f6268693011e3e4d396a80d72baaa09,rel," [testenv:galaxy-release] deps = ansible-core commands = /usr/bin/mkdir -p /tmp/collection_built sed -i ""s/version:.*/version: $VERSION_TAG/"" {toxinidir}/galaxy.yml ansible-galaxy collection build {toxinidir} --output-path /tmp/collection_built/ --force ansible-galaxy collection publish /tmp/collection_built/openstack-cloud-*.tar.gz --token $API_GALAXY_TOKEN",,9,0
openstack%2Fos-vif~stable%2Ftrain~I6d4a52369eda020a997a2d5521af011725f73c72,openstack/os-vif,stable/train,I6d4a52369eda020a997a2d5521af011725f73c72,[Stable Only] Drop lower constraints testing,NEW,2021-06-02 12:41:20.000000000,2021-07-28 14:13:17.000000000,,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 12:41:20.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a66d7408dea01141d3ab4d38f2b6cd4a72991f48', 'message': '[Stable Only] Drop lower constraints testing\n\nThis is broken with the resolver introduced in pip 20.3. It likely never\nworked as expected. There is limited/no value in resolving these issues\nnow, so simply drop the job.\n\nChange-Id: I6d4a52369eda020a997a2d5521af011725f73c72\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,794211,a66d7408dea01141d3ab4d38f2b6cd4a72991f48,7,5,1,15334,,,0,"[Stable Only] Drop lower constraints testing

This is broken with the resolver introduced in pip 20.3. It likely never
worked as expected. There is limited/no value in resolving these issues
now, so simply drop the job.

Change-Id: I6d4a52369eda020a997a2d5521af011725f73c72
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/11/794211/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,a66d7408dea01141d3ab4d38f2b6cd4a72991f48,drop-lc,,"[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/doc/requirements.txt commands = stestr run --black-regex "".tests.functional"" {posargs} sphinx-build -W doc/source doc/build ",0,104
openstack%2Fopenstack-tempest-skiplist~master~Ib20cfd8e957b35b3e59934957075102994ead1f5,openstack/openstack-tempest-skiplist,master,Ib20cfd8e957b35b3e59934957075102994ead1f5,"Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""",MERGED,2021-07-21 15:15:40.000000000,2021-07-28 14:12:13.000000000,2021-07-28 14:10:48.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 15:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/da027d5d6a1ecc98484e61511606d6e84214b153', 'message': 'DNM- Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""\n\nThis reverts commit 4868b3e1b9473c3ecb2f15859cc778d976544cbc.\n\nReason for revert: v4.0.19-nautilus-stable is supposed to have the fix provided by https://github.com/ceph/ceph/pull/37438\n\nChange-Id: Ib20cfd8e957b35b3e59934957075102994ead1f5\n'}, {'number': 2, 'created': '2021-07-21 15:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/f0d3e3ca1f572ef3ce1a5d8567a00605f0b0ecc2', 'message': 'DNM - Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""\n\nThis reverts commit 4868b3e1b9473c3ecb2f15859cc778d976544cbc.\n\nReason for revert: v4.0.19-nautilus-stable is supposed to have the fix provided by https://github.com/ceph/ceph/pull/37438\n\nChange-Id: Ib20cfd8e957b35b3e59934957075102994ead1f5\n'}, {'number': 3, 'created': '2021-07-21 15:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/147c9042e2acf3aa862d9f5854abf1024ab13433', 'message': 'DNM - Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""\n\nThis reverts commit 4868b3e1b9473c3ecb2f15859cc778d976544cbc.\n\nReason for revert: v4.0.19-nautilus-stable is supposed to have the fix provided by https://github.com/ceph/ceph/pull/37438\n\nChange-Id: Ib20cfd8e957b35b3e59934957075102994ead1f5\n'}, {'number': 4, 'created': '2021-07-27 20:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/fd32c010f997cc704b57e53a81b9a68afd5b744f', 'message': 'Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""\n\nThis reverts commit 4868b3e1b9473c3ecb2f15859cc778d976544cbc.\n\nReason for revert: v4.0.19-nautilus-stable is supposed to have the fix provided by https://github.com/ceph/ceph/pull/37438\n\nChange-Id: Ib20cfd8e957b35b3e59934957075102994ead1f5\n'}, {'number': 5, 'created': '2021-07-28 09:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/59bd88d55741d266fc224413eeab52ee791ccb79', 'message': 'Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""\n\nThis reverts commit 4868b3e1b9473c3ecb2f15859cc778d976544cbc.\n\nReason for revert: v4.0.19-nautilus-stable is supposed to have the fix provided by https://github.com/ceph/ceph/pull/37438\n\nChange-Id: Ib20cfd8e957b35b3e59934957075102994ead1f5\n'}, {'number': 6, 'created': '2021-07-28 10:24:29.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/7708b5bc50865d742af0cfd1e7e9f060ed25929c', 'message': 'Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""\n\nThis reverts commit 4868b3e1b9473c3ecb2f15859cc778d976544cbc.\n\nReason for revert: v4.0.19-nautilus-stable is supposed to have the fix provided by https://github.com/ceph/ceph/pull/37438\n\nChange-Id: Ib20cfd8e957b35b3e59934957075102994ead1f5\n'}]",0,801584,7708b5bc50865d742af0cfd1e7e9f060ed25929c,27,9,6,25402,,,0,"Revert ""Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps""

This reverts commit 4868b3e1b9473c3ecb2f15859cc778d976544cbc.

Reason for revert: v4.0.19-nautilus-stable is supposed to have the fix provided by https://github.com/ceph/ceph/pull/37438

Change-Id: Ib20cfd8e957b35b3e59934957075102994ead1f5
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/84/801584/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,da027d5d6a1ecc98484e61511606d6e84214b153,801584,, - test: tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps.test_swift_acl_anonymous_download deployment: - overcloud releases: - name: victoria reason: testtools.matchers._impl.MismatchError lp: https://bugs.launchpad.net/tripleo/+bug/1936285 - name: ussuri reason: testtools.matchers._impl.MismatchError lp: https://bugs.launchpad.net/tripleo/+bug/1936285 - name: train reason: testtools.matchers._impl.MismatchError lp: https://bugs.launchpad.net/tripleo/+bug/1936285 jobs: - periodic-tripleo-ci-centos-8-scenario004-standalone-victoria - periodic-tripleo-ci-centos-8-scenario004-standalone-ussuri - periodic-tripleo-ci-centos-8-scenario004-standalone-train - tripleo-ci-centos-8-scenario004-standalone,0,18
openstack%2Ftempest-lib~master~Ieadf209443c359dfd46b82f7debedb19728746b9,openstack/tempest-lib,master,Ieadf209443c359dfd46b82f7debedb19728746b9,Replace deprecated import of ABCs from collections,ABANDONED,2021-07-16 16:13:16.000000000,2021-07-28 14:10:48.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-16 16:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/3e74da190a33bb898b1de4548b9721a3a47723ed', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ieadf209443c359dfd46b82f7debedb19728746b9\n'}, {'number': 2, 'created': '2021-07-17 03:28:11.000000000', 'files': ['tempest_lib/common/rest_client.py'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/605c8ce07fdabe33978f2634c5286491c929e54e', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ieadf209443c359dfd46b82f7debedb19728746b9\n'}]",0,801096,605c8ce07fdabe33978f2634c5286491c929e54e,9,2,2,9816,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Closes-Bug: #1936667
Change-Id: Ieadf209443c359dfd46b82f7debedb19728746b9
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/96/801096/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest_lib/common/rest_client.py'],1,3e74da190a33bb898b1de4548b9721a3a47723ed,bug/1936667,"import collections.abc if (not isinstance(resp_body, collections.abc.Mapping) or","import collections if (not isinstance(resp_body, collections.Mapping) or",2,2
openstack%2Fcharm-magnum-dashboard~stable%2F21.04~I757014454b187aeb58317fa46b3f0672835d2a9a,openstack/charm-magnum-dashboard,stable/21.04,I757014454b187aeb58317fa46b3f0672835d2a9a,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:58.000000000,2021-07-28 14:04:04.000000000,2021-07-28 14:04:04.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:58.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/002dcaf7f775bd0f5098ea0de508a7c242f3cd59', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I757014454b187aeb58317fa46b3f0672835d2a9a\n'}]",0,799291,002dcaf7f775bd0f5098ea0de508a7c242f3cd59,11,4,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I757014454b187aeb58317fa46b3f0672835d2a9a
",git fetch https://review.opendev.org/openstack/charm-magnum-dashboard refs/changes/91/799291/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,002dcaf7f775bd0f5098ea0de508a7c242f3cd59,batch-update,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 8eb79cd8-db58-11eb-8774-e73b0b98c4a6 ",,5,0
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2F21.04~If62d0a79bab052637b96e19a1dedda8699e4ca6c,openstack/charm-neutron-api-plugin-ironic,stable/21.04,If62d0a79bab052637b96e19a1dedda8699e4ca6c,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:25:04.000000000,2021-07-28 14:00:19.000000000,2021-07-28 14:00:19.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:25:04.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/7a142ebbf8a738e836f02fef575c41306dc26fb6', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: If62d0a79bab052637b96e19a1dedda8699e4ca6c\n'}]",0,799301,7a142ebbf8a738e836f02fef575c41306dc26fb6,11,4,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: If62d0a79bab052637b96e19a1dedda8699e4ca6c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/01/799301/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,7a142ebbf8a738e836f02fef575c41306dc26fb6,batch-update,8ecd5a50-db58-11eb-9861-3708a05d56f9,beb41952-64d9-11eb-962b-e3ddba2cfbe3,1,1
openstack%2Fmanila-tempest-plugin~master~Ida39026d655d34af17846cd45867c2d46141f39f,openstack/manila-tempest-plugin,master,Ida39026d655d34af17846cd45867c2d46141f39f,Fix parsing of share group type json,MERGED,2021-07-27 22:30:12.000000000,2021-07-28 13:51:30.000000000,2021-07-28 13:51:30.000000000,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-07-27 22:30:12.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_share_groups.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/da415b4f1c3107ca05245ed9abd53a3ab67d83e3', 'message': ""Fix parsing of share group type json\n\nWhen using the shares client, since\n86f2432476ba9128bb2c26a78ae3b3f53327d4bd,\nJSON objects from the response body are extracted in-place\nrather than in the client methods. We didn't catch this issue\nwhen merging [1] because these tests are skipped in the jobs\nrunning against manila-tempest-plugin:\n\nmanila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_1_2_31 ... SKIPPED: Only if defaults are defined.\nmanila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_2_2_55 ... SKIPPED: Only if defaults are defined.\nmanila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_3_2_61 ... SKIPPED: Only if defaults are defined.\n\nHowever, default share and group types are defined in the\ngrenade job and these tests are currently failing.\n\nChange-Id: Ida39026d655d34af17846cd45867c2d46141f39f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,802632,da415b4f1c3107ca05245ed9abd53a3ab67d83e3,13,3,1,16643,,,0,"Fix parsing of share group type json

When using the shares client, since
86f2432476ba9128bb2c26a78ae3b3f53327d4bd,
JSON objects from the response body are extracted in-place
rather than in the client methods. We didn't catch this issue
when merging [1] because these tests are skipped in the jobs
running against manila-tempest-plugin:

manila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_1_2_31 ... SKIPPED: Only if defaults are defined.
manila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_2_2_55 ... SKIPPED: Only if defaults are defined.
manila_tempest_tests.tests.api.admin.test_share_groups.ShareGroupsTest.test_default_share_group_type_applied_3_2_61 ... SKIPPED: Only if defaults are defined.

However, default share and group types are defined in the
grenade job and these tests are currently failing.

Change-Id: Ida39026d655d34af17846cd45867c2d46141f39f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/32/802632/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_share_groups.py'],1,da415b4f1c3107ca05245ed9abd53a3ab67d83e3,rest_client, )['share_group_type'], ),1,1
openstack%2Fcastellan~master~Ic01b44f168a5d199fc0b7119adc3d0bf52d027e0,openstack/castellan,master,Ic01b44f168a5d199fc0b7119adc3d0bf52d027e0,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:33:39.000000000,2021-07-28 13:49:01.000000000,2021-07-28 13:47:36.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-08 00:33:39.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/castellan/commit/4eb212b826d1befd179d9321e1ebc88a0c55c3b7', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ic01b44f168a5d199fc0b7119adc3d0bf52d027e0\n'}]",0,799930,4eb212b826d1befd179d9321e1ebc88a0c55c3b7,8,4,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ic01b44f168a5d199fc0b7119adc3d0bf52d027e0
",git fetch https://review.opendev.org/openstack/castellan refs/changes/30/799930/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,4eb212b826d1befd179d9321e1ebc88a0c55c3b7,oftc,OFTC IRC (Chat) --------------- You can find Castellaneers in our publicly accessible channel on `OFTC`_.. _`OFTC`: https://oftc.net,Freenode IRC (Chat) ------------------- You can find Castellaneers in our publicly accessible channel on `freenode`_.. _`freenode`: https://freenode.net,4,4
openstack%2Fopenstack-doc-tools~master~Ibdc5baf8980586e74c3b299a6ba411ecbe24ece5,openstack/openstack-doc-tools,master,Ibdc5baf8980586e74c3b299a6ba411ecbe24ece5,Moving IRC network reference to OFTC,NEW,2021-07-08 13:22:30.000000000,2021-07-28 13:41:20.000000000,,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-08 13:22:30.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/c1a18117e8064a3c0150b68d39c422399bc00eda', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ibdc5baf8980586e74c3b299a6ba411ecbe24ece5\n'}]",0,800048,c1a18117e8064a3c0150b68d39c422399bc00eda,5,5,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ibdc5baf8980586e74c3b299a6ba411ecbe24ece5
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/48/800048/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,c1a18117e8064a3c0150b68d39c422399bc00eda,oftc,on ``irc.oftc.net``.,on ``irc.freenode.net``.,1,1
openstack%2Fcharm-neutron-api~master~I75fdd192144138fa5bf09c278d5507ca8c5366d1,openstack/charm-neutron-api,master,I75fdd192144138fa5bf09c278d5507ca8c5366d1,Fixes disabling fwaas,MERGED,2021-07-20 16:22:45.000000000,2021-07-28 13:24:50.000000000,2021-07-28 13:24:50.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-20 16:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/a144a583196ef6b655a7ad60eaab2f8f97a6a5ee', 'message': 'Fixes disabling fwaas\n\nCommit 00e7c8b added support for disabling fwaas but\nforgot to remove the firewall plugin from service_plugins\nonce the fwaas package has been removed. This patch fixes\nthat.\n\nChange-Id: I75fdd192144138fa5bf09c278d5507ca8c5366d1\nCloses-Bug: #1934129\n'}, {'number': 2, 'created': '2021-07-28 11:20:13.000000000', 'files': ['hooks/neutron_api_context.py', 'unit_tests/test_neutron_api_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/2e0896c737eb09d6e8a89da02f5e4043d81c9c48', 'message': 'Fixes disabling fwaas\n\nCommit 00e7c8b added support for disabling fwaas but\nforgot to remove the firewall plugin from service_plugins\nonce the fwaas package has been removed. This patch fixes\nthat.\n\nChange-Id: I75fdd192144138fa5bf09c278d5507ca8c5366d1\nCloses-Bug: #1934129\n'}]",0,801513,2e0896c737eb09d6e8a89da02f5e4043d81c9c48,21,4,2,6737,,,0,"Fixes disabling fwaas

Commit 00e7c8b added support for disabling fwaas but
forgot to remove the firewall plugin from service_plugins
once the fwaas package has been removed. This patch fixes
that.

Change-Id: I75fdd192144138fa5bf09c278d5507ca8c5366d1
Closes-Bug: #1934129
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/13/801513/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_context.py', 'unit_tests/test_neutron_api_context.py']",2,a144a583196ef6b655a7ad60eaab2f8f97a6a5ee,bug/1934129," plugs = {""mitaka"": [""A""], ""queens"": [""B""], ""ussuri"": [""C""]} self.assertEquals(p, [""B""]) self.assertEquals(p, [""C""]) self.assertEquals(p, [""C""]) @patch.object(context, 'NeutronLoadBalancerContext') @patch.object(context.NeutronCCContext, 'network_manager') @patch.object(context.NeutronCCContext, 'plugin') @patch('builtins.__import__') def test_neutroncc_context_no_fwaas(self, _import, plugin, nm, nlb): plugin.return_value = None self.test_config.set('enable-l3ha', True) self.test_config.set('enable-fwaas', False) self.test_config.set('enable-qos', False) self.test_config.set('enable-vlan-trunking', False) self.test_config.set('overlay-network-type', 'gre') self.test_config.set('neutron-plugin', 'ovs') self.test_config.set('l2-population', False) self.os_release.return_value = 'ussuri' self.maxDiff = None ctxt_data = { 'debug': True, 'enable_dvr': False, 'l3_ha': True, 'mechanism_drivers': 'openvswitch,hyperv', 'external_network': 'bob', 'global_physnet_mtu': 1500, 'enable_igmp_snooping': True, 'neutron_bind_port': self.api_port, 'verbose': True, 'l2_population': False, 'overlay_network_type': 'gre', 'path_mtu': 1500, 'tenant_network_types': 'gre,vlan,flat,local', 'max_l3_agents_per_router': 2, 'min_l3_agents_per_router': 2, 'network_scheduler_driver': ('neutron.scheduler.' 'dhcp_agent_scheduler.' 'AZAwareWeightScheduler'), 'allow_automatic_dhcp_failover': True, 'allow_automatic_l3agent_failover': False, 'dhcp_agents_per_network': 3, 'dhcp_load_type': 'networks', 'enable_sriov': False, 'quota_floatingip': 50, 'quota_health_monitors': -1, 'quota_member': -1, 'quota_network': 10, 'quota_pool': 10, 'quota_port': 50, 'quota_router': 10, 'quota_security_group': 10, 'quota_security_group_rule': 100, 'quota_subnet': 10, 'quota_vip': 10, 'vlan_ranges': 'physnet1:1000:2000', 'vni_ranges': '1001:2000', 'extension_drivers': 'port_security', 'router_scheduler_driver': ('neutron.scheduler.l3_agent_scheduler.' 'AZLeastRoutersScheduler'), 'service_plugins': ('router,metering,segments,' 'neutron_dynamic_routing.services.bgp.' 'bgp_plugin.BgpPlugin'), } napi_ctxt = context.NeutronCCContext() with patch.object(napi_ctxt, '_ensure_packages'): self.assertEqual(ctxt_data, napi_ctxt()) "," plugs = {""mitaka"": ""A"", ""queens"": ""B"", ""ussuri"": ""C""} self.assertEquals(p, ""B"") self.assertEquals(p, ""C"") self.assertEquals(p, ""C"")",85,9
openstack%2Fpython-senlinclient~master~Id23e743d1db30a0549d06081e87249a0dbd326a2,openstack/python-senlinclient,master,Id23e743d1db30a0549d06081e87249a0dbd326a2,Fix config and metadata in cluster update,MERGED,2020-11-17 19:51:42.000000000,2021-07-28 13:18:15.000000000,2021-07-28 13:16:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 30596}]","[{'number': 1, 'created': '2020-11-17 19:51:42.000000000', 'files': ['senlinclient/v1/cluster.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/59ccfb17ba2c86af6bad4eb61e2604523ec65b68', 'message': 'Fix config and metadata in cluster update\n\nThe config or metadata in cluster update should only be sent if the\nvalues is not None.  Sending empty dictionary will override any existing\nconfig or metadata setting.\n\nChange-Id: Id23e743d1db30a0549d06081e87249a0dbd326a2\n'}]",0,763079,59ccfb17ba2c86af6bad4eb61e2604523ec65b68,13,4,1,27224,,,0,"Fix config and metadata in cluster update

The config or metadata in cluster update should only be sent if the
values is not None.  Sending empty dictionary will override any existing
config or metadata setting.

Change-Id: Id23e743d1db30a0549d06081e87249a0dbd326a2
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/79/763079/1 && git format-patch -1 --stdout FETCH_HEAD,['senlinclient/v1/cluster.py'],1,59ccfb17ba2c86af6bad4eb61e2604523ec65b68,cluster_update_config, if parsed_args.config is not None: attrs['config'] = senlin_utils.format_parameters( parsed_args.config) if parsed_args.metadata is not None: attrs['metadata'] = senlin_utils.format_parameters( parsed_args.metadata) ," 'metadata': senlin_utils.format_parameters(parsed_args.metadata), 'config': senlin_utils.format_parameters(parsed_args.config),",7,2
openstack%2Fpython-senlinclient~master~I8e5688e2a1ecc5fde96b059150cad6d9221fcd36,openstack/python-senlinclient,master,I8e5688e2a1ecc5fde96b059150cad6d9221fcd36,trivial: Drop references to os-testr,MERGED,2020-07-17 16:51:39.000000000,2021-07-28 13:13:55.000000000,2021-07-28 13:12:29.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 32067}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-07-17 16:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/2f14b7e899ac9b944724613f61b87568b6d17cc1', 'message': 'trivial: Drop references to os-testr\n\nos-testr is dead. Long live stestr.\n\nChange-Id: I8e5688e2a1ecc5fde96b059150cad6d9221fcd36\n'}, {'number': 2, 'created': '2020-09-09 01:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/3dd38ad728596b3382793cf0417d9135cc7397a0', 'message': 'trivial: Drop references to os-testr\n\nos-testr is dead. Long live stestr.\n\nChange-Id: I8e5688e2a1ecc5fde96b059150cad6d9221fcd36\n'}, {'number': 3, 'created': '2020-09-09 01:06:40.000000000', 'files': ['doc/source/contributor/index.rst', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/7afd6c7e3f18d3e1588860f09d69220176df7efb', 'message': 'trivial: Drop references to os-testr\n\nos-testr is dead. Long live stestr.\n\nChange-Id: I8e5688e2a1ecc5fde96b059150cad6d9221fcd36\n'}]",0,741678,7afd6c7e3f18d3e1588860f09d69220176df7efb,22,6,3,30356,,,0,"trivial: Drop references to os-testr

os-testr is dead. Long live stestr.

Change-Id: I8e5688e2a1ecc5fde96b059150cad6d9221fcd36
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/78/741678/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'lower-constraints.txt']",2,2f14b7e899ac9b944724613f61b87568b6d17cc1,,,os-testr==1.0.0,2,3
openstack%2Fpython-senlinclient~master~I9fd924030a0a5dd4852fa8cfd0ca807038090304,openstack/python-senlinclient,master,I9fd924030a0a5dd4852fa8cfd0ca807038090304,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-19 09:47:28.000000000,2021-07-28 13:11:49.000000000,2021-07-28 13:09:37.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-11-19 09:47:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/22122575f71e3cde6d0f6eab8d19797de08dcddf', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I9fd924030a0a5dd4852fa8cfd0ca807038090304\n'}]",0,763330,22122575f71e3cde6d0f6eab8d19797de08dcddf,13,4,1,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I9fd924030a0a5dd4852fa8cfd0ca807038090304
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/30/763330/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,22122575f71e3cde6d0f6eab8d19797de08dcddf,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpython-senlinclient~master~I5663ca7286c55da4491644f979d5ab44f0cfc915,openstack/python-senlinclient,master,I5663ca7286c55da4491644f979d5ab44f0cfc915,Adds --wait argument for cluster CLI interactions,MERGED,2020-11-13 22:12:08.000000000,2021-07-28 13:10:14.000000000,2021-07-28 13:08:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 30596}]","[{'number': 1, 'created': '2020-11-13 22:12:08.000000000', 'files': ['senlinclient/tests/unit/v1/test_cluster.py', 'senlinclient/common/utils.py', 'senlinclient/v1/cluster.py', 'senlinclient/common/exc.py', 'senlinclient/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/901bf963c601898b8257a211ea5613025d927e53', 'message': 'Adds --wait argument for cluster CLI interactions\n\nAdd option to wait for CLI command to complete for the following cluster\ncommands: create, update, delete, resize, scale in, scale out, policy\nattach, policy detach, node add, node delete, node replace, cluster\ncheck, recover and cluster operation.\n\nChange-Id: I5663ca7286c55da4491644f979d5ab44f0cfc915\n'}]",0,762717,901bf963c601898b8257a211ea5613025d927e53,15,5,1,27224,,,0,"Adds --wait argument for cluster CLI interactions

Add option to wait for CLI command to complete for the following cluster
commands: create, update, delete, resize, scale in, scale out, policy
attach, policy detach, node add, node delete, node replace, cluster
check, recover and cluster operation.

Change-Id: I5663ca7286c55da4491644f979d5ab44f0cfc915
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/17/762717/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlinclient/common/utils.py', 'senlinclient/tests/unit/v1/test_cluster.py', 'senlinclient/v1/cluster.py', 'senlinclient/common/exc.py', 'senlinclient/tests/unit/test_utils.py']",5,901bf963c601898b8257a211ea5613025d927e53,wait,"import time @mock.patch.object(utils, '_check') def test_await_cluster_action(self, mock_check): utils.await_action('fake-client', 'test-action-id') mock_check.assert_called_once() @mock.patch.object(utils, '_check') def test_await_cluster_status(self, mock_check): utils.await_cluster_status('fake-client', 'ACTIVE') mock_check.assert_called_once() @mock.patch.object(utils, '_check') def test_await_cluster_delete(self, mock_check): utils.await_cluster_delete('fake-client', 'test-cluster-id') mock_check.assert_called_once() def test_check(self): check_func = mock.Mock(return_value=True) try: utils._check(check_func) except Exception: self.fail(""_check() unexpectedly raised an exception"") check_func.assert_called() @mock.patch.object(time, 'sleep') def test_check_raises(self, mock_sleep): mock_check_func = mock.Mock(return_value=False) poll_count = 2 poll_interval = 1 self.assertRaises(exc.PollingExceededError, utils._check, mock_check_func, poll_count, poll_interval) mock_check_func.assert_called() mock_sleep.assert_called()",,760,16
openstack%2Fkolla~stable%2Fwallaby~I4ce8244a3fb034493a75f4096de2640e11b48931,openstack/kolla,stable/wallaby,I4ce8244a3fb034493a75f4096de2640e11b48931,Fix missing templating block for kolla-toolbox.,MERGED,2021-07-27 07:59:50.000000000,2021-07-28 12:45:07.000000000,2021-07-28 12:43:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-27 07:59:50.000000000', 'files': ['releasenotes/notes/add_kolla-toolbox_templating_block-3d284d886816e95a.yml', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/52a43b781c38e008d84fbc52198a5d6272e97b4f', 'message': 'Fix missing templating block for kolla-toolbox.\n\nChange-Id: I4ce8244a3fb034493a75f4096de2640e11b48931\nCloses-Bug: #1931867\n(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)\n'}]",0,802352,52a43b781c38e008d84fbc52198a5d6272e97b4f,9,3,1,14826,,,0,"Fix missing templating block for kolla-toolbox.

Change-Id: I4ce8244a3fb034493a75f4096de2640e11b48931
Closes-Bug: #1931867
(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/802352/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_kolla-toolbox_templating_block-3d284d886816e95a.yml', 'docker/kolla-toolbox/Dockerfile.j2']",2,52a43b781c38e008d84fbc52198a5d6272e97b4f,bug/1931867-stable/wallaby,{% block kolla_toolbox_upper_constraints %}{% endblock %},,7,0
openstack%2Fkolla~stable%2Fvictoria~I4ce8244a3fb034493a75f4096de2640e11b48931,openstack/kolla,stable/victoria,I4ce8244a3fb034493a75f4096de2640e11b48931,Fix missing templating block for kolla-toolbox.,MERGED,2021-07-27 07:59:59.000000000,2021-07-28 12:27:31.000000000,2021-07-28 12:26:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-27 07:59:59.000000000', 'files': ['releasenotes/notes/add_kolla-toolbox_templating_block-3d284d886816e95a.yml', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/be0373c92859070b24665b5d4146c87bec9ccee5', 'message': 'Fix missing templating block for kolla-toolbox.\n\nChange-Id: I4ce8244a3fb034493a75f4096de2640e11b48931\nCloses-Bug: #1931867\n(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)\n'}]",0,802353,be0373c92859070b24665b5d4146c87bec9ccee5,9,3,1,14826,,,0,"Fix missing templating block for kolla-toolbox.

Change-Id: I4ce8244a3fb034493a75f4096de2640e11b48931
Closes-Bug: #1931867
(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/802353/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_kolla-toolbox_templating_block-3d284d886816e95a.yml', 'docker/kolla-toolbox/Dockerfile.j2']",2,be0373c92859070b24665b5d4146c87bec9ccee5,bug/1931867-stable/victoria,{% block kolla_toolbox_upper_constraints %}{% endblock %},,7,0
openstack%2Fkolla~stable%2Fussuri~I4ce8244a3fb034493a75f4096de2640e11b48931,openstack/kolla,stable/ussuri,I4ce8244a3fb034493a75f4096de2640e11b48931,Fix missing templating block for kolla-toolbox.,MERGED,2021-07-27 08:00:11.000000000,2021-07-28 12:27:19.000000000,2021-07-28 12:25:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-27 08:00:11.000000000', 'files': ['releasenotes/notes/add_kolla-toolbox_templating_block-3d284d886816e95a.yml', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/09cecc92ecf74527b79b5aab660d059711396802', 'message': 'Fix missing templating block for kolla-toolbox.\n\nChange-Id: I4ce8244a3fb034493a75f4096de2640e11b48931\nCloses-Bug: #1931867\n(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)\n'}]",0,802354,09cecc92ecf74527b79b5aab660d059711396802,11,3,1,14826,,,0,"Fix missing templating block for kolla-toolbox.

Change-Id: I4ce8244a3fb034493a75f4096de2640e11b48931
Closes-Bug: #1931867
(cherry picked from commit fb218ff9bf3803188991ae0f1a8f66ffa5176872)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/54/802354/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_kolla-toolbox_templating_block-3d284d886816e95a.yml', 'docker/kolla-toolbox/Dockerfile.j2']",2,09cecc92ecf74527b79b5aab660d059711396802,bug/1931867-stable/ussuri,{% block kolla_toolbox_upper_constraints %}{% endblock %},,7,0
openstack%2Ftripleo-heat-templates~master~I62f73fccb3122e173874e7ea9c27a87c30c21a64,openstack/tripleo-heat-templates,master,I62f73fccb3122e173874e7ea9c27a87c30c21a64,DO-NOT-MERGE Test manila_tempest_tests,ABANDONED,2021-07-27 20:54:51.000000000,2021-07-28 11:34:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-27 20:54:51.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/441ad5c85f1a174027d9312e5f2d355ecbfee69d', 'message': 'DO-NOT-MERGE Test manila_tempest_tests\n\nChange-Id: I62f73fccb3122e173874e7ea9c27a87c30c21a64\nRelated-Bug: #1934879\nDepends-On: I20f8ce51c6bb59207ef82bd7786bc788c9fd313f\n'}]",0,802618,441ad5c85f1a174027d9312e5f2d355ecbfee69d,4,2,1,18002,,,0,"DO-NOT-MERGE Test manila_tempest_tests

Change-Id: I62f73fccb3122e173874e7ea9c27a87c30c21a64
Related-Bug: #1934879
Depends-On: I20f8ce51c6bb59207ef82bd7786bc788c9fd313f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/802618/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,441ad5c85f1a174027d9312e5f2d355ecbfee69d,bug/1934879, # with love,,1,0
openstack%2Fkolla-ansible~master~I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,openstack/kolla-ansible,master,I3ba5a7ccc2c810fea12bc48584c064738e5aa35e,Fix variable names in Octavia documentation,MERGED,2021-07-21 13:43:27.000000000,2021-07-28 11:24:22.000000000,2021-07-28 11:22:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-21 13:43:27.000000000', 'files': ['doc/source/reference/networking/octavia.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e85fe2a0783586438fe163a498e42eeba6e80fa', 'message': 'Fix variable names in Octavia documentation\n\nThe variable octavia_amphora_flavor should be octavia_amp_flavor.\n\nThe variable for customising network and subnet was only mentioned in\nthe example.\n\nChange-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e\n'}]",0,801624,5e85fe2a0783586438fe163a498e42eeba6e80fa,8,3,1,15197,,,0,"Fix variable names in Octavia documentation

The variable octavia_amphora_flavor should be octavia_amp_flavor.

The variable for customising network and subnet was only mentioned in
the example.

Change-Id: I3ba5a7ccc2c810fea12bc48584c064738e5aa35e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/801624/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking/octavia.rst'],1,5e85fe2a0783586438fe163a498e42eeba6e80fa,octavia-docs,disk. you can customize this flavor by changing ``octavia_amp_flavor`` in ``globals.yml``.Configure Octavia management network and subnet with ``octavia_amp_network`` in ``globals.yml``. This must be a network that is :ref:`accessible from the controllers <octavia-network>`. Typically a VLAN provider network is used.,disk. you can customize this flavor by changing ``octavia_amphora_flavor`` in ``globals.yml``Configure octavia management network and subnet in ``globals.yml``. This must be a network that is :ref:`accessible from the controllers <octavia-network>`. Typically a VLAN provider network is used.,5,5
openstack%2Fkolla~stable%2Fvictoria~I0bb8b2429906e698858f6b699e4c4d8bacc2dd74,openstack/kolla,stable/victoria,I0bb8b2429906e698858f6b699e4c4d8bacc2dd74,Fix prometheus-elasticsearch-exporter container.,MERGED,2021-07-26 08:40:01.000000000,2021-07-28 10:59:23.000000000,2021-07-28 10:58:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-07-26 08:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/60c3baae269b3cd3c6fb890c123c53a6768b5ef1', 'message': 'Fix prometheus-elasticsearch-exporter container.\n\n* Replace current URL with the proper target.\n\nChange-Id: I0bb8b2429906e698858f6b699e4c4d8bacc2dd74\nCloses-Bug: #1934763\n(cherry picked from commit 1f8ac21622295fa9f858aaf7308160a92fe69240)\n'}, {'number': 2, 'created': '2021-07-26 08:40:49.000000000', 'files': ['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cbc404a7265402355d1ae754aecac6fae0201013', 'message': 'Fix prometheus-elasticsearch-exporter container.\n\n* Replace current URL with the proper target.\n\nChange-Id: I0bb8b2429906e698858f6b699e4c4d8bacc2dd74\nCloses-Bug: #1934763\n(cherry picked from commit 1f8ac21622295fa9f858aaf7308160a92fe69240)\n'}]",0,802207,cbc404a7265402355d1ae754aecac6fae0201013,20,4,2,14826,,,0,"Fix prometheus-elasticsearch-exporter container.

* Replace current URL with the proper target.

Change-Id: I0bb8b2429906e698858f6b699e4c4d8bacc2dd74
Closes-Bug: #1934763
(cherry picked from commit 1f8ac21622295fa9f858aaf7308160a92fe69240)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/802207/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'],1,60c3baae269b3cd3c6fb890c123c53a6768b5ef1,bug/1934763-stable/victoria,<<<<<<< HEAD (b9eac3 gnocchi: add python3-rados to gnocchi-base source image)======= RUN curl -o /tmp/elasticsearch_exporter.tar.gz https://github.com/prometheus-community/elasticsearch_exporter/releases/download/v${elasticsearch_exporter_version}/elasticsearch_exporter-${elasticsearch_exporter_version}.linux-{{debian_arch}}.tar.gz \ >>>>>>> CHANGE (1f8ac2 Fix prometheus-elasticsearch-exporter container.),,4,0
openstack%2Fkolla-ansible~master~I9bbdd457feb7ae491be3cc7d44871b3c19ccc624,openstack/kolla-ansible,master,I9bbdd457feb7ae491be3cc7d44871b3c19ccc624,DNM: test barbican logging,ABANDONED,2021-07-28 08:37:34.000000000,2021-07-28 10:47:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 08:37:34.000000000', 'files': ['ansible/roles/barbican/defaults/main.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25a26a66127752eebf870de2396f702da1406827', 'message': 'DNM: test barbican logging\n\nChange-Id: I9bbdd457feb7ae491be3cc7d44871b3c19ccc624\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802492\n'}]",0,802668,25a26a66127752eebf870de2396f702da1406827,3,1,1,14826,,,0,"DNM: test barbican logging

Change-Id: I9bbdd457feb7ae491be3cc7d44871b3c19ccc624
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802492
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/802668/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/barbican/defaults/main.yml', 'zuul.d/project.yaml']",2,25a26a66127752eebf870de2396f702da1406827,,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-xena-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8s-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-centos8s-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8s-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8s-source-bifrost - kolla-ansible-ubuntu-source-bifrost - kolla-ansible-centos8s-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8s-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8s-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8s-source-octavia - kolla-ansible-ubuntu-source-octavia - kolla-ansible-centos8s-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8s-source-ironic - kolla-ansible-centos8s-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8s-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8s-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8s-source-cells - kolla-ansible-centos8s-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8s-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8s-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8s-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8s-source-monasca - kolla-ansible-centos8s-source-cephadm - kolla-ansible-ubuntu-source-cephadm - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm - kolla-ansible-centos8s-hashi-vault check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,1,54
openstack%2Fcharm-neutron-api~master~I09ec4bef59ea95f833093220e41ddd728daa347b,openstack/charm-neutron-api,master,I09ec4bef59ea95f833093220e41ddd728daa347b,Sync release-tools,MERGED,2021-07-22 12:57:36.000000000,2021-07-28 10:33:58.000000000,2021-07-28 10:33:58.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:57:36.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b189536ff977a1a038050c3b875747f940f4526e', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I09ec4bef59ea95f833093220e41ddd728daa347b\n'}]",0,801820,b189536ff977a1a038050c3b875747f940f4526e,8,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I09ec4bef59ea95f833093220e41ddd728daa347b
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/20/801820/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,b189536ff977a1a038050c3b875747f940f4526e,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Fcharm-magnum~master~I015bc4d424407b9f9ca831181a6cdf398b91fc4d,openstack/charm-magnum,master,I015bc4d424407b9f9ca831181a6cdf398b91fc4d,Sync release-tools,MERGED,2021-07-22 12:56:01.000000000,2021-07-28 10:31:42.000000000,2021-07-28 10:31:42.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:56:01.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/a4208dc0b5ca18db75f3cdbc03971fa7cf09d070', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I015bc4d424407b9f9ca831181a6cdf398b91fc4d\n'}]",0,801809,a4208dc0b5ca18db75f3cdbc03971fa7cf09d070,8,3,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I015bc4d424407b9f9ca831181a6cdf398b91fc4d
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/09/801809/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,a4208dc0b5ca18db75f3cdbc03971fa7cf09d070,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-pacemaker-remote~master~Id4617895852b37f94ca3d73a09377bc417b3f36d,openstack/charm-pacemaker-remote,master,Id4617895852b37f94ca3d73a09377bc417b3f36d,Sync release-tools,MERGED,2021-07-22 13:00:21.000000000,2021-07-28 10:30:01.000000000,2021-07-28 10:30:01.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 13:00:21.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/bcf02d6df69ccf76cb6fddecdd9062021dd59329', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Id4617895852b37f94ca3d73a09377bc417b3f36d\n'}]",0,801837,bcf02d6df69ccf76cb6fddecdd9062021dd59329,8,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Id4617895852b37f94ca3d73a09377bc417b3f36d
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/37/801837/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,bcf02d6df69ccf76cb6fddecdd9062021dd59329,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-mysql-innodb-cluster~master~I53b992be341ade322b2e98cf3ee3e9dacc0d4dec,openstack/charm-mysql-innodb-cluster,master,I53b992be341ade322b2e98cf3ee3e9dacc0d4dec,Sync release-tools,MERGED,2021-07-22 12:57:16.000000000,2021-07-28 10:29:59.000000000,2021-07-28 10:29:59.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:57:16.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/3da70783fb8bbf8c5c99ef217465ce0e7c910ec1', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I53b992be341ade322b2e98cf3ee3e9dacc0d4dec\n'}]",0,801818,3da70783fb8bbf8c5c99ef217465ce0e7c910ec1,8,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I53b992be341ade322b2e98cf3ee3e9dacc0d4dec
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/18/801818/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,3da70783fb8bbf8c5c99ef217465ce0e7c910ec1,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-trilio-wlm~master~Id3460f7774b37315a96598e09fa68a37def6ffd6,openstack/charm-trilio-wlm,master,Id3460f7774b37315a96598e09fa68a37def6ffd6,Sync release-tools,MERGED,2021-07-22 13:01:46.000000000,2021-07-28 10:29:10.000000000,2021-07-28 10:29:10.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 13:01:46.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/ba40dbd88a367d2b78898bfef24912a46c3505f2', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Id3460f7774b37315a96598e09fa68a37def6ffd6\n'}]",0,801846,ba40dbd88a367d2b78898bfef24912a46c3505f2,11,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Id3460f7774b37315a96598e09fa68a37def6ffd6
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/46/801846/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,ba40dbd88a367d2b78898bfef24912a46c3505f2,fix-tox-pip-resolutionimpossible, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}deps = flake8==3.9.2 charm-tools==2.8.3, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs}deps = -r{toxinidir}/test-requirements.txt,16,16
openstack%2Fcharm-neutron-gateway~master~Ia525250e139ea0fd86cc0f19919a7739eda1cb09,openstack/charm-neutron-gateway,master,Ia525250e139ea0fd86cc0f19919a7739eda1cb09,Sync release-tools,MERGED,2021-07-22 12:58:23.000000000,2021-07-28 10:29:06.000000000,2021-07-28 10:29:06.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:58:23.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/6a22df54a76d0d915be21221cdd74f020ce43ead', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Ia525250e139ea0fd86cc0f19919a7739eda1cb09\n'}]",0,801825,6a22df54a76d0d915be21221cdd74f020ce43ead,10,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Ia525250e139ea0fd86cc0f19919a7739eda1cb09
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/25/801825/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,6a22df54a76d0d915be21221cdd74f020ce43ead,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Fcharm-swift-storage~master~Ia16e1d4dc68783577858815c86ae0cb2ffcc9134,openstack/charm-swift-storage,master,Ia16e1d4dc68783577858815c86ae0cb2ffcc9134,Sync release-tools,MERGED,2021-07-22 13:01:09.000000000,2021-07-28 10:29:03.000000000,2021-07-28 10:29:03.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 13:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/9bcbb680b2853dba660868639a73a80bf84f360c', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Ia16e1d4dc68783577858815c86ae0cb2ffcc9134\n'}, {'number': 2, 'created': '2021-07-27 09:17:57.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'requirements.txt', 'test-requirements.txt', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tox.ini', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/2adc1dcdef9ceee715dc1c0413c8f7369e4c1cb9', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nAlso remove unused applications from bundles for focal-ussuri+ as zaza\nis now more aggressive at checking for applications that have no units\nduring deployment.\n\nChange-Id: Ia16e1d4dc68783577858815c86ae0cb2ffcc9134\n'}]",0,801842,2adc1dcdef9ceee715dc1c0413c8f7369e4c1cb9,11,4,2,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Also remove unused applications from bundles for focal-ussuri+ as zaza
is now more aggressive at checking for applications that have no units
during deployment.

Change-Id: Ia16e1d4dc68783577858815c86ae0cb2ffcc9134
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/42/801842/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,9bcbb680b2853dba660868639a73a80bf84f360c,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Fcharm-swift-proxy~master~I0b30a731751960782569f4f2a443a07f3fc07d91,openstack/charm-swift-proxy,master,I0b30a731751960782569f4f2a443a07f3fc07d91,Sync release-tools,MERGED,2021-07-22 13:01:00.000000000,2021-07-28 10:29:02.000000000,2021-07-28 10:29:02.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 13:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a0b0a6ac532ffbb1d081525cba249c0417c31516', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I0b30a731751960782569f4f2a443a07f3fc07d91\n'}, {'number': 2, 'created': '2021-07-27 09:50:55.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'requirements.txt', 'test-requirements.txt', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tox.ini', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/cc6bac5758fe889e05763772a2f13bdb7e5cf5cb', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nAlso remove unused applications from bundles for focal-ussuri+ as zaza\nis now more aggressive at checking for applications that have no units\nduring deployment.\n\nChange-Id: I0b30a731751960782569f4f2a443a07f3fc07d91\n'}]",0,801841,cc6bac5758fe889e05763772a2f13bdb7e5cf5cb,11,4,2,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Also remove unused applications from bundles for focal-ussuri+ as zaza
is now more aggressive at checking for applications that have no units
during deployment.

Change-Id: I0b30a731751960782569f4f2a443a07f3fc07d91
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/41/801841/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,a0b0a6ac532ffbb1d081525cba249c0417c31516,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Fcharm-neutron-api-plugin-arista~master~I2d24adb251766828a21f818ddd88d0f846c7cc42,openstack/charm-neutron-api-plugin-arista,master,I2d24adb251766828a21f818ddd88d0f846c7cc42,Sync release-tools,MERGED,2021-07-22 12:57:46.000000000,2021-07-28 10:28:58.000000000,2021-07-28 10:28:58.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:57:46.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/e8281c49a9ab90179d092e16a8b225918d877fbf', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I2d24adb251766828a21f818ddd88d0f846c7cc42\n'}]",0,801821,e8281c49a9ab90179d092e16a8b225918d877fbf,8,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I2d24adb251766828a21f818ddd88d0f846c7cc42
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/21/801821/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,e8281c49a9ab90179d092e16a8b225918d877fbf,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-ceilometer-agent~master~I3b7b6cd8e1eae24c3eb0b8308b82630138434e83,openstack/charm-ceilometer-agent,master,I3b7b6cd8e1eae24c3eb0b8308b82630138434e83,Sync release-tools,MERGED,2021-07-22 12:51:57.000000000,2021-07-28 10:28:11.000000000,2021-07-28 10:28:11.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:51:57.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/e7302d9a7cbba23e90b1febbf03034b2aad28bfa', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I3b7b6cd8e1eae24c3eb0b8308b82630138434e83\n'}]",0,801783,e7302d9a7cbba23e90b1febbf03034b2aad28bfa,14,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I3b7b6cd8e1eae24c3eb0b8308b82630138434e83
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/83/801783/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,e7302d9a7cbba23e90b1febbf03034b2aad28bfa,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Fcharm-ceph-rbd-mirror~master~I3e5148aabf2dbeb71b94de9c63d0d8ada29293fc,openstack/charm-ceph-rbd-mirror,master,I3e5148aabf2dbeb71b94de9c63d0d8ada29293fc,Sync release-tools,MERGED,2021-07-22 12:52:54.000000000,2021-07-28 10:27:35.000000000,2021-07-28 10:27:35.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:52:54.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/c1eac8ea68e9a109bb999dace1eddabcc24ac07c', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I3e5148aabf2dbeb71b94de9c63d0d8ada29293fc\n'}]",0,801789,c1eac8ea68e9a109bb999dace1eddabcc24ac07c,11,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I3e5148aabf2dbeb71b94de9c63d0d8ada29293fc
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/89/801789/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,c1eac8ea68e9a109bb999dace1eddabcc24ac07c,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-octavia-diskimage-retrofit~master~I38f72638073ebda2b9bb52e6f8ff49fa83d9d87c,openstack/charm-octavia-diskimage-retrofit,master,I38f72638073ebda2b9bb52e6f8ff49fa83d9d87c,Sync release-tools,MERGED,2021-07-22 12:59:33.000000000,2021-07-28 10:26:36.000000000,2021-07-28 10:26:36.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:59:33.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/ada8a7cc0ff6a667d13bca05317d7ae80f5fa948', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I38f72638073ebda2b9bb52e6f8ff49fa83d9d87c\n'}]",0,801832,ada8a7cc0ff6a667d13bca05317d7ae80f5fa948,9,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I38f72638073ebda2b9bb52e6f8ff49fa83d9d87c
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/32/801832/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,ada8a7cc0ff6a667d13bca05317d7ae80f5fa948,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-masakari-monitors~master~I8f4470563b09a45c75b9456b6566450f081d67b1,openstack/charm-masakari-monitors,master,I8f4470563b09a45c75b9456b6566450f081d67b1,Sync release-tools,MERGED,2021-07-22 12:57:07.000000000,2021-07-28 10:25:14.000000000,2021-07-28 10:25:14.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:57:07.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/3fb5e633116bef1e35999647bc0f9aa6ccc9be5e', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I8f4470563b09a45c75b9456b6566450f081d67b1\n'}]",0,801817,3fb5e633116bef1e35999647bc0f9aa6ccc9be5e,11,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I8f4470563b09a45c75b9456b6566450f081d67b1
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/17/801817/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,3fb5e633116bef1e35999647bc0f9aa6ccc9be5e,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-masakari~master~I51d3df097a28b94cc2e272c61bbb65dcfb41c34b,openstack/charm-masakari,master,I51d3df097a28b94cc2e272c61bbb65dcfb41c34b,Sync release-tools,MERGED,2021-07-22 12:56:58.000000000,2021-07-28 10:25:12.000000000,2021-07-28 10:25:12.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-22 12:56:58.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/b327c6cfae99e1a14b3b5a6f75727876df5d9e47', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I51d3df097a28b94cc2e272c61bbb65dcfb41c34b\n'}]",0,801816,b327c6cfae99e1a14b3b5a6f75727876df5d9e47,11,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I51d3df097a28b94cc2e272c61bbb65dcfb41c34b
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/16/801816/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,b327c6cfae99e1a14b3b5a6f75727876df5d9e47,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fopenstack-helm~master~I70e65465f5952764418d1e304ec06aa750de9def,openstack/openstack-helm,master,I70e65465f5952764418d1e304ec06aa750de9def,added functionality for auto detecting the worker for cinder api,ABANDONED,2021-07-23 12:04:34.000000000,2021-07-28 10:21:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-23 12:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/45ab920879327189bd79a8df0337821193f8ac6f', 'message': 'added functionality for auto detecting the worker for cinder api\n\nAs of current setting, cinder api is running with workers=1 setting. This patch enables\nto calculate the number of workers with help of formula (cpu count / 4) if value of workers\nis provided ""auto"". In default the value will be 1 and can be changed. But if the value of\nauto is provided in workers, number of workers count for the api will be calcuated based on\nthe node being deployed. The idea behind this is to enable the scaling of the application in\ndifferent environment with irrespective with the node type on which it is going to be deployed.\nAs of now we can assign the workers values as per choice but to do that node resources needs to\nbe considered. Right now, provideing ""None"" values can enable cinder api to use the availabe\ncpus as worker but that might be a lot for some cases like where the cpu is high and memory is\nsmall in node. This will help running the cinder api with multiple processes in single pod.\n\nChange-Id: I70e65465f5952764418d1e304ec06aa750de9def\n'}, {'number': 2, 'created': '2021-07-23 12:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6f89e54a5280378da4d725eb0f7006bc52820874', 'message': 'added functionality for auto detecting the worker for cinder api\n\nAs of current setting, cinder api is running with workers=1 setting. This patch enables to calculate the number of workers with help of formula (cpu count / 4) if value of workers is provided ""auto"". In default the value will be 1 and can be changed. But if the value of auto is provided in workers, number of workers count for the api will be calcuated based on the node api being deployed. The idea behind this is to enable the scaling of the application in different environment with irrespective with the node type on which it is going to be deployed. As of now we can assign the workers values as per choice but to do that node resources needs to be considered. Right now, provideing ""None"" values can enable cinder api to use the availabe cpus as worker but that might be a lot for some cases like where the cpu is high and memory is small in node. This will help running the cinder api with multiple processes in single pod.\n\nChange-Id: I70e65465f5952764418d1e304ec06aa750de9def\n'}, {'number': 3, 'created': '2021-07-23 13:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a00fb414856535a7e67029c77e88deb121d52ba', 'message': 'added functionality for auto detecting the worker for cinder api\n\nAs of current setting, cinder api is running with workers=1 setting. This patch enables to calculate the number of workers with help of formula (cpu count / 4) if value of workers is provided ""auto"". In default the value will be 1 and can be changed. But if the value of auto is provided in workers, number of workers count for the api will be calcuated based on the node api being deployed. The idea behind this is to enable the scaling of the application in different environment with irrespective with the node type on which it is going to be deployed. As of now we can assign the workers values as per choice but to do that node resources needs to be considered. Right now, provideing ""None"" values can enable cinder api to use the availabe cpus as worker but that might be a lot for some cases like where the cpu is high and memory is small in node. This will help running the cinder api with multiple processes in single pod.\n\nChange-Id: I70e65465f5952764418d1e304ec06aa750de9def\n'}, {'number': 4, 'created': '2021-07-23 13:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3d47742fae2de85c41c16b1e83d5ee21c991239', 'message': 'added functionality for auto detecting the worker for cinder api\n\nAs of current setting, cinder api is running with workers=1 setting. This patch enables to calculate the number of workers with help of formula (cpu count / 4) if value of workers is provided ""auto"". In default the value will be 1 and can be changed. But if the value of auto is provided in workers, number of workers count for the api will be calcuated based on the node api being deployed. The idea behind this is to enable the scaling of the application in different environment with irrespective with the node type on which it is going to be deployed. As of now we can assign the workers values as per choice but to do that node resources needs to be considered. Right now, provideing ""None"" values can enable cinder api to use the availabe cpus as worker but that might be a lot for some cases like where the cpu is high and memory is small in node. This will help running the cinder api with multiple processes in single pod.\n\nChange-Id: I70e65465f5952764418d1e304ec06aa750de9def\n'}, {'number': 5, 'created': '2021-07-23 14:32:25.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'cinder/templates/deployment-volume.yaml', 'cinder/templates/bin/_cinder-scheduler.sh.tpl', 'cinder/values.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/bin/_cinder-api.sh.tpl', 'cinder/templates/bin/_cinder-osapi-volume-workers-init.sh.tpl', 'cinder/templates/deployment-api.yaml', 'cinder/templates/deployment-scheduler.yaml', 'cinder/templates/bin/_cinder-backup.sh.tpl', 'cinder/templates/configmap-bin.yaml', 'cinder/templates/bin/_cinder-volume.sh.tpl', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dbc58ef283e47d248eedc97b0d6d7494880a6d78', 'message': 'added functionality for auto detecting the worker for cinder api\n\nAs of current setting, cinder api is running with workers=1 setting. This patch enables to calculate the number of workers with help of formula (cpu count / 4) if value of workers is provided ""auto"". In default the value will be 1 and can be changed. But if the value of auto is provided in workers, number of workers count for the api will be calcuated based on the node api being deployed. The idea behind this is to enable the scaling of the application in different environment with irrespective with the node type on which it is going to be deployed. As of now we can assign the workers values as per choice but to do that node resources needs to be considered. Right now, provideing ""None"" values can enable cinder api to use the availabe cpus as worker but that might be a lot for some cases like where the cpu is high and memory is small in node. This will help running the cinder api with multiple processes in single pod.\n\nChange-Id: I70e65465f5952764418d1e304ec06aa750de9def\n'}]",0,802015,dbc58ef283e47d248eedc97b0d6d7494880a6d78,9,1,5,33130,,,0,"added functionality for auto detecting the worker for cinder api

As of current setting, cinder api is running with workers=1 setting. This patch enables to calculate the number of workers with help of formula (cpu count / 4) if value of workers is provided ""auto"". In default the value will be 1 and can be changed. But if the value of auto is provided in workers, number of workers count for the api will be calcuated based on the node api being deployed. The idea behind this is to enable the scaling of the application in different environment with irrespective with the node type on which it is going to be deployed. As of now we can assign the workers values as per choice but to do that node resources needs to be considered. Right now, provideing ""None"" values can enable cinder api to use the availabe cpus as worker but that might be a lot for some cases like where the cpu is high and memory is small in node. This will help running the cinder api with multiple processes in single pod.

Change-Id: I70e65465f5952764418d1e304ec06aa750de9def
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/802015/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/configmap-etc.yaml', 'cinder/templates/deployment-volume.yaml', 'cinder/templates/bin/_cinder-scheduler.sh.tpl', 'cinder/values.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/bin/_cinder-api.sh.tpl', 'cinder/templates/bin/_cinder-osapi-volume-workers-init.sh.tpl', 'cinder/templates/deployment-api.yaml', 'cinder/templates/deployment-scheduler.yaml', 'cinder/templates/bin/_cinder-backup.sh.tpl', 'cinder/templates/bin/_cinder-volume.sh.tpl', 'releasenotes/notes/cinder.yaml']",12,45ab920879327189bd79a8df0337821193f8ac6f,cinder-autodetect-workers, - 0.2.6 Autodetect osapi-volume-workers based on cpu count on node,,110,5
openstack%2Fopenstack-helm~master~Ia7719cd1c06f123ebd8effb24a6718ce12f65781,openstack/openstack-helm,master,Ia7719cd1c06f123ebd8effb24a6718ce12f65781,Auto detect workers for heat api,ABANDONED,2021-07-26 11:17:10.000000000,2021-07-28 10:21:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-26 11:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5b23e0e861844f8f5b3ac3364a2cc0d2111dbf2c', 'message': 'Auto detect workers for heat api\n\nAs of now heat components api are running with single process as of default values. This patch enables to calculate the numbers of the workers for the heat components based on the formula (number of cpu / 4) if the values is provided with ""auto"" in values.yaml. This patch is not to remove the default value of 1 workers but if auto is provided, the formula will be used to calculate the number of the workers. This will enable to deploy the heat component with multiple process in same pod without considering the numbers of cpu the node being deployed. This will help in the scaling the osh in similar environment with the similar helm values file.\n\nChange-Id: I031345a7163dca4d95e26cfad6e8370b4172eb81\n\nChange-Id: Ia7719cd1c06f123ebd8effb24a6718ce12f65781\n'}, {'number': 2, 'created': '2021-07-26 11:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e4c3350fa94cae328abaf59991ead58dd5b80be', 'message': 'Auto detect workers for heat api\n\nAs of now heat components api are running with single process as of default values. This patch enables to calculate the numbers of the workers for the heat components based on the formula (number of cpu / 4) if the values is provided with ""auto"" in values.yaml. This patch is not to remove the default value of 1 workers but if auto is provided, the formula will be used to calculate the number of the workers. This will enable to deploy the heat component with multiple process in same pod without considering the numbers of cpu the node being deployed. This will help in the scaling the osh in similar environment with the similar helm values file.\n\nChange-Id: Ia7719cd1c06f123ebd8effb24a6718ce12f65781\n'}, {'number': 3, 'created': '2021-07-26 12:09:39.000000000', 'files': ['heat/templates/deployment-engine.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'heat/values.yaml', 'heat/templates/bin/_heat-cloudwatch.sh.tpl', 'heat/templates/bin/_heat-cfn.sh.tpl', 'heat/templates/bin/_heat-engine.sh.tpl', 'heat/templates/deployment-api.yaml', 'heat/templates/bin/_heat-api.sh.tpl', 'heat/templates/bin/_heat-api-workers-init.sh.tpl', 'heat/templates/configmap-etc.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/21cdee84f75a09862a7e2a88ea7fcab5016dfd43', 'message': 'Auto detect workers for heat api\n\nAs of now heat components api are running with single process as of default values. This patch enables to calculate the numbers of the workers for the heat components based on the formula (number of cpu / 4) if the values is provided with ""auto"" in values.yaml. This patch is not to remove the default value of 1 workers but if auto is provided, the formula will be used to calculate the number of the workers. This will enable to deploy the heat component with multiple process in same pod without considering the numbers of cpu the node being deployed. This will help in the scaling the osh in similar environment with the similar helm values file.\n\nChange-Id: Ia7719cd1c06f123ebd8effb24a6718ce12f65781\n'}]",0,802295,21cdee84f75a09862a7e2a88ea7fcab5016dfd43,8,1,3,33130,,,0,"Auto detect workers for heat api

As of now heat components api are running with single process as of default values. This patch enables to calculate the numbers of the workers for the heat components based on the formula (number of cpu / 4) if the values is provided with ""auto"" in values.yaml. This patch is not to remove the default value of 1 workers but if auto is provided, the formula will be used to calculate the number of the workers. This will enable to deploy the heat component with multiple process in same pod without considering the numbers of cpu the node being deployed. This will help in the scaling the osh in similar environment with the similar helm values file.

Change-Id: Ia7719cd1c06f123ebd8effb24a6718ce12f65781
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/95/802295/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/templates/deployment-engine.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'heat/values.yaml', 'heat/templates/bin/_heat-cloudwatch.sh.tpl', 'heat/templates/bin/_heat-cfn.sh.tpl', 'heat/templates/bin/_heat-engine.sh.tpl', 'heat/templates/deployment-api.yaml', 'heat/templates/bin/_heat-api.sh.tpl', 'heat/templates/bin/_heat-api-workers-init.sh.tpl', 'heat/templates/configmap-etc.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/configmap-bin.yaml']",14,5b23e0e861844f8f5b3ac3364a2cc0d2111dbf2c,heat-autodetect-workers," heat-api-workers-init.sh: | {{ tuple ""bin/_heat-api-workers-init.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,149,10
openstack%2Fironic~stable%2Fussuri~I20836d586edccfb8cd8fed1f3a89f1497ff96943,openstack/ironic,stable/ussuri,I20836d586edccfb8cd8fed1f3a89f1497ff96943,Use openstack-tox for ironic-tox-unit-with-driver-libs,MERGED,2021-07-27 19:02:56.000000000,2021-07-28 10:05:45.000000000,2021-07-28 10:02:01.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 19:02:56.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/534e3b90b5f65e5dc879944d44448a815ff7146d', 'message': 'Use openstack-tox for ironic-tox-unit-with-driver-libs\n\nAll the tox jobs are based on openstack-tox, we should convert\nironic-tox-unit-with-driver-libs too.\n\nChange-Id: I20836d586edccfb8cd8fed1f3a89f1497ff96943\n(cherry picked from commit 475af371ddaa8a6d381c6b73193fedab0c058c6c)\n'}]",0,802463,534e3b90b5f65e5dc879944d44448a815ff7146d,9,2,1,11655,,,0,"Use openstack-tox for ironic-tox-unit-with-driver-libs

All the tox jobs are based on openstack-tox, we should convert
ironic-tox-unit-with-driver-libs too.

Change-Id: I20836d586edccfb8cd8fed1f3a89f1497ff96943
(cherry picked from commit 475af371ddaa8a6d381c6b73193fedab0c058c6c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/802463/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,534e3b90b5f65e5dc879944d44448a815ff7146d,openstack-tox-driver-libs-stable/victoria-stable/ussuri, parent: openstack-tox, parent: tox,1,1
openstack%2Fironic~stable%2Fvictoria~I20836d586edccfb8cd8fed1f3a89f1497ff96943,openstack/ironic,stable/victoria,I20836d586edccfb8cd8fed1f3a89f1497ff96943,Use openstack-tox for ironic-tox-unit-with-driver-libs,MERGED,2021-07-27 19:01:43.000000000,2021-07-28 09:09:47.000000000,2021-07-28 08:41:20.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 19:01:43.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2df5dc42a830448e850955e738a63f41dc3541c5', 'message': 'Use openstack-tox for ironic-tox-unit-with-driver-libs\n\nAll the tox jobs are based on openstack-tox, we should convert\nironic-tox-unit-with-driver-libs too.\n\nChange-Id: I20836d586edccfb8cd8fed1f3a89f1497ff96943\n(cherry picked from commit 475af371ddaa8a6d381c6b73193fedab0c058c6c)\n'}]",0,802462,2df5dc42a830448e850955e738a63f41dc3541c5,8,2,1,11655,,,0,"Use openstack-tox for ironic-tox-unit-with-driver-libs

All the tox jobs are based on openstack-tox, we should convert
ironic-tox-unit-with-driver-libs too.

Change-Id: I20836d586edccfb8cd8fed1f3a89f1497ff96943
(cherry picked from commit 475af371ddaa8a6d381c6b73193fedab0c058c6c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/802462/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,2df5dc42a830448e850955e738a63f41dc3541c5,openstack-tox-driver-libs-stable/victoria, parent: openstack-tox, parent: tox,1,1
openstack%2Fopenstack-helm~master~If92f5d038badda5d8a771894d2b27232b7f5e396,openstack/openstack-helm,master,If92f5d038badda5d8a771894d2b27232b7f5e396,Auto detect workers number of metadata_workers and osapi_compute_workers,ABANDONED,2021-07-16 10:14:42.000000000,2021-07-28 08:56:24.000000000,,"[{'_account_id': 1004}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-16 10:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79ad81dac12891d03ef99395ce92b263e96c4daa', 'message': 'Auto detect workers number of metadata_workers and osapi_compute_workers\n\nAdded init script that will calculate the numbers of workers count to be used\nin metadata_workers and osapi_compute_workers. When value auto is provided to\nthese two keys, workers count will be calculated by script. Workers count is\nvalue return by nproc(cpu_count) divided by 4. Other int value can be provided\nif workers count is not needed to calculated automatically.\n\nChange-Id: If92f5d038badda5d8a771894d2b27232b7f5e396\n'}, {'number': 2, 'created': '2021-07-16 14:46:40.000000000', 'files': ['nova/templates/bin/_nova-api.sh.tpl', 'nova/templates/configmap-etc.yaml', 'nova/templates/bin/_nova-api-osapi-init.sh.tpl', 'nova/values.yaml', 'nova/templates/bin/_nova-api-metadata-init.sh.tpl', 'nova/templates/deployment-api-osapi.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml', 'nova/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/513e7866693574259ec37ac85f2e1671849dae51', 'message': 'Auto detect workers number of metadata_workers and osapi_compute_workers\n\nAdded init script that will calculate the numbers of workers count to be used\nin metadata_workers and osapi_compute_workers. When value auto is provided to\nthese two keys, workers count will be calculated by script. Workers count is\nvalue return by nproc(cpu_count) divided by 4. Other int value can be provided\nif workers count is not needed to calculated automatically.\n\nChange-Id: If92f5d038badda5d8a771894d2b27232b7f5e396\n'}]",6,801043,513e7866693574259ec37ac85f2e1671849dae51,16,5,2,33130,,,0,"Auto detect workers number of metadata_workers and osapi_compute_workers

Added init script that will calculate the numbers of workers count to be used
in metadata_workers and osapi_compute_workers. When value auto is provided to
these two keys, workers count will be calculated by script. Workers count is
value return by nproc(cpu_count) divided by 4. Other int value can be provided
if workers count is not needed to calculated automatically.

Change-Id: If92f5d038badda5d8a771894d2b27232b7f5e396
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/801043/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_nova-api.sh.tpl', 'nova/templates/configmap-etc.yaml', 'nova/templates/bin/_nova-api-osapi-init.sh.tpl', 'nova/values.yaml', 'nova/templates/bin/_nova-api-metadata-init.sh.tpl', 'nova/templates/deployment-api-osapi.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml', 'nova/templates/configmap-bin.yaml']",9,79ad81dac12891d03ef99395ce92b263e96c4daa,auto-detect-worker," nova-api-osapi-init.sh: | {{ tuple ""bin/_nova-api-osapi-init.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,72,6
openstack%2Fironic~bugfix%2F18.1~Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,openstack/ironic,bugfix/18.1,Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,Fix regression in ramdisk deploy kernel parameters,MERGED,2021-07-27 19:19:56.000000000,2021-07-28 08:44:49.000000000,2021-07-28 08:41:22.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 19:19:56.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'releasenotes/notes/custom-params-cleaning-f938549964ff6df0.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2584cddde41222b615e0d12f1325a51bc90da588', 'message': 'Fix regression in ramdisk deploy kernel parameters\n\nAfter commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1 the custom kernel\nparameters are not used in cleaning/inspection. This patch fixes it.\n\nChange-Id: Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24\n(cherry picked from commit 171474d69a8b21cac578a38b5153b3f563285e62)\n'}]",0,802464,2584cddde41222b615e0d12f1325a51bc90da588,9,3,1,15519,,,0,"Fix regression in ramdisk deploy kernel parameters

After commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1 the custom kernel
parameters are not used in cleaning/inspection. This patch fixes it.

Change-Id: Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24
(cherry picked from commit 171474d69a8b21cac578a38b5153b3f563285e62)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/802464/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'releasenotes/notes/custom-params-cleaning-f938549964ff6df0.yaml']",3,2584cddde41222b615e0d12f1325a51bc90da588,custom-params-cleaning-bugfix/18.1,--- fixes: - | Fixes a regression in the ``ramdisk`` deploy where custom kernel parameters were not used during inspection and cleaning. ,,88,4
openstack%2Fmagnum-tempest-plugin~master~Ia5d062e895d320aabbf3feb0f81b03189ea071ac,openstack/magnum-tempest-plugin,master,Ia5d062e895d320aabbf3feb0f81b03189ea071ac,Add floating_ip_enabled option,NEW,2021-07-28 07:11:08.000000000,2021-07-28 07:51:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 07:11:08.000000000', 'files': ['magnum_tempest_plugin/common/datagen.py', 'magnum_tempest_plugin/config.py', 'magnum_tempest_plugin/common/config.py'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/4ade6d40065f3ec405f174df1e96944d058e309a', 'message': 'Add floating_ip_enabled option\n\nChange-Id: Ia5d062e895d320aabbf3feb0f81b03189ea071ac\n'}]",0,802660,4ade6d40065f3ec405f174df1e96944d058e309a,2,1,1,8064,,,0,"Add floating_ip_enabled option

Change-Id: Ia5d062e895d320aabbf3feb0f81b03189ea071ac
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/60/802660/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_tempest_plugin/common/datagen.py', 'magnum_tempest_plugin/config.py', 'magnum_tempest_plugin/common/config.py']",3,4ade6d40065f3ec405f174df1e96944d058e309a,," def set_floating_ip_enabled(cls, config): cls.floating_ip_enabled = CONF.magnum.floating_ip_enabled @classmethod cls.set_floating_ip_enabled(config)",,11,1
openstack%2Fcharm-glance-simplestreams-sync~stable%2F21.04~Ib1fc5d2eebf43d5f98bb8ee405a3799802c8b8dc,openstack/charm-glance-simplestreams-sync,stable/21.04,Ib1fc5d2eebf43d5f98bb8ee405a3799802c8b8dc,Dynamically generate proxy settings for image syncs,MERGED,2021-07-23 16:14:32.000000000,2021-07-28 07:29:06.000000000,2021-07-28 07:29:06.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28899}, {'_account_id': 31289}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-07-23 16:14:32.000000000', 'files': ['hooks/hooks.py', 'requirements.txt', 'test-requirements.txt', 'files/glance_simplestreams_sync.py', 'config.yaml', 'unit_tests/test_glance_simplestreams_sync.py', 'templates/mirrors.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/a18cca2ec0d843072c4cc732d6393110ac0124af', 'message': 'Dynamically generate proxy settings for image syncs\n\nsstream-mirror-glance has several endpoints it needs to talk to:\n\n* Image mirrors - typically, public Internet endpoints;\n* Keystone - typically, a directly reachable endpoint;\n* Glance - typically, a directly reachable endpoint;\n* Object store (Swift) - typically, a directly reachable endpoint but\n  sometimes it may be deployed externally and added to the region\n  catalog in Keystone (in which case it might be accessible via a proxy\n  only).\n\nWhile sstream-mirror-glance does not support specifying proxy settings\nfor individual directions, since we know all of them based on the\nKeystone catalog, a list of endpoints to add to NO_PROXY environment\nvariable can be generated dynamically.\n\nThe complication is that image syncs are periodically done via a cron\njob so a juju-run invocation is needed to retrieve relevant proxy\nsettings from model-config at each invocation of the synchronization\nscript.\n\nAdditionally, the charm is long-lived so there may be some environments\nthat rely on legacy proxy settings. This change accounts for that and\nacts both on juju-prefixed (new) and unprefixed (legacy) proxy settings.\n\nWhether to use proxy settings for connections to the object store API\nis controlled by a charm option which the script is made to react to.\nProxy settings are ignored for object store connections by default.\n\nCloses-Bug: #1843486\nChange-Id: Ib1fc5d2eebf43d5f98bb8ee405a3799802c8b8dc\n(cherry picked from commit 009c8a7b929c9b961c9cf388c122cffe6f6ae41c)\n'}]",3,802052,a18cca2ec0d843072c4cc732d6393110ac0124af,13,6,1,24824,,,0,"Dynamically generate proxy settings for image syncs

sstream-mirror-glance has several endpoints it needs to talk to:

* Image mirrors - typically, public Internet endpoints;
* Keystone - typically, a directly reachable endpoint;
* Glance - typically, a directly reachable endpoint;
* Object store (Swift) - typically, a directly reachable endpoint but
  sometimes it may be deployed externally and added to the region
  catalog in Keystone (in which case it might be accessible via a proxy
  only).

While sstream-mirror-glance does not support specifying proxy settings
for individual directions, since we know all of them based on the
Keystone catalog, a list of endpoints to add to NO_PROXY environment
variable can be generated dynamically.

The complication is that image syncs are periodically done via a cron
job so a juju-run invocation is needed to retrieve relevant proxy
settings from model-config at each invocation of the synchronization
script.

Additionally, the charm is long-lived so there may be some environments
that rely on legacy proxy settings. This change accounts for that and
acts both on juju-prefixed (new) and unprefixed (legacy) proxy settings.

Whether to use proxy settings for connections to the object store API
is controlled by a charm option which the script is made to react to.
Proxy settings are ignored for object store connections by default.

Closes-Bug: #1843486
Change-Id: Ib1fc5d2eebf43d5f98bb8ee405a3799802c8b8dc
(cherry picked from commit 009c8a7b929c9b961c9cf388c122cffe6f6ae41c)
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/52/802052/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'requirements.txt', 'test-requirements.txt', 'files/glance_simplestreams_sync.py', 'config.yaml', 'templates/mirrors.yaml', 'unit_tests/test_glance_simplestreams_sync.py', 'tox.ini']",8,a18cca2ec0d843072c4cc732d6393110ac0124af,,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,381,40
openstack%2Fironic~stable%2Ftrain~I4419254c23095929e52a0fda11789f2f5167dc6b,openstack/ironic,stable/train,I4419254c23095929e52a0fda11789f2f5167dc6b,Provide a path to set explicit ipxe bootloaders,MERGED,2021-07-21 22:50:15.000000000,2021-07-28 07:24:11.000000000,2021-07-28 04:34:04.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 22:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed745d0a90a55c44d2068b9a4f58140899f8d645', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nThis is backported to stable/train as a prerequisite to backporting\nhttps://review.opendev.org/c/openstack/puppet-ironic/+/797683\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n(cherry picked from commit 5f7d84f483be165fde04954453e156ceefc43d28)\n""}, {'number': 2, 'created': '2021-07-26 21:30:35.000000000', 'files': ['ironic/conf/pxe.py', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/common/pxe_utils.py', 'ironic/drivers/modules/ipxe.py', 'releasenotes/notes/explicit_ipxe_config_options-d7bf9a743a13f523.yaml', 'doc/source/install/configure-pxe.rst', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5fc6cc2cba367ee941b1d810707e371083c7ebc', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nThis is backported to stable/train as a prerequisite to backporting\nhttps://review.opendev.org/c/openstack/puppet-ironic/+/797683\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n(cherry picked from commit 5f7d84f483be165fde04954453e156ceefc43d28)\n""}]",0,801669,a5fc6cc2cba367ee941b1d810707e371083c7ebc,25,3,2,4571,,,0,"Provide a path to set explicit ipxe bootloaders

I did something stupid when started driving forth the split of ipxe
from the pxe interface: I didn't think about the need to actually
separate bootloaders. In part, because the use case was a mixed
Power8/Power9 and x86 cluster. Mainly because the Power hardware
does not honor or care about the bootfile name provided over DHCP.
The firmware knows how to read the PXELINUX boot file format
and the machines are able to boot from there.

Where this all goes sideways is when:
* Enabled boot interfaces are set to ipxe,pxe
* No default boot interface is set
* Node is created without a default for x86 hardware.
* Node uses ipxe boot_interface, and creates files under /httpboot
* bootfile transmitted via DHCP is pxelinux.0.

Fun right?

The simple workaround for the power user is to just define the iPXE
loader, or maybe use UEFI. But that is neither here nor there, this
is still a bug and a possible use case is GRUB2 via PXE and iPXE.
Not that would really work via ipxe, but hopefully people get the
idea.

The solution kind of seems clear, duplicate configuration and
fallback if not defined.

This is backported to stable/train as a prerequisite to backporting
https://review.opendev.org/c/openstack/puppet-ironic/+/797683

Story: #2007003
Task: #40282
Change-Id: I4419254c23095929e52a0fda11789f2f5167dc6b
(cherry picked from commit 5f7d84f483be165fde04954453e156ceefc43d28)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/801669/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/pxe.py', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/pxe_utils.py', 'ironic/drivers/modules/ipxe.py', 'releasenotes/notes/explicit_ipxe_config_options-d7bf9a743a13f523.yaml', 'doc/source/install/configure-pxe.rst', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",10,ed745d0a90a55c44d2068b9a4f58140899f8d645,trainstory/2007003," def _dhcp_options_for_instance(self, ip_version=4, ipxe=False): if ipxe: bootfile = 'fake-bootfile-ipxe' else: bootfile = 'fake-bootfile' 'opt_value': 'tftp://[ff80::1]/%s' % bootfile, 'opt_value': bootfile,"," def _dhcp_options_for_instance(self, ip_version=4): 'opt_value': 'tftp://[ff80::1]/fake-bootfile', 'opt_value': 'fake-bootfile',",224,42
openstack%2Fironic~stable%2Ftrain~Ib4788a6a610c688483425a6253cea43ce12bf94b,openstack/ironic,stable/train,Ib4788a6a610c688483425a6253cea43ce12bf94b,Set driver lib tox jobs to utilize openstack-tox,MERGED,2021-07-27 18:58:52.000000000,2021-07-28 07:20:36.000000000,2021-07-27 22:35:51.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 18:58:52.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0db9bc6000b1a44167df87c4b917669cc0c80d18', 'message': 'Set driver lib tox jobs to utilize openstack-tox\n\nThe standard tox job is not version aware for the nodeset\nwhich can result in the job pulling in things such as\nhigher python versions which are not supported.\n\nThe openstack-tox job *is* aware and apparently does the\nright thing. This should correct failures with the driver-libs\ntest jobs.\n\nChange-Id: Ib4788a6a610c688483425a6253cea43ce12bf94b\n'}]",0,802603,0db9bc6000b1a44167df87c4b917669cc0c80d18,9,3,1,11655,,,0,"Set driver lib tox jobs to utilize openstack-tox

The standard tox job is not version aware for the nodeset
which can result in the job pulling in things such as
higher python versions which are not supported.

The openstack-tox job *is* aware and apparently does the
right thing. This should correct failures with the driver-libs
test jobs.

Change-Id: Ib4788a6a610c688483425a6253cea43ce12bf94b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/03/802603/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,0db9bc6000b1a44167df87c4b917669cc0c80d18,, parent: openstack-tox parent: openstack-tox, parent: tox parent: tox,2,2
openstack%2Fcharms.ceph~master~I59c742e594042ad527e71c88404999459f0373c2,openstack/charms.ceph,master,I59c742e594042ad527e71c88404999459f0373c2,Fix parsing information from ceph tree output,MERGED,2021-03-12 15:20:55.000000000,2021-07-28 07:17:30.000000000,2021-07-28 07:17:30.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 32288}]","[{'number': 1, 'created': '2021-03-12 15:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/10663e5bd39e971810806d173d0ab959619cb19a', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 2, 'created': '2021-04-01 10:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/5ccfa2fdd17302ce3f5d1f35aa1ebcfaaa6aec44', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 3, 'created': '2021-05-17 11:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/57560725143a92d722c6163ae3f6f5af57393f04', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 4, 'created': '2021-05-17 11:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/9b34af1aea048f72cb1bd840aec19a5068a83009', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 5, 'created': '2021-06-25 10:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/16fa10433ca040b01f6216b9ef95ec97de54eb0e', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 6, 'created': '2021-06-28 17:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/7c284932e67a787134fccfb7e5f7b5d443a8ae09', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 7, 'created': '2021-06-29 06:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/f5741d8e4f2dc81fb2cb732faa09774e0d9caaa8', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 8, 'created': '2021-07-22 07:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/46daeb5d04eea0f1d5d1e0b739a76286c5779d28', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 9, 'created': '2021-07-22 07:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/e68fc4ef1c65eec72333f7200bbc180481a970d4', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}, {'number': 10, 'created': '2021-07-28 05:58:24.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/5a6fbb88fd7e5bc444957c48263a1ee92bf80d2d', 'message': 'Fix parsing information from ceph tree output\n\nAdd helper functions to parse information from the ceph tree and\nfix creating CrushLocation object in get_osd_tree function.\n\nCloses-Bug: #1918721\nChange-Id: I59c742e594042ad527e71c88404999459f0373c2\n'}]",49,780280,5a6fbb88fd7e5bc444957c48263a1ee92bf80d2d,39,4,10,32363,,,0,"Fix parsing information from ceph tree output

Add helper functions to parse information from the ceph tree and
fix creating CrushLocation object in get_osd_tree function.

Closes-Bug: #1918721
Change-Id: I59c742e594042ad527e71c88404999459f0373c2
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/80/780280/10 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/utils.py', 'unit_tests/test_utils.py']",2,10663e5bd39e971810806d173d0ab959619cb19a,bug/1918721," def test_load_ceph_osd_tree(self): tree = b""""""{ ""nodes"":[ {""id"":-4,""name"":""default"",""type"":""root"",""type_id"":10,""children"":[-3]}, {""id"":-3,""name"":""custom_az"",""type"":""row"",""type_id"":4,""children"":[-2]}, {""id"":-2,""name"":""az"",""type"":""rack"",""type_id"":3,""children"":[-1]}, {""id"":-1,""name"":""test-host"",""type"":""host"",""type_id"":1,""children"":[0]}, {""id"":0,""name"":""osd.0"",""type"":""osd"",""type_id"":0,""crush_weight"":1.000000,""depth"":2,""exists"":1,""status"":""up"",""reweight"":1.000000,""primary_affinity"":1.000000} ],""stray"":[]} """""" nodes = utils._load_ceph_osd_tree(tree) self.assertEqual(nodes[0][""parent""], -1) self.assertEqual(nodes[-1][""parent""], -2) self.assertEqual(nodes[-2][""parent""], -3) self.assertEqual(nodes[-3][""parent""], -4) self.assertNotIn(""parent"", nodes[-4]) def test_get_nodes_by_type(self): tree = b""""""{ ""nodes"":[ {""id"":-6,""name"":""default"",""type"":""root"",""type_id"":10,""children"":[-5]}, {""id"":-5,""name"":""custom_az"",""type"":""row"",""type_id"":4,""children"":[-3,-4]}, {""id"":-4,""name"":""az.0"",""type"":""rack"",""type_id"":3,""children"":[-2]}, {""id"":-2,""name"":""test-host.0"",""type"":""host"",""type_id"":1,""children"":[0]}, {""id"":0,""name"":""osd.0"",""type"":""osd"",""type_id"":0,""crush_weight"":1.000000,""depth"":2,""exists"":1,""status"":""up"",""reweight"":1.000000,""primary_affinity"":1.000000}, {""id"":-3,""name"":""az.1"",""type"":""rack"",""type_id"":3,""children"":[-1]}, {""id"":-1,""name"":""test-host.1"",""type"":""host"",""type_id"":1,""children"":[1]}, {""id"":1,""name"":""osd.1"",""type"":""osd"",""type_id"":0,""crush_weight"":1.000000,""depth"":2,""exists"":1,""status"":""up"",""reweight"":1.000000,""primary_affinity"":1.000000} ],""stray"":[]} """""" nodes = utils._load_ceph_osd_tree(tree) host_nodes = utils._get_nodes_by_type(nodes, ""host"") self.assertEqual(len(host_nodes), 2) self.assertEqual(host_nodes[0][""id""], -2) self.assertEqual(host_nodes[0][""rack""], ""az.0"") self.assertEqual(host_nodes[0][""row""], ""custom_az"") self.assertEqual(host_nodes[0][""root""], ""default"") self.assertEqual(host_nodes[1][""id""], -1) self.assertEqual(host_nodes[1][""rack""], ""az.1"") self.assertEqual(host_nodes[1][""row""], ""custom_az"") self.assertEqual(host_nodes[1][""root""], ""default"") rack_nodes = utils._get_nodes_by_type(nodes, ""rack"") self.assertEqual(len(rack_nodes), 2) self.assertEqual(rack_nodes[0][""id""], -4) self.assertEqual(rack_nodes[0][""row""], ""custom_az"") self.assertEqual(rack_nodes[0][""root""], ""default"") self.assertEqual(rack_nodes[1][""id""], -3) self.assertEqual(rack_nodes[1][""row""], ""custom_az"") self.assertEqual(rack_nodes[1][""root""], ""default"") self.assertEqual(osd_tree[0].root, ""ssds"") self.assertEqual(osd_tree[-1].root, ""default"") self.assertEqual(osd_tree[0].root, ""default"") self.assertEqual(osd_tree[-1].root, ""default"") self.assertEqual(osd_tree[0].rack, ""sata"") self.assertEqual(osd_tree[-1].rack, ""ssd"") self.assertEqual(osd_tree[0].root, ""default"") self.assertEqual(osd_tree[-1].root, ""default"")",,137,41
openstack%2Fpython-mistralclient~master~Ic1e7a52cd6f4bd222a330a33160391b0d9438c81,openstack/python-mistralclient,master,Ic1e7a52cd6f4bd222a330a33160391b0d9438c81,Changed minversion in tox to 3.18.0,NEW,2021-05-31 07:31:48.000000000,2021-07-28 05:32:04.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-31 07:31:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/237bfe778c74e01aadeb2c5eb8302d32e4f4edd6', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic1e7a52cd6f4bd222a330a33160391b0d9438c81\n""}]",0,793727,237bfe778c74e01aadeb2c5eb8302d32e4f4edd6,5,3,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic1e7a52cd6f4bd222a330a33160391b0d9438c81
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/27/793727/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,237bfe778c74e01aadeb2c5eb8302d32e4f4edd6,update-min-tox,minversion = 3.18.0allowlist_externals = find,minversion = 3.1.1whitelist_externals = find,2,2
openstack%2Ftosca-parser~master~Ifb74a2a68bf627323ff6bfe5a8d5e0a9a222f86b,openstack/tosca-parser,master,Ifb74a2a68bf627323ff6bfe5a8d5e0a9a222f86b,Fix parent types if relationships,MERGED,2021-05-25 21:52:00.000000000,2021-07-28 05:21:59.000000000,2021-07-28 05:20:50.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-25 21:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/6c1ff971267bb78021a103e3d5e3fd3e960eca4b', 'message': 'Fix parent types if relationships\n1. Fix passing arguments when parent type is taken\n2. Take parent interfaces when interfaces are taken\n3. Choose custom definitions first when capability type is taken\n\nChange-Id: Ifb74a2a68bf627323ff6bfe5a8d5e0a9a222f86b\nCloses-Bug: #1929616\n'}, {'number': 2, 'created': '2021-05-27 11:42:10.000000000', 'files': ['toscaparser/elements/relationshiptype.py', 'toscaparser/elements/capabilitytype.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/ca3a2a88045bfed6098975f004c22a5ee31119ec', 'message': 'Fix parent types if relationships\n\n1. Fix passing arguments when parent type is taken\n2. Take parent interfaces when interfaces are taken\n3. Choose custom definitions first when capability type is taken\n\nChange-Id: Ifb74a2a68bf627323ff6bfe5a8d5e0a9a222f86b\nCloses-Bug: #1929616\n'}]",1,793071,ca3a2a88045bfed6098975f004c22a5ee31119ec,12,4,2,30516,,,0,"Fix parent types if relationships

1. Fix passing arguments when parent type is taken
2. Take parent interfaces when interfaces are taken
3. Choose custom definitions first when capability type is taken

Change-Id: Ifb74a2a68bf627323ff6bfe5a8d5e0a9a222f86b
Closes-Bug: #1929616
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/71/793071/2 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/elements/relationshiptype.py', 'toscaparser/elements/capabilitytype.py']",2,6c1ff971267bb78021a103e3d5e3fd3e960eca4b,bug/1929616, if custom_def and parent_cap in custom_def.keys(): elif parent_cap in self.TOSCA_DEF.keys(): capabilities[parent_cap] = self.TOSCA_DEF[parent_cap], if parent_cap in self.TOSCA_DEF.keys(): capabilities[parent_cap] = self.TOSCA_DEF[parent_cap] elif custom_def and parent_cap in custom_def.keys():,16,5
openstack%2Fglance~master~Ie67cd0ada86c03d8eac06dfa3d0730d329591628,openstack/glance,master,Ie67cd0ada86c03d8eac06dfa3d0730d329591628,Add api_patch() to SynchronousAPIBase,MERGED,2021-07-16 17:49:55.000000000,2021-07-28 05:17:21.000000000,2021-07-28 05:16:01.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-16 17:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3fc4d94dc7e260bf7e549c5ca527834ac1570840', 'message': 'Add api_patch() to SynchronousAPIBase\n\nThis makes it easier to run PATCH operations against the API from\nsynchronous functional tests. It also adds a status assertion to\none of the upload methods which makes it easier to determine when\nan operation was denied.\n\nChange-Id: Ie67cd0ada86c03d8eac06dfa3d0730d329591628\n'}, {'number': 2, 'created': '2021-07-16 18:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/59e05df77ff8b22065fe8dac8de5464c0b39c022', 'message': 'Add api_patch() to SynchronousAPIBase\n\nThis makes it easier to run PATCH operations against the API from\nsynchronous functional tests. It also adds a status assertion to\none of the upload methods which makes it easier to determine when\nan operation was denied.\n\nChange-Id: Ie67cd0ada86c03d8eac06dfa3d0730d329591628\n'}, {'number': 3, 'created': '2021-07-20 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/31f83a2da6e3c573e05f7df8b4a38d8f50af50bc', 'message': 'Add api_patch() to SynchronousAPIBase\n\nThis makes it easier to run PATCH operations against the API from\nsynchronous functional tests. It also adds a status assertion to\none of the upload methods which makes it easier to determine when\nan operation was denied.\n\nChange-Id: Ie67cd0ada86c03d8eac06dfa3d0730d329591628\n'}, {'number': 4, 'created': '2021-07-26 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a8e6cbcb18ada93a573bd646b82436b76ecad99', 'message': 'Add api_patch() to SynchronousAPIBase\n\nThis makes it easier to run PATCH operations against the API from\nsynchronous functional tests. It also adds a status assertion to\none of the upload methods which makes it easier to determine when\nan operation was denied.\n\nChange-Id: Ie67cd0ada86c03d8eac06dfa3d0730d329591628\n'}, {'number': 5, 'created': '2021-07-27 18:34:02.000000000', 'files': ['glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2fef2e6c4f9fbbac795740ddfec57ba193029d03', 'message': 'Add api_patch() to SynchronousAPIBase\n\nThis makes it easier to run PATCH operations against the API from\nsynchronous functional tests. It also adds a status assertion to\none of the upload methods which makes it easier to determine when\nan operation was denied.\n\nChange-Id: Ie67cd0ada86c03d8eac06dfa3d0730d329591628\n'}]",1,801119,2fef2e6c4f9fbbac795740ddfec57ba193029d03,18,2,5,4393,,,0,"Add api_patch() to SynchronousAPIBase

This makes it easier to run PATCH operations against the API from
synchronous functional tests. It also adds a status assertion to
one of the upload methods which makes it easier to determine when
an operation was denied.

Change-Id: Ie67cd0ada86c03d8eac06dfa3d0730d329591628
",git fetch https://review.opendev.org/openstack/glance refs/changes/19/801119/3 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/__init__.py'],1,3fc4d94dc7e260bf7e549c5ca527834ac1570840,bp/policy-refactor,"from glance.api import policy def api_patch(self, url, *patches, headers=None): """"""Perform a PATCH request against the API. :param url: The *path* part of the URL to call (i.e. /v2/images) :param patches: One or more patch dicts :param headers: Optional updates to the default set of headers :returns: A webob.Response object """""" if not headers: headers = {} headers['Content-Type'] = \ 'application/openstack-images-v2.1-json-patch' return self.api_request('PATCH', url, headers=headers, json=list(patches)) self.assertEqual(201, resp.status_code, resp.text)",,17,0
openstack%2Fopenstack-tempest-skiplist~master~I20d2442ad1bc816d7e6a5f33e3c8a7e22dc18141,openstack/openstack-tempest-skiplist,master,I20d2442ad1bc816d7e6a5f33e3c8a7e22dc18141,Skip failing scenario004-standalone-cinder-train test,MERGED,2021-07-27 16:36:10.000000000,2021-07-28 04:46:35.000000000,2021-07-28 04:45:21.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 16:36:10.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/5c40c8238e061221a00b87efbbf24b23fc31ec61', 'message': 'Skip failing scenario004-standalone-cinder-train test\n\ntest_swift_acl_anonymous_download is failing on this\ncinder component line test.\n\nChange-Id: I20d2442ad1bc816d7e6a5f33e3c8a7e22dc18141\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1936285\n'}]",0,802555,5c40c8238e061221a00b87efbbf24b23fc31ec61,8,4,1,9976,,,0,"Skip failing scenario004-standalone-cinder-train test

test_swift_acl_anonymous_download is failing on this
cinder component line test.

Change-Id: I20d2442ad1bc816d7e6a5f33e3c8a7e22dc18141
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1936285
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/55/802555/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,5c40c8238e061221a00b87efbbf24b23fc31ec61,bug1936285, - periodic-tripleo-ci-centos-8-scenario004-standalone-cinder-train,,1,0
openstack%2Ftrove~stable%2Fvictoria~I235e2abf8c0405e143ded6fb48017d596b8b41a1,openstack/trove,stable/victoria,I235e2abf8c0405e143ded6fb48017d596b8b41a1,Add periodic task to remove postgres archived wal files,MERGED,2021-07-27 09:10:38.000000000,2021-07-28 04:00:17.000000000,2021-07-28 03:58:54.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 09:10:38.000000000', 'files': ['trove/tests/unittests/guestagent/datastore/__init__.py', 'doc/source/admin/index.rst', 'trove/guestagent/common/operating_system.py', 'trove/tests/unittests/guestagent/datastore/postgres/__init__.py', 'backup/drivers/postgres.py', 'doc/source/user/backup-db.rst', 'trove/guestagent/datastore/service.py', 'trove/tests/unittests/guestagent/datastore/postgres/test_manager.py', 'trove/guestagent/datastore/postgres/manager.py', 'doc/source/admin/database_management.rst', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/victoria-fix-postgresql-wal-archive-size.yaml', 'trove/common/cfg.py', 'trove/tests/unittests/guestagent/__init__.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/3b827ef20b310a4b291ee7dd9cbb819b4779c6cd', 'message': 'Add periodic task to remove postgres archived wal files\n\n* Added a periodic task for postgresql datastore to clean up the\n  archived WAL files.\n* Added a check when creating incremental backups for postgresql.\n* A new container image ``openstacktrove/db-backup-postgresql:1.1.2``\n  is uploaded to docker hub.\n\nStory: 2009066\nTask: 42871\nChange-Id: I235e2abf8c0405e143ded6fb48017d596b8b41a1\n(cherry-picked from commit 02971d850b57ac27a126ecb8ca4012f97ae856fd)\n'}]",0,802441,3b827ef20b310a4b291ee7dd9cbb819b4779c6cd,7,2,1,6732,,,0,"Add periodic task to remove postgres archived wal files

* Added a periodic task for postgresql datastore to clean up the
  archived WAL files.
* Added a check when creating incremental backups for postgresql.
* A new container image ``openstacktrove/db-backup-postgresql:1.1.2``
  is uploaded to docker hub.

Story: 2009066
Task: 42871
Change-Id: I235e2abf8c0405e143ded6fb48017d596b8b41a1
(cherry-picked from commit 02971d850b57ac27a126ecb8ca4012f97ae856fd)
",git fetch https://review.opendev.org/openstack/trove refs/changes/41/802441/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/guestagent/datastore/__init__.py', 'doc/source/admin/index.rst', 'trove/guestagent/common/operating_system.py', 'trove/tests/unittests/guestagent/datastore/postgres/__init__.py', 'backup/drivers/postgres.py', 'doc/source/user/backup-db.rst', 'trove/guestagent/datastore/service.py', 'trove/tests/unittests/guestagent/datastore/postgres/test_manager.py', 'trove/guestagent/datastore/postgres/manager.py', 'doc/source/admin/database_management.rst', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/victoria-fix-postgresql-wal-archive-size.yaml', 'trove/common/cfg.py', 'trove/tests/unittests/guestagent/__init__.py']",16,3b827ef20b310a4b291ee7dd9cbb819b4779c6cd,victoria-psql-wal,,,333,36
openstack%2Fmanila-tempest-plugin~master~Id61756433e562d4bf23cc0878f95ed2f26b7ebb4,openstack/manila-tempest-plugin,master,Id61756433e562d4bf23cc0878f95ed2f26b7ebb4,Fix incorrect cephfs related test skip logic,ABANDONED,2021-07-28 02:28:26.000000000,2021-07-28 02:33:12.000000000,,[],"[{'number': 1, 'created': '2021-07-28 02:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c75ba046429e92e3212db817f766112aebeb36e5', 'message': ""Fix incorrect cephfs related test skip logic\n\nA couple of access rules tests check the API version\nbeing tested and skip if the cephx access type is\nnot supported by the API. cephx access type has\nbeen supported since API version 2.13.\n\nThe test skip logic however is incorrect, and it\nskips tests for all api versions less than 2.13\neven when the protocol being tested isn't cephfs.\n\nFixing the incorrect skip logic unearths other\ncode bugs.\n\nChange-Id: Id61756433e562d4bf23cc0878f95ed2f26b7ebb4\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-07-28 02:30:33.000000000', 'files': ['manila_tempest_tests/tests/api/test_rules.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5d95a13b89e7111139a4b0ca9bd2f3bac03969ab', 'message': ""Fix incorrect cephfs related test skip logic\n\nA couple of access rules tests check the API version\nbeing tested and skip if the cephx access type is\nnot supported by the API. cephx access type has\nbeen supported since API version 2.13.\n\nThe test skip logic however is incorrect, and it\nskips tests for all api versions less than 2.13\neven when the protocol being tested isn't cephfs.\n\nFixing the incorrect skip logic unearths other\ncode bugs.\n\nChange-Id: Id61756433e562d4bf23cc0878f95ed2f26b7ebb4\n""}]",0,802646,5d95a13b89e7111139a4b0ca9bd2f3bac03969ab,4,0,2,16643,,,0,"Fix incorrect cephfs related test skip logic

A couple of access rules tests check the API version
being tested and skip if the cephx access type is
not supported by the API. cephx access type has
been supported since API version 2.13.

The test skip logic however is incorrect, and it
skips tests for all api versions less than 2.13
even when the protocol being tested isn't cephfs.

Fixing the incorrect skip logic unearths other
code bugs.

Change-Id: Id61756433e562d4bf23cc0878f95ed2f26b7ebb4
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/46/802646/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_rules.py'],1,c75ba046429e92e3212db817f766112aebeb36e5,test-skips," self.protocol == 'cephfs'): if utils.is_microversion_le(version, '2.9'): self.protocol == 'cephfs'): self.shares_client, share[""id""], ""active"", self.shares_v2_client, share[""id""], ""active"","," CONF.share.enable_cephx_rules_for_protocols): if utils.is_microversion_eq(version, '2.9'): CONF.share.enable_cephx_rules_for_protocols): self.shares_client, self.share[""id""], ""active"", self.shares_v2_client, self.share[""id""], ""active"",",5,5
openstack%2Fsahara~master~I9919bdfa499c20cecc3518bfcd795f1402b09565,openstack/sahara,master,I9919bdfa499c20cecc3518bfcd795f1402b09565,Make the sahara-openstack-ansible-functional job voting again,NEW,2021-07-27 15:12:45.000000000,2021-07-28 01:18:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-27 15:12:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/4fd9592579337ba9327f1fdf04172c6edfc1cf2c', 'message': 'Make the sahara-openstack-ansible-functional job voting again\n\nChange-Id: I9919bdfa499c20cecc3518bfcd795f1402b09565\n'}]",0,802536,4fd9592579337ba9327f1fdf04172c6edfc1cf2c,4,1,1,9816,,,0,"Make the sahara-openstack-ansible-functional job voting again

Change-Id: I9919bdfa499c20cecc3518bfcd795f1402b09565
",git fetch https://review.opendev.org/openstack/sahara refs/changes/36/802536/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4fd9592579337ba9327f1fdf04172c6edfc1cf2c,volumev2-removal, - sahara-openstack-ansible-functional - sahara-openstack-ansible-functional, - sahara-openstack-ansible-functional: voting: false - sahara-openstack-ansible-functional: voting: false,2,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ic56b7f6ff74659e7da804dca9e59987d79ba5373,openstack/tripleo-upgrade,stable/train,Ic56b7f6ff74659e7da804dca9e59987d79ba5373,Stop the upgrade script if some of the commands fail.,MERGED,2021-07-23 10:42:09.000000000,2021-07-28 00:37:40.000000000,2021-07-28 00:37:40.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-23 10:42:09.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/579e53db37c51901b60460f01e8ecf9ad6248b71', 'message': ""Stop the upgrade script if some of the commands fail.\n\nCurrently in the overcloud_system_upgrade and overcloud_upgrade_run\nscripts if one of the commands fail the execution continue. This\nthen leads into unexpected errors, as the command previously executed\ndidn't succeed.\n\nThis patch checks the return code of the command and exits if it failed.\n\nChange-Id: Ic56b7f6ff74659e7da804dca9e59987d79ba5373\n""}]",0,802002,579e53db37c51901b60460f01e8ecf9ad6248b71,11,6,1,26343,,,0,"Stop the upgrade script if some of the commands fail.

Currently in the overcloud_system_upgrade and overcloud_upgrade_run
scripts if one of the commands fail the execution continue. This
then leads into unexpected errors, as the command previously executed
didn't succeed.

This patch checks the return code of the command and exits if it failed.

Change-Id: Ic56b7f6ff74659e7da804dca9e59987d79ba5373
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/02/802002/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2']",2,579e53db37c51901b60460f01e8ecf9ad6248b71,,"if [ $? -ne 0 ]; then echo ""[$(date)] Failed ceph systemd units migration run for {{ hosts }}"" exit 1 else echo ""[$(date)] Finished ceph systemd units migration run for {{ hosts }}"" fi ","echo ""[$(date)] Finished ceph systemd units migration run for {{ hosts }}""",33,4
openstack%2Ftripleo-validations~stable%2Fvictoria~I3a54abe72a68da04c57c05a71e4eace93225f058,openstack/tripleo-validations,stable/victoria,I3a54abe72a68da04c57c05a71e4eace93225f058,Corrected the task 'Get file_descriptors total_limit' to get the 'fs.file-max' value.,MERGED,2021-07-26 09:45:59.000000000,2021-07-28 00:01:15.000000000,2021-07-27 00:33:59.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 30075}]","[{'number': 1, 'created': '2021-07-26 09:45:59.000000000', 'files': ['roles/rabbitmq_limits/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f9dcec50cf8ce6bac82984a6b4b0a99f50932006', 'message': ""Corrected the task 'Get file_descriptors total_limit' to get the\n'fs.file-max' value.\n\nCloses-Bug: #1934656\nChange-Id: I3a54abe72a68da04c57c05a71e4eace93225f058\n(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)\n""}]",0,802248,f9dcec50cf8ce6bac82984a6b4b0a99f50932006,7,3,1,32926,,,0,"Corrected the task 'Get file_descriptors total_limit' to get the
'fs.file-max' value.

Closes-Bug: #1934656
Change-Id: I3a54abe72a68da04c57c05a71e4eace93225f058
(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/48/802248/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/rabbitmq_limits/tasks/main.yml'],1,f9dcec50cf8ce6bac82984a6b4b0a99f50932006,, sysctl -n fs.file-max," rabbitmqctl eval 'proplists:get_value(max_fds, erlang:system_info(check_io)).'",1,1
openstack%2Fproject-config~master~I3c3cf29d1dd067b0213a2c22037449b40c016e13,openstack/project-config,master,I3c3cf29d1dd067b0213a2c22037449b40c016e13,"Revert ""nodepool: pause centos-8-stream builds""",MERGED,2021-07-27 20:56:20.000000000,2021-07-27 23:58:07.000000000,2021-07-27 23:22:23.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 20:56:20.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f5701dbd81567b9c94108e8c3e6668b8984b5a13', 'message': 'Revert ""nodepool: pause centos-8-stream builds""\n\nThis reverts commit 813542fabd0f9563283833b9d455ea070b24b79c.\n\nThe original issue with the build hanging during package extraction is\nfixed in DIB 3.13.0 with\n\n https://review.opendev.org/c/openstack/diskimage-builder/+/799126\n\nwhich is now on builders.\n\nChange-Id: I3c3cf29d1dd067b0213a2c22037449b40c016e13\n'}]",0,802619,f5701dbd81567b9c94108e8c3e6668b8984b5a13,9,3,1,7118,,,0,"Revert ""nodepool: pause centos-8-stream builds""

This reverts commit 813542fabd0f9563283833b9d455ea070b24b79c.

The original issue with the build hanging during package extraction is
fixed in DIB 3.13.0 with

 https://review.opendev.org/c/openstack/diskimage-builder/+/799126

which is now on builders.

Change-Id: I3c3cf29d1dd067b0213a2c22037449b40c016e13
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/802619/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,f5701dbd81567b9c94108e8c3e6668b8984b5a13,centos-8-unpause, pause: false, pause: true,1,1
openstack%2Ftripleo-validations~master~Ia068957eed5e868b40c2386e3844d7a51bf61bb6,openstack/tripleo-validations,master,Ia068957eed5e868b40c2386e3844d7a51bf61bb6,[validation_init] Add ability to create new validation w/o molecule test,MERGED,2021-07-20 20:45:02.000000000,2021-07-27 23:52:30.000000000,2021-07-27 23:51:10.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-20 20:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6cc11ae617e8e17178a9a51b90d78af4dd72b17a', 'message': '[validation_init] Add ability to create new validation w/o molecule test\n\nThis patch adds a new variable called `validation_init_molecule` to the\n`validation_init` role in order to create a new validation with or\nwithout Molecule test.\n\nIf sets to `false` (by default `true`), the molecule directory for the\nnew role will be removed and no CI Job will be added into the\nzuul.d/molecule.yaml file.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia068957eed5e868b40c2386e3844d7a51bf61bb6\n'}, {'number': 2, 'created': '2021-07-22 09:28:10.000000000', 'files': ['roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/molecule/no_molecule_test/molecule.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/tasks/main.yml', 'roles/validation_init/resources/playbooks/prepare.yml', 'doc/source/contributing/developer_guide.rst', 'roles/validation_init/molecule/no_molecule_test/converge.yml', 'roles/validation_init/molecule/no_molecule_test/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8f43cce4ee5cd06190b1d3f82d9498dbc1abbdc5', 'message': '[validation_init] Add ability to create new validation w/o molecule test\n\nThis patch adds a new variable called `validation_init_molecule` to the\n`validation_init` role in order to create a new validation with or\nwithout Molecule test.\n\nIf sets to `false` (by default `true`), the molecule directory for the\nnew role will be removed and no CI Job will be added into the\nzuul.d/molecule.yaml file.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia068957eed5e868b40c2386e3844d7a51bf61bb6\n'}]",0,801533,8f43cce4ee5cd06190b1d3f82d9498dbc1abbdc5,12,10,2,11491,,,0,"[validation_init] Add ability to create new validation w/o molecule test

This patch adds a new variable called `validation_init_molecule` to the
`validation_init` role in order to create a new validation with or
without Molecule test.

If sets to `false` (by default `true`), the molecule directory for the
new role will be removed and no CI Job will be added into the
zuul.d/molecule.yaml file.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ia068957eed5e868b40c2386e3844d7a51bf61bb6
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/33/801533/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst']",4,6cc11ae617e8e17178a9a51b90d78af4dd72b17a,VALIDATION_DEVELOPMENT_WORKFLOW,".. note:: Adding `Molecule` test is highly recommended but remains **optional**. Some validations might require a real OpenStack Infrastructure in order to run them and this, by definition, will make the `Molecule` test very complex to implement. If you are in this case when creating a new validation, please add `-e validation_init_molecule=false` to the above `ansible-playbook` command. No molecule directory and no CI Job will be created.",,23,15
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id9c141b19383505c1a95948823722822b814bde1,openstack/tripleo-heat-templates,stable/train,Id9c141b19383505c1a95948823722822b814bde1,[train-only] Add the ability to remove leapp actors,MERGED,2021-07-22 12:35:59.000000000,2021-07-27 23:52:28.000000000,2021-07-27 23:51:13.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-22 12:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/deda9317b3b68d18df7081b900a9ef58ce6536f4', 'message': '[train-only] Add the ability to remove leapp actors\n\nIt may be necessary to remove specific actors from the leapp\nprocess to unblock the upgrades. An example included in this\npatch is the persistentnetnamesdisable which needs to be\nremoved in order to prevent requiring a reboot after renaming\nthe network interfaces.\n\nIn this patch we add the ability to define actors to be removed\njust before running leapp. The hook is role-specific to allow\nmaximum flexibility.\n\nResolves: rhbz#1984875\n\nChange-Id: Id9c141b19383505c1a95948823722822b814bde1\n'}, {'number': 2, 'created': '2021-07-22 12:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94290f02e0d92e83c7586cbd8b717526220ccefb', 'message': '[train-only] Add the ability to remove leapp actors\n\nIt may be necessary to remove specific actors from the leapp\nprocess to unblock the upgrades. An example included in this\npatch is the persistentnetnamesdisable which needs to be\nremoved in order to prevent requiring a reboot after renaming\nthe network interfaces.\n\nIn this patch we add the ability to define actors to be removed\njust before running leapp. The hook is role-specific to allow\nmaximum flexibility.\n\nResolves: rhbz#1984875\n\nChange-Id: Id9c141b19383505c1a95948823722822b814bde1\n'}, {'number': 3, 'created': '2021-07-22 12:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8620b2f20ddd8b92a3d97f4149882790910e92de', 'message': '[train-only] Add the ability to remove leapp actors\n\nIt may be necessary to remove specific actors from the leapp\nprocess to unblock the upgrades. An example included in this\npatch is the persistentnetnamesdisable which needs to be\nremoved in order to prevent requiring a reboot after renaming\nthe network interfaces.\n\nIn this patch we add the ability to define actors to be removed\njust before running leapp. The hook is role-specific to allow\nmaximum flexibility.\n\nResolves: rhbz#1984875\n\nChange-Id: Id9c141b19383505c1a95948823722822b814bde1\n'}, {'number': 4, 'created': '2021-07-22 12:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd9492d323b4b3e06edb43ead1526bb1e03d23a4', 'message': '[train-only] Add the ability to remove leapp actors\n\nIt may be necessary to remove specific actors from the leapp\nprocess to unblock the upgrades. An example included in this\npatch is the persistentnetnamesdisable which needs to be\nremoved in order to prevent requiring a reboot after renaming\nthe network interfaces.\n\nIn this patch we add the ability to define actors to be removed\njust before running leapp. The hook is role-specific to allow\nmaximum flexibility.\n\nResolves: rhbz#1984875\n\nChange-Id: Id9c141b19383505c1a95948823722822b814bde1\n'}, {'number': 5, 'created': '2021-07-23 12:06:27.000000000', 'files': ['releasenotes/notes/LeappActorsToRemove-0238894e48aebbef.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba8b010d6c859dc88206ee3389c621eacbce9914', 'message': '[train-only] Add the ability to remove leapp actors\n\nIt may be necessary to remove specific actors from the leapp\nprocess to unblock the upgrades. An example included in this\npatch is the persistentnetnamesdisable which needs to be\nremoved in order to prevent requiring a reboot after renaming\nthe network interfaces.\n\nIn this patch we add the ability to define actors to be removed\njust before running leapp. The hook is role-specific to allow\nmaximum flexibility.\n\nResolves: rhbz#1984875\n\nChange-Id: Id9c141b19383505c1a95948823722822b814bde1\n'}]",2,801777,ba8b010d6c859dc88206ee3389c621eacbce9914,21,7,5,6816,,,0,"[train-only] Add the ability to remove leapp actors

It may be necessary to remove specific actors from the leapp
process to unblock the upgrades. An example included in this
patch is the persistentnetnamesdisable which needs to be
removed in order to prevent requiring a reboot after renaming
the network interfaces.

In this patch we add the ability to define actors to be removed
just before running leapp. The hook is role-specific to allow
maximum flexibility.

Resolves: rhbz#1984875

Change-Id: Id9c141b19383505c1a95948823722822b814bde1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/801777/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,deda9317b3b68d18df7081b900a9ef58ce6536f4,," LeappActorsToRemove: type: comma_delimited_list default: ['persistentnetnamesdisable'] description: | List of actors to remove from the leapp process to prevent them from inhibiting the upgrade. tags: - role_specific upgrade_leapp_actors_to_remove: LeappActorsToRemove LeappActorsToRemove: {get_param: LeappActorsToRemove} - name: Remove leapp actors to prevent them inhibiting the upgrade vars: actors_to_remove: { get_attr: [RoleParametersValue, value, 'upgrade_leapp_actors_to_remove']} file: path: /usr/share/leapp-repository/repositories/system_upgrade/el7toel8/actors/{{ item }}/actor.py state: absent loop: ""{{ actors_to_remove }}""",,17,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I50b81937698098141045841aec59c04ee88f5b0f,openstack/tripleo-heat-templates,stable/victoria,I50b81937698098141045841aec59c04ee88f5b0f,Remove all docker related tasks from upgrades,MERGED,2021-07-26 14:18:58.000000000,2021-07-27 23:51:16.000000000,2021-07-27 23:51:16.000000000,"[{'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-26 14:18:58.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b12f83424822e44460b2a9909c1851451e7ffab', 'message': 'Remove all docker related tasks from upgrades\n\nChange-Id: I50b81937698098141045841aec59c04ee88f5b0f\n'}]",0,802214,7b12f83424822e44460b2a9909c1851451e7ffab,7,5,1,10969,,,0,"Remove all docker related tasks from upgrades

Change-Id: I50b81937698098141045841aec59c04ee88f5b0f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/802214/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,7b12f83424822e44460b2a9909c1851451e7ffab,,, - name: Stop all services by stopping all docker containers include_role: name: tripleo_podman tasks_from: tripleo_docker_stop.yml tags: - never - system_upgrade - system_upgrade_prepare - name: Purge everything about docker on the host when: - (step | int) == 3 include_role: name: tripleo_podman tasks_from: tripleo_docker_purge.yml - name: Stop docker include_role: name: tripleo_podman tasks_from: tripleo_docker_stop.yml ,0,20
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,openstack/tripleo-heat-templates,stable/ussuri,I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,Add OVNCMSOptions to Controller and Networker roles,MERGED,2021-06-09 04:09:23.000000000,2021-07-27 23:51:08.000000000,2021-07-27 23:51:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 04:09:23.000000000', 'files': ['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e084314d50cc278885a19171001f2d199d98cfde', 'message': 'Add OVNCMSOptions to Controller and Networker roles\n\nOVN is a default networking service for Neutron.\nThe default configurations for OVN were implemented but OVNCMSOptions\nwas missing.\nThis change introduces OVNCMSOptions to Controller and Networker roles.\n\nCloses-Bug: #1928901\nChange-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2\n(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)\n(cherry picked from commit e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2)\n(cherry picked from commit 8c796f4f1c25ae2fd045ba54cc3e92abde6e9b85)\n'}]",0,795453,e084314d50cc278885a19171001f2d199d98cfde,17,4,1,25613,,,0,"Add OVNCMSOptions to Controller and Networker roles

OVN is a default networking service for Neutron.
The default configurations for OVN were implemented but OVNCMSOptions
was missing.
This change introduces OVNCMSOptions to Controller and Networker roles.

Closes-Bug: #1928901
Change-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2
(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)
(cherry picked from commit e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2)
(cherry picked from commit 8c796f4f1c25ae2fd045ba54cc3e92abde6e9b85)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/795453/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml']",11,e084314d50cc278885a19171001f2d199d98cfde,add_OVNCMSOption_to_roles-stable/wallaby-stable/victoria-stable/ussuri," RoleParametersDefault: OVNCMSOptions: ""enable-chassis-as-gw""",,22,0
openstack%2Ftripleo-heat-templates~master~Id3356cdac42d84282014e2e22163bc0ffd825df5,openstack/tripleo-heat-templates,master,Id3356cdac42d84282014e2e22163bc0ffd825df5,nova-compute: Adding failed_when to nova-compute stop task,MERGED,2021-06-09 00:58:20.000000000,2021-07-27 23:51:03.000000000,2021-07-27 23:51:03.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 00:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40b67f20ebe8b1b271e01586964d8b2898b7b0ed', 'message': ""nova-compute: Adding failed_when to nova-compute stop task\n\nWhen deleting a partially deployed node, the deletion fails as well\nbecause the nova_compute service isn't provisioned. At this point, we don't\ncare much if the service should be present or not, we don't want an\nadditonnal failure.\n\nChange-Id: Id3356cdac42d84282014e2e22163bc0ffd825df5\n""}, {'number': 2, 'created': '2021-06-09 12:59:25.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed320d8a7d8d244fc5aa4a2147170f534e669836', 'message': ""nova-compute: Adding failed_when to nova-compute stop task\n\nWhen deleting a partially deployed node, the deletion fails as well\nbecause the nova_compute service isn't provisioned. At this point, we don't\ncare much if the service should be present or not, we don't want an\nadditonnal failure.\n\nChange-Id: Id3356cdac42d84282014e2e22163bc0ffd825df5\n""}]",2,795430,ed320d8a7d8d244fc5aa4a2147170f534e669836,14,6,2,27419,,,0,"nova-compute: Adding failed_when to nova-compute stop task

When deleting a partially deployed node, the deletion fails as well
because the nova_compute service isn't provisioned. At this point, we don't
care much if the service should be present or not, we don't want an
additonnal failure.

Change-Id: Id3356cdac42d84282014e2e22163bc0ffd825df5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/795430/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,40b67f20ebe8b1b271e01586964d8b2898b7b0ed,," failed_when: ""('msg' in stop_nova_compute and 'Could not find the requested service tripleo_nova_compute' not in stop_nova_compute.msg) or ('rc' in stop_nova_compute and stop_nova_compute.rc != 0)""",,3,0
openstack%2Ftripleo-heat-templates~master~I8b86d2786e7a0bfd43217dcbccb8bc98aade7d2e,openstack/tripleo-heat-templates,master,I8b86d2786e7a0bfd43217dcbccb8bc98aade7d2e,Neutron: Use placement user to talk with Placement service,MERGED,2021-06-07 12:55:59.000000000,2021-07-27 23:50:59.000000000,2021-07-27 23:50:59.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-07 12:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06e6f77ca3f435c75b1505d7da2a3667d9600d17', 'message': 'Neutron: Use placement user to talk with Placement service\n\nCurrently in TripleO deployments the corresponding service user is used\nto communicate with a different service.\nTo follow that basic rule, neutron should use the placement user\ninstead of the nova user, considering the placement service is now\nindependent from nova.\n\nChange-Id: I8b86d2786e7a0bfd43217dcbccb8bc98aade7d2e\n'}, {'number': 2, 'created': '2021-06-26 16:52:11.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a96f333fa66069394e86592a65c025cc5ce3c117', 'message': 'Neutron: Use placement user to talk with Placement service\n\nCurrently in TripleO deployments the corresponding service user is used\nto communicate with a different service.\nTo follow that basic rule, neutron should use the placement user\ninstead of the nova user, considering the placement service is now\nindependent from nova.\n\nChange-Id: I8b86d2786e7a0bfd43217dcbccb8bc98aade7d2e\n'}]",0,795099,a96f333fa66069394e86592a65c025cc5ce3c117,15,8,2,9816,,,0,"Neutron: Use placement user to talk with Placement service

Currently in TripleO deployments the corresponding service user is used
to communicate with a different service.
To follow that basic rule, neutron should use the placement user
instead of the nova user, considering the placement service is now
independent from nova.

Change-Id: I8b86d2786e7a0bfd43217dcbccb8bc98aade7d2e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/795099/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,06e6f77ca3f435c75b1505d7da2a3667d9600d17,placement-user, PlacementPassword: description: The password for the Placement service and db account type: string hidden: true neutron::server::placement::password: {get_param: PlacementPassword} neutron::server::placement::username: placement, neutron::server::placement::password: {get_param: NovaPassword} neutron::server::placement::username: nova,6,2
openstack%2Ftripleo-heat-templates~master~I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f,openstack/tripleo-heat-templates,master,I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f,Nova: Remove useless authtoken hieradata from computes,MERGED,2021-06-07 01:48:32.000000000,2021-07-27 23:50:55.000000000,2021-07-27 23:50:55.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-07 01:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa4c040302148f535749e819fbebf9d8875822e1', 'message': 'Nova: Remove useless authtoken hieradata from computes\n\nThe change e677aeacd706674762751f8b530ad08d6d925910 added authtoken\nparameters to nova-compute because nova::metadata was added to\nthe compute class, but that inclusion was removed later by another\ncommit 287b1b6ce77fe143d781ccd1b900c3bdbe6ada87 .\n\nDepends-on: https://review.opendev.org/762415\nChange-Id: I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f\n'}, {'number': 2, 'created': '2021-06-07 01:51:37.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fcac503da3fd293542316096a5049051d8d0839f', 'message': 'Nova: Remove useless authtoken hieradata from computes\n\nThe change e677aeacd706674762751f8b530ad08d6d925910 added authtoken\nparameters to nova-compute because nova::metadata was added to\nthe compute class, but that inclusion was removed later by another\ncommit 287b1b6ce77fe143d781ccd1b900c3bdbe6ada87 .\n\nDepends-on: https://review.opendev.org/762415\nChange-Id: I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f\n'}]",0,795011,fcac503da3fd293542316096a5049051d8d0839f,11,8,2,9816,,,0,"Nova: Remove useless authtoken hieradata from computes

The change e677aeacd706674762751f8b530ad08d6d925910 added authtoken
parameters to nova-compute because nova::metadata was added to
the compute class, but that inclusion was removed later by another
commit 287b1b6ce77fe143d781ccd1b900c3bdbe6ada87 .

Depends-on: https://review.opendev.org/762415
Change-Id: I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/795011/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,aa4c040302148f535749e819fbebf9d8875822e1,compute-at,," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true NovaPassword: description: The password for the nova service and db account type: string hidden: true nova::keystone::authtoken::project_name: 'service' nova::keystone::authtoken::user_domain_name: 'Default' nova::keystone::authtoken::project_domain_name: 'Default' nova::keystone::authtoken::password: {get_param: NovaPassword} nova::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} nova::keystone::authtoken::region_name: {get_param: KeystoneRegion} nova::keystone::authtoken::interface: 'internal'",0,16
openstack%2Fnova~master~I5291fb03d62374df1ebed8ac5b8096c5fbb6690d,openstack/nova,master,I5291fb03d62374df1ebed8ac5b8096c5fbb6690d,compute: Add type hints for resize functions,NEW,2020-08-07 14:07:07.000000000,2021-07-27 23:27:33.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-07 14:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccf296814e3123919c7eb8ed8165fe5d6336a42e', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-08-11 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8533dfd999e5823ba33927fef0cd32a6e053cffe', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-19 17:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/057adda78134dfc73d407f787c0118dc230b5a1e', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-08-19 19:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fe362c0c0d8108e7af125764f250e98d9e43e08', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-08-24 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abb54a38e5cc103b3574f6b40f03488fae076361', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-25 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1aae7a5554168231329aa8cdc556630b43eeddb', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-08-26 09:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70fadd38972b883272279fa9e598c06bbd44b393', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-09-03 08:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f78b5ddf452d59e763cbd2920b8123ea3f3f1887', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2021-07-27 15:29:52.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92b99a616d0c0b472912768a8b1e0c4e96e77326', 'message': ""compute: Add type hints for resize functions\n\nThis is split out of change I4760b01b695c94fa371b72216d398388cf981d28,\nwhich is intended as a backportable fix. The only unusual thing here is\nthe removal of some parameters for an inner function in favour of the\n'nonlocal' keyword. More information at [1].\n\n[1] https://stackoverflow.com/a/46018922/613428\n\nChange-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,745341,92b99a616d0c0b472912768a8b1e0c4e96e77326,89,15,9,15334,,,0,"compute: Add type hints for resize functions

This is split out of change I4760b01b695c94fa371b72216d398388cf981d28,
which is intended as a backportable fix. The only unusual thing here is
the removal of some parameters for an inner function in favour of the
'nonlocal' keyword. More information at [1].

[1] https://stackoverflow.com/a/46018922/613428

Change-Id: I5291fb03d62374df1ebed8ac5b8096c5fbb6690d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/745341/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,ccf296814e3123919c7eb8ed8165fe5d6336a42e,bug/1879878," def confirm_resize( self, context: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: def do_confirm_resize() -> None: nonlocal instance context, instance.uuid, expected_attrs=expected_attrs) do_confirm_resize() def _confirm_resize( self, context: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: def _delete_stashed_migration_information( self, instance: 'objects.Instance', ) -> None: self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: def do_confirm() -> None: self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: def revert_snapshot_based_resize_at_dest( self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: def do_revert() -> None: self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: def _revert_instance_flavor_host_node( self, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: def do_revert() -> None: self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ) -> None: def revert_resize( self, context: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', request_spec: ty.Optional['objects.RequestSpec'] = None, ) -> None: self, context: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', request_spec: ty.Optional['objects.RequestSpec'] = None, ) -> None:"," def confirm_resize(self, context, instance, migration): def do_confirm_resize(context, instance, migration): context, instance.uuid, expected_attrs=expected_attrs) do_confirm_resize(context, instance, migration) def _confirm_resize(self, context, instance, migration=None): def _delete_stashed_migration_information(self, instance): self, ctxt, instance, migration): def do_confirm(): self, ctxt, instance, migration): def revert_snapshot_based_resize_at_dest(self, ctxt, instance, migration): def do_revert(): self, ctxt, instance, migration): def _revert_instance_flavor_host_node(self, instance, migration): self, ctxt, instance, migration): def do_revert(): self, ctxt, instance, migration): def revert_resize(self, context, instance, migration, request_spec=None): self, context, instance, migration, request_spec=None):",70,19
openstack%2Ftripleo-validations~stable%2Fwallaby~I3a54abe72a68da04c57c05a71e4eace93225f058,openstack/tripleo-validations,stable/wallaby,I3a54abe72a68da04c57c05a71e4eace93225f058,Corrected the task 'Get file_descriptors total_limit' to get the 'fs.file-max' value.,MERGED,2021-07-26 09:42:24.000000000,2021-07-27 23:24:08.000000000,2021-07-27 00:34:01.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 30075}]","[{'number': 1, 'created': '2021-07-26 09:42:24.000000000', 'files': ['roles/rabbitmq_limits/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c4f0f77f048d03b886545dc13bdddded88c11f04', 'message': ""Corrected the task 'Get file_descriptors total_limit' to get the\n'fs.file-max' value.\n\nCloses-Bug: #1934656\nChange-Id: I3a54abe72a68da04c57c05a71e4eace93225f058\n(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)\n""}]",0,802247,c4f0f77f048d03b886545dc13bdddded88c11f04,7,3,1,32926,,,0,"Corrected the task 'Get file_descriptors total_limit' to get the
'fs.file-max' value.

Closes-Bug: #1934656
Change-Id: I3a54abe72a68da04c57c05a71e4eace93225f058
(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/47/802247/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/rabbitmq_limits/tasks/main.yml'],1,c4f0f77f048d03b886545dc13bdddded88c11f04,, sysctl -n fs.file-max, rabbitmqctl eval 'sysctl -n fs.file-max',1,1
openstack%2Ftrove~stable%2Fwallaby~I235e2abf8c0405e143ded6fb48017d596b8b41a1,openstack/trove,stable/wallaby,I235e2abf8c0405e143ded6fb48017d596b8b41a1,Add periodic task to remove postgres archived wal files,MERGED,2021-07-27 08:29:36.000000000,2021-07-27 23:04:45.000000000,2021-07-27 23:03:23.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 08:29:36.000000000', 'files': ['trove/tests/unittests/guestagent/datastore/__init__.py', 'doc/source/admin/index.rst', 'trove/guestagent/common/operating_system.py', 'trove/tests/unittests/guestagent/datastore/postgres/__init__.py', 'backup/drivers/postgres.py', 'releasenotes/notes/wallaby-fix-backup-custom-image-registry.yaml', 'releasenotes/notes/wallaby-fix-postgresql-wal-archive-size.yaml', 'releasenotes/notes/wallaby-container-bridge-network.yaml', 'doc/source/user/backup-db.rst', 'trove/guestagent/datastore/service.py', 'trove/tests/unittests/guestagent/datastore/postgres/test_manager.py', 'trove/guestagent/datastore/postgres/manager.py', 'doc/source/admin/database_management.rst', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/common/cfg.py', 'trove/tests/unittests/guestagent/__init__.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f0315edf2a8bbd52bfa2e5d186a39fceeb79b772', 'message': 'Add periodic task to remove postgres archived wal files\n\n* Added a periodic task for postgresql datastore to clean up the\n  archived WAL files.\n* Added a check when creating incremental backups for postgresql.\n* A new container image ``openstacktrove/db-backup-postgresql:1.1.2``\n  is uploaded to docker hub.\n\nStory: 2009066\nTask: 42871\nChange-Id: I235e2abf8c0405e143ded6fb48017d596b8b41a1\n(cherry-picked from commit 02971d850b57ac27a126ecb8ca4012f97ae856fd)\n'}]",0,802435,f0315edf2a8bbd52bfa2e5d186a39fceeb79b772,7,2,1,6732,,,0,"Add periodic task to remove postgres archived wal files

* Added a periodic task for postgresql datastore to clean up the
  archived WAL files.
* Added a check when creating incremental backups for postgresql.
* A new container image ``openstacktrove/db-backup-postgresql:1.1.2``
  is uploaded to docker hub.

Story: 2009066
Task: 42871
Change-Id: I235e2abf8c0405e143ded6fb48017d596b8b41a1
(cherry-picked from commit 02971d850b57ac27a126ecb8ca4012f97ae856fd)
",git fetch https://review.opendev.org/openstack/trove refs/changes/35/802435/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/guestagent/datastore/__init__.py', 'doc/source/admin/index.rst', 'trove/guestagent/common/operating_system.py', 'trove/tests/unittests/guestagent/datastore/postgres/__init__.py', 'backup/drivers/postgres.py', 'releasenotes/notes/wallaby-fix-backup-custom-image-registry.yaml', 'releasenotes/notes/wallaby-fix-postgresql-wal-archive-size.yaml', 'releasenotes/notes/wallaby-container-bridge-network.yaml', 'doc/source/user/backup-db.rst', 'trove/guestagent/datastore/service.py', 'trove/tests/unittests/guestagent/datastore/postgres/test_manager.py', 'trove/guestagent/datastore/postgres/manager.py', 'doc/source/admin/database_management.rst', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/common/cfg.py', 'trove/tests/unittests/guestagent/__init__.py']",18,f0315edf2a8bbd52bfa2e5d186a39fceeb79b772,wallaby-psql-wal,,,332,36
openstack%2Fmagnum~master~Iae4258a241f16cc0be2f8264bb5c200e77a3c890,openstack/magnum,master,Iae4258a241f16cc0be2f8264bb5c200e77a3c890,DNM: Testing GLANCE_LIMIT_IMAGE_SIZE_TOTAL=5000,ABANDONED,2021-07-27 15:25:17.000000000,2021-07-27 22:42:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-27 15:25:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bedd6d7f85c7c1e41d1da2bfcc8a92c1738514c2', 'message': 'DNM: Testing GLANCE_LIMIT_IMAGE_SIZE_TOTAL=5000\n\nChange-Id: Iae4258a241f16cc0be2f8264bb5c200e77a3c890\n'}]",0,802542,bedd6d7f85c7c1e41d1da2bfcc8a92c1738514c2,5,1,1,9816,,,0,"DNM: Testing GLANCE_LIMIT_IMAGE_SIZE_TOTAL=5000

Change-Id: Iae4258a241f16cc0be2f8264bb5c200e77a3c890
",git fetch https://review.opendev.org/openstack/magnum refs/changes/42/802542/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bedd6d7f85c7c1e41d1da2bfcc8a92c1738514c2,bug/1938151, GLANCE_LIMIT_IMAGE_SIZE_TOTAL: 5000, GLANCE_ENABLE_QUOTAS: false,1,1
openstack%2Fnova~master~I865610c924d903cfafc049f0f2b9ab21b95a780b,openstack/nova,master,I865610c924d903cfafc049f0f2b9ab21b95a780b,trivial: Remove FakeScheduler (for realz),MERGED,2021-02-02 11:28:48.000000000,2021-07-27 22:03:00.000000000,2021-07-27 22:00:00.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0551da59e6b60b43af728d91bf72dc3c0b9e1eee', 'message': ""trivial: Remove FakeScheduler (for realz)\n\nChange I61c1a47559645c41089747cc81270848b58b68f9 purported to remove the\nunnecessary 'FakeScheduler', however, deleting the actual class never\nhappened. Do that now.\n\nChange-Id: I865610c924d903cfafc049f0f2b9ab21b95a780b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d716bdeb2e26ea8d25ec4f574434620b609f543', 'message': ""trivial: Remove FakeScheduler (for realz)\n\nChange I61c1a47559645c41089747cc81270848b58b68f9 purported to remove the\nunnecessary 'FakeScheduler', however, deleting the actual class never\nhappened. Do that now.\n\nChange-Id: I865610c924d903cfafc049f0f2b9ab21b95a780b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-26 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/568e586c4165ee67b25ac880a818985ea9652112', 'message': ""trivial: Remove FakeScheduler (for realz)\n\nChange I61c1a47559645c41089747cc81270848b58b68f9 purported to remove the\nunnecessary 'FakeScheduler', however, deleting the actual class never\nhappened. Do that now.\n\nChange-Id: I865610c924d903cfafc049f0f2b9ab21b95a780b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fe4924a6059e9acb6bf6b8d53eabcc31253c800', 'message': ""trivial: Remove FakeScheduler (for realz)\n\nChange I61c1a47559645c41089747cc81270848b58b68f9 purported to remove the\nunnecessary 'FakeScheduler', however, deleting the actual class never\nhappened. Do that now.\n\nChange-Id: I865610c924d903cfafc049f0f2b9ab21b95a780b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-06-29 15:58:32.000000000', 'files': ['nova/tests/unit/scheduler/fakes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6d745036bc98cac674d2740dc20c2029dc201522', 'message': ""trivial: Remove FakeScheduler (for realz)\n\nChange I61c1a47559645c41089747cc81270848b58b68f9 purported to remove the\nunnecessary 'FakeScheduler', however, deleting the actual class never\nhappened. Do that now.\n\nChange-Id: I865610c924d903cfafc049f0f2b9ab21b95a780b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,773642,6d745036bc98cac674d2740dc20c2029dc201522,33,6,5,15334,,,0,"trivial: Remove FakeScheduler (for realz)

Change I61c1a47559645c41089747cc81270848b58b68f9 purported to remove the
unnecessary 'FakeScheduler', however, deleting the actual class never
happened. Do that now.

Change-Id: I865610c924d903cfafc049f0f2b9ab21b95a780b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/773642/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/scheduler/fakes.py'],1,0551da59e6b60b43af728d91bf72dc3c0b9e1eee,remove-custom-schedulers,,"from nova.scheduler import driver class FakeScheduler(driver.Scheduler): def select_destinations(self, context, spec_obj, instance_uuids, alloc_reqs_by_rp_uuid, provider_summaries, allocation_request_version=None, return_alternates=False): return []",0,9
openstack%2Fnova~master~I5c009b2cf5d64d28c706795de06c0ea1dedf054b,openstack/nova,master,I5c009b2cf5d64d28c706795de06c0ea1dedf054b,scheduler: Remove 'hosts_up',MERGED,2021-02-02 11:28:48.000000000,2021-07-27 22:01:20.000000000,2021-07-27 21:59:52.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/456fa0699e9695915cfde6e42886a5d20241e79e', 'message': ""scheduler: Remove 'hosts_up'\n\nThis hasn't had any users since we removed the 'ChanceScheduler' in\nchange I44f9c1cabf9fc64b1a6903236bc88f5ed8619e9e.\n\nChange-Id: I5c009b2cf5d64d28c706795de06c0ea1dedf054b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fb41874b0eb45b393fc06b17c5d7b392c6806b9', 'message': ""scheduler: Remove 'hosts_up'\n\nThis hasn't had any users since we removed the 'ChanceScheduler' in\nchange I44f9c1cabf9fc64b1a6903236bc88f5ed8619e9e.\n\nChange-Id: I5c009b2cf5d64d28c706795de06c0ea1dedf054b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-26 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/199493b269b01e1203245a0ed0849452114c222f', 'message': ""scheduler: Remove 'hosts_up'\n\nThis hasn't had any users since we removed the 'ChanceScheduler' in\nchange I44f9c1cabf9fc64b1a6903236bc88f5ed8619e9e.\n\nChange-Id: I5c009b2cf5d64d28c706795de06c0ea1dedf054b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14d788392278573d231187b69eae5b040c16029b', 'message': ""scheduler: Remove 'hosts_up'\n\nThis hasn't had any users since we removed the 'ChanceScheduler' in\nchange I44f9c1cabf9fc64b1a6903236bc88f5ed8619e9e.\n\nChange-Id: I5c009b2cf5d64d28c706795de06c0ea1dedf054b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-06-29 15:58:32.000000000', 'files': ['nova/scheduler/driver.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4b47047837361a5a1ea80479dcfc634cca59286', 'message': ""scheduler: Remove 'hosts_up'\n\nThis hasn't had any users since we removed the 'ChanceScheduler' in\nchange I44f9c1cabf9fc64b1a6903236bc88f5ed8619e9e.\n\nChange-Id: I5c009b2cf5d64d28c706795de06c0ea1dedf054b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,773641,c4b47047837361a5a1ea80479dcfc634cca59286,42,5,5,15334,,,0,"scheduler: Remove 'hosts_up'

This hasn't had any users since we removed the 'ChanceScheduler' in
change I44f9c1cabf9fc64b1a6903236bc88f5ed8619e9e.

Change-Id: I5c009b2cf5d64d28c706795de06c0ea1dedf054b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/773641/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/driver.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py']",2,456fa0699e9695915cfde6e42886a5d20241e79e,remove-custom-schedulers,," @mock.patch('nova.objects.ServiceList.get_by_topic') @mock.patch('nova.servicegroup.API.service_is_up') def test_hosts_up(self, mock_service_is_up, mock_get_by_topic): service1 = objects.Service(host='host1') service2 = objects.Service(host='host2') services = objects.ServiceList(objects=[service1, service2]) mock_get_by_topic.return_value = services mock_service_is_up.side_effect = [False, True] result = self.driver.hosts_up(self.context, self.topic) self.assertEqual(result, ['host2']) mock_get_by_topic.assert_called_once_with(self.context, self.topic) calls = [mock.call(service1), mock.call(service2)] self.assertEqual(calls, mock_service_is_up.call_args_list) ",0,26
openstack%2Fnova~master~I1d2b51f5dd2ca75eb565ca5242cfdb938868bff9,openstack/nova,master,I1d2b51f5dd2ca75eb565ca5242cfdb938868bff9,scheduler: 'USES_ALLOCATION_CANDIDATES' removal cleanup,MERGED,2021-06-22 17:03:54.000000000,2021-07-27 21:26:57.000000000,2021-07-27 21:25:32.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efe24a999546aeb6fa42ebfa9a862c3afddcca44', 'message': ""scheduler: 'USES_ALLOCATION_CANDIDATES' removal cleanup\n\nFollow-up on change I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb by\nremoving additional code paths that are no longer relevant following the\nremoval of the 'USES_ALLOCATION_CANDIDATES' option. This is kept\nseparate from the aforementioned change to help keep both changes\nreadable.\n\nChange-Id: I1d2b51f5dd2ca75eb565ca5242cfdb938868bff9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-06-29 15:58:32.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/filter_scheduler.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b20753b313089fd20bec3198104bbeaece3cad41', 'message': ""scheduler: 'USES_ALLOCATION_CANDIDATES' removal cleanup\n\nFollow-up on change I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb by\nremoving additional code paths that are no longer relevant following the\nremoval of the 'USES_ALLOCATION_CANDIDATES' option. This is kept\nseparate from the aforementioned change to help keep both changes\nreadable.\n\nChange-Id: I1d2b51f5dd2ca75eb565ca5242cfdb938868bff9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,797513,b20753b313089fd20bec3198104bbeaece3cad41,39,4,2,15334,,,0,"scheduler: 'USES_ALLOCATION_CANDIDATES' removal cleanup

Follow-up on change I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb by
removing additional code paths that are no longer relevant following the
removal of the 'USES_ALLOCATION_CANDIDATES' option. This is kept
separate from the aforementioned change to help keep both changes
readable.

Change-Id: I1d2b51f5dd2ca75eb565ca5242cfdb938868bff9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/797513/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/filter_scheduler.py', 'nova/scheduler/host_manager.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py']",5,efe24a999546aeb6fa42ebfa9a862c3afddcca44,remove-custom-schedulers,," def test_get_all_host_states_provider_summaries_is_none(self): """"""Tests that HostManager.get_host_states_by_uuids is called with compute_uuids being None when the incoming provider_summaries is None. """""" with mock.patch.object(self.driver.host_manager, 'get_host_states_by_uuids') as get_host_states: self.driver._get_all_host_states( mock.sentinel.ctxt, mock.sentinel.spec_obj, None) # Make sure get_host_states_by_uuids was called with # compute_uuids being None. get_host_states.assert_called_once_with( mock.sentinel.ctxt, None, mock.sentinel.spec_obj) ",97,73
openstack%2Fnova~master~I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb,openstack/nova,master,I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb,scheduler: Remove 'USES_ALLOCATION_CANDIDATES',MERGED,2021-02-02 11:28:48.000000000,2021-07-27 21:22:59.000000000,2021-07-27 21:21:08.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70c9b2f8498e67be2a672bb5d97e6b68da21fb75', 'message': ""scheduler: Remove 'USES_ALLOCATION_CANDIDATES'\n\nThere is only one scheduler driver now. This variable is no longer\nnecessary.\n\nWe remove a couple of test that validated behavior for scheduler drivers\nthat didn't support allocation candidates (there are none) and update\nthe test for the 'nova-manage placement heal_allocations' command to\ndrop allocations instead of relying on them not being created.\n\nChange-Id: I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3832af266e4086f90df384b7d377d90eaacf0517', 'message': ""scheduler: Remove 'USES_ALLOCATION_CANDIDATES'\n\nThere is only one scheduler driver now. This variable is no longer\nnecessary.\n\nWe remove a couple of test that validated behavior for scheduler drivers\nthat didn't support allocation candidates (there are none) and update\nthe test for the 'nova-manage placement heal_allocations' command to\ndrop allocations instead of relying on them not being created.\n\nChange-Id: I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-26 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7221fe02a8657dc4db15dc95f096113dbdc8463d', 'message': ""scheduler: Remove 'USES_ALLOCATION_CANDIDATES'\n\nThere is only one scheduler driver now. This variable is no longer\nnecessary.\n\nWe remove a couple of test that validated behavior for scheduler drivers\nthat didn't support allocation candidates (there are none) and update\nthe test for the 'nova-manage placement heal_allocations' command to\ndrop allocations instead of relying on them not being created.\n\nChange-Id: I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a3f1afffc7ced17cb11ff20e9c328a3235d06ef', 'message': ""scheduler: Remove 'USES_ALLOCATION_CANDIDATES'\n\nThere is only one scheduler driver now. This variable is no longer\nnecessary.\n\nWe remove a couple of test that validated behavior for scheduler drivers\nthat didn't support allocation candidates (there are none) and update\nthe test for the 'nova-manage placement heal_allocations' command to\ndrop allocations instead of relying on them not being created.\n\nChange-Id: I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-06-29 15:58:32.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1741307.py', 'nova/scheduler/filter_scheduler.py', 'nova/scheduler/driver.py', 'nova/tests/functional/regressions/test_bug_1741125.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97d25371b3cbd20eab3b13b230fb87dfee8478bf', 'message': ""scheduler: Remove 'USES_ALLOCATION_CANDIDATES'\n\nThere is only one scheduler driver now. This variable is no longer\nnecessary.\n\nWe remove a couple of test that validated behavior for scheduler drivers\nthat didn't support allocation candidates (there are none) and update\nthe test for the 'nova-manage placement heal_allocations' command to\ndrop allocations instead of relying on them not being created.\n\nChange-Id: I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,773640,97d25371b3cbd20eab3b13b230fb87dfee8478bf,45,5,5,15334,,,0,"scheduler: Remove 'USES_ALLOCATION_CANDIDATES'

There is only one scheduler driver now. This variable is no longer
necessary.

We remove a couple of test that validated behavior for scheduler drivers
that didn't support allocation candidates (there are none) and update
the test for the 'nova-manage placement heal_allocations' command to
drop allocations instead of relying on them not being created.

Change-Id: I64dc67e2bacd7a6c86153db5ae983dfb54bd40eb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/773640/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1741307.py', 'nova/scheduler/filter_scheduler.py', 'nova/scheduler/driver.py', 'nova/tests/functional/regressions/test_bug_1741125.py']",8,70c9b2f8498e67be2a672bb5d97e6b68da21fb75,remove-custom-schedulers,," class TestServerResizeRescheduleWithNoAllocations( TestServerResizeReschedule): """"""Tests the reschedule scenario using a scheduler driver which does not use Placement. """""" def setUp(self): super(TestServerResizeRescheduleWithNoAllocations, self).setUp() # We need to mock the FilterScheduler to not use Placement so that # allocations won't be created during scheduling. self.scheduler_service.manager.driver.USES_ALLOCATION_CANDIDATES = \ False",42,185
openstack%2Fneutron~master~I4bfcac16a54b766e0dc97f58ba4048eb709fa88f,openstack/neutron,master,I4bfcac16a54b766e0dc97f58ba4048eb709fa88f,Improve Port list and show,MERGED,2021-05-11 13:30:02.000000000,2021-07-27 21:12:49.000000000,2021-07-27 21:10:39.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-05-11 13:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6fd0185cb2971a68cd78243255e7121fada8abc', 'message': ""Improve Port list and show\n\nDon't eagerly load several fields which are not used in\nport list and show.\n\nDepends on neutron-lib change:\nhttps://review.opendev.org/c/openstack/neutron-lib/+/788729\n\nChange-Id: I4bfcac16a54b766e0dc97f58ba4048eb709fa88f\n""}, {'number': 2, 'created': '2021-05-11 13:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7fbd8fa1887792c0458e7b3e2c9f1b36ee8db06', 'message': ""Improve Port list and show\n\nDon't eagerly load several fields which are not used in\nport list and show.\n\nPort list and show speed-up is ~10-25%.\n\nDepends on neutron-lib change:\nhttps://review.opendev.org/c/openstack/neutron-lib/+/788729\n\nChange-Id: I4bfcac16a54b766e0dc97f58ba4048eb709fa88f\n""}, {'number': 3, 'created': '2021-06-23 15:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6728e1f7bb308ef24fa89ea21183ad7a62fc413f', 'message': ""Improve Port list and show\n\nDon't eagerly load several fields which are not used in\nport list and show.\n\nPort list and show speed-up is ~10-25%.\n\nDepends on neutron-lib change:\nhttps://review.opendev.org/c/openstack/neutron-lib/+/788729\n\nChange-Id: I4bfcac16a54b766e0dc97f58ba4048eb709fa88f\n""}, {'number': 4, 'created': '2021-06-24 06:19:07.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0af8497076d58d54d996c70a30e3b5a24e45b3af', 'message': ""Improve Port list and show\n\nDon't eagerly load several fields which are not used in\nport list and show.\n\nPort list and show speed-up is ~10-25%.\n\nDepends on neutron-lib change:\nhttps://review.opendev.org/c/openstack/neutron-lib/+/788729\n\nChange-Id: I4bfcac16a54b766e0dc97f58ba4048eb709fa88f\n""}]",10,790691,0af8497076d58d54d996c70a30e3b5a24e45b3af,81,10,4,5948,,,0,"Improve Port list and show

Don't eagerly load several fields which are not used in
port list and show.

Port list and show speed-up is ~10-25%.

Depends on neutron-lib change:
https://review.opendev.org/c/openstack/neutron-lib/+/788729

Change-Id: I4bfcac16a54b766e0dc97f58ba4048eb709fa88f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/790691/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/db/db_base_plugin_v2.py']",2,a6fd0185cb2971a68cd78243255e7121fada8abc,port_list_opt," lazy_fields = [models_v2.Port.port_forwardings, models_v2.Port.binding_levels, models_v2.Port.distributed_port_binding] port = self._get_port(context, id, lazy_fields=lazy_fields) def _get_ports_query(self, context, filters=None, lazy_fields=None, *args, **kwargs): lazy_fields=lazy_fields, lazy_fields = [models_v2.Port.port_forwardings, models_v2.Port.binding_levels, models_v2.Port.distributed_port_binding] page_reverse=page_reverse, lazy_fields=lazy_fields)"," port = self._get_port(context, id) def _get_ports_query(self, context, filters=None, *args, **kwargs): page_reverse=page_reverse)",15,5
openstack%2Fmanila~master~I1b6544c06149138d59a8ffd16c30942d323a5d27,openstack/manila,master,I1b6544c06149138d59a8ffd16c30942d323a5d27,Add Pure Storage FlashBlade to Manila Admin docs,MERGED,2021-07-20 19:56:08.000000000,2021-07-27 21:10:42.000000000,2021-07-27 21:08:56.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-20 19:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/65f9a142f751e506aaf13dcf9de2c2e0949ebffa', 'message': 'Add Pure Storage FlashBlade to Manila Admin docs\n\nChange-Id: I1b6544c06149138d59a8ffd16c30942d323a5d27\n'}, {'number': 2, 'created': '2021-07-20 20:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d1261fcbed4e8e317feca77c1c326e07ae1d698d', 'message': 'Add Pure Storage FlashBlade to Manila Admin docs\n\nChange-Id: I1b6544c06149138d59a8ffd16c30942d323a5d27\n'}, {'number': 3, 'created': '2021-07-21 13:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d259ab56778dfff53eacbba355e3d0c7cd4d2c06', 'message': 'Add Pure Storage FlashBlade to Manila Admin docs\n\nChange-Id: I1b6544c06149138d59a8ffd16c30942d323a5d27\n'}, {'number': 4, 'created': '2021-07-22 19:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b952bf5b9a219f06354485aa2be0c103b7a2bd59', 'message': 'Add Pure Storage FlashBlade to Manila Admin docs\n\nChange-Id: I1b6544c06149138d59a8ffd16c30942d323a5d27\n'}, {'number': 5, 'created': '2021-07-22 19:40:04.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/purestorage_flashblade_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/40ed0dd1df3fb422bf11788f59892f9f80e2e0ed', 'message': 'Add Pure Storage FlashBlade to Manila Admin docs\n\nChange-Id: I1b6544c06149138d59a8ffd16c30942d323a5d27\n'}]",6,801527,40ed0dd1df3fb422bf11788f59892f9f80e2e0ed,26,3,5,13425,,,0,"Add Pure Storage FlashBlade to Manila Admin docs

Change-Id: I1b6544c06149138d59a8ffd16c30942d323a5d27
",git fetch https://review.opendev.org/openstack/manila refs/changes/27/801527/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/purestorage_flashblade_driver.rst']",2,65f9a142f751e506aaf13dcf9de2c2e0949ebffa,add_flashblade_admin_docs,".. Copyright 2021 Pure Storage Inc. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Pure Storage FlashBlade Driver for OpenStack Manila =================================================== The Pure Storage FlashBlade Manila driver provides NFS shared file systems to OpenStack using Pure Storage's FlashBlade native filesystem capabilities. Supported Operations -------------------- The following operations are supported with Pure Storage FlashBlade: - Create/delete NFS shares * Shares are not accessible until access rules allow access - Allow/deny NFS share access * IP access rules are required for NFS share access - Create/delete snapshots - Expand and Shrink shares - Revert to Snapshot Share networks are not supported. Shares are created directly on the FlashBlade without the use of a share server or service VM. Network connectivity is setup outside of Manila. Requirements ------------ On the system running the Manila share service: - purity_fb 1.12.1 or newer from PyPI. On the Pure Storage FlashBlade: - Purity//FB Operating System software version 2.3.0 or higher Pre-Configuration on the Pure Storage FlashBlade ------------------------------------------------ - HPE 3PAR File Persona must be initialized and started (:code:`startfs`) - A management subnet must be accessible from the system running the Manila share services - A data subnet must be accessible from the system running the Nova compute services - An API token must be available for a user with administrative privileges Backend Configuration --------------------- The following parameters need to be configured in the manila configuration file for the Pure Storage FlashBlade driver: - `share_backend_name` = <backend name to enable> - `share_driver` = manila.share.drivers.purestorage.flashblade.FlashBladeShareDriver - `driver_handles_share_servers` = False - `flashblade_mgmt_vip` = <FlashBlade Management VIP address> - `flashblade_data_vip` = <FlashBlade Data VIP address> - `flashblade_api` = <FlashBlade API token for admin-privileged user> - `flashblade_eradicate` = True/False Restart of :term:`manila-share` service is needed for the configuration changes to take effect. Network Approach ---------------- Connectivity between the FlashBlade (REST) and the manila host is required for share management. Connectivity between the clients and the FlashBlade is required for mounting and using the shares. This includes: - Routing from the client to the external network - Assigning the client an external IP address (e.g., a floating IP) - Configuring the manila host networking properly for IP forwarding - Configuring the FlashBlade networking properly for client subnets Share Types ----------- When creating a share, a share type can be specified to determine where and how the share will be created. If a share type is not specified, the `default_share_type` set in the manila configuration file is used. Manila requires that the share type includes the `driver_handles_share_servers` extra-spec. This ensures that the share will be created on a backend that supports the requested driver_handles_share_servers (share networks) capability. For the Pure Storage FlashBlade driver, this must be set to False. Another common manila extra-spec used to determine where a share is created is `share_backend_name`. When this extra-spec is defined in the share type, the share will be created on a backend with a matching share_backend_name. `thin_provisioning` will be reported as True for backends that use thin provisioned volumes. FlashBlade shares are thin-provisioned by default. Backends that use thin provisioning also support manila's over-subscription feature. The :mod:`manila.share.drivers.purestorage.flashblade` Module ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. automodule:: manila.share.drivers.purestorage.flashblade :noindex: :members: :undoc-members: :show-inheritance: ",,126,0
openstack%2Foslo.db~master~Idb3926d73ff3c11abe9c273062aca1b299b9f72e,openstack/oslo.db,master,Idb3926d73ff3c11abe9c273062aca1b299b9f72e,tox: Simplify test running,MERGED,2021-07-27 17:30:19.000000000,2021-07-27 20:53:34.000000000,2021-07-27 20:52:04.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': ['tox.ini', 'tools/run-pifpaf-tests.sh'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f048068216c655b6babc5740fc4b5e7efcf02ab1', 'message': 'tox: Simplify test running\n\nWe were actually running tests four times. Twice with eventlet disabled\nand twice with it enabled. Correct this.\n\nChange-Id: Idb3926d73ff3c11abe9c273062aca1b299b9f72e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,802562,f048068216c655b6babc5740fc4b5e7efcf02ab1,7,2,1,15334,,,0,"tox: Simplify test running

We were actually running tests four times. Twice with eventlet disabled
and twice with it enabled. Correct this.

Change-Id: Idb3926d73ff3c11abe9c273062aca1b299b9f72e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/62/802562/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tools/run-pifpaf-tests.sh']",2,f048068216c655b6babc5740fc4b5e7efcf02ab1,sqlalchemy-20,TEST_EVENTLET=0 stestr run $* TEST_EVENTLET=1 stestr run --combine $*,stestr run $* TEST_EVENTLET=1 stestr run $*,3,4
openstack%2Fnova~master~I6999b9d66e12e1df7970aff6ce63e5323de6be45,openstack/nova,master,I6999b9d66e12e1df7970aff6ce63e5323de6be45,docs: Add libvirt misc doc,MERGED,2021-03-18 12:30:48.000000000,2021-07-27 20:15:12.000000000,2021-07-27 18:24:31.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 12:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f0172c227eed97e131c624bd521338fc1e3e719', 'message': ""docs: Add libvirt misc doc\n\nA new dumping ground for libvirt'y things that can't easily be\ncategorized or placed elsewhere.\n\nA small mistake in the extra spec validator definition for\n'hw_rng:rate_period' is corrected.\n\nChange-Id: I6999b9d66e12e1df7970aff6ce63e5323de6be45\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1843542\n""}, {'number': 2, 'created': '2021-03-23 11:23:53.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/libvirt-misc.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/user/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/9dfac329594933864aceaeb3be28457afd13f6ca', 'message': ""docs: Add libvirt misc doc\n\nA new dumping ground for libvirt'y things that can't easily be\ncategorized or placed elsewhere.\n\nChange-Id: I6999b9d66e12e1df7970aff6ce63e5323de6be45\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1843542\n""}]",0,781440,9dfac329594933864aceaeb3be28457afd13f6ca,18,3,2,15334,,,0,"docs: Add libvirt misc doc

A new dumping ground for libvirt'y things that can't easily be
categorized or placed elsewhere.

Change-Id: I6999b9d66e12e1df7970aff6ce63e5323de6be45
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1843542
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/781440/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'nova/api/validation/extra_specs/hw_rng.py', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/admin/libvirt-misc.rst', 'doc/source/user/flavors.rst']",5,2f0172c227eed97e131c624bd521338fc1e3e719,docs,,".. _extra-specs-watchdog-behavior: Watchdog behavior For the libvirt driver, you can enable and set the behavior of a virtual hardware watchdog device for each flavor. Watchdog devices keep an eye on the guest server, and carry out the configured action, if the server hangs. The watchdog uses the i6300esb device (emulating a PCI Intel 6300ESB). If ``hw:watchdog_action`` is not specified, the watchdog is disabled. To set the behavior, use: .. code-block:: console $ openstack flavor set FLAVOR-NAME --property hw:watchdog_action=ACTION Valid ACTION values are: - ``disabled``: (default) The device is not attached. - ``reset``: Forcefully reset the guest. - ``poweroff``: Forcefully power off the guest. - ``pause``: Pause the guest. - ``none``: Only enable the watchdog; do nothing if the server hangs. .. note:: Watchdog behavior set using a specific image's properties will override behavior set using flavors. .. _extra-specs-random-number-generator: Random-number generator If a random-number generator device has been added to the instance through its image properties, the device can be enabled and configured using: .. code-block:: console $ openstack flavor set FLAVOR-NAME \ --property hw_rng:allowed=True \ --property hw_rng:rate_bytes=RATE-BYTES \ --property hw_rng:rate_period=RATE-PERIOD Where: - RATE-BYTES: (integer) Allowed amount of bytes that the guest can read from the host's entropy per period. - RATE-PERIOD: (integer) Duration of the read period in milliseconds. .. _extra-specs-performance-monitoring-unit: Performance Monitoring Unit (vPMU) If nova is deployed with the libvirt virt driver and :oslo.config:option:`libvirt.virt_type` is set to ``qemu`` or ``kvm``, a vPMU can be enabled or disabled for an instance using the ``hw:pmu`` extra_spec or the ``hw_pmu`` image property. The supported values are ``True`` or ``False``. If the vPMU is not explicitly enabled or disabled via the flavor or image, its presence is left to QEMU to decide. .. code-block:: console $ openstack flavor set FLAVOR-NAME --property hw:pmu=True|False The vPMU is used by tools like ``perf`` in the guest to provide more accurate information for profiling application and monitoring guest performance. For realtime workloads, the emulation of a vPMU can introduce additional latency which may be undesirable. If the telemetry it provides is not required, such workloads should set ``hw:pmu=False``. For most workloads the default of unset or enabling the vPMU ``hw:pmu=True`` will be correct. .. _extra-specs-hiding-hypervisor-signature: Hiding hypervisor signature Some hypervisors add a signature to their guests. While the presence of the signature can enable some paravirtualization features on the guest, it can also have the effect of preventing some drivers from loading. Hiding the signature by setting this property to true may allow such drivers to load and work. .. note:: As of the 18.0.0 Rocky release, this is only supported by the libvirt driver. Prior to the 21.0.0 Ussuri release, this was called ``hide_hypervisor_id``. An alias is provided to provide backwards compatibility. .. code:: console $ openstack flavor set FLAVOR-NAME \ --property hw:hide_hypervisor_id=VALUE Where: - VALUE: (string) 'true' or 'false'. 'false' is equivalent to the property not existing. ",142,110
openstack%2Fopenstacksdk~master~Id76a13b41ffcf6fdaff58ddce6597dc1b1ea347b,openstack/openstacksdk,master,Id76a13b41ffcf6fdaff58ddce6597dc1b1ea347b,Temporarily disable nodepool job,MERGED,2021-07-27 16:44:25.000000000,2021-07-27 20:12:49.000000000,2021-07-27 20:09:36.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 16:44:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e0372b72af8c5f471fc17e53434d7a814ca958bd', 'message': 'Temporarily disable nodepool job\n\nnodepool job is blocking us for quite some time with timeouts. Let us\ndisable it for now and rather fix issues later (on a separate branch\nanyway) rather then continue waiting.\n\nChange-Id: Id76a13b41ffcf6fdaff58ddce6597dc1b1ea347b\n'}]",0,802556,e0372b72af8c5f471fc17e53434d7a814ca958bd,7,2,1,15334,,,0,"Temporarily disable nodepool job

nodepool job is blocking us for quite some time with timeouts. Let us
disable it for now and rather fix issues later (on a separate branch
anyway) rather then continue waiting.

Change-Id: Id76a13b41ffcf6fdaff58ddce6597dc1b1ea347b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/56/802556/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e0372b72af8c5f471fc17e53434d7a814ca958bd,, # - dib-nodepool-functional-openstack-centos-8-stream-src # - dib-nodepool-functional-openstack-centos-8-stream-src, - dib-nodepool-functional-openstack-centos-8-stream-src - dib-nodepool-functional-openstack-centos-8-stream-src,2,2
openstack%2Fnova~master~Ieec2c8f450c05a2451179e3bdba77514f2cc956e,openstack/nova,master,Ieec2c8f450c05a2451179e3bdba77514f2cc956e,docs: Change formatting of hypervisor config guides,MERGED,2021-03-18 12:30:48.000000000,2021-07-27 20:08:09.000000000,2021-07-27 18:24:22.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 12:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85fe7694b5c2b007eb95e0ffef4eedd079e93f80', 'message': ""docs: Change formatting of hypervisor config guides\n\nUse the formatting established in the style guide. There's a lot of\nout-of-date information in here, but that's a battle for another day.\n\nChange-Id: Ieec2c8f450c05a2451179e3bdba77514f2cc956e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-23 11:23:53.000000000', 'files': ['doc/source/admin/configuration/hypervisors.rst', 'doc/source/admin/configuration/hypervisor-basics.rst', 'doc/source/admin/configuration/index.rst', 'doc/source/admin/configuration/hypervisor-zvm.rst', 'doc/source/admin/configuration/hypervisor-hyper-v.rst', 'doc/source/admin/configuration/hypervisor-powervm.rst', 'doc/source/admin/configuration/api.rst', 'doc/source/admin/configuration/hypervisor-qemu.rst', 'doc/source/admin/configuration/hypervisor-ironic.rst', 'doc/source/admin/configuration/hypervisor-virtuozzo.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/admin/configuration/hypervisor-lxc.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/76549775fe73d4a54643803055688b7aaed5471c', 'message': ""docs: Change formatting of hypervisor config guides\n\nUse the formatting established in the style guide. There's a lot of\nout-of-date information in here, but that's a battle for another day.\n\nChange-Id: Ieec2c8f450c05a2451179e3bdba77514f2cc956e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,781439,76549775fe73d4a54643803055688b7aaed5471c,16,3,2,15334,,,0,"docs: Change formatting of hypervisor config guides

Use the formatting established in the style guide. There's a lot of
out-of-date information in here, but that's a battle for another day.

Change-Id: Ieec2c8f450c05a2451179e3bdba77514f2cc956e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/781439/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/hypervisors.rst', 'doc/source/admin/configuration/hypervisor-basics.rst', 'doc/source/admin/configuration/index.rst', 'doc/source/admin/configuration/hypervisor-zvm.rst', 'doc/source/admin/configuration/hypervisor-hyper-v.rst', 'doc/source/admin/configuration/hypervisor-powervm.rst', 'doc/source/admin/configuration/api.rst', 'doc/source/admin/configuration/hypervisor-qemu.rst', 'doc/source/admin/configuration/hypervisor-ironic.rst', 'doc/source/admin/configuration/hypervisor-virtuozzo.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/admin/configuration/hypervisor-lxc.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst']",13,85fe7694b5c2b007eb95e0ffef4eedd079e93f80,docs,"-----------------------------------------------------------------------------------------------------------------------------------------~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~--------------------------~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~mode, see :oslo.config:option:`vmware.use_linked_clone`.------------------------------------------------------------------------","~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~------------------------------------~~~~~~~~~~~~~~~~~~~~~~~~~~------------------------------------------------------------------------------------------mode, see :ref:`vmware-config`.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~.. _vmware-config: Configuration reference ~~~~~~~~~~~~~~~~~~~~~~~ To customize the VMware driver, use the configuration option settings below. .. TODO(sdague): for the import we just copied this in from the auto generated file. We probably need a strategy for doing equivalent autogeneration, but we don't as of yet. Warning: Do not edit this file. It is automatically generated from the software project's code and your changes will be overwritten. The tool to generate this file lives in openstack-doc-tools repository. Please make any changes needed in the code, then run the autogenerate-config-doc tool from the openstack-doc-tools repository, or ask for help on the documentation mailing list, IRC channel or meeting. .. _nova-vmware: .. list-table:: Description of VMware configuration options :header-rows: 1 :class: config-ref-table * - Configuration option = Default value - Description * - **[vmware]** - * - ``api_retry_count`` = ``10`` - (Integer) Number of times VMware vCenter server API must be retried on connection failures, e.g. socket error, etc. * - ``ca_file`` = ``None`` - (String) Specifies the CA bundle file to be used in verifying the vCenter server certificate. * - ``cache_prefix`` = ``None`` - (String) This option adds a prefix to the folder where cached images are stored This is not the full path - just a folder prefix. This should only be used when a datastore cache is shared between compute nodes. .. note:: This should only be used when the compute nodes are running on same host or they have a shared file system. Possible values: * Any string representing the cache prefix to the folder * - ``cluster_name`` = ``None`` - (String) Name of a VMware Cluster ComputeResource. * - ``console_delay_seconds`` = ``None`` - (Integer) Set this value if affected by an increased network latency causing repeated characters when typing in a remote console. * - ``datastore_regex`` = ``None`` - (String) Regular expression pattern to match the name of datastore. The datastore_regex setting specifies the datastores to use with Compute. For example, datastore_regex=""nas.*"" selects all the data stores that have a name starting with ""nas"". .. note:: If no regex is given, it just picks the datastore with the most freespace. Possible values: * Any matching regular expression to a datastore must be given * - ``host_ip`` = ``None`` - (String) Hostname or IP address for connection to VMware vCenter host. * - ``host_password`` = ``None`` - (String) Password for connection to VMware vCenter host. * - ``host_port`` = ``443`` - (Port number) Port for connection to VMware vCenter host. * - ``host_username`` = ``None`` - (String) Username for connection to VMware vCenter host. * - ``insecure`` = ``False`` - (Boolean) If true, the vCenter server certificate is not verified. If false, then the default CA truststore is used for verification. Related options: * ca_file: This option is ignored if ""ca_file"" is set. * - ``integration_bridge`` = ``None`` - (String) This option should be configured only when using the NSX-MH Neutron plugin. This is the name of the integration bridge on the ESXi server or host. This should not be set for any other Neutron plugin. Hence the default value is not set. Possible values: * Any valid string representing the name of the integration bridge * - ``maximum_objects`` = ``100`` - (Integer) This option specifies the limit on the maximum number of objects to return in a single result. A positive value will cause the operation to suspend the retrieval when the count of objects reaches the specified limit. The server may still limit the count to something less than the configured value. Any remaining objects may be retrieved with additional requests. * - ``pbm_default_policy`` = ``None`` - (String) This option specifies the default policy to be used. If pbm_enabled is set and there is no defined storage policy for the specific request, then this policy will be used. Possible values: * Any valid storage policy such as VSAN default storage policy Related options: * pbm_enabled * - ``pbm_enabled`` = ``False`` - (Boolean) This option enables or disables storage policy based placement of instances. Related options: * pbm_default_policy * - ``pbm_wsdl_location`` = ``None`` - (String) This option specifies the PBM service WSDL file location URL. Setting this will disable storage policy based placement of instances. Possible values: * Any valid file path e.g file:///opt/SDK/spbm/wsdl/pbmService.wsdl * - ``serial_port_proxy_uri`` = ``None`` - (String) Identifies a proxy service that provides network access to the serial_port_service_uri. Possible values: * Any valid URI Related options: This option is ignored if serial_port_service_uri is not specified. * serial_port_service_uri * - ``serial_port_service_uri`` = ``None`` - (String) Identifies the remote system where the serial port traffic will be sent. This option adds a virtual serial port which sends console output to a configurable service URI. At the service URI address there will be virtual serial port concentrator that will collect console logs. If this is not set, no serial ports will be added to the created VMs. Possible values: * Any valid URI * - ``task_poll_interval`` = ``0.5`` - (Floating point) Time interval in seconds to poll remote tasks invoked on VMware VC server. * - ``use_linked_clone`` = ``True`` - (Boolean) This option enables/disables the use of linked clone. The ESX hypervisor requires a copy of the VMDK file in order to boot up a virtual machine. The compute driver must download the VMDK via HTTP from the OpenStack Image service to a datastore that is visible to the hypervisor and cache it. Subsequent virtual machines that need the VMDK use the cached version and don't have to copy the file again from the OpenStack Image service. If set to false, even with a cached VMDK, there is still a copy operation from the cache location to the hypervisor file directory in the shared datastore. If set to true, the above copy operation is avoided as it creates copy of the virtual machine that shares virtual disks with its parent VM. * - ``wsdl_location`` = ``None`` - (String) This option specifies VIM Service WSDL Location If vSphere API versions 5.1 and later is being used, this section can be ignored. If version is less than 5.1, WSDL files must be hosted locally and their location must be specified in the above section. Optional over-ride to default location for bug work-arounds. Possible values: * http://<server>/vimService.wsdl * file:///opt/stack/vmware/SDK/wsdl/vim25/vimService.wsdl~~~~~~~~~~~~~~~",200,341
openstack%2Fnova~master~I3a3e19b1f2660dd773fd3d47332abadc0c0e5c55,openstack/nova,master,I3a3e19b1f2660dd773fd3d47332abadc0c0e5c55,docs: Fold in MDS security flaw doc,MERGED,2021-03-23 11:23:53.000000000,2021-07-27 20:06:47.000000000,2021-07-27 18:24:12.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 11:23:53.000000000', 'files': ['doc/source/admin/cpu-models.rst', 'doc/source/admin/index.rst', 'doc/source/admin/mitigation-for-Intel-MDS-security-flaws.rst', 'doc/source/admin/security.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/04b869370369ca1398d24d18c15f2e1b516620a8', 'message': ""docs: Fold in MDS security flaw doc\n\nThere's no real need for this to exist as its own standalone document\nnow that we have a separate CPU models doc. Combine them.\n\nChange-Id: I3a3e19b1f2660dd773fd3d47332abadc0c0e5c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,782411,04b869370369ca1398d24d18c15f2e1b516620a8,17,3,1,15334,,,0,"docs: Fold in MDS security flaw doc

There's no real need for this to exist as its own standalone document
now that we have a separate CPU models doc. Combine them.

Change-Id: I3a3e19b1f2660dd773fd3d47332abadc0c0e5c55
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/782411/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/cpu-models.rst', 'doc/source/admin/index.rst', 'doc/source/admin/mitigation-for-Intel-MDS-security-flaws.rst', 'doc/source/admin/security.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",6,04b869370369ca1398d24d18c15f2e1b516620a8,docs,redirectmatch 301 ^/nova/([^/]+)/admin/mitigation-for-Intel-MDS-security-flaws.html /nova/$1/admin/cpu-models.html,,130,131
openstack%2Fnetworking-ovn~stable%2Ftrain~I07e1a52916cacfe81fc0b4087997f8c7914bd8aa,openstack/networking-ovn,stable/train,I07e1a52916cacfe81fc0b4087997f8c7914bd8aa,"DNM, testing dsvm-functional-py27",ABANDONED,2021-06-23 15:34:06.000000000,2021-07-27 19:59:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-23 15:34:06.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/24dedab34145a10043d2737cdbab7e0a935ddc96', 'message': 'DNM, testing dsvm-functional-py27\n\nChange-Id: I07e1a52916cacfe81fc0b4087997f8c7914bd8aa\n'}]",0,797682,24dedab34145a10043d2737cdbab7e0a935ddc96,5,1,1,5756,,,0,"DNM, testing dsvm-functional-py27

Change-Id: I07e1a52916cacfe81fc0b4087997f8c7914bd8aa
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/82/797682/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/impl_idl_ovn.py'],1,24dedab34145a10043d2737cdbab7e0a935ddc96,,# DEBUG,,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I8cbba356867145a0076c5426f4ac7642195ea357,openstack/tripleo-common,stable/train,I8cbba356867145a0076c5426f4ac7642195ea357,Bump nautilus containers to v4.0.19,MERGED,2021-07-23 10:46:31.000000000,2021-07-27 19:48:35.000000000,2021-07-27 19:47:20.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-23 10:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6a7b92046c2ac86b1e02fdf64d93d97b8142e819', 'message': 'Bump nautilus containers to v4.0.19\n\nThis change solves multiple issues present with the 4.0.13 containers,\nespecially with RGW and the related tempest tests.\nThe purpose of this review is moving from v4.0.13 to v4.0.19 tag, which\nhas the latest released content.\n\nChange-Id: I8cbba356867145a0076c5426f4ac7642195ea357\n(cherry picked from commit e2a482053be69efa3bdc37883f44b38ef7eb95ce)\n'}, {'number': 2, 'created': '2021-07-23 10:49:40.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9991292e7db288ea3010bda9196b1025e6409404', 'message': 'Bump nautilus containers to v4.0.19\n\nThis change solves multiple issues present with the 4.0.13 containers,\nespecially with RGW and the related tempest tests.\nThe purpose of this review is moving from v4.0.13 to v4.0.19 tag, which\nhas the latest released content.\n\nChange-Id: I8cbba356867145a0076c5426f4ac7642195ea357\n(cherry picked from commit e2a482053be69efa3bdc37883f44b38ef7eb95ce)\n'}]",0,802003,9991292e7db288ea3010bda9196b1025e6409404,21,7,2,25402,,,0,"Bump nautilus containers to v4.0.19

This change solves multiple issues present with the 4.0.13 containers,
especially with RGW and the related tempest tests.
The purpose of this review is moving from v4.0.13 to v4.0.19 tag, which
has the latest released content.

Change-Id: I8cbba356867145a0076c5426f4ac7642195ea357
(cherry picked from commit e2a482053be69efa3bdc37883f44b38ef7eb95ce)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/802003/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,6a7b92046c2ac86b1e02fdf64d93d97b8142e819,nautilus_v4.0.19,- imagename: quay.ceph.io/ceph-ci/daemon:v4.0.19-stable-4.0-nautilus-centos-7-x86_64,- imagename: quay.ceph.io/ceph-ci/daemon:v4.0.13-stable-4.0-nautilus-centos-7-x86_64,2,2
openstack%2Ftripleo-heat-templates~master~I3f11fc2722eaa0f6701369265d7b4d24c711f3ed,openstack/tripleo-heat-templates,master,I3f11fc2722eaa0f6701369265d7b4d24c711f3ed,Add missing monitoring_subscription to Placement,MERGED,2021-06-08 15:11:02.000000000,2021-07-27 19:48:14.000000000,2021-07-27 19:48:14.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-08 15:11:02.000000000', 'files': ['deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a26b064bd4887da70dc0421617ead9f3ec7ee730', 'message': ""Add missing monitoring_subscription to Placement\n\nThe placement service resource doesn't have monitoring_subscription\ndefined although it has the corresponding template parameter which\nis MonitoringSubscriptionPlacement. This change adds that missing\nmonitoring_subscription.\n\nChange-Id: I3f11fc2722eaa0f6701369265d7b4d24c711f3ed\n""}]",0,795360,a26b064bd4887da70dc0421617ead9f3ec7ee730,9,5,1,9816,,,0,"Add missing monitoring_subscription to Placement

The placement service resource doesn't have monitoring_subscription
defined although it has the corresponding template parameter which
is MonitoringSubscriptionPlacement. This change adds that missing
monitoring_subscription.

Change-Id: I3f11fc2722eaa0f6701369265d7b4d24c711f3ed
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/795360/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/placement/placement-api-container-puppet.yaml'],1,a26b064bd4887da70dc0421617ead9f3ec7ee730,mntr-subs-placement, monitoring_subscription: {get_param: MonitoringSubscriptionPlacement},,1,0
openstack%2Ftripleo-heat-templates~master~Ifffecdece7b9b37238c35a4240ea217d49a238bc,openstack/tripleo-heat-templates,master,Ifffecdece7b9b37238c35a4240ea217d49a238bc,Honor the BackupAndRestoreHieraConfigFile parameter,MERGED,2021-06-08 13:13:50.000000000,2021-07-27 19:47:25.000000000,2021-07-27 19:47:25.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-06-08 13:13:50.000000000', 'files': ['deployment/backup-and-restore/rear-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b34e66a7a63a1cb99f5e85403b7aeaaf4f366cb', 'message': 'Honor the BackupAndRestoreHieraConfigFile parameter\n\nThe BackupAndRestoreHieraConfigFile parameter should be used to set\nthe tripleo_backup_and_restore_hiera_config_file var in tripleo-ansibe.\nThis change adds missing var definition so that that tht parameter\nbecomes effective.\n\nChange-Id: Ifffecdece7b9b37238c35a4240ea217d49a238bc\nCloses-Bug: #1931253\n'}]",0,795324,5b34e66a7a63a1cb99f5e85403b7aeaaf4f366cb,9,5,1,9816,,,0,"Honor the BackupAndRestoreHieraConfigFile parameter

The BackupAndRestoreHieraConfigFile parameter should be used to set
the tripleo_backup_and_restore_hiera_config_file var in tripleo-ansibe.
This change adds missing var definition so that that tht parameter
becomes effective.

Change-Id: Ifffecdece7b9b37238c35a4240ea217d49a238bc
Closes-Bug: #1931253
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/795324/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/backup-and-restore/rear-baremetal-ansible.yaml'],1,5b34e66a7a63a1cb99f5e85403b7aeaaf4f366cb,bug/1931253, tripleo_backup_and_restore_hiera_config_file: {get_param: BackupAndRestoreHieraConfigFile},,1,0
openstack%2Ftripleo-heat-templates~master~Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88,openstack/tripleo-heat-templates,master,Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88,Update puppet parameters for networking-baremetal,MERGED,2021-06-28 05:43:57.000000000,2021-07-27 19:47:22.000000000,2021-07-27 19:47:22.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-28 05:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7357bc0a28256efae89889c42e3691ceda463f5f', 'message': 'Update puppet parameters for networking-baremetal\n\nThis change updates auth parameters used for networking-baremetal,\nfollowing the change in networking-baremetal itself and puppet-neutron.\n\nDepends-on: https://review.opendev.org/796359\nChange-Id: Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88\n'}, {'number': 2, 'created': '2021-06-28 06:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b34711968f61ad87a4385347a964205dd4bc1465', 'message': 'Update puppet parameters for networking-baremetal\n\nThis change updates auth parameters used for networking-baremetal,\nfollowing the change in networking-baremetal itself and puppet-neutron.\n\nDepends-on: https://review.opendev.org/796359\nChange-Id: Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88\n'}, {'number': 3, 'created': '2021-07-03 07:18:01.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af351b7834b62d20cac3755ebfa57b09a374cb4a', 'message': 'Update puppet parameters for networking-baremetal\n\nThis change updates auth parameters used for networking-baremetal,\nfollowing the change in networking-baremetal itself and puppet-neutron.\n\nDepends-on: https://review.opendev.org/796359\nChange-Id: Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88\n'}]",1,798247,af351b7834b62d20cac3755ebfa57b09a374cb4a,15,4,3,9816,,,0,"Update puppet parameters for networking-baremetal

This change updates auth parameters used for networking-baremetal,
following the change in networking-baremetal itself and puppet-neutron.

Depends-on: https://review.opendev.org/796359
Change-Id: Ia880c84ae3ff561aecb02b75e2cc1bb1d09abb88
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/798247/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'],1,7357bc0a28256efae89889c42e3691ceda463f5f,keystoneless," neutron::agents::ml2::networking_baremetal::endpoint_override: { get_param: [ EndpointMap, IronicInternal, uri_no_suffix ] }"," neutron::agents::ml2::networking_baremetal::auth_strategy: {get_param: NeutronAuthStrategy} neutron::agents::ml2::networking_baremetal::ironic_url: { get_param: [ EndpointMap, IronicInternal, uri_no_suffix ] }",1,2
openstack%2Fpython-manilaclient~master~Ie10393b1eeaaf9cf94165b216bdbacc14d76e7a7,openstack/python-manilaclient,master,Ie10393b1eeaaf9cf94165b216bdbacc14d76e7a7,Fix PDF docs issue,MERGED,2021-07-26 20:21:56.000000000,2021-07-27 19:40:00.000000000,2021-07-27 19:38:39.000000000,"[{'_account_id': 9816}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-07-26 20:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d56a735c00e6cb95a34ade75a9c48b9af7a73b2e', 'message': 'Fix PDF docs issue\n\nAdd missing font for PDF generation.\n\nNow, openstack-tox-docs will succeed with the previous missing\nfont having been added.\n\nCloses-Bug: #1938044\nChange-Id: Ie10393b1eeaaf9cf94165b216bdbacc14d76e7a7\n'}, {'number': 2, 'created': '2021-07-27 11:53:55.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3c278d7a08ea548ef97625548af72750c299da4f', 'message': 'Fix PDF docs issue\n\nAdd missing font for PDF generation.\n\nNow, openstack-tox-docs will succeed with the previous missing\nfont having been added.\n\nCloses-Bug: #1938044\nChange-Id: Ie10393b1eeaaf9cf94165b216bdbacc14d76e7a7\n'}]",0,802393,3c278d7a08ea548ef97625548af72750c299da4f,13,4,2,33756,,,0,"Fix PDF docs issue

Add missing font for PDF generation.

Now, openstack-tox-docs will succeed with the previous missing
font having been added.

Closes-Bug: #1938044
Change-Id: Ie10393b1eeaaf9cf94165b216bdbacc14d76e7a7
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/93/802393/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,d56a735c00e6cb95a34ade75a9c48b9af7a73b2e,bug/1938044,,,0,1
openstack%2Ftripleo-heat-templates~master~I70df10820132fa39f38f1979855469ecf871d137,openstack/tripleo-heat-templates,master,I70df10820132fa39f38f1979855469ecf871d137,Get the container ID just before using it,ABANDONED,2021-07-27 08:32:47.000000000,2021-07-27 19:15:54.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-27 08:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca84793cf454995c129aba48f60e759507942c98', 'message': ""Move getting the container ID just before the task that uses it\n\nIn the original code, there are a couple of tasks executed\nbetween getting the container ID and using it. This change\nshould fix an interim issue during upgrades, where the\ncontainer was stopped or not present by the time the task\ncopying the certificate into the container is run. I'm also\nadding the --sync option, to make sure that the OCI runtime\ncontainer state is synced.\n\nChange-Id: I70df10820132fa39f38f1979855469ecf871d137\nCloses-Bug: #1935045\nResolves: rhbz#1979840\n""}, {'number': 2, 'created': '2021-07-27 08:33:40.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f214bd5ffe826b7b20c64332890896de6c17fe9c', 'message': ""Get the container ID just before using it\n\nIn the original code, there are a couple of tasks executed\nbetween getting the container ID and using it. This change\nshould fix an interim issue during upgrades, where the\ncontainer was stopped or not present by the time the task\ncopying the certificate into the container is run. I'm also\nadding the --sync option, to make sure that the OCI runtime\ncontainer state is synced.\n\nChange-Id: I70df10820132fa39f38f1979855469ecf871d137\nCloses-Bug: #1935045\nResolves: rhbz#1979840\n""}]",1,802436,f214bd5ffe826b7b20c64332890896de6c17fe9c,8,3,2,14250,,,0,"Get the container ID just before using it

In the original code, there are a couple of tasks executed
between getting the container ID and using it. This change
should fix an interim issue during upgrades, where the
container was stopped or not present by the time the task
copying the certificate into the container is run. I'm also
adding the --sync option, to make sure that the OCI runtime
container state is synced.

Change-Id: I70df10820132fa39f38f1979855469ecf871d137
Closes-Bug: #1935045
Resolves: rhbz#1979840
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/802436/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,ca84793cf454995c129aba48f60e759507942c98,bug/1935045," - name: get container_id when: - docker_state.status.ActiveState == 'active' or container_cli == 'podman' - attr_cert_path.stat.exists - attr_cert_path.stat.isdir == False command: ""{{ container_cli }} ps --sync -q -f name=haproxy"" register: container_id "," - name: get container_id when: - docker_state.status.ActiveState == 'active' or container_cli == 'podman' - attr_cert_path.stat.exists - attr_cert_path.stat.isdir == False command: ""{{ container_cli }} ps -q -f name=haproxy"" register: container_id ",8,8
openstack%2Fironic~master~Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,openstack/ironic,master,Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24,Fix regression in ramdisk deploy kernel parameters,MERGED,2021-07-27 08:45:56.000000000,2021-07-27 19:09:46.000000000,2021-07-27 19:07:02.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 08:45:56.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'releasenotes/notes/custom-params-cleaning-f938549964ff6df0.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/171474d69a8b21cac578a38b5153b3f563285e62', 'message': 'Fix regression in ramdisk deploy kernel parameters\n\nAfter commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1 the custom kernel\nparameters are not used in cleaning/inspection. This patch fixes it.\n\nChange-Id: Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24\n'}]",0,802437,171474d69a8b21cac578a38b5153b3f563285e62,11,3,1,10239,,,0,"Fix regression in ramdisk deploy kernel parameters

After commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1 the custom kernel
parameters are not used in cleaning/inspection. This patch fixes it.

Change-Id: Ic017cc0f3aebd4858a1a6e3326e5cf0fc0888d24
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/802437/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'releasenotes/notes/custom-params-cleaning-f938549964ff6df0.yaml']",3,171474d69a8b21cac578a38b5153b3f563285e62,custom-params-cleaning,--- fixes: - | Fixes a regression in the ``ramdisk`` deploy where custom kernel parameters were not used during inspection and cleaning. ,,88,4
openstack%2Fvalidations-libs~master~I3009337e8afadd705bbee5b89d9022c78093cdc8,openstack/validations-libs,master,I3009337e8afadd705bbee5b89d9022c78093cdc8,Add CLI auto generated documentation using Cliff,MERGED,2021-07-21 13:23:24.000000000,2021-07-27 19:00:40.000000000,2021-07-27 18:57:26.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-21 13:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c33c6937609c75c89a87f39da85eeadb112e20aa', 'message': '[WIP] Add CLI autogenerated documentation using Cliff sphinx extension\n\nChange-Id: I3009337e8afadd705bbee5b89d9022c78093cdc8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-07-21 22:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e57f0f81b7510d57f51ffb5e5361d01ed5e77b09', 'message': '[WIP] Add CLI autogenerated documentation using Cliff sphinx extension\n\nChange-Id: I3009337e8afadd705bbee5b89d9022c78093cdc8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-07-22 09:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e1a8ceb2492af2e208a88874a09a36a7ebd7d797', 'message': 'Add CLI auto generated documentation using Cliff\n\nThis patch adds the Cliff Sphinx Extension support for auto documenting\nthe `validation` Command Line Interface. It also standardizes the\n`metavar` description for all the --group, --category and --product\narguments by using <group_id>, <category_id> and <product_id>.\n\nMoreover, it removes usage example(s) in the arguments helpers which are often\nduplicated with the `metavar`.\n\nChange-Id: I3009337e8afadd705bbee5b89d9022c78093cdc8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-07-22 10:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/17f775c4af853a4cdeef95c1d414f4a060239f77', 'message': 'Add CLI auto generated documentation using Cliff\n\nThis patch adds the Cliff Sphinx Extension support for auto documenting\nthe `validation` Command Line Interface. It also standardizes the\n`metavar` description for all the --group, --category and --product\narguments by using <group_id>, <category_id> and <product_id>.\n\nMoreover, it removes usage example(s) in the arguments helpers which are often\nduplicated with the `metavar`.\n\nChange-Id: I3009337e8afadd705bbee5b89d9022c78093cdc8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-07-23 19:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/532978f72ff14e54cbf24adb283f67f6ef2f3535', 'message': 'Add CLI auto generated documentation using Cliff\n\nThis patch adds the Cliff Sphinx Extension support for auto documenting\nthe `validation` Command Line Interface. It also standardizes the\n`metavar` description for all the --group, --category and --product\narguments by using <group_id>, <category_id> and <product_id>.\n\nMoreover, it removes usage example(s) in the arguments helpers which are often\nduplicated with the `metavar`.\n\nChange-Id: I3009337e8afadd705bbee5b89d9022c78093cdc8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-07-27 07:01:19.000000000', 'files': ['doc/source/index.rst', 'validations_libs/cli/history.py', 'validations_libs/cli/run.py', 'validations_libs/cli/lister.py', 'doc/source/cli.rst', 'doc/source/conf.py', 'validations_libs/cli/show.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e4b5dc3ea77786dd13412d60c4d80f50aeeb2604', 'message': 'Add CLI auto generated documentation using Cliff\n\nThis patch adds the Cliff Sphinx Extension support for auto documenting\nthe `validation` Command Line Interface. It also standardizes the\n`metavar` description for all the --group, --category and --product\narguments by using <group_id>, <category_id> and <product_id>.\n\nMoreover, it removes usage example(s) in the arguments helpers which are often\nduplicated with the `metavar`.\n\nChange-Id: I3009337e8afadd705bbee5b89d9022c78093cdc8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",7,801623,e4b5dc3ea77786dd13412d60c4d80f50aeeb2604,34,9,6,11491,,,0,"Add CLI auto generated documentation using Cliff

This patch adds the Cliff Sphinx Extension support for auto documenting
the `validation` Command Line Interface. It also standardizes the
`metavar` description for all the --group, --category and --product
arguments by using <group_id>, <category_id> and <product_id>.

Moreover, it removes usage example(s) in the arguments helpers which are often
duplicated with the `metavar`.

Change-Id: I3009337e8afadd705bbee5b89d9022c78093cdc8
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/23/801623/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/cli.rst', 'validations_libs/cli/lister.py', 'doc/source/conf.py']",4,c33c6937609c75c89a87f39da85eeadb112e20aa,validation_metadata_evolution," 'cliff.sphinxext',autoprogram_cliff_application = 'validation'",,30,1
openstack%2Ftripleo-validations~master~I80c6b0ffb07b6311f13d7a3b83031317cd0d38de,openstack/tripleo-validations,master,I80c6b0ffb07b6311f13d7a3b83031317cd0d38de,Add new metadata keys to the validation playbooks,MERGED,2021-06-16 13:22:35.000000000,2021-07-27 19:00:36.000000000,2021-07-27 18:57:29.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-16 13:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c87dc5411ecae9cf103cc2e54a8ee8051c821fb7', 'message': '[WIP] Add new metadata keys to the validation playbooks\n\nThis patch adds two new metadata keys to the validation playbooks:\n- categories: A list of technical tags\n- products: A list of targeted products (here mainly TripleO)\n\nThis patch is also part of the Validation Metadata Evolution for the\nValidations Framework.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I80c6b0ffb07b6311f13d7a3b83031317cd0d38de\n'}, {'number': 2, 'created': '2021-06-30 09:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c6e9d63c4dfb9bd951b4c7e0e3cd879ed07f6daf', 'message': '[WIP] Add new metadata keys to the validation playbooks\n\nThis patch adds two new metadata keys to the validation playbooks:\n- categories: A list of technical tags\n- products: A list of targeted products (here mainly TripleO)\n\nThis patch is also part of the Validation Metadata Evolution for the\nValidations Framework.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I80c6b0ffb07b6311f13d7a3b83031317cd0d38de\n'}, {'number': 3, 'created': '2021-07-05 13:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/616519dd68e29776b3bbd1f2916383ffcf554384', 'message': '[WIP] Add new metadata keys to the validation playbooks\n\nThis patch adds two new metadata keys to the validation playbooks:\n- categories: A list of technical tags\n- products: A list of targeted products (here mainly TripleO)\n\nThis patch is also part of the Validation Metadata Evolution for the\nValidations Framework.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I80c6b0ffb07b6311f13d7a3b83031317cd0d38de\n'}, {'number': 4, 'created': '2021-07-22 10:01:47.000000000', 'files': ['playbooks/undercloud-service-status.yaml', 'playbooks/ctlplane-ip-range.yaml', 'playbooks/undercloud-process-count.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/tripleo-latest-packages-version.yaml', 'playbooks/frr-status.yaml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/openshift-nw-requirements.yaml', 'playbooks/ceph-health.yaml', 'playbooks/check-uc-hostname.yaml', 'playbooks/repos.yaml', 'playbooks/package-version.yaml', 'playbooks/stonith-exists.yaml', 'playbooks/default-node-count.yaml', 'playbooks/healthcheck-service-status.yaml', 'playbooks/undercloud-debug.yaml', 'playbooks/oslo-config-validator.yaml', 'playbooks/openshift-hw-requirements.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/container-status.yaml', 'playbooks/node-disks.yaml', 'playbooks/image-serve.yaml', 'playbooks/nfv-ovsdpdk-zero-packet-loss-check.yaml', 'playbooks/undercloud-ipa-server-check.yaml', 'playbooks/ironic-boot-configuration.yaml', 'playbooks/nova-svirt.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/dhcp-introspection.yaml', 'playbooks/system-encoding.yaml', 'playbooks/undercloud-disk-space.yaml', 'playbooks/check-for-dangling-images.yaml', 'playbooks/stack-health.yaml', 'playbooks/nova-status.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'playbooks/undercloud-disk-space-pre-upgrade.yaml', 'playbooks/openstack-endpoints.yaml', 'playbooks/switch-vlans.yaml', 'playbooks/collect-flavors-and-verify-profiles.yaml', 'playbooks/tls-everywhere-pre-deployment.yaml', 'playbooks/check-rhsm-version.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/undercloud-heat-purge-deleted.yaml', 'playbooks/network-environment.yaml', 'playbooks/compute-tsx.yaml', 'playbooks/controller-ulimits.yaml', 'playbooks/undercloud-tokenflush.yaml', 'playbooks/check-kernel-version.yaml', 'playbooks/check-undercloud-conf.yaml', 'playbooks/node-health.yaml', 'playbooks/ceph-dependencies-installed.yaml', 'playbooks/ceph-pg.yaml', 'playbooks/check-network-gateway.yaml', 'playbooks/dhcp-provisioning.yaml', 'playbooks/tls-everywhere-prep.yaml', 'playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/39a846ca6b4b5bf7e0f7c015c889f8d4a692a3f4', 'message': 'Add new metadata keys to the validation playbooks\n\nThis patch adds two new metadata keys to the validation playbooks:\n- categories: A list of technical tags\n- products: A list of targeted products (here mainly TripleO)\n\nThis patch is also part of the Validation Metadata Evolution for the\nValidations Framework.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I80c6b0ffb07b6311f13d7a3b83031317cd0d38de\n'}]",0,796674,39a846ca6b4b5bf7e0f7c015c889f8d4a692a3f4,17,8,4,11491,,,0,"Add new metadata keys to the validation playbooks

This patch adds two new metadata keys to the validation playbooks:
- categories: A list of technical tags
- products: A list of targeted products (here mainly TripleO)

This patch is also part of the Validation Metadata Evolution for the
Validations Framework.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I80c6b0ffb07b6311f13d7a3b83031317cd0d38de
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/74/796674/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/undercloud-service-status.yaml', 'playbooks/ctlplane-ip-range.yaml', 'playbooks/undercloud-process-count.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/tripleo-latest-packages-version.yaml', 'playbooks/frr-status.yaml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/openshift-nw-requirements.yaml', 'playbooks/ceph-health.yaml', 'playbooks/check-uc-hostname.yaml', 'playbooks/repos.yaml', 'playbooks/package-version.yaml', 'playbooks/stonith-exists.yaml', 'playbooks/default-node-count.yaml', 'playbooks/healthcheck-service-status.yaml', 'playbooks/undercloud-debug.yaml', 'playbooks/openshift-hw-requirements.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/container-status.yaml', 'playbooks/node-disks.yaml', 'playbooks/image-serve.yaml', 'playbooks/undercloud-ipa-server-check.yaml', 'playbooks/ironic-boot-configuration.yaml', 'playbooks/nova-svirt.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/dhcp-introspection.yaml', 'playbooks/system-encoding.yaml', 'playbooks/undercloud-disk-space.yaml', 'playbooks/check-for-dangling-images.yaml', 'playbooks/stack-health.yaml', 'playbooks/nova-status.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'playbooks/undercloud-disk-space-pre-upgrade.yaml', 'playbooks/openstack-endpoints.yaml', 'playbooks/switch-vlans.yaml', 'playbooks/collect-flavors-and-verify-profiles.yaml', 'playbooks/tls-everywhere-pre-deployment.yaml', 'playbooks/check-rhsm-version.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/undercloud-heat-purge-deleted.yaml', 'playbooks/network-environment.yaml', 'playbooks/compute-tsx.yaml', 'playbooks/controller-ulimits.yaml', 'playbooks/ceph-ansible-installed.yaml', 'playbooks/undercloud-tokenflush.yaml', 'playbooks/check-kernel-version.yaml', 'playbooks/check-undercloud-conf.yaml', 'playbooks/node-health.yaml', 'playbooks/ceph-dependencies-installed.yaml', 'playbooks/ceph-pg.yaml', 'playbooks/check-network-gateway.yaml', 'playbooks/dhcp-provisioning.yaml', 'playbooks/tls-everywhere-prep.yaml', 'playbooks/overcloud-service-status.yaml']",57,c87dc5411ecae9cf103cc2e54a8ee8051c821fb7,validation_metadata_evolution, categories: - api - compute - storage - undercloud - overcloud products: - tripleo,,396,3
openstack%2Fpython-tripleoclient~master~I0162a0ab86689933f5935af6ee9e343bca6e8c54,openstack/python-tripleoclient,master,I0162a0ab86689933f5935af6ee9e343bca6e8c54,Fix get_deployment_status() for ephemeral heat,MERGED,2021-07-15 11:48:58.000000000,2021-07-27 18:59:30.000000000,2021-07-27 18:57:31.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 11:48:58.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0cde1bff4d101e9d5dc9657b1cf4f95bb89f6830', 'message': 'Fix get_deployment_status() for ephemeral heat\n\nWith ephemeral heat there would be no stack, so there is no point\nchecking for it.\n\nChange-Id: I0162a0ab86689933f5935af6ee9e343bca6e8c54\n'}]",0,800925,0cde1bff4d101e9d5dc9657b1cf4f95bb89f6830,14,3,1,8833,,,0,"Fix get_deployment_status() for ephemeral heat

With ephemeral heat there would be no stack, so there is no point
checking for it.

Change-Id: I0162a0ab86689933f5935af6ee9e343bca6e8c54
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/800925/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,0cde1bff4d101e9d5dc9657b1cf4f95bb89f6830,,,from heatclient import exc as heat_exc try: clients.orchestration.stacks.get(stack_name) except heat_exc.HTTPNotFound: return None ,0,7
openstack%2Ftripleo-validations~master~Ia41a0e05b1074d72bfcc23b43d61f65a43758fe7,openstack/tripleo-validations,master,Ia41a0e05b1074d72bfcc23b43d61f65a43758fe7,[validation_init] add new metadata keys in the playbook template,MERGED,2021-06-16 14:19:23.000000000,2021-07-27 18:59:16.000000000,2021-07-27 18:57:28.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-16 14:19:23.000000000', 'files': ['roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d691f30633f4b284ab811ba95c0b5f26a45f565b', 'message': '[validation_init] add new metadata keys in the playbook template\n\nThis patch adds two new metadata keys to the playbook creation step when\ninitializing a new Validation:\n- categories: A list of technical tags or domains\n- products: A list of targeted products (here mainly TripleO)\n\nThis patch is also part of the Validation Metadata Evolution for the\nValidations Framework.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia41a0e05b1074d72bfcc23b43d61f65a43758fe7\n'}]",0,796682,d691f30633f4b284ab811ba95c0b5f26a45f565b,11,7,1,11491,,,0,"[validation_init] add new metadata keys in the playbook template

This patch adds two new metadata keys to the playbook creation step when
initializing a new Validation:
- categories: A list of technical tags or domains
- products: A list of targeted products (here mainly TripleO)

This patch is also part of the Validation Metadata Evolution for the
Validations Framework.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ia41a0e05b1074d72bfcc23b43d61f65a43758fe7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/82/796682/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst']",2,d691f30633f4b284ab811ba95c0b5f26a45f565b,validation_metadata_evolution,"The validations can be categorized by technical domain and can belong to one or multiple categories. The categorization is depending on what the validation is checking on the hosts. For example, if a validation checks some networking related configuration and needs to get configuration items from the undercloud.conf file, you will have to put `networking` and `undercloud-config` in the ``categories`` metadata key: .. code-block:: yaml metadata: groups: - pre-deployment - hardware categories: - networking - undercloud-config .. note:: The ``categories`` are not restricted to a list as for the ``groups`` present in the ``groups.yaml`` file, but it could be for example: * ``networking`` * ``compute`` * ``baremetal`` * ``provisioning`` * ``database`` * ``os`` * ``system`` * ``packaging`` * ``kernel`` * ``security`` * ``tls-everywhere`` * ``dns`` * ``dhcp`` * ``dnsmasq`` * ``webserver`` * ``storage`` * ``ha`` * ``clustering`` * ``undercloud-config`` * etc ... The validations should be linked to a product. Every validations hosted in ``tripleo-validations`` should get at least ``tripleo`` in the ``products`` metadata key: .. code-block:: yaml metadata: groups: - pre-deployment - hardware categories: - networking - undercloud-config products: - tripleo categories: - os - system - ram products: - tripleo - undercloud-ram categories: ... products: ...", - undercloud-ram,86,1
openstack%2Fvalidations-libs~master~I4297f83355bdd209d21518fbadb17d1343fd4680,openstack/validations-libs,master,I4297f83355bdd209d21518fbadb17d1343fd4680,Add Categories metadata key management,MERGED,2021-07-09 14:07:09.000000000,2021-07-27 18:59:05.000000000,2021-07-27 18:57:24.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-09 14:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a2c111cdd59170a24446a4fe7a0c7489817b27fb', 'message': 'Add Categories metadata key management\n\nThis patch adds the management of the new `categories` metadata key in\nthe validation playbooks. We can now filter the validations by their\ngroups and/or by their categories while listing or running them.\n\nThe `list` sub command has now a new --category argument. When filtering\nby groups and by categories (see the example below), the `list` sub\ncommand will return all the validation playbooks belonging to the prep\ngroup OR all the validation playbooks belonging to the os and/or system\ncategories:\n\n$ validation list -h\n$ validation list --group prep --category os,system\n\nThe `run` sub command has also its new --category argument. Note that\nthis new argument is mutually exclusive with the --validation and\n--group arguments:\n\n$ validation run -h\n$ validation run --category networking --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation and --group arguments:\n\n$ validation show parameter -h\n$ validation show parameter --category os,system,hardware,ram\n\nChange-Id: I4297f83355bdd209d21518fbadb17d1343fd4680\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-07-12 11:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9214f52fa4251a1dfed817ab51880ce998d896c5', 'message': 'Add Categories metadata key management\n\nThis patch adds the management of the new `categories` metadata key in\nthe validation playbooks. We can now filter the validations by their\ngroups and/or by their categories while listing or running them.\n\nThe `list` sub command has now a new --category argument. When filtering\nby groups and by categories (see the example below), the `list` sub\ncommand will return all the validation playbooks belonging to the prep\ngroup OR all the validation playbooks belonging to the os and/or system\ncategories:\n\n$ validation list -h\n$ validation list --group prep --category os,system\n\nThe `run` sub command has also its new --category argument. Note that\nthis new argument is mutually exclusive with the --validation and\n--group arguments:\n\n$ validation run -h\n$ validation run --category networking --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation and --group arguments:\n\n$ validation show parameter -h\n$ validation show parameter --category os,system,hardware,ram\n\nChange-Id: I4297f83355bdd209d21518fbadb17d1343fd4680\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-07-13 20:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4fe6d844583160fb5766260b3ccd2004101db22d', 'message': 'Add Categories metadata key management\n\nThis patch adds the management of the new `categories` metadata key in\nthe validation playbooks. We can now filter the validations by their\ngroups and/or by their categories while listing or running them.\n\nThe `list` sub command has now a new --category argument. When filtering\nby groups and by categories (see the example below), the `list` sub\ncommand will return all the validation playbooks belonging to the prep\ngroup OR all the validation playbooks belonging to the os and/or system\ncategories:\n\n$ validation list -h\n$ validation list --group prep --category os,system\n\nThe `run` sub command has also its new --category argument. Note that\nthis new argument is mutually exclusive with the --validation and\n--group arguments:\n\n$ validation run -h\n$ validation run --category networking --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation and --group arguments:\n\n$ validation show parameter -h\n$ validation show parameter --category os,system,hardware,ram\n\nChange-Id: I4297f83355bdd209d21518fbadb17d1343fd4680\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-07-13 20:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/73b2ef78b74b768b2cae845c38f5de17d3050cb1', 'message': 'Add Categories metadata key management\n\nThis patch adds the management of the new `categories` metadata key in\nthe validation playbooks. We can now filter the validations by their\ngroups and/or by their categories while listing or running them.\n\nThe `list` sub command has now a new --category argument. When filtering\nby groups and by categories (see the example below), the `list` sub\ncommand will return all the validation playbooks belonging to the prep\ngroup OR all the validation playbooks belonging to the os and/or system\ncategories:\n\n$ validation list -h\n$ validation list --group prep --category os,system\n\nThe `run` sub command has also its new --category argument. Note that\nthis new argument is mutually exclusive with the --validation and\n--group arguments:\n\n$ validation run -h\n$ validation run --category networking --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation and --group arguments:\n\n$ validation show parameter -h\n$ validation show parameter --category os,system,hardware,ram\n\nChange-Id: I4297f83355bdd209d21518fbadb17d1343fd4680\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-07-20 12:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3cdb14abea6e859ec2a11e2e7217906ffe27212e', 'message': 'Add Categories metadata key management\n\nThis patch adds the management of the new `categories` metadata key in\nthe validation playbooks. We can now filter the validations by their\ngroups and/or by their categories while listing or running them.\n\nThe `list` sub command has now a new --category argument. When filtering\nby groups and by categories (see the example below), the `list` sub\ncommand will return all the validation playbooks belonging to the prep\ngroup OR all the validation playbooks belonging to the os and/or system\ncategories:\n\n$ validation list -h\n$ validation list --group prep --category os,system\n\nThe `run` sub command has also its new --category argument. Note that\nthis new argument is mutually exclusive with the --validation and\n--group arguments:\n\n$ validation run -h\n$ validation run --category networking --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation and --group arguments:\n\n$ validation show parameter -h\n$ validation show parameter --category os,system,hardware,ram\n\nChange-Id: I4297f83355bdd209d21518fbadb17d1343fd4680\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-07-21 22:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/959b805e58664ca5a90f007032ad8273553e7b9d', 'message': 'Add Categories metadata key management\n\nThis patch adds the management of the new `categories` metadata key in\nthe validation playbooks. We can now filter the validations by their\ngroups and/or by their categories while listing or running them.\n\nThe `list` sub command has now a new --category argument. When filtering\nby groups and by categories (see the example below), the `list` sub\ncommand will return all the validation playbooks belonging to the prep\ngroup OR all the validation playbooks belonging to the os and/or system\ncategories:\n\n$ validation list -h\n$ validation list --group prep --category os,system\n\nThe `run` sub command has also its new --category argument. Note that\nthis new argument is mutually exclusive with the --validation and\n--group arguments:\n\n$ validation run -h\n$ validation run --category networking --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation and --group arguments:\n\n$ validation show parameter -h\n$ validation show parameter --category os,system,hardware,ram\n\nChange-Id: I4297f83355bdd209d21518fbadb17d1343fd4680\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2021-07-23 19:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/faab2b163059461b79f42809885f13a55e234ca1', 'message': 'Add Categories metadata key management\n\nThis patch adds the management of the new `categories` metadata key in\nthe validation playbooks. We can now filter the validations by their\ngroups and/or by their categories while listing or running them.\n\nThe `list` sub command has now a new --category argument. When filtering\nby groups and by categories (see the example below), the `list` sub\ncommand will return all the validation playbooks belonging to the prep\ngroup OR all the validation playbooks belonging to the os and/or system\ncategories:\n\n$ validation list -h\n$ validation list --group prep --category os,system\n\nThe `run` sub command has also its new --category argument. Note that\nthis new argument is mutually exclusive with the --validation and\n--group arguments:\n\n$ validation run -h\n$ validation run --category networking --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation and --group arguments:\n\n$ validation show parameter -h\n$ validation show parameter --category os,system,hardware,ram\n\nChange-Id: I4297f83355bdd209d21518fbadb17d1343fd4680\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2021-07-27 07:00:47.000000000', 'files': ['validations_libs/tests/cli/test_list.py', 'validations_libs/tests/cli/test_show.py', 'validations_libs/cli/lister.py', 'validations_libs/validation.py', 'validations_libs/tests/test_utils.py', 'validations_libs/validation_actions.py', 'validations_libs/tests/test_validation.py', 'validations_libs/cli/run.py', 'validations_libs/cli/show.py', 'validations_libs/tests/fakes.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3928305329d4082406753034c8ee95faf282934d', 'message': 'Add Categories metadata key management\n\nThis patch adds the management of the new `categories` metadata key in\nthe validation playbooks. We can now filter the validations by their\ngroups and/or by their categories while listing or running them.\n\nThe `list` sub command has now a new --category argument. When filtering\nby groups and by categories (see the example below), the `list` sub\ncommand will return all the validation playbooks belonging to the prep\ngroup OR all the validation playbooks belonging to the os and/or system\ncategories:\n\n$ validation list -h\n$ validation list --group prep --category os,system\n\nThe `run` sub command has also its new --category argument. Note that\nthis new argument is mutually exclusive with the --validation and\n--group arguments:\n\n$ validation run -h\n$ validation run --category networking --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation and --group arguments:\n\n$ validation show parameter -h\n$ validation show parameter --category os,system,hardware,ram\n\nChange-Id: I4297f83355bdd209d21518fbadb17d1343fd4680\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",11,800260,3928305329d4082406753034c8ee95faf282934d,45,8,8,11491,,,0,"Add Categories metadata key management

This patch adds the management of the new `categories` metadata key in
the validation playbooks. We can now filter the validations by their
groups and/or by their categories while listing or running them.

The `list` sub command has now a new --category argument. When filtering
by groups and by categories (see the example below), the `list` sub
command will return all the validation playbooks belonging to the prep
group OR all the validation playbooks belonging to the os and/or system
categories:

$ validation list -h
$ validation list --group prep --category os,system

The `run` sub command has also its new --category argument. Note that
this new argument is mutually exclusive with the --validation and
--group arguments:

$ validation run -h
$ validation run --category networking --inventory /etc/ansible/hosts

The `show parameter` sub command has the same new argument which is also
mutually exclusive with the --validation and --group arguments:

$ validation show parameter -h
$ validation show parameter --category os,system,hardware,ram

Change-Id: I4297f83355bdd209d21518fbadb17d1343fd4680
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/60/800260/7 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/cli/test_list.py', 'validations_libs/tests/cli/test_show.py', 'validations_libs/cli/lister.py', 'validations_libs/validation.py', 'validations_libs/tests/test_utils.py', 'validations_libs/validation_actions.py', 'validations_libs/tests/test_validation.py', 'validations_libs/cli/run.py', 'validations_libs/cli/show.py', 'validations_libs/tests/fakes.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py']",13,a2c111cdd59170a24446a4fe7a0c7489817b27fb,validation_metadata_evolution," self.column_name = ('ID', 'Name', 'Groups', 'Categories') validations_list = ValidationActions('/tmp/foo') ['prep', 'pre-deployment'], ['os', 'system', 'ram']), ['prep', 'pre-introspection'], ['networking'])])) 'Categories': ['os', 'storage'], validations='foo', output_format='bar')"," self.column_name = ('ID', 'Name', 'Groups') validations_list = ValidationActions(fakes.GROUPS_LIST, '/tmp/foo') ['prep', 'pre-deployment']), ['prep', 'pre-introspection'])])) validation='foo', output_format='bar')",327,85
openstack%2Ftripleo-heat-templates~master~Ia29beff08f4c1664c3582b31309c6ac35b230d0c,openstack/tripleo-heat-templates,master,Ia29beff08f4c1664c3582b31309c6ac35b230d0c,Add Pure Storage FlashBlade Manila driver,MERGED,2021-05-24 19:17:40.000000000,2021-07-27 18:59:04.000000000,2021-07-27 18:57:18.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-24 19:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac0589fc8216c2fca3520a4a586bb9752e3fd291', 'message': 'Add Pure Storage FlashBlade Manila driver\n\nDepends-On: If204a13609ace655e03808a7eb5db0fcf1202360\nChange-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c\n'}, {'number': 2, 'created': '2021-05-24 19:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5812910d33ea5e57e96f7947f3fc0384908d75a', 'message': 'Add Pure Storage FlashBlade Manila driver\n\nDepends-On: If204a13609ace655e03808a7eb5db0fcf1202360\nChange-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c\n'}, {'number': 3, 'created': '2021-06-08 14:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef0b830769a2d051139ce9c7460ba91c7360ddd4', 'message': 'Add Pure Storage FlashBlade Manila driver\n\nDepends-On: If204a13609ace655e03808a7eb5db0fcf1202360\nChange-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c\n'}, {'number': 4, 'created': '2021-06-08 23:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cd9a9e179097abe2b80cc966abd499ee79aade3', 'message': 'Add Pure Storage FlashBlade Manila driver\n\nDepends-On: If204a13609ace655e03808a7eb5db0fcf1202360\nChange-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c\n'}, {'number': 5, 'created': '2021-07-19 19:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a940a90ebe0004940eb46f256056707de90df7ec', 'message': 'Add Pure Storage FlashBlade Manila driver\n\nDepends-On: If204a13609ace655e03808a7eb5db0fcf1202360\nChange-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c\n'}, {'number': 6, 'created': '2021-07-19 19:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4d6af30426e740541d1a5fb609ab9ea0b48fe21', 'message': 'Add Pure Storage FlashBlade Manila driver\n\nDepends-On: If204a13609ace655e03808a7eb5db0fcf1202360\nChange-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c\n'}, {'number': 7, 'created': '2021-07-26 15:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c6429a65954bf33042c52a9806f4a866f2ebd0e', 'message': 'Add Pure Storage FlashBlade Manila driver\n\nDepends-On: If204a13609ace655e03808a7eb5db0fcf1202360\nChange-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c\n'}, {'number': 8, 'created': '2021-07-26 20:00:35.000000000', 'files': ['sample-env-generator/standalone.yaml', 'deployment/manila/manila-backend-flashblade-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'releasenotes/notes/purestorage_flashblade-75cbbdae48f233e0.yaml', 'roles_data.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ControllerNoCeph.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/manila-flashblade-config.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d92ebf07e82e3a6468e1171af12ae2307b65922', 'message': 'Add Pure Storage FlashBlade Manila driver\n\nDepends-On: If204a13609ace655e03808a7eb5db0fcf1202360\nChange-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c\n'}]",8,792850,2d92ebf07e82e3a6468e1171af12ae2307b65922,53,4,8,13425,,,0,"Add Pure Storage FlashBlade Manila driver

Depends-On: If204a13609ace655e03808a7eb5db0fcf1202360
Change-Id: Ia29beff08f4c1664c3582b31309c6ac35b230d0c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/792850/8 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'deployment/manila/manila-backend-flashblade-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles_data.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ControllerNoCeph.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/manila-flashblade-config.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml']",19,ac0589fc8216c2fca3520a4a586bb9752e3fd291,add_flashblade, - OS::TripleO::Services::ManilaBackendFlashBlade,,128,0
openstack%2Fvalidations-libs~master~Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf,openstack/validations-libs,master,Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf,Add Products metadata key management,MERGED,2021-07-13 20:20:27.000000000,2021-07-27 18:57:25.000000000,2021-07-27 18:57:25.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-13 20:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/51e4f65970a352c40742f8bd0bb2b3adb76c40b0', 'message': ""Add Products metadata key management\n\nThis patch adds the management of the new `products` metadata key in the\nvalidation playbooks. We can now filter the validations by their groups,\nby their categories or by their products while listing or running them.\n\nThe `list` sub command has now a new --product argument. When filtering\nby groups, by categories or by products (see the example below), the\n`list` sub command will return all the validation playbooks belonging to\nthe 'prep' group OR all the validation playbooks belonging to the 'os'\nand/or 'system' categories OR all the validation playbooks to the\n'tripleo' product:\n\n$ validation list -h\n$ validation list --group prep --category os,system --product tripleo\n\nThe `run` sub command has also its new --product argument. Note that\nthis new argument is mutually exclusive with the --validation, --group\nand --category arguments:\n\n$ validation run -h\n$ validation run --product tripleo --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation, --group and the --category\narguments:\n\n$ validation show parameter -h\n$ validation show parameter --product tripleo\n\nChange-Id: Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2021-07-13 20:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9237c79234aa88b8c3f8202d81483deef291e34f', 'message': ""Add Products metadata key management\n\nThis patch adds the management of the new `products` metadata key in the\nvalidation playbooks. We can now filter the validations by their groups,\nby their categories or by their products while listing or running them.\n\nThe `list` sub command has now a new --product argument. When filtering\nby groups, by categories or by products (see the example below), the\n`list` sub command will return all the validation playbooks belonging to\nthe 'prep' group OR all the validation playbooks belonging to the 'os'\nand/or 'system' categories OR all the validation playbooks to the\n'tripleo' product:\n\n$ validation list -h\n$ validation list --group prep --category os,system --product tripleo\n\nThe `run` sub command has also its new --product argument. Note that\nthis new argument is mutually exclusive with the --validation, --group\nand --category arguments:\n\n$ validation run -h\n$ validation run --product tripleo --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation, --group and the --category\narguments:\n\n$ validation show parameter -h\n$ validation show parameter --product tripleo\n\nChange-Id: Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2021-07-20 12:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9e3ee5f051544691ee12d25b869916f67d667be2', 'message': ""Add Products metadata key management\n\nThis patch adds the management of the new `products` metadata key in the\nvalidation playbooks. We can now filter the validations by their groups,\nby their categories or by their products while listing or running them.\n\nThe `list` sub command has now a new --product argument. When filtering\nby groups, by categories or by products (see the example below), the\n`list` sub command will return all the validation playbooks belonging to\nthe 'prep' group OR all the validation playbooks belonging to the 'os'\nand/or 'system' categories OR all the validation playbooks to the\n'tripleo' product:\n\n$ validation list -h\n$ validation list --group prep --category os,system --product tripleo\n\nThe `run` sub command has also its new --product argument. Note that\nthis new argument is mutually exclusive with the --validation, --group\nand --category arguments:\n\n$ validation run -h\n$ validation run --product tripleo --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation, --group and the --category\narguments:\n\n$ validation show parameter -h\n$ validation show parameter --product tripleo\n\nChange-Id: Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 4, 'created': '2021-07-21 22:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6fada35fdd19be8835e0bcad39982d4eaaffdb27', 'message': ""Add Products metadata key management\n\nThis patch adds the management of the new `products` metadata key in the\nvalidation playbooks. We can now filter the validations by their groups,\nby their categories or by their products while listing or running them.\n\nThe `list` sub command has now a new --product argument. When filtering\nby groups, by categories or by products (see the example below), the\n`list` sub command will return all the validation playbooks belonging to\nthe 'prep' group OR all the validation playbooks belonging to the 'os'\nand/or 'system' categories OR all the validation playbooks to the\n'tripleo' product:\n\n$ validation list -h\n$ validation list --group prep --category os,system --product tripleo\n\nThe `run` sub command has also its new --product argument. Note that\nthis new argument is mutually exclusive with the --validation, --group\nand --category arguments:\n\n$ validation run -h\n$ validation run --product tripleo --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation, --group and the --category\narguments:\n\n$ validation show parameter -h\n$ validation show parameter --product tripleo\n\nChange-Id: Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 5, 'created': '2021-07-23 19:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c22674d654b6417960e59b3f598d6a48d2335e86', 'message': ""Add Products metadata key management\n\nThis patch adds the management of the new `products` metadata key in the\nvalidation playbooks. We can now filter the validations by their groups,\nby their categories or by their products while listing or running them.\n\nThe `list` sub command has now a new --product argument. When filtering\nby groups, by categories or by products (see the example below), the\n`list` sub command will return all the validation playbooks belonging to\nthe 'prep' group OR all the validation playbooks belonging to the 'os'\nand/or 'system' categories OR all the validation playbooks to the\n'tripleo' product:\n\n$ validation list -h\n$ validation list --group prep --category os,system --product tripleo\n\nThe `run` sub command has also its new --product argument. Note that\nthis new argument is mutually exclusive with the --validation, --group\nand --category arguments:\n\n$ validation run -h\n$ validation run --product tripleo --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation, --group and the --category\narguments:\n\n$ validation show parameter -h\n$ validation show parameter --product tripleo\n\nChange-Id: Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 6, 'created': '2021-07-27 07:01:05.000000000', 'files': ['validations_libs/tests/cli/test_list.py', 'validations_libs/tests/cli/test_show.py', 'validations_libs/cli/lister.py', 'validations_libs/validation.py', 'validations_libs/tests/test_utils.py', 'validations_libs/validation_actions.py', 'validations_libs/tests/test_validation.py', 'validations_libs/cli/run.py', 'validations_libs/cli/show.py', 'validations_libs/tests/fakes.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c46c90394c22e38ded951744f0c514b410b10353', 'message': ""Add Products metadata key management\n\nThis patch adds the management of the new `products` metadata key in the\nvalidation playbooks. We can now filter the validations by their groups,\nby their categories or by their products while listing or running them.\n\nThe `list` sub command has now a new --product argument. When filtering\nby groups, by categories or by products (see the example below), the\n`list` sub command will return all the validation playbooks belonging to\nthe 'prep' group OR all the validation playbooks belonging to the 'os'\nand/or 'system' categories OR all the validation playbooks to the\n'tripleo' product:\n\n$ validation list -h\n$ validation list --group prep --category os,system --product tripleo\n\nThe `run` sub command has also its new --product argument. Note that\nthis new argument is mutually exclusive with the --validation, --group\nand --category arguments:\n\n$ validation run -h\n$ validation run --product tripleo --inventory /etc/ansible/hosts\n\nThe `show parameter` sub command has the same new argument which is also\nmutually exclusive with the --validation, --group and the --category\narguments:\n\n$ validation show parameter -h\n$ validation show parameter --product tripleo\n\nChange-Id: Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",13,800721,c46c90394c22e38ded951744f0c514b410b10353,30,8,6,11491,,,0,"Add Products metadata key management

This patch adds the management of the new `products` metadata key in the
validation playbooks. We can now filter the validations by their groups,
by their categories or by their products while listing or running them.

The `list` sub command has now a new --product argument. When filtering
by groups, by categories or by products (see the example below), the
`list` sub command will return all the validation playbooks belonging to
the 'prep' group OR all the validation playbooks belonging to the 'os'
and/or 'system' categories OR all the validation playbooks to the
'tripleo' product:

$ validation list -h
$ validation list --group prep --category os,system --product tripleo

The `run` sub command has also its new --product argument. Note that
this new argument is mutually exclusive with the --validation, --group
and --category arguments:

$ validation run -h
$ validation run --product tripleo --inventory /etc/ansible/hosts

The `show parameter` sub command has the same new argument which is also
mutually exclusive with the --validation, --group and the --category
arguments:

$ validation show parameter -h
$ validation show parameter --product tripleo

Change-Id: Ief13e506c2bee18da47b31f1c2d5c0dbb1ad1ecf
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/21/800721/6 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/cli/test_list.py', 'validations_libs/tests/cli/test_show.py', 'validations_libs/cli/lister.py', 'validations_libs/validation.py', 'validations_libs/tests/test_utils.py', 'validations_libs/validation_actions.py', 'validations_libs/tests/test_validation.py', 'validations_libs/cli/run.py', 'validations_libs/cli/show.py', 'validations_libs/tests/fakes.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py']",13,51e4f65970a352c40742f8bd0bb2b3adb76c40b0,validation_metadata_evolution," self.column_name = ('ID', 'Name', 'Groups', 'Categories', 'Products') ['os', 'system', 'ram'], ['tripleo']), ['networking'], ['tripleo'])])) 'Products': ['tripleo'], @mock.patch('six.moves.builtins.open') def test_show_validations_parameters_wrong_products_type(self, mock_open): v_actions = ValidationActions() self.assertRaises(TypeError, v_actions.show_validations_parameters, products={'foo': 'bar'}) "," self.column_name = ('ID', 'Name', 'Groups', 'Categories') ['os', 'system', 'ram']), ['networking'])]))",325,55
openstack%2Fswift~master~I8ce73e2e21e9216484130ba3bd1e77b45eb1d77c,openstack/swift,master,I8ce73e2e21e9216484130ba3bd1e77b45eb1d77c,s3api: Return KeyTooLongError when upload name exceeds constraints,MERGED,2021-06-09 19:51:04.000000000,2021-07-27 18:50:01.000000000,2021-07-27 18:48:21.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 19:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1c9d83ca10b5f6627b1933a2d0688a8129ad2894', 'message': 's3api: Return KeyTooLong when upload name exceeds constraints\n\nChange-Id: I8ce73e2e21e9216484130ba3bd1e77b45eb1d77c\n'}, {'number': 2, 'created': '2021-06-09 20:11:08.000000000', 'files': ['swift/common/middleware/s3api/controllers/obj.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/s3response.py', 'test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_object.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ca0c34445630e3c3e1df191490b987aa15f8b82a', 'message': 's3api: Return KeyTooLongError when upload name exceeds constraints\n\nChange-Id: I8ce73e2e21e9216484130ba3bd1e77b45eb1d77c\n'}]",5,795687,ca0c34445630e3c3e1df191490b987aa15f8b82a,24,3,2,15343,,,0,"s3api: Return KeyTooLongError when upload name exceeds constraints

Change-Id: I8ce73e2e21e9216484130ba3bd1e77b45eb1d77c
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/795687/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/obj.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_object.py']",4,1c9d83ca10b5f6627b1933a2d0688a8129ad2894,," def test_put_object_name_too_long(self): status, headers, body = self.conn.make_request( 'PUT', self.bucket, 'x' * (tf.cluster_info['swift']['max_object_name_length'] + 1)) self.assertEqual(get_error_code(body), 'KeyTooLong') self.assertEqual(headers['content-type'], 'application/xml') ",,24,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ie5e694ab3b9e5196aea76da51e4e567ec8970fd7,openstack/python-tripleoclient,stable/wallaby,Ie5e694ab3b9e5196aea76da51e4e567ec8970fd7,Add --reproduce-command option for tripleo deploy,MERGED,2021-07-25 19:58:34.000000000,2021-07-27 18:44:45.000000000,2021-07-27 18:43:09.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 19:58:34.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9e5aed468c135b6e6b785f773c770289cea55fd7', 'message': ""Add --reproduce-command option for tripleo deploy\n\nWhile using tripleo deploy command we need sometimes to save\nreproducer script for issues investigation. Add option to enable\nit '--reprocuce-command'.\n\nChange-Id: Ie5e694ab3b9e5196aea76da51e4e567ec8970fd7\n(cherry picked from commit bdc976e4201a2ada5dde341dbb3e5d5027a7d9a6)\n""}]",0,802199,9e5aed468c135b6e6b785f773c770289cea55fd7,19,5,1,10969,,,0,"Add --reproduce-command option for tripleo deploy

While using tripleo deploy command we need sometimes to save
reproducer script for issues investigation. Add option to enable
it '--reprocuce-command'.

Change-Id: Ie5e694ab3b9e5196aea76da51e4e567ec8970fd7
(cherry picked from commit bdc976e4201a2ada5dde341dbb3e5d5027a7d9a6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/99/802199/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,9e5aed468c135b6e6b785f773c770289cea55fd7,repro-stable/wallaby," parser.add_argument( '--reproduce-command', action='store_true', default=False, help=_('Create a reproducer command with ansible command' 'line and all environments variables.') ) reproduce_command=parsed_args.reproduce_command,",,8,0
openstack%2Fplacement~master~Ia9dce4590d5656f8d5f777e158a1ff67c059c87a,openstack/placement,master,Ia9dce4590d5656f8d5f777e158a1ff67c059c87a,Add periodic-stable-jobs template,MERGED,2021-02-12 13:49:07.000000000,2021-07-27 18:42:34.000000000,2021-07-27 18:38:27.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-02-12 13:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4cc4059be27fd17103d5d241b800f38b7bb29c90', 'message': 'Add periodic-stable-jobs template\n\nPeriodic stable jobs (one py3 and a docs job) are not running towards\nplacement. This patch adds the template to .zuul.yaml\n\nChange-Id: Ia9dce4590d5656f8d5f777e158a1ff67c059c87a\n'}, {'number': 2, 'created': '2021-05-06 17:12:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/a0749aec17d1663c58b23d470ad9f56684d5d590', 'message': 'Add periodic-stable-jobs template\n\nPeriodic stable jobs (one py3 and a docs job) are not running towards\nplacement. This patch adds the template to .zuul.yaml\n\nChange-Id: Ia9dce4590d5656f8d5f777e158a1ff67c059c87a\n'}]",0,775384,a0749aec17d1663c58b23d470ad9f56684d5d590,14,6,2,17685,,,0,"Add periodic-stable-jobs template

Periodic stable jobs (one py3 and a docs job) are not running towards
placement. This patch adds the template to .zuul.yaml

Change-Id: Ia9dce4590d5656f8d5f777e158a1ff67c059c87a
",git fetch https://review.opendev.org/openstack/placement refs/changes/84/775384/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4cc4059be27fd17103d5d241b800f38b7bb29c90,, - periodic-stable-jobs,,1,0
openstack%2Frequirements~master~I886b3d946a95029c53b910b4a4fc37ffa43de01f,openstack/requirements,master,I886b3d946a95029c53b910b4a4fc37ffa43de01f,update constraint for monasca-common to new release 3.4.0,MERGED,2021-07-27 09:12:49.000000000,2021-07-27 18:27:24.000000000,2021-07-27 18:24:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 09:12:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4d4d447b89d4a205f01f63d4487fc010085e9264', 'message': 'update constraint for monasca-common to new release 3.4.0\n\nmeta: version: 3.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5013c7967e7489fd4ccdf7eb9cf7a0c85fd392ba\nmeta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I886b3d946a95029c53b910b4a4fc37ffa43de01f\n'}]",0,802442,4d4d447b89d4a205f01f63d4487fc010085e9264,8,2,1,11131,,,0,"update constraint for monasca-common to new release 3.4.0

meta: version: 3.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5013c7967e7489fd4ccdf7eb9cf7a0c85fd392ba
meta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I886b3d946a95029c53b910b4a4fc37ffa43de01f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/802442/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4d4d447b89d4a205f01f63d4487fc010085e9264,new-release,monasca-common===3.4.0,monasca-common===3.3.0,1,1
openstack%2Frequirements~master~I998cdf070d44056c409f986cb2ed6d7fe4522f40,openstack/requirements,master,I998cdf070d44056c409f986cb2ed6d7fe4522f40,update constraint for python-monascaclient to new release 2.4.0,MERGED,2021-07-27 09:24:56.000000000,2021-07-27 18:26:03.000000000,2021-07-27 18:24:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 09:24:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aa9c695befedd07804bf0ed3a3f884a5fbc2a978', 'message': 'update constraint for python-monascaclient to new release 2.4.0\n\nmeta: version: 2.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic704b8466e904c82e9de997886a668d4430090d2\nmeta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I998cdf070d44056c409f986cb2ed6d7fe4522f40\n'}]",0,802443,aa9c695befedd07804bf0ed3a3f884a5fbc2a978,8,2,1,11131,,,0,"update constraint for python-monascaclient to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic704b8466e904c82e9de997886a668d4430090d2
meta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I998cdf070d44056c409f986cb2ed6d7fe4522f40
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/802443/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,aa9c695befedd07804bf0ed3a3f884a5fbc2a978,new-release,python-monascaclient===2.4.0,python-monascaclient===2.3.0,1,1
openstack%2Frequirements~stable%2Fussuri~Iebe650825b6fa3a9b343f54ff5a7e68a49b6d9e7,openstack/requirements,stable/ussuri,Iebe650825b6fa3a9b343f54ff5a7e68a49b6d9e7,update constraint for ceilometer to new release 14.1.0,MERGED,2021-07-27 12:08:23.000000000,2021-07-27 18:24:02.000000000,2021-07-27 18:24:02.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 12:08:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3685bd3aa1eb60f0d8b70e313e063d79509036eb', 'message': 'update constraint for ceilometer to new release 14.1.0\n\nmeta: version: 14.1.0\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I7abdcbedb3c6d5f808a199195e6a76273604e19c\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iebe650825b6fa3a9b343f54ff5a7e68a49b6d9e7\n'}]",0,802485,3685bd3aa1eb60f0d8b70e313e063d79509036eb,6,2,1,11131,,,0,"update constraint for ceilometer to new release 14.1.0

meta: version: 14.1.0
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I7abdcbedb3c6d5f808a199195e6a76273604e19c
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iebe650825b6fa3a9b343f54ff5a7e68a49b6d9e7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/802485/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3685bd3aa1eb60f0d8b70e313e063d79509036eb,new-release,ceilometer===14.1.0,ceilometer===14.0.0,1,1
openstack%2Fcharm-nova-cloud-controller~master~I6e7a1c719921d48745e047af46017a43ff927643,openstack/charm-nova-cloud-controller,master,I6e7a1c719921d48745e047af46017a43ff927643,Sync release-tools,MERGED,2021-07-22 12:58:53.000000000,2021-07-27 18:20:34.000000000,2021-07-27 18:20:34.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 12:58:53.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/27df75e61abf4d8c8415380d13420385537fb9c7', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I6e7a1c719921d48745e047af46017a43ff927643\n'}]",0,801828,27df75e61abf4d8c8415380d13420385537fb9c7,9,3,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I6e7a1c719921d48745e047af46017a43ff927643
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/28/801828/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,27df75e61abf4d8c8415380d13420385537fb9c7,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Fnova~master~I9157f65fc0d4e93761983f27380acb1b7f5106ab,openstack/nova,master,I9157f65fc0d4e93761983f27380acb1b7f5106ab,WIP: compute: Add more type hints for resize functions,NEW,2020-08-11 13:38:19.000000000,2021-07-27 18:08:02.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-11 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50b8e58ff59d6c91ee0ab8109ad735da2315b7b5', 'message': ""WIP: compute: Add more type hints for resize functions\n\nAdd type hints for the 'resize_instance' and 'prep_resize' methods, plus\ntheir inner variants.\n\nTODO: Finish docstrings explaining the purpose of each function.\n\nChange-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-08-19 17:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/818390747729f12946495708b0b4dbfc79090f24', 'message': ""WIP: compute: Add more type hints for resize functions\n\nAdd type hints for the 'resize_instance' and 'prep_resize' methods, plus\ntheir inner variants.\n\nTODO: Finish docstrings explaining the purpose of each function.\n\nChange-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-19 19:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/271eb3404679cfbe8376f35c7db8734891eafe77', 'message': ""WIP: compute: Add more type hints for resize functions\n\nAdd type hints for the 'resize_instance' and 'prep_resize' methods, plus\ntheir inner variants.\n\nTODO: Finish docstrings explaining the purpose of each function.\n\nChange-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-08-24 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bd6bf4c708d76fa162df6d89d5024980a533b9f', 'message': ""WIP: compute: Add more type hints for resize functions\n\nAdd type hints for the 'resize_instance' and 'prep_resize' methods, plus\ntheir inner variants.\n\nTODO: Finish docstrings explaining the purpose of each function.\n\nChange-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-08-25 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/922284c1712b6da109620e4b461a260533e6f3a1', 'message': ""WIP: compute: Add more type hints for resize functions\n\nAdd type hints for the 'resize_instance' and 'prep_resize' methods, plus\ntheir inner variants.\n\nTODO: Finish docstrings explaining the purpose of each function.\n\nChange-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-26 09:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f902c5285dc4f185eb6d2d0617756fbaa78e260d', 'message': ""WIP: compute: Add more type hints for resize functions\n\nAdd type hints for the 'resize_instance' and 'prep_resize' methods, plus\ntheir inner variants.\n\nTODO: Finish docstrings explaining the purpose of each function.\n\nChange-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-09-03 08:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e89e0140986a3e725bf7abc3b211bbeb21e580ea', 'message': ""WIP: compute: Add more type hints for resize functions\n\nAdd type hints for the 'resize_instance' and 'prep_resize' methods, plus\ntheir inner variants.\n\nTODO: Finish docstrings explaining the purpose of each function.\n\nChange-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-07-27 15:29:52.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/19fb2faeca40b6863845b21895009f616ede1e0e', 'message': ""WIP: compute: Add more type hints for resize functions\n\nAdd type hints for the 'resize_instance' and 'prep_resize' methods, plus\ntheir inner variants.\n\nTODO: Finish docstrings explaining the purpose of each function.\n\nChange-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,745675,19fb2faeca40b6863845b21895009f616ede1e0e,69,11,8,15334,,,0,"WIP: compute: Add more type hints for resize functions

Add type hints for the 'resize_instance' and 'prep_resize' methods, plus
their inner variants.

TODO: Finish docstrings explaining the purpose of each function.

Change-Id: I9157f65fc0d4e93761983f27380acb1b7f5106ab
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/745675/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,50b8e58ff59d6c91ee0ab8109ad735da2315b7b5,bug/1879878," self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', ) -> None: self, context: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', provider_mappings: ty.Dict[str, ty.List[str]], ) -> None: def _prep_resize( self, context: nova.context.RequestContext, image: 'objects.ImageMeta', instance: 'objects.Instance', instance_type: 'objects.Flavor', filter_properties: ty.Dict[str, ty.Any], node: str, migration: 'objects.Migration', request_spec: 'objects.RequestSpec', clean_shutdown: bool = True, ) -> None: """"""Private version of ``prep_resize``. This allows the main method to be decorated with error handlers. """""" self, context: nova.context.RequestContext, instance: 'objects.Instance', phase: str, flavor: 'objects.Flavor', ) -> None: def prep_resize( self, context: nova.context.RequestContext, image: 'objects.ImageMeta', instance: 'objects.Instance', instance_type: 'objects.Flavor', request_spec: 'objects.RequestSpec', filter_properties: ty.Dict[str, ty.Any], node: str, clean_shutdown: bool, migration: 'objects.Migration', host_list: ty.List['objects.Selection'], ) -> None: :param context: nova auth request context targeted at the source cell :param image: :param instance: :param instance_type: :param request_spec: :param filter_properties: :param node: :param clean_shutdown :param migration: :param host_list: self, ctxt: nova.context.RequestSpec, instance: 'objects.Instance', flavor: 'objects.Flavor', nodename: str, migration: 'objects.Migration', limits: 'objects.SchedulerLimits', request_spec: 'objects.RequestSpec', ) -> 'objects.MigrationContext': self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', snapshot_id: ty.Optional[str] = None, ): def _snapshot_for_resize( self, ctxt: nova.context.RequestContext, image_id: str, instance: 'objects.Instance', ) -> None: self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', snapshot_id: ty.Optional[str] = None, ) -> None: def resize_instance( self, context: nova.context.RequestContext, instance: 'objects.Instance', image: 'objects.ImageMeta', migration: 'objects.Migration', instance_type: 'objects.Flavor', clean_shutdown: bool, request_spec: ty.Optional['objects.RequestSpec'] = None, ) -> None: :param context: nova auth request context targeted at the source cell :param instance: :param image: :param migration: :param instance_type: :param clean_shutdown :param request_spec: def _resize_instance( self, context: nova.context.RequestContext, instance: 'objects.Instance', image: 'objects.ImageMeta', migration: 'objects.Migration', instance_type: 'objects.Flavor', clean_shutdown: bool, request_spec: ty.Optional['objects.RequestSpec'], ) -> None: """"""Private version of ``resize_instance``. This allows the main method to be decorated with error handlers. """""" def _finish_resize( self, context, instance, migration, disk_info, image_meta, bdms, request_spec, ) -> None: """"""Private version of ``resize_instance``. This allows the main method to be decorated with error handlers. """""" def finish_resize( self, context: nova.context.RequestContext, disk_info: str, image: 'objects.ImageMeta', instance: 'objects.Instance', migration: 'objects.Migration', request_spec: ty.Optional['objects.RequestSpec'] = None, ) -> None: new host machine. The caller must revert the instance's allocations if the migration process failed. :param context: :param disk_info: :param image: :param instance: :param migration: :param request_spec: bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) with self._error_out_instance_on_exception(context, instance): image_meta = objects.ImageMeta.from_dict(image) network_info = self._finish_resize( context, instance, migration, disk_info, image_meta, bdms, request_spec) # TODO(melwitt): We should clean up instance console tokens here. # The instance is on a new host and will need to establish a new # console connection. self._update_scheduler_instance_info(context, instance) self._send_finish_resize_notifications( context, instance, bdms, network_info, fields.NotificationPhase.END) self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', snapshot_id: str, request_spec: 'objects.RequestSpec', ) -> None: self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', snapshot_id: str, ) -> None: """"""Private version of ``finish_snapshot_based_resize_at_dest``. This allows the main method to be decorated with error handlers. self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', image_meta: 'objects.ImageMeta', bdms: 'objects.BlockDeviceMappingList', ) -> None:"," self, ctxt, instance): self, context, instance, migration, provider_mappings): def _prep_resize(self, context, image, instance, instance_type, filter_properties, node, migration, request_spec, clean_shutdown=True): self, context, instance, phase, flavor): def prep_resize(self, context, image, instance, instance_type, request_spec, filter_properties, node, clean_shutdown, migration, host_list): self, ctxt, instance, flavor, nodename, migration, limits, request_spec): self, ctxt, instance, migration, snapshot_id=None): def _snapshot_for_resize(self, ctxt, image_id, instance): self, ctxt, instance, migration, snapshot_id=None): def resize_instance(self, context, instance, image, migration, instance_type, clean_shutdown, request_spec=None): def _resize_instance(self, context, instance, image, migration, instance_type, clean_shutdown, request_spec): def _finish_resize(self, context, instance, migration, disk_info, image_meta, bdms, request_spec): def finish_resize(self, context, disk_info, image, instance, migration, request_spec=None): new host machine. self._finish_resize_helper(context, disk_info, image, instance, migration, request_spec) def _finish_resize_helper(self, context, disk_info, image, instance, migration, request_spec): """"""Completes the migration process. The caller must revert the instance's allocations if the migration process failed. """""" bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) with self._error_out_instance_on_exception(context, instance): image_meta = objects.ImageMeta.from_dict(image) network_info = self._finish_resize(context, instance, migration, disk_info, image_meta, bdms, request_spec) # TODO(melwitt): We should clean up instance console tokens here. The # instance is on a new host and will need to establish a new console # connection. self._update_scheduler_instance_info(context, instance) self._send_finish_resize_notifications( context, instance, bdms, network_info, fields.NotificationPhase.END) self, ctxt, instance, migration, snapshot_id, request_spec): self, ctxt, instance, migration, snapshot_id): """"""Private variant of finish_snapshot_based_resize_at_dest so the caller can handle reverting resource allocations on failure and perform other generic error handling. self, ctxt, instance, migration, image_meta, bdms):",183,57
openstack%2Fnova~master~If9a1898be8dc735ebd12cbcef013c20568f80ae6,openstack/nova,master,If9a1898be8dc735ebd12cbcef013c20568f80ae6,Cleanup 'drop_move_claim' and '_drop_move_claim',NEW,2020-08-24 14:55:42.000000000,2021-07-27 17:53:48.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-24 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98600d6766538cfc8c98d2c076039cdb21841fb7', 'message': 'Cleanup \'drop_move_claim\' and \'_drop_move_claim\'\n\nA couple of things here:\n\n- The \'instance_type\' parameter should always be provided by the\n  remaining callers of both \'drop_move_claim\' and \'_drop_move_claim\' and\n  should never need to be looked up using \'_get_instance_type\'.\n- On that note, we haven\'t talked about ""instance types"" in years:\n  they\'re ""flavors"" nowadays. Update the variables and parameter\n  accordingly.\n- The \'prefix\' parameter is never overridden for \'drop_move_claim\' and\n  can be dropped.\n- We should warn when we attempt to free usage for an untracked instance\n  or migration record, since that indicates bugs like #1879878 are\n  possible.\n\nChange-Id: If9a1898be8dc735ebd12cbcef013c20568f80ae6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-08-25 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebe7c07ae240d07cfbcc186734af098444359663', 'message': 'Cleanup \'drop_move_claim\' and \'_drop_move_claim\'\n\nA couple of things here:\n\n- The \'instance_type\' parameter should always be provided by the\n  remaining callers of both \'drop_move_claim\' and \'_drop_move_claim\' and\n  should never need to be looked up using \'_get_instance_type\'.\n- On that note, we haven\'t talked about ""instance types"" in years:\n  they\'re ""flavors"" nowadays. Update the variables and parameter\n  accordingly.\n- The \'prefix\' parameter is never overridden for \'drop_move_claim\' and\n  can be dropped.\n- We should warn when we attempt to free usage for an untracked instance\n  or migration record, since that indicates bugs like #1879878 are\n  possible.\n\nChange-Id: If9a1898be8dc735ebd12cbcef013c20568f80ae6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-08-26 09:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f6b306ef49d6de885b851d5ff6c2ad7db1a9f12', 'message': 'Cleanup \'drop_move_claim\' and \'_drop_move_claim\'\n\nA couple of things here:\n\n- The \'instance_type\' parameter should always be provided by the\n  remaining callers of both \'drop_move_claim\' and \'_drop_move_claim\' and\n  should never need to be looked up using \'_get_instance_type\'.\n- On that note, we haven\'t talked about ""instance types"" in years:\n  they\'re ""flavors"" nowadays. Update the variables and parameter\n  accordingly.\n- The \'prefix\' parameter is never overridden for \'drop_move_claim\' and\n  can be dropped.\n- We should warn when we attempt to free usage for an untracked instance\n  or migration record, since that indicates bugs like #1879878 are\n  possible.\n\nChange-Id: If9a1898be8dc735ebd12cbcef013c20568f80ae6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2020-09-03 08:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c7b0bf9daaf04b91d4b30665aba55dc372453e4', 'message': 'Cleanup \'drop_move_claim\' and \'_drop_move_claim\'\n\nA couple of things here:\n\n- The \'instance_type\' parameter should always be provided by the\n  remaining callers of both \'drop_move_claim\' and \'_drop_move_claim\' and\n  should never need to be looked up using \'_get_instance_type\'.\n- On that note, we haven\'t talked about ""instance types"" in years:\n  they\'re ""flavors"" nowadays. Update the variables and parameter\n  accordingly.\n- The \'prefix\' parameter is never overridden for \'drop_move_claim\' and\n  can be dropped.\n- We should warn when we attempt to free usage for an untracked instance\n  or migration record, since that indicates bugs like #1879878 are\n  possible.\n\nChange-Id: If9a1898be8dc735ebd12cbcef013c20568f80ae6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-07-27 15:29:52.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/compute/claims.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/22b435e04e7cfc96fbdf98a0705dd081c822148b', 'message': ""Cleanup 'drop_move_claim' and '_drop_move_claim'\n\nA couple of things here:\n\n- The 'flavor' parameter should always be provided by the\n  remaining callers of both 'drop_move_claim' and '_drop_move_claim' and\n  should never need to be looked up using '_get_flavor'.\n- The 'prefix' parameter is never overridden for 'drop_move_claim' and\n  can be dropped.\n- We should warn when we attempt to free usage for an untracked instance\n  or migration record, since that indicates bugs like #1879878 are\n  possible.\n\nChange-Id: If9a1898be8dc735ebd12cbcef013c20568f80ae6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,747747,22b435e04e7cfc96fbdf98a0705dd081c822148b,43,11,5,15334,,,0,"Cleanup 'drop_move_claim' and '_drop_move_claim'

A couple of things here:

- The 'flavor' parameter should always be provided by the
  remaining callers of both 'drop_move_claim' and '_drop_move_claim' and
  should never need to be looked up using '_get_flavor'.
- The 'prefix' parameter is never overridden for 'drop_move_claim' and
  can be dropped.
- We should warn when we attempt to free usage for an untracked instance
  or migration record, since that indicates bugs like #1879878 are
  possible.

Change-Id: If9a1898be8dc735ebd12cbcef013c20568f80ae6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/747747/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/compute/claims.py', 'nova/compute/resource_tracker.py']",4,98600d6766538cfc8c98d2c076039cdb21841fb7,bug/1879878," def drop_move_claim(self, context, instance, nodename, flavor): context, instance, nodename, flavor, prefix='new_') self, context, instance, nodename, flavor, prefix, completed successfully, this is normally the source. If it did not complete successfully (failed or reverted), this is normally the destination. :param flavor: The flavor that determines the usage to remove. If the migration completed successfully, this is the old flavor to be removed from the source. If the migration did not complete successfully, this is the new flavor to be removed from the destination. attributes. 'old_' or 'new_'. if instance['uuid'] in self.tracked_migrations: # Remove usage for an instance that is tracked in migrations, such # as on the dest node during revert resize. self.tracked_migrations.pop(instance['uuid']) elif instance['uuid'] in self.tracked_instances: # Remove usage for an instance that is not tracked in migrations # (such as on the source node after a migration). # NOTE(lbeliveau): On resize on the same node, the instance is # included in both tracked_migrations and tracked_instances. else: LOG.warning( ""Attempting to drop move claim for an untracked instance; "" ""this is likely a race."" ) return numa_topology = self._get_migration_context_resource( 'numa_topology', instance, prefix=prefix) usage = self._get_usage_dict( flavor, instance, numa_topology=numa_topology) self._drop_pci_devices(instance, nodename, prefix) resources = self._get_migration_context_resource( 'resources', instance, prefix=prefix) self._release_assigned_resources(resources) self._update_usage(usage, nodename, sign=-1) ctxt = context.elevated() self._update(ctxt, self.compute_nodes[nodename])"," def drop_move_claim(self, context, instance, nodename, instance_type=None, prefix='new_'): context, instance, nodename, instance_type, prefix='new_') self, context, instance, nodename, instance_type=None, prefix='new_', completed successfully, this is normally the source. If it did not complete successfully (failed or reverted), this is normally the destination. :param instance_type: The flavor that determines the usage to remove. If the migration completed successfully, this is the old flavor to be removed from the source. If the migration did not complete successfully, this is the new flavor to be removed from the destination. attributes. 'old_' or 'new_', with 'new_' being the default. # Remove usage for an instance that is tracked in migrations, such as # on the dest node during revert resize. if instance['uuid'] in self.tracked_migrations: migration = self.tracked_migrations.pop(instance['uuid']) if not instance_type: instance_type = self._get_instance_type(instance, prefix, migration) # Remove usage for an instance that is not tracked in migrations (such # as on the source node after a migration). # NOTE(lbeliveau): On resize on the same node, the instance is # included in both tracked_migrations and tracked_instances. elif instance['uuid'] in self.tracked_instances: if instance_type is not None: numa_topology = self._get_migration_context_resource( 'numa_topology', instance, prefix=prefix) usage = self._get_usage_dict( instance_type, instance, numa_topology=numa_topology) self._drop_pci_devices(instance, nodename, prefix) resources = self._get_migration_context_resource( 'resources', instance, prefix=prefix) self._release_assigned_resources(resources) self._update_usage(usage, nodename, sign=-1) ctxt = context.elevated() self._update(ctxt, self.compute_nodes[nodename])",39,44
openstack%2Fnova~master~I7cf0f6907d51e753a9a9d9f4e06aa1e7b94d9386,openstack/nova,master,I7cf0f6907d51e753a9a9d9f4e06aa1e7b94d9386,manager: Address TODO,NEW,2020-08-24 14:55:42.000000000,2021-07-27 17:49:27.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-24 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98a1a660a6c87a74f984540b1eb2c345f6b4aec2', 'message': 'manager: Address TODO\n\nMake some style-only changes, folding calls in more logically and\nflattening things somewhat.\n\nChange-Id: I7cf0f6907d51e753a9a9d9f4e06aa1e7b94d9386\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-08-25 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bed8bba986453a01d309f70ee65497dc1fad28a0', 'message': 'manager: Address TODO\n\nMake some style-only changes, folding calls in more logically and\nflattening things somewhat.\n\nChange-Id: I7cf0f6907d51e753a9a9d9f4e06aa1e7b94d9386\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-08-26 09:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93eab01f2e19a4680750df0428997f6f0c71e209', 'message': 'manager: Address TODO\n\nMake some style-only changes, folding calls in more logically and\nflattening things somewhat.\n\nChange-Id: I7cf0f6907d51e753a9a9d9f4e06aa1e7b94d9386\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2020-09-03 08:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e62fd437b8406aa4dd75d52a6e875a30644987d', 'message': 'manager: Address TODO\n\nMake some style-only changes, folding calls in more logically and\nflattening things somewhat.\n\nChange-Id: I7cf0f6907d51e753a9a9d9f4e06aa1e7b94d9386\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-07-27 15:29:52.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c834e9421ef3f192f435c82870b93ce1ccb78141', 'message': 'manager: Address TODO\n\nMake some style-only changes, folding calls in more logically and\nflattening things somewhat.\n\nChange-Id: I7cf0f6907d51e753a9a9d9f4e06aa1e7b94d9386\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,747748,c834e9421ef3f192f435c82870b93ce1ccb78141,42,10,5,15334,,,0,"manager: Address TODO

Make some style-only changes, folding calls in more logically and
flattening things somewhat.

Change-Id: I7cf0f6907d51e753a9a9d9f4e06aa1e7b94d9386
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/747748/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,98a1a660a6c87a74f984540b1eb2c345f6b4aec2,bug/1879878," def _get_updated_nw_info_with_pci_mapping(self, context, instance): nw_info = self.network_api.get_instance_nw_info(context, instance) pci_mapping = instance.migration_context.get_pci_mapping_for_migration( revert=True) if not nw_info or not pci_mapping: return nw_info nw_info = copy.deepcopy(nw_info) for vif in nw_info: if vif['vnic_type'] not in network_model.VNIC_TYPES_SRIOV: continue try: vif_pci_addr = vif['profile']['pci_slot'] new_addr = pci_mapping[vif_pci_addr].address vif['profile']['pci_slot'] = new_addr except (KeyError, AttributeError): # NOTE(adrianc): This should never happen. If we # get here it means there is some inconsistency # with either 'nw_info' or 'pci_mapping'. LOG.error( ""Unexpected error when updating network information "" ""with PCI mapping."") raise LOG.debug( ""Updating VIF's PCI address for VIF %(id)s. "" ""Original value %(orig)s, new value %(new)s"", {'id': vif['id'], 'orig': vif_pci_addr, 'new': new_addr}) return nw_info self._notify_about_instance_usage( context, instance, ""resize.confirm.start"") self.network_api.setup_networks_on_host( context, instance, migration.source_compute, teardown=True) # NOTE(adrianc): Populate old PCI device in VIF profile to allow virt # driver to properly unplug it from the hypervisor context, instance) self.driver.confirm_migration( context, migration, instance, network_info) if instance.power_state == power_state.SHUTDOWN: LOG.debug( ""Resized/migrated instance is powered off. "" ""Setting vm_state to '%s'."", vm_state, instance=instance) instance.save(expected_task_state=[ None, task_states.DELETING, task_states.SOFT_DELETING]) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.RESIZE_CONFIRM, phase=fields.NotificationPhase.END)"," def _get_updated_nw_info_with_pci_mapping(self, nw_info, pci_mapping): updated_nw_info = nw_info if nw_info and pci_mapping: updated_nw_info = copy.deepcopy(nw_info) for vif in updated_nw_info: if vif['vnic_type'] in network_model.VNIC_TYPES_SRIOV: try: vif_pci_addr = vif['profile']['pci_slot'] new_addr = pci_mapping[vif_pci_addr].address vif['profile']['pci_slot'] = new_addr LOG.debug(""Updating VIF's PCI address for VIF %(id)s. "" ""Original value %(orig_val)s, "" ""new value %(new_val)s"", {'id': vif['id'], 'orig_val': vif_pci_addr, 'new_val': new_addr}) except (KeyError, AttributeError): with excutils.save_and_reraise_exception(): # NOTE(adrianc): This should never happen. If we # get here it means there is some inconsistency # with either 'nw_info' or 'pci_mapping'. LOG.error(""Unexpected error when updating network "" ""information with PCI mapping."") return updated_nw_info self._notify_about_instance_usage(context, instance, ""resize.confirm.start"") self.network_api.setup_networks_on_host(context, instance, migration.source_compute, teardown=True) # TODO(stephenfin): These next three calls should be bundled network_info = self.network_api.get_instance_nw_info(context, instance) # NOTE(adrianc): Populate old PCI device in VIF profile # to allow virt driver to properly unplug it from Hypervisor. pci_mapping = (instance.migration_context. get_pci_mapping_for_migration(True)) network_info, pci_mapping) self.driver.confirm_migration(context, migration, instance, network_info) p_state = instance.power_state vm_state = None if p_state == power_state.SHUTDOWN: LOG.debug(""Resized/migrated instance is powered off. "" ""Setting vm_state to '%s'."", vm_state, instance=instance) instance.save(expected_task_state=[None, task_states.DELETING, task_states.SOFT_DELETING]) compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_CONFIRM, phase=fields.NotificationPhase.END)",75,62
openstack%2Fsahara~master~I10261693216ca93faa49d22f2827a939114d234d,openstack/sahara,master,I10261693216ca93faa49d22f2827a939114d234d,Drop support for Block Storage API v2,MERGED,2021-07-27 01:57:32.000000000,2021-07-27 17:47:18.000000000,2021-07-27 17:43:24.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 01:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/87d3d614e23ef2932721878e2047a786a51d21ab', 'message': 'Drop support for Block Storage API v2\n\n... because it was already removed from cinder[1].\n\n[1] e05b261af7dcd24096b229860df65dff1d385910\n\nChange-Id: I10261693216ca93faa49d22f2827a939114d234d\n'}, {'number': 2, 'created': '2021-07-27 02:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/db749db1172a1da4caa605a79e004ef086803ca4', 'message': 'Drop support for Block Storage API v2\n\n... because it was already removed from cinder[1].\n\n[1] e05b261af7dcd24096b229860df65dff1d385910\n\nChange-Id: I10261693216ca93faa49d22f2827a939114d234d\n'}, {'number': 3, 'created': '2021-07-27 03:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a5604e116a1b3b7cac3bdb371dc86b63b4839c1f', 'message': 'Drop support for Block Storage API v2\n\n... because it was already removed from cinder[1].\n\n[1] e05b261af7dcd24096b229860df65dff1d385910\n\nChange-Id: I10261693216ca93faa49d22f2827a939114d234d\n'}, {'number': 4, 'created': '2021-07-27 10:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ff588896fdd725d8148f627fe00708a8a70f5fe0', 'message': 'Drop support for Block Storage API v2\n\n... because it was already removed from cinder[1].\n\n[1] e05b261af7dcd24096b229860df65dff1d385910\n\nAlso, fix the sahara-openstack-ansible-functional job\nso that it considers sahara.git changes.\n\nChange-Id: I10261693216ca93faa49d22f2827a939114d234d\n'}, {'number': 5, 'created': '2021-07-27 15:12:12.000000000', 'files': ['sahara/tests/unit/service/test_volumes.py', '.zuul.yaml', 'sahara/utils/openstack/cinder.py', 'sahara/tests/unit/utils/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/0e2004924042f32e716264547d2f05cf8d6130cf', 'message': ""Drop support for Block Storage API v2\n\n... because it was already removed from cinder[1].\n\nNote:\nThe sahara-openstack-ansible-functional job is made non-voting now\nbecause it doesn't pull code changes. This issue is reported in [2]\nand will be addressed separately.\n\n[1] e05b261af7dcd24096b229860df65dff1d385910\n[2] https://storyboard.openstack.org/#!/story/2009081\n\nChange-Id: I10261693216ca93faa49d22f2827a939114d234d\n""}]",1,802415,0e2004924042f32e716264547d2f05cf8d6130cf,21,2,5,9816,,,0,"Drop support for Block Storage API v2

... because it was already removed from cinder[1].

Note:
The sahara-openstack-ansible-functional job is made non-voting now
because it doesn't pull code changes. This issue is reported in [2]
and will be addressed separately.

[1] e05b261af7dcd24096b229860df65dff1d385910
[2] https://storyboard.openstack.org/#!/story/2009081

Change-Id: I10261693216ca93faa49d22f2827a939114d234d
",git fetch https://review.opendev.org/openstack/sahara refs/changes/15/802415/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/service/test_volumes.py', 'sahara/utils/openstack/cinder.py', 'sahara/tests/unit/utils/test_cinder.py']",3,87d3d614e23ef2932721878e2047a786a51d21ab,volumev2-removal,," # Fake service_catalog with both volumev2 # and volumev3 services available { ""type"": ""volumev2"", ""endpoints"": [ { ""region"": ""RegionOne"", ""internalURL"": ""http://localhost/"" } ] }, @mock.patch('cinderclient.v2.client.Client') def test_get_cinder_client_api_v2(self, patched2, patched3, auth): self.override_config('api_version', 2, group='cinder') patched2.return_value = FakeCinderClient(2) patched3.return_value = FakeCinderClient(3) client = cinder.client() self.assertEqual(2, client.client.api_version) @mock.patch('sahara.utils.openstack.keystone.auth') @mock.patch('cinderclient.v3.client.Client') @mock.patch('cinderclient.v2.client.Client')",0,38
openstack%2Fpython-senlinclient~master~Id23e7692bc6f20cbcc989d68fd717c93425a38a5,openstack/python-senlinclient,master,Id23e7692bc6f20cbcc989d68fd717c93425a38a5,Fix lower-constraints,MERGED,2021-07-13 15:40:32.000000000,2021-07-27 17:39:12.000000000,2021-07-27 17:37:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-07-13 15:40:32.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/c52b7cf327738be5d821ea605bed505641246030', 'message': 'Fix lower-constraints\n\nResolve a number of conflicts between projects to get the\nlower-constraints job passing again.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id23e7692bc6f20cbcc989d68fd717c93425a38a5\n'}]",0,800672,c52b7cf327738be5d821ea605bed505641246030,10,3,1,15334,,,0,"Fix lower-constraints

Resolve a number of conflicts between projects to get the
lower-constraints job passing again.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Id23e7692bc6f20cbcc989d68fd717c93425a38a5
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/72/800672/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,c52b7cf327738be5d821ea605bed505641246030,pip-20.3,keystoneauth1==3.11.0pytz==2015.7 PyYAML==5.3.1,flake8==2.5.5hacking==0.12.0keystoneauth1==3.4.0mccabe==0.2.1pep8==1.5.7pyflakes==0.8.1 Pygments==2.2.0pytz==2013.6 PyYAML==3.13,6,12
openstack%2Freleases~master~I3859ce431711cef5176a3ea34b9433bd06d51447,openstack/releases,master,I3859ce431711cef5176a3ea34b9433bd06d51447,Move release team ladder & infra into proper page,MERGED,2021-07-22 13:33:57.000000000,2021-07-27 17:09:59.000000000,2021-07-27 17:09:59.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 13:33:57.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/reference/join_release_team.rst', 'doc/source/reference/release_infra.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/2fbc89387dc05547184344e82edfcef724a8df42', 'message': ""Move release team ladder & infra into proper page\n\nThe release team involvement ladder and infrastructure primer were\nhard to find in CONTRIBUTING.rst. It's better to move them next to\nthe rest of the team documentation.\n\nChange-Id: I3859ce431711cef5176a3ea34b9433bd06d51447\n""}]",3,801854,2fbc89387dc05547184344e82edfcef724a8df42,8,3,1,308,,,0,"Move release team ladder & infra into proper page

The release team involvement ladder and infrastructure primer were
hard to find in CONTRIBUTING.rst. It's better to move them next to
the rest of the team documentation.

Change-Id: I3859ce431711cef5176a3ea34b9433bd06d51447
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/801854/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/reference/join_release_team.rst', 'doc/source/reference/release_infra.rst']",4,2fbc89387dc05547184344e82edfcef724a8df42,onboarding,"====================== Release infrastructure ====================== What happens when a release is approved? Release infrastructure is divided into two steps, triggered by different, but related events. The first step is triggered by the release request being merged into the releases repository, starting a series of jobs in the ""post"" pipeline of the releases repository:: Release request merged | +-------v-----------------------+ Post pipeline (releases repo) +---+-----------------------+---+ | | v v +-------+-------+ +-------+-------+ | tag | | publish-docs | | | | | | (pushes tags | | (to releases | | to each repo) | | website) | | | | | +-------+-------+ +---------------+ The second step is triggered by the creation of the tag, creating a series of jobs in the ""tag"" pipeline and the ""release"" pipeline (or ""pre-release"" pipeline, in case of beta versions) of the repository the tag landed in:: Tag is created ----------------------------------------------- | | +----v------------------------------------+ +----------v-----------+ Release pipeline (each repo) Tag pipeline (each repo) +----+---------------+---------------+----+ +----------------------+ | | | | v v v v +-----+-----+ +-----+-----+ +-----+-----+ +-----+-----+ | release | | announce | | propose | | publish | | | | | |constraints| | release | |(builds | | (sends | | update | | notes | | tarball | | email) | | | | | | & uploads | | | +-----------+ +-----------+ | it) | +-----------+ +-----------+ Note that a single release request can create multiple tags in different repositories, triggering that second stage in multiple repositories. Jobs in the release pipeline need information from the release request (like series name, or whether to upload to pypi). We use metadata in the git tag itself to pass that information: the ""tag"" job in step 1 records the information in the tag, and the jobs in step 2 retrieve that information directly from the tag. ",,128,120
openstack%2Fpuppet-trove~master~I05be4086796101222b3690b7eb367d74d40d5bfe,openstack/puppet-trove,master,I05be4086796101222b3690b7eb367d74d40d5bfe,Use Block Storage API v3 by default,MERGED,2021-07-27 02:18:14.000000000,2021-07-27 16:55:20.000000000,2021-07-27 16:53:55.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 02:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/b7ae67e04b26ca15ef6db90ad04cb1e3658a0fbb', 'message': 'Use Block Storage API v3 by default\n\nBlock Storage API v2 was deprecated during Pike cycle and v3 should be\nused instead.\n\nChange-Id: I05be4086796101222b3690b7eb367d74d40d5bfe\n'}, {'number': 2, 'created': '2021-07-27 13:23:32.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/use-volumev3-e0b5c5c444163b61.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/5bb05bf9af5b547cfae3b0f3e2d8c734052bb4a0', 'message': 'Use Block Storage API v3 by default\n\nBlock Storage API v2 was deprecated during Pike cycle and v3 should be\nused instead.\n\nChange-Id: I05be4086796101222b3690b7eb367d74d40d5bfe\n'}]",2,802420,5bb05bf9af5b547cfae3b0f3e2d8c734052bb4a0,14,4,2,9816,,,0,"Use Block Storage API v3 by default

Block Storage API v2 was deprecated during Pike cycle and v3 should be
used instead.

Change-Id: I05be4086796101222b3690b7eb367d74d40d5bfe
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/20/802420/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/use-volumev3-e0b5c5c444163b61.yaml']",2,b7ae67e04b26ca15ef6db90ad04cb1e3658a0fbb,volumev2-removal,--- fixes: - | Default value of the ``trove::cinder_api_version`` has been updated from ``volumev2`` to ``volumev3`` to use current Block Storage API v3 instead of deprecated Block Storage API v3. ,,7,1
openstack%2Fnova~master~Ic9052e5e8b629833928417d414e026b41e64f64e,openstack/nova,master,Ic9052e5e8b629833928417d414e026b41e64f64e,WIP: Use jinja2 to generate fake libvirt data,ABANDONED,2021-05-12 13:02:14.000000000,2021-07-27 16:46:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-12 13:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02d5bca16c2c56148fb06dc49b85df3b310c0ce2', 'message': ""WIP: Use jinja2 to generate fake libvirt data\n\nUse a proper templating language to generate fake data for things like\n'capabilities()'.\n\nChange-Id: Ic9052e5e8b629833928417d414e026b41e64f64e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-13 15:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2dbca12583ab60534e0e9470f427bdfd408b1a1', 'message': ""WIP: Use jinja2 to generate fake libvirt data\n\nUse a proper templating language to generate fake data for things like\n'capabilities()'.\n\nChange-Id: Ic9052e5e8b629833928417d414e026b41e64f64e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-20 10:31:29.000000000', 'files': ['nova/tests/fixtures/data/libvirt/nodedev_pci.xml', 'nova/tests/fixtures/data/libvirt/capabilities.xml', 'nova/tests/fixtures/data/libvirt/nodedev_vdpa.xml', 'nova/tests/fixtures/data/libvirt/domcapabilities_x86_64.xml', 'nova/tests/fixtures/data/libvirt/nodedev_mdev.xml', 'nova/tests/fixtures/data/libvirt/domain.xml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f9815208a779d9615a648b1bada7c0bcbaeabe2', 'message': ""WIP: Use jinja2 to generate fake libvirt data\n\nUse a proper templating language to generate fake data for things like\n'capabilities()'.\n\nChange-Id: Ic9052e5e8b629833928417d414e026b41e64f64e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,790971,8f9815208a779d9615a648b1bada7c0bcbaeabe2,16,1,3,15334,,,0,"WIP: Use jinja2 to generate fake libvirt data

Use a proper templating language to generate fake data for things like
'capabilities()'.

Change-Id: Ic9052e5e8b629833928417d414e026b41e64f64e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/790971/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/data/libvirt/nodedev_pci.xml', 'nova/tests/fixtures/data/libvirt/capabilities.xml', 'nova/tests/fixtures/data/libvirt/domcapabilities_x86_64.xml', 'nova/tests/fixtures/data/libvirt/nodedev_vdpa.xml', 'nova/tests/fixtures/data/libvirt/nodedev_mdev.xml', 'nova/tests/fixtures/data/libvirt/domain.xml']",6,02d5bca16c2c56148fb06dc49b85df3b310c0ce2,fixture-cleanup,"<domain type=""kvm""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <memoryBacking> <hugepages> <page size=""2048"" unit=""KiB"" nodeset=""0-3,5""/> <page size=""1048576"" unit=""KiB"" nodeset=""4""/> </hugepages> </memoryBacking> <memtune> <hard_limit unit=""KiB"">496</hard_limit> <soft_limit unit=""KiB"">672</soft_limit> <swap_hard_limit unit=""KiB"">1638</swap_hard_limit> <min_guarantee unit=""KiB"">2970</min_guarantee> </memtune> <numatune> <memory mode=""preferred"" nodeset=""0-3,8""/> <memnode cellid=""0"" mode=""preferred"" nodeset=""0-1""/> <memnode cellid=""1"" mode=""preferred"" nodeset=""2-3""/> <memnode cellid=""2"" mode=""preferred"" nodeset=""8""/> </numatune> <vcpu cpuset=""0-1,3-5"">2</vcpu> <sysinfo type='smbios'> <bios> <entry name=""vendor"">Acme</entry> </bios> <system> <entry name=""version"">1.0.0</entry> </system> </sysinfo> <os> <type>linux</type> <boot dev=""hd""/> <boot dev=""cdrom""/> <boot dev=""fd""/> <smbios mode=""sysinfo""/> </os> <features> <acpi/> <apic/> <kvm> <hidden state='on'/> </kvm> </features> <cputune> <shares>100</shares> <quota>50000</quota> <period>25000</period> </cputune> <devices> <disk type=""file"" device=""disk""> <source file=""/tmp/disk-img""/> <target bus=""virtio"" dev=""vda""/> </disk> <disk type=""file"" device=""cdrom""> <source file=""/tmp/cdrom-img""/> <target bus=""sata"" dev=""sda""/> </disk> <interface type='network'> <mac address='52:54:00:f6:35:8f'/> <model type='virtio'/> <source bridge='virbr0'/> </interface> <memballoon model='virtio'> <stats period='11'/> </memballoon> <input type=""mouse"" bus=""virtio""/> <graphics type=""vnc"" autoport=""yes"" keymap=""en_US"" listen=""127.0.0.1""/> <video> <model type='virtio'/> </video> <serial type=""file""> <source path=""/tmp/vm.log""/> </serial> <rng model='virtio'> <rate period='12' bytes='34'/> <backend model='random'>/dev/urandom</backend> </rng> <controller type='scsi' index='0' model='virtio-scsi'> </controller> </devices> <launchSecurity type=""sev""> <policy>0x0033</policy> <cbitpos>47</cbitpos> <reducedPhysBits>1</reducedPhysBits> </launchSecurity> </domain> ",,527,0
openstack%2Fpython-openstackclient~master~Idea9c995ad412efdc11ecb64baaece6ab35cbb48,openstack/python-openstackclient,master,Idea9c995ad412efdc11ecb64baaece6ab35cbb48,"network: Add '--marker', '--limit' to most list commands",NEW,2021-07-27 11:46:14.000000000,2021-07-27 16:35:50.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 11:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c1bd33f19445cdc29b17e6c6acfeb55755448e55', 'message': ""network: Add '--marker', '--limit' to most list commands\n\nAs noted in the neutron API reference guide [1]:\n\n  To reduce load on the service, list operations will return a maximum\n  number of items at a time. To navigate the collection, the parameters\n  limit, marker and page_reverse can be set in the URI.\n\nTake advantage of the common pagination helpers introduced in change\nI551bb4c3ff0568c6df5244a1d0f0669497bee58f to expose this functionality\nto end users.\n\nChange-Id: Idea9c995ad412efdc11ecb64baaece6ab35cbb48\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nStory: #2009064\nTask: #42864\n""}, {'number': 2, 'created': '2021-07-27 12:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/be240e9e8ad52e7e248c5ed5e2e0388965145e70', 'message': ""network: Add '--marker', '--limit' to most list commands\n\nAs noted in the neutron API reference guide [1]:\n\n  To reduce load on the service, list operations will return a maximum\n  number of items at a time. To navigate the collection, the parameters\n  limit, marker and page_reverse can be set in the URI.\n\nTake advantage of the common pagination helpers introduced in change\nI551bb4c3ff0568c6df5244a1d0f0669497bee58f to expose this functionality\nto end users.\n\n[1] https://docs.openstack.org/api-ref/network/v2/#pagination\n\nChange-Id: Idea9c995ad412efdc11ecb64baaece6ab35cbb48\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nStory: #2009064\nTask: #42864\n""}, {'number': 3, 'created': '2021-07-27 15:38:42.000000000', 'files': ['openstackclient/network/v2/network_segment.py', 'openstackclient/network/v2/network_meter.py', 'openstackclient/network/v2/floating_ip_port_forwarding.py', 'openstackclient/tests/unit/network/v2/test_network_segment_range.py', 'openstackclient/network/v2/network.py', 'openstackclient/tests/unit/network/v2/test_network_segment.py', 'openstackclient/network/v2/security_group.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'openstackclient/network/v2/floating_ip.py', 'openstackclient/tests/unit/network/v2/test_security_group_rule_network.py', 'openstackclient/network/v2/address_group.py', 'openstackclient/network/v2/network_segment_range.py', 'openstackclient/network/v2/network_meter_rule.py', 'openstackclient/network/v2/floating_ip_pool.py', 'openstackclient/network/v2/network_rbac.py', 'openstackclient/network/v2/network_agent.py', 'openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'releasenotes/notes/add-missing-network-pagination-opts-6782692ae98fe9e8.yaml', 'openstackclient/network/v2/subnet_pool.py', 'openstackclient/network/v2/subnet.py', 'openstackclient/network/v2/network_flavor_profile.py', 'openstackclient/network/v2/network_qos_rule_type.py', 'openstackclient/tests/unit/network/v2/test_network_rbac.py', 'openstackclient/tests/unit/network/v2/test_ip_availability.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_network.py', 'openstackclient/tests/unit/network/v2/test_network_agent.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_port_forwarding.py', 'openstackclient/tests/unit/network/v2/test_network_flavor.py', 'openstackclient/tests/unit/network/v2/test_network_qos_policy.py', 'openstackclient/tests/unit/network/v2/test_network_service_provider.py', 'openstackclient/network/v2/network_flavor.py', 'openstackclient/network/v2/network_service_provider.py', 'openstackclient/network/v2/security_group_rule.py', 'openstackclient/tests/unit/network/v2/test_network_flavor_profile.py', 'openstackclient/network/v2/ip_availability.py', 'openstackclient/tests/unit/network/v2/test_l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/test_router.py', 'openstackclient/tests/unit/network/v2/test_address_scope.py', 'openstackclient/tests/unit/network/v2/test_network_qos_rule_type.py', 'openstackclient/tests/unit/network/v2/test_subnet_pool.py', 'openstackclient/network/v2/l3_conntrack_helper.py', 'openstackclient/network/v2/port.py', 'openstackclient/tests/unit/network/v2/test_address_group.py', 'openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/network/v2/network_qos_policy.py', 'openstackclient/network/v2/address_scope.py', 'openstackclient/tests/unit/network/v2/test_network_meter.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d45f5f6c69d67a2e162f555bc138bced6e49c394', 'message': ""network: Add '--marker', '--limit' to most list commands\n\nAs noted in the neutron API reference guide [1]:\n\n  To reduce load on the service, list operations will return a maximum\n  number of items at a time. To navigate the collection, the parameters\n  limit, marker and page_reverse can be set in the URI.\n\nTake advantage of the common pagination helpers introduced in change\nI551bb4c3ff0568c6df5244a1d0f0669497bee58f to expose this functionality\nto end users.\n\n[1] https://docs.openstack.org/api-ref/network/v2/#pagination\n\nChange-Id: Idea9c995ad412efdc11ecb64baaece6ab35cbb48\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nStory: #2009064\nTask: #42864\n""}]",1,802482,d45f5f6c69d67a2e162f555bc138bced6e49c394,8,2,3,15334,,,0,"network: Add '--marker', '--limit' to most list commands

As noted in the neutron API reference guide [1]:

  To reduce load on the service, list operations will return a maximum
  number of items at a time. To navigate the collection, the parameters
  limit, marker and page_reverse can be set in the URI.

Take advantage of the common pagination helpers introduced in change
I551bb4c3ff0568c6df5244a1d0f0669497bee58f to expose this functionality
to end users.

[1] https://docs.openstack.org/api-ref/network/v2/#pagination

Change-Id: Idea9c995ad412efdc11ecb64baaece6ab35cbb48
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: #2009064
Task: #42864
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/82/802482/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/network_segment.py', 'openstackclient/network/v2/network_meter.py', 'openstackclient/network/v2/floating_ip_port_forwarding.py', 'openstackclient/tests/unit/network/v2/test_network_segment_range.py', 'openstackclient/network/v2/network.py', 'openstackclient/tests/unit/network/v2/test_network_segment.py', 'openstackclient/network/v2/security_group.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'openstackclient/network/v2/floating_ip.py', 'openstackclient/tests/unit/network/v2/test_security_group_rule_network.py', 'openstackclient/network/v2/address_group.py', 'openstackclient/network/v2/network_segment_range.py', 'openstackclient/network/v2/network_meter_rule.py', 'openstackclient/network/v2/floating_ip_pool.py', 'openstackclient/network/v2/network_rbac.py', 'openstackclient/network/v2/network_agent.py', 'openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'releasenotes/notes/add-missing-network-pagination-opts-6782692ae98fe9e8.yaml', 'openstackclient/network/v2/subnet_pool.py', 'openstackclient/network/v2/subnet.py', 'openstackclient/network/v2/network_flavor_profile.py', 'openstackclient/network/v2/network_qos_rule_type.py', 'openstackclient/tests/unit/network/v2/test_network_rbac.py', 'openstackclient/tests/unit/network/v2/test_ip_availability.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_network.py', 'openstackclient/tests/unit/network/v2/test_network_agent.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_port_forwarding.py', 'openstackclient/tests/unit/network/v2/test_network_flavor.py', 'openstackclient/tests/unit/network/v2/test_network_qos_policy.py', 'openstackclient/tests/unit/network/v2/test_network_service_provider.py', 'openstackclient/network/v2/network_flavor.py', 'openstackclient/network/v2/network_service_provider.py', 'openstackclient/network/v2/security_group_rule.py', 'openstackclient/tests/unit/network/v2/test_network_flavor_profile.py', 'openstackclient/network/v2/ip_availability.py', 'openstackclient/tests/unit/network/v2/test_l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/test_router.py', 'openstackclient/tests/unit/network/v2/test_address_scope.py', 'openstackclient/tests/unit/network/v2/test_network_qos_rule_type.py', 'openstackclient/tests/unit/network/v2/test_subnet_pool.py', 'openstackclient/network/v2/l3_conntrack_helper.py', 'openstackclient/network/v2/port.py', 'openstackclient/tests/unit/network/v2/test_address_group.py', 'openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/network/v2/network_qos_policy.py', 'openstackclient/network/v2/address_scope.py', 'openstackclient/tests/unit/network/v2/test_network_meter.py']",49,c1bd33f19445cdc29b17e6c6acfeb55755448e55,story/2009064," def test_meter_list_pagination(self): arglist = [ '--marker', self.meter_list[0].id, '--limit', '1', ] verifylist = [ ('marker', self.meter_list[0].id), ('limit', 1), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.network.metering_labels.assert_called_once_with(**{ 'marker': self.meter_list[0].id, 'limit': 1, }) self.assertEqual(self.columns, columns) self.assertEqual(self.data, list(data)) ",,814,83
openstack%2Fkayobe~master~I9acf8fd03150b9cc03a011364f0c45929b9a9f87,openstack/kayobe,master,I9acf8fd03150b9cc03a011364f0c45929b9a9f87,Add missing font for PDF generation,MERGED,2021-07-27 05:35:44.000000000,2021-07-27 16:33:43.000000000,2021-07-27 16:32:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-07-27 05:35:44.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b8ff8fa811735d4a0610cd313e2583aabd92b34d', 'message': ""Add missing font for PDF generation\n\nThe openstack-tox-docs job started failing with the following error:\n\n    ! LaTeX Error: File `tgtermes.sty' not found.\n\nThis change adds the required font package to the bindep doc profile.\n\nChange-Id: I9acf8fd03150b9cc03a011364f0c45929b9a9f87\n""}]",0,802424,b8ff8fa811735d4a0610cd313e2583aabd92b34d,15,4,1,15197,,,0,"Add missing font for PDF generation

The openstack-tox-docs job started failing with the following error:

    ! LaTeX Error: File `tgtermes.sty' not found.

This change adds the required font package to the bindep doc profile.

Change-Id: I9acf8fd03150b9cc03a011364f0c45929b9a9f87
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/802424/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b8ff8fa811735d4a0610cd313e2583aabd92b34d,pdf-docs, # PDF Docs package dependencies tex-gyre [platform:dpkg doc],,3,0
openstack%2Fneutron~master~I5231d464cddfb9fa201f3762d2c9391ed037f0a5,openstack/neutron,master,I5231d464cddfb9fa201f3762d2c9391ed037f0a5,Remove orphaned event_lock_name attribute,MERGED,2021-07-07 16:40:05.000000000,2021-07-27 16:18:04.000000000,2021-07-27 16:15:49.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-07 16:40:05.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee67a8412da9722da3c48bec3e2c96fa30c1da20', 'message': 'Remove orphaned event_lock_name attribute\n\nAfter Hash Ring support was added, this event_lock_name attribute\nwas no longer used by anything. The ovn-octavia-provider sets it\nin its subclass and then calls set_lock on it, which is what used\nto happen in this tree. It should be safe to remove. Currently it\nis confusing because it looks like subclasses of OvnIdl involve\novsdb locking.\n\nChange-Id: I5231d464cddfb9fa201f3762d2c9391ed037f0a5\n'}]",0,799867,ee67a8412da9722da3c48bec3e2c96fa30c1da20,13,5,1,5756,,,0,"Remove orphaned event_lock_name attribute

After Hash Ring support was added, this event_lock_name attribute
was no longer used by anything. The ovn-octavia-provider sets it
in its subclass and then calls set_lock on it, which is what used
to happen in this tree. It should be safe to remove. Currently it
is confusing because it looks like subclasses of OvnIdl involve
ovsdb locking.

Change-Id: I5231d464cddfb9fa201f3762d2c9391ed037f0a5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/799867/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'],1,ee67a8412da9722da3c48bec3e2c96fa30c1da20,,," # ovsdb lock name to acquire. # This event lock is used to handle the notify events sent by idl.Idl # idl.Idl will call notify function for the ""update"" rpc method it # receives from the ovsdb-server. # This event lock is required for the following reasons # - If there are multiple neutron servers running, OvnWorkers of # these neutron servers would receive the notify events from # idl.Idl # # - we do not want all the neutron servers to handle these events # # - only the neutron server which has the lock will handle the # notify events. # # - In case the neutron server which owns this lock goes down, # ovsdb server would assign the lock to one of the other neutron # servers. self.event_lock_name = ""neutron_ovn_event_lock""",0,18
openstack%2Ftripleo-validations~master~I20d0d5d1a26db181291311ee312b71c554d0c2f0,openstack/tripleo-validations,master,I20d0d5d1a26db181291311ee312b71c554d0c2f0,Ansible lint custom rule refactor,ABANDONED,2021-06-28 14:56:01.000000000,2021-07-27 16:12:07.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-28 14:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/89e0b730e7d0ab5302ec85f88b1a33ed6c2d097e', 'message': ""Ansible lint custom rule refactor\n\nThe existing rule wasn't compatible with the current\nversion of the ansible-lint lib, furthermore it showed\nsome room for stylistic improvement.\n\nThe new rule should be more efficient and accurate.\nSince the rule now correctly detects properties of the\ngroups key, there is no need for exceptions in the .ansible-lint\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I20d0d5d1a26db181291311ee312b71c554d0c2f0\n""}, {'number': 2, 'created': '2021-06-29 09:12:11.000000000', 'files': ['.ansible-lint_rules/ValidationHasMetadataRule.py', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fb7152d411ac0c9df341eb8be919e81f3df19e28', 'message': ""Ansible lint custom rule refactor\n\nThe existing rule wasn't compatible with the current\nversion of the ansible-lint lib, furthermore it showed\nsome room for stylistic improvement.\n\nThe new rule should be more efficient and accurate.\nSince the rule now correctly detects properties of the\ngroups key, there is no need for exceptions in the .ansible-lint\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I20d0d5d1a26db181291311ee312b71c554d0c2f0\n""}]",2,798342,fb7152d411ac0c9df341eb8be919e81f3df19e28,6,7,2,32926,,,0,"Ansible lint custom rule refactor

The existing rule wasn't compatible with the current
version of the ansible-lint lib, furthermore it showed
some room for stylistic improvement.

The new rule should be more efficient and accurate.
Since the rule now correctly detects properties of the
groups key, there is no need for exceptions in the .ansible-lint

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I20d0d5d1a26db181291311ee312b71c554d0c2f0
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/42/798342/2 && git format-patch -1 --stdout FETCH_HEAD,"['.ansible-lint_rules/ValidationHasMetadataRule.py', '.ansible-lint']",2,89e0b730e7d0ab5302ec85f88b1a33ed6c2d097e,ansibllint-refactor,, - playbooks/ceph-pg.yaml,73,45
openstack%2Fnova~master~I82a5d7b3d55267cfee696c2fb64da6d91cbd710b,openstack/nova,master,I82a5d7b3d55267cfee696c2fb64da6d91cbd710b,tests: Further usage of new server helpers,ABANDONED,2020-07-27 12:12:24.000000000,2021-07-27 15:50:45.000000000,,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-27 12:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aac8379383f5994d47fb8e6e4b0b5612d97d980c', 'message': ""tests: Further usage of new server helpers\n\nWe've got them. Let's use them.\n\nChange-Id: I82a5d7b3d55267cfee696c2fb64da6d91cbd710b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-31 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aafc50c2f89ac3c7157bd16a6cbd183bfa16f829', 'message': ""tests: Further usage of new server helpers\n\nWe've got them. Let's use them.\n\nChange-Id: I82a5d7b3d55267cfee696c2fb64da6d91cbd710b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-31 11:32:28.000000000', 'files': ['nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9ff010404fb9c0ceaa70570973d24b3c0b5ee59', 'message': ""tests: Further usage of new server helpers\n\nWe've got them. Let's use them.\n\nChange-Id: I82a5d7b3d55267cfee696c2fb64da6d91cbd710b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,743204,e9ff010404fb9c0ceaa70570973d24b3c0b5ee59,26,9,3,15334,,,0,"tests: Further usage of new server helpers

We've got them. Let's use them.

Change-Id: I82a5d7b3d55267cfee696c2fb64da6d91cbd710b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/743204/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/functional/integrated_helpers.py']",3,aac8379383f5994d47fb8e6e4b0b5612d97d980c,bp/add-emulated-virtual-tpm," def _migrate_server(self, server, host=None): args = {'host': host} if host else None self.api.post_server_action(server['id'], {'migrate': args}) fake_notifier.wait_for_versioned_notifications('instance.resize.end') return self._wait_for_state_change(server, 'VERIFY_RESIZE') def _revert_resize(self, server, expected_state='ACTIVE'): server = self._wait_for_state_change(server, expected_state)"," def _revert_resize(self, server): server = self._wait_for_state_change(server, 'ACTIVE')",21,32
openstack%2Fcharm-openstack-dashboard~master~Idde242e447572696771a878653165c48fe331c3b,openstack/charm-openstack-dashboard,master,Idde242e447572696771a878653165c48fe331c3b,Sync release-tools,MERGED,2021-07-22 12:59:43.000000000,2021-07-27 15:44:48.000000000,2021-07-27 15:44:48.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 12:59:43.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/d746d85433da96f2837982e049923327d92a4121', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Idde242e447572696771a878653165c48fe331c3b\n'}]",0,801833,d746d85433da96f2837982e049923327d92a4121,9,3,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Idde242e447572696771a878653165c48fe331c3b
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/33/801833/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,d746d85433da96f2837982e049923327d92a4121,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Fnova~master~I240dde0bad122593c526cd82512693f33187dfe4,openstack/nova,master,I240dde0bad122593c526cd82512693f33187dfe4,Follow up for Ibf8dca4bd57b3bddb39955b53cc03564506f5754,ABANDONED,2020-08-06 08:54:30.000000000,2021-07-27 15:43:10.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-06 08:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04c5f1a869af7d272b2037538999002667170862', 'message': 'Follow up for Ibf8dca4bd57b3bddb39955b53cc03564506f5754\n\nAddress some review comments from the aforementioned change.\nSpecifically, flatten some unnecessarily broken up code and make better\nuse of wrapping and spacing.\n\nChange-Id: I240dde0bad122593c526cd82512693f33187dfe4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-08-07 10:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dac1be7074044e60ca440961e899fc5a5ddf09e7', 'message': 'Follow up for Ibf8dca4bd57b3bddb39955b53cc03564506f5754\n\nAddress some review comments from the aforementioned change.\nSpecifically, flatten some unnecessarily broken up code and make better\nuse of wrapping and spacing.\n\nChange-Id: I240dde0bad122593c526cd82512693f33187dfe4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-09-09 08:48:36.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vif.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c71ecf879df3ac17f907d56981dd8910a245a26', 'message': 'Follow up for Ibf8dca4bd57b3bddb39955b53cc03564506f5754\n\nAddress some review comments from the aforementioned change.\nSpecifically, flatten some unnecessarily broken up code and make better\nuse of wrapping and spacing.\n\nChange-Id: I240dde0bad122593c526cd82512693f33187dfe4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,745095,1c71ecf879df3ac17f907d56981dd8910a245a26,36,14,3,15334,,,0,"Follow up for Ibf8dca4bd57b3bddb39955b53cc03564506f5754

Address some review comments from the aforementioned change.
Specifically, flatten some unnecessarily broken up code and make better
use of wrapping and spacing.

Change-Id: I240dde0bad122593c526cd82512693f33187dfe4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/745095/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vif.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,04c5f1a869af7d272b2037538999002667170862,bug/1883671,," def test_get_pcinet_info(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) dev_name = ""net_enp2s2_02_9a_a1_37_be_54"" parent_address = ""pci_0000_04_11_7"" net_dev = fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[dev_name]) pci_dev = fakelibvirt.NodeDevice( drvr._get_connection(), xml=_fake_NodeDevXml[parent_address]) actualvf = drvr._get_pcinet_info(pci_dev, [net_dev]) expect_vf = [""rx"", ""tx"", ""sg"", ""tso"", ""gso"", ""gro"", ""rxvlan"", ""txvlan""] self.assertEqual(expect_vf, actualvf) ",24,43
openstack%2Fopenstack-helm-infra~master~Ie517c64e08b11504f71d7d570394fbdb2ac8e54e,openstack/openstack-helm-infra,master,Ie517c64e08b11504f71d7d570394fbdb2ac8e54e,[ceph-osd] Mount /var/crash inside ceph-osd pods,MERGED,2021-07-20 21:31:39.000000000,2021-07-27 15:42:57.000000000,2021-07-27 15:40:59.000000000,"[{'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28275}, {'_account_id': 28372}, {'_account_id': 29202}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-07-20 21:31:39.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2ca5999235569689bf7a15d432834887bdbfa79', 'message': '[ceph-osd] Mount /var/crash inside ceph-osd pods\n\nThis change adds /var/crash as a host-path volume mount for\nceph-osd pods in order to facilitate core dump capture when\nceph-osd daemons crash.\n\nChange-Id: Ie517c64e08b11504f71d7d570394fbdb2ac8e54e\n'}]",0,801536,c2ca5999235569689bf7a15d432834887bdbfa79,18,10,1,29974,,,0,"[ceph-osd] Mount /var/crash inside ceph-osd pods

This change adds /var/crash as a host-path volume mount for
ceph-osd pods in order to facilitate core dump capture when
ceph-osd daemons crash.

Change-Id: Ie517c64e08b11504f71d7d570394fbdb2ac8e54e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/36/801536/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml']",3,c2ca5999235569689bf7a15d432834887bdbfa79,, - 0.1.26 Mount /var/crash inside ceph-osd pods,,15,1
openstack%2Ftacker~master~I04460c525ff5d5751908e12911e4c7797ef09353,openstack/tacker,master,I04460c525ff5d5751908e12911e4c7797ef09353,Update examples of local.conf for OVN,MERGED,2021-06-01 17:42:08.000000000,2021-07-27 15:38:50.000000000,2021-07-27 15:36:17.000000000,"[{'_account_id': 841}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-06-01 17:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/54a503b4b61354d34428f16f22489fa69ea3a9ca', 'message': '[DNM] Update examples of local.conf for OVN\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I04460c525ff5d5751908e12911e4c7797ef09353\n'}, {'number': 2, 'created': '2021-06-04 06:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d369522bdc7ded623ac77766c5d288a1527e83f5', 'message': 'Update examples of local.conf for OVN\n\nFor the default network backend driver is changed to OVN[1], update\nparams for neutron in examples of `local.conf` to deploy OVN. This\nupdate also adds `PUBLIC_NETWORK_GATEWAY` for changes [2][3] to create\npublic bridge initially.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/791436\n[2] https://review.opendev.org/c/openstack/devstack/+/734621\n[3] https://review.opendev.org/c/openstack/devstack/+/793397\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I04460c525ff5d5751908e12911e4c7797ef09353\n'}, {'number': 3, 'created': '2021-06-04 06:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/42af22c59790fdcc75c1f38f4ad7c99282a5afdf', 'message': 'Update examples of local.conf for OVN\n\nFor the default network backend driver is changed to OVN[1], update\nparams for neutron in examples of `local.conf` to deploy OVN.\n\nThis update also adds `PUBLIC_NETWORK_GATEWAY` for changes [2][3] to\ncreate public bridge initially. It should be replaced with a gateway\naddress which can be found with `ip route get SOME_IPADDR` typically.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/791436\n[2] https://review.opendev.org/c/openstack/devstack/+/734621\n[3] https://review.opendev.org/c/openstack/devstack/+/793397\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I04460c525ff5d5751908e12911e4c7797ef09353\n'}, {'number': 4, 'created': '2021-06-07 04:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d764e421990d80cd540aa0ea09b73c32e6c88aeb', 'message': 'Update examples of local.conf for OVN\n\nFor the default network backend driver is changed to OVN[1], update\nparams for neutron and also kuryr-kubernetes in examples of `local.conf`\nto deploy OVN.\n\nThis update also adds `PUBLIC_NETWORK_GATEWAY` for changes [2][3] to\ncreate public bridge initially. It should be replaced with a gateway\naddress which can be found with `ip route get SOME_IPADDR` typically.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/791436\n[2] https://review.opendev.org/c/openstack/devstack/+/734621\n[3] https://review.opendev.org/c/openstack/devstack/+/793397\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I04460c525ff5d5751908e12911e4c7797ef09353\n'}, {'number': 5, 'created': '2021-07-12 04:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5bf751ec646e3ed93d53e45a67c2f92e72c0be12', 'message': 'Update examples of local.conf for OVN\n\nFor the default network backend driver is changed to OVN[1], update\nparams for neutron and also kuryr-kubernetes in examples of `local.conf`\nto deploy OVN.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/791436\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I04460c525ff5d5751908e12911e4c7797ef09353\n'}, {'number': 6, 'created': '2021-07-12 06:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/806836e6d01154b8caa0bc0c18113a389c6646d1', 'message': 'Update examples of local.conf for OVN\n\nFor the default network backend driver is changed to OVN[1], update\nparams for neutron and also kuryr-kubernetes in examples of `local.conf`\nto deploy OVN.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/791436\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I04460c525ff5d5751908e12911e4c7797ef09353\n'}, {'number': 7, 'created': '2021-07-13 02:28:31.000000000', 'files': ['devstack/local.conf.example', 'devstack/local.conf.standalone', 'devstack/local.conf.kubernetes', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/tacker/commit/55f3a221beb7f85a51b581cca22b9037213a6831', 'message': 'Update examples of local.conf for OVN\n\nFor the default network backend driver is changed to OVN[1], update\nparams for neutron and also kuryr-kubernetes in examples of `local.conf`\nto deploy OVN.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/791436\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I04460c525ff5d5751908e12911e4c7797ef09353\n'}]",15,794014,55f3a221beb7f85a51b581cca22b9037213a6831,35,7,7,25701,,,0,"Update examples of local.conf for OVN

For the default network backend driver is changed to OVN[1], update
params for neutron and also kuryr-kubernetes in examples of `local.conf`
to deploy OVN.

[1] https://review.opendev.org/c/openstack/devstack/+/791436

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I04460c525ff5d5751908e12911e4c7797ef09353
",git fetch https://review.opendev.org/openstack/tacker refs/changes/14/794014/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.example', 'devstack/local.conf.kubernetes', 'devstack/settings']",3,54a503b4b61354d34428f16f22489fa69ea3a9ca,change-794014-1," #TACKER_NEUTRON_AGENTS=${TACKER_NEUTRON_AGENTS:-q-agt,q-dhcp,q-meta,q-l3}"," TACKER_NEUTRON_AGENTS=${TACKER_NEUTRON_AGENTS:-q-agt,q-dhcp,q-meta,q-l3}",9,7
openstack%2Ftripleo-quickstart~master~I6349254c02f33bc43220446d3208eb84b34c0daa,openstack/tripleo-quickstart,master,I6349254c02f33bc43220446d3208eb84b34c0daa,Set LANG before pip install for related-bug,MERGED,2021-07-27 07:54:54.000000000,2021-07-27 15:28:34.000000000,2021-07-27 15:26:37.000000000,"[{'_account_id': 6926}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-27 07:54:54.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c9bc2dd1df3ce7723f1907794beabada9dd04186', 'message': 'Set LANG before pip install for related-bug\n\nTrying this as an alternative to [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/802395\nRelated-Bug: 1938079\n\nChange-Id: I6349254c02f33bc43220446d3208eb84b34c0daa\n'}]",0,802431,c9bc2dd1df3ce7723f1907794beabada9dd04186,11,5,1,8449,,,0,"Set LANG before pip install for related-bug

Trying this as an alternative to [1]

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/802395
Related-Bug: 1938079

Change-Id: I6349254c02f33bc43220446d3208eb84b34c0daa
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/31/802431/1 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,c9bc2dd1df3ce7723f1907794beabada9dd04186,alternative_bug_1938079, export LANG=en_US.UTF8 # https://bugs.launchpad.net/tripleo/+bug/1938079,,1,0
openstack%2Fvalidations-common~master~Ibf71ef28a20e489b9f0f377e87b5803413184392,openstack/validations-common,master,Ibf71ef28a20e489b9f0f377e87b5803413184392,Add missing font for PDF generation,MERGED,2021-07-26 14:26:11.000000000,2021-07-27 15:26:39.000000000,2021-07-27 15:26:39.000000000,"[{'_account_id': 9816}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-26 14:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8d68d25b465c560d630fef87e1a11acbbd98a58c', 'message': ""Add missing font for PDF generation\nopenstack-tox-docs job started to fail with the following error:\n! LaTeX Error: File `tgtermes.sty' not found.\nThis patch adds the required font package to bindep doc profile.\n\nCo-authored-by: Elod Illes <elod.illes@est.tech>\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibf71ef28a20e489b9f0f377e87b5803413184392\n""}, {'number': 2, 'created': '2021-07-26 14:37:08.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/43cea1a2d3aee1100ca5039f23904ba80e12e7a1', 'message': ""Add missing font for PDF generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\nThis patch adds the required font package to bindep doc profile.\n\nCo-authored-by: Elod Illes <elod.illes@est.tech>\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibf71ef28a20e489b9f0f377e87b5803413184392\n""}]",0,802313,43cea1a2d3aee1100ca5039f23904ba80e12e7a1,10,7,2,32926,,,0,"Add missing font for PDF generation

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.
This patch adds the required font package to bindep doc profile.

Co-authored-by: Elod Illes <elod.illes@est.tech>
Co-authored-by: Takashi Kajinami <tkajinam@redhat.com>

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ibf71ef28a20e489b9f0f377e87b5803413184392
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/13/802313/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8d68d25b465c560d630fef87e1a11acbbd98a58c,,# PDF Docs package dependencies tex-gyre [platform:dpkg doc],,2,0
openstack%2Fcharm-octavia-dashboard~master~Idf2b26d7e78e19152868e43646dd09861d8b6b94,openstack/charm-octavia-dashboard,master,Idf2b26d7e78e19152868e43646dd09861d8b6b94,Sync release-tools,MERGED,2021-07-22 12:59:23.000000000,2021-07-27 15:19:30.000000000,2021-07-27 15:19:30.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 12:59:23.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/b0f58fcd783d762c8575e98a55752765c09130b6', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Idf2b26d7e78e19152868e43646dd09861d8b6b94\n'}]",0,801831,b0f58fcd783d762c8575e98a55752765c09130b6,9,3,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Idf2b26d7e78e19152868e43646dd09861d8b6b94
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/31/801831/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,b0f58fcd783d762c8575e98a55752765c09130b6,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fnova~stable%2Fussuri~Ie36401c782f023d1d5f2623732619105dc2cfa24,openstack/nova,stable/ussuri,Ie36401c782f023d1d5f2623732619105dc2cfa24,Reject open redirection in the console proxy,MERGED,2021-05-17 17:09:35.000000000,2021-07-27 15:18:48.000000000,2021-07-27 15:17:02.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 17:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a8dd4e2e107f0ec19bd3b6646618af4f9bdf25b', 'message': 'Reject open redirection in the console proxy\n\nOur console proxies (novnc, serial, spice) run in a websockify server\nwhose request handler inherits from the python standard\nSimpleHTTPRequestHandler. There is a known issue [1] in the\nSimpleHTTPRequestHandler which allows open redirects by way of URLs\nin the following format:\n\n  http://vncproxy.my.domain.com//example.com/%2F..\n\nwhich if visited, will redirect a user to example.com.\n\nWe can intercept a request and reject requests that pass a redirection\nURL beginning with ""//"" by implementing the\nSimpleHTTPRequestHandler.send_head() method containing the\nvulnerability to reject such requests with a 400 Bad Request.\n\nThis code is copied from a patch suggested in one of the issue comments\n[2].\n\nCloses-Bug: #1927677\n\n[1] https://bugs.python.org/issue32084\n[2] https://bugs.python.org/issue32084#msg306545\n\nChange-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24\n(cherry picked from commit 781612b33282ed298f742c85dab58a075c8b793e)\n(cherry picked from commit 470925614223c8dd9b1233f54f5a96c02b2d4f70)\n(cherry picked from commit 6b70350bdcf59a9712f88b6435ba2c6500133e5b)\n'}, {'number': 2, 'created': '2021-07-26 19:26:59.000000000', 'files': ['releasenotes/notes/console-proxy-reject-open-redirect-4ac0a7895acca7eb.yaml', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/719e651e6be277950632e0c2cf5cc9a018344e7b', 'message': 'Reject open redirection in the console proxy\n\nOur console proxies (novnc, serial, spice) run in a websockify server\nwhose request handler inherits from the python standard\nSimpleHTTPRequestHandler. There is a known issue [1] in the\nSimpleHTTPRequestHandler which allows open redirects by way of URLs\nin the following format:\n\n  http://vncproxy.my.domain.com//example.com/%2F..\n\nwhich if visited, will redirect a user to example.com.\n\nWe can intercept a request and reject requests that pass a redirection\nURL beginning with ""//"" by implementing the\nSimpleHTTPRequestHandler.send_head() method containing the\nvulnerability to reject such requests with a 400 Bad Request.\n\nThis code is copied from a patch suggested in one of the issue comments\n[2].\n\nCloses-Bug: #1927677\n\n[1] https://bugs.python.org/issue32084\n[2] https://bugs.python.org/issue32084#msg306545\n\nChange-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24\n(cherry picked from commit 781612b33282ed298f742c85dab58a075c8b793e)\n(cherry picked from commit 470925614223c8dd9b1233f54f5a96c02b2d4f70)\n(cherry picked from commit 6b70350bdcf59a9712f88b6435ba2c6500133e5b)\n'}]",0,791806,719e651e6be277950632e0c2cf5cc9a018344e7b,14,3,2,4690,,,0,"Reject open redirection in the console proxy

Our console proxies (novnc, serial, spice) run in a websockify server
whose request handler inherits from the python standard
SimpleHTTPRequestHandler. There is a known issue [1] in the
SimpleHTTPRequestHandler which allows open redirects by way of URLs
in the following format:

  http://vncproxy.my.domain.com//example.com/%2F..

which if visited, will redirect a user to example.com.

We can intercept a request and reject requests that pass a redirection
URL beginning with ""//"" by implementing the
SimpleHTTPRequestHandler.send_head() method containing the
vulnerability to reject such requests with a 400 Bad Request.

This code is copied from a patch suggested in one of the issue comments
[2].

Closes-Bug: #1927677

[1] https://bugs.python.org/issue32084
[2] https://bugs.python.org/issue32084#msg306545

Change-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24
(cherry picked from commit 781612b33282ed298f742c85dab58a075c8b793e)
(cherry picked from commit 470925614223c8dd9b1233f54f5a96c02b2d4f70)
(cherry picked from commit 6b70350bdcf59a9712f88b6435ba2c6500133e5b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/791806/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/console-proxy-reject-open-redirect-4ac0a7895acca7eb.yaml', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py']",3,1a8dd4e2e107f0ec19bd3b6646618af4f9bdf25b,bug/1927677," def test_reject_open_redirect(self): # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET //example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data) ",,76,0
openstack%2Fcharm-trilio-data-mover~master~I0f206b52c2c4a746c028ef00fd22759a8cb31427,openstack/charm-trilio-data-mover,master,I0f206b52c2c4a746c028ef00fd22759a8cb31427,Sync release-tools,MERGED,2021-07-22 13:01:19.000000000,2021-07-27 15:18:24.000000000,2021-07-27 15:18:24.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 13:01:19.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/d3a9cd46686cf17cea8696282cfe4d2c7816202e', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I0f206b52c2c4a746c028ef00fd22759a8cb31427\n'}]",0,801843,d3a9cd46686cf17cea8696282cfe4d2c7816202e,10,3,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I0f206b52c2c4a746c028ef00fd22759a8cb31427
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/43/801843/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,d3a9cd46686cf17cea8696282cfe4d2c7816202e,fix-tox-pip-resolutionimpossible, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}deps = flake8==3.9.2 charm-tools==2.8.3, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs}deps = -r{toxinidir}/test-requirements.txt,16,16
openstack%2Fpuppet-openstack-integration~master~Ia6f9923e410f629f0bacbd5493c92e40579d6147,openstack/puppet-openstack-integration,master,Ia6f9923e410f629f0bacbd5493c92e40579d6147,Updated from Puppet OpenStack modules constraints,MERGED,2021-07-23 06:17:20.000000000,2021-07-27 15:06:02.000000000,2021-07-27 15:06:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 06:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d6a24a88a99d95fd447218c7893f85c1a92f9155', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ia6f9923e410f629f0bacbd5493c92e40579d6147\n'}, {'number': 2, 'created': '2021-07-27 06:18:49.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2148f53ade949aa0f557da11c5100804d85c371c', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ia6f9923e410f629f0bacbd5493c92e40579d6147\n'}]",0,801935,2148f53ade949aa0f557da11c5100804d85c371c,10,3,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ia6f9923e410f629f0bacbd5493c92e40579d6147
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/801935/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,d6a24a88a99d95fd447218c7893f85c1a92f9155,openstack/puppet/constraints, :ref => 'v6.3.1' :ref => '9.0.0', :ref => 'v6.3.0' :ref => '8.2.0',2,2
openstack%2Fkolla~master~Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2,openstack/kolla,master,Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2,Add masakari-dashboard to debian binary horizon image,MERGED,2021-07-03 09:22:21.000000000,2021-07-27 14:32:08.000000000,2021-07-27 11:19:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-07-03 09:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4cfb9528bef46fe8c98f68118322ed19929285e2', 'message': 'Add masakari-dashboard to debian binary horizon image\n\nChange-Id: Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2\n'}, {'number': 2, 'created': '2021-07-03 09:23:58.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'releasenotes/notes/add-masakari-dashboard-eae5f216888e5fe0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4c2990a99fddc9778a752e865bb59cfe92e84afb', 'message': 'Add masakari-dashboard to debian binary horizon image\n\nThis patch is adding python3-masakari-dashboard\nto debian binary image as we added masakari-dashboard\nto debian in wallaby cycle.\n\nChange-Id: Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2\n'}]",0,799348,4c2990a99fddc9778a752e865bb59cfe92e84afb,15,3,2,27339,,,0,"Add masakari-dashboard to debian binary horizon image

This patch is adding python3-masakari-dashboard
to debian binary image as we added masakari-dashboard
to debian in wallaby cycle.

Change-Id: Ie3f357eaae5d1378ada32451dbd74f01f5cd2ba2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/799348/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/Dockerfile.j2', 'releasenotes/notes/add-masakari-dashboard-eae5f216888e5fe0.yaml']",2,4cfb9528bef46fe8c98f68118322ed19929285e2,,--- features: - Add masakari-dashboard to debian binary horizon image. ,,4,0
openstack%2Fpython-manilaclient~master~Ifc2b19246d9aad1acf4d89256869898ddecd9335,openstack/python-manilaclient,master,Ifc2b19246d9aad1acf4d89256869898ddecd9335,tests: Remove unused fakes,MERGED,2021-07-14 09:28:17.000000000,2021-07-27 14:24:42.000000000,2021-07-27 14:21:51.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 09:28:17.000000000', 'files': ['manilaclient/tests/unit/osc/osc_fakes.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/eea1d21b8bc35a89b6fadec34bbd5551d4e46ce5', 'message': 'tests: Remove unused fakes\n\nChange-Id: Ifc2b19246d9aad1acf4d89256869898ddecd9335\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,800763,eea1d21b8bc35a89b6fadec34bbd5551d4e46ce5,7,2,1,15334,,,0,"tests: Remove unused fakes

Change-Id: Ifc2b19246d9aad1acf4d89256869898ddecd9335
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/63/800763/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/unit/osc/osc_fakes.py'],1,eea1d21b8bc35a89b6fadec34bbd5551d4e46ce5,prettytable,,"from oslo_serialization import jsonutils import requestsclass FakeModule(object): def __init__(self, name, version): self.name = name self.__version__ = version # Workaround for openstacksdk case self.version = mock.Mock() self.version.__version__ = version class FakeResponse(requests.Response): def __init__(self, headers=None, status_code=200, data=None, encoding=None): super(FakeResponse, self).__init__() headers = headers or {} self.status_code = status_code self.headers.update(headers) self._content = jsonutils.dump_as_bytes(data) class FakeModel(dict): def __getattr__(self, key): try: return self[key] except KeyError: raise AttributeError(key)",0,35
openstack%2Fironic~bugfix%2F18.1~Id5bcfad5cd4514dd710232d75fbd729856f16b17,openstack/ironic,bugfix/18.1,Id5bcfad5cd4514dd710232d75fbd729856f16b17,Fixes missing argument for log format string,MERGED,2021-07-27 13:28:19.000000000,2021-07-27 14:24:20.000000000,2021-07-27 14:22:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 13:28:19.000000000', 'files': ['ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9887e1b82da17b7637b6cff91c2faf72ad33027e', 'message': 'Fixes missing argument for log format string\n\nStory: 2008567\nChange-Id: Id5bcfad5cd4514dd710232d75fbd729856f16b17\n(cherry picked from commit b03ff30f9370aaf0a5dc6da3f42f6e67146e199d)\n'}]",0,802523,9887e1b82da17b7637b6cff91c2faf72ad33027e,10,3,1,33344,,,0,"Fixes missing argument for log format string

Story: 2008567
Change-Id: Id5bcfad5cd4514dd710232d75fbd729856f16b17
(cherry picked from commit b03ff30f9370aaf0a5dc6da3f42f6e67146e199d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/802523/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/utils.py'],1,9887e1b82da17b7637b6cff91c2faf72ad33027e,," {'boot_mode': boot_mode, 'secure_boot': secure_boot, 'node': task.node.uuid})"," {'boot_mode': boot_mode, 'secure_boot': secure_boot})",2,1
openstack%2Fpython-manilaclient~master~I84231b7e8d952b562870838a2fa4ef0d86179183,openstack/python-manilaclient,master,I84231b7e8d952b562870838a2fa4ef0d86179183,Remove six,MERGED,2021-07-13 16:02:22.000000000,2021-07-27 14:23:27.000000000,2021-07-27 14:21:45.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-13 16:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e0ce68bc81727a56dbebe7cc762c9ec7c1babf44', 'message': 'Remove six\n\nThis is no longer needed in a Python 3-only world.\n\nChange-Id: I84231b7e8d952b562870838a2fa4ef0d86179183\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-07-13 18:12:39.000000000', 'files': ['manilaclient/tests/unit/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/osc/utils.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/unit/v1/test_scheduler_stats.py', 'manilaclient/osc/v2/share_types.py', 'manilaclient/tests/unit/v1/test_share_servers.py', 'manilaclient/tests/unit/v1/test_quota_classes.py', 'manilaclient/common/cliutils.py', 'manilaclient/common/apiclient/exceptions.py', 'manilaclient/tests/unit/v1/test_share_snapshots.py', 'manilaclient/tests/unit/test_utils.py', 'manilaclient/tests/unit/v1/test_limits.py', 'manilaclient/tests/unit/v1/test_services.py', 'requirements.txt', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/unit/v1/test_share_type_access.py', 'manilaclient/common/apiclient/base.py', 'manilaclient/tests/unit/v1/test_share_types.py', 'manilaclient/common/httpclient.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/v1/test_security_services.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v1/test_shares.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/common/apiclient/utils.py', 'manilaclient/shell.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/functional/utils.py', 'manilaclient/tests/unit/v1/test_share_networks.py', 'manilaclient/tests/unit/v1/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/utils.py', 'manilaclient/tests/unit/v2/test_messages.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1562ec6fb1661ff3d737e9211050d4ba92b2a7b5', 'message': 'Remove six\n\nThis is no longer needed in a Python 3-only world.\n\nChange-Id: I84231b7e8d952b562870838a2fa4ef0d86179183\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",5,800677,1562ec6fb1661ff3d737e9211050d4ba92b2a7b5,14,3,2,15334,,,0,"Remove six

This is no longer needed in a Python 3-only world.

Change-Id: I84231b7e8d952b562870838a2fa4ef0d86179183
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/77/800677/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/osc/utils.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/unit/v1/test_scheduler_stats.py', 'manilaclient/osc/v2/share_types.py', 'manilaclient/tests/unit/v1/test_share_servers.py', 'manilaclient/tests/unit/v1/test_quota_classes.py', 'manilaclient/common/cliutils.py', 'manilaclient/common/apiclient/exceptions.py', 'manilaclient/tests/unit/v1/test_share_snapshots.py', 'manilaclient/tests/unit/test_utils.py', 'manilaclient/tests/unit/v1/test_limits.py', 'manilaclient/tests/unit/v1/test_services.py', 'requirements.txt', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/unit/v1/test_share_type_access.py', 'manilaclient/common/apiclient/base.py', 'manilaclient/tests/unit/v1/test_share_types.py', 'manilaclient/common/httpclient.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/v1/test_security_services.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v1/test_shares.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/common/apiclient/utils.py', 'manilaclient/shell.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/functional/utils.py', 'manilaclient/tests/unit/v1/test_share_networks.py', 'manilaclient/tests/unit/v1/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/utils.py', 'manilaclient/tests/unit/v2/test_messages.py']",37,e0ce68bc81727a56dbebe7cc762c9ec7c1babf44,prettytable, result = str(self.message),import six result = six.text_type(self.message),95,175
openstack%2Fpython-manilaclient~master~I0694b25dc4d72e817cb08ce6cafb39bb8226293d,openstack/python-manilaclient,master,I0694b25dc4d72e817cb08ce6cafb39bb8226293d,utils: Remove unicode-related helpers,MERGED,2021-07-14 09:28:17.000000000,2021-07-27 14:21:49.000000000,2021-07-27 14:21:49.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-14 09:28:17.000000000', 'files': ['manilaclient/base.py', 'manilaclient/tests/unit/osc/osc_fakes.py', 'HACKING', 'manilaclient/utils.py', 'manilaclient/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0002625e2b06ec6c8c76d992a1a0cf1cb013e2de', 'message': ""utils: Remove unicode-related helpers\n\nThe 'unicode_key_value_to_string' and '_encode' helpers were used to\nhandle the difference between unicode and byte strings in Python 2. In a\nPython 3-only world, they are unnecessary. Remove them.\n\nSome references to text encoding in the HACKING file are removed. In\ntheory, we should no longer have to worry about byte strings.\n\nChange-Id: I0694b25dc4d72e817cb08ce6cafb39bb8226293d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,800762,0002625e2b06ec6c8c76d992a1a0cf1cb013e2de,7,4,1,15334,,,0,"utils: Remove unicode-related helpers

The 'unicode_key_value_to_string' and '_encode' helpers were used to
handle the difference between unicode and byte strings in Python 2. In a
Python 3-only world, they are unnecessary. Remove them.

Some references to text encoding in the HACKING file are removed. In
theory, we should no longer have to worry about byte strings.

Change-Id: I0694b25dc4d72e817cb08ce6cafb39bb8226293d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/62/800762/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/base.py', 'manilaclient/tests/unit/osc/osc_fakes.py', 'HACKING', 'manilaclient/utils.py', 'manilaclient/tests/unit/test_utils.py']",5,0002625e2b06ec6c8c76d992a1a0cf1cb013e2de,prettytable,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import testtools from manilaclient import utils class TestCommonUtils(testtools.TestCase): def test_unicode_key_value_to_string(self): src = {u'key': u'\u70fd\u7231\u5a77'} # u'xxxx' in PY3 is str, we will not get extra 'u' from cli # output in PY3 self.assertEqual(src, utils.unicode_key_value_to_string(src)) ",0,95
openstack%2Fpython-manilaclient~master~Iaed9d44b9b5d7a1a2ee0469e5cbdfe769090abd9,openstack/python-manilaclient,master,Iaed9d44b9b5d7a1a2ee0469e5cbdfe769090abd9,tools: Remove dead tools,MERGED,2021-07-13 16:02:22.000000000,2021-07-27 14:21:47.000000000,2021-07-27 14:21:47.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-13 16:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f64434c70c4e37f71e81501eb996fb1790788e35', 'message': 'tools: Remove dead tools\n\nThese have been effectively untouched since initial creation of the\nproject and were copy-pasted from nova. Drop them.\n\nChange-Id: Iaed9d44b9b5d7a1a2ee0469e5cbdfe769090abd9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-07-13 18:12:39.000000000', 'files': ['tools/generate_authors.sh', 'tools/with_venv.sh', 'tools/install_venv.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f6c747f15076fcb52ff91ca8c06307b1fe667691', 'message': 'tools: Remove dead tools\n\nThese have been effectively untouched since initial creation of the\nproject and were copy-pasted from nova. Drop them.\n\nChange-Id: Iaed9d44b9b5d7a1a2ee0469e5cbdfe769090abd9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,800678,f6c747f15076fcb52ff91ca8c06307b1fe667691,10,3,2,15334,,,0,"tools: Remove dead tools

These have been effectively untouched since initial creation of the
project and were copy-pasted from nova. Drop them.

Change-Id: Iaed9d44b9b5d7a1a2ee0469e5cbdfe769090abd9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/78/800678/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/generate_authors.sh', 'tools/with_venv.sh', 'tools/install_venv.py']",3,f64434c70c4e37f71e81501eb996fb1790788e35,prettytable,,"# Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Copyright 2010 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Installation script for Nova's development virtualenv """""" import optparse import os import subprocess import sys ROOT = os.path.dirname(os.path.dirname(os.path.realpath(__file__))) VENV = os.path.join(ROOT, '.venv') PIP_REQUIRES = os.path.join(ROOT, 'requirements.txt') TEST_REQUIRES = os.path.join(ROOT, 'test-requirements.txt') PY_VERSION = ""python%s.%s"" % (sys.version_info[0], sys.version_info[1]) def die(message, *args): print(message % args, file=sys.stderr) sys.exit(1) def check_python_version(): if sys.version_info < (2, 6): die(""Need Python Version >= 2.6"") def run_command_with_code(cmd, redirect_output=True, check_exit_code=True): """"""Runs a command in an out-of-process shell. Runs a command in an out-of-process shell, returning the output of that command. Working directory is ROOT. """""" if redirect_output: stdout = subprocess.PIPE else: stdout = None proc = subprocess.Popen(cmd, cwd=ROOT, stdout=stdout) output = proc.communicate()[0] if check_exit_code and proc.returncode != 0: die('Command ""%s"" failed.\n%s', ' '.join(cmd), output) return (output, proc.returncode) def run_command(cmd, redirect_output=True, check_exit_code=True): return run_command_with_code(cmd, redirect_output, check_exit_code)[0] class Distro(object): def check_cmd(self, cmd): return bool(run_command(['which', cmd], check_exit_code=False).strip()) def install_virtualenv(self): if self.check_cmd('virtualenv'): return if self.check_cmd('easy_install'): print('Installing virtualenv via easy_install...', end=' ') if run_command(['easy_install', 'virtualenv']): print('Succeeded') return else: print('Failed') die('ERROR: virtualenv not found.\n\nDevelopment' ' requires virtualenv, please install it using your' ' favorite package management tool') def post_process(self): """"""Any distribution-specific post-processing gets done here. In particular, this is useful for applying patches to code inside the venv. """""" pass class Debian(Distro): """"""This covers all Debian-based distributions."""""" def check_pkg(self, pkg): return run_command_with_code(['dpkg', '-l', pkg], check_exit_code=False)[1] == 0 def apt_install(self, pkg, **kwargs): run_command(['sudo', 'apt-get', 'install', '-y', pkg], **kwargs) def apply_patch(self, originalfile, patchfile): run_command(['patch', originalfile, patchfile]) def install_virtualenv(self): if self.check_cmd('virtualenv'): return if not self.check_pkg('python-virtualenv'): self.apt_install('python-virtualenv', check_exit_code=False) super(Debian, self).install_virtualenv() class Fedora(Distro): """"""This covers all Fedora-based distributions. Includes: Fedora, RHEL, CentOS, Scientific Linux. """""" def check_pkg(self, pkg): return run_command_with_code(['rpm', '-q', pkg], check_exit_code=False)[1] == 0 def yum_install(self, pkg, **kwargs): run_command(['sudo', 'yum', 'install', '-y', pkg], **kwargs) def apply_patch(self, originalfile, patchfile): run_command(['patch', originalfile, patchfile]) def install_virtualenv(self): if self.check_cmd('virtualenv'): return if not self.check_pkg('python-virtualenv'): self.yum_install('python-virtualenv', check_exit_code=False) super(Fedora, self).install_virtualenv() def get_distro(): if (os.path.exists('/etc/fedora-release') or os.path.exists('/etc/redhat-release')): return Fedora() elif os.path.exists('/etc/debian_version'): return Debian() else: return Distro() def check_dependencies(): get_distro().install_virtualenv() def create_virtualenv(venv=VENV, no_site_packages=True): """"""Creates the virtual environment. Creates the virtual environment installs PIP only into the virtual environment. """""" print('Creating venv...', end=' ') if no_site_packages: run_command(['virtualenv', '-q', '--no-site-packages', VENV]) else: run_command(['virtualenv', '-q', VENV]) print('done.') print('Installing pip in virtualenv...', end=' ') if not run_command(['tools/with_venv.sh', 'easy_install', 'pip>1.0']).strip(): die(""Failed to install pip."") print('done.') def pip_install(*args): run_command(['tools/with_venv.sh', 'pip', 'install', '--upgrade'] + list(args), redirect_output=False) def install_dependencies(venv=VENV): print('Installing dependencies with pip (this can take a while)...') # First things first, make sure our venv has the latest pip and distribute. pip_install('pip') pip_install('distribute') pip_install('-r', PIP_REQUIRES) pip_install('-r', TEST_REQUIRES) # Tell the virtual env how to ""import manila"" pthfile = os.path.join( venv, ""lib"", PY_VERSION, ""site-packages"", ""manilaclient.pth"") f = open(pthfile, 'w') f.write(""%s\n"" % ROOT) def post_process(): get_distro().post_process() def print_help(): help = """""" python-manilaclient development environment setup is complete. python-manilaclient development uses virtualenv to track and manage Python dependencies while in development and testing. To activate the python-manilaclient virtualenv for the extent of your current shell session you can run: $ source .venv/bin/activate Or, if you prefer, you can run commands in the virtualenv on a case by case basis by running: $ tools/with_venv.sh <your command> Also, make test will automatically use the virtualenv. """""" print(help) def parse_args(): """"""Parse command-line arguments."""""" parser = optparse.OptionParser() parser.add_option( ""-n"", ""--no-site-packages"", dest=""no_site_packages"", default=False, action=""store_true"", help=""Do not inherit packages from global Python install"", ) return parser.parse_args() def main(argv): (options, args) = parse_args() check_python_version() check_dependencies() create_virtualenv(no_site_packages=options.no_site_packages) install_dependencies() post_process() print_help() if __name__ == '__main__': main(sys.argv) ",0,257
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I50b81937698098141045841aec59c04ee88f5b0f,openstack/tripleo-heat-templates,stable/wallaby,I50b81937698098141045841aec59c04ee88f5b0f,Remove all docker related tasks from upgrades,MERGED,2021-07-26 13:55:51.000000000,2021-07-27 14:08:21.000000000,2021-07-27 14:08:21.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-26 13:55:51.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e563773a9fd023d06a3a9b6ed5fbc99a1835c7f2', 'message': 'Remove all docker related tasks from upgrades\n\nChange-Id: I50b81937698098141045841aec59c04ee88f5b0f\n'}]",2,802212,e563773a9fd023d06a3a9b6ed5fbc99a1835c7f2,9,7,1,10969,,,0,"Remove all docker related tasks from upgrades

Change-Id: I50b81937698098141045841aec59c04ee88f5b0f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/802212/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,e563773a9fd023d06a3a9b6ed5fbc99a1835c7f2,,, - name: Stop all services by stopping all docker containers include_role: name: tripleo_podman tasks_from: tripleo_docker_stop.yml tags: - never - system_upgrade - system_upgrade_prepare - name: Purge everything about docker on the host when: - (step | int) == 3 include_role: name: tripleo_podman tasks_from: tripleo_docker_purge.yml - name: Stop docker include_role: name: tripleo_podman tasks_from: tripleo_docker_stop.yml ,0,20
openstack%2Fopenstack-tempest-skiplist~master~Ia56cb348c4bbf5ec32447f0fb5915c4a4f37df6a,openstack/openstack-tempest-skiplist,master,Ia56cb348c4bbf5ec32447f0fb5915c4a4f37df6a,Add skip for all jobs test_port_security_macspoofing_port,MERGED,2021-07-27 13:41:14.000000000,2021-07-27 14:05:07.000000000,2021-07-27 14:03:41.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 13:41:14.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/47a6a7140e40d2f7850c611e3113ed14ea2dd5aa', 'message': ""Add skip for all jobs test_port_security_macspoofing_port\n\nInstead of adding more jobs here like [1][2] lets make the jobs\nmatch '[]' which means 'all jobs'.\n\n[1] https://logserver.rdoproject.org/openstack-component-validation/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-8-standalone-validation-train/686b2cd/logs/undercloud/var/log/tempest/stestr_results.html.gz\n[2] https://logserver.rdoproject.org/openstack-component-tripleo/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-8-standalone-tripleo-train/d6650dc/logs/undercloud/var/log/tempest/stestr_results.html.gz\nRelated-Bug: 1936420\n\nChange-Id: Ia56cb348c4bbf5ec32447f0fb5915c4a4f37df6a\n""}]",0,802527,47a6a7140e40d2f7850c611e3113ed14ea2dd5aa,10,4,1,8449,,,0,"Add skip for all jobs test_port_security_macspoofing_port

Instead of adding more jobs here like [1][2] lets make the jobs
match '[]' which means 'all jobs'.

[1] https://logserver.rdoproject.org/openstack-component-validation/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-8-standalone-validation-train/686b2cd/logs/undercloud/var/log/tempest/stestr_results.html.gz
[2] https://logserver.rdoproject.org/openstack-component-tripleo/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-8-standalone-tripleo-train/d6650dc/logs/undercloud/var/log/tempest/stestr_results.html.gz
Related-Bug: 1936420

Change-Id: Ia56cb348c4bbf5ec32447f0fb5915c4a4f37df6a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/27/802527/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,47a6a7140e40d2f7850c611e3113ed14ea2dd5aa,, jobs: [], jobs: - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-containers-multinode-train - tripleo-ci-centos-8-containers-multinode - tripleo-ci-centos-8-containers-multinode-wallaby - tripleo-ci-centos-8-containers-multinode-victoria - tripleo-ci-centos-8-containers-multinode-ussuri - tripleo-ci-centos-8-containers-multinode-train - tripleo-ci-centos-8-standalone - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-train - periodic-tripleo-ci-centos-8-containers-multinode-train - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-train - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-train - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-train,1,14
openstack%2Ftripleo-common~stable%2Fussuri~I8cbba356867145a0076c5426f4ac7642195ea357,openstack/tripleo-common,stable/ussuri,I8cbba356867145a0076c5426f4ac7642195ea357,Bump nautilus containers to v4.0.19,MERGED,2021-07-23 10:33:54.000000000,2021-07-27 13:43:55.000000000,2021-07-27 13:42:31.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-23 10:33:54.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2a482053be69efa3bdc37883f44b38ef7eb95ce', 'message': 'Bump nautilus containers to v4.0.19\n\nThis change solves multiple issues present with the 4.0.13 containers,\nespecially with RGW and the related tempest tests.\nThe purpose of this review is moving from v4.0.13 to v4.0.19 tag, which\nhas the latest released content.\n\nChange-Id: I8cbba356867145a0076c5426f4ac7642195ea357\n'}]",1,801884,e2a482053be69efa3bdc37883f44b38ef7eb95ce,19,8,1,25402,,,0,"Bump nautilus containers to v4.0.19

This change solves multiple issues present with the 4.0.13 containers,
especially with RGW and the related tempest tests.
The purpose of this review is moving from v4.0.13 to v4.0.19 tag, which
has the latest released content.

Change-Id: I8cbba356867145a0076c5426f4ac7642195ea357
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/801884/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,e2a482053be69efa3bdc37883f44b38ef7eb95ce,nautilus_v4.0.19,- imagename: quay.ceph.io/ceph-ci/daemon:v4.0.19-stable-4.0-nautilus-centos-7-x86_64,- imagename: quay.ceph.io/ceph-ci/daemon:v4.0.13-stable-4.0-nautilus-centos-7-x86_64,2,2
openstack%2Fpuppet-ironic~master~I58a123fbf81eb0c3ee266bbd57ebb02568adb21b,openstack/puppet-ironic,master,I58a123fbf81eb0c3ee266bbd57ebb02568adb21b,Prepare Xena M2,MERGED,2021-07-26 11:04:26.000000000,2021-07-27 13:21:28.000000000,2021-07-26 23:33:44.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 11:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e11ddfa360f90a013286ba0d075a3630ef75feec', 'message': 'Prepare Xena M2\n\nUpdate the version metadata for Xena milestone M2\n\nChange-Id: I58a123fbf81eb0c3ee266bbd57ebb02568adb21b\n'}, {'number': 2, 'created': '2021-07-26 15:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/70636334103be6adf3a964817768527e6e7cc84d', 'message': 'Prepare Xena M2\n\nUpdate the version metadata for Xena milestone M2\n\nChange-Id: I58a123fbf81eb0c3ee266bbd57ebb02568adb21b\n'}, {'number': 3, 'created': '2021-07-26 16:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4c8b7a089f2774be942b25d3dfb2588e431b8139', 'message': 'Prepare Xena M2\n\nUpdate the version metadata for Xena milestone M2\n\nChange-Id: I58a123fbf81eb0c3ee266bbd57ebb02568adb21b\n'}, {'number': 4, 'created': '2021-07-26 23:10:37.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/314a9e52d4b2651690a0791e89d984378d9045ad', 'message': 'Prepare Xena M2\n\nUpdate the version metadata for Xena milestone M2\n\nChange-Id: I58a123fbf81eb0c3ee266bbd57ebb02568adb21b\n'}]",0,802294,314a9e52d4b2651690a0791e89d984378d9045ad,20,3,4,9414,,,0,"Prepare Xena M2

Update the version metadata for Xena milestone M2

Change-Id: I58a123fbf81eb0c3ee266bbd57ebb02568adb21b
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/94/802294/4 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e11ddfa360f90a013286ba0d075a3630ef75feec,prep-release-xena-m2," ""version_requirement"": "">=19.2.0 <20.0.0"" ""version_requirement"": "">=19.2.0 <20.0.0"" ""version_requirement"": "">=19.2.0 <20.0.0"" ""version"": ""19.2.0"""," ""version_requirement"": "">=19.1.0 <20.0.0"" ""version_requirement"": "">=19.1.0 <20.0.0"" ""version_requirement"": "">=19.1.0 <20.0.0"" ""version"": ""19.1.0""",4,4
openstack%2Fironic~master~Id5bcfad5cd4514dd710232d75fbd729856f16b17,openstack/ironic,master,Id5bcfad5cd4514dd710232d75fbd729856f16b17,Fixes missing argument for log format string,MERGED,2021-07-27 09:55:20.000000000,2021-07-27 13:18:30.000000000,2021-07-27 13:16:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 09:55:20.000000000', 'files': ['ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b03ff30f9370aaf0a5dc6da3f42f6e67146e199d', 'message': 'Fixes missing argument for log format string\n\nStory: 2008567\nChange-Id: Id5bcfad5cd4514dd710232d75fbd729856f16b17\n'}]",0,802448,b03ff30f9370aaf0a5dc6da3f42f6e67146e199d,11,3,1,33344,,,0,"Fixes missing argument for log format string

Story: 2008567
Change-Id: Id5bcfad5cd4514dd710232d75fbd729856f16b17
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/802448/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/utils.py'],1,b03ff30f9370aaf0a5dc6da3f42f6e67146e199d,ironic_boot_mode_status_bugfixes," {'boot_mode': boot_mode, 'secure_boot': secure_boot, 'node': task.node.uuid})"," {'boot_mode': boot_mode, 'secure_boot': secure_boot})",2,1
openstack%2Ftripleo-ci~master~I9cb33c6b62c6d54af792634cd582e6d72821ad02,openstack/tripleo-ci,master,I9cb33c6b62c6d54af792634cd582e6d72821ad02,"Revert ""Exclude buggy edk2-ovmf for t/u/v container-build""",MERGED,2021-07-14 12:01:01.000000000,2021-07-27 13:14:11.000000000,2021-07-27 13:14:11.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-14 12:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d7bb96d88c0ad66b8cc21980773252eaa8d0bea8', 'message': 'Revert ""Exclude buggy edk2-ovmf for t/u/v container-build""\n\nThis reverts commit b0747d54d2335a5b56aed1ecbe37da42e6ea3bcf.\n\nReason for revert: Because of bug[1] we have added workaround to pin edk2-ovmf by adding exclude.\n\nFix for bug[1] is released: libvirt-6.0.0-36.el8\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1961562\n\nChange-Id: I9cb33c6b62c6d54af792634cd582e6d72821ad02\nRelated-Bug: #1929634\n'}, {'number': 2, 'created': '2021-07-14 12:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/df3a4a228ed80442f6b97e082b0824537746bd74', 'message': 'Revert ""Exclude buggy edk2-ovmf for t/u/v container-build""\n\nThis reverts commit b0747d54d2335a5b56aed1ecbe37da42e6ea3bcf.\n\nReason for revert: Because of bug[1] we have added workaround to pin edk2-ovmf by adding exclude.\n\nFix for bug[1] is released: libvirt-6.0.0-36.el8\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1961562\n\nChange-Id: I9cb33c6b62c6d54af792634cd582e6d72821ad02\nCloses-Bug: #1936205\n'}, {'number': 3, 'created': '2021-07-26 19:00:23.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d15d348bf0d5a363c48ac5ffe14d902c647fde75', 'message': 'Revert ""Exclude buggy edk2-ovmf for t/u/v container-build""\n\nThis reverts commit b0747d54d2335a5b56aed1ecbe37da42e6ea3bcf.\n\nReason for revert: Because of bug[1] we have added workaround to pin edk2-ovmf by adding exclude.\n\nFix for bug[1] is released: libvirt-6.0.0-36.el8\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1961562\n\nChange-Id: I9cb33c6b62c6d54af792634cd582e6d72821ad02\nCloses-Bug: #1936205\n'}]",1,800646,d15d348bf0d5a363c48ac5ffe14d902c647fde75,19,9,3,29775,,,0,"Revert ""Exclude buggy edk2-ovmf for t/u/v container-build""

This reverts commit b0747d54d2335a5b56aed1ecbe37da42e6ea3bcf.

Reason for revert: Because of bug[1] we have added workaround to pin edk2-ovmf by adding exclude.

Fix for bug[1] is released: libvirt-6.0.0-36.el8

[0] https://bugzilla.redhat.com/show_bug.cgi?id=1961562

Change-Id: I9cb33c6b62c6d54af792634cd582e6d72821ad02
Closes-Bug: #1936205
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/46/800646/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/tasks/main.yml'],1,d7bb96d88c0ad66b8cc21980773252eaa8d0bea8,bug/1929634,,"# Remove this task once rh bz 1961562 is fixed. - name: Add edk2 on exclude list for AppStream repo become: true lineinfile: path: /etc/yum.repos.d/CentOS-Stream-AppStream.repo line: 'exclude=edk2-ovmf-20200602gitca407c7246bf-5*' insertafter: EOF when: release is defined and release in ['train', 'ussuri', 'victoria'] ",0,9
openstack%2Ftripleo-quickstart~master~I14abf3031f6982a71841f84cdd6dd1909f1988a0,openstack/tripleo-quickstart,master,I14abf3031f6982a71841f84cdd6dd1909f1988a0,DNM missings from https://review.opendev.org/801266/,ABANDONED,2021-07-19 11:30:16.000000000,2021-07-27 12:58:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-19 11:30:16.000000000', 'files': ['config/general_config/featureset003.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8869b166cbedb89fe95665e27adb0d16128fd90f', 'message': 'DNM missings from https://review.opendev.org/801266/\n\nChange-Id: I14abf3031f6982a71841f84cdd6dd1909f1988a0\n'}]",0,801291,8869b166cbedb89fe95665e27adb0d16128fd90f,4,2,1,13861,,,0,"DNM missings from https://review.opendev.org/801266/

Change-Id: I14abf3031f6982a71841f84cdd6dd1909f1988a0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/91/801291/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset003.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset001.yml']",3,8869b166cbedb89fe95665e27adb0d16128fd90f,,# DNM,,3,0
openstack%2Ftripleo-quickstart-extras~master~If6b40e38d5f697ec92e2329a79e6653a99f166f4,openstack/tripleo-quickstart-extras,master,If6b40e38d5f697ec92e2329a79e6653a99f166f4,Add tripleo_overcloud_image_upload_local back,MERGED,2021-07-26 18:15:17.000000000,2021-07-27 12:55:21.000000000,2021-07-27 08:10:12.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-26 18:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0cdb1bc45b1592dd19008092969f11904dad8b98', 'message': 'Add tripleo_overcloud_image_upload_local back\n\ncommit 666b9292f1c4719346ee9be678d2c354e7905039\nremoved this parameter - however it is still needed\nfor ussuri.\n\nChange-Id: If6b40e38d5f697ec92e2329a79e6653a99f166f4\n'}, {'number': 2, 'created': '2021-07-26 22:25:37.000000000', 'files': ['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/be14a1b271aaee94e4f9420a096a0d632ae9b381', 'message': 'Add tripleo_overcloud_image_upload_local back\n\ncommit 666b9292f1c4719346ee9be678d2c354e7905039\nremoved this parameter - however it is still needed\nfor ussuri - and th elogic is reversed.\n\nChange-Id: If6b40e38d5f697ec92e2329a79e6653a99f166f4\n'}]",2,802382,be14a1b271aaee94e4f9420a096a0d632ae9b381,12,4,2,9976,,,0,"Add tripleo_overcloud_image_upload_local back

commit 666b9292f1c4719346ee9be678d2c354e7905039
removed this parameter - however it is still needed
for ussuri - and th elogic is reversed.

Change-Id: If6b40e38d5f697ec92e2329a79e6653a99f166f4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/82/802382/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'],1,0cdb1bc45b1592dd19008092969f11904dad8b98,ussuri-image-upload," tripleo_overcloud_image_upload_local: ""{{ undercloud_enable_nova|default(false) }}""",,1,0
openstack%2Fceilometer~stable%2Ftrain~I791f214c6c130973fff9703a0ada1efd93720ae6,openstack/ceilometer,stable/train,I791f214c6c130973fff9703a0ada1efd93720ae6,[Stable-only] Pin Gnocchi to a specific release,MERGED,2021-07-25 08:31:44.000000000,2021-07-27 12:46:54.000000000,2021-07-27 12:45:19.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 08:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/98e9e8c2c1edbc307e3815f54566e9c3be8014a9', 'message': '[Stable-only] Pin Gnocchi to a specific release\n\nCurrently we use the latest Gnocchi in functional tests but this\noften results problems caused by any update in Gnocchi side.\nThis change pins Gnocchi to a specific version to avoid such problems.\n\nChange-Id: I791f214c6c130973fff9703a0ada1efd93720ae6\n(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)\n(cherry picked from commit 564a2ca6dfac2552c4537a9d99dffe167f074ec7)\n(cherry picked from commit 9812f4b35a77fd17ddf158a96d13dcfbacea6152)\n'}, {'number': 2, 'created': '2021-07-26 00:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/30cb7594df54a90d75312979d4408240339e0cc4', 'message': '[Stable-only] Pin Gnocchi to a specific release\n\nCurrently we use the latest Gnocchi in functional tests but this\noften results problems caused by any update in Gnocchi side.\nThis change pins Gnocchi to a specific version to avoid such problems.\n\nBackport note:\nBecause stable/train still supports Python 2, Gnocchi 4.3.z is used\ninstead of Gnocchi 4.4.z which no longer support Python 2.\n\nChange-Id: I791f214c6c130973fff9703a0ada1efd93720ae6\n(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)\n(cherry picked from commit 564a2ca6dfac2552c4537a9d99dffe167f074ec7)\n(cherry picked from commit 9812f4b35a77fd17ddf158a96d13dcfbacea6152)\n'}, {'number': 3, 'created': '2021-07-26 00:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7a4b58cc2572a958a3d952c968d435a443a438fa', 'message': '[Stable-only] Pin Gnocchi to a specific release\n\nCurrently we use the latest Gnocchi in functional tests but this\noften results problems caused by any update in Gnocchi side.\nThis change pins Gnocchi to a specific version to avoid such problems.\n\nBackport note:\nBecause stable/train and older supports Python 2, Gnocchi 4.3.z is used\ninstead of Gnocchi 4.4.z which no longer support Python 2.\n\nChange-Id: I791f214c6c130973fff9703a0ada1efd93720ae6\n(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)\n(cherry picked from commit 564a2ca6dfac2552c4537a9d99dffe167f074ec7)\n(cherry picked from commit 9812f4b35a77fd17ddf158a96d13dcfbacea6152)\n'}, {'number': 4, 'created': '2021-07-26 00:55:34.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/20756c9bd8ccb5e25c61e68769d04d4913725128', 'message': '[Stable-only] Pin Gnocchi to a specific release\n\nCurrently we use the latest Gnocchi in functional tests but this\noften results problems caused by any update in Gnocchi side.\nThis change pins Gnocchi to a specific version to avoid such problems.\n\nBackport note:\nBecause stable/train and older supports Python 2, Gnocchi 4.3.z is used\ninstead of Gnocchi 4.4.z which no longer supports Python 2.\n\nChange-Id: I791f214c6c130973fff9703a0ada1efd93720ae6\n(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)\n(cherry picked from commit 564a2ca6dfac2552c4537a9d99dffe167f074ec7)\n(cherry picked from commit 9812f4b35a77fd17ddf158a96d13dcfbacea6152)\n'}]",0,802189,20756c9bd8ccb5e25c61e68769d04d4913725128,11,2,4,9816,,,0,"[Stable-only] Pin Gnocchi to a specific release

Currently we use the latest Gnocchi in functional tests but this
often results problems caused by any update in Gnocchi side.
This change pins Gnocchi to a specific version to avoid such problems.

Backport note:
Because stable/train and older supports Python 2, Gnocchi 4.3.z is used
instead of Gnocchi 4.4.z which no longer supports Python 2.

Change-Id: I791f214c6c130973fff9703a0ada1efd93720ae6
(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)
(cherry picked from commit 564a2ca6dfac2552c4537a9d99dffe167f074ec7)
(cherry picked from commit 9812f4b35a77fd17ddf158a96d13dcfbacea6152)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/89/802189/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,98e9e8c2c1edbc307e3815f54566e9c3be8014a9,pin-gnocchi,GNOCCHI_GIT_PATH=${GNOCCHI_GIT_PATH:-git+https://github.com/gnocchixyz/gnocchi.git@4.4.1#egg=gnocchi},# TODO(sileht): when Gnocchi 4.0 is out use the tarball instead GNOCCHI_GIT_PATH=${GNOCCHI_GIT_PATH:-git+https://github.com/gnocchixyz/gnocchi#egg=gnocchi},1,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I7672fe016b423d1af5f8feab8c7898a2aa094b5e,openstack/tripleo-ansible,stable/train,I7672fe016b423d1af5f8feab8c7898a2aa094b5e,Testing for I6349254c02f33bc43220446d3208eb84b34c0daa,ABANDONED,2021-07-27 07:55:01.000000000,2021-07-27 12:20:02.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-27 07:55:01.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/backup/tasks/db_backup.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/084cbcde04b8679c584a40c52613b0e2f7452b4d', 'message': 'Testing for I6349254c02f33bc43220446d3208eb84b34c0daa\n\nDepends-On: I6349254c02f33bc43220446d3208eb84b34c0daa\nChange-Id: I7672fe016b423d1af5f8feab8c7898a2aa094b5e\n'}]",0,802432,084cbcde04b8679c584a40c52613b0e2f7452b4d,4,3,1,8449,,,0,"Testing for I6349254c02f33bc43220446d3208eb84b34c0daa

Depends-On: I6349254c02f33bc43220446d3208eb84b34c0daa
Change-Id: I7672fe016b423d1af5f8feab8c7898a2aa094b5e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/802432/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup-and-restore/backup/tasks/db_backup.yml', 'zuul.d/layout.yaml']",2,084cbcde04b8679c584a40c52613b0e2f7452b4d,alternative,, templates: - tripleo-ansible-molecule-jobs - release-notes-jobs-python3 - openstack-python3-ussuri-jobs - tripleo-multinode-container-minimal-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-undercloud-jobs-pipeline,1,7
openstack%2Fbifrost~bugfix%2F11.1~Ifd9e3f5d4a38fdb298964e253a9d3b281cd07e19,openstack/bifrost,bugfix/11.1,Ifd9e3f5d4a38fdb298964e253a9d3b281cd07e19,Update .gitreview for bugfix/11.1,MERGED,2021-07-27 09:57:38.000000000,2021-07-27 12:17:35.000000000,2021-07-27 12:16:14.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 09:57:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/de83ec81abfa1f2ace0a2d773205a027a9f8b605', 'message': 'Update .gitreview for bugfix/11.1\n\nChange-Id: Ifd9e3f5d4a38fdb298964e253a9d3b281cd07e19\n'}]",0,802449,de83ec81abfa1f2ace0a2d773205a027a9f8b605,8,3,1,22816,,,0,"Update .gitreview for bugfix/11.1

Change-Id: Ifd9e3f5d4a38fdb298964e253a9d3b281cd07e19
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/49/802449/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,de83ec81abfa1f2ace0a2d773205a027a9f8b605,create-11.1,defaultbranch=bugfix/11.1,,1,0
openstack%2Fpython-openstackclient~master~Ief94ea07fc7ab6a487af972e8759ca6704d8f085,openstack/python-openstackclient,master,Ief94ea07fc7ab6a487af972e8759ca6704d8f085,compute: Note that '--password' is deployment-specific,MERGED,2021-06-16 15:21:22.000000000,2021-07-27 12:15:06.000000000,2021-07-27 12:13:40.000000000,"[{'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-16 15:21:22.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/280b14abcddf3a308a819771117dd6b72d802642', 'message': ""compute: Note that '--password' is deployment-specific\n\nPassword injection requires either hypervisor-support or an agent\nrunning in the guest that will talk to the metadata service. It can be\ndisabled for a deployment using the '[api] enable_instance_password'\nnova config option. Indicate this, albeit briefly.\n\nChange-Id: Ief94ea07fc7ab6a487af972e8759ca6704d8f085\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,796696,280b14abcddf3a308a819771117dd6b72d802642,13,3,1,15334,,,0,"compute: Note that '--password' is deployment-specific

Password injection requires either hypervisor-support or an agent
running in the guest that will talk to the metadata service. It can be
disabled for a deployment using the '[api] enable_instance_password'
nova config option. Indicate this, albeit briefly.

Change-Id: Ief94ea07fc7ab6a487af972e8759ca6704d8f085
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/796696/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,280b14abcddf3a308a819771117dd6b72d802642,trivial," help=_( 'Set the password to this server. ' 'This option requires cloud support.' ), help=_( 'Set the password on the rebuilt server. ' 'This option requires cloud support.' ), 'mutually exclusive with the --shared-storage option. ' 'This option requires cloud support.' help=_( 'Set the password on the rescued instance. ' 'This option requires cloud support.' ), help=_( 'Set the server password. ' 'This option requires cloud support.' ),"," help=_(""Set the password to this server""), help=_('Set the password on the rebuilt server'), 'mutually exclusive with the --shared-storage option' help=_(""Set the password on the rescued instance""), help=_('Set the server password'),",18,5
openstack%2Ftripleo-heat-templates~master~I4b40d73ab329dc219ee7a387201b0747a6233ed4,openstack/tripleo-heat-templates,master,I4b40d73ab329dc219ee7a387201b0747a6233ed4,Do not fail if haproxy container UUID changes,MERGED,2021-06-29 07:18:39.000000000,2021-07-27 12:00:31.000000000,2021-07-27 12:00:31.000000000,"[{'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-29 07:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cfe55f87e0766e2d8d9e1976048f57275c8678f', 'message': 'Do not fail if haproxy container UUID changes\n\nThere is a possibility that haproxy container crashed and restarted\nwith another UUID, while the deployment is trying to reload it\nafter reconfiguring the certificates, by sending a\n`kill -HUP <uuid-of-the-container>`. In that case, ingore errors\nfor the commands block, since there is no longer need to reload the\nnewly created container.\n\nRelated rhbz#1973674\n\nChange-Id: I4b40d73ab329dc219ee7a387201b0747a6233ed4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-06-30 14:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b608aefc2e7d89de480ea19022e163dfcc5f8beb', 'message': 'Do not fail if haproxy container UUID changes\n\nThere is a possibility that haproxy container crashed and restarted\nwith another UUID, while the deployment is trying to reload it\nafter reconfiguring the certificates, by sending a\n`kill -HUP <uuid-of-the-container>`. In that case, ingore errors\nfor the commands block, since there is no longer need to reload the\nnewly created container.\n\nRelated rhbz#1973674\n\nChange-Id: I4b40d73ab329dc219ee7a387201b0747a6233ed4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-07-23 11:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22837984d54e38e859b2d84381dd5bb821ac0965', 'message': 'Do not fail if haproxy container UUID changes\n\nThere is a possibility that haproxy container crashed and restarted\nwith another UUID, while the deployment is trying to reload it\nafter reconfiguring the certificates, by sending a\n`kill -HUP <uuid-of-the-container>`. In that case, ingore errors\nfor the commands block, since there is no longer need to reload the\nnewly created container.\n\nRelated rhbz#1973674\n\nChange-Id: I4b40d73ab329dc219ee7a387201b0747a6233ed4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-07-26 11:07:11.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/810b81991fd0ae48fa0a0e2049780f35dddbc8c6', 'message': 'Do not fail if haproxy container UUID changes\n\nThere is a possibility that haproxy container crashed and restarted\nwith another UUID, while the deployment is trying to reload it\nafter reconfiguring the certificates, by sending a\n`kill -HUP <uuid-of-the-container>`. In that case, ingore errors\nfor the commands block, since there is no longer need to reload the\nnewly created container.\n\nRelated rhbz#1973674\n\nChange-Id: I4b40d73ab329dc219ee7a387201b0747a6233ed4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",8,798427,810b81991fd0ae48fa0a0e2049780f35dddbc8c6,25,7,4,6926,,,0,"Do not fail if haproxy container UUID changes

There is a possibility that haproxy container crashed and restarted
with another UUID, while the deployment is trying to reload it
after reconfiguring the certificates, by sending a
`kill -HUP <uuid-of-the-container>`. In that case, ingore errors
for the commands block, since there is no longer need to reload the
newly created container.

Related rhbz#1973674

Change-Id: I4b40d73ab329dc219ee7a387201b0747a6233ed4
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/798427/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,9cfe55f87e0766e2d8d9e1976048f57275c8678f,," register: container_kill_result ignore_errors: ""does not exist in database: no such container"" in container_kill_result.stderr",,2,0
openstack%2Ftripleo-heat-templates~master~Id80e5b07ff3080835162c2a301a7a48be9787959,openstack/tripleo-heat-templates,master,Id80e5b07ff3080835162c2a301a7a48be9787959,Add support for setting min TTL limit in designate,MERGED,2021-05-20 19:45:29.000000000,2021-07-27 12:00:29.000000000,2021-07-27 12:00:29.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-20 19:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b4f403a62b54175f7a986eaf617287bec739ee2', 'message': ""Add support for setting min TTL limit in designate\n\nThis patch adds support for conditionally setting a minimum allowed TTL value with designate.\n\nNote: also cleans up a previous conditional to take advantage of a new\nwallaby heat template syntax for if's that don't have an 'else'.\n\nChange-Id: Id80e5b07ff3080835162c2a301a7a48be9787959\n""}, {'number': 2, 'created': '2021-05-21 00:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/162df1e75237f90964db25b7184cdd8b95214553', 'message': ""Add support for setting min TTL limit in designate\n\nThis patch adds support for conditionally setting a minimum allowed TTL value with designate.\n\nNote: also cleans up a previous conditional to take advantage of a new\nwallaby heat template syntax for if's that don't have an 'else'.\n\nChange-Id: Id80e5b07ff3080835162c2a301a7a48be9787959\n""}, {'number': 3, 'created': '2021-05-25 14:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf28a8b2ac47d995fd94b1f141a1850a4069dac1', 'message': ""Add support for setting min TTL limit in designate\n\nThis patch adds support for conditionally setting a minimum allowed TTL value with designate.\n\nNote: also cleans up a previous conditional to take advantage of a new\nwallaby heat template syntax for if's that don't have an 'else'.\n\nChange-Id: Id80e5b07ff3080835162c2a301a7a48be9787959\n""}, {'number': 4, 'created': '2021-05-26 13:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a7149a6deabee46d3e930b10bbe434a51ee8791', 'message': ""Add support for setting min TTL limit in designate\n\nThis patch adds support for conditionally setting a minimum allowed TTL value with designate.\n\nNote: also cleans up a previous conditional to take advantage of a new\nwallaby heat template syntax for if's that don't have an 'else'.\n\nChange-Id: Id80e5b07ff3080835162c2a301a7a48be9787959\n""}, {'number': 5, 'created': '2021-06-08 17:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48080310baa1aece395bbb86eed91a4e673f5d97', 'message': ""Add support for setting min TTL limit in designate\n\nThis patch adds support for conditionally setting a minimum allowed TTL value with designate.\n\nNote: also cleans up a previous conditional to take advantage of a new\nwallaby heat template syntax for if's that don't have an 'else'.\n\nChange-Id: Id80e5b07ff3080835162c2a301a7a48be9787959\n""}, {'number': 6, 'created': '2021-06-09 14:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/359ecce0e16a64360d96186333e266dc8bc4ad04', 'message': ""Add support for setting min TTL limit in designate\n\nThis patch adds support for conditionally setting a minimum allowed TTL value with designate.\n\nNote: also cleans up a previous conditional to take advantage of a new\nwallaby heat template syntax for if's that don't have an 'else'.\n\nChange-Id: Id80e5b07ff3080835162c2a301a7a48be9787959\n""}, {'number': 7, 'created': '2021-06-14 16:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf6b4507f37cea0f51f87992fc8dfa90c4e6951c', 'message': ""Add support for setting min TTL limit in designate\n\nThis patch adds support for conditionally setting a minimum allowed TTL value with designate.\n\nNote: also cleans up a previous conditional to take advantage of a new\nwallaby heat template syntax for if's that don't have an 'else'.\n\nChange-Id: Id80e5b07ff3080835162c2a301a7a48be9787959\n""}, {'number': 8, 'created': '2021-07-26 19:04:51.000000000', 'files': ['deployment/designate/designate-central-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6148410bd67c3c3b11d64b06b6fb639152958e1', 'message': ""Add support for setting min TTL limit in designate\n\nThis patch adds support for conditionally setting a minimum allowed TTL value with designate.\n\nNote: also cleans up a previous conditional to take advantage of a new\nwallaby heat template syntax for if's that don't have an 'else'.\n\nChange-Id: Id80e5b07ff3080835162c2a301a7a48be9787959\n""}]",0,792478,b6148410bd67c3c3b11d64b06b6fb639152958e1,29,6,8,6681,,,0,"Add support for setting min TTL limit in designate

This patch adds support for conditionally setting a minimum allowed TTL value with designate.

Note: also cleans up a previous conditional to take advantage of a new
wallaby heat template syntax for if's that don't have an 'else'.

Change-Id: Id80e5b07ff3080835162c2a301a7a48be9787959
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/792478/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/designate/designate-central-container-puppet.yaml'],1,2b4f403a62b54175f7a986eaf617287bec739ee2,designate," DesignateMinTTL: default: 0 description: > Configure the minimum allowable TTL in seconds. The default value is 0 which leaves the parameter unset. type: number designate_workers_set: not: {equals : [{get_param: DesignateWorkers}, 0]} designate_min_ttl_set: not: {equals : [{get_param: DesignateMinTTL}, 0]} designate::central::workers: if: - designate_workers_set - {get_param: DesignateWorkers} designate::central::min_ttl: if: - designate_min_ttl_set - {get_param: DesignateMinTTL} "," designate_workers_zero: {equals : [{get_param: DesignateWorkers}, 0]} - if: - designate_workers_zero - {} - designate::central::workers: {get_param: DesignateWorkers}",19,6
openstack%2Fpython-manilaclient~master~If9a0a4682c7b7245d36bfff4f7fd4e343ba4e492,openstack/python-manilaclient,master,If9a0a4682c7b7245d36bfff4f7fd4e343ba4e492,WIP Fix PDF docs issue,ABANDONED,2021-07-26 19:22:31.000000000,2021-07-27 11:55:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-26 19:22:31.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a336c2d1be403a52b8c97740f9abf4c8fd0512a8', 'message': 'WIP Fix PDF docs issue\n\nChange-Id: If9a0a4682c7b7245d36bfff4f7fd4e343ba4e492\n'}]",0,802390,a336c2d1be403a52b8c97740f9abf4c8fd0512a8,3,1,1,33756,,,0,"WIP Fix PDF docs issue

Change-Id: If9a0a4682c7b7245d36bfff4f7fd4e343ba4e492
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/90/802390/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a336c2d1be403a52b8c97740f9abf4c8fd0512a8,, # PDF Docs package dependencies tex-gyre [platform:dpkg doc],,3,0
openstack%2Fos-vif~master~I0d55ccbef5b585330b5512e67e442b80304a2e73,openstack/os-vif,master,I0d55ccbef5b585330b5512e67e442b80304a2e73,add configurable per port bridges,MERGED,2021-06-25 07:57:40.000000000,2021-07-27 11:53:41.000000000,2021-07-27 11:50:52.000000000,"[{'_account_id': 5756}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-25 07:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d8b42e681715b4c8d24b1ff9cf8d6a7ea1351797', 'message': '[WIP] add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with ovn to reduce packet loss\nduring a live migration.\n\novn can only install openflow rules when a port both has\na external ids set and the port has an ofport-id assigned.\nsince the ofport-id is only assinged when a netdev matching\nthe port name exists connected to the dataplane ovn cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\non loaded systems this can result in multiple second of packet loss.\nTo address this we introduce per port bridges which are interconencted\nto the integration brige by patch. since the patch port will exist on\nthe dataplane during pre-livemigration ovn can install the flows\non the integration brdige before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\n'}, {'number': 2, 'created': '2021-06-25 08:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/91c74378664e93afee6341729492494f71c7eda5', 'message': '[WIP] add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with ovn to reduce packet loss\nduring a live migration.\n\novn can only install openflow rules when a port both has\na external ids set and the port has an ofport-id assigned.\nsince the ofport-id is only assinged when a netdev matching\nthe port name exists connected to the dataplane ovn cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\non loaded systems this can result in multiple second of packet loss.\nTo address this we introduce per port bridges which are interconencted\nto the integration brige by patch. since the patch port will exist on\nthe dataplane during pre-livemigration ovn can install the flows\non the integration brdige before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\n'}, {'number': 3, 'created': '2021-06-27 03:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4851a207b74133e5fd8c08811442fa775d8affd8', 'message': '[WIP] add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with ovn to reduce packet loss\nduring a live migration.\n\novn can only install openflow rules when a port both has\na external ids set and the port has an ofport-id assigned.\nsince the ofport-id is only assinged when a netdev matching\nthe port name exists connected to the dataplane ovn cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\non loaded systems this can result in multiple second of packet loss.\nTo address this we introduce per port bridges which are interconencted\nto the integration brige by patch. since the patch port will exist on\nthe dataplane during pre-livemigration ovn can install the flows\non the integration brdige before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\n'}, {'number': 4, 'created': '2021-06-28 14:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e047adec6633aa36e729d726ec6dbfcc8c3f6863', 'message': '[WIP] add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with ovn to reduce packet loss\nduring a live migration.\n\novn can only install openflow rules when a port both has\na external ids set and the port has an ofport-id assigned.\nsince the ofport-id is only assinged when a netdev matching\nthe port name exists connected to the dataplane ovn cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\non loaded systems this can result in multiple second of packet loss.\nTo address this we introduce per port bridges which are interconencted\nto the integration brige by patch. since the patch port will exist on\nthe dataplane during pre-livemigration ovn can install the flows\non the integration brdige before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\n'}, {'number': 5, 'created': '2021-06-28 19:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f52af3231568bdd8188163ee91f9943e1160256c', 'message': '[WIP] add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with ovn to reduce packet loss\nduring a live migration.\n\novn can only install openflow rules when a port both has\na external ids set and the port has an ofport-id assigned.\nsince the ofport-id is only assinged when a netdev matching\nthe port name exists connected to the dataplane ovn cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\non loaded systems this can result in multiple second of packet loss.\nTo address this we introduce per port bridges which are interconencted\nto the integration brige by patch. since the patch port will exist on\nthe dataplane during pre-livemigration ovn can install the flows\non the integration brdige before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\n'}, {'number': 6, 'created': '2021-07-01 00:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d9d399e84f075951feba529d7f70c9411375a361', 'message': '[WIP] add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with ovn to reduce packet loss\nduring a live migration.\n\novn can only install openflow rules when a port both has\na external ids set and the port has an ofport-id assigned.\nsince the ofport-id is only assinged when a netdev matching\nthe port name exists connected to the dataplane ovn cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\non loaded systems this can result in multiple second of packet loss.\nTo address this we introduce per port bridges which are interconencted\nto the integration brige by patch. since the patch port will exist on\nthe dataplane during pre-livemigration ovn can install the flows\non the integration brdige before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\n'}, {'number': 7, 'created': '2021-07-01 19:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2a45801052827c2f3d61cc1f140f151032164ef5', 'message': 'add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with OVN to reduce packet loss\nduring a live migration.\n\nOVN can only install openflow rules when a port both has\nexternal_ids set and an ofport-id assigned.\nSince the ofport-id is only assigned when a netdev matching\nthe port name exists connected to the dataplane, OVN cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\nOn loaded systems this can result in multiple seconds of packet loss.\nTo address this we introduce per port bridges which are connencted\nto the integration brige by a patch port pair. Since the patch port\nwill exist on the dataplane during pre live migration OVN can install\nthe flows on the integration bridge before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\nCloses-Bug: #1933517\n'}, {'number': 8, 'created': '2021-07-01 20:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c318f079ef8205ed7edca751df9db96d26cb14a0', 'message': 'add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with OVN to reduce packet loss\nduring a live migration.\n\nOVN can only install openflow rules when a port both has\nexternal_ids set and an ofport-id assigned.\nSince the ofport-id is only assigned when a netdev matching\nthe port name exists connected to the dataplane, OVN cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\nOn loaded systems this can result in multiple seconds of packet loss.\nTo address this we introduce per port bridges which are connencted\nto the integration brige by a patch port pair. Since the patch port\nwill exist on the dataplane during pre live migration OVN can install\nthe flows on the integration bridge before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\nCloses-Bug: #1933517\n'}, {'number': 9, 'created': '2021-07-02 10:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2cb1197e033668d60c27439390afd04014f72393', 'message': 'add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with OVN to reduce packet loss\nduring a live migration.\n\nOVN can only install openflow rules when a port both has\nexternal_ids set and an ofport-id assigned.\nSince the ofport-id is only assigned when a netdev matching\nthe port name exists connected to the dataplane, OVN cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\nOn loaded systems this can result in multiple seconds of packet loss.\nTo address this we introduce per port bridges which are connencted\nto the integration brige by a patch port pair. Since the patch port\nwill exist on the dataplane during pre live migration OVN can install\nthe flows on the integration bridge before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\nCloses-Bug: #1933517\n'}, {'number': 10, 'created': '2021-07-02 10:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5945da453636062d8732b3662ad9b4a62c12da6c', 'message': 'add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with OVN to reduce packet loss\nduring a live migration.\n\nOVN can only install openflow rules when a port both has\nexternal_ids set and an ofport-id assigned.\nSince the ofport-id is only assigned when a netdev matching\nthe port name exists connected to the dataplane, OVN cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\nOn loaded systems this can result in multiple seconds of packet loss.\nTo address this we introduce per port bridges which are connencted\nto the integration brige by a patch port pair. Since the patch port\nwill exist on the dataplane during pre live migration OVN can install\nthe flows on the integration bridge before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\nCloses-Bug: #1933517\n'}, {'number': 11, 'created': '2021-07-06 10:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/78e78f6acfe97677b71853b234330cbc68c42387', 'message': 'add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with OVN to reduce packet loss\nduring a live migration.\n\nOVN can only install openflow rules when a port both has\nexternal_ids set and an ofport-id assigned.\nSince the ofport-id is only assigned when a netdev matching\nthe port name exists connected to the dataplane, OVN cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\nOn loaded systems this can result in multiple seconds of packet loss.\nTo address this we introduce per port bridges which are connencted\nto the integration brige by a patch port pair. Since the patch port\nwill exist on the dataplane during pre live migration OVN can install\nthe flows on the integration bridge before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\nCloses-Bug: #1933517\n'}, {'number': 12, 'created': '2021-07-12 19:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/0cfac477382a87fc01ad84c38251bf7865bfc3f4', 'message': 'add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with OVN to reduce packet loss\nduring a live migration.\n\nOVN can only install openflow rules when a port both has\nexternal_ids set and an ofport-id assigned.\nSince the ofport-id is only assigned when a netdev matching\nthe port name exists connected to the dataplane, OVN cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\nOn loaded systems this can result in multiple seconds of packet loss.\nTo address this we introduce per port bridges which are connencted\nto the integration brige by a patch port pair. Since the patch port\nwill exist on the dataplane during pre live migration OVN can install\nthe flows on the integration bridge before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\nCloses-Bug: #1933517\n'}, {'number': 13, 'created': '2021-07-12 19:12:46.000000000', 'files': ['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', '.zuul.yaml', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'releasenotes/notes/per-port-bridge-c6a50179a0256de3.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b837c1a74f37191692a820711e431a75516a4abf', 'message': 'add configurable per port bridges\n\nThis patch add a new configuration option to use\nper port bridge when hybrid_plug is false.\nThis can be used with OVN to reduce packet loss\nduring a live migration.\n\nOVN can only install openflow rules when a port both has\nexternal_ids set and an ofport-id assigned.\nSince the ofport-id is only assigned when a netdev matching\nthe port name exists connected to the dataplane, OVN cannot\ninstall the flows until libvirt create the tap on the destination\nhost during a live migration.\n\nOn loaded systems this can result in multiple seconds of packet loss.\nTo address this we introduce per port bridges which are connencted\nto the integration brige by a patch port pair. Since the patch port\nwill exist on the dataplane during pre live migration OVN can install\nthe flows on the integration bridge before we begin the migration reducing\nor avoiding packet loss.\n\nChange-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73\nDepends-On: https://review.opendev.org/c/openstack/nova/+/797428\nCloses-Bug: #1933517\n'}]",85,798055,b837c1a74f37191692a820711e431a75516a4abf,64,6,13,11604,,,0,"add configurable per port bridges

This patch add a new configuration option to use
per port bridge when hybrid_plug is false.
This can be used with OVN to reduce packet loss
during a live migration.

OVN can only install openflow rules when a port both has
external_ids set and an ofport-id assigned.
Since the ofport-id is only assigned when a netdev matching
the port name exists connected to the dataplane, OVN cannot
install the flows until libvirt create the tap on the destination
host during a live migration.

On loaded systems this can result in multiple seconds of packet loss.
To address this we introduce per port bridges which are connencted
to the integration brige by a patch port pair. Since the patch port
will exist on the dataplane during pre live migration OVN can install
the flows on the integration bridge before we begin the migration reducing
or avoiding packet loss.

Change-Id: I0d55ccbef5b585330b5512e67e442b80304a2e73
Depends-On: https://review.opendev.org/c/openstack/nova/+/797428
Closes-Bug: #1933517
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/55/798055/8 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py']",2,d8b42e681715b4c8d24b1ff9cf8d6a7ea1351797,bug/1933517," def delete_ovs_bridge(self, bridge): return self.ovsdb.del_br(bridge, if_exist=True ).execute() def create_patch_port_pair( self, port_bridge, port_bridge__port, int_bridge, int_bridge_port, iface_id, mac, instance_id, tag=None ): with self.ovsdb.transaction() as txn: # create integration bridge patch peer external_ids = { 'iface-id': iface_id,'iface-status': 'active', 'attached-mac': mac, 'vm-uuid': instance_id } col_values = [ ('external_ids', external_ids), ('type', 'patch'), ('options', {'peer': port_bridge_name}) ] txn.add(self.ovsdb.add_port(int_bridge, int_bridge_port)) if tag: txn.add( self.ovsdb.db_set('Port', int_bridge_port, ('tag', tag))) txn.add( self.ovsdb.db_set('Interface', int_bridge_port, *col_values)) # create port bidge patch peer col_values = [ ('type', 'patch'), ('options', {'peer': int_bridge_port}) ] txn.add(self.ovsdb.add_port(port_bridge, port_bridge_port)) txn.add( self.ovsdb.db_set('Interface', port_bridge_port, *col_values)) def create_ovs_vif_port( self, bridge, dev, iface_id, mac, instance_id, mtu=None, interface_type=None, vhost_server_path=None, tag=None, pf_pci=None, vf_num=None, set_ids=True ): col_values = [('external_ids', external_ids)] if set_ids else []"," def create_ovs_vif_port(self, bridge, dev, iface_id, mac, instance_id, mtu=None, interface_type=None, vhost_server_path=None, tag=None, pf_pci=None, vf_num=None): col_values = [('external_ids', external_ids)]",93,25
openstack%2Freleases~master~I54c56d187684a073a36fa476575558a246b6dcf8,openstack/releases,master,I54c56d187684a073a36fa476575558a246b6dcf8,Release ovn-octavia-provider for stable/ussuri,MERGED,2021-07-23 20:09:34.000000000,2021-07-27 11:45:22.000000000,2021-07-27 11:45:22.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 20:09:34.000000000', 'files': ['deliverables/ussuri/ovn-octavia-provider.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dc084ad93001f1607d9cc439a74e898a8082b05a', 'message': 'Release ovn-octavia-provider for stable/ussuri\n\nThis release picks up new commits to ovn-octavia-provider since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 0.1.2..4d20d32\n4d20d32 Ensure that load balancer is added to logical switch\ne749ac3 Add log for request_handler events\n7d719a2 Remove the dependency on the ""mock"" package\nde7c637 Check if no members in pool better in batch update\nf4861f9 Don\'t try to store protocol=None in OVSDB\n3204fcf Fix gate failure\ne6c7e5a Fix leaked file descriptors by cleaning up objects\n9aaf086 Retry status updates to Octavia\nf98aaef Fix broken gate\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I54c56d187684a073a36fa476575558a246b6dcf8\n'}]",0,802107,dc084ad93001f1607d9cc439a74e898a8082b05a,11,6,1,17685,,,0,"Release ovn-octavia-provider for stable/ussuri

This release picks up new commits to ovn-octavia-provider since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 0.1.2..4d20d32
4d20d32 Ensure that load balancer is added to logical switch
e749ac3 Add log for request_handler events
7d719a2 Remove the dependency on the ""mock"" package
de7c637 Check if no members in pool better in batch update
f4861f9 Don't try to store protocol=None in OVSDB
3204fcf Fix gate failure
e6c7e5a Fix leaked file descriptors by cleaning up objects
9aaf086 Retry status updates to Octavia
f98aaef Fix broken gate

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I54c56d187684a073a36fa476575558a246b6dcf8
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/802107/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/ovn-octavia-provider.yaml'],1,dc084ad93001f1607d9cc439a74e898a8082b05a,ussuri-stable, - version: 0.1.3 projects: - repo: openstack/ovn-octavia-provider hash: 4d20d3243fc7376bb31c94834d43550f1200ffcd,,4,0
openstack%2Freleases~master~I7abdcbedb3c6d5f808a199195e6a76273604e19c,openstack/releases,master,I7abdcbedb3c6d5f808a199195e6a76273604e19c,Release ceilometer for stable/ussuri,MERGED,2021-07-23 15:37:04.000000000,2021-07-27 11:45:20.000000000,2021-07-27 11:45:20.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 15:37:04.000000000', 'files': ['deliverables/ussuri/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0665e7219a2f9e1a220db52b2bbad62038f48246', 'message': 'Release ceilometer for stable/ussuri\n\nThis release picks up new commits to ceilometer since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 14.0.0..f18675ae\nea7014ba [stable-only] Add font for PDF generation and fix lower constraints\nbaee38e9 Cap tenacity < 7.0.0\ndafbcde0 Add logic for event_update handling and set transfer event as event_update\nbe8edb07 Run migration with NotFound exception as well\ne92e4347 Run migration with NotFound exception as well\naf90111c Remove [ and ] around parameter values in http url\n96dcc2cb Fix PDF build\n4185147d Trigger volume deletes only on volume deleted\nfd41c23d Add volume.manage to metrics.\n30f70243 Port the grenade job to Zuul v3\n68e4686d Imported Translations from Zanata\n27a1671c Update TOX_CONSTRAINTS_FILE for stable/ussuri\n689215b4 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I7abdcbedb3c6d5f808a199195e6a76273604e19c\n'}]",0,802047,0665e7219a2f9e1a220db52b2bbad62038f48246,9,4,1,17685,,,0,"Release ceilometer for stable/ussuri

This release picks up new commits to ceilometer since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 14.0.0..f18675ae
ea7014ba [stable-only] Add font for PDF generation and fix lower constraints
baee38e9 Cap tenacity < 7.0.0
dafbcde0 Add logic for event_update handling and set transfer event as event_update
be8edb07 Run migration with NotFound exception as well
e92e4347 Run migration with NotFound exception as well
af90111c Remove [ and ] around parameter values in http url
96dcc2cb Fix PDF build
4185147d Trigger volume deletes only on volume deleted
fd41c23d Add volume.manage to metrics.
30f70243 Port the grenade job to Zuul v3
68e4686d Imported Translations from Zanata
27a1671c Update TOX_CONSTRAINTS_FILE for stable/ussuri
689215b4 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I7abdcbedb3c6d5f808a199195e6a76273604e19c
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/802047/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/ceilometer.yaml'],1,0665e7219a2f9e1a220db52b2bbad62038f48246,ussuri-stable, - version: 14.1.0 projects: - repo: openstack/ceilometer hash: f18675aed4e0c96e73ae58fc10e26020fd6ad824,,4,0
openstack%2Freleases~master~I6f0d341e56b505aedb35ff9bdb6054e5122800f4,openstack/releases,master,I6f0d341e56b505aedb35ff9bdb6054e5122800f4,Release stable masakari-monitors,MERGED,2021-07-27 09:55:01.000000000,2021-07-27 11:43:19.000000000,2021-07-27 11:43:19.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 09:55:01.000000000', 'files': ['deliverables/victoria/masakari-monitors.yaml', 'deliverables/wallaby/masakari-monitors.yaml', 'deliverables/ussuri/masakari-monitors.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/35aab728e61e456079d1f78c96ffa8b2003727d4', 'message': 'Release stable masakari-monitors\n\nChange-Id: I6f0d341e56b505aedb35ff9bdb6054e5122800f4\n'}]",0,802447,35aab728e61e456079d1f78c96ffa8b2003727d4,8,3,1,30491,,,0,"Release stable masakari-monitors

Change-Id: I6f0d341e56b505aedb35ff9bdb6054e5122800f4
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/802447/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/masakari-monitors.yaml', 'deliverables/wallaby/masakari-monitors.yaml', 'deliverables/ussuri/masakari-monitors.yaml']",3,35aab728e61e456079d1f78c96ffa8b2003727d4,release-masakari-stable-july-2021, - version: 9.0.2 projects: - repo: openstack/masakari-monitors hash: 020e13e04eac6dae2884787a3844cd045b9f166d,,12,0
openstack%2Ftripleo-heat-templates~master~If521662eb4c47ada45cf0a9edd0a58db8a1d038d,openstack/tripleo-heat-templates,master,If521662eb4c47ada45cf0a9edd0a58db8a1d038d,Set stop grace periods for designate services,MERGED,2021-07-21 17:45:39.000000000,2021-07-27 11:42:23.000000000,2021-07-27 11:42:23.000000000,"[{'_account_id': 6926}, {'_account_id': 11628}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-21 17:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee2ee99893b1ea84b9f16993cf44bbbb229af94e', 'message': 'Set stop grace periods for designate services\n\nMany of the designate services perform background syncrhonization\ntasks and can lag a bit on shutdown, especially on heavily loaded or\nlarge scale systems. Increasing the stop grace periods reduces the\nlikelihood that the system might get into a non-consistent state or a\nstate where a great deal of reconciling needs to occur on restart.\n\nChange-Id: If521662eb4c47ada45cf0a9edd0a58db8a1d038d\n'}, {'number': 2, 'created': '2021-07-26 16:15:13.000000000', 'files': ['deployment/designate/designate-producer-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5ba54102bee4a56d89722907db608adab34eade', 'message': 'Set stop grace periods for designate services\n\nMany of the designate services perform background syncrhonization\ntasks and can lag a bit on shutdown, especially on heavily loaded or\nlarge scale systems. Increasing the stop grace periods reduces the\nlikelihood that the system might get into a non-consistent state or a\nstate where a great deal of reconciling needs to occur on restart.\n\nChange-Id: If521662eb4c47ada45cf0a9edd0a58db8a1d038d\n'}]",2,801642,e5ba54102bee4a56d89722907db608adab34eade,15,5,2,6681,,,0,"Set stop grace periods for designate services

Many of the designate services perform background syncrhonization
tasks and can lag a bit on shutdown, especially on heavily loaded or
large scale systems. Increasing the stop grace periods reduces the
likelihood that the system might get into a non-consistent state or a
state where a great deal of reconciling needs to occur on restart.

Change-Id: If521662eb4c47ada45cf0a9edd0a58db8a1d038d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/801642/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-producer-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml']",7,ee2ee99893b1ea84b9f16993cf44bbbb229af94e,designate-graceful-shutdown, stop_grace_period: 300,,7,0
openstack%2Fceilometer~stable%2Fussuri~I791f214c6c130973fff9703a0ada1efd93720ae6,openstack/ceilometer,stable/ussuri,I791f214c6c130973fff9703a0ada1efd93720ae6,[Stable-only] Pin Gnocchi to a specific release,MERGED,2021-07-25 08:31:15.000000000,2021-07-27 11:36:49.000000000,2021-07-27 11:35:32.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 08:31:15.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9812f4b35a77fd17ddf158a96d13dcfbacea6152', 'message': '[Stable-only] Pin Gnocchi to a specific release\n\nCurrently we use the latest Gnocchi in functional tests but this\noften results problems caused by any update in Gnocchi side.\nThis change pins Gnocchi to a specific version to avoid such problems.\n\nChange-Id: I791f214c6c130973fff9703a0ada1efd93720ae6\n(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)\n(cherry picked from commit 564a2ca6dfac2552c4537a9d99dffe167f074ec7)\n'}]",0,802188,9812f4b35a77fd17ddf158a96d13dcfbacea6152,8,2,1,9816,,,0,"[Stable-only] Pin Gnocchi to a specific release

Currently we use the latest Gnocchi in functional tests but this
often results problems caused by any update in Gnocchi side.
This change pins Gnocchi to a specific version to avoid such problems.

Change-Id: I791f214c6c130973fff9703a0ada1efd93720ae6
(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)
(cherry picked from commit 564a2ca6dfac2552c4537a9d99dffe167f074ec7)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/88/802188/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,9812f4b35a77fd17ddf158a96d13dcfbacea6152,pin-gnocchi,GNOCCHI_GIT_PATH=${GNOCCHI_GIT_PATH:-git+https://github.com/gnocchixyz/gnocchi.git@4.4.1#egg=gnocchi},# TODO(sileht): when Gnocchi 4.0 is out use the tarball instead GNOCCHI_GIT_PATH=${GNOCCHI_GIT_PATH:-git+https://github.com/gnocchixyz/gnocchi#egg=gnocchi},1,2
openstack%2Fceilometer~stable%2Fvictoria~I791f214c6c130973fff9703a0ada1efd93720ae6,openstack/ceilometer,stable/victoria,I791f214c6c130973fff9703a0ada1efd93720ae6,[Stable-only] Pin Gnocchi to a specific release,MERGED,2021-07-25 08:30:54.000000000,2021-07-27 11:35:51.000000000,2021-07-27 11:34:32.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 08:30:54.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/564a2ca6dfac2552c4537a9d99dffe167f074ec7', 'message': '[Stable-only] Pin Gnocchi to a specific release\n\nCurrently we use the latest Gnocchi in functional tests but this\noften results problems caused by any update in Gnocchi side.\nThis change pins Gnocchi to a specific version to avoid such problems.\n\nChange-Id: I791f214c6c130973fff9703a0ada1efd93720ae6\n(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)\n'}]",0,802187,564a2ca6dfac2552c4537a9d99dffe167f074ec7,7,2,1,9816,,,0,"[Stable-only] Pin Gnocchi to a specific release

Currently we use the latest Gnocchi in functional tests but this
often results problems caused by any update in Gnocchi side.
This change pins Gnocchi to a specific version to avoid such problems.

Change-Id: I791f214c6c130973fff9703a0ada1efd93720ae6
(cherry picked from commit 6026253883fac20cffdd22f6d5feb4ca0800c806)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/87/802187/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,564a2ca6dfac2552c4537a9d99dffe167f074ec7,pin-gnocchi,GNOCCHI_GIT_PATH=${GNOCCHI_GIT_PATH:-git+https://github.com/gnocchixyz/gnocchi.git@4.4.1#egg=gnocchi},# TODO(sileht): when Gnocchi 4.0 is out use the tarball instead GNOCCHI_GIT_PATH=${GNOCCHI_GIT_PATH:-git+https://github.com/gnocchixyz/gnocchi#egg=gnocchi},1,2
openstack%2Fpython-ironicclient~master~Idde66fc37d5395e02ad95e6bf5342b555b479b8e,openstack/python-ironicclient,master,Idde66fc37d5395e02ad95e6bf5342b555b479b8e,Add support for 'boot_mode' and 'secure_boot' node resource fields,MERGED,2021-07-23 13:56:58.000000000,2021-07-27 11:35:40.000000000,2021-07-27 11:34:04.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-23 13:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/25b3a79b2f611d885dc6ef2f48a34a47b5c3b48a', 'message': '[WIP?] Add boot_mode and secure_boot resource feilds\n\nStory: 2008567\nTask: 41709\nChange-Id: Idde66fc37d5395e02ad95e6bf5342b555b479b8e\n'}, {'number': 2, 'created': '2021-07-23 16:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/68c0065a3262e65ea6de616b42f477f615ea0f86', 'message': 'Add boot_mode and secure_boot resource feilds\n\nStory: 2008567\nTask: 41709\nChange-Id: Idde66fc37d5395e02ad95e6bf5342b555b479b8e\n'}, {'number': 3, 'created': '2021-07-23 19:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ccb424954b5431fbb08135c231e600463205b3f2', 'message': ""Add support for 'boot_mode' and 'secure_boot' node resource fields\n\nStory: 2008567\nTask: 41709\nChange-Id: Idde66fc37d5395e02ad95e6bf5342b555b479b8e\n""}, {'number': 4, 'created': '2021-07-26 11:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/cacfe97e26e8a31330d601f3cb231bb759cbf22a', 'message': ""Adds support for 'boot_mode' and 'secure_boot' node resource fields\n\nStory: 2008567\nTask: 41709\nChange-Id: Idde66fc37d5395e02ad95e6bf5342b555b479b8e\n""}, {'number': 5, 'created': '2021-07-26 12:09:39.000000000', 'files': ['releasenotes/notes/add-node-boot-mode-08ac768649a2fc93.yaml', 'ironicclient/common/http.py', 'ironicclient/tests/unit/v1/test_node.py', 'ironicclient/v1/resource_fields.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a5a3d4e4426ce8700f193aae77688cd63ac26b05', 'message': ""Add support for 'boot_mode' and 'secure_boot' node resource fields\n\nStory: 2008567\nTask: 41709\nChange-Id: Idde66fc37d5395e02ad95e6bf5342b555b479b8e\n""}]",2,802026,a5a3d4e4426ce8700f193aae77688cd63ac26b05,24,4,5,33344,,,0,"Add support for 'boot_mode' and 'secure_boot' node resource fields

Story: 2008567
Task: 41709
Change-Id: Idde66fc37d5395e02ad95e6bf5342b555b479b8e
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/26/802026/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/common/http.py', 'ironicclient/v1/resource_fields.py']",2,25b3a79b2f611d885dc6ef2f48a34a47b5c3b48a,ironic_boot_mode_status," 'boot_mode': 'Boot mode', 'secure_boot': 'Secure Boot', 'boot_mode', 'secure_boot',",,5,1
openstack%2Fnova~master~Id5a720d91ee9bb0e660823219ec5a6b55bf523a1,openstack/nova,master,Id5a720d91ee9bb0e660823219ec5a6b55bf523a1,Bump os-resource-classes to 1.1.0,MERGED,2021-07-15 17:52:12.000000000,2021-07-27 11:15:55.000000000,2021-07-27 11:13:49.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/351ee8a4b6ad04d147a061e872802ed6ade015a8', 'message': 'Bump os-resource-classes to 1.1.0\n\nThe 1.1.0 lib contains the new packet rate related resource classes\n\nChange-Id: Id5a720d91ee9bb0e660823219ec5a6b55bf523a1\n'}, {'number': 2, 'created': '2021-07-15 18:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d895d5499474f8982359c2c5035f7bb3a9cab2f', 'message': 'Bump os-resource-classes to 1.1.0\n\nThe 1.1.0 lib contains the new packet rate related resource classes\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/800962\n\nChange-Id: Id5a720d91ee9bb0e660823219ec5a6b55bf523a1\n'}, {'number': 3, 'created': '2021-07-16 16:59:57.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/a22fe2da97a2484c3e1ca9dfd01557fa0a799dbb', 'message': 'Bump os-resource-classes to 1.1.0\n\nThe 1.1.0 lib contains the new packet rate related resource classes\n\nChange-Id: Id5a720d91ee9bb0e660823219ec5a6b55bf523a1\n'}]",2,800976,a22fe2da97a2484c3e1ca9dfd01557fa0a799dbb,44,5,3,9708,,,0,"Bump os-resource-classes to 1.1.0

The 1.1.0 lib contains the new packet rate related resource classes

Change-Id: Id5a720d91ee9bb0e660823219ec5a6b55bf523a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/800976/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,351ee8a4b6ad04d147a061e872802ed6ade015a8,bp/qos-minimum-guaranteed-packet-rate,os-resource-classes==1.1.0,os-resource-classes==0.4.0,2,2
openstack%2Fpython-neutronclient~master~I91d03d13adcd38d46ba1b042239a290ae2c99ea4,openstack/python-neutronclient,master,I91d03d13adcd38d46ba1b042239a290ae2c99ea4,Set ML2/OVS backend explicitly for functional job,MERGED,2021-07-23 09:27:09.000000000,2021-07-27 11:07:50.000000000,2021-07-27 11:04:12.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 09:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/58041efbb43282f24347ec6e6d1bbe97f490cef2', 'message': 'Set ML2/OVS backend explicitly for functional job\n\nAfter default backend change to OVN, some client tests related to DHCP\nor L3 agents are not working fine. Switch the job to ML2/OVS, as it was\ndone in openstack-client in changeset\nIdf6466a59c6cf96be2f1d53e696f0564584fa233\n\nChange-Id: I91d03d13adcd38d46ba1b042239a290ae2c99ea4\nCloses-Bug: #1936965\n'}, {'number': 2, 'created': '2021-07-26 10:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/cf7c73726f09736bcd75282e8aa078d8121eb3f2', 'message': 'Set ML2/OVS backend explicitly for functional job\n\nAfter default backend change to OVN, some client tests related to DHCP\nor L3 agents are not working fine. Switch the job to ML2/OVS, as it was\ndone in openstack-client in changeset\nIdf6466a59c6cf96be2f1d53e696f0564584fa233\n\nChange-Id: I91d03d13adcd38d46ba1b042239a290ae2c99ea4\nCloses-Bug: #1936965\n'}, {'number': 3, 'created': '2021-07-27 06:30:21.000000000', 'files': ['neutronclient/tests/functional/core/test_readonly_neutron.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2f047b15957308e84dcb72baee3415b8bf5a470a', 'message': 'Set ML2/OVS backend explicitly for functional job\n\nAfter default backend change to OVN, some client tests related to DHCP\nor L3 agents are not working fine. Switch the job to ML2/OVS, as it was\ndone in openstack-client in changeset\nIdf6466a59c6cf96be2f1d53e696f0564584fa233\n\ntest_neutron_dhcp_agent_list_hosting_net was skipped temporarily\nto pass the gate in the parent commit. It is re-enabled now.\n\nChange-Id: I91d03d13adcd38d46ba1b042239a290ae2c99ea4\nCloses-Bug: #1936965\n'}]",2,801997,2f047b15957308e84dcb72baee3415b8bf5a470a,18,6,3,21798,,,0,"Set ML2/OVS backend explicitly for functional job

After default backend change to OVN, some client tests related to DHCP
or L3 agents are not working fine. Switch the job to ML2/OVS, as it was
done in openstack-client in changeset
Idf6466a59c6cf96be2f1d53e696f0564584fa233

test_neutron_dhcp_agent_list_hosting_net was skipped temporarily
to pass the gate in the parent commit. It is re-enabled now.

Change-Id: I91d03d13adcd38d46ba1b042239a290ae2c99ea4
Closes-Bug: #1936965
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/97/801997/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,58041efbb43282f24347ec6e6d1bbe97f490cef2,bug/1936965, # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true neutron-network-segment-range: true neutron-segments: true q-metering: true q-qos: true neutron-tag-ports-during-bulk-creation: true neutron-conntrack-helper: true Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,,23,0
openstack%2Fceilometer~stable%2Fwallaby~I791f214c6c130973fff9703a0ada1efd93720ae6,openstack/ceilometer,stable/wallaby,I791f214c6c130973fff9703a0ada1efd93720ae6,[Stable-only] Pin Gnocchi to a specific release,MERGED,2021-07-25 08:29:54.000000000,2021-07-27 11:00:49.000000000,2021-07-27 10:59:27.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 08:29:54.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6026253883fac20cffdd22f6d5feb4ca0800c806', 'message': '[Stable-only] Pin Gnocchi to a specific release\n\nCurrently we use the latest Gnocchi in functional tests but this\noften results problems caused by any update in Gnocchi side.\nThis change pins Gnocchi to a specific version to avoid such problems.\n\nChange-Id: I791f214c6c130973fff9703a0ada1efd93720ae6\n'}]",0,802186,6026253883fac20cffdd22f6d5feb4ca0800c806,7,2,1,9816,,,0,"[Stable-only] Pin Gnocchi to a specific release

Currently we use the latest Gnocchi in functional tests but this
often results problems caused by any update in Gnocchi side.
This change pins Gnocchi to a specific version to avoid such problems.

Change-Id: I791f214c6c130973fff9703a0ada1efd93720ae6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/86/802186/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,6026253883fac20cffdd22f6d5feb4ca0800c806,pin-gnocchi,GNOCCHI_GIT_PATH=${GNOCCHI_GIT_PATH:-git+https://github.com/gnocchixyz/gnocchi.git@4.4.1#egg=gnocchi},# TODO(sileht): when Gnocchi 4.0 is out use the tarball instead GNOCCHI_GIT_PATH=${GNOCCHI_GIT_PATH:-git+https://github.com/gnocchixyz/gnocchi#egg=gnocchi},1,2
openstack%2Fpython-neutronclient~master~I4fe6fabc4f745e2c9a366e30dbea7e7200151f12,openstack/python-neutronclient,master,I4fe6fabc4f745e2c9a366e30dbea7e7200151f12,tests: change safe_hasattr to hasattr,MERGED,2021-07-26 12:57:26.000000000,2021-07-27 10:56:46.000000000,2021-07-27 10:55:25.000000000,"[{'_account_id': 841}, {'_account_id': 4257}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/5d4973e388b42e6252fc267ad259b6f8cd1e53c1', 'message': 'tests: change safe_hasattr to hasattr\n\ntesttools 2.5.0 removed the helper (see [0]) safe_hasattr, and assumes\nthat the hasattr implementation in python reliable enough now.\n\n[0]: https://github.com/testing-cabal/testtools/blob/2.5.0/NEWS#L31\n\nChange-Id: I4fe6fabc4f745e2c9a366e30dbea7e7200151f12\n'}, {'number': 2, 'created': '2021-07-26 14:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/153facd0f731c295a09f9c5890f1e8634dcee39d', 'message': 'tests: change safe_hasattr to hasattr\n\ntesttools 2.5.0 removed the helper (see [0]) safe_hasattr, and assumes\nthat the hasattr implementation in python reliable enough now.\n\n[0]: https://github.com/testing-cabal/testtools/blob/2.5.0/NEWS#L31\n\nChange-Id: I4fe6fabc4f745e2c9a366e30dbea7e7200151f12\n'}, {'number': 3, 'created': '2021-07-27 05:58:35.000000000', 'files': ['neutronclient/tests/functional/core/test_readonly_neutron.py', 'neutronclient/tests/unit/test_command_meta.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/23fb666f923e9fa117ce5744e9abe00d3874d3fc', 'message': 'tests: change safe_hasattr to hasattr\n\ntesttools 2.5.0 removed the helper (see [0]) safe_hasattr, and assumes\nthat the hasattr implementation in python reliable enough now.\n\ntest_neutron_dhcp_agent_list_hosting_net is skipped temporarily\nas there is no DHCP agent with ML2/OVN. It will be re-enabled [1].\n\n[0] https://github.com/testing-cabal/testtools/blob/2.5.0/NEWS#L31\n[1] https://review.opendev.org/c/openstack/python-neutronclient/+/801997\n\nChange-Id: I4fe6fabc4f745e2c9a366e30dbea7e7200151f12\n'}]",2,802306,23fb666f923e9fa117ce5744e9abe00d3874d3fc,21,6,3,8313,,,0,"tests: change safe_hasattr to hasattr

testtools 2.5.0 removed the helper (see [0]) safe_hasattr, and assumes
that the hasattr implementation in python reliable enough now.

test_neutron_dhcp_agent_list_hosting_net is skipped temporarily
as there is no DHCP agent with ML2/OVN. It will be re-enabled [1].

[0] https://github.com/testing-cabal/testtools/blob/2.5.0/NEWS#L31
[1] https://review.opendev.org/c/openstack/python-neutronclient/+/801997

Change-Id: I4fe6fabc4f745e2c9a366e30dbea7e7200151f12
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/06/802306/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/tests/unit/test_command_meta.py'],1,5d4973e388b42e6252fc267ad259b6f8cd1e53c1,safe_hasattr," self.assertTrue(hasattr(FakeCommand, 'log')) self.assertTrue(hasattr(FakeCommand, 'log'))"," self.assertTrue(helpers.safe_hasattr(FakeCommand, 'log')) self.assertTrue(helpers.safe_hasattr(FakeCommand, 'log'))",2,2
openstack%2Ftripleo-quickstart~master~I61d928c0fb39494befc7d6ce882b8dc66e94244f,openstack/tripleo-quickstart,master,I61d928c0fb39494befc7d6ce882b8dc66e94244f,Pin pip 21.1.3 for centos7 jobs,ABANDONED,2021-07-26 20:28:10.000000000,2021-07-27 10:50:52.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-26 20:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/492aef9563fa69f785631c2020b19f44c09ab7fc', 'message': 'DNM: Set pip install version for c7\n\nChange-Id: I61d928c0fb39494befc7d6ce882b8dc66e94244f\n'}, {'number': 2, 'created': '2021-07-26 20:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cb5d58454b774fb555a74061d1d45ca35ed03a03', 'message': 'DNM: Set pip install version for c7\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/801729/\nChange-Id: I61d928c0fb39494befc7d6ce882b8dc66e94244f\n'}, {'number': 3, 'created': '2021-07-26 20:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d08ebca6feeb93f5553d024fe1bb5c1a78c43d3c', 'message': 'DNM: Set pip install version for c7\n\nChange-Id: I61d928c0fb39494befc7d6ce882b8dc66e94244f\n'}, {'number': 4, 'created': '2021-07-26 20:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cf7f44b178b35cecb42872bbfb676c8d69a8f97d', 'message': 'DNM: Set pip install version for c7\n\nChange-Id: I61d928c0fb39494befc7d6ce882b8dc66e94244f\n'}, {'number': 5, 'created': '2021-07-26 20:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7aee39bdc3630340056534a465da8b86a9e3e9c3', 'message': 'DNM: Set pip install version for c7\n\nChange-Id: I61d928c0fb39494befc7d6ce882b8dc66e94244f\n'}, {'number': 6, 'created': '2021-07-26 21:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c538fbcdc2e947c46ed3af6a0fc7a126c9180ae4', 'message': 'DNM: Set pip install version for c7\n\nChange-Id: I61d928c0fb39494befc7d6ce882b8dc66e94244f\n'}, {'number': 7, 'created': '2021-07-27 06:42:08.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/996d38c51285fff7eddd6e5dddfec4bb35d4eec0', 'message': 'Pin pip 21.1.3 for centos7 jobs\n\nRelated-Bug: 1938079\nChange-Id: I61d928c0fb39494befc7d6ce882b8dc66e94244f\n'}]",3,802395,996d38c51285fff7eddd6e5dddfec4bb35d4eec0,18,3,7,9976,,,0,"Pin pip 21.1.3 for centos7 jobs

Related-Bug: 1938079
Change-Id: I61d928c0fb39494befc7d6ce882b8dc66e94244f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/95/802395/5 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,492aef9563fa69f785631c2020b19f44c09ab7fc,bug1938079, if [ $centos7py3 ]; then $(python_cmd) -m pip install pip==21.2.1 else $(python_cmd) -m pip install pip --upgrade fi, $(python_cmd) -m pip install pip --upgrade,5,1
openstack%2Fpython-novaclient~master~I4b4c08d65e642866d81d7fd12a7c82162a0b979e,openstack/python-novaclient,master,I4b4c08d65e642866d81d7fd12a7c82162a0b979e,Use Block Storage API v3 instead of API v2,MERGED,2021-07-27 02:00:26.000000000,2021-07-27 10:48:06.000000000,2021-07-27 10:46:46.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 02:00:26.000000000', 'files': ['novaclient/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/273c41574a3d22a5b204d9c3775fe8ed55976a4b', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\n\nChange-Id: I4b4c08d65e642866d81d7fd12a7c82162a0b979e\n'}]",0,802417,273c41574a3d22a5b204d9c3775fe8ed55976a4b,10,4,1,9816,,,0,"Use Block Storage API v3 instead of API v2

Block Storage API v2 was deprecated during Pike cycle and is being
removed during Xena cycle, and current v3 API should be used instead.

Change-Id: I4b4c08d65e642866d81d7fd12a7c82162a0b979e
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/17/802417/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/functional/base.py'],1,273c41574a3d22a5b204d9c3775fe8ed55976a4b,volumev2-removal,from cinderclient.v3 import client as cinderclient,from cinderclient.v2 import client as cinderclient,1,1
openstack%2Fdevstack~master~I54794e58b67620c36e8f2966ec3b62dd24da745b,openstack/devstack,master,I54794e58b67620c36e8f2966ec3b62dd24da745b,Enable tempest tests for hostname sanitization,MERGED,2021-07-19 17:34:36.000000000,2021-07-27 10:34:51.000000000,2021-07-27 10:33:00.000000000,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27478}, {'_account_id': 30491}, {'_account_id': 31033}, {'_account_id': 31239}, {'_account_id': 31324}]","[{'number': 1, 'created': '2021-07-19 17:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/50e88531cd8a61db185ec4c2c58b998127945767', 'message': 'Enable tempest tests for hostname sanitization\n\nIn Wallaby and later, nova sanitizes instance hostnames having\nfreeform characters with dashes. It should be tested in Devstack.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795699\nChange-Id: I54794e58b67620c36e8f2966ec3b62dd24da745b\n'}, {'number': 2, 'created': '2021-07-22 16:17:03.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/71bd10e45197a405cd497c8923db7442bde14a95', 'message': 'Enable tempest tests for hostname sanitization\n\nStarting Wallaby release, nova sanitizes instance hostnames having\nfreeform characters with dashes. It should be tested in Devstack.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795699\nChange-Id: I54794e58b67620c36e8f2966ec3b62dd24da745b\n'}]",2,801366,71bd10e45197a405cd497c8923db7442bde14a95,29,10,2,33602,,,0,"Enable tempest tests for hostname sanitization

Starting Wallaby release, nova sanitizes instance hostnames having
freeform characters with dashes. It should be tested in Devstack.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/795699
Change-Id: I54794e58b67620c36e8f2966ec3b62dd24da745b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/66/801366/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,50e88531cd8a61db185ec4c2c58b998127945767,test_fqdn_hostnames," # In Wallaby and later, nova sanitizes instance hostnames having freeform characters with dashes iniset $TEMPEST_CONFIG compute-feature-enabled hostname_fqdn_sanitization True ",,3,0
openstack%2Fhorizon~master~Ia59b266516584be71ddec935feb671399e0fd7ec,openstack/horizon,master,Ia59b266516584be71ddec935feb671399e0fd7ec,Clean up the workaround of cinderclient v2->v3 transition,MERGED,2021-07-27 02:06:38.000000000,2021-07-27 10:22:58.000000000,2021-07-27 10:21:29.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-27 02:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/16d2b738c3d9eb1205cabd20938d9803a710c605', 'message': 'Remove usage of cinderclient.v2\n\n... because it was already removed[1].\n\n[1] cb5235250cc10957b4392764b1dc3a6757784da5\n\nChange-Id: Ia59b266516584be71ddec935feb671399e0fd7ec\n'}, {'number': 2, 'created': '2021-07-27 04:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/be2af9a91f1229597bee5d1aa5cc5d55df443b60', 'message': 'Remove usage of cinderclient.v2\n\n... because it was already removed[1].\n\n[1] cb5235250cc10957b4392764b1dc3a6757784da5\n\nChange-Id: Ia59b266516584be71ddec935feb671399e0fd7ec\n'}, {'number': 3, 'created': '2021-07-27 05:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/26151bdbb683f48fd2e08d3ccb2d805eb9d0b02c', 'message': 'Remove usage of cinderclient.v2\n\n... because it was already removed[1].\n\n[1] cb5235250cc10957b4392764b1dc3a6757784da5\n\nChange-Id: Ia59b266516584be71ddec935feb671399e0fd7ec\n'}, {'number': 4, 'created': '2021-07-27 06:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/31649ecb43172e62d62a1985442ca811c06f8b2c', 'message': 'Clean up the workaround of cinderclient v2->v3 transition\n\ncinderclient 8.0.0 has been released. The workaround in horizon UT\ncan be dropped now with cinderclient>=8.0.0.\n\nChange-Id: Ia59b266516584be71ddec935feb671399e0fd7ec\n'}, {'number': 5, 'created': '2021-07-27 07:09:45.000000000', 'files': ['requirements.txt', 'openstack_dashboard/test/test_data/cinder_data.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/788988f24fd207acf004e0c636efff76866b2d81', 'message': 'Clean up the workaround of cinderclient v2->v3 transition\n\ncinderclient 8.0.0 has been released. The workaround in horizon UT\ncan be dropped now with cinderclient>=8.0.0.\n\nrequirements.txt and lower-constrints.txt are updated\naccording to python-cinderclient 8.0.0 dependencies.\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Ia59b266516584be71ddec935feb671399e0fd7ec\n'}]",0,802419,788988f24fd207acf004e0c636efff76866b2d81,25,3,5,9816,,,0,"Clean up the workaround of cinderclient v2->v3 transition

cinderclient 8.0.0 has been released. The workaround in horizon UT
can be dropped now with cinderclient>=8.0.0.

requirements.txt and lower-constrints.txt are updated
according to python-cinderclient 8.0.0 dependencies.

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: Ia59b266516584be71ddec935feb671399e0fd7ec
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/802419/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/test_data/cinder_data.py'],1,16d2b738c3d9eb1205cabd20938d9803a710c605,volumev2-removal,from cinderclient.v3 import quotasfrom cinderclient.v3 import volume_transfers,# FIXME: workaround for some classes being missing from cinderclient.v3 # in python-cinderclient versions < 8.0.0. These can become simple # 'from cinderclient.v3 import xxx' above after we have # python-cinderclient>=8.0.0 in requirements.txt try: # pylint: disable=ungrouped-imports from cinderclient.v3.quotas import QuotaSet as _qs # noqa from cinderclient.v3 import quotas # noqa except ImportError: from cinderclient.v2 import quotas try: # pylint: disable=ungrouped-imports from cinderclient.v3.volume_transfers import VolumeTransfer as _vt # noqa from cinderclient.v3 import volume_transfers # noqa except ImportError: from cinderclient.v2 import volume_transfers ,2,18
openstack%2Freleases~master~Iba78819c27c29ead1e92fcc2d7ed8abac4591fea,openstack/releases,master,Iba78819c27c29ead1e92fcc2d7ed8abac4591fea,Release bifrost 11.1,MERGED,2021-07-22 12:17:38.000000000,2021-07-27 09:53:27.000000000,2021-07-27 09:53:27.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 12:17:38.000000000', 'files': ['deliverables/xena/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d14328ed9e1213122ab5491e6077538c85155a79', 'message': 'Release bifrost 11.1\n\nChange-Id: Iba78819c27c29ead1e92fcc2d7ed8abac4591fea\n'}]",0,801775,d14328ed9e1213122ab5491e6077538c85155a79,10,6,1,23851,,,0,"Release bifrost 11.1

Change-Id: Iba78819c27c29ead1e92fcc2d7ed8abac4591fea
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/801775/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/bifrost.yaml'],1,d14328ed9e1213122ab5491e6077538c85155a79,release-bifrost-111, - version: 11.1.0 projects: - repo: openstack/bifrost hash: dfa9eddb3f4b2cbed0e4fe4ec1604aac70d83bec - name: bugfix/11.1 location: 11.1.0,,6,0
openstack%2Freleases~master~I86811a6d78d56ec33e57221e27c6ed78ad4242e8,openstack/releases,master,I86811a6d78d56ec33e57221e27c6ed78ad4242e8,Swift 2.28.0 release,MERGED,2021-07-26 16:22:55.000000000,2021-07-27 09:53:25.000000000,2021-07-27 09:53:25.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 16:22:55.000000000', 'files': ['deliverables/xena/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d288dfc3dd69976a5c875cb7b0a9402dfa1905a', 'message': 'Swift 2.28.0 release\n\nChange-Id: I86811a6d78d56ec33e57221e27c6ed78ad4242e8\n'}]",0,802336,8d288dfc3dd69976a5c875cb7b0a9402dfa1905a,8,3,1,15343,,,0,"Swift 2.28.0 release

Change-Id: I86811a6d78d56ec33e57221e27c6ed78ad4242e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/802336/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/swift.yaml'],1,8d288dfc3dd69976a5c875cb7b0a9402dfa1905a,,releases: - version: 2.28.0 projects: - repo: openstack/swift hash: a8f15128639f7e62a3e8d51c607b45c496206191,,5,0
openstack%2Fpython-openstackclient~master~I2c97e9f64790b5e978e4d04230d45b8e343b53d4,openstack/python-openstackclient,master,I2c97e9f64790b5e978e4d04230d45b8e343b53d4,Fix TestListMigrationV223 test class MIGRATION_COLUMNS,MERGED,2021-07-27 02:21:10.000000000,2021-07-27 09:44:10.000000000,2021-07-27 09:42:20.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 02:21:10.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4f6fe1c0fd0ee5be3cc78961fd334aac0bacd57b', 'message': ""Fix TestListMigrationV223 test class MIGRATION_COLUMNS\n\nCurrently only the test_server_migration_list adds the 'Id' and 'Type'\ncolumns to the expected output, so if the\ntest_server_migration_list_no_options test is run by itself, it fails\nas the actual response contains 'Id' and 'Type' but the reference does\nnot. This example run fails:\n\n  tox -epy38 test_server_migration_list_no_options\n\nThe reason the tests pass in the gate is because\ntest_server_migration_list (which adds the 'Id' and 'Type' columns to\nself.MIGRATION_COLUMNS) appears to always run before\ntest_server_migration_list_no_options, so the latter test gets the\nbenefit of the former test's column additions.\n\nThis changes the test class to just include the 'Id' and 'Type' columns\nall the time as they are always returned in microversion 2.23 anyway.\n\nStory: 2009079\nTask: 42891\n\nChange-Id: I2c97e9f64790b5e978e4d04230d45b8e343b53d4\n""}]",0,802421,4f6fe1c0fd0ee5be3cc78961fd334aac0bacd57b,9,2,1,4690,,,0,"Fix TestListMigrationV223 test class MIGRATION_COLUMNS

Currently only the test_server_migration_list adds the 'Id' and 'Type'
columns to the expected output, so if the
test_server_migration_list_no_options test is run by itself, it fails
as the actual response contains 'Id' and 'Type' but the reference does
not. This example run fails:

  tox -epy38 test_server_migration_list_no_options

The reason the tests pass in the gate is because
test_server_migration_list (which adds the 'Id' and 'Type' columns to
self.MIGRATION_COLUMNS) appears to always run before
test_server_migration_list_no_options, so the latter test gets the
benefit of the former test's column additions.

This changes the test class to just include the 'Id' and 'Type' columns
all the time as they are always returned in microversion 2.23 anyway.

Story: 2009079
Task: 42891

Change-Id: I2c97e9f64790b5e978e4d04230d45b8e343b53d4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/21/802421/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/compute/v2/test_server.py'],1,4f6fe1c0fd0ee5be3cc78961fd334aac0bacd57b,story/2009079," 'Id', 'Source Node', 'Dest Node', 'Source Compute', 'Dest Compute', 'Dest Host', 'Status', 'Server UUID', 'Old Flavor', 'New Flavor', 'Type', 'Created At', 'Updated At'"," 'Source Node', 'Dest Node', 'Source Compute', 'Dest Compute', 'Dest Host', 'Status', 'Server UUID', 'Old Flavor', 'New Flavor', 'Created At', 'Updated At' self.MIGRATION_COLUMNS.insert(0, ""Id"") self.MIGRATION_COLUMNS.insert( len(self.MIGRATION_COLUMNS) - 2, 'Type')",3,6
openstack%2Fcharm-vault~master~I9856b8c1043051832dd4b3be165b4e022376b683,openstack/charm-vault,master,I9856b8c1043051832dd4b3be165b4e022376b683,Sync release-tools,MERGED,2021-07-22 13:01:57.000000000,2021-07-27 09:30:18.000000000,2021-07-27 09:30:18.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 13:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/079e642b2ba3645821dc9ceb1dcf6f26d7202053', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I9856b8c1043051832dd4b3be165b4e022376b683\n'}, {'number': 2, 'created': '2021-07-27 07:53:00.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c7cc2d4b94791331f5db4b56158d0801961c3c92', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I9856b8c1043051832dd4b3be165b4e022376b683\n'}]",0,801847,c7cc2d4b94791331f5db4b56158d0801961c3c92,10,3,2,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I9856b8c1043051832dd4b3be165b4e022376b683
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/47/801847/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,079e642b2ba3645821dc9ceb1dcf6f26d7202053,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fkayobe~stable%2Fwallaby~I76d658b93b9195c760c3a91fe5aee96bad8d6b42,openstack/kayobe,stable/wallaby,I76d658b93b9195c760c3a91fe5aee96bad8d6b42,"Ubuntu: CI: rely on os_distribution, remove interfaces pause",MERGED,2021-07-02 16:02:24.000000000,2021-07-27 09:28:09.000000000,2021-07-27 09:25:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-07-02 16:02:24.000000000', 'files': ['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ac76bfa1c22b981122df4c8164eab46f3e81ac2', 'message': 'Ubuntu: CI: rely on os_distribution, remove interfaces pause\n\nWe can now rely on the os_distribution variable to set sensible defaults\nfor Ubuntu. It is set automatically in kayobe-config-dev.\n\nThe interfaces pause workaround is no longer required since switching to\nsystemd-networkd.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/791944\nChange-Id: I76d658b93b9195c760c3a91fe5aee96bad8d6b42\n(cherry picked from commit 111375fb1ab335a02109dde34558d3f46aeaa124)\n'}]",0,799245,9ac76bfa1c22b981122df4c8164eab46f3e81ac2,8,3,1,14826,,,0,"Ubuntu: CI: rely on os_distribution, remove interfaces pause

We can now rely on the os_distribution variable to set sensible defaults
for Ubuntu. It is set automatically in kayobe-config-dev.

The interfaces pause workaround is no longer required since switching to
systemd-networkd.

Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/791944
Change-Id: I76d658b93b9195c760c3a91fe5aee96bad8d6b42
(cherry picked from commit 111375fb1ab335a02109dde34558d3f46aeaa124)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/799245/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2']",3,9ac76bfa1c22b981122df4c8164eab46f3e81ac2,," - ""extra-hardware""","{% if ansible_os_family == 'Debian' %} kolla_base_distro: ubuntu {% endif %} - ""extra-hardware"" ",1,17
openstack%2Ftripleo-ci~master~Id1f8664e34bd8ea256e5781fe6cdeff207006fc2,openstack/tripleo-ci,master,Id1f8664e34bd8ea256e5781fe6cdeff207006fc2,fix edk2 rpm exclude for train centos-7,NEW,2021-06-02 19:50:20.000000000,2021-07-27 09:08:32.000000000,,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 19:50:20.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1c581c910d78685846bd4db682cade05c17af785', 'message': 'fix edk2 rpm exclude for train centos-7\n\nDestination /etc/yum.repos.d/CentOS-Stream-AppStream.repo\ndoes not exist\n\nChange-Id: Id1f8664e34bd8ea256e5781fe6cdeff207006fc2\n'}]",4,794333,1c581c910d78685846bd4db682cade05c17af785,6,4,1,9592,,,0,"fix edk2 rpm exclude for train centos-7

Destination /etc/yum.repos.d/CentOS-Stream-AppStream.repo
does not exist

Change-Id: Id1f8664e34bd8ea256e5781fe6cdeff207006fc2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/794333/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/tasks/main.yml'],1,1c581c910d78685846bd4db682cade05c17af785,," when: - release is defined - release in ['train', 'ussuri', 'victoria'] - ansible_distribution_major_version|int >= 8"," when: release is defined and release in ['train', 'ussuri', 'victoria']",4,1
openstack%2Fopenstack-zuul-jobs~master~I5310983bed6c5b1618b7e131996e09571be9f13d,openstack/openstack-zuul-jobs,master,I5310983bed6c5b1618b7e131996e09571be9f13d,Remove retired neutron-lbaas and django-openstack-auth from job,MERGED,2021-07-15 23:07:52.000000000,2021-07-27 09:08:31.000000000,2021-07-27 09:05:19.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-15 23:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/46c796fc07fb7ff54ddea77bad6f746c69e8ef35', 'message': 'Remove retired neutron-lbaas from job\n\nneutron-lbaas is retired now and we can\nremove it from zuul jobs.\n\nChange-Id: I5310983bed6c5b1618b7e131996e09571be9f13d\n'}, {'number': 2, 'created': '2021-07-27 08:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/90465b16d07eca500d4ea669c373eac4a4bdf9f6', 'message': 'Remove retired neutron-lbaas django-openstack-auth from job\n\nneutron-lbaas is retired now and we can\nremove it from zuul jobs. It also retire django_openstack_auth\nin this patch to unblock the gate.\n\n`django_openstack_auth`` code was merged into the main horizon\nrepository during the queens release. This repo is already\ndeprecated and now we can retire it. This patch removes all\nreferences of ``django_openstack_auth`` as mentioned in [1].\n\n[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository\n\nChange-Id: I5310983bed6c5b1618b7e131996e09571be9f13d\n'}, {'number': 3, 'created': '2021-07-27 08:16:50.000000000', 'files': ['roles/prepare-zanata-client/files/get-modulename.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7a3eb3afeb3eb9eb15c1e595e02e7d88c900607f', 'message': 'Remove retired neutron-lbaas and django-openstack-auth from job\n\nneutron-lbaas is retired now and we can\nremove it from zuul jobs. It also retire django_openstack_auth\nin this patch to unblock the gate.\n\n`django_openstack_auth`` code was merged into the main horizon\nrepository during the queens release. This repo is already\ndeprecated and now we can retire it. This patch removes all\nreferences of ``django_openstack_auth`` as mentioned in [1].\n\n[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository\n\nChange-Id: I5310983bed6c5b1618b7e131996e09571be9f13d\n'}]",12,801008,7a3eb3afeb3eb9eb15c1e595e02e7d88c900607f,20,5,3,8556,,,0,"Remove retired neutron-lbaas and django-openstack-auth from job

neutron-lbaas is retired now and we can
remove it from zuul jobs. It also retire django_openstack_auth
in this patch to unblock the gate.

`django_openstack_auth`` code was merged into the main horizon
repository during the queens release. This repo is already
deprecated and now we can retire it. This patch removes all
references of ``django_openstack_auth`` as mentioned in [1].

[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository

Change-Id: I5310983bed6c5b1618b7e131996e09571be9f13d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/08/801008/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,46c796fc07fb7ff54ddea77bad6f746c69e8ef35,,, - openstack/neutron-lbaas - openstack/neutron-lbaas,0,2
openstack%2Freleases~master~Ic704b8466e904c82e9de997886a668d4430090d2,openstack/releases,master,Ic704b8466e904c82e9de997886a668d4430090d2,Xena-2 Release for python-monascaclient,MERGED,2021-07-09 13:48:19.000000000,2021-07-27 09:03:12.000000000,2021-07-27 09:03:12.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-09 13:48:19.000000000', 'files': ['deliverables/xena/python-monascaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c537a9325d78656adcc49d5917be2dd1034bebe0', 'message': 'Xena-2 Release for python-monascaclient\n\nThis is the Xena milestone-2 release for python-monascaclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\n$ git log --oneline --no-merges 2.3.0..6d04502\n6d04502 Fix Docker build\ncf4d9cc Fix zuul publish docker image job\n09709ed Add Python3 xena unit tests\nd28ec21 Update master for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ic704b8466e904c82e9de997886a668d4430090d2\n'}]",0,800255,c537a9325d78656adcc49d5917be2dd1034bebe0,13,4,1,28522,,,0,"Xena-2 Release for python-monascaclient

This is the Xena milestone-2 release for python-monascaclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by July 15.

$ git log --oneline --no-merges 2.3.0..6d04502
6d04502 Fix Docker build
cf4d9cc Fix zuul publish docker image job
09709ed Add Python3 xena unit tests
d28ec21 Update master for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ic704b8466e904c82e9de997886a668d4430090d2
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/800255/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-monascaclient.yaml'],1,c537a9325d78656adcc49d5917be2dd1034bebe0,xena--milestone-2,releases: - version: 2.4.0 projects: - repo: openstack/python-monascaclient hash: 6d04502de7febdca9633834e46f4e5b9264a44a8,,5,0
openstack%2Freleases~master~I5013c7967e7489fd4ccdf7eb9cf7a0c85fd392ba,openstack/releases,master,I5013c7967e7489fd4ccdf7eb9cf7a0c85fd392ba,Xena-2 Release for monasca-common,MERGED,2021-07-09 13:23:47.000000000,2021-07-27 08:58:35.000000000,2021-07-27 08:58:35.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-09 13:23:47.000000000', 'files': ['deliverables/xena/monasca-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ae8650435b525dcb102af333fa6f3476c3a4749', 'message': 'Xena-2 Release for monasca-common\n\nThis is the Xena milestone-2 release for monasca-common.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\n$ git log --oneline --no-merges 3.3.0..f5abe9d\nf5abe9d Bump librdkafka dependencies\n844db67 Fix Docker build\ndb200fd Bump sublibraries\n76826b4 Add Python3 xena unit tests\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I5013c7967e7489fd4ccdf7eb9cf7a0c85fd392ba\n'}]",0,800235,0ae8650435b525dcb102af333fa6f3476c3a4749,13,4,1,28522,,,0,"Xena-2 Release for monasca-common

This is the Xena milestone-2 release for monasca-common.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by July 15.

$ git log --oneline --no-merges 3.3.0..f5abe9d
f5abe9d Bump librdkafka dependencies
844db67 Fix Docker build
db200fd Bump sublibraries
76826b4 Add Python3 xena unit tests

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I5013c7967e7489fd4ccdf7eb9cf7a0c85fd392ba
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/800235/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-common.yaml'],1,0ae8650435b525dcb102af333fa6f3476c3a4749,xena--milestone-2,releases: - version: 3.4.0 projects: - repo: openstack/monasca-common hash: f5abe9d82e3c89cfdc4a4933cc11ca859841beda,,5,0
openstack%2Fpuppet-nova~master~I1e46d3912dce1d436776b5ac6ff63b734735f0a0,openstack/puppet-nova,master,I1e46d3912dce1d436776b5ac6ff63b734735f0a0,Add support for --task-log option of db archive,MERGED,2021-07-22 19:40:16.000000000,2021-07-27 08:53:59.000000000,2021-07-27 08:52:30.000000000,"[{'_account_id': 4690}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 19:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bdc4b51f9e947520c1d5d364030a172d28484855', 'message': 'Add support for --task-log option of db archive\n\nDepends-on: https://review.opendev.org/c/openstack/nova/+/780395\nRelated-Bug: #1877189\nChange-Id: I1e46d3912dce1d436776b5ac6ff63b734735f0a0\n'}, {'number': 2, 'created': '2021-07-23 21:31:57.000000000', 'files': ['releasenotes/notes/archive_deleted_rows-task_log-39777328b2fbd8ee.yaml', 'manifests/cron/archive_deleted_rows.pp', 'spec/classes/nova_cron_archive_deleted_rows_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cfc447a2fc04b7f0227d4e14e457b123edde49d7', 'message': 'Add support for --task-log option of db archive\n\nDepends-on: https://review.opendev.org/c/openstack/nova/+/780395\nRelated-Bug: #1877189\nChange-Id: I1e46d3912dce1d436776b5ac6ff63b734735f0a0\n'}]",2,801924,cfc447a2fc04b7f0227d4e14e457b123edde49d7,17,5,2,9816,,,0,"Add support for --task-log option of db archive

Depends-on: https://review.opendev.org/c/openstack/nova/+/780395
Related-Bug: #1877189
Change-Id: I1e46d3912dce1d436776b5ac6ff63b734735f0a0
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/24/801924/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/archive_deleted_rows-task_log-39777328b2fbd8ee.yaml', 'manifests/cron/archive_deleted_rows.pp', 'spec/classes/nova_cron_archive_deleted_rows_spec.rb']",3,bdc4b51f9e947520c1d5d364030a172d28484855,bug/1877189," :task_log => false, context 'task_log is true' do before :each do params.merge!( :task_log => true, ) end it 'configures a cron with task_log' do is_expected.to contain_cron('nova-manage db archive_deleted_rows').with( :command => ""nova-manage db archive_deleted_rows --max_rows #{params[:max_rows]} --task-log >>#{params[:destination]} 2>&1"", :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[nova::dbsync::end]', ) end end ",,43,1
openstack%2Fpuppet-horizon~stable%2Fvictoria~Iefa67b38976d170a5da76c86c37d68cb6af2d908,openstack/puppet-horizon,stable/victoria,Iefa67b38976d170a5da76c86c37d68cb6af2d908,[Victoria-only] Fix policy configuration,MERGED,2021-07-26 05:22:55.000000000,2021-07-27 08:52:55.000000000,2021-07-27 08:52:55.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 05:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/351b52ba095c54990cdd63419a4148c10399593a', 'message': '[Victoria-only] Fix policy configuration\n\nThis is what was missed when backporting support for independent\ndashboards but in Victoria and older policy.json is generally used\ninstead of policy.yaml, and Horizon does not yet support default\npolicies.\n\nThis change fixes policy-related configurations for independent\ndashboards to be aligned with what is implemented in Victoria.\n\nChange-Id: Iefa67b38976d170a5da76c86c37d68cb6af2d908\n'}, {'number': 2, 'created': '2021-07-26 06:39:15.000000000', 'files': ['manifests/dashboards/heat.pp', 'templates/_1499_load_balancer_settings.py.erb', 'templates/_90_manila_shares.py.erb', 'manifests/dashboards/manila.pp', 'templates/_1699_orchestration_settings.py.erb', 'manifests/dashboards/octavia.pp', 'spec/classes/horizon_dashboards_heat_spec.rb', 'spec/classes/horizon_dashboards_octavia_spec.rb', 'spec/classes/horizon_dashboards_manila_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/23ebe3bf02f903abbba885f17dc56590fcf6a51e', 'message': '[Victoria-only] Fix policy configuration\n\nThis is what was missed when backporting support for independent\ndashboards but in Victoria and older policy.json is generally used\ninstead of policy.yaml, and Horizon does not yet support default\npolicies.\n\nThis change fixes policy-related configurations for independent\ndashboards to be aligned with what is implemented in Victoria.\n\nChange-Id: Iefa67b38976d170a5da76c86c37d68cb6af2d908\n'}]",0,802230,23ebe3bf02f903abbba885f17dc56590fcf6a51e,8,4,2,9816,,,0,"[Victoria-only] Fix policy configuration

This is what was missed when backporting support for independent
dashboards but in Victoria and older policy.json is generally used
instead of policy.yaml, and Horizon does not yet support default
policies.

This change fixes policy-related configurations for independent
dashboards to be aligned with what is implemented in Victoria.

Change-Id: Iefa67b38976d170a5da76c86c37d68cb6af2d908
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/30/802230/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/dashboards/heat.pp', 'templates/_1499_load_balancer_settings.py.erb', 'templates/_90_manila_shares.py.erb', 'manifests/dashboards/manila.pp', 'templates/_1699_orchestration_settings.py.erb', 'manifests/dashboards/octavia.pp', 'spec/classes/horizon_dashboards_heat_spec.rb', 'spec/classes/horizon_dashboards_manila_spec.rb', 'spec/classes/horizon_dashboards_octavia_spec.rb']",9,351b52ba095c54990cdd63419a4148c10399593a,," "" 'load-balancer': 'octavia_policy.json',"","," "" 'load-balancer': 'octavia_policy.yaml',"",",9,21
openstack%2Fironic~master~Ieeb427321c971fc6f59cb4a41d9630c687f5534f,openstack/ironic,master,Ieeb427321c971fc6f59cb4a41d9630c687f5534f,Minor updates to anaconda doc,MERGED,2021-07-26 14:29:49.000000000,2021-07-27 08:51:38.000000000,2021-07-27 08:49:53.000000000,"[{'_account_id': 10342}, {'_account_id': 12640}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-26 14:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a2455701c27874c37637a87cdf165a9bb756c5e', 'message': 'Minor updates to anaconda doc\n\nSome minor grammatical clean ups, clarifications in the\nanaconda deploy interface documentation.\n\nChange-Id: Ieeb427321c971fc6f59cb4a41d9630c687f5534f\n'}, {'number': 2, 'created': '2021-07-26 15:23:58.000000000', 'files': ['doc/source/admin/anaconda-deploy-interface.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c46ae1af42a971f0179d67a90410223fdb1f04de', 'message': 'Minor updates to anaconda doc\n\nSome minor grammatical clean ups, clarifications in the\nanaconda deploy interface documentation.\n\nChange-Id: Ieeb427321c971fc6f59cb4a41d9630c687f5534f\n'}]",0,802314,c46ae1af42a971f0179d67a90410223fdb1f04de,14,4,2,6618,,,0,"Minor updates to anaconda doc

Some minor grammatical clean ups, clarifications in the
anaconda deploy interface documentation.

Change-Id: Ieeb427321c971fc6f59cb4a41d9630c687f5534f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/802314/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/anaconda-deploy-interface.rst'],1,1a2455701c27874c37637a87cdf165a9bb756c5e,rloo_anaconda,"Ironic supports deploying an OS with the `anaconda`_ installer. This anaconda deploy interface works with ``pxe`` and ``ipxe`` boot interfaces.The anaconda deploy interface is not enabled by default. To enable this, add ``anaconda`` to the value of the ``enabled_deploy_interfaces`` configuration option in ironic.conf. For example:This change takes effect after all the ironic conductors have beenWhen creating an ironic node, specify ``anaconda`` as the deploy interface. For example: You can also set the anaconda deploy interface via ``--deploy-interface`` on an existing node: baremetal node set <node> --deploy-interface anacondaWhile anaconda allows installing individual RPMs, the default kickstart file expects an OS tarball to be used as the OS image. This ``baremetal.yum`` file contains all the yum/dnf commands that need to be run in order to generate the OS tarball. These commands install packages and package groups that need to be in the image:An OS tarball can be created using following set of commands, along with the above ``baremetal.yum`` file:Anaconda is a two-stage installer -- stage 1 consists of the kernel and ramdisk and stage 2 lives in a squashfs file. All these components can be``/images/pxeboot/initrd.img`` respectively in the ISO. The stage 2 squashfsThe OS tarball must be configured with the following properties in glance, in order to be used with the anaconda deploy driver: * ``kernel_id`` * ``ramdisk_id`` * ``stage2_id`` This is an example of adding the anaconda-related images and the OS tarball to glance:Creating a bare metal server ----------------------------with the OS image via the ``ks_template`` property in glance, operators can also set the kickstart template in the ironic node's ``instance_info`` field. The kickstart template set in ``instance_info`` takes precedence over the one specified via the OS image in glance. If no kickstart template is specified (via the node's ``instance_info`` or ``ks_template`` glance image property),The default kickstart template is specified via the configuration option ``[anaconda]default_ks_template``. It is set to this `ks.cfg.template`_ but can be modified to be some other template. This is an example of how to set the kickstart template for a specific ironic node: openstack baremetal node set <node> \ .. _`anaconda`: https://fedoraproject.org/wiki/Anaconda .. _`ks.cfg.template`: https://opendev.org/openstack/ironic/src/branch/master/ironic/drivers/modules/ks.cfg.template","Ironic supports deploying OS with anaconda installer in addition to IPA. This deploy interface supports ``pxe``, ``ipxe`` boot interfaces.The anaconda deploy interface is not enabled by default. To enable this, use the ``enabled_deploy_interfaces`` configuration option in ironic.confThis change will not be effective until all Ironic conductors have beenYou can also set ``--deploy-interface`` on an existing node: baremetal node set <NODE> --deploy-interface anacondaWhile anaconda allows installing individual RPMs the default kickstart file expects a OS tarball to be used as the OS image. A baremetal.yum file that lists all yum/dnf commands that need to be run to generate the OS tarball. The commands normally install packages and package' groups that need to be in the imageAn OS tarball can be created using following set of commands using above baremetal.yum fileAnaconda is a two stage installer - The stage1 consists of the kernel and ramdisk and the stage2 lives in a squashfs file. All these components can be``/images/pxeboot/initrd.img`` respectively in the ISO. The stage2 squashfsThe OS tarball must be configured with following properties in glance to be used with anaconda deploy driver 1. ``kernel_id`` 2. ``ramdisk_id`` 3. ``stage2_id``Creating a baremetal server ---------------------------to the OS Image as ``ks_template`` property in glance, operators can also set the kickstart template in instance_info. The kickstart template set in instance_info takes precedence over the one set in the glance image. If kickstart template is not found in instance_info or the glance image property openstack baremetal node set $NODE_UUID \",48,29
openstack%2Fpython-ironicclient~master~I99f5e48d1f97dc102218c4a8bc66e2e07de81374,openstack/python-ironicclient,master,I99f5e48d1f97dc102218c4a8bc66e2e07de81374,Fix for missing fonts in PDF jobs,MERGED,2021-07-26 15:22:51.000000000,2021-07-27 08:51:24.000000000,2021-07-27 08:49:52.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 15:22:51.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/57a43be8e4c22f81341cd0924f75914e502bad29', 'message': ""Fix for missing fonts in PDF jobs\n\nCurrently the openstack-tox-docs job continuously fails because\nof the following error in sphinx build.\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nChange-Id: I99f5e48d1f97dc102218c4a8bc66e2e07de81374\n""}]",0,802324,57a43be8e4c22f81341cd0924f75914e502bad29,7,2,1,23851,,,0,"Fix for missing fonts in PDF jobs

Currently the openstack-tox-docs job continuously fails because
of the following error in sphinx build.

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

Change-Id: I99f5e48d1f97dc102218c4a8bc66e2e07de81374
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/24/802324/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,57a43be8e4c22f81341cd0924f75914e502bad29,fix-pdf-jobs,# install fonts missing for PDF job # see https://bugs.launchpad.net/openstack-i18n/+bug/1935742 tex-gyre [platform:dpkg doc] ,,4,0
openstack%2Ftripleo-heat-templates~master~I50b81937698098141045841aec59c04ee88f5b0f,openstack/tripleo-heat-templates,master,I50b81937698098141045841aec59c04ee88f5b0f,Remove all docker related tasks from upgrades,MERGED,2021-07-26 13:44:14.000000000,2021-07-27 08:33:06.000000000,2021-07-27 04:47:55.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-26 13:44:14.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fb7835088db00c5946bbee14b51a3d7771fa575', 'message': 'Remove all docker related tasks from upgrades\n\nChange-Id: I50b81937698098141045841aec59c04ee88f5b0f\n'}]",1,802310,2fb7835088db00c5946bbee14b51a3d7771fa575,10,5,1,10969,,,0,"Remove all docker related tasks from upgrades

Change-Id: I50b81937698098141045841aec59c04ee88f5b0f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/802310/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,2fb7835088db00c5946bbee14b51a3d7771fa575,,, - name: Stop all services by stopping all docker containers include_role: name: tripleo_podman tasks_from: tripleo_docker_stop.yml tags: - never - system_upgrade - system_upgrade_prepare - name: Purge everything about docker on the host when: - (step | int) == 3 include_role: name: tripleo_podman tasks_from: tripleo_docker_purge.yml - name: Stop docker include_role: name: tripleo_podman tasks_from: tripleo_docker_stop.yml ,0,20
openstack%2Fopenstack-zuul-jobs~master~Icd9f6a3afcc9295eec9cb199aa27e8c385deafe7,openstack/openstack-zuul-jobs,master,Icd9f6a3afcc9295eec9cb199aa27e8c385deafe7,Retire django-openstack-auth,ABANDONED,2021-07-13 17:05:18.000000000,2021-07-27 08:18:58.000000000,,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 17:05:18.000000000', 'files': ['roles/prepare-zanata-client/files/get-modulename.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9e4bed9bf12d5f55b9ae940f6dbf2c0bad9591d9', 'message': 'Retire django-openstack-auth\n\n``django_openstack_auth`` code was merged into the main horizon\nrepository during the queens release. This repo is already\ndeprecated and now we can retire it. This patch removes all\nreferences of ``django_openstack_auth`` as mentioned in [1].\n\n[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository\n\nNeeded-By: https://review.opendev.org/c/openstack/project-config/+/800532/\nChange-Id: Icd9f6a3afcc9295eec9cb199aa27e8c385deafe7\n'}]",4,800691,9e4bed9bf12d5f55b9ae940f6dbf2c0bad9591d9,9,4,1,29313,,,0,"Retire django-openstack-auth

``django_openstack_auth`` code was merged into the main horizon
repository during the queens release. This repo is already
deprecated and now we can retire it. This patch removes all
references of ``django_openstack_auth`` as mentioned in [1].

[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository

Needed-By: https://review.opendev.org/c/openstack/project-config/+/800532/
Change-Id: Icd9f6a3afcc9295eec9cb199aa27e8c385deafe7
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/91/800691/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/prepare-zanata-client/files/get-modulename.py', 'zuul.d/jobs.yaml']",2,9e4bed9bf12d5f55b9ae940f6dbf2c0bad9591d9,retire-django-openstack-auth,, - openstack/django_openstack_auth - openstack/django_openstack_auth,0,3
openstack%2Fkolla~stable%2Fwallaby~I0bb8b2429906e698858f6b699e4c4d8bacc2dd74,openstack/kolla,stable/wallaby,I0bb8b2429906e698858f6b699e4c4d8bacc2dd74,Fix prometheus-elasticsearch-exporter container.,MERGED,2021-07-26 08:39:48.000000000,2021-07-27 08:04:03.000000000,2021-07-27 08:02:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-07-26 08:39:48.000000000', 'files': ['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/601872b9255e2abc97201e3d29e45fa0c0eee684', 'message': 'Fix prometheus-elasticsearch-exporter container.\n\n* Replace current URL with the proper target.\n\nChange-Id: I0bb8b2429906e698858f6b699e4c4d8bacc2dd74\nCloses-Bug: #1934763\n(cherry picked from commit 1f8ac21622295fa9f858aaf7308160a92fe69240)\n'}]",0,802206,601872b9255e2abc97201e3d29e45fa0c0eee684,10,4,1,14826,,,0,"Fix prometheus-elasticsearch-exporter container.

* Replace current URL with the proper target.

Change-Id: I0bb8b2429906e698858f6b699e4c4d8bacc2dd74
Closes-Bug: #1934763
(cherry picked from commit 1f8ac21622295fa9f858aaf7308160a92fe69240)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/802206/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'],1,601872b9255e2abc97201e3d29e45fa0c0eee684,bug/1934763-stable/wallaby,RUN curl -o /tmp/elasticsearch_exporter.tar.gz https://github.com/prometheus-community/elasticsearch_exporter/releases/download/v${elasticsearch_exporter_version}/elasticsearch_exporter-${elasticsearch_exporter_version}.linux-{{debian_arch}}.tar.gz \,RUN curl -o /tmp/elasticsearch_exporter.tar.gz https://github.com/justwatchcom/elasticsearch_exporter/releases/download/v${elasticsearch_exporter_version}/elasticsearch_exporter-${elasticsearch_exporter_version}.linux-{{debian_arch}}.tar.gz \,1,1
openstack%2Fcharm-trilio-dm-api~master~Iea6053e6cc8052abacf62e8ec9efe74865f755e0,openstack/charm-trilio-dm-api,master,Iea6053e6cc8052abacf62e8ec9efe74865f755e0,Sync release-tools,MERGED,2021-07-22 13:01:28.000000000,2021-07-27 07:54:08.000000000,2021-07-27 07:54:08.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 13:01:28.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/d3c003dfd1ad7b5a339fc3ef409375bd540afc0d', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Iea6053e6cc8052abacf62e8ec9efe74865f755e0\n'}]",0,801844,d3c003dfd1ad7b5a339fc3ef409375bd540afc0d,7,3,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Iea6053e6cc8052abacf62e8ec9efe74865f755e0
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/44/801844/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,d3c003dfd1ad7b5a339fc3ef409375bd540afc0d,fix-tox-pip-resolutionimpossible, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}deps = flake8==3.9.2 charm-tools==2.8.3, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs}deps = -r{toxinidir}/test-requirements.txt,16,16
openstack%2Fkolla~stable%2Fussuri~I0bb8b2429906e698858f6b699e4c4d8bacc2dd74,openstack/kolla,stable/ussuri,I0bb8b2429906e698858f6b699e4c4d8bacc2dd74,Fix prometheus-elasticsearch-exporter container.,MERGED,2021-07-26 08:41:02.000000000,2021-07-27 07:53:25.000000000,2021-07-27 07:52:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-07-26 08:41:02.000000000', 'files': ['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f28f4a9425b3ac13902bbc3a71e07339874acabd', 'message': 'Fix prometheus-elasticsearch-exporter container.\n\n* Replace current URL with the proper target.\n\nChange-Id: I0bb8b2429906e698858f6b699e4c4d8bacc2dd74\nCloses-Bug: #1934763\n(cherry picked from commit 1f8ac21622295fa9f858aaf7308160a92fe69240)\n'}]",0,802208,f28f4a9425b3ac13902bbc3a71e07339874acabd,10,4,1,14826,,,0,"Fix prometheus-elasticsearch-exporter container.

* Replace current URL with the proper target.

Change-Id: I0bb8b2429906e698858f6b699e4c4d8bacc2dd74
Closes-Bug: #1934763
(cherry picked from commit 1f8ac21622295fa9f858aaf7308160a92fe69240)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/802208/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'],1,f28f4a9425b3ac13902bbc3a71e07339874acabd,bug/1934763-stable/victoria-stable/ussuri,RUN curl -sSL -o /tmp/elasticsearch_exporter.tar.gz https://github.com/prometheus-community/elasticsearch_exporter/releases/download/v${elasticsearch_exporter_version}/elasticsearch_exporter-${elasticsearch_exporter_version}.linux-{{debian_arch}}.tar.gz \,RUN curl -sSL -o /tmp/elasticsearch_exporter.tar.gz https://github.com/justwatchcom/elasticsearch_exporter/releases/download/v${elasticsearch_exporter_version}/elasticsearch_exporter-${elasticsearch_exporter_version}.linux-{{debian_arch}}.tar.gz \,1,1
openstack%2Fironic~stable%2Fwallaby~Idc403cd004bacf2582d694f2a5a9ed474a932210,openstack/ironic,stable/wallaby,Idc403cd004bacf2582d694f2a5a9ed474a932210,[DNM] test branches on template,ABANDONED,2021-07-26 15:59:24.000000000,2021-07-27 07:36:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-26 15:59:24.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/926e1a61cd7364b7b89dabec44c0f5fb916c8fa1', 'message': '[DNM] test branches on template\n\nChange-Id: Idc403cd004bacf2582d694f2a5a9ed474a932210\n'}]",2,802329,926e1a61cd7364b7b89dabec44c0f5fb916c8fa1,5,1,1,23851,,,0,"[DNM] test branches on template

Change-Id: Idc403cd004bacf2582d694f2a5a9ed474a932210
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/802329/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,926e1a61cd7364b7b89dabec44c0f5fb916c8fa1,test-template-not-running, - openstack-lower-constraints-jobs: branches: master,,2,0
openstack%2Fmasakari-monitors~stable%2Fwallaby~I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,openstack/masakari-monitors,stable/wallaby,I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,Fix hostmonitor hanging forever after certain exceptions,MERGED,2021-07-27 06:38:49.000000000,2021-07-27 07:18:55.000000000,2021-07-27 07:17:34.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 06:38:49.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9ae886e7428e61dfc6a29ec65b0f6836d2648326', 'message': 'Fix hostmonitor hanging forever after certain exceptions\n\nThe hostmonitor, like other Masakari monitors, starts as an\nOslo service (based on eventlet). The main thread is supposed\nto run a loop that has an internal wait mechanism (instead of\nreusing periodic_tasks from oslo_service). However, the loop\ncould be broken, if an unexpected exception appeared, and it\nnever ran again but the process was still alive (due to\noslo_service not stopping). The example mentioned in the bug\nreport is about unavailability of the Masakari API (and/or\nKeystone API) before notification sending. This exception is\nnot caught early because SendNotification._make_client is\ncalled outside of the try block (unlike the actual notification\nsending). The exception bubbles up and stops the main loop,\nleaving a useless hostmonitor process. The user is unaware\nunless they notice the logs are no longer growing.\n\nWhile the general design begs for a revamp (we might get away\nwith that by using Consul in the first place), the easy fix is\nto prevent exceptions breaking the loop completely so that the\nhostmonitor can continue to work and try to regain health.\nAt the very least it will keep posting ERROR messages in the log\nwhich is more likely to be spotted in comparison to lack of logs\n(which is, unfortunately, less commonly considered an alerting\nsituation).\n\nThis change also fixes, adapts and robustifies the two relevant\nunit tests.\n\nCloses-Bug: #1930361\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n(cherry picked from commit e7154f3d77ee4c06eec603a850ec941668eb602f)\n'}]",0,802351,9ae886e7428e61dfc6a29ec65b0f6836d2648326,8,3,1,30491,,,0,"Fix hostmonitor hanging forever after certain exceptions

The hostmonitor, like other Masakari monitors, starts as an
Oslo service (based on eventlet). The main thread is supposed
to run a loop that has an internal wait mechanism (instead of
reusing periodic_tasks from oslo_service). However, the loop
could be broken, if an unexpected exception appeared, and it
never ran again but the process was still alive (due to
oslo_service not stopping). The example mentioned in the bug
report is about unavailability of the Masakari API (and/or
Keystone API) before notification sending. This exception is
not caught early because SendNotification._make_client is
called outside of the try block (unlike the actual notification
sending). The exception bubbles up and stops the main loop,
leaving a useless hostmonitor process. The user is unaware
unless they notice the logs are no longer growing.

While the general design begs for a revamp (we might get away
with that by using Consul in the first place), the easy fix is
to prevent exceptions breaking the loop completely so that the
hostmonitor can continue to work and try to regain health.
At the very least it will keep posting ERROR messages in the log
which is more likely to be spotted in comparison to lack of logs
(which is, unfortunately, less commonly considered an alerting
situation).

This change also fixes, adapts and robustifies the two relevant
unit tests.

Closes-Bug: #1930361
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce
(cherry picked from commit e7154f3d77ee4c06eec603a850ec941668eb602f)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/51/802351/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml']",3,9ae886e7428e61dfc6a29ec65b0f6836d2648326,bug/1930361-stable/wallaby,--- fixes: - | Fixes hostmonitor hanging forever after certain exceptions. `LP#1930361 <https://launchpad.net/bugs/1930361>`__ ,,25,24
openstack%2Fmasakari-monitors~stable%2Ftrain~I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,openstack/masakari-monitors,stable/train,I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,Fix hostmonitor hanging forever after certain exceptions,MERGED,2021-07-27 03:15:24.000000000,2021-07-27 07:18:26.000000000,2021-07-27 07:16:48.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 03:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/4373756c59d4a151823c09a09464760f1f764007', 'message': 'Fix hostmonitor hanging forever after certain exceptions\n\nThe hostmonitor, like other Masakari monitors, starts as an\nOslo service (based on eventlet). The main thread is supposed\nto run a loop that has an internal wait mechanism (instead of\nreusing periodic_tasks from oslo_service). However, the loop\ncould be broken, if an unexpected exception appeared, and it\nnever ran again but the process was still alive (due to\noslo_service not stopping). The example mentioned in the bug\nreport is about unavailability of the Masakari API (and/or\nKeystone API) before notification sending. This exception is\nnot caught early because SendNotification._make_client is\ncalled outside of the try block (unlike the actual notification\nsending). The exception bubbles up and stops the main loop,\nleaving a useless hostmonitor process. The user is unaware\nunless they notice the logs are no longer growing.\n\nWhile the general design begs for a revamp (we might get away\nwith that by using Consul in the first place), the easy fix is\nto prevent exceptions breaking the loop completely so that the\nhostmonitor can continue to work and try to regain health.\nAt the very least it will keep posting ERROR messages in the log\nwhich is more likely to be spotted in comparison to lack of logs\n(which is, unfortunately, less commonly considered an alerting\nsituation).\n\nThis change also fixes, adapts and robustifies the two relevant\nunit tests.\n\nCloses-Bug: #1930361\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n'}, {'number': 2, 'created': '2021-07-27 06:39:13.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/ad90db8811e8da41e6b5218ef3127b7562381e51', 'message': 'Fix hostmonitor hanging forever after certain exceptions\n\nThe hostmonitor, like other Masakari monitors, starts as an\nOslo service (based on eventlet). The main thread is supposed\nto run a loop that has an internal wait mechanism (instead of\nreusing periodic_tasks from oslo_service). However, the loop\ncould be broken, if an unexpected exception appeared, and it\nnever ran again but the process was still alive (due to\noslo_service not stopping). The example mentioned in the bug\nreport is about unavailability of the Masakari API (and/or\nKeystone API) before notification sending. This exception is\nnot caught early because SendNotification._make_client is\ncalled outside of the try block (unlike the actual notification\nsending). The exception bubbles up and stops the main loop,\nleaving a useless hostmonitor process. The user is unaware\nunless they notice the logs are no longer growing.\n\nWhile the general design begs for a revamp (we might get away\nwith that by using Consul in the first place), the easy fix is\nto prevent exceptions breaking the loop completely so that the\nhostmonitor can continue to work and try to regain health.\nAt the very least it will keep posting ERROR messages in the log\nwhich is more likely to be spotted in comparison to lack of logs\n(which is, unfortunately, less commonly considered an alerting\nsituation).\n\nThis change also fixes, adapts and robustifies the two relevant\nunit tests.\n\nCloses-Bug: #1930361\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n(cherry picked from commit e7154f3d77ee4c06eec603a850ec941668eb602f)\n'}]",0,802350,ad90db8811e8da41e6b5218ef3127b7562381e51,10,3,2,24501,,,0,"Fix hostmonitor hanging forever after certain exceptions

The hostmonitor, like other Masakari monitors, starts as an
Oslo service (based on eventlet). The main thread is supposed
to run a loop that has an internal wait mechanism (instead of
reusing periodic_tasks from oslo_service). However, the loop
could be broken, if an unexpected exception appeared, and it
never ran again but the process was still alive (due to
oslo_service not stopping). The example mentioned in the bug
report is about unavailability of the Masakari API (and/or
Keystone API) before notification sending. This exception is
not caught early because SendNotification._make_client is
called outside of the try block (unlike the actual notification
sending). The exception bubbles up and stops the main loop,
leaving a useless hostmonitor process. The user is unaware
unless they notice the logs are no longer growing.

While the general design begs for a revamp (we might get away
with that by using Consul in the first place), the easy fix is
to prevent exceptions breaking the loop completely so that the
hostmonitor can continue to work and try to regain health.
At the very least it will keep posting ERROR messages in the log
which is more likely to be spotted in comparison to lack of logs
(which is, unfortunately, less commonly considered an alerting
situation).

This change also fixes, adapts and robustifies the two relevant
unit tests.

Closes-Bug: #1930361
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce
(cherry picked from commit e7154f3d77ee4c06eec603a850ec941668eb602f)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/50/802350/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml']",3,4373756c59d4a151823c09a09464760f1f764007,bug/1930361-stable/wallaby-stable/victoria-stable/ussuri-stable/train,--- fixes: - | Fixes hostmonitor hanging forever after certain exceptions. `LP#1930361 <https://launchpad.net/bugs/1930361>`__ ,,25,24
openstack%2Fmasakari-monitors~stable%2Fussuri~I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,openstack/masakari-monitors,stable/ussuri,I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,Fix hostmonitor hanging forever after certain exceptions,MERGED,2021-07-27 03:14:46.000000000,2021-07-27 07:17:52.000000000,2021-07-27 07:16:25.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 03:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/48908e1924f694e7da0408bdce6359625a0305ca', 'message': 'Fix hostmonitor hanging forever after certain exceptions\n\nThe hostmonitor, like other Masakari monitors, starts as an\nOslo service (based on eventlet). The main thread is supposed\nto run a loop that has an internal wait mechanism (instead of\nreusing periodic_tasks from oslo_service). However, the loop\ncould be broken, if an unexpected exception appeared, and it\nnever ran again but the process was still alive (due to\noslo_service not stopping). The example mentioned in the bug\nreport is about unavailability of the Masakari API (and/or\nKeystone API) before notification sending. This exception is\nnot caught early because SendNotification._make_client is\ncalled outside of the try block (unlike the actual notification\nsending). The exception bubbles up and stops the main loop,\nleaving a useless hostmonitor process. The user is unaware\nunless they notice the logs are no longer growing.\n\nWhile the general design begs for a revamp (we might get away\nwith that by using Consul in the first place), the easy fix is\nto prevent exceptions breaking the loop completely so that the\nhostmonitor can continue to work and try to regain health.\nAt the very least it will keep posting ERROR messages in the log\nwhich is more likely to be spotted in comparison to lack of logs\n(which is, unfortunately, less commonly considered an alerting\nsituation).\n\nThis change also fixes, adapts and robustifies the two relevant\nunit tests.\n\nCloses-Bug: #1930361\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n'}, {'number': 2, 'created': '2021-07-27 06:39:04.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/020e13e04eac6dae2884787a3844cd045b9f166d', 'message': 'Fix hostmonitor hanging forever after certain exceptions\n\nThe hostmonitor, like other Masakari monitors, starts as an\nOslo service (based on eventlet). The main thread is supposed\nto run a loop that has an internal wait mechanism (instead of\nreusing periodic_tasks from oslo_service). However, the loop\ncould be broken, if an unexpected exception appeared, and it\nnever ran again but the process was still alive (due to\noslo_service not stopping). The example mentioned in the bug\nreport is about unavailability of the Masakari API (and/or\nKeystone API) before notification sending. This exception is\nnot caught early because SendNotification._make_client is\ncalled outside of the try block (unlike the actual notification\nsending). The exception bubbles up and stops the main loop,\nleaving a useless hostmonitor process. The user is unaware\nunless they notice the logs are no longer growing.\n\nWhile the general design begs for a revamp (we might get away\nwith that by using Consul in the first place), the easy fix is\nto prevent exceptions breaking the loop completely so that the\nhostmonitor can continue to work and try to regain health.\nAt the very least it will keep posting ERROR messages in the log\nwhich is more likely to be spotted in comparison to lack of logs\n(which is, unfortunately, less commonly considered an alerting\nsituation).\n\nThis change also fixes, adapts and robustifies the two relevant\nunit tests.\n\nCloses-Bug: #1930361\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n(cherry picked from commit e7154f3d77ee4c06eec603a850ec941668eb602f)\n'}]",0,802349,020e13e04eac6dae2884787a3844cd045b9f166d,10,3,2,24501,,,0,"Fix hostmonitor hanging forever after certain exceptions

The hostmonitor, like other Masakari monitors, starts as an
Oslo service (based on eventlet). The main thread is supposed
to run a loop that has an internal wait mechanism (instead of
reusing periodic_tasks from oslo_service). However, the loop
could be broken, if an unexpected exception appeared, and it
never ran again but the process was still alive (due to
oslo_service not stopping). The example mentioned in the bug
report is about unavailability of the Masakari API (and/or
Keystone API) before notification sending. This exception is
not caught early because SendNotification._make_client is
called outside of the try block (unlike the actual notification
sending). The exception bubbles up and stops the main loop,
leaving a useless hostmonitor process. The user is unaware
unless they notice the logs are no longer growing.

While the general design begs for a revamp (we might get away
with that by using Consul in the first place), the easy fix is
to prevent exceptions breaking the loop completely so that the
hostmonitor can continue to work and try to regain health.
At the very least it will keep posting ERROR messages in the log
which is more likely to be spotted in comparison to lack of logs
(which is, unfortunately, less commonly considered an alerting
situation).

This change also fixes, adapts and robustifies the two relevant
unit tests.

Closes-Bug: #1930361
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce
(cherry picked from commit e7154f3d77ee4c06eec603a850ec941668eb602f)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/49/802349/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml']",3,48908e1924f694e7da0408bdce6359625a0305ca,bug/1930361-stable/wallaby-stable/victoria-stable/ussuri,--- fixes: - | Fixes hostmonitor hanging forever after certain exceptions. `LP#1930361 <https://launchpad.net/bugs/1930361>`__ ,,25,24
openstack%2Fmasakari-monitors~stable%2Fvictoria~I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,openstack/masakari-monitors,stable/victoria,I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,Fix hostmonitor hanging forever after certain exceptions,MERGED,2021-07-27 03:14:03.000000000,2021-07-27 07:14:08.000000000,2021-07-27 07:12:40.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-27 03:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/a8a031f16a228d715f746dd2a8449ffa2d446a9a', 'message': 'Fix hostmonitor hanging forever after certain exceptions\n\nThe hostmonitor, like other Masakari monitors, starts as an\nOslo service (based on eventlet). The main thread is supposed\nto run a loop that has an internal wait mechanism (instead of\nreusing periodic_tasks from oslo_service). However, the loop\ncould be broken, if an unexpected exception appeared, and it\nnever ran again but the process was still alive (due to\noslo_service not stopping). The example mentioned in the bug\nreport is about unavailability of the Masakari API (and/or\nKeystone API) before notification sending. This exception is\nnot caught early because SendNotification._make_client is\ncalled outside of the try block (unlike the actual notification\nsending). The exception bubbles up and stops the main loop,\nleaving a useless hostmonitor process. The user is unaware\nunless they notice the logs are no longer growing.\n\nWhile the general design begs for a revamp (we might get away\nwith that by using Consul in the first place), the easy fix is\nto prevent exceptions breaking the loop completely so that the\nhostmonitor can continue to work and try to regain health.\nAt the very least it will keep posting ERROR messages in the log\nwhich is more likely to be spotted in comparison to lack of logs\n(which is, unfortunately, less commonly considered an alerting\nsituation).\n\nThis change also fixes, adapts and robustifies the two relevant\nunit tests.\n\nCloses-Bug: #1930361\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n'}, {'number': 2, 'created': '2021-07-27 06:38:57.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/a981e0df31805b2cc3feb0a795e5d6cb2cd70c88', 'message': 'Fix hostmonitor hanging forever after certain exceptions\n\nThe hostmonitor, like other Masakari monitors, starts as an\nOslo service (based on eventlet). The main thread is supposed\nto run a loop that has an internal wait mechanism (instead of\nreusing periodic_tasks from oslo_service). However, the loop\ncould be broken, if an unexpected exception appeared, and it\nnever ran again but the process was still alive (due to\noslo_service not stopping). The example mentioned in the bug\nreport is about unavailability of the Masakari API (and/or\nKeystone API) before notification sending. This exception is\nnot caught early because SendNotification._make_client is\ncalled outside of the try block (unlike the actual notification\nsending). The exception bubbles up and stops the main loop,\nleaving a useless hostmonitor process. The user is unaware\nunless they notice the logs are no longer growing.\n\nWhile the general design begs for a revamp (we might get away\nwith that by using Consul in the first place), the easy fix is\nto prevent exceptions breaking the loop completely so that the\nhostmonitor can continue to work and try to regain health.\nAt the very least it will keep posting ERROR messages in the log\nwhich is more likely to be spotted in comparison to lack of logs\n(which is, unfortunately, less commonly considered an alerting\nsituation).\n\nThis change also fixes, adapts and robustifies the two relevant\nunit tests.\n\nCloses-Bug: #1930361\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n(cherry picked from commit e7154f3d77ee4c06eec603a850ec941668eb602f)\n'}]",0,802348,a981e0df31805b2cc3feb0a795e5d6cb2cd70c88,10,3,2,24501,,,0,"Fix hostmonitor hanging forever after certain exceptions

The hostmonitor, like other Masakari monitors, starts as an
Oslo service (based on eventlet). The main thread is supposed
to run a loop that has an internal wait mechanism (instead of
reusing periodic_tasks from oslo_service). However, the loop
could be broken, if an unexpected exception appeared, and it
never ran again but the process was still alive (due to
oslo_service not stopping). The example mentioned in the bug
report is about unavailability of the Masakari API (and/or
Keystone API) before notification sending. This exception is
not caught early because SendNotification._make_client is
called outside of the try block (unlike the actual notification
sending). The exception bubbles up and stops the main loop,
leaving a useless hostmonitor process. The user is unaware
unless they notice the logs are no longer growing.

While the general design begs for a revamp (we might get away
with that by using Consul in the first place), the easy fix is
to prevent exceptions breaking the loop completely so that the
hostmonitor can continue to work and try to regain health.
At the very least it will keep posting ERROR messages in the log
which is more likely to be spotted in comparison to lack of logs
(which is, unfortunately, less commonly considered an alerting
situation).

This change also fixes, adapts and robustifies the two relevant
unit tests.

Closes-Bug: #1930361
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce
(cherry picked from commit e7154f3d77ee4c06eec603a850ec941668eb602f)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/48/802348/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml']",3,a8a031f16a228d715f746dd2a8449ffa2d446a9a,bug/1930361-stable/wallaby-stable/victoria,--- fixes: - | Fixes hostmonitor hanging forever after certain exceptions. `LP#1930361 <https://launchpad.net/bugs/1930361>`__ ,,25,24
openstack%2Fmasakari-monitors~master~I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,openstack/masakari-monitors,master,I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce,Fix hostmonitor hanging forever after certain exceptions,MERGED,2021-06-02 08:46:28.000000000,2021-07-27 06:25:55.000000000,2021-07-27 06:23:37.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-02 08:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/893bcf3d70c946ca34b23d01cb536df514ff13b1', 'message': 'wait and retry monitor hosts after exception\n\nWhen exception, the process will return and not monitor hosts again.\nThis patch improve it and introduce one configueration, so when\nexception it will wait a period and monitor hosts again.\n\nCloses-Bug: #1930361\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n'}, {'number': 2, 'created': '2021-06-07 09:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/a5f791b4b10093e92f7bcdcad319546cdcec9ed9', 'message': 'wait and retry monitor hosts after exception\n\nWhen exception, the process will return and not monitor hosts again.\nThis patch improve it, so when exception it will wait a period and\nmonitor hosts again.\n\nCloses-Bug: #1930361\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n'}, {'number': 3, 'created': '2021-07-20 06:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/31153e3f35906d2c5b0a63ad1f908bab2208e5a6', 'message': 'wait and retry monitor hosts after exception\n\nWhen exception, the process will return and not monitor hosts again.\nThis patch improve it, so when exception it will wait a period and\nmonitor hosts again.\n\nCloses-Bug: #1930361\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n'}, {'number': 4, 'created': '2021-07-23 14:36:23.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'releasenotes/notes/bug-1930361-fa8ce8e9781ea967.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/e7154f3d77ee4c06eec603a850ec941668eb602f', 'message': 'Fix hostmonitor hanging forever after certain exceptions\n\nThe hostmonitor, like other Masakari monitors, starts as an\nOslo service (based on eventlet). The main thread is supposed\nto run a loop that has an internal wait mechanism (instead of\nreusing periodic_tasks from oslo_service). However, the loop\ncould be broken, if an unexpected exception appeared, and it\nnever ran again but the process was still alive (due to\noslo_service not stopping). The example mentioned in the bug\nreport is about unavailability of the Masakari API (and/or\nKeystone API) before notification sending. This exception is\nnot caught early because SendNotification._make_client is\ncalled outside of the try block (unlike the actual notification\nsending). The exception bubbles up and stops the main loop,\nleaving a useless hostmonitor process. The user is unaware\nunless they notice the logs are no longer growing.\n\nWhile the general design begs for a revamp (we might get away\nwith that by using Consul in the first place), the easy fix is\nto prevent exceptions breaking the loop completely so that the\nhostmonitor can continue to work and try to regain health.\nAt the very least it will keep posting ERROR messages in the log\nwhich is more likely to be spotted in comparison to lack of logs\n(which is, unfortunately, less commonly considered an alerting\nsituation).\n\nThis change also fixes, adapts and robustifies the two relevant\nunit tests.\n\nCloses-Bug: #1930361\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce\n'}]",2,794162,e7154f3d77ee4c06eec603a850ec941668eb602f,21,3,4,24501,,,0,"Fix hostmonitor hanging forever after certain exceptions

The hostmonitor, like other Masakari monitors, starts as an
Oslo service (based on eventlet). The main thread is supposed
to run a loop that has an internal wait mechanism (instead of
reusing periodic_tasks from oslo_service). However, the loop
could be broken, if an unexpected exception appeared, and it
never ran again but the process was still alive (due to
oslo_service not stopping). The example mentioned in the bug
report is about unavailability of the Masakari API (and/or
Keystone API) before notification sending. This exception is
not caught early because SendNotification._make_client is
called outside of the try block (unlike the actual notification
sending). The exception bubbles up and stops the main loop,
leaving a useless hostmonitor process. The user is unaware
unless they notice the logs are no longer growing.

While the general design begs for a revamp (we might get away
with that by using Consul in the first place), the easy fix is
to prevent exceptions breaking the loop completely so that the
hostmonitor can continue to work and try to regain health.
At the very least it will keep posting ERROR messages in the log
which is more likely to be spotted in comparison to lack of logs
(which is, unfortunately, less commonly considered an alerting
situation).

This change also fixes, adapts and robustifies the two relevant
unit tests.

Closes-Bug: #1930361
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I7e3447dcddc7998e3e3c30f4f0019d91a99c79ce
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/62/794162/4 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/conf/host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py']",2,893bcf3d70c946ca34b23d01cb536df514ff13b1,bug/1930361," self.running = True while self.running: try: except Exception as e: LOG.exception(""Exception caught: %s"", e) eventlet.greenthread.sleep( CONF.host.wait_period_after_exception)"," try: self.running = True while self.running: except Exception as e: LOG.exception(""Exception caught: %s"", e) return",11,8
openstack%2Fpython-masakariclient~master~I148acaf9ee25fe67e5a488b556e183d4e8cc0fa2,openstack/python-masakariclient,master,I148acaf9ee25fe67e5a488b556e183d4e8cc0fa2,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2021-05-28 12:55:58.000000000,2021-07-27 06:24:15.000000000,2021-07-27 06:21:48.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-28 12:55:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/d337fbe6f03b8d81265d506dabe10cbd7dac5d47', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I148acaf9ee25fe67e5a488b556e183d4e8cc0fa2\n'}]",0,793595,d337fbe6f03b8d81265d506dabe10cbd7dac5d47,9,3,1,31825,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I148acaf9ee25fe67e5a488b556e183d4e8cc0fa2
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/95/793595/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d337fbe6f03b8d81265d506dabe10cbd7dac5d47,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ftripleo-heat-templates~master~I81565290603eb60c8c18e64c95ead7b761e8cb78,openstack/tripleo-heat-templates,master,I81565290603eb60c8c18e64c95ead7b761e8cb78,Deprecate ineffective ManilaCephFSCephFSEnableSnapshots,MERGED,2021-07-01 15:57:45.000000000,2021-07-27 06:18:45.000000000,2021-07-27 06:16:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 20733}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-01 15:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de7298946df0a9a1b257d38df6451c9c0e93474a', 'message': ""Remove useless ManilaCephFSCephFSEnableSnapshots\n\nThe cephfs_enable_snapshots parameter was deprecated in Manila[1] and\npuppet-manila no longer set the prameter[2] since Victoria[2].\nThis removes the corresponding parameter from tripleo-heat-tempaltes\nbecause it's just useless.\n\n[1] 2d7c46445396b0db780ba456ffb9284b177a6ae4\n[2] 2388d7510d600e358c76becf13d08581b489f2a7\n\nChange-Id: I81565290603eb60c8c18e64c95ead7b761e8cb78\n""}, {'number': 2, 'created': '2021-07-13 02:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2284e54c1b3506b5d82d511994467e8cdbc030c9', 'message': ""Deprecate useless ManilaCephFSCephFSEnableSnapshots\n\nThe cephfs_enable_snapshots parameter was deprecated in Manila[1]\nduring Victoria and was removed during Wallaby. Now Manila always\nenables snapshot support for CephFS backend. Following that deprecation\nin Manila, puppet-manila no longer set the parameter since Victoria[2].\n\nThis deprecates the corresponding parameter from tripleo-heat-tempaltes\nbecause it's just useless.\n\n[1] 2d7c46445396b0db780ba456ffb9284b177a6ae4\n[2] 2388d7510d600e358c76becf13d08581b489f2a7\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I81565290603eb60c8c18e64c95ead7b761e8cb78\n""}, {'number': 3, 'created': '2021-07-13 02:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef46cc0d336cf4419370b2c2c75030dd7faebd97', 'message': ""Deprecate useless ManilaCephFSCephFSEnableSnapshots\n\nThe cephfs_enable_snapshots parameter was deprecated in Manila[1]\nduring Victoria and was removed during Wallaby. Now Manila always\nenables snapshot support for CephFS backend. Following that deprecation\nin Manila, puppet-manila no longer set the parameter since Victoria[2].\n\nThis deprecates the corresponding parameter from tripleo-heat-tempaltes\nbecause it's just useless.\n\n[1] 2d7c46445396b0db780ba456ffb9284b177a6ae4\n[2] 2388d7510d600e358c76becf13d08581b489f2a7\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I81565290603eb60c8c18e64c95ead7b761e8cb78\n""}, {'number': 4, 'created': '2021-07-19 11:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/933599bd8c49f2c0df40f085c237fbab41e4114c', 'message': 'Deprecate ineffective ManilaCephFSCephFSEnableSnapshots\n\nThe cephfs_enable_snapshots parameter was deprecated in Manila[1]\nduring Victoria and was removed during Wallaby. Now Manila always\nenables snapshot support for CephFS backend. Following that deprecation\nin Manila, puppet-manila no longer set the parameter since Victoria[2].\n\nThis deprecates the corresponding parameter from tripleo-heat-tempaltes\nbecause it has no effect since Victoria.\n\n[1] 2d7c46445396b0db780ba456ffb9284b177a6ae4\n[2] 2388d7510d600e358c76becf13d08581b489f2a7\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I81565290603eb60c8c18e64c95ead7b761e8cb78\n'}, {'number': 5, 'created': '2021-07-19 11:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5619f7b2650977ecf91734931ff779abee60aa16', 'message': 'Deprecate ineffective ManilaCephFSCephFSEnableSnapshots\n\nThe cephfs_enable_snapshots parameter was deprecated in Manila[1]\nduring Victoria and was removed during Wallaby. Now Manila always\nenables snapshot support for CephFS backend. Following that deprecation\nin Manila, the corresponding parameter of puppet-manila was deprecated\nduring the Victoria cycle [2] and it is being removed during the Xena\ncycle.\n\nThis deprecates the corresponding parameter from tripleo-heat-tempaltes\nbecause it has no effect since Wallaby.\n\n[1] 2d7c46445396b0db780ba456ffb9284b177a6ae4\n[2] 2388d7510d600e358c76becf13d08581b489f2a7\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I81565290603eb60c8c18e64c95ead7b761e8cb78\n'}, {'number': 6, 'created': '2021-07-19 13:17:47.000000000', 'files': ['deployment/manila/manila-backend-cephfs.yaml', 'environments/manila-cephfsnative-config.yaml', 'releasenotes/notes/deprecate-manila-cephfs-enable-snapshot-7857604802378720.yaml', 'environments/manila-cephfsganesha-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0cb3c62764dbec7bccb5148a04c82547334afab', 'message': 'Deprecate ineffective ManilaCephFSCephFSEnableSnapshots\n\nThe cephfs_enable_snapshots parameter was deprecated in Manila[1]\nduring Victoria and was removed during Wallaby. Now Manila always\nenables snapshot support for CephFS backend. Following that deprecation\nin Manila, the corresponding parameter of puppet-manila was deprecated\nduring the Victoria cycle [2] and it is being removed during the Xena\ncycle.\n\nThis deprecates the corresponding parameter from tripleo-heat-tempaltes\nbecause it has no effect since Wallaby.\n\n[1] 2d7c46445396b0db780ba456ffb9284b177a6ae4\n[2] 2388d7510d600e358c76becf13d08581b489f2a7\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I81565290603eb60c8c18e64c95ead7b761e8cb78\n'}]",2,799099,e0cb3c62764dbec7bccb5148a04c82547334afab,43,6,6,9816,,,0,"Deprecate ineffective ManilaCephFSCephFSEnableSnapshots

The cephfs_enable_snapshots parameter was deprecated in Manila[1]
during Victoria and was removed during Wallaby. Now Manila always
enables snapshot support for CephFS backend. Following that deprecation
in Manila, the corresponding parameter of puppet-manila was deprecated
during the Victoria cycle [2] and it is being removed during the Xena
cycle.

This deprecates the corresponding parameter from tripleo-heat-tempaltes
because it has no effect since Wallaby.

[1] 2d7c46445396b0db780ba456ffb9284b177a6ae4
[2] 2388d7510d600e358c76becf13d08581b489f2a7

Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>
Change-Id: I81565290603eb60c8c18e64c95ead7b761e8cb78
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/799099/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/manila/manila-backend-cephfs.yaml', 'releasenotes/notes/remove-manila-cephfs-enable-snapshot-4a22910da90c4492.yaml']",2,de7298946df0a9a1b257d38df6451c9c0e93474a,manila-cleanup,--- upgrade: - | The ``ManilaCephFSCephFSEnableSnapshots`` parameter has been removed. ,,4,4
openstack%2Ftripleo-ci~master~I5993f56c0805a2c98da97af3b864a8278058f49b,openstack/tripleo-ci,master,I5993f56c0805a2c98da97af3b864a8278058f49b,Adds master upgrades/updates jobs to periodic,MERGED,2021-06-24 10:07:19.000000000,2021-07-27 04:47:57.000000000,2021-07-27 04:47:57.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-06-24 10:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ec80c7b5e2e4d48f77af869e953d71e3beefdd09', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 2, 'created': '2021-06-24 11:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/594c007600c0553e4bd9875ed6beb5bbe3745436', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 3, 'created': '2021-06-24 11:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a73ac1773e843ef4dd3b0b5a98fa8a2c42af1349', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 4, 'created': '2021-06-24 13:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c5122f26349b3c40cb59264d2493bf4642a8b4c5', 'message': 'WIP : Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 5, 'created': '2021-06-25 08:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9177d5e92d4bacf14092bcd68349afacd826b323', 'message': 'WIP : Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 6, 'created': '2021-06-25 12:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c9bf95a19c998eac85ddf0888439362920fa3349', 'message': 'WIP : Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 7, 'created': '2021-06-28 11:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dedfc423294dcb076b88b2d378b3a9e09a7c7ae0', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 8, 'created': '2021-07-08 11:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8a0320df33c5c1baf07f951598e294315ebe6ff0', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 9, 'created': '2021-07-08 11:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6490698c58e1cd08701895fcd731fd83588f6c78', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 10, 'created': '2021-07-08 13:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2063f3b103ed3e20e806478766846d54696129db', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 11, 'created': '2021-07-12 10:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/86a13de76d3e1fb33d2a5763cb6e08feb2545312', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 12, 'created': '2021-07-12 12:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8521fd430a38380318db9e80b18395896fd2d1a0', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 13, 'created': '2021-07-13 08:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eaf7d5f988bcc1041bc34aed535445775ee198f2', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 14, 'created': '2021-07-13 08:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/165a5f710fe852b3d54231f73daa51ac20eea24c', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 15, 'created': '2021-07-13 08:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/80eb25a70e41d2f0c800cf81dececfb323516cce', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 16, 'created': '2021-07-13 09:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8a79391a6aee4d571a129a759a1fc9fbbf5f57fc', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 17, 'created': '2021-07-14 12:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/74e780a3b8f4bda58f2e4fdca479f2a6c8f5fb4b', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}, {'number': 18, 'created': '2021-07-24 16:09:29.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9801f651a1d57e1037be89ee54d8f8380d4f8f07', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I5993f56c0805a2c98da97af3b864a8278058f49b\n'}]",156,797865,9801f651a1d57e1037be89ee54d8f8380d4f8f07,83,8,18,31075,,,0,"Adds master upgrades/updates jobs to periodic

This patch adds master undercloud overcloud
upgrades/updates jobs to periodic.

Change-Id: I5993f56c0805a2c98da97af3b864a8278058f49b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/65/797865/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,ec80c7b5e2e4d48f77af869e953d71e3beefdd09,wallaby-upgrade-jobs, - project-template: name: tripleo-upgrades-master-pipeline periodic: jobs: - tripleo-ci-centos-8-content-provider: vars: force_non_periodic: true - tripleo-ci-centos-8-content-provider-wallaby: vars: force_non_periodic: true - tripleo-ci-centos-8-standalone-upgrade-master: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-wallaby - tripleo-ci-centos-8-undercloud-upgrade-master: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-wallaby - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-master: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-master: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,,32,0
openstack%2Fvalidations-common~master~Id1fe1aaab4704f75fa1fedd99df875430cd3df8c,openstack/validations-common,master,Id1fe1aaab4704f75fa1fedd99df875430cd3df8c,Enabling indentation rule for yamllint.,MERGED,2021-06-11 08:30:57.000000000,2021-07-27 04:47:53.000000000,2021-07-27 04:47:53.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-11 08:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/df74fcd5f49d46cf26599dca13c86ecb61889ded', 'message': 'Linter rule for indentation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id1fe1aaab4704f75fa1fedd99df875430cd3df8c\n'}, {'number': 2, 'created': '2021-06-11 08:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/473e4f5d446fe59b2162f5317562b362beea9e6e', 'message': 'Enabling indentation rule for yamllint.\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id1fe1aaab4704f75fa1fedd99df875430cd3df8c\n'}, {'number': 3, 'created': '2021-06-11 08:56:42.000000000', 'files': ['.yamllint'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/93c15fd60e2866369d192f8c7ed1a7e51ae527c9', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id1fe1aaab4704f75fa1fedd99df875430cd3df8c\n'}]",0,795961,93c15fd60e2866369d192f8c7ed1a7e51ae527c9,12,7,3,32926,,,0,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id1fe1aaab4704f75fa1fedd99df875430cd3df8c
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/61/795961/2 && git format-patch -1 --stdout FETCH_HEAD,['.yamllint'],1,df74fcd5f49d46cf26599dca13c86ecb61889ded,linters/yaml/indent, indentation: spaces: consistent indent-sequences: true check-multi-line-strings: false,,4,0
openstack%2Fvalidations-common~master~I3f6a60c224a97ecb40c01c1607f7b39b294c3926,openstack/validations-common,master,I3f6a60c224a97ecb40c01c1607f7b39b294c3926,Removing lookup_plugins data file directive,MERGED,2021-07-02 11:13:39.000000000,2021-07-27 04:47:52.000000000,2021-07-27 04:47:52.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-02 11:13:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/339eb1c46c0a2925eb739feae72182a59d72a83a', 'message': ""Removing lookup_plugins data file directive\n\nThe 'validations_common/lookup_plugins' directory is not present in the repo.\nTherefore the line serves no purpose, as there is nothing to install.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3f6a60c224a97ecb40c01c1607f7b39b294c3926\n""}]",0,799195,339eb1c46c0a2925eb739feae72182a59d72a83a,7,7,1,32926,,,0,"Removing lookup_plugins data file directive

The 'validations_common/lookup_plugins' directory is not present in the repo.
Therefore the line serves no purpose, as there is nothing to install.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I3f6a60c224a97ecb40c01c1607f7b39b294c3926
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/95/799195/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,339eb1c46c0a2925eb739feae72182a59d72a83a,lookup_plugins/cleanup,, share/ansible/lookup_plugins = validations_common/lookup_plugins/*,0,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02,openstack/tripleo-heat-templates,stable/wallaby,I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02,Add tool to convert net-data from v1 to v2,MERGED,2021-07-16 15:17:10.000000000,2021-07-27 04:47:50.000000000,2021-07-27 04:47:50.000000000,"[{'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-16 15:17:10.000000000', 'files': ['tools/convert_v1_net_data.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c071d5263c4f604821cc79ae3584b1f60f73d90', 'message': 'Add tool to convert net-data from v1 to v2\n\nThis new tool will convert the old v1 net-data format to v2. This tool\nwill create a backup of the older net-data file so that its possible to\nrecover data should anything go wrong in the conversion. Upon completion\nthe tool will create the v2 file using the existing file format name.\n\nChange-Id: I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit a191377b3490f0f3b14e1cbddda990fa7a73a6e0)\n'}]",0,800872,8c071d5263c4f604821cc79ae3584b1f60f73d90,11,5,1,7353,,,0,"Add tool to convert net-data from v1 to v2

This new tool will convert the old v1 net-data format to v2. This tool
will create a backup of the older net-data file so that its possible to
recover data should anything go wrong in the conversion. Upon completion
the tool will create the v2 file using the existing file format name.

Change-Id: I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit a191377b3490f0f3b14e1cbddda990fa7a73a6e0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/800872/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/convert_v1_net_data.py'],1,8c071d5263c4f604821cc79ae3584b1f60f73d90,tinkering-netv2,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import os import yaml def parse_opts(): """"""Parse all of the conversion options."""""" parser = argparse.ArgumentParser( description=""Convert a network V1 template to a V2 template."" ) parser.add_argument( ""v1"", metavar=""<network_data.yaml>"", help=""Existing V1 Template."" ) return parser.parse_args() def main(): """"""Convert a network v1 template to the network v2 format. The V1 template will be converted to V2 format. The V1 template will be saved as a backup file before writing the V2 net-data format. """""" args = parse_opts() net_data_file = os.path.abspath(os.path.expanduser(args.v1)) with open(net_data_file) as f: template_data = yaml.safe_load(f) new_template_data = list() for item in template_data: new_item = dict() item.pop(""enabled"", False) # Drop unused var name = new_item[""name""] = item.pop(""name"") name_lower = new_item[""name_lower""] = item.pop( ""name_lower"", name.lower() ) new_item[""vip""] = item.pop(""vip"", False) new_item[""mtu""] = item.pop(""mtu"", 1500) new_item[""subnets""] = item.pop(""subnets"", dict()) new_item[""subnets""][""{}_subnet"".format(name_lower)] = item new_template_data.append(new_item) os.rename(net_data_file, ""{}.bak"".format(net_data_file)) try: # content is converted to yaml before opening the file. # This is done to ensure that we're not breaking any existing files # during the conversion process. dump_yaml = yaml.safe_dump( new_template_data, default_style=False, sort_keys=False ) except Exception as e: print(""Conversion could not be completed. Error:{}"".format(str(e))) else: with open(net_data_file, ""w"") as f: f.write(dump_yaml) if __name__ == ""__main__"": main() ",,74,0
openstack%2Ftripleo-common~master~I50870b38aa97ce937a15343e7875cc70152b7135,openstack/tripleo-common,master,I50870b38aa97ce937a15343e7875cc70152b7135,Add neutron-rpc-server to the base neutron image,MERGED,2021-07-20 05:15:32.000000000,2021-07-27 03:29:47.000000000,2021-07-27 03:27:06.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-20 05:15:32.000000000', 'files': ['container-images/tcib/base/os/neutron-base/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d94cf435a21ec6fdf5ef05210d4ef47f3dc9b64', 'message': ""Add neutron-rpc-server to the base neutron image\n\nWhen Neutron API is served by a web server (like httpd)\nit's difficult to start an rpc listener thread. An rpc\nserver needs to be started to serve this puprose. This\nadds neutron-rpc-server package to the base image for\nthat reason.\n\nChange-Id: I50870b38aa97ce937a15343e7875cc70152b7135\n""}]",0,801417,8d94cf435a21ec6fdf5ef05210d4ef47f3dc9b64,11,4,1,8833,,,0,"Add neutron-rpc-server to the base neutron image

When Neutron API is served by a web server (like httpd)
it's difficult to start an rpc listener thread. An rpc
server needs to be started to serve this puprose. This
adds neutron-rpc-server package to the base image for
that reason.

Change-Id: I50870b38aa97ce937a15343e7875cc70152b7135
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/801417/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/neutron-base/neutron-base.yaml'],1,8d94cf435a21ec6fdf5ef05210d4ef47f3dc9b64,, - openstack-neutron-rpc-server,,1,0
openstack%2Fvalidations-libs~master~I0758890b65212b064118d7f94c04825e4a04a394,openstack/validations-libs,master,I0758890b65212b064118d7f94c04825e4a04a394,Add missing font for PDF generation,MERGED,2021-07-26 14:08:39.000000000,2021-07-27 03:27:05.000000000,2021-07-27 03:27:05.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-26 14:08:39.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8c7651e8a40f47ce9ad5837c02f33ffed36e9729', 'message': ""Add missing font for PDF generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nCo-authored-by: Elod Illes <elod.illes@est.tech>\nCloses-Bug: #1938044\nChange-Id: I0758890b65212b064118d7f94c04825e4a04a394\n""}]",0,802311,8c7651e8a40f47ce9ad5837c02f33ffed36e9729,7,6,1,9816,,,0,"Add missing font for PDF generation

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

Co-authored-by: Elod Illes <elod.illes@est.tech>
Closes-Bug: #1938044
Change-Id: I0758890b65212b064118d7f94c04825e4a04a394
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/11/802311/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8c7651e8a40f47ce9ad5837c02f33ffed36e9729,bug/1938044, # PDF Docs package dependencies tex-gyre [platform:dpkg doc],,3,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,openstack/tripleo-ansible,stable/wallaby,I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,Use serial or parallel execution depending on the kind of backup,MERGED,2021-07-07 11:54:04.000000000,2021-07-27 03:27:03.000000000,2021-07-27 03:27:03.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-07 11:54:04.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd12a797db5a69d98c1afe1ca07344829f1361db', 'message': 'Use serial or parallel execution depending on the kind of backup\n\nCurrently, we support two kinds of backups: the ""old way"" that stops all\nthe controllers at the same time and then does the backup and the\n""snapshots"" that only stops one controller at a time.\n\nIn the first case, we want to take the backup of all the controllers\nin parallel to save time, while in the second case we want to take the\nbackup of each controller serialized so we do not stop all of them at\nthe same time.\n\nThis change enables this for the openstack overcloud backup CLI action.\n\nCloses-Bug: #1930861\nChange-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f\n(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)\n'}]",2,799766,bd12a797db5a69d98c1afe1ca07344829f1361db,20,6,1,32968,,,0,"Use serial or parallel execution depending on the kind of backup

Currently, we support two kinds of backups: the ""old way"" that stops all
the controllers at the same time and then does the backup and the
""snapshots"" that only stops one controller at a time.

In the first case, we want to take the backup of all the controllers
in parallel to save time, while in the second case we want to take the
backup of each controller serialized so we do not stop all of them at
the same time.

This change enables this for the openstack overcloud backup CLI action.

Closes-Bug: #1930861
Change-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f
(cherry picked from commit ed0437e2c073ae0052d1dba762940d07f16b5aa0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/799766/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'],1,bd12a797db5a69d98c1afe1ca07344829f1361db,change-794764-2-stable/wallaby,"- name: Backup ceph authentication become: true- name: TripleO Controller backup serial: ""{{ tripleo_backup_and_restore_enable_snapshots|bool | ternary(1, groups['Controller']|length) }}"" vars_files: ../roles/backup_and_restore/defaults/main.yml",- become: true name: Backup ceph authentication- name: TripleO Controller backup.,6,3
openstack%2Ftripleo-ci~master~I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34,openstack/tripleo-ci,master,I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34,move scenario010 to branched jobs for voting,MERGED,2021-07-12 18:31:57.000000000,2021-07-27 03:27:02.000000000,2021-07-27 03:27:02.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-07-12 18:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a167a7b7a68ace2199ff0c8fec01fed22f1a9c0e', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}, {'number': 2, 'created': '2021-07-13 20:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e9eb96faf670205754bf621eb5e91427b08694aa', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}, {'number': 3, 'created': '2021-07-16 17:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a352a34675de77c7459982bc080eaf2b5db4e3ae', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nTesting here:\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/800685\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}, {'number': 4, 'created': '2021-07-16 17:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d575ca628e290a2078e99689c435ac00b0372e85', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nTesting here:\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/800685\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}, {'number': 5, 'created': '2021-07-18 20:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aa0fdd9184be27ea69dc2ce20291b156c1a4e6d1', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nTesting here:\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/800685\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}, {'number': 6, 'created': '2021-07-19 11:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f071dbdabaa395f8249430fe37bd6d12f5447265', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}, {'number': 7, 'created': '2021-07-20 16:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f18857a748a7bc35acee5033727498479d385eac', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}, {'number': 8, 'created': '2021-07-21 07:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6a193e9f7f60c4064a51dbb92c6ecdfb4460550b', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}, {'number': 9, 'created': '2021-07-26 10:57:32.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/65b0f79162bb8a673f627454a268d1929bc5d1cd', 'message': 'move scenario010 to branched jobs for voting\n\nscenario010 and ovn-provider-scenario010\nhave been difficult to get voting/gating across\nall branches at the same time.  Break the\nunbranched job into branched jobs so that\nwe can move one branch at a time\n\nChange-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34\n'}]",27,800540,65b0f79162bb8a673f627454a268d1929bc5d1cd,51,7,9,9592,,,0,"move scenario010 to branched jobs for voting

scenario010 and ovn-provider-scenario010
have been difficult to get voting/gating across
all branches at the same time.  Break the
unbranched job into branched jobs so that
we can move one branch at a time

Change-Id: I7c6ca59356f81e8acfbfc2aef8cec68da6c63f34
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/40/800540/9 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml']",2,a167a7b7a68ace2199ff0c8fec01fed22f1a9c0e,scenario010-branchful," name: tripleo-ci-centos-8-scenario010-standalone-base parent: tripleo-ci-base-standalone-centos-8 abstract: true vars: tags: - build - standalone - octavia # using featureset062 is tech debt and should be addressed at a future sprint featureset: '062' standalone_ceph: true featureset_override: validate_services: false standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario010-standalone.yaml' - job: name: tripleo-ci-centos-8-scenario010-ovn-provider-standalone-base parent: tripleo-ci-base-standalone-centos-8 vars: tags: - build - standalone - octavia featureset: '062' standalone_ceph: true featureset_override: validate_services: false tempest_tempestconf_profile_overrides: load_balancer.provider: 'ovn' load_balancer.member_role: '""Member""' load_balancer.test_reuse_connection: false load_balancer.load_balancing_algorithm: 'SOURCE_IP_PORT' load_balancer.test_flavors: false loadbalancer-feature-enabled.health_monitor_enabled: false loadbalancer-feature-enabled.pool_algorithms_enabled: false loadbalancer-feature-enabled.l7_protocol_enabled: false loadbalancer-feature-enabled.l4_protocol: 'TCP' loadbalancer-feature-enabled.session_persistence_enabled: false loadbalancer-feature-enabled.not_implemented_is_error: false network-feature-enabled.port_security: true load_balancer.test_server_path: >- ""/usr/lib/python{{ [ansible_python.version.major, ansible_python.version.minor] | join('.') }}/site-packages/octavia_tempest_plugin/contrib/test_server/test_server.bin"" tempest_test_whitelist: # The parent class runs *smoke, which only runs HTTP tests that # the ovn-provider doesn't support, so run some it does. - '^octavia_tempest_plugin.tests.scenario.v2.test_load_balancer.LoadBalancerScenarioTest' standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario010-standalone.yaml' - job:",,93,48
openstack%2Fopenstack-helm-infra~master~I022f7b56c9937f56f5611a32b652718a1159abdd,openstack/openstack-helm-infra,master,I022f7b56c9937f56f5611a32b652718a1159abdd,[DNM] test image,ABANDONED,2021-06-28 20:12:59.000000000,2021-07-27 03:07:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-28 20:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec337f847c18b360bfdfe2f5bd77427ff4aae786', 'message': '[DNM] test image\n\nChange-Id: I022f7b56c9937f56f5611a32b652718a1159abdd\n'}, {'number': 2, 'created': '2021-06-28 21:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c416d0f36a751472d5856a4130207e8b45105c1c', 'message': '[DNM] test image\n\nChange-Id: I022f7b56c9937f56f5611a32b652718a1159abdd\n'}, {'number': 3, 'created': '2021-06-28 21:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4250e4ea2598fb1a62328fd22e276ea692ec8b02', 'message': '[DNM] test image\n\nChange-Id: I022f7b56c9937f56f5611a32b652718a1159abdd\n'}, {'number': 4, 'created': '2021-06-29 21:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e5e4d83e107973c268f9199c5763af3bbe1dc9f6', 'message': '[DNM] test image\n\nChange-Id: I022f7b56c9937f56f5611a32b652718a1159abdd\n'}, {'number': 5, 'created': '2021-06-30 13:19:47.000000000', 'files': ['grafana/values.yaml', 'nagios/values.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/11f1069f6f0ca1013c509e45ebfae12d04b1f6c2', 'message': '[DNM] test image\n\nChange-Id: I022f7b56c9937f56f5611a32b652718a1159abdd\n'}]",1,798377,11f1069f6f0ca1013c509e45ebfae12d04b1f6c2,13,1,5,33519,,,0,"[DNM] test image

Change-Id: I022f7b56c9937f56f5611a32b652718a1159abdd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/77/798377/5 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'nagios/values.yaml']",2,ec337f847c18b360bfdfe2f5bd77427ff4aae786,dnm/test, selenium_tests: quay.io/stannum/osh-selenium:latest, selenium_tests: docker.io/openstackhelm/osh-selenium:latest-ubuntu_bionic,2,2
openstack%2Fneutron~master~I85d3830e9cc65162db846e4858871e1db547a04b,openstack/neutron,master,I85d3830e9cc65162db846e4858871e1db547a04b,Promote neutron-ovn-tempest-slow job to be voting and gating,MERGED,2021-07-21 06:52:45.000000000,2021-07-27 01:39:57.000000000,2021-07-27 01:36:52.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8556}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-21 06:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45d02f8781d412411eeac30c0e3c707bbe680ece', 'message': ""Promote neutron-ovn-tempest-slow job to be voting and gating\n\nThis jobs is almost the same as tempest-slow-py3 since we switched\nOVN to be default backend in Neutron. And that tempest-slow-py3 job\nis used by many projects. So to avoid potential breaks of the gate for\nother projects (like we did recently, see related bug for details)\nlet's make this job voting and gating.\nAs it is really used in many different projects as voting and gating\njob already I don't think there is any issue with doing the same in\nthe Neutron gate.\n\nRelated-bug: #1936983\nChange-Id: I85d3830e9cc65162db846e4858871e1db547a04b\n""}, {'number': 2, 'created': '2021-07-21 08:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91bb6c5dece3f8508900be6f27a17a258443af5c', 'message': ""Promote neutron-ovn-tempest-slow job to be voting and gating\n\nThis jobs is almost the same as tempest-slow-py3 since we switched\nOVN to be default backend in Neutron. And that tempest-slow-py3 job\nis used by many projects. So to avoid potential breaks of the gate for\nother projects (like we did recently, see related bug for details)\nlet's make this job voting and gating.\nAs it is really used in many different projects as voting and gating\njob already I don't think there is any issue with doing the same in\nthe Neutron gate.\n\nRelated-bug: #1936983\nRelated-bug: #1930402\n\nChange-Id: I85d3830e9cc65162db846e4858871e1db547a04b\n""}, {'number': 3, 'created': '2021-07-21 08:57:43.000000000', 'files': ['zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02c0b47d2267ee3c48d9991e5da7fd53dcf56556', 'message': ""Promote neutron-ovn-tempest-slow job to be voting and gating\n\nThis jobs is almost the same as tempest-slow-py3 since we switched\nOVN to be default backend in Neutron. And that tempest-slow-py3 job\nis used by many projects. So to avoid potential breaks of the gate for\nother projects (like we did recently, see related bug for details)\nlet's make this job voting and gating.\nAs it is really used in many different projects as voting and gating\njob already I don't think there is any issue with doing the same in\nthe Neutron gate.\n\nRelated-bug: #1936983\nRelated-bug: #1930402\n\nChange-Id: I85d3830e9cc65162db846e4858871e1db547a04b\n""}]",4,801598,02c0b47d2267ee3c48d9991e5da7fd53dcf56556,76,7,3,11975,,,0,"Promote neutron-ovn-tempest-slow job to be voting and gating

This jobs is almost the same as tempest-slow-py3 since we switched
OVN to be default backend in Neutron. And that tempest-slow-py3 job
is used by many projects. So to avoid potential breaks of the gate for
other projects (like we did recently, see related bug for details)
let's make this job voting and gating.
As it is really used in many different projects as voting and gating
job already I don't think there is any issue with doing the same in
the Neutron gate.

Related-bug: #1936983
Related-bug: #1930402

Change-Id: I85d3830e9cc65162db846e4858871e1db547a04b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/801598/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",2,45d02f8781d412411eeac30c0e3c707bbe680ece,bug/1936983, |neutron-ovn-tempest-slow |tempest slow tests | 3.6 | 2 | ovn | ovn | --- | False | False | True | Yes | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+, |neutron-ovn-tempest-slow |tempest slow tests | 3.6 | 2 | ovn | ovn | --- | False | False | True | No | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+,4,4
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ia061f72705c50df843e6d77ebe4e7d2962adba24,openstack/ovn-octavia-provider,stable/wallaby,Ia061f72705c50df843e6d77ebe4e7d2962adba24,Fix new pylint issues,MERGED,2021-07-26 14:05:00.000000000,2021-07-27 01:38:23.000000000,2021-07-27 01:36:02.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-26 14:05:00.000000000', 'files': ['.pylintrc'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5469b7e9a979056884f078ea7dc96271da5d2910', 'message': 'Fix new pylint issues\n\nDisable new checker from pylint 2.9.0: arguments-renamed\n\nChange-Id: Ia061f72705c50df843e6d77ebe4e7d2962adba24\n(cherry picked from commit 6bde6cb70f0dadea7c2aa19e322f348fb91581b8)\n'}]",0,802213,5469b7e9a979056884f078ea7dc96271da5d2910,19,3,1,1131,,,0,"Fix new pylint issues

Disable new checker from pylint 2.9.0: arguments-renamed

Change-Id: Ia061f72705c50df843e6d77ebe4e7d2962adba24
(cherry picked from commit 6bde6cb70f0dadea7c2aa19e322f348fb91581b8)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/13/802213/1 && git format-patch -1 --stdout FETCH_HEAD,['.pylintrc'],1,5469b7e9a979056884f078ea7dc96271da5d2910,," useless-object-inheritance, arguments-renamed", useless-object-inheritance,2,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I52e43f264a03775b6d609444f8da1a36d9565281,openstack/tripleo-heat-templates,stable/wallaby,I52e43f264a03775b6d609444f8da1a36d9565281,Role parameter for tripleo_kernel_defer_reboot,MERGED,2021-07-24 14:16:22.000000000,2021-07-27 01:00:07.000000000,2021-07-27 00:58:44.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-24 14:16:22.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/add-parameter-kernelargsdeferreboot-5b8e8b2f64c64a91.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9c84bda866d204ad79e447a3061373787f7f8c6', 'message': 'Role parameter for tripleo_kernel_defer_reboot\n\nTo help operators protect their workload, they can now enable the\nKernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel\nansible module from automatically rebooting nodes even if KernelArgs\nwere changed unexpectedly.\n\nChange-Id: I52e43f264a03775b6d609444f8da1a36d9565281\n(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)\n'}]",0,801894,e9c84bda866d204ad79e447a3061373787f7f8c6,9,7,1,27419,,,0,"Role parameter for tripleo_kernel_defer_reboot

To help operators protect their workload, they can now enable the
KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel
ansible module from automatically rebooting nodes even if KernelArgs
were changed unexpectedly.

Change-Id: I52e43f264a03775b6d609444f8da1a36d9565281
(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/801894/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/add-parameter-kernelargsdeferreboot-5b8e8b2f64c64a91.yaml']",2,e9c84bda866d204ad79e447a3061373787f7f8c6,,"--- features: - | To help operators protect their workload, they can now enable the KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel ansible module from automatically rebooting nodes even if KernelArgs were changed unexpectedly. ",,23,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I52e43f264a03775b6d609444f8da1a36d9565281,openstack/tripleo-heat-templates,stable/victoria,I52e43f264a03775b6d609444f8da1a36d9565281,Role parameter for tripleo_kernel_defer_reboot,MERGED,2021-07-24 14:16:34.000000000,2021-07-27 01:00:06.000000000,2021-07-27 00:58:47.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-24 14:16:34.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/add-parameter-kernelargsdeferreboot-5b8e8b2f64c64a91.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/914d89fc10b8ea2e9ae60452987f3bded313e7d3', 'message': 'Role parameter for tripleo_kernel_defer_reboot\n\nTo help operators protect their workload, they can now enable the\nKernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel\nansible module from automatically rebooting nodes even if KernelArgs\nwere changed unexpectedly.\n\nChange-Id: I52e43f264a03775b6d609444f8da1a36d9565281\n(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)\n(cherry picked from commit e9c84bda866d204ad79e447a3061373787f7f8c6)\n'}]",0,801895,914d89fc10b8ea2e9ae60452987f3bded313e7d3,9,7,1,27419,,,0,"Role parameter for tripleo_kernel_defer_reboot

To help operators protect their workload, they can now enable the
KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel
ansible module from automatically rebooting nodes even if KernelArgs
were changed unexpectedly.

Change-Id: I52e43f264a03775b6d609444f8da1a36d9565281
(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)
(cherry picked from commit e9c84bda866d204ad79e447a3061373787f7f8c6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/801895/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/add-parameter-kernelargsdeferreboot-5b8e8b2f64c64a91.yaml']",2,914d89fc10b8ea2e9ae60452987f3bded313e7d3,,"--- features: - | To help operators protect their workload, they can now enable the KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel ansible module from automatically rebooting nodes even if KernelArgs were changed unexpectedly. ",,23,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia0898c022604040a87b027f35a5878086ff80b50,openstack/tripleo-ansible,stable/wallaby,Ia0898c022604040a87b027f35a5878086ff80b50,Remove the usage of ansible_date_time,MERGED,2021-07-23 10:28:27.000000000,2021-07-27 00:58:42.000000000,2021-07-27 00:58:42.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-23 10:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e0d906c94e431cd202a9f3ba35fdd58737d7535', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n'}, {'number': 2, 'created': '2021-07-23 10:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5eac011b2c3ae20e4a84f18809ff917618396ced', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\nNot a clean cherry-pick due to the fact that the original, non-working\nfix[3] was not cherry-picked.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n[3] https://review.opendev.org/c/openstack/tripleo-ansible/+/795330\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n'}, {'number': 3, 'created': '2021-07-26 07:59:29.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\nNot a clean cherry-pick due to the fact that the original, non-working\nfix[3] was not cherry-picked.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n[3] https://review.opendev.org/c/openstack/tripleo-ansible/+/795330\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n'}]",0,801883,86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e,12,7,3,32968,,,0,"Remove the usage of ansible_date_time

As this playbook is mainly intended to be used from the openstack CLI,
whose ansible runner has purposely disabled inject_facts_as_vars[1],
along with the default usage of the ""smart"" gathering_policy that does
not updates the facts on every run (which destroys the purpose of
attaching timestamps to files to get keep different files from different
runs), it seems better to re-introduce the previous way of implementing
dynamic (timestamped based) names[2]

This way uses the ""date"" OS command to obtain always a different
timestamp without mandating a new gather_facts every execution nor
having to use facts not injected as vars.

Not a clean cherry-pick due to the fact that the original, non-working
fix[3] was not cherry-picked.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37
[2]
https://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43
[3] https://review.opendev.org/c/openstack/tripleo-ansible/+/795330

Change-Id: Ia0898c022604040a87b027f35a5878086ff80b50
(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/801883/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,4e0d906c94e431cd202a9f3ba35fdd58737d7535,change-801883-2,"<<<<<<< HEAD (51fa28 Merge ""Force ansible-lint to check just this repository"" int) ======= # Date argument to get the string of the backup tripleo_backup_and_restore_date_argument: '%Y%m%d%H%M' # Enable historical backups tripleo_backup_and_restore_historical: true >>>>>>> CHANGE (be78f7 Remove the usage of ansible_date_time)",,49,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~If8356998818a8e0adc3c81f1fa10cb2f18a9a59f,openstack/puppet-tripleo,stable/wallaby,If8356998818a8e0adc3c81f1fa10cb2f18a9a59f,"nova_virtlogd_wrapper: trap ""created"" containers",MERGED,2021-07-24 13:53:24.000000000,2021-07-27 00:58:41.000000000,2021-07-27 00:58:41.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-24 13:53:24.000000000', 'files': ['templates/nova/virtlogd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef5c2d34d83ff44dd8326a17d4e982773e7b3f4e', 'message': 'nova_virtlogd_wrapper: trap ""created"" containers\n\nWhen an host shutdown isn\'t graceful, virtlogd container is orphaned but\nin state ""Created"" (shown as ""configured"" in podman inspect). This\nprevents the recreation of new virtlogd container by the wrapper.\n\nChange-Id: If8356998818a8e0adc3c81f1fa10cb2f18a9a59f\n(cherry picked from commit 4c3b1ef276f544fd9f1ec7e0d516a0eeb2506178)\n'}]",0,801893,ef5c2d34d83ff44dd8326a17d4e982773e7b3f4e,9,6,1,27419,,,0,"nova_virtlogd_wrapper: trap ""created"" containers

When an host shutdown isn't graceful, virtlogd container is orphaned but
in state ""Created"" (shown as ""configured"" in podman inspect). This
prevents the recreation of new virtlogd container by the wrapper.

Change-Id: If8356998818a8e0adc3c81f1fa10cb2f18a9a59f
(cherry picked from commit 4c3b1ef276f544fd9f1ec7e0d516a0eeb2506178)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/93/801893/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova/virtlogd.epp'],1,ef5c2d34d83ff44dd8326a17d4e982773e7b3f4e,, Exited| exited| EXITED| Created| created| CREATED), Exited| exited| EXITED),1,1
openstack%2Fansible-role-tripleo-modify-image~master~Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a,openstack/ansible-role-tripleo-modify-image,master,Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a,Extract updated rpms from buildah images,MERGED,2021-05-26 20:12:34.000000000,2021-07-27 00:58:40.000000000,2021-07-27 00:58:40.000000000,"[{'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-26 20:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/d6373cf710228b0d8b755d2e0fabfda80872d424', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 2, 'created': '2021-05-26 20:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/6e793f2eb41c1adde51c001e1fdbeba94aba1e89', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 3, 'created': '2021-05-27 14:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/e18837ff9b95b806bd7237ff674fffd0cb2a5588', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 4, 'created': '2021-05-27 15:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/802996c4df1e6b9d57ee13dcdc6ccc0c0b7f63e8', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 5, 'created': '2021-05-27 16:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/05b5378af0412392de734dfde13b28119c940d99', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 6, 'created': '2021-05-27 18:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/fcea4bc9c10c38886c83a99b6a71fd03dc08713b', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 7, 'created': '2021-05-27 19:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/58683a79b4532354abe1d24743e794eb417428db', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 8, 'created': '2021-05-27 20:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/7949d497af3f0cf53e1b5703b275911784729f73', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 9, 'created': '2021-05-27 21:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/a6520b3280bd35549797acdb8c0fc8a022af7ecf', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 10, 'created': '2021-05-27 22:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/aaca7ca85c7466a70d2838ac89099935203e8a29', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 11, 'created': '2021-05-28 03:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/9ee9d486b4440ddb4552235d295cbfd5b269c9ad', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 12, 'created': '2021-05-28 22:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/a4a7e9875d03601a1ee7d055d12d5ac1834f6cca', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 13, 'created': '2021-05-31 00:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/255405c1878bff3cdab4318af1172f9c4c3f659a', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 14, 'created': '2021-05-31 02:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/eba0f66a7206bbd8317d3ccadf499eaeef622cd2', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 15, 'created': '2021-05-31 03:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/962f7ed743278721d05fb1302f81364ffe92eb71', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 16, 'created': '2021-05-31 12:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/720ca6e811b557178fdef87c6338f6d91cfb9249', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 17, 'created': '2021-05-31 13:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/524c1da857ec20b00e0a41cdb7fc4030f8bebee5', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 18, 'created': '2021-05-31 15:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/4224f2751fdec4e14c6cee41195c75d5a3bb8aec', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 19, 'created': '2021-05-31 18:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/a023419ec4d576e34099b8be7213faab8bad73ae', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 20, 'created': '2021-05-31 21:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/f219bbd718ad8e5097d7b521cfb567f5b5d6c286', 'message': 'DNM: Testing  repo update\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 21, 'created': '2021-05-31 23:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/0e27983908e802538f022a23b933fda24b3c4751', 'message': 'WIP: Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 22, 'created': '2021-06-01 01:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/c9651ac72785977b68bf99d5de52069eab767a67', 'message': 'WIP: Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 23, 'created': '2021-06-01 11:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/a2aa61201817fe34ce10aa7f2f25c4d6d26efbd0', 'message': 'WIP: Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 24, 'created': '2021-06-01 12:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/cb29fcb7e1fa2389cb17a318ecc44ec1bec298c9', 'message': 'WIP: Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 25, 'created': '2021-06-01 15:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/fa4887a813040a0fad524bd49ed682975bd4ebc7', 'message': 'Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 26, 'created': '2021-06-01 17:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/c278035019c22671b7b38aa4ebd43a07bad0ff87', 'message': 'Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 27, 'created': '2021-06-25 19:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/70a3c26178ce4d4f24bf4ebaaf34e7806f7c57f9', 'message': 'Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 28, 'created': '2021-06-25 21:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/03078bf9cd20f45cbfd3c4a00bac01225ce90d68', 'message': 'Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 29, 'created': '2021-06-25 21:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/cb9292e98fb155b1cd7d599d0e171aa4e586a37f', 'message': 'Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 30, 'created': '2021-07-14 14:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/2ab1214aaa06c35d4a8319e9fc5efd0ac1e80dc7', 'message': 'Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review mounts the updated images, checks\nthe installed rpms and greps for the repos\nwhere the updated rpms are sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 31, 'created': '2021-07-14 19:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/a6b8c3bac0599767487eef25903cb75397a0eae0', 'message': 'Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review creates a logging file that lists\nwhich containers have the updated rpms\ninstalled.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}, {'number': 32, 'created': '2021-07-22 02:14:58.000000000', 'files': ['tasks/yum_update_buildah.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/e4c84adc36e4aadee6188778d616a39e7d9bb8f5', 'message': 'Extract updated rpms from buildah images\n\nWhen a gating, component or delorean current repo\nis present, containers should be updated with\nthe latest rpms.\n\nThis review checks the installed rpms and\ngreps for the repos where the updated rpms\nare sourced.\n\nChange-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a\n'}]",18,793234,e4c84adc36e4aadee6188778d616a39e7d9bb8f5,95,6,32,9976,,,0,"Extract updated rpms from buildah images

When a gating, component or delorean current repo
is present, containers should be updated with
the latest rpms.

This review checks the installed rpms and
greps for the repos where the updated rpms
are sourced.

Change-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/34/793234/32 && git format-patch -1 --stdout FETCH_HEAD,['tasks/yum_update_buildah.yml'],1,d6373cf710228b0d8b755d2e0fabfda80872d424,log-update-repo,"- name: Create the repo list set_fact: repo_list: ""{{ update_repo.split(',')|replace(' ', '') }}"" - name: Capture the update repos and installed rpms shell: > podman exec -u root {{ from_image }} bash -c ""\$(command -v dnf || command -v yum) list installed"" & > ""{{ working_dir }}/{{ from_image }}_info.log""; touch ""{{ working_dir }}/{{ from_image }}_update_output.log"" {% for repo in update_repo.split(',') %} cat ""{{ working_dir }}/{{ from_image }}_info.log"" | grep ""@{{ repo|replace(' ', '') }}"" >> ""{{ working_dir }}/{{ from_image }}_update_output.log"" {% endfor %} ",,12,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic2e54e537b50cb92b1650e78f1af61703e877763,openstack/tripleo-ansible,stable/wallaby,Ic2e54e537b50cb92b1650e78f1af61703e877763,Improve the config-key settings when Ceph is deployed,MERGED,2021-07-25 07:40:08.000000000,2021-07-27 00:58:38.000000000,2021-07-27 00:58:38.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-25 07:40:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba820c78e29e7a99cbdc6a5e525f192f368ec18c', 'message': 'Improve the config-key settings when Ceph is deployed\n\nThe purpose of this patch is having the ability to have a general\nset of tasks where the mgr (and global) config key are set.\nFor development and debug purposes the tripleo_cephadm_debug\nparameter is added, and can be used to have a more verbose output\nfrom the orchestrator.\n\nChange-Id: Ic2e54e537b50cb92b1650e78f1af61703e877763\n(cherry picked from commit 797054d0fe78ac26d1fbe2a5016cbe623ab4377e)\n'}]",0,802198,ba820c78e29e7a99cbdc6a5e525f192f368ec18c,7,6,1,25402,,,0,"Improve the config-key settings when Ceph is deployed

The purpose of this patch is having the ability to have a general
set of tasks where the mgr (and global) config key are set.
For development and debug purposes the tripleo_cephadm_debug
parameter is added, and can be used to have a more verbose output
from the orchestrator.

Change-Id: Ic2e54e537b50cb92b1650e78f1af61703e877763
(cherry picked from commit 797054d0fe78ac26d1fbe2a5016cbe623ab4377e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/802198/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml']",3,ba820c78e29e7a99cbdc6a5e525f192f368ec18c,cephadm_debug_mode-stable/wallaby, include_tasks: cephadm_config_set.yaml, include_tasks: config_container_images.yaml,9,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I400db08b832ef4e99eefeb934a6a92ec23c92289,openstack/tripleo-heat-templates,stable/victoria,I400db08b832ef4e99eefeb934a6a92ec23c92289,ScaleIO: Fix outdate template path,MERGED,2021-04-24 02:11:55.000000000,2021-07-27 00:58:36.000000000,2021-07-27 00:58:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-24 02:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4fd375543c16f0e7d196df3d7bf8694a9038625', 'message': 'ScaleIO: Fix outdate template path\n\nThis change fixes one outdated template path left when Scale IO\ntemplates were deprecated[1].\n\n[1] 5e4f319edca2d9ee567c94794a47d6516ea1db26\n\nChange-Id: I400db08b832ef4e99eefeb934a6a92ec23c92289\n(cherry picked from commit 99eb1671ae766d4a6f6d9a4be728059d0a77589d)\n'}, {'number': 2, 'created': '2021-07-24 10:38:08.000000000', 'files': ['environments/cinder-scaleio-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ee888b3b382b47af011afd963e2d341135932de', 'message': 'ScaleIO: Fix outdate template path\n\nThis change fixes one outdated template path left when Scale IO\ntemplates were deprecated[1].\n\n[1] 5e4f319edca2d9ee567c94794a47d6516ea1db26\n\nChange-Id: I400db08b832ef4e99eefeb934a6a92ec23c92289\n(cherry picked from commit 99eb1671ae766d4a6f6d9a4be728059d0a77589d)\n'}]",0,787836,7ee888b3b382b47af011afd963e2d341135932de,14,3,2,9816,,,0,"ScaleIO: Fix outdate template path

This change fixes one outdated template path left when Scale IO
templates were deprecated[1].

[1] 5e4f319edca2d9ee567c94794a47d6516ea1db26

Change-Id: I400db08b832ef4e99eefeb934a6a92ec23c92289
(cherry picked from commit 99eb1671ae766d4a6f6d9a4be728059d0a77589d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/787836/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/cinder-scaleio-config.yaml'],1,a4fd375543c16f0e7d196df3d7bf8694a9038625,scaleio-wring-path-stable/victoria, OS::TripleO::Services::CinderBackendScaleIO: ../deployment/deprecated/cinder/cinder-backend-scaleio-puppet.yaml, OS::TripleO::Services::CinderBackendScaleIO: ../deployment/cinder/cinder-backend-scaleio-puppet.yaml,1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I514b5a3d4133d3561376ea06a803d019acaa0f0b,openstack/tripleo-heat-templates,stable/victoria,I514b5a3d4133d3561376ea06a803d019acaa0f0b,Fix logic to honor HorizonDebug,MERGED,2021-01-27 11:59:23.000000000,2021-07-27 00:42:51.000000000,2021-07-27 00:42:51.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 11:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2db49754d3b6251367a2477c040dc5d64f61919a', 'message': 'Fix logic to honor HorizonDebug\n\nDebug always has one of true/false and is always set. We should check\nwhether HorizonDebug is set instead of whether Debug is set.\n\nAlso, this change fixes the current logic to make sure that\nHorizonDebug: false is honored even when Debug: true is set.\n\nCloses-Bug: #1908362\nChange-Id: I514b5a3d4133d3561376ea06a803d019acaa0f0b\n(cherry picked from commit f89140402ef211f92309646c2d935d5b9e593f99)\n'}, {'number': 2, 'created': '2021-02-17 13:18:15.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb7d59c65a1c0feacfa4b05904dfe3f4ca287cdf', 'message': 'Fix logic to honor HorizonDebug\n\nDebug always has one of true/false and is always set. We should check\nwhether HorizonDebug is set instead of whether Debug is set.\n\nAlso, this change fixes the current logic to make sure that\nHorizonDebug: false is honored even when Debug: true is set.\n\nCloses-Bug: #1908362\nChange-Id: I514b5a3d4133d3561376ea06a803d019acaa0f0b\n(cherry picked from commit f89140402ef211f92309646c2d935d5b9e593f99)\n'}]",0,772658,bb7d59c65a1c0feacfa4b05904dfe3f4ca287cdf,17,4,2,9816,,,0,"Fix logic to honor HorizonDebug

Debug always has one of true/false and is always set. We should check
whether HorizonDebug is set instead of whether Debug is set.

Also, this change fixes the current logic to make sure that
HorizonDebug: false is honored even when Debug: true is set.

Closes-Bug: #1908362
Change-Id: I514b5a3d4133d3561376ea06a803d019acaa0f0b
(cherry picked from commit f89140402ef211f92309646c2d935d5b9e593f99)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/772658/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,2db49754d3b6251367a2477c040dc5d64f61919a,bug/1908362," default: '' service_debug_unset: {equals : [{get_param: HorizonDebug}, '']} - and: - service_debug_unset - get_param: Debug - and: - not: service_debug_unset - yaql: expression: $.data.horizon_debug.matches(""true|True|TRUE"") data: horizon_debug: get_param: HorizonDebug - service_debug_unset - horizon::django_debug: { get_param: HorizonDebug }"," default: false debug_unset: {equals : [{get_param: Debug}, '']} - yaql: expression: $.data.horizon_debug.matches(""true|True|TRUE"") data: horizon_debug: get_param: HorizonDebug - get_param: Debug - debug_unset - horizon::django_debug: { get_param: HorizonDebug }",14,10
openstack%2Ftripleo-quickstart~master~I8756800c26649e1dffb1aa367c9ad07422927692,openstack/tripleo-quickstart,master,I8756800c26649e1dffb1aa367c9ad07422927692,Switch default registry to quay.io,MERGED,2021-07-23 19:07:57.000000000,2021-07-27 00:39:44.000000000,2021-07-27 00:38:24.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-07-23 19:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/29f28f7eb53407700519ee86d8239ecb75b3e3f2', 'message': ""Switch default registry to quay.io\n\nIf you don't build the containers, it's using docker.io by default even\nthough we've switched to quay.io a while back.\n\nChange-Id: I8756800c26649e1dffb1aa367c9ad07422927692\n""}, {'number': 2, 'created': '2021-07-23 19:11:54.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/trunk/train.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/trunk/victoria.yml', 'config/release/trunk/wallaby.yml', 'config/release/trunk/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dab5d693607fbe2f9a0ed0bc45993acdb47f7a2b', 'message': ""Switch default registry to quay.io\n\nIf you don't build the containers, it's using docker.io by default even\nthough we've switched to quay.io a while back.\n\nChange-Id: I8756800c26649e1dffb1aa367c9ad07422927692\n""}]",0,802100,dab5d693607fbe2f9a0ed0bc45993acdb47f7a2b,17,8,2,14985,,,0,"Switch default registry to quay.io

If you don't build the containers, it's using docker.io by default even
though we've switched to quay.io a while back.

Change-Id: I8756800c26649e1dffb1aa367c9ad07422927692
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/00/802100/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/trunk/train.yml', 'config/release/trunk/master.yml', 'config/release/trunk/victoria.yml', 'config/release/trunk/wallaby.yml', 'config/release/trunk/ussuri.yml']",5,29f28f7eb53407700519ee86d8239ecb75b3e3f2,, quay.io, docker.io,5,5
openstack%2Ftempest~master~I6a89824e9b2d1b2387e35e55056ad251df3e8633,openstack/tempest,master,I6a89824e9b2d1b2387e35e55056ad251df3e8633,Add test to verify FQDN hostname sanitization,MERGED,2021-06-09 20:50:51.000000000,2021-07-27 00:33:02.000000000,2021-07-27 00:31:37.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27478}, {'_account_id': 31033}, {'_account_id': 31324}]","[{'number': 1, 'created': '2021-06-09 20:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/affa83b2b992864fbc7117d139e2c8cee5411206', 'message': 'Add test to verify FQDN hostname sanitization\n\nThis scenario has impacted field engineers trying to spin up\ninstances with names containing freeform characters alongside\nopenstack-designate service for neutron.\n\nAlso, adding a config feature flag to enable/disable the test.\n\nRelates to https://bugs.launchpad.net/nova/+bug/1581977 and\ngerrit https://review.opendev.org/c/openstack/nova/+/764482/\n\nChange-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633\n'}, {'number': 2, 'created': '2021-06-30 16:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/273a67c1f57c10a5997b555f2b545f5b29bdbfcd', 'message': 'Add test to verify FQDN hostname sanitization\n\nThis scenario has impacted field engineers trying to spin up\ninstances with names containing freeform characters alongside\nopenstack-designate service for neutron.\n\nAlso, adding a config feature flag to enable/disable the test.\n\nRelates to https://bugs.launchpad.net/nova/+bug/1581977 and\ngerrit https://review.opendev.org/c/openstack/nova/+/764482/\n\nChange-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633\n'}, {'number': 3, 'created': '2021-07-19 17:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/549500f36a0d80491114ca4414a69341ab4c62e5', 'message': 'Add test to verify FQDN hostname sanitization\n\nThis scenario has impacted field engineers trying to spin up\ninstances with names containing freeform characters alongside\nopenstack-designate service for neutron.\n\nAlso, adding a config feature flag to enable/disable the test.\n\nRelates to https://bugs.launchpad.net/nova/+bug/1581977 and\ngerrit https://review.opendev.org/c/openstack/nova/+/764482/\n\nDevstack gate test:\nhttps://review.opendev.org/c/openstack/devstack/+/801356\n\nChange-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633\n'}, {'number': 4, 'created': '2021-07-19 17:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f3375e7ebfdfa3e96cb678eaa4f1cc0ebb17362d', 'message': 'Add test to verify FQDN hostname sanitization\n\nThis scenario has impacted field engineers trying to spin up\ninstances with names containing freeform characters alongside\nopenstack-designate service for neutron.\n\nAlso, adding a config feature flag to enable/disable the test.\n\nRelates to https://bugs.launchpad.net/nova/+bug/1581977 and\ngerrit https://review.opendev.org/c/openstack/nova/+/764482/\n\nDevstack gate test:\n[Master] https://review.opendev.org/c/openstack/devstack/+/801366\n[Wallaby] https://review.opendev.org/c/openstack/devstack/+/801356\n\nChange-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633\n'}, {'number': 5, 'created': '2021-07-22 02:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bed6753faf0ff89e228cb5dd598f6a246aacfd38', 'message': 'Add test to verify FQDN hostname sanitization\n\nThis scenario has impacted field engineers trying to spin up\ninstances with names containing freeform characters alongside\nopenstack-designate service for neutron.\n\nAlso, adding a config feature flag to enable/disable the test.\n\nThe get_class_validation_resources wrapper can only manage\none instance of class level validation resources that is used\nby all tests defined in the parent class. However, this testcase\nrequires a custom server name of FQDN type be defined and managed\nfor the test to be verified successfully. Hence, placing it in a\nseparate class to prevent base class tests from failing.\n\nRelates to https://bugs.launchpad.net/nova/+bug/1581977 and\ngerrit https://review.opendev.org/c/openstack/nova/+/764482/\n\nDevstack gate test:\n[Master] https://review.opendev.org/c/openstack/devstack/+/801366\n\nChange-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633\n'}, {'number': 6, 'created': '2021-07-22 15:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/34f442c822c5562459b9c031eb8f044ddaab9e55', 'message': 'Add test to verify FQDN hostname sanitization\n\nThis scenario has impacted field engineers trying to spin up\ninstances with names containing freeform characters alongside\nopenstack-designate service for neutron.\n\nAlso, adding a config feature flag to enable/disable the test.\n\nThe get_class_validation_resources wrapper can only manage\none instance of class level validation resources that is used\nby all tests defined in the parent class. However, this testcase\nrequires a custom server name of FQDN type be defined and managed\nfor the test to be verified successfully. Hence, placing it in a\nseparate class to prevent base class tests from failing.\n\nRelates to https://bugs.launchpad.net/nova/+bug/1581977 and\ngerrit https://review.opendev.org/c/openstack/nova/+/764482/\n\nDevstack gate test:\n[Master] https://review.opendev.org/c/openstack/devstack/+/801366\n\nChange-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633\n'}, {'number': 7, 'created': '2021-07-22 19:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/98039036d0eec865c372cc2346f38f68fa66a33f', 'message': 'Add test to verify FQDN hostname sanitization\n\nThis scenario has impacted field engineers trying to spin up\ninstances with names containing freeform characters alongside\nopenstack-designate service for neutron.\n\nAlso, adding a config feature flag to enable/disable the test.\n\nThe get_class_validation_resources wrapper can only manage\none instance of class level validation resources that is used\nby all tests defined in the parent class. However, this testcase\nrequires a custom server name of FQDN type be defined and managed\nfor the test to be verified successfully. Hence, placing it in a\nseparate class to prevent base class tests from failing.\n\nRelates to https://bugs.launchpad.net/nova/+bug/1581977 and\ngerrit https://review.opendev.org/c/openstack/nova/+/764482/\n\nDevstack gate test:\n[Master] https://review.opendev.org/c/openstack/devstack/+/801366\n\nChange-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633\n'}, {'number': 8, 'created': '2021-07-23 21:14:55.000000000', 'files': ['tempest/api/compute/servers/test_create_server.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/deff57e2ba9df01a9cb26267a60cd86a5dc9769b', 'message': 'Add test to verify FQDN hostname sanitization\n\nThis scenario has impacted field engineers trying to spin up\ninstances with names containing freeform characters alongside\nopenstack-designate service for neutron.\n\nAlso, adding a config feature flag to enable/disable the test.\n\nThe get_class_validation_resources wrapper can only manage\none instance of class level validation resources that is used\nby all tests defined in the parent class. However, this testcase\nrequires a custom server name of FQDN type be defined and managed\nfor the test to be verified successfully. Hence, placing it in a\nseparate class to prevent base class tests from failing.\n\nRelates to https://bugs.launchpad.net/nova/+bug/1581977 and\ngerrit https://review.opendev.org/c/openstack/nova/+/764482/\n\nDevstack gate test:\n[Master] https://review.opendev.org/c/openstack/devstack/+/801366\n\nChange-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633\n'}]",227,795699,deff57e2ba9df01a9cb26267a60cd86a5dc9769b,45,6,8,33602,,,0,"Add test to verify FQDN hostname sanitization

This scenario has impacted field engineers trying to spin up
instances with names containing freeform characters alongside
openstack-designate service for neutron.

Also, adding a config feature flag to enable/disable the test.

The get_class_validation_resources wrapper can only manage
one instance of class level validation resources that is used
by all tests defined in the parent class. However, this testcase
requires a custom server name of FQDN type be defined and managed
for the test to be verified successfully. Hence, placing it in a
separate class to prevent base class tests from failing.

Relates to https://bugs.launchpad.net/nova/+bug/1581977 and
gerrit https://review.opendev.org/c/openstack/nova/+/764482/

Devstack gate test:
[Master] https://review.opendev.org/c/openstack/devstack/+/801366

Change-Id: I6a89824e9b2d1b2387e35e55056ad251df3e8633
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/795699/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_create_server.py', 'tempest/config.py']",2,affa83b2b992864fbc7117d139e2c8cee5411206,compute-server-fqdn-test," cfg.BoolOpt('hostname_fqdn_sanitization', default=False, help=""If false, skip fqdn instance sanitization tests""),",,33,0
openstack%2Fdevstack~master~I5d0749def534b4a97f71ab5534c69ca49a342c2b,openstack/devstack,master,I5d0749def534b4a97f71ab5534c69ca49a342c2b,[clouds.yaml] Set API_VERSION vars via the env,ABANDONED,2021-07-24 02:00:00.000000000,2021-07-27 00:27:08.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-24 02:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a9de5e8b7fb94538b475707cd32801678843ed41', 'message': ""[clouds.yaml] Set API_VERSION vars via the env\n\nIt's useful for CI jobs if we can allow configuring\nAPI versions into the clouds.yaml profiles for\nvarious API services via environment variables.\n\nChange-Id: I5d0749def534b4a97f71ab5534c69ca49a342c2b\n""}, {'number': 2, 'created': '2021-07-24 02:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cd872d2afc0dc4022d0ad4369e31cf402dd400ab', 'message': ""[clouds.yaml] Set API_VERSION vars via the env\n\nIt's useful for CI jobs if we can allow configuring\nAPI versions into the clouds.yaml profiles for\nvarious API services via environment variables.\n\nChange-Id: I5d0749def534b4a97f71ab5534c69ca49a342c2b\n""}, {'number': 3, 'created': '2021-07-26 16:14:37.000000000', 'files': ['tools/update_clouds_yaml.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6c24e61f0b8c6e3b9eb18f5fc957c67fe3e0e1a2', 'message': ""[clouds.yaml] Set API_VERSION vars via the env\n\nIt's useful for CI jobs if we can allow configuring\nAPI versions into the clouds.yaml profiles for\nvarious API services via environment variables.\n\nChange-Id: I5d0749def534b4a97f71ab5534c69ca49a342c2b\n""}]",0,802137,6c24e61f0b8c6e3b9eb18f5fc957c67fe3e0e1a2,8,2,3,16643,,,0,"[clouds.yaml] Set API_VERSION vars via the env

It's useful for CI jobs if we can allow configuring
API versions into the clouds.yaml profiles for
various API services via environment variables.

Change-Id: I5d0749def534b4a97f71ab5534c69ca49a342c2b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/802137/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/update_clouds_yaml.py'],1,a9de5e8b7fb94538b475707cd32801678843ed41,clouds.yaml,"import os import re # Add any API version args from the environment api_version_var_pattern = re.compile(r'OS_.*_API_VERSION') for env_key, env_val in os.environ.items(): if api_version_var_pattern.match(env_key): self._cloud_data[env_key.replace('OS_', '').lower()] = env_val parser.add_argument('--os-identity-api-version', default='3', help='Can also be overridden with env ' 'variable OS_IDENTITY_API_VERSION') parser.add_argument('--os-volume-api-version', default='3', help='Can also be overridden with env variable' 'OS_VOLUME_API_VERSION')","import os.path parser.add_argument('--os-identity-api-version', default='3') parser.add_argument('--os-volume-api-version', default='3')",16,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I1efecdcd7afa6af3e6b4b26f4435198836db535f,openstack/tripleo-heat-templates,stable/ussuri,I1efecdcd7afa6af3e6b4b26f4435198836db535f,Add THT Jinja2 data sources as stack output,MERGED,2021-07-01 12:12:08.000000000,2021-07-27 00:16:52.000000000,2021-07-27 00:16:52.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-01 12:12:08.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba38ee283be0eab340c83ffa3e91196264d225df', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nNOTE: The idea is to backport this to the release intended\nas the upgrade from release, so that the follow on change\nIcc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during\nupgrade.\n\nConflicts:\n  overcloud.j2.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n(cherry picked from commit 0b5b914e312c25a956b412c0702064b65fafdab6)\n""}]",0,799059,ba38ee283be0eab340c83ffa3e91196264d225df,26,5,1,24245,,,0,"Add THT Jinja2 data sources as stack output

This simply stores the data structure in the network_data
and roles_data YAML files provided with the -n and -r
options when deploying the overcloud.

This can be generally useful for troubleshooting.

Also the 'overcloud node extract provision' command rely
on the roles data source. Storing it in the stack means
we can get to the data in case the user missplaced the
file originally used, or in the case where we want to
automate the process for all deployed stacks.

NOTE: The idea is to backport this to the release intended
as the upgrade from release, so that the follow on change
Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during
upgrade.

Conflicts:
  overcloud.j2.yaml

Related: blueprint network-data-v2-ports
Change-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f
(cherry picked from commit 0b5b914e312c25a956b412c0702064b65fafdab6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/799059/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,ba38ee283be0eab340c83ffa3e91196264d225df,network-data-v2-backports, TripleoHeatTemplatesJinja2RenderingDataSources: description: The role_data and the network_data used when rendering the THT Jinja2 templates value: roles_data: {{ roles }} networks_data: {{ networks }},,5,0
openstack%2Ftrove~master~I92e74d80d6df1460bb39df77e4135856479bc188,openstack/trove,master,I92e74d80d6df1460bb39df77e4135856479bc188,Replace deprecated import of ABCs from collections,ABANDONED,2021-07-27 00:01:28.000000000,2021-07-27 00:05:27.000000000,,[],"[{'number': 1, 'created': '2021-07-27 00:01:28.000000000', 'files': ['trove/guestagent/common/guestagent_utils.py', 'trove/common/utils.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/96e9abd76de0ffe3a73ab0d548f83554b72a47af', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nChange-Id: I92e74d80d6df1460bb39df77e4135856479bc188\n'}]",0,802407,96e9abd76de0ffe3a73ab0d548f83554b72a47af,2,0,1,9816,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Change-Id: I92e74d80d6df1460bb39df77e4135856479bc188
",git fetch https://review.opendev.org/openstack/trove refs/changes/07/802407/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/common/guestagent_utils.py', 'trove/common/utils.py']",2,96e9abd76de0ffe3a73ab0d548f83554b72a47af,collections-abc,"from collections import abc return (isinstance(item, abc.Iterable) and","import collections return (isinstance(item, collections.Iterable) and",5,5
openstack%2Ftripleo-heat-templates~master~I50cf3b7d79d8cd139ae514438e147df73901a366,openstack/tripleo-heat-templates,master,I50cf3b7d79d8cd139ae514438e147df73901a366,Fix typo in ovn-dbs-cluster northd kolla config file,MERGED,2021-07-23 18:06:35.000000000,2021-07-27 00:01:06.000000000,2021-07-27 00:01:06.000000000,"[{'_account_id': 5756}, {'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 8655}, {'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-23 18:06:35.000000000', 'files': ['deployment/ovn/ovn-dbs-cluster-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1115698c14788555510edbe1760bbc9cc9110dff', 'message': 'Fix typo in ovn-dbs-cluster northd kolla config file\n\nThe correct variable name in tripleo-ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2\nis OVN_NORTHD_OPTS. With this change we see that the ovn_northd process\nstarts correctly with all the right parameters:\n\n    root      104187  0.0  0.0  43056  8868 ?        S    16:57   0:00\n    \\_ /usr/bin/ovn-northd --no-chdir -vconsole:emer -vsyslog:err\n    -vfile:info --pidfile=/run/openvswitch/ovn-northd.pid\n    --log-file=/var/log/openvswitch/ovn-northd.log\n    --private-key=/etc/pki/tls/private/ovn_dbs.key\n    --certificate=/etc/pki/tls/certs/ovn_dbs.crt --ca-cert=/etc/ipa/ca.crt\n    --ovnnb-db=ssl:172.17.1.132:6641,ssl:172.17.1.58:6641,ssl:172.17.1.50:6641\n    --ovnsb-db=ssl:172.17.1.132:6642,ssl:172.17.1.58:6642,ssl:172.17.1.50:6642\n\nReported-By: Jakub Libosvar <jlibosva@redhat.com>\n\nChange-Id: I50cf3b7d79d8cd139ae514438e147df73901a366\n'}]",0,802092,1115698c14788555510edbe1760bbc9cc9110dff,16,9,1,20172,,,0,"Fix typo in ovn-dbs-cluster northd kolla config file

The correct variable name in tripleo-ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2
is OVN_NORTHD_OPTS. With this change we see that the ovn_northd process
starts correctly with all the right parameters:

    root      104187  0.0  0.0  43056  8868 ?        S    16:57   0:00
    \_ /usr/bin/ovn-northd --no-chdir -vconsole:emer -vsyslog:err
    -vfile:info --pidfile=/run/openvswitch/ovn-northd.pid
    --log-file=/var/log/openvswitch/ovn-northd.log
    --private-key=/etc/pki/tls/private/ovn_dbs.key
    --certificate=/etc/pki/tls/certs/ovn_dbs.crt --ca-cert=/etc/ipa/ca.crt
    --ovnnb-db=ssl:172.17.1.132:6641,ssl:172.17.1.58:6641,ssl:172.17.1.50:6641
    --ovnsb-db=ssl:172.17.1.132:6642,ssl:172.17.1.58:6642,ssl:172.17.1.50:6642

Reported-By: Jakub Libosvar <jlibosva@redhat.com>

Change-Id: I50cf3b7d79d8cd139ae514438e147df73901a366
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/802092/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-cluster-ansible.yaml'],1,1115698c14788555510edbe1760bbc9cc9110dff,ovnnorth, command: bash -c $* -- eval source /etc/sysconfig/ovn_cluster; exec /usr/bin/ovn-northd ${OVN_NORTHD_OPTS}, command: bash -c $* -- eval source /etc/sysconfig/ovn_cluster; exec /usr/bin/ovn-northd ${ovn_cluster_northd_OPTS},1,1
openstack%2Fpuppet-ironic~stable%2Fwallaby~I38dfcb0750ba789d2b0430bbf90054d6ca0bf82c,openstack/puppet-ironic,stable/wallaby,I38dfcb0750ba789d2b0430bbf90054d6ca0bf82c,Allow using snponly.efi,ABANDONED,2021-07-21 00:59:02.000000000,2021-07-26 23:51:50.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 00:59:02.000000000', 'files': ['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/uefi-ipxe-snponly.efi-70f513d289315770.yaml', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/aa0c345bb09d3446849556b33ea99f08d5805809', 'message': 'Allow using snponly.efi\n\nThis change is a partial backport of the following two changes and\nallows usage of snponly.efi instead of ipxe.efi.\n\nClean up ipxe support\n3864e15998b5b1eec7d2b1b4911add9bb899fdb8\n\nMake ipxe bootfile name configurable\n918b3116634d1be812aa5e0359eff9119ffe87a6\n\nChange-Id: I38dfcb0750ba789d2b0430bbf90054d6ca0bf82c\n'}]",0,801551,aa0c345bb09d3446849556b33ea99f08d5805809,4,2,1,9816,,,0,"Allow using snponly.efi

This change is a partial backport of the following two changes and
allows usage of snponly.efi instead of ipxe.efi.

Clean up ipxe support
3864e15998b5b1eec7d2b1b4911add9bb899fdb8

Make ipxe bootfile name configurable
918b3116634d1be812aa5e0359eff9119ffe87a6

Change-Id: I38dfcb0750ba789d2b0430bbf90054d6ca0bf82c
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/51/801551/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/uefi-ipxe-snponly.efi-70f513d289315770.yaml', 'manifests/pxe.pp']",4,aa0c345bb09d3446849556b33ea99f08d5805809,snponly.efi,"# [*ipxe_bootfile_name*] # (optional) Name of efi file used to boot servers with iPXE + UEFI. This # should be consistent with the uefi_ipxe_bootfile_name parameter in pxe # driver. # Defaults to 'ipxe' # $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe', $ipxe_bootfile_name = 'ipxe', file { ""${tftp_root_real}/${ipxe_bootfile_name}"":"," $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe', file { ""${tftp_root_real}/ipxe.efi"":",37,10
openstack%2Frequirements~master~Ic244c8da69f1876e4cc0cdec8f3ff9280463eebf,openstack/requirements,master,Ic244c8da69f1876e4cc0cdec8f3ff9280463eebf,update constraint for python-cinderclient to new release 8.0.0,MERGED,2021-07-22 10:25:55.000000000,2021-07-26 23:19:49.000000000,2021-07-26 23:18:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 10:25:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/800b631e953d32827d6c0cc5ecb9ed657b22abe9', 'message': 'update constraint for python-cinderclient to new release 8.0.0\n\nmeta: version: 8.0.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I9086dc5a86969dad6110ba837aba49df7444e058\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ic244c8da69f1876e4cc0cdec8f3ff9280463eebf\n'}]",0,801759,800b631e953d32827d6c0cc5ecb9ed657b22abe9,22,2,1,11131,,,0,"update constraint for python-cinderclient to new release 8.0.0

meta: version: 8.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I9086dc5a86969dad6110ba837aba49df7444e058
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ic244c8da69f1876e4cc0cdec8f3ff9280463eebf
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/801759/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,800b631e953d32827d6c0cc5ecb9ed657b22abe9,new-release,python-cinderclient===8.0.0,python-cinderclient===7.4.0,1,1
openstack%2Fovsdbapp~master~I1623ead29a48eef70ce9e1efc516ef3d461d093d,openstack/ovsdbapp,master,I1623ead29a48eef70ce9e1efc516ef3d461d093d,Make exceptions in the event logs easier to read,MERGED,2021-07-26 16:44:46.000000000,2021-07-26 23:09:01.000000000,2021-07-26 23:07:46.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 16:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/c5ba89006fc077e900b6f548e6cc8bc1f76664c9', 'message': 'Make exceptions in the event logs easier to read\n\nOnly a part of an exception was thrown when an event could not be\ntriggered. With LOG.exception it is possible to read the full traceback\nof the problem now.\n\nSigned-off-by: Elvira García <egarciar@redhat.com>\nChange-Id: I1623ead29a48eef70ce9e1efc516ef3d461d093d\n'}, {'number': 2, 'created': '2021-07-26 16:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9f01395d9125871d379822f6f7faa80aa5af8b0c', 'message': 'Make exceptions in the event logs easier to read\n\nOnly a part of an exception was thrown when an event could not be\ntriggered. With LOG.exception it is possible to read the full traceback\nof the problem now.\n\nCloses-bug: #1938038\nSigned-off-by: Elvira García <egarciar@redhat.com>\nChange-Id: I1623ead29a48eef70ce9e1efc516ef3d461d093d\n'}, {'number': 3, 'created': '2021-07-26 17:12:14.000000000', 'files': ['ovsdbapp/event.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f02b1c20c062cca190d9e39bbf8612f1663bf604', 'message': 'Make exceptions in the event logs easier to read\n\nOnly a part of an exception was thrown when an event could not be\ntriggered. With LOG.exception it is possible to read the full traceback\nof the problem now.\n\nCloses-bug: #1938038\nSigned-off-by: Elvira García <egarciar@redhat.com>\nChange-Id: I1623ead29a48eef70ce9e1efc516ef3d461d093d\n'}]",0,802359,f02b1c20c062cca190d9e39bbf8612f1663bf604,11,3,3,32586,,,0,"Make exceptions in the event logs easier to read

Only a part of an exception was thrown when an event could not be
triggered. With LOG.exception it is possible to read the full traceback
of the problem now.

Closes-bug: #1938038
Signed-off-by: Elvira García <egarciar@redhat.com>
Change-Id: I1623ead29a48eef70ce9e1efc516ef3d461d093d
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/59/802359/2 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/event.py'],1,c5ba89006fc077e900b6f548e6cc8bc1f76664c9,," LOG.exception(""Event not matched due to this exception:\n"")"," # It seems reasonable to treat an Exception as a match failure # as for ROW_UPDATE events old is None and users often check # old.external_ids etc. to see if something has changed. We # definitely don't want to interupt RowEventHandler.matching_events # and miss checking other events due to an exception in this event. # To avoid spamming full Exceptions for expected behavior, just # log the initial location of the Exception. _, _, tb = sys.exc_info() LOG.debug(""Event not matched due to exception:\n%s"", traceback.format_tb(tb)[-1])",1,10
openstack%2Fironic~stable%2Fussuri~I4419254c23095929e52a0fda11789f2f5167dc6b,openstack/ironic,stable/ussuri,I4419254c23095929e52a0fda11789f2f5167dc6b,Provide a path to set explicit ipxe bootloaders,MERGED,2021-07-22 15:18:16.000000000,2021-07-26 22:54:55.000000000,2021-07-26 22:52:49.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 15:18:16.000000000', 'files': ['ironic/conf/pxe.py', 'ironic/drivers/modules/pxe_base.py', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/explicit_ipxe_config_options-d7bf9a743a13f523.yaml', 'doc/source/install/configure-pxe.rst', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef365f89b97a0fcec240a4855defcfa61e062e9a', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n(cherry picked from commit 5f7d84f483be165fde04954453e156ceefc43d28)\n""}]",0,801867,ef365f89b97a0fcec240a4855defcfa61e062e9a,13,2,1,11655,,,0,"Provide a path to set explicit ipxe bootloaders

I did something stupid when started driving forth the split of ipxe
from the pxe interface: I didn't think about the need to actually
separate bootloaders. In part, because the use case was a mixed
Power8/Power9 and x86 cluster. Mainly because the Power hardware
does not honor or care about the bootfile name provided over DHCP.
The firmware knows how to read the PXELINUX boot file format
and the machines are able to boot from there.

Where this all goes sideways is when:
* Enabled boot interfaces are set to ipxe,pxe
* No default boot interface is set
* Node is created without a default for x86 hardware.
* Node uses ipxe boot_interface, and creates files under /httpboot
* bootfile transmitted via DHCP is pxelinux.0.

Fun right?

The simple workaround for the power user is to just define the iPXE
loader, or maybe use UEFI. But that is neither here nor there, this
is still a bug and a possible use case is GRUB2 via PXE and iPXE.
Not that would really work via ipxe, but hopefully people get the
idea.

The solution kind of seems clear, duplicate configuration and
fallback if not defined.

Story: #2007003
Task: #40282
Change-Id: I4419254c23095929e52a0fda11789f2f5167dc6b
(cherry picked from commit 5f7d84f483be165fde04954453e156ceefc43d28)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/801867/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/pxe.py', 'ironic/drivers/modules/pxe_base.py', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/explicit_ipxe_config_options-d7bf9a743a13f523.yaml', 'doc/source/install/configure-pxe.rst', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",10,ef365f89b97a0fcec240a4855defcfa61e062e9a,," def _dhcp_options_for_instance(self, ip_version=4, ipxe=False): if ipxe: bootfile = 'fake-bootfile-ipxe' else: bootfile = 'fake-bootfile' 'opt_value': 'tftp://[ff80::1]/%s' % bootfile, 'opt_value': bootfile, 'opt_value': 'tftp://[ff80::1]/%s' % boot_file, 'opt_value': 'tftp://[ff80::1]/%s' % boot_file, boot_file = 'fake-bootfile-bios-ipxe' self.config(ipxe_bootfile_name=boot_file, group='pxe') boot_file = 'fake-bootfile-uefi-ipxe' self.config(uefi_ipxe_bootfile_name=boot_file, group='pxe') boot_file = 'fake-bootfile-ipxe' self.config(ipxe_bootfile_name=boot_file, group='pxe')"," def _dhcp_options_for_instance(self, ip_version=4): 'opt_value': 'tftp://[ff80::1]/fake-bootfile', 'opt_value': 'fake-bootfile', 'opt_value': 'tftp://[ff80::1]/fake-bootfile', 'opt_value': 'tftp://[ff80::1]/fake-bootfile', boot_file = 'fake-bootfile-bios' self.config(pxe_bootfile_name=boot_file, group='pxe') boot_file = 'fake-bootfile-uefi' self.config(uefi_pxe_bootfile_name=boot_file, group='pxe') boot_file = 'fake-bootfile' self.config(pxe_bootfile_name=boot_file, group='pxe')",227,53
openstack%2Ftripleo-quickstart-extras~master~I101586a16bfcc277a14cbf4d803f55c62db72c7c,openstack/tripleo-quickstart-extras,master,I101586a16bfcc277a14cbf4d803f55c62db72c7c,"Revert ""Use single task for image upload for all releases""",ABANDONED,2021-07-26 14:29:51.000000000,2021-07-26 22:24:22.000000000,,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-26 14:29:51.000000000', 'files': ['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d75e710286d771ce8ddb89e12623b6dfb436f36f', 'message': 'Revert ""Use single task for image upload for all releases""\n\nThis reverts commit 666b9292f1c4719346ee9be678d2c354e7905039.\n\nReason for revert: failing fs001 and fs035\n\nChange-Id: I101586a16bfcc277a14cbf4d803f55c62db72c7c\n'}]",0,802216,d75e710286d771ce8ddb89e12623b6dfb436f36f,8,6,1,9976,,,0,"Revert ""Use single task for image upload for all releases""

This reverts commit 666b9292f1c4719346ee9be678d2c354e7905039.

Reason for revert: failing fs001 and fs035

Change-Id: I101586a16bfcc277a14cbf4d803f55c62db72c7c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/16/802216/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'],1,d75e710286d771ce8ddb89e12623b6dfb436f36f,bug1936287-folowup," - name: Run overcloud image upload - legacy when: - release in ['queens', 'stein', 'train'] shell: > set -o pipefail && {{ working_dir }}/overcloud-image-upload.sh 2>&1 {{ timestamper_cmd }} > {{ overcloud_image_upload_log }} changed_when: true when: - release not in ['queens', 'stein', 'train'] tripleo_overcloud_image_upload_local: ""{{ undercloud_enable_nova|default(false) }}""",,12,0
openstack%2Fliberasurecode~master~I9102f9883e979862557bd33958b2d116795b3169,openstack/liberasurecode,master,I9102f9883e979862557bd33958b2d116795b3169,Fix underflow in flat_xor_hd code,MERGED,2021-06-02 06:09:05.000000000,2021-07-26 22:24:08.000000000,2021-07-26 22:24:08.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 06:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/47dcddfa8f920f1a164bba8a60b32f7e403d6be5', 'message': 'Fix underflow in flat_xor_hd code\n\nChange-Id: I9102f9883e979862557bd33958b2d116795b3169\nCloses-Bug: #1726816\n'}, {'number': 2, 'created': '2021-06-29 05:55:24.000000000', 'files': ['src/builtin/xor_codes/xor_hd_code.c'], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/a7e1ddf685af09c9ad99dc2641067a846d8c88e8', 'message': 'Fix underflow in flat_xor_hd code\n\nChange-Id: I9102f9883e979862557bd33958b2d116795b3169\nCloses-Bug: #1726816\n'}]",4,794137,a7e1ddf685af09c9ad99dc2641067a846d8c88e8,12,3,2,15343,,,0,"Fix underflow in flat_xor_hd code

Change-Id: I9102f9883e979862557bd33958b2d116795b3169
Closes-Bug: #1726816
",git fetch https://review.opendev.org/openstack/liberasurecode refs/changes/37/794137/2 && git format-patch -1 --stdout FETCH_HEAD,['src/builtin/xor_codes/xor_hd_code.c'],1,47dcddfa8f920f1a164bba8a60b32f7e403d6be5,, if (parity_index > -1) { // Include this parity element // Include all data elements except for this one *data_bm |= (code_desc->parity_bms[parity_index-code_desc->k]); } else { // Include both parity elements // And the data element they didn't have in common *data_bm |= tmp_parity_bm & ~(1 << data_index);, // Include all data elements except for this one *data_bm |= (code_desc->parity_bms[parity_index-code_desc->k]); // Include this parity element if (parity_index > -1) { } else {,6,4
openstack%2Fironic~stable%2Fvictoria~I53314b8f16fd7b965c58370e33ab83501e7cb067,openstack/ironic,stable/victoria,I53314b8f16fd7b965c58370e33ab83501e7cb067,Fix iPXE docs: snponly is not always available,MERGED,2021-07-26 16:38:26.000000000,2021-07-26 21:43:58.000000000,2021-07-26 17:23:56.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 16:38:26.000000000', 'files': ['doc/source/install/configure-pxe.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d09a158cce9f71e94369778dab0d7da157f2bafd', 'message': ""Fix iPXE docs: snponly is not always available\n\nActually, it's only available on RHEL/CentOS 8, but I hope the other\ndistributions will catch up.\n\nChange-Id: I53314b8f16fd7b965c58370e33ab83501e7cb067\n(cherry picked from commit 3199d289bd936bc9ff1a35f39cedbb6d1ba84d9f)\n""}]",0,802345,d09a158cce9f71e94369778dab0d7da157f2bafd,8,2,1,11655,,,0,"Fix iPXE docs: snponly is not always available

Actually, it's only available on RHEL/CentOS 8, but I hope the other
distributions will catch up.

Change-Id: I53314b8f16fd7b965c58370e33ab83501e7cb067
(cherry picked from commit 3199d289bd936bc9ff1a35f39cedbb6d1ba84d9f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/802345/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-pxe.rst'],1,d09a158cce9f71e94369778dab0d7da157f2bafd,ipxe-stable/wallaby-stable/victoria," cp /usr/share/ipxe/{undionly.kpxe,ipxe-x86_64.efi,ipxe-snponly-x86_64.efi} /tftpboot .. note:: ``snponly`` variants may not be available for all distributions. ``snponly.efi`` or ``ipxe-snponly-x86_64.efi`` if it's available for your distribution."," cp /usr/share/ipxe/{undionly.kpxe,ipxe.efi,snponly.efi} /tftpboot ``snponly.efi``.",5,2
openstack%2Fnova~master~I31d4cf5b2d95e451ffb6503d482609a130bb217a,openstack/nova,master,I31d4cf5b2d95e451ffb6503d482609a130bb217a,use cinder v3,MERGED,2021-07-26 16:16:59.000000000,2021-07-26 21:34:42.000000000,2021-07-26 17:51:24.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 16:16:59.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d850a1593a14c0bf33a395c0e0bdc4207a64483', 'message': 'use cinder v3\n\ncinderclient 8.0.0 and above nolonger have v2 module\nthis change remvoe the useage of v2.limits and replaces\nit with v3.limits to make nova comptible with the new release.\n\nChange-Id: I31d4cf5b2d95e451ffb6503d482609a130bb217a\n'}]",0,802334,1d850a1593a14c0bf33a395c0e0bdc4207a64483,12,3,1,11604,,,0,"use cinder v3

cinderclient 8.0.0 and above nolonger have v2 module
this change remvoe the useage of v2.limits and replaces
it with v3.limits to make nova comptible with the new release.

Change-Id: I31d4cf5b2d95e451ffb6503d482609a130bb217a
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/802334/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/volume/test_cinder.py'],1,1d850a1593a14c0bf33a395c0e0bdc4207a64483,python-cinderclient-8.0.0,from cinderclient.v3 import limits as cinder_limits,from cinderclient.v2 import limits as cinder_limits,1,1
openstack%2Ftripleo-validations~master~I5e98c3f9acea1dd045cb979e602dd89f84afeb8d,openstack/tripleo-validations,master,I5e98c3f9acea1dd045cb979e602dd89f84afeb8d,EndpointNotFound is now handled gracefully,MERGED,2021-04-19 11:49:04.000000000,2021-07-26 21:34:39.000000000,2021-07-26 21:30:55.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-19 11:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e9e3b7c0af9c96c2731d2e44225ba37d8c98216c', 'message': 'EndpointNotFound is now handled gracefully\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5e98c3f9acea1dd045cb979e602dd89f84afeb8d\n'}, {'number': 2, 'created': '2021-04-19 11:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/92baf6d883ef820f94c8f422e6be5de285e14973', 'message': 'EndpointNotFound is now handled gracefully\n\nAlso reorders imports.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5e98c3f9acea1dd045cb979e602dd89f84afeb8d\n'}, {'number': 3, 'created': '2021-07-23 12:08:11.000000000', 'files': ['tripleo_validations/utils.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/07fa86619a90b868c122ea143f0594719da4b888', 'message': 'EndpointNotFound is now handled gracefully\n\nAlso reorders imports.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5e98c3f9acea1dd045cb979e602dd89f84afeb8d\n'}]",0,786867,07fa86619a90b868c122ea143f0594719da4b888,11,7,3,32926,,,0,"EndpointNotFound is now handled gracefully

Also reorders imports.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5e98c3f9acea1dd045cb979e602dd89f84afeb8d
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/786867/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/utils.py'],1,e9e3b7c0af9c96c2731d2e44225ba37d8c98216c,exceptions/endpointnotfound,"from keystoneauth1.exceptions import catalog as catalog_exc from keystoneauth1.identity import generic as ks_id except (heat_exc.HTTPNotFound, catalog_exc.EndpointNotFound):",from keystoneauth1.identity import generic as ks_id except heat_exc.HTTPNotFound:,3,2
openstack%2Ftripleo-ci~master~I899fc736da88de337fd4ee62535755e70d61d63c,openstack/tripleo-ci,master,I899fc736da88de337fd4ee62535755e70d61d63c,Future proof ansible test code,MERGED,2021-07-23 15:13:53.000000000,2021-07-26 21:30:54.000000000,2021-07-26 21:30:54.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-07-23 15:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a0829884d5d3f65b6ad7c9b1e6829b1b938d99e5', 'message': 'Future proof ansible test code\n\n- allow us to test code using newer versions of ansible\n- `yaml` callback was removed\n- ini_file module is no longer shipped with code\n\nChange-Id: I899fc736da88de337fd4ee62535755e70d61d63c\n'}, {'number': 2, 'created': '2021-07-23 15:49:52.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml', 'test-requirements.txt', 'roles/build-containers/vars/centos-8.yml', 'roles/tripleo-repos/molecule/default/prepare.yml', '.ansible-lint', '.pre-commit-config.yaml', 'roles/build-containers/tasks/build-report.yaml', 'roles/run-test/tasks/main.yaml', 'roles/tripleo-repos/meta/main.yml', 'zuul.d/standalone-jobs.yaml', 'requirements.yml', 'roles/tripleo-repos/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/599c6aa10140e2ce1fdf47ce2acf6deb2e27b110', 'message': 'Future proof ansible test code\n\n- upgrade ansible-lint and fix reported issues\n- allow us to test code using newer versions of ansible\n- `yaml` callback was removed\n- ini_file module is no longer shipped with code\n\nChange-Id: I899fc736da88de337fd4ee62535755e70d61d63c\n'}]",2,802038,599c6aa10140e2ce1fdf47ce2acf6deb2e27b110,16,8,2,24162,,,0,"Future proof ansible test code

- upgrade ansible-lint and fix reported issues
- allow us to test code using newer versions of ansible
- `yaml` callback was removed
- ini_file module is no longer shipped with code

Change-Id: I899fc736da88de337fd4ee62535755e70d61d63c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/38/802038/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-repos/tasks/main.yml', 'requirements.yml', 'roles/tripleo-repos/molecule/default/molecule.yml']",3,a0829884d5d3f65b6ad7c9b1e6829b1b938d99e5,ansible-test,, env: ANSIBLE_STDOUT_CALLBACK: yaml,11,11
openstack%2Ftripleo-heat-templates~master~I4310b5fd0229f413f5b102ce73c537b41b6857b4,openstack/tripleo-heat-templates,master,I4310b5fd0229f413f5b102ce73c537b41b6857b4,DNM - Testing multinode-ipa stability- master,ABANDONED,2020-09-17 15:54:10.000000000,2021-07-26 21:09:39.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-17 15:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f246dd1ec01eb44018ea296ef3751632ff56bbf6', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 2, 'created': '2020-09-17 15:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e37866260b8834cf1ad49ff92f275bd1b93c0be9', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 3, 'created': '2020-09-17 15:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3175309fbee5bbcdbdd2af540948265f18c449f2', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 4, 'created': '2020-09-17 16:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/426c8c529fba991aa47e7915765487eca3a82787', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 5, 'created': '2020-09-17 16:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/754c5ba1ce628692236baed1f36d5e25208cb4e0', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 6, 'created': '2020-09-18 18:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cd1699a916c40f319341bf6c01a140eee098ee2', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 7, 'created': '2020-09-21 12:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3007fcc387f7df71d4b4ea8aab1d803d3036af4e', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 8, 'created': '2020-09-23 21:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c233db8bd96b414e5b0a1e2293c90de079913582', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 9, 'created': '2020-09-23 21:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6966a381b855a4fe8754549f2896e39d6a0c859a', 'message': 'DNM - Testing multinode-ipa stability\n\nDepends-On:  https://review.opendev.org/#/c/753856\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 10, 'created': '2020-09-24 12:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6530f764c4720f1211462432eed691ad90ee0c7', 'message': 'DNM - Testing multinode-ipa stability\n\nDepends-On: https://review.opendev.org/#/c/753856\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 11, 'created': '2020-09-24 12:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a457798672ec4a30d93040cb3949d78328aadba', 'message': 'DNM - Testing multinode-ipa stability- master\n\nDepends-On: https://review.opendev.org/#/c/753856\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 12, 'created': '2020-09-29 12:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0831e3511935930e24915ff63c243756cfa7f75f', 'message': 'DNM - Testing multinode-ipa stability- master\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 13, 'created': '2020-09-29 12:13:43.000000000', 'files': ['ci/environments/standalone-ipa.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1675b825886c7e84feabb11870452fba349a2181', 'message': 'DNM - Testing multinode-ipa stability- master\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}]",0,752495,1675b825886c7e84feabb11870452fba349a2181,38,3,13,9976,,,0,"DNM - Testing multinode-ipa stability- master

Change-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/752495/9 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/standalone-ipa.yaml', 'zuul.d/layout.yaml']",2,f246dd1ec01eb44018ea296ef3751632ff56bbf6,test-ipa-voting,, - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - check-requirements - release-notes-jobs-python3 - tripleo-standalone-scenarios-full - openstack-python3-ussuri-jobs,1,6
openstack%2Ftripleo-heat-templates~master~I24ea7cc49b88c37c72a770d8d54172287edec415,openstack/tripleo-heat-templates,master,I24ea7cc49b88c37c72a770d8d54172287edec415,DNM - Testing container updates info,ABANDONED,2021-07-14 19:30:36.000000000,2021-07-26 21:09:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-14 19:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0aed55f2c10054aab3d426cf02adcd8ed868d1d', 'message': 'DNM - Testing container updates info\n\nChange-Id: I24ea7cc49b88c37c72a770d8d54172287edec415\n'}, {'number': 2, 'created': '2021-07-18 20:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97ff6ad64001025f3ac217ec37ff49a3f1c0e8f8', 'message': 'DNM - Testing container updates info\n\nChange-Id: I24ea7cc49b88c37c72a770d8d54172287edec415\n'}, {'number': 3, 'created': '2021-07-18 20:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea86d3eae1d771cc90dee613d4f393dc44d5adbf', 'message': 'DNM - Testing container updates info\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-tripleo-modify-image/+/793234\nChange-Id: I24ea7cc49b88c37c72a770d8d54172287edec415\n'}, {'number': 4, 'created': '2021-07-22 02:16:07.000000000', 'files': ['ci/network_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43e16809e00685a88109dfb14208e7455bbdde51', 'message': 'DNM - Testing container updates info\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-tripleo-modify-image/+/793234\nChange-Id: I24ea7cc49b88c37c72a770d8d54172287edec415\n'}]",0,800826,43e16809e00685a88109dfb14208e7455bbdde51,11,2,4,9976,,,0,"DNM - Testing container updates info

Depends-On: https://review.opendev.org/c/openstack/ansible-role-tripleo-modify-image/+/793234
Change-Id: I24ea7cc49b88c37c72a770d8d54172287edec415
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/800826/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/network_data.yaml'],1,a0aed55f2c10054aab3d426cf02adcd8ed868d1d,dnm-container-testing,# Test,,1,0
openstack%2Ftripleo-quickstart-extras~master~Icfe7bcf57a6a65f677e23167ce185fe81ea0e284,openstack/tripleo-quickstart-extras,master,Icfe7bcf57a6a65f677e23167ce185fe81ea0e284,Save tripleo-deploy reproducer script,MERGED,2021-07-19 12:25:36.000000000,2021-07-26 21:02:46.000000000,2021-07-26 21:02:46.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-19 12:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c9e08d67e809aad377a3e26750a6e11e5bca4491', 'message': 'Save tripleo-deploy reproducer script\n\nWhen running standalone save ansible reproducer script.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/801293\nChange-Id: Icfe7bcf57a6a65f677e23167ce185fe81ea0e284\n'}, {'number': 2, 'created': '2021-07-19 20:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2c82981e8af4a20e3eb6828459c64a10ebd9db8', 'message': 'Save tripleo-deploy reproducer script\n\nWhen running standalone save ansible reproducer script.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/801293\nChange-Id: Icfe7bcf57a6a65f677e23167ce185fe81ea0e284\n'}, {'number': 3, 'created': '2021-07-20 12:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2a8827f7b73bc4784a451825761870d7d6da8875', 'message': 'Save tripleo-deploy reproducer script\n\nWhen running standalone save ansible reproducer script.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/801293\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/801383\nChange-Id: Icfe7bcf57a6a65f677e23167ce185fe81ea0e284\n'}, {'number': 4, 'created': '2021-07-21 14:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f3fd970d7bf7fb2102e3ddf9b7121365b141c3a', 'message': 'Save tripleo-deploy reproducer script\n\nWhen running standalone save ansible reproducer script.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/801293\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/801383\nChange-Id: Icfe7bcf57a6a65f677e23167ce185fe81ea0e284\n'}, {'number': 5, 'created': '2021-07-25 20:00:37.000000000', 'files': ['roles/standalone/tasks/standalone-install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a171d82cc70b5d368aa84cc55f3e2898937d26a4', 'message': 'Save tripleo-deploy reproducer script\n\nWhen running standalone save ansible reproducer script.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/801293\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/801383\nChange-Id: Icfe7bcf57a6a65f677e23167ce185fe81ea0e284\n'}]",2,801295,a171d82cc70b5d368aa84cc55f3e2898937d26a4,27,5,5,10969,,,0,"Save tripleo-deploy reproducer script

When running standalone save ansible reproducer script.

Depends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/801293
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/801383
Change-Id: Icfe7bcf57a6a65f677e23167ce185fe81ea0e284
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/95/801295/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/standalone-install.yml'],1,c9e08d67e809aad377a3e26750a6e11e5bca4491,repro, tripleo_deploy_reproducer_command: true,,2,0
openstack%2Fpuppet-vswitch~master~I8b5fd6c71a0d9876fee826e3ae3cb6ff0240bf09,openstack/puppet-vswitch,master,I8b5fd6c71a0d9876fee826e3ae3cb6ff0240bf09,DNM: testing ci,ABANDONED,2021-07-21 19:11:02.000000000,2021-07-26 21:02:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-21 19:11:02.000000000', 'files': ['lib/puppet/provider/vs_bridge/ovs.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/48e019b11d3ee6671ce8ebd2f3bb202edc50818f', 'message': 'DNM: testing ci\n\nChange-Id: I8b5fd6c71a0d9876fee826e3ae3cb6ff0240bf09\n'}]",0,801651,48e019b11d3ee6671ce8ebd2f3bb202edc50818f,3,1,1,14985,,,0,"DNM: testing ci

Change-Id: I8b5fd6c71a0d9876fee826e3ae3cb6ff0240bf09
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/51/801651/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/vs_bridge/ovs.rb'],1,48e019b11d3ee6671ce8ebd2f3bb202edc50818f,testing,#test,,1,0
openstack%2Foslo.config~master~I734c4da2f4ebe2a7f6b79681b60bd7daad78bd1e,openstack/oslo.config,master,I734c4da2f4ebe2a7f6b79681b60bd7daad78bd1e,Add etcd3 driver,ABANDONED,2021-04-08 14:47:10.000000000,2021-07-26 21:01:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-08 14:47:10.000000000', 'files': ['oslo_config/tests/test_sources.py', 'releasenotes/notes/etcd3-backend-driver-89d0898f82f239c5.yaml', 'setup.cfg', 'oslo_config/sources/_etcd3.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/cc88ed8dcdf9e96a593d301694a53e455c695a6d', 'message': 'Add etcd3 driver\n\nThis driver uses python-etcd3 which is an alternate driver to etcd3gw.\nThe etcd3 driver is not eventlet friendly but offers user/password\nauthentication.\n\nChange-Id: I734c4da2f4ebe2a7f6b79681b60bd7daad78bd1e\n'}]",1,785428,cc88ed8dcdf9e96a593d301694a53e455c695a6d,4,1,1,14985,,,0,"Add etcd3 driver

This driver uses python-etcd3 which is an alternate driver to etcd3gw.
The etcd3 driver is not eventlet friendly but offers user/password
authentication.

Change-Id: I734c4da2f4ebe2a7f6b79681b60bd7daad78bd1e
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/28/785428/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_sources.py', 'releasenotes/notes/etcd3-backend-driver-89d0898f82f239c5.yaml', 'setup.cfg', 'oslo_config/sources/_etcd3.py']",4,cc88ed8dcdf9e96a593d301694a53e455c695a6d,etcd,"# Copyright 2020 Red Hat, Inc. # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. r"""""" Etcd3 ----- The **etcd3* backend driver is an optional driver that leverages etcd3 to fetch configuation values from an etcd cluster. NOTE: This uses the etcd3 library which may not be compatible with eventlet. The usage of etcd3gw is recommended. Here is an example etcd source configuration:: [DEFAULT] config_source = external_config_group [external_config_group] driver = etcd3 base_key = /myhost/myservice host = 127.0.0.1 The Driver Class ================ .. autoclass:: Etcd3ConfigurationSourceDriver The Configuration Source Class ============================== .. autoclass:: Etcd3ConfigurationSource """""" try: import etcd3 except ImportError: etcd3 = None from oslo_config import cfg from oslo_config import sources class Etcd3ConfigurationSourceDriver(sources.ConfigurationSourceDriver): """"""A backend driver for etcd configurations Required options: - host: IP or DNS entry to access the etcd cluster - port: Port to access the etcd cluster - base_key: A prefix for the configuration key values in etcd Optional options: - ca_cert: The path to the CA certificate - client_cert: The path to the client certificate - client_key: The path to the client certificate key - timeout: Timeout value for requests - user: Client username for authentication - password: Client password for authentication - grpc_options: A dictionary of grcp options """""" _etcd_driver_opts = [ cfg.StrOpt( 'host', required=True, sample_default='127.0.0.1', help=('IP or DNS entry to access the etcd cluster.'), ), cfg.IntOpt( 'port', required=True, default=2379, help=('Port to access the etcd cluster.'), ), cfg.StrOpt( 'base_key', required=True, sample_default='/service', help=('A prefix for teh configuration key value in etcd.'), ), cfg.StrOpt( 'ca_cert', sample_default='/etc/etcd/ca.crt', help=('The path to the CA certificate.'), ), cfg.StrOpt( 'client_cert', sample_default='/etc/etcd/client_cert.crt', help=('The path to a client certificate for authentication.'), ), cfg.StrOpt( 'client_key', sample_default='/etc/etcd/client_key.crt', help=('The path to a client certificate key for authentication.'), ), cfg.IntOpt( 'timeout', help=('Timeout value for requests.'), ), cfg.StrOpt( 'user', help=('Client username for authentication.'), ), cfg.StrOpt( 'password', help=('Client password for authentication.'), ), cfg.DictOpt( 'grpc_options', help=('Dictionary of grcp options.'), ), ] def list_options_for_discovery(self): return self._etcd_driver_opts def open_source_from_opt_group(self, conf, group_name): if etcd3 is None: raise ImportError(""etcd3 is required but is unavailable"") conf.register_opts(self._etcd_driver_opts, group_name) return Etcd3ConfigurationSource( conf[group_name].host, conf[group_name].port, conf[group_name].base_key, conf[group_name].ca_cert, conf[group_name].client_cert, conf[group_name].client_key, conf[group_name].timeout, conf[group_name].user, conf[group_name].password, conf[group_name].grpc_options) class Etcd3ConfigurationSource(sources.ConfigurationSource): """"""A configuration source for etcd. :param host: :param port: :param base_key: :param ca_cert: :param client_cert: :param client_key: :param timeout: :param user: :param password: :param grpc_options: """""" _client = None _base_key = None def __init__(self, host, port, base_key=None, ca_cert=None, client_cert=None, client_key=None, timeout=None, user=None, password=None, grpc_options=None,): self._client = etcd3.client(host=host, port=port, ca_cert=ca_cert, cert_key=client_key, cert_cert=client_cert, timeout=timeout, user=user, password=password, grpc_options=grpc_options) self._base_key = base_key def get(self, group_name, option_name, opt): key = [group_name, option_name] if self._base_key: key.insert(0, self._base_key) val, meta = self._client.get('/'.join(key)) # if meta is none, there is no value in etcd3 if meta is None: return (sources._NoValue, None) loc = cfg.LocationInfo(cfg.Locations.environment, key) if opt.multi: # TODO(mwhahaha): handle multi pass return (val, loc) ",,286,0
openstack%2Foslo.config~master~I806c6f8c657ea019ef017d89a57020fbd5a1ea48,openstack/oslo.config,master,I806c6f8c657ea019ef017d89a57020fbd5a1ea48,Add etcd3gw driver,ABANDONED,2021-04-06 15:24:47.000000000,2021-07-26 21:01:25.000000000,,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 15:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/c8a25a8b5cc0eebbc86dbcd9676351f303743c6f', 'message': ""Add etcd driver\n\nBack in the Queens time frame, there was discussion around adding an etcd\nbackend for oslo.config.  Plugable drivers were implemented but we never\nimplemented an etcd driver. This change adds a basic etcd driver that\nleverages the etcd3 library if it's available. If it's not available,\nthe driver will fail to load and the other configuration backends will\ntake over.\n\nChange-Id: I806c6f8c657ea019ef017d89a57020fbd5a1ea48\n""}, {'number': 2, 'created': '2021-04-07 13:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/92db1c2f57003e3c8de695ca018bc58b5f7049c2', 'message': ""Add etcd driver\n\nBack in the Queens time frame, there was discussion around adding an etcd\nbackend for oslo.config.  Plugable drivers were implemented but we never\nimplemented an etcd driver. This change adds a basic etcd driver that\nleverages the etcd3 library if it's available. If it's not available,\nthe driver will fail to load and the other configuration backends will\ntake over.\n\nChange-Id: I806c6f8c657ea019ef017d89a57020fbd5a1ea48\n""}, {'number': 3, 'created': '2021-04-07 14:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/17e062d585358cb6ff6d54663fa12815f5e9a013', 'message': ""Add etcd driver\n\nBack in the Queens time frame, there was discussion around adding an etcd\nbackend for oslo.config.  Plugable drivers were implemented but we never\nimplemented an etcd driver. This change adds a basic etcd driver that\nleverages the etcd3 library if it's available. If it's not available,\nthe driver will fail to load and the other configuration backends will\ntake over.\n\nChange-Id: I806c6f8c657ea019ef017d89a57020fbd5a1ea48\n""}, {'number': 4, 'created': '2021-04-08 14:47:10.000000000', 'files': ['oslo_config/tests/test_sources.py', 'oslo_config/sources/_etcd3gw.py', 'releasenotes/notes/etcd3gw-backend-driver-21454b21fedaa354.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/633be1358c0fa3332c301a3977eb40dc6cb040f1', 'message': ""Add etcd3gw driver\n\nBack in the Queens time frame, there was discussion around adding an\netcd3gw backend for oslo.config.  Plugable drivers were implemented\nbut we never implemented an etcd driver. This change adds a basic\netcd3gw driver that leverages the etcd3 library if it's available.\nIf it's not available, the driver will fail to load and the other\nconfiguration backends will take over.\n\nChange-Id: I806c6f8c657ea019ef017d89a57020fbd5a1ea48\n""}]",4,784973,633be1358c0fa3332c301a3977eb40dc6cb040f1,14,3,4,14985,,,0,"Add etcd3gw driver

Back in the Queens time frame, there was discussion around adding an
etcd3gw backend for oslo.config.  Plugable drivers were implemented
but we never implemented an etcd driver. This change adds a basic
etcd3gw driver that leverages the etcd3 library if it's available.
If it's not available, the driver will fail to load and the other
configuration backends will take over.

Change-Id: I806c6f8c657ea019ef017d89a57020fbd5a1ea48
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/73/784973/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_sources.py', 'oslo_config/sources/_etcd.py', 'setup.cfg']",3,c8a25a8b5cc0eebbc86dbcd9676351f303743c6f,etcd, etcd = oslo_config.sources._etcd:EtcdConfigurationSourceDriver,,272,0
openstack%2Fpuppet-tripleo~master~I4d31e9b1e411ceeda7cc874f0186213e9d6f8636,openstack/puppet-tripleo,master,I4d31e9b1e411ceeda7cc874f0186213e9d6f8636,[WIP] Add an etcd resource override function,ABANDONED,2021-04-06 21:29:35.000000000,2021-07-26 21:00:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 21:29:35.000000000', 'files': ['lib/puppet/functions/etcd_resource.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/247d16878df6921bd8a36d57eea84b093a5a62f1', 'message': '[WIP] Add an etcd resource override function\n\nWe may want to optionally convert openstack configurations to use etcd\nrather than files. The easiest way to do this universally would be to\ncreate a puppet function that we can use to swap out the existing\nopenstack_config base puppet providers for one that uses etcd. This\nfunction swaps out the provided resource type for an etcd based\nprovider with the given connection information.\n\nThis patch builds off of the previous work in\nI51e9e50adc21fcb5ec0450fe3d0e4ec5f741d4da\n\nChange-Id: I4d31e9b1e411ceeda7cc874f0186213e9d6f8636\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n'}]",0,785051,247d16878df6921bd8a36d57eea84b093a5a62f1,4,2,1,14985,,,0,"[WIP] Add an etcd resource override function

We may want to optionally convert openstack configurations to use etcd
rather than files. The easiest way to do this universally would be to
create a puppet function that we can use to swap out the existing
openstack_config base puppet providers for one that uses etcd. This
function swaps out the provided resource type for an etcd based
provider with the given connection information.

This patch builds off of the previous work in
I51e9e50adc21fcb5ec0450fe3d0e4ec5f741d4da

Change-Id: I4d31e9b1e411ceeda7cc874f0186213e9d6f8636
Co-Authored-By: Emilien Macchi <emilien@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/51/785051/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/functions/etcd_resource.rb'],1,247d16878df6921bd8a36d57eea84b093a5a62f1,etcd,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'etcdv3' class Puppet::Provider::Etcd < Puppet::Provider confine feature: :etcdv3 def initialize(*args) @uri = ""http://#{etcd_host}:#{etcd_port}"" if !etcd_user.nil? @client = Etcdv3.new(endpoints: @uri, user: etcd_user, password: etcd_pass) else @client = Etcdv3.new(endpoints: @uri) end super(*args) end def self.instances if !self.respond_to?(:project_name) and !self.respond_to?(:base_key) raise(Puppet::Error, 'OpenStackConfig only support collecting instances when a project_name ' + 'is hard coded' ) end end def self.namevar(section_name, setting) ""#{section_name}/#{setting}"" end def get_key(section, setting) if self.respond_to?(:base_key) prefix = base_key else prefix = '/' + project_name end [prefix, section, setting].join('/') end def value val = @client.get(get_key(section, setting)) if val.kvs.length > 0 ret = val.kvs.shift().value else ret = nil end ret end def value=(value) @client.put(get_key(section, setting), value) value end def exists? immutable_string = Facter.value(:os_immutable) || '<_IMMUTABLE_>' #output_get = @client.get(get_key(section, setting)) if resource[:value] == ensure_absent_val resource[:ensure] = :absent elsif resource[:value] == immutable_string or resource[:value] == [immutable_string] resource[:value] = value if value.nil? or (value.kind_of?(array) and value[0].nil?) resource[:ensure] = :absent end end @client.get(get_key(section, setting)).kvs.length > 0 end def create @client.put(get_key(section, setting), resource[:value]) @client = nil resource[:value] end def destroy @client.del(get_key(section, setting)) @client = nil end def ensure_absent_val resource[:ensure_absent_val] end def section resource[:name].split('/', 2).first end def setting resource[:name].split('/', 2).last end def project_name self.class.project_name end end Puppet::Functions.create_function(:etcd_resource) do # https://puppet.com/docs/puppet/5.5/functions_ruby_signatures.html#writing-signatures-with-dispatch dispatch :etcd_resource do param 'String', :res param 'String', :host param 'Integer', :port param 'String', :key optional_param 'String', :user optional_param 'String', :pass end def etcd_resource(res, host, port, key, user=nil, pass=nil) Puppet::Type.type(res.downcase.to_sym).provide(:etcd, :parent => Puppet::Provider::Etcd) do @@port = port @@host = host @@key = key @@user = user @@pass = pass defaultfor :osfamily => :redhat def etcd_host @@host end def etcd_port @@port end def base_key @@key end def etcd_user @@user end def etcd_pass @@pass end end return true end end ",,149,0
openstack%2Ftripleo-ansible~master~I2b3be73db82b7697a4a535c99fde4da75392a02c,openstack/tripleo-ansible,master,I2b3be73db82b7697a4a535c99fde4da75392a02c,Switch roles to include role,ABANDONED,2021-01-22 17:42:53.000000000,2021-07-26 20:59:49.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-22 17:42:53.000000000', 'files': ['tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3dce83afa31b7ccb68a6f29d3a197c2809afc1d2', 'message': ""Switch roles to include role\n\nIn looking through the log outputs, I noticed that this role was the\nonly one where the task name wasn't properly rendered. Switch to\ninclude_role to see if that addresses it.\n\nChange-Id: I2b3be73db82b7697a4a535c99fde4da75392a02c\nRelated-Bug: #1912797\n""}]",0,772075,3dce83afa31b7ccb68a6f29d3a197c2809afc1d2,7,3,1,14985,,,0,"Switch roles to include role

In looking through the log outputs, I noticed that this role was the
only one where the task name wasn't properly rendered. Switch to
include_role to see if that addresses it.

Change-Id: I2b3be73db82b7697a4a535c99fde4da75392a02c
Related-Bug: #1912797
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/772075/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'],1,3dce83afa31b7ccb68a6f29d3a197c2809afc1d2,fix-names," tasks: - include_role: name: tripleo_create_admin vars: tripleo_admin_user: tripleo-admin tripleo_admin_pubkey: ""{{ user_public_key }}"" tripleo_admin_prikey: ""{{ user_private_key }}"""," roles: - role: tripleo_create_admin tripleo_admin_user: tripleo-admin tripleo_admin_pubkey: ""{{ user_public_key }}"" tripleo_admin_prikey: ""{{ user_private_key }}""",7,5
